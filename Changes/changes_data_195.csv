id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkolla~master~I31a8c675323f367a2d59bfb31644ee5b4b44e3f2,openstack/kolla,master,I31a8c675323f367a2d59bfb31644ee5b4b44e3f2,Deprecate Prometheus 1.x,MERGED,2021-03-02 15:33:20.000000000,2021-03-04 14:23:12.000000000,2021-03-04 14:17:14.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-03-02 15:33:20.000000000', 'files': ['releasenotes/notes/deprecate-prometheus-v1-1bc1af0a10af4546.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/94916d9bf446881193e3c77a3de8ebb2028d2dd4', 'message': 'Deprecate Prometheus 1.x\n\nDeprecates support for Prometheus v1.x.\nIn Xena support for this image will be removed from Kolla.\n\nChange-Id: I31a8c675323f367a2d59bfb31644ee5b4b44e3f2\n'}]",0,778206,94916d9bf446881193e3c77a3de8ebb2028d2dd4,9,4,1,32657,,,0,"Deprecate Prometheus 1.x

Deprecates support for Prometheus v1.x.
In Xena support for this image will be removed from Kolla.

Change-Id: I31a8c675323f367a2d59bfb31644ee5b4b44e3f2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/778206/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-prometheus-v1-1bc1af0a10af4546.yaml'],1,94916d9bf446881193e3c77a3de8ebb2028d2dd4,deprecate-prometheus-v1,--- deprecations: - | Deprecates support for Prometheus v1.x. In Xena release cycle support for this image will be removed from Kolla. ,,5,0
openstack%2Fopenstacksdk~master~I445774a8af60a75c6b936d25fbab858233c632e9,openstack/openstacksdk,master,I445774a8af60a75c6b936d25fbab858233c632e9,add masakari enabled to segment,MERGED,2021-02-24 06:16:42.000000000,2021-03-04 14:07:46.000000000,2021-03-04 13:20:25.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-02-24 06:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3df2c3137093968dbef164ecca1f9c3977ef70ed', 'message': 'add masakari enabled to segment\n\nAdd \'enabled\' to Masakari segment in microversion 1.2.\nIt returns ""enabled"" flag in segments API.\n\nChange-Id: I445774a8af60a75c6b936d25fbab858233c632e9\n'}, {'number': 2, 'created': '2021-02-24 06:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d8b8204693c66c736c5fdd0f2fa47fb66cc7bfde', 'message': 'add masakari enabled to segment\n\nAdd \'enabled\' to Masakari segment in microversion 1.2.\nIt returns ""enabled"" flag in segments API.\n\nChange-Id: I445774a8af60a75c6b936d25fbab858233c632e9\n'}, {'number': 3, 'created': '2021-03-02 11:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0f6909176012d322e68769001badb3e23ee5010c', 'message': 'add masakari enabled to segment\n\nAdd \'enabled\' to Masakari segment in microversion 1.2.\nIt returns ""enabled"" flag in segments API.\n\nChange-Id: I445774a8af60a75c6b936d25fbab858233c632e9\n'}, {'number': 4, 'created': '2021-03-04 01:51:21.000000000', 'files': ['releasenotes/notes/add-masakari-enabled-to-segment-0e83da869d2ab03f.yaml', 'openstack/instance_ha/v1/segment.py', 'openstack/tests/unit/instance_ha/v1/test_segment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/736f3aa16c7ee95eb5a42f28062305c83cfd05e1', 'message': 'add masakari enabled to segment\n\nAdd \'enabled\' to Masakari segment in microversion 1.2.\nIt returns ""enabled"" flag in segments API.\n\nChange-Id: I445774a8af60a75c6b936d25fbab858233c632e9\n'}]",13,777299,736f3aa16c7ee95eb5a42f28062305c83cfd05e1,23,9,4,24501,,,0,"add masakari enabled to segment

Add 'enabled' to Masakari segment in microversion 1.2.
It returns ""enabled"" flag in segments API.

Change-Id: I445774a8af60a75c6b936d25fbab858233c632e9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/99/777299/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-masakari-enabled-to-segment-0e83da869d2ab03f.yaml', 'openstack/instance_ha/v1/segment.py', 'openstack/tests/unit/instance_ha/v1/test_segment.py']",3,3df2c3137093968dbef164ecca1f9c3977ef70ed,," ""service_type"": ""COMPUTE_HOST"", ""enabled"": True self.assertEqual(SEGMENT[""enabled""], sot.enabled)"," ""service_type"": ""COMPUTE_HOST""",9,2
openstack%2Ftripleo-heat-templates~master~I2c9cf50363579d4e18aaeaf783770ca7a4266622,openstack/tripleo-heat-templates,master,I2c9cf50363579d4e18aaeaf783770ca7a4266622,Add environments to disable Heat and Neutron,MERGED,2021-02-23 22:39:30.000000000,2021-03-04 13:55:35.000000000,2021-03-04 13:47:30.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-23 22:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cac48649fcb8405064855270e091f7065fcc1a59', 'message': 'Add environments to disable Heat and Neutron\n\nThese environments will be used by the undercloud install to selectively\ndisable these services as needed.\n\nChange-Id: I2c9cf50363579d4e18aaeaf783770ca7a4266622\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-03-02 12:47:22.000000000', 'files': ['releasenotes/notes/add-envs-disable-neutron-heat-6f031e2a4058a581.yaml', 'environments/disable-neutron.yaml', 'environments/disable-heat.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59afff0c06cc54dcfaaed7584ff6f17b8e55798d', 'message': 'Add environments to disable Heat and Neutron\n\nThese environments will be used by the undercloud install to selectively\ndisable these services as needed.\n\nChange-Id: I2c9cf50363579d4e18aaeaf783770ca7a4266622\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,777250,59afff0c06cc54dcfaaed7584ff6f17b8e55798d,18,7,2,7144,,,0,"Add environments to disable Heat and Neutron

These environments will be used by the undercloud install to selectively
disable these services as needed.

Change-Id: I2c9cf50363579d4e18aaeaf783770ca7a4266622
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/777250/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-envs-disable-neutron-heat-6f031e2a4058a581.yaml', 'environments/disable-neutron.yaml', 'environments/disable-heat.yaml']",3,cac48649fcb8405064855270e091f7065fcc1a59,ephemeral-heat,resource_registry: OS::TripleO::Services::HeatApi: OS::Heat::None OS::TripleO::Services::HeatApiCfn: OS::Heat::None OS::TripleO::Services::HeatApiCloudwatch: OS::Heat::None OS::TripleO::Services::HeatEngine: OS::Heat::None ,,40,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I5fca006e529809ace8d348735f1e10c57ef90e6b,openstack/tripleo-heat-templates,stable/victoria,I5fca006e529809ace8d348735f1e10c57ef90e6b,Make content provider depend on tox-pep8/tht on check layout,MERGED,2021-03-03 09:38:03.000000000,2021-03-04 13:46:24.000000000,2021-03-04 13:46:24.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 09:38:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f022663d4ea0b647591d26e9a98e0eea1b074f0b', 'message': ""Make content provider depend on tox-pep8/tht on check layout\n\nAs part of [1] - optimize the zuul layout so that content-provider\ndoesn't run if openstack-tox-pep8 and openstack-tox-tht are not\ngreen.\n\nThese jobs are voting so they block us anyway, may as well\nsave running anything else if these small jobs aren't complete\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I5fca006e529809ace8d348735f1e10c57ef90e6b\n(cherry picked from commit b5d5b7dc2bf2f8b7518e68ae3342dc130b8209d6)\n""}]",0,778392,f022663d4ea0b647591d26e9a98e0eea1b074f0b,9,4,1,8449,,,0,"Make content provider depend on tox-pep8/tht on check layout

As part of [1] - optimize the zuul layout so that content-provider
doesn't run if openstack-tox-pep8 and openstack-tox-tht are not
green.

These jobs are voting so they block us anyway, may as well
save running anything else if these small jobs aren't complete

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I5fca006e529809ace8d348735f1e10c57ef90e6b
(cherry picked from commit b5d5b7dc2bf2f8b7518e68ae3342dc130b8209d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/778392/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f022663d4ea0b647591d26e9a98e0eea1b074f0b,tripleo-ci-reduce, - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-pep8 - openstack-tox-tht,,4,0
openstack%2Ftripleo-heat-templates~master~I1ff03d51546f0165ac0d9d6be27b653ed78b3cb2,openstack/tripleo-heat-templates,master,I1ff03d51546f0165ac0d9d6be27b653ed78b3cb2,Remove resource provider during nova-compute scale down,ABANDONED,2020-08-17 11:26:34.000000000,2021-03-04 13:45:37.000000000,,"[{'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 11:26:34.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94eb56befa4b00b56c141e07128da1b78ebabcad', 'message': 'Remove resource provider during nova-compute scale down\n\nWhen a compute node is added to an OpenStack cluster, the following two\nrecords are automatically registered.\n - service record in nova\n - resource provider record in placement\n\nThis patch introduces cleanup tasks to remove resource provider records\nduring scale down task of nova-compute, so that no resource provider\nrecords are left after compute nodes are removed.\nThis is required especially when operators want to add compute nodes\nwith the same hostnames as the removed ones, because these stale\nresource provider records prevent newly deployed nodes from joinig the\ncluster.\n\nChange-Id: I1ff03d51546f0165ac0d9d6be27b653ed78b3cb2\nCloses-Bug: #1884374\n'}]",0,746482,94eb56befa4b00b56c141e07128da1b78ebabcad,5,3,1,9816,,,0,"Remove resource provider during nova-compute scale down

When a compute node is added to an OpenStack cluster, the following two
records are automatically registered.
 - service record in nova
 - resource provider record in placement

This patch introduces cleanup tasks to remove resource provider records
during scale down task of nova-compute, so that no resource provider
records are left after compute nodes are removed.
This is required especially when operators want to add compute nodes
with the same hostnames as the removed ones, because these stale
resource provider records prevent newly deployed nodes from joinig the
cluster.

Change-Id: I1ff03d51546f0165ac0d9d6be27b653ed78b3cb2
Closes-Bug: #1884374
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/746482/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,94eb56befa4b00b56c141e07128da1b78ebabcad,bug/1884374," - name: List all allocations command: openstack resource provider show {{ nova_compute_service[0].ID }} --allocations --column allocations --format yaml register: resource_provider_allocations_result delegate_to: localhost check_mode: no - name: Set fact for allocations set_fact: resource_provider_allocations: ""{{ resource_provider_allocations_result | from_yaml }"" delegate_to: localhost check_mode: no - name: Cleanup allocations command: openstack --os-placement-api-version 1.12 resource provider allocation unset --provider {{ nova_compute_service[0].ID }} {{item}} with_items: resource_provider_allocations.allocations delegate_to: localhost check_mode: no - name: Delete resource provider command: openstack resource provider delete {{ nova_compute_service[0].ID }} delegate_to: localhost check_mode: no",,20,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I9751aa9b6739e8083103791579c1d5a71b938b0b,openstack/tripleo-ansible,stable/ussuri,I9751aa9b6739e8083103791579c1d5a71b938b0b,Fix triple molecule modules job,MERGED,2021-03-03 03:36:56.000000000,2021-03-04 13:29:11.000000000,2021-03-04 13:29:11.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 03:36:56.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c9dbcc0cd119be51d2c3a7107becdcdbc736147', 'message': 'Fix triple molecule modules job\n\nRemove --detach when not starting container.\nChange-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b\n(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)\n'}]",0,778243,4c9dbcc0cd119be51d2c3a7107becdcdbc736147,7,3,1,10969,,,0,"Fix triple molecule modules job

Remove --detach when not starting container.
Change-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b
(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/778243/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",2,4c9dbcc0cd119be51d2c3a7107becdcdbc736147,fix11-stable/ussuri," 'absent', 'present', 'stopped', 'started', 'created']), if action == 'create': b_command.remove(b'--detach=True') if self.running: self.stop() self.delete() self.create() def recreate_run(self): """"""Recreate and run the container."""""" if self.running: self.stop() if self.container.exists and self.restart: if self.container.running: self.container.restart() self.results['actions'].append('restarted %s' % self.container.name) else: self.container.start() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() return self.container.recreate_run() self.container.recreate_run() def make_created(self): """"""Run actions if desired state is 'created'."""""" if not self.container.exists and not self.image: self.module.fail_json(msg='Cannot create container when image' ' is not specified!') if not self.container.exists: self.container.create() self.results['actions'].append('created %s' % self.container.name) self.update_container_result() return else: if (self.container.different or self.recreate): self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() return self.update_container_result(changed=False) return 'stopped': self.make_stopped, 'created': self.make_created,"," 'absent', 'present', 'stopped', 'started']), self.container.recreate() self.container.recreate() 'stopped': self.make_stopped",55,6
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I5fca006e529809ace8d348735f1e10c57ef90e6b,openstack/tripleo-heat-templates,stable/ussuri,I5fca006e529809ace8d348735f1e10c57ef90e6b,Make content provider depend on tox-pep8/tht on check layout,MERGED,2021-03-03 09:48:03.000000000,2021-03-04 13:25:31.000000000,2021-03-04 13:25:31.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 09:48:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f54ca25068fdc39225460057f2904c17e0d3543e', 'message': ""Make content provider depend on tox-pep8/tht on check layout\n\nAs part of [1] - optimize the zuul layout so that content-provider\ndoesn't run if openstack-tox-pep8 and openstack-tox-tht are not\ngreen.\n\nThese jobs are voting so they block us anyway, may as well\nsave running anything else if these small jobs aren't complete\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I5fca006e529809ace8d348735f1e10c57ef90e6b\n(cherry picked from commit b5d5b7dc2bf2f8b7518e68ae3342dc130b8209d6)\n""}]",0,778394,f54ca25068fdc39225460057f2904c17e0d3543e,12,4,1,8449,,,0,"Make content provider depend on tox-pep8/tht on check layout

As part of [1] - optimize the zuul layout so that content-provider
doesn't run if openstack-tox-pep8 and openstack-tox-tht are not
green.

These jobs are voting so they block us anyway, may as well
save running anything else if these small jobs aren't complete

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I5fca006e529809ace8d348735f1e10c57ef90e6b
(cherry picked from commit b5d5b7dc2bf2f8b7518e68ae3342dc130b8209d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/778394/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f54ca25068fdc39225460057f2904c17e0d3543e,tripleo-ci-reduce, - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-pep8 - openstack-tox-tht ,,5,0
openstack%2Fpython-openstackclient~master~I670ff5109522d533ef4e62a79116e49a35c4e8fa,openstack/python-openstackclient,master,I670ff5109522d533ef4e62a79116e49a35c4e8fa,compute: Improve 'server create --nic' option parsing,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 13:25:10.000000000,2021-03-04 13:21:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f83c15d109893f152d91eb9124b2dcbeae071909', 'message': ""compute: Improve 'server create --nic' option parsing\n\nSimplify the parsing of this option by making use of a custom action.\n\nChange-Id: I670ff5109522d533ef4e62a79116e49a35c4e8fa\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c7d582379ad6b22c6dd8b7334b34a51ec59b69d4', 'message': ""compute: Improve 'server create --nic' option parsing\n\nSimplify the parsing of this option by making use of a custom action.\n\nChange-Id: I670ff5109522d533ef4e62a79116e49a35c4e8fa\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771691,c7d582379ad6b22c6dd8b7334b34a51ec59b69d4,10,2,2,15334,,,0,"compute: Improve 'server create --nic' option parsing

Simplify the parsing of this option by making use of a custom action.

Change-Id: I670ff5109522d533ef4e62a79116e49a35c4e8fa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/771691/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,f83c15d109893f152d91eb9124b2dcbeae071909,osc-first,"# TODO(stephenfin): Replace with 'MultiKeyValueAction' when we no longer # support '--nic=auto' and '--nic=none' class NICAction(argparse.Action): def __init__( self, option_strings, dest, nargs=None, const=None, default=None, type=None, choices=None, required=False, help=None, metavar=None, key=None, ): self.key = key super().__init__( option_strings=option_strings, dest=dest, nargs=nargs, const=const, default=default, type=type, choices=choices, required=required, help=help, metavar=metavar, ) def __call__(self, parser, namespace, values, option_string=None): # Make sure we have an empty dict rather than None if getattr(namespace, self.dest, None) is None: setattr(namespace, self.dest, []) # Handle the special auto/none cases if values in ('auto', 'none'): getattr(namespace, self.dest).append(values) return if self.key: if ',' in values or '=' in values: msg = _( ""Invalid argument %s; characters ',' and '=' are not "" ""allowed"" ) raise argparse.ArgumentTypeError(msg % values) values = '='.join([self.key, values]) info = { 'net-id': '', 'port-id': '', 'v4-fixed-ip': '', 'v6-fixed-ip': '', } for kv_str in values.split(','): k, sep, v = kv_str.partition(""="") if k not in info or not v: msg = _( ""Invalid argument %s; argument must be of form "" ""'net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid'"" ) raise argparse.ArgumentTypeError(msg % values) info[k] = v if info['net-id'] and info['port-id']: msg = _( 'Invalid argument %s; either network or port should be ' 'specified but not both' ) raise argparse.ArgumentTypeError(msg % values) getattr(namespace, self.dest).append(info) dest='nics', default=[], action=NICAction, key='net-id', dest='nics', default=[], action=NICAction, key='port-id', metavar=""<net-id=net-uuid,port-id=port-uuid,v4-fixed-ip=ip-addr,"" ""v6-fixed-ip=ip-addr,auto,none>"", action=NICAction, dest='nics', default=[], ""Create a NIC on the server.\n"" ""NIC in the format:\n"" ""net-id=<net-uuid>: attach NIC to network with this UUID,\n"" ""port-id=<port-uuid>: attach NIC to port with this UUID,\n"" ""v4-fixed-ip=<ip-addr>: IPv4 fixed address for NIC (optional),"" ""\n"" ""v6-fixed-ip=<ip-addr>: IPv6 fixed address for NIC (optional),"" ""\n"" ""none: (v2.37+) no network is attached,\n"" ""allocate a network.\n"" ""\n"" ""Specify option multiple times to create multiple NICs.\n"" ""Specifying a --nic of auto or none cannot be used with any "" ""other --nic value.\n"" ""Either net-id or port-id must be provided, but not both."" nics = parsed_args.nics if 'auto' in nics or 'none' in nics: if len(nics) > 1: msg = _( 'Specifying a --nic of auto or none cannot ' 'be used with any other --nic, --network ' 'or --port value.' ) raise exceptions.CommandError(msg) nics = nics[0] else: for nic in nics: if nic['net-id']: nic['net-id'], ignore_missing=False, ) nic['net-id'] = net.id if nic['port-id']: nic['port-id'], ignore_missing=False, ) nic['port-id'] = port.id else: if nic['net-id']: nic['net-id'] = compute_client.api.network_find( nic['net-id'], if nic['port-id']: if not nics: # Default to empty list if nothing was specified and let nova # decide the default behavior.","def _prefix_checked_value(prefix): def func(value): if ',' in value or '=' in value: msg = _(""Invalid argument %s, "" ""characters ',' and '=' are not allowed"") % value raise argparse.ArgumentTypeError(msg) return prefix + value return func action='append', dest='nic', type=_prefix_checked_value('net-id='), action='append', dest='nic', type=_prefix_checked_value('port-id='), metavar=""<net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid,auto,none>"", action='append', ""Create a NIC on the server. "" ""Specify option multiple times to create multiple NICs. "" ""Either net-id or port-id must be provided, but not both. "" ""net-id: attach NIC to network with this UUID, "" ""port-id: attach NIC to port with this UUID, "" ""v4-fixed-ip: IPv4 fixed address for NIC (optional), "" ""v6-fixed-ip: IPv6 fixed address for NIC (optional), "" ""none: (v2.37+) no network is attached, "" ""allocate a network. Specifying a --nic of auto or none "" ""cannot be used with any other --nic value."" nics = [] auto_or_none = False if parsed_args.nic is None: parsed_args.nic = [] for nic_str in parsed_args.nic: # Handle the special auto/none cases if nic_str in ('auto', 'none'): auto_or_none = True nics.append(nic_str) else: nic_info = { 'net-id': '', 'v4-fixed-ip': '', 'v6-fixed-ip': '', 'port-id': '', } for kv_str in nic_str.split("",""): k, sep, v = kv_str.partition(""="") if k in nic_info and v: nic_info[k] = v else: msg = _( ""Invalid nic argument '%s'. Nic arguments "" ""must be of the form --nic <net-id=net-uuid"" "",v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid>."" ) raise exceptions.CommandError(msg % k) if bool(nic_info[""net-id""]) == bool(nic_info[""port-id""]): msg = _( 'Either network or port should be specified ' 'but not both' ) raise exceptions.CommandError(msg) if nic_info[""net-id""]: nic_info[""net-id""], ignore_missing=False) nic_info[""net-id""] = net.id if nic_info[""port-id""]: nic_info[""port-id""], ignore_missing=False) nic_info[""port-id""] = port.id else: if nic_info[""net-id""]: nic_info[""net-id""] = compute_client.api.network_find( nic_info[""net-id""] if nic_info[""port-id""]: nics.append(nic_info) if nics: if auto_or_none: if len(nics) > 1: msg = _( 'Specifying a --nic of auto or none cannot ' 'be used with any other --nic, --network ' 'or --port value.' ) raise exceptions.CommandError(msg) nics = nics[0] else: # Default to empty list if nothing was specified, let nova # side to decide the default behavior.",185,140
openstack%2Fpython-openstackclient~master~Ieca8267c3b204ae2db580502cc8fe72c95eddf09,openstack/python-openstackclient,master,Ieca8267c3b204ae2db580502cc8fe72c95eddf09,compute: Add missing options for 'server event list',MERGED,2021-01-20 18:20:34.000000000,2021-03-04 13:23:55.000000000,2021-03-04 13:20:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c27b87bb1f805446d33c22e4379057e9305ba6a1', 'message': ""compute: Add missing options for 'server event list'\n\nAdd pagination parameters, '--limit' and '--offset', and filtering\nparameters, '--changes-since' and '--changes-before'.\n\nChange-Id: Ieca8267c3b204ae2db580502cc8fe72c95eddf09\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['openstackclient/compute/v2/server_event.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py', 'releasenotes/notes/add-missing-server-group-list-opts-ebcf84bfcea07a4b.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7ed4f68c68cb17b02deced203f9a461605a68dfe', 'message': ""compute: Add missing options for 'server event list'\n\nAdd pagination parameters, '--limit' and '--offset', and filtering\nparameters, '--changes-since' and '--changes-before'.\n\nChange-Id: Ieca8267c3b204ae2db580502cc8fe72c95eddf09\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,771689,7ed4f68c68cb17b02deced203f9a461605a68dfe,12,2,2,15334,,,0,"compute: Add missing options for 'server event list'

Add pagination parameters, '--limit' and '--offset', and filtering
parameters, '--changes-since' and '--changes-before'.

Change-Id: Ieca8267c3b204ae2db580502cc8fe72c95eddf09
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/771689/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_event.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py', 'releasenotes/notes/add-missing-server-group-list-opts-ebcf84bfcea07a4b.yaml']",3,c27b87bb1f805446d33c22e4379057e9305ba6a1,osc-first,"--- features: - | Add ``--limit``, ``--marker``, ``--change-since`` and ``--changes-before`` options to ``server group list`` command, to configure pagination of results and filter results by last modification, respectively. ",,373,44
openstack%2Fpython-openstackclient~master~I6714c8db1a549bd4206d2282d2876a406af65aa2,openstack/python-openstackclient,master,I6714c8db1a549bd4206d2282d2876a406af65aa2,compute: Shuffle options for 'server create',MERGED,2021-01-20 18:20:34.000000000,2021-03-04 13:21:10.000000000,2021-03-04 13:21:10.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/429d82114fbd25837c2891668aa42d29439f48d2', 'message': ""compute: Shuffle options for 'server create'\n\nargparse doesn't sort options by name, meaning we can use the\nopportunity to group closely related options together. Do that.\n\nChange-Id: I6714c8db1a549bd4206d2282d2876a406af65aa2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d6c9b7f198b94ef05c96dc72fc71d34f019e9350', 'message': ""compute: Shuffle options for 'server create'\n\nargparse doesn't sort options by name, meaning we can use the\nopportunity to group closely related options together. Do that.\n\nChange-Id: I6714c8db1a549bd4206d2282d2876a406af65aa2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771690,d6c9b7f198b94ef05c96dc72fc71d34f019e9350,9,2,2,15334,,,0,"compute: Shuffle options for 'server create'

argparse doesn't sort options by name, meaning we can use the
opportunity to group closely related options together. Do that.

Change-Id: I6714c8db1a549bd4206d2282d2876a406af65aa2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/90/771690/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,429d82114fbd25837c2891668aa42d29439f48d2,osc-first," parser.add_argument( '--flavor', metavar='<flavor>', required=True, help=_('Create server with this flavor (name or ID)'), ) # TODO(stephenfin): Is this actually useful? Looks like a straight port # from 'nova boot --image-with'. Perhaps we should deprecate this. help=_( ""Create server using the image that matches the specified "" ""property. Property must match exactly one property."" ), '--boot-from-volume', metavar='<volume-size>', type=int, help=_( 'When used in conjunction with the ``--image`` or ' '``--image-property`` option, this option automatically ' 'creates a block device mapping with a boot index of 0 ' 'and tells the compute service to create a volume of the ' 'given size (in GB) from the specified image and use it ' 'as the root disk of the server. The root volume will not ' 'be deleted when the server is deleted. This option is ' 'mutually exclusive with the ``--volume`` option.' ) ) parser.add_argument( '--block-device-mapping', metavar='<dev-name=mapping>', action=parseractions.KeyValueAction, default={}, # NOTE(RuiChen): Add '\n' to the end of line to improve formatting; # see cliff's _SmartHelpFormatter for more details. help=_( 'Create a block device on the server.\n' 'Block device mapping in the format\n' '<dev-name>=<id>:<type>:<size(GB)>:<delete-on-terminate>\n' '<dev-name>: block device name, like: vdb, xvdc ' '(required)\n' '<id>: Name or ID of the volume, volume snapshot or image ' '(required)\n' '<type>: volume, snapshot or image; default: volume ' '(optional)\n' '<size(GB)>: volume size if create from image or snapshot ' '(optional)\n' '<delete-on-terminate>: true or false; default: false ' '(optional)\n' ), ) parser.add_argument( '--network', metavar=""<network>"", action='append', dest='nic', type=_prefix_checked_value('net-id='), # NOTE(RuiChen): Add '\n' to the end of line to improve formatting; # see cliff's _SmartHelpFormatter for more details. help=_( ""Create a NIC on the server and connect it to network. "" ""Specify option multiple times to create multiple NICs. "" ""This is a wrapper for the '--nic net-id=<network>' "" ""parameter that provides simple syntax for the standard "" ""use case of connecting a new server to a given network. "" ""For more advanced use cases, refer to the '--nic' "" ""parameter."" ), ) parser.add_argument( '--port', metavar=""<port>"", action='append', dest='nic', type=_prefix_checked_value('port-id='), help=_( ""Create a NIC on the server and connect it to port. "" ""Specify option multiple times to create multiple NICs. "" ""This is a wrapper for the '--nic port-id=<port>' "" ""parameter that provides simple syntax for the standard "" ""use case of connecting a new server to a given port. For "" ""more advanced use cases, refer to the '--nic' parameter."" ), ) parser.add_argument( '--nic', metavar=""<net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid,auto,none>"", action='append', help=_( ""Create a NIC on the server. "" ""Specify option multiple times to create multiple NICs. "" ""Either net-id or port-id must be provided, but not both. "" ""net-id: attach NIC to network with this UUID, "" ""port-id: attach NIC to port with this UUID, "" ""v4-fixed-ip: IPv4 fixed address for NIC (optional), "" ""v6-fixed-ip: IPv6 fixed address for NIC (optional), "" ""none: (v2.37+) no network is attached, "" ""auto: (v2.37+) the compute service will automatically "" ""allocate a network. Specifying a --nic of auto or none "" ""cannot be used with any other --nic value."" ), ) parser.add_argument("," help=_(""Image property to be matched""), '--flavor', metavar='<flavor>', required=True, help=_('Create server with this flavor (name or ID)'), ) parser.add_argument( '--boot-from-volume', metavar='<volume-size>', type=int, help=_( 'When used in conjunction with the ``--image`` or ' '``--image-property`` option, this option automatically ' 'creates a block device mapping with a boot index of 0 ' 'and tells the compute service to create a volume of the ' 'given size (in GB) from the specified image and use it ' 'as the root disk of the server. The root volume will not ' 'be deleted when the server is deleted. This option is ' 'mutually exclusive with the ``--volume`` option.' ) ) parser.add_argument( '--block-device-mapping', metavar='<dev-name=mapping>', action=parseractions.KeyValueAction, default={}, # NOTE(RuiChen): Add '\n' at the end of line to put each item in # the separated line, avoid the help message looks # messy, see _SmartHelpFormatter in cliff. help=_( 'Create a block device on the server.\n' 'Block device mapping in the format\n' '<dev-name>=<id>:<type>:<size(GB)>:<delete-on-terminate>\n' '<dev-name>: block device name, like: vdb, xvdc ' '(required)\n' '<id>: Name or ID of the volume, volume snapshot or image ' '(required)\n' '<type>: volume, snapshot or image; default: volume ' '(optional)\n' '<size(GB)>: volume size if create from image or snapshot ' '(optional)\n' '<delete-on-terminate>: true or false; default: false ' '(optional)\n' ), ) parser.add_argument( '--nic', metavar=""<net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid,auto,none>"", action='append', help=_( ""Create a NIC on the server. "" ""Specify option multiple times to create multiple NICs. "" ""Either net-id or port-id must be provided, but not both. "" ""net-id: attach NIC to network with this UUID, "" ""port-id: attach NIC to port with this UUID, "" ""v4-fixed-ip: IPv4 fixed address for NIC (optional), "" ""v6-fixed-ip: IPv6 fixed address for NIC (optional), "" ""none: (v2.37+) no network is attached, "" ""auto: (v2.37+) the compute service will automatically "" ""allocate a network. Specifying a --nic of auto or none "" ""cannot be used with any other --nic value."" ), ) parser.add_argument( '--network', metavar=""<network>"", action='append', dest='nic', type=_prefix_checked_value('net-id='), help=_( ""Create a NIC on the server and connect it to network. "" ""Specify option multiple times to create multiple NICs. "" ""This is a wrapper for the '--nic net-id=<network>' "" ""parameter that provides simple syntax for the standard "" ""use case of connecting a new server to a given network. "" ""For more advanced use cases, refer to the '--nic' "" ""parameter."" ), ) parser.add_argument( '--port', metavar=""<port>"", action='append', dest='nic', type=_prefix_checked_value('port-id='), help=_( ""Create a NIC on the server and connect it to port. "" ""Specify option multiple times to create multiple NICs. "" ""This is a wrapper for the '--nic port-id=<port>' "" ""parameter that provides simple syntax for the standard "" ""use case of connecting a new server to a given port. For "" ""more advanced use cases, refer to the '--nic' parameter."" ), ) parser.add_argument(",102,96
openstack%2Ftripleo-ci-health-queries~master~I0ceafed84de9ce0b8fcba19666118f75a4f172d6,openstack/tripleo-ci-health-queries,master,I0ceafed84de9ce0b8fcba19666118f75a4f172d6,Bootstrap zuul and gerrit config,MERGED,2021-03-03 14:46:58.000000000,2021-03-04 13:16:33.000000000,2021-03-04 13:16:33.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-03 14:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/dcafc15f818eb62baa317ba827a9a89cd487c99c', 'message': 'Bootstrap zuul and gerrit config\n\nChange-Id: I0ceafed84de9ce0b8fcba19666118f75a4f172d6\n'}, {'number': 2, 'created': '2021-03-04 11:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/e9b434bda7bfe28af747c3260530a311af6c7299', 'message': 'Bootstrap zuul and gerrit config\n\nChange-Id: I0ceafed84de9ce0b8fcba19666118f75a4f172d6\n'}, {'number': 3, 'created': '2021-03-04 11:52:49.000000000', 'files': ['bindep.txt', '.gitreview', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/7793d3de975ae66c863140b680520a359fdbd3a3', 'message': 'Bootstrap zuul and gerrit config\n\nChange-Id: I0ceafed84de9ce0b8fcba19666118f75a4f172d6\n'}]",0,778478,7793d3de975ae66c863140b680520a359fdbd3a3,14,6,3,24162,,,0,"Bootstrap zuul and gerrit config

Change-Id: I0ceafed84de9ce0b8fcba19666118f75a4f172d6
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/78/778478/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'zuul.d/layout.yaml']",2,dcafc15f818eb62baa317ba827a9a89cd487c99c,,--- # zuul.d/layout.yaml - project: check: jobs: - openstack-tox-linters - openstack-tox-py38 gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-py38 ,,17,0
openstack%2Fproject-config~master~I2b7a225424023750afe308d2ad26e78789af6151,openstack/project-config,master,I2b7a225424023750afe308d2ad26e78789af6151,Add tripleo-ci-health-queries project,MERGED,2021-03-01 13:07:27.000000000,2021-03-04 13:07:54.000000000,2021-03-02 15:18:30.000000000,"[{'_account_id': 841}, {'_account_id': 5263}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 13:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ce4b916b3cf230d5a90412063630dfd6454731e0', 'message': 'Add tripleo-ci-health-queries project\n\nChange-Id: I2b7a225424023750afe308d2ad26e78789af6151\nStory: TRIPLEOCI-288\n'}, {'number': 2, 'created': '2021-03-01 13:27:23.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/99389c8ede7f1283ddc4e389f7674ceb463a6232', 'message': 'Add tripleo-ci-health-queries project\n\nChange-Id: I2b7a225424023750afe308d2ad26e78789af6151\nStory: TRIPLEOCI-288\n'}]",9,777991,99389c8ede7f1283ddc4e389f7674ceb463a6232,23,7,2,24162,,,0,"Add tripleo-ci-health-queries project

Change-Id: I2b7a225424023750afe308d2ad26e78789af6151
Story: TRIPLEOCI-288
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/777991/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,ce4b916b3cf230d5a90412063630dfd6454731e0,, use-storyboard: false groups: - tripleo - project: openstack/tripleo-ci-health-queries use-storyboard: false description: TripleO CI Health logstash and regex queries for logs. upstream: https://github.com/rdo-infra/queries groups: - tripleo, use-storyboard: true,9,1
openstack%2Fheat~master~Icceaf68acc5f117589779d4a10561fa7cd627812,openstack/heat,master,Icceaf68acc5f117589779d4a10561fa7cd627812,Delete default secgroup on project delete,ABANDONED,2019-11-14 13:29:51.000000000,2021-03-04 13:02:04.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 13:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/13134dbb61b2878e2ea60d37dcbc75a4c2beaba3', 'message': ""Delete default secgroup on project delete\n\nNeutron silently creates a security group with hardcoded name 'default'\non any first API request involving a new project.\nAs a result, when Heat stack containing a Keystone project resource is\ndeleted, this group is not deleted and is left orphaned, with such\ngroups accumulating over time.\n\nChange-Id: Icceaf68acc5f117589779d4a10561fa7cd627812\nStory: 2006854\nTask: 37445\n""}, {'number': 2, 'created': '2019-11-14 15:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a425607240f89c3892f7bfbcd3075bd7d8124237', 'message': ""Delete default secgroup on project delete\n\nNeutron silently creates a security group with hardcoded name 'default'\non any first API request involving a new project.\nAs a result, when Heat stack containing a Keystone project resource is\ndeleted, this group is not deleted and is left orphaned, with such\ngroups accumulating over time.\n\nChange-Id: Icceaf68acc5f117589779d4a10561fa7cd627812\nStory: 2006854\nTask: 37445\n""}, {'number': 3, 'created': '2019-11-18 10:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ebedba8a964e32e2ad49c1be9184786ecf11c043', 'message': ""Delete default secgroup on project delete\n\nNeutron silently creates a security group with hardcoded name 'default'\non any first API request involving a new project.\nAs a result, when Heat stack containing a Keystone project resource is\ndeleted, this group is not deleted and is left orphaned, with such\ngroups accumulating over time.\n\nChange-Id: Icceaf68acc5f117589779d4a10561fa7cd627812\nStory: 2006854\nTask: 37445\n""}, {'number': 4, 'created': '2019-11-18 11:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ffa79d3f9e0a4eba87b6b8d534c022fa6628af7d', 'message': ""Delete default secgroup on project delete\n\nNeutron silently creates a security group with hardcoded name 'default'\non any first API request involving a new project.\nAs a result, when Heat stack containing a Keystone project resource is\ndeleted, this group is not deleted and is left orphaned, with such\ngroups accumulating over time.\n\nChange-Id: Icceaf68acc5f117589779d4a10561fa7cd627812\nStory: 2006854\nTask: 37445\n""}, {'number': 5, 'created': '2019-12-30 08:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8cda1a4d648afb2a4345a748b8759e7577c1f45a', 'message': ""Delete default secgroup on project delete\n\nNeutron silently creates a security group with hardcoded name 'default'\non any first API request involving a new project.\nAs a result, when Heat stack containing a Keystone project resource is\ndeleted, this group is not deleted and is left orphaned, with such\ngroups accumulating over time.\n\nChange-Id: Icceaf68acc5f117589779d4a10561fa7cd627812\nStory: 2006854\nTask: 37445\n""}, {'number': 6, 'created': '2020-01-13 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8faad63c42b4dde38197d0ff0be5e1f9e220540a', 'message': ""Delete default secgroup on project delete\n\nNeutron silently creates a security group with hardcoded name 'default'\non any first API request involving a new project.\nAs a result, when Heat stack containing a Keystone project resource is\ndeleted, this group is not deleted and is left orphaned, with such\ngroups accumulating over time.\n\nChange-Id: Icceaf68acc5f117589779d4a10561fa7cd627812\nStory: 2006854\nTask: 37445\n""}, {'number': 7, 'created': '2020-01-14 07:23:41.000000000', 'files': ['heat/engine/resources/openstack/keystone/project.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a7a5dfcce92cba8c70ee8db0c97ebdbd5e677872', 'message': ""Delete default secgroup on project delete\n\nNeutron silently creates a security group with hardcoded name 'default'\non any first API request involving a new project.\nAs a result, when Heat stack containing a Keystone project resource is\ndeleted, this group is not deleted and is left orphaned, with such\ngroups accumulating over time.\n\nChange-Id: Icceaf68acc5f117589779d4a10561fa7cd627812\nStory: 2006854\nTask: 37445\n""}]",2,694291,a7a5dfcce92cba8c70ee8db0c97ebdbd5e677872,25,5,7,9542,,,0,"Delete default secgroup on project delete

Neutron silently creates a security group with hardcoded name 'default'
on any first API request involving a new project.
As a result, when Heat stack containing a Keystone project resource is
deleted, this group is not deleted and is left orphaned, with such
groups accumulating over time.

Change-Id: Icceaf68acc5f117589779d4a10561fa7cd627812
Story: 2006854
Task: 37445
",git fetch https://review.opendev.org/openstack/heat refs/changes/91/694291/6 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/keystone/project.py'],1,13134dbb61b2878e2ea60d37dcbc75a4c2beaba3,delete-default-secgroup," def handle_delete(self): if self.entity and self.resource_id: # find and delete the default security group Neutron has created default_sec_group_name = 'default' nclient = self.client_plugin(""neutron"").client() default_sec_groups = nclient.list_security_groups( project_id=self.resource_id, name=default_sec_group_name)['security_groups'] if len(default_sec_groups) > 1: # NOTE(pas-ha) this in fact should never happen as Neutron # enforces uniqueness of default security group, # but making the check just in case LOG.warning(""Found several security groups with name "" ""%{name}s for project %{project_id}s, "" ""not deleting any of them"", name=default_sec_group_name, project_id=self.resource_id) elif len(default_sec_groups) == 1: with self.client_plugin(""neutron"").ignore_not_found: nclient.delete_security_group(default_sec_groups[0]['id']) super(KeystoneProject, self).handle_delete() ",,22,0
openstack%2Fneutron~master~I74ddf5556f7cc49c70b5609b8bbac70928782a4a,openstack/neutron,master,I74ddf5556f7cc49c70b5609b8bbac70928782a4a,Delete router arp entry when port deleted,ABANDONED,2021-02-25 16:12:00.000000000,2021-03-04 12:49:06.000000000,,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 16:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/739de839a9217cbec6c3a44ae8ac435b92c83c9d', 'message': 'Delete router arp entry when port deleted\n\nCurrently when a port is deleted it is possible for\nPERMANENT arp entries to be left being which\nconflicts with future ports with the same ip address\nbut different mac. This patch ensures that when a\nport is deleted, all routers are notified to delete\nany associated arp entries that may be left behind.\n\nChange-Id: I74ddf5556f7cc49c70b5609b8bbac70928782a4a\nCloses-Bug: #1916761\n'}, {'number': 2, 'created': '2021-02-25 17:34:22.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/511bde9d80d330d50a3c22d56108b2b5c760fa74', 'message': 'Delete router arp entry when port deleted\n\nCurrently when a port is deleted it is possible for\nPERMANENT arp entries to be left being which\nconflicts with future ports with the same ip address\nbut different mac. This patch ensures that when a\nport is deleted, all routers are notified to delete\nany associated arp entries that may be left behind.\n\nChange-Id: I74ddf5556f7cc49c70b5609b8bbac70928782a4a\nCloses-Bug: #1916761\n'}]",2,777616,511bde9d80d330d50a3c22d56108b2b5c760fa74,14,6,2,6737,,,0,"Delete router arp entry when port deleted

Currently when a port is deleted it is possible for
PERMANENT arp entries to be left being which
conflicts with future ports with the same ip address
but different mac. This patch ensures that when a
port is deleted, all routers are notified to delete
any associated arp entries that may be left behind.

Change-Id: I74ddf5556f7cc49c70b5609b8bbac70928782a4a
Closes-Bug: #1916761
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/777616/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,739de839a9217cbec6c3a44ae8ac435b92c83c9d,bug/1916761," port = kwargs['port'] # Need to do one notification per fixed_ip since other end only # supports single arp entry per rpc. for fixed_ip in port['fixed_ips']: arp_table = {'ip_address': fixed_ip['ip_address'], 'mac_address': port['mac_address'], 'subnet_id': fixed_ip['subnet_id']} l3plugin.notify_del_arp_entry(context, router_ids, arp_table) def notify_del_arp_entry(self, context, router_ids, arp_table, operation=None, data=None): if router_ids: self.l3_rpc_notifier.del_arp_entry( context, router_ids, arp_table, operation, data) ",,15,0
openstack%2Fcinder-specs~master~I75615b3da7185413bd23a9f0633c1a5028406733,openstack/cinder-specs,master,I75615b3da7185413bd23a9f0633c1a5028406733,Remove testr detrius,MERGED,2021-02-16 13:50:53.000000000,2021-03-04 12:38:54.000000000,2021-03-04 12:37:33.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 13:50:53.000000000', 'files': ['.gitignore', '.testr.conf'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/048c635067bf8ff775a920d8e55e8dc19b7fec1a', 'message': ""Remove testr detrius\n\nWe don't actually use testr, so remove the conf file.\n\nChange-Id: I75615b3da7185413bd23a9f0633c1a5028406733\n""}]",0,775834,048c635067bf8ff775a920d8e55e8dc19b7fec1a,7,2,1,5314,,,0,"Remove testr detrius

We don't actually use testr, so remove the conf file.

Change-Id: I75615b3da7185413bd23a9f0633c1a5028406733
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/34/775834/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.testr.conf']",2,048c635067bf8ff775a920d8e55e8dc19b7fec1a,remove-testr-detrius,,[DEFAULT] test_command=OS_STDOUT_CAPTURE=${OS_STDOUT_CAPTURE:-1} \ OS_STDERR_CAPTURE=${OS_STDERR_CAPTURE:-1} \ OS_TEST_TIMEOUT=${OS_TEST_TIMEOUT:-60} \ ${PYTHON:-python} -m subunit.run discover -t ./ . $LISTOPT $IDOPTION test_id_option=--load-list $IDFILE test_list_option=--list,0,8
openstack%2Fansible-collections-openstack~master~Ifec2e7050bab79096bc1504b1898b096bd892a5b,openstack/ansible-collections-openstack,master,Ifec2e7050bab79096bc1504b1898b096bd892a5b,os_image: Add tests for tags parameter,ABANDONED,2020-02-02 10:13:13.000000000,2021-03-04 12:38:44.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 31557}]","[{'number': 1, 'created': '2020-02-02 10:13:13.000000000', 'files': ['ci/roles/image/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7bfecb7e593930af5388448b04a74636c3d79afd', 'message': 'os_image: Add tests for tags parameter\n\nChange-Id: Ifec2e7050bab79096bc1504b1898b096bd892a5b\nSigned-off-by: Vladimir Ermakov <vooon341@gmail.com>\n'}]",0,705354,7bfecb7e593930af5388448b04a74636c3d79afd,5,3,1,31557,,,0,"os_image: Add tests for tags parameter

Change-Id: Ifec2e7050bab79096bc1504b1898b096bd892a5b
Signed-off-by: Vladimir Ermakov <vooon341@gmail.com>
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/54/705354/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/roles/image/tasks/main.yml'],1,7bfecb7e593930af5388448b04a74636c3d79afd,,"- name: Create raw image (tags) openstack.cloud.os_image: cloud: ""{{ cloud }}"" state: present name: ""{{ image_name }}"" filename: ""{{ tmp_file.stdout }}"" disk_format: raw tags: - tag-to-keep - tag-to-delete - tag-to-replace-1 register: image - debug: var=image - name: Update raw image (tags) openstack.cloud.os_image: cloud: ""{{ cloud }}"" state: present name: ""{{ image_name }}"" tags: - tag-to-keep - tag-to-replace-2 register: image - debug: var=image - name: Delete raw image (tags) openstack.cloud.os_image: cloud: ""{{ cloud }}"" state: absent name: ""{{ image_name }}"" ",,33,0
openstack%2Fmagnum~stable%2Fussuri~Ie44b1d13899d77bd2a5d5b1e6107c384277788b9,openstack/magnum,stable/ussuri,Ie44b1d13899d77bd2a5d5b1e6107c384277788b9,Lower log level of missing output,MERGED,2021-03-04 09:51:57.000000000,2021-03-04 12:33:00.000000000,2021-03-04 12:31:06.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 09:51:57.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/conductor/scale_manager.py', 'magnum/drivers/heat/swarm_mode_template_def.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2f21781067e61b2605985e88c28d851581cd0ad4', 'message': 'Lower log level of missing output\n\nLower the log level of a warning for a missing output to debug.\nThis log line appears repeatedly on successful cluster deletion,\ncreation failure (for unrelated reasons) and nodegroup creation\nfailure (again for unrelated reasons, eg timeout). This is\ntriggered when having multiple magnum conductors all trying to\nquery the status in heat. Additionally, this warning is not an\nindication of a malfunction in a cluster or a failure, so it is\nuseful only for debugging. Finally, add the cluster id, cluster\nstatus and stack id to have more context.\n\nstory: 2007636\ntask: 40062\n\nChange-Id: Ie44b1d13899d77bd2a5d5b1e6107c384277788b9\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 65ab24918987a2116f5638c6ae0f02cbc92cc5b8)\n'}]",0,778435,2f21781067e61b2605985e88c28d851581cd0ad4,8,3,1,28022,,,0,"Lower log level of missing output

Lower the log level of a warning for a missing output to debug.
This log line appears repeatedly on successful cluster deletion,
creation failure (for unrelated reasons) and nodegroup creation
failure (again for unrelated reasons, eg timeout). This is
triggered when having multiple magnum conductors all trying to
query the status in heat. Additionally, this warning is not an
indication of a malfunction in a cluster or a failure, so it is
useful only for debugging. Finally, add the cluster id, cluster
status and stack id to have more context.

story: 2007636
task: 40062

Change-Id: Ie44b1d13899d77bd2a5d5b1e6107c384277788b9
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 65ab24918987a2116f5638c6ae0f02cbc92cc5b8)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/35/778435/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/conductor/scale_manager.py', 'magnum/drivers/heat/swarm_mode_template_def.py']",6,2f21781067e61b2605985e88c28d851581cd0ad4,stack_id_log-stable/ussuri," output_value = self.get_output_value(stack, cluster)", output_value = self.get_output_value(stack),23,14
openstack%2Ftripleo-quickstart~master~Id47df9efd731a886526b077398712a6c5d33d53b,openstack/tripleo-quickstart,master,Id47df9efd731a886526b077398712a6c5d33d53b,[DNM] Test ci centos gate job,ABANDONED,2021-01-28 15:46:08.000000000,2021-03-04 12:26:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 15:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d109eacd80ec96cd5a1e7db0acdcebae8715eb63', 'message': '[DNM] Test ci centos gate job\n\nChange-Id: Id47df9efd731a886526b077398712a6c5d33d53b\n'}, {'number': 2, 'created': '2021-01-29 08:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb34e2e92422e150bdf80f836cbe7bf1e2d85335', 'message': '[DNM] Test ci centos gate job\n\nDepends-On: I168fbabc971939b3f3604c8b8c7d8898c606d6c7\nChange-Id: Id47df9efd731a886526b077398712a6c5d33d53b\n'}, {'number': 3, 'created': '2021-01-29 12:40:00.000000000', 'files': ['zuul.d/layout.yaml', 'ansible.cfg', 'roles/libvirt/setup/undercloud/tasks/inject_gating_repo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8cd32ab5ee6e175e077cf2c87b9d5b5820f5c053', 'message': '[DNM] Test ci centos gate job\n\nDepends-On: I168fbabc971939b3f3604c8b8c7d8898c606d6c7\nChange-Id: Id47df9efd731a886526b077398712a6c5d33d53b\n'}]",0,772895,8cd32ab5ee6e175e077cf2c87b9d5b5820f5c053,9,2,3,13861,,,0,"[DNM] Test ci centos gate job

Depends-On: I168fbabc971939b3f3604c8b8c7d8898c606d6c7
Change-Id: Id47df9efd731a886526b077398712a6c5d33d53b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/95/772895/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/environments/standalone_centos_libvirt.yml', 'ansible.cfg']",2,d109eacd80ec96cd5a1e7db0acdcebae8715eb63,dnmtest,module_utils = $VIRTUAL_ENV/share/ansible/plugins/module_utils:/usr/share/ansible/plugins/module_utils,,2,1
openstack%2Fpuppet-tripleo~master~I1e509b0ecd29950a489060cd4085b0c9c6fcf380,openstack/puppet-tripleo,master,I1e509b0ecd29950a489060cd4085b0c9c6fcf380,[DNM] Test https://review.opendev.org/717186,ABANDONED,2020-04-03 06:48:31.000000000,2021-03-04 12:25:50.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-03 06:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/61e7e0f7e45d8bda98a8a6be5b4798832bead22b', 'message': '[DNM] Test https://review.opendev.org/717186\n\nChange-Id: I1e509b0ecd29950a489060cd4085b0c9c6fcf380\n'}, {'number': 2, 'created': '2020-04-03 06:51:49.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bca32df4a099545161bd3100d2ea602d7d771af2', 'message': '[DNM] Test https://review.opendev.org/717186\n\nDepends-On: https://review.opendev.org/#/c/717186/\nChange-Id: I1e509b0ecd29950a489060cd4085b0c9c6fcf380\n'}]",0,717187,bca32df4a099545161bd3100d2ea602d7d771af2,13,3,2,13861,,,0,"[DNM] Test https://review.opendev.org/717186

Depends-On: https://review.opendev.org/#/c/717186/
Change-Id: I1e509b0ecd29950a489060cd4085b0c9c6fcf380
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/717187/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,61e7e0f7e45d8bda98a8a6be5b4798832bead22b,bug/1870026,, - puppet-openstack-check-jobs - puppet-tripleo-module-unit-jobs - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - release-notes-jobs-python3 check: jobs: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^manifests/profile/pacemaker/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ml2/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/agents/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/ovn.*$ - ^manifests/profile/(base|pacemaker)/tacker.*$ gate: queue: tripleo,0,16
openstack%2Fpuppet-tripleo~stable%2Ftrain~I9d3461a5694fb0363fdc3e639db64a9dfdb6b9a4,openstack/puppet-tripleo,stable/train,I9d3461a5694fb0363fdc3e639db64a9dfdb6b9a4,[DNM] Test https://review.opendev.org/717186,ABANDONED,2020-04-03 06:49:57.000000000,2021-03-04 12:24:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-04-03 06:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e21d9c5ad450e4117e7b082cad4ca662cf0e44e6', 'message': '[DNM] Test https://review.opendev.org/717186\n\nChange-Id: I9d3461a5694fb0363fdc3e639db64a9dfdb6b9a4\n'}, {'number': 2, 'created': '2020-04-03 06:51:02.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/640bc764d4665b4cace9ef46b4712058f563528c', 'message': '[DNM] Test https://review.opendev.org/717186\n\nDepends-On: https://review.opendev.org/#/c/717186/\nChange-Id: I9d3461a5694fb0363fdc3e639db64a9dfdb6b9a4\n'}]",0,717188,640bc764d4665b4cace9ef46b4712058f563528c,4,1,2,13861,,,0,"[DNM] Test https://review.opendev.org/717186

Depends-On: https://review.opendev.org/#/c/717186/
Change-Id: I9d3461a5694fb0363fdc3e639db64a9dfdb6b9a4
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/88/717188/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e21d9c5ad450e4117e7b082cad4ca662cf0e44e6,bug/1870026,, - puppet-openstack-check-jobs - puppet-tripleo-module-unit-jobs - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - release-notes-jobs-python3 check: jobs: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^manifests/profile/pacemaker/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/plugins/ml2/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/agents/ovn.*$ - ^manifests/profile/(base|pacemaker)/neutron/ovn.*$ - ^manifests/profile/(base|pacemaker)/tacker.*$ gate: queue: tripleo,0,16
openstack%2Felection~master~Id8fcc941a5b033b190baec258b667f5cfaa8f6d8,openstack/election,master,Id8fcc941a5b033b190baec258b667f5cfaa8f6d8,Add Shengping Zhong candidacy for Puppet OpenStack PTL,MERGED,2021-03-04 01:55:30.000000000,2021-03-04 12:23:32.000000000,2021-03-04 12:22:08.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 01:55:30.000000000', 'files': ['candidates/xena/Puppet_OpenStack/chdzsp@163.com'], 'web_link': 'https://opendev.org/openstack/election/commit/b81616d8256aad98be27eace341f65dfdd3fd296', 'message': 'Add Shengping Zhong candidacy for Puppet OpenStack PTL\n\nChange-Id: Id8fcc941a5b033b190baec258b667f5cfaa8f6d8\n'}]",0,778600,b81616d8256aad98be27eace341f65dfdd3fd296,8,3,1,9414,,,0,"Add Shengping Zhong candidacy for Puppet OpenStack PTL

Change-Id: Id8fcc941a5b033b190baec258b667f5cfaa8f6d8
",git fetch https://review.opendev.org/openstack/election refs/changes/00/778600/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Puppet_OpenStack/chdzsp@163.com'],1,b81616d8256aad98be27eace341f65dfdd3fd296,puppet-openstack-x-ptl,"Hi, I'm submitting myself as PTL candidate for the Puppet OpenStack project during the X cycle. I've been active in the OpenStack community since 2016 and as core reviewer from Ocata cycle. I served as the PTL during the Wallaby cycle and would like to continue to serve for the X release cycle. My goals for the X cycle in the following areas: * Deprecate many parameters and remove a lot of deprecate parameters. * Improving documentation around established patterns and best practices. * Improve testing of Puppet 6. * Fix some bugs. I'm happy to welcome new contributors to the project. Thanks for taking the time to read through this roadmap and to consider my candidacy. Best regards Shengping Zhong (zhongshengping) ",,23,0
openstack%2Ftripleo-common~stable%2Ftrain~Iff9cd54ebdca9d77eac12cd100d062e460e53569,openstack/tripleo-common,stable/train,Iff9cd54ebdca9d77eac12cd100d062e460e53569,[DNM][Train] ansible-2.9.9 testing,ABANDONED,2020-05-12 07:24:59.000000000,2021-03-04 12:22:44.000000000,,"[{'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-12 07:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2d795d3f5aa88bc219181d086c9c977d0401ec2b', 'message': '[DNM][Train] ansible-2.9.7 testing\n\nDepends-On: https://review.opendev.org/#/c/722218/\nChange-Id: Iff9cd54ebdca9d77eac12cd100d062e460e53569\n'}, {'number': 2, 'created': '2020-05-12 13:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2432240ae57d9953b54981e7ced1c78e6a765f60', 'message': '[DNM][Train] ansible-2.9.7 testing\n\nDepends-On: https://review.opendev.org/#/c/722218/\nChange-Id: Iff9cd54ebdca9d77eac12cd100d062e460e53569\n'}, {'number': 3, 'created': '2020-05-29 09:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/13e705deab98532d426aebf3382977c8a050eace', 'message': '[DNM][Train] ansible-2.9.9 testing\n\nDepends-On: https://review.opendev.org/#/c/722218/\nChange-Id: Iff9cd54ebdca9d77eac12cd100d062e460e53569\n'}, {'number': 4, 'created': '2020-05-29 15:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/26b5e64a53b870ec5c01d7b9da65e49936cc53cb', 'message': '[DNM][Train] ansible-2.9.9 testing\n\nDepends-On: https://review.opendev.org/#/c/731782/\nDepends-On: https://review.opendev.org/#/c/731498/\nDepends-On: https://review.opendev.org/#/c/722218/\nChange-Id: Iff9cd54ebdca9d77eac12cd100d062e460e53569\n'}, {'number': 5, 'created': '2020-06-01 03:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8fdd128d15c4632884aeb06048c91218c20d6d02', 'message': '[DNM][Train] ansible-2.9.9 testing\n\n\nDepends-On: https://review.opendev.org/#/c/722218/\nChange-Id: Iff9cd54ebdca9d77eac12cd100d062e460e53569\n'}, {'number': 6, 'created': '2020-06-01 06:32:47.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ee5d65f5cdeb015403189cc4015b7bf363577d92', 'message': '[DNM][Train] ansible-2.9.9 testing\n\n\nDepends-On: https://review.opendev.org/#/c/722218/\nDepends-On: https://review.opendev.org/#/c/732091/\nChange-Id: Iff9cd54ebdca9d77eac12cd100d062e460e53569\n'}]",0,727080,ee5d65f5cdeb015403189cc4015b7bf363577d92,24,4,6,13861,,,0,"[DNM][Train] ansible-2.9.9 testing


Depends-On: https://review.opendev.org/#/c/722218/
Depends-On: https://review.opendev.org/#/c/732091/
Change-Id: Iff9cd54ebdca9d77eac12cd100d062e460e53569
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/727080/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_kolla_template_overrides.j2', 'zuul.d/layout.yaml']",2,2d795d3f5aa88bc219181d086c9c977d0401ec2b,ansible-2.9.9,# DNM,,2,1
openstack%2Fopenstack-virtual-baremetal~master~I32a587f86a98627c44ae58089abb633976682c01,openstack/openstack-virtual-baremetal,master,I32a587f86a98627c44ae58089abb633976682c01,[DNM] Test fs039 with ovb master,ABANDONED,2020-09-28 05:16:23.000000000,2021-03-04 12:22:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-28 05:16:23.000000000', 'files': ['environments/base-extra-node.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/da7f567811f58a2300fc75e9651342d89d8b5612', 'message': '[DNM] Test fs039 with ovb master\n\nChange-Id: I32a587f86a98627c44ae58089abb633976682c01\n'}]",0,754633,da7f567811f58a2300fc75e9651342d89d8b5612,4,2,1,13861,,,0,"[DNM] Test fs039 with ovb master

Change-Id: I32a587f86a98627c44ae58089abb633976682c01
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/33/754633/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/base-extra-node.yaml'],1,da7f567811f58a2300fc75e9651342d89d8b5612,, OS::OVB::BaremetalPorts: templates/baremetal-ports-extra-node.yaml, OS::OVB::BaremetalPorts: ../templates/baremetal-ports-extra-node.yaml,1,1
openstack%2Ftripleo-quickstart-extras~master~I6c7159a7b75bf052168ef65964f177098bc06090,openstack/tripleo-quickstart-extras,master,I6c7159a7b75bf052168ef65964f177098bc06090,[DNM] Test master patches in victoria,ABANDONED,2020-10-29 09:10:53.000000000,2021-03-04 12:21:38.000000000,,"[{'_account_id': 18846}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-29 09:10:53.000000000', 'files': ['zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f86673f2cbb4ca4285f73e10ee11b4458635008f', 'message': '[DNM] Test master patches in victoria\n\nChange-Id: I6c7159a7b75bf052168ef65964f177098bc06090\n'}]",0,760306,f86673f2cbb4ca4285f73e10ee11b4458635008f,4,2,1,13861,,,0,"[DNM] Test master patches in victoria

Change-Id: I6c7159a7b75bf052168ef65964f177098bc06090
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/06/760306/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml']",2,f86673f2cbb4ca4285f73e10ee11b4458635008f,testvictoria," - release in [item.branch, 'victoria'] or (zuul.project.name | default("""") == rdoinfo_repo_name) or (osp_release is defined and osp_release in item.branch)"," - (item.branch == zuul.override_checkout | default(zuul.branch)) or (osp_release is defined and osp_release in item.branch) - release in item.branch or (zuul.project.name | default("""") == rdoinfo_repo_name) or (osp_release is defined and osp_release in item.branch)",2,49
openstack%2Fglance~master~Ib8ba89cd9975fafcae97c06887c2dc852f621250,openstack/glance,master,Ib8ba89cd9975fafcae97c06887c2dc852f621250,Fix missing backend deletion of disabled images,ABANDONED,2021-01-28 12:22:58.000000000,2021-03-04 12:20:55.000000000,,"[{'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 26832}]","[{'number': 1, 'created': '2021-01-28 12:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ec4f5b140fd3e22dc60949cf5eb6914fc363545e', 'message': ""Fix missing backend deletion of disabled images\n\nDeletion of images from their backend location currently uses the locations that\nare included in the image 'locations' property. This property is filled using a\nnormal get call with the calling users privileges. For disabled images a\nnon-admin user receives an empty 'locations' property [1]. This causes a delete call\nfor an in-use image to succeed and to be deleted from the database, while still being\nin the backend store.\n\nTo work around this issue a second call with admin privileges is made to get the\nfull image information including the locations.\n\nThe same function is also used for newly created images that are not yet\npersisted in the database. We only do the admin get call if the image is acutally loaded\nfrom a database and otherwise use the old behaviour.\n\n[1] db/sqlalchemy/api.py Line 215\n\nChange-Id: Ib8ba89cd9975fafcae97c06887c2dc852f621250\n""}, {'number': 2, 'created': '2021-02-17 13:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8756aeb9e22ee52aa971b374c60a7ceb6c2e033d', 'message': ""Fix missing backend deletion of disabled images\n\nDeletion of images from their backend location currently uses the locations that\nare included in the image 'locations' property. This property is filled using a\nnormal get call with the calling users privileges. For disabled images a\nnon-admin user receives an empty 'locations' property [1]. This causes a delete call\nfor an in-use image to succeed and to be deleted from the database, while still being\nin the backend store.\n\nTo work around this issue a second call with admin privileges is made to get the\nfull image information including the locations.\n\nThe same function is also used for newly created images that are not yet\npersisted in the database. We only do the admin get call if the image is acutally loaded\nfrom a database and otherwise use the old behaviour.\n\n[1] db/sqlalchemy/api.py Line 215\n\nChange-Id: Ib8ba89cd9975fafcae97c06887c2dc852f621250\n""}, {'number': 3, 'created': '2021-03-02 12:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc9f5b56d5027ce253ab9f68d678ba480bbb30a4', 'message': ""Fix missing backend deletion of disabled images\n\nDeletion of images from their backend location currently uses the locations that\nare included in the image 'locations' property. This property is filled using a\nnormal get call with the calling users privileges. For disabled images a\nnon-admin user receives an empty 'locations' property [1]. This causes a delete call\nfor an in-use image to succeed and to be deleted from the database, while still being\nin the backend store.\n\nTo work around this issue a second call with admin privileges is made to get the\nfull image information including the locations.\n\nThe same function is also used for newly created images that are not yet\npersisted in the database. We only do the admin get call if the image is acutally loaded\nfrom a database and otherwise use the old behaviour.\n\n[1] db/sqlalchemy/api.py Line 215\n\nChange-Id: Ib8ba89cd9975fafcae97c06887c2dc852f621250\n""}, {'number': 4, 'created': '2021-03-02 14:22:34.000000000', 'files': ['glance/location.py', 'glance/tests/unit/test_db.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/becd3984640ad18f47f3c84b60115e114624af91', 'message': ""Fix missing backend deletion of disabled images\n\nDeletion of images from their backend location currently uses the locations that\nare included in the image 'locations' property. This property is filled using a\nnormal get call with the calling users privileges. For disabled images a\nnon-admin user receives an empty 'locations' property [1]. This causes a delete call\nfor an in-use image to succeed and to be deleted from the database, while still being\nin the backend store.\n\nTo work around this issue a second call with admin privileges is made to get the\nfull image information including the locations.\n\nThe same function is also used for newly created images that are not yet\npersisted in the database. We only do the admin get call if the image is acutally loaded\nfrom a database and otherwise use the old behaviour.\n\n[1] db/sqlalchemy/api.py Line 215\n\nChange-Id: Ib8ba89cd9975fafcae97c06887c2dc852f621250\nCloses-Bug: #1917469\n""}]",0,772872,becd3984640ad18f47f3c84b60115e114624af91,31,3,4,29074,,,0,"Fix missing backend deletion of disabled images

Deletion of images from their backend location currently uses the locations that
are included in the image 'locations' property. This property is filled using a
normal get call with the calling users privileges. For disabled images a
non-admin user receives an empty 'locations' property [1]. This causes a delete call
for an in-use image to succeed and to be deleted from the database, while still being
in the backend store.

To work around this issue a second call with admin privileges is made to get the
full image information including the locations.

The same function is also used for newly created images that are not yet
persisted in the database. We only do the admin get call if the image is acutally loaded
from a database and otherwise use the old behaviour.

[1] db/sqlalchemy/api.py Line 215

Change-Id: Ib8ba89cd9975fafcae97c06887c2dc852f621250
Closes-Bug: #1917469
",git fetch https://review.opendev.org/openstack/glance refs/changes/72/772872/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/location.py', 'glance/tests/unit/test_db.py', 'glance/tests/unit/v2/test_images_resource.py']",3,ec4f5b140fd3e22dc60949cf5eb6914fc363545e,fix_delete_disabled_image," def test_delete_deactivated_nonadmin(self): request = unit_test_utils.get_fake_request(is_admin=False) image = self.controller.show(request, UUID1) self.action_controller.deactivate(request, UUID1) with mock.patch.object(self.store_utils, 'delete_image_location_from_backend' ) as mock_store: self.controller.delete(request, UUID1) mock_store.assert_called_with(request.context, UUID1, image.locations[0]) ",,64,16
openstack%2Ftripleo-common~stable%2Fussuri~Ic0c9434241e724f1def7f36684aba45245fc285c,openstack/tripleo-common,stable/ussuri,Ic0c9434241e724f1def7f36684aba45245fc285c,[DNM] Test NFV SIG builds with Ussuri,ABANDONED,2020-11-06 05:33:20.000000000,2021-03-04 12:20:32.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-06 05:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/99b78346d4e9ba449d88533a495fba1554d3b8f3', 'message': '[DNM] Test NFV SIG builds with Ussuri\n\nDepends-On: https://review.opendev.org/761698\nChange-Id: Ic0c9434241e724f1def7f36684aba45245fc285c\n'}, {'number': 2, 'created': '2020-11-09 05:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f01aa31e299b7fa37008d60f59a04df10486670', 'message': '[DNM] Test NFV SIG builds with Ussuri\n\nDepends-On: https://review.opendev.org/#/c/761856/\nDepends-On: https://review.opendev.org/761698\nChange-Id: Ic0c9434241e724f1def7f36684aba45245fc285c\n'}, {'number': 3, 'created': '2020-11-09 11:02:23.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2caefd16b4afe7a82118223d8ff791e2f91d9ef1', 'message': '[DNM] Test NFV SIG builds with Ussuri\n\nDepends-On: https://review.opendev.org/761887\nDepends-On: https://review.opendev.org/#/c/761856/\nDepends-On: https://review.opendev.org/761698\nChange-Id: Ic0c9434241e724f1def7f36684aba45245fc285c\n'}]",0,761699,2caefd16b4afe7a82118223d8ff791e2f91d9ef1,19,3,3,13861,,,0,"[DNM] Test NFV SIG builds with Ussuri

Depends-On: https://review.opendev.org/761887
Depends-On: https://review.opendev.org/#/c/761856/
Depends-On: https://review.opendev.org/761698
Change-Id: Ic0c9434241e724f1def7f36684aba45245fc285c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/761699/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'zuul.d/layout.yaml']",2,99b78346d4e9ba449d88533a495fba1554d3b8f3,nfvsig-ussuri,, files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$ files: - workbooks/package_update.yaml - workbooks/baremetal.yaml - ^container-images/.*$ - tripleo_common/actions/deployment.py - tripleo_common/actions/container_images.py - tripleo_common/image/kolla_builder.py - scripts/.*$ files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$ files: - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ - ^container-images/tcib/base/os/sahara.*$ files: - ^container-images/tcib/base/os/manila.*$ files: - ^container-images/tcib/base/os/neutron.*$ files: - ^container-images/tcib/base/os/octavia.*$,1,32
openstack%2Ftripleo-quickstart~master~Id4e02e54fc478163ac4e5dbb5a95b16a69f9f457,openstack/tripleo-quickstart,master,Id4e02e54fc478163ac4e5dbb5a95b16a69f9f457,[DNM] Test NFV SIG builds with Ussuri,ABANDONED,2020-11-06 05:30:29.000000000,2021-03-04 12:20:28.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-06 05:30:29.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2c06fdb8cad2ba570f6acf17fc1109187d8ad612', 'message': '[DNM] Test NFV SIG builds with Ussuri\n\nChange-Id: Id4e02e54fc478163ac4e5dbb5a95b16a69f9f457\n'}]",0,761698,2c06fdb8cad2ba570f6acf17fc1109187d8ad612,5,3,1,13861,,,0,"[DNM] Test NFV SIG builds with Ussuri

Change-Id: Id4e02e54fc478163ac4e5dbb5a95b16a69f9f457
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/98/761698/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'zuul.d/layout.yaml']",2,2c06fdb8cad2ba570f6acf17fc1109187d8ad612,nfvsig-ussuri, check: jobs: [], - openstack-tox-molecule check: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - config/general_config/featureset030.yml gate: queue: tripleo jobs: - openstack-tox-linters,2,21
openstack%2Fpuppet-openstack-integration~master~I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5,openstack/puppet-openstack-integration,master,I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5,[DNM] Check repos centos8,ABANDONED,2020-12-18 07:47:09.000000000,2021-03-04 12:19:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-18 07:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c5a2a85cf20077bb40240462e9ecb5dc3c2bcd5f', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}, {'number': 2, 'created': '2020-12-18 09:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e5216fa37e1a0ce4584f74fabe919f8f222aa367', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}, {'number': 3, 'created': '2020-12-18 09:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1517ff4e2d500df6625ba9c994dc09ee20a92091', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}, {'number': 4, 'created': '2020-12-18 09:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f3e6aef001d9884740201646dcdc06cd5daf7422', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}, {'number': 5, 'created': '2020-12-18 09:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/37312e0d0aca32bc694f0803b3b126a09614aee9', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}, {'number': 6, 'created': '2020-12-18 09:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1c16f816e1a4b6488cc75a51f5b6e4b69dd2667d', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}, {'number': 7, 'created': '2020-12-18 09:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b78ad3b0bf28b5e16e9058e959af213edfa2bd36', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}, {'number': 8, 'created': '2020-12-18 10:36:34.000000000', 'files': ['run_tests.sh', 'playbooks/prepare-node-common.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b1a9356231c201e447177fb20260e5ade4c68231', 'message': '[DNM] Check repos centos8\n\nChange-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5\n'}]",1,767673,b1a9356231c201e447177fb20260e5ade4c68231,21,1,8,13861,,,0,"[DNM] Check repos centos8

Change-Id: I111aa3b3fe7747a14c3b9ec2aceab2732147d6e5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/767673/8 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'zuul.d/layout.yaml']",2,c5a2a85cf20077bb40240462e9ecb5dc3c2bcd5f,openstack/puppet/constraints,, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario002-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario003-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario004-tempest-ubuntu-bionic - puppet-openstack-integration-6-scenario002-tempest-centos-8 - puppet-openstack-integration-6-scenario003-tempest-centos-8 - puppet-openstack-integration-6-scenario004-tempest-centos-8,3,7
openstack%2Ftripleo-quickstart~master~I6eea664c79f177b5e76427d98c45b032865e383e,openstack/tripleo-quickstart,master,I6eea664c79f177b5e76427d98c45b032865e383e,[DNM] Test ci.centos job with consistent repo,ABANDONED,2021-01-07 07:35:56.000000000,2021-03-04 12:15:52.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-01-07 07:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/39a427df7e6ed14c6926522fd14849a17459a696', 'message': '[DNM] Test ci.centos job with current-tripleo\n\ngate jobs should run with current-tripleo instead\nlike other green jobs. just for test in next PS\nwill update master-current-tripleo and use that\ninstead in job.\n\nChange-Id: I6eea664c79f177b5e76427d98c45b032865e383e\n'}, {'number': 2, 'created': '2021-01-07 12:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/93b9d1baf02761c2ece4f733cc982920c4b938de', 'message': '[DNM] Test ci.centos job with current-tripleo\n\ngate jobs should run with current-tripleo instead\nlike other green jobs. just for test in next PS\nwill update master-current-tripleo and use that\ninstead in job.\n\nChange-Id: I6eea664c79f177b5e76427d98c45b032865e383e\n'}, {'number': 3, 'created': '2021-01-08 05:19:03.000000000', 'files': ['config/release/trunk/master.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7e38fc611676bd4ebed484640523ff3c9e7a2946', 'message': '[DNM] Test ci.centos job with consistent repo\n\ngate jobs should run with current-tripleo instead\nlike other green jobs. just for test in next PS\nwill update master-current-tripleo and use that\ninstead in job.\n\nChange-Id: I6eea664c79f177b5e76427d98c45b032865e383e\n'}]",0,769678,7e38fc611676bd4ebed484640523ff3c9e7a2946,7,1,3,13861,,,0,"[DNM] Test ci.centos job with consistent repo

gate jobs should run with current-tripleo instead
like other green jobs. just for test in next PS
will update master-current-tripleo and use that
instead in job.

Change-Id: I6eea664c79f177b5e76427d98c45b032865e383e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/769678/3 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/trunk/master.yml', 'zuul.d/layout.yaml']",2,39a427df7e6ed14c6926522fd14849a17459a696,, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-tox-molecule check: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - config/general_config/featureset030.yml gate: queue: tripleo jobs: - openstack-tox-linters,2,28
openstack%2Ftripleo-common~master~I985de3952d5e8c4da5f5af74dbf1f03f60bfa465,openstack/tripleo-common,master,I985de3952d5e8c4da5f5af74dbf1f03f60bfa465,[DNM] Test less workers,ABANDONED,2021-01-08 12:27:26.000000000,2021-03-04 12:15:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-08 12:27:26.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd29ee64ed75ee646123427002bff8299461309b', 'message': '[DNM] Test less workers\n\nfor vexxhost timeouts.\n\nChange-Id: I985de3952d5e8c4da5f5af74dbf1f03f60bfa465\n'}]",0,769914,fd29ee64ed75ee646123427002bff8299461309b,11,2,1,13861,,,0,"[DNM] Test less workers

for vexxhost timeouts.

Change-Id: I985de3952d5e8c4da5f5af74dbf1f03f60bfa465
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/769914/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'zuul.d/layout.yaml']",2,fd29ee64ed75ee646123427002bff8299461309b,,- job: name: tripleo-ci-centos-8-content-provider-1 parent: tripleo-ci-centos-8-content-provider - job: name: tripleo-ci-centos-8-content-provider-2 parent: tripleo-ci-centos-8-content-provider - job: name: tripleo-ci-centos-8-content-provider-3 parent: tripleo-ci-centos-8-content-provider - job: name: tripleo-ci-centos-8-content-provider-4 parent: tripleo-ci-centos-8-content-provider - job: name: tripleo-ci-centos-8-content-provider-5 parent: tripleo-ci-centos-8-content-provider - job: name: tripleo-ci-centos-8-content-provider-6 parent: tripleo-ci-centos-8-content-provider - job: name: tripleo-ci-centos-8-content-provider-7 parent: tripleo-ci-centos-8-content-provider - project: - tripleo-ci-centos-8-content-provider-1 - tripleo-ci-centos-8-content-provider-2 - tripleo-ci-centos-8-content-provider-3 - tripleo-ci-centos-8-content-provider-4 - tripleo-ci-centos-8-content-provider-5 - tripleo-ci-centos-8-content-provider-6 - tripleo-ci-centos-8-content-provider-7,- project: templates: - check-requirements - openstack-cover-jobs - openstack-python3-wallaby-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-multinode-container-minimal-pipeline - tripleo-undercloud-jobs-pipeline - tripleo-build-containers-jobs - tripleo-standalone-scenarios-pipeline - tripleo-upgrades-master-pipeline - openstack-tox-linters - openstack-tox-py36 - openstack-tox-py37 - openstack-tox-py38 - tripleo-cross-tripleoclient-py37 - tripleo-ci-centos-8-content-provider: dependencies: &deps_unit_lint - openstack-tox-linters - openstack-tox-py36 - openstack-tox-py37 - openstack-tox-py38 - tripleo-ci-centos-8-containers-multinode: vars: &multi_consumer_vars consumer_job: true build_container_images: false tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-post-install - tripleo-validations - overcloud-scripts - overcloud-prep-config - overcloud-prep-containers - overcloud-deploy - overcloud-post-deploy - overcloud-validate dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-validate dependencies: *deps_cprovider - tripleo-ci-centos-8-standalone: vars: &sa_consumer_vars consumer_job: true build_container_images: false tags: - standalone dependencies: *deps_cprovider - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$ - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: vars: *multi_consumer_vars dependencies: *deps_cprovider files: - workbooks/package_update.yaml - workbooks/baremetal.yaml - ^container-images/.*$ - tripleo_common/actions/deployment.py - tripleo_common/actions/container_images.py - tripleo_common/image/kolla_builder.py - scripts/.*$ - tripleo-ci-centos-8-scenario001-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$ - tripleo-ci-centos-8-scenario002-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider - tripleo-ci-centos-8-scenario003-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ - tripleo-ci-centos-8-scenario004-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/manila.*$ - tripleo-ci-centos-8-scenario007-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/neutron.*$ - tripleo-ci-centos-8-scenario010-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/octavia.*$ - tripleo-buildimage-overcloud-full-centos-8: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ gate: queue: tripleo jobs: - openstack-tox-py37 - openstack-tox-linters - tripleo-cross-tripleoclient-py37 - tripleo-buildimage-overcloud-full-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: files: - ^image-yaml/.*$ - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$,36,142
openstack%2Ftripleo-quickstart-extras~master~Iaff0e86d2deae13b54dad20b4063ae3e54203518,openstack/tripleo-quickstart-extras,master,Iaff0e86d2deae13b54dad20b4063ae3e54203518,[DNM] test branchless project build in train,ABANDONED,2021-01-12 14:07:12.000000000,2021-03-04 12:15:22.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-01-12 14:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9ba7486d05b9b5b3a6b658cef379f6b113cf58c0', 'message': '[DNM] test branchless project build in train\n\nDepends-On: https://review.rdoproject.org/r/#/c/31529/\nChange-Id: Iaff0e86d2deae13b54dad20b4063ae3e54203518\n'}, {'number': 2, 'created': '2021-01-12 17:28:47.000000000', 'files': ['roles/build-test-packages/tasks/dlrn-build.yml', 'zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3477fa135bfd42a489ec441c80702a98387a0ef7', 'message': '[DNM] test branchless project build in train\n\nDepends-On: https://review.rdoproject.org/r/#/c/31529/\nChange-Id: Iaff0e86d2deae13b54dad20b4063ae3e54203518\n'}]",0,770347,3477fa135bfd42a489ec441c80702a98387a0ef7,5,1,2,13861,,,0,"[DNM] test branchless project build in train

Depends-On: https://review.rdoproject.org/r/#/c/31529/
Change-Id: Iaff0e86d2deae13b54dad20b4063ae3e54203518
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/770347/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml']",2,9ba7486d05b9b5b3a6b658cef379f6b113cf58c0,venv-py3,," - (item.branch == zuul.override_checkout | default(zuul.branch)) or (osp_release is defined and osp_release in item.branch) - release in item.branch or (zuul.project.name | default("""") == rdoinfo_repo_name) or (osp_release is defined and osp_release in item.branch)",1,44
openstack%2Fglance~master~I92f3a35ae5d32c5204fa9a8a6d9e4d5664ab6c8a,openstack/glance,master,I92f3a35ae5d32c5204fa9a8a6d9e4d5664ab6c8a,"[DNM] Test Revert ""Remove native ssl support""",ABANDONED,2021-02-03 06:42:28.000000000,2021-03-04 12:10:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-03 06:42:28.000000000', 'files': ['broken-functional-py3-ssl-tests.txt', 'glance/tests/functional/test_reload.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/tests/unit/common/test_utils.py', 'glance/common/utils.py', 'glance/common/wsgi.py', '.zuul.yaml', 'glance/tests/functional/__init__.py', 'glance/tests/functional/test_ssl.py', 'tox.ini', 'releasenotes/notes/remove_native_ssl-c16d5a127b57583d.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/891ee8598bcd01f72fc092a221ff3a30802d46e6', 'message': '[DNM] Test Revert ""Remove native ssl support""\n\nSee if it works with recent eventlet, in some of\nour tests it seems to work now, trying it in gate.\n\nThis reverts commit 06b2465f598c014451c244d47c2ded4f1e2c6947.\n\nChange-Id: I92f3a35ae5d32c5204fa9a8a6d9e4d5664ab6c8a\n'}]",0,773838,891ee8598bcd01f72fc092a221ff3a30802d46e6,4,1,1,13861,,,0,"[DNM] Test Revert ""Remove native ssl support""

See if it works with recent eventlet, in some of
our tests it seems to work now, trying it in gate.

This reverts commit 06b2465f598c014451c244d47c2ded4f1e2c6947.

Change-Id: I92f3a35ae5d32c5204fa9a8a6d9e4d5664ab6c8a
",git fetch https://review.opendev.org/openstack/glance refs/changes/38/773838/1 && git format-patch -1 --stdout FETCH_HEAD,"['broken-functional-py3-ssl-tests.txt', 'glance/tests/functional/test_reload.py', 'glance/tests/unit/common/test_utils.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/common/utils.py', 'glance/common/wsgi.py', '.zuul.yaml', 'glance/tests/functional/__init__.py', 'glance/tests/functional/test_ssl.py', 'tox.ini', 'releasenotes/notes/remove_native_ssl-c16d5a127b57583d.yaml']",11,891ee8598bcd01f72fc092a221ff3a30802d46e6,,,"--- upgrade: - | If upgrade is conducted from PY27 where ssl connections has been terminated into glance-api, the termination needs to happen externally from now on. security: - | The ssl support from Glance has been removed as it worked only under PY27 which is not anymore supported environment. Termination of encrypted connections needs to happen externally as soon as move to PY3 happens. Any deployment needing end to end encryption would need to put either reverse proxy (using fully blown http server like Apache or Nginx will cause significant performance hit and we advice using something more simple that does not break the http protocol) in front of the service or utilize ssl tunneling (like stunnel) between loadbalancers and glance-api. ",460,125
openstack%2Fcharm-hacluster~master~Ia6315273030e31b10125f2dd7a7fb7507d8a10b7,openstack/charm-hacluster,master,Ia6315273030e31b10125f2dd7a7fb7507d8a10b7,Fully deprecate stonith_enabled config option,MERGED,2021-03-04 09:53:08.000000000,2021-03-04 12:08:25.000000000,2021-03-04 12:08:25.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 09:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/fde42fb29b6aaa5d90decb36005aa902dae29796', 'message': ""Fully deprecate stonith_enabled config option\n\nThis is already deprecated since June 2020 thanks\nto a 'blocked' message in assess_status_helper()\nbut this commit:\n1. makes it clear in config.yaml, and\n2. removes the corresponding already dead code.\n\nChange-Id: Ia6315273030e31b10125f2dd7a7fb7507d8a10b7\n""}, {'number': 2, 'created': '2021-03-04 10:10:45.000000000', 'files': ['hooks/utils.py', 'config.yaml', 'hooks/pcmk.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a9191136dc604aee45cb58ecad88b3f790b647a7', 'message': ""Fully deprecate stonith_enabled config option\n\nThis is already deprecated since June 2020 thanks\nto a 'blocked' message in assess_status_helper()\nbut this commit:\n1. makes it clear in config.yaml, and\n2. removes the corresponding already dead code.\n\nChange-Id: Ia6315273030e31b10125f2dd7a7fb7507d8a10b7\n""}]",0,778626,a9191136dc604aee45cb58ecad88b3f790b647a7,10,3,2,31289,,,0,"Fully deprecate stonith_enabled config option

This is already deprecated since June 2020 thanks
to a 'blocked' message in assess_status_helper()
but this commit:
1. makes it clear in config.yaml, and
2. removes the corresponding already dead code.

Change-Id: Ia6315273030e31b10125f2dd7a7fb7507d8a10b7
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/26/778626/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'config.yaml', 'hooks/pcmk.py']",3,fde42fb29b6aaa5d90decb36005aa902dae29796,deprecate-stonith-enabled,,"def _maas_ipmi_stonith_resource(node, power_params): rsc_name = 'res_stonith_%s' % node rsc = ('primitive %s stonith:external/ipmi params hostname=%s ipaddr=%s ' 'userid=%s passwd=%s interface=lan' % (rsc_name, node, power_params['power_address'], power_params['power_user'], power_params['power_pass'])) # ensure ipmi stonith agents are not running on the nodes that # they manage. constraint = ('location const_loc_stonith_avoid_%s %s -inf: %s' % (node, rsc_name, node)) return rsc, constraint def maas_stonith_primitive(maas_nodes, crm_node): power_type = power_params = None for node in maas_nodes: if node['hostname'].startswith(crm_node): power_type = node['power_type'] power_params = node['power_parameters'] if not power_type or not power_params: return False, False rsc = constraint = None # we can extend to support other power flavors in the future? if power_type == 'ipmi': rsc, constraint = _maas_ipmi_stonith_resource(crm_node, power_params) else: log('Unsupported STONITH power_type: %s' % power_type, ERROR) return False, False if not rsc or not constraint: return False, False return rsc, constraint ",4,97
openstack%2Fkayobe~master~Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,openstack/kayobe,master,Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,Add ipa_build_upper_constraints_file variable,MERGED,2021-02-16 20:57:22.000000000,2021-03-04 12:00:58.000000000,2021-03-04 11:58:52.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-16 20:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8cd41659a0a188f54ffac917b753e41514ce15e0', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n'}, {'number': 2, 'created': '2021-02-19 15:14:04.000000000', 'files': ['doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'releasenotes/notes/ipa-build-upper-constraints-5686abaa161b0d94.yaml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/56c1a886f5dc0683084495745fe54e27e0de08eb', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n'}]",2,775934,56c1a886f5dc0683084495745fe54e27e0de08eb,17,4,2,15197,,,0,"Add ipa_build_upper_constraints_file variable

This variable allows to customise the upper constraints file used to
install packages inside the ipa-build-dib virtual environment. This can
be used when we need a newer version of diskimage-builder than the one
available in upper constraints for the current release.

Change-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/34/775934/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'releasenotes/notes/ipa-build-upper-constraints-5686abaa161b0d94.yaml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml']",6,8cd41659a0a188f54ffac917b753e41514ce15e0,ipa-build-uc,# Upper constraints file for installing packages in the virtual environment # used for building IPA images. Default is {{ pip_upper_constraints_file }}. #ipa_build_upper_constraints_file: ,,20,2
openstack%2Fironic-python-agent~stable%2Fussuri~I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14,openstack/ironic-python-agent,stable/ussuri,I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14,Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder,MERGED,2021-03-02 09:15:14.000000000,2021-03-04 11:44:18.000000000,2021-03-04 11:39:56.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-02 09:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ef9070e62c86a2423d8ca98ee927fd1e23d34d19', 'message': 'Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n\nThe generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses\nUPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.\n\nChange-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14\n'}, {'number': 2, 'created': '2021-03-02 10:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7d6c1d6daaa655d4af4ae025a36103902865577a', 'message': 'Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n\nThe generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses\nUPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.\n\nAlso remove duplicate option in ipa-tempest-wholedisk-bios-ipmi-direct-dib-src\n\nChange-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14\n'}, {'number': 3, 'created': '2021-03-02 10:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f09b9f599f2189928031d8e75f41274c4f0d57e4', 'message': 'Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n\nThe generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses\nUPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.\n\nAlso remove duplicate option in ironic-ipa-dib-base\n\nChange-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14\n'}, {'number': 4, 'created': '2021-03-02 11:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9b7f299e7d3241cc8cfc6b9d4e4574337f3fe72d', 'message': ""Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n\nThe generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses\nUPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.\n\nAlso remove duplicate option in ironic-ipa-dib-base and use bionic for\nthe publish job so we're sure to use the correct kernel as base.\n\nChange-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14\n""}, {'number': 5, 'created': '2021-03-02 14:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4f324422bfe65db5f0f690aec5a86fbb1065c48b', 'message': ""Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n\nThe generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses\nUPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.\n\nAlso remove duplicate option in ironic-ipa-dib-base and use bionic for\nthe tinyipa jobs so we're sure to use the correct kernel when building\nthe ipa ramdisk.\n\nChange-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14\n""}, {'number': 6, 'created': '2021-03-02 14:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0e3009f7dbd4c93bcb24ebb5e0ec5c9185305056', 'message': ""Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n\nThe generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses\nUPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.\n\nAlso remove duplicate option in ironic-ipa-dib-base and use bionic for\nthe tinyipa jobs so we're sure to use the correct kernel when building\nthe ipa ramdisk.\n\nChange-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14\n""}, {'number': 7, 'created': '2021-03-02 16:28:33.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b9c9b0be10ad960244f41b5b79229746ff34d15a', 'message': ""Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder\n\nThe generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses\nUPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.\n\nAlso remove duplicate option in ironic-ipa-dib-base and use bionic for\nthe tinyipa jobs so we're sure to use the correct kernel when building\nthe ipa ramdisk.\n\nChange-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14\n""}]",2,778153,b9c9b0be10ad960244f41b5b79229746ff34d15a,30,3,7,23851,,,0,"Use UPPER_CONSTRAINTS_FILE to deal with ipa-builder

The generate_upper_constraints.sh script in ipa-builder 2.2.0 still uses
UPPER_CONSTRAINTS_FILE as fallback to get the upper constraints file.

Also remove duplicate option in ironic-ipa-dib-base and use bionic for
the tinyipa jobs so we're sure to use the correct kernel when building
the ipa ramdisk.

Change-Id: I1883dc3b1b290f1f2f60dad5e5af57ceffba9d14
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/778153/7 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ef9070e62c86a2423d8ca98ee927fd1e23d34d19,use-upper-constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri},1,1
openstack%2Ftripleo-heat-templates~master~I7b82364bee7fcc3a89d36255b0c8507cdd1d5a38,openstack/tripleo-heat-templates,master,I7b82364bee7fcc3a89d36255b0c8507cdd1d5a38,Remove default plan-environment.yaml,MERGED,2021-02-24 04:12:15.000000000,2021-03-04 11:27:49.000000000,2021-03-04 11:27:49.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 04:12:15.000000000', 'files': ['plan-environment.yaml', 'plan-samples/plan-environment-derived-params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/147335f79983d34e7decab4be1fa98d44e120447', 'message': 'Remove default plan-environment.yaml\n\nLeft the one used for derive parameters that includes\nthe playbooks for derive parameters.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777293\nChange-Id: I7b82364bee7fcc3a89d36255b0c8507cdd1d5a38\n'}]",6,777294,147335f79983d34e7decab4be1fa98d44e120447,21,5,1,8833,,,0,"Remove default plan-environment.yaml

Left the one used for derive parameters that includes
the playbooks for derive parameters.

Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777293
Change-Id: I7b82364bee7fcc3a89d36255b0c8507cdd1d5a38
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/777294/1 && git format-patch -1 --stdout FETCH_HEAD,"['plan-environment.yaml', 'plan-samples/plan-environment-derived-params.yaml']",2,147335f79983d34e7decab4be1fa98d44e120447,,, name: overcloud description: > Default Deployment plan template: overcloud.yaml environments: - path: overcloud-resource-registry-puppet.yaml,0,15
openstack%2Fkolla-ansible~stable%2Fussuri~I77791d504327ace880d0cc2438af2f8ced66d4eb,openstack/kolla-ansible,stable/ussuri,I77791d504327ace880d0cc2438af2f8ced66d4eb,CI: Add ssh retries,MERGED,2021-03-03 17:27:29.000000000,2021-03-04 11:07:39.000000000,2021-03-04 11:06:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-03 17:27:29.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8581dad2fa4fc202ad691d398f6aa775fd73b0db', 'message': 'CI: Add ssh retries\n\nChange-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb\n(cherry picked from commit a8981a79aac09ab5529245a6348c0ed83e3a0211)\n'}]",0,778429,8581dad2fa4fc202ad691d398f6aa775fd73b0db,9,4,1,30491,,,0,"CI: Add ssh retries

Change-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb
(cherry picked from commit a8981a79aac09ab5529245a6348c0ed83e3a0211)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/778429/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,8581dad2fa4fc202ad691d398f6aa775fd73b0db,,retries = 3,,1,0
openstack%2Freleases~master~I7aebf2d0355495b9d8e05854bae658ccd1d2fb59,openstack/releases,master,I7aebf2d0355495b9d8e05854bae658ccd1d2fb59,add cyborg release highlights,MERGED,2021-03-01 10:05:31.000000000,2021-03-04 10:49:07.000000000,2021-03-04 10:49:07.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 13629}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 10:05:31.000000000', 'files': ['deliverables/wallaby/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc036420a34ccd1755b290ea6db8d56385e50a82', 'message': 'add cyborg release highlights\n\nChange-Id: I7aebf2d0355495b9d8e05854bae658ccd1d2fb59\n'}]",2,777967,bc036420a34ccd1755b290ea6db8d56385e50a82,11,4,1,25738,,,0,"add cyborg release highlights

Change-Id: I7aebf2d0355495b9d8e05854bae658ccd1d2fb59
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/777967/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cyborg.yaml'],1,bc036420a34ccd1755b290ea6db8d56385e50a82,,"launchpad: openstack-cyborgcycle-highlights: - | Users can launch instances with accelerators managed by Cyborg since Ussuri release, this release more operations such as Shelve/Unshelve are supported. See accelerator operation guide to find all supported operations. - | Cyborg introduces more new accelerator drivers such as Intel NIC and Inspur SSD driver which allow user to boot up a VM with such device attached. - | Cyborg now provides a new configuration for user to configure their devices, for example, user can indicate the vgpu type for their virtualized GPU, user can indicate the specific functions loaded on their NIC, etc.",,16,0
openstack%2Fopenstack-ansible-os_placement~master~I2197cf5a9a19e6af0912f21dcc12cd7551dc2e85,openstack/openstack-ansible-os_placement,master,I2197cf5a9a19e6af0912f21dcc12cd7551dc2e85,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 18:06:56.000000000,2021-03-04 10:36:53.000000000,2021-03-04 10:35:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 18:06:56.000000000', 'files': ['tasks/main.yml', 'tasks/placement_install.yml', 'vars/redhat.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/3fcf5109596d70d7de984ca92dec1afceaa2d655', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I2197cf5a9a19e6af0912f21dcc12cd7551dc2e85\n'}]",0,777181,3fcf5109596d70d7de984ca92dec1afceaa2d655,9,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I2197cf5a9a19e6af0912f21dcc12cd7551dc2e85
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/81/777181/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/placement_install.yml', 'vars/redhat.yml', 'meta/main.yml']",4,3fcf5109596d70d7de984ca92dec1afceaa2d655,osa-facts, - ansible_facts['pkg_mgr'] == 'apt', - ansible_pkg_mgr == 'apt',10,10
openstack%2Fopenstack-ansible-os_keystone~master~I8721b4fa97b41fb0c92f9eb99b61d31634e9aac6,openstack/openstack-ansible-os_keystone,master,I8721b4fa97b41fb0c92f9eb99b61d31634e9aac6,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 18:06:20.000000000,2021-03-04 10:35:24.000000000,2021-03-04 10:33:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 18:06:20.000000000', 'files': ['tasks/main.yml', 'tasks/keystone_install.yml', 'handlers/main.yml', 'defaults/main.yml', 'tasks/keystone_apache.yml', 'meta/main.yml', 'tasks/keystone_nginx.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/489c169874bcd4fa6a0caa69b5e8489754e3a60a', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I8721b4fa97b41fb0c92f9eb99b61d31634e9aac6\n'}]",0,777180,489c169874bcd4fa6a0caa69b5e8489754e3a60a,11,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I8721b4fa97b41fb0c92f9eb99b61d31634e9aac6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/80/777180/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/keystone_install.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/keystone_apache.yml', 'tasks/keystone_nginx.yml', 'vars/suse.yml']",8,489c169874bcd4fa6a0caa69b5e8489754e3a60a,osa-facts," - ""{{ (ansible_facts['distribution_version'] is version ('42', '>=')) | ternary('patterns-openSUSE-devel_basis', 'patterns-devel-base-devel_basis') }}"""," - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('patterns-openSUSE-devel_basis', 'patterns-devel-base-devel_basis') }}""",35,35
openstack%2Fopenstack-ansible-os_cinder~master~I299e71fac6efdb89655bd36de72b95400d7000aa,openstack/openstack-ansible-os_cinder,master,I299e71fac6efdb89655bd36de72b95400d7000aa,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 18:04:40.000000000,2021-03-04 10:33:25.000000000,2021-03-04 10:31:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 18:04:40.000000000', 'files': ['tasks/main.yml', 'vars/redhat.yml', 'tasks/cinder_backends.yml', 'handlers/main.yml', 'tasks/cinder_qos.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/a4653722ed352e2ac23f9bd175907a552860f856', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I299e71fac6efdb89655bd36de72b95400d7000aa\n'}]",0,777178,a4653722ed352e2ac23f9bd175907a552860f856,9,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I299e71fac6efdb89655bd36de72b95400d7000aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/78/777178/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'tasks/cinder_backends.yml', 'handlers/main.yml', 'tasks/cinder_qos.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/cinder_install.yml']",8,a4653722ed352e2ac23f9bd175907a552860f856,osa-facts," update_cache: ""{{ (ansible_facts['pkg_mgr'] in ['apt', 'zypper']) | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary(cache_timeout, omit) }}"""," update_cache: ""{{ (ansible_pkg_mgr in ['apt', 'zypper']) | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_pkg_mgr == 'apt') | ternary(cache_timeout, omit) }}""",23,23
openstack%2Fneutron~stable%2Fvictoria~I4749fdc6a6cabd253b971bf4010ff76f5593c59c,openstack/neutron,stable/victoria,I4749fdc6a6cabd253b971bf4010ff76f5593c59c,[OVS FW] Allow egress ICMPv6 only for know addresses,MERGED,2021-02-27 20:10:13.000000000,2021-03-04 10:25:31.000000000,2021-03-04 10:21:38.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 20:10:13.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13aaa32f77c2852a97cb72fd306cfedd253c4c3f', 'message': '[OVS FW] Allow egress ICMPv6 only for know addresses\n\nBefore that patch it was possible to send ICMPv6 packets like e.g.\n    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,\n    neutron_lib.constants.ICMPV6_TYPE_RS,\n    neutron_lib.constants.ICMPV6_TYPE_NS,\n    neutron_lib.constants.ICMPV6_TYPE_NA\n\nAnd that could cause some security issues as instance could advertise\nthat it owns IPv6 address which really don\'t belong to it.\n\nNow rules in table=71 which allows that traffic are ""per mac/ipaddress""\nand are allowed only for fixed ips allocated to port and port\'s\nallowed_address_pairs.\n\nCloses-Bug: #1902917\nChange-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c\n(cherry picked from commit 4b5bcff64c4725b37f094dfd2613ec58f723d304)\n'}]",0,777783,13aaa32f77c2852a97cb72fd306cfedd253c4c3f,12,3,1,11975,,,0,"[OVS FW] Allow egress ICMPv6 only for know addresses

Before that patch it was possible to send ICMPv6 packets like e.g.
    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,
    neutron_lib.constants.ICMPV6_TYPE_RS,
    neutron_lib.constants.ICMPV6_TYPE_NS,
    neutron_lib.constants.ICMPV6_TYPE_NA

And that could cause some security issues as instance could advertise
that it owns IPv6 address which really don't belong to it.

Now rules in table=71 which allows that traffic are ""per mac/ipaddress""
and are allowed only for fixed ips allocated to port and port's
allowed_address_pairs.

Closes-Bug: #1902917
Change-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c
(cherry picked from commit 4b5bcff64c4725b37f094dfd2613ec58f723d304)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/777783/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,13aaa32f77c2852a97cb72fd306cfedd253c4c3f,bug/1902917-stable/victoria,"from neutron.agent import firewall as agent_firewall allowed_pairs_v4 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv4) allowed_pairs_v6 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv6) port_name=""port-name"", allowed_pairs_v4=allowed_pairs_v4, allowed_pairs_v6=allowed_pairs_v6) def test__initialize_egress_ipv6_icmp(self): port_dict = { 'device': 'port-id', 'security_groups': [1], 'fixed_ips': [""10.0.0.1""], 'allowed_address_pairs': [ {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '192.168.1.1'}, {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '2003::1'} ]} of_port = create_ofport(port_dict) self.mock_bridge.br.db_get_val.return_value = {'tag': TESTING_VLAN_TAG} self.firewall._initialize_egress_ipv6_icmp( of_port, set([('aa:bb:cc:dd:ee:ff', '2003::1')])) expected_calls = [] for icmp_type in agent_firewall.ICMPV6_ALLOWED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, dl_src='aa:bb:cc:dd:ee:ff', ipv6_src='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE))) self.mock_bridge.br.add_flow.assert_has_calls(expected_calls) "," port_name=""port-name"")",69,25
openstack%2Foctavia~stable%2Ftrain~Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,openstack/octavia,stable/train,Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,Fix overriding default listener timeout values in config file,MERGED,2021-03-03 07:54:31.000000000,2021-03-04 10:25:09.000000000,2021-03-04 10:20:53.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 07:54:31.000000000', 'files': ['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0b357237aa9ec7ea7128122d350e92a6eeee1f10', 'message': 'Fix overriding default listener timeout values in config file\n\nThe default value for timeout parameters in the BaseListenerType was\nnot correctly set because the class was defined before reading the\nconfig file.\n\nConflicts:\n\toctavia/db/prepare.py\n\nStory 2008666\nTask 41953\n\nChange-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88\n(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)\n(cherry picked from commit bf7632e65b8458ff5e2e5dbf739299a36eac3d26)\n(cherry picked from commit 27230ba862cb0250463a4a2e04e96866681170f0)\n'}]",0,778379,0b357237aa9ec7ea7128122d350e92a6eeee1f10,11,4,1,29244,,,0,"Fix overriding default listener timeout values in config file

The default value for timeout parameters in the BaseListenerType was
not correctly set because the class was defined before reading the
config file.

Conflicts:
	octavia/db/prepare.py

Story 2008666
Task 41953

Change-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88
(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)
(cherry picked from commit bf7632e65b8458ff5e2e5dbf739299a36eac3d26)
(cherry picked from commit 27230ba862cb0250463a4a2e04e96866681170f0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/778379/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py']",5,0b357237aa9ec7ea7128122d350e92a6eeee1f10,," def test_create_with_default_timeouts(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='haproxy_amphora', timeout_client_data=20) self.conf.config(group='haproxy_amphora', timeout_member_connect=21) self.conf.config(group='haproxy_amphora', timeout_member_data=constants.MIN_TIMEOUT) self.conf.config(group='haproxy_amphora', timeout_tcp_inspect=constants.MAX_TIMEOUT) listener_api = self.test_create() self.assertEqual(20, listener_api.get('timeout_client_data')) self.assertEqual(21, listener_api.get('timeout_member_connect')) self.assertEqual(constants.MIN_TIMEOUT, listener_api.get('timeout_member_data')) self.assertEqual(constants.MAX_TIMEOUT, listener_api.get('timeout_tcp_inspect')) ",,100,21
openstack%2Ftripleo-validations~master~I86f5c9d5791f972f0f1ea79d410e0dc55ff2b35a,openstack/tripleo-validations,master,I86f5c9d5791f972f0f1ea79d410e0dc55ff2b35a,Designates zuul as dumb terminal to avoid mangled colored output,ABANDONED,2021-03-03 10:52:27.000000000,2021-03-04 10:20:05.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-03 10:52:27.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5d9e882641a9adc52a0e5b08fcfc7c6680ab2a5e', 'message': 'Designates zuul as dumb terminal to avoid mangled colored output\n\nFor example, with coloring enabled:\n[34mroles/switch_vlans/tasks/main.yml[0m:2:3: [91msyntax-check[0m\n\nWithout coloring:\nroles/switch_vlans/tasks/main.yml:2:3: syntax-check\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I86f5c9d5791f972f0f1ea79d410e0dc55ff2b35a\n'}]",2,778409,5d9e882641a9adc52a0e5b08fcfc7c6680ab2a5e,6,7,1,32926,,,0,"Designates zuul as dumb terminal to avoid mangled colored output

For example, with coloring enabled:
[34mroles/switch_vlans/tasks/main.yml[0m:2:3: [91msyntax-check[0m

Without coloring:
roles/switch_vlans/tasks/main.yml:2:3: syntax-check

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I86f5c9d5791f972f0f1ea79d410e0dc55ff2b35a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/778409/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,5d9e882641a9adc52a0e5b08fcfc7c6680ab2a5e,zuul/dumbterminal, vars: TERM: dumb,,2,0
openstack%2Fopenstack-ansible-os_gnocchi~master~I5282cc78db55dee5f43cc34486a71a69567f2a28,openstack/openstack-ansible-os_gnocchi,master,I5282cc78db55dee5f43cc34486a71a69567f2a28,Move gnocchi pip packages from constraints to requirements,MERGED,2021-01-25 10:02:57.000000000,2021-03-04 10:11:17.000000000,2021-03-04 10:08:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/debadb0c02e1b6a51f44efbcb4791c8ec5afff89', 'message': 'Move gnocchi pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nChange-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28\n'}, {'number': 2, 'created': '2021-01-26 09:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/1e7389163431160ed50b2c1704ec98468d741db1', 'message': 'Move gnocchi pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nChange-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28\n'}, {'number': 3, 'created': '2021-01-28 16:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/715882fbf2578ab166d947fc6ebcf3046afa2e68', 'message': 'Move gnocchi pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nDepends-On: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\nChange-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28\n'}, {'number': 4, 'created': '2021-01-28 22:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/1ff1c70e46eb13ab3edbed60c582a3dcda3b3e6e', 'message': 'Move gnocchi pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nDepends-On: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\nChange-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28\n'}, {'number': 5, 'created': '2021-01-29 06:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/3a4cfdbb5fb5b8aaee515f3f33ac6e242f7cf5d9', 'message': 'Move gnocchi pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nDepends-On: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\nChange-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28\n'}, {'number': 6, 'created': '2021-01-29 18:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/276c70b9dafe213aa751628f56ef335abebc0d98', 'message': 'Move gnocchi pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nDepends-On: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\nChange-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28\n'}, {'number': 7, 'created': '2021-03-03 10:10:20.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/a51416662ca737262576319d8eb2a846d7e7639a', 'message': 'Move gnocchi pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nDepends-On: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\nChange-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28\n'}]",1,772281,a51416662ca737262576319d8eb2a846d7e7639a,32,4,7,25023,,,0,"Move gnocchi pip packages from constraints to requirements

This is necessary for the new pip resolver

Depends-On: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238
Change-Id: I5282cc78db55dee5f43cc34486a71a69567f2a28
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/81/772281/7 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,debadb0c02e1b6a51f44efbcb4791c8ec5afff89,osa-new-pip," - ""git+{{ gnocchi_git_repo }}@{{ gnocchi_git_install_branch }}#egg=gnocchi"""," - ""git+{{ gnocchi_git_repo }}@{{ gnocchi_git_install_branch }}#egg=gnocchi""",1,1
openstack%2Fopenstack-ansible-os_gnocchi~master~Ie7eeb360c44d1d496bacb6e7f393ac4a90c0236b,openstack/openstack-ansible-os_gnocchi,master,Ie7eeb360c44d1d496bacb6e7f393ac4a90c0236b,Provide different package lists for install and wheel build,MERGED,2021-03-02 16:57:05.000000000,2021-03-04 10:10:00.000000000,2021-03-04 10:08:20.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-02 16:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/8abbb0d49a4385ab947c3791510292465be650cb', 'message': 'Provide different package lists for install and wheel build\n\nAlso install libxml2 into the target host.\n\nChange-Id: Ie7eeb360c44d1d496bacb6e7f393ac4a90c0236b\nCloses-Bug: 1857899\nRelated-Bug: 1915617\n'}, {'number': 2, 'created': '2021-03-02 17:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/cffe3194f69533bfb50594b57f30851355fcc7e9', 'message': 'Provide different package lists for install and wheel build\n\nAlso install libxml2 into the target host.\n\nChange-Id: Ie7eeb360c44d1d496bacb6e7f393ac4a90c0236b\nCloses-Bug: 1857899\nRelated-Bug: 1915617\n'}, {'number': 3, 'created': '2021-03-03 10:09:57.000000000', 'files': ['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/ce0fd212138a1a6880d59cda3e2cfca51153e2f8', 'message': 'Provide different package lists for install and wheel build\n\nAlso install libxml2 into the target host.\n\nChange-Id: Ie7eeb360c44d1d496bacb6e7f393ac4a90c0236b\nCloses-Bug: 1857899\nRelated-Bug: 1915617\n'}]",2,778222,ce0fd212138a1a6880d59cda3e2cfca51153e2f8,14,3,3,25023,,,0,"Provide different package lists for install and wheel build

Also install libxml2 into the target host.

Change-Id: Ie7eeb360c44d1d496bacb6e7f393ac4a90c0236b
Closes-Bug: 1857899
Related-Bug: 1915617
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/22/778222/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml']",3,8abbb0d49a4385ab947c3791510292465be650cb,,"gnocchi_devel_distro_packages: - python3-dev gnoccho_distro_packages: - libxml2gnocchi_apache_ports: ""/etc/apache2/ports.conf"" ","gnocchi_distro_packages: - python-devgnocchi_apache_ports: ""/etc/apache2/ports.conf""",11,4
openstack%2Fkolla-ansible~master~I77791d504327ace880d0cc2438af2f8ced66d4eb,openstack/kolla-ansible,master,I77791d504327ace880d0cc2438af2f8ced66d4eb,CI: Add ssh retries,MERGED,2021-02-24 15:20:38.000000000,2021-03-04 10:07:16.000000000,2021-03-01 10:31:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-24 15:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a42cb98501b3f3432cf50bde39c8f2333e544d2b', 'message': 'CI: Add ssh retries and disable group names validation\n\nChange-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb\n'}, {'number': 2, 'created': '2021-02-24 16:42:11.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8981a79aac09ab5529245a6348c0ed83e3a0211', 'message': 'CI: Add ssh retries\n\nChange-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb\n'}]",0,777402,a8981a79aac09ab5529245a6348c0ed83e3a0211,13,4,2,22629,,,0,"CI: Add ssh retries

Change-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/777402/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,a42cb98501b3f3432cf50bde39c8f2333e544d2b,,force_valid_group_names = Falseretries = 3,,2,0
openstack%2Fopenstack-ansible-ops~stable%2Fvictoria~I22b6735ad211e60b61d74cea34c7987d74bc8596,openstack/openstack-ansible-ops,stable/victoria,I22b6735ad211e60b61d74cea34c7987d74bc8596,Fix regex_replace mapping,MERGED,2021-03-01 21:59:30.000000000,2021-03-04 09:58:22.000000000,2021-03-04 09:56:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-01 21:59:30.000000000', 'files': ['elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f470fa432fa73762fe790447752f2b30d46e5c25', 'message': ""Fix regex_replace mapping\n\nWith current mapping we result in elasticsearch_data_node_details being\n172.29.236.126:9200:9200 instead of 172.29.236.126:9200 which\nmeans that map is applied twice to the same item\nChanging regexp helps to resolve it. It looks like related to what [1] have seen\n\nAlso we don't need to transform to list when doing another map, as\nworking with generator object is more resource efficient.\n\n[1] https://gist.github.com/halberom/9bfe009c9a3df5d64c7bb505a7700430#gistcomment-2706901\n\nChange-Id: I22b6735ad211e60b61d74cea34c7987d74bc8596\n(cherry picked from commit 59edfb9b32f7aab4eaaf783d8cbfff86afc6e8dd)\n""}]",0,778096,f470fa432fa73762fe790447752f2b30d46e5c25,9,4,1,25600,,,0,"Fix regex_replace mapping

With current mapping we result in elasticsearch_data_node_details being
172.29.236.126:9200:9200 instead of 172.29.236.126:9200 which
means that map is applied twice to the same item
Changing regexp helps to resolve it. It looks like related to what [1] have seen

Also we don't need to transform to list when doing another map, as
working with generator object is more resource efficient.

[1] https://gist.github.com/halberom/9bfe009c9a3df5d64c7bb505a7700430#gistcomment-2706901

Change-Id: I22b6735ad211e60b61d74cea34c7987d74bc8596
(cherry picked from commit 59edfb9b32f7aab4eaaf783d8cbfff86afc6e8dd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/96/778096/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml'],1,f470fa432fa73762fe790447752f2b30d46e5c25,elk_adjustments-stable/victoria," | default((c_nodes | map('extract', hostvars, 'ansible_host')) | map('regex_replace', '^(.*)$' ,'\1:' ~ elastic_port) | list)) | default((data_nodes | map('extract', hostvars, 'ansible_host')) | map('regex_replace', '^(.*)$' ,'\1:' ~ elastic_port) | list) | default((groups['logstash'] | map('extract', hostvars, 'ansible_host')) | map('regex_replace', '^(.*)$' ,'\1:' ~ logstash_beat_input_port) | list)"," | default((c_nodes | map('extract', hostvars, 'ansible_host') | list) | map('regex_replace', '(.*)' ,'\1:' ~ elastic_port) | list)) | default((data_nodes | map('extract', hostvars, 'ansible_host') | list) | map('regex_replace', '(.*)' ,'\1:' ~ elastic_port) | list) | default((groups['logstash'] | map('extract', hostvars, 'ansible_host') | list) | map('regex_replace', '(.*)' ,'\1:' ~ logstash_beat_input_port) | list)",6,6
openstack%2Fbifrost~master~I0727cd273447a3ef19a8c1cd9d3e9a68116974bb,openstack/bifrost,master,I0727cd273447a3ef19a8c1cd9d3e9a68116974bb,Consistent pip_opts handling + drop --no-cache-dir,MERGED,2021-02-03 14:35:43.000000000,2021-03-04 09:54:16.000000000,2021-03-04 09:52:15.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-03 14:35:43.000000000', 'files': ['playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/staging_install.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/prometheus_exporter_install.yml', 'releasenotes/notes/pip-opts-63bdff0ef22a56f3.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_install.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d842e9fe83d5f0d79e2274c9748fc2cdad797d2e', 'message': 'Consistent pip_opts handling + drop --no-cache-dir\n\nChange-Id: I0727cd273447a3ef19a8c1cd9d3e9a68116974bb\n'}]",0,773918,d842e9fe83d5f0d79e2274c9748fc2cdad797d2e,9,3,1,10239,,,0,"Consistent pip_opts handling + drop --no-cache-dir

Change-Id: I0727cd273447a3ef19a8c1cd9d3e9a68116974bb
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/18/773918/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/staging_install.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/prometheus_exporter_install.yml', 'releasenotes/notes/pip-opts-63bdff0ef22a56f3.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_install.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml']",10,d842e9fe83d5f0d79e2274c9748fc2cdad797d2e,pip-opts,,"pip_opts: ""{{ lookup('env', 'PIP_OPTS') | default('') }}"" ",10,13
openstack%2Fopenstack-ansible-galera_server~master~I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65,openstack/openstack-ansible-galera_server,master,I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 08:32:53.000000000,2021-03-04 09:51:04.000000000,2021-02-28 23:40:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 08:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/725427487f860564d479f980da622259db0fb3c2', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65\n'}, {'number': 2, 'created': '2021-02-23 09:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/38c3923a5f50bcccdf1fb537d697cccd6ef67d19', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65\n'}, {'number': 3, 'created': '2021-02-23 09:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a2572dde0eb41b6850e55aa5fad094e2363d8fc9', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65\n'}, {'number': 4, 'created': '2021-02-23 12:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/35aee041903009a169152be28aa712d5d09f0f5d', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65\n'}, {'number': 5, 'created': '2021-02-23 16:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/fac1220e3c4e05f3c27f45df9a240e98a15773ee', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65\n'}, {'number': 6, 'created': '2021-02-25 12:27:08.000000000', 'files': ['tasks/main.yml', 'vars/debian.yml', 'tasks/galera_install_portage.yml', 'templates/my.cnf.j2', 'templates/mysql_defaults.j2', 'defaults/main.yml', 'tasks/galera_server_install.yml', 'tasks/galera_install_yum.yml', 'vars/redhat.yml', 'tasks/galera_client_main.yml', 'tasks/galera_server_post_install.yml', 'tasks/galera_server_upgrade_pre.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/374b64435e004c154bf84a860bb3282c4241f6c0', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65\n'}]",3,777060,374b64435e004c154bf84a860bb3282c4241f6c0,22,5,6,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I88dc5a3da8b8abe801eb533ec93cffdbeed7bd65
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/60/777060/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/debian.yml', 'tasks/galera_install_portage.yml', 'templates/my.cnf.j2', 'templates/mysql_defaults.j2', 'defaults/main.yml', 'tasks/galera_server_install.yml', 'tasks/galera_install_yum.yml', 'vars/redhat.yml', 'tasks/galera_client_main.yml', 'tasks/galera_server_post_install.yml', 'tasks/galera_server_upgrade_pre.yml', 'meta/main.yml', 'vars/suse.yml']",14,725427487f860564d479f980da622259db0fb3c2,osa-facts,"_galera_opensuse_dir: ""{{ ansible_facts['distribution_major_version'] }}""","_galera_opensuse_dir: ""{{ ansible_distribution_major_version }}""",32,32
openstack%2Fcinderlib~master~I4349938b4d5bdbc9e54100ab3be37c7cbeba33a3,openstack/cinderlib,master,I4349938b4d5bdbc9e54100ab3be37c7cbeba33a3,remove unicode from code,ABANDONED,2021-01-04 06:27:51.000000000,2021-03-04 09:32:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-04 06:27:51.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/686e38b853e4f39821d2dcf183f8aa55412e3229', 'message': 'remove unicode from code\n\nChange-Id: I4349938b4d5bdbc9e54100ab3be37c7cbeba33a3\n'}]",0,769085,686e38b853e4f39821d2dcf183f8aa55412e3229,6,2,1,32326,,,0,"remove unicode from code

Change-Id: I4349938b4d5bdbc9e54100ab3be37c7cbeba33a3
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/85/769085/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,686e38b853e4f39821d2dcf183f8aa55412e3229,,"copyright = '2017, Cinder Developers'","copyright = u'2017, Cinder Developers'",7,7
openstack%2Fopenstack-ansible-lxc_hosts~master~Ieb290bba4bfbd03f1000249102b4cf6ed67b57ec,openstack/openstack-ansible-lxc_hosts,master,Ieb290bba4bfbd03f1000249102b4cf6ed67b57ec,Use proxy if any proxy_vars are set,ABANDONED,2020-12-29 10:59:10.000000000,2021-03-04 09:18:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2020-12-29 10:59:10.000000000', 'files': ['tasks/lxc_cache_prestage.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ca0b5e22c4a4a68c006dec8cefc4efd18ef327e0', 'message': 'Use proxy if any proxy_vars are set\n\nIf you have an environment where your openstack hosts have no routes to\nthe internet, and just granting them basic access via the proxy_env_url,\nyou might have the same case for your deploy host. Set use_proxy to true\nin the lookup function if http_proxy or https_proxy env are provided.\n\nChange-Id: Ieb290bba4bfbd03f1000249102b4cf6ed67b57ec\n'}]",0,768723,ca0b5e22c4a4a68c006dec8cefc4efd18ef327e0,4,2,1,25600,,,0,"Use proxy if any proxy_vars are set

If you have an environment where your openstack hosts have no routes to
the internet, and just granting them basic access via the proxy_env_url,
you might have the same case for your deploy host. Set use_proxy to true
in the lookup function if http_proxy or https_proxy env are provided.

Change-Id: Ieb290bba4bfbd03f1000249102b4cf6ed67b57ec
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/23/768723/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_prestage.yml'],1,ca0b5e22c4a4a68c006dec8cefc4efd18ef327e0,," lxc_hosts_container_image_url: ""{{ _lxc_hosts_container_image_url_base ~ '/' ~ lookup('url', _lxc_hosts_container_image_url_base ~ '/' ~ _lxc_hosts_container_image_checksum_file, use_proxy=(ansible_env.http_proxy is defined or ansible_env.https_proxy is defined)) | regex_findall(_lxc_hosts_container_image_checksum_regexp) | max }}"""," lxc_hosts_container_image_url: ""{{ _lxc_hosts_container_image_url_base ~ '/' ~ lookup('url', _lxc_hosts_container_image_url_base ~ '/' ~ _lxc_hosts_container_image_checksum_file) | regex_findall(_lxc_hosts_container_image_checksum_regexp) | max }}""",1,1
openstack%2Fpuppet-glance~master~Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1,openstack/puppet-glance,master,Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1,Use multistore modules in the example manifest,MERGED,2021-01-31 13:35:01.000000000,2021-03-04 09:03:27.000000000,2021-03-04 09:03:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-31 13:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fa2d467fd3a608b4ab6e2362b3cedb351fe3763a', 'message': 'Use multistore modules in the example manifest\n\n... because legacy backend modules were deprecated.\n\nChange-Id: Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1\n'}, {'number': 2, 'created': '2021-02-01 09:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/08f3899e1a5b3c4117d6e6fcd98845bf5daa4bb9', 'message': 'Use multistore modules in the example manifest\n\n... because legacy backend modules were deprecated.\n\nChange-Id: Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1\n'}, {'number': 3, 'created': '2021-02-01 11:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/4de0d132f1416652eba20ceffca3bafebf87c611', 'message': 'Use multistore modules in the example manifest\n\n... because legacy backend modules were deprecated.\n\nChange-Id: Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1\n'}, {'number': 4, 'created': '2021-02-15 10:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f7104966b0dae9eb9f0be44e1e159cd9743b495a', 'message': 'Use multistore modules in the example manifest\n\n... because legacy backend modules were deprecated.\n\nChange-Id: Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1\n'}, {'number': 5, 'created': '2021-02-15 10:49:26.000000000', 'files': ['examples/glance.pp', 'examples/glance_multi_store.pp', 'examples/glance_single_store.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/582c37520d4e5d54cf3a9bb6aff6ad25b5fbae27', 'message': 'Use multistore modules in the example manifest\n\n... because legacy backend modules were deprecated.\n\nChange-Id: Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1\n'}]",2,773255,582c37520d4e5d54cf3a9bb6aff6ad25b5fbae27,21,4,5,9816,,,0,"Use multistore modules in the example manifest

... because legacy backend modules were deprecated.

Change-Id: Ic32ae0a9aadf893d28fa0208f27b0f440ad4f4d1
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/55/773255/5 && git format-patch -1 --stdout FETCH_HEAD,"['examples/glance.pp', 'examples/glance_multi_store.pp', 'examples/glance_single_store.pp']",3,fa2d467fd3a608b4ab6e2362b3cedb351fe3763a,examples-multistore,,"# Example: Declaring a single backend store # # To declare only one glance::backend::* class, all you need to do is declare # it without the multi_store parameter. This way, multi_store will default to false # and the glance::backend::* class will automatically set itself as the default backend. # After doing this, you must not declare glance::api with multi_store set to true, # or it will attempt to override the default set by the backend class and result # in an error. class { 'glance::backend::swift': swift_store_user => 'demo', swift_store_key => 'secrete', } class { 'glance::api': keystone_password => 'a_big_secret', stores => ['swift'], } ",12,43
openstack%2Ftripleo-ansible~master~I25ab196c17ac262d6e568523e521e73c673ef909,openstack/tripleo-ansible,master,I25ab196c17ac262d6e568523e521e73c673ef909,DNM: Inject ansible_ prefixed vars,ABANDONED,2021-03-03 17:37:10.000000000,2021-03-04 08:25:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 17:37:10.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f57be47fafa7d00ca6bbe1d3afb14bb9812d23c8', 'message': 'DNM: Inject ansible_ prefixed vars\n\nChange-Id: I25ab196c17ac262d6e568523e521e73c673ef909\n'}]",0,778517,f57be47fafa7d00ca6bbe1d3afb14bb9812d23c8,5,2,1,25402,,,0,"DNM: Inject ansible_ prefixed vars

Change-Id: I25ab196c17ac262d6e568523e521e73c673ef909
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/778517/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'],1,f57be47fafa7d00ca6bbe1d3afb14bb9812d23c8,, - ANSIBLE_INJECT_FACT_VARS=True,,1,0
openstack%2Frequirements~master~I023c94f95f6b379286fea8421a43e9936f3de779,openstack/requirements,master,I023c94f95f6b379286fea8421a43e9936f3de779,update constraint for castellan to new release 3.7.1,MERGED,2021-03-03 13:46:53.000000000,2021-03-04 08:25:19.000000000,2021-03-04 08:22:08.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 13:46:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/55b1f849fcfd6ee88c91f2ce2a89cbe3f007e7da', 'message': 'update constraint for castellan to new release 3.7.1\n\nmeta: version: 3.7.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I023c94f95f6b379286fea8421a43e9936f3de779\n'}]",0,778461,55b1f849fcfd6ee88c91f2ce2a89cbe3f007e7da,23,4,1,11131,,,0,"update constraint for castellan to new release 3.7.1

meta: version: 3.7.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I023c94f95f6b379286fea8421a43e9936f3de779
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/778461/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,55b1f849fcfd6ee88c91f2ce2a89cbe3f007e7da,new-release,castellan===3.7.1,castellan===3.7.0,1,1
openstack%2Fpython-tackerclient~master~I5316037871109838a03ff4561b7b38dcc56bc447,openstack/python-tackerclient,master,I5316037871109838a03ff4561b7b38dcc56bc447,Dropping explicit unicode literal,MERGED,2021-01-03 08:38:32.000000000,2021-03-04 08:22:32.000000000,2021-03-04 08:21:11.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-03 08:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/77996f1571432fb6d4a41df6097dab52bdc6b4fc', 'message': 'remove unicode from code\n\nChange-Id: I5316037871109838a03ff4561b7b38dcc56bc447\n'}, {'number': 2, 'created': '2021-02-26 05:11:50.000000000', 'files': ['tackerclient/osc/v1/nfvo/nsd.py', 'tackerclient/tests/unit/test_cli10.py', 'tackerclient/tests/unit/test_shell.py', 'tackerclient/osc/v1/nfvo/vnffgd.py', 'tackerclient/osc/v1/vnfm/vnfd.py', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/68df82918a89445390edca51b3df3a095c2de7f3', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nNote: The scope of the patch is to drop unicode literal prefix\nfrom python source code files, documentation and comment are overlook.\n\nCo-Authored-By: Manpreet Kaur kaurmanpreet2620@gmail.com\nChange-Id: I5316037871109838a03ff4561b7b38dcc56bc447\n'}]",0,769033,68df82918a89445390edca51b3df3a095c2de7f3,16,6,2,30384,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Note: The scope of the patch is to drop unicode literal prefix
from python source code files, documentation and comment are overlook.

Co-Authored-By: Manpreet Kaur kaurmanpreet2620@gmail.com
Change-Id: I5316037871109838a03ff4561b7b38dcc56bc447
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/33/769033/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,77996f1571432fb6d4a41df6097dab52bdc6b4fc,change-769033-1,"project = 'Tacker Client Release Notes' copyright = '2016, Tacker Developers' 'Tacker Client Release Notes Documentation', 'Tacker Developers', 'manual'), 'Tacker Client Release Notes Documentation', ['Tacker Developers'], 1) 'Tacker Client Release Notes Documentation', 'Tacker Developers', 'TackerClientReleaseNotes',","project = u'Tacker Client Release Notes' copyright = u'2016, Tacker Developers' u'Tacker Client Release Notes Documentation', u'Tacker Developers', 'manual'), u'Tacker Client Release Notes Documentation', [u'Tacker Developers'], 1) u'Tacker Client Release Notes Documentation', u'Tacker Developers', 'TackerClientReleaseNotes',",10,10
openstack%2Fironic-python-agent-builder~master~I7eff1d51891c5606d2848e243f6e016767779b70,openstack/ironic-python-agent-builder,master,I7eff1d51891c5606d2848e243f6e016767779b70,[WIP] Do not test tinyipa iso on ussuri,ABANDONED,2021-03-03 18:02:05.000000000,2021-03-04 08:21:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-03 18:02:05.000000000', 'files': ['roles/ipa-build-tinyipa-image/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/871f40c7eb8f45212950cd8faf4fe836de542188', 'message': '[WIP] Do not test tinyipa iso on ussuri\n\nWe need ipa-builder 2.2.0 in ussuri but the iso script is broken.\n\nChange-Id: I7eff1d51891c5606d2848e243f6e016767779b70\n'}]",0,778526,871f40c7eb8f45212950cd8faf4fe836de542188,3,1,1,23851,,,0,"[WIP] Do not test tinyipa iso on ussuri

We need ipa-builder 2.2.0 in ussuri but the iso script is broken.

Change-Id: I7eff1d51891c5606d2848e243f6e016767779b70
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/26/778526/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-build-tinyipa-image/tasks/main.yaml'],1,871f40c7eb8f45212950cd8faf4fe836de542188,no-check-iso-by-default," when: zuul.branch != ""stable/ussuri"" - name: Build a TinyIPA image command: make args: chdir: '{{ tinyipa_dir }}' environment: BRANCH_PATH: '{{ ipa_branch_path }}' IPA_SOURCE_DIR: '{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent' when: zuul.branch == ""stable/ussuri""",,10,0
openstack%2Fhorizon~master~I6575f1f032a06365953dbfe314abfbf9a31817cd,openstack/horizon,master,I6575f1f032a06365953dbfe314abfbf9a31817cd,Rename zh-cn and zh-tw translations to zh-hans and zh-hant,MERGED,2021-02-04 03:17:17.000000000,2021-03-04 08:10:03.000000000,2021-03-04 08:08:14.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-04 03:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a3ef055388352eecb9ac428419a2346c9f85912c', 'message': 'Rename zh-cn and zh-tw translations to zh-hans and zh-hant\n\nSee http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html\n\nhorizon/management/commands/pull_catalog.py is updated accordingly.\nIt turns out it does not work with python3, so it is fixed too.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/773689\nChange-Id: I6575f1f032a06365953dbfe314abfbf9a31817cd\n'}, {'number': 2, 'created': '2021-02-12 03:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f4abffb3e100227cb22421348cbfe9d7cd296924', 'message': 'Rename zh-cn and zh-tw translations to zh-hans and zh-hant\n\nSee http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html\n\nhorizon/management/commands/pull_catalog.py is updated accordingly.\nIt turns out it does not work with python3, so it is fixed too.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/773689\nChange-Id: I6575f1f032a06365953dbfe314abfbf9a31817cd\n'}, {'number': 3, 'created': '2021-02-18 01:23:16.000000000', 'files': ['openstack_dashboard/management/commands/upgrade_check.py', 'horizon/management/commands/pull_catalog.py', 'horizon/contrib/bootstrap_datepicker.py', 'openstack_dashboard/settings.py', 'releasenotes/notes/rename-chinese-locales-a6fb595bc373791f.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/391a660460592ba39ba8344eaf7787eaae42d449', 'message': 'Rename zh-cn and zh-tw translations to zh-hans and zh-hant\n\nSee http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html\n\nhorizon/management/commands/pull_catalog.py is updated accordingly.\nIt turns out it does not work with python3, so it is fixed too.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/773689\nChange-Id: I6575f1f032a06365953dbfe314abfbf9a31817cd\n'}]",2,774034,391a660460592ba39ba8344eaf7787eaae42d449,22,4,3,841,,,0,"Rename zh-cn and zh-tw translations to zh-hans and zh-hant

See http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html

horizon/management/commands/pull_catalog.py is updated accordingly.
It turns out it does not work with python3, so it is fixed too.

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/773689
Change-Id: I6575f1f032a06365953dbfe314abfbf9a31817cd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/34/774034/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/management/commands/pull_catalog.py', 'horizon/contrib/bootstrap_datepicker.py', 'openstack_dashboard/settings.py']",3,a3ef055388352eecb9ac428419a2346c9f85912c,rename-chinese-locales," ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese'),"," ('zh-cn', 'Simplified Chinese'), ('zh-tw', 'Chinese (Taiwan)'),",20,7
openstack%2Fcinder~master~I310afe10bc3bc0ef9121597654920564146ddb95,openstack/cinder,master,I310afe10bc3bc0ef9121597654920564146ddb95,Drop lower-constraints job,ABANDONED,2021-01-15 09:49:52.000000000,2021-03-04 08:07:57.000000000,,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 09:49:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a22cfc6c73e2df5334e94bfa75bc3dde260fd8e', 'message': 'Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I310afe10bc3bc0ef9121597654920564146ddb95\n'}]",0,770918,4a22cfc6c73e2df5334e94bfa75bc3dde260fd8e,28,3,1,32326,,,0,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I310afe10bc3bc0ef9121597654920564146ddb95
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/770918/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4a22cfc6c73e2df5334e94bfa75bc3dde260fd8e,,, - openstack-lower-constraints-jobs,0,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iedd149c123d807dee229160f8e9f1b17bf379368,openstack/tripleo-heat-templates,stable/ussuri,Iedd149c123d807dee229160f8e9f1b17bf379368,Switch host sshd configuration to ansible,MERGED,2020-08-11 14:49:32.000000000,2021-03-04 07:36:05.000000000,2021-03-04 07:36:05.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 14:49:32.000000000', 'files': ['sample-env-generator/standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e9a03d91c3874812123dd13e4c55d4ffdc4f5de', 'message': 'Switch host sshd configuration to ansible\n\nThis change updates the baremetal host sshd management to use ansible\ninstead of puppet. It should still be noted that the nova-migration\ncontainer still uses puppet to manage sshd.\n\nChange-Id: Iedd149c123d807dee229160f8e9f1b17bf379368\nDepends-On: https://review.opendev.org/#/c/742970/\n(cherry picked from commit b5dad0cf1062f1016270ff343074a5ab9c5507be)\n'}]",0,745687,5e9a03d91c3874812123dd13e4c55d4ffdc4f5de,24,6,1,7353,,,0,"Switch host sshd configuration to ansible

This change updates the baremetal host sshd management to use ansible
instead of puppet. It should still be noted that the nova-migration
container still uses puppet to manage sshd.

Change-Id: Iedd149c123d807dee229160f8e9f1b17bf379368
Depends-On: https://review.opendev.org/#/c/742970/
(cherry picked from commit b5dad0cf1062f1016270ff343074a5ab9c5507be)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/745687/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/sshd/sshd-baremetal-ansible.yaml']",4,5e9a03d91c3874812123dd13e4c55d4ffdc4f5de,sshd-ansible-stable/ussuri,"heat_template_version: rocky description: > Configure sshd_config parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json BannerText: default: '' description: Configures Banner text in sshd_config type: string MessageOfTheDay: default: '' description: Configures /etc/motd text type: string SshServerOptions: default: HostKey: - '/etc/ssh/ssh_host_rsa_key' - '/etc/ssh/ssh_host_ecdsa_key' - '/etc/ssh/ssh_host_ed25519_key' SyslogFacility: 'AUTHPRIV' AuthorizedKeysFile: '.ssh/authorized_keys' ChallengeResponseAuthentication: 'no' GSSAPIAuthentication: 'yes' GSSAPICleanupCredentials: 'no' UsePAM: 'yes' UseDNS: 'no' X11Forwarding: 'yes' AcceptEnv: - 'LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES' - 'LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT' - 'LC_IDENTIFICATION LC_ALL LANGUAGE' - 'XMODIFIERS' Subsystem: 'sftp /usr/libexec/openssh/sftp-server' description: Mapping of sshd_config values type: json PasswordAuthentication: default: 'no' description: Whether or not disable password authentication type: string SshFirewallAllowAll: default: false description: Set this to true to open up ssh access from all sources. type: boolean conditions: ssh_firewall_allow_all: {equals: [{get_param: SshFirewallAllowAll}, true]} ssh_banner_text_empty: {equals: [{get_param: BannerText}, '']} ssh_motd_text_empty: {equals: [{get_param: MessageOfTheDay}, '']} outputs: role_data: description: Role data for the ssh value: service_name: sshd firewall_rules: '003 accept ssh from all': proto: 'tcp' dport: 22 extras: ensure: {if: [ssh_firewall_allow_all, 'present', 'absent']} host_prep_config: - include_role: name: tripleo_ssh vars: tripleo_sshd_server_options: {get_param: SshServerOptions} tripleo_sshd_password_authentication: {get_param: PasswordAuthentication} tripleo_sshd_banner_enabled: if: - ssh_banner_text_empty - true - false tripleo_sshd_banner_text: {get_param: BannerText} tripleo_sshd_motd_enabled: if: - ssh_motd_text_empty - true - false tripleo_sshd_message_of_the_day: {get_param: MessageOfTheDay} ",,108,3
openstack%2Fos-brick~master~Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a,openstack/os-brick,master,Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a,Changed minversion in tox to 3.18.0,MERGED,2021-01-20 08:04:11.000000000,2021-03-04 07:17:57.000000000,2021-03-03 22:14:20.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-01-20 08:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7eb967cf5075d65409b04be79f56fb3a79cfdddb', 'message': 'Changed miniversion in tox to 3.4.0\n\nIt turns out that this is the the default value provided by tox:\n\nhttps: //tox.readthedocs.io/en/latest/config.html#tox-global-settings\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n'}, {'number': 2, 'created': '2021-02-22 07:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b6a11ce92d32d160ccda19128e927e7a47c59da8', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n'}, {'number': 3, 'created': '2021-02-22 10:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/37d26536f971e8b6f705fddfc54ca79866994dbf', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n'}, {'number': 4, 'created': '2021-02-25 08:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bd016802e009a24c698ffb2be9c6fc545e393ad5', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n'}, {'number': 5, 'created': '2021-02-25 11:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1fee91621fb6d78b6214638087d1126e015bd0cb', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n""}, {'number': 6, 'created': '2021-02-26 17:48:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/15c114d54cc0a5d52dc2418c134b8fa31040d07a', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n""}]",1,771568,15c114d54cc0a5d52dc2418c134b8fa31040d07a,70,3,6,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/68/771568/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7eb967cf5075d65409b04be79f56fb3a79cfdddb,771568,minversion = 3.4.0,minversion = 3.1.0,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I77791d504327ace880d0cc2438af2f8ced66d4eb,openstack/kolla-ansible,stable/victoria,I77791d504327ace880d0cc2438af2f8ced66d4eb,CI: Add ssh retries,MERGED,2021-03-03 17:26:58.000000000,2021-03-04 07:16:39.000000000,2021-03-04 07:15:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-03 17:26:58.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/469d28b3ac0ac5ba9ee4ababbeb218495cce8b0d', 'message': 'CI: Add ssh retries\n\nChange-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb\n(cherry picked from commit a8981a79aac09ab5529245a6348c0ed83e3a0211)\n'}]",0,778428,469d28b3ac0ac5ba9ee4ababbeb218495cce8b0d,9,4,1,30491,,,0,"CI: Add ssh retries

Change-Id: I77791d504327ace880d0cc2438af2f8ced66d4eb
(cherry picked from commit a8981a79aac09ab5529245a6348c0ed83e3a0211)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/778428/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,469d28b3ac0ac5ba9ee4ababbeb218495cce8b0d,,retries = 3,,1,0
openstack%2Ftacker~master~Iaf83bbaf7a4dbe03aab42d63a81276cfe42df505,openstack/tacker,master,Iaf83bbaf7a4dbe03aab42d63a81276cfe42df505,Update min version of tox,MERGED,2021-02-25 08:29:54.000000000,2021-03-04 07:10:12.000000000,2021-03-04 07:08:02.000000000,"[{'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-02-25 08:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7aad2d7a09ef66292a649b437f5dead1385ee400', 'message': 'Update min version of tox\n\nThis patch bumps the minimum version of tox to 3.18.0 [1].\nTo incorporate the below changes,\n* Remove configuration of ""install_command"" option in tox, as it\n  turns out that this is the default value provided by tox [2].\n* The argument such as ""whitelist_externals"" is deprecated,\n  therefore replaces whitelist_externals by allowlist_externals option [1].\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n[2] https://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nChange-Id: Iaf83bbaf7a4dbe03aab42d63a81276cfe42df505\n'}, {'number': 2, 'created': '2021-02-25 11:00:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/9cf8119af8d1c3771d1df648e5f57891959107a5', 'message': 'Update min version of tox\n\nThis patch bumps the minimum version of tox to 3.18.0 [1].\nTo incorporate the below changes,\n* Remove configuration of ""install_command"" option in tox, as it\n  turns out that this is the default value provided by tox [2].\n* The argument such as ""whitelist_externals"" is deprecated,\n  therefore replaces whitelist_externals by allowlist_externals option [1].\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n[2] https://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nChange-Id: Iaf83bbaf7a4dbe03aab42d63a81276cfe42df505\n'}]",0,777508,9cf8119af8d1c3771d1df648e5f57891959107a5,11,6,2,32102,,,0,"Update min version of tox

This patch bumps the minimum version of tox to 3.18.0 [1].
To incorporate the below changes,
* Remove configuration of ""install_command"" option in tox, as it
  turns out that this is the default value provided by tox [2].
* The argument such as ""whitelist_externals"" is deprecated,
  therefore replaces whitelist_externals by allowlist_externals option [1].

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23
[2] https://tox.readthedocs.io/en/latest/config.html#conf-install_command

Change-Id: Iaf83bbaf7a4dbe03aab42d63a81276cfe42df505
",git fetch https://review.opendev.org/openstack/tacker refs/changes/08/777508/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7aad2d7a09ef66292a649b437f5dead1385ee400,update-min-tox,minversion = 3.18.0allowlist_externals = rmallowlist_externals = bashallowlist_externals = rm,minversion = 3.1.1whitelist_externals = rm install_command = pip install -U {opts} {packages}whitelist_externals = bashwhitelist_externals = rm,4,6
openstack%2Ftacker~master~I95bdb5e3908fdcef4e555095c9d61a282f48b0bb,openstack/tacker,master,I95bdb5e3908fdcef4e555095c9d61a282f48b0bb,"include mariadb, mariadb-server in bindep, for tests",MERGED,2020-10-04 01:43:33.000000000,2021-03-04 07:08:55.000000000,2021-03-04 07:07:12.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31821}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-10-04 01:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1bd75b4dcd77df3dab652a655284e5cd9ff30ea1', 'message': 'include mariadb, mariadb-server in bindep, for tests\n\nas of https://review.opendev.org/#/c/751112/\npy36 tests fail w/\n     + sudo -H mysqladmin -u root password insecure_slave\n     sudo: mysqladmin: command not found\n\nChange-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb\n'}, {'number': 2, 'created': '2020-10-04 01:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/302e6efb011fe3c795c5fc54a49769fa421f5da7', 'message': 'include mariadb, mariadb-server in bindep, for tests\n\nas of https://review.opendev.org/#/c/751112/\npy36 tests fail w/\n     + sudo -H mysqladmin -u root password insecure_slave\n     sudo: mysqladmin: command not found\n\nChange-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb\n'}, {'number': 3, 'created': '2020-10-05 00:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3d75cc3c8fba771d022993afd79c11977b4b1e40', 'message': 'include mariadb, mariadb-server in bindep, for tests\n\nas of https://review.opendev.org/#/c/751112/\npy36 tests fail w/\n     + sudo -H mysqladmin -u root password insecure_slave\n     sudo: mysqladmin: command not found\n\nChange-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb\n'}, {'number': 4, 'created': '2020-10-05 02:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d76bd15408ea37ebbb3a8606021fde8c094d4ae8', 'message': 'include mariadb, mariadb-server in bindep, for tests\n\nas of https://review.opendev.org/#/c/751112/\npy36 tests fail w/\n     + sudo -H mysqladmin -u root password insecure_slave\n     sudo: mysqladmin: command not found\n\nChange-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb\n'}, {'number': 5, 'created': '2020-12-21 23:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b092eecd1d98873687bee34e4810b3180a3061ad', 'message': 'include mariadb, mariadb-server in bindep, for tests\n\nas of https://review.opendev.org/#/c/751112/\npy36 tests fail w/\n     + sudo -H mysqladmin -u root password insecure_slave\n     sudo: mysqladmin: command not found\n\nChange-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb\n'}, {'number': 6, 'created': '2020-12-21 23:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/743142f56548a0c9a3796741c09fd0933792346c', 'message': 'include mariadb, mariadb-server in bindep, for tests\n\nas of https://review.opendev.org/#/c/751112/\npy36 tests fail w/\n     + sudo -H mysqladmin -u root password insecure_slave\n     sudo: mysqladmin: command not found\n\nChange-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb\n'}, {'number': 7, 'created': '2021-03-02 07:26:09.000000000', 'files': ['bindep.txt', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/tacker/commit/02e6a7cd7c6fbd44004365511c13054591653aa2', 'message': 'include mariadb, mariadb-server in bindep, for tests\n\nas of https://review.opendev.org/#/c/751112/\npy36 tests fail w/\n     + sudo -H mysqladmin -u root password insecure_slave\n     sudo: mysqladmin: command not found\n\nChange-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb\n'}]",1,755936,02e6a7cd7c6fbd44004365511c13054591653aa2,22,6,7,16347,,,0,"include mariadb, mariadb-server in bindep, for tests

as of https://review.opendev.org/#/c/751112/
py36 tests fail w/
     + sudo -H mysqladmin -u root password insecure_slave
     sudo: mysqladmin: command not found

Change-Id: I95bdb5e3908fdcef4e555095c9d61a282f48b0bb
",git fetch https://review.opendev.org/openstack/tacker refs/changes/36/755936/6 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tools/test-setup.sh']",2,1bd75b4dcd77df3dab652a655284e5cd9ff30ea1,,"function is_fedora { if [[ -x $(command -v dnf 2>/dev/null) ]]; then sudo dnf install -qy redhat-lsb-core else return 0 fi if [[ -x $(command -v lsb_release 2>/dev/null) ]]; then os_VENDOR=$(lsb_release -i -s) if [ ""$os_VENDOR"" = ""Fedora"" ] || [ ""$os_VENDOR"" = ""Red Hat"" ] || \ [ ""$os_VENDOR"" = ""RedHatEnterpriseServer"" ] || \ [ ""$os_VENDOR"" = ""RedHatEnterprise"" ] || \ [ ""$os_VENDOR"" = ""CentOS"" ] || [ ""$os_VENDOR"" = ""OracleServer"" ] || \ [ ""$os_VENDOR"" = ""Virtuozzo"" ] ; then return 1 fi fi } if is_fedora ; then # service is not started by default systemctl enable --now mariadb fi ",,29,0
openstack%2Fblazar-tempest-plugin~master~I3f2204d96ac3834ec652b95fd4ad47e4f5dcc7f2,openstack/blazar-tempest-plugin,master,I3f2204d96ac3834ec652b95fd4ad47e4f5dcc7f2,remove unicode from code,MERGED,2021-03-01 09:11:04.000000000,2021-03-04 06:47:44.000000000,2021-03-04 06:46:20.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 09:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/78d5ab97fd4583cc215eb3ad763c4621d9d8e4d0', 'message': ""remove unicode from code\n\nIn Python 3, all strings are represented in Unicode.In Python 2 are\nstored internally as 8-bit ASCII, hence it is required to attach 'u'\nto make it Unicode. It is no longer necessary now.\n\nChange-Id: I3f2204d96ac3834ec652b95fd4ad47e4f5dcc7f2\n""}, {'number': 2, 'created': '2021-03-04 06:15:55.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/fb0477e4882b8362da284881d953376d67ca3a36', 'message': ""remove unicode from code\n\nIn Python 3, all strings are represented in Unicode.In Python 2 are\nstored internally as 8-bit ASCII, hence it is required to attach 'u'\nto make it Unicode. It is no longer necessary now.\n\nChange-Id: I3f2204d96ac3834ec652b95fd4ad47e4f5dcc7f2\n""}]",0,777941,fb0477e4882b8362da284881d953376d67ca3a36,12,2,2,32291,,,0,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.

Change-Id: I3f2204d96ac3834ec652b95fd4ad47e4f5dcc7f2
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/41/777941/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,78d5ab97fd4583cc215eb3ad763c4621d9d8e4d0,,"project = 'blazar-tempest-plugin Release Notes' copyright = '2017, OpenStack Developers' 'blazar-tempest-plugin Release Notes Documentation', 'OpenStack Foundation', 'manual'), 'blazar-tempest-plugin Release Notes Documentation', ['OpenStack Foundation'], 1) 'blazar-tempest-plugin Release Notes Documentation', 'OpenStack Foundation', 'blazar-tempest-pluginReleaseNotes',","project = u'blazar-tempest-plugin Release Notes' copyright = u'2017, OpenStack Developers' u'blazar-tempest-plugin Release Notes Documentation', u'OpenStack Foundation', 'manual'), u'blazar-tempest-plugin Release Notes Documentation', [u'OpenStack Foundation'], 1) u'blazar-tempest-plugin Release Notes Documentation', u'OpenStack Foundation', 'blazar-tempest-pluginReleaseNotes',",12,12
openstack%2Frequirements~master~Ib76b130734491e9a026fb3cddf3c1889f2658f04,openstack/requirements,master,Ib76b130734491e9a026fb3cddf3c1889f2658f04,update constraint for ovsdbapp to new release 1.9.0,MERGED,2021-03-03 14:45:04.000000000,2021-03-04 06:46:58.000000000,2021-03-04 06:45:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 14:45:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9fbb7eea70f66288b637932676ec6036ba819a69', 'message': 'update constraint for ovsdbapp to new release 1.9.0\n\nmeta: version: 1.9.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Change-Id: I2029bb7d2cfee207b4f71d881ce249066570560b\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ib76b130734491e9a026fb3cddf3c1889f2658f04\n'}]",0,778477,9fbb7eea70f66288b637932676ec6036ba819a69,14,3,1,11131,,,0,"update constraint for ovsdbapp to new release 1.9.0

meta: version: 1.9.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: I2029bb7d2cfee207b4f71d881ce249066570560b
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ib76b130734491e9a026fb3cddf3c1889f2658f04
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/778477/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9fbb7eea70f66288b637932676ec6036ba819a69,new-release,ovsdbapp===1.9.0,ovsdbapp===1.8.0,1,1
openstack%2Ftripleo-heat-templates~master~I5b3ab81d7d885b5373c9c75a2b3ca637efb87c1e,openstack/tripleo-heat-templates,master,I5b3ab81d7d885b5373c9c75a2b3ca637efb87c1e,Pass ipaclient_hostname to ipaclient role,MERGED,2021-03-03 12:47:42.000000000,2021-03-04 06:04:04.000000000,2021-03-03 23:27:02.000000000,"[{'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-03 12:47:42.000000000', 'files': ['deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d56a191590b669249569e01d8507b00849c85fb4', 'message': ""Pass ipaclient_hostname to ipaclient role\n\nWhen 'ipaclient_hostname' is not passed it's\ndefault's to 'ansible_fqdn', which is not available\nwhen setting ANSIBLE_INJECT_FACT_VARS=False[1], let's\npass it explicitly.\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/776558\n\nCloses-Bug: #1917582\nChange-Id: I5b3ab81d7d885b5373c9c75a2b3ca637efb87c1e\n""}]",3,778453,d56a191590b669249569e01d8507b00849c85fb4,13,6,1,13861,,,0,"Pass ipaclient_hostname to ipaclient role

When 'ipaclient_hostname' is not passed it's
default's to 'ansible_fqdn', which is not available
when setting ANSIBLE_INJECT_FACT_VARS=False[1], let's
pass it explicitly.

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/776558

Closes-Bug: #1917582
Change-Id: I5b3ab81d7d885b5373c9c75a2b3ca637efb87c1e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/778453/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tls/undercloud-tls.yaml'],1,d56a191590b669249569e01d8507b00849c85fb4,ansible-facts," ipaclient_hostname: ""{{ fqdn_canonical }}""",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I49a2c42dcbb74671834f312798367f411c819813,openstack/tripleo-heat-templates,stable/victoria,I49a2c42dcbb74671834f312798367f411c819813,Use ansible_facts instead,MERGED,2021-02-22 20:44:45.000000000,2021-03-04 05:57:21.000000000,2021-03-04 05:57:21.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 20:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c7bf0d7340420900a18dc71d5c1b53e613d859a', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 1faeac2791c6e7ed3a618bc819b90b3c1165badb)\n'}, {'number': 2, 'created': '2021-02-23 21:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9952bfb4e8f9e05c2bcd525620136846afb8cb5b', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 3, 'created': '2021-02-24 14:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/195499323d67faf646c8a633237a984da603024f', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 4, 'created': '2021-03-01 21:17:21.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a57f8af41fb6b0be2219738c793cca0fe956a43e', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}]",2,777003,a57f8af41fb6b0be2219738c793cca0fe956a43e,26,6,4,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: I49a2c42dcbb74671834f312798367f411c819813
Related-Bug: #1915761
(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/777003/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml']",24,3c7bf0d7340420900a18dc71d5c1b53e613d859a,bug/1915761-stable/victoria," - ansible_facts['os_family'] == 'RedHat' - ansible_facts['distribution_major_version'] is version('8', '==') nova_service: ""nova/{{ ansible_facts['nodename'] }}"""," - ansible_os_family == 'RedHat' - ansible_distribution_major_version == '8' nova_service: ""nova/{{ ansible_nodename }}""",52,51
openstack%2Fhorizon~master~I24f8da71460129ee7162af5f307a7e405addb15d,openstack/horizon,master,I24f8da71460129ee7162af5f307a7e405addb15d,Try loading all policy files even if some files are invalid,MERGED,2021-03-02 15:34:08.000000000,2021-03-04 05:32:38.000000000,2021-03-04 05:31:14.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-02 15:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/45b20477297d75bda7cd4c3c99e4c80a5d96cf81', 'message': ""Continue loading policy files even some policy files are invalid\n\nCurrently horizon stops loading policy rules when it detects any file\nin a wrong format. This results in a situation where horizon works with\nvery incomplete policy rules. For example when horizon susceeds to load\nthe keystone policy firstly and then fails to load the nova policy\nsecondly, it recognizes policy rules for only keystone and doesn't\nrecognize policy rules for not only nova but the remaining services\nlike neutron, cinder and so on.\n\nThis change ensures that horizon tries to load all policy files even\nif an invalid policy file is found, so that horizon can use as many\npolicy rules as it can parse.\n\nChange-Id: I24f8da71460129ee7162af5f307a7e405addb15d\n""}, {'number': 2, 'created': '2021-03-02 15:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c4cc83c76b8a22581eac5f1be3f854c4a27068ad', 'message': 'Try loading all policy files even if some files are invalid\n\nThis change ensures that horizon tries to load all policy files even\nif an invalid policy file is found, so that horizon can use as many\npolicy rules as it can parse.\n\nCloses-Bug: #1917483\nChange-Id: I24f8da71460129ee7162af5f307a7e405addb15d\n'}, {'number': 3, 'created': '2021-03-04 00:43:07.000000000', 'files': ['openstack_auth/policy.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/82900d727f55495c03d039c6224221af8a3d6be5', 'message': 'Try loading all policy files even if some files are invalid\n\nThis change ensures that horizon tries to load all policy files even\nif an invalid policy file is found, so that horizon can use as many\npolicy rules as it can parse.\n\nCloses-Bug: #1917483\nChange-Id: I24f8da71460129ee7162af5f307a7e405addb15d\n'}]",2,778207,82900d727f55495c03d039c6224221af8a3d6be5,14,3,3,9816,,,0,"Try loading all policy files even if some files are invalid

This change ensures that horizon tries to load all policy files even
if an invalid policy file is found, so that horizon can use as many
policy rules as it can parse.

Closes-Bug: #1917483
Change-Id: I24f8da71460129ee7162af5f307a7e405addb15d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/07/778207/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/policy.py'],1,45b20477297d75bda7cd4c3c99e4c80a5d96cf81,bug/1917483," except ValueError: LOG.warning(""Cannot load a policy file '%s' for service '%s' "" ""due to ValueError. The file might be wrongly "" ""formatted"", policy_file, service) ",,5,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic9e6c8b613745f397cdd562398c9c07a759d1f5a,openstack/tripleo-heat-templates,stable/ussuri,Ic9e6c8b613745f397cdd562398c9c07a759d1f5a,Change play name,MERGED,2021-02-24 17:54:50.000000000,2021-03-04 05:06:55.000000000,2021-03-04 05:06:55.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-24 17:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53c3d2b5244a35905a256095de2de5575214cfeb', 'message': ""Change play name\n\nWe currently have 'Server deployments' defined twice. We moved the\nvalidation to it's own play but didn't rename the play. Let's update the\nplay to better reflect where we're at.\n\nChange-Id: Ic9e6c8b613745f397cdd562398c9c07a759d1f5a\nRelated-Bug: #1913725\n""}, {'number': 2, 'created': '2021-02-24 17:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98dd061c3e4d3ba5d1f4a9106beafa5b39282f53', 'message': ""Change play name\n\nWe currently have 'Server deployments' defined twice. We moved the\nvalidation to it's own play but didn't rename the play. Let's update the\nplay to better reflect where we're at.\n\nChange-Id: Ic9e6c8b613745f397cdd562398c9c07a759d1f5a\nRelated-Bug: #1913725\n""}, {'number': 3, 'created': '2021-03-01 21:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57cf836fa46ef6a53d16df39dd6395ebe807ffa1', 'message': ""Change play name\n\nWe currently have 'Server deployments' defined twice. We moved the\nvalidation to it's own play but didn't rename the play. Let's update the\nplay to better reflect where we're at.\n\nChange-Id: Ic9e6c8b613745f397cdd562398c9c07a759d1f5a\nRelated-Bug: #1913725\n""}, {'number': 4, 'created': '2021-03-02 14:35:04.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6e9974ba199930e5ed9f5ccc7fa7f2508a6f024', 'message': ""Change play name\n\nWe currently have 'Server deployments' defined twice. We moved the\nvalidation to it's own play but didn't rename the play. Let's update the\nplay to better reflect where we're at.\n\nChange-Id: Ic9e6c8b613745f397cdd562398c9c07a759d1f5a\nRelated-Bug: #1913725\n""}]",0,777445,c6e9974ba199930e5ed9f5ccc7fa7f2508a6f024,21,4,4,14985,,,0,"Change play name

We currently have 'Server deployments' defined twice. We moved the
validation to it's own play but didn't rename the play. Let's update the
play to better reflect where we're at.

Change-Id: Ic9e6c8b613745f397cdd562398c9c07a759d1f5a
Related-Bug: #1913725
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/777445/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,53c3d2b5244a35905a256095de2de5575214cfeb,bug/1913725, name: Network validation, name: Server deployments,1,1
openstack%2Frequirements~master~Ie173b0f84552ccf40023ee9ade176a870d0c3a89,openstack/requirements,master,Ie173b0f84552ccf40023ee9ade176a870d0c3a89,update constraint for neutron-lib to new release 2.9.1,MERGED,2021-03-03 22:11:51.000000000,2021-03-04 04:52:51.000000000,2021-03-04 04:51:26.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 22:11:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9b8c0434055101c8148172a26e37d5d743ad3367', 'message': 'update constraint for neutron-lib to new release 2.9.1\n\nmeta: version: 2.9.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I2d354656640a34ba31537ac0790d8989fa402aef\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ie173b0f84552ccf40023ee9ade176a870d0c3a89\n'}]",0,778586,9b8c0434055101c8148172a26e37d5d743ad3367,8,2,1,11131,,,0,"update constraint for neutron-lib to new release 2.9.1

meta: version: 2.9.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I2d354656640a34ba31537ac0790d8989fa402aef
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ie173b0f84552ccf40023ee9ade176a870d0c3a89
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/778586/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9b8c0434055101c8148172a26e37d5d743ad3367,new-release,neutron-lib===2.9.1,neutron-lib===2.9.0,1,1
openstack%2Fneutron-tempest-plugin~master~I982552f47297a83a351ec67090c9101d80d88d4a,openstack/neutron-tempest-plugin,master,I982552f47297a83a351ec67090c9101d80d88d4a,Add a scenario test for remote address group,MERGED,2021-02-26 21:14:25.000000000,2021-03-04 04:42:33.000000000,2021-03-04 04:42:33.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 21:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a20ec37144f8b46b12525d24f3181c48a74503f5', 'message': 'Add scenario test for remote address group\n\nAdd scenario test for SG rule with remote address group.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I982552f47297a83a351ec67090c9101d80d88d4a\n'}, {'number': 2, 'created': '2021-03-01 20:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a42c764cdcda4e8c5ba399fdf2dbf8bc2206be35', 'message': 'Add a scenario test for remote address group\n\nAdd a scenario test for SG rules with remote address group.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I982552f47297a83a351ec67090c9101d80d88d4a\n'}, {'number': 3, 'created': '2021-03-02 01:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/639e247695e67b3143346a16cbd8ea4f418260a1', 'message': 'Add a scenario test for remote address group\n\nAdd a scenario test for SG rules with remote address group.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I982552f47297a83a351ec67090c9101d80d88d4a\n'}, {'number': 4, 'created': '2021-03-02 15:34:07.000000000', 'files': ['zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e6e0ccf3dbbcb8173d04c7842f8cfa523c8a4882', 'message': 'Add a scenario test for remote address group\n\nAdd a scenario test for SG rules with remote address group.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I982552f47297a83a351ec67090c9101d80d88d4a\n'}]",10,777833,e6e0ccf3dbbcb8173d04c7842f8cfa523c8a4882,15,3,4,28159,,,0,"Add a scenario test for remote address group

Add a scenario test for SG rules with remote address group.

Implements: blueprint address-groups-in-sg-rules
Change-Id: I982552f47297a83a351ec67090c9101d80d88d4a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/33/777833/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/base.py']",2,a20ec37144f8b46b12525d24f3181c48a74503f5,bp/address-groups-in-sg-rules," resp = [] resp.append(client.create_security_group_rule( direction=direction, security_group_id=secgroup_id, **rule)['security_group_rule']) return resp"," client.create_security_group_rule( direction=direction, security_group_id=secgroup_id, **rule)",56,8
openstack%2Fpython-cinderclient~master~Id3e61949550e70e2c4235406d258bbd9c66e67cf,openstack/python-cinderclient,master,Id3e61949550e70e2c4235406d258bbd9c66e67cf,Move cinderclient to new hacking 4.0.0,MERGED,2021-02-19 08:43:21.000000000,2021-03-04 03:05:12.000000000,2021-03-04 03:03:06.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-19 08:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/535d9676669ae137f849a7ab3232ed3a7df4a1ce', 'message': 'Move cinderclient to new hacking 4.0.0\n\nChange-Id: Id3e61949550e70e2c4235406d258bbd9c66e67cf\n'}, {'number': 2, 'created': '2021-02-23 16:27:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2611cd118df8d72d8b9ecee8f94dfd5fc6cb9dd6', 'message': 'Move cinderclient to new hacking 4.0.0\n\nChange-Id: Id3e61949550e70e2c4235406d258bbd9c66e67cf\n'}]",0,776590,2611cd118df8d72d8b9ecee8f94dfd5fc6cb9dd6,10,3,2,30615,,,0,"Move cinderclient to new hacking 4.0.0

Change-Id: Id3e61949550e70e2c4235406d258bbd9c66e67cf
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/90/776590/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,535d9676669ae137f849a7ab3232ed3a7df4a1ce,,"hacking>=4.0.0,<4.0.1 # Apache-2.0","hacking>=3.1.0,<3.2.0 # Apache-2.0",1,1
openstack%2Ftripleo-ansible~master~Id165c19121c9036a33b10d6b6d51f3bdc528307b,openstack/tripleo-ansible,master,Id165c19121c9036a33b10d6b6d51f3bdc528307b,Build osd caps section when there's at least >= 1 pool,MERGED,2021-03-02 10:09:55.000000000,2021-03-04 02:59:48.000000000,2021-03-04 02:59:48.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 10:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59427d875ab4a2b4ae1171cdecfb7dda97c0ecec', 'message': ""Build osd caps section when there's at least >= 1 pool\n\nChange-Id: Id165c19121c9036a33b10d6b6d51f3bdc528307b\n""}, {'number': 2, 'created': '2021-03-02 10:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e0225b72255ac10250567a85f336e3c9aa4d4c9', 'message': ""Build osd caps section when there's at least >= 1 pool\n\nWhen Ceph is deployed by TripleO but no services using\nit are explicitly enabled in TripleO, an empty pool list\nif generated (for the same reason), and the osd caps\nresults in an empty string, turning the cluster in a\nnon healthy status.\nThis patch introduces two new tasks to selectively create\nosd caps when profiles >= 0.\n\nChange-Id: Id165c19121c9036a33b10d6b6d51f3bdc528307b\n""}, {'number': 3, 'created': '2021-03-02 10:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0621fc7732d035f229b3c30414f1568b2afefd5a', 'message': ""Build osd caps section when there's at least >= 1 pool\n\nWhen Ceph is deployed by TripleO but no services using\nit are explicitly enabled in TripleO, an empty pool list\nif generated (for the same reason), and the osd caps\nresults in an empty string, turning the cluster in a\nnon healthy status.\nThis patch introduces two new tasks to selectively create\nosd caps when profiles >= 0.\n\nCloses-Bug: #1917440\nChange-Id: Id165c19121c9036a33b10d6b6d51f3bdc528307b\n""}, {'number': 4, 'created': '2021-03-02 13:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b715a45ca296210eebb3cc3cf352927c86b785b', 'message': ""Build osd caps section when there's at least >= 1 pool\n\nWhen Ceph is deployed by TripleO but no services using\nit are explicitly enabled in TripleO, an empty pool list\nif generated (for the same reason), and the osd caps\nresults in an empty string, turning the cluster in a\nnon healthy status.\nThis patch introduces two new tasks to selectively create\nosd caps when profiles >= 0.\n\nCloses-Bug: #1917440\nChange-Id: Id165c19121c9036a33b10d6b6d51f3bdc528307b\n""}, {'number': 5, 'created': '2021-03-02 13:56:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/594642ba8f4ce9315974578228417a3ca22975fb', 'message': ""Build osd caps section when there's at least >= 1 pool\n\nWhen Ceph is deployed by TripleO but no services using\nit are explicitly enabled in TripleO, an empty pool list\nif generated (for the same reason), and the osd caps\nresults in an empty string, turning the cluster in a\nnon healthy status.\nThis patch introduces two new tasks to selectively create\nosd caps when profiles >= 0.\n\nCloses-Bug: #1917440\nChange-Id: Id165c19121c9036a33b10d6b6d51f3bdc528307b\n""}]",0,778158,594642ba8f4ce9315974578228417a3ca22975fb,13,4,5,25402,,,0,"Build osd caps section when there's at least >= 1 pool

When Ceph is deployed by TripleO but no services using
it are explicitly enabled in TripleO, an empty pool list
if generated (for the same reason), and the osd caps
results in an empty string, turning the cluster in a
non healthy status.
This patch introduces two new tasks to selectively create
osd caps when profiles >= 0.

Closes-Bug: #1917440
Change-Id: Id165c19121c9036a33b10d6b6d51f3bdc528307b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/778158/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml'],1,59427d875ab4a2b4ae1171cdecfb7dda97c0ecec,," osp_client_default_caps: {'mgr': 'allow *', 'mon': 'profile rbd'} - name: set openstack client osd(s) caps set_fact: osp_client_osd_caps: {'osd': ""{{ profiles | regex_replace('\\, $', '') }}""} when: profiles|length > 0 - name: Combine caps set_fact: osp_client_caps: ""{{ osp_client_default_caps | combine(osp_client_osd_caps|default({})) }}"""," osp_client_caps: {'mgr': 'allow *', 'mon': 'profile rbd', 'osd': ""{{ profiles | regex_replace('\\, $', '') }}""}",10,1
openstack%2Foctavia~stable%2Fussuri~I7e2b12f19ee7b172464e809df6342ade1e87fb2e,openstack/octavia,stable/ussuri,I7e2b12f19ee7b172464e809df6342ade1e87fb2e,Fix backend certificate file paths,MERGED,2020-09-24 14:11:25.000000000,2021-03-04 02:52:13.000000000,2021-03-04 02:49:47.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-09-24 14:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c86f1f680dc009c839897eb35b660af56c9664d', 'message': 'Fix backend certificate file paths\n\nIn amphora-agent API version 1.0, backend certificate files are uploaded\nto /var/lib/octavia/certs/<lb_id>/. However, the ""server"" line in the\nrendered HAProxy configuration sets the certificate paths to\n/var/lib/octavia/certs/<listener_id>/ (amphora-agent version 0.5).\n\nThis renders an invalid HAProxy configuration file and as result HAProxy\nfails to reload with the new configuration, and members marked in ERROR\nprovisioning status.\n\nTask: 40903\nStory: 2008157\n\nChange-Id: I7e2b12f19ee7b172464e809df6342ade1e87fb2e\n(cherry picked from commit 89d5e9fcf6d456c11853e73978cb6c5530f28904)\n'}, {'number': 2, 'created': '2020-11-23 08:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/afd1f22a498be65dc036528f474c4208af55b222', 'message': 'Fix backend certificate file paths\n\nIn amphora-agent API version 1.0, backend certificate files are uploaded\nto /var/lib/octavia/certs/<lb_id>/. However, the ""server"" line in the\nrendered HAProxy configuration sets the certificate paths to\n/var/lib/octavia/certs/<listener_id>/ (amphora-agent version 0.5).\n\nThis renders an invalid HAProxy configuration file and as result HAProxy\nfails to reload with the new configuration, and members marked in ERROR\nprovisioning status.\n\nTask: 40903\nStory: 2008157\n\nChange-Id: I7e2b12f19ee7b172464e809df6342ade1e87fb2e\n(cherry picked from commit 89d5e9fcf6d456c11853e73978cb6c5530f28904)\n'}, {'number': 3, 'created': '2021-01-14 15:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8d8c7ad527f53540a08fff9be59bd93c6507c6d2', 'message': 'Fix backend certificate file paths\n\nIn amphora-agent API version 1.0, backend certificate files are uploaded\nto /var/lib/octavia/certs/<lb_id>/. However, the ""server"" line in the\nrendered HAProxy configuration sets the certificate paths to\n/var/lib/octavia/certs/<listener_id>/ (amphora-agent version 0.5).\n\nThis renders an invalid HAProxy configuration file and as result HAProxy\nfails to reload with the new configuration, and members marked in ERROR\nprovisioning status.\n\nTask: 40903\nStory: 2008157\n\nChange-Id: I7e2b12f19ee7b172464e809df6342ade1e87fb2e\n(cherry picked from commit 89d5e9fcf6d456c11853e73978cb6c5530f28904)\n'}, {'number': 4, 'created': '2021-03-03 16:48:40.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'releasenotes/notes/fix-add-member-tls-enabled-pool-cc77bfa320aaf659.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/19fbb64df88e5edbc36e0492569dcc353b0ad3fe', 'message': 'Fix backend certificate file paths\n\nIn amphora-agent API version 1.0, backend certificate files are uploaded\nto /var/lib/octavia/certs/<lb_id>/. However, the ""server"" line in the\nrendered HAProxy configuration sets the certificate paths to\n/var/lib/octavia/certs/<listener_id>/ (amphora-agent version 0.5).\n\nThis renders an invalid HAProxy configuration file and as result HAProxy\nfails to reload with the new configuration, and members marked in ERROR\nprovisioning status.\n\nTask: 40903\nStory: 2008157\n\nChange-Id: I7e2b12f19ee7b172464e809df6342ade1e87fb2e\n(cherry picked from commit 89d5e9fcf6d456c11853e73978cb6c5530f28904)\n'}]",4,754108,19fbb64df88e5edbc36e0492569dcc353b0ad3fe,24,5,4,6469,,,0,"Fix backend certificate file paths

In amphora-agent API version 1.0, backend certificate files are uploaded
to /var/lib/octavia/certs/<lb_id>/. However, the ""server"" line in the
rendered HAProxy configuration sets the certificate paths to
/var/lib/octavia/certs/<listener_id>/ (amphora-agent version 0.5).

This renders an invalid HAProxy configuration file and as result HAProxy
fails to reload with the new configuration, and members marked in ERROR
provisioning status.

Task: 40903
Story: 2008157

Change-Id: I7e2b12f19ee7b172464e809df6342ade1e87fb2e
(cherry picked from commit 89d5e9fcf6d456c11853e73978cb6c5530f28904)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/754108/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'releasenotes/notes/fix-add-member-tls-enabled-pool-cc77bfa320aaf659.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",4,3c86f1f680dc009c839897eb35b660af56c9664d,," ref_path = '{cert_dir}/{lb_id}/{name}'.format( cert_dir=fake_cert_dir, lb_id=sample_listener.load_balancer.id, name=ref_name) ref_ca_path = '{cert_dir}/{lb_id}/{name}'.format( cert_dir=fake_cert_dir, lb_id=sample_listener.load_balancer.id, ref_crl_path = '{cert_dir}/{lb_id}/{name}'.format( cert_dir=fake_cert_dir, lb_id=sample_listener.load_balancer.id,"," ref_path = '{cert_dir}/{list_id}/{name}'.format( cert_dir=fake_cert_dir, list_id=sample_listener.id, name=ref_name) ref_ca_path = '{cert_dir}/{list_id}/{name}'.format( cert_dir=fake_cert_dir, list_id=sample_listener.id, ref_crl_path = '{cert_dir}/{list_id}/{name}'.format( cert_dir=fake_cert_dir, list_id=sample_listener.id,",31,26
openstack%2Foctavia~stable%2Fussuri~If2841720009c2e402127e2e0080efdd56b68f6c9,openstack/octavia,stable/ussuri,If2841720009c2e402127e2e0080efdd56b68f6c9,Configure rsyslog on Octavia service nodes in devstack,MERGED,2021-02-22 08:49:10.000000000,2021-03-04 02:51:10.000000000,2021-03-04 02:49:43.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:49:10.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e9bc5d9f71c54fc05f93c6359ee1275e97ea4760', 'message': 'Configure rsyslog on Octavia service nodes in devstack\n\n{admin,tenant}_log_targets options are configured with\nMGMT_PORT_IP in devstack, which contains the IP address\nof the local management interface. In multinode setup,\nit means that the second node should run a rsyslog\nservice to receive logs from amphorae that have been\nspawned by its worker.\n\nChange-Id: If2841720009c2e402127e2e0080efdd56b68f6c9\n(cherry picked from commit f45092a87673b54d578d8df058917e325d9b77b8)\n(cherry picked from commit 0e593f4d2645f74e780b6da288f2fc36f75dca8e)\n'}]",0,776911,e9bc5d9f71c54fc05f93c6359ee1275e97ea4760,8,4,1,6469,,,0,"Configure rsyslog on Octavia service nodes in devstack

{admin,tenant}_log_targets options are configured with
MGMT_PORT_IP in devstack, which contains the IP address
of the local management interface. In multinode setup,
it means that the second node should run a rsyslog
service to receive logs from amphorae that have been
spawned by its worker.

Change-Id: If2841720009c2e402127e2e0080efdd56b68f6c9
(cherry picked from commit f45092a87673b54d578d8df058917e325d9b77b8)
(cherry picked from commit 0e593f4d2645f74e780b6da288f2fc36f75dca8e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/776911/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e9bc5d9f71c54fc05f93c6359ee1275e97ea4760,, configure_rsyslog, configure_rsyslog,1,2
openstack%2Foctavia~stable%2Ftrain~I1236d3c6231a657b2aa53b1e488a4d0fe3215070,openstack/octavia,stable/train,I1236d3c6231a657b2aa53b1e488a4d0fe3215070,Add validation for VIP network parameters in amphora driver,MERGED,2021-02-22 08:17:16.000000000,2021-03-04 02:46:00.000000000,2021-03-04 02:44:35.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d68db197f1145a1f2f28390d78545654edadcbe', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)\n(cherry picked from commit 250302bf0359758ffe59c10259db04fa550d58ff)\n(cherry picked from commit a0cb2a0df516e2d80d33693c62d875ccf60bee10)\n'}, {'number': 2, 'created': '2021-02-23 08:21:50.000000000', 'files': ['octavia/network/drivers/neutron/utils.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6767a88b61121ac454d8b939ab15680473087e87', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)\n(cherry picked from commit 250302bf0359758ffe59c10259db04fa550d58ff)\n(cherry picked from commit a0cb2a0df516e2d80d33693c62d875ccf60bee10)\n'}]",2,776902,6767a88b61121ac454d8b939ab15680473087e87,10,4,2,6469,,,0,"Add validation for VIP network parameters in amphora driver

Some network parameters can be validated in the API, it would avoid to
handle exceptions in the worker when plugging networking resources.
This commit validates that port_security_enabled is True on the VIP
network when using the amphora driver.

Story: 2008449
Task: 41422

Change-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070
(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)
(cherry picked from commit 250302bf0359758ffe59c10259db04fa550d58ff)
(cherry picked from commit a0cb2a0df516e2d80d33693c62d875ccf60bee10)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/776902/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/network/drivers/neutron/utils.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",9,5d68db197f1145a1f2f28390d78545654edadcbe,," vip_network = network_driver.get_network( vip_dictionary[lib_consts.VIP_NETWORK_ID]) if not vip_network.port_security_enabled: message = ""Port security must be enabled on the VIP network."" raise exceptions.DriverError(user_fault_string=message, operator_fault_string=message) ",,87,8
openstack%2Foctavia~stable%2Fussuri~I1236d3c6231a657b2aa53b1e488a4d0fe3215070,openstack/octavia,stable/ussuri,I1236d3c6231a657b2aa53b1e488a4d0fe3215070,Add validation for VIP network parameters in amphora driver,MERGED,2021-02-22 08:16:37.000000000,2021-03-04 02:45:58.000000000,2021-03-04 02:44:23.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a0cb2a0df516e2d80d33693c62d875ccf60bee10', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)\n(cherry picked from commit 250302bf0359758ffe59c10259db04fa550d58ff)\n'}, {'number': 2, 'created': '2021-02-23 08:43:21.000000000', 'files': ['octavia/network/drivers/neutron/utils.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4dac4554f349b19d8cb0469132f9b6c037a599dd', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)\n(cherry picked from commit 250302bf0359758ffe59c10259db04fa550d58ff)\n'}]",2,776901,4dac4554f349b19d8cb0469132f9b6c037a599dd,10,4,2,6469,,,0,"Add validation for VIP network parameters in amphora driver

Some network parameters can be validated in the API, it would avoid to
handle exceptions in the worker when plugging networking resources.
This commit validates that port_security_enabled is True on the VIP
network when using the amphora driver.

Story: 2008449
Task: 41422

Change-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070
(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)
(cherry picked from commit 250302bf0359758ffe59c10259db04fa550d58ff)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/01/776901/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/network/drivers/neutron/utils.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",9,a0cb2a0df516e2d80d33693c62d875ccf60bee10,," vip_network = network_driver.get_network( vip_dictionary[lib_consts.VIP_NETWORK_ID]) if not vip_network.port_security_enabled: message = ""Port security must be enabled on the VIP network."" raise exceptions.DriverError(user_fault_string=message, operator_fault_string=message) ",,87,8
openstack%2Fpuppet-tripleo~master~I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c,openstack/puppet-tripleo,master,I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c,Add monitor interval for ovn dbs,MERGED,2020-02-28 08:17:06.000000000,2021-03-04 02:34:52.000000000,2021-03-04 02:33:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 08:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/25c0a241cbcbfe6216608f4d71ad3bddfc1af5b8', 'message': 'Add monitor interval for ovn dbs\n\nAdd posibilities to configure ovn dbs monitor interval.\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 2, 'created': '2020-05-06 10:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fb64da5c053e36a4ee490f0ba40331fa6fb3ff26', 'message': 'Add monitor interval for ovn dbs\n\nAdd posibilities to configure ovn dbs monitor interval.\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 3, 'created': '2020-05-06 12:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/456d4d3ac98f339092bf30f6353cbba4423ebe65', 'message': 'Add monitor interval for ovn dbs\n\nAdd posibilities to configure ovn dbs monitor interval.\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 4, 'created': '2020-05-13 05:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/59eee3f54e27a788a3ca4dc5316c23a37c004dba', 'message': 'Add monitor interval for ovn dbs\n\nAdd posibilities to configure ovn dbs monitor interval.\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 5, 'created': '2020-07-22 11:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eca9f8cbd06614d5b80a0469cc5f623792ba4fca', 'message': 'Add monitor interval for ovn dbs\n\nAdd posibilities to configure ovn dbs monitor interval.\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 6, 'created': '2020-10-14 13:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e28de207d074aa441682e4000d0bc7adf62b20a6', 'message': 'Add monitor interval for ovn dbs\n\nAdd parameter for configuring the ovn dbs monitor interval. Under load,\nthis can create extra stress and since the timeout has already been\nbumped. It makes sense to bump this interval to a higher value as a\ntrade off between detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 7, 'created': '2021-02-23 13:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/61b3e7efff1343d6402eb8a0b391d1d3c903a275', 'message': 'Add monitor interval for ovn dbs\n\nAdd parameter for configuring the ovn dbs monitor interval. Under load,\nthis can create extra stress and since the timeout has already been\nbumped. It makes sense to bump this interval to a higher value as a\ntrade off between detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 8, 'created': '2021-03-01 13:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d469bfa93858a68da69e57809966bf79b874519f', 'message': 'Add monitor interval for ovn dbs\n\nAdd parameter for configuring the ovn dbs monitor interval. Under load,\nthis can create extra stress and since the timeout has already been\nbumped. It makes sense to bump this interval to a higher value as a\ntrade off between detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 9, 'created': '2021-03-02 08:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/781c822822b396330a56af0a75aefa1992a58a21', 'message': 'Add monitor interval for ovn dbs\n\nAdd parameter for configuring the ovn dbs monitor interval. Under load,\nthis can create extra stress and since the timeout has already been\nbumped. It makes sense to bump this interval to a higher value as a\ntrade off between detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 10, 'created': '2021-03-02 12:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/88950acc83e08e3119e99f9562b2cefaeb8d0850', 'message': 'Add monitor interval for ovn dbs\n\nAdd parameter for configuring the ovn dbs monitor interval. Under load,\nthis can create extra stress and since the timeout has already been\nbumped. It makes sense to bump this interval to a higher value as a\ntrade off between detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}, {'number': 11, 'created': '2021-03-03 14:53:06.000000000', 'files': ['releasenotes/notes/monitor_interval_ovndbs-6af18ba7f4a17cc5.yaml', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/61c61c89ed6e9c7d8502a17e681b6648c9930c6e', 'message': 'Add monitor interval for ovn dbs\n\nAdd parameter for configuring the ovn dbs monitor interval. Under load,\nthis can create extra stress and since the timeout has already been\nbumped. It makes sense to bump this interval to a higher value as a\ntrade off between detecting a failure and stressing the service.\n\nChange-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c\n'}]",3,710407,61c61c89ed6e9c7d8502a17e681b6648c9930c6e,65,8,11,11082,,,0,"Add monitor interval for ovn dbs

Add parameter for configuring the ovn dbs monitor interval. Under load,
this can create extra stress and since the timeout has already been
bumped. It makes sense to bump this interval to a higher value as a
trade off between detecting a failure and stressing the service.

Change-Id: I0572f02f1bb8e099ce7647bc2f2f9b095a9c390c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/710407/10 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/monitor_interval_ovndbs-6af18ba7f4a17cc5.yaml', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",2,25c0a241cbcbfe6216608f4d71ad3bddfc1af5b8,change-710407-7,"# [*monitor_interval*] # (Optional) monitor interval for ovn dbs resource # Defaults to 30 # $monitor_interval = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::monitor_interval', 30), op_params => ""start timeout=200s stop timeout=200s monitor interval=${monitor_interval}s role=Master \ timeout=${dbs_timeout}s monitor interval=${monitor_interval}s role=Slave timeout=${dbs_timeout}s"","," op_params => ""start timeout=200s stop timeout=200s monitor interval=10s role=Master timeout=${dbs_timeout}s \ monitor interval=30s role=Slave timeout=${dbs_timeout}s"",",11,2
openstack%2Foctavia~stable%2Fussuri~I6dd8e99b07ff557674871cb503dece96a9df3ada,openstack/octavia,stable/ussuri,I6dd8e99b07ff557674871cb503dece96a9df3ada,Disable auto configuration of new interfaces in NetworkManager,MERGED,2021-02-22 08:19:07.000000000,2021-03-04 02:31:34.000000000,2021-03-04 02:30:19.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:19:07.000000000', 'files': ['elements/amphora-agent/static/etc/NetworkManager/conf.d/no-auto-default.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7b2424685e9f29116d48cf2d0922f552fd4c2fdd', 'message': 'Disable auto configuration of new interfaces in NetworkManager\n\nNetworkManager in Centos images configures new network devices as soon\nas they appear in the default namespace, it means that we might have\nconflicts between the management interface\'s routes and address and the\nnew VIP or member interfaces\' routes and addresses during a small period\nof time before they are moved to the amphora-haproxy namespace.\n\nNow, the ""no-auto-default=*"" option is enabled in NetworkManager, it\ndisables the configuration of new interfaces, while the management\ninterface is still enabled/configured through cloud-init.\n\nStory 2008599\nTask 41773\n\nChange-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada\n(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)\n(cherry picked from commit b9f622b335dd4f95f1a6004bb94159f891ca0980)\n'}]",0,776904,7b2424685e9f29116d48cf2d0922f552fd4c2fdd,10,4,1,6469,,,0,"Disable auto configuration of new interfaces in NetworkManager

NetworkManager in Centos images configures new network devices as soon
as they appear in the default namespace, it means that we might have
conflicts between the management interface's routes and address and the
new VIP or member interfaces' routes and addresses during a small period
of time before they are moved to the amphora-haproxy namespace.

Now, the ""no-auto-default=*"" option is enabled in NetworkManager, it
disables the configuration of new interfaces, while the management
interface is still enabled/configured through cloud-init.

Story 2008599
Task 41773

Change-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada
(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)
(cherry picked from commit b9f622b335dd4f95f1a6004bb94159f891ca0980)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/776904/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/static/etc/NetworkManager/conf.d/no-auto-default.conf'],1,7b2424685e9f29116d48cf2d0922f552fd4c2fdd,,[main] # Disable auto configuration for newly detected devices. # This prevents having temporary addresses and routes in the default namespace # between the detection of a new devices and its move to the amphora-haproxy # namespace. # The management interface configuration is triggered by cloud-init. no-auto-default=* ,,7,0
openstack%2Fopenstackclient~master~I1237570e8af6c9af880b824e9e32e0b7dc54bc77,openstack/openstackclient,master,I1237570e8af6c9af880b824e9e32e0b7dc54bc77,Remove karborclient - fix Zuul project definition,MERGED,2021-03-03 18:24:02.000000000,2021-03-04 02:14:14.000000000,2021-03-04 02:14:14.000000000,"[{'_account_id': 841}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 18:24:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/37076d16afff290324c18ce0fdec535a5d5109d6', 'message': 'Remove karborclient - fix Zuul project definition\n\nKarbor was retired.\nZuul fails to run jobs defined here due to:\n  Unknown projects: openstack/python-karborclient [1]\nAs python-karborclient no longer has any Zuul definition.\n\nFound trying to get [2] to do something.\n\nThanks to Clark Boylan (clarkb) for his quick support on #opendev.\n\n[1] https://zuul.opendev.org/t/openstack/config-errors\n[2] https://review.opendev.org/c/openstack/python-masakariclient/+/778513\n\nChange-Id: I1237570e8af6c9af880b824e9e32e0b7dc54bc77\n'}]",0,778536,37076d16afff290324c18ce0fdec535a5d5109d6,7,3,1,30491,,,0,"Remove karborclient - fix Zuul project definition

Karbor was retired.
Zuul fails to run jobs defined here due to:
  Unknown projects: openstack/python-karborclient [1]
As python-karborclient no longer has any Zuul definition.

Found trying to get [2] to do something.

Thanks to Clark Boylan (clarkb) for his quick support on #opendev.

[1] https://zuul.opendev.org/t/openstack/config-errors
[2] https://review.opendev.org/c/openstack/python-masakariclient/+/778513

Change-Id: I1237570e8af6c9af880b824e9e32e0b7dc54bc77
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/36/778536/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,37076d16afff290324c18ce0fdec535a5d5109d6,fix-zuul-project-def,, - openstack/python-karborclient,0,1
openstack%2Fcinder-specs~master~I846fb0432232feb4f9ea5d07e8fa86bb4e622372,openstack/cinder-specs,master,I846fb0432232feb4f9ea5d07e8fa86bb4e622372,Add xena directory for specs,MERGED,2021-03-03 11:41:55.000000000,2021-03-04 01:52:31.000000000,2021-03-04 01:51:09.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 11:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/3b8d1b73e464b271e391938126f29d22c04bb736', 'message': 'Add xena directory for specs\n\nChange-Id: I846fb0432232feb4f9ea5d07e8fa86bb4e622372\n'}, {'number': 2, 'created': '2021-03-04 01:10:28.000000000', 'files': ['doc/source/index.rst', 'specs/xena/remove-me.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/e2e1f0761bc41104e6a156cd921424708613b877', 'message': 'Add xena directory for specs\n\nChange-Id: I846fb0432232feb4f9ea5d07e8fa86bb4e622372\n'}]",3,778436,e2e1f0761bc41104e6a156cd921424708613b877,11,2,2,30092,,,0,"Add xena directory for specs

Change-Id: I846fb0432232feb4f9ea5d07e8fa86bb4e622372
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/36/778436/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/xena/remove-me.rst']",2,3b8d1b73e464b271e391938126f29d22c04bb736,,.. This file is a place holder. It should be removed by any patch proposing a spec for the Wallaby release ================================ No specs have yet been approved. ================================ ,,15,0
openstack%2Frequirements~master~If7f8c25d77c8c290d4da6c8e447416245642e930,openstack/requirements,master,If7f8c25d77c8c290d4da6c8e447416245642e930,update constraint for metalsmith to new release 1.4.2,MERGED,2021-03-03 16:10:51.000000000,2021-03-04 01:42:15.000000000,2021-03-04 01:36:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 16:10:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/214f514b565026dfc682fc1fb6a5e79abf8a9404', 'message': 'update constraint for metalsmith to new release 1.4.2\n\nmeta: version: 1.4.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Change-Id: Ief045a21c59f4a11743c9d870eb49caafa10528d\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: If7f8c25d77c8c290d4da6c8e447416245642e930\n'}]",0,778496,214f514b565026dfc682fc1fb6a5e79abf8a9404,9,3,1,11131,,,0,"update constraint for metalsmith to new release 1.4.2

meta: version: 1.4.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Change-Id: Ief045a21c59f4a11743c9d870eb49caafa10528d
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: If7f8c25d77c8c290d4da6c8e447416245642e930
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/778496/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,214f514b565026dfc682fc1fb6a5e79abf8a9404,new-release,metalsmith===1.4.2,metalsmith===1.4.1,1,1
openstack%2Fswift~master~Ic1d3a062419f1133c6e2f00a598867d567358c9f,openstack/swift,master,Ic1d3a062419f1133c6e2f00a598867d567358c9f,Add some functional CORS tests,MERGED,2018-01-12 01:47:45.000000000,2021-03-04 01:41:20.000000000,2021-03-04 01:35:18.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-12 01:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/36d2bf42e75baee99731f07c3f9deab4eb166b3d', 'message': 'Add some functional CORS tests\n\nThese still require some manual intervention (run a script, open a browser,\nconfirm all tests pass), but at least this gives us a starting point.\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n'}, {'number': 2, 'created': '2018-01-12 22:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aa4afc41275bd3a8b620499294706e6855ba9162', 'message': 'Add some functional CORS tests\n\nThese still require some manual intervention (run a script, open a browser,\nconfirm all tests pass), but at least this gives us a starting point.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n'}, {'number': 3, 'created': '2018-03-01 21:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/acbad18c3c391d9fd631b7e2c9ac4e0e75d41af5', 'message': 'Add some functional CORS tests\n\nThese still require some manual intervention (run a script, open a browser,\nconfirm all tests pass), but at least this gives us a starting point.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n'}, {'number': 4, 'created': '2018-03-01 21:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/526b275d4de658395f625825b6a8f3efb8891a9d', 'message': 'Add some functional CORS tests\n\nThese still require some manual intervention (run a script, open a browser,\nconfirm all tests pass), but at least this gives us a starting point.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n'}, {'number': 5, 'created': '2020-02-28 00:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eadb97c1592ac99752565339ebd67a1aca77bb20', 'message': 'Add some functional CORS tests\n\nThese still require some manual intervention (run a script, open a browser,\nconfirm all tests pass), but at least this gives us a starting point.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n'}, {'number': 6, 'created': '2020-02-28 15:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e54d399f98c3bc21c5821e1283564b0d068bd69d', 'message': 'Add some functional CORS tests\n\nThese still require some manual intervention (run a script, open a browser,\nconfirm all tests pass), but at least this gives us a starting point.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n'}, {'number': 7, 'created': '2020-03-11 20:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e9f7e99238d5876ddd25e368fcffd56c61179b6b', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up, then\ncheck out what tests were run on which browsers and whether any of them\nfailed. Exit code is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 8, 'created': '2020-03-16 20:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/207354f148ee20f303acb5182c501fe5fe9060a3', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up, then\ncheck out what tests were run on which browsers and whether any of them\nfailed. Exit code is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 9, 'created': '2020-03-19 20:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88414e07d0bef6a6314ba4a1d7b10031686563a4', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 10, 'created': '2020-03-19 21:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ffe726708febb99763cfc3616f2b226bc3c71927', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 11, 'created': '2020-03-20 22:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d3a3dad22e0814ddbbe2f0db8dc75c0bca118a8d', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 12, 'created': '2020-04-14 21:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b62531a78f45a86b7da381cef0a0437d9586bc3', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 13, 'created': '2020-04-15 02:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/33d9587d8d2a07a9e4916e9f2602bf8bdc1e8214', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 14, 'created': '2020-04-16 00:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5aa7f1e6586f10c2544dc9542e9fa0bdf81f3611', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 15, 'created': '2020-04-16 17:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7ea891647868fbd7322fd4d7c62432f9b0bbf35f', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 16, 'created': '2020-04-16 17:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e86518ca4c32f7dc3751134eeea51c9a0408079d', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 17, 'created': '2020-04-16 20:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ecd41443cde4fe54d493fd07acda9135ea3ca489', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 18, 'created': '2020-05-30 05:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/146c3d2307f4ea6e3c8c2fb3d20213610683160c', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 19, 'created': '2020-10-14 00:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/572266e1b84fc6ca11979cbd7a9bb2d5bfc42237', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 20, 'created': '2021-01-21 18:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a19ccbcc705549c3e56370a1d66cc781ebdb88b8', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 21, 'created': '2021-02-05 19:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1aa84b2fa3baddaec4cceb862a2f9879cbc8f10d', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 22, 'created': '2021-02-05 21:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/46594078c1e46d1d7ddbbbbecd0f0d97666bf8b3', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 23, 'created': '2021-02-23 18:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1b6795a905857264f885c2ca1287222f3b3f4869', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 24, 'created': '2021-02-25 06:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6159c608ae5a11ae20e8a7a10aad82f333e168e5', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}, {'number': 25, 'created': '2021-03-01 19:05:35.000000000', 'files': ['test/cors/test-container.js', 'test/cors/index.html', 'tools/playbooks/cors/post.yaml', '.zuul.yaml', 'test/cors/main.py', 'test/cors/README.rst', 'test/cors/test-info.js', 'test/cors/test-account.js', 'test/cors/test-large-objects.js', 'test/cors/harness.js', 'test/cors/test-object.js', 'tools/playbooks/cors/run.yaml', 'tools/playbooks/cors/install_selenium.yaml', 'test/cors/test-symlink.js'], 'web_link': 'https://opendev.org/openstack/swift/commit/c5152ed4d3a37c5e0017be9f0445bf0868561b96', 'message': ""Add some functional CORS tests\n\nIf you've got selenium installed (and working), the whole thing can be\nautomated pretty well; run main.py, wait while some windows pop up (or\nuse xvfb-run to run things on a virtual display), then check out what\ntests were run on which browsers and whether any of them failed. Exit\ncode is the number of failed tests.\n\nIncludes tests against:\n- Account\n- Containers, with various ACLs/CORS settings\n- Objects\n- /info\n- SLOs\n- DLOs\n- Symlinks\n\nInclude a gate job that runs the tests in firefox.\n\nAreas for future work:\n\n- Install chromium and chromedriver in the gate; tests should\n  automatically pick up on the fact that it's available\n- Capture the web browser's console logs, too, so we can get\n  more info when things go wrong\n\nChange-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f\n""}]",14,533028,c5152ed4d3a37c5e0017be9f0445bf0868561b96,68,5,25,15343,,,0,"Add some functional CORS tests

If you've got selenium installed (and working), the whole thing can be
automated pretty well; run main.py, wait while some windows pop up (or
use xvfb-run to run things on a virtual display), then check out what
tests were run on which browsers and whether any of them failed. Exit
code is the number of failed tests.

Includes tests against:
- Account
- Containers, with various ACLs/CORS settings
- Objects
- /info
- SLOs
- DLOs
- Symlinks

Include a gate job that runs the tests in firefox.

Areas for future work:

- Install chromium and chromedriver in the gate; tests should
  automatically pick up on the fact that it's available
- Capture the web browser's console logs, too, so we can get
  more info when things go wrong

Change-Id: Ic1d3a062419f1133c6e2f00a598867d567358c9f
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/533028/6 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/cors/.eslintrc.json', 'test/functional/cors/test-container.js', 'test/functional/cors/test-account.js', 'test/functional/cors/test-large-objects.js', 'test/functional/cors/test-object.js', 'test/functional/cors/harness.js', 'test/functional/cors/index.html', 'test/functional/cors/setup.sh', 'test/functional/cors/test-info.js']",9,36d2bf42e75baee99731f07c3f9deab4eb166b3d,cors,"'use strict' function InfoChecker (head) { function checker (t, resp) { t.assertEqual(resp.status, 200) t.assertHeaderValue(resp, 'Content-Type', 'application/json; charset=UTF-8') t.assertHasHeader(resp, 'X-Trans-Id') t.assertDoesNotHaveHeaders(resp, [ 'X-Openstack-Request-Id', // TODO: this is blocked by CORS but almost certainly shouldn't 'X-Timestamp', 'Accept-Ranges', 'Access-Control-Allow-Origin', 'Access-Control-Expose-Headers', 'Content-Length', 'Date', 'Content-Range', ]) if (head) { t.assertEqual(resp.responseText, '') } else { const data = JSON.parse(resp.responseText) t.assertIn('swift', data) t.assertIn('slo', data) t.assertIn('tempauth', data) t.assertIn('version', data['swift']) t.assertEqual(undefined, data['dlo']) t.info('Tested against Swift version ' + data['swift']['version']) // dumpAsJSON(data) } } checker.skipCommon = true return checker } // TODO: /info should probably get an automatic access-control-allow-origin: * window.addEventListener('load', function () { runTests([ ['cluster info - GET', SimpleRequest('GET', '/info'), InfoChecker(false)], ['cluster info - GET with header', function (req) { req.open('GET', makeUrl('/info')) req.setRequestHeader('X-Trans-Id-Extra', 'my-tracker') }, CorsBlocked], // 200, but missing Access-Control-Allow-Origin ['cluster info - HEAD', SimpleRequest('HEAD', '/info'), InfoChecker(true)], ['cluster info - OPTIONS', SimpleRequest('OPTIONS', '/info'), CorsBlocked], // 200, but missing Access-Control-Allow-Origin ['cluster info - POST', SimpleRequest('POST', '/info'), CorsBlocked], // 405, but missing Access-Control-Allow-Origin ]) }) ",,717,0
openstack%2Frequirements~master~Ied671829a46770aa9139f336f6840d782cc1d522,openstack/requirements,master,Ied671829a46770aa9139f336f6840d782cc1d522,update constraint for openstacksdk to new release 0.54.0,MERGED,2021-03-03 14:48:51.000000000,2021-03-04 01:41:16.000000000,2021-03-04 01:35:09.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 14:48:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8f66230682499ac96649e01bda74944bf2d427dd', 'message': 'update constraint for openstacksdk to new release 0.54.0\n\nmeta: version: 0.54.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: If535a6aaec14e1588af913b5705d39cfa46d6423\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ied671829a46770aa9139f336f6840d782cc1d522\n'}]",0,778479,8f66230682499ac96649e01bda74944bf2d427dd,10,4,1,11131,,,0,"update constraint for openstacksdk to new release 0.54.0

meta: version: 0.54.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: If535a6aaec14e1588af913b5705d39cfa46d6423
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+1: likui <likui@yovole.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ied671829a46770aa9139f336f6840d782cc1d522
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/778479/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8f66230682499ac96649e01bda74944bf2d427dd,new-release,openstacksdk===0.54.0,openstacksdk===0.53.0,1,1
openstack%2Frequirements~master~I37a40564303a9681f3e68a773b6020c2f26906ec,openstack/requirements,master,I37a40564303a9681f3e68a773b6020c2f26906ec,update constraint for os-ken to new release 1.4.0,MERGED,2021-03-03 15:59:23.000000000,2021-03-04 01:35:14.000000000,2021-03-04 01:35:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 15:59:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dfbd18169552c42ef53125ae32e5913d99534669', 'message': 'update constraint for os-ken to new release 1.4.0\n\nmeta: version: 1.4.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Change-Id: I11dc502d5edd8d03c50965228d66e634ec2a851e\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I37a40564303a9681f3e68a773b6020c2f26906ec\n'}]",0,778491,dfbd18169552c42ef53125ae32e5913d99534669,8,3,1,11131,,,0,"update constraint for os-ken to new release 1.4.0

meta: version: 1.4.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: I11dc502d5edd8d03c50965228d66e634ec2a851e
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I37a40564303a9681f3e68a773b6020c2f26906ec
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/778491/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dfbd18169552c42ef53125ae32e5913d99534669,new-release,os-ken===1.4.0,os-ken===1.3.0,1,1
openstack%2Ftripleo-common~stable%2Fussuri~I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,openstack/tripleo-common,stable/ussuri,I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,Drop inject_facts_as_vars,MERGED,2021-02-23 21:35:30.000000000,2021-03-04 01:33:09.000000000,2021-03-04 01:31:53.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:35:30.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/778f35860a0b010850ff6e6a1afd83fb833ade4c', 'message': 'Drop inject_facts_as_vars\n\nThis setting stops ansible from converting ansible_fact items into top\nlevel ansible_* vars. This has a huge impact on performance as this is\nperformed at the end of every task execution.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777239\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/777237\nChange-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d\n(cherry picked from commit 16bc02326be62e9df328f290a1e06f3045c54957)\n'}]",0,777243,778f35860a0b010850ff6e6a1afd83fb833ade4c,11,3,1,14985,,,0,"Drop inject_facts_as_vars

This setting stops ansible from converting ansible_fact items into top
level ansible_* vars. This has a huge impact on performance as this is
performed at the end of every task execution.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777239
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/777237
Change-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d
(cherry picked from commit 16bc02326be62e9df328f290a1e06f3045c54957)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/777243/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,778f35860a0b010850ff6e6a1afd83fb833ade4c,bug/1915761-stable/ussuri," # NOTE(mwhahaha): this significantly affects performation per ansible#73654 config.set('defaults', 'inject_facts_as_vars', 'false')",,2,0
openstack%2Fmasakari~master~Ie92243b2cf4440096cd674f86fb35381d6758297,openstack/masakari,master,Ie92243b2cf4440096cd674f86fb35381d6758297,update docs for enabled to segment,MERGED,2020-05-27 01:33:20.000000000,2021-03-04 01:28:16.000000000,2021-03-04 01:27:06.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-05-27 01:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/53ecdecacc355a8c94ac9a373190e130406703e3', 'message': 'update docs when add enabled to segment\n\nChange-Id: Ie92243b2cf4440096cd674f86fb35381d6758297\n'}, {'number': 2, 'created': '2020-05-27 06:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/c5827cf3b2553840d2e2e235b01dea8616f93589', 'message': 'update docs for enabled to segment\n\nImplements: BP enable-to-segment\nChange-Id: Ie92243b2cf4440096cd674f86fb35381d6758297\n'}, {'number': 3, 'created': '2020-11-04 07:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/00af6ca20be18ab5396ab3f8378a04ba883912dd', 'message': 'update docs for enabled to segment\n\nImplements: BP enable-to-segment\nChange-Id: Ie92243b2cf4440096cd674f86fb35381d6758297\n'}, {'number': 4, 'created': '2021-03-03 01:36:36.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/api_samples/segments/segments-list-resp.json', 'doc/api_samples/segments/segment-create-resp.json', 'doc/api_samples/segments/segment-update-req.json', 'api-ref/source/failover-segments.inc', 'doc/api_samples/segments/segment-create-req.json', 'doc/api_samples/segments/segment-get-resp.json', 'doc/api_samples/segments/segment-update-resp.json'], 'web_link': 'https://opendev.org/openstack/masakari/commit/3e5c29b99a16711c6241be61a871a083d09d1940', 'message': 'update docs for enabled to segment\n\nImplements: BP enable-to-segment\nChange-Id: Ie92243b2cf4440096cd674f86fb35381d6758297\n'}]",6,731012,3e5c29b99a16711c6241be61a871a083d09d1940,19,4,4,24501,,,0,"update docs for enabled to segment

Implements: BP enable-to-segment
Change-Id: Ie92243b2cf4440096cd674f86fb35381d6758297
",git fetch https://review.opendev.org/openstack/masakari refs/changes/12/731012/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'doc/api_samples/segments/segments-list-resp.json', 'doc/api_samples/segments/segment-create-resp.json', 'doc/api_samples/segments/segment-update-req.json', 'api-ref/source/failover-segments.inc', 'doc/api_samples/segments/segment-create-req.json', 'doc/api_samples/segments/segment-get-resp.json', 'doc/api_samples/segments/segment-update-resp.json']",8,53ecdecacc355a8c94ac9a373190e130406703e3,bp/enable-to-segment," ""name"": ""new_segment"", ""enabled"": False"," ""name"": ""new_segment""",38,17
openstack%2Ftripleo-common~stable%2Fussuri~I776192717798c9fc3f02c4d358bebed2bada3593,openstack/tripleo-common,stable/ussuri,I776192717798c9fc3f02c4d358bebed2bada3593,Fix fact definition for deployments,MERGED,2021-02-23 21:35:30.000000000,2021-03-04 01:09:50.000000000,2021-03-04 01:08:20.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:35:30.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4865b5d24467954c5c457d87ed20488c76640693', 'message': 'Fix fact definition for deployments\n\nFor legacy deployment tasks we construct them here in tripleo-common. In\norder to disable inject facts, we need to fix this here too.\n\nChange-Id: I776192717798c9fc3f02c4d358bebed2bada3593\nRelated-Bug: #1915761\n(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)\n'}]",0,777242,4865b5d24467954c5c457d87ed20488c76640693,13,3,1,14985,,,0,"Fix fact definition for deployments

For legacy deployment tasks we construct them here in tripleo-common. In
order to disable inject facts, we need to fix this here too.

Change-Id: I776192717798c9fc3f02c4d358bebed2bada3593
Related-Bug: #1915761
(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/777242/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,4865b5d24467954c5c457d87ed20488c76640693,bug/1915761-stable/ussuri," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"""," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}""",4,4
openstack%2Fneutron~master~I3caf131041a852671a556b064c641fe34f8f5ed0,openstack/neutron,master,I3caf131041a852671a556b064c641fe34f8f5ed0,Trivial: check if ipv6 is available for IptablesManager,MERGED,2021-03-03 09:50:00.000000000,2021-03-04 00:49:35.000000000,2021-03-04 00:47:00.000000000,"[{'_account_id': 1131}, {'_account_id': 7345}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 09:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e35d80ee7ffa63c874b3f6f5b4e8c3b5ded3f8c3', 'message': 'Trivial: check if ipv6 is available for IptablesManager\n\nNote:\nThe same check could be done for all instantiation of IptablesManager,\nbecause now it seems random.\n\nChange-Id: I3caf131041a852671a556b064c641fe34f8f5ed0\nCloses-Bug: #1915480\n'}, {'number': 2, 'created': '2021-03-03 12:49:23.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cf71cbd6a71b4849470874379877c7ca2a8fc25', 'message': 'Trivial: check if ipv6 is available for IptablesManager\n\nChange-Id: I3caf131041a852671a556b064c641fe34f8f5ed0\nCloses-Bug: #1915480\n'}]",0,778395,6cf71cbd6a71b4849470874379877c7ca2a8fc25,17,5,2,8313,,,0,"Trivial: check if ipv6 is available for IptablesManager

Change-Id: I3caf131041a852671a556b064c641fe34f8f5ed0
Closes-Bug: #1915480
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/778395/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,e35d80ee7ffa63c874b3f6f5b4e8c3b5ded3f8c3,bug/1915480," iptables_mgr = iptables_manager.IptablesManager( use_ipv6=netutils.is_ipv6_enabled(), nat=False, namespace=namespace)"," iptables_mgr = iptables_manager.IptablesManager(use_ipv6=True, nat=False, namespace=namespace)",3,3
openstack%2Fneutron~stable%2Fussuri~I97ada62484023b9833ed12afd68eb4c8d337fd1f,openstack/neutron,stable/ussuri,I97ada62484023b9833ed12afd68eb4c8d337fd1f,"Improve ""get_devices_with_ip"" performance",MERGED,2021-03-01 10:32:15.000000000,2021-03-04 00:49:31.000000000,2021-03-04 00:46:31.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 10:32:15.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f4ef314ce2b1a4c54a4216ef0dc8068c51e5981', 'message': 'Improve ""get_devices_with_ip"" performance\n\nAs reported in LP#1896734, there is a limit in the size of information\nthat can be transmitted in one single message between an application\nand the privsep daemon. The read socket buffer is limited in size;\na message exceeding this size will generate an exception.\n\nIn order to limit the amount of information to be sent, this patch\nimproves the performance of ""get_devices_with_ip"". In the previous\nimplementation, the whole list of network devices from a namespace\nwas retrieved. In some environments, the list of devices could be\nso big that the list returned by ""privileged.get_link_devices"" can\nexceed the read buffer size (as reported in the LP bug when the\nOVS agent tries to retrieve the list of IP addresses in the system).\n\nNow the function calls ""privileged.get_ip_addresses"", that returns\na much smaller list. This patch is also reducing the number of system\ncalls to just one; the previous implementation was retrieving first\nthe devices link information list (that method was returning a much\nbigger blob) and then, per device, retrieving the IP address\ninformation.\n\nChange-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f\nRelated-Bug: #1896734\n(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)\n'}]",0,777977,2f4ef314ce2b1a4c54a4216ef0dc8068c51e5981,13,4,1,16688,,,0,"Improve ""get_devices_with_ip"" performance

As reported in LP#1896734, there is a limit in the size of information
that can be transmitted in one single message between an application
and the privsep daemon. The read socket buffer is limited in size;
a message exceeding this size will generate an exception.

In order to limit the amount of information to be sent, this patch
improves the performance of ""get_devices_with_ip"". In the previous
implementation, the whole list of network devices from a namespace
was retrieved. In some environments, the list of devices could be
so big that the list returned by ""privileged.get_link_devices"" can
exceed the read buffer size (as reported in the LP bug when the
OVS agent tries to retrieve the list of IP addresses in the system).

Now the function calls ""privileged.get_ip_addresses"", that returns
a much smaller list. This patch is also reducing the number of system
calls to just one; the previous implementation was retrieving first
the devices link information list (that method was returning a much
bigger blob) and then, per device, retrieving the IP address
information.

Change-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f
Related-Bug: #1896734
(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/777977/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",3,2f4ef314ce2b1a4c54a4216ef0dc8068c51e5981,bug/1896734,,"from pyroute2.netlink.rtnl import ifaddrmsgclass ParseLinkDeviceTestCase(base.BaseTestCase): def setUp(self): super(ParseLinkDeviceTestCase, self).setUp() self._mock_get_ip_addresses = mock.patch.object(priv_lib, 'get_ip_addresses') self.mock_get_ip_addresses = self._mock_get_ip_addresses.start() self.addCleanup(self._stop_mock) def _stop_mock(self): self._mock_get_ip_addresses.stop() def test_parse_link_devices(self): device = ({'index': 1, 'attrs': [['IFLA_IFNAME', 'int_name']]}) self.mock_get_ip_addresses.return_value = [ {'prefixlen': 24, 'scope': 200, 'event': 'RTM_NEWADDR', 'attrs': [ ['IFA_ADDRESS', '192.168.10.20'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}, {'prefixlen': 64, 'scope': 200, 'event': 'RTM_DELADDR', 'attrs': [ ['IFA_ADDRESS', '2001:db8::1'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}] retval = ip_lib._parse_link_device('namespace', device) expected = [{'scope': 'site', 'cidr': '192.168.10.20/24', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'added'}, {'scope': 'site', 'cidr': '2001:db8::1/64', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'removed'}] self.assertEqual(expected, retval) ",105,56
openstack%2Fglance~master~I726abe5d1104510e8da0e94f90f2b36d43b82cbe,openstack/glance,master,I726abe5d1104510e8da0e94f90f2b36d43b82cbe,Add administrator docs for distributed-import,MERGED,2021-03-01 21:11:31.000000000,2021-03-04 00:49:14.000000000,2021-03-04 00:46:37.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 21:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bb25a065ed9504fb26b04c181b6c92f6e78e77d6', 'message': 'Add administrator docs for distributed-import\n\nThis adds some text to the documentation about configuring the import\nmechanism, including details about shared vs. local staging\ndirectories. It also clarifies that *all* import methods require the\nstaging directory to be configured, as well as cleans up some\nsingle-store-specific wording in this area.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I726abe5d1104510e8da0e94f90f2b36d43b82cbe\n'}, {'number': 2, 'created': '2021-03-02 14:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6975eaf4198abda2e8ebf8bdd6d6300cfe51ed62', 'message': 'Add administrator docs for distributed-import\n\nThis adds some text to the documentation about configuring the import\nmechanism, including details about shared vs. local staging\ndirectories. It also clarifies that *all* import methods require the\nstaging directory to be configured, as well as cleans up some\nsingle-store-specific wording in this area.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I726abe5d1104510e8da0e94f90f2b36d43b82cbe\n'}, {'number': 3, 'created': '2021-03-02 19:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e1d78f8fbcc414899d7b4cdf871a58511e4914de', 'message': 'Add administrator docs for distributed-import\n\nThis adds some text to the documentation about configuring the import\nmechanism, including details about shared vs. local staging\ndirectories. It also clarifies that *all* import methods require the\nstaging directory to be configured, as well as cleans up some\nsingle-store-specific wording in this area.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I726abe5d1104510e8da0e94f90f2b36d43b82cbe\n'}, {'number': 4, 'created': '2021-03-03 14:37:56.000000000', 'files': ['releasenotes/notes/distributed-image-import-82cff4426731beac.yaml', 'doc/source/admin/multistores.rst', 'doc/source/admin/interoperable-image-import.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/d8a6309893d249623a31ecec88bb373fa08dfd3f', 'message': 'Add administrator docs for distributed-import\n\nThis adds some text to the documentation about configuring the import\nmechanism, including details about shared vs. local staging\ndirectories. It also clarifies that *all* import methods require the\nstaging directory to be configured, as well as cleans up some\nsingle-store-specific wording in this area.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I726abe5d1104510e8da0e94f90f2b36d43b82cbe\n'}]",3,778072,d8a6309893d249623a31ecec88bb373fa08dfd3f,23,3,4,4393,,,0,"Add administrator docs for distributed-import

This adds some text to the documentation about configuring the import
mechanism, including details about shared vs. local staging
directories. It also clarifies that *all* import methods require the
staging directory to be configured, as well as cleans up some
single-store-specific wording in this area.

Related to blueprint distributed-image-import

Change-Id: I726abe5d1104510e8da0e94f90f2b36d43b82cbe
",git fetch https://review.opendev.org/openstack/glance refs/changes/72/778072/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/multistores.rst', 'doc/source/admin/interoperable-image-import.rst']",2,bb25a065ed9504fb26b04c181b6c92f6e78e77d6,bp/distributed-image-import," * ``node_staging_uri`` as a ``file:///path/to/dir`` URI (in the single-store case) or ``[os_glance_staging_store]/filesystem_store_datadir`` as a path (in the multi-store case) must specify a location writable by the glance user. See `Staging Directory Configuration`_ for more details and recommendations.Staging Directory Configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ All of the import methods require a staging directory to be configured. This is essentially a temporary scratch location where the image can be staged (by the user via ``glance-direct``), downloaded (by ``web-download``), or pulled from an existing store (as in ``copy-image``) before being copied to a given store location. In the single-store case, this location is specified by a local filesystem URI in the ``node_staging_uri`` configuration option, like this: .. code-block:: ini [DEFAULTS] node_staging_uri = file:///var/lib/glance/staging In the multistore case, as described in :ref:`reserved_stores`, the staging store should be configured with the path: .. code-block:: ini [os_glance_staging_store] filesystem_store_datadir = /var/lib/glance/staging The staging directory for each worker must be configured for all import methods, and can be either local (recommended) or shared. In the case of a shared location, all Glance API workers will be dependent on the shared storage availability, will compete for IO resources, and may introduce additional network traffic. If `local` storage is chosen, you must configure each worker with the URL by which the other workers can reach it directly. This allows one worker behind a load balancer to stage an image in one request, and another worker to handle the subsequent import request. As an example: .. code-block:: ini [DEFAULTS] worker_self_reference_url = https://glance01.example.com:8000 This assumes you have several glance-api workers named ``glance01``, ``glance02``, etc behind your load balancer. Note that in order to use ``glance-direct``, the ``worker_self_reference_url`` configuration option must be set as above, or all Glance API workers must have their staging directory mounted to a common location (such as an NFS server). "," * ``node_staging_uri`` must specify a location writable by the glance user. If you have multiple Glance API nodes, this should be a reference to a shared filesystem available to all the nodes... note:: You must configure the ``node_staging_uri`` for the ``web-download`` import method because that is where Glance will store the downloaded content. This gives you the opportunity to have the image data be processed by the same plugin chain for each of the import methods. See :ref:`iir_plugins` for more information. ",56,10
openstack%2Ftripleo-image-elements~master~I03ca096ce69689a26fddc404279a8b003c971c15,openstack/tripleo-image-elements,master,I03ca096ce69689a26fddc404279a8b003c971c15,Don't uninstall kexec-tools,ABANDONED,2021-02-25 02:33:59.000000000,2021-03-04 00:29:33.000000000,,"[{'_account_id': 4571}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-25 02:33:59.000000000', 'files': ['elements/overcloud-secure/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/be3d62bc84aa0470952642fb830ac15c6888c390', 'message': ""Don't uninstall kexec-tools\n\nThis has the side-effect of uninstalling dracut-network on rhel-8,\nwhich causes dracut to fail during finalise because of the broken\nlegacy-network module.\n\nChange-Id: I03ca096ce69689a26fddc404279a8b003c971c15\n""}]",0,777495,be3d62bc84aa0470952642fb830ac15c6888c390,7,6,1,4571,,,0,"Don't uninstall kexec-tools

This has the side-effect of uninstalling dracut-network on rhel-8,
which causes dracut to fail during finalise because of the broken
legacy-network module.

Change-Id: I03ca096ce69689a26fddc404279a8b003c971c15
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/95/777495/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-secure/package-installs.yaml'],1,be3d62bc84aa0470952642fb830ac15c6888c390,python3,,kexec-tools: uninstall: True,0,2
openstack%2Fos-brick~stable%2Ftrain~Ie3266c81b3c6bb5a2c213a12410539d404d1febe,openstack/os-brick,stable/train,Ie3266c81b3c6bb5a2c213a12410539d404d1febe,FC: Fix not flushing on detach,MERGED,2021-02-24 15:41:09.000000000,2021-03-04 00:21:19.000000000,2021-03-03 23:16:36.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 15:41:09.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/39b64f6a169abc794eb9295589b1451d88ac0227', 'message': ""FC: Fix not flushing on detach\n\nWhen doing multipathed Fibre Channel we may end up not flushing the\nvolume when disconnecting it if didn't find a multipath when doing\nthe connection.\n\nThe issue is caused by the `connect_volume` call returning a real path\ninstead of a symlink and us passing the wrong device_info to the\n_remove_devices method, which makes the disconnect code incorrectly\nidentify when a multipath was used to decide whether to do a flush or\nnot.\n\nThis patch fixes these things in order to flush the individual path when\nnecessary.\n\nCloses-Bug: #1897787\nChange-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe\n(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)\n(cherry picked from commit 3adcb40678ee771d6701e798f1f50ebce8b63aa3)\n(cherry picked from commit 1e7ad8b7a44c88b484b034d8933b8a2f3bbc9d52)\n""}]",0,777409,39b64f6a169abc794eb9295589b1451d88ac0227,26,4,1,10459,,,0,"FC: Fix not flushing on detach

When doing multipathed Fibre Channel we may end up not flushing the
volume when disconnecting it if didn't find a multipath when doing
the connection.

The issue is caused by the `connect_volume` call returning a real path
instead of a symlink and us passing the wrong device_info to the
_remove_devices method, which makes the disconnect code incorrectly
identify when a multipath was used to decide whether to do a flush or
not.

This patch fixes these things in order to flush the individual path when
necessary.

Closes-Bug: #1897787
Change-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe
(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)
(cherry picked from commit 3adcb40678ee771d6701e798f1f50ebce8b63aa3)
(cherry picked from commit 1e7ad8b7a44c88b484b034d8933b8a2f3bbc9d52)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/09/777409/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml']",5,39b64f6a169abc794eb9295589b1451d88ac0227,fix-fc-returning-real-path,"--- fixes: - | `Bug #1897787 <https://bugs.launchpad.net/cinder/+bug/1897787>`_: Fix Fibre Channel not flushing volumes on detach when a multipath connection was requested on their attach, but one was not found. ",,49,13
openstack%2Ftripleo-common~stable%2Fvictoria~Ifccee277393cc9ab095d1785216d3dacfbf3c5ce,openstack/tripleo-common,stable/victoria,Ifccee277393cc9ab095d1785216d3dacfbf3c5ce,Create a container for Unbound DNS resolver,MERGED,2021-03-02 15:28:04.000000000,2021-03-04 00:07:36.000000000,2021-03-04 00:05:52.000000000,"[{'_account_id': 11628}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 15:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a07ff1f9b2ae9b4b343256d1e72053c758db89a3', 'message': 'Create a container for Unbound DNS resolver\n\nThis patch sets up TripleO to create a container for the Unbound\nDNS resolver. This will be used with Designate deployments to\nprovide DNS resolver services to the deployment and neutron.\n\nChange-Id: Ifccee277393cc9ab095d1785216d3dacfbf3c5ce\n(cherry picked from commit 96d3c1fa0613af6ce8fdef01d5f9d696da993aec)\n'}, {'number': 2, 'created': '2021-03-03 14:04:30.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/tcib/base/unbound/unbound.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf6dc8d6f38484594d7c7d7feacd419cb9adae36', 'message': 'Create a container for Unbound DNS resolver\n\nThis patch sets up TripleO to create a container for the Unbound\nDNS resolver. This will be used with Designate deployments to\nprovide DNS resolver services to the deployment and neutron.\n\nChange-Id: Ifccee277393cc9ab095d1785216d3dacfbf3c5ce\n(cherry picked from commit 96d3c1fa0613af6ce8fdef01d5f9d696da993aec)\n'}]",1,778203,bf6dc8d6f38484594d7c7d7feacd419cb9adae36,12,4,2,6681,,,0,"Create a container for Unbound DNS resolver

This patch sets up TripleO to create a container for the Unbound
DNS resolver. This will be used with Designate deployments to
provide DNS resolver services to the deployment and neutron.

Change-Id: Ifccee277393cc9ab095d1785216d3dacfbf3c5ce
(cherry picked from commit 96d3c1fa0613af6ce8fdef01d5f9d696da993aec)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/778203/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_containers.yaml.j2', 'container-images/tcib/base/unbound/unbound.yaml', 'container-images/tripleo_containers.yaml']",3,a07ff1f9b2ae9b4b343256d1e72053c758db89a3,victoria,- imagename: quay.io/tripleomaster/openstack-unbound:current-tripleo image_source: tripleo,,15,0
openstack%2Fglance~master~I12daccb43c535b579c22f9d0742039b2ab42e929,openstack/glance,master,I12daccb43c535b579c22f9d0742039b2ab42e929,Distributed image import,MERGED,2021-01-08 18:19:54.000000000,2021-03-04 00:00:55.000000000,2021-03-03 23:58:57.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 18002}, {'_account_id': 19138}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 18:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/24874aacbaf2ea759640ac8ad090998128f909c0', 'message': 'PoC: Distributed image import\n\nThis is a very rough PoC of the distributed image import spec. It ""works""\nin local testing, but it\'s far from ready. It just demonstrates the\nidea enough to test it locally.\n\nThe general problem is that image import involves staging the image\ndata before the actual import. That happens on one worker, which may\nor may not be the same worker that receives the import request.\n\nThe general idea of this approach to address the problem is that\nwhen a worker stages the image, it records its direct url on the\nimage. When the import request comes in, any other host will\nproxy that HTTP request direct to the original host instead of\ntrying to do the import itself.\n\nThis still needs (at least):\n\n * Fixing tests of course\n * Some way to test this easily in devstack and CI\n * Protection of the os_glance_stage_host, or\n * ...formalizing the staging host into a dedicated attribute\n * Handling of the case where we can\'t call to the original host\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n'}, {'number': 2, 'created': '2021-01-08 21:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0f49b81f908f60355e6ac9de6e55e200673488b8', 'message': 'PoC: Distributed image import\n\nThis is a very rough PoC of the distributed image import spec. It ""works""\nin local testing, but it\'s far from ready. It just demonstrates the\nidea enough to test it locally.\n\nThe general problem is that image import involves staging the image\ndata before the actual import. That happens on one worker, which may\nor may not be the same worker that receives the import request.\n\nThe general idea of this approach to address the problem is that\nwhen a worker stages the image, it records its direct url on the\nimage. When the import request comes in, any other host will\nproxy that HTTP request direct to the original host instead of\ntrying to do the import itself.\n\nThis still needs (at least):\n\n * Fixing tests of course\n * Some way to test this easily in devstack and CI\n * Protection of the os_glance_stage_host, or\n * ...formalizing the staging host into a dedicated attribute\n * Handling of the case where we can\'t call to the original host\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n'}, {'number': 3, 'created': '2021-01-12 17:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/04b7a7b559623e3e1fd7700d658494882fb90738', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nThis still needs (at least):\n\n * Some way to test this easily in devstack and CI\n * Potentially a better arrangement of the functional tests,\n   where we can start two different synchronous API configurations.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 4, 'created': '2021-01-12 17:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c751adfbbb4242ecf2c018abf69ec2786ca752b6', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nThis still needs (at least):\n\n * Some way to test this easily in devstack and CI\n * Potentially a better arrangement of the functional tests,\n   where we can start two different synchronous API configurations.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 5, 'created': '2021-01-12 18:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/efc33f498efa25ee59131013eb334e533dedbcfd', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nThis still needs (at least):\n\n * Some way to test this easily in devstack and CI\n * Potentially a better arrangement of the functional tests,\n   where we can start two different synchronous API configurations.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 6, 'created': '2021-01-12 22:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6679b3af6512464fa91f88575877e447bd4cb964', 'message': ""WIP: Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nThis still needs (at least):\n\n * Some way to test this easily in devstack and CI\n * Potentially a better arrangement of the functional tests,\n   where we can start two different synchronous API configurations.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 7, 'created': '2021-01-13 00:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eeb0b1c86a1349a7ee73c07f268a88672796fe7b', 'message': ""WIP: Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nThis still needs (at least):\n\n * Some way to test this easily in devstack and CI\n * Potentially a better arrangement of the functional tests,\n   where we can start two different synchronous API configurations.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 8, 'created': '2021-01-13 17:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f5ffbbe90610d8a30f6e471191e932065662ac75', 'message': ""WIP: Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 9, 'created': '2021-01-14 00:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/14b15031a9a1aa85ed14c725ebef6d4d52419fcb', 'message': ""WIP: Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 10, 'created': '2021-02-01 17:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8ca338089c24f9ec68523657a7d1c7401ab7d17a', 'message': 'WIP: Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API node has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL to the staged location metadata.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n'}, {'number': 11, 'created': '2021-02-04 16:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/059a161ff080ab1db47c991dcb5ab18cb71f4f1d', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 12, 'created': '2021-02-17 14:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc0525f365c6be078506179b4bafa976ce9c1f0a', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nImplements: blueprint distributed-image-import\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 13, 'created': '2021-03-01 18:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a4521a678263ddf859153530fb8c45c0390d7ec', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nImplements: blueprint distributed-image-import\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 14, 'created': '2021-03-01 18:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc77dd79a21df34720b40b427d43057c06e7cbac', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nImplements: blueprint distributed-image-import\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}, {'number': 15, 'created': '2021-03-02 19:53:18.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images.py', 'glance/api/v2/images.py', 'glance/common/config.py', 'glance/tests/unit/utils.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/41e1cecbe63c778ce8e92519993c61588ea1f0cb', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it\nrecords its self-reference URL in the image's extra_properties.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nImplements: blueprint distributed-image-import\n\nChange-Id: I12daccb43c535b579c22f9d0742039b2ab42e929\n""}]",43,769976,41e1cecbe63c778ce8e92519993c61588ea1f0cb,66,9,15,4393,,,0,"Distributed image import

This implements distributed image import support, which addresses
the problem when one API worker has staged the image and another
receives the import request.

The general approach is that when a worker stages the image, it
records its self-reference URL in the image's extra_properties.  When
the import request comes in, any other host will proxy that HTTP
request direct to the original host instead of trying to do the import
itself.

Implements: blueprint distributed-image-import

Change-Id: I12daccb43c535b579c22f9d0742039b2ab42e929
",git fetch https://review.opendev.org/openstack/glance refs/changes/76/769976/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/context.py', 'glance/api/v2/images.py', 'glance/common/config.py']",4,24874aacbaf2ea759640ac8ad090998128f909c0,bp/distributed-image-import," cfg.StrOpt('direct_url', default=None, help=_("""""" Direct URL to this worker. If this is set, other glance workers will know how to contact this one directly if needed. For image import, a single worker stages the image and other workers need to be able to proxy the import request to the right one. If unset, this will be considered to be `public_endpoint`, which normally would be set to the same value on all workers, effectively disabling the proxying behavior. Possible values: * A URL by which this worker is reachable from other workers Related options: * public_endpoint """""")),",,74,0
openstack%2Fpython-tripleoclient~master~Ib6f3d53eb4d82288a14059c17d950cf306024773,openstack/python-tripleoclient,master,Ib6f3d53eb4d82288a14059c17d950cf306024773,"Revert ""Add environment variables for better var handling""",MERGED,2021-03-03 14:17:13.000000000,2021-03-03 23:49:29.000000000,2021-03-03 23:47:56.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 14:17:13.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6aa5a92e353ee6c5af87ad0c8efd6839f833626b', 'message': 'Revert ""Add environment variables for better var handling""\n\nThis reverts commit 5dad0c3576ecf3ac36674bd84a83094e55795c5c.\n\nReason for revert: This broke ceph scenarios because it still relies\non ansible_* facts. Need to address the external deploy task execution.\n\nChange-Id: Ib6f3d53eb4d82288a14059c17d950cf306024773\nCloses-Bug: #1917621\n'}]",0,778422,6aa5a92e353ee6c5af87ad0c8efd6839f833626b,10,7,1,14985,,,0,"Revert ""Add environment variables for better var handling""

This reverts commit 5dad0c3576ecf3ac36674bd84a83094e55795c5c.

Reason for revert: This broke ceph scenarios because it still relies
on ansible_* facts. Need to address the external deploy task execution.

Change-Id: Ib6f3d53eb4d82288a14059c17d950cf306024773
Closes-Bug: #1917621
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/778422/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,6aa5a92e353ee6c5af87ad0c8efd6839f833626b,ansible-facts,," # Set var handling for better performance env['ANSIBLE_INJECT_FACT_VARS'] = False env['ANSIBLE_VARS_PLUGIN_STAGE'] = 'inventory' env['ANSIBLE_GATHER_SUBSET'] = '!all,min' ",0,5
openstack%2Fpython-cinderclient~master~I07fa32e7f49bde041d101a2d09860d0bc27acda0,openstack/python-cinderclient,master,I07fa32e7f49bde041d101a2d09860d0bc27acda0,Bump pylint to 2.6.0,MERGED,2020-08-18 12:53:49.000000000,2021-03-03 23:40:28.000000000,2021-03-03 23:38:58.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 12:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/61da4363912a3d0bcf0b4979b47e55afe929942e', 'message': 'Bump pylint to 2.3.0 (same version used by cinder)\n\nThe current version does not work anymore with the current\ntesting stack.\n\nChange-Id: I07fa32e7f49bde041d101a2d09860d0bc27acda0\n'}, {'number': 2, 'created': '2021-02-19 16:48:13.000000000', 'files': ['tools/lintstack.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/755dabdc92ebd848e6ba786f8a89f2f3dbdcc3db', 'message': 'Bump pylint to 2.6.0\n\nThe current version does not work anymore with the current\ntesting stack.\nDue to the bump, the wrapper needed a few changes\n(maybe it could be dropped at some point?\n\nVersion 2.3.0 (used by cinder right now) was considered too,\nbut it requires a specific version of isort:\nhttps://github.com/PyCQA/isort/issues/1273\n\nChange-Id: I07fa32e7f49bde041d101a2d09860d0bc27acda0\n'}]",0,746705,755dabdc92ebd848e6ba786f8a89f2f3dbdcc3db,19,5,2,10459,,,0,"Bump pylint to 2.6.0

The current version does not work anymore with the current
testing stack.
Due to the bump, the wrapper needed a few changes
(maybe it could be dropped at some point?

Version 2.3.0 (used by cinder right now) was considered too,
but it requires a specific version of isort:
https://github.com/PyCQA/isort/issues/1273

Change-Id: I07fa32e7f49bde041d101a2d09860d0bc27acda0
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/05/746705/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,61da4363912a3d0bcf0b4979b47e55afe929942e,unlock-pylint, pylint==2.3.0, pylint==1.9.1,1,1
openstack%2Fpython-tripleoclient~master~Ibe629c1e8e682d189d258ae843e9756d5f357108,openstack/python-tripleoclient,master,Ibe629c1e8e682d189d258ae843e9756d5f357108,Fix AttributeError,MERGED,2021-03-03 08:04:01.000000000,2021-03-03 23:29:14.000000000,2021-03-03 23:27:16.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 08:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eab39380f0f19ec09622d790882176d9444db9d7', 'message': ""[WIP] Fix AttributeError\n\nAs the change [1] changes the attribute name from\n'install_tmp' to 'install_dir'.\nThis needs to be changed in the code as well.\nSo corrected the attribute name according to change [1]\n\n[1]: https://review.opendev.org/c/openstack/python-tripleoclient/+/774572\n\nCloses-Bug: bug/1917583\nChange-Id: Ibe629c1e8e682d189d258ae843e9756d5f357108\n""}, {'number': 2, 'created': '2021-03-03 13:04:59.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4d8d875e219e86fee4486266edd546b69529eec', 'message': ""Fix AttributeError\n\nAs the change [1] changes the attribute name from\n'install_tmp' to 'install_dir'.\nThis needs to be changed in the code as well.\nSo corrected the attribute name according to change [1]\n\n[1]: https://review.opendev.org/c/openstack/python-tripleoclient/+/774572\n\nCloses-Bug: bug/1917583\nChange-Id: Ibe629c1e8e682d189d258ae843e9756d5f357108\n""}]",0,778381,d4d8d875e219e86fee4486266edd546b69529eec,13,8,2,20182,,,0,"Fix AttributeError

As the change [1] changes the attribute name from
'install_tmp' to 'install_dir'.
This needs to be changed in the code as well.
So corrected the attribute name according to change [1]

[1]: https://review.opendev.org/c/openstack/python-tripleoclient/+/774572

Closes-Bug: bug/1917583
Change-Id: Ibe629c1e8e682d189d258ae843e9756d5f357108
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/778381/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,eab39380f0f19ec09622d790882176d9444db9d7,fix-attr, self.heat_launch.install_dir, self.heat_launch.install_tmp,1,1
openstack%2Fmagnum~stable%2Fussuri~I93eecacbe45d19c4f73e9a974d60e642e87bbdf0,openstack/magnum,stable/ussuri,I93eecacbe45d19c4f73e9a974d60e642e87bbdf0,Re-use transport for rpc server,MERGED,2021-02-11 15:08:46.000000000,2021-03-03 22:34:24.000000000,2021-03-03 22:32:26.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-11 15:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a441fb95306de089b5c116d88d2cf6b62d35e5e9', 'message': 'Re-use transport for rpc server\n\nThis patch changes the rpc server to re-use\nthe transport in the same manner as the rpc client.\n\nStory: 2008494\nTask: 41752\n\nChange-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0\n(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)\n'}, {'number': 2, 'created': '2021-02-11 17:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c66f36caef55cd0ebd7c530721ce393214c23b95', 'message': 'Re-use transport for rpc server\n\nThis patch changes the rpc server to re-use\nthe transport in the same manner as the rpc client.\n\nStory: 2008494\nTask: 41752\n\nChange-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0\n(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)\n'}, {'number': 3, 'created': '2021-02-11 17:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/61a048f9dcff9300889d91ebc8f0f526d9863d3f', 'message': 'Re-use transport for rpc server\n\nThis patch changes the rpc server to re-use\nthe transport in the same manner as the rpc client.\n\nStory: 2008494\nTask: 41752\n\nChange-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0\n(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)\n'}, {'number': 4, 'created': '2021-03-03 21:07:51.000000000', 'files': ['magnum/common/rpc.py', 'magnum/tests/unit/common/test_rpc.py', 'magnum/common/rpc_service.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8301a180c8bd2f56c53bec00ff122373ef83aae6', 'message': 'Re-use transport for rpc server\n\nThis patch changes the rpc server to re-use\nthe transport in the same manner as the rpc client.\n\nStory: 2008494\nTask: 41752\n\nChange-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0\n(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)\n'}]",0,775187,8301a180c8bd2f56c53bec00ff122373ef83aae6,15,5,4,28022,,,0,"Re-use transport for rpc server

This patch changes the rpc server to re-use
the transport in the same manner as the rpc client.

Story: 2008494
Task: 41752

Change-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0
(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/87/775187/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/common/rpc.py', 'magnum/tests/unit/common/test_rpc.py', 'magnum/common/rpc_service.py']",3,a441fb95306de089b5c116d88d2cf6b62d35e5e9,ussuri-fixes," self._server = rpc.get_server(target, handlers, serializer=serializer) ","from oslo_messaging.rpc import dispatcher transport = messaging.get_rpc_transport(CONF) access_policy = dispatcher.DefaultRPCAccessPolicy self._server = messaging.get_rpc_server(transport, target, handlers, executor='eventlet', serializer=serializer, access_policy=access_policy)",5,36
openstack%2Fdesignate-specs~master~I3f0e51617beefc9a7b1a366e4c56eebca189f59a,openstack/designate-specs,master,I3f0e51617beefc9a7b1a366e4c56eebca189f59a,Omit the twice occured words in  worker-model.rst,MERGED,2018-11-19 06:02:19.000000000,2021-03-03 22:23:59.000000000,2021-03-03 22:20:19.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 06:02:19.000000000', 'files': ['specs/newton/worker-model.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/709e0b97fe54f63420d7533a477bc77f2d0fd689', 'message': 'Omit the twice occured words in  worker-model.rst\n\nChange-Id: I3f0e51617beefc9a7b1a366e4c56eebca189f59a\n'}]",0,618682,709e0b97fe54f63420d7533a477bc77f2d0fd689,8,2,1,29423,,,0,"Omit the twice occured words in  worker-model.rst

Change-Id: I3f0e51617beefc9a7b1a366e4c56eebca189f59a
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/82/618682/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/worker-model.rst'],1,709e0b97fe54f63420d7533a477bc77f2d0fd689,,``designate-worker``. This will vastly simplify the amount of work it needs,``designate-worker``. This will vastly simplify the the amount of work it needs,1,1
openstack%2Fdesignate-specs~master~Iae6177ad850e80a5afa3ebd3eeb59f6f62e5367f,openstack/designate-specs,master,Iae6177ad850e80a5afa3ebd3eeb59f6f62e5367f,remove those copy words occured twice times in alias-records.rst,MERGED,2018-11-13 06:58:07.000000000,2021-03-03 22:21:59.000000000,2021-03-03 22:19:27.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 06:58:07.000000000', 'files': ['specs/mitaka/alias-records.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/6f8a72bdcd0a9955721911df010749fb104a31aa', 'message': 'remove those copy words occured twice times in alias-records.rst\n\nChange-Id: Iae6177ad850e80a5afa3ebd3eeb59f6f62e5367f\n'}]",0,617500,6f8a72bdcd0a9955721911df010749fb104a31aa,8,2,1,29423,,,0,"remove those copy words occured twice times in alias-records.rst

Change-Id: Iae6177ad850e80a5afa3ebd3eeb59f6f62e5367f
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/00/617500/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/alias-records.rst'],1,6f8a72bdcd0a9955721911df010749fb104a31aa,,existence of the ALIAS record that is only editable via the V2,existence of the the ALIAS record that is only editable via the V2,1,1
openstack%2Fdesignate-specs~master~I4c91c51837fe44092abcc39e954af0bd54ae1216,openstack/designate-specs,master,I4c91c51837fe44092abcc39e954af0bd54ae1216,omit the twice occured words in  server-pools-service.rst,MERGED,2018-11-13 06:44:29.000000000,2021-03-03 21:52:58.000000000,2021-03-03 21:47:15.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 06:44:29.000000000', 'files': ['specs/kilo/server-pools-service.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/81ba1e5768ecf0f8003e409c2f47c9ff8a69f0c4', 'message': 'omit the twice occured words in  server-pools-service.rst\n\nChange-Id: I4c91c51837fe44092abcc39e954af0bd54ae1216\n'}]",0,617456,81ba1e5768ecf0f8003e409c2f47c9ff8a69f0c4,8,2,1,29423,,,0,"omit the twice occured words in  server-pools-service.rst

Change-Id: I4c91c51837fe44092abcc39e954af0bd54ae1216
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/56/617456/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/server-pools-service.rst'],1,81ba1e5768ecf0f8003e409c2f47c9ff8a69f0c4,,called by the Pool Manager **update_status** method. The minidns,called by the the Pool Manager **update_status** method. The minidns,1,1
openstack%2Felection~master~I464f78e61cb71e2793b00834f6770cba727541a5,openstack/election,master,I464f78e61cb71e2793b00834f6770cba727541a5,Add Jeremy Freudberg candidacy for Sahara PTL,MERGED,2021-03-03 16:40:45.000000000,2021-03-03 21:52:38.000000000,2021-03-03 21:48:22.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:40:45.000000000', 'files': ['candidates/xena/Sahara/jeremyfreudberg@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/ff9e31c060e0ecd29b6ce219cb0673dbbe50db11', 'message': 'Add Jeremy Freudberg candidacy for Sahara PTL\n\nChange-Id: I464f78e61cb71e2793b00834f6770cba727541a5\n'}]",0,778501,ff9e31c060e0ecd29b6ce219cb0673dbbe50db11,8,3,1,23078,,,0,"Add Jeremy Freudberg candidacy for Sahara PTL

Change-Id: I464f78e61cb71e2793b00834f6770cba727541a5
",git fetch https://review.opendev.org/openstack/election refs/changes/01/778501/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Sahara/jeremyfreudberg@gmail.com'],1,ff9e31c060e0ecd29b6ce219cb0673dbbe50db11,,This is an official announcement of my candidacy for PTL of Sahara ,,1,0
openstack%2Felection~master~I89e81259821089363f396dd7075a8a1c94b00a6b,openstack/election,master,I89e81259821089363f396dd7075a8a1c94b00a6b,Adding Balazs Gibizer candidacy for Nova,MERGED,2021-03-03 14:19:58.000000000,2021-03-03 21:51:16.000000000,2021-03-03 21:48:16.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 14:19:58.000000000', 'files': ['candidates/xena/Nova/balazs.gibizer@est.tech'], 'web_link': 'https://opendev.org/openstack/election/commit/3200a3e82f76d6d7e424f6ca5bec74c23cb83db4', 'message': 'Adding Balazs Gibizer candidacy for Nova\n\nChange-Id: I89e81259821089363f396dd7075a8a1c94b00a6b\n'}]",0,778468,3200a3e82f76d6d7e424f6ca5bec74c23cb83db4,8,3,1,9708,,,0,"Adding Balazs Gibizer candidacy for Nova

Change-Id: I89e81259821089363f396dd7075a8a1c94b00a6b
",git fetch https://review.opendev.org/openstack/election refs/changes/68/778468/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Nova/balazs.gibizer@est.tech'],1,3200a3e82f76d6d7e424f6ca5bec74c23cb83db4,,"I would like to continue serving as the Nova PTL in the Xena cycle. In Wallaby I hope I helped to keep Nova alive and kicking and I intend to continue what I have started. My employer is supportive to continue spending time on PTL and core duties. If I am elected then I will try to focus on the following areas: * Keeping the Nova bug backlog under control * Working on changes that help the maintainability and stability of Nova * Finishing up things that are already ongoing before starting new items Also, I'd like to note that if elected then Xena will be my 3rd consecutive term as Nova PTL so I will spend some time during the cycle to find my successor for the Y cycle. Cheers, gibi ",,17,0
openstack%2Fdesignate-specs~master~I81d22eaff4cecea6197cc74bbd227565f3cb8246,openstack/designate-specs,master,I81d22eaff4cecea6197cc74bbd227565f3cb8246,omit the twice occured words in  zone-exists-event.rst,MERGED,2018-11-13 06:54:44.000000000,2021-03-03 21:51:00.000000000,2021-03-03 21:47:12.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 06:54:44.000000000', 'files': ['specs/liberty/zone-exists-event.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/1f4d28ce0b0695994f1f26ccd6d9b6612d767811', 'message': 'omit the twice occured words in  zone-exists-event.rst\n\nChange-Id: I81d22eaff4cecea6197cc74bbd227565f3cb8246\n'}]",0,617499,1f4d28ce0b0695994f1f26ccd6d9b6612d767811,8,2,1,29423,,,0,"omit the twice occured words in  zone-exists-event.rst

Change-Id: I81d22eaff4cecea6197cc74bbd227565f3cb8246
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/99/617499/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/zone-exists-event.rst'],1,1f4d28ce0b0695994f1f26ccd6d9b6612d767811,,"- Requires infrastructure for the OpenStack Tooz library (memcache, redis,","- Requires infrastructure for the the OpenStack Tooz library (memcache, redis,",1,1
openstack%2Felection~master~If685aedcd8b68a6a71a8d461fa242f3757099640,openstack/election,master,If685aedcd8b68a6a71a8d461fa242f3757099640,Adding Marios Andreou candidacy for TripleO PTL in X,MERGED,2021-03-03 16:33:51.000000000,2021-03-03 21:48:19.000000000,2021-03-03 21:48:19.000000000,"[{'_account_id': 5263}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14482}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:33:51.000000000', 'files': ['candidates/xena/Tripleo/marios@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/d6cc295bb84a9a7b69394da27ce179d33e57d1c2', 'message': 'Adding Marios Andreou candidacy for TripleO PTL in X\n\nChange-Id: If685aedcd8b68a6a71a8d461fa242f3757099640\n'}]",0,778500,d6cc295bb84a9a7b69394da27ce179d33e57d1c2,10,6,1,8449,,,0,"Adding Marios Andreou candidacy for TripleO PTL in X

Change-Id: If685aedcd8b68a6a71a8d461fa242f3757099640
",git fetch https://review.opendev.org/openstack/election refs/changes/00/778500/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Tripleo/marios@redhat.com'],1,d6cc295bb84a9a7b69394da27ce179d33e57d1c2,,"Hello I would like to continue serving as PTL for TripleO during the Xena cycle. Wallaby was my first PTL experience and it has been challenging and rewarding. I've learnt a lot about release processes and other repo related admin (like moving projects to the Independent release cycle). As I said in the W candidacy nomination [1], nowadays TripleO works in self-contained squads that drive technical decisions. We've had a lot of work across these squads (as always) during W with progress in a number of areas including moving port/network creation outside of Heat (ports v2), tripleo-ceph/tripleo-ceph-client and switching out ceph-ansible for cephadm, removing swift and the deployment plan, BGP support with frrouter and using ephemeral Heat for the overcloud deployment. I'd like to continue what i started in W, which is, to increase socialisation across tripleo squads and try to reign in the multitude of repos that we have created (and some now abandoned) over the years. After a well attended Wallaby PTG we have reinstated our traditional IRC meetings in #tripleo. I've started to ""tidy up"" our repos, moving some of the older and no longer used projects to 'independent' (os-refresh-config and friends, tripleo-ipsec) and started the process to mark older branches as EOL, starting with Rocky. There is a lot more to do here and I will be happy to do it if you give me the opportunity, thanks for your consideration, marios [1] https://opendev.org/openstack/election/raw/branch/master/candidates/wallaby/Tripleo/marios%40redhat.com ",,31,0
openstack%2Fdesignate-specs~master~Ibc602673b4371891faf6473695e73a7890a79acb,openstack/designate-specs,master,Ibc602673b4371891faf6473695e73a7890a79acb,remove those copy words occured twice times in worker-model.rst,MERGED,2018-11-13 06:47:55.000000000,2021-03-03 21:47:06.000000000,2021-03-03 21:43:19.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 06:47:55.000000000', 'files': ['specs/newton/worker-model.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/fbfd27e479ed3127fc1cf7ae3309c6f554424008', 'message': 'remove those copy words occured twice times in worker-model.rst\n\nChange-Id: Ibc602673b4371891faf6473695e73a7890a79acb\n'}]",0,617457,fbfd27e479ed3127fc1cf7ae3309c6f554424008,8,2,1,29423,,,0,"remove those copy words occured twice times in worker-model.rst

Change-Id: Ibc602673b4371891faf6473695e73a7890a79acb
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/57/617457/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/worker-model.rst'],1,fbfd27e479ed3127fc1cf7ae3309c6f554424008,,``designate-worker``. This will vastly simplify the amount of work it needs,``designate-worker``. This will vastly simplify the the amount of work it needs,1,1
openstack%2Fdesignate-specs~master~I2c2c67e497e261acdc5e391845026e362aae3b50,openstack/designate-specs,master,I2c2c67e497e261acdc5e391845026e362aae3b50,remove those copy words occured twice times in worker-model.rst,MERGED,2018-11-13 06:51:20.000000000,2021-03-03 21:45:23.000000000,2021-03-03 21:43:13.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 06:51:20.000000000', 'files': ['specs/newton/worker-model.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/13070d868cb6ce22561df90a73292ad12eeb6f24', 'message': 'remove those copy words occured twice times in worker-model.rst\n\nChange-Id: I2c2c67e497e261acdc5e391845026e362aae3b50\n'}]",0,617458,13070d868cb6ce22561df90a73292ad12eeb6f24,8,2,1,29423,,,0,"remove those copy words occured twice times in worker-model.rst

Change-Id: I2c2c67e497e261acdc5e391845026e362aae3b50
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/58/617458/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/worker-model.rst'],1,13070d868cb6ce22561df90a73292ad12eeb6f24,," process is enabled, central can send c/u/d zones events to the worker"," process is enabled, central can send c/u/d zones events to the the worker",1,1
openstack%2Freleases~master~I2d354656640a34ba31537ac0790d8989fa402aef,openstack/releases,master,I2d354656640a34ba31537ac0790d8989fa402aef,Release final neutron-lib for Wallaby,MERGED,2021-03-01 09:40:51.000000000,2021-03-03 21:45:04.000000000,2021-03-03 21:45:04.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 09:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/32acd590a236e49688e825cd77a1fc55b76b42d7', 'message': 'Release final neutron-lib for Wallaby\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 2.9.0..698e4c8\n698e4c8 Add PLACEMENT_REPORT plugin constant\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I2d354656640a34ba31537ac0790d8989fa402aef\n'}, {'number': 2, 'created': '2021-03-03 15:40:58.000000000', 'files': ['deliverables/wallaby/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/75bb6431cdddcd5fe9271f04bda42b232e76164b', 'message': 'Release final neutron-lib for Wallaby\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 2.9.0..698e4c8\n698e4c8 Add PLACEMENT_REPORT plugin constant\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I2d354656640a34ba31537ac0790d8989fa402aef\n'}]",1,777949,75bb6431cdddcd5fe9271f04bda42b232e76164b,20,6,2,28522,,,0,"Release final neutron-lib for Wallaby

This proposed a release for neutron-lib to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.9.0..698e4c8
698e4c8 Add PLACEMENT_REPORT plugin constant

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I2d354656640a34ba31537ac0790d8989fa402aef
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/777949/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/neutron-lib.yaml'],1,32acd590a236e49688e825cd77a1fc55b76b42d7,wallaby-lib-freeze, - version: 2.10.0 projects: - repo: openstack/neutron-lib hash: 698e4c8daa7d43018a71122ec5b0cd5b17b55141,,4,0
openstack%2Fneutron~master~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,master,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-02 14:37:11.000000000,2021-03-03 21:43:23.000000000,2021-03-03 21:38:44.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 14:37:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/14955f93f6841fc65b7d761f15cf2227f31042d8', 'message': 'Ignore python warnings in the fullstack job\n\nIf there is too much output produced to the stdout/stderr during the\ntests, stestr can hangs and job will then time out.\nTo avoid that in fullstack job, this patch is doing the same what\nwas already done for functional job as well - set PYTHONWARNINGS\nvariable to ""ignore"" to ignore all warnings and not send them to stdout.\nAll info really needed to debug tests is still in the tests\' logs in\nspecific directories.\n\nChange-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd\n'}]",1,778196,14955f93f6841fc65b7d761f15cf2227f31042d8,21,6,1,11975,,,0,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/778196/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,14955f93f6841fc65b7d761f15cf2227f31042d8,improve-neutron-ci,"# Because of issue with stestr and Python3, we need to avoid too much output # to be produced during tests, so we will ignore python warnings here PYTHONWARNINGS=ignore",,3,0
openstack%2Fopenstacksdk~master~I5fb9ff1675cef7c4cb5e1f50a9efbbd8efc23900,openstack/openstacksdk,master,I5fb9ff1675cef7c4cb5e1f50a9efbbd8efc23900,Prevent the endless loop in resource listing,MERGED,2021-02-17 14:12:45.000000000,2021-03-03 21:42:53.000000000,2021-03-03 21:39:28.000000000,"[{'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-02-17 14:12:45.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9af808ffc9bb374eb98f5d574b13201475fe7d76', 'message': 'Prevent the endless loop in resource listing\n\nThere is potential (i.e. bug in older nova\nhttps://bugs.launchpad.net/nova/+bug/1721791) for resource listing to\nend up in an endless loop. Try preventing this if next marker is same as\nmarker we have just used.\n\nChange-Id: I5fb9ff1675cef7c4cb5e1f50a9efbbd8efc23900\n'}]",0,776203,9af808ffc9bb374eb98f5d574b13201475fe7d76,8,3,1,27900,,,0,"Prevent the endless loop in resource listing

There is potential (i.e. bug in older nova
https://bugs.launchpad.net/nova/+bug/1721791) for resource listing to
end up in an endless loop. Try preventing this if next marker is same as
marker we have just used.

Change-Id: I5fb9ff1675cef7c4cb5e1f50a9efbbd8efc23900
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/776203/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,9af808ffc9bb374eb98f5d574b13201475fe7d76,," last_marker = query_params.pop('marker', None) try: if next_params['marker'] == last_marker: # If next page marker is same as what we were just # asked something went terribly wrong. Some ancient # services had bugs. raise exceptions.SDKException( 'Endless pagination loop detected, aborting' ) except KeyError: # do nothing, exception handling is cheaper then ""if"" pass"," query_params.pop('marker', None)",37,1
openstack%2Fneutron~stable%2Fvictoria~I97ada62484023b9833ed12afd68eb4c8d337fd1f,openstack/neutron,stable/victoria,I97ada62484023b9833ed12afd68eb4c8d337fd1f,"Improve ""get_devices_with_ip"" performance",MERGED,2021-03-01 10:31:34.000000000,2021-03-03 21:42:45.000000000,2021-03-03 21:37:36.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 10:31:34.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/577d5bd977838079cbdccac7347a1784ddb19f9c', 'message': 'Improve ""get_devices_with_ip"" performance\n\nAs reported in LP#1896734, there is a limit in the size of information\nthat can be transmitted in one single message between an application\nand the privsep daemon. The read socket buffer is limited in size;\na message exceeding this size will generate an exception.\n\nIn order to limit the amount of information to be sent, this patch\nimproves the performance of ""get_devices_with_ip"". In the previous\nimplementation, the whole list of network devices from a namespace\nwas retrieved. In some environments, the list of devices could be\nso big that the list returned by ""privileged.get_link_devices"" can\nexceed the read buffer size (as reported in the LP bug when the\nOVS agent tries to retrieve the list of IP addresses in the system).\n\nNow the function calls ""privileged.get_ip_addresses"", that returns\na much smaller list. This patch is also reducing the number of system\ncalls to just one; the previous implementation was retrieving first\nthe devices link information list (that method was returning a much\nbigger blob) and then, per device, retrieving the IP address\ninformation.\n\nChange-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f\nRelated-Bug: #1896734\n(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)\n'}]",0,777976,577d5bd977838079cbdccac7347a1784ddb19f9c,17,4,1,16688,,,0,"Improve ""get_devices_with_ip"" performance

As reported in LP#1896734, there is a limit in the size of information
that can be transmitted in one single message between an application
and the privsep daemon. The read socket buffer is limited in size;
a message exceeding this size will generate an exception.

In order to limit the amount of information to be sent, this patch
improves the performance of ""get_devices_with_ip"". In the previous
implementation, the whole list of network devices from a namespace
was retrieved. In some environments, the list of devices could be
so big that the list returned by ""privileged.get_link_devices"" can
exceed the read buffer size (as reported in the LP bug when the
OVS agent tries to retrieve the list of IP addresses in the system).

Now the function calls ""privileged.get_ip_addresses"", that returns
a much smaller list. This patch is also reducing the number of system
calls to just one; the previous implementation was retrieving first
the devices link information list (that method was returning a much
bigger blob) and then, per device, retrieving the IP address
information.

Change-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f
Related-Bug: #1896734
(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/777976/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",3,577d5bd977838079cbdccac7347a1784ddb19f9c,bug/1896734,,"from pyroute2.netlink.rtnl import ifaddrmsgclass ParseLinkDeviceTestCase(base.BaseTestCase): def setUp(self): super(ParseLinkDeviceTestCase, self).setUp() self._mock_get_ip_addresses = mock.patch.object(priv_lib, 'get_ip_addresses') self.mock_get_ip_addresses = self._mock_get_ip_addresses.start() self.addCleanup(self._stop_mock) def _stop_mock(self): self._mock_get_ip_addresses.stop() def test_parse_link_devices(self): device = ({'index': 1, 'attrs': [['IFLA_IFNAME', 'int_name']]}) self.mock_get_ip_addresses.return_value = [ {'prefixlen': 24, 'scope': 200, 'event': 'RTM_NEWADDR', 'attrs': [ ['IFA_ADDRESS', '192.168.10.20'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}, {'prefixlen': 64, 'scope': 200, 'event': 'RTM_DELADDR', 'attrs': [ ['IFA_ADDRESS', '2001:db8::1'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}] retval = ip_lib._parse_link_device('namespace', device) expected = [{'scope': 'site', 'cidr': '192.168.10.20/24', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'added'}, {'scope': 'site', 'cidr': '2001:db8::1/64', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'removed'}] self.assertEqual(expected, retval) ",105,56
openstack%2Fpython-openstackclient~stable%2Fvictoria~Ic3c555226a220efd9b0f27edffccf6c4c95c2747,openstack/python-openstackclient,stable/victoria,Ic3c555226a220efd9b0f27edffccf6c4c95c2747,Validate 'server group create --policy' option,MERGED,2021-01-11 14:26:31.000000000,2021-03-03 21:42:41.000000000,2021-03-03 21:39:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 31733}]","[{'number': 1, 'created': '2021-01-11 14:26:31.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d3d43c7c4eb27d3213bfba50052211e615d4d1e4', 'message': ""Validate 'server group create --policy' option\n\nWe were documenting that some of these policies were only supported with\nspecific microversions, however, we weren't actually enforcing that,\nleading to a poor user experience. Correct this.\n\nChange-Id: Ic3c555226a220efd9b0f27edffccf6c4c95c2747\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStory: #2007727\nTask: #39882\n(cherry picked from commit ab0b1fe885ee0a210a58008b631521025be7f3eb)\n""}]",0,770129,d3d43c7c4eb27d3213bfba50052211e615d4d1e4,12,3,1,15334,,,0,"Validate 'server group create --policy' option

We were documenting that some of these policies were only supported with
specific microversions, however, we weren't actually enforcing that,
leading to a poor user experience. Correct this.

Change-Id: Ic3c555226a220efd9b0f27edffccf6c4c95c2747
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: #2007727
Task: #39882
(cherry picked from commit ab0b1fe885ee0a210a58008b631521025be7f3eb)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/29/770129/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",2,d3d43c7c4eb27d3213bfba50052211e615d4d1e4,story/2007727," '--policy', 'anti-affinity', 'affinity_group', ] verifylist = [ ('policy', 'anti-affinity'), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.server_groups_mock.create.assert_called_once_with( name=parsed_args.name, policies=[parsed_args.policy], ) self.assertEqual(self.columns, columns) self.assertEqual(self.data, data) def test_server_group_create_with_soft_policies(self): self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.15') arglist = [ def test_server_group_create_with_soft_policies_pre_v215(self): self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.14') arglist = [ '--policy', 'soft-anti-affinity', 'affinity_group', ] verifylist = [ ('policy', 'soft-anti-affinity'), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) ex = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args) self.assertIn( '--os-compute-api-version 2.15 or greater is required', str(ex)) ",,63,5
openstack%2Fnova~master~I9ad90817648ca12f80a6b53f6ba728df15cbafab,openstack/nova,master,I9ad90817648ca12f80a6b53f6ba728df15cbafab,hyper-v rbd volume support,MERGED,2020-11-20 12:34:12.000000000,2021-03-03 21:42:34.000000000,2021-03-03 21:37:48.000000000,"[{'_account_id': 8543}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-20 12:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f946e7f1541f4629d573756570dea5650b8b0d64', 'message': 'hyper-v rbd volume support\n\nThe next Ceph release will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nos-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 2, 'created': '2020-11-20 13:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af921d610cb44da453ab16b2ee305ac181fb71e7', 'message': 'hyper-v rbd volume support\n\nThe next Ceph release will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nos-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 3, 'created': '2020-11-20 14:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c9768a20c277687945b179909eb1dca38dd428f', 'message': 'hyper-v rbd volume support\n\nThe next Ceph release will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nos-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 4, 'created': '2020-11-20 14:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4441e12baa2dee39c9e389bfd49cba087e5e4c4', 'message': 'hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nos-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 5, 'created': '2020-11-23 09:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d77ad440444ff0a235698a1f99b297dcc3d34360', 'message': 'hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nos-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 6, 'created': '2020-12-03 10:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48de233f0eac33250c6fcbacaaf36af73c9a9e78', 'message': 'hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nos-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 7, 'created': '2020-12-08 07:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5987bcc3b761eab129ea96cc59249dc683da646d', 'message': 'hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nos-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 8, 'created': '2021-02-02 10:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e89b4c54f79358a4fddb930b67da2583b37469d', 'message': 'hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nDepends-On: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 9, 'created': '2021-02-16 16:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7af19ce462eaafd5f5ab860bd35fa91431ec830b', 'message': 'hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nDepends-On: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n'}, {'number': 10, 'created': '2021-02-18 10:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a16032827902971e392b0982785e0f9e66c3bbd4', 'message': ""hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nWe're also updating the following requirements:\n\n* os-brick>=4.2.0 - provides the Windows RBD connector\n* os-win>=5.4.0 - should've been bumped by [2], vms won't spawn\n                  without it\n* oslo.privsep>=2.4.0 - required by os-brick\n\nDepends-On: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n""}, {'number': 11, 'created': '2021-02-19 10:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1ffa0dfeb49da09012cd2410ed2a6fa3e0b0a89', 'message': ""hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nWe're also updating the following requirements:\n\n* os-brick>=4.2.0 - provides the Windows RBD connector\n* os-win>=5.4.0 - should've been bumped by [2], vms won't spawn\n                  without it\n* all other requirement changes - syncing os-brick and Nova minimum\n                                  requirements\n\nDepends-On: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n""}, {'number': 12, 'created': '2021-02-19 13:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a7e804d555b248e5f8e30171c1921c7893b2e5c', 'message': ""hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nWe're also updating the following requirements:\n\n* os-brick>=4.2.0 - provides the Windows RBD connector\n* os-win>=5.4.0 - should've been bumped by [2], vms won't spawn\n                  without it\n* all other requirement changes - syncing os-brick and Nova minimum\n                                  requirements\n\nDepends-On: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n""}, {'number': 13, 'created': '2021-02-23 07:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8896534d44a55806a2b0a743f15de71e3f5cef12', 'message': ""hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nWe're also updating the following requirements:\n\n* os-brick>=4.2.0 - provides the Windows RBD connector\n* os-win>=5.4.0 - should've been bumped by [2], vms won't spawn\n                  without it\n* all other requirement changes - syncing os-brick and Nova minimum\n                                  requirements\n\nDepends-On: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n""}, {'number': 14, 'created': '2021-02-23 14:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2062a3cadcfc654fd608a0322c343a912732dcd5', 'message': ""hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nWe're also updating the os-win requirement to 5.4.0. It should've\nbeen bumped by [2], vms won't spawn without it.\n\nDepends-On: I56bf09cbd40679eefa5e378c9b36383de89e980c\n\n[1] https://github.com/ceph/ceph/pull/33750\n[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n""}, {'number': 15, 'created': '2021-03-02 11:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd8fe28e2bb59ff7e5706296021a8dc72a1ee84f', 'message': ""hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nWe're also updating the os-win requirement to 5.4.0. It should've\nbeen bumped by [2], vms won't spawn without it. Note this introduces no\nnew or unmet direct or in-direct version dependencies and so is included\nas part of this change.\n\n[1] https://github.com/ceph/ceph/pull/33750\n[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n""}, {'number': 16, 'created': '2021-03-02 12:58:46.000000000', 'files': ['requirements.txt', 'releasenotes/notes/rbd-hyperv-support-672a34b1d87e68eb.yaml', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'nova/virt/hyperv/constants.py', 'lower-constraints.txt', 'nova/virt/hyperv/volumeops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0eeba5c8c63cf78b2433df05cae90c0d9f28785', 'message': ""hyper-v rbd volume support\n\nCeph 16 (Pacific) will support attaching RBD images to Windows\nhosts as well as Hyper-V VMs [1].\n\nThis patch updates the Hyper-V driver so that it may be able to\nconsume RBD volumes.\n\nWe're also updating the os-win requirement to 5.4.0. It should've\nbeen bumped by [2], vms won't spawn without it. Note this introduces no\nnew or unmet direct or in-direct version dependencies and so is included\nas part of this change.\n\n[1] https://github.com/ceph/ceph/pull/33750\n[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b\n\nImplements: blueprint hyperv-rbd\n\nChange-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab\n""}]",24,763550,f0eeba5c8c63cf78b2433df05cae90c0d9f28785,177,8,16,8543,,,0,"hyper-v rbd volume support

Ceph 16 (Pacific) will support attaching RBD images to Windows
hosts as well as Hyper-V VMs [1].

This patch updates the Hyper-V driver so that it may be able to
consume RBD volumes.

We're also updating the os-win requirement to 5.4.0. It should've
been bumped by [2], vms won't spawn without it. Note this introduces no
new or unmet direct or in-direct version dependencies and so is included
as part of this change.

[1] https://github.com/ceph/ceph/pull/33750
[2] Ibe6aff4edeb32208bc9865e9216a7432caddab2b

Implements: blueprint hyperv-rbd

Change-Id: I9ad90817648ca12f80a6b53f6ba728df15cbafab
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/763550/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/constants.py', 'nova/virt/hyperv/volumeops.py']",2,f946e7f1541f4629d573756570dea5650b8b0d64,rbd," constants.STORAGE_PROTOCOL_FC: FCVolumeDriver(), constants.STORAGE_PROTOCOL_RBD: RBDVolumeDriver()} class RBDVolumeDriver(BaseVolumeDriver): _is_block_dev = True _protocol = constants.STORAGE_PROTOCOL_RBD _extra_connector_args = dict(do_local_attach=True)", constants.STORAGE_PROTOCOL_FC: FCVolumeDriver()},9,1
openstack%2Frequirements~master~Ic47b5026ff024bfe0214db0c5c57c254878c7f7d,openstack/requirements,master,Ic47b5026ff024bfe0214db0c5c57c254878c7f7d,update constraint for oslo.config to new release 8.5.0,MERGED,2021-03-03 13:50:23.000000000,2021-03-03 21:41:59.000000000,2021-03-03 21:38:36.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 13:50:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae83dc0872541ed23f24035b553e87b9ff170ec5', 'message': 'update constraint for oslo.config to new release 8.5.0\n\nmeta: version: 8.5.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idbec8dc7663db40f3cda029e5b588071edc83f3b\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ic47b5026ff024bfe0214db0c5c57c254878c7f7d\n'}]",0,778465,ae83dc0872541ed23f24035b553e87b9ff170ec5,10,4,1,11131,,,0,"update constraint for oslo.config to new release 8.5.0

meta: version: 8.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idbec8dc7663db40f3cda029e5b588071edc83f3b
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ic47b5026ff024bfe0214db0c5c57c254878c7f7d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/778465/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ae83dc0872541ed23f24035b553e87b9ff170ec5,new-release,oslo.config===8.5.0,oslo.config===8.4.0,1,1
openstack%2Fdesignate-specs~master~Ia9659fccab08308dff6b675bec14ad7571ae0e5b,openstack/designate-specs,master,Ia9659fccab08308dff6b675bec14ad7571ae0e5b,Remove the repetition words in  server-pools-service.rst,MERGED,2019-01-07 02:00:25.000000000,2021-03-03 21:40:05.000000000,2021-03-03 21:35:26.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-07 02:00:25.000000000', 'files': ['specs/kilo/server-pools-service.rst'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/3f8b19a4a2ead336616d9e25cd34f8ab5d83d64f', 'message': 'Remove the repetition words in  server-pools-service.rst\n\nChange-Id: Ia9659fccab08308dff6b675bec14ad7571ae0e5b\n'}]",0,628813,3f8b19a4a2ead336616d9e25cd34f8ab5d83d64f,8,2,1,29423,,,0,"Remove the repetition words in  server-pools-service.rst

Change-Id: Ia9659fccab08308dff6b675bec14ad7571ae0e5b
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/13/628813/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/server-pools-service.rst'],1,3f8b19a4a2ead336616d9e25cd34f8ab5d83d64f,,called by the Pool Manager **update_status** method. The minidns,called by the the Pool Manager **update_status** method. The minidns,1,1
openstack%2Frequirements~master~Ib790097b6ce42611258c1ced57fcdf51183cd70c,openstack/requirements,master,Ib790097b6ce42611258c1ced57fcdf51183cd70c,update constraint for oslo.context to new release 3.2.0,MERGED,2021-03-03 13:50:24.000000000,2021-03-03 21:36:17.000000000,2021-03-03 21:19:53.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 13:50:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/65969d977223957c89fcc040aff42d2538dab622', 'message': 'update constraint for oslo.context to new release 3.2.0\n\nmeta: version: 3.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I4bca5c0ae21428d83dcd156d05bcd49b22f2f631\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ib790097b6ce42611258c1ced57fcdf51183cd70c\n'}]",0,778466,65969d977223957c89fcc040aff42d2538dab622,10,4,1,11131,,,0,"update constraint for oslo.context to new release 3.2.0

meta: version: 3.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I4bca5c0ae21428d83dcd156d05bcd49b22f2f631
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ib790097b6ce42611258c1ced57fcdf51183cd70c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/778466/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,65969d977223957c89fcc040aff42d2538dab622,new-release,oslo.context===3.2.0,oslo.context===3.1.1,1,1
openstack%2Frequirements~master~I4e9db4ad54062be6b50058a9c539ef1ed9ea8431,openstack/requirements,master,I4e9db4ad54062be6b50058a9c539ef1ed9ea8431,update constraint for sushy to new release 3.7.0,MERGED,2021-03-03 06:51:59.000000000,2021-03-03 21:31:38.000000000,2021-03-03 21:18:31.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-03 06:51:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7842fd1a06776567e7f5ba99f4564d1c52269294', 'message': 'update constraint for sushy to new release 3.7.0\n\nmeta: version: 3.7.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I1e6ee139d84ec49ea331028818995f63513fa599\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Herv Beraud <hberaud@redhat.com>\nChange-Id: I4e9db4ad54062be6b50058a9c539ef1ed9ea8431\n'}]",0,778367,7842fd1a06776567e7f5ba99f4564d1c52269294,12,4,1,11131,,,0,"update constraint for sushy to new release 3.7.0

meta: version: 3.7.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I1e6ee139d84ec49ea331028818995f63513fa599
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+1: likui <likui@yovole.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Herv Beraud <hberaud@redhat.com>
Change-Id: I4e9db4ad54062be6b50058a9c539ef1ed9ea8431
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/778367/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7842fd1a06776567e7f5ba99f4564d1c52269294,new-release,sushy===3.7.0,sushy===3.6.1,1,1
openstack%2Fkeystone~master~I813cff07c20fcba1aaec6a5e68014a2a9eb9462e,openstack/keystone,master,I813cff07c20fcba1aaec6a5e68014a2a9eb9462e,Add job for keystone functional protection tests,MERGED,2020-10-30 01:52:40.000000000,2021-03-03 21:31:24.000000000,2021-03-03 21:19:31.000000000,"[{'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-30 01:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/401841a7178193f95a2a34ce351356f037b30b2d', 'message': ""Add job for keystone functional protection tests\n\nThis commit introduces a new check and gate job for keystone to use the\nfunctional RBAC tests in keystone-tempest-plugin.\n\nThese tests were derived from keystone's original protection tests, but\nthey use tempest and they're re-useable for people looking to validate\nsecure RBAC functionality in their own deployments.\n\nDepends-On: https://review.opendev.org/#/c/686305/46\nChange-Id: I813cff07c20fcba1aaec6a5e68014a2a9eb9462e\n""}, {'number': 2, 'created': '2020-10-30 16:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ffe7dfb37495b27ded3b6594995afe4ab019933b', 'message': ""Add job for keystone functional protection tests\n\nThis commit introduces a new check and gate job for keystone to use the\nfunctional RBAC tests in keystone-tempest-plugin.\n\nThese tests were derived from keystone's original protection tests, but\nthey use tempest and they're re-useable for people looking to validate\nsecure RBAC functionality in their own deployments.\n\nDepends-On: https://review.opendev.org/#/c/686305/46\nChange-Id: I813cff07c20fcba1aaec6a5e68014a2a9eb9462e\n""}, {'number': 3, 'created': '2021-03-02 17:07:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9579c809d45a97ada9fc8295ab48d6b16819914a', 'message': ""Add job for keystone functional protection tests\n\nThis commit introduces a new check and gate job for keystone to use the\nfunctional RBAC tests in keystone-tempest-plugin.\n\nThese tests were derived from keystone's original protection tests, but\nthey use tempest and they're re-useable for people looking to validate\nsecure RBAC functionality in their own deployments.\n\nDepends-On: https://review.opendev.org/#/c/686305/\nChange-Id: I813cff07c20fcba1aaec6a5e68014a2a9eb9462e\n""}]",1,760478,9579c809d45a97ada9fc8295ab48d6b16819914a,15,5,3,5046,,,0,"Add job for keystone functional protection tests

This commit introduces a new check and gate job for keystone to use the
functional RBAC tests in keystone-tempest-plugin.

These tests were derived from keystone's original protection tests, but
they use tempest and they're re-useable for people looking to validate
secure RBAC functionality in their own deployments.

Depends-On: https://review.opendev.org/#/c/686305/
Change-Id: I813cff07c20fcba1aaec6a5e68014a2a9eb9462e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/78/760478/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,401841a7178193f95a2a34ce351356f037b30b2d,secure-rbac, name: keystone-protection-functional parent: keystone-dsvm-py3-functional vars: tempest_test_regex: 'keystone_tempest_plugin.tests.rbac' devstack_localrc: KEYSTONE_ENFORCE_SCOPE: True devstack_plugins: keystone: https://opendev.org/openstack/keystone devstack_services: g-api: false g-reg: false n-api: false n-api-meta: false n-cond: false n-cpu: false n-novnc: false n-sch: false placement-api: false q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false s-account: false s-container: false s-object: false s-proxy: false c-api: false c-bak: false c-sch: false c-vol: false cinder: false devstack_local_conf: post-config: {} - keystone-protection-functional: - keystone-protection-functional:, name: keystone-tox-protection parent: openstack-tox-py37 timeout: 3600 vars: tox_envlist: protection bindep_profile: test py37 python_version: 3.7 - keystone-tox-protection - keystone-tox-protection,36,9
openstack%2Fneutron~master~Ic86fa70eb34c9b178267b80de1f8883a3ef03e98,openstack/neutron,master,Ic86fa70eb34c9b178267b80de1f8883a3ef03e98,[OVN] security group logging support (2 of 2),MERGED,2020-12-21 22:09:19.000000000,2021-03-03 21:31:06.000000000,2021-03-03 21:17:59.000000000,"[{'_account_id': 841}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15471}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 22:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cccfd7e359045069b8b1892d09a0bafa6180527', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 2, 'created': '2021-01-19 23:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f89be7f757415037e67e22ba24987eded5da78af', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 3, 'created': '2021-01-19 23:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50584e54031f9a1dc2a7bb330fd93b52a8960333', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 4, 'created': '2021-01-21 23:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50762b1c5847fc748dc306e75ea0eba65026a758', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 5, 'created': '2021-01-21 23:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/421bfff61139cf7182125ecb81b456e8e50557ff', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 6, 'created': '2021-01-28 02:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70821504ce2583bc8d75680524a8a6e2d891a508', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 7, 'created': '2021-01-28 11:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c8234a7888a6307fa036fa8957e29df56c24f66', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 8, 'created': '2021-01-29 15:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d34319e6d5845ee915e35d8d48a6b4994fdab7d', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 9, 'created': '2021-02-01 23:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e664955b60b4fa18af114242c5e1b3494ebc735d', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 10, 'created': '2021-02-03 20:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92b6d241e271c7cae4c95c416449abd275019e02', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 11, 'created': '2021-02-04 02:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8513dbd0aa49a3b3ccc8b9c745f7dd432573c2e', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 12, 'created': '2021-02-04 13:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61ef5515d2ce3b3cabf324ea2553d8434bcb5cb9', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 13, 'created': '2021-02-04 21:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f56063508d1372f3d249aef53e6ce6447d5aeb2a', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 14, 'created': '2021-02-04 21:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/518c8de0089e7c45e5c18afecfb4568267301c78', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 15, 'created': '2021-02-05 03:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c44f7d791d1e81b87460a22d0bb32e76357ef4e', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 16, 'created': '2021-02-05 11:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1608d72fbd84675defa5279572007b48fac39af4', 'message': '[DNM] [WIP] Please ignore -- [OVN] security group logging support\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 17, 'created': '2021-02-05 11:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c4de16cdcc56525ef076b069e2e60d954cca11c', 'message': '[OVN] security group logging support\n\nThis is the OVN driver for handling security-group-logging\n\nCloses-Bug: #1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 18, 'created': '2021-02-05 23:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cee86a94f55f0168a18a9a90371a7bea83eed631', 'message': '[OVN] security group logging support\n\nThis is the OVN driver for handling security-group-logging\n\nCloses-Bug: #1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 19, 'created': '2021-02-07 03:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d16983c1e5bf15ffde9261994841d2f58fa106d', 'message': '[OVN] security group logging support\n\nThis is the OVN driver for handling security-group-logging\n\nCloses-Bug: 1914757\nRelated-Bug: 1468366\nPartially-implements: blueprint security-group-logging\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 20, 'created': '2021-02-08 11:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35cad5a38155ad7254e4a84b91e922c987bc4552', 'message': '[OVN] security group logging support\n\nThis is the OVN driver for handling security-group-logging\n\nCloses-Bug: 1914757\nRelated-Bug: 1468366\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 21, 'created': '2021-02-08 14:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cbca90e878a15a92d37ae5b44efa6a849de3f17', 'message': '[OVN] security group logging support (2 of 3)\n\nThis patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 22, 'created': '2021-02-08 18:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0643e3fa593d4e73890da4a58027496a0b4bae5', 'message': '[OVN] security group logging support (2 of 3)\n\nThis patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 23, 'created': '2021-02-08 20:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/181d8ce1ec044f86ec1662f74d6dd7d3895dc8bd', 'message': ""[OVN] security group logging support (2 of 3)\n\nThis patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n""}, {'number': 24, 'created': '2021-02-09 08:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6eb6fccb7697ba5e8f832c811ad36dc55dc89f31', 'message': ""[OVN] security group logging support (2 of 3)\n\nThis patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n""}, {'number': 25, 'created': '2021-02-09 17:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8069827ca65137cba0a401ff3d857ddf68dcdcc2', 'message': ""[OVN] security group logging support (2 of 3)\n\nThis patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n""}, {'number': 26, 'created': '2021-02-09 19:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c167efc145ceacc23b89720f4bc867421c0798bf', 'message': ""[OVN] security group logging support (2 of 3)\n\nThis patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n""}, {'number': 27, 'created': '2021-02-09 21:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f12d9ec67d04b3407defd6c83742f32bb66df317', 'message': ""[OVN] security group logging support (2 of 3)\n\nThis patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n""}, {'number': 28, 'created': '2021-02-09 21:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b69930792cfb39143e672cda97bea077f69abc0', 'message': ""[OVN] security group logging support (2 of 3)\n\nThis is patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n""}, {'number': 29, 'created': '2021-02-11 11:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd64c6964e7a828765fe48cddd44fad2acd8341b', 'message': ""[OVN] security group logging support (2 of 3)\n\nThis is patchset 2 of 3 for OVN driver handling of security-group-logging.\nIt includes the core changes for this feature.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n""}, {'number': 30, 'created': '2021-02-11 11:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/200b99a46ce5626200dfad58c5b5012e6b515bab', 'message': '[WIP] [OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and the tests for this feature.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 31, 'created': '2021-02-12 02:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9882954df8801f71dc92c1de2cc4744e59876b9d', 'message': '[WIP] [OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and the tests for this feature.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\n'}, {'number': 32, 'created': '2021-02-12 02:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3dcdca2e078042a9431ed37757caf55a458e263', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 33, 'created': '2021-02-23 21:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2b2501f8c0ce58338211a001a8b90def0ca75d1', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 34, 'created': '2021-02-23 21:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cd2b11e80d9774fae9f3cb513b511a606149524', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 35, 'created': '2021-02-24 10:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/febdad2e017212daf028d0cca0ce03f35cbf0ab1', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 36, 'created': '2021-02-24 15:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/860e02535161bf1561cff1cd8bae418636d955fd', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 37, 'created': '2021-02-25 15:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22f00c5e01113a20d39f1dc2c6087b7dffdf6a83', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 38, 'created': '2021-02-26 02:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd587c6aebc75174482c82cc4488a7fbb73f7ea2', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 39, 'created': '2021-03-01 23:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6ccd93949156aa35b4db74cde42ddda3140e33e', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 40, 'created': '2021-03-02 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e848176d193934e6922154ebc227509fd98b5f3f', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 41, 'created': '2021-03-02 15:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/159714b0ad16df457e0a79d93e94bbac4ac0ba4c', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 42, 'created': '2021-03-02 15:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82de02cca2a30887d808bb7d21236ef164be9164', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 43, 'created': '2021-03-02 15:53:35.000000000', 'files': ['neutron/tests/functional/services/logapi/drivers/__init__.py', 'neutron/services/logapi/drivers/ovn/__init__.py', 'neutron/tests/unit/services/logapi/drivers/ovn/__init__.py', 'neutron/common/ovn/constants.py', 'neutron/common/ovn/extensions.py', 'releasenotes/notes/add-sg-logging-ovn-83cc121a657a1d14.yaml', 'neutron/tests/functional/base.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'devstack/ovn-local.conf.sample', 'neutron/tests/functional/services/logapi/drivers/ovn/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8f7c40295cc457f1fc93be0fcdbda458268964c', 'message': '[OVN] security group logging support (2 of 2)\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",230,768129,f8f7c40295cc457f1fc93be0fcdbda458268964c,260,9,43,11952,,,0,"[OVN] security group logging support (2 of 2)

This is patchset 2 of 2 for OVN driver handling of security-group-logging.
It includes the core changes and tests for this feature.

This feature requires OVN 20.12 [0] or newer. Functional test will be
skipped for non-supported versions.

Related-Bug: 1468366
Closes-Bug: 1914757

[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf

Change-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/768129/34 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/services/logapi/drivers/ovn/__init__.py', 'neutron/common/ovn/extensions.py', 'setup.cfg', 'neutron/services/logapi/drivers/ovn/ovn_sg_log.py']",5,3cccfd7e359045069b8b1892d09a0bafa6180527,sglog/ovn,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections # from neutron_lib import constants as lib_const # from neutron_lib.services.logapi import constants as log_const # from oslo_config import cfg # from oslo_log import formatters # from oslo_log import handlers from oslo_log import log as logging # from neutron.plugins.ml2.drivers.openvswitch.agent.common import constants \ # as ovs_consts from neutron.services.logapi.agent import log_extension as log_ext # from neutron.services.logapi.common import exceptions as log_exc LOG = logging.getLogger(__name__) class OVNSgLoggingDriver(log_ext.LoggingDriver): SUPPORTED_LOGGING_TYPES = ['security_group'] def __init__(self, agent_api): self.log_ports = collections.defaultdict(dict) def initialize(self, resource_rpc, **kwargs): self.resource_rpc = resource_rpc LOG.debug(""XXX Initializing with %s %s"", str(resource_rpc), str(kwargs)) def defer_apply_on(self): LOG.debug(""XXX defer_apply_on"") def defer_apply_off(self): LOG.debug(""XXX defer_apply_off"") def start_logging(self, context, **kwargs): LOG.debug(""XXX start logging: %s"", str(kwargs)) def stop_logging(self, context, **kwargs): LOG.debug(""XXX stop logging: %s"", str(kwargs)) ",,111,1
openstack%2Frequirements~master~I59ea38851279b2349434661d833121bc773bf991,openstack/requirements,master,I59ea38851279b2349434661d833121bc773bf991,update constraint for oslo.policy to new release 3.7.0,MERGED,2021-03-03 13:46:24.000000000,2021-03-03 21:19:22.000000000,2021-03-03 21:19:22.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 13:46:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bb7870f04a3cb4353e21077537d47c95b8301b2e', 'message': 'update constraint for oslo.policy to new release 3.7.0\n\nmeta: version: 3.7.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie8f69661863e9d42aa0f386cff751806b653f70e\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I59ea38851279b2349434661d833121bc773bf991\n'}]",0,778460,bb7870f04a3cb4353e21077537d47c95b8301b2e,9,4,1,11131,,,0,"update constraint for oslo.policy to new release 3.7.0

meta: version: 3.7.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie8f69661863e9d42aa0f386cff751806b653f70e
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I59ea38851279b2349434661d833121bc773bf991
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/778460/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bb7870f04a3cb4353e21077537d47c95b8301b2e,new-release,oslo.policy===3.7.0,oslo.policy===3.6.2,1,1
openstack%2Ftripleo-common~stable%2Fussuri~I61affe32dfc9eacbe514893168397c9b291b8713,openstack/tripleo-common,stable/ussuri,I61affe32dfc9eacbe514893168397c9b291b8713,Reduce fact gathering,MERGED,2021-02-23 21:35:30.000000000,2021-03-03 21:16:36.000000000,2021-03-03 21:13:05.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:35:30.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a69f41911276201baf8e9ce8c1fe620b41d008b6', 'message': 'Reduce fact gathering\n\nThis change updates the default subset to only be the minimum list of\nfacts for ansible.  In the deployment we need to make sure that we only\ncollect the minimum amount of facts to perform the tasks at hand rather\nthan assume we have all the facts.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nRelated-Bug: #1915761\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)\n'}]",0,777241,a69f41911276201baf8e9ce8c1fe620b41d008b6,14,4,1,14985,,,0,"Reduce fact gathering

This change updates the default subset to only be the minimum list of
facts for ansible.  In the deployment we need to make sure that we only
collect the minimum amount of facts to perform the tasks at hand rather
than assume we have all the facts.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708
Related-Bug: #1915761
Change-Id: I61affe32dfc9eacbe514893168397c9b291b8713
(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/777241/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,a69f41911276201baf8e9ce8c1fe620b41d008b6,bug/1915761-stable/ussuri," # NOTE(mwhahaha): only gather the bare minimum facts because this has # direct impact on how fast ansible can go. config.set('defaults', 'gather_subset', '!all,min')",,3,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,openstack/tripleo-heat-templates,stable/ussuri,Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,Use include task for host prep tasks,MERGED,2021-02-23 21:33:05.000000000,2021-03-03 21:12:57.000000000,2021-03-03 21:12:57.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f638ca4af6e20fbe05b0fd8894a839ce4246aeb6', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 2, 'created': '2021-02-24 14:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46ca7d1904f5fb43af6334db3d1554be46c004cd', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 3, 'created': '2021-03-01 21:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebe3b371526d20fa23ac45f1bc667d5610a140e6', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 4, 'created': '2021-03-01 21:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9aebe21c70dc62d4960affa73d5580dfc44eefbb', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 5, 'created': '2021-03-02 14:34:45.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6997676b1eedefe8ccc832afa735659fd06f8135', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}]",0,777240,6997676b1eedefe8ccc832afa735659fd06f8135,24,4,5,14985,,,0,"Use include task for host prep tasks

Import tasks causes the tasks always to be pulled in and just skipped at
run time. This is terribly slow with more roles even when not running
against those hosts.  A similar effort was applied to the update process
I2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used
here.

Change-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33
Related-Bug: #1915761
(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/777240/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,f638ca4af6e20fbe05b0fd8894a839ce4246aeb6,bug/1915761-stable/ussuri, - include_tasks: {{role.name}}/host_prep_tasks.yaml, - import_tasks: {{role.name}}/host_prep_tasks.yaml,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I49a2c42dcbb74671834f312798367f411c819813,openstack/tripleo-heat-templates,stable/ussuri,I49a2c42dcbb74671834f312798367f411c819813,Use ansible_facts instead,MERGED,2021-02-23 21:33:05.000000000,2021-03-03 21:12:37.000000000,2021-03-03 21:12:37.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df07cce4e33e57466808adc837654ab99d984634', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 2, 'created': '2021-02-24 14:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/803b7e08ecb41e6db0bce82df03b6343e0f9af6d', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 3, 'created': '2021-03-01 21:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35fad74a040020e6a8813e1fea14b737347a75e4', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 4, 'created': '2021-03-01 21:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbc2a65d0f289cfc21109482dda7ada4a7ff2a5d', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 5, 'created': '2021-03-02 14:34:33.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/603beaa023139523bee7d7512142046e8618958d', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}]",2,777239,603beaa023139523bee7d7512142046e8618958d,27,5,5,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: I49a2c42dcbb74671834f312798367f411c819813
Related-Bug: #1915761
(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/777239/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml']",24,df07cce4e33e57466808adc837654ab99d984634,bug/1915761-stable/ussuri," - ansible_facts['os_family'] == 'RedHat' - ansible_facts['distribution_major_version'] is version('8', '==') nova_service: ""nova/{{ ansible_facts['nodename'] }}"""," - ansible_os_family == 'RedHat' - ansible_distribution_major_version == '8' nova_service: ""nova/{{ ansible_nodename }}""",52,51
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0cd5b24933e50680baefd055d6e68e277ab09315,openstack/tripleo-heat-templates,stable/ussuri,I0cd5b24933e50680baefd055d6e68e277ab09315,Drop service facts usage,MERGED,2021-02-23 21:33:05.000000000,2021-03-03 21:12:30.000000000,2021-03-03 21:12:30.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d2361cddc038f55541c52c059e329db0a1614c8', 'message': 'Drop service facts usage\n\nThis change switches from using service facts to using systemctl\ncommands to do service checks. This is done to reduce the amount of\nmemory used as part of the deployment.\n\nChange-Id: I0cd5b24933e50680baefd055d6e68e277ab09315\nRelated-Bug: #1915761\n(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)\n'}, {'number': 2, 'created': '2021-03-01 21:19:14.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc9a390b575773ef27d6c4c32d700a0a3ce8fd55', 'message': 'Drop service facts usage\n\nThis change switches from using service facts to using systemctl\ncommands to do service checks. This is done to reduce the amount of\nmemory used as part of the deployment.\n\nChange-Id: I0cd5b24933e50680baefd055d6e68e277ab09315\nRelated-Bug: #1915761\n(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)\n'}]",0,777238,cc9a390b575773ef27d6c4c32d700a0a3ce8fd55,13,3,2,14985,,,0,"Drop service facts usage

This change switches from using service facts to using systemctl
commands to do service checks. This is done to reduce the amount of
memory used as part of the deployment.

Change-Id: I0cd5b24933e50680baefd055d6e68e277ab09315
Related-Bug: #1915761
(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/777238/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml']",3,3d2361cddc038f55541c52c059e329db0a1614c8,bug/1913725,- name: Check cloud-init status shell: systemctl is-active cloud-init.service || systemctl is-enabled cloud-init.service failed_when: false become: true register: cloud_init_enabled when: - cloud_init_enabled.rc is defined - cloud_init_enabled.rc == 0,- name: Populate service facts service_facts: when: > 'cloud-init.service' in ansible_facts.services and ansible_facts.services['cloud-init.service']['status'] == 'enabled',26,14
openstack%2Fnova~master~Ibf8d4f03fa989b1198ee01b61243cd32f7095e04,openstack/nova,master,Ibf8d4f03fa989b1198ee01b61243cd32f7095e04,Remove unused Instance method,MERGED,2020-10-12 16:15:30.000000000,2021-03-03 21:03:23.000000000,2021-03-03 21:01:12.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-12 16:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f32d8c045bdefe3eeb4d8ffa13562bc90c1ff77', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2020-11-30 15:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c061e52001d2bcd5d0156785f189cf333cbe2b23', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 3, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d89b3fcddf3dec99629697210113aaad32435da0', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 4, 'created': '2020-12-16 15:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb6aa079949552e59b9fe2013c22bea73afcc248', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 5, 'created': '2021-01-07 13:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39b6217ce10e1cee50f8cb8f17a88e63953866df', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 6, 'created': '2021-01-08 16:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70d9a8e464f93710d503c95d6932f1d29bf0079d', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 7, 'created': '2021-01-18 15:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b00510a72dcda9aa0d5c50a6537e370aec22c5b3', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 8, 'created': '2021-02-11 15:50:55.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/18ad9d97ab2aa11349933196eb1dc43dde77f0a7', 'message': 'Remove unused Instance method\n\nInstance.add_pci_device_and_request become unused so it is removed.\n\nChange-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04\nblueprint: support-interface-attach-with-qos-ports\n'}]",0,757615,18ad9d97ab2aa11349933196eb1dc43dde77f0a7,71,10,8,9708,,,0,"Remove unused Instance method

Instance.add_pci_device_and_request become unused so it is removed.

Change-Id: Ibf8d4f03fa989b1198ee01b61243cd32f7095e04
blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/757615/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,5f32d8c045bdefe3eeb4d8ffa13562bc90c1ff77,bp/support-interface-attach-with-qos-ports,," def test_remove_pci_device_and_request(self): instance = fake_instance.fake_instance_obj(self.context) pci_device = objects.PciDevice(request_id=uuids.req) pci_request = objects.InstancePCIRequest(request_id=uuids.req) other_device = objects.PciDevice(request_id=uuids.other_req) other_request = objects.InstancePCIRequest(request_id=uuids.other_req) instance.add_pci_device_and_request(pci_device, pci_request) instance.add_pci_device_and_request(other_device, other_request) self.assertIn(pci_device, instance.pci_devices) self.assertIn(pci_request, instance.pci_requests.requests) self.assertIn(other_device, instance.pci_devices) self.assertIn(other_request, instance.pci_requests.requests) instance.remove_pci_device_and_request(pci_device) self.assertNotIn(pci_device, instance.pci_devices) self.assertNotIn(pci_request, instance.pci_requests.requests) self.assertIn(other_device, instance.pci_devices) self.assertIn(other_request, instance.pci_requests.requests) ",0,26
openstack%2Fnova~master~Ic83f3c7c955d0df89d75f700ee4fe2bd7f715794,openstack/nova,master,Ic83f3c7c955d0df89d75f700ee4fe2bd7f715794,requirements.txt: Bump os-brick to 4.2.0,MERGED,2021-03-02 11:54:14.000000000,2021-03-03 20:59:14.000000000,2021-03-03 20:56:12.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 11:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c19668aac69895d7466896512487be6e5aa42567', 'message': 'requirements.txt: Bump os-brick to 4.2.0\n\nThis change simply bumps the version of os-brick required by Nova to\nversion 4.2.0. This is itself required by\nI9ad90817648ca12f80a6b53f6ba728df15cbafab that introduces support for\nrbd volumes within the HyperV driver.\n\nAfter much back and fourth it was decided to bump the required version\nof os-brick ahead of that change to allow the following\nlower-constraints.txt changes caused by direct and in-direct dependency\nchanges to be documented clearly:\n\nos-brick 4.2.0 depends on oslo.log>=4.4.0\n\\_ oslo-log 4.4.0 depends on python-dateutil>=2.7.0\nos-brick 4.2.0 depends on oslo.serialization>=4.0.1\nos-brick 4.2.0 depends on pbr>=5.5.0\nos-brick 4.2.0 depends on oslo.privsep>=2.4.0\n\\_ oslo.privsep 2.4.0 depends on msgpack>=0.6.0\nos-brick 4.2.0 depends on oslo.service>=2.4.0\nos-brick 4.2.0 depends on tenacity>=6.2.0\nos-brick 4.2.0 depends on oslo.context>=3.1.1\nos-brick 4.2.0 depends on oslo.concurrency>=4.3.0\nos-brick 4.2.0 depends on oslo.i18n>=5.0.1\nos-brick 4.2.0 depends on six>=1.15.0\n\nThe above changes have been tested with pip 21.0.1 to ensure the new\nresolver is happy and that nothing has been missed.\n\nChange-Id: Ic83f3c7c955d0df89d75f700ee4fe2bd7f715794\nImplements: blueprint hyperv-rbd\n'}, {'number': 2, 'created': '2021-03-02 12:58:46.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/95fbbce8b286cf27445ff14dcf643ede6e4d2a31', 'message': 'requirements.txt: Bump os-brick to 4.2.0\n\nThis change simply bumps the version of os-brick required by Nova to\nversion 4.2.0. This is itself required by\nI9ad90817648ca12f80a6b53f6ba728df15cbafab that introduces support for\nrbd volumes within the HyperV driver.\n\nAfter much back and fourth it was decided to bump the required version\nof os-brick ahead of that change to allow the following requirements.txt\nand lower-constraints.txt changes caused by direct and in-direct\ndependency changes to be documented clearly:\n\nos-brick 4.2.0 depends on oslo.log>=4.4.0\n\\_ oslo-log 4.4.0 depends on python-dateutil>=2.7.0\nos-brick 4.2.0 depends on oslo.serialization>=4.0.1\nos-brick 4.2.0 depends on pbr>=5.5.0\nos-brick 4.2.0 depends on oslo.privsep>=2.4.0\n\\_ oslo.privsep 2.4.0 depends on msgpack>=0.6.0\nos-brick 4.2.0 depends on oslo.service>=2.4.0\nos-brick 4.2.0 depends on tenacity>=6.2.0\nos-brick 4.2.0 depends on oslo.context>=3.1.1\nos-brick 4.2.0 depends on oslo.concurrency>=4.3.0\nos-brick 4.2.0 depends on oslo.i18n>=5.0.1\nos-brick 4.2.0 depends on six>=1.15.0\nos-brick 4.2.0 depends on os-win>=5.1.0\n\nThe above changes have been tested with pip 21.0.1 to ensure the new\nresolver is happy and that nothing has been missed.\n\nChange-Id: Ic83f3c7c955d0df89d75f700ee4fe2bd7f715794\nImplements: blueprint hyperv-rbd\n'}]",2,778177,95fbbce8b286cf27445ff14dcf643ede6e4d2a31,28,6,2,10135,,,0,"requirements.txt: Bump os-brick to 4.2.0

This change simply bumps the version of os-brick required by Nova to
version 4.2.0. This is itself required by
I9ad90817648ca12f80a6b53f6ba728df15cbafab that introduces support for
rbd volumes within the HyperV driver.

After much back and fourth it was decided to bump the required version
of os-brick ahead of that change to allow the following requirements.txt
and lower-constraints.txt changes caused by direct and in-direct
dependency changes to be documented clearly:

os-brick 4.2.0 depends on oslo.log>=4.4.0
\_ oslo-log 4.4.0 depends on python-dateutil>=2.7.0
os-brick 4.2.0 depends on oslo.serialization>=4.0.1
os-brick 4.2.0 depends on pbr>=5.5.0
os-brick 4.2.0 depends on oslo.privsep>=2.4.0
\_ oslo.privsep 2.4.0 depends on msgpack>=0.6.0
os-brick 4.2.0 depends on oslo.service>=2.4.0
os-brick 4.2.0 depends on tenacity>=6.2.0
os-brick 4.2.0 depends on oslo.context>=3.1.1
os-brick 4.2.0 depends on oslo.concurrency>=4.3.0
os-brick 4.2.0 depends on oslo.i18n>=5.0.1
os-brick 4.2.0 depends on six>=1.15.0
os-brick 4.2.0 depends on os-win>=5.1.0

The above changes have been tested with pip 21.0.1 to ensure the new
resolver is happy and that nothing has been missed.

Change-Id: Ic83f3c7c955d0df89d75f700ee4fe2bd7f715794
Implements: blueprint hyperv-rbd
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/778177/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,c19668aac69895d7466896512487be6e5aa42567,,msgpack==0.6.0os-brick==4.2.0oslo.concurrency==4.3.0oslo.context==3.1.1oslo.i18n==5.0.1 oslo.log==4.4.0oslo.privsep==2.4.0oslo.serialization==4.0.1 oslo.service==2.4.0pbr==5.5.0python-dateutil==2.7.0six==1.15.0tenacity==6.2.0,msgpack==0.5.6os-brick==3.1.0oslo.concurrency==3.29.0oslo.context==2.22.0oslo.i18n==3.15.3 oslo.log==3.36.0oslo.privsep==1.33.2oslo.serialization==2.21.1 oslo.service==1.40.1pbr==2.0.0python-dateutil==2.5.3six==1.11.0tenacity==6.0.0,14,14
openstack%2Fglance-tempest-plugin~master~I4b0eafd9972acaae6b87a9e7f62413874995d404,openstack/glance-tempest-plugin,master,I4b0eafd9972acaae6b87a9e7f62413874995d404,WIP: clarify project/user/member relationships in test,ABANDONED,2021-03-03 18:31:42.000000000,2021-03-03 20:51:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-03 18:31:42.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/e0a96a5eeea3a71376d61de8700fb4cbc799c485', 'message': 'WIP: clarify project/user/member relationships in test\n\nChange-Id: I4b0eafd9972acaae6b87a9e7f62413874995d404\n'}]",0,778538,e0a96a5eeea3a71376d61de8700fb4cbc799c485,3,1,1,5046,,,0,"WIP: clarify project/user/member relationships in test

Change-Id: I4b0eafd9972acaae6b87a9e7f62413874995d404
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/38/778538/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_tempest_plugin/tests/rbac/v2/test_images.py'],1,e0a96a5eeea3a71376d61de8700fb4cbc799c485,secure-rbac," # Create a user with the member role in a separate project. other_project_member_client = self.setup_user_client() other_project_id = other_project_member_client.credentials.project_id # Make sure the persona user can add image members to images they # create. member=other_project_id) # Create a user with the member role in a separate project. project_one_client = self.setup_user_client() project_one_id = project_one_client.credentials.project_id # Create an image and share it with the other project. image['id'], member=project_one_id) member_id=project_one_id) # Create an image associated to a separate project and make project_one # a member. project_two_client = self.setup_user_client() image = project_two_client.image_client_v2.create_image( project_two_client.image_member_client_v2.create_image_member( image['id'], member=project_one_id) member_id=project_one_id) # Stash the project_id for this persona other_member_client = self.setup_user_client() other_member_project_id = other_member_client.credentials.project_id # Create an image as another user in a separate project and share that # image with this user and the other member. for p_id in [project_id, other_member_project_id]: image['id'], member=p_id) self.assertIn(project_id, members) self.assertIn(other_member_project_id, members) # Create a shared image in a separate project and share the with the # persona project. # Make sure the persona user can accept the image. # Make sure the persona user can reject the image. # Create another shared image in a separate project (not the persona # user's project). # Share the image with another project. # system-scope and fail with an appropriate error (e.g., 404). Project # users shouldn't be able to update shared status for shared images in # other projects, but here this is possible because the persona is the # almighty project-admin. # system-scope and fail with an appropriate error (e.g., 404). Project # users shouldn't be able to update shared status for shared images in # other projects, but here this is possible because the persona is the # almighty project-admin. # Create a user with authorization on another project. # Create a separate user with authorization on the persona project. # Create an image in the persona project and share it with the member. # Make sure we, as the image owners, can remove membership to that # image. # Create a new user with authorization on a separate project. # Create an image in that project and share it with the member project. # system-scope and fail with an appropriate error (e.g., 404). # Stash the project_id for this persona other_member_client = self.setup_user_client() other_member_project_id = other_member_client.credentials.project_id # Create an image as an other user in a separate project and share that # image with this user and the other member. for p_id in [project_id, other_member_project_id]: image['id'], member=p_id) # Make sure this user (persona) can't view members of an image other # than themselves. self.assertIn(project_id, members) self.assertNotIn(other_member_project_id, members)"," member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id member=member_project_id) member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id image['id'], member=member_project_id) member_id=member_project_id) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) member_id=member_project_id) project_client = self.setup_user_client(project_id=project_id) member_one_client = self.setup_user_client(project_id=project_id) member_one_project_id = member_one_client.credentials.project_id member_two_client = self.setup_user_client() member_two_project_id = member_two_client.credentials.project_id for project_id in [member_one_project_id, member_two_project_id]: image['id'], member=project_id) self.assertIn(member_one_project_id, members) self.assertIn(member_two_project_id, members) # system-scope and fail with an appropriate error (e.g., 404) # system-scope and fail with an appropriate error (e.g., 404) # system-scope and fail with an appropriate error (e.g., 404) project_client = self.setup_user_client(project_id=project_id) member_one_client = self.setup_user_client(project_id=project_id) member_one_project_id = member_one_client.credentials.project_id member_two_client = self.setup_user_client() member_two_project_id = member_two_client.credentials.project_id for project_id in [member_one_project_id, member_two_project_id]: image['id'], member=project_id) self.assertIn(member_one_project_id, members) self.assertNotIn(member_two_project_id, members)",69,37
openstack%2Fneutron~stable%2Fvictoria~I2cc58c30cf844ee0ecf0611ecdec430086464790,openstack/neutron,stable/victoria,I2cc58c30cf844ee0ecf0611ecdec430086464790,Remove update_initial_state() method from the HA router,MERGED,2021-02-27 18:14:21.000000000,2021-03-03 20:39:55.000000000,2021-03-03 20:37:03.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 18:14:21.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/unit/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2ad3aa5d13292c3189005d107e26685367affe5', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primary\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)\n'}]",0,777780,b2ad3aa5d13292c3189005d107e26685367affe5,8,3,1,11975,,,0,"Remove update_initial_state() method from the HA router

This method was intended to check state of the HA router on the
node and update it in the neutron server.
Patch [1] added check of the initial status to the
neutron_keepalived_state_change_monitor process.
It also could cause some race conditions and event which is setting
correct state of the router will be not processed thus router may endup
with two nodes with ""primary"" state in the Neutron's DB.

Neutron_keepalived_state_change_monitor was notifying agent about
router's initial state only if this state was 'primary'.
Now it will notify agent always to let agent set router's state as
'backup' if needed (that was previously done by this removed
update_initial_state() method).

[1] https://review.opendev.org/c/openstack/neutron/+/642295

Change-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790
Closes-Bug: #1916022
(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/777780/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/unit/agent/l3/test_ha_router.py']",5,b2ad3aa5d13292c3189005d107e26685367affe5,bug/1916022-stable/victoria," return ha_router.HaRouter(mock.sentinel.agent,"," return ha_router.HaRouter(mock.sentinel.enqueue_state, mock.sentinel.agent,",11,27
openstack%2Fneutron~master~I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2,openstack/neutron,master,I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2,[OVN] security group logging support (1 of 2),MERGED,2021-02-08 13:54:16.000000000,2021-03-03 20:39:16.000000000,2021-03-03 20:37:11.000000000,"[{'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15471}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-08 13:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dfd9796971a5de37193891ada1a19eab171ea88', 'message': '[OVN] security group logging support (1 of 3)\n\nThis patchset 1 of 3 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}, {'number': 2, 'created': '2021-02-08 18:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8e91b217aa433a0dd4bc2285de27bf2cee1179f', 'message': '[OVN] security group logging support (1 of 3)\n\nThis is patchset 1 of 3 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}, {'number': 3, 'created': '2021-02-11 11:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb04ac84809326eea00bee446a344bc7d0154b3e', 'message': '[OVN] security group logging support (1 of 2)\n\nThis is patchset 1 of 2 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}, {'number': 4, 'created': '2021-02-23 11:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b7383c33c19b9d0451160e071a8175f12f4e095', 'message': '[OVN] security group logging support (1 of 2)\n\nThis is patchset 1 of 2 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}, {'number': 5, 'created': '2021-02-23 16:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc2a477c0a9464af820daa20cf47ceb93ab73eec', 'message': '[OVN] security group logging support (1 of 2)\n\nThis is patchset 1 of 2 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}, {'number': 6, 'created': '2021-02-23 21:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6a2d06569a3f2625939dbb9e876e70d5df25e6e', 'message': '[OVN] security group logging support (1 of 2)\n\nThis is patchset 1 of 2 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}, {'number': 7, 'created': '2021-02-23 21:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7508f506a2fba3868a770e59e39a4c07a2bf17e8', 'message': '[OVN] security group logging support (1 of 2)\n\nThis is patchset 1 of 2 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}, {'number': 8, 'created': '2021-02-24 15:39:10.000000000', 'files': ['doc/source/ovn/gaps.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/contributor/internals/ovn/index.rst', 'doc/source/admin/ovn/features.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/85fc3d3610819bad1099d6a754158047eb7f88e4', 'message': '[OVN] security group logging support (1 of 2)\n\nThis is patchset 1 of 2 for OVN driver handling of security-group-logging.\nIt includes the design documentation for this feature.\n\nChanged a few lines in doc/source/admin/ovn/features.rst, so the extensions\nare sorted in alphabetical order.\n\nRelated-Bug: 1914757\nPartially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509\n\nChange-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2\n'}]",5,774460,85fc3d3610819bad1099d6a754158047eb7f88e4,30,10,8,11952,,,0,"[OVN] security group logging support (1 of 2)

This is patchset 1 of 2 for OVN driver handling of security-group-logging.
It includes the design documentation for this feature.

Changed a few lines in doc/source/admin/ovn/features.rst, so the extensions
are sorted in alphabetical order.

Related-Bug: 1914757
Partially-implements: https://review.opendev.org/c/openstack/neutron-specs/+/203509

Change-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/774460/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/gaps.rst', 'releasenotes/notes/add-sg-logging-ovn-83cc121a657a1d14.yaml', 'doc/source/contributor/internals/ovn/network_logging.rst', 'doc/source/contributor/internals/ovn/index.rst']",4,7dfd9796971a5de37193891ada1a19eab171ea88,sglog/ovn, network_logging,,154,9
openstack%2Fcinder~stable%2Fvictoria~Icf9f6409009250f766f619019252617fc9b3e1e7,openstack/cinder,stable/victoria,Icf9f6409009250f766f619019252617fc9b3e1e7,RBD: Pass bytes type for mon_command inbuf,MERGED,2021-02-09 20:23:13.000000000,2021-03-03 20:18:42.000000000,2021-02-10 16:25:39.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:23:13.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1913449-4796b366ae7e871b.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/39ec61c296beb5e20b5183b911f58b793f2d895a', 'message': 'RBD: Pass bytes type for mon_command inbuf\n\nCeph Pacific enforces that bytes instead of str\nare used here.\n\nCloses-Bug: #1913449\nChange-Id: Icf9f6409009250f766f619019252617fc9b3e1e7\n(cherry picked from commit 11704d0e8c4077fe6bc95db164c40857f65d49bb)\n'}]",0,774668,39ec61c296beb5e20b5183b911f58b793f2d895a,21,2,1,4523,,,0,"RBD: Pass bytes type for mon_command inbuf

Ceph Pacific enforces that bytes instead of str
are used here.

Closes-Bug: #1913449
Change-Id: Icf9f6409009250f766f619019252617fc9b3e1e7
(cherry picked from commit 11704d0e8c4077fe6bc95db164c40857f65d49bb)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/774668/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1913449-4796b366ae7e871b.yaml']",3,39ec61c296beb5e20b5183b911f58b793f2d895a,,--- fixes: - | `Bug 1913449 <https://bugs.launchpad.net/cinder/+bug/1913449>`_: Fix RBD driver _update_volume_stats() failing when using Ceph Pacific python rados libraries. This failed because we were passing a str instead of bytes to cluster.mon_command() ,,13,6
openstack%2Foctavia~stable%2Fstein~I7b8f7c7d653b37395f9a660be67f954a3a6f26d9,openstack/octavia,stable/stein,I7b8f7c7d653b37395f9a660be67f954a3a6f26d9,Fix neutron subnet lookup ignoring endpoint_type,ABANDONED,2021-03-03 16:36:37.000000000,2021-03-03 20:18:42.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:36:37.000000000', 'files': ['octavia/common/clients.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b606cd6ab3f9e4beb10f3353297ab43f5cc5078', 'message': 'Fix neutron subnet lookup ignoring endpoint_type\n\nThe recent patch[1] that adds a neutron subnet lookup using the user\ncontext is not honoring the interface/endpoint_type or region_name\nsettings for neutron in the octavia configuration file.\nThis is causing problems for deployments that use the ""internal""\nendpoint for neutron and the current code will always return\nthe ""public"" endpoint.\nThis patch corrects this problem by including those filter\nparameters when the neutron endpoint is looked up in keystone.\n\n[1] https://review.opendev.org/726042\n\nChange-Id: I7b8f7c7d653b37395f9a660be67f954a3a6f26d9\nStory: 2007863\nTask: 40173\n(cherry picked from commit 40731e572f2b503a3ccc603642a3721a5ce1cf7a)\n(cherry picked from commit 2a18b6cc996e4c64d650c516071c57358681af3b)\n'}]",0,778427,4b606cd6ab3f9e4beb10f3353297ab43f5cc5078,3,2,1,9373,,,0,"Fix neutron subnet lookup ignoring endpoint_type

The recent patch[1] that adds a neutron subnet lookup using the user
context is not honoring the interface/endpoint_type or region_name
settings for neutron in the octavia configuration file.
This is causing problems for deployments that use the ""internal""
endpoint for neutron and the current code will always return
the ""public"" endpoint.
This patch corrects this problem by including those filter
parameters when the neutron endpoint is looked up in keystone.

[1] https://review.opendev.org/726042

Change-Id: I7b8f7c7d653b37395f9a660be67f954a3a6f26d9
Story: 2007863
Task: 40173
(cherry picked from commit 40731e572f2b503a3ccc603642a3721a5ce1cf7a)
(cherry picked from commit 2a18b6cc996e4c64d650c516071c57358681af3b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/778427/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/clients.py'],1,4b606cd6ab3f9e4beb10f3353297ab43f5cc5078,," endpoint_data = session.get_endpoint_data( service_type='network', interface=CONF.neutron.endpoint_type, region_name=CONF.neutron.region_name)", endpoint_data = session.get_endpoint_data(service_type='network'),3,1
openstack%2Foctavia~stable%2Fstein~I05a541a77f254a77ad5036e1062b61c8ce93b754,openstack/octavia,stable/stein,I05a541a77f254a77ad5036e1062b61c8ce93b754,Fix getting user neutron client,ABANDONED,2021-03-03 16:29:51.000000000,2021-03-03 20:18:26.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:29:51.000000000', 'files': ['octavia/common/clients.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b248d8c12519cdd99e51f241c1b538a7fc242731', 'message': 'Fix getting user neutron client\n\nUse token and endpoint URL to initialize neutron client for the\nrequest user.\n\nStory: 2007619\nTask:  39641\n\nChange-Id: I05a541a77f254a77ad5036e1062b61c8ce93b754\n(cherry picked from commit b54f373cac62ec170562d7a2d84e66773b9a2deb)\n(cherry picked from commit 09e863eb539e29c8950ddfce12d602c0e77c1b7e)\n'}]",0,778425,b248d8c12519cdd99e51f241c1b538a7fc242731,3,2,1,9373,,,0,"Fix getting user neutron client

Use token and endpoint URL to initialize neutron client for the
request user.

Story: 2007619
Task:  39641

Change-Id: I05a541a77f254a77ad5036e1062b61c8ce93b754
(cherry picked from commit b54f373cac62ec170562d7a2d84e66773b9a2deb)
(cherry picked from commit 09e863eb539e29c8950ddfce12d602c0e77c1b7e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/778425/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/clients.py'],1,b248d8c12519cdd99e51f241c1b538a7fc242731,fix-trust-token-stable/train-stable/stein," """"""Get neutron client for request user. It's possible that the token in the context is a trust scoped which can't be used to initialize a keystone session. We directly use the token and endpoint_url to initialize neutron client. """""" neutron_endpoint = CONF.neutron.endpoint if not neutron_endpoint: session = keystone.KeystoneSession().get_session() endpoint_data = session.get_endpoint_data(service_type='network') neutron_endpoint = endpoint_data.catalog_url 'token': context.auth_token, 'endpoint_url': neutron_endpoint,","from keystoneauth1.identity.generic import token from keystoneauth1 import session # get a normal session ksession = keystone.KeystoneSession() service_auth = ksession.get_auth() # make user auth and swap it in session user_auth = token.Token(auth_url=service_auth.auth_url, token=context.auth_token, project_id=context.project_id) user_session = session.Session(auth=user_auth) 'session': user_session, 'region_name': CONF.neutron.region_name, 'endpoint_type': CONF.neutron.endpoint_type, 'service_name': CONF.neutron.service_name, if CONF.neutron.endpoint: kwargs['endpoint_override'] = CONF.neutron.endpoint # create neutron client using user's session",14,17
openstack%2Fneutron~stable%2Fussuri~I2cc58c30cf844ee0ecf0611ecdec430086464790,openstack/neutron,stable/ussuri,I2cc58c30cf844ee0ecf0611ecdec430086464790,Remove update_initial_state() method from the HA router,MERGED,2021-02-27 18:19:42.000000000,2021-03-03 20:16:30.000000000,2021-03-03 20:13:24.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 18:19:42.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/unit/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c75fd0d330f67939ad1eec6b0773f5353799439', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primary\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nConflicts:\n    neutron/agent/l3/ha_router.py\n    neutron/agent/l3/keepalived_state_change.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)\n'}]",0,777867,0c75fd0d330f67939ad1eec6b0773f5353799439,8,3,1,11975,,,0,"Remove update_initial_state() method from the HA router

This method was intended to check state of the HA router on the
node and update it in the neutron server.
Patch [1] added check of the initial status to the
neutron_keepalived_state_change_monitor process.
It also could cause some race conditions and event which is setting
correct state of the router will be not processed thus router may endup
with two nodes with ""primary"" state in the Neutron's DB.

Neutron_keepalived_state_change_monitor was notifying agent about
router's initial state only if this state was 'primary'.
Now it will notify agent always to let agent set router's state as
'backup' if needed (that was previously done by this removed
update_initial_state() method).

[1] https://review.opendev.org/c/openstack/neutron/+/642295

Conflicts:
    neutron/agent/l3/ha_router.py
    neutron/agent/l3/keepalived_state_change.py
    neutron/tests/unit/agent/l3/test_dvr_local_router.py

Change-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790
Closes-Bug: #1916022
(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/777867/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/unit/agent/l3/test_ha_router.py']",5,0c75fd0d330f67939ad1eec6b0773f5353799439,bug/1916022-stable/ussuri," return ha_router.HaRouter(mock.sentinel.agent,"," return ha_router.HaRouter(mock.sentinel.enqueue_state, mock.sentinel.agent,",11,27
openstack%2Fbarbican~master~Ieab0f152ef307fb9311b92f0ad8bd0032e78269e,openstack/barbican,master,Ieab0f152ef307fb9311b92f0ad8bd0032e78269e,Fix PKCS#11 reinitialization after failure,MERGED,2021-02-23 14:48:13.000000000,2021-03-03 20:15:40.000000000,2021-03-03 20:13:40.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-23 14:48:13.000000000', 'files': ['releasenotes/notes/fix-story-2008649-reinitialize-pkcs11-object-4c0dc51c83288c21.yaml', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6', 'message': 'Fix PKCS#11 reinitialization after failure\n\nThis patch fixes an error condition where the PCKS#11 object is lost\nafte multiple failures from the PKCS#11 device.\n\nWithout this patch Barbican can enter an error state where the PKCS11\nobject is deallocated and is unable to recover returning 500s until the\nprocess is restarted.\n\nStory: 2008649\nTask: 41913\nChange-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e\n'}]",0,777139,fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6,8,3,1,7973,,,0,"Fix PKCS#11 reinitialization after failure

This patch fixes an error condition where the PCKS#11 object is lost
afte multiple failures from the PKCS#11 device.

Without this patch Barbican can enter an error state where the PKCS11
object is deallocated and is unable to recover returning 500s until the
process is restarted.

Story: 2008649
Task: 41913
Change-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e
",git fetch https://review.opendev.org/openstack/barbican refs/changes/39/777139/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-story-2008649-reinitialize-pkcs11-object-4c0dc51c83288c21.yaml', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py']",3,fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6,story/2008649,CKR_CRYPTOKI_ALREADY_INITIALIZED = 0x00000191 if value != CKR_OK and value != CKR_CRYPTOKI_ALREADY_INITIALIZED:, if value != CKR_OK:,11,2
openstack%2Fdesignate-dashboard~master~Ib1a7daf4228afa4b86db827bb7b5e2ef4b213fb1,openstack/designate-dashboard,master,Ib1a7daf4228afa4b86db827bb7b5e2ef4b213fb1,Modify the '.gitignore' file,ABANDONED,2018-07-08 11:53:42.000000000,2021-03-03 20:14:40.000000000,,"[{'_account_id': 14320}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2018-07-08 11:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/293046c1ab79b8f7dba0008b85ccb0721752011a', 'message': ""Modify the '.gitignore' file\n\nSince the horizon remove the 'run_tests.sh' file,\nso there should remove '.venv' from the '.gitignore' file.\n\nChange-Id: Ib1a7daf4228afa4b86db827bb7b5e2ef4b213fb1\n""}, {'number': 2, 'created': '2018-07-08 22:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/0a36fb3df9e5b06e8b4daead0ae98211576dd548', 'message': ""Modify the '.gitignore' file\n\nSince the horizon remove the 'run_tests.sh' file,\nso there should remove '.venv' from the '.gitignore' file.\n\nChange-Id: Ib1a7daf4228afa4b86db827bb7b5e2ef4b213fb1\n""}, {'number': 3, 'created': '2018-07-12 03:23:13.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/b3cbe442e55f577dfb2c15c5cd3224566cd57bb7', 'message': ""Modify the '.gitignore' file\n\nSince the horizon remove the 'run_tests.sh' file,\nso there should remove '.venv' from the '.gitignore' file.\n\nChange-Id: Ib1a7daf4228afa4b86db827bb7b5e2ef4b213fb1\n""}]",0,580842,b3cbe442e55f577dfb2c15c5cd3224566cd57bb7,12,3,3,14151,,,0,"Modify the '.gitignore' file

Since the horizon remove the 'run_tests.sh' file,
so there should remove '.venv' from the '.gitignore' file.

Change-Id: Ib1a7daf4228afa4b86db827bb7b5e2ef4b213fb1
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/42/580842/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,293046c1ab79b8f7dba0008b85ccb0721752011a,,,venv .venv,0,2
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I62f35dce338ae186a217dd1d0a141d3a737243a0,openstack/puppet-openstack-integration,stable/victoria,I62f35dce338ae186a217dd1d0a141d3a737243a0,pin bundler to 2.2.11,MERGED,2021-03-02 22:43:39.000000000,2021-03-03 20:03:47.000000000,2021-03-03 20:03:47.000000000,"[{'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 22:43:39.000000000', 'files': ['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-lint-tests.yaml', 'playbooks/run-litmus-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/37fb2934d8349e7a611aaf87af1f4c719a83edbd', 'message': ""pin bundler to 2.2.11\n\nIt seems the latest 2.2.12 requires rake>13.0 installed and that\nrequirement doesn't work well in current our CI jobs.\nLet's pin it to the previous version until we resolve the issue.\n\nThis change also removes the pin for the very old Ruby version.\n\nCloses-Bug: #1917457\nChange-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0\n(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)\n""}]",0,778240,37fb2934d8349e7a611aaf87af1f4c719a83edbd,7,3,1,9816,,,0,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0
(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/778240/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-lint-tests.yaml', 'playbooks/run-litmus-tests.yaml']",5,37fb2934d8349e7a611aaf87af1f4c719a83edbd,bug/1917457-stable/victoria, cmd += ' -v 2.2.11', if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end,5,15
openstack%2Fcinder-tempest-plugin~master~I29c4784d59151948778cad57b7db56a368ed821d,openstack/cinder-tempest-plugin,master,I29c4784d59151948778cad57b7db56a368ed821d,Use the embedded scenario manager instead of tempest one,MERGED,2021-02-23 09:28:20.000000000,2021-03-03 20:00:18.000000000,2021-03-03 20:00:18.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-23 09:28:20.000000000', 'files': ['cinder_tempest_plugin/scenario/test_snapshots.py', 'cinder_tempest_plugin/scenario/test_volume_encrypted.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3c5c8a23646c950cd8d2b7797e8b6513a6768bff', 'message': ""Use the embedded scenario manager instead of tempest one\n\nWhile waiting for tempest scenario manager to stabilize its API,\na copy of it has been imported, so make sure to use it and to not\nrely on tempest's one (whose API is changing during the stabilization\nprocess, so it may break anytime).\n\nJust one file needs to change its imports.\nAt the same time, fix the import order for another file.\n\nChange-Id: I29c4784d59151948778cad57b7db56a368ed821d\n""}]",0,777074,3c5c8a23646c950cd8d2b7797e8b6513a6768bff,9,5,1,10459,,,0,"Use the embedded scenario manager instead of tempest one

While waiting for tempest scenario manager to stabilize its API,
a copy of it has been imported, so make sure to use it and to not
rely on tempest's one (whose API is changing during the stabilization
process, so it may break anytime).

Just one file needs to change its imports.
At the same time, fix the import order for another file.

Change-Id: I29c4784d59151948778cad57b7db56a368ed821d
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/74/777074/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/scenario/test_snapshots.py', 'cinder_tempest_plugin/scenario/test_volume_encrypted.py']",2,3c5c8a23646c950cd8d2b7797e8b6513a6768bff,use-internal-scenario-manager, from cinder_tempest_plugin.scenario import manager,from tempest.scenario import manager,4,2
openstack%2Fneutron~stable%2Fqueens~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/queens,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:23:26.000000000,2021-03-03 20:00:10.000000000,2021-03-03 20:00:10.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 10:23:26.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a10a0cc3c4473b5062f53a8143233bab38935e79', 'message': 'Fix wrong packet_type set for IPv6 GRE tunnels in OVS\n\nIn patch [1] it was by mistake set to ""legacy"" but it should be\n""legacy_l2"".\nThis patch fixes that mistake.\n\nCloses-bug: #1917448\n\n[1] https://review.opendev.org/c/openstack/neutron/+/763204\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238\n(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)\n'}]",0,778418,a10a0cc3c4473b5062f53a8143233bab38935e79,9,3,1,11975,,,0,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/778418/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",2,a10a0cc3c4473b5062f53a8143233bab38935e79,bug/1917448-stable/rocky-stable/queens," 'packet_type': 'legacy_l2',",,2,1
openstack%2Fneutron~stable%2Frocky~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/rocky,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:22:59.000000000,2021-03-03 20:00:03.000000000,2021-03-03 20:00:03.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 10:22:59.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbfefd1c098ee5a08337848ffc605300d330e383', 'message': 'Fix wrong packet_type set for IPv6 GRE tunnels in OVS\n\nIn patch [1] it was by mistake set to ""legacy"" but it should be\n""legacy_l2"".\nThis patch fixes that mistake.\n\nCloses-bug: #1917448\n\n[1] https://review.opendev.org/c/openstack/neutron/+/763204\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238\n(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)\n'}]",0,778402,dbfefd1c098ee5a08337848ffc605300d330e383,7,3,1,11975,,,0,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/778402/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",2,dbfefd1c098ee5a08337848ffc605300d330e383,bug/1917448-stable/rocky," 'packet_type': 'legacy_l2',",,2,1
openstack%2Fmonasca-api~stable%2Fussuri~Ib922d45fd5a28fe8381f72fb283bb27f36d9af1f,openstack/monasca-api,stable/ussuri,Ib922d45fd5a28fe8381f72fb283bb27f36d9af1f,Fix publish docker image job,MERGED,2021-02-17 21:34:27.000000000,2021-03-03 19:54:39.000000000,2021-03-03 19:52:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-17 21:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/8b159d3146920476430a108f0dc81e98577ef4e7', 'message': 'Fix publish docker image job\n\nChange-Id: Ib922d45fd5a28fe8381f72fb283bb27f36d9af1f\n'}, {'number': 2, 'created': '2021-02-17 21:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/4a80c42a0cb261b1c2eee4658a6a2adbf164a1ac', 'message': 'Fix publish docker image job\n\nChange-Id: Ib922d45fd5a28fe8381f72fb283bb27f36d9af1f\n'}, {'number': 3, 'created': '2021-03-03 15:16:51.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9ce0e0dab6257fc82cad81796f5c996058c769c5', 'message': 'Fix publish docker image job\n\nChange-Id: Ib922d45fd5a28fe8381f72fb283bb27f36d9af1f\n'}]",0,776278,9ce0e0dab6257fc82cad81796f5c996058c769c5,18,2,3,26141,,,0,"Fix publish docker image job

Change-Id: Ib922d45fd5a28fe8381f72fb283bb27f36d9af1f
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/78/776278/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,8b159d3146920476430a108f0dc81e98577ef4e7,fix-zuul-publish," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}"""," shell: ""docker push monasca/api""",1,1
openstack%2Fdesignate-dashboard~master~I09f41e81633fc3489906bb628c538942115ff5fa,openstack/designate-dashboard,master,I09f41e81633fc3489906bb628c538942115ff5fa,Imported Translations from Zanata,MERGED,2021-03-03 06:12:22.000000000,2021-03-03 19:45:57.000000000,2021-03-03 19:43:40.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 06:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/1c16b640b9c3dd2f198315feeac5aab49a24aa64', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I09f41e81633fc3489906bb628c538942115ff5fa\n'}, {'number': 2, 'created': '2021-03-03 19:07:27.000000000', 'files': ['designatedashboard/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ec54320a2d4ede78b6982c2f7bdfe0e2d1f9fccb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I09f41e81633fc3489906bb628c538942115ff5fa\n'}]",0,778360,ec54320a2d4ede78b6982c2f7bdfe0e2d1f9fccb,11,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I09f41e81633fc3489906bb628c538942115ff5fa
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/60/778360/2 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/locale/zh_Hans/LC_MESSAGES/django.po'],1,1c16b640b9c3dd2f198315feeac5aab49a24aa64,zanata/translations,"""POT-Creation-Date: 2020-12-03 11:20+0000\n""","""POT-Creation-Date: 2019-09-23 21:56+0000\n""",1,1
openstack%2Fcinder~stable%2Fvictoria~I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8,openstack/cinder,stable/victoria,I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8,Require oslo.serialization 4.0.2,MERGED,2021-02-09 15:10:18.000000000,2021-03-03 19:41:18.000000000,2021-02-10 18:06:41.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 15:10:18.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/06861dddb118a9f282e407b3a6a1f2b97956e289', 'message': 'Require oslo.serialization 4.0.2\n\nOlder versions cause the RBD driver to break\nwhen using JSON logging.  (bug #1908607)\n\nChange-Id: I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8\n'}]",0,774676,06861dddb118a9f282e407b3a6a1f2b97956e289,33,3,1,4523,,,0,"Require oslo.serialization 4.0.2

Older versions cause the RBD driver to break
when using JSON logging.  (bug #1908607)

Change-Id: I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/774676/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,06861dddb118a9f282e407b3a6a1f2b97956e289,,oslo.serialization==4.0.2,oslo.serialization==2.29.0,2,2
openstack%2Fbifrost~master~If3e5d37a42de2fb25c8034d9fdebb16d8bd21e9f,openstack/bifrost,master,If3e5d37a42de2fb25c8034d9fdebb16d8bd21e9f,Upgrade pip version to fix pep-517 enforcing,MERGED,2021-03-03 13:24:58.000000000,2021-03-03 19:26:38.000000000,2021-03-03 19:23:34.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/31072b094c62429b3d5b07c42b8abcda6e49aed7', 'message': 'Upgrade pip version to fix pep-517 enforcing\n\nThis upgrade fixes an issue in some disitributions when the build environment\nenforces pep-517 and breaks compiling some versions of python libraries.\nFor example see [1]\n\n[1] https://github.com/sqlalchemy/alembic/issues/707\n\nChange-Id: If3e5d37a42de2fb25c8034d9fdebb16d8bd21e9f\n'}, {'number': 2, 'created': '2021-03-03 13:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2952cc961ce4e342f22f64b3f780b9761dfb1eb9', 'message': 'Upgrade pip version to fix pep-517 enforcing\n\nThis upgrade fixes an issue in some disitributions when the build environment\nenforces pep-517 and breaks compiling some versions of python libraries.\nFor example see [1]\n\n[1] https://github.com/sqlalchemy/alembic/issues/707\n\nStory: 2008676\nTask: 41973\n\nChange-Id: If3e5d37a42de2fb25c8034d9fdebb16d8bd21e9f\n'}, {'number': 3, 'created': '2021-03-03 17:22:42.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/381aa41d8fe81a11b2276c535bee1f9cfb482780', 'message': 'Upgrade pip version to fix pep-517 enforcing\n\nThis upgrade fixes an issue in some disitributions when the build environment\nenforces pep-517 and breaks compiling some versions of python libraries.\nFor example see [1]\n\n[1] https://github.com/sqlalchemy/alembic/issues/707\n\nStory: 2008676\nTask: 41973\n\nChange-Id: If3e5d37a42de2fb25c8034d9fdebb16d8bd21e9f\n'}]",4,778459,381aa41d8fe81a11b2276c535bee1f9cfb482780,15,3,3,23851,,,0,"Upgrade pip version to fix pep-517 enforcing

This upgrade fixes an issue in some disitributions when the build environment
enforces pep-517 and breaks compiling some versions of python libraries.
For example see [1]

[1] https://github.com/sqlalchemy/alembic/issues/707

Story: 2008676
Task: 41973

Change-Id: If3e5d37a42de2fb25c8034d9fdebb16d8bd21e9f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/59/778459/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgrade-pip-fix-pep517-72c9cc79dfb78a2e.yaml', 'scripts/install-deps.sh']",2,31072b094c62429b3d5b07c42b8abcda6e49aed7,upgrade-pip,"PIP_MIN_REQ=""20.0.1"" PIP_TUPLE=""(20, 0, 1)""","PIP_MIN_REQ=""19.1.1"" PIP_TUPLE=""(19, 1, 1)""",9,2
openstack%2Foctavia-dashboard~master~I6474c78f2759bfd1e00d66ffcaba1fa52ddef11f,openstack/octavia-dashboard,master,I6474c78f2759bfd1e00d66ffcaba1fa52ddef11f,Imported Translations from Zanata,MERGED,2021-03-03 07:29:47.000000000,2021-03-03 19:25:17.000000000,2021-03-03 19:22:55.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 07:29:47.000000000', 'files': ['octavia_dashboard/locale/zh_Hant/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'octavia_dashboard/locale/zh_Hant/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/502c9d7b24b6023ef298acf5a2a549cece19b7dd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6474c78f2759bfd1e00d66ffcaba1fa52ddef11f\n'}]",0,778375,502c9d7b24b6023ef298acf5a2a549cece19b7dd,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6474c78f2759bfd1e00d66ffcaba1fa52ddef11f
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/75/778375/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/locale/zh_Hant/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'octavia_dashboard/locale/zh_Hant/LC_MESSAGES/django.po']",4,502c9d7b24b6023ef298acf5a2a549cece19b7dd,zanata/translations,"""POT-Creation-Date: 2021-02-28 17:23+0000\n""","""POT-Creation-Date: 2018-08-15 05:34+0000\n""",4,4
openstack%2Fcinder~stable%2Fvictoria~Ib52879a270a4ae4cdd3cb5fc18f2b7bdbccd8ab5,openstack/cinder,stable/victoria,Ib52879a270a4ae4cdd3cb5fc18f2b7bdbccd8ab5,Log information about the Ceph v2 clone API,MERGED,2021-02-04 17:07:50.000000000,2021-03-03 19:10:47.000000000,2021-02-11 18:10:21.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-04 17:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/362ba29c598baf492511626dd21bf35b5dec3fa3', 'message': 'Log information about the Ceph v2 clone API\n\nStarting with the Mimic release and the Ceph RBD clone v2 feature,\nit is no longer necessary to manage snapshot protection status.\nThe usage of clone v2 is controlled via the Ceph rbd default\nclone format configuration option which defaults to auto, but\ncan be overridden to 1 to force the legacy clone v1 behavior or\n2 to force the new clonev2 behavior.\n\nThis must be configured in Ceph, it\'s not something that can be\nconfigured on the Cinder side.\n\nAs an alternative, setting the minimum client to mimic\n""$ ceph osd set-require-min-compat-client mimic""\n\nAbove all with Ceph RBD clone v2 support enabled, image snapshots\ncan be cloned without marking the snapshot as protected because\nRBD automatically tracks the usage of the snapshot by clones. As\na result Ceph RBD clone v2 API improves performance.\n\nThis proposed patch adds logging messages for the operator\nindicating whether Ceph has been configured to use the Ceph RBD\nv2 clone feature.\n\nIn this way the operator can consult with the Ceph administrator\nto take appropriate action.\n\nYou can determine which volumes are using the clone v2 feature\nthanks to volume.volume.op_features(). It returns a value depending\non the v2 clone api being enabled or not.\n\nCo-authored-by: Eric Harney <eharney@redhat.com>\nChange-Id: Ib52879a270a4ae4cdd3cb5fc18f2b7bdbccd8ab5\n(cherry picked from commit efd83675780a76422436d47c4622e22a0645cc30)\n'}, {'number': 2, 'created': '2021-02-05 23:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd281097f1df9c86580d79ae01f9e4fd4e545c0b', 'message': 'Log information about the Ceph v2 clone API\n\nStarting with the Mimic release and the Ceph RBD clone v2 feature,\nit is no longer necessary to manage snapshot protection status.\nThe usage of clone v2 is controlled via the Ceph rbd default\nclone format configuration option which defaults to auto, but\ncan be overridden to 1 to force the legacy clone v1 behavior or\n2 to force the new clonev2 behavior.\n\nThis must be configured in Ceph, it\'s not something that can be\nconfigured on the Cinder side.\n\nAs an alternative, setting the minimum client to mimic\n""$ ceph osd set-require-min-compat-client mimic""\n\nAbove all with Ceph RBD clone v2 support enabled, image snapshots\ncan be cloned without marking the snapshot as protected because\nRBD automatically tracks the usage of the snapshot by clones. As\na result Ceph RBD clone v2 API improves performance.\n\nThis proposed patch adds logging messages for the operator\nindicating whether Ceph has been configured to use the Ceph RBD\nv2 clone feature.\n\nIn this way the operator can consult with the Ceph administrator\nto take appropriate action.\n\nYou can determine which volumes are using the clone v2 feature\nthanks to volume.volume.op_features(). It returns a value depending\non the v2 clone api being enabled or not.\n\nCo-authored-by: Eric Harney <eharney@redhat.com>\nChange-Id: Ib52879a270a4ae4cdd3cb5fc18f2b7bdbccd8ab5\n(cherry picked from commit efd83675780a76422436d47c4622e22a0645cc30)\n'}, {'number': 3, 'created': '2021-02-10 17:50:54.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5fade7d8c6ade6166946280c7717cff10762d1f', 'message': 'Log information about the Ceph v2 clone API\n\nStarting with the Mimic release and the Ceph RBD clone v2 feature,\nit is no longer necessary to manage snapshot protection status.\nThe usage of clone v2 is controlled via the Ceph rbd default\nclone format configuration option which defaults to auto, but\ncan be overridden to 1 to force the legacy clone v1 behavior or\n2 to force the new clonev2 behavior.\n\nThis must be configured in Ceph, it\'s not something that can be\nconfigured on the Cinder side.\n\nAs an alternative, setting the minimum client to mimic\n""$ ceph osd set-require-min-compat-client mimic""\n\nAbove all with Ceph RBD clone v2 support enabled, image snapshots\ncan be cloned without marking the snapshot as protected because\nRBD automatically tracks the usage of the snapshot by clones. As\na result Ceph RBD clone v2 API improves performance.\n\nThis proposed patch adds logging messages for the operator\nindicating whether Ceph has been configured to use the Ceph RBD\nv2 clone feature.\n\nIn this way the operator can consult with the Ceph administrator\nto take appropriate action.\n\nYou can determine which volumes are using the clone v2 feature\nthanks to volume.volume.op_features(). It returns a value depending\non the v2 clone api being enabled or not.\n\nAlso includes squash to fix unit test from:\nFix RBD_OPERATION_FEATURE_CLONE_PARENT in unittest\nChange-Id: I00cd30f2e7181ea6bf9fccfe9170bee037b4652d\n\nCo-authored-by: Eric Harney <eharney@redhat.com>\nChange-Id: Ib52879a270a4ae4cdd3cb5fc18f2b7bdbccd8ab5\n(cherry picked from commit efd83675780a76422436d47c4622e22a0645cc30)\n'}]",4,774116,d5fade7d8c6ade6166946280c7717cff10762d1f,57,7,3,20813,,,0,"Log information about the Ceph v2 clone API

Starting with the Mimic release and the Ceph RBD clone v2 feature,
it is no longer necessary to manage snapshot protection status.
The usage of clone v2 is controlled via the Ceph rbd default
clone format configuration option which defaults to auto, but
can be overridden to 1 to force the legacy clone v1 behavior or
2 to force the new clonev2 behavior.

This must be configured in Ceph, it's not something that can be
configured on the Cinder side.

As an alternative, setting the minimum client to mimic
""$ ceph osd set-require-min-compat-client mimic""

Above all with Ceph RBD clone v2 support enabled, image snapshots
can be cloned without marking the snapshot as protected because
RBD automatically tracks the usage of the snapshot by clones. As
a result Ceph RBD clone v2 API improves performance.

This proposed patch adds logging messages for the operator
indicating whether Ceph has been configured to use the Ceph RBD
v2 clone feature.

In this way the operator can consult with the Ceph administrator
to take appropriate action.

You can determine which volumes are using the clone v2 feature
thanks to volume.volume.op_features(). It returns a value depending
on the v2 clone api being enabled or not.

Also includes squash to fix unit test from:
Fix RBD_OPERATION_FEATURE_CLONE_PARENT in unittest
Change-Id: I00cd30f2e7181ea6bf9fccfe9170bee037b4652d

Co-authored-by: Eric Harney <eharney@redhat.com>
Change-Id: Ib52879a270a4ae4cdd3cb5fc18f2b7bdbccd8ab5
(cherry picked from commit efd83675780a76422436d47c4622e22a0645cc30)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/774116/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,362ba29c598baf492511626dd21bf35b5dec3fa3,change-774116-2," @mock.patch.object(driver.RBDDriver, '_resize', mock.Mock()) def test_log_create_vol_from_snap_w_v2_clone_api(self, volume_get_by_id): volume_get_by_id.return_value = self.volume_a self.mock_proxy().__enter__().volume.op_features.return_value = 1 self.mock_rbd.RBD_OPERATION_FEATURE_CLONE_PARENT = 1 snapshot = mock.Mock() self.cfg.rbd_flatten_volume_from_snapshot = False with mock.patch.object(driver, 'LOG') as \ mock_log: self.driver.create_volume_from_snapshot(self.volume_a, snapshot) mock_log.info.assert_called_once_with(mock.ANY) mock_log.warning.assert_not_called() self.assertTrue(self.driver._clone_v2_api_checked) @common_mocks @mock.patch('cinder.objects.Volume.get_by_id') @mock.patch.object(driver.RBDDriver, '_resize', mock.Mock()) def test_log_create_vol_from_snap_without_v2_clone_api(self, volume_get_by_id): volume_get_by_id.return_value = self.volume_a self.mock_proxy().__enter__().volume.op_features.return_value = 0 self.mock_rbd.RBD_OPERATION_FEATURE_CLONE_PARENT = 0 snapshot = mock.Mock() self.cfg.rbd_flatten_volume_from_snapshot = False with mock.patch.object(driver, 'LOG') as \ mock_log: self.driver.create_volume_from_snapshot(self.volume_a, snapshot) mock_log.warning.assert_called_once_with(mock.ANY) mock_log.info.assert_not_called() self.assertTrue(self.driver._clone_v2_api_checked) @common_mocks @mock.patch('cinder.objects.Volume.get_by_id') @mock.patch.object(driver.RBDDriver, '_resize', mock.Mock()) def test_log_create_vol_from_snap_without_v2_clone_api_2(self, volume_get_by_id): volume_get_by_id.return_value = self.volume_a self.mock_proxy().__enter__().volume.op_features.return_value = 0 self.mock_rbd.RBD_OPERATION_FEATURE_CLONE_PARENT = 1 snapshot = mock.Mock() self.cfg.rbd_flatten_volume_from_snapshot = False with mock.patch.object(driver, 'LOG') as \ mock_log: self.driver.create_volume_from_snapshot(self.volume_a, snapshot) mock_log.warning.assert_called_once_with(mock.ANY) mock_log.info.assert_not_called() self.assertTrue(self.driver._clone_v2_api_checked) @common_mocks @mock.patch('cinder.objects.Volume.get_by_id')",,84,0
openstack%2Fdesignate-dashboard~master~I6bd42b175e74c9015db803eaaff09d908fae6a10,openstack/designate-dashboard,master,I6bd42b175e74c9015db803eaaff09d908fae6a10,Fix lower-constrains job,MERGED,2021-02-03 13:37:48.000000000,2021-03-03 19:09:42.000000000,2021-03-03 18:59:03.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-03 13:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/b977c1d081a82fd617ebdb9a488de65969f8bbcb', 'message': 'Fix lower-constrains job\n\nApplied the same fix as was done for designate.\n\nChange-Id: I6bd42b175e74c9015db803eaaff09d908fae6a10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2021-02-03 14:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/f97d8fd745c9bda0a0052fa82a84c89b906fb3a4', 'message': 'Fix lower-constrains job\n\nApplied the same fix as was done for designate.\n\nChange-Id: I6bd42b175e74c9015db803eaaff09d908fae6a10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 3, 'created': '2021-03-03 16:39:07.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/9cc36c1ecc83f29b3984cead7dd35d2355765a27', 'message': 'Fix lower-constrains job\n\nApplied the same fix as was done for designate.\n\nChange-Id: I6bd42b175e74c9015db803eaaff09d908fae6a10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,773889,9cc36c1ecc83f29b3984cead7dd35d2355765a27,12,3,3,19298,,,0,"Fix lower-constrains job

Applied the same fix as was done for designate.

Change-Id: I6bd42b175e74c9015db803eaaff09d908fae6a10
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/89/773889/3 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,b977c1d081a82fd617ebdb9a488de65969f8bbcb,fix_lc,skip_install = True commands = python -m pip install --no-deps -U . stestr run {posargs},,7,3
openstack%2Fdesignate-dashboard~master~Id5186f16656e0671dda7ab91062c104b2c08758f,openstack/designate-dashboard,master,Id5186f16656e0671dda7ab91062c104b2c08758f,Run npm nodejs job with Firefox browser,MERGED,2020-12-14 09:06:40.000000000,2021-03-03 19:07:58.000000000,2021-03-03 18:58:41.000000000,"[{'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 09:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/f0d756c7df00363cb7bfba0f543aaa958a6096e3', 'message': '[DNR] Test npm nodejs job\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\n'}, {'number': 2, 'created': '2020-12-14 16:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/a52a9c53ee78e07a7477fcbf9e0c8c7d762571e0', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox\nin karma.conf.js becuase nodejs fails with Chrome\nbrowser as not able to access some URL.\nSo let's switch to Firefox browser now then we can\nuse Chrome browser in future once this issue is resolved.\n\nIt also upadte some package version in 'lower-constraint.txt'\nto fix lower-constraints job.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\n""}, {'number': 3, 'created': '2020-12-14 16:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/da10d57524c765f641f1daf78e1f01325eadef9b', 'message': ""Run npm nodejs job with Phantomjs browser\n\nThis patch update browser from Chrome to Phantomjs\nin karma.conf.js becuase nodejs fails with Chrome\nbrowser as not able to access some URL.\nSo let's switch to Phantomjs browser now then we can\nuse Chrome browser in future once this issue is resolved.\n\nIt also upadte some package version in 'lower-constraint.txt'\nto fix lower-constraints job.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\n""}, {'number': 4, 'created': '2020-12-17 15:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/307ceb6725a2dcd0b11c6d24f167f7a6fcf5f303', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox\nin karma.conf.js becuase nodejs fails with Chrome\nbrowser as not able to access some URL.\nSo let's switch to Firefox browser now then we can\nuse Chrome browser in future once this issue is resolved.\n\nIt also upadte some package version in 'lower-constraint.txt'\nto fix lower-constraints job.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\n""}, {'number': 5, 'created': '2021-01-07 10:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/c829ce8f5434ba934188b32d03a1949ef28603ef', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox\nin karma.conf.js becuase nodejs fails with Chrome\nbrowser as not able to access some URL.\nSo let's switch to Firefox browser now then we can\nuse Chrome browser in future once this issue is resolved.\n\nIt also drop lower constraints testing. For more info.\nplease refer [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\n""}, {'number': 6, 'created': '2021-01-07 11:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/cdfd2e01012ea43dec6f37aaf274d059ec4ec345', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox\nin karma.conf.js becuase nodejs fails with Chrome\nbrowser as not able to access some URL.\nSo let's switch to Firefox browser now then we can\nuse Chrome browser in future once this issue is resolved.\n\nIt also drop lower constraints testing. For more info.\nplease refer [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\n""}, {'number': 7, 'created': '2021-02-03 15:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/cc7be8d5376e68bb4dcc62ff46075bbc944034a8', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox in karma.conf.js\nbecuase nodejs fails with Chrome browser as not able to access some\nURL. So let's switch to Firefox browser now then we can use Chrome\nbrowser in future once this issue is resolved.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n""}, {'number': 8, 'created': '2021-03-03 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/c61d09e68f10f9e517b56782a1d437a9381da42a', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox in karma.conf.js\nbecuase nodejs fails with Chrome browser as not able to access some\nURL. So let's switch to Firefox browser now then we can use Chrome\nbrowser in future once this issue is resolved.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n""}, {'number': 9, 'created': '2021-03-03 16:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/35f68323e5db57e8a598f7fb146aba6148f2d0df', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox in karma.conf.js\nbecuase nodejs fails with Chrome browser as not able to access some\nURL. So let's switch to Firefox browser now then we can use Chrome\nbrowser in future once this issue is resolved.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n""}, {'number': 10, 'created': '2021-03-03 16:34:54.000000000', 'files': ['karma.conf.js', '.zuul.yaml', 'package.json'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/64e2e58b4e52f9bfdb74d30b094e8b048d2a1c7e', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox in karma.conf.js\nbecuase nodejs fails with Chrome browser as not able to access some\nURL. So let's switch to Firefox browser now then we can use Chrome\nbrowser in future once this issue is resolved.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n""}]",3,766898,64e2e58b4e52f9bfdb74d30b094e8b048d2a1c7e,50,7,10,29313,,,0,"Run npm nodejs job with Firefox browser

This patch update browser from Chrome to Firefox in karma.conf.js
becuase nodejs fails with Chrome browser as not able to access some
URL. So let's switch to Firefox browser now then we can use Chrome
browser in future once this issue is resolved.

Change-Id: Id5186f16656e0671dda7ab91062c104b2c08758f
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/98/766898/7 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f0d756c7df00363cb7bfba0f543aaa958a6096e3,Use-Firefox,,,1,0
openstack%2Fcharm-octavia-dashboard~master~Idcce05c1c05e10ac1b7dcd0aa1bdd5e7c2e8db21,openstack/charm-octavia-dashboard,master,Idcce05c1c05e10ac1b7dcd0aa1bdd5e7c2e8db21,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:02:35.000000000,2021-03-03 18:59:11.000000000,2021-03-03 10:52:31.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:02:35.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/ffc9f396e967c49241c892f637cc4429e65be7bd', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Idcce05c1c05e10ac1b7dcd0aa1bdd5e7c2e8db21\n'}]",0,778317,ffc9f396e967c49241c892f637cc4429e65be7bd,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Idcce05c1c05e10ac1b7dcd0aa1bdd5e7c2e8db21
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/17/778317/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,ffc9f396e967c49241c892f637cc4429e65be7bd,hirsute-metadata,- hirsute,,1,0
openstack%2Fpython-masakariclient~master~Ie223a02ec13bfeef699e28a7b0681f7e9be6b1b7,openstack/python-masakariclient,master,Ie223a02ec13bfeef699e28a7b0681f7e9be6b1b7,[DNM] Run CI,ABANDONED,2021-03-03 18:10:09.000000000,2021-03-03 18:13:54.000000000,,[],"[{'number': 1, 'created': '2021-03-03 18:10:09.000000000', 'files': ['masakariclient/osc/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/0275b4bc62aace24aebdcd7c8e30beef02ed4e26', 'message': '[DNM] Run CI\n\nChange-Id: Ie223a02ec13bfeef699e28a7b0681f7e9be6b1b7\n'}]",0,778531,0275b4bc62aace24aebdcd7c8e30beef02ed4e26,2,0,1,30491,,,0,"[DNM] Run CI

Change-Id: Ie223a02ec13bfeef699e28a7b0681f7e9be6b1b7
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/31/778531/1 && git format-patch -1 --stdout FETCH_HEAD,['masakariclient/osc/__init__.py'],1,0275b4bc62aace24aebdcd7c8e30beef02ed4e26,dnm-run,# TEST ME ,,1,0
openstack%2Fblazar~stable%2Ftrain~I921878bd5233613b804b17813af1aac5bdfed9e7,openstack/blazar,stable/train,I921878bd5233613b804b17813af1aac5bdfed9e7,Add update_reservation to dummy plugin,MERGED,2019-10-08 10:41:24.000000000,2021-03-03 17:56:45.000000000,2021-03-03 17:54:21.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 29270}]","[{'number': 1, 'created': '2019-10-08 10:41:24.000000000', 'files': ['blazar/plugins/dummy_vm_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/4c52b8f63fea11278536ec6800305b01d9bd02a8', 'message': 'Add update_reservation to dummy plugin\n\nupdate_reservation is now an abstract method. It needs to be added to\nall plugins.\n\nChange-Id: I921878bd5233613b804b17813af1aac5bdfed9e7\n(cherry picked from commit 1dbc30202bddfd4f03bdc9a8005de3c363d2ac1d)\n'}]",0,687263,4c52b8f63fea11278536ec6800305b01d9bd02a8,9,4,1,15197,,,0,"Add update_reservation to dummy plugin

update_reservation is now an abstract method. It needs to be added to
all plugins.

Change-Id: I921878bd5233613b804b17813af1aac5bdfed9e7
(cherry picked from commit 1dbc30202bddfd4f03bdc9a8005de3c363d2ac1d)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/63/687263/1 && git format-patch -1 --stdout FETCH_HEAD,['blazar/plugins/dummy_vm_plugin.py'],1,4c52b8f63fea11278536ec6800305b01d9bd02a8,," def update_reservation(self, reservation_id, values): return None ",,3,0
openstack%2Fironic-python-agent-builder~master~I6a278b11ed6d14661be87cfeee4bec03c42f0f9d,openstack/ironic-python-agent-builder,master,I6a278b11ed6d14661be87cfeee4bec03c42f0f9d,Relax requirement of diskimage-builder,MERGED,2021-03-03 13:17:33.000000000,2021-03-03 17:56:22.000000000,2021-03-03 17:54:09.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 13:17:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/863735c202c1a5a32513635ce7f0b65675253751', 'message': ""Relax requirement of diskimage-builder\n\nVersion 3.4.0 breaks bifrost on stable/victoria as the upper constraints\nis set to 3.2.1, this version should be enough to work fine with centos\nstream even if it doesn't officially supports it.\n\nChange-Id: I6a278b11ed6d14661be87cfeee4bec03c42f0f9d\n""}]",0,778457,863735c202c1a5a32513635ce7f0b65675253751,9,3,1,23851,,,0,"Relax requirement of diskimage-builder

Version 3.4.0 breaks bifrost on stable/victoria as the upper constraints
is set to 3.2.1, this version should be enough to work fine with centos
stream even if it doesn't officially supports it.

Change-Id: I6a278b11ed6d14661be87cfeee4bec03c42f0f9d
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/57/778457/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,863735c202c1a5a32513635ce7f0b65675253751,relax-dib-req,diskimage-builder>=3.2.1 # Apache-2.0,diskimage-builder>=3.4.0 # Apache-2.0,1,1
openstack%2Fdesignate-dashboard~master~I34a0bcd2413f1c3dcbbed64c052b6e995f846861,openstack/designate-dashboard,master,I34a0bcd2413f1c3dcbbed64c052b6e995f846861,Disable nodjs an lower constraint job temporarily,MERGED,2021-03-03 14:23:51.000000000,2021-03-03 17:41:45.000000000,2021-03-03 17:34:25.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/fb9db6b8168bcc9cea4430e02f9c7c478a1803a6', 'message': 'Disable nodjs job temporarily\n\nWhile we are trying to fix both lower constraints and the nodejs job,\ntemporarily disable the nodejs job so we can merge\nI6bd42b175e74c9015db803eaaff09d908fae6a10 and\nId5186f16656e0671dda7ab91062c104b2c08758f.\n\nChange-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2021-03-03 15:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/0b51d49634814332b68c2768a551f8cea482c935', 'message': 'Disable nodjs job temporarily\n\nWhile we are trying to fix both lower constraints and the nodejs job,\ntemporarily disable the nodejs job so we can merge\nI6bd42b175e74c9015db803eaaff09d908fae6a10 and\nId5186f16656e0671dda7ab91062c104b2c08758f.\n\nChange-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 3, 'created': '2021-03-03 16:31:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/f34ec9e12d5b6dcb4b592d420e105362a33e7948', 'message': 'Disable nodjs an lower constraint job temporarily\n\nWhile we are trying to fix both lower constraints and the nodejs job,\ntemporarily disable the nodejs job so we can merge\nI6bd42b175e74c9015db803eaaff09d908fae6a10 and\nId5186f16656e0671dda7ab91062c104b2c08758f.\n\nChange-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",3,778469,f34ec9e12d5b6dcb4b592d420e105362a33e7948,15,3,3,19298,,,0,"Disable nodjs an lower constraint job temporarily

While we are trying to fix both lower constraints and the nodejs job,
temporarily disable the nodejs job so we can merge
I6bd42b175e74c9015db803eaaff09d908fae6a10 and
Id5186f16656e0671dda7ab91062c104b2c08758f.

Change-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/69/778469/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb9db6b8168bcc9cea4430e02f9c7c478a1803a6,temp_disable, # - horizon-nodejs10-jobs, - horizon-nodejs10-jobs,1,1
openstack%2Fmasakari-monitors~master~I53ed72291abe997bf78fe93938cda7721bbb9f8c,openstack/masakari-monitors,master,I53ed72291abe997bf78fe93938cda7721bbb9f8c,remove unused script,MERGED,2021-01-05 02:11:24.000000000,2021-03-03 17:32:59.000000000,2021-01-05 06:10:09.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-05 02:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/016afc0e560d088df21dfbd055be8d4d38f4f848', 'message': 'remove useless file\n\nChange-Id: I53ed72291abe997bf78fe93938cda7721bbb9f8c\n'}, {'number': 2, 'created': '2021-01-05 02:19:12.000000000', 'files': ['masakarimonitors/processmonitor/typescript'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/9458a9f4495f99243a33fb6513f98a6361cf8fad', 'message': 'remove unused script\n\nChange-Id: I53ed72291abe997bf78fe93938cda7721bbb9f8c\n'}]",0,769235,9458a9f4495f99243a33fb6513f98a6361cf8fad,10,4,2,24501,,,0,"remove unused script

Change-Id: I53ed72291abe997bf78fe93938cda7721bbb9f8c
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/35/769235/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/processmonitor/typescript'],1,016afc0e560d088df21dfbd055be8d4d38f4f848,,,,0,0
openstack%2Fmasakari~master~Id3b9bad4bc617c168200d34d69bbe760a24dfcf0,openstack/masakari,master,Id3b9bad4bc617c168200d34d69bbe760a24dfcf0,remove unicode from code,MERGED,2021-01-03 09:43:14.000000000,2021-03-03 17:32:42.000000000,2021-01-05 06:34:22.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}, {'_account_id': 30623}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-03 09:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/5a413c9f7cd8cb9ec9dafd94289b891117702d14', 'message': 'remove unicode from code\n\nChange-Id: Id3b9bad4bc617c168200d34d69bbe760a24dfcf0\n'}, {'number': 2, 'created': '2021-01-04 01:06:21.000000000', 'files': ['masakari/tests/unit/test_api_validation.py', 'doc/source/conf.py', 'api-ref/source/conf.py', 'masakari/tests/unit/notifications/objects/test_notification.py', 'masakari/tests/unit/api/openstack/test_wsgi.py', 'masakari/tests/unit/objects/test_hosts.py', 'masakari/tests/unit/objects/test_notifications.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/ab8b1eae4ed43149670c97ea8d011bc33c8338f7', 'message': 'remove unicode from code\n\nChange-Id: Id3b9bad4bc617c168200d34d69bbe760a24dfcf0\n'}]",4,769061,ab8b1eae4ed43149670c97ea8d011bc33c8338f7,10,5,2,31412,,,0,"remove unicode from code

Change-Id: Id3b9bad4bc617c168200d34d69bbe760a24dfcf0
",git fetch https://review.opendev.org/openstack/masakari refs/changes/61/769061/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/test_api_validation.py', 'api-ref/source/conf.py', 'doc/source/conf.py', 'masakari/tests/unit/notifications/objects/test_notification.py', 'masakari/tests/unit/api/openstack/test_wsgi.py', 'masakari/tests/unit/objects/test_hosts.py', 'masakari/tests/unit/objects/test_notifications.py', 'releasenotes/source/conf.py']",8,5a413c9f7cd8cb9ec9dafd94289b891117702d14,,"project = 'Masakari Release Notes' copyright = '2016, OpenStack Foundation' 'Masakari Release Notes Documentation', 'Masakari Developers', ('index', 'masakarireleasenotes', 'Masakari Release Notes Documentation', ['Masakari Developers'], 1) ('index', 'MasakariReleaseNotes', 'Masakari Release Notes Documentation', 'Masakari Developers', 'MasakariReleaseNotes',","project = u'Masakari Release Notes' copyright = u'2016, OpenStack Foundation' u'Masakari Release Notes Documentation', u'Masakari Developers', ('index', 'masakarireleasenotes', u'Masakari Release Notes Documentation', [u'Masakari Developers'], 1) ('index', 'MasakariReleaseNotes', u'Masakari Release Notes Documentation', u'Masakari Developers', 'MasakariReleaseNotes',",33,33
openstack%2Fglance-tempest-plugin~master~I35d6b546da260f3f6b5c427a17ee3509cdc41277,openstack/glance-tempest-plugin,master,I35d6b546da260f3f6b5c427a17ee3509cdc41277,Implement API protection testing for images,MERGED,2021-02-02 04:45:13.000000000,2021-03-03 17:16:00.000000000,2021-03-03 17:16:00.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 04:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/527bf21655b80230b603a19822c588a4f627e48e', 'message': 'WIP: implement basic API protection testing\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 2, 'created': '2021-02-02 16:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/cfe57a9ca465c596be44efc454868d67b2dc08b6', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 3, 'created': '2021-02-02 16:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/60237d0acd556db6158ba04b14e3d87141319e40', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 4, 'created': '2021-02-02 16:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/fa12dec6756c101691131171a6734f84e35f6839', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 5, 'created': '2021-02-02 17:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/be8ad96c4ffc366af3c87ea581f216893803be9e', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 6, 'created': '2021-02-02 19:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/0229ce32c06ec4116ba1ba12810b79e690b2f2b6', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 7, 'created': '2021-02-02 20:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/4986b40cd83fda771715a97969d86b82371b2c53', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 8, 'created': '2021-02-02 20:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/3432bca063b17ed22833a43b0dafc59c5324b40d', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 9, 'created': '2021-02-02 20:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/d700f1fe08ceaf2841d0d29b9c249b28ab095dde', 'message': 'Implement basic API protection testing\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 10, 'created': '2021-02-02 23:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/41ee72aad1e2018ca59c75625585820fcaafd793', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 11, 'created': '2021-02-03 04:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/8f49b5b9eafce6f5d46b6983e30f70d9a8782e27', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 12, 'created': '2021-02-08 22:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/56057ddb4987ea510a72e512f21b614914406ab4', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 13, 'created': '2021-02-10 05:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/086e527a01617e8d1f1648864f11ef794ccc52d7', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 14, 'created': '2021-02-10 23:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/0c2e2c2ed295f0225aa531a60b4f318fb090a2a7', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 15, 'created': '2021-02-12 16:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/8465f99c483ea2048dc9d4500792fc74c31e2529', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 16, 'created': '2021-02-13 01:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/579d3d1f5494679b3461ed277f84f30a7daebb31', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 17, 'created': '2021-02-15 19:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/104642d4268389f1493485b6b128737ff70f1875', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/773566\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 18, 'created': '2021-02-16 15:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/5b736c06c4cac0be910910a32757703dbc519d75', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/765210\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 19, 'created': '2021-02-19 10:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/b1b2f9cfab366d5dfba30f743fda2ab44b80af49', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/765210\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 20, 'created': '2021-02-24 05:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/5de723d321f9b0f871709d2a4139e208073aeed8', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/764754\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 21, 'created': '2021-03-02 19:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/d21c6c54f1b8b184df4b3c59d1d7911b106f0fa3', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 22, 'created': '2021-03-02 19:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/6c544d4a384e073ca1023374debdb05701403f2e', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 23, 'created': '2021-03-02 20:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/26992326c5ce48e9aa7b36f1e49779500113d65d', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 24, 'created': '2021-03-02 21:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/a7dd52a9502ef1544791067f0db5a8f656400563', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 25, 'created': '2021-03-02 22:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/a63beba3856ff6e68284bf0e78ad0509a0b7d675', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 26, 'created': '2021-03-03 00:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/4a5a2b4d6164215582a4a367474f7a366a50f2a0', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}, {'number': 27, 'created': '2021-03-03 00:26:05.000000000', 'files': ['glance_tempest_plugin/tests/rbac/__init__.py', 'glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/config.py', 'glance_tempest_plugin/tests/rbac/v2/test_images.py', '.zuul.yaml', 'glance_tempest_plugin/tests/rbac/v2/__init__.py', 'glance_tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/2a3d8bd0c9df4a6a50475262855e40b5a437bd16', 'message': 'Implement API protection testing for images\n\nThis commit lays down some basic protection tests so that we can start\ntesting the secure RBAC changes proposed to glance. It also adds a\n.zuul.yaml so that we can run the tests as check and gate jobs.\n\nChange-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277\n'}]",11,773568,2a3d8bd0c9df4a6a50475262855e40b5a437bd16,67,4,27,5046,,,0,"Implement API protection testing for images

This commit lays down some basic protection tests so that we can start
testing the secure RBAC changes proposed to glance. It also adds a
.zuul.yaml so that we can run the tests as check and gate jobs.

Change-Id: I35d6b546da260f3f6b5c427a17ee3509cdc41277
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/68/773568/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_tempest_plugin/tests/rbac/__init__.py', 'glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/config.py', 'glance_tempest_plugin/tests/rbac/v2/test_images.py', 'glance_tempest_plugin/tests/rbac/v2/__init__.py', 'glance_tempest_plugin/plugin.py']",6,527bf21655b80230b603a19822c588a4f627e48e,secure-rbac," config.register_opt_group(conf, config.image_feature_group, project_config.image_feature_opts) return [(config.image_feature_group.name, project_config.image_feature_opts)]", pass pass,128,2
openstack%2Fpython-openstackclient~master~I4ff339e18656013218a26f045b205cb7a02dd2fb,openstack/python-openstackclient,master,I4ff339e18656013218a26f045b205cb7a02dd2fb,Add --name to port list,MERGED,2021-02-24 00:00:25.000000000,2021-03-03 17:12:06.000000000,2021-03-03 17:03:02.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-02-24 00:00:25.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/16c72f8642c24e4e2d8af93698a84aced54be97a', 'message': 'Add --name to port list\n\nThe neutron API supports filtering ports by name, but\nthe CLI was missing support for it like it does for\nother networking resources.\n\nChange-Id: I4ff339e18656013218a26f045b205cb7a02dd2fb\nStory: #2008654\n'}]",0,777264,16c72f8642c24e4e2d8af93698a84aced54be97a,9,3,1,1131,,,0,"Add --name to port list

The neutron API supports filtering ports by name, but
the CLI was missing support for it like it does for
other networking resources.

Change-Id: I4ff339e18656013218a26f045b205cb7a02dd2fb
Story: #2008654
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/777264/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/port.py']",2,16c72f8642c24e4e2d8af93698a84aced54be97a,story/2008654," parser.add_argument( '--name', metavar='<name>', help=_(""List ports according to their name"") ) if parsed_args.name: filters['name'] = parsed_args.name",,27,0
openstack%2Fkolla-ansible~master~I14d862aa599915c781d02b71a0e57d2124de9abc,openstack/kolla-ansible,master,I14d862aa599915c781d02b71a0e57d2124de9abc,Use Docker healthchecks for magnum services,MERGED,2021-02-20 15:29:48.000000000,2021-03-03 17:11:10.000000000,2021-03-03 17:07:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-20 15:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fae698a9de2fbe505d81ddf4844a992b5ff21502', 'message': 'Use Docker healthchecks for magnum services\n\nThis change enables the use of Docker healthchecks for magnum\nservices.\nImplements: blueprint container-health-check\n\nChange-Id: I14d862aa599915c781d02b71a0e57d2124de9abc\n'}, {'number': 2, 'created': '2021-02-21 13:36:57.000000000', 'files': ['releasenotes/notes/implement-docker-healthchecks-for-magnum-0e92b0645fcdeb61.yaml', 'ansible/roles/magnum/tasks/check-containers.yml', 'ansible/roles/magnum/handlers/main.yml', 'ansible/roles/magnum/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26a7fc04c646ed540cfa5c8d2337deb69ec0a42e', 'message': 'Use Docker healthchecks for magnum services\n\nThis change enables the use of Docker healthchecks for magnum\nservices.\nImplements: blueprint container-health-check\n\nChange-Id: I14d862aa599915c781d02b71a0e57d2124de9abc\n'}]",2,776805,26a7fc04c646ed540cfa5c8d2337deb69ec0a42e,16,3,2,26285,,,0,"Use Docker healthchecks for magnum services

This change enables the use of Docker healthchecks for magnum
services.
Implements: blueprint container-health-check

Change-Id: I14d862aa599915c781d02b71a0e57d2124de9abc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/776805/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/magnum/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-magnum-0e92b0645fcdeb61.yaml', 'ansible/roles/magnum/handlers/main.yml', 'ansible/roles/magnum/defaults/main.yml']",4,fae698a9de2fbe505d81ddf4844a992b5ff21502,container-health-check," healthcheck: ""{{ magnum_api_healthcheck }}"" healthcheck: ""{{ magnum_conductor_healthcheck }}""magnum_api_enable_healthchecks: ""{{ enable_container_healthchecks }}"" magnum_api_healthcheck_interval: ""{{ default_container_healthcheck_interval }}"" magnum_api_healthcheck_retries: ""{{ default_container_healthcheck_retries }}"" magnum_api_healthcheck_start_period: ""{{ default_container_healthcheck_start_period }}"" magnum_api_healthcheck_test: [""CMD-SHELL"", ""healthcheck_curl http://{{ api_interface_address | put_address_in_context('url') }}:{{ magnum_api_port }}""] magnum_api_healthcheck_timeout: ""{{ default_container_healthcheck_timeout }}"" magnum_api_healthcheck: interval: ""{{ magnum_api_healthcheck_interval }}"" retries: ""{{ magnum_api_healthcheck_retries }}"" start_period: ""{{ magnum_api_healthcheck_start_period }}"" test: ""{% if magnum_api_enable_healthchecks | bool %}{{ magnum_api_healthcheck_test }}{% else %}NONE{% endif %}"" timeout: ""{{ magnum_api_healthcheck_timeout }}"" magnum_conductor_enable_healthchecks: ""{{ enable_container_healthchecks }}"" magnum_conductor_healthcheck_interval: ""{{ default_container_healthcheck_interval }}"" magnum_conductor_healthcheck_retries: ""{{ default_container_healthcheck_retries }}"" magnum_conductor_healthcheck_start_period: ""{{ default_container_healthcheck_start_period }}"" magnum_conductor_healthcheck_test: [""CMD-SHELL"", ""healthcheck_port magnum-conductor {{ om_rpc_port }}""] magnum_conductor_healthcheck_timeout: ""{{ default_container_healthcheck_timeout }}"" magnum_conductor_healthcheck: interval: ""{{ magnum_conductor_healthcheck_interval }}"" retries: ""{{ magnum_conductor_healthcheck_retries }}"" start_period: ""{{ magnum_conductor_healthcheck_start_period }}"" test: ""{% if magnum_conductor_enable_healthchecks | bool %}{{ magnum_conductor_healthcheck_test }}{% else %}NONE{% endif %}"" timeout: ""{{ magnum_conductor_healthcheck_timeout }}"" ",,38,0
openstack%2Fneutron~master~Idd65f1eda020ada9a76c39904efa8d55680d9e6b,openstack/neutron,master,Idd65f1eda020ada9a76c39904efa8d55680d9e6b,Clean port forwarding cache when router is DOWN,MERGED,2021-03-02 03:34:22.000000000,2021-03-03 17:09:15.000000000,2021-03-03 17:02:46.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 03:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b0489fd2adc5e1d7c10eb625c304b4081179774', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n'}, {'number': 2, 'created': '2021-03-02 04:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cf5987cd95a1431fd4cff2d1e528a303b90c236', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n'}, {'number': 3, 'created': '2021-03-03 03:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b85804b6fbe3aa422900cb43856d20fc7890acd7', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n'}, {'number': 4, 'created': '2021-03-03 07:22:55.000000000', 'files': ['neutron/agent/l3/extensions/port_forwarding.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/058214670820be6f40e8ab05c0e1dbe8dc389abc', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n'}]",4,778126,058214670820be6f40e8ab05c0e1dbe8dc389abc,29,4,4,9531,,,0,"Clean port forwarding cache when router is DOWN

Port forwarding L3 agent extension needs to clean cache when
router is DOWN, otherwise the port forwarding extension will
skip all objects processing when router is UP again, because
the cache is hitting.

This patch addresses this issue.

Change-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b
Closes-bug: #1917393
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/778126/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/extensions/port_forwarding.py'],1,5b0489fd2adc5e1d7c10eb625c304b4081179774,bug/1917393," @lockutils.synchronized('port-forwarding-cache') def clean_port_forwardings_by_router_id(self, router_id): router_fips = self.router_fip_mapping.pop(data['id'], []) for fip_id in router_fips: pf_ids = self.fip_port_forwarding.pop(fip_id, []) for pf_id in pf_ids: self.managed_port_forwardings.pop(pf_id, None) self.mapping.clean_port_forwardings_by_router_id(data['id'])", pass,9,1
openstack%2Fpython-openstackclient~master~Icd5e96d180364b979d1e93fcb39f9133a41a06e5,openstack/python-openstackclient,master,Icd5e96d180364b979d1e93fcb39f9133a41a06e5,Add 'address_group' type support to rbac commands,MERGED,2021-02-10 23:41:53.000000000,2021-03-03 17:07:51.000000000,2021-03-03 17:01:05.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28159}]","[{'number': 1, 'created': '2021-02-10 23:41:53.000000000', 'files': ['openstackclient/network/v2/network_rbac.py', 'releasenotes/notes/rbac-add-address-group-f9bb83238b5a7c1f.yaml', 'openstackclient/tests/unit/network/v2/test_network_rbac.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e8509d81ee0b541033411e744f633e769073530b', 'message': ""Add 'address_group' type support to rbac commands\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/772460\nChange-Id: Icd5e96d180364b979d1e93fcb39f9133a41a06e5\n""}]",0,775045,e8509d81ee0b541033411e744f633e769073530b,12,5,1,4694,,,0,"Add 'address_group' type support to rbac commands

Depends-On: https://review.opendev.org/c/openstack/neutron/+/772460
Change-Id: Icd5e96d180364b979d1e93fcb39f9133a41a06e5
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/45/775045/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/network_rbac.py', 'releasenotes/notes/rbac-add-address-group-f9bb83238b5a7c1f.yaml', 'openstackclient/tests/unit/network/v2/test_network_rbac.py']",3,e8509d81ee0b541033411e744f633e769073530b,bp/address-groups-in-sg-rules," ag_object = network_fakes.FakeAddressGroup.create_one_address_group() self.network.find_address_group = mock.Mock( return_value=self.ag_object) ('address_scope', ""as_object""), ('address_group', ""ag_object"")"," ('address_scope', ""as_object"")",23,9
openstack%2Fopenstack-helm~master~Id4f670ef43587d75079f47da1989fa5be0115e99,openstack/openstack-helm,master,Id4f670ef43587d75079f47da1989fa5be0115e99,Imported Translations from Zanata,MERGED,2021-03-03 07:41:49.000000000,2021-03-03 17:07:29.000000000,2021-03-03 17:02:28.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-03 07:41:49.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a090d5f915da2e509de7be9d08a64ff800dd455', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id4f670ef43587d75079f47da1989fa5be0115e99\n'}]",0,778376,8a090d5f915da2e509de7be9d08a64ff800dd455,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id4f670ef43587d75079f47da1989fa5be0115e99
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/778376/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,8a090d5f915da2e509de7be9d08a64ff800dd455,zanata/translations,"""POT-Creation-Date: 2021-03-03 02:29+0000\n""""PO-Revision-Date: 2021-03-03 02:08+0000\n""msgid ""0.1.10 Change Issuer to ClusterIssuer"" msgstr ""0.1.10 Change Issuer to ClusterIssuer"" msgid """" ""0.1.11 Secure libvirt connection from using 127.0.0.1 to use unix socket"" msgstr """" ""0.1.11 Secure libvirt connection from using 127.0.0.1 to use Unix socket"" msgid ""0.1.11 Update RBAC apiVersion from /v1beta1 to /v1"" msgstr ""0.1.11 Update RBAC apiVersion from /v1beta1 to /v1"" msgid ""0.1.12 Update RBAC apiVersion from /v1beta1 to /v1"" msgstr ""0.1.12 Update RBAC apiVersion from /v1beta1 to /v1"" msgid ""0.1.13 Change Issuer to ClusterIssuer"" msgstr ""0.1.13 Change Issuer to ClusterIssuer"" msgid ""0.1.14 BUG for deploying multiple compute nodes"" msgstr ""0.1.14 BUG for deploying multiple compute nodes"" msgid ""0.1.15 Mount /dev/pts in Nova compute container"" msgstr ""0.1.15 Mount /dev/pts in Nova compute container"" msgid ""0.1.2 To avoid wrong version check for mysqlclient"" msgstr ""0.1.2 To avoid wrong version check for mysqlclient"" msgid ""0.1.3 Modify Password validator related settings in Horizon"" msgstr ""0.1.3 Modify Password validator related settings in Horizon"" msgid ""0.1.4 Change Issuer to ClusterIssuer"" msgstr ""0.1.4 Change Issuer to ClusterIssuer"" msgid ""0.1.4 Update RBAC apiVersion from /v1beta1 to /v1"" msgstr ""0.1.4 Update RBAC apiVersion from /v1beta1 to /v1"" msgid ""0.1.5 Revert - Change Issuer to ClusterIssuer"" msgstr ""0.1.5 Revert - Change Issuer to ClusterIssuer"" msgid ""0.1.6 Change Issuer to ClusterIssuer"" msgstr ""0.1.6 Change Issuer to ClusterIssuer"" msgid ""0.1.7 Move rabbit-init to dynamic dependency"" msgstr ""0.1.7 Move rabbit-init to dynamic dependency"" msgid ""0.1.9 Add helm.sh/hook related annotations"" msgstr ""0.1.9 Add helm.sh/hook related annotations"" msgid ""0.1.9 Update ovs agent to support host/label overrides"" msgstr ""0.1.9 Update ovs agent to support host/label overrides"" ","""POT-Creation-Date: 2021-02-22 18:37+0000\n""""PO-Revision-Date: 2021-02-17 09:45+0000\n""",52,2
openstack%2Fcharm-vault~master~Iaff0abc373e9f256a47af51f93b8b1b14ace8847,openstack/charm-vault,master,Iaff0abc373e9f256a47af51f93b8b1b14ace8847,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:05:50.000000000,2021-03-03 17:05:27.000000000,2021-03-03 11:02:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:05:50.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2bdaf3d1b9a6eac37c616ef9c8cce6387bc1cfd4', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Iaff0abc373e9f256a47af51f93b8b1b14ace8847\n'}]",0,778328,2bdaf3d1b9a6eac37c616ef9c8cce6387bc1cfd4,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Iaff0abc373e9f256a47af51f93b8b1b14ace8847
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/28/778328/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2bdaf3d1b9a6eac37c616ef9c8cce6387bc1cfd4,hirsute-metadata,- hirsute,,1,0
openstack%2Fneutron~master~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,master,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,MERGED,2021-02-18 12:50:07.000000000,2021-03-03 17:05:21.000000000,2021-03-03 17:00:32.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-18 12:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c447dbc21cdacdcc4ae7a6382d82b5f502ff58fd', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n'}, {'number': 2, 'created': '2021-02-19 09:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e12463c454755f20e5f7e5831cf247714793c2b6', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n'}, {'number': 3, 'created': '2021-02-19 14:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33332ee79ff9655ad860fabc3954a01e303c7f72', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n'}, {'number': 4, 'created': '2021-02-19 16:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b0c9946f15b45fa9be0f9e76b6a9afc10655ac6', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n'}, {'number': 5, 'created': '2021-02-25 14:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4971b8cbe08452e957cfe89e3ec4a954c58b84b6', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n'}, {'number': 6, 'created': '2021-02-27 10:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/464f3966e94698f6ff57eb8a69c7a6d41b5dc7e5', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n'}, {'number': 7, 'created': '2021-03-02 10:45:50.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/662f483120972a373e19bde52f16392e2ccb9c82', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n'}]",16,776427,662f483120972a373e19bde52f16392e2ccb9c82,65,7,7,16688,,,0,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/776427/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py']",2,c447dbc21cdacdcc4ae7a6382d82b5f502ff58fd,bug/1916024," def set_link_status(self, device_name, router_id, namespace=None, link_up=True): try: utils.wait_until_true(ns_dev.exists, timeout=3) except utils.WaitTimeout: if link_up: LOG.warning('Device %s may concurrently be deleted; if this ' 'is not the case, router %s will not work ' 'properly', device_name, router_id) else: LOG.info('Device %s may concurrently be deleted', device_name)"," def set_link_status(self, device_name, namespace=None, link_up=True): if not ns_dev.exists(): LOG.debug(""Device %s may concurrently be deleted."", device_name)",14,5
openstack%2Fpython-openstackclient~master~I186adc8cdf28e9c540ad22bca6684d9dd892976a,openstack/python-openstackclient,master,I186adc8cdf28e9c540ad22bca6684d9dd892976a,compute: Add missing options for 'server group list',MERGED,2021-01-20 18:20:34.000000000,2021-03-03 17:01:52.000000000,2021-03-03 17:01:52.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/22b76c0f71b8cca5fa3a5613bf32b4d6cd9ac5e2', 'message': ""compute: Add missing options for 'server group list'\n\nAdd pagination parameters, '--limit' and '--offset'. It's unfortunate\nthat we can't use '--marker' like elsewhere but that requires\nserver-side support to be truly effective.\n\nChange-Id: I186adc8cdf28e9c540ad22bca6684d9dd892976a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/add-missing-server-group-list-opts-d3c3d98b7f7a56a6.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5ec4d4c7188f4766d270be32e12b64b709d2b835', 'message': ""compute: Add missing options for 'server group list'\n\nAdd pagination parameters, '--limit' and '--offset'. It's unfortunate\nthat we can't use '--marker' like elsewhere but that requires\nserver-side support to be truly effective.\n\nChange-Id: I186adc8cdf28e9c540ad22bca6684d9dd892976a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771688,5ec4d4c7188f4766d270be32e12b64b709d2b835,8,2,2,15334,,,0,"compute: Add missing options for 'server group list'

Add pagination parameters, '--limit' and '--offset'. It's unfortunate
that we can't use '--marker' like elsewhere but that requires
server-side support to be truly effective.

Change-Id: I186adc8cdf28e9c540ad22bca6684d9dd892976a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/88/771688/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/add-missing-server-group-list-opts-d3c3d98b7f7a56a6.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,22b76c0f71b8cca5fa3a5613bf32b4d6cd9ac5e2,osc-first," ('limit', None), ('offset', None), self.server_groups_mock.list.assert_called_once_with() ('limit', None), ('offset', None), self.server_groups_mock.list.assert_called_once_with( all_projects=True) def test_server_group_list_with_limit(self): arglist = [ '--limit', '1', ] verifylist = [ ('all_projects', False), ('long', False), ('limit', 1), ('offset', None), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.server_groups_mock.list.assert_called_once_with(limit=1) def test_server_group_list_with_offset(self): arglist = [ '--offset', '5', ] verifylist = [ ('all_projects', False), ('long', False), ('limit', None), ('offset', 5), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.server_groups_mock.list.assert_called_once_with(offset=5) self.server_groups_mock.list.assert_called_once_with() self.server_groups_mock.list.assert_called_once_with( all_projects=True)", self.server_groups_mock.list.assert_called_once_with(False) self.server_groups_mock.list.assert_called_once_with(True) self.server_groups_mock.list.assert_called_once_with(False) self.server_groups_mock.list.assert_called_once_with(True),85,5
openstack%2Fpython-openstackclient~master~I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f,openstack/python-openstackclient,master,I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f,compute: Add 'server * --all-projects' option,MERGED,2021-01-20 18:20:34.000000000,2021-03-03 17:01:33.000000000,2021-03-03 17:01:33.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5251ecc6e9e6c9636175b112ea9a0c9bf70ed8aa', 'message': ""compute: Add 'server * --all-projects' option\n\nAdd an '--all-projects' option to a number of commands:\n\n- server delete\n- server start\n- server stop\n\nThis is in addition to 'server list', which already supports this\noption.\n\nThis option allows users to request the corresponding action on one or\nmore servers using the server names when that server exists in another\nproject. This is admin-only by default.\n\nAs part of this work, we also introduce a 'boolenv' helper function that\nallows us to parse the environment variable as a boolean using\n'bool_from_string' helper provided by oslo.utils. This could probably be\nclever and it has the unfortunate side effect of modifying the help\ntext in environments where this is configured, but it's good enough for\nnow.  It also appears to add a new dependency, in the form of\noslo.utils, but that dependency was already required by osc-lib and\nprobably more.\n\nChange-Id: I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['requirements.txt', 'releasenotes/notes/server-ops-all-projects-2ce2202cdf617184.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1a6df700be2507bcec760994e64042d03b09ae16', 'message': ""compute: Add 'server * --all-projects' option\n\nAdd an '--all-projects' option to a number of commands:\n\n- server delete\n- server start\n- server stop\n\nThis is in addition to 'server list', which already supports this\noption.\n\nThis option allows users to request the corresponding action on one or\nmore servers using the server names when that server exists in another\nproject. This is admin-only by default.\n\nAs part of this work, we also introduce a 'boolenv' helper function that\nallows us to parse the environment variable as a boolean using\n'bool_from_string' helper provided by oslo.utils. This could probably be\nclever and it has the unfortunate side effect of modifying the help\ntext in environments where this is configured, but it's good enough for\nnow.  It also appears to add a new dependency, in the form of\noslo.utils, but that dependency was already required by osc-lib and\nprobably more.\n\nChange-Id: I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771687,1a6df700be2507bcec760994e64042d03b09ae16,8,2,2,15334,,,0,"compute: Add 'server * --all-projects' option

Add an '--all-projects' option to a number of commands:

- server delete
- server start
- server stop

This is in addition to 'server list', which already supports this
option.

This option allows users to request the corresponding action on one or
more servers using the server names when that server exists in another
project. This is admin-only by default.

As part of this work, we also introduce a 'boolenv' helper function that
allows us to parse the environment variable as a boolean using
'bool_from_string' helper provided by oslo.utils. This could probably be
clever and it has the unfortunate side effect of modifying the help
text in environments where this is configured, but it's good enough for
now.  It also appears to add a new dependency, in the form of
oslo.utils, but that dependency was already required by osc-lib and
probably more.

Change-Id: I4811f8f66dcb14ed99cc1cfb80b00e2d77afe45f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/87/771687/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/server-ops-all-projects-2ce2202cdf617184.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",4,5251ecc6e9e6c9636175b112ea9a0c9bf70ed8aa,osc-first,"from oslo_utils import strutilsdef boolenv(*vars, default=False): """"""Search for the first defined of possibly many bool-like env vars. Returns the first environment variable defined in vars, or returns the default. :param *vars: Arbitrary strings to search for. Case sensitive. :param default: The default to return if no value found. :returns: A boolean corresponding to the value found, else the default if no value found. """""" for v in vars: value = os.environ.get(v, None) if value: return strutils.bool_from_string(value) return default '--all-projects', action='store_true', default=boolenv('ALL_PROJECTS'), help=_( 'Delete server(s) in another project by name (admin only)' '(can be specified using the ALL_PROJECTS envvar)' ), ) parser.add_argument( compute_client.servers, server, all_tenants=parsed_args.all_projects) if not utils.wait_for_delete( compute_client.servers, server_obj.id, callback=_show_progress, ): msg = _('Error deleting server: %s') LOG.error(msg, server_obj.id) default=boolenv('ALL_PROJECTS'), help=_( 'Include all projects (admin only) ' '(can be specified using the ALL_PROJECTS envvar)' ), parser.add_argument( '--all-projects', action='store_true', default=boolenv('ALL_PROJECTS'), help=_( 'Start server(s) in another project by name (admin only)' '(can be specified using the ALL_PROJECTS envvar)' ), ) all_tenants=parsed_args.all_projects, parser.add_argument( '--all-projects', action='store_true', default=boolenv('ALL_PROJECTS'), help=_( 'Stop server(s) in another project by name (admin only)' '(can be specified using the ALL_PROJECTS envvar)' ), ) all_tenants=parsed_args.all_projects,"," compute_client.servers, server) if not utils.wait_for_delete(compute_client.servers, server_obj.id, callback=_show_progress): LOG.error(_('Error deleting server: %s'), server_obj.id) default=bool(int(os.environ.get(""ALL_PROJECTS"", 0))), help=_('Include all projects (admin only)'),",136,8
openstack%2Fkolla-ansible~master~Ic08d461e6fdf91c378a87860765a489c2f86d690,openstack/kolla-ansible,master,Ic08d461e6fdf91c378a87860765a489c2f86d690,[CI] Cinder upgrade testing,MERGED,2020-12-18 20:47:35.000000000,2021-03-03 16:50:12.000000000,2021-03-03 16:47:27.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-12-18 20:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bef63cdde363b2e477d1cc06c020c191bedfef70', 'message': '[WIP] [CI] Cinder upgrade testing\n\nChange-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690\n'}, {'number': 2, 'created': '2020-12-19 08:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6af76a7f5c97e7741d2c51e3eeb2c3230d19dd25', 'message': '[WIP] [CI] Cinder upgrade testing\n\nChange-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690\n'}, {'number': 3, 'created': '2020-12-22 19:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3866087141864f2d2b764476423d8a9e33ecc473', 'message': '[CI] Cinder upgrade testing\n\nTo gain visibility into how our upgrades affect existing Cinder\nvolumes, a new testing path is required.\nThis patch adds it.\n\nAdditionally, it refactors the repeated actions and ensures that\nwe wait for volume deletions as well.\n\nChange-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690\nRelated-Bug: #1904062\n'}, {'number': 4, 'created': '2020-12-23 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abca03313069957dbd302de813a2790499ff729e', 'message': '[CI] Cinder upgrade testing\n\nTo gain visibility into how our upgrades affect existing Cinder\nvolumes, a new testing path is required.\nThis patch adds it.\n\nAdditionally, it refactors the repeated actions and ensures that\nwe wait for volume deletions as well.\n\nChange-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690\nRelated-Bug: #1904062\n'}, {'number': 5, 'created': '2020-12-23 17:07:27.000000000', 'files': ['tests/run.yml', 'tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62b8c6b68413330da032d14b45c6fbd340ec9e2d', 'message': '[CI] Cinder upgrade testing\n\nTo gain visibility into how our upgrades affect existing Cinder\nvolumes, a new testing path is required.\nThis patch adds it.\n\nAdditionally, it refactors the repeated actions and ensures that\nwe wait for volume deletions as well.\n\nChange-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690\nRelated-Bug: #1904062\n'}]",3,767950,62b8c6b68413330da032d14b45c6fbd340ec9e2d,30,5,5,30491,,,0,"[CI] Cinder upgrade testing

To gain visibility into how our upgrades affect existing Cinder
volumes, a new testing path is required.
This patch adds it.

Additionally, it refactors the repeated actions and ensures that
we wait for volume deletions as well.

Change-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690
Related-Bug: #1904062
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/767950/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/test-core-openstack.sh']",2,bef63cdde363b2e477d1cc06c020c191bedfef70,ci-cinder-upgrade-testing,"function create_a_volume { local volume_name=$1 openstack volume create --size 2 $volume_name attempt=1 while [[ $(openstack volume show $volume_name -f value -c status) != ""available"" ]]; do echo ""Volume $volume_name not available yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume $volume_name failed to become available"" openstack volume show $volume_name return 1 fi sleep 10 done } function attach_and_detach_a_volume { local volume_name=$1 local instance_name=$2 openstack server add volume $instance_name $volume_name --device /dev/vdb attempt=1 while [[ $(openstack volume show $volume_name -f value -c status) != ""in-use"" ]]; do echo ""Volume $volume_name not attached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to attach"" openstack volume show $volume_name return 1 fi sleep 10 done openstack server remove volume $instance_name $volume_name attempt=1 while [[ $(openstack volume show $volume_name -f value -c status) != ""available"" ]]; do echo ""Volume $volume_name not detached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to detach"" openstack volume show $volume_name return 1 fi sleep 10 done } create_a_volume test_volume attach_and_detach_a_volume test_volume kolla_boot_test # NOTE(yoctozepto): ideally we would wait for this to really happen as well if [[ $HAS_UPGRADE == 'yes' ]]; then echo ""TESTING: Cinder volume upgrade stability (PHASE: $PHASE)"" if [[ $PHASE == 'deploy' ]]; then create_a_volume permanent_volume elif [[ $PHASE == 'upgrade ']]; then attach_and_detach_a_volume permanent_volume kolla_boot_test # NOTE(yoctozepto): ideally we would wait for this to really happen as well openstack volume delete permanent_volume fi echo ""SUCCESS: Cinder volume upgrade stability (PHASE: $PHASE)"" fi"," openstack volume create --size 2 test_volume attempt=1 while [[ $(openstack volume show test_volume -f value -c status) != ""available"" ]]; do echo ""Volume not available yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to become available"" openstack volume show test_volume return 1 fi sleep 10 done openstack server add volume kolla_boot_test test_volume --device /dev/vdb attempt=1 while [[ $(openstack volume show test_volume -f value -c status) != ""in-use"" ]]; do echo ""Volume not attached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to attach"" openstack volume show test_volume return 1 fi sleep 10 done openstack server remove volume kolla_boot_test test_volume attempt=1 while [[ $(openstack volume show test_volume -f value -c status) != ""available"" ]]; do echo ""Volume not detached yet"" attempt=$((attempt+1)) if [[ $attempt -eq 10 ]]; then echo ""Volume failed to detach"" openstack volume show test_volume return 1 fi sleep 10 done",74,36
openstack%2Fcharm-swift-storage~master~I6d15bbd54d384f3a658eb72418a2895bf9631927,openstack/charm-swift-storage,master,I6d15bbd54d384f3a658eb72418a2895bf9631927,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:05:01.000000000,2021-03-03 16:45:45.000000000,2021-03-03 11:07:19.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:05:01.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/689f3b7dadc0310fd594ebc448f2bda507791463', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I6d15bbd54d384f3a658eb72418a2895bf9631927\n'}]",0,778327,689f3b7dadc0310fd594ebc448f2bda507791463,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I6d15bbd54d384f3a658eb72418a2895bf9631927
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/27/778327/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,689f3b7dadc0310fd594ebc448f2bda507791463,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-neutron-api~master~I3ccae204adce2a0d0d2b2ef8d937b712bd7816d7,openstack/charm-neutron-api,master,I3ccae204adce2a0d0d2b2ef8d937b712bd7816d7,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:59:45.000000000,2021-03-03 16:44:59.000000000,2021-03-03 10:48:25.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:59:45.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5bc7a321fd2659bf1ee26cf64d9c91c0369ffc3f', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I3ccae204adce2a0d0d2b2ef8d937b712bd7816d7\n'}]",0,778303,5bc7a321fd2659bf1ee26cf64d9c91c0369ffc3f,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I3ccae204adce2a0d0d2b2ef8d937b712bd7816d7
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/03/778303/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,5bc7a321fd2659bf1ee26cf64d9c91c0369ffc3f,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fironic~master~I2869bf21f761cfc543798cf1f7d97c5500cd3681,openstack/ironic,master,I2869bf21f761cfc543798cf1f7d97c5500cd3681,Project Scoping Node endpoint,MERGED,2021-02-03 15:10:38.000000000,2021-03-03 16:44:14.000000000,2021-03-03 16:36:40.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-03 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f2db07b613ec5c99118134b0b124a97d78dd0ca', 'message': 'WIP: Project Scoping Node endpoint\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 2, 'created': '2021-02-04 23:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1242bc2ee7ce590d4b535010dc018b86d4eed5f7', 'message': 'WIP: Project Scoping Node endpoint\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 3, 'created': '2021-02-05 22:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0aea3966da08021ddd7e24094886be74cd2e6c44', 'message': 'WIP: Project Scoping Node endpoint\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 4, 'created': '2021-02-09 00:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0bf0004200e265667019b7909d0dc603ab0b302', 'message': 'WIP: Project Scoping Node endpoint\n\n* Adds handling and option to support operators to choose\n  for how the API should respond to project scoped inqueries\n  in the form of [api]prefer_notfound_when_node_exists.\n  This is a separate option and not a hard default change,\n  although, it likely should change in a future release.\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 5, 'created': '2021-02-11 00:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/154101afc0d0e5290d3af7779248b7c3f244691e', 'message': 'Project Scoping Node endpoint\n\n* Adds handling and option to support operators to choose\n  for how the API should respond to project scoped inqueries\n  in the form of [api]prefer_notfound_when_node_exists.\n  This is a separate option and not a hard default change,\n  although, it likely should change in a future release.\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 6, 'created': '2021-02-11 14:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec9a75911ba015ccd11fa0f52d90b022f9928c82', 'message': 'Project Scoping Node endpoint\n\n* Adds handling and option to support operators to choose\n  for how the API should respond to project scoped inqueries\n  in the form of [api]prefer_notfound_when_node_exists.\n  This is a separate option and not a hard default change,\n  although, it likely should change in a future release.\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 7, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee7067ea7df310c34236b2037a7289477815ac10', 'message': 'Project Scoping Node endpoint\n\n* Adds handling and option to support operators to choose\n  for how the API should respond to project scoped inqueries\n  in the form of [api]prefer_notfound_when_node_exists.\n  This is a separate option and not a hard default change,\n  although, it likely should change in a future release.\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 8, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf494c876e4d558d1e8f824e528a30ad2a4bd036', 'message': 'Project Scoping Node endpoint\n\n* Adds handling and option to support operators to choose\n  for how the API should respond to project scoped inqueries\n  in the form of [api]prefer_notfound_when_node_exists.\n  This is a separate option and not a hard default change,\n  although, it likely should change in a future release.\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 9, 'created': '2021-02-22 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2610c5db09a8ff8693b3aba14d2f75a822eb5f7', 'message': 'Project Scoping Node endpoint\n\n* Adds handling and option to support operators to choose\n  for how the API should respond to project scoped inqueries\n  in the form of [api]prefer_notfound_when_node_exists.\n  This is a separate option and not a hard default change,\n  although, it likely should change in a future release.\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 10, 'created': '2021-02-23 19:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1fecb96875655c1c8263a788cd78fb502ae1f0ae', 'message': 'Project Scoping Node endpoint\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 11, 'created': '2021-02-23 20:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb0b675f65e67ad6f7d9a542c505f60f714374ff', 'message': 'Project Scoping Node endpoint\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 12, 'created': '2021-03-01 18:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e29d5decbb1c812087fd34b9468aae05bf6246f', 'message': 'Project Scoping Node endpoint\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 13, 'created': '2021-03-01 18:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbd2a24a0b7df5b3da64b9364ee6953c2e9bf273', 'message': 'Project Scoping Node endpoint\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}, {'number': 14, 'created': '2021-03-02 23:45:29.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_utils.py', 'doc/source/admin/index.rst', 'ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_acl_basic.yaml', 'doc/source/admin/security.rst', 'ironic/api/controllers/v1/bios.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'doc/source/admin/secure-rbac.rst', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/api/controllers/v1/node.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1641468bbc586d3b50c02511159c9de44ae6a9b', 'message': 'Project Scoping Node endpoint\n\n* Adds additional policies:\n  * baremetal:node_get:last_error\n  * baremetal:node:get:reservation\n  * baremetal:node:get:driver_internal_info\n  * baremetal:node:get:driver_info\n  * baremetal:node:update:driver_info\n  * baremetal:node:update:properties\n  * baremetal:node:update:chassis_uuid\n  * baremetal:node:update:instance_uuid\n  * baremetal:node:update:lessee\n  * baremetal:node:update:driver_interfaces\n  * baremetal:node:update:network_data\n  * baremetal:node:update:conductor_group\n  * baremetal:node:update:name\n\n* With new policies, responses of filtering and posted data is\n  performed. Testing has been added to the RBAC testing files\n  to align with this and the defaults where pertinant.\n\n* Adds another variation of the common policy check method\n  which may be useful in the long term. This is too soon to\n  tell, but the overall purpose is to allow similar logic\n  patterns to the authorize behavior. This is because the\n  standard policies are, at present, also used to control\n  behavior of response, and node response sanitization needs\n  to be carefully navigated.\n\nThis change excludes linked resources such as /nodes/<uuid>/ports,\nportgroups, volumes/[targets|connectors]. Those will be in later\nchanges, as the node itself is quite a bit.\n\nSpecial note:\n* The indicator endpoint code in the API appears to be broken\n  and given that should be fixed in a separate patch.\n\nChange-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681\n'}]",28,773924,f1641468bbc586d3b50c02511159c9de44ae6a9b,83,4,14,11655,,,0,"Project Scoping Node endpoint

* Adds additional policies:
  * baremetal:node_get:last_error
  * baremetal:node:get:reservation
  * baremetal:node:get:driver_internal_info
  * baremetal:node:get:driver_info
  * baremetal:node:update:driver_info
  * baremetal:node:update:properties
  * baremetal:node:update:chassis_uuid
  * baremetal:node:update:instance_uuid
  * baremetal:node:update:lessee
  * baremetal:node:update:driver_interfaces
  * baremetal:node:update:network_data
  * baremetal:node:update:conductor_group
  * baremetal:node:update:name

* With new policies, responses of filtering and posted data is
  performed. Testing has been added to the RBAC testing files
  to align with this and the defaults where pertinant.

* Adds another variation of the common policy check method
  which may be useful in the long term. This is too soon to
  tell, but the overall purpose is to allow similar logic
  patterns to the authorize behavior. This is because the
  standard policies are, at present, also used to control
  behavior of response, and node response sanitization needs
  to be carefully navigated.

This change excludes linked resources such as /nodes/<uuid>/ports,
portgroups, volumes/[targets|connectors]. Those will be in later
changes, as the node itself is quite a bit.

Special note:
* The indicator endpoint code in the API appears to be broken
  and given that should be fixed in a separate patch.

Change-Id: I2869bf21f761cfc543798cf1f7d97c5500cd3681
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/773924/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/test_acl.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml']",4,6f2db07b613ec5c99118134b0b124a97d78dd0ca,secure-rbac, assert_status: 500 assert_status: 500 assert_status: 500 assert_status: 500 assert_status: 500 assert_list_length: nodes: 2 headers: *owner_reader_headers assert_list_length:owner_reader_can_get_their_node: path: '/v1/nodes/{owner_node_ident}' method: get headers: *owner_reader_headers assert_status: 200 owner_reader_cannot_get_other_node: lessee_reader_can_get_their_node: path: '/v1/nodes/{lessee_node_ident}' method: get headers: *lessee_reader_headers assert_status: 200, assert_status: 403 skip_reason: policy not implemented assert_status: 403 skip_reason: policy not implemented assert_status: 403 skip_reason: policy not implemented assert_status: 403 skip_reason: policy not implemented assert_status: 403 skip_reason: policy not implemented assert_list_length: 2 skip_reason: policy not implemented skip_reason: policy not implemented headers: *owner_admin_headers skip_reason: policy not implemented skip_reason: policy not implemented skip_reason: policy not implemented assert_list_length: owner_reader_cant_get_other_node: skip_reason: policy not implemented skip_reason: policy not implemented skip_reason: policy not implemented,40,35
openstack%2Fkolla-ansible~master~I575942c8d90441145de78dcb16a2b4c1f172773b,openstack/kolla-ansible,master,I575942c8d90441145de78dcb16a2b4c1f172773b,"Revert ""CI: Temporarily disable rabbitmq internal tls""",MERGED,2020-11-05 09:08:41.000000000,2021-03-03 16:43:29.000000000,2021-03-03 16:38:22.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-11-05 09:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1642116e1f88706376c686558f0550067d8eb42b', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365.\n\nChange-Id: I575942c8d90441145de78dcb16a2b4c1f172773b\nDepends-On: https://review.opendev.org/761194\n'}, {'number': 2, 'created': '2020-11-18 15:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf8083a0843e76bd8ab44491c1039ad1f31673fe', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365.\n\nChange-Id: I575942c8d90441145de78dcb16a2b4c1f172773b\n'}, {'number': 3, 'created': '2020-11-24 12:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9838e9aaa48f2c505bc3899e7f0ed04f9c6dc54', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365.\n\nDepends-On: https://review.opendev.org/761194\n\nChange-Id: I575942c8d90441145de78dcb16a2b4c1f172773b\n'}, {'number': 4, 'created': '2021-02-03 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c8b80b897d43a93fadc441710614b59b5851d842', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365.\n\n#Depends-On: https://review.opendev.org/761194\n\nChange-Id: I575942c8d90441145de78dcb16a2b4c1f172773b\n'}, {'number': 5, 'created': '2021-02-03 17:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2148f15e60a0106cb3d57d87760c324e3e56ef87', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365.\n\nChange-Id: I575942c8d90441145de78dcb16a2b4c1f172773b\n'}, {'number': 6, 'created': '2021-02-16 10:20:47.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/455f2c31477924746c2ab6ecfd6e0fce00798549', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365.\n\nSince RabbitMQ TLS is still not functional in Victoria, it is\nnot enabled for upgrade jobs.\n\nChange-Id: I575942c8d90441145de78dcb16a2b4c1f172773b\n'}]",0,761519,455f2c31477924746c2ab6ecfd6e0fce00798549,56,5,6,14826,,,0,"Revert ""CI: Temporarily disable rabbitmq internal tls""

This reverts commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365.

Since RabbitMQ TLS is still not functional in Victoria, it is
not enabled for upgrade jobs.

Change-Id: I575942c8d90441145de78dcb16a2b4c1f172773b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/761519/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,1642116e1f88706376c686558f0550067d8eb42b,temp_disable_rmq_tls,"rabbitmq_enable_tls: ""yes""","# FIXME(mnasiadka): Re-enable when https://review.opendev.org/#/c/761194/ is merged rabbitmq_enable_tls: ""no""",1,2
openstack%2Fopenstack-helm-infra~master~Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186,openstack/openstack-helm-infra,master,Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186,[mariadb-ingress] Uplift Mariadb-ingress to 0.42.0,MERGED,2021-01-09 16:13:27.000000000,2021-03-03 16:34:49.000000000,2021-03-03 16:32:54.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 28719}, {'_account_id': 30449}, {'_account_id': 31660}]","[{'number': 1, 'created': '2021-01-09 16:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3f40c2fbacc2a7f0589ade860e85147a73102e32', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs, and\nmakes changes to deployment-ingress.yaml, _mariadb-ingress-controller.sh.tpl,\nand files/nginx.tmpl to be compatible with the new version.\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 2, 'created': '2021-01-11 04:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/332996774a9f134e0d35c92d2c577af0b1647da4', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 3, 'created': '2021-01-11 04:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca57fdc8886f3a511e1c0aed7f344728c8a4aa5f', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 4, 'created': '2021-01-11 04:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63ba767b00fbf4399b311205a316eed808a09d3b', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 5, 'created': '2021-01-11 22:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d095b1cc448ad3aa13df8cc02b704f6221f9504a', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 6, 'created': '2021-01-15 21:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/12d5f11bfab9f3d875726417b42708e85a90de02', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 7, 'created': '2021-01-22 20:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91149821b851cbb4d217a0bf47e137fb19fb9671', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 8, 'created': '2021-01-22 21:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40627cec37cc5a496473b00cdebfd755c5cebe22', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 9, 'created': '2021-01-26 15:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/100050182f1dcd108e51503c4f842b06aeb7c233', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 10, 'created': '2021-02-01 18:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4404bcae13a797758b09d46aee97b023ce9e0957', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 11, 'created': '2021-02-02 14:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04761a2eb93a3517422116019d15f67a5743b710', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.32.0\n\nThis PS Uplifts the image to 0.32.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 12, 'created': '2021-02-22 20:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1fdbbd74ab67af5f2fde95b6172d883800ef7d62', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.42.0\n\nThis PS Uplifts the image to 0.42.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 13, 'created': '2021-03-02 00:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63446922a21b5161b3186cce4cf8b68d7b18e66e', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.42.0\n\nThis PS Uplifts the image to 0.42.0 to address CVEs\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 14, 'created': '2021-03-02 00:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/197b8d9ff821c2b597d7559c5c18e1f41f1ff658', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.42.0\n\n- Uplifts the image to nginx 0.42.0 to address CVEs\n- Updates nginx.tmpl accordingly for nginx 0.42.0\n- Adds CLusterRole and labels needed for nginx 0.42.0\n- Updates release notes for mariadb\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}, {'number': 15, 'created': '2021-03-02 02:07:52.000000000', 'files': ['mariadb/templates/deployment-ingress.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/files/nginx.tmpl', 'mariadb/values.yaml', 'mariadb/templates/bin/_mariadb-ingress-controller.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dcd77ceba30261617c585fd7dc102f9dde118c57', 'message': '[mariadb-ingress] Uplift Mariadb-ingress to 0.42.0\n\n- Uplifts the image to nginx 0.42.0 to address CVEs\n- Updates nginx.tmpl accordingly for nginx 0.42.0\n- Adds CLusterRole and labels needed for nginx 0.42.0\n- Updates release notes for mariadb\n\nChange-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186\n'}]",2,770046,dcd77ceba30261617c585fd7dc102f9dde118c57,49,10,15,24816,,,0,"[mariadb-ingress] Uplift Mariadb-ingress to 0.42.0

- Uplifts the image to nginx 0.42.0 to address CVEs
- Updates nginx.tmpl accordingly for nginx 0.42.0
- Adds CLusterRole and labels needed for nginx 0.42.0
- Updates release notes for mariadb

Change-Id: Ie4e2a66873bc130c547ff8f30d8e1b2ee9a62186
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/46/770046/14 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/deployment-ingress.yaml', 'mariadb/Chart.yaml', 'mariadb/files/nginx.tmpl', 'mariadb/values.yaml', 'mariadb/templates/bin/_mariadb-ingress-controller.sh.tpl']",5,3f40c2fbacc2a7f0589ade860e85147a73102e32,mariadb-ingress, find /tmp/ -maxdepth 1 -perm /222|grep -v '^/tmp/$'|tr '\n' '\0' |xargs -0 -n1 -r rm -rfv," find /tmp/ -maxdepth 1 -writable | grep -v ""^/tmp/$"" | xargs -L1 -r rm -rfv --force-namespace-isolation \",843,395
openstack%2Fcharm-nova-cell-controller~master~I306cd021e4038a50dc2763e65da93253edd87e9e,openstack/charm-nova-cell-controller,master,I306cd021e4038a50dc2763e65da93253edd87e9e,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:01:35.000000000,2021-03-03 16:28:12.000000000,2021-03-03 10:52:24.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:01:35.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/86c799ac2fa1cff00f38d22331917a1105b6adf0', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I306cd021e4038a50dc2763e65da93253edd87e9e\n'}]",0,778313,86c799ac2fa1cff00f38d22331917a1105b6adf0,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I306cd021e4038a50dc2763e65da93253edd87e9e
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/13/778313/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,86c799ac2fa1cff00f38d22331917a1105b6adf0,hirsute-metadata,- hirsute,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id3b807955dadf8c99a9f90a96069f85c9d05e18d,openstack/tripleo-heat-templates,stable/train,Id3b807955dadf8c99a9f90a96069f85c9d05e18d,cinder/iscsi backend: remove lvm2-lvmetad.service dependency,ABANDONED,2020-11-02 12:20:20.000000000,2021-03-03 16:27:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-02 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97c3f11b8e2c273e37c2495e3f37a1d1a1325b25', 'message': ""cinder/iscsi backend: remove lvm2-lvmetad.service dependency\n\nWhen using iscsi/lvm backend, we create a systemd service that will help\nto recreate the loop device needed by the LVM setup.\n\nHowever this service was requiring lvm2-lvmetad.service to be exected on\nthe host but this one doesn't exist anymore in RHEL8/centos8. Let's just\nremove it.\n\nChange-Id: Id3b807955dadf8c99a9f90a96069f85c9d05e18d\n(cherry picked from commit 4933d6f3eb35fd2d4785142734931e71c16c5a11)\n""}, {'number': 2, 'created': '2020-11-06 21:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a5093157b7e2d98c84260a2c6d9845bd1fbe9de', 'message': ""cinder/iscsi backend: remove lvm2-lvmetad.service dependency\n\nWhen using iscsi/lvm backend, we create a systemd service that will help\nto recreate the loop device needed by the LVM setup.\n\nHowever this service was requiring lvm2-lvmetad.service to be exected on\nthe host but this one doesn't exist anymore in RHEL8/centos8. Let's just\nremove it.\n\nChange-Id: Id3b807955dadf8c99a9f90a96069f85c9d05e18d\n(cherry picked from commit 4933d6f3eb35fd2d4785142734931e71c16c5a11)\n""}, {'number': 3, 'created': '2021-02-12 15:10:50.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b58ef186d50f521193f3fa560e19e829b015a579', 'message': ""cinder/iscsi backend: remove lvm2-lvmetad.service dependency\n\nWhen using iscsi/lvm backend, we create a systemd service that will help\nto recreate the loop device needed by the LVM setup.\n\nHowever this service was requiring lvm2-lvmetad.service to be exected on\nthe host but this one doesn't exist anymore in RHEL8/centos8. Let's just\nremove it.\n\nChange-Id: Id3b807955dadf8c99a9f90a96069f85c9d05e18d\n(cherry picked from commit 4933d6f3eb35fd2d4785142734931e71c16c5a11)\n""}]",0,760899,b58ef186d50f521193f3fa560e19e829b015a579,10,2,3,3153,,,0,"cinder/iscsi backend: remove lvm2-lvmetad.service dependency

When using iscsi/lvm backend, we create a systemd service that will help
to recreate the loop device needed by the LVM setup.

However this service was requiring lvm2-lvmetad.service to be exected on
the host but this one doesn't exist anymore in RHEL8/centos8. Let's just
remove it.

Change-Id: Id3b807955dadf8c99a9f90a96069f85c9d05e18d
(cherry picked from commit 4933d6f3eb35fd2d4785142734931e71c16c5a11)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/760899/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,97c3f11b8e2c273e37c2495e3f37a1d1a1325b25,lvm-stable/train, Requires=systemd-udev-settle.service After=systemd-udev-settle.service, Requires=lvm2-lvmetad.service systemd-udev-settle.service After=lvm2-lvmetad.service systemd-udev-settle.service,2,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id3b807955dadf8c99a9f90a96069f85c9d05e18d,openstack/tripleo-heat-templates,stable/ussuri,Id3b807955dadf8c99a9f90a96069f85c9d05e18d,cinder/iscsi backend: remove lvm2-lvmetad.service dependency,ABANDONED,2020-11-02 12:20:12.000000000,2021-03-03 16:27:26.000000000,,"[{'_account_id': 10459}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-02 12:20:12.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24c12065b0bab2ba0599bee6262e1215ec1bf03f', 'message': ""cinder/iscsi backend: remove lvm2-lvmetad.service dependency\n\nWhen using iscsi/lvm backend, we create a systemd service that will help\nto recreate the loop device needed by the LVM setup.\n\nHowever this service was requiring lvm2-lvmetad.service to be exected on\nthe host but this one doesn't exist anymore in RHEL8/centos8. Let's just\nremove it.\n\nChange-Id: Id3b807955dadf8c99a9f90a96069f85c9d05e18d\n(cherry picked from commit 4933d6f3eb35fd2d4785142734931e71c16c5a11)\n""}]",0,760898,24c12065b0bab2ba0599bee6262e1215ec1bf03f,17,4,1,3153,,,0,"cinder/iscsi backend: remove lvm2-lvmetad.service dependency

When using iscsi/lvm backend, we create a systemd service that will help
to recreate the loop device needed by the LVM setup.

However this service was requiring lvm2-lvmetad.service to be exected on
the host but this one doesn't exist anymore in RHEL8/centos8. Let's just
remove it.

Change-Id: Id3b807955dadf8c99a9f90a96069f85c9d05e18d
(cherry picked from commit 4933d6f3eb35fd2d4785142734931e71c16c5a11)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/760898/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,24c12065b0bab2ba0599bee6262e1215ec1bf03f,lvm-stable/ussuri, Requires=systemd-udev-settle.service After=systemd-udev-settle.service, Requires=lvm2-lvmetad.service systemd-udev-settle.service After=lvm2-lvmetad.service systemd-udev-settle.service,2,2
openstack%2Fpython-novaclient~master~Ib99fbd820a586c14527ff64b319df0b7a44e1b8b,openstack/python-novaclient,master,Ib99fbd820a586c14527ff64b319df0b7a44e1b8b,Add support for microversion v2.88,MERGED,2021-01-13 10:41:59.000000000,2021-03-03 16:26:03.000000000,2021-03-03 16:23:13.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-01-13 10:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6332e4ecf6571b426488264004e52c1c65407a2e', 'message': ""Add support for microversion v2.88\n\nThe key change here is that the 'GET /os-hypervisors/{id}/uptime' API\nwill now returns a HTTP 404 starting in 2.88. The 'GET\n/os-hypervisors/{id}' will instead now include an 'uptime' value. The\n'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated\nto handle this.\n\nChange-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 15:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ce381e3e2ce0e27ac5d21904264cf58651a0fa77', 'message': ""Add support for microversion v2.88\n\nThe key change here is that the 'GET /os-hypervisors/{id}/uptime' API\nwill now returns a HTTP 404 starting in 2.88. The 'GET\n/os-hypervisors/{id}' will instead now include an 'uptime' value. The\n'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated\nto handle this.\n\nChange-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-10 14:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a182dbec7758328241082c09f24be21e409f4a0f', 'message': ""Add support for microversion v2.88\n\nThe key change here is that the 'GET /os-hypervisors/{id}/uptime' API\nwill now returns a HTTP 404 starting in 2.88. The 'GET\n/os-hypervisors/{id}' will instead now include an 'uptime' value. The\n'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated\nto handle this.\n\nChange-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-02-11 12:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/82ac4cbd624fe4cd99a4bdf67ae24421dc3661dd', 'message': ""Add support for microversion v2.88\n\nThe key change here is that the 'GET /os-hypervisors/{id}/uptime' API\nwill now returns a HTTP 404 starting in 2.88. The 'GET\n/os-hypervisors/{id}' will instead now include an 'uptime' value. The\n'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated\nto handle this.\n\nChange-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-01 10:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a4abf2b4d9eb08f7567c9772195d5331cf914887', 'message': ""Add support for microversion v2.88\n\nThe key change here is that the 'GET /os-hypervisors/{id}/uptime' API\nwill now returns a HTTP 404 starting in 2.88. The 'GET\n/os-hypervisors/{id}' will instead now include an 'uptime' value. The\n'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated\nto handle this.\n\nChange-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-03-01 12:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c501c916c5b274a37f0f2e5d0a996ba87dab42d9', 'message': ""Add support for microversion v2.88\n\nThe key change here is that the 'GET /os-hypervisors/{id}/uptime' API\nwill now returns a HTTP 404 starting in 2.88. The 'GET\n/os-hypervisors/{id}' will instead now include an 'uptime' value. The\n'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated\nto handle this.\n\nChange-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-03-02 12:14:29.000000000', 'files': ['novaclient/tests/unit/v2/test_hypervisors.py', 'releasenotes/notes/microversion-v2_88-d91136020e3a3621.yaml', 'novaclient/v2/shell.py', 'novaclient/__init__.py', 'novaclient/v2/hypervisors.py', 'novaclient/tests/unit/fixture_data/hypervisors.py', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/54d4da112a6e84db5bda497364a49b9debfc2904', 'message': ""Add support for microversion v2.88\n\nThe key change here is that the 'GET /os-hypervisors/{id}/uptime' API\nwill now returns a HTTP 404 starting in 2.88. The 'GET\n/os-hypervisors/{id}' will instead now include an 'uptime' value. The\n'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated\nto handle this.\n\nChange-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",13,770573,54d4da112a6e84db5bda497364a49b9debfc2904,34,5,7,15334,,,0,"Add support for microversion v2.88

The key change here is that the 'GET /os-hypervisors/{id}/uptime' API
will now returns a HTTP 404 starting in 2.88. The 'GET
/os-hypervisors/{id}' will instead now include an 'uptime' value. The
'novaclient.v2.hypervisors.HypervisorManager.uptime' method is updated
to handle this.

Change-Id: Ib99fbd820a586c14527ff64b319df0b7a44e1b8b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/73/770573/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/unit/v2/test_hypervisors.py', 'releasenotes/notes/microversion-v2_88-d91136020e3a3621.yaml', 'novaclient/__init__.py', 'novaclient/v2/hypervisors.py', 'novaclient/tests/unit/fixture_data/hypervisors.py']",5,6332e4ecf6571b426488264004e52c1c65407a2e,bp/modernize-os-hypervisors-api," @staticmethod def _transform_hypervisor_details(hypervisor): """"""Transform a detailed hypervisor view from 2.53 to 2.88."""""" del hypervisor['current_workload'] del hypervisor['disk_available_least'] del hypervisor['free_ram_mb'] del hypervisor['free_disk_gb'] del hypervisor['local_gb'] del hypervisor['local_gb_used'] del hypervisor['memory_mb'] del hypervisor['memory_mb_used'] del hypervisor['running_vms'] del hypervisor['vcpus'] del hypervisor['vcpus_used'] hypervisor['uptime'] = 'fake uptime' api_version = api_versions.APIVersion(self.api_version) { 'id': self.hyper_id_1, 'hypervisor_hostname': 'hyper1', 'state': 'up', 'status': 'enabled', }, { 'id': self.hyper_id_2, 'hypervisor_hostname': 'hyper2', 'state': 'up', 'status': 'enabled', }, 'disk_available_least': 100, 'state': 'up', 'status': 'enabled', 'disk_available_least': 100, 'state': 'up', 'status': 'enabled', if api_version >= api_versions.APIVersion('2.88'): for hypervisor in get_os_hypervisors_detail['hypervisors']: self._transform_hypervisor_details(hypervisor) { 'id': self.hyper_id_1, 'hypervisor_hostname': 'hyper1', 'state': 'up', 'status': 'enabled', }, { 'id': self.hyper_id_2, 'hypervisor_hostname': 'hyper2', 'state': 'up', 'status': 'enabled', }, if api_version >= api_versions.APIVersion('2.53'): if api_version >= api_versions.APIVersion('2.53'): 'state': 'up', 'status': 'enabled', 'state': 'up', 'status': 'enabled', if api_version >= api_versions.APIVersion('2.53'): 'disk_available_least': 100, 'state': 'up', 'status': 'enabled', } } if api_version >= api_versions.APIVersion('2.88'): self._transform_hypervisor_details( get_os_hypervisors_hyper1['hypervisor']) 'uptime': 'fake uptime', 'state': 'up', 'status': 'enabled',class V253(V1): class V288(V253): """"""Fixture data for the os-hypervisors 2.88 API."""""" api_version = '2.88'"," uuid_as_id = (api_versions.APIVersion(self.api_version) >= api_versions.APIVersion('2.53')) {'id': self.hyper_id_1, 'hypervisor_hostname': 'hyper1'}, {'id': self.hyper_id_2, 'hypervisor_hostname': 'hyper2'}, 'disk_available_least': 100 'disk_available_least': 100 {'id': self.hyper_id_1, 'hypervisor_hostname': 'hyper1'}, {'id': self.hyper_id_2, 'hypervisor_hostname': 'hyper2'} if uuid_as_id: if uuid_as_id: if uuid_as_id: 'disk_available_least': 100 } } 'uptime': 'fake uptime'class V2_53(V1):",185,26
openstack%2Fansible-collections-openstack~master~I5d749138a93b2b3bace373348f4e606a8d4667f3,openstack/ansible-collections-openstack,master,I5d749138a93b2b3bace373348f4e606a8d4667f3,ports: add tags support,ABANDONED,2020-12-15 21:03:22.000000000,2021-03-03 16:26:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 21:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/24a8e4a6ffb262bfa678f4107ec2ad5567c8086c', 'message': 'networking/port: add support for tags\n\nWith a new parameter (tags), allow to set tags when creating or\nupdating a port.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/767216\n\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I5d749138a93b2b3bace373348f4e606a8d4667f3\n'}, {'number': 2, 'created': '2020-12-16 22:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7eabc4585ee2b19b372673b7e0da700e15565afe', 'message': 'networking/port: add support for tags\n\nWith a new parameter (tags), allow to set tags when creating or\nupdating a port.\n\nChange-Id: I5d749138a93b2b3bace373348f4e606a8d4667f3\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 3, 'created': '2020-12-18 16:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/25b22e09e2024bbd301cd625062c31ad25f0f635', 'message': 'networks/ports: add tags support\n\nWith a new parameter (tags), allow to set tags when creating or\nupdating a network and a port.\n\nChange-Id: I5d749138a93b2b3bace373348f4e606a8d4667f3\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 4, 'created': '2020-12-21 14:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/75c59039f19844719d46e0eb8a8ef8419b2d488d', 'message': 'networks/ports: add tags support\n\nWith a new parameter (tags), allow to set tags when creating or\nupdating a network and a port.\n\nChange-Id: I5d749138a93b2b3bace373348f4e606a8d4667f3\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 5, 'created': '2020-12-21 15:05:40.000000000', 'files': ['plugins/modules/port.py', 'ci/roles/port/defaults/main.yml', 'ci/roles/port/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4403ca516cf5e4d1833143b992c7ee139d396bd2', 'message': 'ports: add tags support\n\nWith a new parameter (tags), allow to set tags when creating or\nupdating a port.\n\nChange-Id: I5d749138a93b2b3bace373348f4e606a8d4667f3\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}]",3,767219,4403ca516cf5e4d1833143b992c7ee139d396bd2,16,3,5,3153,,,0,"ports: add tags support

With a new parameter (tags), allow to set tags when creating or
updating a port.

Change-Id: I5d749138a93b2b3bace373348f4e606a8d4667f3
Signed-off-by: Emilien Macchi <emilien@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/19/767219/5 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/port.py'],1,24a8e4a6ffb262bfa678f4107ec2ad5567c8086c,port/tag," tags: description: - The list of tags for this port. type: list elements: str# Create a port with tags - openstack.cloud.port: state: present auth: auth_url: https://identity.example.com username: admin password: admin project_name: admin name: port1 network: foo tags: - app1 tags: description: List of tags associated with this port. returned: success type: list compare_list = ['security_groups', 'tags'] 'tags', tags=dict(default=None, type='list', elements='str'),", compare_list = ['security_groups'],25,1
openstack%2Ftripleo-ansible~master~I4d5049ef863c5685b1d817a865a8a44c4429480c,openstack/tripleo-ansible,master,I4d5049ef863c5685b1d817a865a8a44c4429480c,[tripleo_transfer] Convert testing to use delegated driver,MERGED,2021-02-24 19:18:19.000000000,2021-03-03 16:24:03.000000000,2021-03-03 16:24:03.000000000,"[{'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-02-24 19:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/119cb69f664bc52859385ddf9bf68bc9da2336e3', 'message': '[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n'}, {'number': 2, 'created': '2021-02-24 20:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e736c41ccdb31ec784d8fdc3f917a9d67c9ec2a', 'message': '[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n'}, {'number': 3, 'created': '2021-02-25 08:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/516c574f6ff1bf3f26abfacad010f72776d92188', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions. We also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n""}, {'number': 4, 'created': '2021-02-25 08:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/349c9b35e1d741e6feb0b352a4017c7f9b6f633e', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions. We also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n""}, {'number': 5, 'created': '2021-02-25 08:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7aa38bb4eb934d386887400473096ea89d243e56', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions. We also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n""}, {'number': 6, 'created': '2021-03-01 15:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82afa22fbdfcca6a2b7c24dec774f8a173e44139', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions. We also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n""}, {'number': 7, 'created': '2021-03-01 15:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46c320f86b1569a3fad8d2c4f5fa08d853a4b9ae', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n""}, {'number': 8, 'created': '2021-03-01 15:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b01eb05eaf787a1a7fd11a9b182b4b6c30d8823', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n""}, {'number': 9, 'created': '2021-03-01 19:37:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1dadc218514f2f4798c9f8264498f03a805fd76', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n""}]",0,777454,b1dadc218514f2f4798c9f8264498f03a805fd76,21,6,9,6816,,,0,"[tripleo_transfer] Convert testing to use delegated driver

The current driver is podman which creates problems when we
try to use the synchronize module for the file copy between
hosts. To make room for this option, we switch to using the
delegated driver and two inventory hosts (which are localhost)
instead which is more efficient, more portable and opens more
options.

We also add 'any_errors_fatal: true' to the play
arguments to ensure that any error stops the whole test.

The converge playbook is targeted at localhost, rather than
all instances, because that is the way that the role being
tested is used in TripleO.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/777454/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",4,119cb69f664bc52859385ddf9bf68bc9da2336e3,bz/1916162," user: ""{{ lookup('env', 'USER') }}"" tripleo_transfer_src_host: instance1 tripleo_transfer_src_become: false tripleo_transfer_dest_host: instance2 tripleo_transfer_dest_become: false", tripleo_transfer_src_host: overcloud-controller-0 tripleo_transfer_dest_host: overcloud-controller-1,33,108
openstack%2Fopenstacksdk~stable%2Fvictoria~I14f0f1ae5421fd0c53980c79d35f5ea2012ea320,openstack/openstacksdk,stable/victoria,I14f0f1ae5421fd0c53980c79d35f5ea2012ea320,Fix a trivial error in one of the error messages,MERGED,2021-02-25 10:59:57.000000000,2021-03-03 16:21:17.000000000,2021-03-03 16:16:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-02-25 10:59:57.000000000', 'files': ['openstack/config/cloud_region.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e55a094eb3e6a8a13d88d7b55155c1313d402f2', 'message': 'Fix a trivial error in one of the error messages\n\nSome text got inserted in the error message making it sound odd.\n\nSafe to backport.\n\nTrivialFix\n\nChange-Id: I14f0f1ae5421fd0c53980c79d35f5ea2012ea320\n(cherry picked from commit c81c1f61a8d504d83478d64f959bd6171655a6a8)\n'}]",0,777540,2e55a094eb3e6a8a13d88d7b55155c1313d402f2,7,2,1,30491,,,0,"Fix a trivial error in one of the error messages

Some text got inserted in the error message making it sound odd.

Safe to backport.

TrivialFix

Change-Id: I14f0f1ae5421fd0c53980c79d35f5ea2012ea320
(cherry picked from commit c81c1f61a8d504d83478d64f959bd6171655a6a8)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/40/777540/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/config/cloud_region.py'],1,2e55a094eb3e6a8a13d88d7b55155c1313d402f2,fix-trivial-error-in-error-message-stable/victoria,," "" only supports a maximum of""",0,1
openstack%2Fcinder~stable%2Fussuri~Icf9f6409009250f766f619019252617fc9b3e1e7,openstack/cinder,stable/ussuri,Icf9f6409009250f766f619019252617fc9b3e1e7,RBD: Pass bytes type for mon_command inbuf,MERGED,2021-02-25 15:55:21.000000000,2021-03-03 16:07:48.000000000,2021-03-02 21:43:31.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 15:55:21.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1913449-4796b366ae7e871b.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e50570b1dd545852c8890835a4cccd48c57d2ef3', 'message': 'RBD: Pass bytes type for mon_command inbuf\n\nCeph Pacific enforces that bytes instead of str\nare used here.\n\nCloses-Bug: #1913449\nChange-Id: Icf9f6409009250f766f619019252617fc9b3e1e7\n(cherry picked from commit 11704d0e8c4077fe6bc95db164c40857f65d49bb)\n(cherry picked from commit 39ec61c296beb5e20b5183b911f58b793f2d895a)\n'}]",0,777545,e50570b1dd545852c8890835a4cccd48c57d2ef3,24,3,1,4523,,,0,"RBD: Pass bytes type for mon_command inbuf

Ceph Pacific enforces that bytes instead of str
are used here.

Closes-Bug: #1913449
Change-Id: Icf9f6409009250f766f619019252617fc9b3e1e7
(cherry picked from commit 11704d0e8c4077fe6bc95db164c40857f65d49bb)
(cherry picked from commit 39ec61c296beb5e20b5183b911f58b793f2d895a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/777545/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1913449-4796b366ae7e871b.yaml']",3,e50570b1dd545852c8890835a4cccd48c57d2ef3,,--- fixes: - | `Bug 1913449 <https://bugs.launchpad.net/cinder/+bug/1913449>`_: Fix RBD driver _update_volume_stats() failing when using Ceph Pacific python rados libraries. This failed because we were passing a str instead of bytes to cluster.mon_command() ,,13,6
openstack%2Fmagnum~master~Ifb80575c18a34584afddc8b83084702713a802b7,openstack/magnum,master,Ifb80575c18a34584afddc8b83084702713a802b7,[hca] Only build/push stable images if unpublished,MERGED,2020-06-11 10:08:24.000000000,2021-03-03 15:51:20.000000000,2021-03-03 15:47:50.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-06-11 10:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cf463bef6f6ae77470b4aa9b62df5a14ab2d6c62', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 2, 'created': '2020-06-11 10:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/39ea8e43a24200b7d5bc0129510b6e9d4b76eaea', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 3, 'created': '2020-06-11 13:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/242a30ec6720dfb86e8a27df82fd68d8e5113caf', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 4, 'created': '2020-06-20 21:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/266162c51b709a5f49349d58c9d62273aa6cf626', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 5, 'created': '2020-06-20 21:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/195fb02946b72acfcb459cb415d576447e0cc7fd', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 6, 'created': '2020-07-01 09:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7e1bfa996dd75a797acae38340dda8bacd13f4c2', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 7, 'created': '2021-03-03 11:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e0631f40dd4cba658bd08ea5177b06af841f85ce', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 8, 'created': '2021-03-03 12:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e05d392be68b0bbc43a83ef6f35166187caeddc1', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}, {'number': 9, 'created': '2021-03-03 12:21:27.000000000', 'files': ['playbooks/container-builder-vars.yaml', 'playbooks/container-builder.yaml', 'playbooks/container-publish.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ff5759398406d2a8cb34ad4b145c58db87e867a0', 'message': '[hca] Only build/push stable images if unpublished\n\nAt present, the only mechanism we have for publishing a stable heat\ncontainer agent image through manual tagging. This PS aims to automate\nthis through the CI by only building them if they have not already been\npublished. This should allow us to keep better track of which commit was\nused to build a given heat container agent image.\n\nStory: 2007264\nTask: 40045\n\nChange-Id: Ifb80575c18a34584afddc8b83084702713a802b7\n'}]",5,735100,ff5759398406d2a8cb34ad4b145c58db87e867a0,26,4,9,28022,,,0,"[hca] Only build/push stable images if unpublished

At present, the only mechanism we have for publishing a stable heat
container agent image through manual tagging. This PS aims to automate
this through the CI by only building them if they have not already been
published. This should allow us to keep better track of which commit was
used to build a given heat container agent image.

Story: 2007264
Task: 40045

Change-Id: Ifb80575c18a34584afddc8b83084702713a802b7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/00/735100/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/container-builder-vars.yaml', 'playbooks/container-builder.yaml']",2,cf463bef6f6ae77470b4aa9b62df5a14ab2d6c62,hca-stable," - name: ""Check if {{ magnum_repository }}/{{ item.name }}:{{ item.tag }} exists"" docker_image: pull: yes register: register when: not (item.dev | default(false) | bool) ignore_errors: true - name: ""Build {{ magnum_repository }}/{{ item.item.name }}:{{ item.item.tag }} image"" docker_image: path: ""{{ magnum_src_dir }}/dockerfiles/{{ item.item.name }}"" name: ""{{ magnum_repository }}/{{ item.item.name }}"" tag: ""{{ item.item.tag }}"" push: no source: build with_items: ""{{ register.results }}"" when: (item is failed) or (item.item.dev | default(false) | bool)"," - name: ""Build {{ magnum_repository }}/{{ item.name }}:{{ item.tag }} image"" docker_image: path: ""{{ magnum_src_dir }}/dockerfiles/{{ item.name }}"" push: no",19,3
openstack%2Freleases~master~Ief045a21c59f4a11743c9d870eb49caafa10528d,openstack/releases,master,Ief045a21c59f4a11743c9d870eb49caafa10528d,Release final metalsmith for Wallaby,MERGED,2021-03-02 14:47:19.000000000,2021-03-03 15:48:34.000000000,2021-03-03 15:48:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 14:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/93632e12bd187da25e5b2b266b577687ab305076', 'message': 'Release final wallaby for Metalsmith\n\nChange-Id: Ief045a21c59f4a11743c9d870eb49caafa10528d\n'}, {'number': 2, 'created': '2021-03-02 14:47:51.000000000', 'files': ['deliverables/wallaby/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/436a1af50483ae5558617edfe8c2e156e3aa1119', 'message': 'Release final metalsmith for Wallaby\n\nChange-Id: Ief045a21c59f4a11743c9d870eb49caafa10528d\n'}]",0,778197,436a1af50483ae5558617edfe8c2e156e3aa1119,10,6,2,23851,,,0,"Release final metalsmith for Wallaby

Change-Id: Ief045a21c59f4a11743c9d870eb49caafa10528d
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/778197/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/metalsmith.yaml'],1,93632e12bd187da25e5b2b266b577687ab305076,wallaby-lib-freeze, - version: 1.4.2 projects: - repo: openstack/metalsmith hash: 347e756dfe1f167501dacae31eceae96e46c450a,,4,0
openstack%2Freleases~master~Iac5aa5de01a36d32dfa41a8a821874442f6984ca,openstack/releases,master,Iac5aa5de01a36d32dfa41a8a821874442f6984ca,Release final ironic-lib for Wallaby,MERGED,2021-03-01 09:36:30.000000000,2021-03-03 15:48:24.000000000,2021-03-03 15:48:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-03-01 09:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/003ba6b544db89d498ea1d053e7fcb1bf8754d7e', 'message': 'Release final ironic-lib for Wallaby\n\nThis proposed a release for ironic-lib to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 4.5.0..6874b68\ne7a35e4 Remove default parameter from execute\n22a944b Import json_rpc from ironic\nc2786ca Add find_efi_partition, deprecate get_uefi_disk_identifier\nc9ac1c8 Trivial: fix a type in tests\n97affbf Split out a common helper for blkid\n3db78b0 utils.mounted: retry umount and allow retrying mount\n29ca97e Add a helper for getting partition path\nf4ba0a7 keystone: use os_service_type for service_type defaults\n782b85d Import common keystone configuration from ironic\n9a60d38 Handle EBRs and tiny partitions when removing metadata\ndaa5b42 Get rid of oslo.serialization\nbb935f1 Allow binary data for configdrive\n0704bcd Correct base64 error handling\nc9764a2 Update minversion of tox\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Iac5aa5de01a36d32dfa41a8a821874442f6984ca\n'}, {'number': 2, 'created': '2021-03-03 09:57:59.000000000', 'files': ['deliverables/wallaby/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b0e481fbbfcb641de2a1cfaf886fe88a6b0f5988', 'message': 'Release final ironic-lib for Wallaby\n\nThis proposed a release for ironic-lib to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 4.5.0..0ae0ca9\n0ae0ca9 Explicit execute arguments\nc2786ca Add find_efi_partition, deprecate get_uefi_disk_identifier\nc9ac1c8 Trivial: fix a type in tests\n97affbf Split out a common helper for blkid\n3db78b0 utils.mounted: retry umount and allow retrying mount\n29ca97e Add a helper for getting partition path\nf4ba0a7 keystone: use os_service_type for service_type defaults\n782b85d Import common keystone configuration from ironic\n9a60d38 Handle EBRs and tiny partitions when removing metadata\ndaa5b42 Get rid of oslo.serialization\nbb935f1 Allow binary data for configdrive\n0704bcd Correct base64 error handling\nc9764a2 Update minversion of tox\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Iac5aa5de01a36d32dfa41a8a821874442f6984ca\n'}]",1,777945,b0e481fbbfcb641de2a1cfaf886fe88a6b0f5988,16,7,2,28522,,,0,"Release final ironic-lib for Wallaby

This proposed a release for ironic-lib to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 4.5.0..0ae0ca9
0ae0ca9 Explicit execute arguments
c2786ca Add find_efi_partition, deprecate get_uefi_disk_identifier
c9ac1c8 Trivial: fix a type in tests
97affbf Split out a common helper for blkid
3db78b0 utils.mounted: retry umount and allow retrying mount
29ca97e Add a helper for getting partition path
f4ba0a7 keystone: use os_service_type for service_type defaults
782b85d Import common keystone configuration from ironic
9a60d38 Handle EBRs and tiny partitions when removing metadata
daa5b42 Get rid of oslo.serialization
bb935f1 Allow binary data for configdrive
0704bcd Correct base64 error handling
c9764a2 Update minversion of tox

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Iac5aa5de01a36d32dfa41a8a821874442f6984ca
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/777945/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-lib.yaml'],1,003ba6b544db89d498ea1d053e7fcb1bf8754d7e,wallaby-lib-freeze, - version: 4.6.0 projects: - repo: openstack/ironic-lib hash: 6874b6823386095a7ecf3b5cc4cf4c1eb9146242,,4,0
openstack%2Fovn-octavia-provider~master~I6b41b59919494cb428e7429dea8160b4c958fa76,openstack/ovn-octavia-provider,master,I6b41b59919494cb428e7429dea8160b4c958fa76,Return UnsupportedOptionError() on loadbalancer failover,MERGED,2020-10-28 19:04:37.000000000,2021-03-03 15:43:33.000000000,2021-03-03 15:36:19.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-28 19:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/85e4830c01d23815685bfd98ff8ee8206554f612', 'message': ""Return UnsupportedOptionError() on loadbalancer failover\n\nThe core OVN code for Loadbalancers does not support a\nmanual failover from one gateway node to another. But\nrunning the command with the OVN provider driver seems\nto succeed:\n\n$ openstack loadbalancer failover $ID\n(no output)\n\nThe code actually does nothing and just returns the\nprovisioning status as ACTIVE.\n\nSince it's unsupported by the underlying technology,\nhave the provider driver return an UnsupportedOptionError().\n\nChange-Id: I6b41b59919494cb428e7429dea8160b4c958fa76\nCloses-bug: #1901936\n""}, {'number': 2, 'created': '2020-10-28 20:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/90c374a2c9dbe4aa418d995d30e4f6c5f2bd3bc8', 'message': ""Return UnsupportedOptionError() on loadbalancer failover\n\nThe core OVN code for Loadbalancers does not support a\nmanual failover from one gateway node to another. But\nrunning the command with the OVN provider driver seems\nto succeed:\n\n$ openstack loadbalancer failover $ID\n(no output)\n\nThe code actually does nothing and just returns the\nprovisioning status as ACTIVE.\n\nSince it's unsupported by the underlying technology,\nhave the provider driver return an UnsupportedOptionError().\n\nChange-Id: I6b41b59919494cb428e7429dea8160b4c958fa76\nCloses-bug: #1901936\n""}, {'number': 3, 'created': '2020-12-02 19:30:43.000000000', 'files': ['ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a238fafcbf4e9466b93151f6c23821d5fdc21dcc', 'message': ""Return UnsupportedOptionError() on loadbalancer failover\n\nThe core OVN code for Loadbalancers does not support a\nmanual failover from one gateway node to another. But\nrunning the command with the OVN provider driver seems\nto succeed:\n\n$ openstack loadbalancer failover $ID\n(no output)\n\nThe code actually does nothing and just returns the\nprovisioning status as ACTIVE.\n\nSince it's unsupported by the underlying technology,\nhave the provider driver return an UnsupportedOptionError().\n\nChange-Id: I6b41b59919494cb428e7429dea8160b4c958fa76\nCloses-bug: #1901936\n""}]",0,760209,a238fafcbf4e9466b93151f6c23821d5fdc21dcc,18,3,3,1131,,,0,"Return UnsupportedOptionError() on loadbalancer failover

The core OVN code for Loadbalancers does not support a
manual failover from one gateway node to another. But
running the command with the OVN provider driver seems
to succeed:

$ openstack loadbalancer failover $ID
(no output)

The code actually does nothing and just returns the
provisioning status as ACTIVE.

Since it's unsupported by the underlying technology,
have the provider driver return an UnsupportedOptionError().

Change-Id: I6b41b59919494cb428e7429dea8160b4c958fa76
Closes-bug: #1901936
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/09/760209/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py']",4,85e4830c01d23815685bfd98ff8ee8206554f612,bug/1901936," msg = _('OVN provider does not support loadbalancer failover') raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)"," request_info = {'id': loadbalancer_id} request = {'type': ovn_const.REQ_TYPE_LB_FAILOVER, 'info': request_info} self._ovn_helper.add_request(request)",13,14
openstack%2Foctavia-lib~master~Ib057c917b5703bc461630cab394fa36c882d6ea9,openstack/octavia-lib,master,Ib057c917b5703bc461630cab394fa36c882d6ea9,Stop configuring install_command in tox.,MERGED,2020-01-23 19:13:21.000000000,2021-03-03 15:43:32.000000000,2021-03-03 15:34:38.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 19:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/466191f39b4f7a3ef3f6da837931f0ee38285e7c', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: Ib057c917b5703bc461630cab394fa36c882d6ea9\n""}, {'number': 2, 'created': '2020-10-14 18:13:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/de91d1e1ed297e6ec172b1c9453c3694c1b47fea', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: Ib057c917b5703bc461630cab394fa36c882d6ea9\n""}]",1,704054,de91d1e1ed297e6ec172b1c9453c3694c1b47fea,11,3,2,1131,,,0,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: Ib057c917b5703bc461630cab394fa36c882d6ea9
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/54/704054/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,466191f39b4f7a3ef3f6da837931f0ee38285e7c,stop_configuring_install_command,minversion = 3.2.0,minversion = 2.5.0install_command = pip install {opts} {packages},1,2
openstack%2Fovn-octavia-provider~master~I9ae4d8c4bcb00b8ebd6c3633e42d821eff6fada9,openstack/ovn-octavia-provider,master,I9ae4d8c4bcb00b8ebd6c3633e42d821eff6fada9,Enable the IPv6 tempest tests,MERGED,2020-08-06 19:08:57.000000000,2021-03-03 15:40:02.000000000,2021-03-03 15:27:58.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11628}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-06 19:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c91a29513c181614b7a0d6226725d61b0e44ec41', 'message': ""Enable the IPv6 tempest tests\n\nRemove 'test_with_ipv6: False' so that IPv6 tests are not\nskipped.\n\nChange-Id: I9ae4d8c4bcb00b8ebd6c3633e42d821eff6fada9\n""}, {'number': 2, 'created': '2020-09-15 00:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/43bd0819d22f19595ae8c71f9bcd4732d52b49fc', 'message': ""Enable the IPv6 tempest tests\n\nRemove 'test_with_ipv6: False' so that IPv6 tests are not\nskipped.\n\nChange-Id: I9ae4d8c4bcb00b8ebd6c3633e42d821eff6fada9\n""}, {'number': 3, 'created': '2021-02-02 21:39:11.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/15b3ca33312e0a303dd45097a04285862ef35269', 'message': ""Enable the IPv6 tempest tests\n\nRemove 'test_with_ipv6: False' so that IPv6 tests are not\nskipped.\n\nChange-Id: I9ae4d8c4bcb00b8ebd6c3633e42d821eff6fada9\n""}]",0,745205,15b3ca33312e0a303dd45097a04285862ef35269,31,8,3,1131,,,0,"Enable the IPv6 tempest tests

Remove 'test_with_ipv6: False' so that IPv6 tests are not
skipped.

Change-Id: I9ae4d8c4bcb00b8ebd6c3633e42d821eff6fada9
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/05/745205/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c91a29513c181614b7a0d6226725d61b0e44ec41,tempest-enable-ipv6,, test_with_ipv6: False,0,1
openstack%2Foctavia-lib~master~I4d8de05aa8e7d0828957c33bda78038794621e95,openstack/octavia-lib,master,I4d8de05aa8e7d0828957c33bda78038794621e95,Remove unicode to adapt to Python3,MERGED,2021-01-03 03:28:41.000000000,2021-03-03 15:39:55.000000000,2021-03-03 15:31:58.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-03 03:28:41.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/5aa867402f4d03737728af28fc7b96a5527e750b', 'message': 'Remove unicode to adapt to Python3\n\nChange-Id: I4d8de05aa8e7d0828957c33bda78038794621e95\n'}]",0,768945,5aa867402f4d03737728af28fc7b96a5527e750b,13,6,1,29870,,,0,"Remove unicode to adapt to Python3

Change-Id: I4d8de05aa8e7d0828957c33bda78038794621e95
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/45/768945/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,5aa867402f4d03737728af28fc7b96a5527e750b,,"copyright = '2017, OpenStack Developers' 'octavia_lib Release Notes Documentation', 'OpenStack Foundation', 'manual'), 'octavia_lib Release Notes Documentation', ['OpenStack Foundation'], 1) 'octavia_lib Release Notes Documentation', 'OpenStack Foundation', 'octavia_libReleaseNotes',","copyright = u'2017, OpenStack Developers' u'octavia_lib Release Notes Documentation', u'OpenStack Foundation', 'manual'), u'octavia_lib Release Notes Documentation', [u'OpenStack Foundation'], 1) u'octavia_lib Release Notes Documentation', u'OpenStack Foundation', 'octavia_libReleaseNotes',",10,10
openstack%2Fovn-octavia-provider~master~Ifaf376c92d99f17f96e2c9ead2528fea3cf65070,openstack/ovn-octavia-provider,master,Ifaf376c92d99f17f96e2c9ead2528fea3cf65070,Remove work around change for test_port_forwarding,MERGED,2020-12-08 15:07:54.000000000,2021-03-03 15:36:16.000000000,2021-03-03 15:36:16.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 15:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ab54abeac60dbb73dae41438a23f774e1951a3db', 'message': 'Remove work around change for test_port_forwarding\n\nChanges in neutron repo for HashRing caching [1] address the\nwork around added to the octavia functiobnal test. And because\nof that, the in-memory db can be used reliably once again.\n\nThis change partially reverts commit 6cbe0ec51aca054e0c019d752bf99340c835bfc6\n\n[1]: https://review.opendev.org/c/openstack/neutron/+/765874\n\nDepends-On: https://review.opendev.org/#/c/765874/\nChange-Id: Ifaf376c92d99f17f96e2c9ead2528fea3cf65070\n'}, {'number': 2, 'created': '2020-12-08 15:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/728df1b34702748e87ed3b0501e120081e5b1003', 'message': 'Remove work around change for test_port_forwarding\n\nChanges in neutron repo for HashRing caching [1] address the\nwork around added to the octavia functiobnal test. And because\nof that, the in-memory db can be used reliably once again.\n\nThis change partially reverts commit b68d2a78a4b34497e376a7be545a20a23d036191\n\n[1]: https://review.opendev.org/c/openstack/neutron/+/765874\n\nDepends-On: https://review.opendev.org/#/c/765874/\nChange-Id: Ifaf376c92d99f17f96e2c9ead2528fea3cf65070\n'}, {'number': 3, 'created': '2020-12-16 14:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a88fe67549073bbc751487549ea0ff863778fef8', 'message': 'Remove work around change for test_port_forwarding\n\nChanges in neutron repo for HashRing caching [1] address the\nwork around added to the octavia functiobnal test. And because\nof that, the in-memory db can be used reliably once again.\n\nThis change partially reverts commit b68d2a78a4b34497e376a7be545a20a23d036191\n\n[1]: https://review.opendev.org/c/openstack/neutron/+/765874\n\nDepends-On: https://review.opendev.org/#/c/765874/\nChange-Id: Ifaf376c92d99f17f96e2c9ead2528fea3cf65070\n'}, {'number': 4, 'created': '2020-12-16 14:40:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/23f0bede4df2704184122d979e845756863e5340', 'message': 'Remove work around change for test_port_forwarding\n\nChanges in neutron repo for HashRing caching [1] address the\nwork around added to the octavia functional test. And because\nof that, the in-memory db can be used reliably once again.\n\nThis change partially reverts commit b68d2a78a4b34497e376a7be545a20a23d036191\n\n[1]: https://review.opendev.org/c/openstack/neutron/+/765874\n\nDepends-On: https://review.opendev.org/#/c/765874/\nChange-Id: Ifaf376c92d99f17f96e2c9ead2528fea3cf65070\n'}]",2,766014,23f0bede4df2704184122d979e845756863e5340,16,4,4,11952,,,0,"Remove work around change for test_port_forwarding

Changes in neutron repo for HashRing caching [1] address the
work around added to the octavia functional test. And because
of that, the in-memory db can be used reliably once again.

This change partially reverts commit b68d2a78a4b34497e376a7be545a20a23d036191

[1]: https://review.opendev.org/c/openstack/neutron/+/765874

Depends-On: https://review.opendev.org/#/c/765874/
Change-Id: Ifaf376c92d99f17f96e2c9ead2528fea3cf65070
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/14/766014/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ab54abeac60dbb73dae41438a23f774e1951a3db,,, # TODO(flaviof): remove line below when issue with in-memory db is fixed # and functional works w/out this workaround. OS_TEST_DBAPI_ADMIN_CONNECTION=sqlite:///sqlite.db,0,3
openstack%2Fovn-octavia-provider~master~I84ce28a5e5dd4d5d6fffac41098e82faece478f5,openstack/ovn-octavia-provider,master,I84ce28a5e5dd4d5d6fffac41098e82faece478f5,Collect OVN logs,MERGED,2021-01-20 20:18:44.000000000,2021-03-03 15:36:13.000000000,2021-03-03 15:36:13.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 20:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7cd4850a715ec78b993af735b77ad1332f41963b', 'message': 'Collect OVS and OVN logs\n\nMake sure we collect all OVS and OVN logs to help with\ndebugging. Copied from neutron repo job definition.\n\nChange-Id: I84ce28a5e5dd4d5d6fffac41098e82faece478f5\n'}, {'number': 2, 'created': '2021-01-20 21:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2c281969033933ea2632f260b8cee61722eb31a6', 'message': 'Collect OVN logs\n\nMake sure we collect all OVN logs to help with\ndebugging. Copied from neutron repo job definition.\n\nChange-Id: I84ce28a5e5dd4d5d6fffac41098e82faece478f5\n'}, {'number': 3, 'created': '2021-02-05 15:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4e418a1c70f3e3ec6edcd631117966c93a87fdb4', 'message': 'Collect OVN logs\n\nMake sure we collect all OVN logs to help with\ndebugging. Copied from neutron repo job definition.\n\nChange-Id: I84ce28a5e5dd4d5d6fffac41098e82faece478f5\n'}, {'number': 4, 'created': '2021-02-09 03:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b5a0d7cb894f681c7498da930d43a5d0cb9e0958', 'message': 'Collect OVN logs\n\nMake sure we collect all OVN logs to help with\ndebugging. Copied from neutron repo job definition.\n\nChange-Id: I84ce28a5e5dd4d5d6fffac41098e82faece478f5\n'}, {'number': 5, 'created': '2021-02-09 15:48:37.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/13331aaa3e65415486b5bed9b9ebf7211a8f18d4', 'message': 'Collect OVN logs\n\nMake sure we collect all OVN logs to help with\ndebugging. Copied from neutron repo job definition.\n\nChange-Id: I84ce28a5e5dd4d5d6fffac41098e82faece478f5\n'}]",4,771714,13331aaa3e65415486b5bed9b9ebf7211a8f18d4,19,3,5,1131,,,0,"Collect OVN logs

Make sure we collect all OVN logs to help with
debugging. Copied from neutron repo job definition.

Change-Id: I84ce28a5e5dd4d5d6fffac41098e82faece478f5
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/14/771714/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,7cd4850a715ec78b993af735b77ad1332f41963b,copy-ovn-logs, zuul_copy_output: '{{ devstack_base_dir }}/data/ovs': logs '{{ devstack_base_dir }}/data/ovn': logs '/var/log/ovn': logs,,4,0
openstack%2Fcharm-keystone-ldap~master~I40d0500bc8381c39a2ab0c4c3226dbfac3024f4d,openstack/charm-keystone-ldap,master,I40d0500bc8381c39a2ab0c4c3226dbfac3024f4d,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:57:27.000000000,2021-03-03 15:35:09.000000000,2021-03-03 10:32:40.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:57:27.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/41b55bd2fefc591c774ab7213ae2fac097241a25', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I40d0500bc8381c39a2ab0c4c3226dbfac3024f4d\n'}]",0,778293,41b55bd2fefc591c774ab7213ae2fac097241a25,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I40d0500bc8381c39a2ab0c4c3226dbfac3024f4d
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/93/778293/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,41b55bd2fefc591c774ab7213ae2fac097241a25,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fovn-octavia-provider~master~Ibde099db717787d7905d7c7850bebda7e9e261a8,openstack/ovn-octavia-provider,master,Ibde099db717787d7905d7c7850bebda7e9e261a8,Don't try to store protocol=None in OVSDB,MERGED,2021-02-23 19:43:47.000000000,2021-03-03 15:35:00.000000000,2021-03-03 15:27:39.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 19:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/68db7f4e04ca00a2e9cb0cbd28c7e90d302383ed', 'message': ""Don't try to store protocol=None in OVSDB\n\nThe schema for the 'protocol' column is 0 or 1 strings in the set\n('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are\nrepresented by []. Passing None will cause a schema error to be\nthrown, so pass [] instead of None when protocol is not set.\n\nChange-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8\nCloses-Bug: #1916646\n""}, {'number': 2, 'created': '2021-02-23 21:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7fd0020fe201ef0215ff035cc4262b083e07e234', 'message': ""Don't try to store protocol=None in OVSDB\n\nThe schema for the 'protocol' column is 0 or 1 strings in the set\n('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are\nrepresented by []. Passing None will cause a schema error to be\nthrown, so pass [] instead of None when protocol is not set.\n\nChange-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8\nCloses-Bug: #1916646\n""}, {'number': 3, 'created': '2021-02-23 21:04:23.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a641c2c395043cfc0119fafa3f91d3256c120d70', 'message': ""Don't try to store protocol=None in OVSDB\n\nThe schema for the 'protocol' column is 0 or 1 strings in the set\n('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are\nrepresented by []. Passing None will cause a schema error to be\nthrown, so pass [] instead of None when protocol is not set.\n\nChange-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8\nCloses-Bug: #1916646\n""}]",0,777201,a641c2c395043cfc0119fafa3f91d3256c120d70,13,4,3,5756,,,0,"Don't try to store protocol=None in OVSDB

The schema for the 'protocol' column is 0 or 1 strings in the set
('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are
represented by []. Passing None will cause a schema error to be
thrown, so pass [] instead of None when protocol is not set.

Change-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8
Closes-Bug: #1916646
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/01/777201/2 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,68db7f4e04ca00a2e9cb0cbd28c7e90d302383ed,, protocol = protocol.lower() if protocol else [], protocol = protocol.lower() if protocol else None,1,1
openstack%2Foctavia-lib~master~Ie90f09c3c557f9bc3e72afbc957898d17d3b1b1e,openstack/octavia-lib,master,Ie90f09c3c557f9bc3e72afbc957898d17d3b1b1e,Remove babel.cfg,MERGED,2020-11-25 09:40:00.000000000,2021-03-03 15:34:52.000000000,2021-03-03 15:27:14.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-25 09:40:00.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/80b7aed09b383be336699af00f91608a4d2485a1', 'message': 'Remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore.\n\nChange-Id: Ie90f09c3c557f9bc3e72afbc957898d17d3b1b1e\n'}]",0,764144,80b7aed09b383be336699af00f91608a4d2485a1,9,4,1,32029,,,0,"Remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: Ie90f09c3c557f9bc3e72afbc957898d17d3b1b1e
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/44/764144/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,80b7aed09b383be336699af00f91608a4d2485a1,babel,,[compile_catalog] directory = octavia_lib/locale domain = octavia_lib [update_catalog] domain = octavia_lib output_dir = octavia_lib/locale input_file = octavia_lib/locale/octavia_lib.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = octavia_lib/locale/octavia_lib.pot,0,15
openstack%2Freleases~master~I11dc502d5edd8d03c50965228d66e634ec2a851e,openstack/releases,master,I11dc502d5edd8d03c50965228d66e634ec2a851e,Release final os-ken for Wallaby,MERGED,2021-03-02 07:21:24.000000000,2021-03-03 15:32:25.000000000,2021-03-03 15:32:25.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-02 07:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2bf0b991e8870fae783b83a40e0d1f1e90d4b027', 'message': 'Release final os-ken for Wallaby\n\nChange-Id: I11dc502d5edd8d03c50965228d66e634ec2a851e\n'}, {'number': 2, 'created': '2021-03-02 07:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f5ee3eb72c883c26220a001685eaff1ff618bd84', 'message': 'Release final os-ken for Wallaby\n\nChange-Id: I11dc502d5edd8d03c50965228d66e634ec2a851e\n'}, {'number': 3, 'created': '2021-03-02 09:51:43.000000000', 'files': ['deliverables/wallaby/os-ken.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e0395a7f171d9eae06f42cc019ab96b4c9b1354', 'message': 'Release final os-ken for Wallaby\n\nChange-Id: I11dc502d5edd8d03c50965228d66e634ec2a851e\n'}]",0,778144,4e0395a7f171d9eae06f42cc019ab96b4c9b1354,17,5,3,11975,,,0,"Release final os-ken for Wallaby

Change-Id: I11dc502d5edd8d03c50965228d66e634ec2a851e
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/778144/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/os-ken.yaml'],1,2bf0b991e8870fae783b83a40e0d1f1e90d4b027,wallaby-lib-freeze, - version: 1.4.0 projects: - repo: openstack/os-ken hash: 28b0341e481a8d53e8b6b8a70b8a16a08d027e10,,4,0
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I10a1f52dd0698c4347bf7f2a83d85916def73ce0,openstack/ovn-octavia-provider,stable/victoria,I10a1f52dd0698c4347bf7f2a83d85916def73ce0,Set OPERATING_STATUS to ONLINE when pool created with listener,MERGED,2021-02-24 20:11:43.000000000,2021-03-03 15:16:13.000000000,2021-03-03 15:11:59.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 20:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/95f7c0434089b90bbad928634444bf1d9f88ba23', 'message': 'Set OPERATING_STATUS to ONLINE when pool created with listener\n\nThere is a test in octavia tempest API tests, that checks if\npool is in OPERATING_STATUS ONLINE, when it is created with\nlistener. Lets do the same in OVN Octavia provider.\n\nDepends-on: https://review.opendev.org/#/c/745962/\n\nChange-Id: I10a1f52dd0698c4347bf7f2a83d85916def73ce0\nCloses-Bug: #1888646\n(cherry picked from commit 2476204ad40bff1a04c3e91d8d8ea0b203f0ae52)\n'}, {'number': 2, 'created': '2021-02-24 22:12:20.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/67f3d63b95fbfbb5e39eff60c38c772ae624b022', 'message': 'Set OPERATING_STATUS to ONLINE when pool created with listener\n\nThere is a test in octavia tempest API tests, that checks if\npool is in OPERATING_STATUS ONLINE, when it is created with\nlistener. Lets do the same in OVN Octavia provider.\n\nDepends-on: https://review.opendev.org/#/c/745962/\n\nChange-Id: I10a1f52dd0698c4347bf7f2a83d85916def73ce0\nCloses-Bug: #1888646\n(cherry picked from commit 2476204ad40bff1a04c3e91d8d8ea0b203f0ae52)\n'}]",1,777327,67f3d63b95fbfbb5e39eff60c38c772ae624b022,11,3,2,1131,,,0,"Set OPERATING_STATUS to ONLINE when pool created with listener

There is a test in octavia tempest API tests, that checks if
pool is in OPERATING_STATUS ONLINE, when it is created with
listener. Lets do the same in OVN Octavia provider.

Depends-on: https://review.opendev.org/#/c/745962/

Change-Id: I10a1f52dd0698c4347bf7f2a83d85916def73ce0
Closes-Bug: #1888646
(cherry picked from commit 2476204ad40bff1a04c3e91d8d8ea0b203f0ae52)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/27/777327/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,95f7c0434089b90bbad928634444bf1d9f88ba23,bug/1888646-stable/victoria," constants.ONLINE) constants.ONLINE) # Pool without listener set should be OFFLINE self.pool['listener_id'] = None status = self.helper.pool_create(self.pool) self.assertEqual(status['pools'][0]['operating_status'],", constants.OFFLINE),16,3
openstack%2Fmanila-tempest-plugin~master~I17c64b8ffe0538309bdd823c723dbf1176a92754,openstack/manila-tempest-plugin,master,I17c64b8ffe0538309bdd823c723dbf1176a92754,Move share server creation check under admin test suite,MERGED,2021-02-11 07:54:11.000000000,2021-03-03 14:29:07.000000000,2021-03-03 14:29:07.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-02-11 07:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1373e8b04e468225a5bbf77c938172419c625263', 'message': 'Move share server creation check under admin test suite\n\nGetting ""share_server_id"" parameter requires an admin client.\nTherefore it should be placed whithin the admin test suite.\n\nChange-Id: I17c64b8ffe0538309bdd823c723dbf1176a92754\n'}, {'number': 2, 'created': '2021-03-02 14:28:15.000000000', 'files': ['manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ab41ebdd19534eb2dba7106b60b376325f92637d', 'message': 'Move share server creation check under admin test suite\n\nGetting ""share_server_id"" parameter requires an admin client.\nTherefore it should be placed whithin the admin test suite.\n\nChange-Id: I17c64b8ffe0538309bdd823c723dbf1176a92754\n'}]",0,775076,ab41ebdd19534eb2dba7106b60b376325f92637d,19,5,2,19262,,,0,"Move share server creation check under admin test suite

Getting ""share_server_id"" parameter requires an admin client.
Therefore it should be placed whithin the admin test suite.

Change-Id: I17c64b8ffe0538309bdd823c723dbf1176a92754
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/76/775076/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py']",2,1373e8b04e468225a5bbf77c938172419c625263,share_server_dhss," @decorators.idempotent_id('4233b941-a909-4f35-9ec9-753736949dd2') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_ensure_share_server_creation_when_dhss_enabled(self): # This check will ensure that when a share creation request is handled, # if the driver has the ""driver handles share servers"" option enabled, # that a share server will be created, otherwise, not. share_get = self.admin_shares_v2_client.get_share(self.sh['id']) share_server = share_get['share_server_id'] if CONF.share.multitenancy_enabled: self.assertNotEmpty(share_server) else: self.assertEmpty(share_server)",,13,10
openstack%2Freleases~master~If535a6aaec14e1588af913b5705d39cfa46d6423,openstack/releases,master,If535a6aaec14e1588af913b5705d39cfa46d6423,Release final openstacksdk for Wallaby,MERGED,2021-03-01 09:42:42.000000000,2021-03-03 14:21:24.000000000,2021-03-03 14:21:24.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-01 09:42:42.000000000', 'files': ['deliverables/wallaby/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b87ad4371321d5b0dde7ed0b236238585d5b74b3', 'message': ""Release final openstacksdk for Wallaby\n\nThis proposed a release for openstacksdk to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 0.53.0..164231a0\ne30fd860 Improve Ironic API on OpenStack SDK\nc81c1f61 Fix a trivial error in one of the error messages\n5f952298 Add shared file systems support\n3371e2b0 Add compute microversion 2.70\ne9dde292 Add TODO to remove md5 wrapper\n7040bf8c Remove unnecessary string formatting\n63c5f8a9 Drop .json suffix from networking URLs\n10a1ee45 Support Deploy Templates for Ironic API\nb25241cc Change microseconds to total_seconds()\n8442aeab Move 'collections.Mapping' to 'collections.abc'\n4a469fa5 Add ALPN support to load balancer pools\n39d35297 Update Open Telekom Cloud vendor docu\n30116cf3 Complete compute.hypervisor functions\n27536928 encapsulate md5 calls for fips\n78dd1a73 Support SNAP_REAL_HOME when using openstacksdk inside a snap package\nb86edc36 Add id query parameter to sg rules\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: If535a6aaec14e1588af913b5705d39cfa46d6423\n""}]",0,777953,b87ad4371321d5b0dde7ed0b236238585d5b74b3,11,5,1,28522,,,0,"Release final openstacksdk for Wallaby

This proposed a release for openstacksdk to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 0.53.0..164231a0
e30fd860 Improve Ironic API on OpenStack SDK
c81c1f61 Fix a trivial error in one of the error messages
5f952298 Add shared file systems support
3371e2b0 Add compute microversion 2.70
e9dde292 Add TODO to remove md5 wrapper
7040bf8c Remove unnecessary string formatting
63c5f8a9 Drop .json suffix from networking URLs
10a1ee45 Support Deploy Templates for Ironic API
b25241cc Change microseconds to total_seconds()
8442aeab Move 'collections.Mapping' to 'collections.abc'
4a469fa5 Add ALPN support to load balancer pools
39d35297 Update Open Telekom Cloud vendor docu
30116cf3 Complete compute.hypervisor functions
27536928 encapsulate md5 calls for fips
78dd1a73 Support SNAP_REAL_HOME when using openstacksdk inside a snap package
b86edc36 Add id query parameter to sg rules

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: If535a6aaec14e1588af913b5705d39cfa46d6423
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/777953/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstacksdk.yaml'],1,b87ad4371321d5b0dde7ed0b236238585d5b74b3,wallaby-lib-freeze, - version: 0.54.0 projects: - repo: openstack/openstacksdk hash: 164231a0d76d9b49417e1ff4ddc9a280dc8a6535,,4,0
openstack%2Freleases~master~Ifddb0c259bcbed341c67e2a3fccf515c299838a9,openstack/releases,master,Ifddb0c259bcbed341c67e2a3fccf515c299838a9,Add missing extra-ATC for xena,MERGED,2021-03-01 10:35:35.000000000,2021-03-03 14:20:45.000000000,2021-03-03 14:20:45.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 10:35:35.000000000', 'files': ['doc/source/xena/schedule.rst', 'doc/source/xena/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5a63c018e7008188686b6fcb1831807eaad56eb3', 'message': 'Add missing extra-ATC for xena\n\nChange-Id: Ifddb0c259bcbed341c67e2a3fccf515c299838a9\n'}]",0,777979,5a63c018e7008188686b6fcb1831807eaad56eb3,7,3,1,28522,,,0,"Add missing extra-ATC for xena

Change-Id: Ifddb0c259bcbed341c67e2a3fccf515c299838a9
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/777979/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/xena/schedule.rst', 'doc/source/xena/schedule.yaml']",2,5a63c018e7008188686b6fcb1831807eaad56eb3,xena-missing-schedule, x-project: - x-extra-atc-freeze,,15,0
openstack%2Freleases~master~I2029bb7d2cfee207b4f71d881ce249066570560b,openstack/releases,master,I2029bb7d2cfee207b4f71d881ce249066570560b,Release final ovsdbapp for Wallaby,MERGED,2021-03-01 09:47:42.000000000,2021-03-03 14:17:18.000000000,2021-03-03 14:17:18.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f539d73f7b8d97486fd88b2ad5b95a88331f0c58', 'message': 'Release final ovsdbapp for Wallaby\n\nThis proposed a release for ovsdbapp to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 1.8.0..d6383a5\n13b4dd1 Log the name of the command in execute()\n26f24cf Drop py37 and add py38 test\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I2029bb7d2cfee207b4f71d881ce249066570560b\n'}, {'number': 2, 'created': '2021-03-02 07:24:27.000000000', 'files': ['deliverables/wallaby/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eac6d3afd7202327af440102800800c21f9a1ead', 'message': 'Release final ovsdbapp for Wallaby\n\nThis proposed a release for ovsdbapp to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 1.8.0..d6383a5\n13b4dd1 Log the name of the command in execute()\n26f24cf Drop py37 and add py38 test\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I2029bb7d2cfee207b4f71d881ce249066570560b\n'}]",2,777959,eac6d3afd7202327af440102800800c21f9a1ead,13,6,2,28522,,,0,"Release final ovsdbapp for Wallaby

This proposed a release for ovsdbapp to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 1.8.0..d6383a5
13b4dd1 Log the name of the command in execute()
26f24cf Drop py37 and add py38 test

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I2029bb7d2cfee207b4f71d881ce249066570560b
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/777959/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ovsdbapp.yaml'],1,f539d73f7b8d97486fd88b2ad5b95a88331f0c58,wallaby-lib-freeze, - version: 1.9.0 projects: - repo: openstack/ovsdbapp hash: d6383a56e960c7391a31f9129099b5b5d84a56d2,,4,0
openstack%2Fpython-tripleoclient~master~If922ae27db427e79a26964267945f5518fe8f120,openstack/python-tripleoclient,master,If922ae27db427e79a26964267945f5518fe8f120,Add environment variables for better var handling,MERGED,2021-02-18 23:31:38.000000000,2021-03-03 14:17:13.000000000,2021-03-03 05:36:33.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 23:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1bb278a5b5d8c8cdc1e354240e275f92233bdb7b', 'message': 'Add environment variables for better var handling\n\nThis change introduces two new environment variables into the tripleoclient\nansible runner funtion. These variables will ensure that var handling is\ndone in the most performant way possible without requiring the user to\nmake changes to their host level configuration.\n\nAssosiated bug: https://github.com/ansible/ansible/issues/73653\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nRelated-Bug: #1915761\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If922ae27db427e79a26964267945f5518fe8f120\n'}, {'number': 2, 'created': '2021-02-19 16:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f33dd1012e263e0509a07187c300322a3c5cb6a', 'message': 'Add environment variables for better var handling\n\nThis change introduces two new environment variables into the tripleoclient\nansible runner funtion. These variables will ensure that var handling is\ndone in the most performant way possible without requiring the user to\nmake changes to their host level configuration.\n\nAssosiated bug: https://github.com/ansible/ansible/issues/73653\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/776649\nRelated-Bug: #1915761\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If922ae27db427e79a26964267945f5518fe8f120\n'}, {'number': 3, 'created': '2021-02-20 23:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3c168d9b23d67e43cba741bebacdde88dca903a7', 'message': 'Add environment variables for better var handling\n\nThis change introduces two new environment variables into the tripleoclient\nansible runner funtion. These variables will ensure that var handling is\ndone in the most performant way possible without requiring the user to\nmake changes to their host level configuration.\n\nAssosiated bug: https://github.com/ansible/ansible/issues/73653\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/776808\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/776649\nRelated-Bug: #1915761\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If922ae27db427e79a26964267945f5518fe8f120\n'}, {'number': 4, 'created': '2021-02-22 17:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f7d08ec25fe4f8459025218fb69e9d5eb7336d12', 'message': 'Add environment variables for better var handling\n\nThis change introduces two new environment variables into the tripleoclient\nansible runner funtion. These variables will ensure that var handling is\ndone in the most performant way possible without requiring the user to\nmake changes to their host level configuration.\n\nAssosiated bug: https://github.com/ansible/ansible/issues/73653\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/776808\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/776971\nRelated-Bug: #1915761\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If922ae27db427e79a26964267945f5518fe8f120\n'}, {'number': 5, 'created': '2021-02-24 16:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cffca35f7c203efbfb0396c79d8e68c959163cd0', 'message': 'Add environment variables for better var handling\n\nThis change introduces two new environment variables into the tripleoclient\nansible runner funtion. These variables will ensure that var handling is\ndone in the most performant way possible without requiring the user to\nmake changes to their host level configuration.\n\nAssosiated bug: https://github.com/ansible/ansible/issues/73653\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/776808\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/776971\nRelated-Bug: #1915761\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If922ae27db427e79a26964267945f5518fe8f120\n'}, {'number': 6, 'created': '2021-03-02 18:13:48.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5dad0c3576ecf3ac36674bd84a83094e55795c5c', 'message': 'Add environment variables for better var handling\n\nThis change introduces two new environment variables into the tripleoclient\nansible runner funtion. These variables will ensure that var handling is\ndone in the most performant way possible without requiring the user to\nmake changes to their host level configuration.\n\nAssosiated bug: https://github.com/ansible/ansible/issues/73653\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/776808\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/776971\nRelated-Bug: #1915761\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If922ae27db427e79a26964267945f5518fe8f120\n'}]",1,776558,5dad0c3576ecf3ac36674bd84a83094e55795c5c,35,4,6,7353,,,0,"Add environment variables for better var handling

This change introduces two new environment variables into the tripleoclient
ansible runner funtion. These variables will ensure that var handling is
done in the most performant way possible without requiring the user to
make changes to their host level configuration.

Assosiated bug: https://github.com/ansible/ansible/issues/73653
Depends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/776808
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/776971
Related-Bug: #1915761
Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: If922ae27db427e79a26964267945f5518fe8f120
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/58/776558/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,1bb278a5b5d8c8cdc1e354240e275f92233bdb7b,ansible-facts," # Set var handling for better performance env['ANSIBLE_INJECT_FACT_VARS'] = False env['ANSIBLE_VARS_PLUGIN_STAGE'] = 'inventory' env['ANSIBLE_GATHER_SUBSET'] = '!all,min' ",,5,0
openstack%2Freleases~master~I59e4adaf19095ec0569bf86ddf1e4b99f440dda2,openstack/releases,master,I59e4adaf19095ec0569bf86ddf1e4b99f440dda2,Adapt the documentation to use process_auto_release,MERGED,2021-03-01 10:22:17.000000000,2021-03-03 13:54:55.000000000,2021-03-03 13:54:55.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 10:22:17.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc503ba631d44914f58940a93620f68587f15485', 'message': ""Adapt the documentation to use process_auto_release\n\nThe doc is outdated and `list_library_unreleased_changes.sh` produce a\nlist of changes that can't be consumed directly by `process_auto_release`.\n\n`list_library_unreleased_changes` should be updated to only provide\npojects name. `process_auto_release` already provide list of diff so we\ndon't need to duplicate that.\n\nAlso fixing a wrong command name.\n\nChange-Id: I59e4adaf19095ec0569bf86ddf1e4b99f440dda2\n""}]",1,777973,fc503ba631d44914f58940a93620f68587f15485,7,3,1,28522,,,0,"Adapt the documentation to use process_auto_release

The doc is outdated and `list_library_unreleased_changes.sh` produce a
list of changes that can't be consumed directly by `process_auto_release`.

`list_library_unreleased_changes` should be updated to only provide
pojects name. `process_auto_release` already provide list of diff so we
don't need to duplicate that.

Also fixing a wrong command name.

Change-Id: I59e4adaf19095ec0569bf86ddf1e4b99f440dda2
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/777973/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,fc503ba631d44914f58940a93620f68587f15485,fix-doc, ./tools/list_library_unreleased_changes.sh > /tmp/cwiff.log - Clean the generated list to keep projects names only. - Generate the patches by using ``process_auto_releases``:: ./tools/process_auto_releases.sh $SERIES $(cat /tmp/cwiff.log), ./tools/list_library_unrelease_changes.sh,7,1
openstack%2Fpuppet-openstack-integration~master~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,master,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-02 10:55:33.000000000,2021-03-03 13:54:25.000000000,2021-03-03 13:54:25.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2021-03-02 10:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bb5032845e9876ec34c0e5d39f3476073f3829c9', 'message': 'Update the cirros version to 0.5.1\n\nWe are hitting random timeout issues when intances trying to get\nmetadata. This version includes a fix for this [1].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3\n'}, {'number': 2, 'created': '2021-03-02 15:00:50.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/90671b2e0b05ea908a375c5bdb271afb55014870', 'message': 'Update the cirros version to 0.5.1\n\nWe are hitting random timeout issues when intances trying to get\nmetadata. This version includes a fix for this [1].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3\n'}]",0,778164,90671b2e0b05ea908a375c5bdb271afb55014870,11,7,2,16312,,,0,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/64/778164/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp']",3,bb5032845e9876ec34c0e5d39f3476073f3829c9,, source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img', source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img',7,7
openstack%2Fkuryr-kubernetes~master~I3288d849d1ad427b837cda2e07a8c971237cb303,openstack/kuryr-kubernetes,master,I3288d849d1ad427b837cda2e07a8c971237cb303,Fix Subnet retrival when creating Service without Selector,MERGED,2021-03-03 03:18:48.000000000,2021-03-03 13:47:42.000000000,2021-03-03 13:44:54.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-03-03 03:18:48.000000000', 'files': ['kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cc800ae1fc35d4de7dfea1a8aa7e1986d8cf9a51', 'message': ""Fix Subnet retrival when creating Service without Selector\n\nWhen retrieving a Subnet for creating the LB member with OVN\nfor a SVC without selector, only the subnet is retrieved\nwhen it should be the subnet and the cidr, as it's needed\nto verify whether the member ip is present on the cidr.\nThis commit fixes the issue by calling the correct method.\n\nChange-Id: I3288d849d1ad427b837cda2e07a8c971237cb303\nCloses-bug: 1917557\n""}]",0,778355,cc800ae1fc35d4de7dfea1a8aa7e1986d8cf9a51,9,4,1,27032,,,0,"Fix Subnet retrival when creating Service without Selector

When retrieving a Subnet for creating the LB member with OVN
for a SVC without selector, only the subnet is retrieved
when it should be the subnet and the cidr, as it's needed
to verify whether the member ip is present on the cidr.
This commit fixes the issue by calling the correct method.

Change-Id: I3288d849d1ad427b837cda2e07a8c971237cb303
Closes-bug: 1917557
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/778355/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/loadbalancer.py'],1,cc800ae1fc35d4de7dfea1a8aa7e1986d8cf9a51,bug/1917557," self._get_nodes_subnets(), target_ip)"," self._drv_nodes_subnets.get_nodes_subnets(), target_ip)",1,1
openstack%2Fcharm-keystone~master~Ie59209ea8be926c6ddf89fb87e24f938709e44ff,openstack/charm-keystone,master,Ie59209ea8be926c6ddf89fb87e24f938709e44ff,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:57:01.000000000,2021-03-03 13:44:50.000000000,2021-03-03 10:51:18.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:57:01.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2e8d6abcef7335592ab51cb92a083c70a87399f7', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ie59209ea8be926c6ddf89fb87e24f938709e44ff\n'}]",0,778291,2e8d6abcef7335592ab51cb92a083c70a87399f7,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ie59209ea8be926c6ddf89fb87e24f938709e44ff
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/91/778291/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,2e8d6abcef7335592ab51cb92a083c70a87399f7,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fironic~master~I29c2ea987464b5b210808d9ca806292b8ab2ddf4,openstack/ironic,master,I29c2ea987464b5b210808d9ca806292b8ab2ddf4,Initial Project scoped tests,MERGED,2021-01-25 22:56:52.000000000,2021-03-03 13:41:58.000000000,2021-03-01 16:17:23.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-25 22:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07fe7040b766653733c1b91f60b0ea2385f58a55', 'message': 'WIP: Project scoped tests\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 2, 'created': '2021-01-25 23:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60b8e2df471aa6be6c24af10aeb8412c1888f17b', 'message': 'WIP: Project scoped tests\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 3, 'created': '2021-01-27 00:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/21b7829e0363fb4ae4a7620d1f89dde9d82676e3', 'message': 'WIP: Project scoped tests\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 4, 'created': '2021-01-28 01:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/626916d62bb3d310b2613af6788ff97b6ee1e37c', 'message': 'WIP: Project scoped tests\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 5, 'created': '2021-01-29 00:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d809408467e5f8bcf3eb812731fbee4fa8a2539', 'message': 'WIP: Project scoped tests\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 6, 'created': '2021-01-29 22:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f6d7400f2ac1e3e9d732e865d26652dbef93c73', 'message': 'Initial Project scoped tests\n\nThis patch proposes initial tests to perform validations in relation\nto supporting project scope access in a deployment where system scope\nis also delineated.\n\nFor now, these tests have been disabled. The idea being, as we work\nthrough each controller, we turn the appropriate tests on.\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 7, 'created': '2021-02-03 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cac6c29d09f8df301b26bf7f5a597da33c4699ae', 'message': 'Initial Project scoped tests\n\nThis patch proposes initial tests to perform validations in relation\nto supporting project scope access in a deployment where system scope\nis also delineated.\n\nFor now, these tests have been disabled with the exception of tests\nwhose scopes are unexpected to see project scope support.\n\n* conductors\n* drivers\n* chassis\n* deploy_templates\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 8, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2cd2fda7f5ef8a12c91416f7a6b5cb6c367325ac', 'message': 'Initial Project scoped tests\n\nThis patch proposes initial tests to perform validations in relation\nto supporting project scope access in a deployment where system scope\nis also delineated.\n\nFor now, these tests have been disabled with the exception of tests\nwhose scopes are unexpected to see project scope support.\n\n* conductors\n* drivers\n* chassis\n* deploy_templates\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 9, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8df2dc6c9b4930dc6fb00b64c08128bc4add1f8c', 'message': 'Initial Project scoped tests\n\nThis patch proposes initial tests to perform validations in relation\nto supporting project scope access in a deployment where system scope\nis also delineated.\n\nFor now, these tests have been disabled with the exception of tests\nwhose scopes are unexpected to see project scope support.\n\n* conductors\n* drivers\n* chassis\n* deploy_templates\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 10, 'created': '2021-02-22 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f36008a4eb0ee0dd497ddfb75823174a8cee0574', 'message': 'Initial Project scoped tests\n\nThis patch proposes initial tests to perform validations in relation\nto supporting project scope access in a deployment where system scope\nis also delineated.\n\nFor now, these tests have been disabled with the exception of tests\nwhose scopes are unexpected to see project scope support.\n\n* conductors\n* drivers\n* chassis\n* deploy_templates\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}, {'number': 11, 'created': '2021-02-23 20:01:17.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/df69b7d147dc9d69d36c392c5df89760ec4897e3', 'message': 'Initial Project scoped tests\n\nThis patch proposes initial tests to perform validations in relation\nto supporting project scope access in a deployment where system scope\nis also delineated.\n\nFor now, these tests have been disabled with the exception of tests\nwhose scopes are unexpected to see project scope support.\n\n* conductors\n* drivers\n* chassis\n* deploy_templates\n\nChange-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4\n'}]",5,772451,df69b7d147dc9d69d36c392c5df89760ec4897e3,41,3,11,11655,,,0,"Initial Project scoped tests

This patch proposes initial tests to perform validations in relation
to supporting project scope access in a deployment where system scope
is also delineated.

For now, these tests have been disabled with the exception of tests
whose scopes are unexpected to see project scope support.

* conductors
* drivers
* chassis
* deploy_templates

Change-Id: I29c2ea987464b5b210808d9ca806292b8ab2ddf4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/772451/7 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/api/test_rbac_project_scoped.yaml'],1,07fe7040b766653733c1b91f60b0ea2385f58a55,secure-rbac,"values: skip_reason: ""These are fake reference values for YAML templating"" # Project scoped admin token owner_admin_headers: &owner_admin_headers X-Auth-Token: 'owner-admin-token' X-Roles: admin,member,reader X-Project-Id: 70e5e25a-2ca2-4cb1-8ae8-7d8739cee205 # Project scoped other member token. owner_member_headers: &owner_member_headers X-Auth-Token: 'owner-member-token' X-Roles: member,reader X-Project-Id: 70e5e25a-2ca2-4cb1-8ae8-7d8739cee205 # Project scoped reader Token owner_reader_headers: &owner_reader_headers X-Auth-Token: 'owner-reader-token' X-Roles: reader X-Project-Id: 70e5e25a-2ca2-4cb1-8ae8-7d8739cee205 lessee_admin_headers: &lessee_admin_headers X-Auth-Token: 'lessee-admin-token' X-Project-Id: f11853c7-fa9c-4db3-a477-c9d8e0dbbf13 X-Roles: admin,member,reader lessee_member_headers: &lessee_member_headers X-Auth-Token: 'lessee-member-token' X-Project-Id: f11853c7-fa9c-4db3-a477-c9d8e0dbbf13 X-Roles: member,reader lessee_reader_headers: &lessee_reader_headers X-Auth-Token: 'lessee-reader-token' X-Project-Id: f11853c7-fa9c-4db3-a477-c9d8e0dbbf13 X-Roles: reader third_party_admin_headers: &third_party_admin_headers X-Auth-Token: 'other-admin-token' X-Project-Id: ae64129e-b188-4662-b014-4127f4366ee6 X-Roles: admin,member,reader owner_project_id: &owner_project_id 70e5e25a-2ca2-4cb1-8ae8-7d8739cee205 lessee_project_id: &lessee_project_id f11853c7-fa9c-4db3-a477-c9d8e0dbbf13 owned_node_ident: &owned_node_ident f11853c7-fa9c-4db3-a477-c9d8e0dbbf13 lessee_node_ident: &lessee_node_ident <TBD> unowned_node_ident: &unowned_node_ident <TBD> # Nodes - https://docs.openstack.org/api-ref/baremetal/?expanded=#nodes-nodes # Based on nodes_post_admin test. owner_admin_cannot_post_nodes: path: '/v1/nodes' method: post headers: *owner_admin_headers body: &node_post_body name: node driver: fake-driverz assert_status: 403 lessee_admin_cannot_post_nodes: path: '/v1/nodes' method: post headers: *lessee_admin_headers body: *node_post_body assert_status: 403 other_admin_cannot_post_nodes: path: '/v1/nodes' method: post headers: *lessee_admin_headers body: *node_post_body assert_status: 403 # Based on nodes_post_member owner_member_cannot_post_nodes: path: '/v1/nodes' method: post headers: *owner_member_headers body: *node_post_body assert_status: 403 # Based on nodes_post_reader owner_reader_post_reader: path: '/v1/nodes' method: post headers: *owner_reader_headers body: *node_post_body assert_status: 403 # Based on nodes_get_admin # TODO: Create 3 nodes, 2 owned, 1 leased where it is also owned. owner_admin_get_node: path: '/v1/nodes' method: get headers: *owner_admin_headers assert_list_length: 2 assert_status: 200 owner_member_get_node: path: '/v1/nodes' method: get headers: *owner_member_headers assert_list_length: nodes: 2 assert_status: 200 owner_reader_get_node: path: '/v1/nodes' method: get headers: *owner_admin_headers assert_list_length: nodes: 2 assert_status: 200 lessee_admin_get_node: path: '/v1/nodes' method: get headers: *lessee_reader_headers assert_list_length: nodes: 1 assert_status: 200 lessee_member_get_node: path: '/v1/nodes' method: get headers: *lessee_reader_headers assert_list_length: nodes: 1 assert_status: 200 lessee_reader_get_node: path: '/v1/nodes' method: get headers: *lessee_reader_headers assert_list_length: nodes: 1 assert_status: 200 # Tests that no nodes are associated and thus the API # should return an empty list. third_party_admin_get_node: path: '/v1/nodes' method: get headers: *third_party_admin_headers assert_list_length: nodes: 0 assert_status: 200 # Based on nodes_get_node_admin owner_reader_cant_get_other_node: path: '/v1/nodes/{unowned_node_ident}' method: get headers: *owner_reader_headers assert_status: 403 lessee_reader_cant_get_other_node: path: '/v1/nodes/{unowned_node_ident}' method: get headers: *owner_reader_headers assert_status: 403 third_party_admin_cant_get_node: path: '/v1/nodes/{unowned_node_ident}' method: get headers: *owner_reader_headers assert_status: 403 owner_reader_gets_detail: path: '/v1/nodes' method: get headers: *owner_reader_headers assert_list_length: nodes: 2 assert_status: 200 lessee_reader_gets_detail: path: '/v1/nodes' method: get headers: *lessee_reader_headers assert_list_length: nodes: 1 assert_status: 200 third_party_admin_gets_detail: path: '/v1/nodes' method: get headers: *third_party_admin_headers assert_list_length: nodes: 0 assert_status: 200 # nodes_node_ident_patch_admin: path: '/v1/nodes/{node_ident}' method: patch headers: *project_admin_headers body: &extra_patch - op: replace path: /extra value: {'test': 'testing'} assert_status: 503 # owner admin tries to patch node # owner member tries to patch node # owner reader tries to patch node - 403 # lessee admin tries to patch node # lessee member tries to patch node # lessee reader triest to patch node -- 403 # # Question: This becomes a matrix and specific fields # will have rules wrapped around them. # # Don't forget, read/return specific field values is # in the spec. # # owner admin can't delete their nodes # lessee admin can't their nodes # third party admin can't delete a node nodes_node_ident_delete_reader: path: '/v1/nodes/{node_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Node Management - https://docs.openstack.org/api-ref/baremetal/?expanded=#node-management-nodes # NOTE(TheJulia): Most management methods call into the conductor as they # require a task, which means they generally return 503 when the conductor # is mocked. nodes_validate_get_admin: path: '/v1/nodes/{node_ident}/validate' method: get headers: *project_admin_headers assert_status: 503 nodes_validate_get_member: path: '/v1/nodes/{node_ident}/validate' method: get headers: *project_admin_headers assert_status: 503 nodes_validate_get_reader: path: '/v1/nodes/{node_ident}/validate' method: get headers: *owner_reader_headers assert_status: 403 nodes_maintenance_put_admin: path: '/v1/nodes/{node_ident}/maintenance' method: put headers: *project_admin_headers assert_status: 503 nodes_maintenance_put_member: path: '/v1/nodes/{node_ident}/maintenance' method: put headers: *project_admin_headers assert_status: 503 nodes_maintenance_put_reader: path: '/v1/nodes/{node_ident}/maintenance' method: put headers: *owner_reader_headers assert_status: 403 nodes_maintenance_delete_admin: path: '/v1/nodes/{node_ident}/maintenance' method: delete headers: *project_admin_headers assert_status: 503 nodes_maintenance_delete_member: path: '/v1/nodes/{node_ident}/maintenance' method: delete headers: *project_admin_headers assert_status: 503 nodes_maintenance_delete_reader: path: '/v1/nodes/{node_ident}/maintenance' method: delete headers: *owner_reader_headers assert_status: 403 nodes_management_boot_device_put_admin: path: '/v1/nodes/{node_ident}/management/boot_device' method: put headers: *project_admin_headers body: &boot_device_body boot_device: pxe assert_status: 503 nodes_management_boot_device_put_member: path: '/v1/nodes/{node_ident}/management/boot_device' method: put headers: *project_admin_headers body: *boot_device_body assert_status: 503 nodes_management_boot_device_put_reader: path: '/v1/nodes/{node_ident}/management/boot_device' method: put headers: *owner_reader_headers body: *boot_device_body assert_status: 403 nodes_management_boot_device_get_admin: path: '/v1/nodes/{node_ident}/management/boot_device' method: get headers: *project_admin_headers assert_status: 503 nodes_management_boot_device_get_member: path: '/v1/nodes/{node_ident}/management/boot_device' method: get headers: *project_admin_headers assert_status: 503 nodes_management_boot_device_get_reader: path: '/v1/nodes/{node_ident}/management/boot_device' method: get headers: *owner_reader_headers assert_status: 403 nodes_management_boot_device_supported_get_admin: path: '/v1/nodes/{node_ident}/management/boot_device/supported' method: get headers: *project_admin_headers assert_status: 503 nodes_management_boot_device_supported_get_member: path: '/v1/nodes/{node_ident}/management/boot_device/supported' method: get headers: *project_admin_headers assert_status: 503 nodes_management_boot_device_supported_get_reader: path: '/v1/nodes/{node_ident}/management/boot_device/supported' method: get headers: *owner_reader_headers assert_status: 403 nodes_management_inject_nmi_put_admin: path: '/v1/nodes/{node_ident}/management/inject_nmi' method: put headers: *project_admin_headers body: {} assert_status: 503 nodes_management_inject_nmi_put_member: path: '/v1/nodes/{node_ident}/management/inject_nmi' method: put headers: *project_admin_headers body: {} assert_status: 503 nodes_management_inject_nmi_put_reader: path: '/v1/nodes/{node_ident}/management/inject_nmi' method: put headers: *owner_reader_headers body: {} assert_status: 403 nodes_states_get_admin: path: '/v1/nodes/{node_ident}/states' method: get headers: *project_admin_headers assert_status: 200 nodes_states_get_member: path: '/v1/nodes/{node_ident}/states' method: get headers: *project_admin_headers assert_status: 200 nodes_states_get_reader: path: '/v1/nodes/{node_ident}/states' method: get headers: *owner_reader_headers assert_status: 200 nodes_states_power_put_admin: path: '/v1/nodes/{node_ident}/states/power' method: put headers: *project_admin_headers body: &power_body target: ""power on"" assert_status: 503 nodes_states_power_put_member: path: '/v1/nodes/{node_ident}/states/power' method: put headers: *project_admin_headers body: *power_body assert_status: 503 nodes_states_power_put_reader: path: '/v1/nodes/{node_ident}/states/power' method: put headers: *owner_reader_headers body: *power_body assert_status: 403 nodes_states_provision_put_admin: path: '/v1/nodes/{node_ident}/states/provision' method: put headers: *project_admin_headers body: &provision_body target: deploy assert_status: 503 nodes_states_provision_put_member: path: '/v1/nodes/{node_ident}/states/provision' method: put headers: *project_admin_headers body: *provision_body assert_status: 503 nodes_states_provision_put_reader: path: '/v1/nodes/{node_ident}/states/provision' method: put headers: *owner_reader_headers body: *provision_body assert_status: 403 nodes_states_raid_put_admin: path: '/v1/nodes/{node_ident}/states/raid' method: put headers: *project_admin_headers body: &raid_body target_raid_config: logical_disks: - size_gb: 500 is_root_volume: true raid_level: 1 assert_status: 503 nodes_states_raid_put_member: path: '/v1/nodes/{node_ident}/states/raid' method: put headers: *project_admin_headers body: *raid_body assert_status: 503 nodes_states_raid_put_reader: path: '/v1/nodes/{node_ident}/states/raid' method: put headers: *owner_reader_headers body: *raid_body assert_status: 403 nodes_states_console_get_admin: path: '/v1/nodes/{node_ident}/states/console' method: get headers: *project_admin_headers assert_status: 503 nodes_states_console_get_member: path: '/v1/nodes/{node_ident}/states/console' method: get headers: *project_admin_headers assert_status: 503 nodes_states_console_get_admin: path: '/v1/nodes/{node_ident}/states/console' method: get headers: *owner_reader_headers assert_status: 403 nodes_states_console_put_admin: path: '/v1/nodes/{node_ident}/states/console' method: put headers: *project_admin_headers body: &console_body_put enabled: true assert_status: 503 nodes_states_console_put_member: path: '/v1/nodes/{node_ident}/states/console' method: put headers: *project_admin_headers body: *console_body_put assert_status: 503 nodes_states_console_put_reader: path: '/v1/nodes/{node_ident}/states/console' method: put headers: *owner_reader_headers body: *console_body_put assert_status: 403 # Node Traits - https://docs.openstack.org/api-ref/baremetal/?expanded=#node-vendor-passthru-nodes # Calls conductor upon the get as a task is required. nodes_vendor_passthru_methods_get_admin: path: '/v1/nodes/{node_ident}/vendor_passthru/methods' method: get headers: *project_admin_headers assert_status: 503 nodes_vendor_passthru_methods_get_member: path: '/v1/nodes/{node_ident}/vendor_passthru/methods' method: get headers: *project_admin_headers assert_status: 403 nodes_vendor_passthru_methods_get_reader: path: '/v1/nodes/{node_ident}/vendor_passthru/methods' method: get headers: *owner_reader_headers assert_status: 403 nodes_vendor_passthru_get_admin: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: get headers: *project_admin_headers assert_status: 503 nodes_vendor_passthru_get_member: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: get headers: *project_admin_headers assert_status: 403 nodes_vendor_passthru_get_reader: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: get headers: *owner_reader_headers assert_status: 403 nodes_vendor_passthru_post_admin: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: post headers: *project_admin_headers assert_status: 503 nodes_vendor_passthru_post_member: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: post headers: *project_admin_headers assert_status: 403 nodes_vendor_passthru_post_reader: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: post headers: *owner_reader_headers assert_status: 403 nodes_vendor_passthru_put_admin: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: put headers: *project_admin_headers assert_status: 503 nodes_vendor_passthru_put_member: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: put headers: *project_admin_headers assert_status: 403 nodes_vendor_passthru_put_reader: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: put headers: *owner_reader_headers assert_status: 403 nodes_vendor_passthru_delete_admin: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: delete headers: *project_admin_headers assert_status: 503 nodes_vendor_passthru_delete_member: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: delete headers: *project_admin_headers assert_status: 403 nodes_vendor_passthru_delete_reader: path: '/v1/nodes/{node_ident}/vendor_passthru?method=test' method: delete headers: *owner_reader_headers assert_status: 403 # Node Traits - https://docs.openstack.org/api-ref/baremetal/#node-traits-nodes nodes_traits_get_admin: path: '/v1/nodes/{node_ident}/traits' method: get headers: *project_admin_headers assert_status: 200 nodes_traits_get_member: path: '/v1/nodes/{node_ident}/traits' method: get headers: *project_admin_headers assert_status: 200 nodes_traits_get_reader: path: '/v1/nodes/{node_ident}/traits' method: get headers: *owner_reader_headers assert_status: 200 nodes_traits_put_admin: path: '/v1/nodes/{node_ident}/traits' method: put headers: *project_admin_headers assert_status: 503 body: &traits_body traits: - CUSTOM_TRAIT1 - HW_CPU_X86_VMX nodes_traits_put_member: path: '/v1/nodes/{node_ident}/traits' method: put headers: *project_admin_headers assert_status: 503 body: *traits_body nodes_traits_put_reader: path: '/v1/nodes/{node_ident}/traits' method: put headers: *owner_reader_headers assert_status: 403 body: *traits_body nodes_traits_delete_admin: path: '/v1/nodes/{node_ident}/traits/{trait}' method: delete headers: *project_admin_headers assert_status: 503 nodes_traits_delete_member: path: '/v1/nodes/{node_ident}/traits/{trait}' method: delete headers: *project_admin_headers assert_status: 503 nodes_traits_delete_reader: path: '/v1/nodes/{node_ident}/traits/{trait}' method: delete headers: *owner_reader_headers assert_status: 403 nodes_traits_trait_put_admin: path: '/v1/nodes/{node_ident}/traits/CUSTOM_TRAIT2' method: put headers: *project_admin_headers assert_status: 503 nodes_traits_trait_put_member: path: '/v1/nodes/{node_ident}/traits/CUSTOM_TRAIT2' method: put headers: *project_admin_headers assert_status: 503 nodes_traits_trait_put_reader: path: '/v1/nodes/{node_ident}/traits/CUSTOM_TRAIT2' method: put headers: *owner_reader_headers assert_status: 403 nodes_traits_trait_delete_admin: path: '/v1/nodes/{node_ident}/traits/{trait}' method: delete headers: *project_admin_headers assert_status: 503 nodes_traits_trait_delete_member: path: '/v1/nodes/{node_ident}/traits/{trait}' method: delete headers: *project_admin_headers assert_status: 503 nodes_traits_trait_delete_reader: path: '/v1/nodes/{node_ident}/traits/{trait}' method: delete headers: *owner_reader_headers assert_status: 403 # VIFS - https://docs.openstack.org/api-ref/baremetal/#vifs-virtual-interfaces-of-nodes # TODO(TheJulia): VIFS will need fairly exhaustive testing given the use path. # i.e. ensure user has rights to a vif and all. # Apparently the get operation hits the conductor?!? # With mocked conductor 503 is returned. nodes_vifs_get_admin: path: '/v1/nodes/{node_ident}/vifs' method: get headers: *project_admin_headers assert_status: 503 nodes_vifs_get_member: path: '/v1/nodes/{node_ident}/vifs' method: get headers: *project_admin_headers assert_status: 503 nodes_vifs_get_reader: path: '/v1/nodes/{node_ident}/vifs' method: get headers: *owner_reader_headers assert_status: 503 nodes_vifs_post_admin: path: '/v1/nodes/{node_ident}/vifs' method: post headers: *project_admin_headers assert_status: 503 body: &vif_body id: ee21d58f-5de2-4956-85ff-33935ea1ca00 nodes_vifs_post_member: path: '/v1/nodes/{node_ident}/vifs' method: post headers: *project_admin_headers assert_status: 503 body: *vif_body nodes_vifs_post_reader: path: '/v1/nodes/{node_ident}/vifs' method: post headers: *owner_reader_headers assert_status: 403 body: *vif_body # This calls the conductor, hence not status 403. nodes_vifs_node_vif_ident_delete_admin: path: '/v1/nodes/{node_ident}/vifs/{vif_ident}' method: delete headers: *project_admin_headers assert_status: 503 nodes_vifs_node_vif_ident_delete_member: path: '/v1/nodes/{node_ident}/vifs/{vif_ident}' method: delete headers: *project_admin_headers assert_status: 503 nodes_vifs_node_vif_ident_delete_reader: path: '/v1/nodes/{node_ident}/vifs/{vif_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Indicators - https://docs.openstack.org/api-ref/baremetal/#indicators-management nodes_management_indicators_get_allow: path: '/v1/nodes/{node_ident}/management/indicators' method: get skip_reason: 'Not implemented yet' nodes_management_indicators_component_get_allow: path: '/v1/nodes/{node_ident}/management/indicators/{component}' method: get skip_reason: 'Not implemented yet' nodes_management_indicators_component_ind_ident_get_allow: path: '/v1/nodes/{node_ident}/management/indicators/{component}/{ind_ident}' method: get skip_reason: 'Not implemented yet' nodes_management_indicators_component_ind_ident_put_allow: path: '/v1/nodes/{node_ident}/management/indicators/{component}/{ind_ident}' method: put skip_reason: 'Not implemented yet' # Portgroups - https://docs.openstack.org/api-ref/baremetal/#portgroups-portgroups portgroups_get_admin: path: '/v1/portgroups' method: get headers: *project_admin_headers assert_status: 200 portgroups_get_member: path: '/v1/portgroups' method: get headers: *project_admin_headers assert_status: 200 portgroups_get_reader: path: '/v1/portgroups' method: get headers: *owner_reader_headers assert_status: 200 portgroups_post_admin: path: '/v1/portgroups' method: post headers: *project_admin_headers body: &portgroup_body node_uuid: 18a552fb-dcd2-43bf-9302-e4c93287be11 assert_status: 201 portgroups_post_member: path: '/v1/portgroups' method: post headers: *project_admin_headers body: *portgroup_body assert_status: 403 portgroups_post_reader: path: '/v1/portgroups' method: post headers: *owner_reader_headers body: *portgroup_body assert_status: 403 portgroups_detail_get_admin: path: '/v1/portgroups/detail' method: get headers: *project_admin_headers assert_status: 200 portgroups_detail_get_member: path: '/v1/portgroups/detail' method: get headers: *project_admin_headers assert_status: 200 portgroups_detail_get_reader: path: '/v1/portgroups/detail' method: get headers: *owner_reader_headers assert_status: 200 portgroups_portgroup_ident_get_admin: path: '/v1/portgroups/{portgroup_ident}' method: get headers: *project_admin_headers assert_status: 200 portgroups_portgroup_ident_get_member: path: '/v1/portgroups/{portgroup_ident}' method: get headers: *project_admin_headers assert_status: 200 portgroups_portgroup_ident_get_reader: path: '/v1/portgroups/{portgroup_ident}' method: get headers: *owner_reader_headers assert_status: 200 portgroups_portgroup_ident_patch_admin: path: '/v1/portgroups/{portgroup_ident}' method: patch headers: *project_admin_headers body: &portgroup_patch_body - op: replace path: /extra value: {'test': 'testing'} assert_status: 503 portgroups_portgroup_ident_patch_member: path: '/v1/portgroups/{portgroup_ident}' method: patch headers: *project_admin_headers body: *portgroup_patch_body assert_status: 503 portgroups_portgroup_ident_patch_reader: path: '/v1/portgroups/{portgroup_ident}' method: patch headers: *owner_reader_headers body: *portgroup_patch_body assert_status: 403 # NOTE(TheJulia): Calls the conductor, so not 403 to validate # successful access control check. portgroups_portgroup_ident_delete_admin: path: '/v1/portgroups/{portgroup_ident}' method: delete headers: *project_admin_headers assert_status: 503 portgroups_portgroup_ident_delete_member: path: '/v1/portgroups/{portgroup_ident}' method: delete headers: *project_admin_headers assert_status: 403 portgroups_portgroup_ident_delete_reader: path: '/v1/portgroups/{portgroup_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Portgroups by node - https://docs.openstack.org/api-ref/baremetal/#listing-portgroups-by-node-nodes-portgroups nodes_portgroups_get_admin: path: '/v1/nodes/{node_ident}/portgroups' method: get headers: *project_admin_headers assert_status: 200 nodes_portgroups_get_member: path: '/v1/nodes/{node_ident}/portgroups' method: get headers: *project_admin_headers assert_status: 200 nodes_portgroups_get_reader: path: '/v1/nodes/{node_ident}/portgroups' method: get headers: *owner_reader_headers assert_status: 200 nodes_portgroups_detail_get_admin: path: '/v1/nodes/{node_ident}/portgroups/detail' method: get headers: *project_admin_headers assert_status: 200 nodes_portgroups_detail_get_member: path: '/v1/nodes/{node_ident}/portgroups/detail' method: get headers: *project_admin_headers assert_status: 200 nodes_portgroups_detail_get_reader: path: '/v1/nodes/{node_ident}/portgroups/detail' method: get headers: *owner_reader_headers assert_status: 200 # Ports - https://docs.openstack.org/api-ref/baremetal/#ports-ports ports_get_admin: path: '/v1/ports' method: get headers: *project_admin_headers assert_status: 200 ports_get_member: path: '/v1/ports' method: get headers: *project_admin_headers assert_status: 200 ports_get_reader: path: '/v1/ports' method: get headers: *owner_reader_headers assert_status: 200 # NOTE(TheJulia): Returns 400 when the conductor calls are # mocked indicating node lookup failed, which means the access # check was successful. ports_post_admin: path: '/v1/ports' method: post headers: *project_admin_headers assert_status: 400 body: &port_body node_uuid: 68a552fb-dcd2-43bf-9302-e4c93287be16 address: 00:01:02:03:04:05 ports_post_member: path: '/v1/ports' method: post headers: *project_admin_headers assert_status: 403 body: *port_body ports_post_reader: path: '/v1/ports' method: post headers: *owner_reader_headers assert_status: 403 body: *port_body ports_detail_get_admin: path: '/v1/ports/detail' method: get headers: *project_admin_headers assert_status: 200 ports_detail_get_member: path: '/v1/ports/detail' method: get headers: *project_admin_headers assert_status: 200 ports_detail_get_reader: path: '/v1/ports/detail' method: get headers: *owner_reader_headers assert_status: 200 ports_port_id_get_admin: path: '/v1/ports/{port_ident}' method: get headers: *project_admin_headers assert_status: 200 ports_port_id_get_member: path: '/v1/ports/{port_ident}' method: get headers: *project_admin_headers assert_status: 200 ports_port_id_get_reader: path: '/v1/ports/{port_ident}' method: get headers: *owner_reader_headers assert_status: 200 # NOTE(TheJulia): Returns 500 without the ability to update # the conductor. ports_port_id_patch_admin: path: '/v1/ports/{port_ident}' method: patch headers: *project_admin_headers assert_status: 503 body: &port_patch_body - op: replace path: /extra value: {'test': 'testing'} ports_port_id_patch_member: path: '/v1/ports/{port_ident}' method: patch headers: *project_admin_headers assert_status: 503 body: *port_patch_body ports_port_id_patch_reader: path: '/v1/ports/{port_ident}' method: patch headers: *owner_reader_headers assert_status: 403 body: *port_patch_body # NOTE(TheJulia): This call attempts to use the conductor which # is not possible and thus not status of 403. ports_port_id_delete_admin: path: '/v1/ports/{port_ident}' method: delete headers: *project_admin_headers assert_status: 503 ports_port_id_delete_member: path: '/v1/ports/{port_ident}' method: delete headers: *project_admin_headers assert_status: 403 ports_port_id_delete_reader: path: '/v1/ports/{port_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Ports by node - https://docs.openstack.org/api-ref/baremetal/#listing-ports-by-node-nodes-ports nodes_ports_get_admin: path: '/v1/nodes/{node_ident}/ports' method: get headers: *project_admin_headers assert_status: 200 nodes_ports_get_member: path: '/v1/nodes/{node_ident}/ports' method: get headers: *project_admin_headers assert_status: 200 nodes_ports_get_reader: path: '/v1/nodes/{node_ident}/ports' method: get headers: *owner_reader_headers assert_status: 200 nodes_ports_detail_get_admin: path: '/v1/nodes/{node_ident}/ports/detail' method: get headers: *project_admin_headers assert_status: 200 nodes_ports_detail_get_member: path: '/v1/nodes/{node_ident}/ports/detail' method: get headers: *project_admin_headers assert_status: 200 nodes_ports_detail_get_reader: path: '/v1/nodes/{node_ident}/ports/detail' method: get headers: *owner_reader_headers assert_status: 200 # Ports by portgroup - https://docs.openstack.org/api-ref/baremetal/#listing-ports-by-portgroup-portgroup-ports portgroups_ports_get_admin: path: '/v1/portgroups/{portgroup_ident}/ports' method: get headers: *project_admin_headers assert_status: 200 portgroups_ports_get_member: path: '/v1/portgroups/{portgroup_ident}/ports' method: get headers: *project_admin_headers assert_status: 200 portgroups_ports_get_reader: path: '/v1/portgroups/{portgroup_ident}/ports' method: get headers: *owner_reader_headers assert_status: 200 portgroups_ports_detail_get_admin: path: '/v1/portgroups/{portgroup_ident}/ports/detail' method: get headers: *project_admin_headers assert_status: 200 portgroups_ports_detail_get_member: path: '/v1/portgroups/{portgroup_ident}/ports/detail' method: get headers: *project_admin_headers assert_status: 200 portgroups_ports_detail_get_reader: path: '/v1/portgroups/{portgroup_ident}/ports/detail' method: get headers: *owner_reader_headers assert_status: 200 # Volume(s) - https://docs.openstack.org/api-ref/baremetal/#volume-volume # TODO(TheJulia): volumes will likely need some level of exhaustive testing. # i.e. ensure that the volume is permissible. However this may not be possible # here. volume_get_admin: path: '/v1/volume' method: get headers: *project_admin_headers assert_status: 200 volume_get_member: path: '/v1/volume' method: get headers: *project_admin_headers assert_status: 200 volume_get_reader: path: '/v1/volume' method: get headers: *owner_reader_headers assert_status: 200 # Volume connectors volume_connectors_get_admin: path: '/v1/volume/connectors' method: get headers: *project_admin_headers assert_status: 200 volume_connectors_get_member: path: '/v1/volume/connectors' method: get headers: *project_admin_headers assert_status: 200 volume_connectors_get_reader: path: '/v1/volume/connectors' method: get headers: *owner_reader_headers assert_status: 200 # NOTE(TheJulia): This ends up returning a 400 due to the # UUID not already being in ironic. volume_connectors_post_admin: path: '/v1/volume/connectors' method: post headers: *project_admin_headers assert_status: 400 body: &volume_connector_body node_uuid: 68a552fb-dcd2-43bf-9302-e4c93287be16 type: ip connector_id: 192.168.1.100 # If nova-compute is to operate as member rights, it needs to be able # to add volumes. volume_connectors_post_member: path: '/v1/volume/connectors' method: post headers: *project_admin_headers assert_status: 400 body: *volume_connector_body volume_connectors_post_reader: path: '/v1/volume/connectors' method: post headers: *owner_reader_headers assert_status: 403 body: *volume_connector_body volume_volume_connector_id_get_admin: path: '/v1/volume/connectors/{volume_connector_ident}' method: get headers: *project_admin_headers assert_status: 200 volume_volume_connector_id_get_member: path: '/v1/volume/connectors/{volume_connector_ident}' method: get headers: *project_admin_headers assert_status: 200 volume_volume_connector_id_get_reader: path: '/v1/volume/connectors/{volume_connector_ident}' method: get headers: *owner_reader_headers assert_status: 200 volume_volume_connector_id_patch_admin: path: '/v1/volume/connectors/{volume_connector_ident}' method: patch headers: *project_admin_headers body: &connector_patch_body - op: replace path: /extra value: {'test': 'testing'} assert_status: 503 volume_volume_connector_id_patch_member: path: '/v1/volume/connectors/{volume_connector_ident}' method: patch headers: *project_admin_headers body: *connector_patch_body assert_status: 503 volume_volume_connector_id_patch_reader: path: '/v1/volume/connectors/{volume_connector_ident}' method: patch headers: *owner_reader_headers body: *connector_patch_body assert_status: 403 volume_volume_connector_id_delete_admin: path: '/v1/volume/connectors/{volume_connector_ident}' method: delete headers: *project_admin_headers assert_status: 503 volume_volume_connector_id_delete_member: path: '/v1/volume/connectors/{volume_connector_ident}' method: delete headers: *project_admin_headers assert_status: 503 volume_volume_connector_id_delete_reader: path: '/v1/volume/connectors/{volume_connector_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Volume targets volume_targets_get_admin: path: '/v1/volume/targets' method: get headers: *project_admin_headers assert_status: 200 volume_targets_get_member: path: '/v1/volume/targets' method: get headers: *project_admin_headers assert_status: 200 volume_targets_get_reader: path: '/v1/volume/targets' method: get headers: *owner_reader_headers assert_status: 200 # NOTE(TheJulia): Because we can't seem to get the uuid # to load from an existing uuid, since we're not subsituting # it, this will return with 400 due to the ID not matching. volume_targets_post_admin: path: '/v1/volume/targets' method: post headers: *project_admin_headers assert_status: 400 body: &volume_target_body node_uuid: 68a552fb-dcd2-43bf-9302-e4c93287be16 volume_type: iscsi boot_index: 0 volume_id: 'test-id' volume_targets_post_member: path: '/v1/volume/targets' method: post headers: *project_admin_headers assert_status: 400 body: *volume_target_body volume_targets_post_reader: path: '/v1/volume/targets' method: post headers: *owner_reader_headers assert_status: 403 body: *volume_target_body volume_volume_target_id_get_admin: path: '/v1/volume/targets/{volume_target_ident}' method: get headers: *project_admin_headers assert_status: 200 volume_volume_target_id_get_member: path: '/v1/volume/targets/{volume_target_ident}' method: get headers: *project_admin_headers assert_status: 200 volume_volume_target_id_get_reader: path: '/v1/volume/targets/{volume_target_ident}' method: get headers: *owner_reader_headers assert_status: 200 # NOTE(TheJulia): This triggers a call to the conductor and # thus will fail, but does not return a 403 which means success. volume_volume_target_id_patch_admin: path: '/v1/volume/targets/{volume_target_ident}' method: patch body: &volume_target_patch - op: replace path: /extra value: {'test': 'testing'} headers: *project_admin_headers assert_status: 503 volume_volume_target_id_patch_admin: path: '/v1/volume/targets/{volume_target_ident}' method: patch body: *volume_target_patch headers: *project_admin_headers assert_status: 503 volume_volume_target_id_patch_reader: path: '/v1/volume/targets/{volume_target_ident}' method: patch body: *volume_target_patch headers: *owner_reader_headers assert_status: 403 volume_volume_target_id_delete_admin: path: '/v1/volume/targets/{volume_target_ident}' method: delete headers: *project_admin_headers assert_status: 503 volume_volume_target_id_delete_member: path: '/v1/volume/targets/{volume_target_ident}' method: delete headers: *project_admin_headers assert_status: 503 volume_volume_target_id_delete_reader: path: '/v1/volume/targets/{volume_target_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Get Volumes by Node - https://docs.openstack.org/api-ref/baremetal/#listing-volume-resources-by-node-nodes-volume nodes_volume_get_admin: path: '/v1/nodes/{node_ident}/volume' method: get headers: *project_admin_headers assert_status: 200 nodes_volume_get_member: path: '/v1/nodes/{node_ident}/volume' method: get headers: *project_admin_headers assert_status: 200 nodes_volume_get_reader: path: '/v1/nodes/{node_ident}/volume' method: get headers: *owner_reader_headers assert_status: 200 nodes_volume_connectors_get_admin: path: '/v1/nodes/{node_ident}/volume/connectors' method: get headers: *project_admin_headers assert_status: 200 nodes_volume_connectors_get_member: path: '/v1/nodes/{node_ident}/volume/connectors' method: get headers: *project_admin_headers assert_status: 200 nodes_volume_connectors_get_reader: path: '/v1/nodes/{node_ident}/volume/connectors' method: get headers: *owner_reader_headers assert_status: 200 nodes_volume_targets_get_admin: path: '/v1/nodes/{node_ident}/volume/targets' method: get headers: *project_admin_headers assert_status: 200 nodes_volume_targets_get_member: path: '/v1/nodes/{node_ident}/volume/targets' method: get headers: *project_admin_headers assert_status: 200 nodes_volume_targets_get_reader: path: '/v1/nodes/{node_ident}/volume/targets' method: get headers: *owner_reader_headers assert_status: 200 # Drivers - https://docs.openstack.org/api-ref/baremetal/#drivers-drivers drivers_get_admin: path: '/v1/drivers' method: get headers: *project_admin_headers assert_status: 200 drivers_get_member: path: '/v1/drivers' method: get headers: *project_admin_headers assert_status: 200 drivers_get_reader: path: '/v1/drivers' method: get headers: *owner_reader_headers assert_status: 200 drivers_driver_name_get_admin: path: '/v1/drivers/{driver_name}' method: get headers: *project_admin_headers assert_status: 404 drivers_driver_name_get_member: path: '/v1/drivers/{driver_name}' method: get headers: *project_admin_headers assert_status: 404 drivers_driver_name_get_reader: path: '/v1/drivers/{driver_name}' method: get headers: *owner_reader_headers assert_status: 404 drivers_properties_get_admin: path: '/v1/drivers/{driver_name}/properties' method: get headers: *project_admin_headers assert_status: 404 drivers_properties_get_member: path: '/v1/drivers/{driver_name}/properties' method: get headers: *project_admin_headers assert_status: 404 drivers_properties_get_reader: path: '/v1/drivers/{driver_name}/properties' method: get headers: *owner_reader_headers assert_status: 404 drivers_raid_logical_disk_properties_get_admin: path: '/v1/drivers/{driver_name}/raid/logical_disk_properties' method: get headers: *project_admin_headers assert_status: 404 drivers_raid_logical_disk_properties_get_member: path: '/v1/drivers/{driver_name}/raid/logical_disk_properties' method: get headers: *project_admin_headers assert_status: 404 drivers_raid_logical_disk_properties_get_reader: path: '/v1/drivers/{driver_name}/raid/logical_disk_properties' method: get headers: *owner_reader_headers assert_status: 404 # Driver vendor passthru - https://docs.openstack.org/api-ref/baremetal/#driver-vendor-passthru-drivers drivers_vendor_passthru_methods_get_admin: path: '/v1/drivers/{driver_name}/vendor_passthru/methods' method: get headers: *project_admin_headers assert_status: 404 drivers_vendor_passthru_methods_get_member: path: '/v1/drivers/{driver_name}/vendor_passthru/methods' method: get headers: *project_admin_headers assert_status: 403 drivers_vendor_passthru_methods_get_reader: path: '/v1/drivers/{driver_name}/vendor_passthru/methods' method: get headers: *owner_reader_headers assert_status: 403 drivers_vendor_passthru_get_admin: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: get headers: *project_admin_headers assert_status: 404 drivers_vendor_passthru_get_member: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: get headers: *project_admin_headers assert_status: 403 drivers_vendor_passthru_get_reader: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: get headers: *owner_reader_headers assert_status: 403 drivers_vendor_passthru_post_admin: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: post headers: *project_admin_headers assert_status: 404 drivers_vendor_passthru_post_member: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: post headers: *project_admin_headers assert_status: 403 drivers_vendor_passthru_post_reader: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: post headers: *owner_reader_headers assert_status: 403 drivers_vendor_passthru_put_admin: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: put headers: *project_admin_headers assert_status: 404 drivers_vendor_passthru_put_member: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: put headers: *project_admin_headers assert_status: 403 drivers_vendor_passthru_put_reader: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: put headers: *owner_reader_headers assert_status: 403 # NOTE(TheJulia): Returns an error due to the driver name # not matching, but this should be pass policy checking. # ""No conductors registered."" drivers_vendor_passthru_delete_admin: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: delete headers: *project_admin_headers assert_status: 404 drivers_vendor_passthru_delete_reader: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: delete headers: *project_admin_headers assert_status: 403 drivers_vendor_passthru_delete_reader: path: '/v1/drivers/{driver_name}/vendor_passthru?method=test' method: delete headers: *owner_reader_headers assert_status: 403 # Node Bios - https://docs.openstack.org/api-ref/baremetal/#node-bios-nodes nodes_bios_get_admin: path: '/v1/nodes/{node_ident}/bios' method: get headers: *project_admin_headers assert_status: 200 nodes_bios_get_member: path: '/v1/nodes/{node_ident}/bios' method: get headers: *project_admin_headers assert_status: 200 nodes_bios_get_reader: path: '/v1/nodes/{node_ident}/bios' method: get headers: *owner_reader_headers assert_status: 200 nodes_bios_bios_setting_get_admin: path: '/v1/nodes/{node_ident}/bios/{bios_setting}' method: get headers: *project_admin_headers assert_status: 200 nodes_bios_bios_setting_get_member: path: '/v1/nodes/{node_ident}/bios/{bios_setting}' method: get headers: *project_admin_headers assert_status: 200 nodes_bios_bios_setting_get_reader: path: '/v1/nodes/{node_ident}/bios/{bios_setting}' method: get headers: *owner_reader_headers assert_status: 200 # Conductors - https://docs.openstack.org/api-ref/baremetal/#allocations-allocations conductors_get_admin: path: '/v1/conductors' method: get headers: *project_admin_headers assert_status: 200 conductors_get_member: path: '/v1/conductors' method: get headers: *project_admin_headers assert_status: 200 conductors_get_reader: path: '/v1/conductors' method: get headers: *owner_reader_headers assert_status: 200 conductors_hostname_get_admin: path: '/v1/conductors/{conductor_ident}' method: get headers: *project_admin_headers assert_status: 200 conductors_hostname_get_member: path: '/v1/conductors/{conductor_ident}' method: get headers: *project_admin_headers assert_status: 200 conductors_hostname_get_reader: path: '/v1/conductors/{conductor_ident}' method: get headers: *owner_reader_headers assert_status: 200 # Allocations - https://docs.openstack.org/api-ref/baremetal/#allocations-allocations # NOTE(TheJulia): Currently returns an HTTP 503 # Resource temporarily unavailable, please retry. # But we are getting past the policy check, which is #success allocations_post_admin: path: '/v1/allocations' method: post headers: *project_admin_headers body: &allocation_body resource_class: CUSTOM_TEST assert_status: 503 allocations_post_member: path: '/v1/allocations' method: post headers: *project_admin_headers body: *allocation_body assert_status: 503 allocations_post_reader: path: '/v1/allocations' method: post headers: *owner_reader_headers body: *allocation_body assert_status: 403 allocations_get_admin: path: '/v1/allocations' method: get headers: *project_admin_headers assert_status: 200 allocations_get_member: path: '/v1/allocations' method: get headers: *project_admin_headers assert_status: 200 allocations_get_reader: path: '/v1/allocations' method: get headers: *owner_reader_headers assert_status: 200 allocations_allocation_id_get_admin: path: '/v1/allocations/{allocation_ident}' method: get headers: *project_admin_headers assert_status: 200 allocations_allocation_id_get_member: path: '/v1/allocations/{allocation_ident}' method: get headers: *project_admin_headers assert_status: 200 allocations_allocation_id_get_reader: path: '/v1/allocations/{allocation_ident}' method: get headers: *owner_reader_headers assert_status: 200 allocations_allocation_id_patch_admin: path: '/v1/allocations/{allocation_ident}' method: patch headers: *project_admin_headers body: &allocation_patch - op: replace path: /extra value: {'test': 'testing'} assert_status: 200 allocations_allocation_id_patch_member: path: '/v1/allocations/{allocation_ident}' method: patch headers: *project_admin_headers body: *allocation_patch assert_status: 200 allocations_allocation_id_patch_reader: path: '/v1/allocations/{allocation_ident}' method: patch headers: *owner_reader_headers body: *allocation_patch assert_status: 403 # NOTE(TheJulia): Currently returns an HTTP 503 # Resource temporarily unavailable, please retry. # But we are getting past the policy check, which is #success allocations_allocation_id_delete_admin: path: '/v1/allocations/{allocation_ident}' method: delete headers: *project_admin_headers assert_status: 503 allocations_allocation_id_delete_member: path: '/v1/allocations/{allocation_ident}' method: delete headers: *project_admin_headers assert_status: 503 allocations_allocation_id_delete_reader: path: '/v1/allocations/{allocation_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Allocations ( Node level) - https://docs.openstack.org/api-ref/baremetal/#node-allocation-allocations-nodes nodes_allocation_get_admin: path: '/v1/nodes/{allocated_node_ident}/allocation' method: get headers: *project_admin_headers assert_status: 200 nodes_allocation_get_member: path: '/v1/nodes/{allocated_node_ident}/allocation' method: get headers: *project_admin_headers assert_status: 200 nodes_allocation_get_reader: path: '/v1/nodes/{allocated_node_ident}/allocation' method: get headers: *owner_reader_headers assert_status: 200 # NOTE(TheJulia): Currently returns an HTTP 503 # Resource temporarily unavailable, please retry. # But we are getting past the policy check, which is #success nodes_allocation_delete_admin: path: '/v1/nodes/{allocated_node_ident}/allocation' method: delete headers: *project_admin_headers assert_status: 503 nodes_allocation_delete_member: path: '/v1/nodes/{allocated_node_ident}/allocation' method: delete headers: *project_admin_headers assert_status: 503 nodes_allocation_delete_reader: path: '/v1/nodes/{allocated_node_ident}/allocation' method: delete headers: *owner_reader_headers assert_status: 403 # Deploy Templates - https://docs.openstack.org/api-ref/baremetal/#deploy-templates-deploy-templates deploy_templates_post_admin: path: '/v1/deploy_templates' method: post body: &deploy_template_body name: 'CUSTOM_TEST_TEMPLATE' steps: - interface: 'deploy' step: 'noop' args: {} priority: 0 headers: *project_admin_headers assert_status: 201 deploy_templates_post_member: path: '/v1/deploy_templates' method: post body: *deploy_template_body headers: *project_admin_headers assert_status: 403 deploy_templates_post_reader: path: '/v1/deploy_templates' method: post body: *deploy_template_body headers: *owner_reader_headers assert_status: 403 deploy_templates_get_admin: path: '/v1/deploy_templates' method: get headers: *project_admin_headers assert_status: 200 deploy_templates_get_member: path: '/v1/deploy_templates' method: get headers: *project_admin_headers assert_status: 200 deploy_templates_get_reader: path: '/v1/deploy_templates' method: get headers: *owner_reader_headers assert_status: 200 deploy_templates_deploy_template_id_get_admin: path: '/v1/deploy_templates/{deploy_template_ident}' method: get headers: *project_admin_headers assert_status: 200 deploy_templates_deploy_template_id_get_member: path: '/v1/deploy_templates/{deploy_template_ident}' method: get headers: *project_admin_headers assert_status: 200 deploy_templates_deploy_template_id_get_reader: path: '/v1/deploy_templates/{deploy_template_ident}' method: get headers: *owner_reader_headers assert_status: 200 deploy_templates_deploy_template_id_patch_admin: path: '/v1/deploy_templates/{deploy_template_ident}' method: patch body: &template_patch - op: replace path: /name value: 'CUSTOM_MAGIC' headers: *project_admin_headers assert_status: 200 deploy_templates_deploy_template_id_patch_member: path: '/v1/deploy_templates/{deploy_template_ident}' method: patch body: *template_patch headers: *project_admin_headers assert_status: 403 deploy_templates_deploy_template_id_patch_reader: path: '/v1/deploy_templates/{deploy_template_ident}' method: patch body: *template_patch headers: *owner_reader_headers assert_status: 403 deploy_templates_deploy_template_id_delete_admin: path: '/v1/deploy_templates/{deploy_template_ident}' method: delete headers: *project_admin_headers assert_status: 204 deploy_templates_deploy_template_id_delete_member: path: '/v1/deploy_templates/{deploy_template_ident}' method: delete headers: *project_admin_headers assert_status: 403 deploy_templates_deploy_template_id_delete_reader: path: '/v1/deploy_templates/{deploy_template_ident}' method: delete headers: *owner_reader_headers assert_status: 403 # Chassis endpoints - https://docs.openstack.org/api-ref/baremetal/#chassis-chassis chassis_post_admin: path: '/v1/chassis' method: post headers: *project_admin_headers body: &chassis_body description: 'test-chassis' assert_status: 201 chassis_post_member: path: '/v1/chassis' method: post headers: *project_admin_headers body: *chassis_body assert_status: 403 chassis_post_reader: path: '/v1/chassis' method: post headers: *owner_reader_headers body: *chassis_body assert_status: 403 chassis_get_admin: path: '/v1/chassis' method: get headers: *project_admin_headers assert_status: 200 chassis_get_member: path: '/v1/chassis' method: get headers: *project_admin_headers assert_status: 200 chassis_get_reader: path: '/v1/chassis' method: get headers: *owner_reader_headers assert_status: 200 chassis_detail_get_admin: path: '/v1/chassis/detail' method: get headers: *project_admin_headers assert_status: 200 chassis_detail_get_member: path: '/v1/chassis/detail' method: get headers: *project_admin_headers assert_status: 200 chassis_detail_get_reader: path: '/v1/chassis/detail' method: get headers: *owner_reader_headers assert_status: 200 chassis_chassis_id_get_admin: path: '/v1/chassis/{chassis_ident}' method: get headers: *project_admin_headers assert_status: 200 chassis_chassis_id_get_member: path: '/v1/chassis/{chassis_ident}' method: get headers: *project_admin_headers assert_status: 200 chassis_chassis_id_get_reader: path: '/v1/chassis/{chassis_ident}' method: get headers: *owner_reader_headers assert_status: 200 chassis_chassis_id_patch_admin: path: '/v1/chassis/{chassis_ident}' method: patch body: &chassis_patch - op: replace path: /description value: meow headers: *project_admin_headers assert_status: 200 chassis_chassis_id_patch_member: path: '/v1/chassis/{chassis_ident}' method: patch body: *chassis_patch headers: *project_admin_headers assert_status: 200 chassis_chassis_id_patch_reader: path: '/v1/chassis/{chassis_ident}' method: patch body: *chassis_patch headers: *owner_reader_headers assert_status: 403 chassis_chassis_id_delete_admin: path: '/v1/chassis/{chassis_ident}' method: delete headers: *project_admin_headers assert_status: 204 chassis_chassis_id_delete_member: path: '/v1/chassis/{chassis_ident}' method: delete headers: *project_admin_headers assert_status: 403 chassis_chassis_id_delete_reader: path: '/v1/chassis/{chassis_ident}' method: delete headers: *owner_reader_headers assert_status: 403 ",,2046,0
openstack%2Felection~master~I78b7873a11824e6110f022d40d3b5e7d336a520f,openstack/election,master,I78b7873a11824e6110f022d40d3b5e7d336a520f,Add Artem Goncharov candidacy for OpenStackSDK PTL for X,MERGED,2021-03-03 10:36:44.000000000,2021-03-03 13:35:22.000000000,2021-03-03 13:33:10.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 10:36:44.000000000', 'files': ['candidates/xena/OpenStackSDK/artem.goncharov@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/019aed1ba2427f197afda541cb3944610564d2d2', 'message': 'Add Artem Goncharov candidacy for OpenStackSDK PTL for X\n\nChange-Id: I78b7873a11824e6110f022d40d3b5e7d336a520f\n'}]",0,778405,019aed1ba2427f197afda541cb3944610564d2d2,8,3,1,27900,,,0,"Add Artem Goncharov candidacy for OpenStackSDK PTL for X

Change-Id: I78b7873a11824e6110f022d40d3b5e7d336a520f
",git fetch https://review.opendev.org/openstack/election refs/changes/05/778405/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/OpenStackSDK/artem.goncharov@gmail.com'],1,019aed1ba2427f197afda541cb3944610564d2d2,,"Hi everybody! I'd like to run again for PTL of OpenStackSDK. This cycle we are getting closer to the R1.0, there are some things still open to be cleaned up. We also work on getting auth caching and fixing MFA loging. OpenStackClient is also not lacking attention and got some improvements closing gaps to python-novaclient and parts of that being switched to SDK. I would love to keep helping moving us further and getting things implemented in the most effective way. Thanks! Artem ",,14,0
openstack%2Freleases~master~Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4,openstack/releases,master,Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4,Release final castellan for Wallaby,MERGED,2021-03-01 09:33:15.000000000,2021-03-03 13:29:07.000000000,2021-03-03 13:29:07.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:33:15.000000000', 'files': ['deliverables/wallaby/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8a463237edf14978dd1a6c9d52ad9cfe5089d64a', 'message': ""Release final castellan for Wallaby\n\nThis proposed a release for castellan to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 3.7.0..35f1a20\n35f1a20 Fix assertion typo in barbican key manager unit test\nf638cdf Dropping lower constraints testing\n4a4544b Don't expect barbican service name to be barbican.\n47b1733 Use py3 as the default runtime for tox\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4\n""}]",0,777944,8a463237edf14978dd1a6c9d52ad9cfe5089d64a,8,3,1,28522,,,0,"Release final castellan for Wallaby

This proposed a release for castellan to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.7.0..35f1a20
35f1a20 Fix assertion typo in barbican key manager unit test
f638cdf Dropping lower constraints testing
4a4544b Don't expect barbican service name to be barbican.
47b1733 Use py3 as the default runtime for tox

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Id73da4b9db2ed57c06ebf9d541f8baee5b5003d4
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/777944/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/castellan.yaml'],1,8a463237edf14978dd1a6c9d52ad9cfe5089d64a,wallaby-lib-freeze, - version: 3.7.1 projects: - repo: openstack/castellan hash: 35f1a20d517100c18ab53d2b5bf0afbf769a8f94,,4,0
openstack%2Freleases~master~Idbec8dc7663db40f3cda029e5b588071edc83f3b,openstack/releases,master,Idbec8dc7663db40f3cda029e5b588071edc83f3b,Release final oslo.config for Wallaby,MERGED,2021-03-01 09:45:26.000000000,2021-03-03 13:28:53.000000000,2021-03-03 13:28:53.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:45:26.000000000', 'files': ['deliverables/wallaby/oslo.config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2bff8c76a792e77fe75da898fa5eef6bcdf7c4c3', 'message': 'Release final oslo.config for Wallaby\n\nThis proposed a release for oslo.config to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 8.4.0..cfa2564\ncfa2564 Bump minimum version for PyYAML to 5.1\n50723fa remove lower-constraints.txt\n05b6a33 inherit from object is not required for py3\n401dcd9 Move zuul config file to root folder\ncefa4d4 Dropping lower constraints testing\nf1f8730 Remove Babel from lower-constraints.txt\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Idbec8dc7663db40f3cda029e5b588071edc83f3b\n'}]",0,777956,2bff8c76a792e77fe75da898fa5eef6bcdf7c4c3,8,3,1,28522,,,0,"Release final oslo.config for Wallaby

This proposed a release for oslo.config to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 8.4.0..cfa2564
cfa2564 Bump minimum version for PyYAML to 5.1
50723fa remove lower-constraints.txt
05b6a33 inherit from object is not required for py3
401dcd9 Move zuul config file to root folder
cefa4d4 Dropping lower constraints testing
f1f8730 Remove Babel from lower-constraints.txt

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Idbec8dc7663db40f3cda029e5b588071edc83f3b
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/777956/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/oslo.config.yaml'],1,2bff8c76a792e77fe75da898fa5eef6bcdf7c4c3,wallaby-lib-freeze, - version: 8.5.0 projects: - repo: openstack/oslo.config hash: cfa256464e519468f227e676e2ca0829bf5c7e02,,4,0
openstack%2Freleases~master~I4bca5c0ae21428d83dcd156d05bcd49b22f2f631,openstack/releases,master,I4bca5c0ae21428d83dcd156d05bcd49b22f2f631,Release final oslo.context for Wallaby,MERGED,2021-03-01 09:46:14.000000000,2021-03-03 13:28:49.000000000,2021-03-03 13:28:49.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:46:14.000000000', 'files': ['deliverables/wallaby/oslo.context.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7c596e20c9b36849e6cb26da9413c5c42ba707a3', 'message': 'Release final oslo.context for Wallaby\n\nThis proposed a release for oslo.context to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 3.1.1..0d02866\n0d02866 Switch to collections.abc.MutableMapping\n3542bea Dropping lower constraints testing\nb6a92c9 Add Python3 wallaby unit tests\n747e723 Update master for stable/victoria\n3b6da99 Adding pre-commit\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I4bca5c0ae21428d83dcd156d05bcd49b22f2f631\n'}]",0,777957,7c596e20c9b36849e6cb26da9413c5c42ba707a3,8,3,1,28522,,,0,"Release final oslo.context for Wallaby

This proposed a release for oslo.context to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.1.1..0d02866
0d02866 Switch to collections.abc.MutableMapping
3542bea Dropping lower constraints testing
b6a92c9 Add Python3 wallaby unit tests
747e723 Update master for stable/victoria
3b6da99 Adding pre-commit

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I4bca5c0ae21428d83dcd156d05bcd49b22f2f631
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/777957/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/oslo.context.yaml'],1,7c596e20c9b36849e6cb26da9413c5c42ba707a3,wallaby-lib-freeze,releases: - version: 3.2.0 projects: - repo: openstack/oslo.context hash: 0d02866365bc8b779aef9ebd0b79a52c96ae40e5,,5,0
openstack%2Freleases~master~Ie8f69661863e9d42aa0f386cff751806b653f70e,openstack/releases,master,Ie8f69661863e9d42aa0f386cff751806b653f70e,Release final oslo.policy for Wallaby,MERGED,2021-03-01 09:47:00.000000000,2021-03-03 13:28:44.000000000,2021-03-03 13:28:44.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:47:00.000000000', 'files': ['deliverables/wallaby/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ea0f71600d4034b0439638f42d84a1a2a4a092f9', 'message': ""Release final oslo.policy for Wallaby\n\nThis proposed a release for oslo.policy to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 3.6.2..d853485\nd853485 trivial: Tweak docstrings\n45249db Make 'Rule' attributes read-only\nd933ca8 Don't modify 'Rule.check'\nd57dd1a Add nova/neutron project unit/functional tests job in gate\n16840b6 Add documentation parameters for DeprecatedRule\n3e2025b tests: Unset requests-related environment variables\nca3e551 remove unicode from code\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie8f69661863e9d42aa0f386cff751806b653f70e\n""}]",0,777958,ea0f71600d4034b0439638f42d84a1a2a4a092f9,8,3,1,28522,,,0,"Release final oslo.policy for Wallaby

This proposed a release for oslo.policy to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.6.2..d853485
d853485 trivial: Tweak docstrings
45249db Make 'Rule' attributes read-only
d933ca8 Don't modify 'Rule.check'
d57dd1a Add nova/neutron project unit/functional tests job in gate
16840b6 Add documentation parameters for DeprecatedRule
3e2025b tests: Unset requests-related environment variables
ca3e551 remove unicode from code

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ie8f69661863e9d42aa0f386cff751806b653f70e
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/777958/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/oslo.policy.yaml'],1,ea0f71600d4034b0439638f42d84a1a2a4a092f9,wallaby-lib-freeze, - version: 3.7.0 projects: - repo: openstack/oslo.policy hash: d8534850d9238e85ae0ea55bf2ac8583681fdb2b,,4,0
openstack%2Fos-brick~stable%2Ftrain~I9a1746658474c0f1be7ec29a36767085aaf2ab7f,openstack/os-brick,stable/train,I9a1746658474c0f1be7ec29a36767085aaf2ab7f,Improve error handling on target query,MERGED,2021-02-24 15:34:30.000000000,2021-03-03 13:23:43.000000000,2021-03-03 12:15:07.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 15:34:30.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/49e4b2146e2eb866ec17b578db44cf3ea9285090', 'message': ""Improve error handling on target query\n\nThe command 'iscsiadm -m node' will return entries for corrupt targets\nin the form '[]:port,-1' instead of the expected format.  This causes an\nIndexError exception during parsing.  This patch skips invalid entries.\n\nCloses-bug: #1886855\nChange-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f\n(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)\n(cherry picked from commit 958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8)\n(cherry picked from commit 897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b)\n""}]",0,777406,49e4b2146e2eb866ec17b578db44cf3ea9285090,34,4,1,10459,,,0,"Improve error handling on target query

The command 'iscsiadm -m node' will return entries for corrupt targets
in the form '[]:port,-1' instead of the expected format.  This causes an
IndexError exception during parsing.  This patch skips invalid entries.

Closes-bug: #1886855
Change-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f
(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)
(cherry picked from commit 958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8)
(cherry picked from commit 897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/06/777406/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,49e4b2146e2eb866ec17b578db44cf3ea9285090,," try: lines.append((info[0].split(',')[0], info[1])) except IndexError: pass"," lines.append((info[0].split(',')[0], info[1]))",19,1
openstack%2Freleases~master~I58200d7b12c3a3cda7166da965619016d97f71ea,openstack/releases,master,I58200d7b12c3a3cda7166da965619016d97f71ea,[manila][xena] Add project tracking schedule,MERGED,2021-03-01 22:18:55.000000000,2021-03-03 13:23:17.000000000,2021-03-03 13:23:17.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-03-01 22:18:55.000000000', 'files': ['doc/source/xena/schedule.rst', 'doc/source/xena/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1dbd165d632dfae1f85939fcc6e188a7adba19ad', 'message': '[manila][xena] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: I58200d7b12c3a3cda7166da965619016d97f71ea\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}]",0,778082,1dbd165d632dfae1f85939fcc6e188a7adba19ad,8,4,1,30002,,,0,"[manila][xena] Add project tracking schedule

Add code and spec submission deadlines that the manila
project maintainers adhere to.

Change-Id: I58200d7b12c3a3cda7166da965619016d97f71ea
Signed-off-by: Douglas Viroel <viroel@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/778082/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/xena/schedule.rst', 'doc/source/xena/schedule.yaml']",2,1dbd165d632dfae1f85939fcc6e188a7adba19ad,, project-specific: - x-manila-spec-freeze project-specific: - x-manila-new-driver-deadline project-specific: - x-manila-fpfreeze,,33,0
openstack%2Ftripleo-ansible~master~Ieac6b0603303db3889a242f7f568a591714a9b49,openstack/tripleo-ansible,master,Ieac6b0603303db3889a242f7f568a591714a9b49,Allow Ansible 2.10 to be used in test,ABANDONED,2020-11-03 20:51:41.000000000,2021-03-03 13:10:09.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-03 20:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a9b6b018175258a7f13d38fb2744c648b81ef65', 'message': '[WIP] Allow Ansible 2.10 to be used in test\n\nChange-Id: Ieac6b0603303db3889a242f7f568a591714a9b49\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-11-04 15:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/094c393a5c5a9d0b19958a5cd6366dec16e5b0d1', 'message': '[WIP] Allow Ansible 2.10 to be used in test\n\nChange-Id: Ieac6b0603303db3889a242f7f568a591714a9b49\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-11-04 15:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af42dfd4fd475fe26d745cecb57ba5d69b268798', 'message': 'Allow Ansible 2.10 to be used in test\n\nThe following changes allow us to use ansible 2.10 in test for all\nroles, modules, and automation.\n\nChange-Id: Ieac6b0603303db3889a242f7f568a591714a9b49\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-11-04 18:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5a10fec3a102d646dc3d266cbab8b956b0b1b3a9', 'message': 'Allow Ansible 2.10 to be used in test\n\nThe following changes allow us to use ansible 2.10 in test for all\nroles, modules, and automation.\n\nChange-Id: Ieac6b0603303db3889a242f7f568a591714a9b49\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-11-04 19:48:07.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_core_list.py', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_configure.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_config_download.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_ansible_inventory.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_role_list.py', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py', '.pre-commit-config.yaml', 'tripleo_ansible/ansible-role-requirements.yml', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_node_info.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_swift_tempurl.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_fernet_keys_rotate.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_flavor_profile.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_introspected_data.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_overcloudrc.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_list_overclouds.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_socket_memory.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_check_existing.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_host_cpus.py', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_image_params_prepare.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_reset_params.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_build_heat_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_nics_numa_info.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_templates_upload.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py', 'molecule-requirements.txt', 'ansible-requirements.txt', 'tripleo_ansible/ansible_plugins/modules/tripleo_passwords_rotate.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_plan_parameters_update.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_plan_deploy.py', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py', 'tripleo_ansible/ansible_plugins/modules/baremetal_register_or_update_nodes.py', 'tox.ini', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_flatten_stack.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/542f1e192d9a9f293b4dc6bac2830128215c7bf3', 'message': 'Allow Ansible 2.10 to be used in test\n\nThe following changes allow us to use ansible 2.10 in test for all\nroles, modules, and automation.\n\nChange-Id: Ieac6b0603303db3889a242f7f568a591714a9b49\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,761225,542f1e192d9a9f293b4dc6bac2830128215c7bf3,25,5,5,7353,,,0,"Allow Ansible 2.10 to be used in test

The following changes allow us to use ansible 2.10 in test for all
roles, modules, and automation.

Change-Id: Ieac6b0603303db3889a242f7f568a591714a9b49
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/761225/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'zuul.d/base.yaml', '.pre-commit-config.yaml', 'molecule-requirements.txt']",4,3a9b6b018175258a7f13d38fb2744c648b81ef65,,"ansible>=2.8,!=2.8.9,!=2.9.12,<2.11.0","ansible>=2.8,!=2.8.9,!=2.9.12,<2.10.0",4,4
openstack%2Fmonasca-api~stable%2Fussuri~I002d936941e4784566d83173d55023dfd5fba282,openstack/monasca-api,stable/ussuri,I002d936941e4784566d83173d55023dfd5fba282,Align lower-constraints for new pip,MERGED,2021-03-01 23:34:36.000000000,2021-03-03 12:57:27.000000000,2021-03-03 12:55:23.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-01 23:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a026939d78f3a719044c254797c96e4b35c3e47a', 'message': 'Align lower-constraints for new pip\n\nBump a series of lower-constraints and requirements to work with new pip\nresolver, testing with steps outlined at [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: I002d936941e4784566d83173d55023dfd5fba282\n(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)\n(cherry picked from commit ded997fb23e3f12319de87bad83bea03038fff33)\n'}, {'number': 2, 'created': '2021-03-02 22:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/27a4b17a325539df1d8193a32abfc23f485b1e9e', 'message': 'Align lower-constraints for new pip\n\nBump a series of lower-constraints and requirements to work with new pip\nresolver, testing with steps outlined at [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: I002d936941e4784566d83173d55023dfd5fba282\n(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)\n(cherry picked from commit ded997fb23e3f12319de87bad83bea03038fff33)\n'}, {'number': 3, 'created': '2021-03-03 10:51:12.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ba45906ee8f43cd89d03abdd8a6f6c1ff116700c', 'message': 'Align lower-constraints for new pip\n\nBump a series of lower-constraints and requirements to work with new pip\nresolver, testing with steps outlined at [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: I002d936941e4784566d83173d55023dfd5fba282\n(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)\n'}]",0,778097,ba45906ee8f43cd89d03abdd8a6f6c1ff116700c,14,3,3,26141,,,0,"Align lower-constraints for new pip

Bump a series of lower-constraints and requirements to work with new pip
resolver, testing with steps outlined at [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: I002d936941e4784566d83173d55023dfd5fba282
(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/97/778097/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,a026939d78f3a719044c254797c96e4b35c3e47a,update-lower-constraints-stable/victoria-stable/ussuri,"alembic==0.9.6 appdirs==1.4.0docutils==0.12<<<<<<< HEAD (e6b115 Merge ""Add option to choose Kafka client in Docker"" into sta)======= MarkupSafe==1.1.1 mccabe==0.6.0 >>>>>>> CHANGE (ded997 Align lower-constraints for new pip)six==1.12.0",alembic==0.8.10 appdirs==1.3.0docutils==0.11six==1.10.0,10,5
openstack%2Fvalidations-common~master~Ide2db5e6bc0443ed52a884024753e4123090947f,openstack/validations-common,master,Ide2db5e6bc0443ed52a884024753e4123090947f,Simple tests for validation_stdout callback.,MERGED,2021-02-03 16:40:27.000000000,2021-03-03 12:49:02.000000000,2021-03-03 12:49:02.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-03 16:40:27.000000000', 'files': ['validations_common/tests/callback_plugins/test_validation_stdout.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8ad5cf356a6f98835c6e1f046d6e04f5c5ec43f6', 'message': 'Simple tests for validation_stdout callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ide2db5e6bc0443ed52a884024753e4123090947f\n'}]",1,773945,8ad5cf356a6f98835c6e1f046d6e04f5c5ec43f6,10,6,1,32926,,,0,"Simple tests for validation_stdout callback.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ide2db5e6bc0443ed52a884024753e4123090947f
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/45/773945/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/callback_plugins/test_validation_stdout.py'],1,8ad5cf356a6f98835c6e1f046d6e04f5c5ec43f6,unittests/validationstdout,"import os import re from unittest import mock from ansible.plugins.callback import CallbackBasefrom validations_common.callback_plugins import validation_stdout def is_iso_time(time_string): """""" Checks if string represents valid time in ISO format, with the default delimiter. Regex is somewhat convoluted, but general enough to last at least until the 9999 AD. Returns: True if string matches the pattern. False otherwise. """""" match = re.match( r'\d{4}-[01][0-9]-[0-3][0-9]T[0-3][0-9](:[0-5][0-9]){2}\.\d+Z', time_string) if match: return True else: return False """"""Tests of validation_stdout callback module. """""" def test_callback_instantiation(self): """""" Verifying that the CallbackModule is instantiated properly. Test checks presence of CallbackBase in the inheritance chain, in order to ensure that folowing tests are performed with the correct assumptions. """""" callback = validation_stdout.CallbackModule() self.assertEqual(type(callback).__mro__[1], CallbackBase) """""" Every ansible callback needs to define variable with name and version. """""" self.assertIn('CALLBACK_NAME', dir(callback)) self.assertIn('CALLBACK_VERSION', dir(callback)) self.assertEqual(callback.CALLBACK_NAME, 'validation_stdout') self.assertIsInstance(callback.CALLBACK_VERSION, float) """""" Additionally, the 'validation_stdout' callback performs several other operations during instantiation. """""" self.assertEqual(callback.env, {}) self.assertIsNone(callback.t0) """""" Callback time sanity check only verifies general format of the stored time to be iso format `YYYY-MM-DD HH:MM:SS.mmmmmm` with 'T' as a separator. For example: '2020-07-03T13:28:21.224103Z' """""" self.assertTrue(is_iso_time(callback.current_time)) @mock.patch( 'ansible.playbook.play.Play._uuid', autospec=True, return_value='bar') @mock.patch( 'ansible.playbook.play.Play.get_name', autospec=True, return_value='foo') @mock.patch('ansible.playbook.play.Play') def test_new_play(self, mock_play, mock_play_name, mock_play_uuid): """""" From the callback point of view, both Play and Task are virtually identical. Test involving them are therefore also very similar. """""" callback = validation_stdout.CallbackModule() callback.env['playbook_name'] = 'fizz' callback.env['playbook_path'] = 'buzz/fizz' play_dict = callback._new_play(mock_play) mock_play_name.assert_called_once() mock_play_uuid.assert_called_once() """""" Callback time sanity check only verifies general format of the stored time to be iso format `YYYY-MM-DD HH:MM:SS.mmmmmm` with 'T' as a separator. For example: '2020-07-03T13:28:21.224103Z' """""" self.assertTrue(is_iso_time(play_dict['play']['duration']['start'])) self.assertEqual('fizz', play_dict['play']['validation_id']) self.assertEqual('buzz/fizz', play_dict['play']['validation_path']) @mock.patch( 'ansible.playbook.task.Task._uuid', autospec=True, return_value='bar') @mock.patch( 'ansible.playbook.task.Task.get_name', autospec=True, return_value='foo') @mock.patch('ansible.playbook.task.Task') def test_new_task(self, mock_task, mock_task_name, mock_task_uuid): """""" From the callback point of view, both Play and Task are virtually identical. Test involving them are therefore also very similar. """""" callback = validation_stdout.CallbackModule() task_dict = callback._new_task(mock_task) mock_task_name.assert_called_once() mock_task_uuid.assert_called_once() """""" Callback time sanity check only verifies general format of the stored time to be iso format `YYYY-MM-DD HH:MM:SS.mmmmmm` with 'T' as a separator. For example: '2020-07-03T13:28:21.224103Z' """""" self.assertTrue(is_iso_time(task_dict['task']['duration']['start'])) def test_val_task(self): """""" _val_task and _val_task_host methods are virtually identical. Their tests are too. """""" task_name = 'foo' expected_dict = { 'task': { 'name': task_name, 'hosts': {} } } callback = validation_stdout.CallbackModule() self.assertEqual( expected_dict, callback._val_task(task_name=task_name)) def test_val_task_host(self): """""" _val_task and _val_task_host methods are virtually identical. Their tests are too. """""" task_name = 'foo' expected_dict = { 'task': { 'name': task_name, 'hosts': {} } } callback = validation_stdout.CallbackModule() self.assertEqual( expected_dict, callback._val_task_host(task_name=task_name))",from unittest import mock,162,1
openstack%2Fvalidations-common~master~I20168a995086568c784b8d5437c29dd3ebfef498,openstack/validations-common,master,I20168a995086568c784b8d5437c29dd3ebfef498,Simple tests for fail_if_no_hosts callback.,MERGED,2021-02-02 16:03:01.000000000,2021-03-03 12:48:46.000000000,2021-03-03 12:48:46.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-02 16:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a9e08aff83e27e5b1f39de6d0707dd1f47eeafc1', 'message': 'Simple tests for fail_if_no_hosts callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I20168a995086568c784b8d5437c29dd3ebfef498\n'}, {'number': 2, 'created': '2021-02-02 16:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a5c8d50ee9ef124ad95c9f72a40575c4df948d80', 'message': 'Simple tests for fail_if_no_hosts callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I20168a995086568c784b8d5437c29dd3ebfef498\n'}, {'number': 3, 'created': '2021-02-03 08:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a3b3773052ddaacc515ce6d8e389354737f79e79', 'message': 'Simple tests for fail_if_no_hosts callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I20168a995086568c784b8d5437c29dd3ebfef498\n'}, {'number': 4, 'created': '2021-02-03 09:09:32.000000000', 'files': ['validations_common/tests/callback_plugins/test_fail_if_no_hosts.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/273f41f4719632ca5e52c71c6da6b4c24fdd7a5e', 'message': 'Simple tests for fail_if_no_hosts callback.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I20168a995086568c784b8d5437c29dd3ebfef498\n'}]",6,773717,273f41f4719632ca5e52c71c6da6b4c24fdd7a5e,16,6,4,32926,,,0,"Simple tests for fail_if_no_hosts callback.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I20168a995086568c784b8d5437c29dd3ebfef498
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/17/773717/4 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/callback_plugins/test_fail_if_no_hosts.py'],1,a9e08aff83e27e5b1f39de6d0707dd1f47eeafc1,unittests/failifnohosts,"from validations_common.callback_plugins import fail_if_no_hostsfrom ansible.plugins.callback import CallbackBase from ansible.executor.stats import AggregateStats self.stats = AggregateStats() def test_callback_instatiation(self): callback = fail_if_no_hosts.CallbackModule() self.assertEqual(type(callback).__mro__[1], CallbackBase) self.assertIn('CALLBACK_NAME', dir(callback)) self.assertIn('CALLBACK_VERSION', dir(callback)) self.assertEqual(callback.CALLBACK_NAME, 'fail_if_no_hosts') self.assertIsInstance(callback.CALLBACK_VERSION, float) @mock.patch('sys.exit', autospec=True) def test_callback_playbook_on_stats_no_hosts(self, mock_exit): """""" Folowing test concerns stats, an instance of AggregateStats and how it's processed by the callback. """""" callback = fail_if_no_hosts.CallbackModule() callback.v2_playbook_on_stats(self.stats) mock_exit.assert_called_once_with(10) @mock.patch('sys.exit', autospec=True) def test_callback_playbook_on_stats_some_hosts(self, mock_exit): """""" Folowing test concerns stats, an instance of AggregateStats and how it's processed by the callback. """""" self.stats.processed = { 'system_foo': 'foo', 'system_bar': 'bar'} callback = fail_if_no_hosts.CallbackModule() callback.v2_playbook_on_stats(self.stats) mock_exit.assert_not_called()",,40,0
openstack%2Fvalidations-common~master~Ie7b8389d386ff1a2533418a63888f43a899bb31c,openstack/validations-common,master,Ie7b8389d386ff1a2533418a63888f43a899bb31c,Infrastructure for callback unit tests,MERGED,2021-02-02 10:44:30.000000000,2021-03-03 12:48:42.000000000,2021-03-03 12:48:42.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-02 10:44:30.000000000', 'files': ['validations_common/tests/callback_plugins/__init__.py', 'validations_common/tests/callback_plugins/test_validation_output.py', 'validations_common/tests/callback_plugins/test_fail_if_no_hosts.py', 'validations_common/tests/callback_plugins/test_validation_stdout.py', 'validations_common/tests/callback_plugins/test_validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/88751f338955b0e82541835b48ad930be70b2816', 'message': 'Infrastructure for callback unit tests\n\nEventually all of these are going to fill up with test cases.\nRight now they merely demarcate boundaries of future testing.\n\nUnder ideal circumstances, every new callback review should be accompanied\nby a tied review for test coverage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie7b8389d386ff1a2533418a63888f43a899bb31c\n'}]",0,773632,88751f338955b0e82541835b48ad930be70b2816,7,6,1,32926,,,0,"Infrastructure for callback unit tests

Eventually all of these are going to fill up with test cases.
Right now they merely demarcate boundaries of future testing.

Under ideal circumstances, every new callback review should be accompanied
by a tied review for test coverage.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie7b8389d386ff1a2533418a63888f43a899bb31c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/32/773632/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/tests/callback_plugins/__init__.py', 'validations_common/tests/callback_plugins/test_validation_output.py', 'validations_common/tests/callback_plugins/test_fail_if_no_hosts.py', 'validations_common/tests/callback_plugins/test_validation_stdout.py', 'validations_common/tests/callback_plugins/test_validation_json.py']",5,88751f338955b0e82541835b48ad930be70b2816,callbacks/unittests,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" test_validation_json ---------------------------------- Tests for `validation_json` callback plugin. """""" import validations_common.library.reportentry as validation from validations_common.tests import base from unittest import mock class TestValidationJson(base.TestCase): def setUp(self): super(TestValidationJson, self).setUp() self.module = mock.MagicMock() ",,132,0
openstack%2Fos-refresh-config~stable%2Fstein~Ic267a3553957e5d8226ecd069f18215852912298,openstack/os-refresh-config,stable/stein,Ic267a3553957e5d8226ecd069f18215852912298,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 16:52:45.000000000,2021-03-03 12:48:38.000000000,2021-03-03 12:48:38.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 16:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/7407e2cd4049c31803bc70e7be70f31536132ac4', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2]. Also updates\n.gitreview for victoria so I can post to that branch.\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ic267a3553957e5d8226ecd069f18215852912298\n'}, {'number': 2, 'created': '2021-03-03 09:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/187b2ed1a3f954a9da3099d8e003a09aaead857b', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2]. \n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ic267a3553957e5d8226ecd069f18215852912298\n'}, {'number': 3, 'created': '2021-03-03 09:28:45.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/81ef3b5fd6faa445c97f5c26abeaef24f016916e', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ic267a3553957e5d8226ecd069f18215852912298\n'}]",0,777622,81ef3b5fd6faa445c97f5c26abeaef24f016916e,19,6,3,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ic267a3553957e5d8226ecd069f18215852912298
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/22/777622/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,7407e2cd4049c31803bc70e7be70f31536132ac4,tripleo-ci-reduce,, - tripleo-multinode-container-minimal,0,1
openstack%2Fvalidations-common~master~I0182127fb11cdc49cc82e05367f272ee813d2647,openstack/validations-common,master,I0182127fb11cdc49cc82e05367f272ee813d2647,cli help rework and cleanup,MERGED,2021-02-23 16:03:23.000000000,2021-03-03 12:47:47.000000000,2021-03-03 12:47:47.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-23 16:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/79fdbaa4b060c4fcc8f11ce8b405c8b5ec8a1d25', 'message': 'cli help rework and cleanup\n\nFixes several typos, expands help for positional arguments,\nprints out default values of optional arguments\nand changes help formatter to allow more control over output.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0182127fb11cdc49cc82e05367f272ee813d2647\n'}, {'number': 2, 'created': '2021-02-24 07:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/49c132a176130f0b4a2b6255e85f546c9d502907', 'message': 'cli help rework and cleanup\n\nFixes several typos, expands help for positional arguments,\nprints out default values of optional arguments\nand changes help formatter to allow more control over output.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0182127fb11cdc49cc82e05367f272ee813d2647\n'}, {'number': 3, 'created': '2021-02-24 08:14:02.000000000', 'files': ['validations_common/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3b06d8868aed7204a0917f4ed0021bdb5f9488e4', 'message': 'cli help rework and cleanup\n\nFixes several typos, expands help for positional arguments,\nprints out default values of optional arguments\nand changes help formatter to allow more control over output.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0182127fb11cdc49cc82e05367f272ee813d2647\n'}]",5,777156,3b06d8868aed7204a0917f4ed0021bdb5f9488e4,16,6,3,32926,,,0,"cli help rework and cleanup

Fixes several typos, expands help for positional arguments,
prints out default values of optional arguments
and changes help formatter to allow more control over output.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0182127fb11cdc49cc82e05367f272ee813d2647
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/56/777156/3 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/validation.py'],1,79fdbaa4b060c4fcc8f11ce8b405c8b5ec8a1d25,cli/helpimprovement,"class ValiationsFormatter(argparse.ArgumentDefaultsHelpFormatter, argparse.RawTextHelpFormatter): """""" Composite class inheriting from both ArgumentDefaultsHelpFormatter and RawTextHelpFormatter. Thus allowing for both more precise help output management and automatic printing of default arg values. """""" pass super(Validation, self).__init__( description=DESCRIPTION, epilog=EPILOG, formatter_class=ValiationsFormatter) help=( 'Validation Action: \n' ' run:\n launches validations specified by ' 'the --group or --validation args. \n' ' list:\n prints list of available valiations,' 'including their groups. \n' ' show:\n prints list of validations executions and related info.' )) help=( ""Either a path of the Ansible inventory file, \n"" ""or a comma-separated list of hosts. \n"" )) help=(""Run specific validations, \n"" ""if more than one validation is required \n"" ""separate the names with commas: \n"" ""--validation check-ftype,512e | \n"" ""--validation 512e \n"")) help=(""Run specific group of validations, \n"" ""if more than one group is required \n"" ""separate the group names with commas: \n"" ""--group pre-upgrade,prep | \n"" ""--group openshift-on-openstack \n"")) help=(""Run Ansible in silent mode. \n"")) ""are located. \n"")) help=(""Path where the ansible roles, library \n"" ""and plugins are located. \n"")) help=(""Path where the run result will be stored. \n"")) "," super(Validation, self).__init__(description=DESCRIPTION, epilog=EPILOG) help='Validation Action') help=""Path of the Ansible inventory."") help=(""Run specific validations, "" ""if more than one validation is required "" ""separate the names with commas: "" ""--validation check-ftype,512e | "" ""--validation 512e"")) help=(""Run specific group validations, "" ""if more than one group is required "" ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"")) help=(""Run Ansible in silent mode."")) ""is located."")) help=(""Path where the ansible roles, library "" ""and plugins is located."")) help=(""Path where the run result will be stored""))",42,19
openstack%2Ftripleo-validations~master~I7b5da62a564c22738427632ea03b1e33cdf2f89a,openstack/tripleo-validations,master,I7b5da62a564c22738427632ea03b1e33cdf2f89a,Fix api call to get_deployment_status,MERGED,2021-02-24 21:16:32.000000000,2021-03-03 12:47:21.000000000,2021-03-03 12:47:21.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-02-24 21:16:32.000000000', 'files': ['tripleo_validations/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/df0ae71422dc7e6100f91f7b6ce6fc8815c2f373', 'message': ""Fix api call to get_deployment_status\n\nFunction get_deployment_status requires the stack_name parameter, cannot pass plan=plan\n\nWithout fix, getting this error:\n\nopenstack tripleo validator run --group pre-update-prepare --plan overcloud\nget_deployment_status() got an unexpected keyword argument 'plan'\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I7b5da62a564c22738427632ea03b1e33cdf2f89a\n""}]",0,777468,df0ae71422dc7e6100f91f7b6ce6fc8815c2f373,9,7,1,32432,,,0,"Fix api call to get_deployment_status

Function get_deployment_status requires the stack_name parameter, cannot pass plan=plan

Without fix, getting this error:

openstack tripleo validator run --group pre-update-prepare --plan overcloud
get_deployment_status() got an unexpected keyword argument 'plan'

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I7b5da62a564c22738427632ea03b1e33cdf2f89a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/777468/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tripleo_validator.py'],1,df0ae71422dc7e6100f91f7b6ce6fc8815c2f373,fix_get_deployment_status_arg," status = deployment.get_deployment_status(clients, plan)"," status = deployment.get_deployment_status(clients, plan=plan)",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,openstack/tripleo-heat-templates,stable/train,Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,Always set NetworkDeploymentActions to its default,MERGED,2021-02-16 09:22:49.000000000,2021-03-03 12:47:14.000000000,2021-03-03 12:47:14.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 09:22:49.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b894347cb91ad34d09288935fbdc1d8390eb1683', 'message': ""Always set NetworkDeploymentActions to its default\n\nThere are instances users use ``NetworkDeploymentActions`` to\ndo network configuration during update, but just drop the\nparameter for subsequent updates. This sometimes results in\nnetwork configuration changes in existing nodes and disruptions.\nLet's always set them to defaults unless overridden explicitly.\n\nChange-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3\nRelated: https://bugzilla.redhat.com/1928055\n(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)\n""}]",0,775765,b894347cb91ad34d09288935fbdc1d8390eb1683,13,4,1,8833,,,0,"Always set NetworkDeploymentActions to its default

There are instances users use ``NetworkDeploymentActions`` to
do network configuration during update, but just drop the
parameter for subsequent updates. This sometimes results in
network configuration changes in existing nodes and disruptions.
Let's always set them to defaults unless overridden explicitly.

Change-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3
Related: https://bugzilla.redhat.com/1928055
(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/775765/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,b894347cb91ad34d09288935fbdc1d8390eb1683,, NetworkDeploymentActions: ['CREATE'] {{role.name}}NetworkDeploymentActions: [],,2,0
openstack%2Fkayobe~master~Ie1d7753d9061b587caa5e150f72b51658a887318,openstack/kayobe,master,Ie1d7753d9061b587caa5e150f72b51658a887318,Fix documentation of control host bootstrap,MERGED,2021-03-03 11:55:56.000000000,2021-03-03 12:33:52.000000000,2021-03-03 12:31:36.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-03 11:55:56.000000000', 'files': ['doc/source/deployment.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aafed5811d82c948dc6213fdd8931c9100993942', 'message': 'Fix documentation of control host bootstrap\n\nChange-Id: Ie1d7753d9061b587caa5e150f72b51658a887318\n'}]",0,778442,aafed5811d82c948dc6213fdd8931c9100993942,8,3,1,15197,,,0,"Fix documentation of control host bootstrap

Change-Id: Ie1d7753d9061b587caa5e150f72b51658a887318
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/778442/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployment.rst'],1,aafed5811d82c948dc6213fdd8931c9100993942,,- Install required Ansible roles from Ansible Galaxy.,- Install Ansible and role dependencies from Ansible Galaxy.,1,1
openstack%2Fcharm-heat~master~I9c48ece92d87bce80404d696c87a2c160ffd5277,openstack/charm-heat,master,I9c48ece92d87bce80404d696c87a2c160ffd5277,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:56:22.000000000,2021-03-03 12:31:26.000000000,2021-03-03 10:29:22.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:56:22.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a7b930c928a323d06297532e7f29bb81b0c9585a', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I9c48ece92d87bce80404d696c87a2c160ffd5277\n'}]",0,778288,a7b930c928a323d06297532e7f29bb81b0c9585a,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I9c48ece92d87bce80404d696c87a2c160ffd5277
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/88/778288/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,a7b930c928a323d06297532e7f29bb81b0c9585a,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fmagnum~master~I844d7b154968b8960954b4be7165a70b46362dc3,openstack/magnum,master,I844d7b154968b8960954b4be7165a70b46362dc3,DNM,ABANDONED,2020-08-24 09:38:47.000000000,2021-03-03 12:29:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-24 09:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/815395e6d33197605f1009a2b239409ab3445cc5', 'message': 'DNM\n\nChange-Id: I844d7b154968b8960954b4be7165a70b46362dc3\n'}, {'number': 2, 'created': '2020-08-24 09:45:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2a65fccf9bac38168a3ca8bd981adb640769e978', 'message': 'DNM\n\nChange-Id: I844d7b154968b8960954b4be7165a70b46362dc3\n'}]",0,747667,2a65fccf9bac38168a3ca8bd981adb640769e978,5,1,2,28022,,,0,"DNM

Change-Id: I844d7b154968b8960954b4be7165a70b46362dc3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/67/747667/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,815395e6d33197605f1009a2b239409ab3445cc5,fix-publish, - magnum-container-publish,,1,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~I9751aa9b6739e8083103791579c1d5a71b938b0b,openstack/tripleo-ansible,stable/victoria,I9751aa9b6739e8083103791579c1d5a71b938b0b,Fix triple molecule modules job,MERGED,2021-03-03 03:36:39.000000000,2021-03-03 12:20:51.000000000,2021-03-03 12:20:51.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 03:36:39.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26b3f331cc6c3d73a4202bec28050f1bdb78a514', 'message': 'Fix triple molecule modules job\n\nRemove --detach when not starting container.\nChange-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b\n(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)\n'}]",0,778242,26b3f331cc6c3d73a4202bec28050f1bdb78a514,7,3,1,10969,,,0,"Fix triple molecule modules job

Remove --detach when not starting container.
Change-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b
(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/778242/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",2,26b3f331cc6c3d73a4202bec28050f1bdb78a514,fix11-stable/victoria," 'absent', 'present', 'stopped', 'started', 'created']), if action == 'create': b_command.remove(b'--detach=True') if self.running: self.stop() self.delete() self.create() def recreate_run(self): """"""Recreate and run the container."""""" if self.running: self.stop() if self.container.exists and self.restart: if self.container.running: self.container.restart() self.results['actions'].append('restarted %s' % self.container.name) else: self.container.start() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() return self.container.recreate_run() self.container.recreate_run() def make_created(self): """"""Run actions if desired state is 'created'."""""" if not self.container.exists and not self.image: self.module.fail_json(msg='Cannot create container when image' ' is not specified!') if not self.container.exists: self.container.create() self.results['actions'].append('created %s' % self.container.name) self.update_container_result() return else: if (self.container.different or self.recreate): self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() return self.update_container_result(changed=False) return 'stopped': self.make_stopped, 'created': self.make_created,"," 'absent', 'present', 'stopped', 'started']), self.container.recreate() self.container.recreate() 'stopped': self.make_stopped",55,6
openstack%2Ftripleo-ansible~stable%2Ftrain~I0b1a288fb3b1ae8d748690e4415a5c58ce793595,openstack/tripleo-ansible,stable/train,I0b1a288fb3b1ae8d748690e4415a5c58ce793595,Train-only make tripleo_diff_exec py2-compatible,MERGED,2021-03-02 07:49:45.000000000,2021-03-03 12:13:37.000000000,2021-03-03 12:13:37.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 07:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a3fc5634d298d1e5c4e5080b3b224911cc9314ea', 'message': ""WIP Train-only make tripleo_diff_exec py2-compatible\n\nTrain still supports centos-7 and subprocess.run() did not exist\nthere. Let's check if we are using python2 and use subprocess.Popen()\nin that case.\n\nChange-Id: I0b1a288fb3b1ae8d748690e4415a5c58ce793595\nCloses-Bug: #1917422\n""}, {'number': 2, 'created': '2021-03-02 09:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72db3f0970e137a07a7b856ef4a4834e8238fbac', 'message': ""Train-only make tripleo_diff_exec py2-compatible\n\nTrain still supports centos-7 and subprocess.run() did not exist\nthere. Let's check if we are using python2 and use subprocess.Popen()\nin that case.\n\nTested on train on both cents 8 and 7.\n\nChange-Id: I0b1a288fb3b1ae8d748690e4415a5c58ce793595\nCloses-Bug: #1917422\n""}, {'number': 3, 'created': '2021-03-02 20:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8426ca27e92977e0b9d9984853c4a2ae43a31125', 'message': ""Train-only make tripleo_diff_exec py2-compatible\n\nTrain still supports centos-7 and subprocess.run() did not exist\nthere. Let's check if we are using python2 and use subprocess.Popen()\nin that case.\n\nTested on train on both cents 8 and 7.\n\nChange-Id: I0b1a288fb3b1ae8d748690e4415a5c58ce793595\nCloses-Bug: #1917422\n""}, {'number': 4, 'created': '2021-03-03 03:43:45.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py', 'tripleo_ansible/tests/modules/test_tripleo_diff_exec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c9575d4e80d2ba282bff963bc572875fefc18ae', 'message': 'Train-only make tripleo_diff_exec py2-compatible\n\nTrain still supports centos-7 and subprocess.run() did not exist\nthere.\n\nTested on train on both cents 8 and 7.\n\nChange-Id: I0b1a288fb3b1ae8d748690e4415a5c58ce793595\nCloses-Bug: #1917422\n'}]",3,778146,2c9575d4e80d2ba282bff963bc572875fefc18ae,33,10,4,20172,,,0,"Train-only make tripleo_diff_exec py2-compatible

Train still supports centos-7 and subprocess.run() did not exist
there.

Tested on train on both cents 8 and 7.

Change-Id: I0b1a288fb3b1ae8d748690e4415a5c58ce793595
Closes-Bug: #1917422
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/778146/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py'],1,a3fc5634d298d1e5c4e5080b3b224911cc9314ea,train-ci,"import six if six.PY2: r = subprocess.Popen(command, shell=True, env=tmp_environment, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = r.communicate() else: r = subprocess.run(command, shell=True, env=tmp_environment, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout = r.stdout cmd_stderr = r.stderr cmd_stdout, cmd_stderr))"," r = subprocess.run(command, shell=True, env=tmp_environment, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) r.stdout, r.stderr))",13,4
openstack%2Fironic~stable%2Fvictoria~Ia169640b7084d17d26f22e457c7af512db6d21d6,openstack/ironic,stable/victoria,Ia169640b7084d17d26f22e457c7af512db6d21d6,Handle agent still doing the prior command,MERGED,2021-03-02 19:37:05.000000000,2021-03-03 11:58:59.000000000,2021-03-03 11:56:51.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-02 19:37:05.000000000', 'files': ['ironic/common/exception.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/cleaning.py', 'ironic/conductor/deployments.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py', 'releasenotes/notes/fix-busy-agent-check-3cf75242b4783009.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1ffc6a557c6b3f3641bee2cfc9ec3be4649bdbe', 'message': ""Handle agent still doing the prior command\n\nThe agent command exec model is based upon an incoming\nheartbeat, however heartbeats are independent and\ncommands can take a long time. For example, software RAID\nsetup in CI can encounter this.\n\nFrom an IPA log:\n\n[-] Picked root device /dev/md0 for node c6ca0af2-baec-40d6-879d-cbb5c751aafb\n    based on root device hints {'name': '/dev/md0'}\n[-] Attempting to download image from http://199.204.45.248:3928/agent_images/\n    c6ca0af2-baec-40d6-879d-cbb5c751aafb\n[-] Executing command: standby.get_partition_uuids with args: {} execute_command\n    /usr/local/lib/python3.6/site-packages/ironic_python_agent/extensions/base.py:255\n[-] Tried to execute standby.get_partition_uuids, agent is still executing Command name:\n    execute_deploy_step, params: {'step': {'interface': 'deploy', 'step': 'write_image',\n    'args': {'image_info': {'id': 'cb9e199a-af1b-4a6f-b00e-f284008b8046',\n    'urls': ['http://199.204.45.248:3928/agent_images/c6ca0af2-baec-40d6-879d-cbb5c751aafb'],\n    'disk_format': 'raw', 'container_format': 'bare', 'stream_raw_images': True, 'os_hash_algo':\n    'sha512', 'os_hash_value':<trimed>\n\nThis was with code built on master, using master images.\nInside the conductor log, it notes that it is likely an out\nof date agent because only AgentAPIError is evaluated,\nhowever any API error is evaluated this way. In reality, we need\nto explicitly flag *when* we have an error that is because\nwe've tried to soon as something is already being worked upon.\n\nThe result, is to evaluate and return an exception indicating work\nis already in flight.\n\nUpdate - It looks like, the original fix to prevent busy agent\nrecognition did not fully detect all cases as getting steps is a\ncommand which can\nget skipped by accident with a busy agent, under certain circumstances.\nChange I5d86878b5ed6142ed2630adee78c0867c49b663f in ironic-python-agent\nalso changed the string that was being checked for the previous\nhandling, where we really should have just made the string we were\nchecking lower case in ironic. Oh well! This should fix things\nright up.\n\nStory: 2008167\nTask: 41175\nChange-Id: Ia169640b7084d17d26f22e457c7af512db6d21d6\n(cherry picked from commit 545dc2106b757e69d473c2997bbb2ac34fc131d3)\n""}]",0,778237,d1ffc6a557c6b3f3641bee2cfc9ec3be4649bdbe,11,2,1,11655,,,0,"Handle agent still doing the prior command

The agent command exec model is based upon an incoming
heartbeat, however heartbeats are independent and
commands can take a long time. For example, software RAID
setup in CI can encounter this.

From an IPA log:

[-] Picked root device /dev/md0 for node c6ca0af2-baec-40d6-879d-cbb5c751aafb
    based on root device hints {'name': '/dev/md0'}
[-] Attempting to download image from http://199.204.45.248:3928/agent_images/
    c6ca0af2-baec-40d6-879d-cbb5c751aafb
[-] Executing command: standby.get_partition_uuids with args: {} execute_command
    /usr/local/lib/python3.6/site-packages/ironic_python_agent/extensions/base.py:255
[-] Tried to execute standby.get_partition_uuids, agent is still executing Command name:
    execute_deploy_step, params: {'step': {'interface': 'deploy', 'step': 'write_image',
    'args': {'image_info': {'id': 'cb9e199a-af1b-4a6f-b00e-f284008b8046',
    'urls': ['http://199.204.45.248:3928/agent_images/c6ca0af2-baec-40d6-879d-cbb5c751aafb'],
    'disk_format': 'raw', 'container_format': 'bare', 'stream_raw_images': True, 'os_hash_algo':
    'sha512', 'os_hash_value':<trimed>

This was with code built on master, using master images.
Inside the conductor log, it notes that it is likely an out
of date agent because only AgentAPIError is evaluated,
however any API error is evaluated this way. In reality, we need
to explicitly flag *when* we have an error that is because
we've tried to soon as something is already being worked upon.

The result, is to evaluate and return an exception indicating work
is already in flight.

Update - It looks like, the original fix to prevent busy agent
recognition did not fully detect all cases as getting steps is a
command which can
get skipped by accident with a busy agent, under certain circumstances.
Change I5d86878b5ed6142ed2630adee78c0867c49b663f in ironic-python-agent
also changed the string that was being checked for the previous
handling, where we really should have just made the string we were
checking lower case in ironic. Oh well! This should fix things
right up.

Story: 2008167
Task: 41175
Change-Id: Ia169640b7084d17d26f22e457c7af512db6d21d6
(cherry picked from commit 545dc2106b757e69d473c2997bbb2ac34fc131d3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/778237/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/cleaning.py', 'ironic/conductor/deployments.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py', 'releasenotes/notes/fix-busy-agent-check-3cf75242b4783009.yaml']",10,d1ffc6a557c6b3f3641bee2cfc9ec3be4649bdbe,,--- fixes: - | Fixes recognition of a busy agent to also handle recognition during deployment steps by more uniformly detecting and identifying when the ``ironic-python-agent`` service is busy. ,,188,8
openstack%2Fcharm-hacluster~master~I6a2826378462a0742a9db638cf3b4c7438f42e13,openstack/charm-hacluster,master,I6a2826378462a0742a9db638cf3b4c7438f42e13,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:56:09.000000000,2021-03-03 11:46:52.000000000,2021-03-03 10:52:18.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:56:09.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3ffb894093d7c76cacb1f20ebb290b39a52ac0ab', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I6a2826378462a0742a9db638cf3b4c7438f42e13\n'}]",0,778287,3ffb894093d7c76cacb1f20ebb290b39a52ac0ab,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I6a2826378462a0742a9db638cf3b4c7438f42e13
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/87/778287/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,3ffb894093d7c76cacb1f20ebb290b39a52ac0ab,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fkayobe~master~I0c37ba259d96c351e03dba1c8343fce8a84eb53e,openstack/kayobe,master,I0c37ba259d96c351e03dba1c8343fce8a84eb53e,Report available entropy,MERGED,2021-02-24 11:15:45.000000000,2021-03-03 11:27:01.000000000,2021-03-03 11:25:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 11:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/421c3049e910a4fbb2adc0e676430c75ec3fb87f', 'message': 'Report available entropy\n\nChange-Id: I0c37ba259d96c351e03dba1c8343fce8a84eb53e\n'}, {'number': 2, 'created': '2021-02-24 14:04:26.000000000', 'files': ['roles/kayobe-diagnostics/files/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e23e47dd630498848af4c4b58e558897f26b2b8e', 'message': 'Report available entropy\n\nChange-Id: I0c37ba259d96c351e03dba1c8343fce8a84eb53e\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076\n'}]",209,777365,e23e47dd630498848af4c4b58e558897f26b2b8e,27,2,2,15197,,,0,"Report available entropy

Change-Id: I0c37ba259d96c351e03dba1c8343fce8a84eb53e
Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/777365/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/kayobe-diagnostics/files/get_logs.sh'],1,421c3049e910a4fbb2adc0e676430c75ec3fb87f,, # available entropy cat /proc/sys/kernel/random/entropy_avail > ${LOG_DIR}/system_logs/entropy_avail.txt ,,3,0
openstack%2Fcharm-gnocchi~master~Ia7ef1f933d765981ab8075223728471c51751576,openstack/charm-gnocchi,master,Ia7ef1f933d765981ab8075223728471c51751576,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:56.000000000,2021-03-03 11:26:22.000000000,2021-03-03 11:26:22.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:55:56.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/7c81be97b23c29cef27637ceaf91f970f9c09518', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ia7ef1f933d765981ab8075223728471c51751576\n'}]",2,778286,7c81be97b23c29cef27637ceaf91f970f9c09518,10,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ia7ef1f933d765981ab8075223728471c51751576
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/86/778286/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,7c81be97b23c29cef27637ceaf91f970f9c09518,hirsute-metadata,- hirsute optional: true, optional: True,2,1
openstack%2Fcinder~master~Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,openstack/cinder,master,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.,MERGED,2020-09-21 12:42:35.000000000,2021-03-03 11:18:04.000000000,2021-02-09 08:08:36.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29122}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32159}, {'_account_id': 32291}, {'_account_id': 32324}]","[{'number': 1, 'created': '2020-09-21 12:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c656b8ff0ef8422b05e9d6479adf2e6ac050afd8', 'message': '3PAR: For Primera backend, allow iSCSI driver to be enabled\n\nFor HPE 3PAR Primera backend, now iSCSI driver is supported\nalong with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n'}, {'number': 2, 'created': '2020-09-30 10:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5695b6e00ddc16a977762988a0f84a03984c1bb5', 'message': '3PAR: For Primera backend, allow iSCSI driver to be enabled\n\nFor HPE 3PAR Primera backend, now iSCSI driver is supported\nalong with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n'}, {'number': 3, 'created': '2020-10-01 04:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d4a069f5cacd2d6d758da78b990e9b4af5828d7', 'message': '3PAR: For Primera backend, allow iSCSI driver to be enabled\n\nFor HPE 3PAR Primera backend, now iSCSI driver is supported\nalong with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n'}, {'number': 4, 'created': '2021-01-30 10:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7aabfe59662ab710a6d2a6b8e4741e12404b687', 'message': '3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.\n\nFor HPE Primera 4.2 or higher versions, now iSCSI driver is\nsupported along with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n'}, {'number': 5, 'created': '2021-01-30 11:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8eba7ed7718091ba6dc71b0aa8c40a024b8312f3', 'message': '3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.\n\nFor HPE Primera 4.2 or higher versions, now iSCSI driver is\nsupported along with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n'}, {'number': 6, 'created': '2021-01-30 11:34:59.000000000', 'files': ['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'releasenotes/notes/hpe-3par-primera-add-iscsi-5af339643dfa0928.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6cabe11c9207376f905db3a0bcadf6d43e2c2af1', 'message': '3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.\n\nFor HPE Primera 4.2 or higher versions, now iSCSI driver is\nsupported along with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n'}]",6,752934,6cabe11c9207376f905db3a0bcadf6d43e2c2af1,206,38,6,29122,,,0,"3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.

For HPE Primera 4.2 or higher versions, now iSCSI driver is
supported along with existing FC driver.
Accordingly updated code and documentation.

Change-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/752934/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",3,c656b8ff0ef8422b05e9d6479adf2e6ac050afd8,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79," def test_iscsi_primera(self, config=None, mock_conf=None): self.ctxt = context.get_admin_context() mock_client = self.setup_mock_client( conf=config, m_conf=mock_conf, driver=hpedriver.HPE3PARISCSIDriver) expected_get_cpgs = [ mock.call.getCPG(HPE3PAR_CPG), mock.call.getCPG(HPE3PAR_CPG2)] expected_get_ports = [mock.call.getPorts()] mock_client.assert_has_calls( self.standard_login + expected_get_cpgs + self.standard_logout + self.standard_login + expected_get_ports + self.standard_logout)"," expected_primera_check = [mock.call.is_primera_array()] expected_primera_check + def test_iscsi_primera(self): self.assertRaises(NotImplementedError, self.setup_mock_client, driver=hpedriver.HPE3PARISCSIDriver, is_primera=True)",19,16
openstack%2Fcharm-glance-simplestreams-sync~master~I6121fe56f684d7738ef19ce04275d3165e1df506,openstack/charm-glance-simplestreams-sync,master,I6121fe56f684d7738ef19ce04275d3165e1df506,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:43.000000000,2021-03-03 11:08:02.000000000,2021-03-03 11:08:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:55:43.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/36873ab84af444eab0fdf8b3ec4dd47d8f895c26', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I6121fe56f684d7738ef19ce04275d3165e1df506\n'}]",0,778285,36873ab84af444eab0fdf8b3ec4dd47d8f895c26,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I6121fe56f684d7738ef19ce04275d3165e1df506
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/85/778285/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,36873ab84af444eab0fdf8b3ec4dd47d8f895c26,hirsute-metadata,- hirsute,,1,0
openstack%2Ftrove-dashboard~master~I38d53ee370e52ead7e415f8ceaca246696b18e10,openstack/trove-dashboard,master,I38d53ee370e52ead7e415f8ceaca246696b18e10,Imported Translations from Zanata,MERGED,2021-03-03 08:32:55.000000000,2021-03-03 11:04:59.000000000,2021-03-03 11:01:52.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 08:32:55.000000000', 'files': ['trove_dashboard/locale/ja/LC_MESSAGES/django.po', 'trove_dashboard/locale/ru/LC_MESSAGES/django.po', 'trove_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'trove_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'trove_dashboard/locale/fr/LC_MESSAGES/django.po', 'trove_dashboard/locale/id/LC_MESSAGES/django.po', 'trove_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'trove_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'trove_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'trove_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'trove_dashboard/locale/de/LC_MESSAGES/django.po', 'trove_dashboard/locale/cs/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/e8d81f17d33ae3e123a272ba871523994c989b3d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I38d53ee370e52ead7e415f8ceaca246696b18e10\n'}]",0,778384,e8d81f17d33ae3e123a272ba871523994c989b3d,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I38d53ee370e52ead7e415f8ceaca246696b18e10
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/84/778384/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/locale/ja/LC_MESSAGES/django.po', 'trove_dashboard/locale/ru/LC_MESSAGES/django.po', 'trove_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'trove_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'trove_dashboard/locale/fr/LC_MESSAGES/django.po', 'trove_dashboard/locale/id/LC_MESSAGES/django.po', 'trove_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'trove_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'trove_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'trove_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'trove_dashboard/locale/de/LC_MESSAGES/django.po', 'trove_dashboard/locale/cs/LC_MESSAGES/django.po']",13,e8d81f17d33ae3e123a272ba871523994c989b3d,zanata/translations,"""POT-Creation-Date: 2021-03-03 00:05+0000\n""","""POT-Creation-Date: 2020-10-16 08:59+0000\n""msgid ""Backup"" msgstr ""Zloha"" ",14,64
openstack%2Fcharm-rabbitmq-server~master~Ibc3597cd9aadb9662b56cacf40c5ac6ee0650b42,openstack/charm-rabbitmq-server,master,Ibc3597cd9aadb9662b56cacf40c5ac6ee0650b42,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:04:35.000000000,2021-03-03 11:04:53.000000000,2021-03-03 11:04:53.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:04:35.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/80476374b9b9564e6ff8bd9347fdf18913bd0960', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ibc3597cd9aadb9662b56cacf40c5ac6ee0650b42\n'}]",0,778325,80476374b9b9564e6ff8bd9347fdf18913bd0960,8,4,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ibc3597cd9aadb9662b56cacf40c5ac6ee0650b42
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/25/778325/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,80476374b9b9564e6ff8bd9347fdf18913bd0960,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-placement~master~I7e7ade5b85fbc379f49877227ac4288f2725d998,openstack/charm-placement,master,I7e7ade5b85fbc379f49877227ac4288f2725d998,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:04:21.000000000,2021-03-03 11:04:03.000000000,2021-03-03 11:04:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:04:21.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/8cadc00efec35a6dfa2f4747105db56a36cdb414', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I7e7ade5b85fbc379f49877227ac4288f2725d998\n'}]",0,778324,8cadc00efec35a6dfa2f4747105db56a36cdb414,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I7e7ade5b85fbc379f49877227ac4288f2725d998
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/24/778324/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,8cadc00efec35a6dfa2f4747105db56a36cdb414,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-swift-proxy~master~I5a1053d6da7284b8edc98c76ca7fe1cdfa720b8f,openstack/charm-swift-proxy,master,I5a1053d6da7284b8edc98c76ca7fe1cdfa720b8f,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:04:48.000000000,2021-03-03 11:03:08.000000000,2021-03-03 11:03:08.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:04:48.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/fb6bdd4d0fcc103d66c03c97210cfb1f854436ac', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I5a1053d6da7284b8edc98c76ca7fe1cdfa720b8f\n'}]",0,778326,fb6bdd4d0fcc103d66c03c97210cfb1f854436ac,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I5a1053d6da7284b8edc98c76ca7fe1cdfa720b8f
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/26/778326/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,fb6bdd4d0fcc103d66c03c97210cfb1f854436ac,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-designate-bind~master~I61f14b54f8c9208b072d7e998103fa63fcf806ca,openstack/charm-designate-bind,master,I61f14b54f8c9208b072d7e998103fa63fcf806ca,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:17.000000000,2021-03-03 11:00:44.000000000,2021-03-03 11:00:44.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:55:17.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/641b271791d0db7a9a33026ea0d96e30c3fec6d1', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I61f14b54f8c9208b072d7e998103fa63fcf806ca\n'}]",0,778283,641b271791d0db7a9a33026ea0d96e30c3fec6d1,9,4,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I61f14b54f8c9208b072d7e998103fa63fcf806ca
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/83/778283/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,641b271791d0db7a9a33026ea0d96e30c3fec6d1,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fpython-swiftclient~stable%2Fussuri~Icb289d3fe5b01e08e5636371175cce55a61d2d98,openstack/python-swiftclient,stable/ussuri,Icb289d3fe5b01e08e5636371175cce55a61d2d98,Add release note for 3.9.1,MERGED,2021-01-06 15:12:33.000000000,2021-03-03 10:58:28.000000000,2021-03-03 10:55:05.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 15:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/a4b5737595de549b9055659927e67f34cb25831e', 'message': 'Add release note for 3.9.1\n\nChange-Id: Icb289d3fe5b01e08e5636371175cce55a61d2d98\n'}, {'number': 2, 'created': '2021-01-07 18:27:42.000000000', 'files': ['releasenotes/notes/3_9_1_release-ef242d7bedf3aa8b.yaml', 'AUTHORS', 'ChangeLog'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/1cf6dcd5fe9a4fea3b02ee80316d7447130f8e14', 'message': 'Add release note for 3.9.1\n\nChange-Id: Icb289d3fe5b01e08e5636371175cce55a61d2d98\n'}]",0,769551,1cf6dcd5fe9a4fea3b02ee80316d7447130f8e14,14,2,2,15197,,,0,"Add release note for 3.9.1

Change-Id: Icb289d3fe5b01e08e5636371175cce55a61d2d98
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/51/769551/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/3_9_1_release-ef242d7bedf3aa8b.yaml'],1,a4b5737595de549b9055659927e67f34cb25831e,,--- fixes: - | Fixed discovery of activated capabilities against Ceph Object Gateway. It prevented users from creating containers via Horizon on Ussuri. See bugs `1712358 <https://bugs.launchpad.net/python-swiftclient/+bug/1712358>`__ and `1880188 <https://bugs.launchpad.net/horizon/+bug/1880188>`__ for more details. ,,8,0
openstack%2Fcharm-pacemaker-remote~master~I1eacb367460bc9a355c34249ee726390b72b9979,openstack/charm-pacemaker-remote,master,I1eacb367460bc9a355c34249ee726390b72b9979,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:03:55.000000000,2021-03-03 10:57:58.000000000,2021-03-03 10:57:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:03:55.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/ebefd575c872058f36cc714e90d0e29c5e6f7af5', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I1eacb367460bc9a355c34249ee726390b72b9979\n'}]",0,778323,ebefd575c872058f36cc714e90d0e29c5e6f7af5,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I1eacb367460bc9a355c34249ee726390b72b9979
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/23/778323/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,ebefd575c872058f36cc714e90d0e29c5e6f7af5,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-designate~master~I5bf5f91ce065e54bcca4333527a5fe497d8ebf70,openstack/charm-designate,master,I5bf5f91ce065e54bcca4333527a5fe497d8ebf70,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:55:04.000000000,2021-03-03 10:57:24.000000000,2021-03-03 10:57:24.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:55:04.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/2cbaedab44293351192e9ac2eb9982dc4d902f08', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I5bf5f91ce065e54bcca4333527a5fe497d8ebf70\n'}]",0,778282,2cbaedab44293351192e9ac2eb9982dc4d902f08,9,4,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I5bf5f91ce065e54bcca4333527a5fe497d8ebf70
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/82/778282/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2cbaedab44293351192e9ac2eb9982dc4d902f08,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-octavia-diskimage-retrofit~master~Id692696777cd14edd84e0ff10c9061419409b2f0,openstack/charm-octavia-diskimage-retrofit,master,Id692696777cd14edd84e0ff10c9061419409b2f0,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:02:48.000000000,2021-03-03 10:56:58.000000000,2021-03-03 10:56:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:02:48.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/2674b7ad02ba3bf347f11372e5a13456a74cf231', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Id692696777cd14edd84e0ff10c9061419409b2f0\n'}]",0,778318,2674b7ad02ba3bf347f11372e5a13456a74cf231,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Id692696777cd14edd84e0ff10c9061419409b2f0
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/18/778318/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2674b7ad02ba3bf347f11372e5a13456a74cf231,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-neutron-api-plugin-ovn~master~I28a12f26e11bcd619318df176c9279c4326026e9,openstack/charm-neutron-api-plugin-ovn,master,I28a12f26e11bcd619318df176c9279c4326026e9,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:00:40.000000000,2021-03-03 10:56:02.000000000,2021-03-03 10:56:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:00:40.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/42c75d44c5e304c0a0f5957a0af9d2f805f84b7f', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I28a12f26e11bcd619318df176c9279c4326026e9\n'}]",0,778309,42c75d44c5e304c0a0f5957a0af9d2f805f84b7f,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I28a12f26e11bcd619318df176c9279c4326026e9
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/09/778309/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,42c75d44c5e304c0a0f5957a0af9d2f805f84b7f,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-cinder-purestorage~master~I130a84bd38403c1c9bf1bc82094fb4e920033008,openstack/charm-cinder-purestorage,master,I130a84bd38403c1c9bf1bc82094fb4e920033008,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:54:50.000000000,2021-03-03 10:55:44.000000000,2021-03-03 10:55:44.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:54:50.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/e25b8e0394213c5a139e15251f4cc631ee0fb00c', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I130a84bd38403c1c9bf1bc82094fb4e920033008\n'}]",0,778281,e25b8e0394213c5a139e15251f4cc631ee0fb00c,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I130a84bd38403c1c9bf1bc82094fb4e920033008
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/81/778281/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,e25b8e0394213c5a139e15251f4cc631ee0fb00c,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-nova-compute~master~I59840b672673aa4a8e253659300d9333c1b20a4b,openstack/charm-nova-compute,master,I59840b672673aa4a8e253659300d9333c1b20a4b,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:02:08.000000000,2021-03-03 10:54:58.000000000,2021-03-03 10:54:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:02:08.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b49dbc252c3b0a1ecf8e29b6cfc3a1eb52d97eab', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I59840b672673aa4a8e253659300d9333c1b20a4b\n'}]",0,778315,b49dbc252c3b0a1ecf8e29b6cfc3a1eb52d97eab,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I59840b672673aa4a8e253659300d9333c1b20a4b
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/15/778315/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,b49dbc252c3b0a1ecf8e29b6cfc3a1eb52d97eab,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-nova-cloud-controller~master~I182a45e5be41f8afcc87ef6e062a8ac2dd64c2e5,openstack/charm-nova-cloud-controller,master,I182a45e5be41f8afcc87ef6e062a8ac2dd64c2e5,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:01:54.000000000,2021-03-03 10:54:30.000000000,2021-03-03 10:54:30.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:01:54.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/5fcf939fab7b9391ea7f95ad73a9b3545f5b6482', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I182a45e5be41f8afcc87ef6e062a8ac2dd64c2e5\n'}]",0,778314,5fcf939fab7b9391ea7f95ad73a9b3545f5b6482,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I182a45e5be41f8afcc87ef6e062a8ac2dd64c2e5
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/14/778314/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,5fcf939fab7b9391ea7f95ad73a9b3545f5b6482,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-cinder-backup~master~Iacafa8ba725130abbae33d8efbeb12c007c6a3fc,openstack/charm-cinder-backup,master,Iacafa8ba725130abbae33d8efbeb12c007c6a3fc,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:54:11.000000000,2021-03-03 10:52:08.000000000,2021-03-03 10:52:08.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:54:11.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/c1d7169ed08ecceef1064893018e383e19dd0924', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Iacafa8ba725130abbae33d8efbeb12c007c6a3fc\n'}]",0,778278,c1d7169ed08ecceef1064893018e383e19dd0924,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Iacafa8ba725130abbae33d8efbeb12c007c6a3fc
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/78/778278/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,c1d7169ed08ecceef1064893018e383e19dd0924,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-neutron-dynamic-routing~master~I35feba77b5fe2b0bb5b23d5bff02b3ea5d6c357f,openstack/charm-neutron-dynamic-routing,master,I35feba77b5fe2b0bb5b23d5bff02b3ea5d6c357f,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:00:55.000000000,2021-03-03 10:51:33.000000000,2021-03-03 10:51:33.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:00:55.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/5e68058fafae1bd7fa5ace16686ab759578313a3', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I35feba77b5fe2b0bb5b23d5bff02b3ea5d6c357f\n'}]",0,778310,5e68058fafae1bd7fa5ace16686ab759578313a3,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I35feba77b5fe2b0bb5b23d5bff02b3ea5d6c357f
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/10/778310/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,5e68058fafae1bd7fa5ace16686ab759578313a3,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-ceph-proxy~master~I744188799db42ea9960ea35c1e83e773c6a2ee36,openstack/charm-ceph-proxy,master,I744188799db42ea9960ea35c1e83e773c6a2ee36,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:53:13.000000000,2021-03-03 10:50:57.000000000,2021-03-03 10:50:57.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:53:13.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/acd6eedfa99db524cd639e391b340e350eb3173d', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I744188799db42ea9960ea35c1e83e773c6a2ee36\n'}]",0,778273,acd6eedfa99db524cd639e391b340e350eb3173d,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I744188799db42ea9960ea35c1e83e773c6a2ee36
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/73/778273/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,acd6eedfa99db524cd639e391b340e350eb3173d,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-neutron-api-plugin-ironic~master~Id18bd920122723bef80ecb53fa3b0cff6eee0eea,openstack/charm-neutron-api-plugin-ironic,master,Id18bd920122723bef80ecb53fa3b0cff6eee0eea,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:00:26.000000000,2021-03-03 10:48:53.000000000,2021-03-03 10:48:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:00:26.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/2a9cc0edb369b4b4ecd1eaaac27dd36695277d4b', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Id18bd920122723bef80ecb53fa3b0cff6eee0eea\n'}]",0,778307,2a9cc0edb369b4b4ecd1eaaac27dd36695277d4b,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Id18bd920122723bef80ecb53fa3b0cff6eee0eea
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/07/778307/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2a9cc0edb369b4b4ecd1eaaac27dd36695277d4b,hirsute-metadata,- misc - networking- bionic - focal - groovy - hirsute, - misc - networking - bionic - focal - groovy,6,5
openstack%2Fcharm-manila~master~I623bdfe6496404b4c10d51d398fdd6564078115d,openstack/charm-manila,master,I623bdfe6496404b4c10d51d398fdd6564078115d,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:58:06.000000000,2021-03-03 10:44:43.000000000,2021-03-03 10:44:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:58:06.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/405519c9f409edc3e45486d366a064e0e1b1abc2', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I623bdfe6496404b4c10d51d398fdd6564078115d\n'}]",0,778296,405519c9f409edc3e45486d366a064e0e1b1abc2,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I623bdfe6496404b4c10d51d398fdd6564078115d
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/96/778296/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,405519c9f409edc3e45486d366a064e0e1b1abc2,hirsute-metadata,- hirsute,,1,0
openstack%2Ftripleo-validations~master~Ic9a6be649d6f4185f01106fde258a723e305a822,openstack/tripleo-validations,master,Ic9a6be649d6f4185f01106fde258a723e305a822,CLI removed in preparation for repo merger.,ABANDONED,2021-02-25 14:50:49.000000000,2021-03-03 10:41:13.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-02-25 14:50:49.000000000', 'files': ['tripleo_validations/plugin.py', 'setup.cfg', 'tripleo_validations/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d33947b81b82b303a2d12233693467480c430074', 'message': 'CLI removed in preparation for repo merger.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic9a6be649d6f4185f01106fde258a723e305a822\n'}]",0,777603,d33947b81b82b303a2d12233693467480c430074,8,5,1,32926,,,0,"CLI removed in preparation for repo merger.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic9a6be649d6f4185f01106fde258a723e305a822
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/777603/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tripleo_validations/plugin.py', 'tripleo_validations/tripleo_validator.py']",3,d33947b81b82b303a2d12233693467480c430074,cli/removal,,"# Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import argparse import json import logging import yaml from openstack import exceptions as os_exceptions from osc_lib import exceptions from osc_lib.i18n import _ from prettytable import PrettyTable from osc_lib.command import command from tripleoclient import utils as oooutils from tripleoclient.workflows import deployment from tripleo_validations import constants from validations_libs import constants as v_consts from validations_libs import utils as v_utils from validations_libs.validation_actions import ValidationActions from validations_libs.validation_logs import ValidationLogs LOG = logging.getLogger(__name__ + "".TripleoValidator"") RED = ""\033[1;31m"" GREEN = ""\033[0;32m"" CYAN = ""\033[36m"" YELLOW = ""\033[0;33m"" RESET = ""\033[0;0m"" FAILED_VALIDATION = ""{}FAILED{}"".format(RED, RESET) PASSED_VALIDATION = ""{}PASSED{}"".format(GREEN, RESET) GROUP_FILE = constants.VALIDATION_GROUPS_INFO NO_VALIDATION_STATE = ['DEPLOY_FAILED', 'DEPLOYING'] class _CommaListGroupAction(argparse.Action): def __call__(self, parser, namespace, values, option_string=None): opts = v_utils.get_validation_group_name_list(GROUP_FILE) for value in values.split(','): if value not in opts: message = (""Invalid choice: {value} (choose from {choice})"" .format(value=value, choice=opts)) raise argparse.ArgumentError(self, message) setattr(namespace, self.dest, values.split(',')) class _CommaListAction(argparse.Action): def __call__(self, parser, namespace, values, option_string=None): setattr(namespace, self.dest, values.split(',')) class TripleOValidatorGroupInfo(command.Lister): """"""Display Information about Validation Groups"""""" auth_required = False def get_parser(self, prog_name): parser = super(TripleOValidatorGroupInfo, self).get_parser(prog_name) return parser def take_action(self, parsed_args): actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return actions.group_information(GROUP_FILE) class TripleOValidatorShow(command.ShowOne): """"""Display detailed information about a Validation"""""" auth_required = False def get_parser(self, prog_name): parser = super(TripleOValidatorShow, self).get_parser(prog_name) parser.add_argument('validation_id', metavar=""<validation>"", type=str, help='Validation ID') return parser def take_action(self, parsed_args): LOG.debug(_('Show validation result')) actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) try: data = actions.show_validations(parsed_args.validation_id) except Exception as e: raise exceptions.CommandError(e) if data: return data.keys(), data.values() class TripleOValidatorShowParameter(command.Command): """"""Display Validations Parameters"""""" auth_required = False def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, formatter_class=argparse.ArgumentDefaultsHelpFormatter, add_help=True ) ex_group = parser.add_mutually_exclusive_group(required=False) ex_group.add_argument( '--validation', metavar='<validation_id>[,<validation_id>,...]', dest='validation_name', action=_CommaListAction, default=[], help=_(""List specific validations, "" ""if more than one validation is required "" ""separate the names with commas: "" ""--validation check-ftype,512e | "" ""--validation 512e"") ) ex_group.add_argument( '--group', metavar='<group_id>[,<group_id>,...]', action=_CommaListGroupAction, default=[], help=_(""List specific group validations, "" ""if more than one group is required "" ""separate the group names with commas: "" ""pre-upgrade,prep | "" ""openshift-on-openstack"") ) parser.add_argument( '--download', action='store', default=None, help=_(""Create a json or a yaml file "" ""containing all the variables "" ""available for the validations: "" ""/tmp/myvars"") ) parser.add_argument( '-f', '--format', action='store', metavar='<format>', default='json', choices=['json', 'yaml'], help=_(""Print representation of the validation. "" ""The choices of the output format is json,yaml. "") ) return parser def take_action(self, parsed_args): actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) params = actions.show_validations_parameters( parsed_args.validation_name, parsed_args.group, parsed_args.format, parsed_args.download) if parsed_args.download: print(""The file {} has been created successfully"".format( parsed_args.download)) else: print(params) class TripleOValidatorList(command.Lister): """"""List the available validations"""""" auth_required = False def get_parser(self, prog_name): parser = super(TripleOValidatorList, self).get_parser(prog_name) parser.add_argument( '--group', metavar='<group>[,<group>,...]', action=_CommaListGroupAction, default=[], help=_(""List specific group validations, "" ""if more than one group is required "" ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"") ) return parser def take_action(self, parsed_args): LOG.debug(_('Launch listing the validations')) try: v_consts.DEFAULT_VALIDATIONS_BASEDIR = constants.\ DEFAULT_VALIDATIONS_BASEDIR actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR, parsed_args.group) return actions.list_validations() except Exception as e: raise RuntimeError(_(""Validations listing finished with errors\n"" ""Output: {}"").format(e)) class TripleOValidatorRun(command.Command): """"""Run the available validations"""""" auth_required = False def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, formatter_class=argparse.ArgumentDefaultsHelpFormatter, add_help=False ) parser.add_argument( '--plan', '--stack', dest='plan', default=None, help=_(""Execute the validations using a custom plan name"") ) parser.add_argument( '--ssh-user', dest='ssh_user', default='heat-admin', help=_(""Ssh User name for the Overcloud ssh connection."") ) parser.add_argument( '--limit', action='store', required=False, help=_( ""A string that identifies a single node or comma-separated"" ""list of nodes to be upgraded in parallel in this upgrade"" "" run invocation. For example: --limit \""compute-0,"" "" compute-1, compute-5\""."") ) extra_vars_group = parser.add_mutually_exclusive_group(required=False) extra_vars_group.add_argument( '--extra-vars', action='store', default={}, type=json.loads, help=_( ""Add a dictionary as extra variable to a validation: "" ""--extra-vars '{\""min_undercloud_ram_gb\"": 24}'"") ) extra_vars_group.add_argument( '--extra-vars-file', action='store', default='', help=_( ""Add a JSON/YAML file containing extra variable "" ""to a validation: "" ""--extra-vars-file /home/stack/vars.[json|yaml] "" ""If using Mistral, only a valid JSON file will be "" ""supported."" ) ) extra_vars_group.add_argument( '--extra-env-vars', action='store', default={}, type=json.loads, help=_( ""A dictionary as extra environment variables you may need "" ""to provide to your Ansible execution example:"" ""ANSIBLE_STDOUT_CALLBACK=default"") ) extra_vars_group.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) ex_group = parser.add_mutually_exclusive_group(required=True) ex_group.add_argument( '--validation', metavar='<validation_id>[,<validation_id>,...]', dest=""validation_name"", action=_CommaListAction, default=[], help=_(""Run specific validations, "" ""if more than one validation is required "" ""separate the names with commas: "" ""--validation check-ftype,512e | "" ""--validation 512e"") ) ex_group.add_argument( '--group', metavar='<group>[,<group>,...]', action=_CommaListGroupAction, default=[], help=_(""Run specific group validations, "" ""if more than one group is required "" ""separate the group names with commas: "" ""--group pre-upgrade,prep | "" ""--group openshift-on-openstack"") ) return parser def _run_validator_run(self, parsed_args): LOG = logging.getLogger(__name__ + "".ValidationsRunAnsible"") plan = parsed_args.plan # Try to perform OpenStack authentication, if no authentication # and static inventory provided continue, else raise error. try: clients = self.app.client_manager clients._auth_required = True clients.setup_auth() except os_exceptions.ConfigException: msg = ""Running Validations without authentication."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) if not parsed_args.static_inventory: raise exceptions.CommandError( _(""No static inventory provided, please provide a valid "" ""inventory or use authentication."")) else: if plan: status = deployment.get_deployment_status(clients, plan=plan) if not status or status in NO_VALIDATION_STATE: raise exceptions.CommandError( _(""The plan and the stack '{}' doesn't exist OR are "" ""in 'failed' or 'deploying' state. "" ""Please use a valid plan"".format(plan))) else: msg = ""Running Validations without Overcloud settings."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) limit = parsed_args.limit extra_vars = parsed_args.extra_vars if parsed_args.extra_vars_file: try: with open(parsed_args.extra_vars_file, 'r') as env_file: extra_vars.update(yaml.safe_load(env_file.read())) except yaml.YAMLError as e: error_msg = ( ""The request body must be properly formatted YAML/JSON. "" ""Details: %s."" % e) raise exceptions.CommandError(error_msg) # We don't check if the file exists in order to support # passing a string such as ""localhost,"", like we can do with # the ""-i"" option of ansible-playbook. if parsed_args.static_inventory: static_inventory = parsed_args.static_inventory else: static_inventory = oooutils.get_tripleo_ansible_inventory( ssh_user=parsed_args.ssh_user, stack=parsed_args.plan, undercloud_connection='local', return_inventory_file_path=True) v_consts.DEFAULT_VALIDATIONS_BASEDIR = constants.\ DEFAULT_VALIDATIONS_BASEDIR actions = ValidationActions() try: results = actions.run_validations( inventory=static_inventory, limit_hosts=limit, group=parsed_args.group, extra_vars=extra_vars, validations_dir=constants.ANSIBLE_VALIDATION_DIR, validation_name=parsed_args.validation_name, extra_env_vars=parsed_args.extra_env_vars, quiet=True) except RuntimeError as e: raise exceptions.CommandError(e) if results: # Build output t = PrettyTable(border=True, header=True, padding_width=1) # Set Field name by getting the result dict keys t.field_names = results[0].keys() for r in results: if r.get('Status_by_Host'): h = [] for host in r['Status_by_Host'].split(', '): _name, _status = host.split(',') color = (GREEN if _status == 'PASSED' else RED) _name = '{}{}{}'.format(color, _name, RESET) h.append(_name) r['Status_by_Host'] = ', '.join(h) if r.get('status'): status = r.get('status') color = (CYAN if status in ['starting', 'running'] else GREEN if status == 'PASSED' else RED) r['status'] = '{}{}{}'.format(color, status, RESET) t.add_row(r.values()) print(t) else: msg = ""No Validation has been run, please check your parameters."" LOG.info(_(msg)) if not parsed_args.static_inventory: LOG.debug(_('Removing static tripleo ansible inventory file')) oooutils.cleanup_tripleo_ansible_inventory_file( static_inventory) def take_action(self, parsed_args): self._run_validator_run(parsed_args) class TripleOValidatorShowRun(command.Command): """"""Display details about a Validation execution"""""" auth_required = False def get_parser(self, prog_name): parser = argparse.ArgumentParser( description=self.get_description(), prog=prog_name, formatter_class=argparse.ArgumentDefaultsHelpFormatter, add_help=False ) parser.add_argument('uuid', metavar=""<uuid>"", type=str, help='Validation UUID Run') parser.add_argument('--full', action='store_true', help='Show Full Details for the run') return parser def take_action(self, parsed_args): vlogs = ValidationLogs() data = vlogs.get_logfile_content_by_uuid(parsed_args.uuid) if data: if parsed_args.full: for d in data: print(json.dumps(d, indent=4, sort_keys=True)) else: for d in data: for p in d.get('validation_output', []): print(json.dumps(p['task'], indent=4, sort_keys=True)) else: raise exceptions.CommandError( ""Could not find the log file linked to this UUID: %s"" % parsed_args.uuid) class TripleOValidatorShowHistory(command.Lister): """"""Display Validations execution history"""""" auth_required = False def get_parser(self, prog_name): parser = super(TripleOValidatorShowHistory, self).get_parser(prog_name) parser.add_argument('--validation', metavar=""<validation>"", type=str, help='Display execution history for a validation') return parser def take_action(self, parsed_args): actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return actions.show_history(parsed_args.validation) ",0,562
openstack%2Fcharm-ceph-fs~master~Ide508d37e11b37d2c4d19942fbeef9655390fae9,openstack/charm-ceph-fs,master,Ide508d37e11b37d2c4d19942fbeef9655390fae9,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:33.000000000,2021-03-03 10:39:52.000000000,2021-03-03 10:39:52.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:52:33.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/c8feba48a592445f20ed247e45866077c01a114d', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ide508d37e11b37d2c4d19942fbeef9655390fae9\n'}]",0,778270,c8feba48a592445f20ed247e45866077c01a114d,9,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ide508d37e11b37d2c4d19942fbeef9655390fae9
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/70/778270/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,c8feba48a592445f20ed247e45866077c01a114d,hirsute-metadata,- hirsute,,1,0
openstack%2Ftripleo-validations~master~I639bbd5ef5b80777ee18c2dce0b16ab6f5066476,openstack/tripleo-validations,master,I639bbd5ef5b80777ee18c2dce0b16ab6f5066476,ansible-lint will no longer colorize its output,ABANDONED,2021-03-03 09:53:31.000000000,2021-03-03 10:37:46.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-03 09:53:31.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0cfe7171d7ff3897965aea635ddd8ba902581b2e', 'message': 'ansible-lint will no longer colorize its output\n\nThe result was needlesly confusing when appearing in zuul\nreports as it inserted ascii strings for color encoding\nand added little in readability on personal terminals.\n\nFor example, with coloring enabled:\n[34mroles/switch_vlans/tasks/main.yml[0m:2:3: [91msyntax-check[0m\n\nWithout coloring:\nroles/switch_vlans/tasks/main.yml:2:3: syntax-check\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I639bbd5ef5b80777ee18c2dce0b16ab6f5066476\n'}]",0,778397,0cfe7171d7ff3897965aea635ddd8ba902581b2e,5,6,1,32926,,,0,"ansible-lint will no longer colorize its output

The result was needlesly confusing when appearing in zuul
reports as it inserted ascii strings for color encoding
and added little in readability on personal terminals.

For example, with coloring enabled:
[34mroles/switch_vlans/tasks/main.yml[0m:2:3: [91msyntax-check[0m

Without coloring:
roles/switch_vlans/tasks/main.yml:2:3: syntax-check

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I639bbd5ef5b80777ee18c2dce0b16ab6f5066476
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/778397/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,0cfe7171d7ff3897965aea635ddd8ba902581b2e,pre-commit/ansiblecolors, args: [--nocolor] ,,2,0
openstack%2Fcharm-ceilometer-agent~master~Id3a5027d4165da8be59f37b9b9a96c34280c78ce,openstack/charm-ceilometer-agent,master,Id3a5027d4165da8be59f37b9b9a96c34280c78ce,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:19.000000000,2021-03-03 10:33:36.000000000,2021-03-03 10:33:36.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:52:19.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/442e6580e7d8b7a575c6038a47e500572c56ebdf', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Id3a5027d4165da8be59f37b9b9a96c34280c78ce\n'}]",0,778269,442e6580e7d8b7a575c6038a47e500572c56ebdf,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Id3a5027d4165da8be59f37b9b9a96c34280c78ce
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/69/778269/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,442e6580e7d8b7a575c6038a47e500572c56ebdf,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-ironic-api~master~I998769f4a02f9a2a3ece0ed20e2a478703d566c3,openstack/charm-ironic-api,master,I998769f4a02f9a2a3ece0ed20e2a478703d566c3,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:56:35.000000000,2021-03-03 10:32:29.000000000,2021-03-03 10:32:29.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:56:35.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/971d24232e4563892543ca9ba8eb04ddca123a1d', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I998769f4a02f9a2a3ece0ed20e2a478703d566c3\n'}]",0,778289,971d24232e4563892543ca9ba8eb04ddca123a1d,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I998769f4a02f9a2a3ece0ed20e2a478703d566c3
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/89/778289/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,971d24232e4563892543ca9ba8eb04ddca123a1d,hirsute-metadata,- openstack - baremetal series: - bionic - focal - groovy - hirsute, - openstack - baremetal series: - bionic - focal - groovy,6,5
openstack%2Fcharm-barbican-vault~master~I7491d754ed327f3b8604f04db7847541f2d56251,openstack/charm-barbican-vault,master,I7491d754ed327f3b8604f04db7847541f2d56251,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:52.000000000,2021-03-03 10:32:02.000000000,2021-03-03 10:32:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:51:52.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/e0e4ab4c052a39943c6310b5797bc329e0351c5f', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I7491d754ed327f3b8604f04db7847541f2d56251\n'}]",0,778267,e0e4ab4c052a39943c6310b5797bc329e0351c5f,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I7491d754ed327f3b8604f04db7847541f2d56251
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/67/778267/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,e0e4ab4c052a39943c6310b5797bc329e0351c5f,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-barbican-softhsm~master~Iac0486c6d978a34b9e7873bd00627d5c55d32e25,openstack/charm-barbican-softhsm,master,Iac0486c6d978a34b9e7873bd00627d5c55d32e25,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:33.000000000,2021-03-03 10:31:17.000000000,2021-03-03 10:31:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:51:33.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/c6dcfbbdf414176f55668460ddc1af83b4ab5a6b', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Iac0486c6d978a34b9e7873bd00627d5c55d32e25\n'}]",0,778266,c6dcfbbdf414176f55668460ddc1af83b4ab5a6b,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Iac0486c6d978a34b9e7873bd00627d5c55d32e25
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/66/778266/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,c6dcfbbdf414176f55668460ddc1af83b4ab5a6b,hirsute-metadata,- xenial - bionic - focal - groovy - hirsute, - xenial - bionic - focal - groovy,5,4
openstack%2Fcharm-barbican~master~Ied3c4d70fb5a7cf2556a4ca7d9c0aec551b63939,openstack/charm-barbican,master,Ied3c4d70fb5a7cf2556a4ca7d9c0aec551b63939,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:20.000000000,2021-03-03 10:30:19.000000000,2021-03-03 10:30:19.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:51:20.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/45d9d9b19d4d47fcb92df8f0d108789f981f1e93', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ied3c4d70fb5a7cf2556a4ca7d9c0aec551b63939\n'}]",0,778265,45d9d9b19d4d47fcb92df8f0d108789f981f1e93,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ied3c4d70fb5a7cf2556a4ca7d9c0aec551b63939
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/65/778265/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,45d9d9b19d4d47fcb92df8f0d108789f981f1e93,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-ceph-mon~master~Ib160d6ff913702486c9a9d81252d0129e8da79a9,openstack/charm-ceph-mon,master,Ib160d6ff913702486c9a9d81252d0129e8da79a9,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:46.000000000,2021-03-03 10:29:17.000000000,2021-03-03 10:29:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:52:46.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/97c423b8a71c95e31e6ab1ebf930241332cbffd5', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ib160d6ff913702486c9a9d81252d0129e8da79a9\n'}]",0,778271,97c423b8a71c95e31e6ab1ebf930241332cbffd5,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ib160d6ff913702486c9a9d81252d0129e8da79a9
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/71/778271/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,97c423b8a71c95e31e6ab1ebf930241332cbffd5,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-ceph-rbd-mirror~master~I7fce00f968b540d0a5824a2df262f0195bae8739,openstack/charm-ceph-rbd-mirror,master,I7fce00f968b540d0a5824a2df262f0195bae8739,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:53:43.000000000,2021-03-03 10:25:39.000000000,2021-03-03 10:25:39.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:53:43.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/8c7e471615e22caf341a92f47d269f55b4a1d317', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I7fce00f968b540d0a5824a2df262f0195bae8739\n'}]",0,778276,8c7e471615e22caf341a92f47d269f55b4a1d317,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I7fce00f968b540d0a5824a2df262f0195bae8739
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/76/778276/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,8c7e471615e22caf341a92f47d269f55b4a1d317,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-ceilometer~master~Ia68a287eabffa14e5675e1895bfe54fddc2615e0,openstack/charm-ceilometer,master,Ia68a287eabffa14e5675e1895bfe54fddc2615e0,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:52:06.000000000,2021-03-03 10:25:19.000000000,2021-03-03 10:25:19.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:52:06.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/5ff31b10a24f800a3e582721b388eeac5211fffc', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ia68a287eabffa14e5675e1895bfe54fddc2615e0\n'}]",0,778268,5ff31b10a24f800a3e582721b388eeac5211fffc,7,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ia68a287eabffa14e5675e1895bfe54fddc2615e0
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/68/778268/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,5ff31b10a24f800a3e582721b388eeac5211fffc,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fcharm-aodh~master~Ie57eb5b9fffddf61a39f23b193b4fb823c5cd1a2,openstack/charm-aodh,master,Ie57eb5b9fffddf61a39f23b193b4fb823c5cd1a2,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:51:07.000000000,2021-03-03 10:24:13.000000000,2021-03-03 10:24:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:51:07.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/729c46410c69011a86529f1336cb201b8b58a2f6', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ie57eb5b9fffddf61a39f23b193b4fb823c5cd1a2\n'}]",0,778264,729c46410c69011a86529f1336cb201b8b58a2f6,8,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ie57eb5b9fffddf61a39f23b193b4fb823c5cd1a2
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/64/778264/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,729c46410c69011a86529f1336cb201b8b58a2f6,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Frequirements~master~Ibb02c3946c1b03a56216b555c092b209a45890c3,openstack/requirements,master,Ibb02c3946c1b03a56216b555c092b209a45890c3,Updated from generate-constraints,MERGED,2021-03-03 06:17:41.000000000,2021-03-03 10:18:20.000000000,2021-03-03 10:15:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 06:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c8eb001fcaf4bb9442cde036d72905fbe198595', 'message': 'Updated from generate-constraints\n\nChange-Id: Ibb02c3946c1b03a56216b555c092b209a45890c3\n'}, {'number': 2, 'created': '2021-03-03 06:31:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/32ced57cbac8c2713f982bb094b9b2ab997ddea3', 'message': 'Updated from generate-constraints\n\nChange-Id: Ibb02c3946c1b03a56216b555c092b209a45890c3\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,778361,32ced57cbac8c2713f982bb094b9b2ab997ddea3,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ibb02c3946c1b03a56216b555c092b209a45890c3
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/778361/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3c8eb001fcaf4bb9442cde036d72905fbe198595,openstack/requirements/constraints/noclob,websocket-client===0.58.0croniter===1.0.7pyghmi===1.5.23autobahn===21.3.1;python_version=='3.8'boto3===1.17.19botocore===1.20.19jsonpatch===1.30pkg-resources===0.0.0,websocket-client===0.57.0croniter===1.0.6pyghmi===1.5.22autobahn===21.2.2;python_version=='3.8'boto3===1.17.18botocore===1.20.18jsonpatch===1.28setuptools===54.0.0,8,8
openstack%2Fneutron~master~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,master,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-02 12:05:32.000000000,2021-03-03 10:17:47.000000000,2021-03-03 10:15:04.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 12:05:32.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dbe389392bbfadebe8c12b06171cf04a24d32ff', 'message': 'Fix wrong packet_type set for IPv6 GRE tunnels in OVS\n\nIn patch [1] it was by mistake set to ""legacy"" but it should be\n""legacy_l2"".\nThis patch fixes that mistake.\n\nCloses-bug: #1917448\n\n[1] https://review.opendev.org/c/openstack/neutron/+/763204\n\nChange-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238\n'}]",0,778178,1dbe389392bbfadebe8c12b06171cf04a24d32ff,14,7,1,11975,,,0,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/778178/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",3,1dbe389392bbfadebe8c12b06171cf04a24d32ff,bug/1917448," 'packet_type': 'legacy_l2',",,3,2
openstack%2Fcharm-pacemaker-remote~master~Id44d2037d5743bc882388141d726194c51d82fbf,openstack/charm-pacemaker-remote,master,Id44d2037d5743bc882388141d726194c51d82fbf,Add new osci.yaml,MERGED,2021-02-18 07:49:23.000000000,2021-03-03 10:14:50.000000000,2021-03-03 10:14:50.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:49:23.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/54a7e52c96a4d72b23898e61023efd33742ae6a2', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: Id44d2037d5743bc882388141d726194c51d82fbf\n'}]",0,776387,54a7e52c96a4d72b23898e61023efd33742ae6a2,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: Id44d2037d5743bc882388141d726194c51d82fbf
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/87/776387/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,54a7e52c96a4d72b23898e61023efd33742ae6a2,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - bionic-basic - focal-basic - groovy-basic vars: needs_charm_build: true charm_build_name: pacemaker-remote - job: name: bionic-basic parent: func-target dependencies: - osci-lint - tox-py35 - tox-py36 - tox-py37 - tox-py38 vars: tox_extra_args: bionic-basic - job: name: focal-basic parent: func-target dependencies: &smoke-jobs - bionic-basic vars: tox_extra_args: focal-basic - job: name: groovy-basic parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: groovy-basic,,36,0
openstack%2Fcharm-openstack-dashboard~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-openstack-dashboard,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:48:33.000000000,2021-03-03 10:14:32.000000000,2021-03-03 10:14:32.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e0e98a8e0b5d94b08d691feedb8fc2d4cb6a513f', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 2, 'created': '2021-02-23 10:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/88bc92f82c1f11fff64d2ada808bbf927336f59e', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 3, 'created': '2021-02-23 10:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e36a56d0a5b947dc0c356b66c538f6bf69a79be8', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 4, 'created': '2021-02-23 11:59:20.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/0a53c05de50cc47a6b466d8349f6ad10b3d0f2f2', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}]",0,776383,0a53c05de50cc47a6b466d8349f6ad10b3d0f2f2,28,4,4,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/83/776383/4 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,e0e98a8e0b5d94b08d691feedb8fc2d4cb6a513f,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - bionic-train-gr - checklist-work-required-xenial-mitaka - checklist-work-required-xenial-queens - checklist-work-required-bionic-queens - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - focal-ussuri - focal-victoria - groovy-victoria - job: name: checklist-work-required-xenial-mitaka parent: func-target dependencies: &smoke-jobs - focal-ussuri vars: tox_extra_args: checklist-work-required:xenial-mitaka - job: name: checklist-work-required-xenial-queens parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: checklist-work-required:xenial-queens - job: name: checklist-work-required-bionic-queens parent: func-target dependencies: smoke-jobs vars: tox_extra_args: checklist-work-required:bionic-queens - job: name: bionic-train-gr parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: vault:bionic-vault dashboard:bionic-queens-cmr-vault ,,42,0
openstack%2Fopenstacksdk~master~I597407fcf9eb6b41e448d4b2d70eba2670deef95,openstack/openstacksdk,master,I597407fcf9eb6b41e448d4b2d70eba2670deef95,"Add dns_name, dns_domain parameters to create/update port.",NEW,2021-03-01 19:25:05.000000000,2021-03-03 10:14:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-01 19:25:05.000000000', 'files': ['releasenotes/notes/add-dns-support-for-port-1d527b2ac03e6ec6.yaml', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f0ed4c63a15db6fde5e1ab79e52684e375a1568f', 'message': 'Add dns_name, dns_domain parameters to create/update port.\n\nThe Port class supports the dns_name and dns_domain parameters.\nThis commit allows specifying these attributes whe creating/updating ports.\n\nChange-Id: I597407fcf9eb6b41e448d4b2d70eba2670deef95\nSigned-off-by: dariko <git@dariozanzico.com>\n'}]",1,778055,f0ed4c63a15db6fde5e1ab79e52684e375a1568f,3,2,1,27775,,,0,"Add dns_name, dns_domain parameters to create/update port.

The Port class supports the dns_name and dns_domain parameters.
This commit allows specifying these attributes whe creating/updating ports.

Change-Id: I597407fcf9eb6b41e448d4b2d70eba2670deef95
Signed-off-by: dariko <git@dariozanzico.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/55/778055/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-dns-support-for-port-1d527b2ac03e6ec6.yaml', 'openstack/cloud/_network.py']",2,f0ed4c63a15db6fde5e1ab79e52684e375a1568f,add_dns_extension_parameters," 'qos_policy_id', 'binding:host_id', 'dns_name', 'dns_domain') :param dns_name: The DNS name associated with the port. :param dns_domain: The DNS domain associated with the port. 'binding:host_id', 'dns_name', 'dns_domain') :param dns_name: The DNS name associated with the port. :param dns_domain: The DNS domain associated with the port."," 'qos_policy_id', 'binding:host_id') 'binding:host_id')",12,2
openstack%2Fopenstack-ansible-lxc_hosts~master~Ibf405ab9334892705c9bf519e180e608c9d3adad,openstack/openstack-ansible-lxc_hosts,master,Ibf405ab9334892705c9bf519e180e608c9d3adad,DNM - test log collection,ABANDONED,2021-03-02 06:54:05.000000000,2021-03-03 10:08:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-02 06:54:05.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/770e5e101d96949241e6b45a793a477c236370cf', 'message': 'DNM - test log collection\n\nDepends-On: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\nChange-Id: Ibf405ab9334892705c9bf519e180e608c9d3adad\n'}]",0,778141,770e5e101d96949241e6b45a793a477c236370cf,9,1,1,25023,,,0,"DNM - test log collection

Depends-On: Ia7ccd5da55119273cf1fac26316ce37aa484d95a
Change-Id: Ibf405ab9334892705c9bf519e180e608c9d3adad
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/41/778141/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,770e5e101d96949241e6b45a793a477c236370cf,,,,0,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I68cade8290dba73a9645f7daf1982b9a2601d499,openstack/openstack-ansible-openstack_hosts,master,I68cade8290dba73a9645f7daf1982b9a2601d499,DNM: test log collection,ABANDONED,2021-03-02 06:56:48.000000000,2021-03-03 10:08:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-02 06:56:48.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9becfb9223530310402f70ad489d9a623d9b2fb3', 'message': 'DNM: test log collection\n\nDepends-On: Ia7ccd5da55119273cf1fac26316ce37aa484d95a\nChange-Id: I68cade8290dba73a9645f7daf1982b9a2601d499\n'}]",0,778142,9becfb9223530310402f70ad489d9a623d9b2fb3,9,1,1,25023,,,0,"DNM: test log collection

Depends-On: Ia7ccd5da55119273cf1fac26316ce37aa484d95a
Change-Id: I68cade8290dba73a9645f7daf1982b9a2601d499
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/42/778142/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,9becfb9223530310402f70ad489d9a623d9b2fb3,,,,0,0
openstack%2Fmagnum~stable%2Fussuri~Ifc212478ae09c658adeb6ba4c8e8afc8943e3977,openstack/magnum,stable/ussuri,Ifc212478ae09c658adeb6ba4c8e8afc8943e3977,Remove shebang from scripts,MERGED,2021-02-11 14:59:10.000000000,2021-03-03 09:42:44.000000000,2021-03-03 09:37:14.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 14:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c671fd9acabbf59dbbd12e0e8f9aa35032f2dbb5', 'message': 'Remove shebang from scripts\n\nWithout this, heat container agents using  kubectl version\n1.18.x (e.g. ussuri-dev) fail because they do not have the correct\nKUBECONFIG in the environment.\n\nTask: 39938\nStory: 2007591\n\nChange-Id: Ifc212478ae09c658adeb6ba4c8e8afc8943e3977\n(cherry picked from commit 799563eb613855c340727c6b87c2e1ddd490aae3)\n'}, {'number': 2, 'created': '2021-02-11 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6ac052d0e99d2dfcb4820909b700ebf89edb28dc', 'message': 'Remove shebang from scripts\n\nWithout this, heat container agents using  kubectl version\n1.18.x (e.g. ussuri-dev) fail because they do not have the correct\nKUBECONFIG in the environment.\n\nTask: 39938\nStory: 2007591\n\nChange-Id: Ifc212478ae09c658adeb6ba4c8e8afc8943e3977\n(cherry picked from commit 799563eb613855c340727c6b87c2e1ddd490aae3)\n'}, {'number': 3, 'created': '2021-03-02 14:17:05.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/add-proxy.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-controller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/common/templates/kubernetes/fragments/wc-notify-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/disable-selinux.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5c47db106a895da35caa96f92815e72d0bd05762', 'message': 'Remove shebang from scripts\n\nWithout this, heat container agents using  kubectl version\n1.18.x (e.g. ussuri-dev) fail because they do not have the correct\nKUBECONFIG in the environment.\n\nTask: 39938\nStory: 2007591\n\nChange-Id: Ifc212478ae09c658adeb6ba4c8e8afc8943e3977\n(cherry picked from commit 799563eb613855c340727c6b87c2e1ddd490aae3)\n'}]",0,775166,5c47db106a895da35caa96f92815e72d0bd05762,12,3,3,28022,,,0,"Remove shebang from scripts

Without this, heat container agents using  kubectl version
1.18.x (e.g. ussuri-dev) fail because they do not have the correct
KUBECONFIG in the environment.

Task: 39938
Story: 2007591

Change-Id: Ifc212478ae09c658adeb6ba4c8e8afc8943e3977
(cherry picked from commit 799563eb613855c340727c6b87c2e1ddd490aae3)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/66/775166/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/add-proxy.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-controller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/common/templates/kubernetes/fragments/wc-notify-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/disable-selinux.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh']",42,c671fd9acabbf59dbbd12e0e8f9aa35032f2dbb5,ussuri-fixes,,#!/bin/bash ,27,73
openstack%2Fpython-glanceclient~master~I11d4eb88594608fdf21e1219b4aafcef606bf6f1,openstack/python-glanceclient,master,I11d4eb88594608fdf21e1219b4aafcef606bf6f1,Add Python3 wallaby unit tests,MERGED,2020-09-09 15:57:39.000000000,2021-03-03 09:42:39.000000000,2021-03-03 09:37:37.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-09 15:57:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/23d389f15a75287fb9e0cb1e20196a0911e5debb', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I11d4eb88594608fdf21e1219b4aafcef606bf6f1\n'}]",0,750701,23d389f15a75287fb9e0cb1e20196a0911e5debb,13,4,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I11d4eb88594608fdf21e1219b4aafcef606bf6f1
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/01/750701/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,23d389f15a75287fb9e0cb1e20196a0911e5debb,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fmanila~master~I99af5f4f9bfc7e0718c618c95206b7051b724c73,openstack/manila,master,I99af5f4f9bfc7e0718c618c95206b7051b724c73,Implement secure RBAC for storage pool statistics,MERGED,2020-11-19 21:17:02.000000000,2021-03-03 09:37:53.000000000,2021-03-03 07:17:29.000000000,"[{'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0ed07ed206d24b63bcf7be9439e6e597c6e35f53', 'message': 'Implement secure RBAC for storage pool statistics\n\nThis commit updates the policies for storage pool statistics to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I99af5f4f9bfc7e0718c618c95206b7051b724c73\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/42a61c3b8b0cd5a0cc80272abb4e10d2268b680e', 'message': 'Implement secure RBAC for storage pool statistics\n\nThis commit updates the policies for storage pool statistics to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I99af5f4f9bfc7e0718c618c95206b7051b724c73\n'}, {'number': 3, 'created': '2021-01-12 07:21:13.000000000', 'files': ['manila/policies/scheduler_stats.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7f72147f17303519e185c138addd4d9b79af4f1e', 'message': 'Implement secure RBAC for storage pool statistics\n\nThis commit updates the policies for storage pool statistics to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I99af5f4f9bfc7e0718c618c95206b7051b724c73\n'}]",0,763445,7f72147f17303519e185c138addd4d9b79af4f1e,27,6,3,5046,,,0,"Implement secure RBAC for storage pool statistics

This commit updates the policies for storage pool statistics to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I99af5f4f9bfc7e0718c618c95206b7051b724c73
",git fetch https://review.opendev.org/openstack/manila refs/changes/45/763445/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/scheduler_stats.py'],1,0ed07ed206d24b63bcf7be9439e6e597c6e35f53,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The storage pool statistics API now support system scope and default roles. """""" deprecated_pool_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_ADMIN_API ) deprecated_pool_detail = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'detail', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_pool_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_pool_detail, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",28,4
openstack%2Fmagnum~stable%2Fussuri~I8982bd4ec2ab69f35938970d604c16ac5e62e1fa,openstack/magnum,stable/ussuri,I8982bd4ec2ab69f35938970d604c16ac5e62e1fa,Deploy traefik from the heat-agent,MERGED,2021-02-11 14:55:35.000000000,2021-03-03 09:30:04.000000000,2021-03-03 09:24:23.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 14:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7c61ff071aba0515b6e26c55361930e7cd32dcb5', 'message': 'Deploy traefik from the heat-agent\n\nUse kubectl from the heat agent to apply the\ntraefik deployment. Current behaviour was to\ncreate a systemd unit to send the manifests\nto the API.\n\nThis way we will have only one way for applying\nmanifests to the API.\n\nThis change is triggered to adddress the kubectl\nchange [0] that is not using 127.0.0.1:8080 as\nthe default kubernetes API.\n\n[0] https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.18.md#kubectl\n\nstory: 2005286\ntask: 39522\n\nChange-Id: I8982bd4ec2ab69f35938970d604c16ac5e62e1fa\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 3e7924ffda45a1d750700ff1e86019359f90870c)\n'}, {'number': 2, 'created': '2021-02-11 16:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dec7d89626863c2ee2d631c00ae4698ffe073d76', 'message': 'Deploy traefik from the heat-agent\n\nUse kubectl from the heat agent to apply the\ntraefik deployment. Current behaviour was to\ncreate a systemd unit to send the manifests\nto the API.\n\nThis way we will have only one way for applying\nmanifests to the API.\n\nThis change is triggered to adddress the kubectl\nchange [0] that is not using 127.0.0.1:8080 as\nthe default kubernetes API.\n\n[0] https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.18.md#kubectl\n\nstory: 2005286\ntask: 39522\n\nChange-Id: I8982bd4ec2ab69f35938970d604c16ac5e62e1fa\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 3e7924ffda45a1d750700ff1e86019359f90870c)\n'}, {'number': 3, 'created': '2021-03-02 14:21:26.000000000', 'files': ['releasenotes/notes/Deploy-traefik-from-the-heat-agent-0bb32f0f2c97405d.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1055bf2d4cbe0f9253b6ca1dadd7e52aba1bdd7a', 'message': 'Deploy traefik from the heat-agent\n\nUse kubectl from the heat agent to apply the\ntraefik deployment. Current behaviour was to\ncreate a systemd unit to send the manifests\nto the API.\n\nThis way we will have only one way for applying\nmanifests to the API.\n\nThis change is triggered to adddress the kubectl\nchange [0] that is not using 127.0.0.1:8080 as\nthe default kubernetes API.\n\n[0] https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.18.md#kubectl\n\nstory: 2005286\ntask: 39522\n\nChange-Id: I8982bd4ec2ab69f35938970d604c16ac5e62e1fa\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 3e7924ffda45a1d750700ff1e86019359f90870c)\n'}]",0,775164,1055bf2d4cbe0f9253b6ca1dadd7e52aba1bdd7a,13,2,3,28022,,,0,"Deploy traefik from the heat-agent

Use kubectl from the heat agent to apply the
traefik deployment. Current behaviour was to
create a systemd unit to send the manifests
to the API.

This way we will have only one way for applying
manifests to the API.

This change is triggered to adddress the kubectl
change [0] that is not using 127.0.0.1:8080 as
the default kubernetes API.

[0] https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.18.md#kubectl

story: 2005286
task: 39522

Change-Id: I8982bd4ec2ab69f35938970d604c16ac5e62e1fa
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 3e7924ffda45a1d750700ff1e86019359f90870c)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/64/775164/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Deploy-traefik-from-the-heat-agent-0bb32f0f2c97405d.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh']",2,7c61ff071aba0515b6e26c55361930e7cd32dcb5,ussuri-fixes,kubectl apply -f ${INGRESS_TRAEFIK_MANIFEST},"INGRESS_TRAEFIK_BIN=""/srv/magnum/kubernetes/bin/ingress-traefik"" INGRESS_TRAEFIK_SERVICE=""/etc/systemd/system/ingress-traefik.service"" # Binary for ingress traefik INGRESS_TRAEFIK_BIN_CONTENT='''#!/bin/sh# Check if all resources exist already before creating them kubectl -n kube-system get service ingress-traefik if [ ""$?"" != ""0"" ] && \ [ -f ""'''${INGRESS_TRAEFIK_MANIFEST}'''"" ]; then kubectl create -f '''${INGRESS_TRAEFIK_MANIFEST}''' fi ''' writeFile $INGRESS_TRAEFIK_BIN ""$INGRESS_TRAEFIK_BIN_CONTENT"" # Service for ingress traefik INGRESS_TRAEFIK_SERVICE_CONTENT='''[Unit] Requires=kube-apiserver.service [Service] User=root Group=root Type=simple Restart=on-failure EnvironmentFile=-/etc/kubernetes/config ExecStart=/bin/bash '''${INGRESS_TRAEFIK_BIN}''' RestartSec=10 [Install] WantedBy=multi-user.target ''' writeFile $INGRESS_TRAEFIK_SERVICE ""$INGRESS_TRAEFIK_SERVICE_CONTENT"" chown root:root ${INGRESS_TRAEFIK_BIN} chmod 0755 ${INGRESS_TRAEFIK_BIN} chown root:root ${INGRESS_TRAEFIK_SERVICE} chmod 0644 ${INGRESS_TRAEFIK_SERVICE} # Launch the ingress traefik service set -x ssh_cmd=""ssh -F /srv/magnum/.ssh/config root@localhost"" $ssh_cmd systemctl daemon-reload $ssh_cmd systemctl enable ingress-traefik.service $ssh_cmd systemctl start --no-block ingress-traefik.service",19,45
openstack%2Foctavia~master~Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,openstack/octavia,master,Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,Fix overriding default listener timeout values in config file,MERGED,2021-03-01 08:08:12.000000000,2021-03-03 09:26:12.000000000,2021-03-03 09:22:36.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-01 08:08:12.000000000', 'files': ['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932', 'message': 'Fix overriding default listener timeout values in config file\n\nThe default value for timeout parameters in the BaseListenerType was\nnot correctly set because the class was defined before reading the\nconfig file.\n\nStory 2008666\nTask 41953\n\nChange-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88\n'}]",0,777938,b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932,11,5,1,29244,,,0,"Fix overriding default listener timeout values in config file

The default value for timeout parameters in the BaseListenerType was
not correctly set because the class was defined before reading the
config file.

Story 2008666
Task 41953

Change-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/777938/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py']",5,b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932,," def test_create_with_default_timeouts(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='haproxy_amphora', timeout_client_data=20) self.conf.config(group='haproxy_amphora', timeout_member_connect=21) self.conf.config(group='haproxy_amphora', timeout_member_data=constants.MIN_TIMEOUT) self.conf.config(group='haproxy_amphora', timeout_tcp_inspect=constants.MAX_TIMEOUT) listener_api = self.test_create() self.assertEqual(20, listener_api.get('timeout_client_data')) self.assertEqual(21, listener_api.get('timeout_member_connect')) self.assertEqual(constants.MIN_TIMEOUT, listener_api.get('timeout_member_data')) self.assertEqual(constants.MAX_TIMEOUT, listener_api.get('timeout_tcp_inspect')) ",,99,21
openstack%2Fvalidations-libs~master~Ieddc2cabd2612fa406a9660daa17a836ea1ee4cf,openstack/validations-libs,master,Ieddc2cabd2612fa406a9660daa17a836ea1ee4cf,Style adjustment of a constant.,MERGED,2021-01-22 12:56:43.000000000,2021-03-03 08:53:37.000000000,2021-03-03 08:52:20.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-22 12:56:43.000000000', 'files': ['validations_libs/ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/172a49584a3e55f6eaea7aff2f9f04ef54f9ed02', 'message': 'Style adjustment of a constant.\n\nPerhaps slight exaggeration. The value is set just after imports,\ndepending on a single condition, but before declaring anything else.\n\nThus making it quasi-constant.\nStill, it is beneficial from readability perspective.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ieddc2cabd2612fa406a9660daa17a836ea1ee4cf\n'}]",0,771973,172a49584a3e55f6eaea7aff2f9f04ef54f9ed02,9,5,1,32926,,,0,"Style adjustment of a constant.

Perhaps slight exaggeration. The value is set just after imports,
depending on a single condition, but before declaring anything else.

Thus making it quasi-constant.
Still, it is beneficial from readability perspective.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ieddc2cabd2612fa406a9660daa17a836ea1ee4cf
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/73/771973/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/ansible.py'],1,172a49584a3e55f6eaea7aff2f9f04ef54f9ed02,style/constantminuscule1, BACKWARD_COMPAT = (version < '1.4.0') except pkg_resources.DistributionNotFound: BACKWARD_COMPAT = False if not BACKWARD_COMPAT: if BACKWARD_COMPAT:, backward_compat = (version < '1.4.0') except pkg_resources.DistributionNotFound: backward_compat = False if not backward_compat: if backward_compat:,4,4
openstack%2Fproject-config~master~I2532669211194efb247b0f757deebc6c17820ce8,openstack/project-config,master,I2532669211194efb247b0f757deebc6c17820ce8,Normalize projects.yaml,MERGED,2021-03-03 06:07:29.000000000,2021-03-03 08:43:24.000000000,2021-03-03 06:54:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 06:07:29.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bda55de10bd0a1fe9811404cd62a6b287d8339cf', 'message': 'Normalize projects.yaml\n\nChange-Id: I2532669211194efb247b0f757deebc6c17820ce8\n'}]",0,778358,bda55de10bd0a1fe9811404cd62a6b287d8339cf,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I2532669211194efb247b0f757deebc6c17820ce8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/58/778358/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,bda55de10bd0a1fe9811404cd62a6b287d8339cf,project-yaml-normalization,, upstream: https://github.com/rdo-infra/queries,0,1
openstack%2Fmanila-ui~master~I9f10880eb870ecc0cd13b014d32d38cc7673644c,openstack/manila-ui,master,I9f10880eb870ecc0cd13b014d32d38cc7673644c,Imported Translations from Zanata,MERGED,2021-03-03 07:00:16.000000000,2021-03-03 08:37:15.000000000,2021-03-03 08:36:03.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 07:00:16.000000000', 'files': ['manila_ui/locale/id/LC_MESSAGES/django.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'manila_ui/locale/zh_Hans/LC_MESSAGES/django.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/44437c364d1c8c409ae457d97bb9ce24c654d7a8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9f10880eb870ecc0cd13b014d32d38cc7673644c\n'}]",0,778370,44437c364d1c8c409ae457d97bb9ce24c654d7a8,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9f10880eb870ecc0cd13b014d32d38cc7673644c
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/70/778370/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/locale/id/LC_MESSAGES/django.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'manila_ui/locale/zh_Hans/LC_MESSAGES/django.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po']",10,44437c364d1c8c409ae457d97bb9ce24c654d7a8,zanata/translations,"""POT-Creation-Date: 2021-02-16 07:07+0000\n""","""POT-Creation-Date: 2020-11-04 13:54+0000\n""msgid ""Shares Networks"" msgstr ""Paylam Alar"" ",10,40
openstack%2Ftripleo-ansible~master~I9751aa9b6739e8083103791579c1d5a71b938b0b,openstack/tripleo-ansible,master,I9751aa9b6739e8083103791579c1d5a71b938b0b,Fix triple molecule modules job,MERGED,2021-03-02 10:30:40.000000000,2021-03-03 08:35:37.000000000,2021-03-02 19:31:19.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 10:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df809fcd9481fb0d39e4071039fc9a33b008eda2', 'message': 'Fix triple molecule modules job\n\nRemove --detach when not starting container.\nChange-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b\n'}, {'number': 2, 'created': '2021-03-02 10:33:19.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4eee228dc572a4365dc950ef4e30667f0d807338', 'message': 'Fix triple molecule modules job\n\nRemove --detach when not starting container.\nChange-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b\n'}]",0,778161,4eee228dc572a4365dc950ef4e30667f0d807338,12,4,2,10969,,,0,"Fix triple molecule modules job

Remove --detach when not starting container.
Change-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/778161/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'],1,df809fcd9481fb0d39e4071039fc9a33b008eda2,fix11," 'absent', 'present', 'stopped', 'started', 'created']), if action == 'create': b_command.remove(b'--detach=True') if self.running: self.stop() self.delete() self.create() def recreate_run(self): """"""Recreate and run the container."""""" if self.running: self.stop() if self.container.exists and self.restart: if self.container.running: self.container.restart() self.results['actions'].append('restarted %s' % self.container.name) else: self.container.start() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() return self.container.recreate_run() self.container.recreate_run() def make_created(self): """"""Run actions if desired state is 'created'."""""" if not self.container.exists and not self.image: self.module.fail_json(msg='Cannot create container when image' ' is not specified!') if not self.container.exists: self.container.create() self.results['actions'].append('created %s' % self.container.name) self.update_container_result() return else: if (self.container.different or self.recreate): self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() return self.update_container_result(changed=False) return 'stopped': self.make_stopped, 'created': self.make_created,"," 'absent', 'present', 'stopped', 'started']), self.container.recreate() self.container.recreate() 'stopped': self.make_stopped",47,4
openstack%2Fpuppet-openstack_spec_helper~stable%2Fvictoria~Ibafcb3b994db361df3427ca2afe4dd3d08028add,openstack/puppet-openstack_spec_helper,stable/victoria,Ibafcb3b994db361df3427ca2afe4dd3d08028add,pin bundler to 2.2.11,MERGED,2021-03-02 16:10:13.000000000,2021-03-03 08:23:28.000000000,2021-03-03 08:23:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 16:10:13.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/2a0681f773ba01bbbd30a5bfcc356e369b14fe21', 'message': ""pin bundler to 2.2.11\n\nIt seems the latest 2.2.12 requires rake>13.0 installed and that\nrequirement doesn't work well in current our CI jobs.\nLet's pin it to the previous version until we resolve the issue\n\nNote that this change only covers library jobs and we also need the\nsame fix for puppet-openstack-integration later.\n\nThis change also removes the pin for the very old Ruby version.\n\nCloses-Bug: #1917457\nChange-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add\n(cherry picked from commit a75cf9b6b18134cd6b1285740e2941bb228e053b)\n""}]",0,778114,2a0681f773ba01bbbd30a5bfcc356e369b14fe21,7,3,1,9816,,,0,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue

Note that this change only covers library jobs and we also need the
same fix for puppet-openstack-integration later.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add
(cherry picked from commit a75cf9b6b18134cd6b1285740e2941bb228e053b)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/14/778114/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,2a0681f773ba01bbbd30a5bfcc356e369b14fe21,bug/1917457-stable/victoria,cmd += ' -v 2.2.11',if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end,1,3
openstack%2Fironic-ui~master~I32462c01dab50d7032bb4d3563a822eb98ed51b9,openstack/ironic-ui,master,I32462c01dab50d7032bb4d3563a822eb98ed51b9,Imported Translations from Zanata,MERGED,2021-03-03 06:53:46.000000000,2021-03-03 08:15:52.000000000,2021-03-03 08:14:17.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-03 06:53:46.000000000', 'files': ['ironic_ui/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'ironic_ui/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/b12bbeb8fbb56e80f616183b0ffd704c18712a15', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I32462c01dab50d7032bb4d3563a822eb98ed51b9\n'}]",0,778368,b12bbeb8fbb56e80f616183b0ffd704c18712a15,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I32462c01dab50d7032bb4d3563a822eb98ed51b9
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/68/778368/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_ui/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'ironic_ui/locale/zh_Hans/LC_MESSAGES/django.po']",2,b12bbeb8fbb56e80f616183b0ffd704c18712a15,zanata/translations,"""POT-Creation-Date: 2021-01-24 09:54+0000\n""","""POT-Creation-Date: 2019-03-29 16:33+0000\n""",2,2
openstack%2Fneutron~stable%2Fvictoria~Iea5ff76fe652ab1c04e23850b9259547c1d54365,openstack/neutron,stable/victoria,Iea5ff76fe652ab1c04e23850b9259547c1d54365,"Do not load ""qos-fip"" if ""qos"" plugin is not loaded",ABANDONED,2021-03-03 06:31:17.000000000,2021-03-03 07:56:03.000000000,,[{'_account_id': 16688}],"[{'number': 1, 'created': '2021-03-03 06:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4b2c895529d8d97da615d5e61128c569879c22a', 'message': 'Do not load ""qos-fip"" if ""qos"" plugin is not loaded\n\nIf QoS service plugin is not loaded, the L3 QoS extension in the OVN\nL3 plugin should not be loaded neither.\n\nPrior to this patch, the extension drivers were checked to find the\nQoS extension. Although it is a misconfiguration to have the QoS\nextension without loading the QoS driver, that is handled correctly\nby the Neutron server, disabling the extension silently.\n\nCloses-Bug: #1898842\nRelated-Bug: #1877408\n\nChange-Id: Iea5ff76fe652ab1c04e23850b9259547c1d54365\n(cherry picked from commit 7e31f2ae41b4512afd2b3dd4fb72fcd16ef0a373)\n'}, {'number': 2, 'created': '2021-03-03 06:36:46.000000000', 'files': ['neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7beb0494d712264c1ad2c2c4c65d2f99460b0e98', 'message': 'Do not load ""qos-fip"" if ""qos"" plugin is not loaded\n\nIf QoS service plugin is not loaded, the L3 QoS extension in the OVN\nL3 plugin should not be loaded neither.\n\nPrior to this patch, the extension drivers were checked to find the\nQoS extension. Although it is a misconfiguration to have the QoS\nextension without loading the QoS driver, that is handled correctly\nby the Neutron server, disabling the extension silently.\n\nCloses-Bug: #1898842\nRelated-Bug: #1877408\n\nChange-Id: Iea5ff76fe652ab1c04e23850b9259547c1d54365\n(cherry picked from commit 7e31f2ae41b4512afd2b3dd4fb72fcd16ef0a373)\n'}]",0,778245,7beb0494d712264c1ad2c2c4c65d2f99460b0e98,5,1,2,33178,,,0,"Do not load ""qos-fip"" if ""qos"" plugin is not loaded

If QoS service plugin is not loaded, the L3 QoS extension in the OVN
L3 plugin should not be loaded neither.

Prior to this patch, the extension drivers were checked to find the
QoS extension. Although it is a misconfiguration to have the QoS
extension without loading the QoS driver, that is handled correctly
by the Neutron server, disabling the extension silently.

Closes-Bug: #1898842
Related-Bug: #1877408

Change-Id: Iea5ff76fe652ab1c04e23850b9259547c1d54365
(cherry picked from commit 7e31f2ae41b4512afd2b3dd4fb72fcd16ef0a373)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/778245/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,f4b2c895529d8d97da615d5e61128c569879c22a,bug/1898842-stable/victoria,"<<<<<<< HEAD (820bd6 Merge ""[L3HA] Bind metadata haproxy to IPv6 address if IPv6 )======= >>>>>>> CHANGE (7e31f2 Do not load ""qos-fip"" if ""qos"" plugin is not loaded)<<<<<<< HEAD (820bd6 Merge ""[L3HA] Bind metadata haproxy to IPv6 address if IPv6 )======= def disable_qos_fip_extension_by_extension_drivers(aliases): qos_service_plugin = directory.get_plugin(plugin_constants.QOS) qos_aliases = qos_fip_api.FIP_QOS_ALIAS in aliases if not qos_service_plugin and qos_aliases: aliases.remove(qos_fip_api.FIP_QOS_ALIAS) >>>>>>> CHANGE (7e31f2 Do not load ""qos-fip"" if ""qos"" plugin is not loaded)",,11,0
openstack%2Fnetworking-sfc~master~I323196463b26f7a79a125d2001a42fd7ed2ea6c8,openstack/networking-sfc,master,I323196463b26f7a79a125d2001a42fd7ed2ea6c8,Update lower-constraints,ABANDONED,2021-01-07 03:42:51.000000000,2021-03-03 07:44:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-07 03:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5d8747d719dc3a75d80361eb72dd8d625a6d23a7', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 2, 'created': '2021-01-07 05:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9e4b84514b49891966d64a3c2f17ca88a396b4ce', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 3, 'created': '2021-01-07 06:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/cb03133abb6b574133241aea45d33aa9d8f3dbc8', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 4, 'created': '2021-01-07 09:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/bdc4e2fff5fc55daffe6e01f94da7d29c8df19ac', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 5, 'created': '2021-01-07 11:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/89586fd3f7343dbe81cbd5f9175d08a8fe840514', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 6, 'created': '2021-01-08 01:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/fc12b7113a8e2bab5afe34b70609ded5464d77d9', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 7, 'created': '2021-01-08 02:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/15288ebe91284c6e9d67da1e587809d176bf9e3d', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 8, 'created': '2021-01-08 05:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5e1adc677483247c3e995afe031e7d4ec43f59b9', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 9, 'created': '2021-01-08 08:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e634b07cd1501954ad07b8fc70dfc6714a310b8a', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 10, 'created': '2021-01-08 09:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/aa2a317706cd3320f8966c340a600d0060469004', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 11, 'created': '2021-01-11 03:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/44a9f2ced60f1f4799fe7091b9d2f395c1f51db9', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 12, 'created': '2021-01-11 05:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8426a3803d1ff0f17f0400c349428fb734f77b77', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 13, 'created': '2021-01-11 07:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/90e8985fbb849c74d8c8a0ce2488117275feff2a', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 14, 'created': '2021-01-12 02:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/c9735e954d2a65d19de1be0ba708c94b6d4929d8', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 15, 'created': '2021-01-12 07:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e71d51811fc64e1364c4e4d791a7f3f342444e71', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 16, 'created': '2021-01-12 09:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/59a8c0a726e2e0a7caebf0b27b7c29db94b82505', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 17, 'created': '2021-01-13 01:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5ddbaa0cb35d9455b05cc86428d19092cd7f4fb3', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 18, 'created': '2021-01-14 02:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ee037ede91568a970ee8d027b9d0daa267a8426c', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 19, 'created': '2021-01-14 06:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/90980f9046175bd64450b00f59eb94920f4131ec', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 20, 'created': '2021-01-14 09:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/be11fe86dfd181cad0ee8c0d68b3d8e3a8c310d9', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 21, 'created': '2021-02-14 18:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/79de42e2160d45f78db84b7ea625a6370e475546', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 22, 'created': '2021-02-15 03:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/461eb1feb0600d2d31f60423f96b2781635885f7', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 23, 'created': '2021-02-15 05:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/129a9d560915bc8d106185cd5f63233a712d108d', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}, {'number': 24, 'created': '2021-02-15 11:29:49.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/d962025e6b91e1d5ad7d10403a53995c67f8bd4f', 'message': 'Update lower-constraints\n\nChange-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8\n'}]",0,769658,d962025e6b91e1d5ad7d10403a53995c67f8bd4f,52,2,24,32238,,,0,"Update lower-constraints

Change-Id: I323196463b26f7a79a125d2001a42fd7ed2ea6c8
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/58/769658/24 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,5d8747d719dc3a75d80361eb72dd8d625a6d23a7,769658,ryu==4.24WebOb==1.8.2,ryu==4.23WebOb==1.7.1,3,3
openstack%2Fneutron~master~I1e9fe661f55e99ca509dfbc3c1334b358ddb7212,openstack/neutron,master,I1e9fe661f55e99ca509dfbc3c1334b358ddb7212,ovn: Collect OVN logs,MERGED,2021-01-20 15:12:57.000000000,2021-03-03 07:31:51.000000000,2021-03-03 07:24:53.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-20 15:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9292636c5d5f83403e434460d712c5739f3aa52', 'message': 'ovn: Collect OVN logs\n\nOVN logs have moved from /var/log/openvswitch that is collected by the\nbase job to /var/log/ovn\n\nChange-Id: I1e9fe661f55e99ca509dfbc3c1334b358ddb7212\n'}, {'number': 2, 'created': '2021-02-05 14:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1afef573b2f140cb81edc3885aba4adc5e3e47aa', 'message': 'ovn: Collect OVN logs\n\nOVN logs have moved from /var/log/openvswitch that is collected by the\nbase job to /var/log/ovn\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nChange-Id: I1e9fe661f55e99ca509dfbc3c1334b358ddb7212\n'}, {'number': 3, 'created': '2021-02-25 11:31:39.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/929a6a70076191c4678e44e071672f8ab0b1d5b0', 'message': 'ovn: Collect OVN logs\n\nOVN logs have moved from /var/log/openvswitch that is collected by the\nbase job to /var/log/ovn\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nChange-Id: I1e9fe661f55e99ca509dfbc3c1334b358ddb7212\n'}]",16,771658,929a6a70076191c4678e44e071672f8ab0b1d5b0,66,6,3,8655,,,0,"ovn: Collect OVN logs

OVN logs have moved from /var/log/openvswitch that is collected by the
base job to /var/log/ovn

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>

Change-Id: I1e9fe661f55e99ca509dfbc3c1334b358ddb7212
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/771658/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']",2,c9292636c5d5f83403e434460d712c5739f3aa52,ovn, '/var/log/ovn': 'logs', '{{ devstack_log_dir }}/ovsdb-server-nb.log': 'logs' '{{ devstack_log_dir }}/ovsdb-server-sb.log': 'logs',2,4
openstack%2Fneutron-tempest-plugin~master~I2e3f6502f658e96594422abf82d44d8132da993b,openstack/neutron-tempest-plugin,master,I2e3f6502f658e96594422abf82d44d8132da993b,Add tempest API tests for address groups RBAC,MERGED,2021-02-01 01:06:44.000000000,2021-03-03 07:25:03.000000000,2021-03-03 07:25:03.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2021-02-01 01:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d6468e9cc5bb358d7c2bf908c9a8de5b5a625599', 'message': 'Add tempest API tests for address groups RBAC\n\nAdd tempest API tests for address groups RBAC\n\nChange-Id: I2e3f6502f658e96594422abf82d44d8132da993b\n'}, {'number': 2, 'created': '2021-02-10 22:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ff13ff3e6e692ca82ae9bc9bb590818ca10e6f16', 'message': 'Add tempest API tests for address groups RBAC\n\nAdd tempest API tests for address groups RBAC\n\nChange-Id: I2e3f6502f658e96594422abf82d44d8132da993b\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/772460\n'}, {'number': 3, 'created': '2021-02-26 23:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/971e60893231491a9232431ac0a60eee9dcc62f6', 'message': 'Add tempest API tests for address groups RBAC\n\nAdd tempest API tests for address groups RBAC\n\nChange-Id: I2e3f6502f658e96594422abf82d44d8132da993b\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/772460\n'}, {'number': 4, 'created': '2021-03-02 01:12:30.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/api/test_address_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b1c7a3d7316eec8a10f3fb7cff3e875d4241674a', 'message': 'Add tempest API tests for address groups RBAC\n\nAdd tempest API tests for address groups RBAC\n\nChange-Id: I2e3f6502f658e96594422abf82d44d8132da993b\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/772460\n'}]",5,773274,b1c7a3d7316eec8a10f3fb7cff3e875d4241674a,16,5,4,4694,,,0,"Add tempest API tests for address groups RBAC

Add tempest API tests for address groups RBAC

Change-Id: I2e3f6502f658e96594422abf82d44d8132da993b
Depends-On: https://review.opendev.org/c/openstack/neutron/+/772460
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/74/773274/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/base.py', 'zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/api/test_address_groups.py']",3,d6468e9cc5bb358d7c2bf908c9a8de5b5a625599,bp/address-groups-in-sg-rules,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import random from neutron_lib import constants from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions import testtools from neutron_tempest_plugin.api import base from neutron_tempest_plugin.api import base_security_groups from oslo_log import log LOG = log.getLogger(__name__) ADDRESS_GROUP_NAME = 'test-address-group' class RbacSharedAddressGroupTest(base.BaseAdminNetworkTest): force_tenant_isolation = True credentials = ['primary', 'alt', 'admin'] required_extensions = ['security-group', 'address-group', 'rbac-address-group'] @classmethod def resource_setup(cls): super(RbacSharedAddressGroupTest, cls).resource_setup() cls.client2 = cls.os_alt.network_client def _create_address_group(self, is_admin=False, **kwargs): name = data_utils.rand_name(ADDRESS_GROUP_NAME) return self.create_address_group(name=name, is_admin=is_admin, **kwargs) def _make_admin_ag_shared_to_project_id(self, project_id): ag = self._create_address_group() rbac_policy = self.admin_client.create_rbac_policy( object_type='address_group', object_id=ag['id'], action='access_as_shared', target_tenant=project_id, )['rbac_policy'] return {'address_group': ag, 'rbac_policy': rbac_policy} @decorators.idempotent_id('95f59a88-c47e-4dd9-a231-85f1782753a7') def test_policy_target_update(self): res = self._make_admin_ag_shared_to_project_id( self.client.tenant_id) # change to client2 update_res = self.admin_client.update_rbac_policy( res['rbac_policy']['id'], target_tenant=self.client2.tenant_id) self.assertEqual(self.client2.tenant_id, update_res['rbac_policy']['target_tenant']) # make sure everything else stayed the same res['rbac_policy'].pop('target_tenant') update_res['rbac_policy'].pop('target_tenant') self.assertEqual(res['rbac_policy'], update_res['rbac_policy']) @decorators.idempotent_id('35a214c9-5c99-468f-9242-34d0529cabfa') def test_secgrprule_presence_prevents_policy_rbac_policy_deletion(self): res = self._make_admin_ag_shared_to_project_id( self.client2.tenant_id) ag_id = res['address_group']['id'] security_group = self.create_security_group(client=self.client2) protocol = random.choice(list(base_security_groups.V4_PROTOCOL_NAMES)) sec_grp_rule = self.create_security_group_rule( security_group=security_group, client=self.client2, protocol=protocol, direction=constants.INGRESS_DIRECTION, remote_address_group_id=ag_id) # a port with shared sg should prevent the deletion of an # rbac-policy required for it to be shared with testtools.ExpectedException(exceptions.Conflict): self.admin_client.delete_rbac_policy(res['rbac_policy']['id']) # cleanup self.client2.delete_security_group_rule(sec_grp_rule['id']) self.admin_client.delete_rbac_policy(res['rbac_policy']['id']) @decorators.idempotent_id('c89db8d4-0b52-4072-ac7e-672860491843') def test_regular_client_shares_to_another_regular_client(self): # TODO(mlavalle) fix test case # owned by self.admin_client ag = self._create_address_group(is_admin=True) with testtools.ExpectedException(exceptions.NotFound): self.client.show_address_group(ag['id']) rbac_policy = self.admin_client.create_rbac_policy( object_type='address_group', object_id=ag['id'], action='access_as_shared', target_tenant=self.client.tenant_id)['rbac_policy'] self.client.show_address_group(ag['id']) self.assertIn(rbac_policy, self.admin_client.list_rbac_policies()['rbac_policies']) # ensure that 'client2' can't see the rbac-policy sharing the # ag to it because the rbac-policy belongs to 'client' self.assertNotIn(rbac_policy['id'], [p['id'] for p in self.client2.list_rbac_policies()['rbac_policies']]) @decorators.idempotent_id('55a9fbb6-3333-48e8-90e4-11ab2a49567b') def test_filter_fields(self): ag = self._create_address_group() self.admin_client.create_rbac_policy( object_type='address_group', object_id=ag['id'], action='access_as_shared', target_tenant=self.client2.tenant_id) field_args = (('id',), ('id', 'action'), ('object_type', 'object_id'), ('project_id', 'target_tenant')) for fields in field_args: res = self.admin_client.list_rbac_policies(fields=fields) self.assertEqual(set(fields), set(res['rbac_policies'][0].keys())) @decorators.idempotent_id('20b2706b-1cea-4724-ab72-d7452ecb1fc4') def test_rbac_policy_show(self): res = self._make_admin_ag_shared_to_project_id( self.client.tenant_id) p1 = res['rbac_policy'] p2 = self.admin_client.create_rbac_policy( object_type='address_group', object_id=res['address_group']['id'], action='access_as_shared', target_tenant='*')['rbac_policy'] self.assertEqual( p1, self.admin_client.show_rbac_policy(p1['id'])['rbac_policy']) self.assertEqual( p2, self.admin_client.show_rbac_policy(p2['id'])['rbac_policy']) @decorators.idempotent_id('774fc038-486c-4507-ab04-c5aac0fca5ab') def test_filter_rbac_policies(self): ag = self._create_address_group() rbac_pol1 = self.admin_client.create_rbac_policy( object_type='address_group', object_id=ag['id'], action='access_as_shared', target_tenant=self.client2.tenant_id)['rbac_policy'] rbac_pol2 = self.admin_client.create_rbac_policy( object_type='address_group', object_id=ag['id'], action='access_as_shared', target_tenant=self.admin_client.tenant_id)['rbac_policy'] res1 = self.admin_client.list_rbac_policies(id=rbac_pol1['id'])[ 'rbac_policies'] res2 = self.admin_client.list_rbac_policies(id=rbac_pol2['id'])[ 'rbac_policies'] self.assertEqual(1, len(res1)) self.assertEqual(1, len(res2)) self.assertEqual(rbac_pol1['id'], res1[0]['id']) self.assertEqual(rbac_pol2['id'], res2[0]['id']) @decorators.idempotent_id('a0f3a01a-e2c7-47d6-9385-0cd7a7f0c996') def test_regular_client_blocked_from_sharing_anothers_policy(self): # TODO (mlavalle) Fix this test case ag = self._make_admin_ag_shared_to_project_id( self.client.tenant_id)['address_group'] with testtools.ExpectedException(exceptions.BadRequest): self.client.create_rbac_policy( object_type='address_group', object_id=ag['id'], action='access_as_shared', target_tenant=self.client2.tenant_id) # make sure the rbac-policy is invisible to the tenant for which it's # being shared self.assertFalse(self.client.list_rbac_policies()['rbac_policies']) ",,191,0
openstack%2Ftacker~master~If5476d4fe96cb7259e137ba241431e42ef65dfb4,openstack/tacker,master,If5476d4fe96cb7259e137ba241431e42ef65dfb4,[DNM] Check for MySQL related issues in this patchi (2nd retry),ABANDONED,2021-03-01 07:48:15.000000000,2021-03-03 07:16:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 07:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/82e8b696d4e566f8e538cc3da690c74ddcd38196', 'message': '[DNM] Check for MySQL related issues in this patchi (2nd retry)\n\nChange-Id: If5476d4fe96cb7259e137ba241431e42ef65dfb4\n'}, {'number': 2, 'created': '2021-03-01 14:41:38.000000000', 'files': ['api-ref/source/v1/vnflcm.inc', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'api-ref/source/v1/samples/vnflcm/list-vnflcm-operation-occurrence-response.json', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'api-ref/source/v1/samples/vnflcm/show-vnflcm-operation-occurrence-response.json', 'tacker/db/migration/alembic_migrations/versions/3adac34764da_add_column_to_vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/common/attribute_filter.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ce0af88f129f1b878b70572643ebb87ba63cf916', 'message': '[DNM] Check for MySQL related issues in this patchi (2nd retry)\n\nChange-Id: If5476d4fe96cb7259e137ba241431e42ef65dfb4\n'}]",0,777935,ce0af88f129f1b878b70572643ebb87ba63cf916,5,1,2,32219,,,0,"[DNM] Check for MySQL related issues in this patchi (2nd retry)

Change-Id: If5476d4fe96cb7259e137ba241431e42ef65dfb4
",git fetch https://review.opendev.org/openstack/tacker refs/changes/35/777935/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/vnflcm.inc', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'api-ref/source/v1/samples/vnflcm/list-vnflcm-operation-occurrence-response.json', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'api-ref/source/v1/samples/vnflcm/show-vnflcm-operation-occurrence-response.json', 'tacker/db/migration/alembic_migrations/versions/3adac34764da_add_column_to_vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/common/attribute_filter.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py']",18,82e8b696d4e566f8e538cc3da690c74ddcd38196,dnmpatch2," - Get opOccs list # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) - get opOccs List. # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) def _assert_occ_list(self, resp, op_occs_list): self.assertEqual(200, resp.status_code) # Only check required parameters. for op_occs_info in op_occs_list: self.assertIsNotNone(op_occs_info.get('id')) self.assertIsNotNone(op_occs_info.get('operationState')) self.assertIsNotNone(op_occs_info.get('stateEnteredTime')) self.assertIsNotNone(op_occs_info.get('vnfInstanceId')) self.assertIsNotNone(op_occs_info.get('operation')) self.assertIsNotNone(op_occs_info.get('isAutomaticInvocation')) self.assertIsNotNone(op_occs_info.get('isCancelPending')) _links = op_occs_info.get('_links') self.assertIsNotNone(_links.get('self')) self.assertIsNotNone(_links.get('self').get('href')) self.assertIsNotNone(_links.get('vnfInstance')) self.assertIsNotNone(_links.get('vnfInstance').get('href')) self.assertIsNotNone(_links.get('grant')) self.assertIsNotNone(_links.get('grant').get('href'))",,769,20
openstack%2Fironic-python-agent~master~Iedff5325e0737556d5eb3da601c984ddfc633873,openstack/ironic-python-agent,master,Iedff5325e0737556d5eb3da601c984ddfc633873,Remove default parameter from execute,MERGED,2021-03-02 15:19:57.000000000,2021-03-03 07:15:59.000000000,2021-03-03 07:14:44.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 15:19:57.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bff252c7263c70edb52644f7ac64d39b9f6b0bd0', 'message': 'Remove default parameter from execute\n\nThe param check_exit_code from the processutils extension execute has\ndefault already at [0]\nSee:\nhttps://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214\n\nChange-Id: Iedff5325e0737556d5eb3da601c984ddfc633873\n'}]",0,778201,bff252c7263c70edb52644f7ac64d39b9f6b0bd0,8,3,1,23851,,,0,"Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Iedff5325e0737556d5eb3da601c984ddfc633873
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/01/778201/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/standby.py']",4,bff252c7263c70edb52644f7ac64d39b9f6b0bd0,default-execute," stdout, stderr = utils.execute(*command) _, stderr = utils.execute(command, use_standard_locale=True)"," stdout, stderr = utils.execute(*command, check_exit_code=[0]) _, stderr = utils.execute(command, use_standard_locale=True, check_exit_code=[0])",18,31
openstack%2Fdiskimage-builder~master~If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45,openstack/diskimage-builder,master,If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45,Add support for building images capable of UEFI,ABANDONED,2016-03-03 13:03:10.000000000,2021-03-03 06:59:03.000000000,,"[{'_account_id': 4328}, {'_account_id': 5805}, {'_account_id': 6488}, {'_account_id': 6721}, {'_account_id': 6773}, {'_account_id': 7239}, {'_account_id': 7718}, {'_account_id': 9237}, {'_account_id': 9628}, {'_account_id': 10035}, {'_account_id': 10118}, {'_account_id': 10202}, {'_account_id': 10375}, {'_account_id': 10873}, {'_account_id': 11076}, {'_account_id': 11105}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12411}, {'_account_id': 12459}, {'_account_id': 14288}, {'_account_id': 16347}, {'_account_id': 18781}, {'_account_id': 19701}, {'_account_id': 21741}, {'_account_id': 22255}]","[{'number': 1, 'created': '2016-03-03 13:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/76f9e4b95873bc14a93e99f21b80ba18f60055bf', 'message': 'Add support for building images capable of UEFI [WIP]\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently Ubuntu and Fedora\nimages have been tested and verified.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 2, 'created': '2016-03-03 13:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/15afea4d7047073c5e01d3667ad0ab2581925dd9', 'message': 'Add support for building images capable of UEFI [WIP]\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently Ubuntu and Fedora\nimages have been tested and verified.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 3, 'created': '2016-03-04 09:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c5a2950cf357e293fcb693e037eea590317ef49c', 'message': '[WIP] Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently Ubuntu and Fedora\nimages have been tested and verified.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 4, 'created': '2016-03-08 05:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ebd1df2189a9352acb07b352acb0749606df07ac', 'message': '[WIP] Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently Ubuntu and Fedora\nimages have been tested and verified.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 5, 'created': '2016-03-08 06:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e8f1725c3934b9011e2f2e6bcf81771804ba656a', 'message': '[WIP] Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently Ubuntu and Fedora\nimages have been tested and verified.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 6, 'created': '2016-03-08 12:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/19f535ba8cc392f2a28bbcbda4e71fa05ab12b96', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently Ubuntu and Fedora\nimages have been tested and verified.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 7, 'created': '2016-03-08 12:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f56f7a5aa733747fde5c1f688748a4a2af38193f', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently Ubuntu and Fedora\nimages have been tested and verified.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 8, 'created': '2016-03-10 06:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b33ee32567a8ed3477df548e5d47a726ec3ae996', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 9, 'created': '2016-03-10 06:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e89d19114581ab91908d99a2b00aaed52d70fc7e', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 10, 'created': '2016-03-10 10:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d23690155e4b04f6ff9af49d983637de32e15576', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 11, 'created': '2016-03-11 06:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/21819964b73bdbc02bb66969d4aeaaccd7a61084', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 12, 'created': '2016-03-11 06:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/475625990f673da22eb7b6f83fe483893a5da8ad', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 13, 'created': '2016-03-11 10:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/42c1a66c90ba300bf41c95c9cc7c75562273a15d', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 14, 'created': '2016-03-12 06:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d3c28aca384ef09963d5c292e049018c2efeb289', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 15, 'created': '2016-03-14 11:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/262c346a3ce4d2c1450b9ef4dd3aed15f04fa0f8', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 16, 'created': '2016-04-04 07:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4a9e4f76fd60f1d9ef3e7b78bc6e97a3062bba43', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 17, 'created': '2016-04-05 09:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3c46e4559ee0414283555a1f95bfd949a9588c06', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 18, 'created': '2016-04-05 09:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a4a163952b80260e5928bfb9dcab17ca9c36756d', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 19, 'created': '2016-05-11 07:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7ede2e6aa9c308985593a12538c4057f3f545df0', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 20, 'created': '2016-05-12 08:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6de9659300c151dbef78f15c3001d284841d8ca3', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 21, 'created': '2016-05-23 07:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9b17b295d202e509006b9068eee3dd798f3e00ba', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 22, 'created': '2016-05-24 10:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ec0513ed6f5f345b4dec09df4722f82e4c08f5a2', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 23, 'created': '2016-06-24 11:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1ad717bde3c380349573bd3e1b732c1b7a14a00f', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 24, 'created': '2016-06-24 12:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d911e193b5c9e29786b5cc512079292083f731fb', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 25, 'created': '2016-06-24 12:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2f9ea1fcc238f3ae0f55c7d0577a7d201c012bad', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 26, 'created': '2016-07-01 07:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/03798d2efed42375444acc47bf65f829cb7ea8ee', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 27, 'created': '2016-07-01 10:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9a9b26ea1fa4b82866cbfe5c487e42c01551be6b', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 28, 'created': '2016-07-14 06:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ce6ec59ed7f9d454df85cf807d1351263c39efff', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 29, 'created': '2016-07-25 07:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/344bc3686bc2e81a50d95ae588cea9b55dda9386', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 30, 'created': '2016-07-25 07:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/65ced3b56be3e476b5daccca8b199b1bbda6cfbd', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 31, 'created': '2016-07-27 10:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c72a4d1da37c938fea12bb0cecc8f1a23e3a4597', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 32, 'created': '2016-08-08 10:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b3b75ccb3d2cd1f5fdfd0c5f8c6471c0302560e7', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the root file system, while the second partition is an EFI\n   System Partition(ESP). parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 33, 'created': '2016-08-09 05:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/62816214b58ef836590d56d368eefdc262d1eb94', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the EFI System Partition(ESP), while the second partition is\n   the root file system. parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 34, 'created': '2016-08-09 06:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5a49a58a8442c3ae47d1b5aa8b78f117d92743a8', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the EFI System Partition(ESP), while the second partition is\n   the root file system. parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 35, 'created': '2016-08-09 06:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/daa7b9ff7e1dd273fcedb193e8930aed3a73084d', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the EFI System Partition(ESP), while the second partition is\n   the root file system. parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 36, 'created': '2016-08-23 08:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/883847558ba44d4c55854a3a56b88d5c01188a79', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the EFI System Partition(ESP), while the second partition is\n   the root file system. parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n'}, {'number': 37, 'created': '2016-10-12 08:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4530d568cd511cd5f2f7194d594bfc6f4afe38bf', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the EFI System Partition(ESP), while the second partition is\n   the root file system. parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n\nConflicts:\n\tdoc/source/user_guide/supported_distros.rst\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\n'}, {'number': 38, 'created': '2017-02-06 07:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/384fe837dab31ba769a3f5bc279f2913d6b87d33', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the EFI System Partition(ESP), while the second partition is\n   the root file system. parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n\nConflicts:\n\tdoc/source/user_guide/supported_distros.rst\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\n'}, {'number': 39, 'created': '2017-04-12 04:15:36.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/bootloader/pkg-map', 'elements/vm/environment.d/50-vm', 'elements/vm/block-device.d/10-partition', 'doc/source/user_guide/building_an_image.rst', 'diskimage_builder/elements/vm/README.rst', 'doc/source/user_guide/supported_distros.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d9b2abaa73f9d9c68dc028038ea8513ad31b9dd5', 'message': 'Add support for building images capable of UEFI\n\nThis change adds support for to build images using diskimage-builder\nwhich are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,\nUbuntu, Debian and Fedora images have been tested and verified for\nx86_64/amd64 architectures.\n\nTo build an UEFI capable image,\n\n1. Two Partions were created with GPT partition table. First partition\n   contains the EFI System Partition(ESP), while the second partition is\n   the root file system. parted is used for creating the partitions.\n\n2. Bootloader element pkg-map has been added with grub-efi which\n   installs dependent packages for default and redhat distributions.\n\n3. As part of installing grub boot loader, the ESP partition is mounted\n   to /boot/efi directory of the root file system so that grub will\n   install required grubx64.efi and other dependent packages in ESP\n   partition.\n\n4. Grub configuration files are modified to work with respective\n   distributions.\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\nSigned-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>\n\nConflicts:\n\tdoc/source/user_guide/supported_distros.rst\n\nChange-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45\n'}]",128,287784,d9b2abaa73f9d9c68dc028038ea8513ad31b9dd5,216,26,39,16347,,,0,"Add support for building images capable of UEFI

This change adds support for to build images using diskimage-builder
which are capable to boot in UEFI based systems. Currently RHEL 7, CentOS 7,
Ubuntu, Debian and Fedora images have been tested and verified for
x86_64/amd64 architectures.

To build an UEFI capable image,

1. Two Partions were created with GPT partition table. First partition
   contains the EFI System Partition(ESP), while the second partition is
   the root file system. parted is used for creating the partitions.

2. Bootloader element pkg-map has been added with grub-efi which
   installs dependent packages for default and redhat distributions.

3. As part of installing grub boot loader, the ESP partition is mounted
   to /boot/efi directory of the root file system so that grub will
   install required grubx64.efi and other dependent packages in ESP
   partition.

4. Grub configuration files are modified to work with respective
   distributions.

Change-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45
Signed-off-by: Purandhar Sairam Mannidi <mannidi@hpe.com>

Conflicts:
	doc/source/user_guide/supported_distros.rst

Change-Id: If1fb0abe3507a0fe2b6f5266e0e2e5b32d628c45
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/84/287784/32 && git format-patch -1 --stdout FETCH_HEAD,"['elements/bootloader/finalise.d/50-bootloader', 'README.rst', 'elements/vm/block-device.d/10-partition', 'elements/bootloader/pkg-map']",4,76f9e4b95873bc14a93e99f21b80ba18f60055bf,dib_uefi_master," ""grub-pc"": ""grub2-tools grub2"", ""grub-efi"": ""grub2-efi grub2-efi-modules shim"" ""grub-pc"": ""grub-pc"", ""grub-efi"": ""grub-efi-amd64-signed shim-signed"""," ""grub-pc"": ""grub2-tools grub2"" ""grub-pc"": ""grub-pc""",60,4
openstack%2Freleases~master~I1e6ee139d84ec49ea331028818995f63513fa599,openstack/releases,master,I1e6ee139d84ec49ea331028818995f63513fa599,Release final sushy for Wallaby,MERGED,2021-03-01 09:48:37.000000000,2021-03-03 06:33:38.000000000,2021-03-03 06:33:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-01 09:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1383979361f88897ced257ad2266fe9387ce15b7', 'message': ""Release final sushy for Wallaby\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 3.6.1..93cbb1e\n7a9a2b6 Refactor TaskMonitor and update Volume methods\n07ca7f4 Don't log ERROR if GET of /redfish/v1/SessionService fails\nd9004ec Fix deprecation on collections.MutableMapping\n09cee5c Automatically retry HTTP 5xx on GET requests\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I1e6ee139d84ec49ea331028818995f63513fa599\n""}, {'number': 2, 'created': '2021-03-02 09:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c64eaca3b83117b653be8cb9fc9250b48aad16de', 'message': ""Release final sushy for Wallaby\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 3.6.1..93cbb1e\n7a9a2b6 Refactor TaskMonitor and update Volume methods\n07ca7f4 Don't log ERROR if GET of /redfish/v1/SessionService fails\nd9004ec Fix deprecation on collections.MutableMapping\n09cee5c Automatically retry HTTP 5xx on GET requests\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I1e6ee139d84ec49ea331028818995f63513fa599\n""}, {'number': 3, 'created': '2021-03-02 09:31:43.000000000', 'files': ['deliverables/wallaby/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6556645151e767de9dd0c088734a58c2504e346b', 'message': ""Release final sushy for Wallaby\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 3.6.1..d4c7e03\n375b29b Follow up TaskMonitor refactor\n7a9a2b6 Refactor TaskMonitor and update Volume methods\n07ca7f4 Don't log ERROR if GET of /redfish/v1/SessionService fails\nd9004ec Fix deprecation on collections.MutableMapping\n09cee5c Automatically retry HTTP 5xx on GET requests\n4abea18 Initial support for secure boot databases\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I1e6ee139d84ec49ea331028818995f63513fa599\n""}]",0,777960,6556645151e767de9dd0c088734a58c2504e346b,20,9,3,28522,,,0,"Release final sushy for Wallaby

This proposed a release for sushy to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.6.1..d4c7e03
375b29b Follow up TaskMonitor refactor
7a9a2b6 Refactor TaskMonitor and update Volume methods
07ca7f4 Don't log ERROR if GET of /redfish/v1/SessionService fails
d9004ec Fix deprecation on collections.MutableMapping
09cee5c Automatically retry HTTP 5xx on GET requests
4abea18 Initial support for secure boot databases

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I1e6ee139d84ec49ea331028818995f63513fa599
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/777960/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/sushy.yaml'],1,1383979361f88897ced257ad2266fe9387ce15b7,wallaby-lib-freeze, - version: 3.7.0 projects: - repo: openstack/sushy hash: 93cbb1ee7b4ea1067d9019c0d46b0e582fb4872b,,4,0
openstack%2Fos-refresh-config~stable%2Frocky~I05e5e65eecf5f0b497b1bf4fc2aafe076dc27c76,openstack/os-refresh-config,stable/rocky,I05e5e65eecf5f0b497b1bf4fc2aafe076dc27c76,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 16:53:39.000000000,2021-03-03 06:30:24.000000000,2021-03-03 06:30:24.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 16:53:39.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/335eac106e7bc243dc1c5576e5ef9e145cb8f7a7', 'message': 'Remove tripleo-multinode-container|baremetal-minimal from layout\n\nThe tripleo-multinode-container-minimal and -baremetal-minimal\ntemplates are being deprecated [1] as part of wider tripleo CI\noptimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I05e5e65eecf5f0b497b1bf4fc2aafe076dc27c76\n'}]",0,777624,335eac106e7bc243dc1c5576e5ef9e145cb8f7a7,8,3,1,8449,,,0,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I05e5e65eecf5f0b497b1bf4fc2aafe076dc27c76
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/24/777624/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,335eac106e7bc243dc1c5576e5ef9e145cb8f7a7,tripleo-ci-reduce,, - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal,0,2
openstack%2Fglance~master~I591e2637bdef9c7bf01b021b3eec2a81aa45c21d,openstack/glance,master,I591e2637bdef9c7bf01b021b3eec2a81aa45c21d,Cluster aware Glance with RabbitMQ,ABANDONED,2019-07-08 13:00:15.000000000,2021-03-03 06:19:43.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9373}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-07-08 13:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/40ab7842a17c404314b532696660deb36f1ff99f', 'message': ""Cluster aware Glance with RabbitMQ\n\nThis change provides the basic functionality of cluster\nmessaging for glance-api services.\n\nInitial usecase the 'glance-direct' image import is\naddressed where the nodes can redistribute the import\nrequest to other glance-api nodes for processing avoiding\nthe need of shared filesystem between the nodes for staging.\n\nAs rabbitMQ requires x509 auth for TLS communication it's\nout of the scope of this change and should be addressed on\nfollow-up patch.\n\nSuitable test cases should be added once identified.\n\nrelated-bp: cluster-awareness\n\nChange-Id: I591e2637bdef9c7bf01b021b3eec2a81aa45c21d\n""}, {'number': 2, 'created': '2019-07-08 20:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fb4a581828e16c2795c839ae97234c19fb23f78a', 'message': ""Cluster aware Glance with RabbitMQ\n\nThis change provides the basic functionality of cluster\nmessaging for glance-api services.\n\nInitial usecase the 'glance-direct' image import is\naddressed where the nodes can redistribute the import\nrequest to other glance-api nodes for processing avoiding\nthe need of shared filesystem between the nodes for staging.\n\nAs rabbitMQ requires x509 auth for TLS communication it's\nout of the scope of this change and should be addressed on\nfollow-up patch.\n\nSuitable test cases should be added once identified.\n\nrelated-bp: cluster-awareness\n\nChange-Id: I591e2637bdef9c7bf01b021b3eec2a81aa45c21d\n""}, {'number': 3, 'created': '2019-07-09 08:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd2be7c691d5de06b36c467dd6b26ac417586216', 'message': ""Cluster aware Glance with RabbitMQ\n\nThis change provides the basic functionality of cluster\nmessaging for glance-api services.\n\nInitial usecase the 'glance-direct' image import is\naddressed where the nodes can redistribute the import\nrequest to other glance-api nodes for processing avoiding\nthe need of shared filesystem between the nodes for staging.\n\nAs rabbitMQ requires x509 auth for TLS communication it's\nout of the scope of this change and should be addressed on\nfollow-up patch.\n\nSuitable test cases should be added once identified.\n\nrelated-bp: cluster-awareness\n\nChange-Id: I591e2637bdef9c7bf01b021b3eec2a81aa45c21d\n""}, {'number': 4, 'created': '2019-07-09 11:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0336ed3c88eaece3e1f11bf0c8a2f881ba304fe4', 'message': ""Cluster aware Glance with RabbitMQ\n\nThis change provides the basic functionality of cluster\nmessaging for glance-api services.\n\nInitial usecase the 'glance-direct' image import is\naddressed where the nodes can redistribute the import\nrequest to other glance-api nodes for processing avoiding\nthe need of shared filesystem between the nodes for staging.\n\nAs rabbitMQ requires x509 auth for TLS communication it's\nout of the scope of this change and should be addressed on\nfollow-up patch.\n\nSuitable test cases should be added once identified.\n\nrelated-bp: cluster-awareness\n\nChange-Id: I591e2637bdef9c7bf01b021b3eec2a81aa45c21d\n""}, {'number': 5, 'created': '2019-08-08 12:59:04.000000000', 'files': ['glance/common/cluster.py', 'requirements.txt', 'glance/common/wsgi.py', 'glance/api/v2/images.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/5053386488339e7c9552309361e8b6a14d5777fb', 'message': ""Cluster aware Glance with RabbitMQ\n\nThis change provides the basic functionality of cluster\nmessaging for glance-api services.\n\nInitial usecase the 'glance-direct' image import is\naddressed where the nodes can redistribute the import\nrequest to other glance-api nodes for processing avoiding\nthe need of shared filesystem between the nodes for staging.\n\nAs rabbitMQ requires x509 auth for TLS communication it's\nout of the scope of this change and should be addressed on\nfollow-up patch.\n\nSuitable test cases should be added once identified.\n\nrelated-bp: cluster-awareness\n\nChange-Id: I591e2637bdef9c7bf01b021b3eec2a81aa45c21d\n""}]",8,669655,5053386488339e7c9552309361e8b6a14d5777fb,41,7,5,5202,,,0,"Cluster aware Glance with RabbitMQ

This change provides the basic functionality of cluster
messaging for glance-api services.

Initial usecase the 'glance-direct' image import is
addressed where the nodes can redistribute the import
request to other glance-api nodes for processing avoiding
the need of shared filesystem between the nodes for staging.

As rabbitMQ requires x509 auth for TLS communication it's
out of the scope of this change and should be addressed on
follow-up patch.

Suitable test cases should be added once identified.

related-bp: cluster-awareness

Change-Id: I591e2637bdef9c7bf01b021b3eec2a81aa45c21d
",git fetch https://review.opendev.org/openstack/glance refs/changes/55/669655/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/cluster.py', 'requirements.txt', 'glance/common/wsgi.py', 'glance/api/v2/images.py']",4,40ab7842a17c404314b532696660deb36f1ff99f,bp/cluster-awareness,"import osimport timefrom glance.common import cluster def distributed_import_call(image_id, distributed, task_input, req): request_id = req.headers.get('x-request-id') distributed.call_import(task_input, request_id, req.context.to_dict()) until_timeout = time.time() + 60 while (until_timeout > time.time() and distributed.IMPORTS[request_id] == False): distributed.CONNECTION.process_data_events() if distributed.IMPORTS[request_id] == image_id: return image_id elif distributed.IMPORTS[request_id] == ""True"": LOG.debug(""Something went wrong initiating remote import"") raise (webob.exc.HTTPInternalServerError(""Something went "" ""wrong while processing on remote host."")) else: LOG.debug(""Image %s has no data staged on any node but "" ""Import call was issued."" % image_id) raise webob.exc.HTTPNotFound(explanation=""No staged "" ""data found"") if import_method == 'glance-direct': if not os.path.exists(CONF.node_staging_uri.split('://')[1] + '/' + image_id): distributed = cluster.Cluster() if distributed.CHANNEL: return distributed_import_call(image_id, distributed, task_input, req) else: LOG.debug(""Cannot make distributed calls as cluster is "" ""not initialized."") def _remote_direct_import(self, payload): context = payload[""context""] request_id = payload[""request_id""] task_input = payload[""task_input""] image_id = payload[""task_input""][""image_id""] task_factory = self.gateway.get_task_factory(context) executor_factory = self.gateway.get_task_executor_factory(context) task_repo = self.gateway.get_task_repo(context) distributed = cluster.Cluster() if request_id in distributed.IMPORTS: return False if not os.path.exists(CONF.node_staging_uri.split('://')[1] + '/' + image_id): return False try: import_task = task_factory.new_task(task_type='api_image_import', owner=context.owner, task_input=task_input) task_repo.add(import_task) task_executor = executor_factory.new_task_executor(context) pool = common.get_thread_pool(""tasks_eventlet_pool"") pool.spawn_n(import_task.run, task_executor) except exception.Forbidden as e: LOG.debug(""User not permitted to create image import task."") return True except exception.Conflict as e: LOG.debug(""Conflict during remote Import %s"" % request_id) return True except exception.InvalidImageStatusTransition as e: LOG.debug(""Failure during remote import %s"" % request_id) return True except ValueError as e: LOG.debug(""Cannot import data for request %(id)s: %(e)s"", {'id': request_id, 'e': encodeutils.exception_to_unicode(e)}) return True return image_id ",,270,0
openstack%2Ftripleo-common~stable%2Ftrain~I776192717798c9fc3f02c4d358bebed2bada3593,openstack/tripleo-common,stable/train,I776192717798c9fc3f02c4d358bebed2bada3593,Fix fact definition for deployments,MERGED,2021-02-24 16:07:10.000000000,2021-03-03 05:38:52.000000000,2021-03-03 05:35:54.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:07:10.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/066e861391011ac25e26a3e8abdbc92afbf53dcd', 'message': 'Fix fact definition for deployments\n\nFor legacy deployment tasks we construct them here in tripleo-common. In\norder to disable inject facts, we need to fix this here too.\n\nChange-Id: I776192717798c9fc3f02c4d358bebed2bada3593\nRelated-Bug: #1915761\n(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)\n'}]",0,777423,066e861391011ac25e26a3e8abdbc92afbf53dcd,15,3,1,14985,,,0,"Fix fact definition for deployments

For legacy deployment tasks we construct them here in tripleo-common. In
order to disable inject facts, we need to fix this here too.

Change-Id: I776192717798c9fc3f02c4d358bebed2bada3593
Related-Bug: #1915761
(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/777423/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,066e861391011ac25e26a3e8abdbc92afbf53dcd,bug/1915761-stable/train," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"""," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}""",4,4
openstack%2Ftripleo-common~stable%2Ftrain~I61affe32dfc9eacbe514893168397c9b291b8713,openstack/tripleo-common,stable/train,I61affe32dfc9eacbe514893168397c9b291b8713,Reduce fact gathering,MERGED,2021-02-24 16:07:10.000000000,2021-03-03 05:37:50.000000000,2021-03-03 05:35:49.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:07:10.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9cc6007ecc9831d6b0232d3dc3b09541d474bc90', 'message': 'Reduce fact gathering\n\nThis change updates the default subset to only be the minimum list of\nfacts for ansible.  In the deployment we need to make sure that we only\ncollect the minimum amount of facts to perform the tasks at hand rather\nthan assume we have all the facts.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nRelated-Bug: #1915761\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)\n'}]",0,777422,9cc6007ecc9831d6b0232d3dc3b09541d474bc90,11,3,1,14985,,,0,"Reduce fact gathering

This change updates the default subset to only be the minimum list of
facts for ansible.  In the deployment we need to make sure that we only
collect the minimum amount of facts to perform the tasks at hand rather
than assume we have all the facts.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708
Related-Bug: #1915761
Change-Id: I61affe32dfc9eacbe514893168397c9b291b8713
(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/777422/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,9cc6007ecc9831d6b0232d3dc3b09541d474bc90,bug/1915761-stable/train," # NOTE(mwhahaha): only gather the bare minimum facts because this has # direct impact on how fast ansible can go. config.set('defaults', 'gather_subset', '!all,min')",,3,0
openstack%2Ftripleo-common~stable%2Fvictoria~I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,openstack/tripleo-common,stable/victoria,I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,Handle containers without a namespace,MERGED,2021-02-04 15:15:49.000000000,2021-03-03 05:37:41.000000000,2021-03-03 05:35:58.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-04 15:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2850463dafd8b3d0dd10ca5d9fdd31d30fc3e08d', 'message': 'Handle containers without a namespace\n\nSatellite server does not include a namespace when exposing containers.\nThis change fixes our image-serve metadata creation to understand this\nconcept and build the _catalog we provide correctly. We will only handle\ntwo types of containers path structures with the image-serve.\n\n   * host:port/namespace/container:tag\n   * host:port/container:tag\n\nChange-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773967\nCloses-Bug: #1913782\n'}, {'number': 2, 'created': '2021-02-11 14:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bddcbc9fac74f109178effdf80e2c90a60d8f9cd', 'message': 'Handle containers without a namespace\n\nSatellite server does not include a namespace when exposing containers.\nThis change fixes our image-serve metadata creation to understand this\nconcept and build the _catalog we provide correctly. We will only handle\ntwo types of containers path structures with the image-serve.\n\n   * host:port/namespace/container:tag\n   * host:port/container:tag\n\nChange-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773967\nCloses-Bug: #1913782\n(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)\n'}, {'number': 3, 'created': '2021-02-24 15:12:03.000000000', 'files': ['tripleo_common/image/image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/79474a444353d0f2afff6090274607924c7139d0', 'message': 'Handle containers without a namespace\n\nSatellite server does not include a namespace when exposing containers.\nThis change fixes our image-serve metadata creation to understand this\nconcept and build the _catalog we provide correctly. We will only handle\ntwo types of containers path structures with the image-serve.\n\n   * host:port/namespace/container:tag\n   * host:port/container:tag\n\nChange-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773967\nCloses-Bug: #1913782\n(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)\n'}]",0,773969,79474a444353d0f2afff6090274607924c7139d0,23,4,3,14985,,,0,"Handle containers without a namespace

Satellite server does not include a namespace when exposing containers.
This change fixes our image-serve metadata creation to understand this
concept and build the _catalog we provide correctly. We will only handle
two types of containers path structures with the image-serve.

   * host:port/namespace/container:tag
   * host:port/container:tag

Change-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773967
Closes-Bug: #1913782
(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/773969/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_export.py'],1,2850463dafd8b3d0dd10ca5d9fdd31d30fc3e08d,bug/1913782-stable/victoria," metadata_set = set(['blobs', 'manifests', 'tags']) contents_set = set(os.listdir(namespace_path)) # handle containers with no namespaces if metadata_set.issubset(contents_set): catalog_entries.append(namespace) for image in list(contents_set - metadata_set):", for image in os.listdir(namespace_path):,6,1
openstack%2Fswift~master~I1456faf4de3b787e3104985feb61614492316c90,openstack/swift,master,I1456faf4de3b787e3104985feb61614492316c90,Fixups and test for manage_shard_ranges conf file loading,ABANDONED,2021-03-02 21:27:02.000000000,2021-03-03 05:37:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-02 21:27:02.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6fbed2243dbf724882a56967372963b919c901f3', 'message': 'Fixups and test for manage_shard_ranges conf file loading\n\nChange-Id: I1456faf4de3b787e3104985feb61614492316c90\n'}]",0,778331,6fbed2243dbf724882a56967372963b919c901f3,3,1,1,7847,,,0,"Fixups and test for manage_shard_ranges conf file loading

Change-Id: I1456faf4de3b787e3104985feb61614492316c90
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/778331/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,6fbed2243dbf724882a56967372963b919c901f3,add_config_to_manage_shard_ranges,"from argparse import Namespace from textwrap import dedent def test_conf_file_options(self): db_file = os.path.join(self.testdir, 'hash.db') broker = ContainerBroker(db_file, account='a', container='c') broker.initialize() conf = """""" [container-sharder] shard_shrink_point = 15 shard_shrink_merge_point = 65 shard_container_threshold = 1000 max_shrinking = 33 max_expanding = 31 """""" conf_file = os.path.join(self.testdir, 'sharder.conf') with open(conf_file, 'wb') as fd: fd.write(dedent(conf)) # default values with mock.patch('swift.cli.manage_shard_ranges.find_ranges') as mocked: main([db_file, 'find']) expected = Namespace(conf_file=None, container_db=mock.ANY, func=mock.ANY, rows_per_shard=500000, subcommand='find', verbose=0) mocked.assert_called_once_with(mock.ANY, expected) # conf file with mock.patch('swift.cli.manage_shard_ranges.find_ranges') as mocked: main([db_file, '--config', conf_file, 'find']) expected = Namespace(conf_file=conf_file, container_db=mock.ANY, func=mock.ANY, rows_per_shard=500, subcommand='find', verbose=0) mocked.assert_called_once_with(mock.ANY, expected) # cli options override conf file with mock.patch('swift.cli.manage_shard_ranges.find_ranges') as mocked: main([db_file, '--config', conf_file, 'find', '12345']) expected = Namespace(conf_file=conf_file, container_db=mock.ANY, func=mock.ANY, rows_per_shard=12345, subcommand='find', verbose=0) mocked.assert_called_once_with(mock.ANY, expected) # default values with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges') \ as mocked: main([db_file, 'compact']) expected = Namespace(conf_file=None, container_db=mock.ANY, func=mock.ANY, subcommand='compact', verbose=0, max_expanding=-1, max_shrinking=1, shrink_threshold=100000, expansion_limit=500000, yes=False) mocked.assert_called_once_with(mock.ANY, expected) # conf file with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges') \ as mocked: main([db_file, '--config', conf_file, 'compact']) expected = Namespace(conf_file=conf_file, container_db=mock.ANY, func=mock.ANY, subcommand='compact', verbose=0, max_expanding=31, max_shrinking=33, shrink_threshold=150, expansion_limit=650, yes=False) mocked.assert_called_once_with(mock.ANY, expected) # cli options with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges') \ as mocked: main([db_file, '--config', conf_file, 'compact', '--max-shrinking', '22', '--max-expanding', '11', '--expansion-limit', '3456', '--shrink-threshold', '1234']) expected = Namespace(conf_file=conf_file, container_db=mock.ANY, func=mock.ANY, subcommand='compact', verbose=0, max_expanding=11, max_shrinking=22, shrink_threshold=1234, expansion_limit=3456, yes=False) mocked.assert_called_once_with(mock.ANY, expected) ",,120,8
openstack%2Ftripleo-quickstart-extras~master~I41d98002fdd578cdd82adb48cabfc937370d5ba5,openstack/tripleo-quickstart-extras,master,I41d98002fdd578cdd82adb48cabfc937370d5ba5,allow users to override nodepool settings for libvirt reproducer,MERGED,2021-02-19 20:34:06.000000000,2021-03-03 05:36:26.000000000,2021-03-03 05:36:26.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 20:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/43bc02762ba241deb216a263ebe315b64d48f9b6', 'message': 'allow users to override nodepool settings for libvirt reproducer\n\ncopy the libvirt nodepool defaults from their hiding space\ndirectly to the workspace of where users launch the reproducer.\n\nThis will allow users to customize the image, memory etc easily.\n\nChange-Id: I41d98002fdd578cdd82adb48cabfc937370d5ba5\n'}, {'number': 2, 'created': '2021-02-23 17:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6efb3611902a1cae48b5576a3a8cbdcf0f39d4b', 'message': 'allow users to override nodepool settings for libvirt reproducer\n\ncopy the libvirt nodepool defaults from their hiding space\ndirectly to the workspace of where users launch the reproducer.\n\nThis will allow users to customize the image, memory etc easily.\n\nChange-Id: I41d98002fdd578cdd82adb48cabfc937370d5ba5\n'}, {'number': 3, 'created': '2021-03-02 21:01:19.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/82ea5a85c5aa39edb571d0979fa96460691b9221', 'message': 'allow users to override nodepool settings for libvirt reproducer\n\ncopy the libvirt nodepool defaults from their hiding space\ndirectly to the workspace of where users launch the reproducer.\n\nThis will allow users to customize the image, memory etc easily.\n\nChange-Id: I41d98002fdd578cdd82adb48cabfc937370d5ba5\n'}]",1,776707,82ea5a85c5aa39edb571d0979fa96460691b9221,18,5,3,9592,,,0,"allow users to override nodepool settings for libvirt reproducer

copy the libvirt nodepool defaults from their hiding space
directly to the workspace of where users launch the reproducer.

This will allow users to customize the image, memory etc easily.

Change-Id: I41d98002fdd578cdd82adb48cabfc937370d5ba5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/776707/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'],1,43bc02762ba241deb216a263ebe315b64d48f9b6,reproducer-fix," cp ""$WORKSPACE/roles/libvirt/setup/overcloud/vars/libvirt_nodepool_vars.yml"" ""$WORKSPACE"" if [[ ""$LIBVIRT"" == ""1"" ]]; then EXTRA_PARAMS=""$EXTRA_PARAMS -e @libvirt_nodepool_vars.yml "" fi echo ""EXTRA_PARAMS = $EXTRA_PARAMS"" sleep 3 ",,8,0
openstack%2Fos-brick~stable%2Fussuri~Ie3266c81b3c6bb5a2c213a12410539d404d1febe,openstack/os-brick,stable/ussuri,Ie3266c81b3c6bb5a2c213a12410539d404d1febe,FC: Fix not flushing on detach,MERGED,2021-02-24 15:38:42.000000000,2021-03-03 04:57:44.000000000,2021-03-03 04:56:33.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 15:38:42.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1e7ad8b7a44c88b484b034d8933b8a2f3bbc9d52', 'message': ""FC: Fix not flushing on detach\n\nWhen doing multipathed Fibre Channel we may end up not flushing the\nvolume when disconnecting it if didn't find a multipath when doing\nthe connection.\n\nThe issue is caused by the `connect_volume` call returning a real path\ninstead of a symlink and us passing the wrong device_info to the\n_remove_devices method, which makes the disconnect code incorrectly\nidentify when a multipath was used to decide whether to do a flush or\nnot.\n\nThis patch fixes these things in order to flush the individual path when\nnecessary.\n\nCloses-Bug: #1897787\nChange-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe\n(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)\n(cherry picked from commit 3adcb40678ee771d6701e798f1f50ebce8b63aa3)\n""}]",0,777408,1e7ad8b7a44c88b484b034d8933b8a2f3bbc9d52,24,4,1,10459,,,0,"FC: Fix not flushing on detach

When doing multipathed Fibre Channel we may end up not flushing the
volume when disconnecting it if didn't find a multipath when doing
the connection.

The issue is caused by the `connect_volume` call returning a real path
instead of a symlink and us passing the wrong device_info to the
_remove_devices method, which makes the disconnect code incorrectly
identify when a multipath was used to decide whether to do a flush or
not.

This patch fixes these things in order to flush the individual path when
necessary.

Closes-Bug: #1897787
Change-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe
(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)
(cherry picked from commit 3adcb40678ee771d6701e798f1f50ebce8b63aa3)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/08/777408/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml']",5,1e7ad8b7a44c88b484b034d8933b8a2f3bbc9d52,fix-fc-returning-real-path,"--- fixes: - | `Bug #1897787 <https://bugs.launchpad.net/cinder/+bug/1897787>`_: Fix Fibre Channel not flushing volumes on detach when a multipath connection was requested on their attach, but one was not found. ",,49,13
openstack%2Fopenstack-ansible-os_gnocchi~master~Ia0ee853b14cffd3082346e20bb021da24e3f2c40,openstack/openstack-ansible-os_gnocchi,master,Ia0ee853b14cffd3082346e20bb021da24e3f2c40,Delete gnocchi_identity_setup,MERGED,2021-02-16 19:37:44.000000000,2021-03-03 04:07:03.000000000,2021-03-03 04:02:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-16 19:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/5c8ef07036efc75754c47b24aba84f9009ea89c0', 'message': ""Delete gnocchi_identity_setup\n\nThis file duplicates the purpose of the service_setup.yml\nso we're running same set of tasks twice.\n\nChange-Id: Ia0ee853b14cffd3082346e20bb021da24e3f2c40\n""}, {'number': 2, 'created': '2021-02-17 17:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/a1abe68bf9beb0a550863d6e8ca931ee86ca653c', 'message': ""Delete gnocchi_identity_setup\n\nThis file duplicates the purpose of the service_setup.yml\nso we're running same set of tasks twice.\n\nChange-Id: Ia0ee853b14cffd3082346e20bb021da24e3f2c40\n""}, {'number': 3, 'created': '2021-02-18 12:30:31.000000000', 'files': ['tasks/main.yml', 'tasks/gnocchi_identity_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/503b4d25cf0ef9e28b6f35d0b2569ebbe5fca729', 'message': ""Delete gnocchi_identity_setup\n\nThis file duplicates the purpose of the service_setup.yml\nso we're running same set of tasks twice.\n\nChange-Id: Ia0ee853b14cffd3082346e20bb021da24e3f2c40\n""}]",0,775918,503b4d25cf0ef9e28b6f35d0b2569ebbe5fca729,20,3,3,28619,,,0,"Delete gnocchi_identity_setup

This file duplicates the purpose of the service_setup.yml
so we're running same set of tasks twice.

Change-Id: Ia0ee853b14cffd3082346e20bb021da24e3f2c40
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/18/775918/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/gnocchi_identity_setup.yml']",2,5c8ef07036efc75754c47b24aba84f9009ea89c0,,,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Create the project if needed, assumed to be in default domain. # In many cases this will be present but under some circumstances the project # may be unique to Gnocchi, esp. when Swift is used for storage. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the service delegate_to: ""{{ gnocchi_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ gnocchi_service_setup_host_python_interpreter }}"" block: - name: Add service project openstack.cloud.os_project: cloud: default state: present name: ""{{ gnocchi_service_project_name }}"" domain_id: ""{{ gnocchi_service_project_domain_id }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 - name: Add service user openstack.cloud.os_user: cloud: default state: present name: ""{{ gnocchi_service_user_name }}"" password: ""{{ gnocchi_service_password }}"" domain: default default_project: ""{{ gnocchi_service_project_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 no_log: True - name: Add service user to admin role openstack.cloud.os_user_role: cloud: default state: present user: ""{{ gnocchi_service_user_name }}"" role: ""{{ gnocchi_role_name }}"" project: ""{{ gnocchi_service_project_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 ",0,75
openstack%2Fopenstack-ansible-os_gnocchi~master~Ibf24046371128a693de88c5dab78878aa78b044e,openstack/openstack-ansible-os_gnocchi,master,Ibf24046371128a693de88c5dab78878aa78b044e,Drop distro tests,MERGED,2021-02-18 12:30:17.000000000,2021-03-03 04:05:56.000000000,2021-03-03 04:02:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-18 12:30:17.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/bf17cc3d699bf711926563d80879ddc26ac87f54', 'message': ""Drop distro tests\n\nGnocchi does not have distro path so there's no sense in testing it.\n\nChange-Id: Ibf24046371128a693de88c5dab78878aa78b044e\n""}]",0,776425,bf17cc3d699bf711926563d80879ddc26ac87f54,16,3,1,28619,,,0,"Drop distro tests

Gnocchi does not have distro path so there's no sense in testing it.

Change-Id: Ibf24046371128a693de88c5dab78878aa78b044e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/25/776425/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bf17cc3d699bf711926563d80879ddc26ac87f54,,, - openstack-ansible-deploy-aio_distro_metal-jobs,0,1
openstack%2Ftripleo-ansible~master~I6234b9e9bf6918761ddfa3b0ed24a5304088d185,openstack/tripleo-ansible,master,I6234b9e9bf6918761ddfa3b0ed24a5304088d185,Remove detach from podman create arguments,ABANDONED,2021-03-02 05:45:11.000000000,2021-03-03 03:47:18.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-02 05:45:11.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d5b3859e462bf8da6f125d57bf134af8300eeb8', 'message': 'Remove detach from podman create arguments\n\nThis is not supported by new podman.\n\nChange-Id: I6234b9e9bf6918761ddfa3b0ed24a5304088d185\nCloses-Bug:#1917366\n'}]",0,778137,2d5b3859e462bf8da6f125d57bf134af8300eeb8,13,4,1,8833,,,0,"Remove detach from podman create arguments

This is not supported by new podman.

Change-Id: I6234b9e9bf6918761ddfa3b0ed24a5304088d185
Closes-Bug:#1917366
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/778137/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'],1,2d5b3859e462bf8da6f125d57bf134af8300eeb8,, params_set = set(i for i in self.params if self.params[i] is not None) if self.action == 'create': params_set.remove('detach'), params_set = (i for i in self.params if self.params[i] is not None),4,1
openstack%2Fneutron~master~I9d9e2bd4add5bb6fa4105352bfda739340932571,openstack/neutron,master,I9d9e2bd4add5bb6fa4105352bfda739340932571,Allow sharing of address groups via RBAC mechanism,MERGED,2021-01-26 01:09:05.000000000,2021-03-03 03:17:05.000000000,2021-03-03 03:15:38.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2021-01-26 01:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c767e1d7e0dafc236add259aba6a29ecad084b5', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 2, 'created': '2021-01-26 23:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/771d0963c056e82e2efaac4813b4957af3e0d96b', 'message': '[DNM] Allow sharing of address groups via RBAC mechanism\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 3, 'created': '2021-01-27 22:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a4b2dcbf160362079c0e3242b4e80720350d696', 'message': '[DNM] Allow sharing of address groups via RBAC mechanism\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 4, 'created': '2021-01-28 18:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f087381d4cf1000e968cced5631f2b3bce7944b3', 'message': '[DNM] Allow sharing of address groups via RBAC mechanism\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 5, 'created': '2021-02-08 00:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e6a45eae6b6fd8dbdbfb2694ecf5a1152070934', 'message': '[DNM] Allow sharing of address groups via RBAC mechanism\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 6, 'created': '2021-02-10 01:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9418b9f71bf34dcfea573b961ba59cd07d5c39de', 'message': '[DNM] Allow sharing of address groups via RBAC mechanism\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 7, 'created': '2021-02-10 23:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05ec5102be721ff020bbac48aea8904d8ed1554f', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nClient: https://review.opendev.org/c/openstack/python-openstackclient/+/775045\nTempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/774929\n'}, {'number': 8, 'created': '2021-02-18 02:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f882cfcc6be8ddcd128549ed868feba3c1978a7', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nClient: https://review.opendev.org/c/openstack/python-openstackclient/+/775045\nTempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/774929\n'}, {'number': 9, 'created': '2021-02-23 00:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c46ab34d7054c089946525a98089aca35bf7935d', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nClient: https://review.opendev.org/c/openstack/python-openstackclient/+/775045\nTempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/774929\n'}, {'number': 10, 'created': '2021-02-23 14:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7571925dd9be98d2af9f36af03a42404b0c45350', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nClient: https://review.opendev.org/c/openstack/python-openstackclient/+/775045\nTempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/774929\n'}, {'number': 11, 'created': '2021-02-26 00:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e455812c6e307d87a0908c581c72fe0dffb9782', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nClient: https://review.opendev.org/c/openstack/python-openstackclient/+/775045\nTempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 12, 'created': '2021-02-26 16:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7108be4d7d3166ff821babeb10de89ecf40147ca', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nClient: https://review.opendev.org/c/openstack/python-openstackclient/+/775045\nTempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}, {'number': 13, 'created': '2021-03-02 00:29:23.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/conf/policies/address_group.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/conf/policies/__init__.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/extensions/rbac_address_group.py', 'neutron/db/models/address_group.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/db/migration/alembic_migrations/versions/wallaby/expand/6135a7bd4425_add_rbac_support_for_address_group.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/db/rbac_db_models.py', 'neutron/objects/address_group.py', 'doc/source/admin/config-rbac.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8094b524f693180fe9f435ef0d1f23b6a44259ae', 'message': 'Allow sharing of address groups via RBAC mechanism\n\nClient: https://review.opendev.org/c/openstack/python-openstackclient/+/775045\nTempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274\n\nAllow sharing of address groups via RBAC mechanism\n\nChange-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571\n'}]",19,772460,8094b524f693180fe9f435ef0d1f23b6a44259ae,104,6,13,4694,,,0,"Allow sharing of address groups via RBAC mechanism

Client: https://review.opendev.org/c/openstack/python-openstackclient/+/775045
Tempest tests: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/773274

Allow sharing of address groups via RBAC mechanism

Change-Id: I9d9e2bd4add5bb6fa4105352bfda739340932571
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/772460/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/_rbac_address_group_lib.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/agent/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/extensions/rbac_address_group.py', 'neutron/db/models/address_group.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/db/migration/alembic_migrations/versions/wallaby/expand/6135a7bd4425_add_rbac_support_for_address_group.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/db/rbac_db_models.py', 'neutron/objects/address_group.py']",12,0c767e1d7e0dafc236add259aba6a29ecad084b5,bp/address-groups-in-sg-rules,"from neutron.db import rbac_db_modelsfrom neutron.objects import rbac from neutron.objects import securitygroup @base.NeutronObjectRegistry.register class AddressGroupRBAC(rbac.RBACBaseObject): # Version 1.0: Initial version VERSION = '1.0' db_model = rbac_db_models.AddressGroupRBAC # Version 1.2: Added RBAC support VERSION = '1.2' # required by RbacNeutronMetaclass rbac_db_cls = AddressGroupRBAC 'shared': obj_fields.BooleanField(default=False), if _target_version < (1, 2): primitive.pop('shared', None) @classmethod def get_bound_tenant_ids(cls, context, obj_id): ag_objs = securitygroup.SecurityGroupRule.get_objects( context, remote_address_group_id=[obj_id]) return {ag.tenant_id for ag in ag_objs}", VERSION = '1.0' VERSION = '1.1',156,8
openstack%2Fopenstack-ansible-galera_server~master~I88edfe87fd134bdbcf199a48443fc063740a8604,openstack/openstack-ansible-galera_server,master,I88edfe87fd134bdbcf199a48443fc063740a8604,Configure my.cnf for server when galera_root_user is not root,MERGED,2021-02-16 19:15:21.000000000,2021-03-03 03:08:04.000000000,2021-03-03 03:06:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-16 19:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/ce70307fd46979113900006e3577c60360c86f28', 'message': ""Do not configure client as part of server role\n\nWe have separated galera_client and galera_server roles and there's no\nneed in dropping client file since that can be done by client part.\n\nChange-Id: I88edfe87fd134bdbcf199a48443fc063740a8604\n""}, {'number': 2, 'created': '2021-02-17 18:11:50.000000000', 'files': ['tasks/main.yml', 'tasks/galera_server_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/931f3c74a78774f319acfb6867ff9742b9b46e3d', 'message': 'Configure my.cnf for server when galera_root_user is not root\n\nWhen galera_root_user is set to non-root user current behaviour is\nto place my.cnf file as a part of the server setup, however\nthis non-root user is not created yet. User creation is handled\nafter server proper bootstrap and handlers flush. Having my.cnf\nfile in place makes bootstrap script fail, since it tries to use\ncredentials from this file which are not valid yet.\n\nInstead we allow client part of the role to configure my.cnf\non metal deployments and set galera_root_user credentials\nin it once user is properly created\n\nChange-Id: I88edfe87fd134bdbcf199a48443fc063740a8604\n'}]",0,775893,931f3c74a78774f319acfb6867ff9742b9b46e3d,22,4,2,28619,,,0,"Configure my.cnf for server when galera_root_user is not root

When galera_root_user is set to non-root user current behaviour is
to place my.cnf file as a part of the server setup, however
this non-root user is not created yet. User creation is handled
after server proper bootstrap and handlers flush. Having my.cnf
file in place makes bootstrap script fail, since it tries to use
credentials from this file which are not valid yet.

Instead we allow client part of the role to configure my.cnf
on metal deployments and set galera_root_user credentials
in it once user is properly created

Change-Id: I88edfe87fd134bdbcf199a48443fc063740a8604
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/93/775893/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/galera_server_post_install.yml'],1,ce70307fd46979113900006e3577c60360c86f28,,," - src: ""client.my.cnf.j2"" dest: ""/root/.my.cnf"" config_overrides: ""{{ galera_client_my_cnf_overrides }}"" config_type: ""ini"" mode: ""0600""",0,5
openstack%2Fpython-manilaclient~master~I57111b676487fef0c82f749e90b165465151f0c1,openstack/python-manilaclient,master,I57111b676487fef0c82f749e90b165465151f0c1,Change public share tests,MERGED,2021-02-23 22:03:52.000000000,2021-03-03 03:04:51.000000000,2021-03-03 03:03:40.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-02-23 22:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f4e128b027ed3c6213eac35595d82d5b36503d34', 'message': ""DNM: Testing public shares policy change\n\nManila's dropping deprecated public share policies.\nLets see if any tests break in the client here.\n\nDepends-On: I6e7608be57de8987117f3f4ace018a7eb91c8bd2\nChange-Id: I57111b676487fef0c82f749e90b165465151f0c1\n""}, {'number': 2, 'created': '2021-02-23 23:07:34.000000000', 'files': ['manilaclient/tests/functional/test_shares_listing.py', 'manilaclient/tests/functional/test_snapshot_access.py', 'manilaclient/tests/functional/test_shares.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9bc7cec01621080e1403b68c1e1838ad02a6c9e6', 'message': 'Change public share tests\n\nManila changed the default RBAC policy\nfor public shares in the Stein release\nbut maintained compatibility to the older\nexpectation that regular/unprivileged\nusers could create public shares, or\nmodify private shares to become public [1].\n\nThis compatibility is being dropped [2]\nSo we must adjust the functional test\nexpectations here.\n\n[1] https://review.opendev.org/634864\n[2] https://review.opendev.org/776869\n\nDepends-On: I6e7608be57de8987117f3f4ace018a7eb91c8bd2\nChange-Id: I57111b676487fef0c82f749e90b165465151f0c1\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,777249,9bc7cec01621080e1403b68c1e1838ad02a6c9e6,13,5,2,16643,,,0,"Change public share tests

Manila changed the default RBAC policy
for public shares in the Stein release
but maintained compatibility to the older
expectation that regular/unprivileged
users could create public shares, or
modify private shares to become public [1].

This compatibility is being dropped [2]
So we must adjust the functional test
expectations here.

[1] https://review.opendev.org/634864
[2] https://review.opendev.org/776869

Depends-On: I6e7608be57de8987117f3f4ace018a7eb91c8bd2
Change-Id: I57111b676487fef0c82f749e90b165465151f0c1
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/49/777249/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm.txt'],1,f4e128b027ed3c6213eac35595d82d5b36503d34,secure-rbac,,,0,0
openstack%2Fmasakari~master~I38896adf7ba6ea698053a5deb616135b38f4ca24,openstack/masakari,master,I38896adf7ba6ea698053a5deb616135b38f4ca24,releasenote for enabled-to-segment,ABANDONED,2021-01-07 12:09:01.000000000,2021-03-03 02:44:44.000000000,,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-07 12:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/fb5ec023ca8536664bdf067579463d6ad2ccf7c3', 'message': 'releasenote for enabled-to-segment\n\nChange-Id: I38896adf7ba6ea698053a5deb616135b38f4ca24\n'}, {'number': 2, 'created': '2021-02-24 07:29:48.000000000', 'files': ['releasenotes/notes/enabled-to-segment-7e6184feb1e4f818.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/e8f3f003edad95a18b58ee2cae075476a075a965', 'message': 'releasenote for enabled-to-segment\n\nChange-Id: I38896adf7ba6ea698053a5deb616135b38f4ca24\n'}]",7,769715,e8f3f003edad95a18b58ee2cae075476a075a965,11,5,2,24501,,,0,"releasenote for enabled-to-segment

Change-Id: I38896adf7ba6ea698053a5deb616135b38f4ca24
",git fetch https://review.opendev.org/openstack/masakari refs/changes/15/769715/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/enabled-to-segment-7e6184feb1e4f818.yaml'],1,fb5ec023ca8536664bdf067579463d6ad2ccf7c3,change-769715-1,"--- features: - | Sometimes, operators want to temporarily close instance-ha function. This patch add 'enabled' to segment. If the segment 'enabled' value is set False, all notifications of this segment will be ignored and no recovery methods will execuate. ",,8,0
openstack%2Fopenstack-ansible~master~Ib86130d849454f04f5bb8cda5f773b4114d6f05f,openstack/openstack-ansible,master,Ib86130d849454f04f5bb8cda5f773b4114d6f05f,Bump ansible-base version and collections,MERGED,2021-02-19 07:46:29.000000000,2021-03-03 02:31:19.000000000,2021-03-03 02:28:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-19 07:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/365a97a62b9bdb0866865d10ae31ad70df2d9c54', 'message': 'Bump ansible-base version and collections\n\nChange-Id: Ib86130d849454f04f5bb8cda5f773b4114d6f05f\n'}, {'number': 2, 'created': '2021-02-19 11:39:47.000000000', 'files': ['ansible-collection-requirements.yml', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/387a14809a6db1ab99b153908ffbff91bc8f6bd5', 'message': 'Bump ansible-base version and collections\n\nChange-Id: Ib86130d849454f04f5bb8cda5f773b4114d6f05f\n'}]",0,776581,387a14809a6db1ab99b153908ffbff91bc8f6bd5,20,3,2,28619,,,0,"Bump ansible-base version and collections

Change-Id: Ib86130d849454f04f5bb8cda5f773b4114d6f05f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/81/776581/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collection-requirements.yml', 'scripts/bootstrap-ansible.sh']",2,365a97a62b9bdb0866865d10ae31ad70df2d9c54,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-base==2.10.6""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-base==2.10.5""}",5,5
openstack%2Fmasakari~master~I1a49a745e26acdfbc48b413ab18dd755e4ad5839,openstack/masakari,master,I1a49a745e26acdfbc48b413ab18dd755e4ad5839,add enabled to segment,ABANDONED,2021-03-03 02:27:14.000000000,2021-03-03 02:28:50.000000000,,[],"[{'number': 1, 'created': '2021-03-03 02:27:14.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/tests/unit/fakes.py', 'masakari/engine/manager.py', 'masakari/objects/segment.py', 'masakari/tests/unit/objects/test_objects.py', 'masakari/api/openstack/ha/schemas/segments.py', 'masakari/tests/unit/objects/test_segments.py', 'masakari/tests/unit/db/test_migrations.py', 'masakari/exception.py', 'masakari/ha/api.py', 'masakari/api/openstack/ha/segments.py', 'masakari/db/sqlalchemy/api.py', 'masakari/api/api_version_request.py', 'masakari/tests/unit/db/test_db_api.py', 'masakari/db/sqlalchemy/models.py', 'masakari/notifications/objects/notification.py', 'masakari/db/sqlalchemy/migrate_repo/versions/007_enabled_to_segments.py', 'masakari/tests/unit/objects/test_hosts.py', 'releasenotes/notes/enabled-to-segment-7e6184feb1e4f818.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/afce6fdb2223d970c6af2bff7f8b76444a0916d0', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nImplements: BP enable-to-segment\nChange-Id: I1a49a745e26acdfbc48b413ab18dd755e4ad5839\n""}]",0,778351,afce6fdb2223d970c6af2bff7f8b76444a0916d0,2,0,1,24501,,,0,"add enabled to segment

Sometimes, operators want to temporarily close instance-ha function.
This patch add 'enabled' to segment. If the segment 'enabled' value
is set False, all notifications of this segment will be ignored
and no recovery methods will execuate.

Implements: BP enable-to-segment
Change-Id: I1a49a745e26acdfbc48b413ab18dd755e4ad5839
",git fetch https://review.opendev.org/openstack/masakari refs/changes/51/778351/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/tests/unit/fakes.py', 'masakari/engine/manager.py', 'masakari/objects/segment.py', 'masakari/tests/unit/objects/test_objects.py', 'masakari/api/openstack/ha/schemas/segments.py', 'masakari/tests/unit/objects/test_segments.py', 'masakari/tests/unit/db/test_migrations.py', 'masakari/exception.py', 'masakari/ha/api.py', 'masakari/api/openstack/ha/segments.py', 'masakari/db/sqlalchemy/api.py', 'masakari/api/api_version_request.py', 'masakari/tests/unit/db/test_db_api.py', 'masakari/db/sqlalchemy/models.py', 'masakari/notifications/objects/notification.py', 'masakari/db/sqlalchemy/migrate_repo/versions/007_enabled_to_segments.py', 'masakari/tests/unit/objects/test_hosts.py', 'releasenotes/notes/enabled-to-segment-7e6184feb1e4f818.yaml']",19,afce6fdb2223d970c6af2bff7f8b76444a0916d0,,"--- features: - | Sometimes, operators want to temporarily disable instance-ha function. This version adds 'enabled' to segment. If the segment 'enabled' value is set False, all notifications of this segment will be ignored and no recovery methods will execute. ",,183,62
openstack%2Fopenstack-helm~master~If37ec26443feb5328d49e6b3c419305832bdae9e,openstack/openstack-helm,master,If37ec26443feb5328d49e6b3c419305832bdae9e,Update rbac api version for keystone,MERGED,2021-01-30 08:46:02.000000000,2021-03-03 02:26:08.000000000,2021-03-03 02:24:22.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-30 08:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d8d91bef036cad63e374fcf75aa95d812880ed44', 'message': 'Update rabc api version for keystone\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: If37ec26443feb5328d49e6b3c419305832bdae9e\n'}, {'number': 2, 'created': '2021-01-31 04:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96f3d08538324a8b3d678cc2a5274f1dd9de82e7', 'message': 'Update rabc api version for keystone\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: If37ec26443feb5328d49e6b3c419305832bdae9e\n'}, {'number': 3, 'created': '2021-02-18 07:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0acd7096c244b5ebc439deaf03dbd6793ec9fb47', 'message': 'Update rabc api version for keystone\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: If37ec26443feb5328d49e6b3c419305832bdae9e\n'}, {'number': 4, 'created': '2021-02-18 07:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff857bea1ece079e7679e2b1489b889fc0f6fbd5', 'message': 'Update rbac api version for keystone\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: If37ec26443feb5328d49e6b3c419305832bdae9e\n'}, {'number': 5, 'created': '2021-02-26 02:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e34851a3c57201f04a4f20989bed42a74637daa0', 'message': 'Update rbac api version for keystone\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: If37ec26443feb5328d49e6b3c419305832bdae9e\n'}, {'number': 6, 'created': '2021-02-27 04:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d2178474e5cefaa5c4b1af071746672bb771e234', 'message': 'Update rbac api version for keystone\n\nWhen using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.\n\nChange-Id: If37ec26443feb5328d49e6b3c419305832bdae9e\n'}, {'number': 7, 'created': '2021-03-02 15:58:17.000000000', 'files': ['keystone/templates/cron-job-credential-rotate.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da9f28cefa7e7afb262ab0b0b7f4193b9f98c7fc', 'message': 'Update rbac api version for keystone\n\nWhen using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.\n\nChange-Id: If37ec26443feb5328d49e6b3c419305832bdae9e\n'}]",0,773235,da9f28cefa7e7afb262ab0b0b7f4193b9f98c7fc,47,8,7,30449,,,0,"Update rbac api version for keystone

When using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.

Change-Id: If37ec26443feb5328d49e6b3c419305832bdae9e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/35/773235/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/cron-job-credential-rotate.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml']",4,d8d91bef036cad63e374fcf75aa95d812880ed44,Keystone_rbac,apiVersion: rbac.authorization.k8s.io/v1apiVersion: rbac.authorization.k8s.io/v1,apiVersion: rbac.authorization.k8s.io/v1beta1apiVersion: rbac.authorization.k8s.io/v1beta1,8,8
openstack%2Fkolla~master~I80fcc8a9ebcf1475c25c1a0632140214171ef53a,openstack/kolla,master,I80fcc8a9ebcf1475c25c1a0632140214171ef53a,DNM: test2,ABANDONED,2021-03-03 02:04:52.000000000,2021-03-03 02:05:27.000000000,,[],"[{'number': 1, 'created': '2021-03-03 02:04:52.000000000', 'files': ['b.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1f97455918012c98ef7af118bb4aa5eb3846b08e', 'message': 'DNM: test2\n\nChange-Id: I80fcc8a9ebcf1475c25c1a0632140214171ef53a\n'}]",0,778349,1f97455918012c98ef7af118bb4aa5eb3846b08e,2,0,1,26285,,,0,"DNM: test2

Change-Id: I80fcc8a9ebcf1475c25c1a0632140214171ef53a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/778349/1 && git format-patch -1 --stdout FETCH_HEAD,['b.txt'],1,1f97455918012c98ef7af118bb4aa5eb3846b08e,,,,0,0
openstack%2Fkolla~master~I7123c14b240b95364c95b88de48558f01c21bd24,openstack/kolla,master,I7123c14b240b95364c95b88de48558f01c21bd24,DNM: test1,ABANDONED,2021-03-03 02:04:52.000000000,2021-03-03 02:05:14.000000000,,[],"[{'number': 1, 'created': '2021-03-03 02:04:52.000000000', 'files': ['a.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/315245fa3c996abcd0a2d3b2a9d84107f4f102f6', 'message': 'DNM: test1\n\nChange-Id: I7123c14b240b95364c95b88de48558f01c21bd24\n'}]",0,778348,315245fa3c996abcd0a2d3b2a9d84107f4f102f6,2,0,1,26285,,,0,"DNM: test1

Change-Id: I7123c14b240b95364c95b88de48558f01c21bd24
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/778348/1 && git format-patch -1 --stdout FETCH_HEAD,['a.txt'],1,315245fa3c996abcd0a2d3b2a9d84107f4f102f6,,,,0,0
openstack%2Foctavia~master~I11083f3917b0f3694d7d7a7f87a47ce612fccfd8,openstack/octavia,master,I11083f3917b0f3694d7d7a7f87a47ce612fccfd8,Defer import of octavia.api.config,ABANDONED,2021-03-01 10:28:59.000000000,2021-03-03 01:20:03.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 10:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/34cf3b83aca7303713198cd808ef6cb8a23ee822', 'message': 'Defer import of octavia.api.config\n\nWhen octavia.api.config is imported, it also triggers import of\noctavia.api.v2.types.* which were included by octavia.db.models.\nBecause this import is called in a very early stage before config files\nare loaded, some modules are initialized with the default config value\ninstead of the actual value written in octavia.conf.\n\nThis change defers import of the octavia.api.config modules so that\nit is included only after the config file is actually loaded.\n\nStory 2008666\nTask 41953\n\nChange-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8\n'}, {'number': 2, 'created': '2021-03-01 10:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/44b9e0a91fc80ea1ecb80f1cc5c7476506379896', 'message': 'Defer import of octavia.api.config\n\nWhen octavia.api.config is imported, it also triggers import of\noctavia.api.v2.types.* which were included by octavia.db.models.\nBecause this import is called in a very early stage before config files\nare loaded, some modules are initialized with the default config value\ninstead of the actual value written in octavia.conf.\n\nThis change defers import of the octavia.api.config modules so that\nit is included only after config files are actually loaded.\n\nStory 2008666\nTask 41953\n\nChange-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8\n'}, {'number': 3, 'created': '2021-03-01 13:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/31e35c9c72562fe863eccd6456abd8fb0a9e924c', 'message': 'Defer import of octavia.api.config\n\nWhen octavia.api.config is imported, it also triggers import of\noctavia.api.v2.types.* which are included by octavia.db.models.\nBecause this import is called in a very early stage before config files\nare loaded, some modules are initialized with the default config value\ninstead of the actual value written in octavia.conf.\n\nThis change defers import of the octavia.api.config modules so that\nit is included only after config files are actually loaded.\n\nStory 2008666\nTask 41953\n\nChange-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8\n'}, {'number': 4, 'created': '2021-03-01 23:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c0882ea11587b6d0957ae4f8e5e02859c9f53abb', 'message': 'Defer import of octavia.api.config\n\nWhen octavia.api.config is imported, it also triggers import of\noctavia.api.v2.types.* which were included by octavia.db.models.\nBecause this import is called in a very early stage before config files\nare loaded, some modules are initialized with the default config value\ninstead of the actual value written in octavia.conf.\n\nThis change defers import of the octavia.api.config modules so that\nit is included only after config files are actually loaded.\n\nStory 2008666\nTask 41953\n\nChange-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8\n'}, {'number': 5, 'created': '2021-03-02 02:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f67d43ecc33cbc52d242bd9a77ad328185c6b3b', 'message': 'Defer import of octavia.api.config\n\nWhen octavia.api.config is imported, it also triggers import of\noctavia.api.v2.types.* which were included by octavia.db.models.\nBecause this import is called in a very early stage before config files\nare loaded, some modules are initialized with the default config value\ninstead of the actual value written in octavia.conf.\n\nThis change defers import of the octavia.api.config modules so that\nit is included only after config files are actually loaded.\n\nStory 2008666\nTask 41953\n\nChange-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8\n'}, {'number': 6, 'created': '2021-03-02 16:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/71e3ba998f5dd22d6a7ba94468ed3ba1f8e96eee', 'message': 'Defer import of octavia.api.config\n\nWhen octavia.api.config is imported, it also triggers import of\noctavia.api.v2.types.* which were included by octavia.db.models.\nBecause this import is called in a very early stage before config files\nare loaded, some modules are initialized with the default config value\ninstead of the actual value written in octavia.conf.\n\nThis change defers import of the octavia.api.config modules so that\nit is included only after config files are actually loaded.\n\nStory 2008666\nTask 41953\n\nChange-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8\n'}, {'number': 7, 'created': '2021-03-02 16:20:16.000000000', 'files': ['octavia/api/app.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e56998c16be8d86dd315482179f02e39301436d2', 'message': 'Defer import of octavia.api.config\n\nWhen octavia.api.config is imported, it also triggers import of\noctavia.api.v2.types.* which were included by octavia.db.models.\nBecause this import is called in a very early stage before config files\nare loaded, some modules are initialized with the default config value\ninstead of the actual value written in octavia.conf.\n\nThis change defers import of the octavia.api.config modules so that\nit is included only after config files are actually loaded.\n\nStory 2008666\nTask 41953\n\nChange-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8\n'}]",3,777974,e56998c16be8d86dd315482179f02e39301436d2,17,2,7,9816,,,0,"Defer import of octavia.api.config

When octavia.api.config is imported, it also triggers import of
octavia.api.v2.types.* which were included by octavia.db.models.
Because this import is called in a very early stage before config files
are loaded, some modules are initialized with the default config value
instead of the actual value written in octavia.conf.

This change defers import of the octavia.api.config modules so that
it is included only after config files are actually loaded.

Story 2008666
Task 41953

Change-Id: I11083f3917b0f3694d7d7a7f87a47ce612fccfd8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/74/777974/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/app.py'],1,34cf3b83aca7303713198cd808ef6cb8a23ee822,task/41953, # NOTE(tkajinam): We should defer import of the app_config so that # some classes are initialized after config files are # loaded. from octavia.api import config as app_config,from octavia.api import config as app_config,4,1
openstack%2Fneutron~stable%2Fstein~I0aca489715ddd0da97036e75c5c4265b713c19b8,openstack/neutron,stable/stein,I0aca489715ddd0da97036e75c5c4265b713c19b8,Fix IPv6 cidr used by public network in tempest-slow job,MERGED,2021-02-24 14:51:33.000000000,2021-03-03 01:15:18.000000000,2021-03-03 01:11:11.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 14:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2b90e8fceceb6522701373af0cc159a2d0b0dc4', 'message': ""Fix IPv6 cidr used by public network in tempest-slow job\n\nSame issue was fixed in tempest in [1] but it isn't in tempest 26.0.0\nso when tempest was pinned to that version in stable/stein jobs, it\nstarted failing with the error like described in [2].\n\nThis patch makes the same fix as was done in Tempest but in Neutron repo\nfor stable/stein job only.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/774764\n[2] https://bugs.launchpad.net/neutron/+bug/1914037\n\nChange-Id: I0aca489715ddd0da97036e75c5c4265b713c19b8\n""}, {'number': 2, 'created': '2021-02-25 09:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d31151744c88c1cc1529f6e28384271f8ca7889', 'message': ""Fix IPv6 cidr used by public network in tempest-slow job\n\nSame issue was fixed in tempest in [1] but it isn't in tempest 26.0.0\nso when tempest was pinned to that version in stable/stein jobs, it\nstarted failing with the error like described in [2].\n\nThis patch makes the same fix as was done in Tempest but in Neutron repo\nfor stable/stein job only.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/774764\n[2] https://bugs.launchpad.net/neutron/+bug/1914037\n\nChange-Id: I0aca489715ddd0da97036e75c5c4265b713c19b8\n""}, {'number': 3, 'created': '2021-03-01 22:40:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bec05e90ffe6c56aab2923876192c9f10435bdc', 'message': ""Fix IPv6 cidr used by public network in tempest-slow job\n\nSame issue was fixed in tempest in [1] but it isn't in tempest 26.0.0\nso when tempest was pinned to that version in stable/stein jobs, it\nstarted failing with the error like described in [2].\n\nThis patch makes the same fix as was done in Tempest but in Neutron repo\nfor stable/stein job only.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/774764\n[2] https://bugs.launchpad.net/neutron/+bug/1914037\n\nChange-Id: I0aca489715ddd0da97036e75c5c4265b713c19b8\n""}]",1,777389,3bec05e90ffe6c56aab2923876192c9f10435bdc,39,8,3,11975,,,0,"Fix IPv6 cidr used by public network in tempest-slow job

Same issue was fixed in tempest in [1] but it isn't in tempest 26.0.0
so when tempest was pinned to that version in stable/stein jobs, it
started failing with the error like described in [2].

This patch makes the same fix as was done in Tempest but in Neutron repo
for stable/stein job only.

[1] https://review.opendev.org/c/openstack/tempest/+/774764
[2] https://bugs.launchpad.net/neutron/+bug/1914037

Change-Id: I0aca489715ddd0da97036e75c5c4265b713c19b8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/777389/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f2b90e8fceceb6522701373af0cc159a2d0b0dc4,bug/1916041, vars: # to avoid https://bugs.launchpad.net/neutron/+bug/1914037 # as we couldn't backport the fix to rocky and older releases IPV6_PUBLIC_RANGE: 2001:db8:0:10::/64 IPV6_PUBLIC_NETWORK_GATEWAY: 2001:db8:0:10::2 IPV6_ROUTER_GW_IP: 2001:db8:0:10::1,,6,0
openstack%2Fneutron~master~Ie91a6a50fbda806f0c6ccafa9d3b38083715df65,openstack/neutron,master,Ie91a6a50fbda806f0c6ccafa9d3b38083715df65,[Functional] Mock classes from the ovn maintenance module,MERGED,2021-03-01 22:04:03.000000000,2021-03-03 01:04:40.000000000,2021-03-03 01:02:35.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 22:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53c6de6090e70236b25a21c91f8da34c63a970c3', 'message': '[Functional] Mock classes from the ovn maintenance module\n\nClasses MaintenanceThread, DBInconsistenciesPeriodics and\nHashRingHealthCheckPeriodics are now mocked in the TestOVNFunctionalBase\nclass if maintenance_worker is not needed.\n\nCloses-Bug: #1917370\nChange-Id: Ie91a6a50fbda806f0c6ccafa9d3b38083715df65\n'}, {'number': 2, 'created': '2021-03-01 22:37:12.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/952c84779571a27777348aea80532b471e8ad01a', 'message': '[Functional] Mock classes from the ovn maintenance module\n\nClasses MaintenanceThread and HashRingHealthCheckPeriodics\nare now mocked in the TestOVNFunctionalBase.\n\nCloses-Bug: #1917370\nChange-Id: Ie91a6a50fbda806f0c6ccafa9d3b38083715df65\n'}]",0,778080,952c84779571a27777348aea80532b471e8ad01a,28,6,2,11975,,,0,"[Functional] Mock classes from the ovn maintenance module

Classes MaintenanceThread and HashRingHealthCheckPeriodics
are now mocked in the TestOVNFunctionalBase.

Closes-Bug: #1917370
Change-Id: Ie91a6a50fbda806f0c6ccafa9d3b38083715df65
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/778080/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,53c6de6090e70236b25a21c91f8da34c63a970c3,bug/1917370, if not maintenance_worker: mock.patch( 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.' 'maintenance.MaintenanceThread').start() mock.patch( 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.' 'maintenance.DBInconsistenciesPeriodics').start() mock.patch( 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.' 'maintenance.HashRingHealthCheckPeriodics').start(),,10,0
openstack%2Fos-vif~master~Ia548cd56edac17ffb73624868ef8ad46488915f1,openstack/os-vif,master,Ia548cd56edac17ffb73624868ef8ad46488915f1,Remove the unused coding style modules,ABANDONED,2020-10-30 03:52:23.000000000,2021-03-03 01:00:39.000000000,,"[{'_account_id': 2874}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-30 03:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/fcf47b48e13db6df41e42cab2ecce06c98cc577e', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt\nin openstack/requirements repo) are dropped from lower-constraints.txt\nas they are not actually used in tests\n\nChange-Id: Ia548cd56edac17ffb73624868ef8ad46488915f1\n'}, {'number': 2, 'created': '2020-11-25 07:45:13.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/40f1c240c92dbd72a38f4222118f705ea709ffa3', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt\nin openstack/requirements repo) are dropped from lower-constraints.txt\nas they are not actually used in tests\n\nChange-Id: Ia548cd56edac17ffb73624868ef8ad46488915f1\n'}]",2,760491,40f1c240c92dbd72a38f4222118f705ea709ffa3,24,7,2,32291,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt
in openstack/requirements repo) are dropped from lower-constraints.txt
as they are not actually used in tests

Change-Id: Ia548cd56edac17ffb73624868ef8ad46488915f1
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/91/760491/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,fcf47b48e13db6df41e42cab2ecce06c98cc577e,,,flake8==2.2.4hacking==0.10.2mccabe==0.2.1pep8==1.5.7pyflakes==0.8.1,0,5
openstack%2Fnetworking-sfc~master~I83a070211939f9eeaffa95d1b4b6d9c3b0655960,openstack/networking-sfc,master,I83a070211939f9eeaffa95d1b4b6d9c3b0655960,remove babel.cfg,MERGED,2020-11-10 07:35:03.000000000,2021-03-03 00:30:48.000000000,2021-03-03 00:28:02.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32102}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-10 07:35:03.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/4daafc6a8020623dea698422ec717d6c0a678a94', 'message': 'remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore.\n\nChange-Id: I83a070211939f9eeaffa95d1b4b6d9c3b0655960\n'}]",0,762085,4daafc6a8020623dea698422ec717d6c0a678a94,11,6,1,32029,,,0,"remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: I83a070211939f9eeaffa95d1b4b6d9c3b0655960
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/85/762085/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,4daafc6a8020623dea698422ec717d6c0a678a94,babel,,[compile_catalog] directory = networking_sfc/locale domain = networking-sfc [update_catalog] domain = networking-sfc output_dir = networking_sfc/locale input_file = networking_sfc/locale/networking-sfc.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = networking_sfc/locale/networking-sfc.pot,0,15
openstack%2Fnetworking-sfc~master~I10ac6bc34327766f81918f3a73158866173e7f29,openstack/networking-sfc,master,I10ac6bc34327766f81918f3a73158866173e7f29,bump py37 to py38 in tox.ini,MERGED,2020-11-04 03:16:44.000000000,2021-03-03 00:29:30.000000000,2021-03-03 00:27:58.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-11-04 03:16:44.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/a76ba80abcd64529ca0dac9ae4c80641d5393fe3', 'message': ""bump py37 to py38 in tox.ini\n\nsince 'victoria' cycle, we should test py38 by default.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I10ac6bc34327766f81918f3a73158866173e7f29\n""}]",0,761267,a76ba80abcd64529ca0dac9ae4c80641d5393fe3,10,5,1,32238,,,0,"bump py37 to py38 in tox.ini

since 'victoria' cycle, we should test py38 by default.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I10ac6bc34327766f81918f3a73158866173e7f29
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/67/761267/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,a76ba80abcd64529ca0dac9ae4c80641d5393fe3,,"envlist = py38,pep8","envlist = py37,pep8",2,1
openstack%2Fopenstack-zuul-jobs~master~I1420508f0513c52866aa637784a51f7c22f6d204,openstack/openstack-zuul-jobs,master,I1420508f0513c52866aa637784a51f7c22f6d204,translation: Handle renaming of Chinese locales in Django,MERGED,2021-02-02 14:21:14.000000000,2021-03-03 00:05:30.000000000,2021-03-03 00:04:15.000000000,"[{'_account_id': 1736}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 14:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/20c22724abb1d58f8fc65791bdacede394d35e81', 'message': 'translation: Handle renaming of Chinese locales in Django\n\nHorizon is switching Chinese locales from zh-cn/zh-tw to zh-hans/zh-hant\nin horizon and horizon plugins.\nThis change follows Django change which happend more than five years ago\nand the new language code form is commonly used.\n\nLanguage codes in Zanata are not changed, so we need to covert the\nrelevant language codes in propose_translation_update.sh.\nIt allows us to avoid doing it manually and also allows us to\nswitch these language codes almost once across horizon and plugins.\n\nThe detail will be posted to the mailing list.\n\nChange-Id: I1420508f0513c52866aa637784a51f7c22f6d204\n'}, {'number': 2, 'created': '2021-02-02 14:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/417d2ef92f93c27006fad7ba1e0cc5f015866282', 'message': 'translation: Handle renaming of Chinese locales in Django\n\nHorizon is switching Chinese locales from zh-cn/zh-tw to zh-hans/zh-hant\nin horizon and horizon plugins.\nThis change follows Django change which happend more than five years ago\nand the new language code form is commonly used.\n\nLanguage codes in Zanata are not changed, so we need to covert the\nrelevant language codes in propose_translation_update.sh.\nIt allows us to avoid doing it manually and also allows us to\nswitch these language codes almost once across horizon and plugins.\n\nThe detail is explained in the mailing list post.\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html\n\nChange-Id: I1420508f0513c52866aa637784a51f7c22f6d204\n'}, {'number': 3, 'created': '2021-02-02 23:53:10.000000000', 'files': ['roles/prepare-zanata-client/files/propose_translation_update.sh', 'roles/prepare-zanata-client/files/common_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b515ef9819832a1ac3936a59234077ce3dd8e94a', 'message': 'translation: Handle renaming of Chinese locales in Django\n\nHorizon is switching Chinese locales from zh-cn/zh-tw to zh-hans/zh-hant\nin horizon and horizon plugins.\nThis change follows Django change which happend more than five years ago\nand the new language code form is commonly used.\n\nLanguage codes in Zanata are not changed, so we need to covert the\nrelevant language codes in propose_translation_update.sh.\nIt allows us to avoid doing it manually and also allows us to\nswitch these language codes almost once across horizon and plugins.\n\nThe detail is explained in the mailing list post.\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html\n\nChange-Id: I1420508f0513c52866aa637784a51f7c22f6d204\n'}]",6,773689,b515ef9819832a1ac3936a59234077ce3dd8e94a,18,5,3,841,,,0,"translation: Handle renaming of Chinese locales in Django

Horizon is switching Chinese locales from zh-cn/zh-tw to zh-hans/zh-hant
in horizon and horizon plugins.
This change follows Django change which happend more than five years ago
and the new language code form is commonly used.

Language codes in Zanata are not changed, so we need to covert the
relevant language codes in propose_translation_update.sh.
It allows us to avoid doing it manually and also allows us to
switch these language codes almost once across horizon and plugins.

The detail is explained in the mailing list post.
http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020169.html

Change-Id: I1420508f0513c52866aa637784a51f7c22f6d204
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/89/773689/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/prepare-zanata-client/files/common_translation_update.sh', 'roles/prepare-zanata-client/files/propose_translation_update.sh']",2,20c22724abb1d58f8fc65791bdacede394d35e81,rename-chinese-locales," rename_django_chinese_locales ""$project"" ""$BRANCH""# Rename existing Chinese locales in the project repository # (zh_CN -> zh_Hans, zh_TW -> zh_Hant) # NOTE: This is expected to call before pulling translations from zanata. function rename_django_chinese_locales { local project=$1 local branch=$2 local module_name module_names local old_locale new_locale # Renaming Chinese locales should happen in master (for Wallaby) # Wallaby or later releases need to be added here. # TODO(amotoki): Once all stable branches support the new Chinese locales # in horizon and its plugins, this branch check can be dropped. case ""$branch"" in master|stable/wallaby) ;; *) return ;; esac declare -A locale_rename_map=( [""zh_CN""]=""zh_Hans"" [""zh_TW""]=""zh_Hant"" ) module_names=$(get_modulename $project django) for module_name in $module_names; do for old_locale in ""${!locale_rename_map[@]}""; do new_locale=${locale_rename_map[$old_locale]} rm -rf $module_name/locale/$new_locale if [ -d $module_name/locale/$old_locale ]; then mv $module_name/locale/$old_locale $module_name/locale/$new_locale fi if git ls-files | grep -q $module_name/locale/$old_locale; then git rm -r $module_name/locale/$old_locale fi done done } ",,45,0
openstack%2Ftrove-dashboard~master~I26e3ca1746d7898334699192ad0581744c613248,openstack/trove-dashboard,master,I26e3ca1746d7898334699192ad0581744c613248,Support Restored status for backup,MERGED,2021-03-02 22:54:25.000000000,2021-03-03 00:00:06.000000000,2021-03-03 00:00:06.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 22:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/af9dea99d4d1eab061a6f07214281a397d32aea1', 'message': 'Support Restored status for backup\n\nChange-Id: I26e3ca1746d7898334699192ad0581744c613248\n'}, {'number': 2, 'created': '2021-03-02 23:09:53.000000000', 'files': ['trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/25347e64fcb752c1105ede076f26e66da7582149', 'message': 'Support Restored status for backup\n\nChange-Id: I26e3ca1746d7898334699192ad0581744c613248\n'}]",1,778337,25347e64fcb752c1105ede076f26e66da7582149,8,2,2,6732,,,0,"Support Restored status for backup

Change-Id: I26e3ca1746d7898334699192ad0581744c613248
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/37/778337/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py']",3,af9dea99d4d1eab061a6f07214281a397d32aea1,fix-backup-status," finalize_button_name = _(""Create Backup"")"," finalize_button_name = _(""Backup"")",6,3
openstack%2Fopenstack-ansible-ceph_client~master~I46311bb1fafb9d5c401c4899aab64d562117d658,openstack/openstack-ansible-ceph_client,master,I46311bb1fafb9d5c401c4899aab64d562117d658,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 18:03:32.000000000,2021-03-02 23:56:47.000000000,2021-03-02 23:55:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 18:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/639072b5ed84d75ddd12d2833ef16d33dbbf311a', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I46311bb1fafb9d5c401c4899aab64d562117d658\n'}, {'number': 2, 'created': '2021-02-23 19:35:41.000000000', 'files': ['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/ceph_install.yml', 'tasks/ceph_preinstall_yum.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/8e7d64641cbad47df51af3a38555bef0f5e01768', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I46311bb1fafb9d5c401c4899aab64d562117d658\n'}]",0,777177,8e7d64641cbad47df51af3a38555bef0f5e01768,11,3,2,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I46311bb1fafb9d5c401c4899aab64d562117d658
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/77/777177/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/ceph_install.yml', 'tasks/ceph_preinstall_yum.yml', 'meta/main.yml', 'vars/suse.yml']",7,639072b5ed84d75ddd12d2833ef16d33dbbf311a,osa-facts," - ""{{ (ansible_facts['distribution_version'] is version ('42', '>=')) | ternary('python-cephfs', 'python3-cephfs') }}"" - ""{{ (ansible_facts['distribution_version'] is version ('42', '>=')) | ternary('python-rados', 'python3-rados') }}"" - ""{{ (ansible_facts['distribution_version'] is version ('42', '>=')) | ternary('python-rbd', 'python3-rbd') }}"" - ""{{ (ansible_facts['distribution_version'] is version ('42', '>=')) | ternary('python-rgw', 'python3-rgw') }}"""," - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-cephfs', 'python3-cephfs') }}"" - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-rados', 'python3-rados') }}"" - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-rbd', 'python3-rbd') }}"" - ""{{ (ansible_distribution_version is version ('42', '>=')) | ternary('python-rgw', 'python3-rgw') }}""",22,22
openstack%2Fopenstack-ansible-os_tempest~master~Ic75eac3e27fd542370a04f9bd946d907f0756061,openstack/openstack-ansible-os_tempest,master,Ic75eac3e27fd542370a04f9bd946d907f0756061,Use ansible_facts[] instead of fact variables,MERGED,2021-03-01 10:29:59.000000000,2021-03-02 23:47:43.000000000,2021-03-02 23:46:29.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-01 10:29:59.000000000', 'files': ['tasks/main.yml', 'templates/tempest.conf.j2', 'tasks/tempest_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/049a1aed1e5e14e39b1645d05e7e642aadbfdf50', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ic75eac3e27fd542370a04f9bd946d907f0756061\n'}]",0,777975,049a1aed1e5e14e39b1645d05e7e642aadbfdf50,11,4,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ic75eac3e27fd542370a04f9bd946d907f0756061
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/75/777975/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/tempest.conf.j2', 'tasks/tempest_install.yml', 'defaults/main.yml']",4,049a1aed1e5e14e39b1645d05e7e642aadbfdf50,osa-facts,"tempest_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((tempest_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}""tempest_workspace: ""{{ ansible_facts['env']['HOME'] }}/workspace""tempest_images: ""{{ tempest_images_map[ansible_facts['architecture']] }}""","tempest_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((tempest_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""tempest_workspace: ""{{ ansible_env.HOME }}/workspace""tempest_images: ""{{ tempest_images_map[ansible_architecture] }}""",14,14
openstack%2Fkayobe~stable%2Ftrain~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,stable/train,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-03-02 10:51:16.000000000,2021-03-02 23:41:20.000000000,2021-03-02 23:40:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 10:51:16.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3557353aa75b0a27e7a199d842a3961a405d2ea', 'message': 'Quote kolla limit when calling kolla-ansible\n\nThis is necessary for correctly passing limits containing special\ncharacters such as ~ or &.\n\nChange-Id: Ia885a226de30d72610dca2eb2f194cef10193095\nStory: 2008546\nTask: 41651\n(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)\n'}]",0,778109,a3557353aa75b0a27e7a199d842a3961a405d2ea,8,3,1,14826,,,0,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/09/778109/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py']",3,a3557353aa75b0a27e7a199d842a3961a405d2ea,story/2008546-stable/train," cmd += [""--limit"", utils.quote_and_escape(limit_arg)]"," cmd += [""--limit"", limit_arg]",8,3
openstack%2Ftrove-dashboard~master~Idea67ecf7205e0b0544c2a22e7b85b2642021021,openstack/trove-dashboard,master,Idea67ecf7205e0b0544c2a22e7b85b2642021021,Create Backup Strategy,MERGED,2021-01-19 21:09:33.000000000,2021-03-02 23:09:14.000000000,2021-03-02 23:09:14.000000000,"[{'_account_id': 1736}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 21:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/bef564fb6e72a2968836ef503e4833847fa9219b', 'message': 'Create Backup Strategy\n\nChange-Id: Idea67ecf7205e0b0544c2a22e7b85b2642021021\n'}, {'number': 2, 'created': '2021-01-19 21:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a003e47f951e9c3fdc593b48c33afd083dedcd05', 'message': 'Create Backup Strategy\n\nChange-Id: Idea67ecf7205e0b0544c2a22e7b85b2642021021\n'}, {'number': 3, 'created': '2021-03-02 22:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/c09065a622616d7879c2952d8c61e5ffa09dfb7a', 'message': 'Create Backup Strategy\n\nChange-Id: Idea67ecf7205e0b0544c2a22e7b85b2642021021\n'}, {'number': 4, 'created': '2021-03-02 22:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a84f9eb5a8586eb4ccbf39e057b9207687be0c9b', 'message': 'Create Backup Strategy\n\nChange-Id: Idea67ecf7205e0b0544c2a22e7b85b2642021021\n'}, {'number': 5, 'created': '2021-03-02 22:41:33.000000000', 'files': ['trove_dashboard/content/backup_strategies/templates/backup_strategies/_backup_strategy_help.html', 'trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/backup_strategies/workflows/__init__.py', 'trove_dashboard/content/backup_strategies/urls.py', 'trove_dashboard/content/backup_strategies/views.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/b4f8eeb094c68bfe1fa13f922a2e88f33e0b602a', 'message': 'Create Backup Strategy\n\nChange-Id: Idea67ecf7205e0b0544c2a22e7b85b2642021021\n'}]",1,771517,b4f8eeb094c68bfe1fa13f922a2e88f33e0b602a,14,3,5,1736,,,0,"Create Backup Strategy

Change-Id: Idea67ecf7205e0b0544c2a22e7b85b2642021021
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/17/771517/5 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/templates/backup_strategies/_backup_strategy_help.html', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/backup_strategies/workflows/__init__.py', 'trove_dashboard/content/database_backups/templates/database_backups/index.html', 'trove_dashboard/content/backup_strategies/urls.py', 'trove_dashboard/content/backup_strategies/views.py']",8,bef564fb6e72a2968836ef503e4833847fa9219b,create-backup-strategy,"from horizon import workflows as horizon_workflowsfrom trove_dashboard.content.backup_strategies \ import workflows backup_strategies = api.trove.backup_strategy_list(self.request) except Exception: backup_strategies = [] return backup_strategies class BackupStrategyView(horizon_workflows.WorkflowView): workflow_class = workflows.CreateBackupStrategy template_name = ""project/database_backups/backup.html"" page_title = _(""Backup Strategy"")", backups = api.trove.backup_strategy_list(self.request) except Exception: backups = [] return backups,119,5
openstack%2Fneutron-vpnaas-dashboard~master~I49f66cb09c3fc1dbcbea9085611574f9caac1389,openstack/neutron-vpnaas-dashboard,master,I49f66cb09c3fc1dbcbea9085611574f9caac1389,Fix lower-constraints,MERGED,2021-02-16 06:34:47.000000000,2021-03-02 22:56:34.000000000,2021-03-02 22:55:20.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-16 06:34:47.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/ac9bb60797ce860a8721b7114e4f2f5e89d21f00', 'message': 'Fix lower-constraints\n\nhacking min version does not match test-requirements, so lower-constraints\njob fails. lower-constraints job does not need linters, so we can drop\nlinters from lower-constraints.txt.\n\nChange-Id: I49f66cb09c3fc1dbcbea9085611574f9caac1389\n'}]",0,775744,ac9bb60797ce860a8721b7114e4f2f5e89d21f00,8,3,1,841,,,0,"Fix lower-constraints

hacking min version does not match test-requirements, so lower-constraints
job fails. lower-constraints job does not need linters, so we can drop
linters from lower-constraints.txt.

Change-Id: I49f66cb09c3fc1dbcbea9085611574f9caac1389
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/44/775744/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ac9bb60797ce860a8721b7114e4f2f5e89d21f00,l-c-fix,,flake8==2.5.5 flake8-import-order==0.13hacking==0.12.0mccabe==0.2.1pep8==1.5.7pycodestyle==2.3.1pyflakes==0.8.1,0,7
openstack%2Ftripleo-ansible~stable%2Fussuri~I51b71a2c74f954e9a50fb7008f460aee6a74734f,openstack/tripleo-ansible,stable/ussuri,I51b71a2c74f954e9a50fb7008f460aee6a74734f,Fix bootstrap ansible_fact,MERGED,2021-02-23 21:30:34.000000000,2021-03-02 22:56:26.000000000,2021-03-02 22:56:26.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/038bb0d626de45e3ee70df0cdee1753cc9b6c553', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)\n'}, {'number': 2, 'created': '2021-02-24 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2995f127d51734b63d475ed1340b9b28da933ed6', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)\n'}, {'number': 3, 'created': '2021-02-25 17:47:48.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2dcc4f1fd99e0730b78efa4688bf98b480eb908b', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)\n'}]",0,777237,2dcc4f1fd99e0730b78efa4688bf98b480eb908b,14,4,3,14985,,,0,"Fix bootstrap ansible_fact

Missed the distribution_major_version switch.

Change-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f
(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/777237/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'],1,038bb0d626de45e3ee70df0cdee1753cc9b6c553,bug/1915761-stable/ussuri," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_facts['distribution_major_version']) == 'redhat-7') | bool }}"""," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_distribution_major_version) == 'redhat-7') | bool }}""",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,openstack/tripleo-ansible,stable/ussuri,Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,Use ansible_facts instead,MERGED,2021-02-23 21:30:34.000000000,2021-03-02 22:56:23.000000000,2021-03-02 22:56:23.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20df425f2e343e115014e4f9041522202c44c532', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}, {'number': 2, 'created': '2021-02-24 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8239bec070f0040429043d93dd369e745fea9d36', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}, {'number': 3, 'created': '2021-02-25 17:47:48.000000000', 'files': ['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/523c95e8626ac8aa9c87f9005b70871e356767c0', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}]",1,777236,523c95e8626ac8aa9c87f9005b70871e356767c0,16,5,3,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1
Related-Bug: #1915761
(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/777236/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py']",38,20df425f2e343e115014e4f9041522202c44c532,bug/1915761-stable/ussuri," short_hostname: ""{{ ansible_facts['hostname'] }}"""," short_hostname: ""{{ ansible_hostname }}""",184,257
openstack%2Ftripleo-ansible~stable%2Ftrain~I51b71a2c74f954e9a50fb7008f460aee6a74734f,openstack/tripleo-ansible,stable/train,I51b71a2c74f954e9a50fb7008f460aee6a74734f,Fix bootstrap ansible_fact,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:56:19.000000000,2021-03-02 22:56:19.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4cff66b0b23f277db32033711543a4ac7909068f', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)\n'}, {'number': 2, 'created': '2021-02-24 17:37:07.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85f9debb7e0b579014a18b2ae70996602ad18fb9', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)\n'}]",0,777419,85f9debb7e0b579014a18b2ae70996602ad18fb9,12,3,2,14985,,,0,"Fix bootstrap ansible_fact

Missed the distribution_major_version switch.

Change-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f
(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/777419/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml'],1,4cff66b0b23f277db32033711543a4ac7909068f,bug/1915761-stable/train," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_facts['distribution_major_version']) == 'redhat-7') | bool }}"""," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_distribution_major_version) == 'redhat-7') | bool }}""",1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,openstack/tripleo-ansible,stable/train,Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,Use ansible_facts instead,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:50:52.000000000,2021-03-02 22:50:52.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31a65daad79b7a480ffb41f4409baddb362a1d26', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}, {'number': 2, 'created': '2021-02-24 17:37:07.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo-sshd/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/octavia-undercloud/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup-and-restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/backup/tasks/main.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo-firewall/tasks/main.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo-clients-install/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo-redhat-enforce/tasks/main.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ptp/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b57811fe1389b6d8fc95803dc1b8e6cf6daf6af1', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}]",0,777418,b57811fe1389b6d8fc95803dc1b8e6cf6daf6af1,9,3,2,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1
Related-Bug: #1915761
(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/777418/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo-sshd/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/octavia-undercloud/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup-and-restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/backup/tasks/main.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo-firewall/tasks/main.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo-clients-install/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo-redhat-enforce/tasks/main.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ptp/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml']",40,31a65daad79b7a480ffb41f4409baddb362a1d26,bug/1915761-stable/train," - name: Ensure we get the ansible interfaces facts when: - ansible_facts['interfaces'] is undefined - '""cni0"" in ansible_facts[""interfaces""]' - '""cni-podman0"" not in ansible_facts[""interfaces""]'"," - name: Ensure we get the ansible_interfaces fact when: - ansible_interfaces is undefined - '""cni0"" in ansible_interfaces' - '""cni-podman0"" not in ansible_interfaces' ",201,183
openstack%2Ftripleo-ansible~stable%2Ftrain~I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,openstack/tripleo-ansible,stable/train,I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,Update skeleton role to use ansible_facts,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:50:49.000000000,2021-03-02 22:50:49.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 16:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff8111efc50106efde00e654c7d512ff06c6a023', 'message': 'Update skeleton role to use ansible_facts\n\nChange-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676\n(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)\n'}, {'number': 2, 'created': '2021-02-24 17:37:07.000000000', 'files': ['_skeleton_role_/tasks/main.yml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c574469fbd5a18e47637c9388ace19d5c03c0010', 'message': 'Update skeleton role to use ansible_facts\n\nChange-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676\n(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)\n'}]",0,777417,c574469fbd5a18e47637c9388ace19d5c03c0010,8,2,2,14985,,,0,"Update skeleton role to use ansible_facts

Change-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676
(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/777417/2 && git format-patch -1 --stdout FETCH_HEAD,['_skeleton_role_/tasks/main.yml.j2'],1,ff8111efc50106efde00e654c7d512ff06c6a023,bug/1915761-stable/train," - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"""," - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml""",6,6
openstack%2Ftripleo-ansible~stable%2Ftrain~I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,openstack/tripleo-ansible,stable/train,I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,Reduce fact gathering,MERGED,2021-02-24 16:01:43.000000000,2021-03-02 22:50:43.000000000,2021-03-02 22:50:43.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9fb540b1bc410d5641975ab8eb110043f35f7a49', 'message': ""Reduce fact gathering\n\nWe've seen that large amount of facts for hosts have a direct impact on\ntask execution as part of the deployment.  This change reduces the\namount of data that we are collecting when we use facts and leverages\nmore targeted methods to collect the required information.\n\nChange-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e\nRelated-Bug: #1915761\n(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)\n""}, {'number': 2, 'created': '2021-02-24 17:37:07.000000000', 'files': ['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/684f87c8e13c2af44780f9efb1e2ab1e1f381178', 'message': ""Reduce fact gathering\n\nWe've seen that large amount of facts for hosts have a direct impact on\ntask execution as part of the deployment.  This change reduces the\namount of data that we are collecting when we use facts and leverages\nmore targeted methods to collect the required information.\n\nChange-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e\nRelated-Bug: #1915761\n(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)\n""}]",0,777416,684f87c8e13c2af44780f9efb1e2ab1e1f381178,9,3,2,14985,,,0,"Reduce fact gathering

We've seen that large amount of facts for hosts have a direct impact on
task execution as part of the deployment.  This change reduces the
amount of data that we are collecting when we use facts and leverages
more targeted methods to collect the required information.

Change-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e
Related-Bug: #1915761
(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/777416/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",4,9fb540b1bc410d5641975ab8eb110043f35f7a49,bug/1915761-stable/train,- name: Collect default network fact - '!min' filter: 'ansible_default_ipv4',- name: Collect Network Facts - '!any',35,8
openstack%2Fglance~master~Ic2ac2a528206c50c38e948a096daf9eb8e5eb715,openstack/glance,master,Ic2ac2a528206c50c38e948a096daf9eb8e5eb715,Make functional tests set node_staging_uri,MERGED,2021-02-24 03:06:11.000000000,2021-03-02 22:42:51.000000000,2021-03-02 22:41:17.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/344251b01dc9ddfe49d95ed0e5121fe54acec600', 'message': ""Make functional tests set node_staging_uri\n\nCurrently it is not possible to configure the staging directory\nURI of the functional workers. We need to be able to do that in order\nto enable the stage cleaning behavior. Right now, they're all sharing\n/tmp/staging, which will cause workers to conflict while running in\nparallel. This causes them to use their private test directory,\nwhich may also help some other spurious failures due to interaction.\n\nChange-Id: Ic2ac2a528206c50c38e948a096daf9eb8e5eb715\n""}, {'number': 2, 'created': '2021-02-24 17:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5c1a781d30ec70f005aabc1092858f91dfee447c', 'message': ""Make functional tests set node_staging_uri\n\nCurrently it is not possible to configure the staging directory\nURI of the functional workers. We need to be able to do that in order\nto enable the stage cleaning behavior. Right now, they're all sharing\n/tmp/staging, which will cause workers to conflict while running in\nparallel. This causes them to use their private test directory,\nwhich may also help some other spurious failures due to interaction.\n\nRelated-Bug: #1913625\nChange-Id: Ic2ac2a528206c50c38e948a096daf9eb8e5eb715\n""}, {'number': 3, 'created': '2021-03-02 19:51:08.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e9852fb6251c655f0e384c6b0b8677bd556f17a1', 'message': ""Make functional tests set node_staging_uri\n\nCurrently it is not possible to configure the staging directory\nURI of the functional workers. We need to be able to do that in order\nto enable the stage cleaning behavior. Right now, they're all sharing\n/tmp/staging, which will cause workers to conflict while running in\nparallel. This causes them to use their private test directory,\nwhich may also help some other spurious failures due to interaction.\n\nRelated-Bug: #1913625\nChange-Id: Ic2ac2a528206c50c38e948a096daf9eb8e5eb715\n""}]",0,777277,e9852fb6251c655f0e384c6b0b8677bd556f17a1,15,3,3,4393,,,0,"Make functional tests set node_staging_uri

Currently it is not possible to configure the staging directory
URI of the functional workers. We need to be able to do that in order
to enable the stage cleaning behavior. Right now, they're all sharing
/tmp/staging, which will cause workers to conflict while running in
parallel. This causes them to use their private test directory,
which may also help some other spurious failures due to interaction.

Related-Bug: #1913625
Change-Id: Ic2ac2a528206c50c38e948a096daf9eb8e5eb715
",git fetch https://review.opendev.org/openstack/glance refs/changes/77/777277/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py']",2,344251b01dc9ddfe49d95ed0e5121fe54acec600,bug/1913625," self.node_staging_uri = 'file://%s' % os.path.join( self.test_dir, 'staging') node_staging_uri=%(node_staging_uri)s",,4,5
openstack%2Frequirements~master~I3c6922dc33f2a9f565659dab1825fe6890dd932c,openstack/requirements,master,I3c6922dc33f2a9f565659dab1825fe6890dd932c,Updated from generate-constraints,MERGED,2021-03-02 06:38:10.000000000,2021-03-02 22:42:44.000000000,2021-03-02 22:41:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 06:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7eab35c2f822c15e448ed5bc7e50941734c6f84a', 'message': 'Updated from generate-constraints\n\nChange-Id: I3c6922dc33f2a9f565659dab1825fe6890dd932c\n'}, {'number': 2, 'created': '2021-03-02 16:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c0b67dfd26a89dc7e91d37302fa9a28b6457a131', 'message': 'Updated from generate-constraints\n\nChange-Id: I3c6922dc33f2a9f565659dab1825fe6890dd932c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-03-02 18:40:14.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3393580756a6cb13303edbda15b3de4931f89665', 'message': 'Updated from generate-constraints\n\nChange-Id: I3c6922dc33f2a9f565659dab1825fe6890dd932c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,778140,3393580756a6cb13303edbda15b3de4931f89665,16,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I3c6922dc33f2a9f565659dab1825fe6890dd932c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/778140/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7eab35c2f822c15e448ed5bc7e50941734c6f84a,openstack/requirements/constraints/noclob,Pillow===8.1.1libvirt-python===7.1.0boto3===1.17.18elementpath===2.2.0botocore===1.20.18pkg-resources===0.0.0aniso8601===9.0.1,Pillow===8.1.0libvirt-python===7.0.0boto3===1.17.17elementpath===2.1.4botocore===1.20.17aniso8601===9.0.0futures===3.3.0;python_version=='2.7'setuptools===54.0.0,7,8
openstack%2Ftrove-dashboard~master~Id53e74cf5a4b96b8960bec385f00b978f9d1520d,openstack/trove-dashboard,master,Id53e74cf5a4b96b8960bec385f00b978f9d1520d,Fix up broken instance_detach_replica api call,MERGED,2021-02-23 21:49:49.000000000,2021-03-02 22:37:56.000000000,2021-03-02 22:37:56.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 21:49:49.000000000', 'files': ['trove_dashboard/api/trove.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/bb387dcbcc254ecb0979f0847704ac58a2d33c73', 'message': 'Fix up broken instance_detach_replica api call\n\nDue to a backwards incompatible change in troveclient the api call edit\nhas been replaced with update.\n\nChange-Id: Id53e74cf5a4b96b8960bec385f00b978f9d1520d\n'}]",0,777246,bb387dcbcc254ecb0979f0847704ac58a2d33c73,6,2,1,3031,,,0,"Fix up broken instance_detach_replica api call

Due to a backwards incompatible change in troveclient the api call edit
has been replaced with update.

Change-Id: Id53e74cf5a4b96b8960bec385f00b978f9d1520d
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/46/777246/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/api/trove.py'],1,bb387dcbcc254ecb0979f0847704ac58a2d33c73,," return troveclient(request).instances.update(instance_id, detach_replica_source=True)"," return troveclient(request).instances.edit(instance_id, detach_replica_source=True)",2,2
openstack%2Fkayobe~stable%2Fussuri~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,stable/ussuri,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-03-02 10:50:50.000000000,2021-03-02 22:25:22.000000000,2021-03-02 22:24:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 10:50:50.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d2c5f8e3f09a5027d80d689966e9d01fe9409774', 'message': 'Quote kolla limit when calling kolla-ansible\n\nThis is necessary for correctly passing limits containing special\ncharacters such as ~ or &.\n\nChange-Id: Ia885a226de30d72610dca2eb2f194cef10193095\nStory: 2008546\nTask: 41651\n(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)\n'}]",0,778108,d2c5f8e3f09a5027d80d689966e9d01fe9409774,12,4,1,14826,,,0,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/08/778108/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py']",3,d2c5f8e3f09a5027d80d689966e9d01fe9409774,story/2008546-stable/ussuri," cmd += [""--limit"", utils.quote_and_escape(limit_arg)]"," cmd += [""--limit"", limit_arg]",8,3
openstack%2Ftripleo-common~stable%2Ftrain~Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,openstack/tripleo-common,stable/train,Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,Switch defaults to quay.io,MERGED,2021-02-10 21:38:46.000000000,2021-03-02 22:22:24.000000000,2021-03-02 22:21:14.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-10 21:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf5b5e17f046b472da59fe3364129199ae6d5ddb', 'message': 'Switch defaults to quay.io\n\nupdated for train\n\nChange-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410\n(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)\n'}, {'number': 2, 'created': '2021-02-10 21:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf27a0b86648fee93d8cb0dd908bfd44354e4beb', 'message': 'Switch defaults to quay.io\n\nupdated for train\n\nChange-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410\n(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)\n'}, {'number': 3, 'created': '2021-02-22 19:02:07.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/65e760432d9aff156b66b3d22e104053e98fa30b', 'message': 'Switch defaults to quay.io\n\nupdated for train\n\nChange-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410\n(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)\n'}]",3,775026,65e760432d9aff156b66b3d22e104053e98fa30b,16,5,3,14985,,,0,"Switch defaults to quay.io

updated for train

Change-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410
(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/775026/3 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,bf5b5e17f046b472da59fe3364129199ae6d5ddb,quay, imagename: quay.io/tripleotrain/centos-binary-aodh-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-aodh-evaluator:current-tripleo imagename: quay.io/tripleotrain/centos-binary-aodh-listener:current-tripleo imagename: quay.io/tripleotrain/centos-binary-aodh-notifier:current-tripleo imagename: quay.io/tripleotrain/centos-binary-barbican-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-barbican-keystone-listener:current-tripleo imagename: quay.io/tripleotrain/centos-binary-barbican-worker:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ceilometer-central:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ceilometer-compute:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ceilometer-ipmi:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ceilometer-notification:current-tripleo imagename: quay.io/tripleotrain/centos-binary-cinder-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-cinder-backup:current-tripleo imagename: quay.io/tripleotrain/centos-binary-cinder-scheduler:current-tripleo imagename: quay.io/tripleotrain/centos-binary-cinder-volume:current-tripleo imagename: quay.io/tripleotrain/centos-binary-collectd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-cron:current-tripleo imagename: quay.io/tripleotrain/centos-binary-designate-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-designate-backend-bind9:current-tripleo imagename: quay.io/tripleotrain/centos-binary-designate-central:current-tripleo imagename: quay.io/tripleotrain/centos-binary-designate-mdns:current-tripleo imagename: quay.io/tripleotrain/centos-binary-designate-producer:current-tripleo imagename: quay.io/tripleotrain/centos-binary-designate-sink:current-tripleo imagename: quay.io/tripleotrain/centos-binary-designate-worker:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ec2-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-etcd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-fluentd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-glance-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-gnocchi-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-gnocchi-metricd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-gnocchi-statsd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-haproxy:current-tripleo imagename: quay.io/tripleotrain/centos-binary-heat-all:current-tripleo imagename: quay.io/tripleotrain/centos-binary-heat-api-cfn:current-tripleo imagename: quay.io/tripleotrain/centos-binary-heat-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-heat-engine:current-tripleo imagename: quay.io/tripleotrain/centos-binary-horizon:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ironic-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ironic-conductor:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ironic-inspector:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ironic-neutron-agent:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ironic-pxe:current-tripleo imagename: quay.io/tripleotrain/centos-binary-iscsid:current-tripleo imagename: quay.io/tripleotrain/centos-binary-keepalived:current-tripleo imagename: quay.io/tripleotrain/centos-binary-keystone:current-tripleo imagename: quay.io/tripleotrain/centos-binary-manila-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-manila-scheduler:current-tripleo imagename: quay.io/tripleotrain/centos-binary-manila-share:current-tripleo imagename: quay.io/tripleotrain/centos-binary-mariadb:current-tripleo imagename: quay.io/tripleotrain/centos-binary-memcached:current-tripleo imagename: quay.io/tripleotrain/centos-binary-mistral-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-mistral-engine:current-tripleo imagename: quay.io/tripleotrain/centos-binary-mistral-event-engine:current-tripleo imagename: quay.io/tripleotrain/centos-binary-mistral-executor:current-tripleo imagename: quay.io/tripleotrain/centos-binary-multipathd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-dhcp-agent:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-l3-agent:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-metadata-agent:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-mlnx-agent:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-openvswitch-agent:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-server-opendaylight:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-metadata-agent-ovn:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-server-ovn:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-server:current-tripleo imagename: quay.io/tripleotrain/centos-binary-neutron-sriov-agent:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-compute-ironic:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-compute:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-conductor:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-libvirt:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-novncproxy:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-scheduler:current-tripleo imagename: quay.io/tripleotrain/centos-binary-nova-serialproxy:current-tripleo imagename: quay.io/tripleotrain/centos-binary-novajoin-notifier:current-tripleo imagename: quay.io/tripleotrain/centos-binary-novajoin-server:current-tripleo imagename: quay.io/tripleotrain/centos-binary-octavia-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-octavia-health-manager:current-tripleo imagename: quay.io/tripleotrain/centos-binary-octavia-housekeeping:current-tripleo imagename: quay.io/tripleotrain/centos-binary-octavia-worker:current-tripleo imagename: quay.io/tripleotrain/centos-binary-opendaylight:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ovn-controller:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ovn-nb-db-server:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ovn-northd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-ovn-sb-db-server:current-tripleo imagename: quay.io/tripleotrain/centos-binary-panko-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-placement-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-qdrouterd:current-tripleo imagename: quay.io/tripleotrain/centos-binary-rabbitmq:current-tripleo imagename: quay.io/tripleotrain/centos-binary-redis:current-tripleo imagename: quay.io/tripleotrain/centos-binary-rsyslog:current-tripleo imagename: quay.io/tripleotrain/centos-binary-sahara-api:current-tripleo imagename: quay.io/tripleotrain/centos-binary-sahara-engine:current-tripleo imagename: quay.io/tripleotrain/centos-binary-sensu-client:current-tripleo imagename: quay.io/tripleotrain/centos-binary-swift-account:current-tripleo imagename: quay.io/tripleotrain/centos-binary-swift-container:current-tripleo imagename: quay.io/tripleotrain/centos-binary-swift-object:current-tripleo imagename: quay.io/tripleotrain/centos-binary-swift-proxy-server:current-tripleo imagename: quay.io/tripleotrain/centos-binary-tempest:current-tripleo imagename: quay.io/tripleotrain/centos-binary-tripleoclient:current-tripleo imagename: quay.io/tripleotrain/centos-binary-zaqar-wsgi:current-tripleo, imagename: docker.io/tripleotrain/centos-binary-aodh-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-evaluator:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-listener:current-tripleo imagename: docker.io/tripleotrain/centos-binary-aodh-notifier:current-tripleo imagename: docker.io/tripleotrain/centos-binary-barbican-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-barbican-keystone-listener:current-tripleo imagename: docker.io/tripleotrain/centos-binary-barbican-worker:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-central:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-compute:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-ipmi:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ceilometer-notification:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-backup:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-scheduler:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cinder-volume:current-tripleo imagename: docker.io/tripleotrain/centos-binary-collectd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-cron:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-backend-bind9:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-central:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-mdns:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-producer:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-sink:current-tripleo imagename: docker.io/tripleotrain/centos-binary-designate-worker:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ec2-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-etcd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-fluentd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-glance-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-gnocchi-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-gnocchi-metricd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-gnocchi-statsd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-haproxy:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-all:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-api-cfn:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-heat-engine:current-tripleo imagename: docker.io/tripleotrain/centos-binary-horizon:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-conductor:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-inspector:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-neutron-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ironic-pxe:current-tripleo imagename: docker.io/tripleotrain/centos-binary-iscsid:current-tripleo imagename: docker.io/tripleotrain/centos-binary-keepalived:current-tripleo imagename: docker.io/tripleotrain/centos-binary-keystone:current-tripleo imagename: docker.io/tripleotrain/centos-binary-manila-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-manila-scheduler:current-tripleo imagename: docker.io/tripleotrain/centos-binary-manila-share:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mariadb:current-tripleo imagename: docker.io/tripleotrain/centos-binary-memcached:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-engine:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-event-engine:current-tripleo imagename: docker.io/tripleotrain/centos-binary-mistral-executor:current-tripleo imagename: docker.io/tripleotrain/centos-binary-multipathd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-dhcp-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-l3-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-metadata-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-mlnx-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-openvswitch-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-server-opendaylight:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-metadata-agent-ovn:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-server-ovn:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-neutron-sriov-agent:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-compute-ironic:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-compute:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-conductor:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-libvirt:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-novncproxy:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-scheduler:current-tripleo imagename: docker.io/tripleotrain/centos-binary-nova-serialproxy:current-tripleo imagename: docker.io/tripleotrain/centos-binary-novajoin-notifier:current-tripleo imagename: docker.io/tripleotrain/centos-binary-novajoin-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-health-manager:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-housekeeping:current-tripleo imagename: docker.io/tripleotrain/centos-binary-octavia-worker:current-tripleo imagename: docker.io/tripleotrain/centos-binary-opendaylight:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-controller:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-nb-db-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-northd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-ovn-sb-db-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-panko-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-placement-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-qdrouterd:current-tripleo imagename: docker.io/tripleotrain/centos-binary-rabbitmq:current-tripleo imagename: docker.io/tripleotrain/centos-binary-redis:current-tripleo imagename: docker.io/tripleotrain/centos-binary-rsyslog:current-tripleo imagename: docker.io/tripleotrain/centos-binary-sahara-api:current-tripleo imagename: docker.io/tripleotrain/centos-binary-sahara-engine:current-tripleo imagename: docker.io/tripleotrain/centos-binary-sensu-client:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-account:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-container:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-object:current-tripleo imagename: docker.io/tripleotrain/centos-binary-swift-proxy-server:current-tripleo imagename: docker.io/tripleotrain/centos-binary-tempest:current-tripleo imagename: docker.io/tripleotrain/centos-binary-tripleoclient:current-tripleo imagename: docker.io/tripleotrain/centos-binary-zaqar-wsgi:current-tripleo,101,101
openstack%2Ftrove-dashboard~master~I0ed17a7761837623c21cd1a0992a71ab0342c791,openstack/trove-dashboard,master,I0ed17a7761837623c21cd1a0992a71ab0342c791,Fix up get access method in create_instance workflow,MERGED,2021-02-23 21:22:57.000000000,2021-03-02 21:59:33.000000000,2021-03-02 21:59:33.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 21:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/9dc2952f1df6ae4006e597715054595494c5fedb', 'message': 'Fix up get access method in create_instance workflow\n\nThis would never work and would result in a key error.\n\nChange-Id: I0ed17a7761837623c21cd1a0992a71ab0342c791\n'}, {'number': 2, 'created': '2021-03-02 21:47:33.000000000', 'files': ['trove_dashboard/content/databases/workflows/create_instance.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/c3c95258004fa72924f3066d920e4a9c424f2375', 'message': 'Fix up get access method in create_instance workflow\n\nThis would never work and would result in a key error.\n\nStory: 2008627\nTask: 41831\nChange-Id: I0ed17a7761837623c21cd1a0992a71ab0342c791\n'}]",0,777231,c3c95258004fa72924f3066d920e4a9c424f2375,8,2,2,3031,,,0,"Fix up get access method in create_instance workflow

This would never work and would result in a key error.

Story: 2008627
Task: 41831
Change-Id: I0ed17a7761837623c21cd1a0992a71ab0342c791
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/31/777231/2 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/databases/workflows/create_instance.py'],1,9dc2952f1df6ae4006e597715054595494c5fedb,," access['allowed_cidrs'] = context['allowed_cidrs'].split(',')"," access['allowed_cidrs'].split(',')",1,1
openstack%2Ftrove-dashboard~master~I5e9a7e70e4942725ee7804bbe886d236aeb6a673,openstack/trove-dashboard,master,I5e9a7e70e4942725ee7804bbe886d236aeb6a673,Rename the 'rename instance' function to 'update instance',MERGED,2021-02-23 00:22:40.000000000,2021-03-02 21:51:14.000000000,2021-03-02 21:51:14.000000000,"[{'_account_id': 1736}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:22:40.000000000', 'files': ['trove_dashboard/content/databases/templates/databases/_update_instance.html', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/databases/templates/databases/update_instance.html', 'trove_dashboard/content/databases/urls.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/databases/templates/databases/rename_instance.html', 'trove_dashboard/content/databases/views.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/37e0ef5c3c23438afcd05be5b1344772eb8d2317', 'message': ""Rename the 'rename instance' function to 'update instance'\n\nChange-Id: I5e9a7e70e4942725ee7804bbe886d236aeb6a673\n""}]",0,777028,37e0ef5c3c23438afcd05be5b1344772eb8d2317,6,3,1,3031,,,0,"Rename the 'rename instance' function to 'update instance'

Change-Id: I5e9a7e70e4942725ee7804bbe886d236aeb6a673
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/28/777028/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/templates/databases/_update_instance.html', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/databases/templates/databases/update_instance.html', 'trove_dashboard/content/databases/urls.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/databases/templates/databases/rename_instance.html', 'trove_dashboard/content/databases/views.py']",8,37e0ef5c3c23438afcd05be5b1344772eb8d2317,,"class UpdateInstanceView(horizon_forms.ModalFormView): form_class = forms.UpdateInstanceForm modal_header = _(""Update Instance"") template_name = ""project/databases/update_instance.html"" context = (super(UpdateInstanceView, self)","class RenameInstanceView(horizon_forms.ModalFormView): form_class = forms.RenameInstanceForm modal_header = _(""Rename Instance"") template_name = ""project/databases/rename_instance.html"" context = (super(RenameInstanceView, self)",21,21
openstack%2Fopenstack-helm-infra~master~Ia9b4b9ea1070e74172f10505709e68063054810a,openstack/openstack-helm-infra,master,Ia9b4b9ea1070e74172f10505709e68063054810a,Remove kafka residue,MERGED,2021-03-02 08:45:36.000000000,2021-03-02 21:50:48.000000000,2021-03-02 21:49:25.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-03-02 08:45:36.000000000', 'files': ['falco/values.yaml', 'releasenotes/notes/falco.yaml', 'falco/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3d16964da8258e9a2cee5995d8433d956e5e820', 'message': ""Remove kafka residue\n\nAbout kafka chart,It's been removed,Remove kafka residue now.\n\nChange-Id: Ia9b4b9ea1070e74172f10505709e68063054810a\n""}]",0,778148,d3d16964da8258e9a2cee5995d8433d956e5e820,14,4,1,30449,,,0,"Remove kafka residue

About kafka chart,It's been removed,Remove kafka residue now.

Change-Id: Ia9b4b9ea1070e74172f10505709e68063054810a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/778148/1 && git format-patch -1 --stdout FETCH_HEAD,"['falco/values.yaml', 'releasenotes/notes/falco.yaml', 'falco/Chart.yaml']",3,d3d16964da8258e9a2cee5995d8433d956e5e820,,version: 0.1.4,version: 0.1.3,2,4
openstack%2Fovn-octavia-provider~master~Iad5c348d034ef7b83184ba15bacd2fb618d9f951,openstack/ovn-octavia-provider,master,Iad5c348d034ef7b83184ba15bacd2fb618d9f951,Fix oslo.db constraint,ABANDONED,2020-12-15 19:34:55.000000000,2021-03-02 21:47:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-15 19:34:55.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e16a2703c6a4fc5f6c9a1b5df71313c84613a9ea', 'message': 'Fix oslo.db constraint\n\nShould be 8.4.0 as there is no 8.5.0 yet.\n\nChange-Id: Iad5c348d034ef7b83184ba15bacd2fb618d9f951\n'}]",0,767209,e16a2703c6a4fc5f6c9a1b5df71313c84613a9ea,3,1,1,1131,,,0,"Fix oslo.db constraint

Should be 8.4.0 as there is no 8.5.0 yet.

Change-Id: Iad5c348d034ef7b83184ba15bacd2fb618d9f951
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/09/767209/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,e16a2703c6a4fc5f6c9a1b5df71313c84613a9ea,fix-oslo.db-constraint,oslo.db==8.4.0,oslo.db==8.5.0,1,1
openstack%2Fnova~master~I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d,openstack/nova,master,I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d,apidb: Compact Newton database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-02 21:46:24.000000000,2021-03-02 21:43:04.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 11:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93c98822d45efdd62f7e63a248c7b09f68248a57', 'message': ""apidb: Compact Newton database migrations\n\nSpecific changes include:\n\n- Add 'instance_uuid' and 'instance' columns to 'build_requests' table\n  (013)\n- Add index covering 'instance_uuid' column of 'build_requests' table\n  (013)\n- Add unique constraint covering 'instance_uuid' column of\n  'build_requests' table (013)\n- Add 'keypairs' table (014)\n- Drop foreign key constraint covering 'request_spec_id' of\n  'build_requests' table (015)\n- Drop unique constraint covering 'request_spec_id' of 'build_requests'\n  table (015)\n- Alter 'request_spec_id', 'user_id', 'security_groups' and\n  'config_drive' columns of 'build_requests' table to be nullable (015)\n- Add 'resource_providers', 'inventories', 'allocations', and\n  'resource_provider_aggregates' tables (016)\n- Add 'aggregate', 'aggregate_hosts' and 'aggregate_metadata' tables\n  (017)\n- Add 'groups', 'group_policy' and 'group_member' tables (018)\n- Add 'block_device_mappings' column to 'build_requests' table (019)\n- Alter 'block_device_mappings' column of 'build_requests' table to be\n  'MediumText' (020)\n\nChange-Id: I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-19 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f68e5e73433851ac6cea13f83414df743d2b36da', 'message': ""apidb: Compact Newton database migrations\n\nSpecific changes include:\n\n- Add 'instance_uuid' and 'instance' columns to 'build_requests' table\n  (013)\n- Add index covering 'instance_uuid' column of 'build_requests' table\n  (013)\n- Add unique constraint covering 'instance_uuid' column of\n  'build_requests' table (013)\n- Add 'keypairs' table (014)\n- Drop foreign key constraint covering 'request_spec_id' of\n  'build_requests' table (015)\n- Drop unique constraint covering 'request_spec_id' of 'build_requests'\n  table (015)\n- Alter 'request_spec_id', 'user_id', 'security_groups' and\n  'config_drive' columns of 'build_requests' table to be nullable (015)\n- Add 'resource_providers', 'inventories', 'allocations', and\n  'resource_provider_aggregates' tables (016)\n- Add 'aggregate', 'aggregate_hosts' and 'aggregate_metadata' tables\n  (017)\n- Add 'groups', 'group_policy' and 'group_member' tables (018)\n- Add 'block_device_mappings' column to 'build_requests' table (019)\n- Alter 'block_device_mappings' column of 'build_requests' table to be\n  'MediumText' (020)\n\nChange-Id: I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-10 15:43:35.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/016_resource_providers.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/008_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/018_instance_groups.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/007_mitaka.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/009_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/011_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/015_build_request_nullable_columns.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/017_aggregates.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/020_block_device_mappings_mediumtext.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/020_newton.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/012_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/013_build_request_extended_attrs.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/019_build_request_add_block_device_mapping.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/014_keypairs.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/010_placeholder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/302f2bc4f775a13a8931f9a05d78452c37a04703', 'message': ""apidb: Compact Newton database migrations\n\nSpecific changes include:\n\n- Add 'instance_uuid' and 'instance' columns to 'build_requests' table\n  (013)\n- Add index covering 'instance_uuid' column of 'build_requests' table\n  (013)\n- Add unique constraint covering 'instance_uuid' column of\n  'build_requests' table (013)\n- Add 'keypairs' table (014)\n- Drop foreign key constraint covering 'request_spec_id' of\n  'build_requests' table (015)\n- Drop unique constraint covering 'request_spec_id' of 'build_requests'\n  table (015)\n- Alter 'request_spec_id', 'user_id', 'security_groups' and\n  'config_drive' columns of 'build_requests' table to be nullable (015)\n- Add 'resource_providers', 'inventories', 'allocations', and\n  'resource_provider_aggregates' tables (016)\n- Add 'aggregate', 'aggregate_hosts' and 'aggregate_metadata' tables\n  (017)\n- Add 'groups', 'group_policy' and 'group_member' tables (018)\n- Add 'block_device_mappings' column to 'build_requests' table (019)\n- Alter 'block_device_mappings' column of 'build_requests' table to be\n  'MediumText' (020)\n\nChange-Id: I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,759401,302f2bc4f775a13a8931f9a05d78452c37a04703,45,12,3,15334,,,0,"apidb: Compact Newton database migrations

Specific changes include:

- Add 'instance_uuid' and 'instance' columns to 'build_requests' table
  (013)
- Add index covering 'instance_uuid' column of 'build_requests' table
  (013)
- Add unique constraint covering 'instance_uuid' column of
  'build_requests' table (013)
- Add 'keypairs' table (014)
- Drop foreign key constraint covering 'request_spec_id' of
  'build_requests' table (015)
- Drop unique constraint covering 'request_spec_id' of 'build_requests'
  table (015)
- Alter 'request_spec_id', 'user_id', 'security_groups' and
  'config_drive' columns of 'build_requests' table to be nullable (015)
- Add 'resource_providers', 'inventories', 'allocations', and
  'resource_provider_aggregates' tables (016)
- Add 'aggregate', 'aggregate_hosts' and 'aggregate_metadata' tables
  (017)
- Add 'groups', 'group_policy' and 'group_member' tables (018)
- Add 'block_device_mappings' column to 'build_requests' table (019)
- Alter 'block_device_mappings' column of 'build_requests' table to be
  'MediumText' (020)

Change-Id: I944a0ed33d9ac8bda81a4e09a33e8fd768b6f95d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/759401/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/016_resource_providers.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/008_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/018_instance_groups.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/007_mitaka.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/009_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/011_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/015_build_request_nullable_columns.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/017_aggregates.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/020_block_device_mappings_mediumtext.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/020_newton.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/012_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/013_build_request_extended_attrs.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/019_build_request_add_block_device_mapping.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/014_keypairs.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/010_placeholder.py']",17,93c98822d45efdd62f7e63a248c7b09f68248a57,bp/compact-db-migrations-wallaby,," # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for backports. # Do not use this number for new work. New work starts after # all the placeholders. # # See this for more information: # http://lists.openstack.org/pipermail/openstack-dev/2013-March/006827.html def upgrade(migrate_engine): pass ",392,900
openstack%2Fopenstacksdk~master~Ide4125caa6c45e8d7d985b3e6a227a619ac94c40,openstack/openstacksdk,master,Ide4125caa6c45e8d7d985b3e6a227a619ac94c40,Switch cloud.networking.qos* operations to rely on proxy layer,MERGED,2021-01-15 14:41:24.000000000,2021-03-02 21:46:15.000000000,2021-03-02 21:44:06.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-15 14:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/18a66ee618c770547140fb640442dd7848082956', 'message': 'Switch cloud.networking.qos* operations to rely on proxy layer\n\nThis change switches Neutron Qos* operations in the cloud layer to use\nthe proxy layer instead of reimplementing direct requests.\n\nChange-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40\n'}, {'number': 2, 'created': '2021-01-18 12:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3680ee47a5b7738e7f132ca697848de9d9c66188', 'message': 'Switch cloud.networking.qos* operations to rely on proxy layer\n\nThis change switches Neutron Qos* operations in the cloud layer to use\nthe proxy layer instead of reimplementing direct requests.\n\nChange-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40\n'}, {'number': 3, 'created': '2021-01-18 16:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f67279f88a393290d939db23a0bc03f935cb6770', 'message': 'Switch cloud.networking.qos* operations to rely on proxy layer\n\nThis change switches Neutron Qos* operations in the cloud layer to use\nthe proxy layer instead of reimplementing direct requests.\n\nChange-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40\n'}, {'number': 4, 'created': '2021-02-17 15:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f7d3a5e095bb654334720f50bf8d82be17476f7', 'message': 'Switch cloud.networking.qos* operations to rely on proxy layer\n\nThis change switches Neutron Qos* operations in the cloud layer to use\nthe proxy layer instead of reimplementing direct requests.\n\nChange-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40\n'}, {'number': 5, 'created': '2021-02-18 12:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c411bac58832f471f2592fd64ae63fac50ef6440', 'message': 'Switch cloud.networking.qos* operations to rely on proxy layer\n\nThis change switches Neutron Qos* operations in the cloud layer to use\nthe proxy layer instead of reimplementing direct requests.\n\nChange-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40\n'}, {'number': 6, 'created': '2021-02-18 12:19:46.000000000', 'files': ['openstack/tests/unit/cloud/test_qos_rule_type.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/cloud/test_shade.py', 'openstack/tests/unit/network/v2/test_qos_policy.py', 'openstack/network/v2/qos_policy.py', 'openstack/tests/unit/cloud/test_qos_bandwidth_limit_rule.py', 'openstack/tests/unit/cloud/test_qos_dscp_marking_rule.py', 'openstack/network/v2/qos_rule_type.py', 'openstack/tests/unit/cloud/test_qos_policy.py', 'openstack/tests/unit/cloud/test_qos_minimum_bandwidth_rule.py', 'openstack/cloud/_network.py', 'openstack/tests/functional/cloud/test_qos_policy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/330edbb208abef40da58693d7ebe39d32f5913d8', 'message': 'Switch cloud.networking.qos* operations to rely on proxy layer\n\nThis change switches Neutron Qos* operations in the cloud layer to use\nthe proxy layer instead of reimplementing direct requests.\n\nChange-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40\n'}]",14,770945,330edbb208abef40da58693d7ebe39d32f5913d8,26,3,6,27900,,,0,"Switch cloud.networking.qos* operations to rely on proxy layer

This change switches Neutron Qos* operations in the cloud layer to use
the proxy layer instead of reimplementing direct requests.

Change-Id: Ide4125caa6c45e8d7d985b3e6a227a619ac94c40
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/45/770945/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_qos_rule_type.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/cloud/test_shade.py', 'openstack/tests/unit/network/v2/test_qos_policy.py', 'openstack/network/v2/qos_policy.py', 'openstack/tests/unit/cloud/test_qos_bandwidth_limit_rule.py', 'openstack/tests/unit/cloud/test_qos_dscp_marking_rule.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/network/v2/qos_rule_type.py', 'openstack/resource.py', 'openstack/tests/unit/cloud/test_qos_policy.py', 'openstack/tests/unit/cloud/test_qos_minimum_bandwidth_rule.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/cloud/_network.py']",14,18a66ee618c770547140fb640442dd7848082956,," for extension in self.network.extensions(): if not self._has_neutron_extension('qos'): raise exc.OpenStackCloudUnavailableExtension( 'QoS extension is not available on target cloud') if not filters: filters = {} return self.network.find_qos_policy( name_or_id=name_or_id, ignore_missing=True, **filters) if not self._has_neutron_extension('qos'): raise exc.OpenStackCloudUnavailableExtension( 'QoS extension is not available on target cloud') query = {} if name_or_id: query['name'] = name_or_id if filters: query.update(filters) return list(self.network.qos_policies(**query)) return list(self.network.qos_rule_types(**filters)) return self.network.get_qos_rule_type(rule_type) return list(self.network.qos_policies(**filters)) return self.network.create_qos_policy(**kwargs) curr_policy = self.network.find_qos_policy(name_or_id) return self.network.update_qos_policy(curr_policy, **kwargs) policy = self.network.find_qos_policy(name_or_id) self.network.delete_qos_policy(policy) policy = self.network.find_qos_policy(policy_name_or_id) return list(self.network.qos_bandwidth_limit_rules( qos_policy=policy, **filters)) policy = self.network.find_qos_policy(policy_name_or_id) return self.network.get_qos_bandwidth_limit_rule( rule_id, policy) policy = self.network.find_qos_policy(policy_name_or_id) return self.network.create_qos_bandwidth_limit_rule(policy, **kwargs) policy = self.network.find_qos_policy( policy_name_or_id, ignore_missing=True) curr_rule = self.network.get_qos_bandwidth_limit_rule( qos_rule=rule_id, qos_policy=policy) return self.network.update_qos_bandwidth_limit_rule( qos_rule=curr_rule, qos_policy=policy, **kwargs) policy = self.network.find_qos_policy(policy_name_or_id) self.network.delete_qos_bandwidth_limit_rule( rule_id, policy, ignore_missing=False) except exceptions.ResourceNotFound: policy = self.network.find_qos_policy( policy_name_or_id, ignore_missing=True) return list(self.network.qos_dscp_marking_rules(policy, **filters)) policy = self.network.find_qos_policy(policy_name_or_id) return self.network.get_qos_dscp_marking_rule(rule_id, policy) policy = self.network.find_qos_policy(policy_name_or_id) return self.network.create_qos_dscp_marking_rule( policy, dscp_mark=dscp_mark) policy = self.network.find_qos_policy(policy_name_or_id) curr_rule = self.network.get_qos_dscp_marking_rule( rule_id, policy) return self.network.update_qos_dscp_marking_rule( curr_rule, policy, **kwargs) policy = self.network.find_qos_policy(policy_name_or_id) self.network.delete_qos_dscp_marking_rule( rule_id, policy, ignore_missing=False) except exceptions.ResourceNotFound: policy = self.network.find_qos_policy(policy_name_or_id) return list( self.network.qos_minimum_bandwidth_rules( policy, **filters)) policy = self.network.find_qos_policy(policy_name_or_id) return self.network.get_qos_minimum_bandwidth_rule(rule_id, policy) def create_qos_minimum_bandwidth_rule( self, policy_name_or_id, min_kbps, **kwargs ): policy = self.network.find_qos_policy(policy_name_or_id) return self.network.create_qos_minimum_bandwidth_rule(policy, **kwargs) def update_qos_minimum_bandwidth_rule( self, policy_name_or_id, rule_id, **kwargs ): policy = self.network.find_qos_policy(policy_name_or_id) curr_rule = self.network.get_qos_minimum_bandwidth_rule( rule_id, policy) return self.network.update_qos_minimum_bandwidth_rule( curr_rule, policy, **kwargs) policy = self.network.find_qos_policy(policy_name_or_id) self.network.delete_qos_minimum_bandwidth_rule( rule_id, policy, ignore_missing=False) except exceptions.ResourceNotFound:"," resp = self.network.get('/extensions.json') data = proxy._json_response( resp, error_message=""Error fetching extension list for neutron"") for extension in self._get_and_munchify('extensions', data): return _utils._get_entity( self, 'qos_policie', name_or_id, filters) policies = self.list_qos_policies(filters) return _utils._filter_list(policies, name_or_id, filters) resp = self.network.get(""/qos/rule-types.json"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS rule types list"") return self._get_and_munchify('rule_types', data) resp = self.network.get( ""/qos/rule-types/{rule_type}.json"".format(rule_type=rule_type)) data = proxy._json_response( resp, error_message=""Error fetching QoS details of {rule_type} "" ""rule type"".format(rule_type=rule_type)) return self._get_and_munchify('rule_type', data) resp = self.network.get(""/qos/policies.json"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS policies list"") return self._get_and_munchify('policies', data) data = self.network.post(""/qos/policies.json"", json={'policy': kwargs}) return self._get_and_munchify('policy', data) curr_policy = self.get_qos_policy(name_or_id) data = self.network.put( ""/qos/policies/{policy_id}.json"".format( policy_id=curr_policy['id']), json={'policy': kwargs}) return self._get_and_munchify('policy', data) policy = self.get_qos_policy(name_or_id) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy_id}.json"".format(policy_id=policy['id']))) policy = self.get_qos_policy(policy_name_or_id) resp = self.network.get( ""/qos/policies/{policy_id}/bandwidth_limit_rules.json"".format( policy_id=policy['id']), params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS bandwidth limit rules from "" ""{policy}"".format(policy=policy['id'])) return self._get_and_munchify('bandwidth_limit_rules', data) policy = self.get_qos_policy(policy_name_or_id) resp = self.network.get( ""/qos/policies/{policy_id}/bandwidth_limit_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id)) data = proxy._json_response( resp, error_message=""Error fetching QoS bandwidth limit rule {rule_id} "" ""from {policy}"".format(rule_id=rule_id, policy=policy['id'])) return self._get_and_munchify('bandwidth_limit_rule', data) policy = self.get_qos_policy(policy_name_or_id) data = self.network.post( ""/qos/policies/{policy_id}/bandwidth_limit_rules"".format( policy_id=policy['id']), json={'bandwidth_limit_rule': kwargs}) return self._get_and_munchify('bandwidth_limit_rule', data) policy = self.get_qos_policy(policy_name_or_id) curr_rule = self.get_qos_bandwidth_limit_rule( policy_name_or_id, rule_id) data = self.network.put( ""/qos/policies/{policy_id}/bandwidth_limit_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), json={'bandwidth_limit_rule': kwargs}) return self._get_and_munchify('bandwidth_limit_rule', data) policy = self.get_qos_policy(policy_name_or_id) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy}/bandwidth_limit_rules/{rule}.json"". format(policy=policy['id'], rule=rule_id))) except exc.OpenStackCloudURINotFound: policy = self.get_qos_policy(policy_name_or_id) resp = self.network.get( ""/qos/policies/{policy_id}/dscp_marking_rules.json"".format( policy_id=policy['id']), params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS DSCP marking rules from "" ""{policy}"".format(policy=policy['id'])) return self._get_and_munchify('dscp_marking_rules', data) policy = self.get_qos_policy(policy_name_or_id) resp = self.network.get( ""/qos/policies/{policy_id}/dscp_marking_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id)) data = proxy._json_response( resp, error_message=""Error fetching QoS DSCP marking rule {rule_id} "" ""from {policy}"".format(rule_id=rule_id, policy=policy['id'])) return self._get_and_munchify('dscp_marking_rule', data) policy = self.get_qos_policy(policy_name_or_id) body = { 'dscp_mark': dscp_mark } data = self.network.post( ""/qos/policies/{policy_id}/dscp_marking_rules"".format( policy_id=policy['id']), json={'dscp_marking_rule': body}) return self._get_and_munchify('dscp_marking_rule', data) policy = self.get_qos_policy(policy_name_or_id) curr_rule = self.get_qos_dscp_marking_rule( policy_name_or_id, rule_id) data = self.network.put( ""/qos/policies/{policy_id}/dscp_marking_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), json={'dscp_marking_rule': kwargs}) return self._get_and_munchify('dscp_marking_rule', data) policy = self.get_qos_policy(policy_name_or_id) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy}/dscp_marking_rules/{rule}.json"". format(policy=policy['id'], rule=rule_id))) except exc.OpenStackCloudURINotFound: policy = self.get_qos_policy(policy_name_or_id) resp = self.network.get( ""/qos/policies/{policy_id}/minimum_bandwidth_rules.json"".format( policy_id=policy['id']), params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS minimum bandwidth rules from "" ""{policy}"".format(policy=policy['id'])) return self._get_and_munchify('minimum_bandwidth_rules', data) policy = self.get_qos_policy(policy_name_or_id) resp = self.network.get( ""/qos/policies/{policy_id}/minimum_bandwidth_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id)) data = proxy._json_response( resp, error_message=""Error fetching QoS minimum_bandwidth rule {rule_id}"" "" from {policy}"".format(rule_id=rule_id, policy=policy['id'])) return self._get_and_munchify('minimum_bandwidth_rule', data) def create_qos_minimum_bandwidth_rule(self, policy_name_or_id, min_kbps, **kwargs): policy = self.get_qos_policy(policy_name_or_id) data = self.network.post( ""/qos/policies/{policy_id}/minimum_bandwidth_rules"".format( policy_id=policy['id']), json={'minimum_bandwidth_rule': kwargs}) return self._get_and_munchify('minimum_bandwidth_rule', data) def update_qos_minimum_bandwidth_rule(self, policy_name_or_id, rule_id, **kwargs): policy = self.get_qos_policy(policy_name_or_id) curr_rule = self.get_qos_minimum_bandwidth_rule( policy_name_or_id, rule_id) data = self.network.put( ""/qos/policies/{policy_id}/minimum_bandwidth_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), json={'minimum_bandwidth_rule': kwargs}) return self._get_and_munchify('minimum_bandwidth_rule', data) policy = self.get_qos_policy(policy_name_or_id) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy}/minimum_bandwidth_rules/{rule}.json"". format(policy=policy['id'], rule=rule_id))) except exc.OpenStackCloudURINotFound:",404,473
openstack%2Fneutron~master~Iec949922be0779a00bf405c2f1d5646c588d323c,openstack/neutron,master,Iec949922be0779a00bf405c2f1d5646c588d323c,Reduce number of the workers in fullstack gate job,MERGED,2021-03-02 08:50:28.000000000,2021-03-02 21:46:10.000000000,2021-03-02 21:43:40.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 08:50:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9542b6a0164cbe0c0fd32b15d0d5db652d47a2f', 'message': 'Reduce number of the workers in fullstack gate job\n\nFullstack job is using different tox env in the gate\n(dsvm-fullstack-gate). To reduce memory usage in that job, some\ntime ago, in patch [1] we reduced number of test workers from 4\nto 3. But it was done for ""dsvm-fullstack"" tox env, not for\n""dsvm-fullstack-gate"" thus it had no effect on our CI runs.\nNow it is changed also in the CI job\'s tox env.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/764907\n\nChange-Id: Iec949922be0779a00bf405c2f1d5646c588d323c\nRelated-Bug: #1906366\n'}]",0,778149,d9542b6a0164cbe0c0fd32b15d0d5db652d47a2f,10,4,1,11975,,,0,"Reduce number of the workers in fullstack gate job

Fullstack job is using different tox env in the gate
(dsvm-fullstack-gate). To reduce memory usage in that job, some
time ago, in patch [1] we reduced number of test workers from 4
to 3. But it was done for ""dsvm-fullstack"" tox env, not for
""dsvm-fullstack-gate"" thus it had no effect on our CI runs.
Now it is changed also in the CI job's tox env.

[1] https://review.opendev.org/c/openstack/neutron/+/764907

Change-Id: Iec949922be0779a00bf405c2f1d5646c588d323c
Related-Bug: #1906366
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/778149/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d9542b6a0164cbe0c0fd32b15d0d5db652d47a2f,improve-neutron-ci, stestr run --concurrency 3 --black-regex neutron.tests.fullstack.test_securitygroup.TestSecurityGroupsSameNetwork.test_securitygroup {posargs}, stestr run --concurrency 4 --black-regex neutron.tests.fullstack.test_securitygroup.TestSecurityGroupsSameNetwork.test_securitygroup {posargs},1,1
openstack%2Ftripleo-heat-templates~master~I529f91d5391d24bb5a6af37d3486f6ddf6cabac7,openstack/tripleo-heat-templates,master,I529f91d5391d24bb5a6af37d3486f6ddf6cabac7,Fix logging_sources map_merge issues,MERGED,2021-02-28 04:06:49.000000000,2021-03-02 21:46:01.000000000,2021-03-02 21:46:01.000000000,"[{'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-28 04:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ec365eddf1f3e9bcd5afcae1a4c549741e358aa', 'message': 'Fix logging_sources map_merge issues\n\nFixes an issue where map_merge was used incorrectly,\ntrying to merge dict with null and passing a list of\nonly one map.\n\nThis caused the map merge not to happen, and the\n$RoleServiceChain output to carry the actual map_merge\nin service_config_settings instead of the intended\nmerged map of rsyslog logging_sources.\n\nCloses-Bug: #1917195\nChange-Id: I529f91d5391d24bb5a6af37d3486f6ddf6cabac7\n'}, {'number': 2, 'created': '2021-02-28 04:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49a60aeb5d320eb174c00ec38108dbf955b688aa', 'message': 'Fix logging_sources map_merge issues\n\nFixes an issue where map_merge was used incorrectly,\ntrying to merge dict with null and passing a list of\nonly one map.\n\nThis caused the map merge not to happen, and the\n$RoleServiceChain output to carry the actual map_merge\nin service_config_settings instead of the intended\nmerged map of rsyslog logging_sources.\n\nCloses-Bug: #1917195\nChange-Id: I529f91d5391d24bb5a6af37d3486f6ddf6cabac7\n'}, {'number': 3, 'created': '2021-02-28 04:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab210ee4913b650595b09c8de867c50e26b9607d', 'message': 'Fix logging_sources map_merge issues\n\nFixes an issue where map_merge was used incorrectly,\ntrying to merge dict with null and passing a list of\nonly one map.\n\nThis caused the map merge not to happen, and the\n$RoleServiceChain output to carry the actual map_merge\nin service_config_settings instead of the intended\nmerged map of rsyslog logging_sources.\n\nCloses-Bug: #1917195\nChange-Id: I529f91d5391d24bb5a6af37d3486f6ddf6cabac7\n'}, {'number': 4, 'created': '2021-03-01 08:04:18.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/843713d06e8323c8bdd3aa2ca158d0b4dfe22b5f', 'message': 'Fix logging_sources map_merge issues\n\nFixes an issue where map_merge was used incorrectly,\ntrying to merge dict with null and passing a list of\nonly one map.\n\nThis caused the map merge not to happen, and the\n$RoleServiceChain output to carry the actual map_merge\nin service_config_settings instead of the intended\nmerged map of rsyslog logging_sources.\n\nCloses-Bug: #1917195\nChange-Id: I529f91d5391d24bb5a6af37d3486f6ddf6cabac7\n'}]",0,777877,843713d06e8323c8bdd3aa2ca158d0b4dfe22b5f,22,5,4,24245,,,0,"Fix logging_sources map_merge issues

Fixes an issue where map_merge was used incorrectly,
trying to merge dict with null and passing a list of
only one map.

This caused the map merge not to happen, and the
$RoleServiceChain output to carry the actual map_merge
in service_config_settings instead of the intended
merged map of rsyslog logging_sources.

Closes-Bug: #1917195
Change-Id: I529f91d5391d24bb5a6af37d3486f6ddf6cabac7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/777877/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'common/services/role.role.j2.yaml']",8,3ec365eddf1f3e9bcd5afcae1a4c549741e358aa,bug/1917195,"# PuppetStepConfig: # type: OS::Heat::Value # properties: # type: string # value: # yaql: # expression: # # select 'step_config' only from services that do not have a docker_config # coalesce($.data.service_names, []).zip(coalesce($.data.step_config, []), coalesce($.data.docker_config, [])).where($[2] = null).where($[1] != null).select($[1]).join(""\n"") # data: # service_names: {get_attr: [ServiceChain, role_data, service_name]} # step_config: {get_attr: [ServiceChain, role_data, step_config]} # docker_config: {get_attr: [ServiceChain, role_data, docker_config]} # DockerConfig: # type: OS::Heat::Value # properties: # type: json # value: # yaql: # expression: # # select 'docker_config' only from services that have it # coalesce($.data.service_names, []).zip(coalesce($.data.docker_config, [])).where($[1] != null).select($[1]).reduce($1.mergeWith($2), {}) # data: # service_names: {get_attr: [ServiceChain, role_data, service_names]} # docker_config: {get_attr: [ServiceChain, role_data, docker_config]} # DockerConfigScripts: # type: OS::Heat::Value # properties: # type: json # value: # yaql: # expression: # # select 'container_config_scripts' only from services that have it # coalesce($.data.service_names, []).zip(coalesce($.data.container_config_scripts, [])).where($[1] != null).select($[1]).reduce($1.mergeWith($2), {}) # data: # service_names: {get_attr: [ServiceChain, role_data, service_names]} # container_config_scripts: {get_attr: [ServiceChain, role_data, container_config_scripts]} # MonitoringSubscriptionsConfig: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('monitoring_subscription')).where($ != null)) # data: {role_data: {get_attr: [ServiceChain, role_data]}} # ServiceNames: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # filter: # - [null] # - {get_attr: [ServiceChain, role_data, service_name]} # GlobalConfigSettings: # type: OS::Heat::Value # properties: # type: json # value: # map_merge: # yaql: # expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('global_config_settings')).where($ != null)) # data: {role_data: {get_attr: [ServiceChain, role_data]}} # KeystoneResourcesConfigs: # type: OS::Heat::Value # properties: # type: json # value: # map_merge: # yaql: # expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('keystone_resources')).where($ != null)) # data: {role_data: {get_attr: [ServiceChain, role_data]}} # ServiceConfigSettings: # type: OS::Heat::Value # properties: # type: json # value: # yaql: # expression: coalesce($.data.role_data, []).where($ != null).select($.get('service_config_settings')).where($ != null).reduce($1.mergeWith($2), {}) # data: {role_data: {get_attr: [ServiceChain, role_data]}} # DeployStepsTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('deploy_steps_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # ExternalDeployTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('external_deploy_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # ExternalPostDeployTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('external_post_deploy_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # ScaleTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('scale_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # ExternalUpdateTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('external_update_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # ExternalUpgradeTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('external_upgrade_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # PreUpgradeRollingTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # expression: coalesce($.data, []).where($ != null).select($.get('pre_upgrade_rolling_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # UpgradeTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('upgrade_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # PostUpgradeTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('post_upgrade_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # UpdateTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('update_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # PostUpdateTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks, e.g yum update for all services # expression: coalesce($.data, []).where($ != null).select($.get('post_update_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # UpgradeBatchTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # expression: coalesce($.data, []).where($ != null).select($.get('upgrade_batch_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # PuppetConfig: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # expression: coalesce($.data, []).where($ != null).select($.get('puppet_config')).where($ != null).distinct() # data: {get_attr: [ServiceChain, role_data]} # KollaConfig: # type: OS::Heat::Value # properties: # type: json # value: # yaql: # expression: coalesce($.data.role_data, []).where($ != null).select($.get('kolla_config')).where($ != null).reduce($1.mergeWith($2), {}) # data: {role_data: {get_attr: [ServiceChain, role_data]}}# HostPrepTasks: # type: OS::Heat::Value # properties: # type: comma_delimited_list # value: # yaql: # # Note we use distinct() here to filter any identical tasks # expression: coalesce($.data, []).where($ != null).select($.get('host_prep_tasks')).where($ != null).flatten().distinct() # data: {get_attr: [ServiceChain, role_data]} # AnsibleGroupVars: # type: OS::Heat::Value # properties: # type: json # value: # map_merge: # yaql: # expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('ansible_group_vars')).where($ != null)) # data: {role_data: {get_attr: [ServiceChain, role_data]}} # FirewallRules: # type: OS::Heat::Value # properties: # type: json # value: # map_merge: # yaql: # expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('firewall_rules')).where($ != null)) # data: {role_data: {get_attr: [ServiceChain, role_data]}}"," PuppetStepConfig: type: OS::Heat::Value properties: type: string value: yaql: expression: # select 'step_config' only from services that do not have a docker_config coalesce($.data.service_names, []).zip(coalesce($.data.step_config, []), coalesce($.data.docker_config, [])).where($[2] = null).where($[1] != null).select($[1]).join(""\n"") data: service_names: {get_attr: [ServiceChain, role_data, service_name]} step_config: {get_attr: [ServiceChain, role_data, step_config]} docker_config: {get_attr: [ServiceChain, role_data, docker_config]} DockerConfig: type: OS::Heat::Value properties: type: json value: yaql: expression: # select 'docker_config' only from services that have it coalesce($.data.service_names, []).zip(coalesce($.data.docker_config, [])).where($[1] != null).select($[1]).reduce($1.mergeWith($2), {}) data: service_names: {get_attr: [ServiceChain, role_data, service_names]} docker_config: {get_attr: [ServiceChain, role_data, docker_config]} DockerConfigScripts: type: OS::Heat::Value properties: type: json value: yaql: expression: # select 'container_config_scripts' only from services that have it coalesce($.data.service_names, []).zip(coalesce($.data.container_config_scripts, [])).where($[1] != null).select($[1]).reduce($1.mergeWith($2), {}) data: service_names: {get_attr: [ServiceChain, role_data, service_names]} container_config_scripts: {get_attr: [ServiceChain, role_data, container_config_scripts]} MonitoringSubscriptionsConfig: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('monitoring_subscription')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} ServiceNames: type: OS::Heat::Value properties: type: comma_delimited_list value: filter: - [null] - {get_attr: [ServiceChain, role_data, service_name]} GlobalConfigSettings: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('global_config_settings')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} KeystoneResourcesConfigs: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('keystone_resources')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} ServiceConfigSettings: type: OS::Heat::Value properties: type: json value: yaql: expression: coalesce($.data.role_data, []).where($ != null).select($.get('service_config_settings')).where($ != null).reduce($1.mergeWith($2), {}) data: {role_data: {get_attr: [ServiceChain, role_data]}} DeployStepsTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('deploy_steps_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalDeployTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_deploy_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalPostDeployTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_post_deploy_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ScaleTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('scale_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalUpdateTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_update_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} ExternalUpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('external_upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PreUpgradeRollingTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('pre_upgrade_rolling_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} UpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PostUpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('post_upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} UpdateTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('update_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PostUpdateTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks, e.g yum update for all services expression: coalesce($.data, []).where($ != null).select($.get('post_update_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} UpgradeBatchTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('upgrade_batch_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} PuppetConfig: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('puppet_config')).where($ != null).distinct() data: {get_attr: [ServiceChain, role_data]} KollaConfig: type: OS::Heat::Value properties: type: json value: yaql: expression: coalesce($.data.role_data, []).where($ != null).select($.get('kolla_config')).where($ != null).reduce($1.mergeWith($2), {}) data: {role_data: {get_attr: [ServiceChain, role_data]}} HostPrepTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: # Note we use distinct() here to filter any identical tasks expression: coalesce($.data, []).where($ != null).select($.get('host_prep_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} AnsibleGroupVars: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('ansible_group_vars')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}} FirewallRules: type: OS::Heat::Value properties: type: json value: map_merge: yaql: expression: list(coalesce($.data.role_data, []).where($ != null).select($.get('firewall_rules')).where($ != null)) data: {role_data: {get_attr: [ServiceChain, role_data]}}",246,263
openstack%2Fcinder~stable%2Fussuri~I00f1bd46bc8715591016f59c32651fc2c9cddf35,openstack/cinder,stable/ussuri,I00f1bd46bc8715591016f59c32651fc2c9cddf35,[SVF]:Reduce slowness by caching pool information,MERGED,2020-12-17 08:30:23.000000000,2021-03-02 21:26:03.000000000,2021-03-02 21:18:04.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32036}]","[{'number': 1, 'created': '2020-12-17 08:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b36a23c546a4d1702ecfb9bf1379014668665b3', 'message': '[SVF]:Reduce slowness by caching pool information\n\n[Spectrum Virtualize Family] Data_reduction is a pool specific property,\nthis property should be saved for a specific pool during initialisation.\n\nWith this, calls to get_pool_attrs can be reduced everytime create_vdisk\nis called, in order to check if pool is a data_reduction_pool.\n\ncloses bug: #1890591\n\nChange-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35\n(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)\n'}, {'number': 2, 'created': '2020-12-17 16:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74d244893bc96cfb6c3352f3b05e646bb26d6177', 'message': '[SVF]:Reduce slowness by caching pool information\n\n[Spectrum Virtualize Family] Data_reduction is a pool specific property,\nthis property should be saved for a specific pool during initialisation.\n\nWith this, calls to get_pool_attrs can be reduced everytime create_vdisk\nis called, in order to check if pool is a data_reduction_pool.\n\ncloses bug: #1890591\n\nChange-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35\n(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)\n'}, {'number': 3, 'created': '2021-02-10 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6f593a44fcc340256bb6b631933dd08312c728e', 'message': '[SVF]:Reduce slowness by caching pool information\n\n[Spectrum Virtualize Family] Data_reduction is a pool specific property,\nthis property should be saved for a specific pool during initialisation.\n\nWith this, calls to get_pool_attrs can be reduced everytime create_vdisk\nis called, in order to check if pool is a data_reduction_pool.\n\ncloses bug: #1890591\n\nChange-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35\n(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)\n(cherry picked from commit e2cddc108b174895b3575e9a2640d3cd8afc21ab)\n'}, {'number': 4, 'created': '2021-02-10 12:31:23.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1890591-Pool-information-is-not-saved-in-stats-22f302d941cd9fe2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8426a5bdc0c2becdab87920740bee8e1bf983992', 'message': '[SVF]:Reduce slowness by caching pool information\n\n[Spectrum Virtualize Family] Data_reduction is a pool specific property,\nthis property should be saved for a specific pool during initialisation.\n\nWith this, calls to get_pool_attrs can be reduced everytime create_vdisk\nis called, in order to check if pool is a data_reduction_pool.\n\ncloses bug: #1890591\n\nChange-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35\n(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)\n(cherry picked from commit e2cddc108b174895b3575e9a2640d3cd8afc21ab)\n'}]",65,767478,8426a5bdc0c2becdab87920740bee8e1bf983992,65,5,4,32171,,,0,"[SVF]:Reduce slowness by caching pool information

[Spectrum Virtualize Family] Data_reduction is a pool specific property,
this property should be saved for a specific pool during initialisation.

With this, calls to get_pool_attrs can be reduced everytime create_vdisk
is called, in order to check if pool is a data_reduction_pool.

closes bug: #1890591

Change-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35
(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)
(cherry picked from commit e2cddc108b174895b3575e9a2640d3cd8afc21ab)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/767478/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1890591-Pool-information-is-not-saved-in-stats-22f302d941cd9fe2.yaml']",3,1b36a23c546a4d1702ecfb9bf1379014668665b3,bug/1890591,--- fixes: - | `Bug #1890591 <https://bugs.launchpad.net/cinder/+bug/1890591>`_: IBM Spectrum Virtualize Family: Fixed issue in do_setup of StorwizeSVCCommonDriver to save pool information in stats during initialisation. ,,102,1
openstack%2Fcinder~stable%2Fussuri~I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8,openstack/cinder,stable/ussuri,I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8,Require oslo.serialization 3.1.2,MERGED,2021-02-09 15:28:14.000000000,2021-03-02 21:24:27.000000000,2021-03-02 21:17:31.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-09 15:28:14.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4359c523f4cf47eabad7fdcfa3f35c22ebc619e', 'message': 'Require oslo.serialization 3.1.2\n\nOlder versions cause the RBD driver to break\nwhen using JSON logging.  (bug #1908607)\n\nChange-Id: I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8\n'}]",0,774680,f4359c523f4cf47eabad7fdcfa3f35c22ebc619e,54,4,1,4523,,,0,"Require oslo.serialization 3.1.2

Older versions cause the RBD driver to break
when using JSON logging.  (bug #1908607)

Change-Id: I510b5b4a2fd4b62ecfcfa7d8604a716513cbc6e8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/774680/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,f4359c523f4cf47eabad7fdcfa3f35c22ebc619e,,oslo.serialization==3.1.2,oslo.serialization==2.18.0,2,2
openstack%2Fpython-swiftclient~stable%2Fussuri~Ibf0c891782afe014cc453b713a94c187340d172e,openstack/python-swiftclient,stable/ussuri,Ibf0c891782afe014cc453b713a94c187340d172e,Drop lower-constraints testing,MERGED,2021-03-01 21:04:49.000000000,2021-03-02 21:23:57.000000000,2021-03-02 21:17:26.000000000,"[{'_account_id': 15197}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 21:04:49.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c169bfd50557ea772335fbd20948ff6308a2899f', 'message': ""Drop lower-constraints testing\n\nThe OpenStack community consensus seems to be that it's not worth the\nhassle of fixing. *Maybe* we can revisit this if we ever drop py2\nsupport?\n\nReasonable spot to start on ML threads:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: Ibf0c891782afe014cc453b713a94c187340d172e\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/777025\n(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)\n""}]",0,778071,c169bfd50557ea772335fbd20948ff6308a2899f,9,3,1,15197,,,0,"Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: Ibf0c891782afe014cc453b713a94c187340d172e
Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/71/778071/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,c169bfd50557ea772335fbd20948ff6308a2899f,drop-lc,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt .[keystone] ,2,54
openstack%2Fcinder~master~I85855921894dddee3d3a4381129417a960796749,openstack/cinder,master,I85855921894dddee3d3a4381129417a960796749,Fix CI_WIKI_NAME entries,MERGED,2021-02-18 13:57:34.000000000,2021-03-02 21:23:08.000000000,2021-03-02 21:17:04.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-02-18 13:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d4e5aed40e2860ff5878b86d9bc77a305e1fc37', 'message': 'Fix CI_WIKI_NAME entries\n\nA lot of drivers had CI_WIKI_NAME entries pointing to invalid third\nparty driver pages [0]. This updates them so we can automate pulling\nCI account information when generating the CI status report.\n\n[0] https://wiki.openstack.org/wiki/ThirdPartySystems\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I85855921894dddee3d3a4381129417a960796749\n'}, {'number': 2, 'created': '2021-02-22 17:05:18.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/volume/drivers/dell_emc/powervault/iscsi.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powervault/fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/868646d28e4c64edf8ec327d63c16ac2cbab6d4c', 'message': 'Fix CI_WIKI_NAME entries\n\nA lot of drivers had CI_WIKI_NAME entries pointing to invalid third\nparty driver pages [0]. This updates them so we can automate pulling\nCI account information when generating the CI status report.\n\n[0] https://wiki.openstack.org/wiki/ThirdPartySystems\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I85855921894dddee3d3a4381129417a960796749\n'}]",2,776458,868646d28e4c64edf8ec327d63c16ac2cbab6d4c,75,4,2,11904,,,0,"Fix CI_WIKI_NAME entries

A lot of drivers had CI_WIKI_NAME entries pointing to invalid third
party driver pages [0]. This updates them so we can automate pulling
CI account information when generating the CI status report.

[0] https://wiki.openstack.org/wiki/ThirdPartySystems

Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I85855921894dddee3d3a4381129417a960796749
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/776458/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/volume/drivers/dell_emc/powervault/iscsi.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powervault/fc.py']",16,3d4e5aed40e2860ff5878b86d9bc77a305e1fc37,CI_WIKI_NAME," CI_WIKI_NAME = ""DellEMC_PowerVault_ME_CI"""," CI_WIKI_NAME = ""PVME_CI""",17,17
openstack%2Fopenstack-helm-infra~master~I5bf096a87e1956c943c45d083e2ab1afc391fd92,openstack/openstack-helm-infra,master,I5bf096a87e1956c943c45d083e2ab1afc391fd92,[CPCEPH-74] Enable tls for radosgw ingress,ABANDONED,2021-01-26 15:51:00.000000000,2021-03-02 21:18:43.000000000,,"[{'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 15:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49433d8e52fa19cf28f19605b1b41dcde7b7b074', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 2, 'created': '2021-01-26 15:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6ad206abc1f485e9af0426dd908ba164a68d4980', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 3, 'created': '2021-01-26 16:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d1d92ac2001bac64fd9b8d62cea3fdb62a156538', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 4, 'created': '2021-01-27 15:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b01d1170163c4c08dbdd83b1710a86660416fda4', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 5, 'created': '2021-01-27 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/80c96b3bb1b8dff1733310ec5dee4e6ab9652612', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 6, 'created': '2021-01-29 16:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9bebac85a788f8d4d5ea6489bfc9e6e50416e0c2', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 7, 'created': '2021-01-29 20:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61ad3c1a2433d006be691cd0e6361b6b35609a38', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 8, 'created': '2021-01-29 20:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a50fe0d187df12d3d1003043e8f03a0d1263e3e', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 9, 'created': '2021-02-01 16:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca8d52a0532516c8c10664ca2a0a1d1cae850a9c', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}, {'number': 10, 'created': '2021-02-03 15:32:45.000000000', 'files': ['ceph-rgw/templates/certificates.yaml', 'ceph-rgw/Chart.yaml', 'ceph-rgw/templates/ingress-rgw.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-rgw/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a3b65a2896419e89cf4eb4f36220e65b51d491b', 'message': '[CPCEPH-74] Enable tls for radosgw ingress\n\nChange-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92\n'}]",2,772565,4a3b65a2896419e89cf4eb4f36220e65b51d491b,22,2,10,32190,,,0,"[CPCEPH-74] Enable tls for radosgw ingress

Change-Id: I5bf096a87e1956c943c45d083e2ab1afc391fd92
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/772565/6 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/certificates.yaml', 'ceph-rgw/templates/ingress-rgw.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/values_overrides/tls.yaml']",4,49433d8e52fa19cf28f19605b1b41dcde7b7b074,rgw-tls-3,--- endpoints: ceph_object_store: host_fqdn_override: default: tls: secretName: ceph-tls-internal issuerRef: name: ca-issuer kind: ClusterIssuer manifests: certificates: true ... ,,42,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I92353622994b28c895d95bdcbe348a73b6c6bb99,openstack/tripleo-heat-templates,stable/victoria,I92353622994b28c895d95bdcbe348a73b6c6bb99,Upgrade mariadb storage during upgrade tasks,MERGED,2021-03-01 13:19:24.000000000,2021-03-02 20:58:10.000000000,2021-03-02 20:58:10.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 13:19:24.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/database/mysql-base.yaml', 'container_config_scripts/mysql_upgrade_db.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/724d65804d5e22693c3a706959f3a46b328d4521', 'message': 'Upgrade mariadb storage during upgrade tasks\n\nWhen a tripleo major upgrade or FFU causes an update or mariadb\nto a new major version (e.g. 10.1 -> 10.3), some internal DB\ntables must be upgraded (myisam tables), and sometimes the\nexisting user tables may be migrated to new mariadb defaults.\n\nMove the db-specific upgrade steps into a dedicated script and\nmake sure that it is called at the right time while upgrading\nthe undercloud and/or the overcloud.\n\nCloses-Bug: #1913438\n\nChange-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99\n(cherry picked from commit 712cfcc71bb9061082154460a6e04a619055f0a0)\n'}]",0,777911,724d65804d5e22693c3a706959f3a46b328d4521,8,4,1,20778,,,0,"Upgrade mariadb storage during upgrade tasks

When a tripleo major upgrade or FFU causes an update or mariadb
to a new major version (e.g. 10.1 -> 10.3), some internal DB
tables must be upgraded (myisam tables), and sometimes the
existing user tables may be migrated to new mariadb defaults.

Move the db-specific upgrade steps into a dedicated script and
make sure that it is called at the right time while upgrading
the undercloud and/or the overcloud.

Closes-Bug: #1913438

Change-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99
(cherry picked from commit 712cfcc71bb9061082154460a6e04a619055f0a0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/777911/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/database/mysql-base.yaml', 'container_config_scripts/mysql_upgrade_db.sh']",4,724d65804d5e22693c3a706959f3a46b328d4521,ffu-mariadb-upgrade-stable/victoria,"#!/bin/bash set -e # Wait until we know the mysql server is up and responding timeout ${DB_MAX_TIMEOUT:-60} /bin/bash -c 'until mysqladmin -uroot ping 2>/dev/null; do sleep 1; done' # After an upgrade, make sure that the running mysql had a chance to # update its data table on disk. mysql_upgrade # Upgrade to 10.3: the default table row format changed from COMPACT # to DYNAMIC, so upgrade the existing tables. compact_tables=$(mysql -se 'SELECT CONCAT(""`"",TABLE_SCHEMA,""`.`"",TABLE_NAME,""`"") FROM information_schema.tables WHERE ENGINE = ""InnoDB"" and ROW_FORMAT = ""Compact"";'); for i in $compact_tables; do echo converting row format of table $i; mysql -e ""ALTER TABLE $i ROW_FORMAT=DYNAMIC;""; done; ",,83,39
openstack%2Fmanila~master~Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620,openstack/manila,master,Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620,Implement secure RBAC for quotas,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 20:52:38.000000000,2021-03-02 20:47:11.000000000,"[{'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/77d88852da590cf84d5de6410e73a4001620e3a8', 'message': 'Implement secure RBAC for quotas\n\nThis commit updates the policies for quotas to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0163cdefe74f9be5582aa61340dfd5cb4a5392e0', 'message': 'Implement secure RBAC for quotas\n\nThis commit updates the policies for quotas to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620\n'}, {'number': 3, 'created': '2021-01-12 07:20:44.000000000', 'files': ['manila/policies/quota_set.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/46f65eafa9fd4beb9ec1b3f196cdb9fedb6b2528', 'message': 'Implement secure RBAC for quotas\n\nThis commit updates the policies for quotas to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620\n'}]",0,763444,46f65eafa9fd4beb9ec1b3f196cdb9fedb6b2528,21,6,3,5046,,,0,"Implement secure RBAC for quotas

This commit updates the policies for quotas to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Id3f3192fb9948f71b0b9cb03d2ef8ffd0b770620
",git fetch https://review.opendev.org/openstack/manila refs/changes/44/763444/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/quota_set.py'],1,77d88852da590cf84d5de6410e73a4001620e3a8,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The quota API now supports system scope and default roles. """""" deprecated_quota_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_ADMIN_API ) deprecated_quota_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) deprecated_quota_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_quota_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_quota_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_quota_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_ADMIN_API, ]),",39,6
openstack%2Fpython-tripleoclient~master~Icfa40c7e92b5adeb57017c037aeb3409e840f425,openstack/python-tripleoclient,master,Icfa40c7e92b5adeb57017c037aeb3409e840f425,Remove default plan-environment.yaml references,MERGED,2021-02-24 04:03:24.000000000,2021-03-02 20:51:30.000000000,2021-03-02 20:46:47.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 04:03:24.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/tests/fixture_data/deployment.py', 'releasenotes/notes/deprecate-tripleo-deploy-plan-environment-file-baeebec064bfd44a.yaml', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a8ab942ce24a535067dc399f63fde960042c5fd', 'message': 'Remove default plan-environment.yaml references\n\nNow, we only use it to specify the derive parameter\nplaybooks.\n\nChange-Id: Icfa40c7e92b5adeb57017c037aeb3409e840f425\n'}]",0,777293,4a8ab942ce24a535067dc399f63fde960042c5fd,12,5,1,8833,,,0,"Remove default plan-environment.yaml references

Now, we only use it to specify the derive parameter
playbooks.

Change-Id: Icfa40c7e92b5adeb57017c037aeb3409e840f425
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/777293/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/tests/fixture_data/deployment.py', 'releasenotes/notes/deprecate-tripleo-deploy-plan-environment-file-baeebec064bfd44a.yaml', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",7,4a8ab942ce24a535067dc399f63fde960042c5fd,, help=_('Plan Environment file for derived parameters.')," help=_('Plan Environment file, overrides the default %s in the ' '--templates directory') % constants.PLAN_ENVIRONMENT",19,184
openstack%2Fmanila~master~I5c8ebcf72ab158021deab772693b869c35962a2b,openstack/manila,master,I5c8ebcf72ab158021deab772693b869c35962a2b,Implement secure RBAC for quota classes,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 20:51:23.000000000,2021-03-02 20:47:05.000000000,"[{'_account_id': 9954}, {'_account_id': 12016}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5cb18a1dd9f260ede99400281d5a5ca8b58e86f1', 'message': 'Implement secure RBAC for quota classes\n\nThis commit updates the policies for quota classes to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I5c8ebcf72ab158021deab772693b869c35962a2b\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3cefcb504d15fc029045248a4c1bfa8eb3548463', 'message': 'Implement secure RBAC for quota classes\n\nThis commit updates the policies for quota classes to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I5c8ebcf72ab158021deab772693b869c35962a2b\n'}, {'number': 3, 'created': '2021-01-12 07:20:07.000000000', 'files': ['manila/policies/quota_class_set.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5011b6719c50a31d435ca8bd2f9f5c97e1daa6df', 'message': 'Implement secure RBAC for quota classes\n\nThis commit updates the policies for quota classes to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I5c8ebcf72ab158021deab772693b869c35962a2b\n'}]",0,763443,5011b6719c50a31d435ca8bd2f9f5c97e1daa6df,27,7,3,5046,,,0,"Implement secure RBAC for quota classes

This commit updates the policies for quota classes to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I5c8ebcf72ab158021deab772693b869c35962a2b
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/763443/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/quota_class_set.py'],1,5cb18a1dd9f260ede99400281d5a5ca8b58e86f1,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The quota class API now supports system scope and default roles. """""" deprecated_quota_class_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_ADMIN_API ) deprecated_quota_class_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_quota_class_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_quota_class_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_DEFAULT, ]),",28,4
openstack%2Fpuppet-tripleo~stable%2Fussuri~I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,openstack/puppet-tripleo,stable/ussuri,I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,Add ability to specify memcached port,MERGED,2021-02-15 11:18:18.000000000,2021-03-02 20:51:19.000000000,2021-03-02 20:45:54.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-15 11:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f4e7b4ba3f7058dfd1b753eb67fbab7f1ca10d69', 'message': ""Add ability to specify memcached port\n\nThe port defaults to hiera('memcached_authtoken_port', 11211)\nfor authtoken middleware and hiera('memcached_port', 11211)\nfor other uses. Different ports might be set for security\nand performance tuning.\n\nChange-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78\n(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)\n""}, {'number': 2, 'created': '2021-03-02 10:20:14.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/heat.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'releasenotes/notes/add-memcached-port-048959c2f58f0a57.yaml', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f7d0ff5f5b435afafea957f3393b8af052e57061', 'message': ""Add ability to specify memcached port\n\nThe port defaults to hiera('memcached_authtoken_port', 11211)\nfor authtoken middleware and hiera('memcached_port', 11211)\nfor other uses. Different ports might be set for security\nand performance tuning.\n\nChange-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78\n(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)\n""}]",0,775601,f7d0ff5f5b435afafea957f3393b8af052e57061,12,6,2,14250,,,0,"Add ability to specify memcached port

The port defaults to hiera('memcached_authtoken_port', 11211)
for authtoken middleware and hiera('memcached_port', 11211)
for other uses. Different ports might be set for security
and performance tuning.

Change-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78
(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/01/775601/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/heat.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'releasenotes/notes/add-memcached-port-048959c2f58f0a57.yaml', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp']",22,f4e7b4ba3f7058dfd1b753eb67fbab7f1ca10d69,memcached-cert-stable/ussuri,"# [*memcached_port*] # (Optional) Memcached port to use. # Defaults to hiera('memcached_authtoken_port', 11211) # $memcached_port = hiera('memcached_authtoken_port', 11211), $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}""), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}"")"," $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211'), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211')",148,42
openstack%2Ftripleo-common-tempest-plugin~master~Iea4ca397dfc5911f6221a4326e50f32ee2d51580,openstack/tripleo-common-tempest-plugin,master,Iea4ca397dfc5911f6221a4326e50f32ee2d51580,Remove .testr.conf,MERGED,2020-05-19 07:11:35.000000000,2021-03-02 20:46:53.000000000,2021-03-02 20:46:53.000000000,"[{'_account_id': 8556}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-05-19 07:11:35.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-common-tempest-plugin/commit/15a38939392daa0d38ed58c20aba2d95dbb91c41', 'message': 'Remove .testr.conf\n\nThis commit removes .testr.conf since this repo already has\n.stestr.conf. We just need .stestr.conf instead of .testr.conf.\n\nChange-Id: Iea4ca397dfc5911f6221a4326e50f32ee2d51580\n'}]",0,729161,15a38939392daa0d38ed58c20aba2d95dbb91c41,9,4,1,5689,,,0,"Remove .testr.conf

This commit removes .testr.conf since this repo already has
.stestr.conf. We just need .stestr.conf instead of .testr.conf.

Change-Id: Iea4ca397dfc5911f6221a4326e50f32ee2d51580
",git fetch https://review.opendev.org/openstack/tripleo-common-tempest-plugin refs/changes/61/729161/1 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,15a38939392daa0d38ed58c20aba2d95dbb91c41,rm-testrconf,,[DEFAULT] test_command=OS_STDOUT_CAPTURE=${OS_STDOUT_CAPTURE:-1} \ OS_STDERR_CAPTURE=${OS_STDERR_CAPTURE:-1} \ OS_TEST_TIMEOUT=${OS_TEST_TIMEOUT:-60} \ ${PYTHON:-python} -m subunit.run discover -t ./ . $LISTOPT $IDOPTION test_id_option=--load-list $IDFILE test_list_option=--list ,0,7
openstack%2Fos-refresh-config~stable%2Fvictoria~Ic6e43277b123e9f9e5a917c039e4127d02a83e23,openstack/os-refresh-config,stable/victoria,Ic6e43277b123e9f9e5a917c039e4127d02a83e23,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 16:49:17.000000000,2021-03-02 20:46:27.000000000,2021-03-02 20:46:27.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 16:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/c995e08c9a4641058b9b460b6b9adfd65c14667c', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2]. Also updates\n.gitreview for victoria so I can post to that branch.\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ic6e43277b123e9f9e5a917c039e4127d02a83e23\n'}, {'number': 2, 'created': '2021-02-26 12:21:34.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'os_refresh_config/tests/test_os_refresh_config.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/312f7a3a3088e0d3027da5f22483012b1f355bc4', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\nAlso updates .gitreview for victoria so I can post to that branch,\nfixes test-requirements for issue seen at [3] and fixes pep8 issue\nW504 line break after binary operator\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://zuul.opendev.org/t/openstack/build/fa2946b4f5f043558b43b1c61ea53a07\n\nChange-Id: Ic6e43277b123e9f9e5a917c039e4127d02a83e23\n'}]",0,777620,312f7a3a3088e0d3027da5f22483012b1f355bc4,10,3,2,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

Also updates .gitreview for victoria so I can post to that branch,
fixes test-requirements for issue seen at [3] and fixes pep8 issue
W504 line break after binary operator

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://zuul.opendev.org/t/openstack/build/fa2946b4f5f043558b43b1c61ea53a07

Change-Id: Ic6e43277b123e9f9e5a917c039e4127d02a83e23
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/20/777620/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'zuul.d/layout.yaml']",2,c995e08c9a4641058b9b460b6b9adfd65c14667c,tripleo-ci-reduce,, - tripleo-multinode-container-minimal,1,1
openstack%2Fos-refresh-config~master~I6df7ef9eacc25435e797005ad8f764c3e0913d46,openstack/os-refresh-config,master,I6df7ef9eacc25435e797005ad8f764c3e0913d46,Remove tripleo-multinode-container-minimal from layout + fix test,MERGED,2021-02-23 12:26:12.000000000,2021-03-02 20:46:18.000000000,2021-03-02 20:46:18.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 12:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/192c9b77343d121a41aae8a0f80ff768a6f20aa2', 'message': 'Replace tripleo-multinode-container-minimal with pipeline version\n\nThe tripleo-multinode-container-minimal is being removed at [1]\nwhich depends-on this patch. Instead we should have the newer\n-pipeline version of the template wired up. Part of wider tripleo\nCI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46\n'}, {'number': 2, 'created': '2021-02-24 11:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/49d4d8bf6dff209725a624fe232cafd7ee42d123', 'message': 'Replace tripleo-multinode-container-minimal with pipeline version\n\nThe tripleo-multinode-container-minimal is being removed at [1]\nwhich depends-on this patch. Instead we should have the newer\n-pipeline version of the template wired up. Part of wider tripleo\nCI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46\n'}, {'number': 3, 'created': '2021-02-25 16:44:24.000000000', 'files': ['test-requirements.txt', 'os_refresh_config/tests/test_os_refresh_config.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/a0322979f9de133e76464b9b0c28244476a7a9e0', 'message': 'Remove tripleo-multinode-container-minimal from layout + fix test\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\nThis updates test-requirements to fix issue seen in [3] and also\nfixes a failing pep8 test seen after test-requirements was fixed.\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log\n\nChange-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46\n'}]",0,777098,a0322979f9de133e76464b9b0c28244476a7a9e0,13,4,3,8449,,,0,"Remove tripleo-multinode-container-minimal from layout + fix test

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

This updates test-requirements to fix issue seen in [3] and also
fixes a failing pep8 test seen after test-requirements was fixed.

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log

Change-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/98/777098/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,192c9b77343d121a41aae8a0f80ff768a6f20aa2,tripleo-ci-reduce, - tripleo-multinode-container-minimal-pipeline, - tripleo-multinode-container-minimal,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,openstack/tripleo-heat-templates,stable/ussuri,Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,Always set NetworkDeploymentActions to its default,MERGED,2021-02-16 09:22:29.000000000,2021-03-02 20:45:49.000000000,2021-03-02 20:45:49.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 09:22:29.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/341fbc46e35ad05d272e98eb47a85cd3534d9fc9', 'message': ""Always set NetworkDeploymentActions to its default\n\nThere are instances users use ``NetworkDeploymentActions`` to\ndo network configuration during update, but just drop the\nparameter for subsequent updates. This sometimes results in\nnetwork configuration changes in existing nodes and disruptions.\nLet's always set them to defaults unless overridden explicitly.\n\nChange-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3\nRelated: https://bugzilla.redhat.com/1928055\n(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)\n""}]",0,775764,341fbc46e35ad05d272e98eb47a85cd3534d9fc9,8,4,1,8833,,,0,"Always set NetworkDeploymentActions to its default

There are instances users use ``NetworkDeploymentActions`` to
do network configuration during update, but just drop the
parameter for subsequent updates. This sometimes results in
network configuration changes in existing nodes and disruptions.
Let's always set them to defaults unless overridden explicitly.

Change-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3
Related: https://bugzilla.redhat.com/1928055
(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/775764/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,341fbc46e35ad05d272e98eb47a85cd3534d9fc9,, NetworkDeploymentActions: ['CREATE'] {{role.name}}NetworkDeploymentActions: [],,2,0
openstack%2Fopenstack-ansible~master~Ia8ab3a9c390368c4226224b7044f4622deec063d,openstack/openstack-ansible,master,Ia8ab3a9c390368c4226224b7044f4622deec063d,Use infra mirror for ceph_client role in CI,MERGED,2021-02-15 18:42:12.000000000,2021-03-02 20:44:47.000000000,2021-03-02 20:41:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-15 18:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/55cea7f937e9f8e376a152a9dc22b03374207d62', 'message': 'Use infra mirror for ceph_client role in CI\n\nChange-Id: Ia8ab3a9c390368c4226224b7044f4622deec063d\n'}, {'number': 2, 'created': '2021-02-16 07:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88c5abc1b73d2a9ae3e68b82bc5962bf790243e7', 'message': 'Use infra mirror for ceph_client role in CI\n\nChange-Id: Ia8ab3a9c390368c4226224b7044f4622deec063d\n'}, {'number': 3, 'created': '2021-02-16 16:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/230c7aaad5b1dace96d40d87682105830995817e', 'message': 'Use infra mirror for ceph_client role in CI\n\nChange-Id: Ia8ab3a9c390368c4226224b7044f4622deec063d\n'}, {'number': 4, 'created': '2021-02-23 07:39:16.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e26a071faeb86eb0ce8086d98123efe0b66c481a', 'message': 'Use infra mirror for ceph_client role in CI\n\nChange-Id: Ia8ab3a9c390368c4226224b7044f4622deec063d\n'}]",0,775695,e26a071faeb86eb0ce8086d98123efe0b66c481a,29,4,4,25023,,,0,"Use infra mirror for ceph_client role in CI

Change-Id: Ia8ab3a9c390368c4226224b7044f4622deec063d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/775695/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,55cea7f937e9f8e376a152a9dc22b03374207d62,osa-ci-fixes," # we must set the ceph repo seperatley for the ceph_client role ceph_apt_repo: state: ""present"" repo: ""http://{{ nodepool_vars.NODEPOOL_MIRROR_HOST }}/ceph-deb-octopus {{ ansible_distribution_release }} main""",,4,0
openstack%2Fkeystone-tempest-plugin~master~Icb5317b9297230490bd783fe9b07c8db244c06f8,openstack/keystone-tempest-plugin,master,Icb5317b9297230490bd783fe9b07c8db244c06f8,Add RBAC tests,MERGED,2019-10-02 21:37:12.000000000,2021-03-02 20:42:04.000000000,2021-03-02 20:42:04.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2019-10-02 21:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/0ff88a591f48d7b8f6142da7c08d00cfdfcefe1d', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\nDepends-on: [tba]\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 2, 'created': '2019-10-02 21:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/f9586c14a0264e8533b1a6c641ed648ff9da55da', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 3, 'created': '2019-12-12 23:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/0100f9a24c772f847774fee7bde1236ba09ee1d1', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 4, 'created': '2019-12-13 01:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/e2020335eb4260cc95f42bc93529254cf259839f', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 5, 'created': '2019-12-13 23:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/09156d38966fd0ff61b7a26cd9ea6afbebba2849', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 6, 'created': '2019-12-18 00:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/f988e59734987758d37dea644492c2f3a9f25771', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 7, 'created': '2019-12-27 21:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/8e32ea715f1643094f8497b4e516509b117e3a66', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 8, 'created': '2019-12-30 16:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/6f75de70882eca4851e9059f57e5a0e08cf77a8f', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 9, 'created': '2019-12-30 17:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/10dc7011c093b009596b4ad1d4a472626692b495', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 10, 'created': '2019-12-30 19:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/0e7d2ecc4f966156bd07d2bd3ea4fcde7d44bef5', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 11, 'created': '2019-12-30 19:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/69fc2993a37b8c4cc90d51dfa595730dc5337d23', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 12, 'created': '2019-12-30 20:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/a7868fca855a642174adbebb81fef517a9d84bdf', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 13, 'created': '2019-12-30 23:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/1c2e30476111c464111b4dd3bfb4fc09cc980a9b', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 14, 'created': '2020-01-08 04:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/0a608edf4c23edbdfff757f44e332a99da783a69', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 15, 'created': '2020-01-14 23:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/392df087c0e6e9ed98cb8b6d2686b0772ee27d84', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 16, 'created': '2020-01-14 23:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/82d1469d07d4e05e5edd87fbef2e713314892311', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 17, 'created': '2020-01-29 00:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/e4a7b0ba108d8148b80ba6e730b0b4611e4a12de', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 18, 'created': '2020-02-05 00:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/505edd7a79d261b791b84448cefa144ad797d45c', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 19, 'created': '2020-02-06 23:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/4ec44c563f014661ef2d4990600e80cc1037e2ac', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 20, 'created': '2020-03-17 23:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/284564d05dac5a15894a4c4be2a1468a45471f71', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 21, 'created': '2020-04-01 19:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/2624d4d22d11478997f883c81649b636308e1e3d', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 22, 'created': '2020-04-13 15:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/b61ac5df92ee937c5d93cdf3c95da7455074550d', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 23, 'created': '2020-05-09 22:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/22232f79cf843f637ee245779c33df10058af25d', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 24, 'created': '2020-06-20 00:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/d8d2d684149052a3098fb510dc4e71a1b794a409', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 25, 'created': '2020-07-08 23:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/e7611d6e540d1ec67965ea261eaf8f58956a0a56', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 26, 'created': '2020-07-14 00:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/68697f29278dd6f619a5b9babc928939da99b889', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 27, 'created': '2020-07-14 22:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/7860ed3b88796ac5438bebd4fc63a72b81cb27e1', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 28, 'created': '2020-07-15 20:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/024951da9e61cbcb07a4a4d00f4030f6796c1ba6', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 29, 'created': '2020-07-16 21:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/ec8fcf3b0ce9ceed7e114a87a3a3ae4af3f2fe0e', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 30, 'created': '2020-07-23 21:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/d8b13946ed864b6bb3bb96af88a187c383532de7', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 31, 'created': '2020-07-23 22:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/5ff1d7cff648bf8b1434e8a88b6ebef7a30936e1', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 32, 'created': '2020-07-24 23:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/004cfe10236b381a7d4cbbe57395be75473aee92', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 33, 'created': '2020-07-27 21:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/a084e2c3d28ee480d53befb6596d188b37d8f78b', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 34, 'created': '2020-07-29 04:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/17e0312d610d8bf804b31d242d79807bf73bc85f', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 35, 'created': '2020-07-29 23:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/fd9535b3821940f1fbae9df017a40c976da59335', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 36, 'created': '2020-07-30 02:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/3181b2eae33c986d5a70cf5e816ebb380188c2d8', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 37, 'created': '2020-07-30 03:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/def02258511fe263c6e4b3599defdcd4c3ed5ecf', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 38, 'created': '2020-07-31 03:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/6f44720dbfdd1d664a2995c772dce95c3bee16b4', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 39, 'created': '2020-08-01 00:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/4a1addeedc954120d42751103188379b71a5bd92', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 40, 'created': '2020-08-01 02:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/e3a3b1d1e021abd759a7883f0b4623d9ae1a3b2a', 'message': 'Add RBAC tests\n\nThis change leverages the nine default personas available in tempest[1]\nto demonstrate a potential framework for testing default policies. An\nabstract base class is created that helps set up credentials and\noutlines every policy that needs to be tested, then nine subclasses are\ncreated to test every persona. Each test represents one policy rule, and\nsome tests make multiple requests in order to test the policy from\ndifferent approaches, for example, to check what happens if a different\ndomain is specified, or what happens if the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\nThis is intended to replace the unittest protection tests currently\nin place.\n\n[1] https://review.opendev.org/686306\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 41, 'created': '2020-08-03 02:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/5142355a18b2f446c58f39c4caa98453e85c1778', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 42, 'created': '2020-08-03 23:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/a1c48ee45d10d31a04fc05f04776b145ff3538a2', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 43, 'created': '2020-08-04 00:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/9557e61b7694f13156599b48147d3728b7439612', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 44, 'created': '2020-08-04 03:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/c0ab278c97ee220f99d8e3cd9b9b19d59a21368b', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\nDepends-on: https://review.opendev.org/731087\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 45, 'created': '2020-08-04 05:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/fbec845c3db7378a935b294de623e81e936fdf0e', 'message': 'WIP/PoC:Add RBAC tests\n\nThis proof of concept leverages the nine default personas available\nin tempest[1] to demonstrate a potential framework for testing default\npolicies. In this example, an abstract base class is created that helps\nset up credentials and outlines every policy that needs to be tested,\nthen nine subclasses are created to test every persona. Each test\nrepresents one policy rule, and some tests make multiple requests in\norder to test the policy from different approaches, for example, to\ncheck what happens if a different domain is specified, or what happens\nif the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\nDepends-on: https://review.opendev.org/731087\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 46, 'created': '2020-08-04 16:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/2b805acc6d39b46a062e517bd4675eeb78461d1f', 'message': 'Add RBAC tests\n\nThis change leverages the nine default personas available in tempest[1]\nto demonstrate a potential framework for testing default policies. An\nabstract base class is created that helps set up credentials and\noutlines every policy that needs to be tested, then nine subclasses are\ncreated to test every persona. Each test represents one policy rule, and\nsome tests make multiple requests in order to test the policy from\ndifferent approaches, for example, to check what happens if a different\ndomain is specified, or what happens if the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\nThis is intended to replace the unittest protection tests currently\nin place.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\nDepends-on: https://review.opendev.org/731087\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 47, 'created': '2020-10-30 16:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/c58bc452f31933b48696801d7bb930946d027b37', 'message': 'Add RBAC tests\n\nThis change leverages the nine default personas available in tempest[1]\nto demonstrate a potential framework for testing default policies. An\nabstract base class is created that helps set up credentials and\noutlines every policy that needs to be tested, then nine subclasses are\ncreated to test every persona. Each test represents one policy rule, and\nsome tests make multiple requests in order to test the policy from\ndifferent approaches, for example, to check what happens if a different\ndomain is specified, or what happens if the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\nThis is intended to replace the unittest protection tests currently\nin place.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\nDepends-on: https://review.opendev.org/731087\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}, {'number': 48, 'created': '2021-02-11 16:04:07.000000000', 'files': ['keystone_tempest_plugin/tests/rbac/v3/test_user.py', 'keystone_tempest_plugin/tests/rbac/v3/test_token.py', 'keystone_tempest_plugin/tests/rbac/v3/test_service.py', 'keystone_tempest_plugin/tests/rbac/__init__.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain_config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project.py', 'keystone_tempest_plugin/tests/rbac/v3/test_grant.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain.py', 'keystone_tempest_plugin/tests/rbac/v3/test_policy.py', 'keystone_tempest_plugin/tests/rbac/v3/test_identity_provider.py', 'keystone_tempest_plugin/tests/rbac/v3/test_trust.py', 'keystone_tempest_plugin/tests/rbac/v3/test_consumer.py', 'keystone_tempest_plugin/config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_access_rule.py', 'keystone_tempest_plugin/tests/rbac/v3/test_limit.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_role_assignment.py', 'keystone_tempest_plugin/tests/rbac/v3/test_implied_role.py', 'keystone_tempest_plugin/tests/rbac/v3/test_service_provider.py', 'keystone_tempest_plugin/tests/rbac/v3/test_mapping.py', 'keystone_tempest_plugin/tests/rbac/v3/test_role.py', '.zuul.yaml', 'keystone_tempest_plugin/plugin.py', 'keystone_tempest_plugin/tests/rbac/v3/__init__.py', 'keystone_tempest_plugin/tests/rbac/v3/base.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_region.py', 'keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project_tag.py', 'keystone_tempest_plugin/tests/rbac/v3/test_protocol.py', 'keystone_tempest_plugin/tests/rbac/v3/test_registered_limit.py', 'keystone_tempest_plugin/tests/rbac/v3/test_policy_association.py', 'tox.ini', 'keystone_tempest_plugin/tests/rbac/v3/test_ec2_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/a6d4ceaf57f3a86be8318b4e84111d71104c28f5', 'message': 'Add RBAC tests\n\nThis change leverages the nine default personas available in tempest[1]\nto demonstrate a potential framework for testing default policies. An\nabstract base class is created that helps set up credentials and\noutlines every policy that needs to be tested, then nine subclasses are\ncreated to test every persona. Each test represents one policy rule, and\nsome tests make multiple requests in order to test the policy from\ndifferent approaches, for example, to check what happens if a different\ndomain is specified, or what happens if the resource does not exist.\n\nThe idea here is to be very verbose and explicit about what is being\ntested: every policy gets one test in the base class, and each persona\nis tested in a subclass. The layout should be easy to understand and\nsomeone reading the code should not be left guessing whether a case is\nmissing or if there is magic happening in the background that is causing\na false positive or false negative.\n\nThis is intended to replace the unittest protection tests currently\nin place.\n\n[1] https://review.opendev.org/686306 (this will require additional\ndevstack and keystone configuration to work properly in CI)\n\nDepends-on: https://review.opendev.org/686306\nDepends-on: https://review.opendev.org/699051\nDepends-on: https://review.opendev.org/699519\nDepends-on: https://review.opendev.org/700826\nDepends-on: https://review.opendev.org/743853\nDepends-on: https://review.opendev.org/744087\nDepends-on: https://review.opendev.org/744268\nDepends-on: https://review.opendev.org/731087\n\nChange-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8\n'}]",28,686305,a6d4ceaf57f3a86be8318b4e84111d71104c28f5,134,7,48,8482,,,0,"Add RBAC tests

This change leverages the nine default personas available in tempest[1]
to demonstrate a potential framework for testing default policies. An
abstract base class is created that helps set up credentials and
outlines every policy that needs to be tested, then nine subclasses are
created to test every persona. Each test represents one policy rule, and
some tests make multiple requests in order to test the policy from
different approaches, for example, to check what happens if a different
domain is specified, or what happens if the resource does not exist.

The idea here is to be very verbose and explicit about what is being
tested: every policy gets one test in the base class, and each persona
is tested in a subclass. The layout should be easy to understand and
someone reading the code should not be left guessing whether a case is
missing or if there is magic happening in the background that is causing
a false positive or false negative.

This is intended to replace the unittest protection tests currently
in place.

[1] https://review.opendev.org/686306 (this will require additional
devstack and keystone configuration to work properly in CI)

Depends-on: https://review.opendev.org/686306
Depends-on: https://review.opendev.org/699051
Depends-on: https://review.opendev.org/699519
Depends-on: https://review.opendev.org/700826
Depends-on: https://review.opendev.org/743853
Depends-on: https://review.opendev.org/744087
Depends-on: https://review.opendev.org/744268
Depends-on: https://review.opendev.org/731087

Change-Id: Icb5317b9297230490bd783fe9b07c8db244c06f8
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/05/686305/48 && git format-patch -1 --stdout FETCH_HEAD,"['keystone_tempest_plugin/tests/rbac/__init__.py', 'keystone_tempest_plugin/tests/rbac/v3/test_users.py', 'keystone_tempest_plugin/tests/rbac/v3/__init__.py']",3,0ff88a591f48d7b8f6142da7c08d00cfdfcefe1d,secure-rbac,,,538,0
openstack%2Fmanila~master~I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d,openstack/manila,master,I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d,Implement secure RBAC for messages,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 20:19:29.000000000,2021-03-02 20:17:58.000000000,"[{'_account_id': 9954}, {'_account_id': 12016}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c659551d52134a40cffab38d97da0cea635c2229', 'message': 'Implement secure RBAC for messages\n\nThis commit updates the policies for messages to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/03178dbd59c8b0518e85ab625f0a94550396b9ea', 'message': 'Implement secure RBAC for messages\n\nThis commit updates the policies for messages to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d\n'}, {'number': 3, 'created': '2021-01-12 07:19:20.000000000', 'files': ['manila/policies/message.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9ef2156c0496735176b45bf88408cb2b653435b0', 'message': 'Implement secure RBAC for messages\n\nThis commit updates the policies for messages to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d\n'}]",0,763442,9ef2156c0496735176b45bf88408cb2b653435b0,22,7,3,5046,,,0,"Implement secure RBAC for messages

This commit updates the policies for messages to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I30ae2a1d34fb1dcb438880b1a5b46afea7db8d0d
",git fetch https://review.opendev.org/openstack/manila refs/changes/42/763442/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/message.py'],1,c659551d52134a40cffab38d97da0cea635c2229,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The messages API now supports system scope and default roles. """""" deprecated_message_get = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get', check_str=base.RULE_DEFAULT ) deprecated_message_get_all = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get_all', check_str=base.RULE_DEFAULT ) deprecated_message_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_message_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_message_get_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_message_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]),",39,6
openstack%2Ftempest~master~I855d07272293d209145598e27e82c7837bf0aecb,openstack/tempest,master,I855d07272293d209145598e27e82c7837bf0aecb,Implementation of create_subnet() varies in manila-tempest-plugin,MERGED,2020-12-10 14:01:18.000000000,2021-03-02 20:13:24.000000000,2021-03-02 20:11:37.000000000,"[{'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-12-10 14:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c8b38bed3e41a8f5427bc2e2b49616a96b0d7149', 'message': 'Implementation of create_subnet() varies among plugins and scenario_manager\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters are\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n4. Addition of argument routers_client\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 2, 'created': '2021-01-05 06:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f63b0d911a48ca948297a2aa12a798eb0fb76b79', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 3, 'created': '2021-01-11 11:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/46b736df8434d52b03472e4fdde9f93d2fff5db8', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 4, 'created': '2021-01-19 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e862c663a7a706eacb27d14b248856fcac216de', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 5, 'created': '2021-01-27 12:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba8d7eb1e714b8a291f93b40ccca6a82cc97ef2a', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 6, 'created': '2021-01-27 12:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b75d090c598ac23f16919d877813896f79da1a0', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 7, 'created': '2021-01-28 16:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca350d6c953e55423e9378aeb816cbfd5653dc5a', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 8, 'created': '2021-02-12 15:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c8d0dfc111b8cb27156a5c2e5960bcd9c80d23f', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 9, 'created': '2021-02-15 05:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/643c2b80889659fde60faed97878369008031ec6', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}, {'number': 10, 'created': '2021-03-02 14:22:29.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959', 'message': 'Implementation of create_subnet() varies in manila-tempest-plugin\n\nThere is need of stable implementation of create_subnet().\n\nFor the stable implementation of create_subnet() following parameters have\nbeen added:\n\n1. Condition to check empty str_cidr\n2. More attributes in case of ipv6\n3. Usage of default_subnet_pool\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I855d07272293d209145598e27e82c7837bf0aecb\n'}]",21,766472,795ef25b728964e37acb5e12761dfc0873fd2959,45,7,10,30742,,,0,"Implementation of create_subnet() varies in manila-tempest-plugin

There is need of stable implementation of create_subnet().

For the stable implementation of create_subnet() following parameters have
been added:

1. Condition to check empty str_cidr
2. More attributes in case of ipv6
3. Usage of default_subnet_pool

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I855d07272293d209145598e27e82c7837bf0aecb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/766472/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,c8b38bed3e41a8f5427bc2e2b49616a96b0d7149,bp/tempest-scenario-manager-stable," routers_client=None, namestart='subnet-smoke', **kwargs): if not routers_client: routers_client = self.routers_client use_default_subnetpool = kwargs.get('use_default_subnetpool', False) if not use_default_subnetpool: if ip_version == 6: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_v6_cidr) num_bits = CONF.network.project_network_v6_mask_bits else: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_cidr) num_bits = CONF.network.project_network_mask_bits if ip_version == 6: subnet['ipv6_address_mode'] = 'slaac' subnet['ipv6_ra_mode'] = 'slaac' if str_cidr is not None: self.assertEqual(subnet['cidr'], str_cidr)"," namestart='subnet-smoke', **kwargs): if ip_version == 6: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_v6_cidr) num_bits = CONF.network.project_network_v6_mask_bits else: tenant_cidr = netaddr.IPNetwork(CONF.network.project_network_cidr) num_bits = CONF.network.project_network_mask_bits self.assertEqual(subnet['cidr'], str_cidr)",22,9
openstack%2Fhorizon~master~I969ad70065c580ba90bb0a050c7a9cf242d805ec,openstack/horizon,master,I969ad70065c580ba90bb0a050c7a9cf242d805ec,Fix Material theme to work with any combination of pyScss and MDI icons,MERGED,2020-05-22 10:03:10.000000000,2021-03-02 20:10:24.000000000,2021-03-02 20:08:39.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-22 10:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d01dc2ad41d9d023e7198c9e88b94c076ab48041', 'message': 'WIP. Fix Material fix\n\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n'}, {'number': 2, 'created': '2020-05-22 11:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/964f679347753cd367e55598b4d0bdf89fabdf65', 'message': 'Fix Material theme to work with any combination of pyScss and MDI icons\n\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n'}, {'number': 3, 'created': '2020-12-07 16:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f84a4ff709e8f255b3a3d4b4b2974a8c1f1db2f2', 'message': ""Fix Material theme to work with any combination of pyScss and MDI icons\n\n':before' class doesn't work as expected with current versions of\nxstatic-mdi and PyScss. It's a temporary workaround with copy ':before'\nstyles from MDI directly into the Material theme.\n\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n""}, {'number': 4, 'created': '2020-12-08 10:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cc533647fecfb09fac34bd07d525067215acae22', 'message': ""Fix Material theme to work with any combination of pyScss and MDI icons\n\n':before' class doesn't work as expected with current versions of\nxstatic-mdi and PyScss. It's a temporary workaround with copy ':before'\nstyles from MDI directly into the Material theme.\n\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n""}, {'number': 5, 'created': '2020-12-17 11:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6242eed4e3fb1932e2a4ea3838db598f2502c149', 'message': ""Fix Material theme to work with any combination of pyScss and MDI icons\n\n':before' class doesn't work as expected with current versions of\nxstatic-mdi and PyScss. It's a temporary workaround with copy ':before'\nstyles from MDI directly into the Material theme.\n\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n""}, {'number': 6, 'created': '2021-02-18 06:40:17.000000000', 'files': ['openstack_dashboard/themes/material/static/horizon/components/_navbar.scss', 'openstack_dashboard/themes/material/static/horizon/components/_radiobuttons.scss', 'openstack_dashboard/themes/material/static/horizon/_icons.scss', 'openstack_dashboard/themes/material/static/horizon/components/_spinners.scss', 'openstack_dashboard/themes/material/static/horizon/components/_datepicker.scss', 'openstack_dashboard/themes/material/static/horizon/components/_checkboxes.scss', 'openstack_dashboard/themes/material/static/horizon/components/_context_selection.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f3bfa383417b270fce384fee18c5cb470cec15f7', 'message': ""Fix Material theme to work with any combination of pyScss and MDI icons\n\n':before' class doesn't work as expected with current versions of\nxstatic-mdi and PyScss. It's a temporary workaround with copy ':before'\nstyles from MDI directly into the Material theme.\n\nCloses-Bug: #1771559\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n""}]",1,730288,f3bfa383417b270fce384fee18c5cb470cec15f7,40,5,6,1736,,,0,"Fix Material theme to work with any combination of pyScss and MDI icons

':before' class doesn't work as expected with current versions of
xstatic-mdi and PyScss. It's a temporary workaround with copy ':before'
styles from MDI directly into the Material theme.

Closes-Bug: #1771559
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec
",git fetch https://review.opendev.org/openstack/horizon refs/changes/88/730288/6 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/themes/material/static/horizon/_icons.scss'],1,d01dc2ad41d9d023e7198c9e88b94c076ab48041,matherial-fix," &:before { content: unquote(""\""\\#{map-get($mdi-icons, $mdi-icon)}\""""); }",,3,0
openstack%2Fglance~master~I71ed8c80939b4cfab6a081c2f8cde63299fc7893,openstack/glance,master,I71ed8c80939b4cfab6a081c2f8cde63299fc7893,Add get_ksa_client() helper,MERGED,2021-01-14 00:28:41.000000000,2021-03-02 19:44:21.000000000,2021-03-02 19:41:57.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 00:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c01e80cc624cd740fdc5077a145a9e4af136ba5f', 'message': ""Add get_ksa_client() helper\n\nThis adds a method in glance.context that will give us a\nkeystoneauth1 client, authorized with the user's token, suitable for\ncalling directly to other services.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I71ed8c80939b4cfab6a081c2f8cde63299fc7893\n""}, {'number': 2, 'created': '2021-02-01 17:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6558c6e1a0e820c913fd4afacdee14117c8c0c89', 'message': ""Add get_ksa_client() helper\n\nThis adds a method in glance.context that will give us a\nkeystoneauth1 client, authorized with the user's token, suitable for\ncalling directly to other services.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I71ed8c80939b4cfab6a081c2f8cde63299fc7893\n""}, {'number': 3, 'created': '2021-02-04 16:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ec7a64a07d11052dbaed0fcd3987b3de67c7fb57', 'message': ""Add get_ksa_client() helper\n\nThis adds a method in glance.context that will give us a\nkeystoneauth1 client, authorized with the user's token, suitable for\ncalling directly to other services.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I71ed8c80939b4cfab6a081c2f8cde63299fc7893\n""}, {'number': 4, 'created': '2021-02-17 14:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6be8679c1a1cc7124926fb42bee36ae36e1d28ba', 'message': ""Add get_ksa_client() helper\n\nThis adds a method in glance.context that will give us a\nkeystoneauth1 client, authorized with the user's token, suitable for\ncalling directly to other services.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I71ed8c80939b4cfab6a081c2f8cde63299fc7893\n""}, {'number': 5, 'created': '2021-03-01 18:56:27.000000000', 'files': ['glance/tests/unit/test_context.py', 'glance/context.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/782ff60cbf5857493eda19be8e0592ddc2e0f6d5', 'message': ""Add get_ksa_client() helper\n\nThis adds a method in glance.context that will give us a\nkeystoneauth1 client, authorized with the user's token, suitable for\ncalling directly to other services.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I71ed8c80939b4cfab6a081c2f8cde63299fc7893\n""}]",0,770682,782ff60cbf5857493eda19be8e0592ddc2e0f6d5,28,4,5,4393,,,0,"Add get_ksa_client() helper

This adds a method in glance.context that will give us a
keystoneauth1 client, authorized with the user's token, suitable for
calling directly to other services.

Related to blueprint distributed-image-import

Change-Id: I71ed8c80939b4cfab6a081c2f8cde63299fc7893
",git fetch https://review.opendev.org/openstack/glance refs/changes/82/770682/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_context.py', 'glance/context.py']",2,c01e80cc624cd740fdc5077a145a9e4af136ba5f,bp/distributed-image-import,"from keystoneauth1 import session from keystoneauth1 import token_endpoint from oslo_config import cfgCONF = cfg.CONF def get_ksa_client(context): """"""Returns a keystoneauth Adapter using token from context. This will return a simple keystoneauth adapter that can be used to make requests against a remote service using the token provided (and already authenticated) from the user and stored in a RequestContext. :param context: User request context :returns: keystoneauth1 Adapter object """""" auth = token_endpoint.Token(CONF.keystone_authtoken.identity_uri, context.auth_token) return session.Session(auth=auth) ",,45,0
openstack%2Fnova~master~I86153d31b02e6b74b42d53a6800297cbd0e5cbb4,openstack/nova,master,I86153d31b02e6b74b42d53a6800297cbd0e5cbb4,libvirt: allow querying devices from the persistent domain,MERGED,2021-01-25 17:21:29.000000000,2021-03-02 19:44:03.000000000,2021-03-02 19:41:12.000000000,"[{'_account_id': 6962}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 17:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef564f392229420fb66b21e9697104261857485e', 'message': 'libvirt: allow querying devices from the persistent domain\n\nThis patch adds from_persistent_config kwargs to get_interface_by_cfg()\nand get_disk() so that the caller can specify which domain config the\ndevices is read. So far if there was both a live domain and a persistent\ndomain then nova only read from the live domain. In a later patch during\ndevice detach these calls will be used to detach from the persistent\ndomain separately from the live domain.\n\nChange-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nRelated-Bug: #1882521\n'}, {'number': 2, 'created': '2021-01-25 17:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffd2ad13784594195f17c4122f428175841b1d01', 'message': 'libvirt: allow querying devices from the persistent domain\n\nThis patch adds from_persistent_config kwargs to get_interface_by_cfg()\nand get_disk() so that the caller can specify which domain config the\ndevices is read. So far if there was both a live domain and a persistent\ndomain then nova only read from the live domain. In a later patch during\ndevice detach these calls will be used to detach from the persistent\ndomain separately from the live domain.\n\nChange-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nRelated-Bug: #1882521\n'}, {'number': 3, 'created': '2021-01-26 17:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ccc6503cd908a716778b938cc53b77906fdcb37', 'message': 'libvirt: allow querying devices from the persistent domain\n\nThis patch adds from_persistent_config kwargs to get_interface_by_cfg()\nand get_disk() so that the caller can specify which domain config the\ndevices is read. So far if there was both a live domain and a persistent\ndomain then nova only read from the live domain. In a later patch during\ndevice detach these calls will be used to detach from the persistent\ndomain separately from the live domain.\n\nChange-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nRelated-Bug: #1882521\n'}, {'number': 4, 'created': '2021-01-29 12:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f2be57199018da234a9875c04e663a8d5186192', 'message': 'libvirt: allow querying devices from the persistent domain\n\nThis patch adds from_persistent_config kwargs to get_interface_by_cfg()\nand get_disk() so that the caller can specify which domain config the\ndevices is read. So far if there was both a live domain and a persistent\ndomain then nova only read from the live domain. In a later patch during\ndevice detach these calls will be used to detach from the persistent\ndomain separately from the live domain.\n\nChange-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nRelated-Bug: #1882521\n'}, {'number': 5, 'created': '2021-02-08 17:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5dc8a635f252fbb27953fa2be0b0bebd60b3c78', 'message': 'libvirt: allow querying devices from the persistent domain\n\nThis patch adds from_persistent_config kwargs to get_interface_by_cfg()\nand get_disk() so that the caller can specify which domain config the\ndevices is read. So far if there was both a live domain and a persistent\ndomain then nova only read from the live domain. In a later patch during\ndevice detach these calls will be used to detach from the persistent\ndomain separately from the live domain.\n\nChange-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nRelated-Bug: #1882521\n'}, {'number': 6, 'created': '2021-02-22 15:10:32.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a634103b15763d038030f9e213eea844e39553c9', 'message': 'libvirt: allow querying devices from the persistent domain\n\nThis patch adds from_persistent_config kwargs to get_interface_by_cfg()\nand get_disk() so that the caller can specify which domain config the\ndevices is read from. Currently, if there was both a live domain and a\npersistent domain then nova only reads from the live domain. In a later\npatch during device detach these calls will be used to detach from the\npersistent domain separately from the live domain.\n\nChange-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4\nRelated-Bug: #1882521\n'}]",19,772383,a634103b15763d038030f9e213eea844e39553c9,58,4,6,9708,,,0,"libvirt: allow querying devices from the persistent domain

This patch adds from_persistent_config kwargs to get_interface_by_cfg()
and get_disk() so that the caller can specify which domain config the
devices is read from. Currently, if there was both a live domain and a
persistent domain then nova only reads from the live domain. In a later
patch during device detach these calls will be used to detach from the
persistent domain separately from the live domain.

Change-Id: I86153d31b02e6b74b42d53a6800297cbd0e5cbb4
Related-Bug: #1882521
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/772383/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,ef564f392229420fb66b21e9697104261857485e,bug/1882521," def get_interface_by_cfg(self, cfg, from_persistent_config=False): :param from_persistent_config: query the device from the persistent domain instead of the live domain configuration interfaces = self.get_all_devices( type(cfg), from_persistent_config) def get_disk(self, device, from_persistent_config=False): flags = 0 if from_persistent_config: flags |= libvirt.VIR_DOMAIN_XML_INACTIVE try: doc = etree.fromstring(self._domain.XMLDesc(flags)) def get_all_devices(self, devtype=None, from_persistent_config=False): :param from_persistent_config: query the device from the persistent domain (i.e. inactive XML configuration that'll be used on next start of the domain) instead of the live domain configuration flags = 0 if from_persistent_config: flags |= libvirt.VIR_DOMAIN_XML_INACTIVE self._domain.XMLDesc(flags))"," def get_interface_by_cfg(self, cfg): interfaces = self.get_all_devices(type(cfg)) def get_disk(self, device): try: doc = etree.fromstring(self._domain.XMLDesc(0)) def get_all_devices(self, devtype=None): self._domain.XMLDesc(0))",19,7
openstack%2Fopenstack-helm-infra~master~If41dae31763abac8c9c65b1650556438a9b6b0df,openstack/openstack-helm-infra,master,If41dae31763abac8c9c65b1650556438a9b6b0df,TLS gates from infra monitoring,MERGED,2021-02-09 21:46:41.000000000,2021-03-02 19:14:56.000000000,2021-03-02 19:10:12.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24816}, {'_account_id': 30449}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-02-09 21:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/faa8f4dd3fcfc0da81a0d79bf17b984629e4670e', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 2, 'created': '2021-02-09 22:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c6c33a349c0a3fafa14a818bc445040e00a58425', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 3, 'created': '2021-02-10 15:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9608cdb84723fc3968f9b894fbef4441ed5d87d9', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 4, 'created': '2021-02-10 21:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e87d023de4184b3613c0b9b446a8994cb98802de', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 5, 'created': '2021-02-10 22:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf341d91b0b43f87b85530cc96d7088592e583b5', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 6, 'created': '2021-02-10 23:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a171afd50499d0cab896ae50841fd80417fe7e30', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 7, 'created': '2021-02-11 16:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/154faf66ca8e782cd5d609fc1cb2935ac39d2a9a', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 8, 'created': '2021-02-11 18:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f59dce98adeea6ba9fe42a7539078502f34f877f', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 9, 'created': '2021-02-11 21:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3d78d1d045c227f2c70616a25e63a71af81ef29', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 10, 'created': '2021-02-11 22:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/85d7018af38905f14d6bfe39130285b6b1ef72ba', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 11, 'created': '2021-02-11 23:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/45b3bc806c3a70406e6a12bd0635058a3c002178', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 12, 'created': '2021-02-11 23:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02b089324bb5615e1abc71542d1a26d8efd44cae', 'message': '[WIP] TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 13, 'created': '2021-02-12 15:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd11429fe4b90e650b362889f87bef86fa1221d8', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 14, 'created': '2021-02-16 17:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/77e2abbde2a4b6c53a4e598202ae28eadf1f8f2d', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 15, 'created': '2021-02-26 18:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d9891f8588b605e371b0345ee6254dae09b91f4', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 16, 'created': '2021-02-26 20:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dabfcc6d96a89b2545ea844e483080e9571b4b1d', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 17, 'created': '2021-02-26 20:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2a594defc487134aa9091396da0cf361cdba526', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 18, 'created': '2021-02-26 21:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5a31e74b93b2dbc4f24df78d2c3770ca80175d8', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 19, 'created': '2021-03-01 20:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d08a3ee75822f2b200238752a4e3530ff785c11', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 20, 'created': '2021-03-02 04:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/354e3d429230d734cdd2eca73e7324f309418b74', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}, {'number': 21, 'created': '2021-03-02 16:10:24.000000000', 'files': ['tools/deployment/osh-infra-monitoring-tls/105-blackbox-exporter.sh', 'tools/deployment/osh-infra-logging-tls/005-deploy-k8s.sh', 'tools/deployment/osh-infra-logging-tls/030-radosgw-osh-infra.sh', 'tools/deployment/osh-infra-monitoring-tls/610-prometheus-selenium.sh', 'tools/deployment/osh-infra-logging-tls/600-kibana-selenium.sh', 'tools/deployment/osh-infra-monitoring-tls/075-node-problem-detector.sh', 'tools/deployment/osh-infra-logging-tls/040-ldap.sh', 'tools/deployment/osh-infra-logging-tls/060-fluentd.sh', 'tools/deployment/osh-infra-monitoring-tls/005-deploy-k8s.sh', 'tools/deployment/osh-infra-monitoring-tls/080-node-exporter.sh', 'tools/deployment/common/015-cert-manager.sh', 'tools/deployment/osh-infra-monitoring-tls/120-nagios.sh', 'tools/deployment/osh-infra-monitoring-tls/620-nagios-selenium.sh', 'tools/deployment/osh-infra-logging-tls/015-cert-manager.sh', 'tools/deployment/osh-infra-monitoring-tls/000-install-packages.sh', 'tools/deployment/osh-infra-monitoring-tls/040-ldap.sh', 'tools/deployment/osh-infra-monitoring-tls/015-cert-manager.sh', 'tools/deployment/osh-infra-monitoring-tls/600-grafana-selenium.sh', 'tools/deployment/osh-infra-logging-tls/000-install-packages.sh', 'tools/deployment/osh-infra-monitoring-tls/050-prometheus.sh', 'tools/deployment/osh-infra-logging-tls/025-ceph-ns-activate.sh', 'tools/deployment/osh-infra-monitoring-tls/060-alertmanager.sh', 'tools/deployment/osh-infra-logging-tls/010-ingress.sh', 'tools/deployment/osh-infra-logging-tls/020-ceph.sh', 'tools/deployment/osh-infra-monitoring-tls/020-ingress.sh', 'tools/deployment/osh-infra-monitoring-tls/090-process-exporter.sh', 'tools/deployment/osh-infra-monitoring-tls/170-postgresql.sh', 'tools/deployment/osh-infra-monitoring-tls/030-nfs-provisioner.sh', 'tools/deployment/osh-infra-logging-tls/050-elasticsearch.sh', 'tools/deployment/osh-infra-monitoring-tls/070-kube-state-metrics.sh', 'tools/deployment/osh-infra-logging-tls/070-kibana.sh', 'tools/deployment/osh-infra-monitoring-tls/045-mariadb.sh', 'zuul.d/project.yaml', 'tools/deployment/osh-infra-monitoring-tls/100-openstack-exporter.sh', 'zuul.d/jobs.yaml', 'tools/deployment/osh-infra-monitoring-tls/110-grafana.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d64c5fea64499bdd7043641e1b7420afbd7dac73', 'message': 'TLS gates from infra monitoring\n\nChange-Id: If41dae31763abac8c9c65b1650556438a9b6b0df\n'}]",8,774738,d64c5fea64499bdd7043641e1b7420afbd7dac73,88,13,21,24780,,,0,"TLS gates from infra monitoring

Change-Id: If41dae31763abac8c9c65b1650556438a9b6b0df
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/38/774738/9 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/015-cert-manager.sh', 'zuul.d/project.yaml', 'tools/deployment/osh-infra-monitoring/015-cert-manager.sh', 'zuul.d/jobs.yaml']",4,faa8f4dd3fcfc0da81a0d79bf17b984629e4670e,change-774738-13, - job: name: openstack-helm-infra-aio-monitoring-tls parent: openstack-helm-infra-functional timeout: 7200 pre-run: - playbooks/osh-infra-upgrade-host.yaml - playbooks/osh-infra-deploy-selenium.yaml post-run: playbooks/osh-infra-collect-logs.yaml nodeset: openstack-helm-single-node vars: osh_params: container_distro_name: ubuntu container_distro_version: bionic feature_gates: tls gate_scripts_relative_path: ../openstack-helm-infra gate_scripts: - ./tools/deployment/osh-infra-monitoring/000-install-packages.sh - ./tools/deployment/osh-infra-monitoring/005-deploy-k8s.sh - ./tools/deployment/osh-infra-monitoring/010-deploy-docker-registry.sh - ./tools/deployment/osh-infra-monitoring/015-cert-manager.sh - - ./tools/deployment/osh-infra-monitoring/020-ingress.sh - ./tools/deployment/osh-infra-monitoring/030-nfs-provisioner.sh - ./tools/deployment/osh-infra-monitoring/040-ldap.sh - ./tools/deployment/osh-infra-monitoring/045-mariadb.sh - - ./tools/deployment/osh-infra-monitoring/050-prometheus.sh - ./tools/deployment/osh-infra-monitoring/060-alertmanager.sh - ./tools/deployment/osh-infra-monitoring/070-kube-state-metrics.sh - ./tools/deployment/osh-infra-monitoring/075-node-problem-detector.sh - ./tools/deployment/osh-infra-monitoring/080-node-exporter.sh - - ./tools/deployment/osh-infra-monitoring/090-process-exporter.sh - ./tools/deployment/osh-infra-monitoring/100-openstack-exporter.sh - ./tools/deployment/osh-infra-monitoring/105-blackbox-exporter.sh - - ./tools/deployment/osh-infra-monitoring/110-grafana.sh - ./tools/deployment/osh-infra-monitoring/120-nagios.sh - ./tools/deployment/osh-infra-monitoring/170-postgresql.sh - - ./tools/deployment/osh-infra-monitoring/175-alerta.sh - ./tools/deployment/osh-infra-monitoring/600-grafana-selenium.sh || true - ./tools/deployment/osh-infra-monitoring/610-prometheus-selenium.sh || true - ./tools/deployment/osh-infra-monitoring/620-nagios-selenium.sh || true,,227,7
openstack%2Fpuppet-openstack-integration~master~I3ee9d1acedcf87fde404fe9134a46a923114bdcf,openstack/puppet-openstack-integration,master,I3ee9d1acedcf87fde404fe9134a46a923114bdcf,Add non-voting litmus jobs on CentOS8 Stream,MERGED,2021-02-28 06:50:58.000000000,2021-03-02 19:05:42.000000000,2021-03-02 19:05:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-28 06:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4d7a1b36ead19bf8799b51be7ed44512e670417d', 'message': 'Add non-voting litmus jobs on CentOS8 Stream\n\nChange-Id: I3ee9d1acedcf87fde404fe9134a46a923114bdcf\n'}, {'number': 2, 'created': '2021-02-28 07:00:37.000000000', 'files': ['zuul.d/litmus.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f2c60bc1d3a55945aee90ef559c227cb79e9e9a1', 'message': 'Add non-voting litmus jobs on CentOS8 Stream\n\nChange-Id: I3ee9d1acedcf87fde404fe9134a46a923114bdcf\n'}]",70,777881,f2c60bc1d3a55945aee90ef559c227cb79e9e9a1,9,3,2,9816,,,0,"Add non-voting litmus jobs on CentOS8 Stream

Change-Id: I3ee9d1acedcf87fde404fe9134a46a923114bdcf
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/81/777881/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/litmus.yaml', 'zuul.d/layout.yaml']",2,4d7a1b36ead19bf8799b51be7ed44512e670417d,c8s-litmus, - puppet-openstack-libraries-litmus-centos-8-stream - puppet-openstack-libraries-litmus-centos-8-stream,,22,1
openstack%2Felection~master~I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8,openstack/election,master,I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8,Setup Xena Directories,MERGED,2021-02-26 18:47:18.000000000,2021-03-02 18:58:45.000000000,2021-03-02 18:57:23.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 18:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/9327db004e9655c558f64452606b5d4eb25e066e', 'message': 'Setup Xena Directories\n\nChange-Id: I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8\n'}, {'number': 2, 'created': '2021-03-02 04:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/1a3642cbb2a7caab6c50b9a4444522fba72a094d', 'message': 'Setup Xena Directories\n\nChange-Id: I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8\n'}, {'number': 3, 'created': '2021-03-02 18:13:18.000000000', 'files': ['candidates/xena/Barbican/.placeholder', 'candidates/xena/Tacker/.placeholder', 'candidates/xena/Tripleo/.placeholder', 'candidates/xena/Manila/.placeholder', 'candidates/xena/Cinder/.placeholder', 'candidates/xena/Masakari/.placeholder', 'candidates/xena/Monasca/.placeholder', 'candidates/xena/Cyborg/.placeholder', 'candidates/xena/OpenStack_Charms/.placeholder', 'candidates/xena/OpenStack_Helm/.placeholder', 'candidates/xena/Adjutant/.placeholder', 'candidates/xena/Rally/.placeholder', 'candidates/xena/Glance/.placeholder', 'candidates/xena/Storlets/.placeholder', 'candidates/xena/Release_Management/.placeholder', 'candidates/xena/Ironic/.placeholder', 'candidates/xena/Winstackers/.placeholder', 'candidates/xena/Kolla/.placeholder', 'candidates/xena/Sahara/.placeholder', 'candidates/xena/Telemetry/.placeholder', 'candidates/xena/Swift/.placeholder', 'candidates/xena/Neutron/.placeholder', 'candidates/xena/Octavia/.placeholder', 'candidates/xena/TC/.placeholder', 'candidates/xena/Openstack_Chef/.placeholder', 'candidates/xena/Requirements/.placeholder', 'candidates/xena/Trove/.placeholder', 'candidates/xena/Kuryr/.placeholder', 'candidates/xena/Blazar/.placeholder', 'candidates/xena/Magnum/.placeholder', 'candidates/xena/Murano/.placeholder', 'candidates/xena/Vitrage/.placeholder', 'candidates/xena/Keystone/.placeholder', 'candidates/xena/Senlin/.placeholder', 'candidates/xena/Puppet_OpenStack/.placeholder', 'candidates/xena/Zaqar/.placeholder', 'candidates/xena/Freezer/.placeholder', 'candidates/xena/Designate/.placeholder', 'candidates/xena/Ec2_Api/.placeholder', 'candidates/xena/Mistral/.placeholder', 'candidates/xena/OpenStackSDK/.placeholder', 'candidates/xena/Watcher/.placeholder', 'candidates/xena/Solum/.placeholder', 'candidates/xena/Cloudkitty/.placeholder', 'candidates/xena/Horizon/.placeholder', 'candidates/xena/Nova/.placeholder', 'candidates/xena/Heat/.placeholder', 'candidates/xena/Zun/.placeholder', 'candidates/xena/OpenStackAnsible/.placeholder', 'candidates/xena/Quality_Assurance/.placeholder'], 'web_link': 'https://opendev.org/openstack/election/commit/fe70c27ca7e156efb521cd7845d5adb637b07c0e', 'message': 'Setup Xena Directories\n\nChange-Id: I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8\n'}]",0,777810,fe70c27ca7e156efb521cd7845d5adb637b07c0e,15,3,3,16708,,,0,"Setup Xena Directories

Change-Id: I93662e0f9904c78c19fb355e2ad47e53a0dd3bd8
",git fetch https://review.opendev.org/openstack/election refs/changes/10/777810/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/xena/Barbican/.placeholder', 'candidates/xena/Tacker/.placeholder', 'candidates/xena/Tripleo/.placeholder', 'candidates/xena/Manila/.placeholder', 'candidates/xena/Cinder/.placeholder', 'candidates/xena/Masakari/.placeholder', 'candidates/xena/Monasca/.placeholder', 'candidates/xena/Cyborg/.placeholder', 'candidates/xena/OpenStack_Charms/.placeholder', 'candidates/xena/OpenStack_Helm/.placeholder', 'candidates/xena/Adjutant/.placeholder', 'candidates/xena/Rally/.placeholder', 'candidates/xena/Glance/.placeholder', 'candidates/xena/Storlets/.placeholder', 'candidates/xena/Release_Management/.placeholder', 'candidates/xena/Ironic/.placeholder', 'candidates/xena/Winstackers/.placeholder', 'candidates/xena/Kolla/.placeholder', 'candidates/xena/Sahara/.placeholder', 'candidates/xena/Telemetry/.placeholder', 'candidates/xena/Swift/.placeholder', 'candidates/xena/Neutron/.placeholder', 'candidates/xena/Octavia/.placeholder', 'candidates/xena/TC/.placeholder', 'candidates/xena/Openstack_Chef/.placeholder', 'candidates/xena/Requirements/.placeholder', 'candidates/xena/Trove/.placeholder', 'candidates/xena/Kuryr/.placeholder', 'candidates/xena/Blazar/.placeholder', 'candidates/xena/Magnum/.placeholder', 'candidates/xena/Murano/.placeholder', 'candidates/xena/Vitrage/.placeholder', 'candidates/xena/Keystone/.placeholder', 'candidates/xena/Senlin/.placeholder', 'candidates/xena/Oslo/.placeholder', 'candidates/xena/Puppet_OpenStack/.placeholder', 'candidates/xena/Zaqar/.placeholder', 'candidates/xena/Freezer/.placeholder', 'candidates/xena/Designate/.placeholder', 'candidates/xena/Ec2_Api/.placeholder', 'candidates/xena/Mistral/.placeholder', 'candidates/xena/OpenStackSDK/.placeholder', 'candidates/xena/Watcher/.placeholder', 'candidates/xena/Solum/.placeholder', 'candidates/xena/Cloudkitty/.placeholder', 'candidates/xena/Horizon/.placeholder', 'candidates/xena/Nova/.placeholder', 'candidates/xena/Heat/.placeholder', 'candidates/xena/Zun/.placeholder', 'candidates/xena/OpenStackAnsible/.placeholder', 'candidates/xena/Quality_Assurance/.placeholder']",51,9327db004e9655c558f64452606b5d4eb25e066e,setup-xena-election,,,0,0
openstack%2Fkayobe~stable%2Fvictoria~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,stable/victoria,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-03-02 10:50:40.000000000,2021-03-02 18:46:44.000000000,2021-03-02 18:44:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 10:50:40.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cbb00dd88d0ed98f24d0450b1ddd0a0ac2429b69', 'message': 'Quote kolla limit when calling kolla-ansible\n\nThis is necessary for correctly passing limits containing special\ncharacters such as ~ or &.\n\nChange-Id: Ia885a226de30d72610dca2eb2f194cef10193095\nStory: 2008546\nTask: 41651\n(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)\n'}]",0,778107,cbb00dd88d0ed98f24d0450b1ddd0a0ac2429b69,10,3,1,14826,,,0,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
(cherry picked from commit a1c9a8152508785d5babe4ed98eb6a743932a229)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/778107/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py']",3,cbb00dd88d0ed98f24d0450b1ddd0a0ac2429b69,story/2008546-stable/victoria," cmd += [""--limit"", utils.quote_and_escape(limit_arg)]"," cmd += [""--limit"", limit_arg]",8,3
openstack%2Fcharm-percona-cluster~master~Ifd73f20c2523de164fb23e8f5a5e757393d489e3,openstack/charm-percona-cluster,master,Ifd73f20c2523de164fb23e8f5a5e757393d489e3,Ensure that correct password update is used for mysql version,MERGED,2021-02-25 14:10:45.000000000,2021-03-02 18:45:41.000000000,2021-03-02 18:45:41.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 14:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/552ace70315f0ba22ef42e60298632745ba66d2b', 'message': 'Ensure that correct password update is used for mysql version\n\nOn mysql pre 5.7.5 and older (e.g. xenial) a different password update\nSQL statement is needed.  Detect the ubuntu version (assuming the\npackages are used) and use the version for that password.\n\nChange-Id: Ifd73f20c2523de164fb23e8f5a5e757393d489e3\nCloses-Bug: #1916672\n'}, {'number': 2, 'created': '2021-02-25 14:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/e324ab062fa819a2e53df658d32d59ae9686873c', 'message': 'Ensure that correct password update is used for mysql version\n\nOn mysql pre 5.7.5 and older (e.g. xenial) a different password update\nSQL statement is needed.  Detect the ubuntu version (assuming the\npackages are used) and use the version for that password.\n\nChange-Id: Ifd73f20c2523de164fb23e8f5a5e757393d489e3\nCloses-Bug: #1916672\n'}, {'number': 3, 'created': '2021-02-27 15:43:17.000000000', 'files': ['unit_tests/test_percona_utils.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/d55dcdebc9049c509e2f5ab40c8d497dc0a3236d', 'message': 'Ensure that correct password update is used for mysql version\n\nOn mysql pre 5.7.5 and older (e.g. xenial) a different password update\nSQL statement is needed.  Detect the ubuntu version (assuming the\npackages are used) and use the version for that password.\n\nChange-Id: Ifd73f20c2523de164fb23e8f5a5e757393d489e3\nCloses-Bug: #1916672\n'}]",0,777598,d55dcdebc9049c509e2f5ab40c8d497dc0a3236d,27,4,3,20870,,,0,"Ensure that correct password update is used for mysql version

On mysql pre 5.7.5 and older (e.g. xenial) a different password update
SQL statement is needed.  Detect the ubuntu version (assuming the
packages are used) and use the version for that password.

Change-Id: Ifd73f20c2523de164fb23e8f5a5e757393d489e3
Closes-Bug: #1916672
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/98/777598/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/percona_utils.py'],1,552ace70315f0ba22ef42e60298632745ba66d2b,bug/1916672," # NOTE (ajkavanagh): LP bug#1916672: there are different ways to update the # password depending on whether it is pre or post 5.7.5 if CompareHostReleases(lsb_release()['DISTRIB_CODENAME']) < 'bionic': m_helper.execute( ""SET PASSWORD FOR 'nagios'@'localhost' = "" ""PASSWORD({passwd});"".format(passwd=nagios_password())) else: m_helper.execute(""ALTER USER 'nagios'@'localhost' IDENTIFIED BY "" ""'{passwd}';"".format(passwd=nagios_password()))"," m_helper.execute(""ALTER USER 'nagios'@'localhost' IDENTIFIED BY "" ""'{passwd}';"".format(passwd=nagios_password()))",9,2
openstack%2Fopenstack-ansible-openstack_hosts~master~I4b21118ec8b5f5ab4f02899bd6219ef321da7d11,openstack/openstack-ansible-openstack_hosts,master,I4b21118ec8b5f5ab4f02899bd6219ef321da7d11,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:08.000000000,2021-03-02 18:31:27.000000000,2021-03-02 18:25:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9bfc8b6c39e31b3f66c2857ec4c8ff21e943d042', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I4b21118ec8b5f5ab4f02899bd6219ef321da7d11'}, {'number': 2, 'created': '2021-03-01 16:28:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ad16d023a314c0a96408b5a208c82f30d9f7b433', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I4b21118ec8b5f5ab4f02899bd6219ef321da7d11'}]",0,772018,ad16d023a314c0a96408b5a208c82f30d9f7b433,15,3,2,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I4b21118ec8b5f5ab4f02899bd6219ef321da7d11",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/18/772018/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9bfc8b6c39e31b3f66c2857ec4c8ff21e943d042,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fcinder~stable%2Fussuri~Idc2fa152b18adc0518b0d91e24b8147696537444,openstack/cinder,stable/ussuri,Idc2fa152b18adc0518b0d91e24b8147696537444,Move non-voting jobs to experimental,ABANDONED,2020-07-15 15:41:33.000000000,2021-03-02 18:18:27.000000000,,"[{'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-15 15:41:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26410a02b92b45a3ab8c04aa28c36445bfce42e2', 'message': 'Move non-voting jobs to experimental\n\nConserve resources on stable branch changes by moving nonvoting\njobs (except for pylint) from check to experimental, where they\ncan still be easily run if someone wants to see the results.\n\nChange-Id: Idc2fa152b18adc0518b0d91e24b8147696537444\n'}]",3,741255,26410a02b92b45a3ab8c04aa28c36445bfce42e2,14,12,1,5314,,,0,"Move non-voting jobs to experimental

Conserve resources on stable branch changes by moving nonvoting
jobs (except for pylint) from check to experimental, where they
can still be easily run if someone wants to see the results.

Change-Id: Idc2fa152b18adc0518b0d91e24b8147696537444
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/741255/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,26410a02b92b45a3ab8c04aa28c36445bfce42e2,resource-conservation, - cinder-tox-bandit-baseline - cinder-rally-task - cinder-tempest-lvm-multibackend: irrelevant-files: *gate-irrelevant-files - devstack-plugin-nfs-tempest-full: irrelevant-files: *gate-irrelevant-files, - cinder-tox-bandit-baseline: voting: false - cinder-rally-task: voting: false - cinder-tempest-lvm-multibackend: voting: false irrelevant-files: *gate-irrelevant-files - devstack-plugin-nfs-tempest-full: voting: false irrelevant-files: *gate-irrelevant-files,6,10
openstack%2Fopenstack-ansible~stable%2Fussuri~Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,openstack/openstack-ansible,stable/ussuri,Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,Workaround nova bug,MERGED,2021-03-02 10:11:53.000000000,2021-03-02 18:14:04.000000000,2021-03-02 18:11:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-02 10:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/22fb77960cc3489afadf75b51bd4425040c78f5e', 'message': 'Workaround nova bug\n\nFor some reason libvirt of version 5.1 fails to attach\nsecond port to instances with single vcpu and pc-i440fx\nmachine type.\nSo we applying workaround with extending amount of cores\nfor amphora flavor\n\nRelated-Bug: #1916879\nChange-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1\n(cherry picked from commit 07f7243bf90611e31cd8c94b5ea2883f0ee65bb4)\n'}, {'number': 2, 'created': '2021-03-02 10:13:44.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f339400d30becab40f195221a20d86727753d950', 'message': 'Workaround nova bug\n\nFor some reason libvirt of version 5.1 fails to attach\nsecond port to instances with single vcpu and pc-i440fx\nmachine type.\nSo we applying workaround with extending amount of cores\nfor amphora flavor\n\nRelated-Bug: #1916879\nChange-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1\n(cherry picked from commit 07f7243bf90611e31cd8c94b5ea2883f0ee65bb4)\n'}]",0,778105,f339400d30becab40f195221a20d86727753d950,10,3,2,28619,,,0,"Workaround nova bug

For some reason libvirt of version 5.1 fails to attach
second port to instances with single vcpu and pc-i440fx
machine type.
So we applying workaround with extending amount of cores
for amphora flavor

Related-Bug: #1916879
Change-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1
(cherry picked from commit 07f7243bf90611e31cd8c94b5ea2883f0ee65bb4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/778105/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'],1,22fb77960cc3489afadf75b51bd4425040c78f5e,,<<<<<<< HEAD (023a40 Trigger deploy guide rebuild on a-r-r update)======= octavia_amp_vcpu: 2 octavia_amp_ram: 512 >>>>>>> CHANGE (ad8ba5 Workaround nova bug),,5,0
openstack%2Fopenstacksdk~master~I95cb50a691d095764df30f46c204ea5ee80dacca,openstack/openstacksdk,master,I95cb50a691d095764df30f46c204ea5ee80dacca,Set resource URI properties in listing method,MERGED,2021-02-17 14:25:51.000000000,2021-03-02 18:11:11.000000000,2021-03-02 18:04:02.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-02-17 14:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f9c1eb555395ad0b9615598eb42cc234ecfb731', 'message': 'Set resource URI properties in listing method\n\nWhen resource listing is invoked the URI based properties are not saved\non the resource, as opposed to all other methods. Fix this by injecting\nthem into each fetched resource.\n\nChange-Id: I95cb50a691d095764df30f46c204ea5ee80dacca\n'}, {'number': 2, 'created': '2021-02-17 16:51:40.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1219655ca684e04898e447ab2e57650ecee627c8', 'message': 'Set resource URI properties in listing method\n\nWhen resource listing is invoked the URI based properties are not saved\non the resource, as opposed to all other methods. Fix this by injecting\nthem into each fetched resource.\n\nChange-Id: I95cb50a691d095764df30f46c204ea5ee80dacca\n'}]",0,776205,1219655ca684e04898e447ab2e57650ecee627c8,14,3,2,27900,,,0,"Set resource URI properties in listing method

When resource listing is invoked the URI based properties are not saved
on the resource, as opposed to all other methods. Fix this by injecting
them into each fetched resource.

Change-Id: I95cb50a691d095764df30f46c204ea5ee80dacca
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/05/776205/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,2f9c1eb555395ad0b9615598eb42cc234ecfb731,," body=True, headers=False, computed=False, uri_params = {} for k, v in params.items(): # We need to gather URI parts to set them on the resource later if ( hasattr(cls, k) and isinstance(getattr(cls, k), URI) ): uri_params[k] = v # We want that URI props are available on the resource raw_resource.update(uri_params)"," body=True, headers=False,",14,1
openstack%2Fglance~master~I06293de08dd3fdfbd60b9a65501d1198f40ff434,openstack/glance,master,I06293de08dd3fdfbd60b9a65501d1198f40ff434,Fail to start if authorization and policy is misconfigured,MERGED,2021-02-19 08:34:51.000000000,2021-03-02 18:10:38.000000000,2021-03-02 18:05:09.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc15d66e7708280201740800139e1ce26489b623', 'message': 'New config option to mark Secure RBAC as Experimental\n\nAdded new config option `enforce_new_policies` default to False which\nwill ensure that Secure RBAC will be treated as EXPERIMENTAL. Once it\nis marked as stable we will swithc the default value of this option to\nTrue and remove this option in following cycle.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n'}, {'number': 2, 'created': '2021-02-22 19:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f74f9f7f491072fac1913a7cd4f9f6ef294f422a', 'message': ""Log an experimental warning at startup for secure RBAC\n\nThis informs operators of glance's support status for secure RBAC as of\nthe Wallaby release. Eventually, this message will be removed when\nglance adopts more support for secure RBAC personas.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n""}, {'number': 3, 'created': '2021-02-23 17:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/21091ae15faa9afe9fd68be292ca476b967ed3d0', 'message': ""Log an experimental warning at startup for secure RBAC\n\nThis informs operators of glance's support status for secure RBAC as of\nthe Wallaby release. Eventually, this message will be removed when\nglance adopts more support for secure RBAC personas.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n""}, {'number': 4, 'created': '2021-02-23 22:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/63ceecdbe702df47d5276d2ec09ea89aa6ca6fa3', 'message': ""Log an experimental warning at startup for secure RBAC\n\nThis informs operators of glance's support status for secure RBAC as of\nthe Wallaby release. Eventually, this message will be removed when\nglance adopts more support for secure RBAC personas.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n""}, {'number': 5, 'created': '2021-03-01 19:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/09dd275b1a3c27c5143bc3332fcd2dc60d32c968', 'message': ""Fail to start if authorization and policy is misconfigured\n\nThis informs operators of glance's support status for secure RBAC as of\nthe Wallaby release. Eventually, this message will be removed when\nglance adopts more support for secure RBAC personas.\n\nThis also forces glance to fail if it's configured improperly. This is\ndone to explicitly prevent ambiguity with authoritative decisions.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n""}, {'number': 6, 'created': '2021-03-01 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8ad6cd59bcbcf2ccec767adc6b4fa4f22233024d', 'message': ""Fail to start if authorization and policy is misconfigured\n\nThis informs operators of glance's support status for secure RBAC as of\nthe Wallaby release. Eventually, this message will be removed when\nglance adopts more support for secure RBAC personas.\n\nThis also forces glance to fail if it's configured improperly. This is\ndone to explicitly prevent ambiguity with authoritative decisions.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n""}, {'number': 7, 'created': '2021-03-02 13:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a4335022751066826d9aaf9bc6269ab1b86da747', 'message': ""Fail to start if authorization and policy is misconfigured\n\nThis informs operators of glance's support status for secure RBAC as of\nthe Wallaby release. Eventually, this message will be removed when\nglance adopts more support for secure RBAC personas.\n\nThis also forces glance to fail if it's configured improperly. This is\ndone to explicitly prevent ambiguity with authoritative decisions.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n""}, {'number': 8, 'created': '2021-03-02 14:54:25.000000000', 'files': ['glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/common/config.py', 'glance/cmd/api.py', 'devstack/plugin.sh', 'glance/common/wsgi_app.py', 'glance/tests/unit/common/test_wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/bf838242ac4ccca4d7341e2d1ee8187e3101d425', 'message': ""Fail to start if authorization and policy is misconfigured\n\nThis informs operators of glance's support status for secure RBAC as of\nthe Wallaby release. Eventually, this message will be removed when\nglance adopts more support for secure RBAC personas.\n\nThis also forces glance to fail if it's configured improperly. This is\ndone to explicitly prevent ambiguity with authoritative decisions.\n\nRelated: blueprint secure-rbac\nChange-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434\n""}]",26,776588,bf838242ac4ccca4d7341e2d1ee8187e3101d425,47,4,8,9303,,,0,"Fail to start if authorization and policy is misconfigured

This informs operators of glance's support status for secure RBAC as of
the Wallaby release. Eventually, this message will be removed when
glance adopts more support for secure RBAC personas.

This also forces glance to fail if it's configured improperly. This is
done to explicitly prevent ambiguity with authoritative decisions.

Related: blueprint secure-rbac
Change-Id: I06293de08dd3fdfbd60b9a65501d1198f40ff434
",git fetch https://review.opendev.org/openstack/glance refs/changes/88/776588/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/config.py'],1,dc15d66e7708280201740800139e1ce26489b623,secure-rbac," cfg.BoolOpt('enforce_new_policies', default=False, deprecated_for_removal=True, deprecated_since=""Wallaby"", deprecated_reason=_("""""" This option is introduced to allow Secure RBAC as EXPERIMENTAL in glance. Once the Secure RBAC is declared as stable, we will change the default value of this option to True and remove this option in following cycle. """"""), help=_("""""" Allow operators to enforce the new default policies. Glance is introducing Secure RBAC as EXPERIMENTAL feature in Wallaby. In order to enable Secure RBAC to enforce new policies operator needs to set this option to True along with setting ``enforce_new_defaults`` to True under ``oslo_policy`` section in glance-api.conf file. """""")),",,17,0
openstack%2Fcinder~master~I57b708d074a8ed3904093ea82d818d23c1e1bff1,openstack/cinder,master,I57b708d074a8ed3904093ea82d818d23c1e1bff1,PowerMax Driver - Port status check,MERGED,2020-11-05 17:28:51.000000000,2021-03-02 18:09:56.000000000,2021-03-02 18:04:08.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 15386}, {'_account_id': 19004}, {'_account_id': 21570}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-11-05 17:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f98a02eadce66b0f75ba7db9176fd6e2936519a', 'message': 'PowerMax Driver - Port status check\n\nEarly in initialize_connection, check the status of the ports in the\nport group you are using.  This early check is time saving and highlights\na specific problem that may otherwise be difficult to determine once\nhanded to os-brick.\n\nChange-Id: I57b708d074a8ed3904093ea82d818d23c1e1bff1\n'}, {'number': 2, 'created': '2020-11-06 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42845a1853250bb080fd20ece3914c89687a2b79', 'message': 'PowerMax Driver - Port status check\n\nEarly in initialize_connection, check the status of the ports in the\nport group you are using.  This early check is time saving and highlights\na specific problem that may otherwise be difficult to determine once\nhanded to os-brick.\n\nChange-Id: I57b708d074a8ed3904093ea82d818d23c1e1bff1\n'}, {'number': 3, 'created': '2020-11-09 10:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b484d08f39f059240da7489fa3902c5e1e16a0bd', 'message': 'PowerMax Driver - Port status check\n\nEarly in initialize_connection, check the status of the ports in the\nport group you are using.  This early check is time saving and highlights\na specific problem that may otherwise be difficult to determine once\nhanded to os-brick.\n\nChange-Id: I57b708d074a8ed3904093ea82d818d23c1e1bff1\n'}, {'number': 4, 'created': '2020-11-10 17:27:03.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b62f250bc327e5444c6bed9963c815c647de9193', 'message': 'PowerMax Driver - Port status check\n\nEarly in initialize_connection, check the status of the ports in the\nport group you are using.  This early check is time saving and highlights\na specific problem that may otherwise be difficult to determine once\nhanded to os-brick.\n\nChange-Id: I57b708d074a8ed3904093ea82d818d23c1e1bff1\n'}]",11,761643,b62f250bc327e5444c6bed9963c815c647de9193,116,29,4,12670,,,0,"PowerMax Driver - Port status check

Early in initialize_connection, check the status of the ports in the
port group you are using.  This early check is time saving and highlights
a specific problem that may otherwise be difficult to determine once
handed to os-brick.

Change-Id: I57b708d074a8ed3904093ea82d818d23c1e1bff1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/761643/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py']",4,7f98a02eadce66b0f75ba7db9176fd6e2936519a,port_check," @mock.patch.object( masking.PowerMaxMasking, '_check_director_and_port_status') def test_sanity_port_group_check(self, mock_pg, mock_check): @mock.patch.object( masking.PowerMaxMasking, '_check_director_and_port_status') mock_get_mv, mock_check): masking.PowerMaxMasking, '_check_director_and_port_status') @mock.patch.object( self, mock_get_pg, mock_check): @mock.patch.object(rest.PowerMaxRest, 'get_port', return_value=tpd.PowerMaxData.port_info) @mock.patch.object(rest.PowerMaxRest, 'get_port_ids', return_value=['FA-1D:4']) def test_check_director_and_port_status(self, mock_port_ids, mock_port): self.mask._check_director_and_port_status( self.data.array, self.data.port_group_name_f)"," def test_sanity_port_group_check(self, mock_pg): mock_get_mv): self, mock_get_pg):",83,5
openstack%2Fnova~master~I3007e1f157e329f121b99ceaddd59625c86f428c,openstack/nova,master,I3007e1f157e329f121b99ceaddd59625c86f428c,Docs: Correct ``Password injection using the dashboard`` Explanation,MERGED,2021-02-11 09:32:10.000000000,2021-03-02 18:09:13.000000000,2021-03-02 18:04:36.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 09:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec96924709090c5635629724b16c686739776a78', 'message': ""Docs: Correct ``Password injection using the dashboard`` Explanation\n\nDuring Icehouse release default value of 'can_set_password' sets\nto False for horizon(dashboard) but nova document is not updated\nyet and acc. to nova doc default value for above setting is True.\nSo this patch correct the doc. For more info. please refer [1].\n\n[1] https://docs.openstack.org/releasenotes/horizon/icehouse.html#default-hypervisor-settings-changes\n\nChange-Id: I3007e1f157e329f121b99ceaddd59625c86f428c\n""}, {'number': 2, 'created': '2021-02-17 17:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2650160d4c60ff291e42c22091c268d5cf77b89', 'message': ""Docs: Correct ``Password injection using the dashboard`` Explanation\n\nDuring Icehouse release default value of 'can_set_password' sets\nto False for horizon(dashboard) but nova document is not updated\nyet and acc. to nova doc default value for above setting is True.\nSo this patch correct the doc. For more info. please refer [1].\n\n[1] https://docs.openstack.org/releasenotes/horizon/icehouse.html#default-hypervisor-settings-changes\n\nChange-Id: I3007e1f157e329f121b99ceaddd59625c86f428c\n""}, {'number': 3, 'created': '2021-02-18 10:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9276933b94fa813c638ad5d06fe47a4ff4574366', 'message': ""Docs: Correct ``Password injection using the dashboard`` Explanation\n\nDuring Icehouse release default value of 'can_set_password' sets\nto False for horizon(dashboard) but nova document is not updated\nyet and acc. to nova doc default value for above setting is True.\nSo this patch correct the doc. For more info. please refer [1].\n\n[1] https://docs.openstack.org/releasenotes/horizon/icehouse.html#default-hypervisor-settings-changes\n\nChange-Id: I3007e1f157e329f121b99ceaddd59625c86f428c\n""}, {'number': 4, 'created': '2021-02-18 16:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dbbf5284c173950d0ce0b70a87fdae8099d2ab8', 'message': ""Docs: Correct ``Password injection using the dashboard`` Explanation\n\nDuring Icehouse release default value of 'can_set_password' sets\nto False for horizon(dashboard) but nova document is not updated\nyet and acc. to nova doc default value for above setting is True.\nSo this patch correct the doc. For more info. please refer [1].\n\n[1] https://docs.openstack.org/releasenotes/horizon/icehouse.html#default-hypervisor-settings-changes\n\nChange-Id: I3007e1f157e329f121b99ceaddd59625c86f428c\n""}, {'number': 5, 'created': '2021-02-23 12:59:13.000000000', 'files': ['doc/source/admin/admin-password-injection.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d3fb6cdbdc526e2da7d03df8d876fa01d267aa4', 'message': ""Docs: Correct ``Password injection using the dashboard`` Explanation\n\nDuring Icehouse release default value of 'can_set_password' sets\nto False for horizon(dashboard) but nova document is not updated\nyet and acc. to nova doc default value for above setting is True.\nSo this patch correct the doc. For more info. please refer [1].\n\n[1] https://docs.openstack.org/releasenotes/horizon/icehouse.html#default-hypervisor-settings-changes\n\nChange-Id: I3007e1f157e329f121b99ceaddd59625c86f428c\n""}]",6,775084,5d3fb6cdbdc526e2da7d03df8d876fa01d267aa4,37,6,5,29313,,,0,"Docs: Correct ``Password injection using the dashboard`` Explanation

During Icehouse release default value of 'can_set_password' sets
to False for horizon(dashboard) but nova document is not updated
yet and acc. to nova doc default value for above setting is True.
So this patch correct the doc. For more info. please refer [1].

[1] https://docs.openstack.org/releasenotes/horizon/icehouse.html#default-hypervisor-settings-changes

Change-Id: I3007e1f157e329f121b99ceaddd59625c86f428c
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/775084/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/admin-password-injection.rst'],1,ec96924709090c5635629724b16c686739776a78,,"By default, the dashboard will not display the ``admin`` password because not all hypervisors support this feature which created confusion with users. If you want to support password injection, enable the password fields 'can_set_password': True,","By default, the dashboard will display the ``admin`` password and allow the user to modify it. If you do not want to support password injection, disable the password fields 'can_set_password': False,",4,4
openstack%2Fironic~master~I80cd0ed783d68fff13d4b04faec7c9a0ed30b502,openstack/ironic,master,I80cd0ed783d68fff13d4b04faec7c9a0ed30b502,Make agent driver always PXE before cleaning,ABANDONED,2016-01-05 18:40:24.000000000,2021-03-02 18:06:02.000000000,,"[{'_account_id': 2889}, {'_account_id': 6610}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7080}, {'_account_id': 7711}, {'_account_id': 10118}, {'_account_id': 10342}, {'_account_id': 10697}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 13362}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 18893}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 20311}]","[{'number': 1, 'created': '2016-01-05 18:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9d35de6721d7770b5bf9056cd23d4446a92735a7', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver when calling prepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic. This patch makes prepare_inband_cleaning always\ntry to get the node to PXE boot.\n\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nFixes-Bug: 1531229\n""}, {'number': 2, 'created': '2016-01-06 20:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be0eb1f5290ecbe427dd0bcfe5d695df745bdf81', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic. This patch makes ironic always\ntry to get the node to PXE boot when using the PXE boot interface.\n\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 3, 'created': '2016-03-29 00:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2effeaafcac8e7b569ec73a29b5ef2c411365b8', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nTo rectify this, we move agent.manage_agent_boot to pxe.manage_pxe_boot\nand lower the scope of the option to only refer to writing pxe configs\nout to the disk. This means that the conductor will still perform an\naction to set the boot device before rebooting the server, causing\ncleaning to succeed.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 4, 'created': '2016-03-29 15:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a6aed7a95f61376e1b0cd7fbfc72e8a01412b4e4', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nTo rectify this, we move agent.manage_agent_boot to pxe.manage_pxe_boot\nand lower the scope of the option to only refer to writing pxe configs\nout to the disk. This means that the conductor will still perform an\naction to set the boot device before rebooting the server, causing\ncleaning to succeed.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 5, 'created': '2016-03-29 23:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29e8723acf132f72ea376cf49e978a98289870b9', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 6, 'created': '2016-03-30 16:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b98e02ad9461e200ff1fac559a522309f218555', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 7, 'created': '2016-03-30 19:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd48819a92535e3dc48a516fcbe94309aa141eda', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 8, 'created': '2016-04-06 00:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d846ef2c6dd7767871f416b6d747f10d45c56e81', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 9, 'created': '2016-04-07 22:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d8af6b2e7f51fcdac400966b09c2b62b4a89313', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 10, 'created': '2016-04-11 18:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b2be80f9f80c1b950fca9b0dd9abfd1e0184e37', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 11, 'created': '2016-04-13 21:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5de51c322b960697c003945c8c47ee6399d7a913', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 12, 'created': '2016-04-13 21:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c684a0af6ab77e840f1fd1cf010321ee614e9c21', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 13, 'created': '2016-04-15 17:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/443d38b1d077d009e98685fe6f049e99ab621e79', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 14, 'created': '2016-06-02 23:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/26eccb4ec64f0d4d2a694a375367e0241df808bb', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 15, 'created': '2016-06-02 23:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d76b4e395ea8160f4c635d179fb8f9b635e1f1fe', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 16, 'created': '2016-06-28 22:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60b4edcd8c4ba912405d5232623a4012ed41fd91', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 17, 'created': '2016-06-28 23:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef754a44111276d0e04695c0379f30ab8d81a8fa', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 18, 'created': '2016-10-11 20:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f98ce6a5a36000399531c31a9b0ea753164b6d9a', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 19, 'created': '2016-10-13 14:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1462b51f3e6e70df771c88c8c86ee9dfd6ae98f9', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 20, 'created': '2016-10-18 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6dcbf9cefc1323c24fd95eecad9984a792d42527', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 21, 'created': '2016-10-21 15:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d74afd00e40ecd7a9a9dc5fba1a8ac52cacf9bc1', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}, {'number': 22, 'created': '2016-11-16 20:13:31.000000000', 'files': ['ironic/conf/pxe.py', 'ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/conf/agent.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'releasenotes/notes/bug-1531229-set-boot-device-before-cleaning-92498dfcd0cd80ae.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/287509edcfc609f0744222ebbb8d37f2012c172f', 'message': ""Make agent driver always PXE before cleaning\n\nironic doesn't always try to set a node to PXE boot before cleaning\nwhen using the agent driver with PXE boot interface when calling\nprepare_inband_cleaning.\n\nThis was a change in behavior when the manage_tftp option was renamed\nto manage_agent_boot. manage_agent_boot is supposed to control whether\nironic hosts the agent image or not, but it now also controls whether\nironic sets nodes to PXE boot when preparing them for inband cleaning.\n\nThis causes cleaning to fail when using the agent driver with\nmanage_agent_boot=False which is used when the agent image is hosted\noutside of ironic.\n\nAn additional side effect of this bug was not running validate() against\nthe boot interface on ramdisk boot if manage_agent_boot was false. This\nwas also fixed as part of moving this configuration option.\n\nTo rectify this, we move and rename the option from\nagent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this\nonly toggles behaviors around TFTP and PXE configurations, ensuring\nthe boot device change happens as expected when cleaning, or anytime\na ramdisk is booted.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nChange-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502\nCloses-Bug: 1531229\n""}]",132,263842,287509edcfc609f0744222ebbb8d37f2012c172f,171,21,22,13295,,,0,"Make agent driver always PXE before cleaning

ironic doesn't always try to set a node to PXE boot before cleaning
when using the agent driver with PXE boot interface when calling
prepare_inband_cleaning.

This was a change in behavior when the manage_tftp option was renamed
to manage_agent_boot. manage_agent_boot is supposed to control whether
ironic hosts the agent image or not, but it now also controls whether
ironic sets nodes to PXE boot when preparing them for inband cleaning.

This causes cleaning to fail when using the agent driver with
manage_agent_boot=False which is used when the agent image is hosted
outside of ironic.

An additional side effect of this bug was not running validate() against
the boot interface on ramdisk boot if manage_agent_boot was false. This
was also fixed as part of moving this configuration option.

To rectify this, we move and rename the option from
agent.manage_agent_boot to pxe.manage_ramdisk_boot and ensure this
only toggles behaviors around TFTP and PXE configurations, ensuring
the boot device change happens as expected when cleaning, or anytime
a ramdisk is booted.

Co-Authored-By: Jay Faulkner <jay@jvf.cc>
Change-Id: I80cd0ed783d68fff13d4b04faec7c9a0ed30b502
Closes-Bug: 1531229
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/263842/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",2,9d35de6721d7770b5bf9056cd23d4446a92735a7,bug/1531229," @mock.patch.object(utils, 'try_set_boot_device') try_set_boot_device_mock, manage_boot=True): try_set_boot_device_mock.assert_called_once_with( task, boot_devices.PXE)", manage_boot=True):,10,1
openstack%2Fpython-tripleoclient~master~I16c53281e6fbfc497730bebb166acc21c5dbf947,openstack/python-tripleoclient,master,I16c53281e6fbfc497730bebb166acc21c5dbf947,Predictable dir for heat launcher,MERGED,2021-02-09 02:21:25.000000000,2021-03-02 17:37:11.000000000,2021-03-02 17:31:12.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 02:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/45097e5a6c5fe87c3e61a1ce72c4d8c2cf7fa448', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-02-10 01:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4af8af6a350f1ad63808e2b323b4dbedec30f0bf', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-02-10 13:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7b64744d913ec492d03a234218e8c0f9bb0b86fb', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-02-12 00:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce7835fa34c3a9d151bc04c6cd7ed606b2d943aa', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2021-02-16 01:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8516d985dfb4ecb51798bebdc7503e2b9ecee9c7', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2021-02-19 01:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb05375b3e8a95b6122f5a71ed1d60f8ffee882d', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 7, 'created': '2021-02-22 22:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cdb6628cd1340bb7e5e7538972f7e53748f94ed1', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 8, 'created': '2021-02-25 02:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d65187635d802116e97f7ca92f414cee4fc8f277', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 9, 'created': '2021-02-25 20:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a5eff4918cfca1b3bba83b37f7d6646b21420d4b', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 10, 'created': '2021-02-25 20:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/70bcaf3dc0de833d834bb6684106b54be84e07ca', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 11, 'created': '2021-03-01 00:52:49.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/051e80d0246b6cd6977ba7dad4829fb931a94e6d', 'message': 'Predictable dir for heat launcher\n\nAdds an option to use the top level directory passed to the Heat\nlauncher class as the working directory for the ephemeral Heat process.\nThe default behavior remains, which is to create a tmp directory under\nthe top level specified dir.\n\nThe option to use a predictable directory will allow for (re)specifying\nthe same directory to restart the ephemeral Heat process with the same\nconfiguration, logs, and db.\n\nChange-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",7,774572,051e80d0246b6cd6977ba7dad4829fb931a94e6d,28,3,11,7144,,,0,"Predictable dir for heat launcher

Adds an option to use the top level directory passed to the Heat
launcher class as the working directory for the ephemeral Heat process.
The default behavior remains, which is to create a tmp directory under
the top level specified dir.

The option to use a predictable directory will allow for (re)specifying
the same directory to restart the ephemeral Heat process with the same
configuration, logs, and db.

Change-Id: I16c53281e6fbfc497730bebb166acc21c5dbf947
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/774572/10 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,45097e5a6c5fe87c3e61a1ce72c4d8c2cf7fa448,ephemeral-heat," use_root=False, use_tmp_dir=True): self.heat_dir = heat_dir if os.path.isdir(self.heat_dir): p = subprocess.Popen(['umount', self.heat_dir], 'it was not mounted): %s' % (self.heat_dir, cmd_stderr)) else: log.info('umount of %s success' % (self.heat_dir)) os.makedirs(self.heat_dir, mode=0o700) (self.heat_dir, e)) (self.heat_dir, e)) 'tmpfs', self.heat_dir], (self.heat_dir, cmd_stderr)) if use_tmp_dir: self.install_dir = tempfile.mkdtemp(prefix='%s/undercloud_deploy-' % self.heat_dir) else: self.install_dir = self.heat_dir self.sql_db = os.path.join(self.install_dir, 'heat.sqlite') self.log_file = os.path.join(self.install_dir, 'heat.log') self.config_file = os.path.join(self.install_dir, 'heat.conf') self.paste_file = os.path.join(self.install_dir, 'api-paste.ini') self.token_file = os.path.join(self.install_dir, 'token_file.json') os.chown(self.install_dir, uid, gid) heat_dir='/var/log/heat-launcher', use_tmp_dir=True): user, heat_dir, False, use_tmp_dir) self.install_dir}, self.install_dir},"," use_root=False): heatdir = heat_dir if os.path.isdir(heatdir): p = subprocess.Popen(['umount', heatdir], 'it was not mounted): %s' % (heatdir, cmd_stderr)) else: log.info('umount of %s success' % (heatdir)) os.makedirs(heatdir, mode=0o700) (heatdir, e)) (heatdir, e)) 'tmpfs', heatdir], (heatdir, cmd_stderr)) self.install_tmp = tempfile.mkdtemp(prefix='%s/undercloud_deploy-' % heatdir) self.sql_db = os.path.join(self.install_tmp, 'heat.sqlite') self.log_file = os.path.join(self.install_tmp, 'heat.log') self.config_file = os.path.join(self.install_tmp, 'heat.conf') self.paste_file = os.path.join(self.install_tmp, 'api-paste.ini') self.token_file = os.path.join(self.install_tmp, 'token_file.json') os.chown(self.install_tmp, uid, gid) heat_dir='/var/log/heat-launcher'): user, heat_dir) self.install_tmp}, self.install_tmp},",32,23
openstack%2Fos-apply-config~stable%2Focata~Iefe3eed322f1102344c6b54531c61a41ce4d227b,openstack/os-apply-config,stable/ocata,Iefe3eed322f1102344c6b54531c61a41ce4d227b,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:54:26.000000000,2021-03-02 17:31:15.000000000,2021-03-02 17:31:15.000000000,"[{'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 09:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/1dd397259516b9778550ec038177f8759f664c5f', 'message': 'Remove tripleo-multinode-container|baremetal-minimal from layout\n\nThe tripleo-multinode-container-minimal and -baremetal-minimal\ntemplates are being deprecated [1] as part of wider tripleo CI\noptimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Iefe3eed322f1102344c6b54531c61a41ce4d227b\n'}, {'number': 2, 'created': '2021-03-02 12:45:48.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/31768f04a30023a0d54099c1aeb80134ffe5dd64', 'message': 'Remove tripleo-multinode-container|baremetal-minimal from layout\n\nThe tripleo-multinode-container-minimal and -baremetal-minimal\ntemplates are being deprecated [1] as part of wider tripleo CI\noptimization at [2].\n\nThis sets the linters/pep8 job to non voting as it is broken\nwith issue seen at [3].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://zuul.opendev.org/t/openstack/build/ac8966befe634bd282c5dcad4ec53c2d\n\nChange-Id: Iefe3eed322f1102344c6b54531c61a41ce4d227b\n'}]",1,777533,31768f04a30023a0d54099c1aeb80134ffe5dd64,12,3,2,8449,,,0,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

This sets the linters/pep8 job to non voting as it is broken
with issue seen at [3].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://zuul.opendev.org/t/openstack/build/ac8966befe634bd282c5dcad4ec53c2d

Change-Id: Iefe3eed322f1102344c6b54531c61a41ce4d227b
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/33/777533/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1dd397259516b9778550ec038177f8759f664c5f,tripleo-ci-reduce,, - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal,0,2
openstack%2Fopenstack-ansible-os_cinder~master~I3d0d401c2024c6051b7fb61a929dd4e6975b0a30,openstack/openstack-ansible-os_cinder,master,I3d0d401c2024c6051b7fb61a929dd4e6975b0a30,Replace deprecated key_manager,MERGED,2021-02-22 15:08:29.000000000,2021-03-02 17:30:56.000000000,2021-03-02 17:28:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-22 15:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/22e2e0298b6b2e440a3fbc28141c1b549870fbb2', 'message': 'Replace deprecated key_manager\n\nUsage of module path is a deprecated behaviour. All cinder docs\nsuggest using just `barbican` for [key_manager]/backend value.\n\nChange-Id: I3d0d401c2024c6051b7fb61a929dd4e6975b0a30\n'}, {'number': 2, 'created': '2021-02-23 15:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/37381ef99e78a6afdc265d2255d3af2afa42b31f', 'message': 'Replace deprecated key_manager\n\nUsage of module path is a deprecated behaviour. All cinder docs\nsuggest using just `barbican` for [key_manager]/backend value.\n\nWe also explicitly specify for barbican to talk over internal\ninterface instead of public which is default behaviour.\n\nChange-Id: I3d0d401c2024c6051b7fb61a929dd4e6975b0a30\n'}, {'number': 3, 'created': '2021-02-23 15:45:48.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/3c0106b97c7312f17939b453b9c5ff0cedf5ffa4', 'message': 'Replace deprecated key_manager\n\nUsage of module path is a deprecated behaviour. All cinder docs\nsuggest using just `barbican` for [key_manager]/backend value.\n\nWe also explicitly specify for barbican to talk over internal\ninterface instead of public which is default behaviour.\n\nChange-Id: I3d0d401c2024c6051b7fb61a929dd4e6975b0a30\n'}]",0,776943,3c0106b97c7312f17939b453b9c5ff0cedf5ffa4,13,3,3,28619,,,0,"Replace deprecated key_manager

Usage of module path is a deprecated behaviour. All cinder docs
suggest using just `barbican` for [key_manager]/backend value.

We also explicitly specify for barbican to talk over internal
interface instead of public which is default behaviour.

Change-Id: I3d0d401c2024c6051b7fb61a929dd4e6975b0a30
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/43/776943/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,22e2e0298b6b2e440a3fbc28141c1b549870fbb2,,backend = barbican,backend = castellan.key_manager.barbican_key_manager.BarbicanKeyManager,1,1
openstack%2Fos-brick~stable%2Fvictoria~I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,openstack/os-brick,stable/victoria,I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,ScaleIO: More connection info backward compatibility,MERGED,2021-02-17 15:23:27.000000000,2021-03-02 17:30:54.000000000,2021-03-02 17:28:30.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 15:23:27.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9317f9facbdce47a7974e39e29c898a96b3434e8', 'message': ""ScaleIO: More connection info backward compatibility\n\nSimilar to I6f01a178616b74ed9a86876ca46e7e46eb360518, this patch\nfixes a compatibility issue when the new connection properties\ndictionary exists, but is missing the 'failed_over' field. This\nsituation may arise when booting a shelved instance whose connection\nproperties were created prior to when the ScaleIO driver was enhanced\nto support replication failover.\n\nRelated-Bug: #1823200\nChange-Id: I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc\n(cherry picked from commit f8de43834b7fc930ed317823c98551092ee04774)\n""}]",0,776216,9317f9facbdce47a7974e39e29c898a96b3434e8,15,4,1,21129,,,0,"ScaleIO: More connection info backward compatibility

Similar to I6f01a178616b74ed9a86876ca46e7e46eb360518, this patch
fixes a compatibility issue when the new connection properties
dictionary exists, but is missing the 'failed_over' field. This
situation may arise when booting a shelved instance whose connection
properties were created prior to when the ScaleIO driver was enhanced
to support replication failover.

Related-Bug: #1823200
Change-Id: I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc
(cherry picked from commit f8de43834b7fc930ed317823c98551092ee04774)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/16/776216/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py']",2,9317f9facbdce47a7974e39e29c898a96b3434e8,scaleio-connector," def test_connection_properties_without_failed_over(self): """"""Handle connection properties with 'failed_over' missing"""""" connection_properties = dict(self.fake_connection_properties) connection_properties.pop('failed_over') self.connector.connect_volume(connection_properties) self.get_password_mock.assert_called_once_with( scaleio.CONNECTOR_CONF_PATH, connection_properties['config_group'], False)",,12,1
openstack%2Fpython-tripleoclient~master~I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf,openstack/python-tripleoclient,master,I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf,Add faultwrap filter to paste pipeline for heat-all,MERGED,2021-01-28 22:50:43.000000000,2021-03-02 17:30:11.000000000,2021-03-02 17:25:44.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 22:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9d3fd89959770fdfb86832adc3457112b9da18b4', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-01-29 20:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e73a1ab4f301b338285748cac2487eeb51b6b754', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-02-02 13:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dee4a7eecb60cbd572af3bdba533aafb8c6c2251', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-02-09 02:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a0af82abd39a662c90554e04eaaf6684f8365963', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2021-02-10 01:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1a5f9c33c2112803d647b50c2a234a359ed32cbf', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2021-02-12 00:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0244380d2f2ebd7c5baf87b5822b3289d22fa77d', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 7, 'created': '2021-02-16 01:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8cfa81b6e813cd0da00547f481171ffeafce99d', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 8, 'created': '2021-02-19 01:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8c5e7f90be312060ef2a380db419f8b9cec508d', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 9, 'created': '2021-02-22 22:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ab8526ae51b6b443aae4fef40acd5334b312d8c', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 10, 'created': '2021-02-25 02:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e635e31f501240589143e0b321d356be20765488', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 11, 'created': '2021-02-25 20:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8062a176818feee4a435f95a20c47e6a9ecdfd86', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 12, 'created': '2021-02-25 20:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f1126d740467f12d6201e81c0a32be43a7215932', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 13, 'created': '2021-03-01 00:52:49.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/54d7271c669ac998a2e9c6896d1af201ce0cb2ae', 'message': 'Add faultwrap filter to paste pipeline for heat-all\n\nWithout using the faultwrap filter, exceptions raised by heat-engine are\nnot translated into HTTPException subclasses that are understood by\nwebob.\n\nThis causes the exceptions to not be appropriately handled and the\ncorrect HTTP codes are not returned to the client. Instead the exception\nis assumed to be a 500 Internal Server Error instead of an informative\nHTTP code (such as 404 for stack not found). Several spots in\ntripleoclient/tripleo-common rely on known HTTP codes (such as 404)\nbeing returned, so this commit adds the faultwrap filter to do the\ntranslation.\n\nChange-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,772952,54d7271c669ac998a2e9c6896d1af201ce0cb2ae,32,4,13,7144,,,0,"Add faultwrap filter to paste pipeline for heat-all

Without using the faultwrap filter, exceptions raised by heat-engine are
not translated into HTTPException subclasses that are understood by
webob.

This causes the exceptions to not be appropriately handled and the
correct HTTP codes are not returned to the client. Instead the exception
is assumed to be a 500 Internal Server Error instead of an informative
HTTP code (such as 404 for stack not found). Several spots in
tripleoclient/tripleo-common rely on known HTTP codes (such as 404)
being returned, so this commit adds the faultwrap filter to do the
translation.

Change-Id: I9cb25e6de5acce7e433aa559ca515ee7f3eb8dbf
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/772952/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,9d3fd89959770fdfb86832adc3457112b9da18b4,ephemeral-heat,pipeline = faultwrap noauth context versionnegotiation apiv1app[filter:faultwrap] paste.filter_factory = heat.common.wsgi:filter_factory heat.filter_factory = heat.api.openstack:faultwrap_filter,pipeline = noauth context versionnegotiation apiv1app,4,1
openstack%2Fpuppet-openstack-integration~master~I62f35dce338ae186a217dd1d0a141d3a737243a0,openstack/puppet-openstack-integration,master,I62f35dce338ae186a217dd1d0a141d3a737243a0,pin bundler to 2.2.11,MERGED,2021-03-02 12:37:00.000000000,2021-03-02 17:26:23.000000000,2021-03-02 17:26:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 12:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3fe367ae663dfbb2cfb6e35cbe80585dfd7f839d', 'message': 'WIP: pin bundler\n\nChange-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0\n'}, {'number': 2, 'created': '2021-03-02 12:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/697f16b1244d8aa949f31cbad5567511a964fcef', 'message': 'WIP: pin bundler\n\nChange-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0\n'}, {'number': 3, 'created': '2021-03-02 14:04:03.000000000', 'files': ['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-lint-tests.yaml', 'playbooks/run-litmus-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4d2d86e0df434ee25a508aceb1ea209a0c64f80b', 'message': ""pin bundler to 2.2.11\n\nIt seems the latest 2.2.12 requires rake>13.0 installed and that\nrequirement doesn't work well in current our CI jobs.\nLet's pin it to the previous version until we resolve the issue.\n\nThis change also removes the pin for the very old Ruby version.\n\nCloses-Bug: #1917457\nChange-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0\n""}]",0,778184,4d2d86e0df434ee25a508aceb1ea209a0c64f80b,10,5,3,9816,,,0,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/84/778184/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-litmus-tests.yaml']",4,3fe367ae663dfbb2cfb6e35cbe80585dfd7f839d,bug/1917457, cmd += ' -v 2.2.11', if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end,4,12
openstack%2Fopenstack-ansible-os_magnum~master~Ia72bb3dfb405599595fad1d26a4e360db22d8362,openstack/openstack-ansible-os_magnum,master,Ia72bb3dfb405599595fad1d26a4e360db22d8362,Adding Functional Tests for Ansible Magnum plugin,ABANDONED,2016-09-27 20:56:11.000000000,2021-03-02 17:12:46.000000000,,[{'_account_id': 14805}],"[{'number': 1, 'created': '2016-09-27 20:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/5d4d0755f0f1d7a36a147832ae176f810a4c06ed', 'message': 'Adding Functional Tests for Ansible Magnum plugin\n\nThis patch adds functional testing for creation and deletion\nof Cluster Templates via the Magnum plugin for Ansible.\n\nChange-Id: Ia72bb3dfb405599595fad1d26a4e360db22d8362\nDepends-On: Ib9c986b5abe3f42b663af9981bed43c9aae8036d\nDepends-On: I6e158001acf9b6d6f924a5459142ee87eba09ff2\n'}, {'number': 2, 'created': '2016-10-06 18:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/4cf71f78f114b44f7e99a811b108c94e64c7a64d', 'message': 'Adding Functional Tests for Ansible Magnum plugin\n\nThis patch adds functional testing for creation and deletion\nof Cluster Templates via the Magnum plugin for Ansible.\n\nChange-Id: Ia72bb3dfb405599595fad1d26a4e360db22d8362\nDepends-On: Ib9c986b5abe3f42b663af9981bed43c9aae8036d\nDepends-On: I6e158001acf9b6d6f924a5459142ee87eba09ff2\n'}, {'number': 3, 'created': '2016-10-06 18:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/73ee69f3129f36f2a34e8db27479109acbb4caac', 'message': 'Adding Functional Tests for Ansible Magnum plugin\n\nThis patch adds functional testing for creation and deletion\nof Cluster Templates via the Magnum plugin for Ansible.\n\nChange-Id: Ia72bb3dfb405599595fad1d26a4e360db22d8362\nDepends-On: Ib9c986b5abe3f42b663af9981bed43c9aae8036d\nDepends-On: I6e158001acf9b6d6f924a5459142ee87eba09ff2\n'}, {'number': 4, 'created': '2016-10-06 18:57:53.000000000', 'files': ['tests/ansible-magnum-functional.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/5521dba486b62db6e99ad90f0bd702964a884bfc', 'message': 'Adding Functional Tests for Ansible Magnum plugin\n\nThis patch adds functional testing for creation and deletion\nof Cluster Templates via the Magnum plugin for Ansible.\n\nChange-Id: Ia72bb3dfb405599595fad1d26a4e360db22d8362\nDepends-On: Ib9c986b5abe3f42b663af9981bed43c9aae8036d\nDepends-On: I6e158001acf9b6d6f924a5459142ee87eba09ff2\n'}]",0,378030,5521dba486b62db6e99ad90f0bd702964a884bfc,11,1,4,20446,,,0,"Adding Functional Tests for Ansible Magnum plugin

This patch adds functional testing for creation and deletion
of Cluster Templates via the Magnum plugin for Ansible.

Change-Id: Ia72bb3dfb405599595fad1d26a4e360db22d8362
Depends-On: Ib9c986b5abe3f42b663af9981bed43c9aae8036d
Depends-On: I6e158001acf9b6d6f924a5459142ee87eba09ff2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/30/378030/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-magnum-functional.yml'],1,5d4d0755f0f1d7a36a147832ae176f810a4c06ed,add-magnum-plugin,--- - name: Playbook for functional testing of Ansible Magnum plugin hosts: utility_all user: root tasks: - name: Upload Glance Image glance: command: 'image-create' insecure: '{{ keystone_service_internaluri_insecure }}' openrc_path: /root/openrc image_name: fedora-atomic-latest image_disk_format: qcow2 image_container_format: bare image_is_public: false image_url: https://fedorapeople.org/groups/magnum/fedora-atomic-latest.qcow2 image_properties: os_distro: fedora-atomic - name: Create Cluster Template magnum: action: 'template-present' name: 'swarm-dev-test' openrc_path: '/root/openrc' insecure: True keypair: 'testkey' image: 'fedora-atomic-latest' external_network: 'public' dns_nameserver: '8.8.8.8' flavor: 'm1.small' docker_volume_size: 5 coe: 'swarm' public: 'false' - name: Get Cluster Template list shell: | . /root/openrc magnum cluster-template-list register: magnum_cluster_template_list - debug: var=magnum_cluster_template_list - name: Verify Cluster Template exists assert: that: magnum_cluster_template_list.stdout.find('swarm-dev-test') != -1 - name: Delete Cluster Template magnum: action: 'template-absent' name: 'swarm-dev-test' openrc_path: '/root/openrc' insecure: True - name: Get Cluster Template list shell: | . /root/openrc magnum cluster-template-list register: magnum_cluster_template_list - name: Verify Cluster Template does not exist assert: that: magnum_cluster_template_list.stdout.find('swarm-dev-test') == -1 ,,61,0
openstack%2Fopenstack-helm~master~I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09,openstack/openstack-helm,master,I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09,Mount /dev/pts in nova-compute container,MERGED,2021-02-18 03:16:48.000000000,2021-03-02 16:57:25.000000000,2021-03-02 16:53:44.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-18 03:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73420508dd31d9738832b37b4779a140863100b6', 'message': 'Mount /dev/pts in nova-compute container\n\nNova will check if pty device exist or not under /dev/pts\nwhen get console log.\nIf it does not exist, cannot get console log.\n\nChange-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09\n'}, {'number': 2, 'created': '2021-02-18 13:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c06a940b7515dee2474b3cf33dd1e9ff65159751', 'message': 'Mount /dev/pts in nova-compute container\n\nNova will check if pty device exist or not under /dev/pts\nwhen get console log.\nIf it does not exist, cannot get console log.\n\nChange-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09\n'}, {'number': 3, 'created': '2021-02-18 13:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ced454f72a44106b6746e77a8b55b7ffce9c253', 'message': 'Mount /dev/pts in nova-compute container\n\nNova will check if pty device exist or not under /dev/pts\nwhen get console log.\nIf it does not exist, cannot get console log.\nref: https://review.opendev.org/c/starlingx/config/+/660268\n\nChange-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09\n'}, {'number': 4, 'created': '2021-02-18 15:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/25158410b1a6451ea279db52356cf3602547dbd4', 'message': 'Mount /dev/pts in nova-compute container\n\nNova will check if pty device exist or not under /dev/pts\nwhen get console log.\nIf it does not exist, cannot get console log.\nref: https://review.opendev.org/c/starlingx/config/+/660268\n\nChange-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09\n'}, {'number': 5, 'created': '2021-02-22 16:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ade26b1d5156987148d81e72a7025c84f119167', 'message': 'Mount /dev/pts in nova-compute container\n\nNova will check if pty device exist or not under /dev/pts\nwhen get console log.\nIf it does not exist, cannot get console log.\nref: https://review.opendev.org/c/starlingx/config/+/660268\n\nChange-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09\n'}, {'number': 6, 'created': '2021-02-22 17:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4e5d56ec76b508a50057992f7bab47a17d1bcc93', 'message': 'Mount /dev/pts in nova-compute container\n\nNova will check if pty device exist or not under /dev/pts\nwhen get console log.\nIf it does not exist, cannot get console log.\nref: https://review.opendev.org/c/starlingx/config/+/660268\n\nChange-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09\n'}, {'number': 7, 'created': '2021-03-01 15:44:34.000000000', 'files': ['releasenotes/notes/nova.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/04d600c5b0f6f46e85c2a9b05f514a141f56fb31', 'message': 'Mount /dev/pts in nova-compute container\n\nNova will check if pty device exist or not under /dev/pts\nwhen get console log.\nIf it does not exist, cannot get console log.\nref: https://review.opendev.org/c/starlingx/config/+/660268\n\nChange-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09\n'}]",0,776305,04d600c5b0f6f46e85c2a9b05f514a141f56fb31,30,5,7,31746,,,0,"Mount /dev/pts in nova-compute container

Nova will check if pty device exist or not under /dev/pts
when get console log.
If it does not exist, cannot get console log.
ref: https://review.opendev.org/c/starlingx/config/+/660268

Change-Id: I2793d1f51c18e81a4271b8b0c50bfe1a2dab8a09
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/05/776305/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/daemonset-compute.yaml'],1,73420508dd31d9738832b37b4779a140863100b6,, - name: dev-pts mountPath: /dev/pts - name: dev-pts hostPath: path: /dev/pts,,5,1
openstack%2Fcinder~master~Ib1c55ccb05c64566c687ec0722ae1cf245e19b81,openstack/cinder,master,Ib1c55ccb05c64566c687ec0722ae1cf245e19b81,Fix quota usage wrong when delete snapshot with volume retype,NEW,2020-05-06 17:57:46.000000000,2021-03-02 16:45:39.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30636}, {'_account_id': 30688}, {'_account_id': 31980}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-05-06 17:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5ca263fac115d9af031eab74540ac014d46ecc8', 'message': 'Fix quota usage wrong when delete snapshot with volume retype\n\nWhen delete snapshot, use volume_type_id of itself to calculate quota usage\n\nChange-Id: Ib1c55ccb05c64566c687ec0722ae1cf245e19b81\nCloses-Bug: #1877164\n'}, {'number': 2, 'created': '2020-09-28 03:19:22.000000000', 'files': ['cinder/tests/unit/volume/test_volume_retype.py', 'cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/822d15571bfd4888beb88d4b161eda83c3834114', 'message': 'Fix quota usage wrong when delete snapshot with volume retype\n\nWhen delete snapshot, use volume_type_id of itself to calculate quota usage\n\nChange-Id: Ib1c55ccb05c64566c687ec0722ae1cf245e19b81\nCloses-Bug: #1877164\n'}]",3,725951,822d15571bfd4888beb88d4b161eda83c3834114,77,41,2,31662,,,0,"Fix quota usage wrong when delete snapshot with volume retype

When delete snapshot, use volume_type_id of itself to calculate quota usage

Change-Id: Ib1c55ccb05c64566c687ec0722ae1cf245e19b81
Closes-Bug: #1877164
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/725951/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,a5ca263fac115d9af031eab74540ac014d46ecc8,bug/1877164, snapshot.volume_type_id)," volume_ref = self.db.volume_get(context, snapshot.volume_id) volume_ref.get('volume_type_id'))",1,2
openstack%2Fkolla-ansible~master~I97eb8441466f8c6abdbd66068257765bdbe32d4d,openstack/kolla-ansible,master,I97eb8441466f8c6abdbd66068257765bdbe32d4d,Add Monasca Grafana security note,MERGED,2021-02-16 10:44:43.000000000,2021-03-02 16:40:12.000000000,2021-03-02 16:35:57.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-16 10:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6033729dc1459a604f6f9367ddb2fc3aea92cbe9', 'message': 'Add Monasca Grafana security note\n\nUpdate the Monasca docs to improve security considerations.\n\nTrivial-Fix\nChange-Id: I97eb8441466f8c6abdbd66068257765bdbe32d4d\n'}, {'number': 2, 'created': '2021-02-16 11:34:08.000000000', 'files': ['releasenotes/notes/add-monasca-grafana-security-warning-0d3743122ccec331.yaml', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6af802d163b372078e205419e86ee3fa9fac51cb', 'message': 'Add Monasca Grafana security note\n\nUpdate the Monasca docs to improve security considerations.\n\nTrivial-Fix\nChange-Id: I97eb8441466f8c6abdbd66068257765bdbe32d4d\n'}]",2,775800,6af802d163b372078e205419e86ee3fa9fac51cb,17,4,2,17669,,,0,"Add Monasca Grafana security note

Update the Monasca docs to improve security considerations.

Trivial-Fix
Change-Id: I97eb8441466f8c6abdbd66068257765bdbe32d4d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/775800/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-monasca-grafana-security-warning-0d3743122ccec331.yaml', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst']",2,6033729dc1459a604f6f9367ddb2fc3aea92cbe9,,"Before enabling Monasca, read the :ref:`Security impact` section and decide whether you need to configure a firewall, and/or wish to prevent users from accessing Monasca services. The Monasca API, Log API and Grafana fork will be exposed on public endpoints via HAProxy/Keepalived. If your public endpoints are exposed externally, then you should use a firewall to restrict access. In particular, external access to the Monasca Grafana endpoint should be blocked, since it is effectively unmaintained and is likely to contain unpatched vulnerabilities. You should also consider whether you wish to allow tenants to access these services on the internal network.",The Monasca API and the Monasca Log API will be exposed on public endpoints via HAProxy/Keepalived.,17,2
openstack%2Fopenstack-ansible-ops~stable%2Fvictoria~Ifbc8fda9c0db51dc09c50629f34682f5d8373bed,openstack/openstack-ansible-ops,stable/victoria,Ifbc8fda9c0db51dc09c50629f34682f5d8373bed,"Fixes for tests and gates, stable/victoria",MERGED,2021-03-01 22:25:08.000000000,2021-03-02 16:40:08.000000000,2021-03-02 16:29:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-01 22:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5a8b0bb612ab8b88e791493635f6a092e80b2867', 'message': 'Fixes for tests and gates, stable/victoria\n\nUse stable/victoria for requirements, bump ansible to the version\nused in stable/victoria.\n\nChange-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed\n'}, {'number': 2, 'created': '2021-03-01 22:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/afaf70b5224a9b7a69ba862f8c19cecaff4e8d9f', 'message': 'Fixes for tests and gates, stable/victoria\n\nUse stable/victoria for requirements.\nBump ansible to the version used in stable/victoria.\nClean up zuul config\n\nChange-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed\n'}, {'number': 3, 'created': '2021-03-01 23:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0b23fd786dae8d34dcc93bd0f9543257ce53f89b', 'message': 'Fixes for tests and gates, stable/victoria\n\nUse stable/victoria for requirements.\nBump ansible to the version used in stable/victoria.\nPrefer python3 over python2\nClean up zuul config\n\nChange-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed\n'}, {'number': 4, 'created': '2021-03-02 00:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bc923685ca9ab161f63501794ffd00dcb7f5e635', 'message': ""Fixes for tests and gates, stable/victoria\n\nUse stable/victoria for requirements.\nStop using forked galera_server role, now that 633321 is merged\nBump ansible to the version used in stable/victoria.\nPrefer python3 over python2\nPin elastic_curator to <=5.7.0\nILM doesn't like bodies from GET requests\nFix ansible str vs int comparison\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nClean up zuul config\n\nChange-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed\n""}, {'number': 5, 'created': '2021-03-02 01:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4a1a2467d59949d7e35d801f36f0294f7041185a', 'message': ""Fixes for tests and gates, stable/victoria\n\nUse stable/victoria for requirements.\nStop using forked galera_server role, now that 633321 is merged\nBump ansible to the version used in stable/victoria.\nPrefer python3 over python2\nPin elastic_curator to <=5.7.0\nILM doesn't like bodies from GET requests\nFix ansible str vs int comparison\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nClean up zuul config\n\nChange-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed\n""}, {'number': 6, 'created': '2021-03-02 02:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2a3e0e1f1c0a652f4b24a233f3fe2713f65a5ca3', 'message': ""Fixes for tests and gates, stable/victoria\n\nUse stable/victoria for requirements.\nStop using forked galera_server role, now that 633321 is merged\nBump ansible to the version used in stable/victoria.\nPrefer python3 over python2\nPin elastic_curator to <=5.7.0\nILM doesn't like bodies from GET requests\nFix ansible str vs int comparison\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nForce osquery inventory to use python3\nClean up zuul config\n\nChange-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed\n""}, {'number': 7, 'created': '2021-03-02 05:33:52.000000000', 'files': ['elk_metrics_6x/roles/elastic_curator/tasks/main.yml', 'skydive/ansible-role-requirements.yml', 'osquery/tests/inventory/test-metal-inventory.yml', 'elk_metrics_6x/ansible-role-requirements.yml', 'elk_metrics_7x/tests/ansible-role-requirements.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'elk_metrics_7x/createElasticIndexes.yml', 'osquery/installDB.yml', 'osquery/tests/ansible-role-requirements.yml', 'bootstrap-embedded-ansible/ansible-requirements.yml', 'elk_metrics_7x/roles/elastic_ilm/tasks/elastic_ilm_update_policy.yml', 'osquery/ansible-role-requirements.yml', 'elk_metrics_6x/tests/ansible-role-requirements.yml', 'elk_metrics_6x/createElasticIndexes.yml', 'skydive/tests/ansible-role-requirements.yml', 'elk_metrics_7x/ansible-role-requirements.yml', 'zuul.d/project.yaml', 'elk_metrics_6x/roles/elastic_curator/vars/ubuntu.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/52991a58c771c1881dcba9e7776825f292d39398', 'message': ""Fixes for tests and gates, stable/victoria\n\nUse stable/victoria for requirements.\nStop using forked galera_server role, now that 633321 is merged\nBump ansible to the version used in stable/victoria.\nPrefer python3 over python2\nPin elastic_curator to <=5.7.0\nILM doesn't like bodies from GET requests\nFix ansible str vs int comparison\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nForce osquery inventory to use python3\nInstall galera_{client,server} for osquery\nClean up zuul config\n\nChange-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed\n""}]",0,778084,52991a58c771c1881dcba9e7776825f292d39398,20,3,7,25600,,,0,"Fixes for tests and gates, stable/victoria

Use stable/victoria for requirements.
Stop using forked galera_server role, now that 633321 is merged
Bump ansible to the version used in stable/victoria.
Prefer python3 over python2
Pin elastic_curator to <=5.7.0
ILM doesn't like bodies from GET requests
Fix ansible str vs int comparison
Print a message if setting defaultIndex in kibana 6 fails
Use saved_objects API for setting defaultIndex in kibana 7
Force osquery inventory to use python3
Install galera_{client,server} for osquery
Clean up zuul config

Change-Id: Ifbc8fda9c0db51dc09c50629f34682f5d8373bed
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/84/778084/3 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/tests/ansible-role-requirements.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh']",2,5a8b0bb612ab8b88e791493635f6a092e80b2867,,"export ANSIBLE_VERSION=""${ANSIBLE_VERSION:-2.10.5}"" apt-get -y install virtualenv zypper install -y insserv yum install -y python3-virtualenv","export ANSIBLE_VERSION=""${ANSIBLE_VERSION:-2.7.5.0}"" apt-get -y install python-virtualenv yum install -y python-virtualenv",12,11
openstack%2Fopenstack-ansible~master~I8b923ad5bf4d67e1d41bb3a5ba5b00f93aac8abf,openstack/openstack-ansible,master,I8b923ad5bf4d67e1d41bb3a5ba5b00f93aac8abf,[doc] Fix Docker latest_tag parser,MERGED,2021-02-15 15:47:18.000000000,2021-03-02 16:19:33.000000000,2021-03-02 16:15:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-15 15:47:18.000000000', 'files': ['deploy-guide/source/deploymenthost.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a174d5d7227def4fcd621e0ac9449bdb2fd35a4a', 'message': '[doc] Fix Docker latest_tag parser\n\nChange-Id: I8b923ad5bf4d67e1d41bb3a5ba5b00f93aac8abf\n'}]",0,775670,a174d5d7227def4fcd621e0ac9449bdb2fd35a4a,8,3,1,28619,,,0,"[doc] Fix Docker latest_tag parser

Change-Id: I8b923ad5bf4d67e1d41bb3a5ba5b00f93aac8abf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/775670/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deploymenthost.rst'],1,a174d5d7227def4fcd621e0ac9449bdb2fd35a4a,, .. parsed-literal:: .. parsed-literal::#. Configure NTP to synchronize with a suitable time source on the Docker host. , .. code-block:: dockerfile .. code-block:: shell-session#. Configure NTP to synchronize with a suitable time source on the Docker host.,3,3
openstack%2Ftempest~master~Ia102acea773bd80d933a7e0a19b447f91134f81f,openstack/tempest,master,Ia102acea773bd80d933a7e0a19b447f91134f81f,Make _get_network_by_name() non-private,MERGED,2021-02-24 10:18:38.000000000,2021-03-02 16:15:13.000000000,2021-03-02 16:12:32.000000000,"[{'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-24 10:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba9fc3a4f696414f0fded2f8cbbd1ae1ed9df0e0', 'message': 'Make _get_network_by_name() non-private\n\n_get_network_by_name() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ia102acea773bd80d933a7e0a19b447f91134f81f\n'}, {'number': 2, 'created': '2021-02-25 07:29:31.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c37410fc14477a9d63eb2314a6d994cb0def764a', 'message': 'Make _get_network_by_name() non-private\n\n_get_network_by_name() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ia102acea773bd80d933a7e0a19b447f91134f81f\n'}]",1,777351,c37410fc14477a9d63eb2314a6d994cb0def764a,12,7,2,30742,,,0,"Make _get_network_by_name() non-private

_get_network_by_name() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: Ia102acea773bd80d933a7e0a19b447f91134f81f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/777351/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,ba9fc3a4f696414f0fded2f8cbbd1ae1ed9df0e0,bp/tempest-scenario-manager-stable, network = self.get_network_by_name(, network = self._get_network_by_name(,1,1
openstack%2Fironic-python-agent~master~I9405995915a874b00b7177c9642c5469d05d66a8,openstack/ironic-python-agent,master,I9405995915a874b00b7177c9642c5469d05d66a8,Increase the memory limit for qemu-img,MERGED,2021-03-01 17:10:12.000000000,2021-03-02 16:07:05.000000000,2021-03-02 16:03:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-01 17:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a1f79fa0b49f0a1dba3822b60012b8d0ed1f21cd', 'message': ""Increase the memory limit for qemu-img\n\nWe appear to be bumping up against this limit when deploying\nRHCOS images(currently 977MB). Curiously the problem isn't\nhappening all the time but increasing the limit eliminates it.\n\nThis limit was intruduced to guard against a malicious image\nallocating an arbitrary amount of memory. Nothing else runs\non hosts when IPA is running so we should be ok bumping up\nthe limit.\n\nStory: #2008667\nTask: #41955\nChange-Id: I9405995915a874b00b7177c9642c5469d05d66a8\n""}, {'number': 2, 'created': '2021-03-02 10:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/394f9b0391a870667d57cff869ad2a7f59052025', 'message': ""Increase the memory limit for qemu-img\n\nWe appear to be bumping up against this limit when deploying\nRHCOS images(currently 977MB). Curiously the problem isn't\nhappening all the time but increasing the limit eliminates it.\n\nThis limit was intruduced to guard against a malicious image\nallocating an arbitrary amount of memory. Nothing else runs\non hosts when IPA is running so we should be ok bumping up\nthe limit.\n\nStory: #2008667\nTask: #41955\nChange-Id: I9405995915a874b00b7177c9642c5469d05d66a8\n""}, {'number': 3, 'created': '2021-03-02 11:39:37.000000000', 'files': ['ironic_python_agent/shell/write_image.sh', 'releasenotes/notes/up-qemuimg-mem-1536183a02b3a235.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5492ad7da59571581e9f70fd054efafb39e12593', 'message': ""Increase the memory limit for qemu-img\n\nWe appear to be bumping up against this limit when deploying\nRHCOS images(currently 977MB). Curiously the problem isn't\nhappening all the time but increasing the limit eliminates it.\n\nThis limit was intruduced to guard against a malicious image\nallocating an arbitrary amount of memory. Nothing else runs\non hosts when IPA is running so we should be ok bumping up\nthe limit.\n\nStory: #2008667\nTask: #41955\nChange-Id: I9405995915a874b00b7177c9642c5469d05d66a8\n""}]",1,778035,5492ad7da59571581e9f70fd054efafb39e12593,14,3,3,1926,,,0,"Increase the memory limit for qemu-img

We appear to be bumping up against this limit when deploying
RHCOS images(currently 977MB). Curiously the problem isn't
happening all the time but increasing the limit eliminates it.

This limit was intruduced to guard against a malicious image
allocating an arbitrary amount of memory. Nothing else runs
on hosts when IPA is running so we should be ok bumping up
the limit.

Story: #2008667
Task: #41955
Change-Id: I9405995915a874b00b7177c9642c5469d05d66a8
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/35/778035/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/shell/write_image.sh'],1,a1f79fa0b49f0a1dba3822b60012b8d0ed1f21cd,,# limit the memory usage for qemu-img to 2 GiB ulimit -v 2097152,# limit the memory usage for qemu-img to 1 GiB ulimit -v 1048576,2,2
openstack%2Finstack-undercloud~stable%2Focata~Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d,openstack/instack-undercloud,stable/ocata,Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d,Remove tripleo multinode baremetal and undercloud templates,ABANDONED,2021-02-24 11:46:58.000000000,2021-03-02 15:55:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 11:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c9cf4560febb22f380658422485d24b1cfcc7d94', 'message': 'Remove tripleo multinode baremetal and undercloud templates\n\nThe tripleo-multinode-container-minimal is being removed at [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d\n'}, {'number': 2, 'created': '2021-02-26 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/b763afe3b6bdafcdcd333936366faf272e7596b2', 'message': 'Remove tripleo multinode baremetal and undercloud templates\n\nThe tripleo-multinode-container-minimal is being removed at [1]\nas part of wider tripleo CI optimization at [2]. Also removes\nsphinx version restriction in test-requirements to deal with issue\nseen at [3]\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://zuul.opendev.org/t/openstack/build/51cc8799ead0404fa5c0a5aafd009c15\n\nChange-Id: Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d\n'}, {'number': 3, 'created': '2021-03-01 12:46:02.000000000', 'files': ['test-requirements.txt', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/062a49a2a4d1d82a8d611eea8cd32d8a441fa14e', 'message': 'Remove tripleo multinode baremetal and undercloud templates\n\nThe tripleo-multinode-container-minimal is being removed at [1]\nas part of wider tripleo CI optimization at [2]. Also removes\nsphinx and sphinx_rtd_theme restriction in test-requirements to\ndeal with issue seen at [3] and [4]\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://zuul.opendev.org/t/openstack/build/51cc8799ead0404fa5c0a5aafd009c15\n[4] https://zuul.opendev.org/t/openstack/build/50764f88c10d45248096e430cd2789af\n\nChange-Id: Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d\n'}]",0,777368,062a49a2a4d1d82a8d611eea8cd32d8a441fa14e,17,2,3,8449,,,0,"Remove tripleo multinode baremetal and undercloud templates

The tripleo-multinode-container-minimal is being removed at [1]
as part of wider tripleo CI optimization at [2]. Also removes
sphinx and sphinx_rtd_theme restriction in test-requirements to
deal with issue seen at [3] and [4]

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://zuul.opendev.org/t/openstack/build/51cc8799ead0404fa5c0a5aafd009c15
[4] https://zuul.opendev.org/t/openstack/build/50764f88c10d45248096e430cd2789af

Change-Id: Ifd8bbdc99e2f4c9ec9a1248a56056d42ec800a0d
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/68/777368/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c9cf4560febb22f380658422485d24b1cfcc7d94,,, - tripleo-undercloud-jobs - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal,0,3
openstack%2Finstack-undercloud~stable%2Fpike~I44c5223348a0e73bd7c31eb753a6cf733d254a71,openstack/instack-undercloud,stable/pike,I44c5223348a0e73bd7c31eb753a6cf733d254a71,Remove tripleo multinode baremetal and undercloud templates,ABANDONED,2021-02-24 11:49:17.000000000,2021-03-02 15:55:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 11:49:17.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4650b80fffb061f19339789203ff3f276542427c', 'message': 'Remove tripleo multinode baremetal and undercloud templates\n\nThe tripleo-multinode-container-minimal is being removed at [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I44c5223348a0e73bd7c31eb753a6cf733d254a71\n'}]",0,777370,4650b80fffb061f19339789203ff3f276542427c,10,2,1,8449,,,0,"Remove tripleo multinode baremetal and undercloud templates

The tripleo-multinode-container-minimal is being removed at [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I44c5223348a0e73bd7c31eb753a6cf733d254a71
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/70/777370/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,4650b80fffb061f19339789203ff3f276542427c,,, - tripleo-undercloud-jobs - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal,0,3
openstack%2Fkuryr-tempest-plugin~master~Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f,openstack/kuryr-tempest-plugin,master,Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f,Refactor test_namespace,ABANDONED,2019-11-28 13:51:04.000000000,2021-03-02 15:37:17.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-28 13:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f0c8f5e2bb201b9a40fc5eb7c903c44e2e093e81', 'message': 'Refactor test_namespace\n\nThis commit refactors and fixes some issues with test_namespace. In\nparticular:\n\n* Take care of namespace deletions after test is done.\n* Rewrite waiting code to use test_utils.call_until_true().\n\nChange-Id: Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f\n'}, {'number': 2, 'created': '2019-11-28 13:55:31.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5502b4a5dd95774eb8771d1134bc5a207ede383c', 'message': 'Refactor test_namespace\n\nThis commit refactors and fixes some issues with test_namespace. In\nparticular:\n\n* Take care of namespace deletions after test is done.\n* Rewrite waiting code to use test_utils.call_until_true().\n\nChange-Id: Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f\n'}]",4,696576,5502b4a5dd95774eb8771d1134bc5a207ede383c,10,3,2,11600,,,0,"Refactor test_namespace

This commit refactors and fixes some issues with test_namespace. In
particular:

* Take care of namespace deletions after test is done.
* Rewrite waiting code to use test_utils.call_until_true().

Change-Id: Ic08d76f6c3cebdebd7fe13a254c8e22eb186648f
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/76/696576/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,f0c8f5e2bb201b9a40fc5eb7c903c44e2e093e81,namespace-fixes," def create_namespace(self, name=None, wait_for_crd_annotation=True): namespace = self.k8s_client.V1Namespace() namespace.metadata = self.k8s_client.V1ObjectMeta(name=name) namespace_obj = self.k8s_client.CoreV1Api().create_namespace( self.addCleanup(self.delete_namespace, name) # wait until namespace gets populated by Kuryr while wait_for_crd_annotation: ns = self.k8s_client.CoreV1Api().read_namespace_status(name) ns.metadata.annotations.get(kuryr_crd_annotation)): def delete_namespace(self, name, wait_for_deletion=False, **kwargs): body = self.k8s_client.V1DeleteOptions(**kwargs) self.k8s_client.CoreV1Api().delete_namespace(name=name, body=body) if wait_for_deletion: def namespace_deleted(): try: self.k8s_client.CoreV1Api().read_namespace(name) except kubernetes.client.rest.ApiException as e: if e.status == 404: return True return False self.assertTrue( test_utils.call_until_true(namespace_deleted, 120, 1), ""Namespace %s not deleted in time"" % name) def list_namespaces(self, **kwargs): return self.k8s_client.CoreV1Api().list_namespace(**kwargs)"," @classmethod def create_namespace(cls, name=None, wait_for_crd_annotation=True): namespace = cls.k8s_client.V1Namespace() namespace.metadata = cls.k8s_client.V1ObjectMeta(name=name) namespace_obj = cls.k8s_client.CoreV1Api().create_namespace( # wait until namespace gets created while True: ns = cls.k8s_client.CoreV1Api().read_namespace_status(name) (not wait_for_crd_annotation or ns.metadata.annotations.get(kuryr_crd_annotation))): @classmethod def delete_namespace(cls, name, **kwargs): body = cls.k8s_client.V1DeleteOptions(**kwargs) cls.k8s_client.CoreV1Api().delete_namespace(name=name, body=body) @classmethod def list_namespaces(cls, **kwargs): return cls.k8s_client.CoreV1Api().list_namespace(**kwargs)",39,40
openstack%2Fkuryr-tempest-plugin~master~Ib223e968cf8fbe067155d2b50265b122fed38cfa,openstack/kuryr-tempest-plugin,master,Ib223e968cf8fbe067155d2b50265b122fed38cfa,Remove raising exceptions to indicate failure,ABANDONED,2018-10-03 16:46:48.000000000,2021-03-02 15:37:16.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-03 16:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2ce5bde9046aa2751a609d272512dc4eab947682', 'message': ""Remove raising exceptions to indicate failure\n\nThis commit aims to remove raising various Tempest exceptions instead of\ndoing assertions with error messages. This should make debugging of\nTempest failures in the gate much easier. Some of the loops waiting for\nresources are rewritten to use test_utils.call_until_true() to remove\nsome repeated code patterns.\n\nAlso, where possible, methods are converted from @classmethod to regular\nmethod. Motivation here is that we've switched to @classmethod to be\nable to use those methods in resourceSetup(). Unfortunately that blocks\nthose methods from using convenient self.assert* methods, which is\nterrible for the code flow.\n\nFollow up patches should include switching other occurences of waiting\npatterns to test_utils.call_until_true() to make sure there's always a\ntimeout and removal of excessive number of log messages that that code\ngenerates.\n\nChange-Id: Ib223e968cf8fbe067155d2b50265b122fed38cfa\n""}, {'number': 2, 'created': '2018-10-04 07:25:14.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_port_pool.py', 'kuryr_tempest_plugin/tests/scenario/test_kuryr_restart.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/252451bb6f070135821999cd834c0d351135eac1', 'message': ""Remove raising exceptions to indicate failure\n\nThis commit aims to remove raising various Tempest exceptions instead of\ndoing assertions with error messages. This should make debugging of\nTempest failures in the gate much easier. Some of the loops waiting for\nresources are rewritten to use test_utils.call_until_true() to remove\nsome repeated code patterns.\n\nAlso, where possible, methods are converted from @classmethod to regular\nmethod. Motivation here is that we've switched to @classmethod to be\nable to use those methods in resourceSetup(). Unfortunately that blocks\nthose methods from using convenient self.assert* methods, which is\nterrible for the code flow.\n\nFollow up patches should include switching other occurences of waiting\npatterns to test_utils.call_until_true() to make sure there's always a\ntimeout and removal of excessive number of log messages that that code\ngenerates.\n\nChange-Id: Ib223e968cf8fbe067155d2b50265b122fed38cfa\n""}]",0,607648,252451bb6f070135821999cd834c0d351135eac1,14,3,2,11600,,,0,"Remove raising exceptions to indicate failure

This commit aims to remove raising various Tempest exceptions instead of
doing assertions with error messages. This should make debugging of
Tempest failures in the gate much easier. Some of the loops waiting for
resources are rewritten to use test_utils.call_until_true() to remove
some repeated code patterns.

Also, where possible, methods are converted from @classmethod to regular
method. Motivation here is that we've switched to @classmethod to be
able to use those methods in resourceSetup(). Unfortunately that blocks
those methods from using convenient self.assert* methods, which is
terrible for the code flow.

Follow up patches should include switching other occurences of waiting
patterns to test_utils.call_until_true() to make sure there's always a
timeout and removal of excessive number of log messages that that code
generates.

Change-Id: Ib223e968cf8fbe067155d2b50265b122fed38cfa
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/48/607648/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_port_pool.py', 'kuryr_tempest_plugin/tests/scenario/test_kuryr_restart.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",3,2ce5bde9046aa2751a609d272512dc4eab947682,refactor-tests,"from tempest.lib.common.utils import test_utils def wait_for_pod_status(self, pod_name, namespace=""default"", pod_status=None, retries=45): def compare_pod_status(): return pod_status != self.get_pod_status(pod_name, namespace=namespace) self.assertTrue(test_utils.call_until_true( compare_pod_status, retries, 1, pod_name, namespace=namespace), 'Timed out waiting for pod %s to become ""%s""' % (pod_name, pod_status)) def wait_kuryr_annotation(self, api_version, kind, annotation, timeout_period, name, namespace='default'): dyn_resource = self.dyn_client.resources.get( def is_annotated(): return True return False self.assertTrue( test_utils.call_until_true(is_annotated, timeout_period, 1)) def is_reachable(): try: session.get(""http://{0}"".format(service_ip), timeout=2) return True except Exception: return False if not test_utils.call_until_true(is_reachable, timeout_period, 10): raise AssertionError('%s has accepted no traffic for %d seconds.' % service_ip, timeout_period) self.assertFalse(stderr, 'Failed to curl the service at {}. ' 'Err: {}'.format(url, stderr)) def create_route(self, name, hostname, target_svc, namespace='default'): v1_routes = self.dyn_client.resources.get(api_version='v1', kind='Route') self.wait_kuryr_annotation( except kubernetes.client.rest.ApiException as e:"," @classmethod def wait_for_pod_status(cls, pod_name, namespace=""default"", pod_status=None, retries=30): while pod_status != cls.get_pod_status( pod_name, namespace=namespace): time.sleep(1) retries -= 1 if retries == 0: raise lib_exc.TimeoutException() @classmethod def wait_kuryr_annotation(cls, api_version, kind, annotation, timeout_period, name, namespace='default'): dyn_resource = cls.dyn_client.resources.get( start = time.time() while time.time() - start < timeout_period: time.sleep(1) if resource.metadata.annotations is None: continue return LOG.info(""Waiting till %s will appear "" ""in %s/%s annotation "", annotation, kind, name) raise lib_exc.ServerFault() start = time.time() while time.time() - start < timeout_period: try: time.sleep(5) session.get(""http://{0}"".format(service_ip), timeout=2) return except Exception: LOG.warning('No initial traffic is passing through.') time.sleep(5) LOG.error( ""Traffic didn't pass within the period of %s"" % timeout_period) raise lib_exc.ServerFault() if stderr: LOG.error('Failed to curl the service at {}. ' 'Err: {}'.format(url, stderr)) raise lib_exc.UnexpectedResponseCode() @classmethod def create_route(cls, name, hostname, target_svc, namespace='default'): v1_routes = cls.dyn_client.resources.get(api_version='v1', kind='Route') cls.wait_kuryr_annotation( except Exception as e:",61,67
openstack%2Fkuryr-tempest-plugin~master~I86d9b78c427e8ae0e3e0962edf16d85258173265,openstack/kuryr-tempest-plugin,master,I86d9b78c427e8ae0e3e0962edf16d85258173265,Use _run_threaded_and_assert in test_vm_service_http,ABANDONED,2018-10-16 10:00:47.000000000,2021-03-02 15:37:13.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-16 10:00:47.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/467e139c9ee50bd83e1ea880bb7b4a94703603bf', 'message': ""Use _run_threaded_and_assert in test_vm_service_http\n\nAlso adjust timeouts a bit as I've seen issues with that in the gate.\n\nChange-Id: I86d9b78c427e8ae0e3e0962edf16d85258173265\n""}]",0,610925,467e139c9ee50bd83e1ea880bb7b4a94703603bf,11,2,1,11600,,,0,"Use _run_threaded_and_assert in test_vm_service_http

Also adjust timeouts a bit as I've seen issues with that in the gate.

Change-Id: I86d9b78c427e8ae0e3e0962edf16d85258173265
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/25/610925/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,467e139c9ee50bd83e1ea880bb7b4a94703603bf,refactor-tests," repetitions=100, threads=8, request_timeout=10): def assert_backend_amount_from_vm(self, ssh_client, url, amount, repetitions=100, threads=8, request_timeout=10): def req(): cmd = (""curl {dst_ip}"".format(dst_ip=url)) return ssh_client.exec_command(cmd) def pred(tester, responses): unique_resps = set(resp for resp in responses) tester.assertEqual(amount, len(unique_resps), 'Incorrect amount of unique backends. ' 'Got {}'.format(unique_resps)) self._run_threaded_and_assert(req, pred, repetitions=repetitions, threads=threads, fn_timeout=request_timeout) threads=8, request_timeout=10):"," def _run_and_assert_fn(self, fn, repeats=10, responses_num=2): cmd_outputs = set() for i in range(repeats): cmd_outputs.add(fn()) self.assertEqual(responses_num, len(cmd_outputs), 'Number of exclusive responses is incorrect. ' 'Got %s.' % cmd_outputs) repetitions=100, threads=8, request_timeout=5): threads=8, request_timeout=7):",20,15
openstack%2Fdevstack-plugin-container~master~I17588b033aa4701494d5c27b5ba94ad4a31da887,openstack/devstack-plugin-container,master,I17588b033aa4701494d5c27b5ba94ad4a31da887,Fix cri-o installation on Ubuntu,ABANDONED,2019-03-20 13:45:34.000000000,2021-03-02 15:37:10.000000000,,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 13:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/bb195112df54e891dab8c05a5992051246524921', 'message': ""Fix cri-o installation on Ubuntu\n\nSeems like the PPA doesn't install compatible cri-o along with podman\nand buildah. Let's install it explicitly.\n\nChange-Id: I17588b033aa4701494d5c27b5ba94ad4a31da887\n""}, {'number': 2, 'created': '2019-03-20 13:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/3aff67e76e0c564a3ee498cab93150cdc89bd55f', 'message': ""Fix cri-o installation on Ubuntu\n\nSeems like the PPA doesn't install compatible cri-o along with podman\nand buildah. Let's install it explicitly.\n\nChange-Id: I17588b033aa4701494d5c27b5ba94ad4a31da887\n""}, {'number': 3, 'created': '2019-03-20 14:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/3d6549c42fc4659d7ad1b19b3296953152c2e932', 'message': ""Fix cri-o installation on Ubuntu\n\nSeems like the PPA doesn't install compatible cri-o along with podman\nand buildah. Let's install it explicitly.\n\nChange-Id: I17588b033aa4701494d5c27b5ba94ad4a31da887\n""}, {'number': 4, 'created': '2019-03-20 16:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/3ea410ce9cf8f5ef1227513233ea8820433b49d4', 'message': ""Fix cri-o installation on Ubuntu\n\nSeems like the PPA doesn't install compatible cri-o along with podman\nand buildah. Let's install it explicitly.\n\nAlso it seems that new version does fill /etc/containers/registries.conf\nwith some initial content. Let's make sure plugin will edit it instead\nof leaving it as is.\n\nChange-Id: I17588b033aa4701494d5c27b5ba94ad4a31da887\n""}, {'number': 5, 'created': '2019-03-22 12:04:11.000000000', 'files': ['devstack/lib/crio'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/81c776b71cebe328b223f75575a8a3a80372f4f8', 'message': ""Fix cri-o installation on Ubuntu\n\nSeems like the PPA doesn't install compatible cri-o along with podman\nand buildah. Let's install it explicitly.\n\nAlso it seems that new version does fill /etc/containers/registries.conf\nwith some initial content. Let's make sure plugin will edit it instead\nof leaving it as is.\n\nTo be able to debug crio better, a service called container will be\nstarted, which will simply rewrite crio logs for them to be available in\nthe gate.\n\nChange-Id: I17588b033aa4701494d5c27b5ba94ad4a31da887\n""}]",0,644863,81c776b71cebe328b223f75575a8a3a80372f4f8,12,3,5,11600,,,0,"Fix cri-o installation on Ubuntu

Seems like the PPA doesn't install compatible cri-o along with podman
and buildah. Let's install it explicitly.

Also it seems that new version does fill /etc/containers/registries.conf
with some initial content. Let's make sure plugin will edit it instead
of leaving it as is.

To be able to debug crio better, a service called container will be
started, which will simply rewrite crio logs for them to be available in
the gate.

Change-Id: I17588b033aa4701494d5c27b5ba94ad4a31da887
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/63/644863/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/crio'],1,bb195112df54e891dab8c05a5992051246524921,fix-ubuntu-crio,UBUNTU_CRIO_VERSION=${UBUNTU_CRIO_VERSION:-1.13} apt_get install podman buildh cri-o-${UBUNTU_CRIO_VERSION}, # Installing podman and containerd will get us compatible versions of # cri-o and runc. And we need podman to manage container images anyway. apt_get install podman buildah,2,3
openstack%2Fdevstack-plugin-container~master~I59d8c1ca6468b270f10ce84e0f6d579571739727,openstack/devstack-plugin-container,master,I59d8c1ca6468b270f10ce84e0f6d579571739727,Fix cri-o installation on CentOS,ABANDONED,2019-03-26 17:29:51.000000000,2021-03-02 15:37:09.000000000,,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-26 17:29:51.000000000', 'files': ['devstack/lib/crio'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/36587252bb84ed78ce8946afd5e9513d0a5f43bc', 'message': ""Fix cri-o installation on CentOS\n\nThis combines several fixes:\n* Adds --nogpgcheck to `yum install` command as for some reason official\n  CentOS packages are not signed.\n* Ignores the error when adding yum repo to make sure we don't fail if\n  repo is already defined.\n* Updates installed cri-o version to 3.11 and makes it configurable.\n\nChange-Id: I59d8c1ca6468b270f10ce84e0f6d579571739727\n""}]",0,647834,36587252bb84ed78ce8946afd5e9513d0a5f43bc,5,3,1,11600,,,0,"Fix cri-o installation on CentOS

This combines several fixes:
* Adds --nogpgcheck to `yum install` command as for some reason official
  CentOS packages are not signed.
* Ignores the error when adding yum repo to make sure we don't fail if
  repo is already defined.
* Updates installed cri-o version to 3.11 and makes it configurable.

Change-Id: I59d8c1ca6468b270f10ce84e0f6d579571739727
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/34/647834/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/crio'],1,36587252bb84ed78ce8946afd5e9513d0a5f43bc,fix-centos-crio,CRIO_CENTOS_VERSION=${CRIO_CENTOS_VERSION:-311} # We ignore the errors from yum-config-manager because it'll fails # if repo is already added. https://cbs.centos.org/repos/virt7-container-common-candidate/x86_64/os/ || true https://cbs.centos.org/repos/paas7-crio-${CRIO_CENTOS_VERSION}-candidate/x86_64/os/ || true yum_install cri-o podman buildah --nogpgcheck, https://cbs.centos.org/repos/virt7-container-common-candidate/x86_64/os/ https://cbs.centos.org/repos/paas7-crio-311-candidate/x86_64/os/ yum_install cri-o podman buildah,6,3
openstack%2Foslo.middleware~stable%2Frocky~I787a0276ec0a62bc9e2f068e4e4ee1219a306474,openstack/oslo.middleware,stable/rocky,I787a0276ec0a62bc9e2f068e4e4ee1219a306474,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-25 13:54:29.000000000,2021-03-02 15:14:24.000000000,2021-03-02 15:13:03.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 13:54:29.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/9ba4498c475fb42b7f4074eaeebd587c8bc7eda6', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement needed to be updated to make requirements-check job\npass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I787a0276ec0a62bc9e2f068e4e4ee1219a306474\n(cherry picked from commit fba3b78fad2356f2715270a6f7d1ffbc27f63fd5)\n'}]",0,777593,9ba4498c475fb42b7f4074eaeebd587c8bc7eda6,12,2,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I787a0276ec0a62bc9e2f068e4e4ee1219a306474
(cherry picked from commit fba3b78fad2356f2715270a6f7d1ffbc27f63fd5)
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/93/777593/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,9ba4498c475fb42b7f4074eaeebd587c8bc7eda6,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",3,2
openstack%2Fopenstack-ansible-os_octavia~stable%2Fvictoria~Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,openstack/openstack-ansible-os_octavia,stable/victoria,Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,Add variable to override keypair setup python interpreter,MERGED,2021-02-04 10:45:31.000000000,2021-03-02 15:02:35.000000000,2021-03-02 15:00:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-04 10:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6875e41a98554a308d3eb5258200f2bc28985168', 'message': 'Add variable to override keypair setup python interpreter\n\nWhen using a non-standard host for keypair setup (such as a utility\ncontainer) it is necessary to set a custom python interpreter\nwhich has access to openstacksdk.\n\nThis commit provides a variable to do this in the same style as\nused for service setup hosts.\n\nChange-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7\n'}, {'number': 2, 'created': '2021-02-27 17:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/bafff64ba03781f372a5f028f83acb693df1d7ff', 'message': 'Add variable to override keypair setup python interpreter\n\nWhen using a non-standard host for keypair setup (such as a utility\ncontainer) it is necessary to set a custom python interpreter\nwhich has access to openstacksdk.\n\nThis commit provides a variable to do this in the same style as\nused for service setup hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601\nChange-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7\n'}, {'number': 3, 'created': '2021-03-01 08:44:07.000000000', 'files': ['tasks/octavia_keypair.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/1a5e9d67f924f931429d5c2ee05576c54538fc46', 'message': 'Add variable to override keypair setup python interpreter\n\nWhen using a non-standard host for keypair setup (such as a utility\ncontainer) it is necessary to set a custom python interpreter\nwhich has access to openstacksdk.\n\nThis commit provides a variable to do this in the same style as\nused for service setup hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777779\nChange-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7\n'}]",0,773962,1a5e9d67f924f931429d5c2ee05576c54538fc46,14,4,3,28619,,,0,"Add variable to override keypair setup python interpreter

When using a non-standard host for keypair setup (such as a utility
container) it is necessary to set a custom python interpreter
which has access to openstacksdk.

This commit provides a variable to do this in the same style as
used for service setup hosts.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777779
Change-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/62/773962/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_keypair.yml', 'defaults/main.yml']",2,6875e41a98554a308d3eb5258200f2bc28985168,,"octavia_keypair_setup_host_python_interpreter: ""{{ openstack_keypair_setup_host_python_interpreter | default((octavia_keypair_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Ftripleo-quickstart-extras~master~I3a913db5f920282ea13f66b537b0e506ec037654,openstack/tripleo-quickstart-extras,master,I3a913db5f920282ea13f66b537b0e506ec037654,PoC: Allow CI jobs to provide their own environment file,ABANDONED,2021-03-01 20:55:03.000000000,2021-03-02 15:01:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 20:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7465c10d385f0bb421c61d4789be082d301ed73f', 'message': 'PoC: Allow CI jobs to provide their own environment file\n\nThis is a proof of concept to allow CI jobs to provide their own\nenvironment file (yes, singular). It is driven by the tripleo-ci patch\nthat depends on this one, and has been proposed under the same topic.\n\nChange-Id: I3a913db5f920282ea13f66b537b0e506ec037654\n'}, {'number': 2, 'created': '2021-03-02 01:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33c344e3724267c1b0fcc0190214f16106035e67', 'message': 'PoC: Allow CI jobs to provide their own environment file\n\nThis is a proof of concept to allow CI jobs to provide their own\nenvironment file (yes, singular). It is driven by the tripleo-ci patch\nthat depends on this one, and has been proposed under the same topic.\n\nChange-Id: I3a913db5f920282ea13f66b537b0e506ec037654\n'}, {'number': 3, 'created': '2021-03-02 12:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ff9bd9426a0835547ecc363992b74a8ecd84168', 'message': ""PoC: Allow CI jobs to provide their own environment file\n\nThis is a proof of concept to allow CI jobs to provide their own\ncustom configuration. The use case is a job that needs to provide\nparameters whose value depend on the job execution environment (things\nlike IP addresses). We could keep adding\n`<parameter>: {{ variable }}` lines, but the use case feels niche\nenough that it's probably better to allow jobs to just include\ntemplate snippets if they feel like it.\n\nNeeded-by: I30ce52190d895192597154f780fce3fa2ea8e57f\nChange-Id: I3a913db5f920282ea13f66b537b0e506ec037654\n""}, {'number': 4, 'created': '2021-03-02 12:52:54.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/713ac2f4f7fb6666c141c9a1e43f13ab4a9ff6d2', 'message': ""PoC: Allow CI jobs to provide their own environment file\n\nThis is a proof of concept to allow CI jobs to provide their own\ncustom configuration. The use case is a job that needs to provide\nparameters whose value depend on the job execution environment (things\nlike IP addresses). We could keep adding\n`<parameter>: {{ variable }}` lines, but the use case feels niche\nenough that it's probably better to allow jobs to just include\ntemplate snippets if they feel like it.\n\nChange-Id: I3a913db5f920282ea13f66b537b0e506ec037654\nNeeded-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866\n""}]",0,778067,713ac2f4f7fb6666c141c9a1e43f13ab4a9ff6d2,10,2,4,8864,,,0,"PoC: Allow CI jobs to provide their own environment file

This is a proof of concept to allow CI jobs to provide their own
custom configuration. The use case is a job that needs to provide
parameters whose value depend on the job execution environment (things
like IP addresses). We could keep adding
`<parameter>: {{ variable }}` lines, but the use case feels niche
enough that it's probably better to allow jobs to just include
template snippets if they feel like it.

Change-Id: I3a913db5f920282ea13f66b537b0e506ec037654
Needed-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/778067/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone.sh.j2'],1,7465c10d385f0bb421c61d4789be082d301ed73f,toci-local-env-file,{% if standalone_local_env_file %} -e {{ working_dir}}/{{ standalone_local_env_file }} \ {% endif %},,3,0
openstack%2Fpuppet-openstack_spec_helper~master~Ibafcb3b994db361df3427ca2afe4dd3d08028add,openstack/puppet-openstack_spec_helper,master,Ibafcb3b994db361df3427ca2afe4dd3d08028add,pin bundler to 2.2.11,MERGED,2021-03-02 12:48:08.000000000,2021-03-02 14:57:24.000000000,2021-03-02 14:57:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 12:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/75eb6e3258cf83efa103fd2691d91046ad70f0a3', 'message': 'WIP: pin bundler\n\nChange-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add\n'}, {'number': 2, 'created': '2021-03-02 13:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/046651866b7007dc3ff5bb598b91064a94d1863c', 'message': ""pin bundler to 2.2.11\n\nIt seems the latest 2.2.12 requires rake>13.0 installed and that\nrequirement doesn't work well in current our CI jobs.\nLet's pin it to the previous version until we resolve the issue\n\nNote that this change only covers library jobs and we also need the\nsame fix for puppet-openstack-integration later.\n\nCloses-Bug: #1917457\nChange-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add\n""}, {'number': 3, 'created': '2021-03-02 13:43:12.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/a75cf9b6b18134cd6b1285740e2941bb228e053b', 'message': ""pin bundler to 2.2.11\n\nIt seems the latest 2.2.12 requires rake>13.0 installed and that\nrequirement doesn't work well in current our CI jobs.\nLet's pin it to the previous version until we resolve the issue\n\nNote that this change only covers library jobs and we also need the\nsame fix for puppet-openstack-integration later.\n\nThis change also removes the pin for the very old Ruby version.\n\nCloses-Bug: #1917457\nChange-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add\n""}]",0,778185,a75cf9b6b18134cd6b1285740e2941bb228e053b,11,5,3,9816,,,0,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue

Note that this change only covers library jobs and we also need the
same fix for puppet-openstack-integration later.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: Ibafcb3b994db361df3427ca2afe4dd3d08028add
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/85/778185/3 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,75eb6e3258cf83efa103fd2691d91046ad70f0a3,bug/1917457,cmd += ' -v 2.2.11',if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end,1,3
openstack%2Fbarbican-tempest-plugin~master~I92098c7d994dc7d85643da29380866a805f4e869,openstack/barbican-tempest-plugin,master,I92098c7d994dc7d85643da29380866a805f4e869,Update attach logic in VolumeEncryptionTest,NEW,2020-03-02 12:32:09.000000000,2021-03-02 14:54:05.000000000,,"[{'_account_id': 9542}, {'_account_id': 10459}, {'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-02 12:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/764411c0c35f4e17be3242bbb70fce45acf0ddaf', 'message': 'Update attach logic in VolumeEncryptionTest\n\nPick the same logic as volume attach tests have, when after\nvolume attach server is rebooted to make sure guest OS\nrecognize new device.\n\nChange-Id: I92098c7d994dc7d85643da29380866a805f4e869\n'}, {'number': 2, 'created': '2020-03-13 21:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/62e61eb4ed045a02e8d7ae4c455bf4f7b7d7f96f', 'message': 'Update attach logic in VolumeEncryptionTest\n\nPick the same logic as volume attach tests have, when after\nvolume attach server is rebooted to make sure guest OS\nrecognize new device.\n\nChange-Id: I92098c7d994dc7d85643da29380866a805f4e869\n'}, {'number': 3, 'created': '2021-03-02 14:00:40.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/aa6478442b4bc41acaae0ba34c14ba48c8bd896b', 'message': 'Update attach logic in VolumeEncryptionTest\n\nPick the same logic as volume attach tests have, when after\nvolume attach server is rebooted to make sure guest OS\nrecognize new device.\n\nChange-Id: I92098c7d994dc7d85643da29380866a805f4e869\n'}]",0,710759,aa6478442b4bc41acaae0ba34c14ba48c8bd896b,6,4,3,28032,,,0,"Update attach logic in VolumeEncryptionTest

Pick the same logic as volume attach tests have, when after
volume attach server is rebooted to make sure guest OS
recognize new device.

Change-Id: I92098c7d994dc7d85643da29380866a805f4e869
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/59/710759/3 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'],1,764411c0c35f4e17be3242bbb70fce45acf0ddaf,,"import time from tempest.common import waitersfrom tempest.lib import exceptions as lib_exc def wait_for_disk(self, server_ip, keypair, device_name, wait_interval=1, wait_timeout=15): start = int(time.time()) ssh_client = self.get_remote_client( server_ip, private_key=keypair['private_key']) disks = ssh_client.get_disks() while True: time.sleep(wait_interval) if device_name in disks: return if int(time.time()) - start >= wait_timeout: message = ('Device %s did not appear in %d sec' % ( device_name, wait_timeout)) raise lib_exc.TimeoutException(message) attached_volume = self.nova_volume_attach(server, volume) self.servers_client.stop_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], 'SHUTOFF') self.servers_client.start_server(server['id']) waiters.wait_for_server_status(self.servers_client, server['id'], 'ACTIVE') self.wait_for_disk(server_ip, keypair, CONF.compute.volume_device_name) # Detach volume self.nova_volume_detach(server, attached_volume) "," self.nova_volume_attach(server, volume)",32,1
openstack%2Fos-collect-config~stable%2Focata~I88182a9a9af74e9760b2ec9b500971f06293f0b8,openstack/os-collect-config,stable/ocata,I88182a9a9af74e9760b2ec9b500971f06293f0b8,Add region support,ABANDONED,2018-11-13 11:19:41.000000000,2021-03-02 14:45:03.000000000,,"[{'_account_id': 6484}, {'_account_id': 7144}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 11:19:41.000000000', 'files': ['os_collect_config/heat.py', 'os_collect_config/zaqar.py'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/368f7f9df11f2071444c8f1561db64e191415aaf', 'message': 'Add region support\n\nNow Heat is missing the region support for software deployment\nand so did os-collect-config. This patch fixes it but keeps the\nbackward compatibility.\n\nFor changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75\nand https://review.openstack.org/580470\n\nFor changes in Heat agents please refer\nI8e0518fa61e237ec055834dd4bebe0fc87cd6627\n\nStory: 2002781\n\nChange-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8\n(cherry picked from commit 5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf)\n(cherry picked from commit cad9d0fead222037c947479fdf4e053afb7a21e2)\n'}]",0,617594,368f7f9df11f2071444c8f1561db64e191415aaf,6,5,1,12404,,,0,"Add region support

Now Heat is missing the region support for software deployment
and so did os-collect-config. This patch fixes it but keeps the
backward compatibility.

For changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75
and https://review.openstack.org/580470

For changes in Heat agents please refer
I8e0518fa61e237ec055834dd4bebe0fc87cd6627

Story: 2002781

Change-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8
(cherry picked from commit 5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf)
(cherry picked from commit cad9d0fead222037c947479fdf4e053afb7a21e2)
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/94/617594/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_collect_config/heat.py', 'os_collect_config/zaqar.py']",2,368f7f9df11f2071444c8f1561db64e191415aaf,story/2002781-stable/queens-stable/pike-stable/ocata," cfg.StrOpt('region-name', help='Region Name for extracting Zaqar endpoint'), kwargs = {'service_type': 'messaging', 'endpoint_type': 'publicURL'} if CONF.zaqar.region_name: kwargs['region_name'] = CONF.zaqar.region_name endpoint = ks.service_catalog.url_for(**kwargs) logger.debug('Fetching metadata from %s' % endpoint) zaqar = self.zaqarclient.Client(endpoint, conf=conf, version=1.1) queue = zaqar.queue(CONF.zaqar.queue_id) r = six.next(queue.pop()) return r.body kwargs = {'service_type': 'messaging-websocket', 'endpoint_type': 'publicURL'} if CONF.zaqar.region_name: kwargs['region_name'] = CONF.zaqar.region_name endpoint = ks.service_catalog.url_for(**kwargs) # NOTE(flwang): To be compatible with old versions, we won't throw # error here if there is no region name."," endpoint = ks.service_catalog.url_for( service_type='messaging', endpoint_type='publicURL') logger.debug('Fetching metadata from %s' % endpoint) zaqar = self.zaqarclient.Client(endpoint, conf=conf, version=1.1) queue = zaqar.queue(CONF.zaqar.queue_id) r = six.next(queue.pop()) return r.body endpoint = ks.service_catalog.url_for( service_type='messaging-websocket', endpoint_type='publicURL')",27,13
openstack%2Fos-collect-config~stable%2Fpike~I88182a9a9af74e9760b2ec9b500971f06293f0b8,openstack/os-collect-config,stable/pike,I88182a9a9af74e9760b2ec9b500971f06293f0b8,Add region support,ABANDONED,2018-11-13 11:19:33.000000000,2021-03-02 14:44:03.000000000,,"[{'_account_id': 4257}, {'_account_id': 6484}, {'_account_id': 7144}, {'_account_id': 12404}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-13 11:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/bc6589eb4db1efd1501d7fd962fe3c3833e45367', 'message': 'Add region support\n\nNow Heat is missing the region support for software deployment\nand so did os-collect-config. This patch fixes it but keeps the\nbackward compatibility.\n\nFor changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75\nand https://review.openstack.org/580470\n\nFor changes in Heat agents please refer\nI8e0518fa61e237ec055834dd4bebe0fc87cd6627\n\nStory: 2002781\n\nChange-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8\n(cherry picked from commit 5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf)\n(cherry picked from commit cad9d0fead222037c947479fdf4e053afb7a21e2)\n'}, {'number': 2, 'created': '2019-02-03 04:34:54.000000000', 'files': ['os_collect_config/heat.py', 'os_collect_config/zaqar.py'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/6161036c9b1259d65f063f883d431feb1c82ae7e', 'message': 'Add region support\n\nNow Heat is missing the region support for software deployment\nand so did os-collect-config. This patch fixes it but keeps the\nbackward compatibility.\n\nFor changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75\nand https://review.openstack.org/580470\n\nFor changes in Heat agents please refer\nI8e0518fa61e237ec055834dd4bebe0fc87cd6627\n\nStory: 2002781\n\nChange-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8\n(cherry picked from commit 5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf)\n(cherry picked from commit cad9d0fead222037c947479fdf4e053afb7a21e2)\nDepends-On: https://review.openstack.org/#/c/634588/\nDepends-On: https://review.openstack.org/#/c/634589/\n'}]",0,617593,6161036c9b1259d65f063f883d431feb1c82ae7e,21,8,2,12404,,,0,"Add region support

Now Heat is missing the region support for software deployment
and so did os-collect-config. This patch fixes it but keeps the
backward compatibility.

For changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75
and https://review.openstack.org/580470

For changes in Heat agents please refer
I8e0518fa61e237ec055834dd4bebe0fc87cd6627

Story: 2002781

Change-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8
(cherry picked from commit 5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf)
(cherry picked from commit cad9d0fead222037c947479fdf4e053afb7a21e2)
Depends-On: https://review.openstack.org/#/c/634588/
Depends-On: https://review.openstack.org/#/c/634589/
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/93/617593/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_collect_config/heat.py', 'os_collect_config/zaqar.py']",2,bc6589eb4db1efd1501d7fd962fe3c3833e45367,story/2002781-stable/queens-stable/pike," cfg.StrOpt('region-name', help='Region Name for extracting Zaqar endpoint'), kwargs = {'service_type': 'messaging', 'endpoint_type': 'publicURL'} if CONF.zaqar.region_name: kwargs['region_name'] = CONF.zaqar.region_name endpoint = ks.service_catalog.url_for(**kwargs) logger.debug('Fetching metadata from %s' % endpoint) zaqar = self.zaqarclient.Client(endpoint, conf=conf, version=1.1) queue = zaqar.queue(CONF.zaqar.queue_id) r = six.next(queue.pop()) return r.body kwargs = {'service_type': 'messaging-websocket', 'endpoint_type': 'publicURL'} if CONF.zaqar.region_name: kwargs['region_name'] = CONF.zaqar.region_name endpoint = ks.service_catalog.url_for(**kwargs) # NOTE(flwang): To be compatible with old versions, we won't throw # error here if there is no region name."," endpoint = ks.service_catalog.url_for( service_type='messaging', endpoint_type='publicURL') logger.debug('Fetching metadata from %s' % endpoint) zaqar = self.zaqarclient.Client(endpoint, conf=conf, version=1.1) queue = zaqar.queue(CONF.zaqar.queue_id) r = six.next(queue.pop()) return r.body endpoint = ks.service_catalog.url_for( service_type='messaging-websocket', endpoint_type='publicURL')",27,13
openstack%2Fmetalsmith~master~I54262785ba88a3fc63982931f7888dd90de1f219,openstack/metalsmith,master,I54262785ba88a3fc63982931f7888dd90de1f219,Fix release versions,MERGED,2021-03-02 14:19:53.000000000,2021-03-02 14:41:40.000000000,2021-03-02 14:39:41.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 14:19:53.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/victoria.rst', 'releasenotes/source/ussuri.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/347e756dfe1f167501dacae31eceae96e46c450a', 'message': 'Fix release versions\n\nChange-Id: I54262785ba88a3fc63982931f7888dd90de1f219\n'}]",0,778194,347e756dfe1f167501dacae31eceae96e46c450a,7,2,1,23851,,,0,"Fix release versions

Change-Id: I54262785ba88a3fc63982931f7888dd90de1f219
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/94/778194/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/victoria.rst', 'releasenotes/source/ussuri.rst', 'releasenotes/source/stein.rst']",4,347e756dfe1f167501dacae31eceae96e46c450a,fix-release-versions,============================================= Stein Series (0.11.0 - 0.11.x) Release Notes =============================================,=================================== Stein Series Release Notes ===================================,10,10
openstack%2Fironic-python-agent~master~I7b7b8b7d4f643b07d5c9dcf7ec35cf7ebedf44d1,openstack/ironic-python-agent,master,I7b7b8b7d4f643b07d5c9dcf7ec35cf7ebedf44d1,Remove nvme-cli warning and delay on nvme-format,MERGED,2021-03-02 05:41:56.000000000,2021-03-02 14:38:34.000000000,2021-03-02 14:36:51.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-02 05:41:56.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d2127e7ef44260dec2fe07c12d0901db087d7932', 'message': ""Remove nvme-cli warning and delay on nvme-format\n\nThis change adds '-f' flag to nvme-cli calls during NVMe Secure Erase.\nThis removes nvme-cli output warning that the device is about to be\nirreversibly deleted as well as the related 10 second delay which is\npointlessly increasing NVMe cleaning time.\n\nStory: 2008290\nChange-Id: I7b7b8b7d4f643b07d5c9dcf7ec35cf7ebedf44d1\n""}]",1,778136,d2127e7ef44260dec2fe07c12d0901db087d7932,9,4,1,32177,,,0,"Remove nvme-cli warning and delay on nvme-format

This change adds '-f' flag to nvme-cli calls during NVMe Secure Erase.
This removes nvme-cli output warning that the device is about to be
irreversibly deleted as well as the related 10 second delay which is
pointlessly increasing NVMe cleaning time.

Story: 2008290
Change-Id: I7b7b8b7d4f643b07d5c9dcf7ec35cf7ebedf44d1
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/36/778136/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,d2127e7ef44260dec2fe07c12d0901db087d7932,story-2008290-lite," mock.call('nvme', 'format', '/dev/nvme0n1', '-s', 2, '-f'), mock.call('nvme', 'format', '/dev/nvme0n1', '-s', 1, '-f'),"," mock.call('nvme', 'format', '/dev/nvme0n1', '-s', 2), mock.call('nvme', 'format', '/dev/nvme0n1', '-s', 1),",3,3
openstack%2Fbarbican-tempest-plugin~master~Ib13d960a2f6196afde0e14fe196ac68daded7e61,openstack/barbican-tempest-plugin,master,Ib13d960a2f6196afde0e14fe196ac68daded7e61,Add stable branch jobs on the plugins master gate,ABANDONED,2020-05-05 22:16:22.000000000,2021-03-02 14:37:48.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-05 22:16:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/203bc8907e286d5f46fdae1a0e55544932e2a1f4', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib13d960a2f6196afde0e14fe196ac68daded7e61\n'}]",0,725696,203bc8907e286d5f46fdae1a0e55544932e2a1f4,4,2,1,8556,,,0,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(stein, train, ussuri) use the Tempest and plugins master
version for their testing. To make sure master version (new
tests or any changes) is compatible with stable branch testing,
we need to add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the stable
branches in same way[1].

Ussuri onwards, Tempest or plugins are py3 only, so we are
running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

 [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: Ib13d960a2f6196afde0e14fe196ac68daded7e61
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/96/725696/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,203bc8907e286d5f46fdae1a0e55544932e2a1f4,stable-testing-tempest-plugins, - barbican-simple-crypto-devstack-tempest-ussuri - barbican-simple-crypto-devstack-tempest-train - barbican-simple-crypto-devstack-tempest-stein - job: name: barbican-simple-crypto-devstack-tempest-ussuri parent: barbican-simple-crypto-devstack-tempest override-checkout: stable/ussuri - job: name: barbican-simple-crypto-devstack-tempest-train parent: barbican-simple-crypto-devstack-tempest override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: name: barbican-simple-crypto-devstack-tempest-stein parent: barbican-simple-crypto-devstack-tempest override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True,,24,0
openstack%2Fbarbican-tempest-plugin~master~I9785be9eefc09bd6b312cf4abdad759464b65622,openstack/barbican-tempest-plugin,master,I9785be9eefc09bd6b312cf4abdad759464b65622,Add Python 3 Train unit tests,ABANDONED,2019-08-13 03:23:56.000000000,2021-03-02 14:37:07.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-08-13 03:23:56.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/70c96ae60e1c17c3d8383678c4f6ae97ff952b72', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I9785be9eefc09bd6b312cf4abdad759464b65622\n'}]",0,676044,70c96ae60e1c17c3d8383678c4f6ae97ff952b72,6,4,1,17499,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I9785be9eefc09bd6b312cf4abdad759464b65622
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/44/676044/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,70c96ae60e1c17c3d8383678c4f6ae97ff952b72,,"envlist = py37,py36,py27,pypy,pep8","envlist = py35,py27,pypy,pep8",3,3
openstack%2Ftripleo-common~master~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,master,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-02-25 11:46:37.000000000,2021-03-02 14:20:12.000000000,2021-03-02 14:14:06.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 11:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d7984e75961323754348184bc7bfdb3692958d79', 'message': 'Remove layout override and wire up buildimage template instead\n\nThis wires up the tripleo-buildimage-jobs and removes the buildimage\njob overrides in the layout. The depends-on is instead adding the\nfiles: matches in the template layout. Part of wider tripleo-ci\noptimization [1].\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083\n\nChange-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f\n'}, {'number': 2, 'created': '2021-03-01 14:09:35.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9', 'message': ""Remove layout override and wire up buildimage template instead\n\nThis wires up the tripleo-buildimage-jobs and updates buildimage\njob overrides in the check layout. The depends-on adds the\nfiles: matches in the template layout so no need to override here.\nThe gate layout overrides are removed altogether as we don't want\nthe dependencies: optimization in the gate. Part of wider tripleo-ci\noptimization [1].\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083\n\nChange-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f\n""}]",2,777577,ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9,18,5,2,8449,,,0,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/777577/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d7984e75961323754348184bc7bfdb3692958d79,tripleo-ci-reduce, - tripleo-buildimage-jobs, - tripleo-buildimage-overcloud-full-centos-8: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-full-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: files: - ^image-yaml/.*$,1,21
openstack%2Freleases~master~I2714bd517e61c57839378c4605951984511e1ae4,openstack/releases,master,I2714bd517e61c57839378c4605951984511e1ae4,Release sushy-tools 0.15.0,MERGED,2021-03-01 16:07:41.000000000,2021-03-02 14:13:42.000000000,2021-03-02 14:13:42.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 16:07:41.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/402eb504c6258c5b83b47603d05822cd3a3852d6', 'message': 'Release sushy-tools 0.15.0\n\nChange-Id: I2714bd517e61c57839378c4605951984511e1ae4\n'}]",0,778023,402eb504c6258c5b83b47603d05822cd3a3852d6,9,6,1,1926,,,0,"Release sushy-tools 0.15.0

Change-Id: I2714bd517e61c57839378c4605951984511e1ae4
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/778023/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,402eb504c6258c5b83b47603d05822cd3a3852d6,, - version: 0.15.0 projects: - repo: openstack/sushy-tools hash: cee6785048997aa4c8b4287b9fbffb3ecf52fc07,,4,0
openstack%2Fopenstack-helm~master~I4388eda429f3093fed214633e5cebf3105bcebd3,openstack/openstack-helm,master,I4388eda429f3093fed214633e5cebf3105bcebd3,Add helm.sh/hook related annotations in keystone chart,MERGED,2021-03-01 11:08:42.000000000,2021-03-02 14:10:44.000000000,2021-03-02 14:09:00.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-01 11:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b64e12d53dbcdefefc34f8c19f8f47c6ac2a087', 'message': 'Add helm.sh/hook related annotations in keystone chart\n\nSame motivation with openstack/openstack-helm-infra/776466\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/777980\nChange-Id: I4388eda429f3093fed214633e5cebf3105bcebd3\n'}, {'number': 2, 'created': '2021-03-01 12:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50401811920b0615662332418f62ab564f985377', 'message': 'Add helm.sh/hook related annotations in keystone chart\n\nSame motivation with openstack/openstack-helm-infra/776466\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/777980\nChange-Id: I4388eda429f3093fed214633e5cebf3105bcebd3\n'}, {'number': 3, 'created': '2021-03-01 12:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e6b7ddb14616d5837041ba846ad73ecd79eb011a', 'message': 'Add helm.sh/hook related annotations in keystone chart\n\nSame motivation with openstack/openstack-helm-infra/776466\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/777980\nChange-Id: I4388eda429f3093fed214633e5cebf3105bcebd3\n'}, {'number': 4, 'created': '2021-03-01 12:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab09107cc485574b5d38ed35575999619de734fc', 'message': 'Add helm.sh/hook related annotations in keystone chart\n\nSame motivation with openstack/openstack-helm-infra/776466\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/777980\nChange-Id: I4388eda429f3093fed214633e5cebf3105bcebd3\n'}, {'number': 5, 'created': '2021-03-01 13:06:39.000000000', 'files': ['keystone/templates/job-bootstrap.yaml', 'keystone/templates/job-db-init.yaml', 'keystone/templates/job-db-sync.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/templates/job-image-repo-sync.yaml', 'keystone/templates/job-rabbit-init.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/909f967920592e7efe3e29b3cc1871f655906324', 'message': 'Add helm.sh/hook related annotations in keystone chart\n\nSame motivation with openstack/openstack-helm-infra/776466\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/777980\nChange-Id: I4388eda429f3093fed214633e5cebf3105bcebd3\n'}]",0,777983,909f967920592e7efe3e29b3cc1871f655906324,25,5,5,31746,,,0,"Add helm.sh/hook related annotations in keystone chart

Same motivation with openstack/openstack-helm-infra/776466

Depends-On: https://review.opendev.org/openstack/openstack-helm-infra/777980
Change-Id: I4388eda429f3093fed214633e5cebf3105bcebd3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/777983/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/job-bootstrap.yaml', 'keystone/Chart.yaml']",2,7b64e12d53dbcdefefc34f8c19f8f47c6ac2a087,,version: 0.1.9,version: 0.1.8,6,2
openstack%2Fmagnum~stable%2Fussuri~I2cd53bc9c59a60b90f708b1434381f120ace8c49,openstack/magnum,stable/ussuri,I2cd53bc9c59a60b90f708b1434381f120ace8c49,[k8s] Fix default admission controller,MERGED,2021-02-11 15:05:25.000000000,2021-03-02 14:07:55.000000000,2021-03-02 14:06:00.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1710286c0ae16bfd599e9918da14c2515773f39f', 'message': '[k8s] Fix default admission controller\n\nThe default admission controller list of k8s is being updated in\nthis patch by removing the SecurityContextDeny controller, which\nwill fix the k8s dashboard and metrics/prometheus creating issue.\n\nStory: 2008426\n\nChange-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49\n(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)\n'}, {'number': 2, 'created': '2021-02-11 17:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cc8c59ece736a0cc7150a29b71e9c5b5d1741c55', 'message': '[k8s] Fix default admission controller\n\nThe default admission controller list of k8s is being updated in\nthis patch by removing the SecurityContextDeny controller, which\nwill fix the k8s dashboard and metrics/prometheus creating issue.\n\nStory: 2008426\n\nChange-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49\n(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)\n'}, {'number': 3, 'created': '2021-03-02 12:27:29.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/default-admission-controller-04398548cf63597c.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2b353f58cafdf6e1d8147f71ced8baf00126adfb', 'message': '[k8s] Fix default admission controller\n\nThe default admission controller list of k8s is being updated in\nthis patch by removing the SecurityContextDeny controller, which\nwill fix the k8s dashboard and metrics/prometheus creating issue.\n\nStory: 2008426\n\nChange-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49\n(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)\n'}]",0,775180,2b353f58cafdf6e1d8147f71ced8baf00126adfb,13,3,3,28022,,,0,"[k8s] Fix default admission controller

The default admission controller list of k8s is being updated in
this patch by removing the SecurityContextDeny controller, which
will fix the k8s dashboard and metrics/prometheus creating issue.

Story: 2008426

Change-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49
(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/80/775180/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/default-admission-controller-04398548cf63597c.yaml']",2,1710286c0ae16bfd599e9918da14c2515773f39f,ussuri-fixes,"--- upgrade: - | Now the default admission controller list is updated by as ""NodeRestriction, PodSecurityPolicy, NamespaceLifecycle, LimitRanger, ServiceAccount, ResourceQuota, TaintNodesByCondition, Priority, DefaultTolerationSeconds, DefaultStorageClass, StorageObjectInUseProtection, PersistentVolumeClaimResize, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, RuntimeClass"" ",,6,1
openstack%2Fbarbican-tempest-plugin~master~Ie4fcfc00b0152755e2c82dfd13c6b7e473242871,openstack/barbican-tempest-plugin,master,Ie4fcfc00b0152755e2c82dfd13c6b7e473242871,Add skip for tests test_signed_image_upload_*,NEW,2020-03-02 12:40:39.000000000,2021-03-02 13:56:24.000000000,,"[{'_account_id': 9542}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-02 12:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/3ea23f882ab54a0ac1fd6b8d5e220f0fc4d2e9bc', 'message': 'Add skip for tests test_signed_image_upload_*\n\nSkip tests if barbican_intagration_enabled = False\n\nChange-Id: Ie4fcfc00b0152755e2c82dfd13c6b7e473242871\n'}, {'number': 2, 'created': '2020-03-13 21:14:58.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_image_signing.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e3580346a819deda357b256ed55210e660b65666', 'message': 'Add skip for tests test_signed_image_upload_*\n\nSkip tests if barbican_intagration_enabled = False\n\nChange-Id: Ie4fcfc00b0152755e2c82dfd13c6b7e473242871\n'}]",2,710760,e3580346a819deda357b256ed55210e660b65666,5,3,2,28032,,,0,"Add skip for tests test_signed_image_upload_*

Skip tests if barbican_intagration_enabled = False

Change-Id: Ie4fcfc00b0152755e2c82dfd13c6b7e473242871
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/60/710760/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/test_image_signing.py'],1,3ea23f882ab54a0ac1fd6b8d5e220f0fc4d2e9bc,,"import testtools @testtools.skipUnless( CONF.compute_feature_enabled.barbican_integration_enabled, 'Barbican integration must be enabled.') @testtools.skipUnless( CONF.compute_feature_enabled.barbican_integration_enabled, 'Barbican integration must be enabled.')",,8,0
openstack%2Fbarbican-tempest-plugin~master~I426e0eb9e94386578d5ee2e756edd128a2dd9f0a,openstack/barbican-tempest-plugin,master,I426e0eb9e94386578d5ee2e756edd128a2dd9f0a,Add skip to test_signed_image_upload_boot_snapshot,NEW,2020-03-02 12:46:52.000000000,2021-03-02 13:54:58.000000000,,"[{'_account_id': 9542}, {'_account_id': 10459}, {'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-02 12:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/1758de2024119b9dc6a8cb25b66f2854d8ffaf64', 'message': ""Add skip to test_signed_image_upload_boot_snapshot\n\nAdd test skip condition for situation, when environment can't sign image\nand therefore fails the test.\n\nChange-Id: I426e0eb9e94386578d5ee2e756edd128a2dd9f0a\n""}, {'number': 2, 'created': '2020-03-13 21:07:08.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_image_signing.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/960f83e0d59d2bf5813f0c5350e4157ebe1abf21', 'message': ""Add skip to test_signed_image_upload_boot_snapshot\n\nAdd test skip condition for situation, when environment can't sign image\nand therefore fails the test.\n\nChange-Id: I426e0eb9e94386578d5ee2e756edd128a2dd9f0a\n""}]",1,710761,960f83e0d59d2bf5813f0c5350e4157ebe1abf21,5,4,2,28032,,,0,"Add skip to test_signed_image_upload_boot_snapshot

Add test skip condition for situation, when environment can't sign image
and therefore fails the test.

Change-Id: I426e0eb9e94386578d5ee2e756edd128a2dd9f0a
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/61/710761/2 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/test_image_signing.py'],1,1758de2024119b9dc6a8cb25b66f2854d8ffaf64,,"import testtools @testtools.skipUnless( CONF.compute_feature_enabled.barbican_integration_enabled, 'Barbican integration must be enabled.')",,5,0
openstack%2Fpuppet-openstack_spec_helper~master~I13bd6f4c628ac03f426a4fb617a9a11d597f6ed0,openstack/puppet-openstack_spec_helper,master,I13bd6f4c628ac03f426a4fb617a9a11d597f6ed0,DNM: Testing gate,ABANDONED,2021-03-02 13:21:48.000000000,2021-03-02 13:45:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-02 13:21:48.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c9a0bbbb27689b7015bb8b39c1d5cb23bc39796c', 'message': 'DNM: Testing gate\n\nChange-Id: I13bd6f4c628ac03f426a4fb617a9a11d597f6ed0\n'}]",0,778190,c9a0bbbb27689b7015bb8b39c1d5cb23bc39796c,3,1,1,9816,,,0,"DNM: Testing gate

Change-Id: I13bd6f4c628ac03f426a4fb617a9a11d597f6ed0
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/90/778190/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,c9a0bbbb27689b7015bb8b39c1d5cb23bc39796c,dnm,,,0,0
openstack%2Fcinder-tempest-plugin~master~I67eb5a97dc6cc96db5d4283f4d577de9f12653eb,openstack/cinder-tempest-plugin,master,I67eb5a97dc6cc96db5d4283f4d577de9f12653eb,Remove duplicate code - base inherited from tempest,ABANDONED,2019-11-25 18:53:11.000000000,2021-03-02 13:33:36.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-11-25 18:53:11.000000000', 'files': ['cinder_tempest_plugin/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1faa72591d9bf53b9809eb467160f2f6cdb4d709', 'message': 'Remove duplicate code - base inherited from tempest\n\nThere is no reason to re-write the code.\nNeed to inherit from tempest and local base will be for adding\ncapabilities\n\nChange-Id: I67eb5a97dc6cc96db5d4283f4d577de9f12653eb\n'}]",0,695970,1faa72591d9bf53b9809eb467160f2f6cdb4d709,17,10,1,11075,,,0,"Remove duplicate code - base inherited from tempest

There is no reason to re-write the code.
Need to inherit from tempest and local base will be for adding
capabilities

Change-Id: I67eb5a97dc6cc96db5d4283f4d577de9f12653eb
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/70/695970/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/base.py'],1,1faa72591d9bf53b9809eb467160f2f6cdb4d709,,from tempest.api.volume import base class BaseVolumeTest(base.BaseVolumeTest): class BaseVolumeAdminTest(base.BaseVolumeAdminTest):,"from tempest.api.volume import api_microversion_fixture from tempest.common import compute from tempest.common import waitersfrom tempest.lib.common import api_version_utils from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils from tempest.lib import exceptions from tempest import testclass BaseVolumeTest(api_version_utils.BaseMicroversionTest, test.BaseTestCase): @classmethod def skip_checks(cls): super(BaseVolumeTest, cls).skip_checks() if not CONF.service_available.cinder: skip_msg = (""%s skipped as Cinder is not available"" % cls.__name__) raise cls.skipException(skip_msg) if cls._api_version == 2: if not CONF.volume_feature_enabled.api_v2: msg = ""Volume API v2 is disabled"" raise cls.skipException(msg) elif cls._api_version == 3: if not CONF.volume_feature_enabled.api_v3: msg = ""Volume API v3 is disabled"" raise cls.skipException(msg) else: msg = (""Invalid Cinder API version (%s)"" % cls._api_version) raise exceptions.InvalidConfiguration(msg) api_version_utils.check_skip_with_microversion( cls.min_microversion, cls.max_microversion, CONF.volume.min_microversion, CONF.volume.max_microversion) @classmethod def setup_clients(cls): super(BaseVolumeTest, cls).setup_clients() if cls._api_version == 3: cls.backups_client = cls.os_primary.backups_v3_client cls.volumes_client = cls.os_primary.volumes_v3_client else: cls.backups_client = cls.os_primary.backups_v2_client cls.volumes_client = cls.os_primary.volumes_v2_client cls.snapshots_client = cls.os_primary.snapshots_v2_client @classmethod def setup_credentials(cls): cls.set_network_resources() super(BaseVolumeTest, cls).setup_credentials() def setUp(self): super(BaseVolumeTest, self).setUp() self.useFixture(api_microversion_fixture.APIMicroversionFixture( self.request_microversion)) @classmethod def resource_setup(cls): super(BaseVolumeTest, cls).resource_setup() cls.request_microversion = ( api_version_utils.select_request_microversion( cls.min_microversion, CONF.volume.min_microversion)) @classmethod def create_volume(cls, wait_until='available', **kwargs): """"""Wrapper utility that returns a test volume. :param wait_until: wait till volume status. """""" if 'size' not in kwargs: kwargs['size'] = CONF.volume.volume_size if 'imageRef' in kwargs: image = cls.os_primary.image_client_v2.show_image( kwargs['imageRef']) min_disk = image['min_disk'] kwargs['size'] = max(kwargs['size'], min_disk) if 'name' not in kwargs: name = data_utils.rand_name(cls.__name__ + '-Volume') kwargs['name'] = name volume = cls.volumes_client.create_volume(**kwargs)['volume'] cls.addClassResourceCleanup( cls.volumes_client.wait_for_resource_deletion, volume['id']) cls.addClassResourceCleanup(test_utils.call_and_ignore_notfound_exc, cls.volumes_client.delete_volume, volume['id']) waiters.wait_for_volume_resource_status(cls.volumes_client, volume['id'], wait_until) return volume @classmethod def create_snapshot(cls, volume_id=1, **kwargs): """"""Wrapper utility that returns a test snapshot."""""" if 'name' not in kwargs: name = data_utils.rand_name(cls.__name__ + '-Snapshot') kwargs['name'] = name snapshot = cls.snapshots_client.create_snapshot( volume_id=volume_id, **kwargs)['snapshot'] cls.addClassResourceCleanup( cls.snapshots_client.wait_for_resource_deletion, snapshot['id']) cls.addClassResourceCleanup(test_utils.call_and_ignore_notfound_exc, cls.snapshots_client.delete_snapshot, snapshot['id']) waiters.wait_for_volume_resource_status(cls.snapshots_client, snapshot['id'], 'available') return snapshot def create_backup(self, volume_id, backup_client=None, **kwargs): """"""Wrapper utility that returns a test backup."""""" if backup_client is None: backup_client = self.backups_client if 'name' not in kwargs: name = data_utils.rand_name(self.__class__.__name__ + '-Backup') kwargs['name'] = name backup = backup_client.create_backup( volume_id=volume_id, **kwargs)['backup'] self.addCleanup(backup_client.wait_for_resource_deletion, backup['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, backup_client.delete_backup, backup['id']) waiters.wait_for_volume_resource_status(backup_client, backup['id'], 'available') return backup def create_server(self, wait_until='ACTIVE', **kwargs): name = kwargs.pop( 'name', data_utils.rand_name(self.__class__.__name__ + '-instance')) tenant_network = self.get_tenant_network() body, _ = compute.create_test_server( self.os_primary, tenant_network=tenant_network, name=name, wait_until=wait_until, **kwargs) self.addCleanup(test_utils.call_and_ignore_notfound_exc, waiters.wait_for_server_termination, self.os_primary.servers_client, body['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.os_primary.servers_client.delete_server, body['id']) return body class BaseVolumeAdminTest(BaseVolumeTest): cls.admin_volume_types_client = cls.os_admin.volume_types_client_latest",5,151
openstack%2Felection~master~Ifb37a00ca800e99699de2cf68e12533a4545f750,openstack/election,master,Ifb37a00ca800e99699de2cf68e12533a4545f750,Setup X Election,MERGED,2021-01-15 20:26:54.000000000,2021-03-02 13:20:28.000000000,2021-03-02 04:33:55.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 20:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/5fb6240bb22bce6e517f032305a21ecac9d92bcb', 'message': ""Setup X Election\n\nHonestly, running the elections in parallel is so much easier than running\nthem separately. Since we have the precendence for running them together, I\nfigured I would propose we do it again. Happy to change it though. I used\ntonyb's tool, but the dates for the begining of victoria and end of wallaby\nweren't right? Perhaps my arguments were wrong, but I think I have them\nright.\n\nChange-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750\n""}, {'number': 2, 'created': '2021-01-15 20:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/91516d7452a19a50d4ad467467ad620b1a2794d1', 'message': ""Setup X Election\n\nHonestly, running the elections in parallel is so much easier than running\nthem separately. Since we have the precendence for running them together, I\nfigured I would propose we do it again. Happy to change it though. I used\ntonyb's tool, but the dates for the begining of victoria and end of wallaby\nweren't right? Perhaps my arguments were wrong, but I think I have them\nright.\n\nChange-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750\n""}, {'number': 3, 'created': '2021-02-25 22:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/2635549dcbdbf73136cd7a1c058621624b7e785c', 'message': ""Setup X Election\n\nHonestly, running the elections in parallel is so much easier than running\nthem separately. Since we have the precendence for running them together, I\nfigured I would propose we do it again. Happy to change it though. I used\ntonyb's tool, but the dates for the begining of victoria and end of wallaby\nweren't right? Perhaps my arguments were wrong, but I think I have them\nright.\n\nChange-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750\n""}, {'number': 4, 'created': '2021-02-26 18:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/6f7acc855b873666b1d094e9aeeef910bd2309b8', 'message': ""Setup X Election\n\nHonestly, running the elections in parallel is so much easier than running\nthem separately. Since we have the precendence for running them together, I\nfigured I would propose we do it again. Happy to change it though. I used\ntonyb's tool, but the dates for the begining of victoria and end of wallaby\nweren't right? Perhaps my arguments were wrong, but I think I have them\nright.\n\nChange-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750\n""}, {'number': 5, 'created': '2021-02-27 05:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/e3ea788ceba5bfe9fab213c0daa494c1c6b3ecaf', 'message': 'Setup X Election\n\nHonestly, running the elections in parallel is so much easier than running\nthem separately. Since we have the precendence for running them together, I\nfigured I would propose we do it again.\n\nChange-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750\n'}, {'number': 6, 'created': '2021-03-01 23:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/981bd83f7292b021ed64aaeaafa6deb6a595b1d5', 'message': 'Setup X Election\n\nHonestly, running the elections in parallel is so much easier than running\nthem separately. Since we have the precendence for running them together, I\nfigured I would propose we do it again.\n\nChange-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750\n'}, {'number': 7, 'created': '2021-03-02 03:17:37.000000000', 'files': ['configuration.yaml', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/2b614dada6b0f622088fbb169776630db8b065dc', 'message': 'Setup X Election\n\nHonestly, running the elections in parallel is so much easier than running\nthem separately. Since we have the precendence for running them together, I\nfigured I would propose we do it again.\n\nChange-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750\n'}]",14,771077,2b614dada6b0f622088fbb169776630db8b065dc,39,6,7,16708,,,0,"Setup X Election

Honestly, running the elections in parallel is so much easier than running
them separately. Since we have the precendence for running them together, I
figured I would propose we do it again.

Change-Id: Ifb37a00ca800e99699de2cf68e12533a4545f750
",git fetch https://review.opendev.org/openstack/election refs/changes/77/771077/7 && git format-patch -1 --stdout FETCH_HEAD,"['configuration.yaml', 'doc/source/index.rst']",2,5fb6240bb22bce6e517f032305a21ecac9d92bcb,setup-xena-election,"* Kendall Nelson (diablo_rojo), `knelson@openinfra.dev <mailto:knelson@openinfra.dev>`_",,16,15
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,openstack/openstack-ansible,stable/victoria,Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,Workaround nova bug,MERGED,2021-02-27 17:29:16.000000000,2021-03-02 13:19:02.000000000,2021-03-02 13:17:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-27 17:29:16.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad8ba55bdb1ffe47088afef54e212655a5811104', 'message': 'Workaround nova bug\n\nFor some reason libvirt of version 5.1 fails to attach\nsecond port to instances with single vcpu and pc-i440fx\nmachine type.\nSo we applying workaround with extending amount of cores\nfor amphora flavor\n\nRelated-Bug: #1916879\nChange-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1\n(cherry picked from commit 07f7243bf90611e31cd8c94b5ea2883f0ee65bb4)\n'}]",0,777779,ad8ba55bdb1ffe47088afef54e212655a5811104,15,3,1,28619,,,0,"Workaround nova bug

For some reason libvirt of version 5.1 fails to attach
second port to instances with single vcpu and pc-i440fx
machine type.
So we applying workaround with extending amount of cores
for amphora flavor

Related-Bug: #1916879
Change-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1
(cherry picked from commit 07f7243bf90611e31cd8c94b5ea2883f0ee65bb4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/777779/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'],1,ad8ba55bdb1ffe47088afef54e212655a5811104,,octavia_amp_vcpu: 2,,1,0
openstack%2Fneutron~master~Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc,openstack/neutron,master,Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc,Allow to manually define the gateway IP when using subnet pools,MERGED,2021-01-20 12:00:15.000000000,2021-03-02 13:18:14.000000000,2021-03-02 13:10:53.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 12:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45a322f758d25437928dea859f0f31f9d05dc939', 'message': '[WIP] Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nTODO: testing\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}, {'number': 2, 'created': '2021-01-20 17:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/596e32003d9bb6761d917c74fb7841365ddc1805', 'message': '[WIP] Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nTODO: testing\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}, {'number': 3, 'created': '2021-01-21 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c65315cc4a5b88ad37c4d92858b26fc623e32985', 'message': '[WIP] Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}, {'number': 4, 'created': '2021-01-21 11:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29722407c1b4faf7b79287f68f9ada0524fb281a', 'message': 'Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}, {'number': 5, 'created': '2021-01-22 10:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f24850339acde490d3527726250df9feb4ababc', 'message': 'Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}, {'number': 6, 'created': '2021-02-18 13:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f61ae650e5c9095a7bb69797f4fa64a69b03fb81', 'message': 'Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}, {'number': 7, 'created': '2021-02-25 17:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2ca7ae343b15bbb9bd3097c86cebcb86aa1bf8c', 'message': 'Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}, {'number': 8, 'created': '2021-02-27 10:06:35.000000000', 'files': ['neutron/ipam/requests.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'releasenotes/notes/create-sunet-with-gateway-and-subnetpools-559335807639b5b6.yaml', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_subnet.py', 'neutron/tests/unit/ipam/test_requests.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/303d24ab8a9f4e337cc76a837082888a976f99be', 'message': 'Allow to manually define the gateway IP when using subnet pools\n\nNow is possible to define a gateway IP when creating a subnet using a\nsubnet pool. The IPAM subnet generator retrieves the available IP\nranges in the subnet pool and generates a list of candidate subnets\nwith the prefix lenght defined. If the gateway IP can be allocated in\none of those candidate subnets, the IPAM returns a valid IpamSubnet\nthat will be used to create a Neutron subnet.\n\nCloses-Bug: #1904436\n\nChange-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc\n'}]",14,771621,303d24ab8a9f4e337cc76a837082888a976f99be,61,4,8,16688,,,0,"Allow to manually define the gateway IP when using subnet pools

Now is possible to define a gateway IP when creating a subnet using a
subnet pool. The IPAM subnet generator retrieves the available IP
ranges in the subnet pool and generates a list of candidate subnets
with the prefix lenght defined. If the gateway IP can be allocated in
one of those candidate subnets, the IPAM returns a valid IpamSubnet
that will be used to create a Neutron subnet.

Closes-Bug: #1904436

Change-Id: Ib1d1f591c4d0f59ebff3ddcb3be7b10b0b5e67dc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/771621/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/ipam/requests.py', 'neutron/ipam/subnet_alloc.py']",2,45a322f758d25437928dea859f0f31f9d05dc939,bug/1904436," gateway_ip = request.gateway_ip available_subnets = [] for prefix in prefix_pool: if request.prefixlen < prefix.prefixlen: continue for subnet in prefix.subnet(request.prefixlen): if gateway_ip: iprange = ipam_utils.generate_pools(subnet.cidr, None)[0] available_subnets.append(str(subnet)) if gateway_ip not in iprange: continue else: pools = ipam_utils.generate_pools(subnet.cidr, gateway_ip) msg = ('Insufficient prefix space to allocate subnet size /%s' % str(request.prefixlen)) if gateway_ip: msg += (' or the gateway IP %(gateway_ip)s cannot be assigned ' 'to any available subnet %(subnets)s' % {'gateway_ip': gateway_ip, 'subnets': available_subnets}) raise exceptions.SubnetAllocationError(reason=_(msg))"," for prefix in prefix_pool: if request.prefixlen >= prefix.prefixlen: subnet = next(prefix.subnet(request.prefixlen)) gateway_ip = request.gateway_ip if not gateway_ip: pools = ipam_utils.generate_pools(subnet.cidr, gateway_ip) msg = _(""Insufficient prefix space to allocate subnet size /%s"") raise exceptions.SubnetAllocationError( reason=msg % str(request.prefixlen))",25,10
openstack%2Fmagnum~stable%2Fvictoria~I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,openstack/magnum,stable/victoria,I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,Fix misquoted comment,MERGED,2021-02-11 15:42:13.000000000,2021-03-02 13:17:58.000000000,2021-03-02 13:10:05.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2021-02-11 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/687c5144d29ac58d736906fd70eb4bf1aba74f69', 'message': ""Fix misquoted comment\n\nSeen while validating release, in the heat container agent journal:\n\n```\n/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:\n    line 776: --cluster-cidr: command not found\nerror: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.\n```\n\nTask: 41231\nStory: 2008330\nChange-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3\n(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)\n""}, {'number': 2, 'created': '2021-03-02 10:28:44.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/aed84462a3d78f56af65dfe652f09e4e161c416a', 'message': ""Fix misquoted comment\n\nSeen while validating release, in the heat container agent journal:\n\n```\n/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:\n    line 776: --cluster-cidr: command not found\nerror: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.\n```\n\nTask: 41231\nStory: 2008330\nChange-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3\n(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)\n""}]",0,775114,aed84462a3d78f56af65dfe652f09e4e161c416a,12,5,2,28022,,,0,"Fix misquoted comment

Seen while validating release, in the heat container agent journal:

```
/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:
    line 776: --cluster-cidr: command not found
error: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.
```

Task: 41231
Story: 2008330
Change-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3
(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/14/775114/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'],1,687c5144d29ac58d736906fd70eb4bf1aba74f69,victoria-fixes, # no effect. This should fall within '--cluster-cidr'. # Disable file logging so 'kubectl logs' works., # no effect. This should fall within `--cluster-cidr`. # Disable file logging so `kubectl logs` works.,2,2
openstack%2Fnova~master~I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647,openstack/nova,master,I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647,libvirt: add AsyncDeviceEventsHandler,MERGED,2021-01-25 17:18:23.000000000,2021-03-02 13:16:22.000000000,2021-03-02 13:11:22.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-25 17:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ead814738130c6c20077c650a8a39871580471c6', 'message': 'libvirt: add AsyncDeviceDetachEventsHandler\n\nThis class will be used as synchronization point between the device\ndetach implementation and the generic libvirt event handling in the\nlibvirt driver. This later makes it possible to wait for libvirt device\nremoval events during device detach in a thread / greenlet safe way.\n\nThe basic usage pattern is the following:\n\nsetup:\n  handler = AsyncDeviceDetachEventsHandler()\n\nthread1:\n\n  waiter = handler.create_waiter(<event_name>)\n  # initiate detach in libvirt\n  detach()\n  # block until the event is received\n  event = handler.wait(waiter, timeout=20)\n\nthread2:\n\n  # at some point after detach() in thread1\n  handler.notify_waiters(event)\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647\nRelated-Bug: #1882521\n'}, {'number': 2, 'created': '2021-01-25 17:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fa1e96990ff7df0e53bb14c4b30bf9b7a962aaa', 'message': 'libvirt: add AsyncDeviceDetachEventsHandler\n\nThis class will be used as synchronization point between the device\ndetach implementation and the generic libvirt event handling in the\nlibvirt driver. This later makes it possible to wait for libvirt device\nremoval events during device detach in a thread / greenlet safe way.\n\nThe basic usage pattern is the following:\n\nsetup:\n  handler = AsyncDeviceDetachEventsHandler()\n\nthread1:\n\n  waiter = handler.create_waiter(<event_name>)\n  # initiate detach in libvirt\n  detach()\n  # block until the event is received\n  event = handler.wait(waiter, timeout=20)\n\nthread2:\n\n  # at some point after detach() in thread1\n  handler.notify_waiters(event)\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647\nRelated-Bug: #1882521\n'}, {'number': 3, 'created': '2021-01-26 17:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4b0d33b1cd6a47a3427ac47fcc9b50a871e7fd0', 'message': 'libvirt: add AsyncDeviceDetachEventsHandler\n\nThis class will be used as synchronization point between the device\ndetach implementation and the generic libvirt event handling in the\nlibvirt driver. This later makes it possible to wait for libvirt device\nremoval events during device detach in a thread / greenlet safe way.\n\nThe basic usage pattern is the following:\n\nsetup:\n  handler = AsyncDeviceDetachEventsHandler()\n\nthread1:\n\n  waiter = handler.create_waiter(<event_name>)\n  # initiate detach in libvirt\n  detach()\n  # block until the event is received\n  event = handler.wait(waiter, timeout=20)\n\nthread2:\n\n  # at some point after detach() in thread1\n  handler.notify_waiters(event)\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647\nRelated-Bug: #1882521\n'}, {'number': 4, 'created': '2021-01-29 12:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e37674ab1075f420d3095bd82bd303fd2e534d9a', 'message': 'libvirt: add AsyncDeviceDetachEventsHandler\n\nThis class will be used as synchronization point between the device\ndetach implementation and the generic libvirt event handling in the\nlibvirt driver. This later makes it possible to wait for libvirt device\nremoval events during device detach in a thread / greenlet safe way.\n\nThe basic usage pattern is the following:\n\nsetup:\n  handler = AsyncDeviceDetachEventsHandler()\n\nthread1:\n\n  waiter = handler.create_waiter(<event_name>)\n  # initiate detach in libvirt\n  detach()\n  # block until the event is received\n  event = handler.wait(waiter, timeout=20)\n\nthread2:\n\n  # at some point after detach() in thread1\n  handler.notify_waiters(event)\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647\nRelated-Bug: #1882521\n'}, {'number': 5, 'created': '2021-02-08 17:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1178f264c6bafe63da2da04dee6bf4186744794', 'message': 'libvirt: add AsyncDeviceDetachEventsHandler\n\nThis class will be used as synchronization point between the device\ndetach implementation and the generic libvirt event handling in the\nlibvirt driver. This later makes it possible to wait for libvirt device\nremoval events during device detach in a thread / greenlet safe way.\n\nThe basic usage pattern is the following:\n\nsetup:\n  handler = AsyncDeviceDetachEventsHandler()\n\nthread1:\n\n  waiter = handler.create_waiter(<event_name>)\n  # initiate detach in libvirt\n  detach()\n  # block until the event is received\n  event = handler.wait(waiter, timeout=20)\n\nthread2:\n\n  # at some point after detach() in thread1\n  handler.notify_waiters(event)\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647\nRelated-Bug: #1882521\n'}, {'number': 6, 'created': '2021-02-22 15:09:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f5cd6e2deae6209505b1b2d1a55d0f9fe6a444d0', 'message': 'libvirt: add AsyncDeviceEventsHandler\n\nThis class will be used as synchronization point between the device\ndetach implementation and the generic libvirt event handling in the\nlibvirt driver. This later makes it possible to wait for libvirt device\nremoval events during device detach in a thread / greenlet safe way.\n\nThe basic usage pattern is the following:\n\nsetup:\n  handler = AsyncDeviceEventsHandler()\n\nthread1:\n\n  waiter = handler.create_waiter(<instance>, <device>, <event types>)\n  # initiate detach in libvirt\n  detach()\n  # block until the event is received\n  event = handler.wait(waiter, timeout=20)\n\nthread2:\n\n  # at some point after detach() in thread1\n  handler.notify_waiters(event)\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647\nRelated-Bug: #1882521\n'}]",35,772381,f5cd6e2deae6209505b1b2d1a55d0f9fe6a444d0,79,4,6,9708,,,0,"libvirt: add AsyncDeviceEventsHandler

This class will be used as synchronization point between the device
detach implementation and the generic libvirt event handling in the
libvirt driver. This later makes it possible to wait for libvirt device
removal events during device detach in a thread / greenlet safe way.

The basic usage pattern is the following:

setup:
  handler = AsyncDeviceEventsHandler()

thread1:

  waiter = handler.create_waiter(<instance>, <device>, <event types>)
  # initiate detach in libvirt
  detach()
  # block until the event is received
  event = handler.wait(waiter, timeout=20)

thread2:

  # at some point after detach() in thread1
  handler.notify_waiters(event)

This is part of the longer series trying to transform the existing
device detach handling to use libvirt events.

Change-Id: I7fc1ba2d2cbdb3f46f3649b1279b0c1a40457647
Related-Bug: #1882521
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/772381/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,ead814738130c6c20077c650a8a39871580471c6,bug/1882521,"import threadingclass AsyncDeviceDetachEventsHandler: def __init__(self): self._lock = threading.Lock() # Ongoing device detaches in libvirt where we wait for the events # about success or failure. It is a dict of threading.Event objects # keyed by <instance.uuid>-<device-name> string. self._waiters: ty.Dict[str, threading.Event] = {} # The received libvirt event keyed with the same # <instance.uuid>-<device-name> key self._results: ty.Dict[ str, ty.Union[ virtevent.DeviceRemovedEvent, virtevent.DeviceRemovalFailedEvent]] = {} def create_waiter(self, instance_uuid: str, device_name: str) -> str: """"""Returns an opaque token the caller can use in wait() to wait for the libvirt event :param instance_uuid: The UUID of the instance. :param device-name: The device name alias used by libvirt for this device. :returns: an opque token to be used with wait_for_event(). """""" event_name = f""{instance_uuid}-{device_name}"" with self._lock: threading_event = self._waiters.get(event_name, None) if threading_event is not None: # NOTE(gibi): This should not happen as we are taking an # instance lock on the compute manager level when detaching a # device. So two detach requests for the same device cannot # run in parallel. Still this code will use the same threading # event for both requests so if the detach libvirt event for # this device is received then every waiting caller will be # unblocked. LOG.warning( 'Device detach event handle already exists for ' 'instance %s and device %s. This should not happen. ' 'Driver will notify all handlers waiting for this event.', instance_uuid, device_name) else: threading_event = threading.Event() self._waiters[event_name] = threading_event self._results[event_name] = None return event_name def remove_waiter(self, token: str): """"""Deletes the waiter :param token: the opaque token returned by create_waiter() to be deleted """""" with self._lock: self._waiters.pop(token, None) self._results.pop(token, None) def wait(self, token: str, timeout: int, ) -> ty.Union[ None, virtevent.DeviceRemovedEvent, virtevent.DeviceRemovalFailedEvent, ]: """"""Blocks waiting for the libvirt event represented by the opaque token :param token: A token created by calling create_waiter() :param timeout: Maximum number of seconds this call blocks waiting for the event to be received :returns: The received libvirt event, or None in case of timeout """""" with self._lock: threading_event = self._waiters.get(token) if threading_event is None: raise ValueError( ""Waiter not found. You have to call create_waiter() first"") received = threading_event.wait(timeout) with self._lock: self._waiters.pop(token, None) result = self._results.pop(token, None) if not received: return None else: return result def notify_waiters( self, event: ty.Union[ virtevent.DeviceRemovedEvent, virtevent.DeviceRemovalFailedEvent], ) -> bool: """"""Unblocks the client waiting for this event. :param event: the libvirt event that is received :returns: True if there was a client waiting and False otherwise. """""" event_name = f""{event.uuid}-{event.dev}"" with self._lock: threading_event = self._waiters.get(event_name) if threading_event is None: return False else: self._results[event_name] = event threading_event.set() return True def cleanup_waiters(self, instance_uuid): # clean up all waiters and results related to the instance with self._lock: waiters = { event_name: waiter for event_name, waiter in self._waiters.items() if event_name.startswith(instance_uuid) } results = { event_name: result for event_name, result in self._results.items() if event_name.startswith(instance_uuid) } for event_name in waiters: threading_event = self._waiters.pop(event_name) # unblock the waiter so the waiting thread can finish threading_event.set() for event_name in results: self._results.pop(event_name) if waiters or results: LOG.debug( 'Cleaned up device detach libvirt event waiters for ' 'instance %s: %s', instance_uuid, waiters.keys() | results.keys()) ",,135,0
openstack%2Fneutron~master~Ib7d30b954bef3bc3551f1ca206873df354d1ab23,openstack/neutron,master,Ib7d30b954bef3bc3551f1ca206873df354d1ab23,"Remove ""IpCommandBase"" base class",MERGED,2021-02-18 17:15:23.000000000,2021-03-02 13:15:56.000000000,2021-03-02 13:10:22.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 17:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c130e8449a739b49b66b710664bcec5b4e66d75f', 'message': 'Remove ""IpCommandBase"" base class\n\nStory: #2007686\nTask: #41558\n\nChange-Id: Ib7d30b954bef3bc3551f1ca206873df354d1ab23\n'}, {'number': 2, 'created': '2021-02-19 09:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/388f278bb523ed8b15de939b690faf1113d94f18', 'message': 'Remove ""IpCommandBase"" base class\n\nStory: #2007686\nTask: #41558\n\nChange-Id: Ib7d30b954bef3bc3551f1ca206873df354d1ab23\n'}, {'number': 3, 'created': '2021-02-19 14:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38ee5b3f328a6634ac1369a4aeb0aa66fd018aef', 'message': 'Remove ""IpCommandBase"" base class\n\nStory: #2007686\nTask: #41558\n\nChange-Id: Ib7d30b954bef3bc3551f1ca206873df354d1ab23\n'}, {'number': 4, 'created': '2021-02-22 09:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b47d03317a1ac9ec96d8a457dd7830a2959e37e8', 'message': 'Remove ""IpCommandBase"" base class\n\nStory: #2007686\nTask: #41558\n\nChange-Id: Ib7d30b954bef3bc3551f1ca206873df354d1ab23\n'}, {'number': 5, 'created': '2021-03-01 12:19:00.000000000', 'files': ['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a4dcb18bbc96b347f14d98a959a238c008bf5fe', 'message': 'Remove ""IpCommandBase"" base class\n\n""IpCommandBase"" class was implemented to provide a common interface\nfor all ""ip"" command subclasses. This base class provided a COMMAND\nclass variable, to define the ""ip"" shell command subparameter and\na two execution methods, ""_run"" and ""_as_root"".\n\nNow all ""ip"" command classes have been migrated to Pyroute2, this\nbasic interface is not needed anymore.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: Ib7d30b954bef3bc3551f1ca206873df354d1ab23\n'}]",3,776501,0a4dcb18bbc96b347f14d98a959a238c008bf5fe,36,4,5,16688,,,0,"Remove ""IpCommandBase"" base class

""IpCommandBase"" class was implemented to provide a common interface
for all ""ip"" command subclasses. This base class provided a COMMAND
class variable, to define the ""ip"" shell command subparameter and
a two execution methods, ""_run"" and ""_as_root"".

Now all ""ip"" command classes have been migrated to Pyroute2, this
basic interface is not needed anymore.

Story: #2007686
Task: #41558

Change-Id: Ib7d30b954bef3bc3551f1ca206873df354d1ab23
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/776501/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/ip_lib.py'],1,c130e8449a739b49b66b710664bcec5b4e66d75f,task/41558,"class IpDeviceCommandBase(object):class IpNetnsCommand(object): def __init__(self, parent): self._parent = parent","class IpCommandBase(object): COMMAND = '' def _run(self, options, args): return self._parent._run(options, self.COMMAND, args) def _as_root(self, options, args, use_root_namespace=False): return self._parent._as_root(options, self.COMMAND, args, use_root_namespace=use_root_namespace) class IpDeviceCommandBase(IpCommandBase): COMMAND = 'link' COMMAND = 'addr' COMMAND = 'route' COMMAND = 'neigh'class IpNetnsCommand(IpCommandBase): COMMAND = 'netns'",5,19
openstack%2Fmagnum~stable%2Fvictoria~I2cd53bc9c59a60b90f708b1434381f120ace8c49,openstack/magnum,stable/victoria,I2cd53bc9c59a60b90f708b1434381f120ace8c49,[k8s] Fix default admission controller,MERGED,2021-02-11 15:35:20.000000000,2021-03-02 13:15:41.000000000,2021-03-02 13:09:10.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-11 15:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c1100225b1fc2a59a25a156da2d38846f656cab5', 'message': '[k8s] Fix default admission controller\n\nThe default admission controller list of k8s is being updated in\nthis patch by removing the SecurityContextDeny controller, which\nwill fix the k8s dashboard and metrics/prometheus creating issue.\n\nStory: 2008426\n\nChange-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49\n(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)\n'}, {'number': 2, 'created': '2021-02-11 15:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c66b718a804473a731268d5b3e636823b6575f1f', 'message': '[k8s] Fix default admission controller\n\nThe default admission controller list of k8s is being updated in\nthis patch by removing the SecurityContextDeny controller, which\nwill fix the k8s dashboard and metrics/prometheus creating issue.\n\nStory: 2008426\n\nChange-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49\n(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)\n'}, {'number': 3, 'created': '2021-03-02 10:28:35.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/default-admission-controller-04398548cf63597c.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3360b8d82f497650b644756d9a75191046f8958f', 'message': '[k8s] Fix default admission controller\n\nThe default admission controller list of k8s is being updated in\nthis patch by removing the SecurityContextDeny controller, which\nwill fix the k8s dashboard and metrics/prometheus creating issue.\n\nStory: 2008426\n\nChange-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49\n(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)\n'}]",0,775112,3360b8d82f497650b644756d9a75191046f8958f,14,4,3,28022,,,0,"[k8s] Fix default admission controller

The default admission controller list of k8s is being updated in
this patch by removing the SecurityContextDeny controller, which
will fix the k8s dashboard and metrics/prometheus creating issue.

Story: 2008426

Change-Id: I2cd53bc9c59a60b90f708b1434381f120ace8c49
(cherry picked from commit fade2451705b915c2625ae006d28d92eddbba27e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/12/775112/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/default-admission-controller-04398548cf63597c.yaml']",2,c1100225b1fc2a59a25a156da2d38846f656cab5,fix-default-admission-controller-story/2008426-stable/victoria,"--- upgrade: - | Now the default admission controller list is updated by as ""NodeRestriction, PodSecurityPolicy, NamespaceLifecycle, LimitRanger, ServiceAccount, ResourceQuota, TaintNodesByCondition, Priority, DefaultTolerationSeconds, DefaultStorageClass, StorageObjectInUseProtection, PersistentVolumeClaimResize, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, RuntimeClass"" ",,9,0
openstack%2Fcharm-nova-compute~master~I4283f12e4346b64f89dbc13bb64e5fb7edca2f62,openstack/charm-nova-compute,master,I4283f12e4346b64f89dbc13bb64e5fb7edca2f62,apparmor: update profile for hardware offload,MERGED,2021-01-11 10:55:12.000000000,2021-03-02 13:13:32.000000000,2021-03-02 12:48:43.000000000,"[{'_account_id': 8992}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2021-01-11 10:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/5123e5bed3f2ee3489d9a853e3c9ec6e2536dee0', 'message': 'apparmor: update profile for hardware offload\n\nThe nova-compute daemon requires access to a couple of additional\npaths to support querying the underlying hardware in hardware\noffload enabled scenarios.\n\nUpdate apparmor profile to reflect these additional requirements.\n\nChange-Id: I4283f12e4346b64f89dbc13bb64e5fb7edca2f62\nCloses-Bug: 1895530\n'}, {'number': 2, 'created': '2021-03-02 10:55:57.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/08728a3adf9371761556f97e45b751c076d9ce75', 'message': 'apparmor: update profile for hardware offload\n\nThe nova-compute daemon requires access to a couple of additional\npaths to support querying the underlying hardware in hardware\noffload enabled scenarios.\n\nUpdate apparmor profile to reflect these additional requirements.\n\nChange-Id: I4283f12e4346b64f89dbc13bb64e5fb7edca2f62\nCloses-Bug: 1895530\n'}]",0,770100,08728a3adf9371761556f97e45b751c076d9ce75,15,6,2,935,,,0,"apparmor: update profile for hardware offload

The nova-compute daemon requires access to a couple of additional
paths to support querying the underlying hardware in hardware
offload enabled scenarios.

Update apparmor profile to reflect these additional requirements.

Change-Id: I4283f12e4346b64f89dbc13bb64e5fb7edca2f62
Closes-Bug: 1895530
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/00/770100/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,5123e5bed3f2ee3489d9a853e3c9ec6e2536dee0,bug/1895530," /sys/class/net/ r, /sys/devices/virtual/net/** rw,"," /sys/devices/virtual/net/** w,",2,1
openstack%2Fmagnum~stable%2Fvictoria~Ibeb32a24ca25914cab32c63a9ccafaf711148a84,openstack/magnum,stable/victoria,Ibeb32a24ca25914cab32c63a9ccafaf711148a84,Make kubelet and kube-proxy use the secure port,MERGED,2021-03-02 10:37:48.000000000,2021-03-02 13:09:53.000000000,2021-03-02 13:09:53.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-02 10:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9fd4e5dcc5c673aa8c4c2e42f392d957d06a5b7a', 'message': 'Make kubelet and kube-proxy use the secure port\n\nCreate certificates for kubelet and kube-proxy on control-plane\nnodes similar to worker nodes.  Use the secure kube-apiserver\nport on control-plane nodes.\n\nstory: 2008524\ntask: 41602\n\nChange-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)\n'}, {'number': 2, 'created': '2021-03-02 10:38:23.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7f5c6354a54abb7322d1628cb357efc59a9067b6', 'message': 'Make kubelet and kube-proxy use the secure port\n\nCreate certificates for kubelet and kube-proxy on control-plane\nnodes similar to worker nodes.  Use the secure kube-apiserver\nport on control-plane nodes.\n\nstory: 2008524\ntask: 41602\n\nChange-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)\n'}]",0,778106,7f5c6354a54abb7322d1628cb357efc59a9067b6,8,3,2,20498,,,0,"Make kubelet and kube-proxy use the secure port

Create certificates for kubelet and kube-proxy on control-plane
nodes similar to worker nodes.  Use the secure kube-apiserver
port on control-plane nodes.

story: 2008524
task: 41602

Change-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/06/778106/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml']",3,9fd4e5dcc5c673aa8c4c2e42f392d957d06a5b7a,story/2008524/insecure-port-stable/victoria, - get_file: ../../common/templates/kubernetes/fragments/make-cert-client.sh,,15,10
openstack%2Fmagnum~stable%2Fvictoria~I93eecacbe45d19c4f73e9a974d60e642e87bbdf0,openstack/magnum,stable/victoria,I93eecacbe45d19c4f73e9a974d60e642e87bbdf0,Re-use transport for rpc server,MERGED,2021-02-11 16:44:01.000000000,2021-03-02 13:09:44.000000000,2021-03-02 13:09:44.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-11 16:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0d36bfa060a4ed5ca04e7e4b8d04b9e80e7e5e79', 'message': 'Re-use transport for rpc server\n\nThis patch changes the rpc server to re-use\nthe transport in the same manner as the rpc client.\n\nStory: 2008494\nTask: 41752\n\nChange-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0\n(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)\n'}, {'number': 2, 'created': '2021-02-17 05:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/84ac1f7c6fbe93804066711fdb0068528d2b506d', 'message': 'Re-use transport for rpc server\n\nThis patch changes the rpc server to re-use\nthe transport in the same manner as the rpc client.\n\nStory: 2008494\nTask: 41752\n\nChange-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0\n(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)\n'}, {'number': 3, 'created': '2021-03-02 10:25:53.000000000', 'files': ['magnum/common/rpc.py', 'magnum/tests/unit/common/test_rpc.py', 'magnum/common/rpc_service.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2f623e2dcc5f69d7e3e0ea4b93502652cd6478aa', 'message': 'Re-use transport for rpc server\n\nThis patch changes the rpc server to re-use\nthe transport in the same manner as the rpc client.\n\nStory: 2008494\nTask: 41752\n\nChange-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0\n(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)\n'}]",0,775217,2f623e2dcc5f69d7e3e0ea4b93502652cd6478aa,22,5,3,22623,,,0,"Re-use transport for rpc server

This patch changes the rpc server to re-use
the transport in the same manner as the rpc client.

Story: 2008494
Task: 41752

Change-Id: I93eecacbe45d19c4f73e9a974d60e642e87bbdf0
(cherry picked from commit 672b11950754502d3c724bab0b7e1c5ee3436fd2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/17/775217/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/common/rpc.py', 'magnum/tests/unit/common/test_rpc.py', 'magnum/common/rpc_service.py']",3,0d36bfa060a4ed5ca04e7e4b8d04b9e80e7e5e79,victoria-fixes," self._server = rpc.get_server(target, handlers, serializer=serializer) ","from oslo_messaging.rpc import dispatcher transport = messaging.get_rpc_transport(CONF) access_policy = dispatcher.DefaultRPCAccessPolicy self._server = messaging.get_rpc_server(transport, target, handlers, executor='eventlet', serializer=serializer, access_policy=access_policy)",5,36
openstack%2Fmagnum~stable%2Fvictoria~I05cbd1ec62e9a68c68a1666ff62f20138bf8c731,openstack/magnum,stable/victoria,I05cbd1ec62e9a68c68a1666ff62f20138bf8c731,Update containerd version and tarball URL,MERGED,2021-02-11 15:33:33.000000000,2021-03-02 13:09:37.000000000,2021-03-02 13:09:37.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a298e59a9c9b656287daf1eb77a6b2def2dc76f9', 'message': 'Update containerd version and tarball URL\n\n1. Update default containerd version to 1.4.3\n2. Fix the redirect issue of containerd tarball download\n\nstory: 2008451\n\nChange-Id: I05cbd1ec62e9a68c68a1666ff62f20138bf8c731\n(cherry picked from commit 8bdf0e76c63c4aa44394f7bd71483d843bccb22c)\n'}, {'number': 2, 'created': '2021-03-02 10:28:17.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'releasenotes/notes/update-containerd-version-url-c095c0ee3c1a538b.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/90f89276a071cf363c9623305d2e78483e168ebf', 'message': 'Update containerd version and tarball URL\n\n1. Update default containerd version to 1.4.3\n2. Fix the redirect issue of containerd tarball download\n\nstory: 2008451\n\nChange-Id: I05cbd1ec62e9a68c68a1666ff62f20138bf8c731\n(cherry picked from commit 8bdf0e76c63c4aa44394f7bd71483d843bccb22c)\n'}]",0,775111,90f89276a071cf363c9623305d2e78483e168ebf,11,3,2,28022,,,0,"Update containerd version and tarball URL

1. Update default containerd version to 1.4.3
2. Fix the redirect issue of containerd tarball download

story: 2008451

Change-Id: I05cbd1ec62e9a68c68a1666ff62f20138bf8c731
(cherry picked from commit 8bdf0e76c63c4aa44394f7bd71483d843bccb22c)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/775111/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'releasenotes/notes/update-containerd-version-url-c095c0ee3c1a538b.yaml']",3,a298e59a9c9b656287daf1eb77a6b2def2dc76f9,victoria-fixes,--- upgrade: - | The default containerd version is updated with 1.4.3. ,,8,4
openstack%2Fmagnum~stable%2Fvictoria~Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,openstack/magnum,stable/victoria,Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,k8s: Do not use insecure api port,MERGED,2021-02-15 03:55:18.000000000,2021-03-02 13:09:27.000000000,2021-03-02 13:09:27.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-15 03:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c17bf6f47a05e4a268a68ebeedd5305a1ccfd561', 'message': 'k8s: Do not use insecure api port\n\n* in 1.20 8080 is not supported anymore\n** use only 6443\n** change all probes for health to use kubectl and 6443\n* configure the signing key in API\n\nstory: 2008524\ntask: 41731\n\nChange-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)\n'}, {'number': 2, 'created': '2021-03-02 10:27:54.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'magnum/drivers/common/templates/kubernetes/fragments/wc-notify-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7f46d69031a51dd9182c9952ee19106df20a4a5f', 'message': 'k8s: Do not use insecure api port\n\n* in 1.20 8080 is not supported anymore\n** use only 6443\n** change all probes for health to use kubectl and 6443\n* configure the signing key in API\n\nstory: 2008524\ntask: 41731\n\nChange-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)\n'}]",0,775488,7f46d69031a51dd9182c9952ee19106df20a4a5f,12,3,2,6484,,,0,"k8s: Do not use insecure api port

* in 1.20 8080 is not supported anymore
** use only 6443
** change all probes for health to use kubectl and 6443
* configure the signing key in API

story: 2008524
task: 41731

Change-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/88/775488/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'magnum/drivers/common/templates/kubernetes/fragments/wc-notify-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",19,c17bf6f47a05e4a268a68ebeedd5305a1ccfd561,victoria-fixes,"until [ ""ok"" = ""$(kubectl get --raw='/healthz')"" ] && \","until [ ""ok"" = ""$(curl --silent http://127.0.0.1:8080/healthz)"" ] && \",36,44
openstack%2Fmagnum~stable%2Fvictoria~I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,openstack/magnum,stable/victoria,I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,k8s-fcos: Source bashrc for clusterconfig,MERGED,2021-02-15 21:30:17.000000000,2021-03-02 13:09:14.000000000,2021-03-02 13:09:14.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-15 21:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/14c9f86640816f40fb597bd639390dc6c9f4425e', 'message': 'k8s-fcos: Source bashrc for clusterconfig\n\nDuring the reshuffling of bash fragments,\nwe missed sourcing bashrc which contains the\nlocation of kubeconfig.\n\nFix addition of /srv/magnum/bin to PATH.\n\nstory: 2007591\ntask: 39938\n\nChange-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)\n'}, {'number': 2, 'created': '2021-03-02 10:27:49.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4b134688c043fa4cc6a8367b0733577d29df59ac', 'message': 'k8s-fcos: Source bashrc for clusterconfig\n\nDuring the reshuffling of bash fragments,\nwe missed sourcing bashrc which contains the\nlocation of kubeconfig.\n\nFix addition of /srv/magnum/bin to PATH.\n\nstory: 2007591\ntask: 39938\n\nChange-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)\n'}]",0,775650,4b134688c043fa4cc6a8367b0733577d29df59ac,10,3,2,6484,,,0,"k8s-fcos: Source bashrc for clusterconfig

During the reshuffling of bash fragments,
we missed sourcing bashrc which contains the
location of kubeconfig.

Fix addition of /srv/magnum/bin to PATH.

story: 2007591
task: 39938

Change-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/50/775650/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh']",2,14c9f86640816f40fb597bd639390dc6c9f4425e,2007591-39938-stable/victoria,"echo ""export PATH=/srv/magnum/bin:\$PATH"" >> /etc/bashrc export PATH=/srv/magnum/bin:$PATH","echo ""PATH=/srv/magnum/bin:\$PATH"" >> /etc/bashrc",3,1
openstack%2Fansible-role-python_venv_build~master~I9867bcefbbfe52db2ce14232fabd4f549499a4ae,openstack/ansible-role-python_venv_build,master,I9867bcefbbfe52db2ce14232fabd4f549499a4ae,Import_tasks instead of include_tasks,ABANDONED,2021-02-26 17:53:37.000000000,2021-03-02 13:04:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-02-26 17:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/8f72ae791f4e28fad4e60dced6221a8cc585d902', 'message': 'Import_tasks instead of include_tasks\n\nWhen using the include_tasks not all host will get the facts and these\nare needed to have the correct constraints.txt set when installing.\n\nChange-Id: I9867bcefbbfe52db2ce14232fabd4f549499a4ae\n'}, {'number': 2, 'created': '2021-02-26 17:56:51.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/4e8224c49b2d889b438778b62db46897c92f1883', 'message': 'Import_tasks instead of include_tasks\n\nWhen using the include_tasks not all host will get the facts and these\nare needed to have the correct constraints.txt set when installing.\n\nChange-Id: I9867bcefbbfe52db2ce14232fabd4f549499a4ae\n'}]",0,777798,4e8224c49b2d889b438778b62db46897c92f1883,6,2,2,13095,,,0,"Import_tasks instead of include_tasks

When using the include_tasks not all host will get the facts and these
are needed to have the correct constraints.txt set when installing.

Change-Id: I9867bcefbbfe52db2ce14232fabd4f549499a4ae
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/98/777798/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,8f72ae791f4e28fad4e60dced6221a8cc585d902,,"- import_tasks: ""python_venv_wheel_build.yml""","- include_tasks: ""python_venv_wheel_build.yml"" args: apply: tags: - build",1,5
openstack%2Fos-brick~stable%2Fvictoria~Ie3266c81b3c6bb5a2c213a12410539d404d1febe,openstack/os-brick,stable/victoria,Ie3266c81b3c6bb5a2c213a12410539d404d1febe,FC: Fix not flushing on detach,MERGED,2021-02-23 11:14:31.000000000,2021-03-02 12:33:50.000000000,2021-03-02 12:32:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-23 11:14:31.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3adcb40678ee771d6701e798f1f50ebce8b63aa3', 'message': ""FC: Fix not flushing on detach\n\nWhen doing multipathed Fibre Channel we may end up not flushing the\nvolume when disconnecting it if didn't find a multipath when doing\nthe connection.\n\nThe issue is caused by the `connect_volume` call returning a real path\ninstead of a symlink and us passing the wrong device_info to the\n_remove_devices method, which makes the disconnect code incorrectly\nidentify when a multipath was used to decide whether to do a flush or\nnot.\n\nThis patch fixes these things in order to flush the individual path when\nnecessary.\n\nCloses-Bug: #1897787\nChange-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe\n(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)\n""}]",0,777092,3adcb40678ee771d6701e798f1f50ebce8b63aa3,47,6,1,10459,,,0,"FC: Fix not flushing on detach

When doing multipathed Fibre Channel we may end up not flushing the
volume when disconnecting it if didn't find a multipath when doing
the connection.

The issue is caused by the `connect_volume` call returning a real path
instead of a symlink and us passing the wrong device_info to the
_remove_devices method, which makes the disconnect code incorrectly
identify when a multipath was used to decide whether to do a flush or
not.

This patch fixes these things in order to flush the individual path when
necessary.

Closes-Bug: #1897787
Change-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe
(cherry picked from commit 1432c369fb49b7359bd9d48af24133f5c4019402)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/92/777092/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml']",5,3adcb40678ee771d6701e798f1f50ebce8b63aa3,fix-fc-returning-real-path,"--- fixes: - | `Bug #1897787 <https://bugs.launchpad.net/cinder/+bug/1897787>`_: Fix Fibre Channel not flushing volumes on detach when a multipath connection was requested on their attach, but one was not found. ",,49,13
openstack%2Fmagnum~stable%2Fvictoria~Icf32de2b803aa160dc3b7993e128deff11d02fcb,openstack/magnum,stable/victoria,Icf32de2b803aa160dc3b7993e128deff11d02fcb,Fix validation for master_lb_enabled,MERGED,2021-01-05 20:20:32.000000000,2021-03-02 12:32:38.000000000,2021-03-02 12:30:01.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-05 20:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3901fa674347c10fad9b74fea1b54877fe72798c', 'message': 'Fix validation for master_lb_enabled\n\nCurrently master_lb_enabled can be enabled at cluster creation but validation\nis only done for cluster_template.\n\nWe need to validate in cluster.\n\nFix testing\n\ntask: 41535\nstory: 2007634\nstory: 2008487\nChange-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb\n(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)\n'}, {'number': 2, 'created': '2021-02-03 11:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/730567b4bc3c59fee9a4e4458dfdc1ae96ec3457', 'message': 'Fix validation for master_lb_enabled\n\nCurrently master_lb_enabled can be enabled at cluster creation but validation\nis only done for cluster_template.\n\nWe need to validate in cluster.\n\nFix testing\n\ntask: 41535\nstory: 2007634\nstory: 2008487\nChange-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb\n(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)\n'}, {'number': 3, 'created': '2021-02-03 13:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a09d9b2e9d89fcabdcdb37f7679d17620703ef1c', 'message': 'Fix validation for master_lb_enabled\n\nCurrently master_lb_enabled can be enabled at cluster creation\nbut validation is only done for cluster_template.\n\nWe need to validate in cluster.\n\nFix testing\n\ntask: 41535\nstory: 2007634\nstory: 2008487\nChange-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb\n(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)\n'}, {'number': 4, 'created': '2021-03-02 10:24:52.000000000', 'files': ['magnum/tests/unit/api/controllers/v1/test_bay.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/api/attr_validator.py', 'magnum/tests/unit/db/utils.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b4a5008ade0162a98c5693093d65e238e82dcb40', 'message': 'Fix validation for master_lb_enabled\n\nCurrently master_lb_enabled can be enabled at cluster creation\nbut validation is only done for cluster_template.\n\nWe need to validate in cluster.\n\nFix testing\n\ntask: 41535\nstory: 2007634\nstory: 2008487\nChange-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb\n(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)\n'}]",0,769362,b4a5008ade0162a98c5693093d65e238e82dcb40,18,5,4,22018,,,0,"Fix validation for master_lb_enabled

Currently master_lb_enabled can be enabled at cluster creation
but validation is only done for cluster_template.

We need to validate in cluster.

Fix testing

task: 41535
story: 2007634
story: 2008487
Change-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb
(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/62/769362/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/api/controllers/v1/test_bay.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/api/attr_validator.py', 'magnum/tests/unit/db/utils.py']",4,3901fa674347c10fad9b74fea1b54877fe72798c,," 'master_lb_enabled': kw.get('master_lb_enabled', True),"," 'master_lb_enabled': kw.get('master_lb_enabled', False),",5,4
openstack%2Fmagnum~stable%2Fvictoria~I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,openstack/magnum,stable/victoria,I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,Add image prefix for grafana images,MERGED,2021-02-11 15:38:29.000000000,2021-03-02 12:31:22.000000000,2021-03-02 12:28:24.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 31746}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-02-11 15:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a283a3adb464386c05b98704103793203fc11317', 'message': 'Add image prefix for grafana images\n\n- grafana image\n- k8s-sidecar image\n\nChange-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0\n(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)\n'}, {'number': 2, 'created': '2021-03-02 10:25:22.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c6782e63fed1dc69745f9170a89795d5734cd8c1', 'message': 'Add image prefix for grafana images\n\n- grafana image\n- k8s-sidecar image\n\nChange-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0\n(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)\n'}]",0,775113,c6782e63fed1dc69745f9170a89795d5734cd8c1,13,5,2,28022,,,0,"Add image prefix for grafana images

- grafana image
- k8s-sidecar image

Change-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0
(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/13/775113/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh'],1,a283a3adb464386c05b98704103793203fc11317,victoria-fixes, image: repository: ${CONTAINER_INFRA_PREFIX:-grafana/}grafana sidecar: image: ${CONTAINER_INFRA_PREFIX:-kiwigrid/}k8s-sidecar:0.1.99,,4,1
openstack%2Fmagnum~master~Ib5c50a4aadc3ad0c0340fd7497a368c43b6e8ac1,openstack/magnum,master,Ib5c50a4aadc3ad0c0340fd7497a368c43b6e8ac1,Build autoscaler 1.20,MERGED,2021-03-01 10:39:35.000000000,2021-03-02 12:30:10.000000000,2021-03-02 12:28:15.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-01 10:39:35.000000000', 'files': ['playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1f33b6c1faaf26dfbfa916d3f24ce098005b92cc', 'message': 'Build autoscaler 1.20\n\nChange-Id: Ib5c50a4aadc3ad0c0340fd7497a368c43b6e8ac1\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,777981,1f33b6c1faaf26dfbfa916d3f24ce098005b92cc,9,3,1,20498,,,0,"Build autoscaler 1.20

Change-Id: Ib5c50a4aadc3ad0c0340fd7497a368c43b6e8ac1
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/81/777981/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-builder-vars.yaml'],1,1f33b6c1faaf26dfbfa916d3f24ce098005b92cc,autoscaler-1.20, - version: 1.20.0,,1,0
openstack%2Fmagnum~stable%2Fussuri~Icf32de2b803aa160dc3b7993e128deff11d02fcb,openstack/magnum,stable/ussuri,Icf32de2b803aa160dc3b7993e128deff11d02fcb,Fix validation for master_lb_enabled,MERGED,2021-02-11 15:05:52.000000000,2021-03-02 12:15:05.000000000,2021-03-02 12:10:20.000000000,"[{'_account_id': 20498}, {'_account_id': 22018}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cb526b5a185c8af6ed6219a082164418852b7190', 'message': 'Fix validation for master_lb_enabled\n\nCurrently master_lb_enabled can be enabled at cluster creation but validation\nis only done for cluster_template.\n\nWe need to validate in cluster.\n\nFix testing\n\ntask: 41535\nstory: 2007634\nstory: 2008487\nChange-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb\n(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)\n'}, {'number': 2, 'created': '2021-02-11 17:06:43.000000000', 'files': ['magnum/tests/unit/api/controllers/v1/test_bay.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/api/attr_validator.py', 'magnum/tests/unit/db/utils.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/344f5059fddb143d90b5cbbed1d8782051d6eb71', 'message': 'Fix validation for master_lb_enabled\n\nCurrently master_lb_enabled can be enabled at cluster creation but validation\nis only done for cluster_template.\n\nWe need to validate in cluster.\n\nFix testing\n\ntask: 41535\nstory: 2007634\nstory: 2008487\nChange-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb\n(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)\n'}]",0,775183,344f5059fddb143d90b5cbbed1d8782051d6eb71,9,3,2,28022,,,0,"Fix validation for master_lb_enabled

Currently master_lb_enabled can be enabled at cluster creation but validation
is only done for cluster_template.

We need to validate in cluster.

Fix testing

task: 41535
story: 2007634
story: 2008487
Change-Id: Icf32de2b803aa160dc3b7993e128deff11d02fcb
(cherry picked from commit acc7084889dd1f497081d14a688472550e6913e9)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/83/775183/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/api/controllers/v1/test_bay.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/api/attr_validator.py', 'magnum/tests/unit/db/utils.py']",4,cb526b5a185c8af6ed6219a082164418852b7190,ussuri-fixes," 'master_lb_enabled': kw.get('master_lb_enabled', True),"," 'master_lb_enabled': kw.get('master_lb_enabled', False),",5,4
openstack%2Fmagnum~stable%2Fussuri~I72e418491cbd19291527bbe4b504d599c740fea9,openstack/magnum,stable/ussuri,I72e418491cbd19291527bbe4b504d599c740fea9,Remove cloud-config from k8s worker node,MERGED,2020-09-23 22:43:16.000000000,2021-03-02 12:13:10.000000000,2021-03-02 12:06:03.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-09-23 22:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/df6305e20e4ef590dd6bfb60072a0c8da97afc92', 'message': 'Remove cloud-config from k8s worker node\n\nNow Magnum is not deploying any service or workload on k8s\nworker nodes which need to get credentials from local to talk\nto Magnum control plane. So the cloud-config file should be\nremoved from worker nodes to reduce the attach surface from\na security point of view.\n\nTask: 40791\nStory: 2008090\n\nChange-Id: I72e418491cbd19291527bbe4b504d599c740fea9\n(cherry picked from commit c84653cd74d4981430096d4a9494ba8827a34caa)\n'}, {'number': 2, 'created': '2021-02-11 15:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/37028fca3cbd2e3db1ccc6440778f145ad11c4d6', 'message': 'Remove cloud-config from k8s worker node\n\nNow Magnum is not deploying any service or workload on k8s\nworker nodes which need to get credentials from local to talk\nto Magnum control plane. So the cloud-config file should be\nremoved from worker nodes to reduce the attach surface from\na security point of view.\n\nTask: 40791\nStory: 2008090\n\nChange-Id: I72e418491cbd19291527bbe4b504d599c740fea9\n(cherry picked from commit c84653cd74d4981430096d4a9494ba8827a34caa)\n'}, {'number': 3, 'created': '2021-02-11 17:00:03.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5ce4ca0595923c1e1d47236f0c53daac584da8a6', 'message': 'Remove cloud-config from k8s worker node\n\nNow Magnum is not deploying any service or workload on k8s\nworker nodes which need to get credentials from local to talk\nto Magnum control plane. So the cloud-config file should be\nremoved from worker nodes to reduce the attach surface from\na security point of view.\n\nTask: 40791\nStory: 2008090\n\nChange-Id: I72e418491cbd19291527bbe4b504d599c740fea9\n(cherry picked from commit c84653cd74d4981430096d4a9494ba8827a34caa)\n'}]",0,753860,5ce4ca0595923c1e1d47236f0c53daac584da8a6,20,4,3,6484,,,0,"Remove cloud-config from k8s worker node

Now Magnum is not deploying any service or workload on k8s
worker nodes which need to get credentials from local to talk
to Magnum control plane. So the cloud-config file should be
removed from worker nodes to reduce the attach surface from
a security point of view.

Task: 40791
Story: 2008090

Change-Id: I72e418491cbd19291527bbe4b504d599c740fea9
(cherry picked from commit c84653cd74d4981430096d4a9494ba8827a34caa)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/753860/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml'],1,df6305e20e4ef590dd6bfb60072a0c8da97afc92,ussuri-fixes,, - get_file: ../../common/templates/kubernetes/fragments/write-kube-os-config.sh,0,1
openstack%2Fkayobe-config-dev~stable%2Ftrain~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,stable/train,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-24 08:41:48.000000000,2021-03-02 12:11:08.000000000,2021-03-02 12:11:08.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 08:41:48.000000000', 'files': ['etc/kayobe/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/6d10ed86e09b24057978b5836fd8f546a24cf8fd', 'message': 'Reduce neutron RPC workers to 1\n\nThis should reduce the memory overhead of these processes\n\nChange-Id: I02be84d079f3effe559bd501622642f1c9601b45\n(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)\n'}]",0,777132,6d10ed86e09b24057978b5836fd8f546a24cf8fd,7,3,1,14826,,,0,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/32/777132/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla/globals.yml'],1,6d10ed86e09b24057978b5836fd8f546a24cf8fd,,"openstack_service_rpc_workers: ""1""",,1,0
openstack%2Fkayobe-config-dev~stable%2Fussuri~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,stable/ussuri,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-24 08:41:30.000000000,2021-03-02 12:11:05.000000000,2021-03-02 12:11:05.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 08:41:30.000000000', 'files': ['etc/kayobe/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/95360650fe05b1c58692165ef86752c7fee1d53d', 'message': 'Reduce neutron RPC workers to 1\n\nThis should reduce the memory overhead of these processes\n\nChange-Id: I02be84d079f3effe559bd501622642f1c9601b45\n(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)\n'}]",0,777131,95360650fe05b1c58692165ef86752c7fee1d53d,7,3,1,14826,,,0,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/31/777131/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla/globals.yml'],1,95360650fe05b1c58692165ef86752c7fee1d53d,,"openstack_service_rpc_workers: ""1""",,1,0
openstack%2Fmagnum~stable%2Fussuri~I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e,openstack/magnum,stable/ussuri,I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e,[k8s-fcos] Fix insecure registry,MERGED,2021-02-11 15:07:18.000000000,2021-03-02 12:10:11.000000000,2021-03-02 12:10:11.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d9718b0d4f2ac281812cd0b1084cec2bcec87f7a', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected when Podman is\nused. This patch addresses the issue by fixing the ignition user data so\nthat Podman is configured correctly. Then it ensures that\n--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.\n\nStory: 2008479\nTask: 41519\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n(cherry picked from commit 7bfd7519af9c95044917ad443ea26708c49c1d13)\n""}, {'number': 2, 'created': '2021-02-11 17:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6a85995c56fc8ca4b8bf86184c7fe10f3d691567', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected when Podman is\nused. This patch addresses the issue by fixing the ignition user data so\nthat Podman is configured correctly. Then it ensures that\n--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.\n\nStory: 2008479\nTask: 41519\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n(cherry picked from commit 7bfd7519af9c95044917ad443ea26708c49c1d13)\n""}, {'number': 3, 'created': '2021-02-15 05:49:10.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/92260bf0c941cf87095e634e71c3d951a8446686', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected when Podman is\nused. This patch addresses the issue by fixing the ignition user data so\nthat Podman is configured correctly. Then it ensures that\n--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.\n\nStory: 2008479\nTask: 41519\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n(cherry picked from commit 7bfd7519af9c95044917ad443ea26708c49c1d13)\n""}]",2,775185,92260bf0c941cf87095e634e71c3d951a8446686,16,3,3,28022,,,0,"[k8s-fcos] Fix insecure registry

At present, insecure registry doesn't work as expected when Podman is
used. This patch addresses the issue by fixing the ignition user data so
that Podman is configured correctly. Then it ensures that
--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.

Story: 2008479
Task: 41519

Change-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e
(cherry picked from commit 7bfd7519af9c95044917ad443ea26708c49c1d13)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/85/775185/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml']",6,d9718b0d4f2ac281812cd0b1084cec2bcec87f7a,ussuri-fixes,"# -v $(pwd)/fcct-config.yaml:/config.fcc \ # quay.io/coreos/fcct:release \ # --pretty --strict /config.fcc > ./user_data.json - path: /etc/containers/__REGISTRIES_CONF__ # 420 (decimal) == 644 (octal) mode: 420 user: name: root group: name: root append: - inline: | [[registry]] location = ""__INSECURE_REGISTRY_URL__"" insecure = true",# -v ./fcct-config.yaml:/config.fcc:z \ # quay.io/coreos/fcct:release \ # --pretty --strict --input /config.fcc > ./user_data.json,52,9
openstack%2Fmagnum~stable%2Fussuri~I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,openstack/magnum,stable/ussuri,I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,Add image prefix for grafana images,MERGED,2021-02-11 15:04:42.000000000,2021-03-02 12:10:04.000000000,2021-03-02 12:10:04.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2021-02-11 15:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c59e4b010af9d2cc4f9ef236ec4c7303bd187123', 'message': 'Add image prefix for grafana images\n\n- grafana image\n- k8s-sidecar image\n\nChange-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0\n(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)\n'}, {'number': 2, 'created': '2021-02-11 17:04:46.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4393147b40cfe554d6bf8a47d93d5b36a55630bb', 'message': 'Add image prefix for grafana images\n\n- grafana image\n- k8s-sidecar image\n\nChange-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0\n(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)\n'}]",0,775179,4393147b40cfe554d6bf8a47d93d5b36a55630bb,8,3,2,28022,,,0,"Add image prefix for grafana images

- grafana image
- k8s-sidecar image

Change-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0
(cherry picked from commit 327c12fc8400c6cb6e29230f81a1735ba5f6d45b)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/79/775179/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh'],1,c59e4b010af9d2cc4f9ef236ec4c7303bd187123,ussuri-fixes, image: repository: ${CONTAINER_INFRA_PREFIX:-grafana/}grafana sidecar: image: ${CONTAINER_INFRA_PREFIX:-kiwigrid/}k8s-sidecar:0.1.99,,4,1
openstack%2Fmagnum~stable%2Fussuri~I11a24f035a9d66a536e5e58328084ee08f0c6285,openstack/magnum,stable/ussuri,I11a24f035a9d66a536e5e58328084ee08f0c6285,Re-use transport for rpc calls,MERGED,2021-02-03 19:52:33.000000000,2021-03-02 12:09:54.000000000,2021-03-02 12:09:54.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-03 19:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/eb56fbdb94d12eca8175f139006eb159408867ed', 'message': 'Re-use transport for rpc calls\n\nWe are currently creating a new transport for each api\ncall. This patch changes that so that each worker\ncan re-use the same transport for multiple requests.\n\nStory: 2008494\nTask: 41544\nChange-Id: I11a24f035a9d66a536e5e58328084ee08f0c6285\n(cherry picked from commit 987c9d809eb393d5d644e4f85650d3d396d2319d)\n'}, {'number': 2, 'created': '2021-02-08 19:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f48f1a4969c9c60eaad6c8cfaa01f4b321e54fb1', 'message': 'Re-use transport for rpc calls\n\nWe are currently creating a new transport for each api\ncall. This patch changes that so that each worker\ncan re-use the same transport for multiple requests.\n\nStory: 2008494\nTask: 41544\nChange-Id: I11a24f035a9d66a536e5e58328084ee08f0c6285\n(cherry picked from commit 987c9d809eb393d5d644e4f85650d3d396d2319d)\n'}, {'number': 3, 'created': '2021-02-11 15:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ae08193c95d9759ee5f5530c2fd4eef5a9d9777e', 'message': 'Re-use transport for rpc calls\n\nWe are currently creating a new transport for each api\ncall. This patch changes that so that each worker\ncan re-use the same transport for multiple requests.\n\nStory: 2008494\nTask: 41544\nChange-Id: I11a24f035a9d66a536e5e58328084ee08f0c6285\n(cherry picked from commit 987c9d809eb393d5d644e4f85650d3d396d2319d)\n'}, {'number': 4, 'created': '2021-02-11 17:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b048fc1e19ae1b73faf1a2c3476467017503a181', 'message': 'Re-use transport for rpc calls\n\nWe are currently creating a new transport for each api\ncall. This patch changes that so that each worker\ncan re-use the same transport for multiple requests.\n\nStory: 2008494\nTask: 41544\nChange-Id: I11a24f035a9d66a536e5e58328084ee08f0c6285\n(cherry picked from commit 987c9d809eb393d5d644e4f85650d3d396d2319d)\n'}, {'number': 5, 'created': '2021-02-17 05:44:25.000000000', 'files': ['magnum/conductor/api.py', 'magnum/common/rpc.py', 'magnum/tests/unit/common/test_rpc.py', 'magnum/common/rpc_service.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2473f22665b429c9d7fb4ef60a279c234db58615', 'message': 'Re-use transport for rpc calls\n\nWe are currently creating a new transport for each api\ncall. This patch changes that so that each worker\ncan re-use the same transport for multiple requests.\n\nStory: 2008494\nTask: 41544\nChange-Id: I11a24f035a9d66a536e5e58328084ee08f0c6285\n(cherry picked from commit 987c9d809eb393d5d644e4f85650d3d396d2319d)\n'}]",0,773989,2473f22665b429c9d7fb4ef60a279c234db58615,14,3,5,22623,,,0,"Re-use transport for rpc calls

We are currently creating a new transport for each api
call. This patch changes that so that each worker
can re-use the same transport for multiple requests.

Story: 2008494
Task: 41544
Change-Id: I11a24f035a9d66a536e5e58328084ee08f0c6285
(cherry picked from commit 987c9d809eb393d5d644e4f85650d3d396d2319d)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/89/773989/5 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/conductor/api.py', 'magnum/common/rpc.py', 'magnum/tests/unit/common/test_rpc.py', 'magnum/common/rpc_service.py']",4,eb56fbdb94d12eca8175f139006eb159408867ed,ussuri-fixes," def __init__(self, context=None, topic=None, server=None, self._client = rpc.get_client(target, serializer=serializer, timeout=timeout)"," def __init__(self, transport=None, context=None, topic=None, server=None, if transport is None: exmods = rpc.get_allowed_exmods() transport = messaging.get_rpc_transport( CONF, allowed_remote_exmods=exmods) self._client = messaging.RPCClient(transport, target, serializer=serializer, timeout=timeout)",8,40
openstack%2Fmagnum~stable%2Fussuri~I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,openstack/magnum,stable/ussuri,I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288,k8s-fcos: Source bashrc for clusterconfig,MERGED,2021-02-11 15:03:57.000000000,2021-03-02 12:09:45.000000000,2021-03-02 12:09:45.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f7bcc910fdb51f006dbe4f8adbed37a646c176ee', 'message': 'k8s-fcos: Source bashrc for clusterconfig\n\nDuring the reshuffling of bash fragments,\nwe missed sourcing bashrc which contains the\nlocation of kubeconfig.\n\nFix addition of /srv/magnum/bin to PATH.\n\nstory: 2007591\ntask: 39938\n\nChange-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)\n'}, {'number': 2, 'created': '2021-02-11 17:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9f52711baf36d90179cd1ff704c2d78bc3009e93', 'message': 'k8s-fcos: Source bashrc for clusterconfig\n\nDuring the reshuffling of bash fragments,\nwe missed sourcing bashrc which contains the\nlocation of kubeconfig.\n\nFix addition of /srv/magnum/bin to PATH.\n\nstory: 2007591\ntask: 39938\n\nChange-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)\n'}, {'number': 3, 'created': '2021-02-15 21:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6a02e89fa8bef111f2ff3b6f427f0585c27699bb', 'message': 'k8s-fcos: Source bashrc for clusterconfig\n\nDuring the reshuffling of bash fragments,\nwe missed sourcing bashrc which contains the\nlocation of kubeconfig.\n\nFix addition of /srv/magnum/bin to PATH.\n\nstory: 2007591\ntask: 39938\n\nChange-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)\n'}, {'number': 4, 'created': '2021-02-15 21:37:18.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/92f518dfab6ffc509603eba92bebbc833bfad106', 'message': 'k8s-fcos: Source bashrc for clusterconfig\n\nDuring the reshuffling of bash fragments,\nwe missed sourcing bashrc which contains the\nlocation of kubeconfig.\n\nFix addition of /srv/magnum/bin to PATH.\n\nstory: 2007591\ntask: 39938\n\nChange-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)\n'}]",0,775177,92f518dfab6ffc509603eba92bebbc833bfad106,10,2,4,28022,,,0,"k8s-fcos: Source bashrc for clusterconfig

During the reshuffling of bash fragments,
we missed sourcing bashrc which contains the
location of kubeconfig.

Fix addition of /srv/magnum/bin to PATH.

story: 2007591
task: 39938

Change-Id: I238f7e2a1cbcb696a51880fb6ea75ea0a7ce6288
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 2c93427d4956ae3e7844d9ece3802f3e3dfe25b2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/77/775177/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh']",2,f7bcc910fdb51f006dbe4f8adbed37a646c176ee,2007591-39938-stable/victoria-stable/ussuri,"echo ""export PATH=/srv/magnum/bin:\$PATH"" >> /etc/bashrc export PATH=/srv/magnum/bin:$PATH","echo ""PATH=/srv/magnum/bin:\$PATH"" >> /etc/bashrc",3,1
openstack%2Fmagnum~stable%2Fussuri~I455ed0106dd257acbde58af408de0bf6e6abe7d3,openstack/magnum,stable/ussuri,I455ed0106dd257acbde58af408de0bf6e6abe7d3,Fix syntax error in default rolesync configmap,MERGED,2021-02-11 15:00:40.000000000,2021-03-02 12:09:41.000000000,2021-03-02 12:09:41.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2021-02-11 15:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1640fb37edb3c44e2e3c8c33d9e03fb4ed213f4f', 'message': 'Fix syntax error in default rolesync configmap\n\nChange-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3\n(cherry picked from commit f3e88ddba706c406579b91c837c7eb7ceb5dc841)\n'}, {'number': 2, 'created': '2021-02-11 16:55:25.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'doc/source/user/k8s-keystone-authN-authZ.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8744130ee5697d4c1ca683cad780381c17919210', 'message': 'Fix syntax error in default rolesync configmap\n\nChange-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3\n(cherry picked from commit f3e88ddba706c406579b91c837c7eb7ceb5dc841)\n'}]",0,775170,8744130ee5697d4c1ca683cad780381c17919210,10,4,2,28022,,,0,"Fix syntax error in default rolesync configmap

Change-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3
(cherry picked from commit f3e88ddba706c406579b91c837c7eb7ceb5dc841)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/70/775170/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'doc/source/user/k8s-keystone-authN-authZ.rst']",2,1640fb37edb3c44e2e3c8c33d9e03fb4ed213f4f,ussuri-fixes, name: keystone-sync-policy namespace: kube-system data: syncConfig: |, name: keystone-sync-policy namespace: kube-system data: syncConfig: |,5,5
openstack%2Fmagnum~stable%2Fussuri~I0afc19c630e077c079f7f6a52439f4aee8bf5eb8,openstack/magnum,stable/ussuri,I0afc19c630e077c079f7f6a52439f4aee8bf5eb8,Configure placeholder role-mapping Sync,MERGED,2021-02-11 15:00:07.000000000,2021-03-02 12:08:53.000000000,2021-03-02 12:08:53.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2021-02-11 15:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cd5d886696fb00bd5b3f230ac5c32b00dbb70cab', 'message': 'Configure placeholder role-mapping Sync\n\n + Adds placeholder ConfigMap and with a template\n   keystone-sync-policy that can be edited by the cluster\n   admin\n + Docs for sync policy added\n + Docs for auth policy edited for grammar, spelling\n   and clarity.\n\nTask: 39136\nStory: 1755770\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n(cherry picked from commit 31623a13ad2d37bcae707550d96815c7f9ddf9d8)\n'}, {'number': 2, 'created': '2021-02-11 16:49:46.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'doc/source/user/k8s-keystone-authN-authZ.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a9bdf93dfc6daf2976a01f4afb17c7b82e5f7aa1', 'message': 'Configure placeholder role-mapping Sync\n\n + Adds placeholder ConfigMap and with a template\n   keystone-sync-policy that can be edited by the cluster\n   admin\n + Docs for sync policy added\n + Docs for auth policy edited for grammar, spelling\n   and clarity.\n\nTask: 39136\nStory: 1755770\n\nChange-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8\n(cherry picked from commit 31623a13ad2d37bcae707550d96815c7f9ddf9d8)\n'}]",0,775167,a9bdf93dfc6daf2976a01f4afb17c7b82e5f7aa1,9,4,2,28022,,,0,"Configure placeholder role-mapping Sync

 + Adds placeholder ConfigMap and with a template
   keystone-sync-policy that can be edited by the cluster
   admin
 + Docs for sync policy added
 + Docs for auth policy edited for grammar, spelling
   and clarity.

Task: 39136
Story: 1755770

Change-Id: I0afc19c630e077c079f7f6a52439f4aee8bf5eb8
(cherry picked from commit 31623a13ad2d37bcae707550d96815c7f9ddf9d8)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/67/775167/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'doc/source/user/k8s-keystone-authN-authZ.rst']",2,cd5d886696fb00bd5b3f230ac5c32b00dbb70cab,ussuri-fixes,"While the `k8s-keystone-auth` service is enabled in clusters by default, users will need specify their own authorization policy to start making use of this feature. The user can specify their own authorization policy by either: - Updating the placeholder `k8s-keystone-auth-policy` configmap, created by default in the `kube-system` namespace. This does not require restarting the `k8s-keystone-auth` service. - Reading the policy from a default policy file. In devstack the policy file is created automatically. Currently, the `k8s-keystone-auth` service supports four types of policies:- project. The Keystone project ID or name.For example, if we wish to configure a policy to only allow the users in project `demo` with `k8s-viewer` role in OpenStack to query the pod information from all the namespaces, then we can update the default `k8s-keystone-auth-policy` configmap as follows.More on keystone authorization policies can be found in the kubernetes/cloud-provider-openstack documentation for `Using the Keystone Webhook Authenticator and Authorizer <https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/using-keystone-webhook-authenticator-and-authorizer.md#prepare-the-authorization-policy-optional>`_ Note: If the user wishes to use an alternate name for the `k8s-keystone-auth-policy` configmap they will need to update the value of the `--policy-configmap-name` parameter passed to the `k8s-keystone-auth` service and then restart the service. Next the user needs to get a token from Keystone to have a kubeconfig for kubectl. The user can also get the config with Magnum python client.After exporting the Keystone token to the ``OS_TOKEN`` environment variable, the user should be able to list pods with `kubectl`. Setup configmap for role synchronization policies ------------------------------------------------- To start taking advantage of role synchronization between kubernetes and openstack users need to specify an `authentication synchronization policy <https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/using-auth-data-synchronization.md#example-of-sync-config-file>`_ Users can specify their own policy by either: - Updating the placeholder `keystone-sync-policy` configmap, created by default in the `kube-system` namespace. This does *not* require restarting `k8s-keystone-auth` - Reading the policy from a local config file. This requires restarting the `k8s-keystone-auth` service. For example, to set a policy which assigns the `project-1` group in kubernetes to users who have been assigned the `member` role in Keystone the user can update the default `keystone-sync-policy` configmap as follows. .. code-block:: bash cat <<EOF | kubectl apply -f - apiVersion: v1 kind: ConfigMap metadata: name: keystone-sync-policy namespace: kube-system data: syncConfig: | role-mappings: - keystone-role: member groups: [""project-1""] EOF If users wish to use an alternative name for the keystone-sync-policy configmap they will need to update the value of the ``--sync-configmap-name`` parameter passed to the `k8s-keystone-auth` service and then restart service. For more examples and information on configuring and using authorization synchronization policies please refer to the kubernetes/cloud-provider-openstack documentation for `Authentication synchronization between Keystone and Kubernetes <https://github.com/kubernetes/cloud-provider-openstack/blob/master/docs/using-auth-data-synchronization.md>`_","Given the k8s Keystone auth has been enable by default, user can get the authentication support by default without doing anything. However, user can't do anything actually before setup a default authorization policies. The authorization policy can be specified using an existing configmap name in the cluster, by doing this, the policy could be changed dynamically without the k8s-keystone-auth service restart. Or the policy can be read from a default policy file. In devstack, the policy file will be created automatically. Currently, k8s-keystone-auth service supports four types of policies:- roject. The Keystone project ID or name.For example, in the following configmap, we only allow the users in project demo with k8s-viewer role in OpenStack to query the pod information from all the namespaces. So we need to update the configmap `k8s-keystone-auth-policy` which has been created in kube-system namespace.Please note that the default configmap name is `k8s-keystone-auth-policy`, user can change it, but they have to change the config of the k8s keystone auth service configuration as well and restart the service. Now user need to get a token from Keystone to have a kubeconfig for kubectl, user can also get the config with Magnum python client.Now after export the Keystone token to OS_TOKEN, user should be able to list pods with kubectl.",85,21
openstack%2Fmagnum~stable%2Fussuri~Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,openstack/magnum,stable/ussuri,Ibaf1840214016d2dd6ac15e2137eb3cd3d767889,k8s: Do not use insecure api port,MERGED,2021-02-11 15:08:23.000000000,2021-03-02 12:08:05.000000000,2021-03-02 12:08:05.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-11 15:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8de2fd6ffb76e7ff79c30af04a7b438c3218ac8d', 'message': 'k8s: Do not use insecure api port\n\n* in 1.20 8080 is not supported anymore\n** use only 6443\n** change all probes for health to use kubectl and 6443\n* configure the signing key in API\n\nstory: 2008524\ntask: 41731\n\nChange-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)\n'}, {'number': 2, 'created': '2021-02-11 17:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d8bd45dfde01bfd67d111ead730f56af7aaca6fb', 'message': 'k8s: Do not use insecure api port\n\n* in 1.20 8080 is not supported anymore\n** use only 6443\n** change all probes for health to use kubectl and 6443\n* configure the signing key in API\n\nstory: 2008524\ntask: 41731\n\nChange-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)\n'}, {'number': 3, 'created': '2021-02-11 17:15:39.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'magnum/drivers/common/templates/kubernetes/fragments/wc-notify-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/caedd83883bd341c2729f1a016d832e23e768293', 'message': 'k8s: Do not use insecure api port\n\n* in 1.20 8080 is not supported anymore\n** use only 6443\n** change all probes for health to use kubectl and 6443\n* configure the signing key in API\n\nstory: 2008524\ntask: 41731\n\nChange-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)\n'}]",0,775186,caedd83883bd341c2729f1a016d832e23e768293,9,4,3,28022,,,0,"k8s: Do not use insecure api port

* in 1.20 8080 is not supported anymore
** use only 6443
** change all probes for health to use kubectl and 6443
* configure the signing key in API

story: 2008524
task: 41731

Change-Id: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 1b72456e120c28526ef61aae9d176d613ee3ac82)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/86/775186/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'magnum/drivers/common/templates/kubernetes/fragments/wc-notify-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service-v3-3-x.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",19,8de2fd6ffb76e7ff79c30af04a7b438c3218ac8d,ussuri-fixes,"until [ ""ok"" = ""$(kubectl get --raw='/healthz')"" ] && \","until [ ""ok"" = ""$(curl --silent http://127.0.0.1:8080/healthz)"" ] && \",36,44
openstack%2Fmagnum~stable%2Fussuri~I789fac4a3e273d10c58963aa92b8490f5c67bfe0,openstack/magnum,stable/ussuri,I789fac4a3e273d10c58963aa92b8490f5c67bfe0,Update helm charts origin repository,MERGED,2021-01-27 15:54:01.000000000,2021-03-02 12:07:27.000000000,2021-03-02 12:07:27.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2021-01-27 15:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/62775d3f193bcc796f7b33582c19783e261c4059', 'message': 'Update helm charts origin repository\n\nUpdated helm chart origins for:\nnginx, prometheus-operator, metrics-server, prometheus-adapter\nTriggered by:\nhttps://helm.sh/blog/2019-10-22-helm-2150-released/#helm-2-support-plan\nhttps://github.com/helm/charts#status-of-the-project\n\nTask: 41233\nStory: 2008332\nChange-Id: I789fac4a3e273d10c58963aa92b8490f5c67bfe0\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n(cherry picked from commit 333331b743c5ee8fba9d3530af7ef641c3219643)\n'}, {'number': 2, 'created': '2021-02-11 15:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2ee63682dd315fd7c61ae7929c1149d0099e234d', 'message': 'Update helm charts origin repository\n\nUpdated helm chart origins for:\nnginx, prometheus-operator, metrics-server, prometheus-adapter\nTriggered by:\nhttps://helm.sh/blog/2019-10-22-helm-2150-released/#helm-2-support-plan\nhttps://github.com/helm/charts#status-of-the-project\n\nTask: 41233\nStory: 2008332\nChange-Id: I789fac4a3e273d10c58963aa92b8490f5c67bfe0\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n(cherry picked from commit 333331b743c5ee8fba9d3530af7ef641c3219643)\n'}, {'number': 3, 'created': '2021-02-11 17:05:06.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/09d1fefb43a307e1e71db4e0b9fd396d36ff97c4', 'message': 'Update helm charts origin repository\n\nUpdated helm chart origins for:\nnginx, prometheus-operator, metrics-server, prometheus-adapter\nTriggered by:\nhttps://helm.sh/blog/2019-10-22-helm-2150-released/#helm-2-support-plan\nhttps://github.com/helm/charts#status-of-the-project\n\nTask: 41233\nStory: 2008332\nChange-Id: I789fac4a3e273d10c58963aa92b8490f5c67bfe0\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n(cherry picked from commit 333331b743c5ee8fba9d3530af7ef641c3219643)\n'}]",0,772716,09d1fefb43a307e1e71db4e0b9fd396d36ff97c4,11,4,3,23084,,,0,"Update helm charts origin repository

Updated helm chart origins for:
nginx, prometheus-operator, metrics-server, prometheus-adapter
Triggered by:
https://helm.sh/blog/2019-10-22-helm-2150-released/#helm-2-support-plan
https://github.com/helm/charts#status-of-the-project

Task: 41233
Story: 2008332
Change-Id: I789fac4a3e273d10c58963aa92b8490f5c67bfe0
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
(cherry picked from commit 333331b743c5ee8fba9d3530af7ef641c3219643)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/772716/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh']",4,62775d3f193bcc796f7b33582c19783e261c4059,ussuri-fixes, repository: https://prometheus-community.github.io/helm-charts, repository: https://kubernetes-charts.storage.googleapis.com/,4,4
openstack%2Fmagnum~stable%2Fussuri~Ibeb32a24ca25914cab32c63a9ccafaf711148a84,openstack/magnum,stable/ussuri,Ibeb32a24ca25914cab32c63a9ccafaf711148a84,Make kubelet and kube-proxy use the secure port,MERGED,2021-02-11 15:06:14.000000000,2021-03-02 12:07:13.000000000,2021-03-02 12:07:13.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c2fcadcca5b5587061c5e1e38d02fd194cd4821f', 'message': 'Make kubelet and kube-proxy use the secure port\n\nCreate certificates for kubelet and kube-proxy on control-plane\nnodes similar to worker nodes.  Use the secure kube-apiserver\nport on control-plane nodes.\n\nstory: 2008524\ntask: 41602\n\nChange-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)\n'}, {'number': 2, 'created': '2021-02-11 17:06:56.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d3f7445e5a79efe4420cff27d297907f3900c410', 'message': 'Make kubelet and kube-proxy use the secure port\n\nCreate certificates for kubelet and kube-proxy on control-plane\nnodes similar to worker nodes.  Use the secure kube-apiserver\nport on control-plane nodes.\n\nstory: 2008524\ntask: 41602\n\nChange-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)\n'}]",0,775184,d3f7445e5a79efe4420cff27d297907f3900c410,7,2,2,28022,,,0,"Make kubelet and kube-proxy use the secure port

Create certificates for kubelet and kube-proxy on control-plane
nodes similar to worker nodes.  Use the secure kube-apiserver
port on control-plane nodes.

story: 2008524
task: 41602

Change-Id: Ibeb32a24ca25914cab32c63a9ccafaf711148a84
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit d11f4e8393ee5fd6bb2872af035352f7df2baa03)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/84/775184/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml']",3,c2fcadcca5b5587061c5e1e38d02fd194cd4821f,ussuri-fixes, - get_file: ../../common/templates/kubernetes/fragments/make-cert-client.sh,,15,10
openstack%2Fmagnum~stable%2Fussuri~I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,openstack/magnum,stable/ussuri,I3fdd186b73950b4b3e5790752eaafc47ff7da8f3,Fix misquoted comment,MERGED,2021-02-11 15:03:41.000000000,2021-03-02 12:06:41.000000000,2021-03-02 12:06:41.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2021-02-11 15:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2c988f935cc46a4904181bf12318666d4263aee7', 'message': ""Fix misquoted comment\n\nSeen while validating release, in the heat container agent journal:\n\n```\n/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:\n    line 776: --cluster-cidr: command not found\nerror: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.\n```\n\nTask: 41231\nStory: 2008330\nChange-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3\n(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)\n""}, {'number': 2, 'created': '2021-02-11 17:01:50.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/15b5f9702bba7512bd94c96c727775c057ee71de', 'message': ""Fix misquoted comment\n\nSeen while validating release, in the heat container agent journal:\n\n```\n/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:\n    line 776: --cluster-cidr: command not found\nerror: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.\n```\n\nTask: 41231\nStory: 2008330\nChange-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3\n(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)\n""}]",0,775176,15b5f9702bba7512bd94c96c727775c057ee71de,7,3,2,28022,,,0,"Fix misquoted comment

Seen while validating release, in the heat container agent journal:

```
/var/lib/heat-config/heat-config-script/0c399610-30a6-4728-80f2-702b0630400f:
    line 776: --cluster-cidr: command not found
error: expected 'logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER]'.
```

Task: 41231
Story: 2008330
Change-Id: I3fdd186b73950b4b3e5790752eaafc47ff7da8f3
(cherry picked from commit 9adfc4430919b0d7ad7a8a27175bc3357b881d4e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/76/775176/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'],1,2c988f935cc46a4904181bf12318666d4263aee7,ussuri-fixes, # no effect. This should fall within '--cluster-cidr'. # Disable file logging so 'kubectl logs' works., # no effect. This should fall within `--cluster-cidr`. # Disable file logging so `kubectl logs` works.,2,2
openstack%2Fmagnum~stable%2Fussuri~I0fb4b2604f38bd3a325f82b1364b78ff17792c65,openstack/magnum,stable/ussuri,I0fb4b2604f38bd3a325f82b1364b78ff17792c65,Use kube_master_ip for monitoring when no floating ip is used,MERGED,2021-02-10 13:53:27.000000000,2021-03-02 12:06:26.000000000,2021-03-02 12:06:26.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 28008}]","[{'number': 1, 'created': '2021-02-10 13:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/eb9dd4ef15d40fc0d2c25691771d98cf99e57cfa', 'message': 'Use kube_master_ip for monitoring when no floating ip is used\n\nThis patch aims to fix clusters that uses only private network\nand monitoring_enabled.\n\nIt was observed that:\n\n- no floating ip, so the kube_master_external_ip is null\n- because of that, the value that gets sent to the shell\nfor KUBE_MASTERS_PRIVATE is actually [null]\n- this happens when deploying prometheus-operator\n( label monitoring_enable=true )\n\nThose topics above results in a cluster taking around 30\nminutes to be completed until monitoring gives up configuring\nendpoints.\n\nChange-Id: I0fb4b2604f38bd3a325f82b1364b78ff17792c65\n(cherry picked from commit 34f65582eb3cb8fee91838e9f02e5310bd12ada0)\n'}, {'number': 2, 'created': '2021-02-11 15:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1ea1cf0fe807f67c10a8353395625d483df6094b', 'message': 'Use kube_master_ip for monitoring when no floating ip is used\n\nThis patch aims to fix clusters that uses only private network\nand monitoring_enabled.\n\nIt was observed that:\n\n- no floating ip, so the kube_master_external_ip is null\n- because of that, the value that gets sent to the shell\nfor KUBE_MASTERS_PRIVATE is actually [null]\n- this happens when deploying prometheus-operator\n( label monitoring_enable=true )\n\nThose topics above results in a cluster taking around 30\nminutes to be completed until monitoring gives up configuring\nendpoints.\n\nChange-Id: I0fb4b2604f38bd3a325f82b1364b78ff17792c65\n(cherry picked from commit 34f65582eb3cb8fee91838e9f02e5310bd12ada0)\n'}, {'number': 3, 'created': '2021-02-11 17:04:37.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/63ab64ba28f27bc15ab2585b78d046f0fbfe57c8', 'message': 'Use kube_master_ip for monitoring when no floating ip is used\n\nThis patch aims to fix clusters that uses only private network\nand monitoring_enabled.\n\nIt was observed that:\n\n- no floating ip, so the kube_master_external_ip is null\n- because of that, the value that gets sent to the shell\nfor KUBE_MASTERS_PRIVATE is actually [null]\n- this happens when deploying prometheus-operator\n( label monitoring_enable=true )\n\nThose topics above results in a cluster taking around 30\nminutes to be completed until monitoring gives up configuring\nendpoints.\n\nChange-Id: I0fb4b2604f38bd3a325f82b1364b78ff17792c65\n(cherry picked from commit 34f65582eb3cb8fee91838e9f02e5310bd12ada0)\n'}]",0,774802,63ab64ba28f27bc15ab2585b78d046f0fbfe57c8,11,4,3,28022,,,0,"Use kube_master_ip for monitoring when no floating ip is used

This patch aims to fix clusters that uses only private network
and monitoring_enabled.

It was observed that:

- no floating ip, so the kube_master_external_ip is null
- because of that, the value that gets sent to the shell
for KUBE_MASTERS_PRIVATE is actually [null]
- this happens when deploying prometheus-operator
( label monitoring_enable=true )

Those topics above results in a cluster taking around 30
minutes to be completed until monitoring gives up configuring
endpoints.

Change-Id: I0fb4b2604f38bd3a325f82b1364b78ff17792c65
(cherry picked from commit 34f65582eb3cb8fee91838e9f02e5310bd12ada0)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/02/774802/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'],1,eb9dd4ef15d40fc0d2c25691771d98cf99e57cfa,ussuri-fixes," ""${KUBE_MASTERS_PRIVATE}"": {get_attr: [kube_masters, kube_master_ip]}"," ""${KUBE_MASTERS_PRIVATE}"": {get_attr: [kube_masters, kube_master_external_ip]}",1,1
openstack%2Fmagnum~stable%2Fussuri~I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,openstack/magnum,stable/ussuri,I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,Fix database migrations,MERGED,2021-02-11 15:03:32.000000000,2021-03-02 12:06:19.000000000,2021-03-02 12:06:19.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f06c314bb43eafa3d4e9461eea2b3d5c828e76dc', 'message': 'Fix database migrations\n\nThe pattern of adding a column and then reading a table with it\nno longer works in SQLAlchemy 1.3.20. This has been reported\nupstream [1].\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669\n\nChange-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b\n(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)\n'}, {'number': 2, 'created': '2021-02-11 17:01:41.000000000', 'files': ['releasenotes/notes/migrations-1.3.20-60e5f990422f2ca5.yaml', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/93a47e762e320155529f9f66ea400e5f5b60009c', 'message': 'Fix database migrations\n\nThe pattern of adding a column and then reading a table with it\nno longer works in SQLAlchemy 1.3.20. This has been reported\nupstream [1].\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669\n\nChange-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b\n(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)\n'}]",0,775175,93a47e762e320155529f9f66ea400e5f5b60009c,7,3,2,28022,,,0,"Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

Change-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/75/775175/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrations-1.3.20-60e5f990422f2ca5.yaml', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py']",2,f06c314bb43eafa3d4e9461eea2b3d5c828e76dc,ussuri-fixes," baymodel = sa.sql.table('baymodel', sa.Column('insecure', sa.Boolean(), default=False))"," baymodel = sa.sql.table('baymodel', insecure_column)",6,1
openstack%2Fmagnum~stable%2Fussuri~I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2,openstack/magnum,stable/ussuri,I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2,Drop KUBE_API_PORT for kube-apiserver,MERGED,2021-02-11 15:03:03.000000000,2021-03-02 12:06:11.000000000,2021-03-02 12:06:11.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/04eee521e33418e8898094e4ac1eae787a7fc380', 'message': ""Drop KUBE_API_PORT for kube-apiserver\n\nFrom k8s v1.19.x, kube-apiserver binary can't accept any parameter,\nand actually we're not using the pass-in KUBE_API_PORT. So it's\nsafe to drop it.\n\nChange-Id: I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2\n(cherry picked from commit 662b831fc7f1e81e340facdafefdb6639a16a267)\n""}, {'number': 2, 'created': '2021-02-11 17:01:17.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/54b36190f678b05e022379157b258fca34f80ab2', 'message': ""Drop KUBE_API_PORT for kube-apiserver\n\nFrom k8s v1.19.x, kube-apiserver binary can't accept any parameter,\nand actually we're not using the pass-in KUBE_API_PORT. So it's\nsafe to drop it.\n\nChange-Id: I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2\n(cherry picked from commit 662b831fc7f1e81e340facdafefdb6639a16a267)\n""}]",0,775173,54b36190f678b05e022379157b258fca34f80ab2,7,3,2,28022,,,0,"Drop KUBE_API_PORT for kube-apiserver

From k8s v1.19.x, kube-apiserver binary can't accept any parameter,
and actually we're not using the pass-in KUBE_API_PORT. So it's
safe to drop it.

Change-Id: I12a0bb3441d18c3b68a8db4ab3234e04e5218cd2
(cherry picked from commit 662b831fc7f1e81e340facdafefdb6639a16a267)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/775173/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'],1,04eee521e33418e8898094e4ac1eae787a7fc380,ussuri-fixes, \$KUBE_LOGTOSTDERR \$KUBE_LOG_LEVEL \$KUBE_ETCD_SERVERS \$KUBE_API_ADDRESS \$KUBELET_PORT \$KUBE_SERVICE_ADDRESSES \$KUBE_ADMISSION_CONTROL \$KUBE_API_ARGS', \$KUBE_LOGTOSTDERR \$KUBE_LOG_LEVEL \$KUBE_ETCD_SERVERS \$KUBE_API_ADDRESS \$KUBE_API_PORT \$KUBELET_PORT \$KUBE_SERVICE_ADDRESSES \$KUBE_ADMISSION_CONTROL \$KUBE_API_ARGS',1,1
openstack%2Fosprofiler~stable%2Fqueens~I95461280d11b14199ba64a2da5709a1e2f4531df,openstack/osprofiler,stable/queens,I95461280d11b14199ba64a2da5709a1e2f4531df,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 18:18:42.000000000,2021-03-02 12:04:55.000000000,2021-03-02 12:02:58.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 18:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/1e7a457d47b4fa363233537119b5349f5e86068d', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement updated to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I95461280d11b14199ba64a2da5709a1e2f4531df\n'}, {'number': 2, 'created': '2021-02-26 18:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/de8c9078a8b52fc43b5d9faebffd067ddeef2109', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement updated to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I95461280d11b14199ba64a2da5709a1e2f4531df\n'}, {'number': 3, 'created': '2021-02-26 18:49:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/c3f9d3dc91cfffa86e0fc921da82c261ca0f6b21', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement updated to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I95461280d11b14199ba64a2da5709a1e2f4531df\n'}]",0,777803,c3f9d3dc91cfffa86e0fc921da82c261ca0f6b21,11,3,3,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement updated to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I95461280d11b14199ba64a2da5709a1e2f4531df
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/03/777803/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1e7a457d47b4fa363233537119b5349f5e86068d,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6,!=1.6.7;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0",sphinx>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0,3,2
openstack%2Fmagnum~stable%2Fussuri~If9dd67672becb6def9f97afa7e60b2660cf5b27e,openstack/magnum,stable/ussuri,If9dd67672becb6def9f97afa7e60b2660cf5b27e,Fix Cinder CSI,MERGED,2021-02-11 15:04:13.000000000,2021-03-02 12:04:22.000000000,2021-03-02 12:00:43.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2a92fa35cd14013650d5f51723aa88eceec4aa8a', 'message': 'Fix Cinder CSI\n\nA regression issue introduced by [1], which is causing Cinder CSI pods\nfailed to start. This patch will fixed it.\n\n[1] https://review.opendev.org/#/c/749101/\n\nChange-Id: If9dd67672becb6def9f97afa7e60b2660cf5b27e\nTask: 41097\nStory: 2008250\n(cherry picked from commit 56583ac8fe0dffe932808afc81a57279469b9d56)\n'}, {'number': 2, 'created': '2021-02-11 17:04:25.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/33e96f50e8b458d4f45a0cbc62207a24edbfa4cb', 'message': 'Fix Cinder CSI\n\nA regression issue introduced by [1], which is causing Cinder CSI pods\nfailed to start. This patch will fixed it.\n\n[1] https://review.opendev.org/#/c/749101/\n\nChange-Id: If9dd67672becb6def9f97afa7e60b2660cf5b27e\nTask: 41097\nStory: 2008250\n(cherry picked from commit 56583ac8fe0dffe932808afc81a57279469b9d56)\n'}]",0,775178,33e96f50e8b458d4f45a0cbc62207a24edbfa4cb,8,3,2,28022,,,0,"Fix Cinder CSI

A regression issue introduced by [1], which is causing Cinder CSI pods
failed to start. This patch will fixed it.

[1] https://review.opendev.org/#/c/749101/

Change-Id: If9dd67672becb6def9f97afa7e60b2660cf5b27e
Task: 41097
Story: 2008250
(cherry picked from commit 56583ac8fe0dffe932808afc81a57279469b9d56)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/78/775178/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml']",4,2a92fa35cd14013650d5f51723aa88eceec4aa8a,ussuri-fixes, mkdir /etc/kubernetes/ cp /etc/pki/tls/certs/ca-bundle.crt /etc/kubernetes/ca-bundle.crt , ,19,25
openstack%2Fosprofiler~stable%2Fpike~I95461280d11b14199ba64a2da5709a1e2f4531df,openstack/osprofiler,stable/pike,I95461280d11b14199ba64a2da5709a1e2f4531df,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:13:08.000000000,2021-03-02 12:04:16.000000000,2021-03-02 12:02:55.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 21:13:08.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/65df9fc03a17dbe1e95eaae1a4b32896779740e6', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement updated to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I95461280d11b14199ba64a2da5709a1e2f4531df\n'}]",0,777832,65df9fc03a17dbe1e95eaae1a4b32896779740e6,9,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement updated to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I95461280d11b14199ba64a2da5709a1e2f4531df
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/32/777832/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,65df9fc03a17dbe1e95eaae1a4b32896779740e6,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0",sphinx>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0,3,2
openstack%2Fmagnum~stable%2Fussuri~Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb,openstack/magnum,stable/ussuri,Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb,Update default k8s admission controller list,MERGED,2021-02-11 15:03:13.000000000,2021-03-02 12:02:50.000000000,2021-03-02 11:59:32.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ceb06c5f301948339e1eebfe1ca2ea8c5a499329', 'message': ""Update default k8s admission controller list\n\nThere are two issues with current k8s admission controller list:\n\n1. The default existing list is not consistent when user passes\nin extra controller or not\n2. The existing list is out of date.\n\nThe new list are based on below consideration:\n1. Get the default list based on k8s v1.16.x[1] because it's the\nsupported oldest version.\n2. Keep it consistent when user passes in extra controllers or not\n3. Keep all the admission controllers we has used in the code\n\n[1] https://v1-16.docs.kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#which-plugins-are-enabled-by-default\n\nTask: 40767\nStory: 2008076\n\nChange-Id: Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb\n(cherry picked from commit a837b5c03d9aaed7861ea78eae60b7eafdd855ee)\n""}, {'number': 2, 'created': '2021-02-11 17:01:26.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0c95ef1a5276501e9bc165691d45453cb5116895', 'message': ""Update default k8s admission controller list\n\nThere are two issues with current k8s admission controller list:\n\n1. The default existing list is not consistent when user passes\nin extra controller or not\n2. The existing list is out of date.\n\nThe new list are based on below consideration:\n1. Get the default list based on k8s v1.16.x[1] because it's the\nsupported oldest version.\n2. Keep it consistent when user passes in extra controllers or not\n3. Keep all the admission controllers we has used in the code\n\n[1] https://v1-16.docs.kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#which-plugins-are-enabled-by-default\n\nTask: 40767\nStory: 2008076\n\nChange-Id: Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb\n(cherry picked from commit a837b5c03d9aaed7861ea78eae60b7eafdd855ee)\n""}]",0,775174,0c95ef1a5276501e9bc165691d45453cb5116895,8,3,2,28022,,,0,"Update default k8s admission controller list

There are two issues with current k8s admission controller list:

1. The default existing list is not consistent when user passes
in extra controller or not
2. The existing list is out of date.

The new list are based on below consideration:
1. Get the default list based on k8s v1.16.x[1] because it's the
supported oldest version.
2. Keep it consistent when user passes in extra controllers or not
3. Keep all the admission controllers we has used in the code

[1] https://v1-16.docs.kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#which-plugins-are-enabled-by-default

Task: 40767
Story: 2008076

Change-Id: Ie5b89b97710d2e2d41c9ce4f3ec30046390acbeb
(cherry picked from commit a837b5c03d9aaed7861ea78eae60b7eafdd855ee)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/74/775174/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml']",2,ceb06c5f301948339e1eebfe1ca2ea8c5a499329,ussuri-fixes," default: ""NamespaceLifecycle,LimitRanger,SecurityContextDeny,ServiceAccount,ResourceQuota,TaintNodesByCondition,Priority,DefaultTolerationSeconds,DefaultStorageClass,StorageObjectInUseProtection,PersistentVolumeClaimResize,MutatingAdmissionWebhook,ValidatingAdmissionWebhook,RuntimeClass"""," default: ""NamespaceLifecycle,LimitRanger,ServiceAccount,DefaultStorageClass,DefaultTolerationSeconds,MutatingAdmissionWebhook,ValidatingAdmissionWebhook,ResourceQuota""",2,2
openstack%2Fmagnum~stable%2Fussuri~I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,openstack/magnum,stable/ussuri,I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,Remove duplicated etcd_volume_size param in coreos template,MERGED,2021-02-11 15:00:20.000000000,2021-03-02 12:00:03.000000000,2021-03-02 12:00:03.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2021-02-11 15:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c685f3db14f28546ef6f6f406ddecee4860363aa', 'message': 'Remove duplicated etcd_volume_size param in coreos template\n\nChange-Id: I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d\n(cherry picked from commit 0e964f8f7db23ae775a554d8f75bb7bb797ce490)\n'}, {'number': 2, 'created': '2021-02-11 16:50:10.000000000', 'files': ['magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/06635a3fb9616d7cb22a248802bbdb6af5b3ae6f', 'message': 'Remove duplicated etcd_volume_size param in coreos template\n\nChange-Id: I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d\n(cherry picked from commit 0e964f8f7db23ae775a554d8f75bb7bb797ce490)\n'}]",0,775168,06635a3fb9616d7cb22a248802bbdb6af5b3ae6f,8,3,2,28022,,,0,"Remove duplicated etcd_volume_size param in coreos template

Change-Id: I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d
(cherry picked from commit 0e964f8f7db23ae775a554d8f75bb7bb797ce490)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/68/775168/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml'],1,c685f3db14f28546ef6f6f406ddecee4860363aa,ussuri-fixes,, etcd_volume_size: type: number description: > size of the cinder volume for etcd storage default: 0 ,0,6
openstack%2Fmagnum~stable%2Fussuri~I362cea7bf57825035d13d234d0181a2b1fca5743,openstack/magnum,stable/ussuri,I362cea7bf57825035d13d234d0181a2b1fca5743,Stop using delete_on_termination for BFV instances,MERGED,2021-02-11 15:00:30.000000000,2021-03-02 11:59:56.000000000,2021-03-02 11:59:56.000000000,"[{'_account_id': 1004}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 15:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bfc409bfb29b6a80b3e8ef2a8b6533934cd4f6ea', 'message': ""Stop using delete_on_termination for BFV instances\n\nWhen using delete_on_termination and the booting of the instance fails\non the first attempt, the second attempt will fail with Heat.  The\nreason is that with delete_on_termination set to True, Nova will delete\nthe volume when Heat deletes the ERROR'd instance and it will then\nresult in the follow-up boot to fail with an error along the line of\nunable to find volume, which masks the real failure from the user (which\ncould potentialy be aquota issue).\n\nWith this patch, we no longer set this and instead use the default of\nfalse.  This will not mean we will leak volumes because when we delete\nthe stack, Heat will do all the right things and delete them in order,\nmaking sure the volume disappears eventually.\n\nChange-Id: I362cea7bf57825035d13d234d0181a2b1fca5743\n(cherry picked from commit 2c63aca8c6afbcc2e32a09cc7f3ad2f18265698f)\n""}, {'number': 2, 'created': '2021-02-11 16:50:18.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/74b676984a7208d3a554fbce5a8ef397604d9652', 'message': ""Stop using delete_on_termination for BFV instances\n\nWhen using delete_on_termination and the booting of the instance fails\non the first attempt, the second attempt will fail with Heat.  The\nreason is that with delete_on_termination set to True, Nova will delete\nthe volume when Heat deletes the ERROR'd instance and it will then\nresult in the follow-up boot to fail with an error along the line of\nunable to find volume, which masks the real failure from the user (which\ncould potentialy be aquota issue).\n\nWith this patch, we no longer set this and instead use the default of\nfalse.  This will not mean we will leak volumes because when we delete\nthe stack, Heat will do all the right things and delete them in order,\nmaking sure the volume disappears eventually.\n\nChange-Id: I362cea7bf57825035d13d234d0181a2b1fca5743\n(cherry picked from commit 2c63aca8c6afbcc2e32a09cc7f3ad2f18265698f)\n""}]",0,775169,74b676984a7208d3a554fbce5a8ef397604d9652,8,3,2,28022,,,0,"Stop using delete_on_termination for BFV instances

When using delete_on_termination and the booting of the instance fails
on the first attempt, the second attempt will fail with Heat.  The
reason is that with delete_on_termination set to True, Nova will delete
the volume when Heat deletes the ERROR'd instance and it will then
result in the follow-up boot to fail with an error along the line of
unable to find volume, which masks the real failure from the user (which
could potentialy be aquota issue).

With this patch, we no longer set this and instead use the default of
false.  This will not mean we will leak volumes because when we delete
the stack, Heat will do all the right things and delete them in order,
making sure the volume disappears eventually.

Change-Id: I362cea7bf57825035d13d234d0181a2b1fca5743
(cherry picked from commit 2c63aca8c6afbcc2e32a09cc7f3ad2f18265698f)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/69/775169/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml']",4,bfc409bfb29b6a80b3e8ef2a8b6533934cd4f6ea,ussuri-fixes,, delete_on_termination: true,0,4
openstack%2Foslo.rootwrap~stable%2Fstein~Ib53ba3d18179fd773ace2fc26479b60ecd4c820c,openstack/oslo.rootwrap,stable/stein,Ib53ba3d18179fd773ace2fc26479b60ecd4c820c,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-03-01 16:29:13.000000000,2021-03-02 11:59:15.000000000,2021-03-02 11:56:47.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 16:29:13.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/b38b0cae1f95461e128b5ca6c6f7a2a447843e0e', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ib53ba3d18179fd773ace2fc26479b60ecd4c820c\n'}]",0,778029,b38b0cae1f95461e128b5ca6c6f7a2a447843e0e,8,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ib53ba3d18179fd773ace2fc26479b60ecd4c820c
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/29/778029/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,b38b0cae1f95461e128b5ca6c6f7a2a447843e0e,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",6,3
openstack%2Fansible-collections-openstack~master~I7a36fb05065cbd559cd7a00842070f97e7afbc13,openstack/ansible-collections-openstack,master,I7a36fb05065cbd559cd7a00842070f97e7afbc13,Add binding profile to port module,MERGED,2021-03-01 07:59:09.000000000,2021-03-02 11:56:26.000000000,2021-03-02 11:56:26.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-01 07:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e61fb0e5fabd6b597da24ae99205651c60f4e210', 'message': 'Add binding profile to port module\n\nNeutron port is able to configure binding profile during creation.\nAdd support of the binding profile to module\n\nChange-Id: I7a36fb05065cbd559cd7a00842070f97e7afbc13\n'}, {'number': 2, 'created': '2021-03-01 08:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/848eb4601eeca4e2d51220979e7379deb9204917', 'message': 'Add binding profile to port module\n\nNeutron port is able to configure binding profile during creation.\nAdd support of the binding profile to module\n\nChange-Id: I7a36fb05065cbd559cd7a00842070f97e7afbc13\n'}, {'number': 3, 'created': '2021-03-01 08:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7c90dee8e98d4b7c0ea56baa3f2fc860ddd2ec64', 'message': 'Add binding profile to port module\n\nNeutron port is able to configure binding profile during creation.\nAdd support of the binding profile to module\n\nChange-Id: I7a36fb05065cbd559cd7a00842070f97e7afbc13\n'}, {'number': 4, 'created': '2021-03-01 12:17:02.000000000', 'files': ['plugins/modules/port.py', 'ci/roles/port/defaults/main.yml', 'ci/roles/port/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/50deae71f4d5ac1bc14b0105b6a00b2b939dbba1', 'message': 'Add binding profile to port module\n\nNeutron port is able to configure binding profile during creation.\nAdd support of the binding profile to module\n\nChange-Id: I7a36fb05065cbd559cd7a00842070f97e7afbc13\n'}]",4,777936,50deae71f4d5ac1bc14b0105b6a00b2b939dbba1,13,4,4,28094,,,0,"Add binding profile to port module

Neutron port is able to configure binding profile during creation.
Add support of the binding profile to module

Change-Id: I7a36fb05065cbd559cd7a00842070f97e7afbc13
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/36/777936/4 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/port.py', 'ci/roles/port/defaults/main.yml', 'ci/roles/port/tasks/main.yml']",3,e61fb0e5fabd6b597da24ae99205651c60f4e210,add_binding_profile_to_port,"- name: Create port (with binding profile) openstack.cloud.port: cloud: ""{{ cloud }}"" state: present name: ""{{ port_name }}"" network: ""{{ network_name }}"" binding_profile: ""{{ binding_profile }}"" register: port - name: Assert binding:profile exists in created port assert: that: ""port.port['binding:profile']"" - debug: var=port ",,47,2
openstack%2Fkolla-ansible~stable%2Fstein~I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,openstack/kolla-ansible,stable/stein,I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,Fix Barbican API log config,MERGED,2021-03-01 23:46:14.000000000,2021-03-02 11:55:52.000000000,2021-03-02 11:54:05.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 23:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30ca1dd5b52c12d1eb88ff64df78d243f3fe0ce7', 'message': ""Fix Barbican API log config\n\nThere are a few issues fixed here:\n\n- The Barbican API service doesn't set a log file, so all the Barbican API\n  service logs go to loadwsgi.py.log by default.\n- The logs in loadwsgi.py.log are not ingested properly by Fluentd.\n- uWSGI logs go to barbican-api.log. This would normally be used as the log\n  file for the Barbican API service logs.\n\nThis patch makes the following changes to address the above issues:\n\n- All uWSGI logs (from the Emperor and Vassals) go to barbican_api_uwsgi_access.log\n  Although these logs aren't strictly all access logs, this follows the existing\n  pattern for WSGI logs.\n- The Barbican API service logs are written to barbican-api.log instead of\n  loadwsgi.py.log. This follows the pattern used by other OpenStack services.\n- Fluentd is configured to parse the Barbican API service logs as it would with\n  other OpenStack Python services.\n\nChange-Id: I6d03fa8c81c52b6f061514a836bbd15bb6639aaf\nCloses-Bug: #1891343\n(cherry picked from commit 1ff4e58d70197263f5e0fd40f727ceb5ecf00e65)\n""}, {'number': 2, 'created': '2021-03-02 01:10:02.000000000', 'files': ['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/barbican/templates/barbican-api.json.j2', 'releasenotes/notes/fix-barbican-logging-42068f47fe1e4e4d.yaml', 'ansible/roles/barbican/templates/barbican-api.ini.j2', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ba9c1f4e1540b98223d087bf99836137d75b7ee', 'message': ""Fix Barbican API log config\n\nThere are a few issues fixed here:\n\n- The Barbican API service doesn't set a log file, so all the Barbican API\n  service logs go to loadwsgi.py.log by default.\n- The logs in loadwsgi.py.log are not ingested properly by Fluentd.\n- uWSGI logs go to barbican-api.log. This would normally be used as the log\n  file for the Barbican API service logs.\n\nThis patch makes the following changes to address the above issues:\n\n- All uWSGI logs (from the Emperor and Vassals) go to barbican_api_uwsgi_access.log\n  Although these logs aren't strictly all access logs, this follows the existing\n  pattern for WSGI logs.\n- The Barbican API service logs are written to barbican-api.log instead of\n  loadwsgi.py.log. This follows the pattern used by other OpenStack services.\n- Fluentd is configured to parse the Barbican API service logs as it would with\n  other OpenStack Python services.\n\nChange-Id: I6d03fa8c81c52b6f061514a836bbd15bb6639aaf\nCloses-Bug: #1891343\n(cherry picked from commit 1ff4e58d70197263f5e0fd40f727ceb5ecf00e65)\n""}]",0,778098,3ba9c1f4e1540b98223d087bf99836137d75b7ee,11,3,2,30523,,,0,"Fix Barbican API log config

There are a few issues fixed here:

- The Barbican API service doesn't set a log file, so all the Barbican API
  service logs go to loadwsgi.py.log by default.
- The logs in loadwsgi.py.log are not ingested properly by Fluentd.
- uWSGI logs go to barbican-api.log. This would normally be used as the log
  file for the Barbican API service logs.

This patch makes the following changes to address the above issues:

- All uWSGI logs (from the Emperor and Vassals) go to barbican_api_uwsgi_access.log
  Although these logs aren't strictly all access logs, this follows the existing
  pattern for WSGI logs.
- The Barbican API service logs are written to barbican-api.log instead of
  loadwsgi.py.log. This follows the pattern used by other OpenStack services.
- Fluentd is configured to parse the Barbican API service logs as it would with
  other OpenStack Python services.

Change-Id: I6d03fa8c81c52b6f061514a836bbd15bb6639aaf
Closes-Bug: #1891343
(cherry picked from commit 1ff4e58d70197263f5e0fd40f727ceb5ecf00e65)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/778098/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'ansible/roles/barbican/templates/barbican-api.json.j2', 'releasenotes/notes/fix-barbican-logging-42068f47fe1e4e4d.yaml', 'ansible/roles/barbican/templates/barbican-api.ini.j2', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2']",6,30ca1dd5b52c12d1eb88ff64df78d243f3fe0ce7,bug/1891343,"<<<<<<< HEAD (47f51a CI: restrict pip to <21, pin alembic to avoid ARA failure)======= rewriterule1 programname ^(cinder-api-access|cloudkitty-api-access|gnocchi-api-access|horizon-access|keystone-apache-admin-access|keystone-apache-public-access|monasca-api-access|placement-api-access|panko-api-access)$ apache_access rewriterule2 programname ^(aodh_wsgi_access|barbican_api_uwsgi_access|zun_api_wsgi_access|vitrage_wsgi_access)$ wsgi_access rewriterule3 programname ^(nova-api|nova-compute|nova-compute-ironic|nova-conductor|nova-manage|nova-novncproxy|nova-scheduler|nova-placement-api|placement-api|privsep-helper)$ openstack_python >>>>>>> CHANGE (1ff4e5 Fix Barbican API log config) rewriterule12 programname ^(barbican-api|barbican-worker|barbican-keystone-listener|barbican-db-manage|app)$ openstack_python", rewriterule12 programname ^(barbican-worker|barbican-keystone-listener|barbican-db-manage|app)$ openstack_python,19,4
openstack%2Foslo.middleware~stable%2Fqueens~Id39cd1f6ed61a3fa457f461fc8d399b550f3bb57,openstack/oslo.middleware,stable/queens,Id39cd1f6ed61a3fa457f461fc8d399b550f3bb57,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 20:30:18.000000000,2021-03-02 11:54:13.000000000,2021-03-02 11:51:04.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 20:30:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/26621ecfc60fd624a93eb19c2c6d3e378266901e', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement needed to be updated to make requirements-check job\npass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Id39cd1f6ed61a3fa457f461fc8d399b550f3bb57\n'}]",0,777820,26621ecfc60fd624a93eb19c2c6d3e378266901e,9,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Id39cd1f6ed61a3fa457f461fc8d399b550f3bb57
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/20/777820/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,26621ecfc60fd624a93eb19c2c6d3e378266901e,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0","sphinx!=1.6.6,>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0",3,2
openstack%2Fkayobe-config-dev~stable%2Fvictoria~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,stable/victoria,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-24 08:41:14.000000000,2021-03-02 11:53:18.000000000,2021-03-02 11:53:18.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 08:41:14.000000000', 'files': ['etc/kayobe/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e289b3360d10cd995e002f485029c2daad3444b9', 'message': 'Reduce neutron RPC workers to 1\n\nThis should reduce the memory overhead of these processes\n\nChange-Id: I02be84d079f3effe559bd501622642f1c9601b45\n(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)\n'}]",0,777130,e289b3360d10cd995e002f485029c2daad3444b9,15,3,1,14826,,,0,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
(cherry picked from commit 6e7e3ae18c92df78bab79d572cf60a954e80da19)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/30/777130/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla/globals.yml'],1,e289b3360d10cd995e002f485029c2daad3444b9,,"openstack_service_rpc_workers: ""1""",,1,0
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,openstack/ansible-role-python_venv_build,stable/victoria,I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,Slurp constraints for all hosts,MERGED,2021-03-02 08:05:42.000000000,2021-03-02 11:49:40.000000000,2021-03-02 11:47:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-02 08:05:42.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/1f1e6c614e4034832d68f90310f07821cb2737d3', 'message': 'Slurp constraints for all hosts\n\nThis fixes bug when content slurp has been performed only for single\nhost. Others were having invalid contstraints file with single record\nin it.\n\nChange-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b\n(cherry picked from commit 20f8ad42ce3a7cf9cc9139c48bd11872af2fb10c)\n'}]",0,778104,1f1e6c614e4034832d68f90310f07821cb2737d3,8,3,1,25023,,,0,"Slurp constraints for all hosts

This fixes bug when content slurp has been performed only for single
host. Others were having invalid contstraints file with single record
in it.

Change-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b
(cherry picked from commit 20f8ad42ce3a7cf9cc9139c48bd11872af2fb10c)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/04/778104/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",2,1f1e6c614e4034832d68f90310f07821cb2737d3,,"- name: Slurp up the constraints file for later re-deployment delegate_to: ""{{ venv_build_host }}"" become: ""{{ venv_build_host == 'localhost' }}"" slurp: src: ""{{ venv_build_host_requirements_path }}/{{ venv_install_destination_path | basename }}-constraints.txt"" register: _constraints_file_slurp run_once: true when: venv_wheel_build_enable | bool ",,9,7
openstack%2Foslo.privsep~stable%2Frocky~I12478b0b85aad91bcf71500e0cef59698c528417,openstack/oslo.privsep,stable/rocky,I12478b0b85aad91bcf71500e0cef59698c528417,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-25 13:43:18.000000000,2021-03-02 11:48:58.000000000,2021-03-02 11:45:40.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 13:43:18.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/af755f3210088ab05897fed39722795a3647ee95', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I12478b0b85aad91bcf71500e0cef59698c528417\n'}]",0,777589,af755f3210088ab05897fed39722795a3647ee95,8,2,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I12478b0b85aad91bcf71500e0cef59698c528417
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/89/777589/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,af755f3210088ab05897fed39722795a3647ee95,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSDbandit>=1.1.0,<1.6.3;python_version=='2.7' # Apache-2.0 bandit>=1.1.0;python_version>='3.5' # Apache-2.0","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0",4,2
openstack%2Foslo.privsep~stable%2Fqueens~I3ee4f975ed968e73c553e12fdc53c03c1e4f8064,openstack/oslo.privsep,stable/queens,I3ee4f975ed968e73c553e12fdc53c03c1e4f8064,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 20:43:39.000000000,2021-03-02 11:48:32.000000000,2021-03-02 11:45:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 20:43:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/84ac9dd8a85880a329dbe025a6ee59186ecc17c4', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement needed to be updated to make requirements-check job\npass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I3ee4f975ed968e73c553e12fdc53c03c1e4f8064\n'}]",0,777824,84ac9dd8a85880a329dbe025a6ee59186ecc17c4,9,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I3ee4f975ed968e73c553e12fdc53c03c1e4f8064
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/24/777824/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,84ac9dd8a85880a329dbe025a6ee59186ecc17c4,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0","sphinx!=1.6.6,>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0",3,2
openstack%2Foslo.service~stable%2Fqueens~Ia4a143d0c17e5471868d1508be1ec391d8c21090,openstack/oslo.service,stable/queens,Ia4a143d0c17e5471868d1508be1ec391d8c21090,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:01:03.000000000,2021-03-02 11:46:22.000000000,2021-03-02 11:44:15.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 21:01:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/50e005a2f525fc3175e81abf3f5b09ff58222939', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement needed to be updated to make requirements-check job\npass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ia4a143d0c17e5471868d1508be1ec391d8c21090\n'}]",0,777829,50e005a2f525fc3175e81abf3f5b09ff58222939,9,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ia4a143d0c17e5471868d1508be1ec391d8c21090
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/29/777829/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,50e005a2f525fc3175e81abf3f5b09ff58222939,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0","sphinx!=1.6.6,>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0",3,2
openstack%2Foslo.service~stable%2Frocky~Ifde30bc88e77c027c3dce12417c0718f5ae56f23,openstack/oslo.service,stable/rocky,Ifde30bc88e77c027c3dce12417c0718f5ae56f23,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-25 10:08:48.000000000,2021-03-02 11:46:16.000000000,2021-03-02 11:44:18.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-25 10:08:48.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/5625fd792402c722a43adf434cd8efa04ebacd22', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ifde30bc88e77c027c3dce12417c0718f5ae56f23\n'}]",0,777556,5625fd792402c722a43adf434cd8efa04ebacd22,11,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ifde30bc88e77c027c3dce12417c0718f5ae56f23
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/56/777556/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5625fd792402c722a43adf434cd8efa04ebacd22,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6,!=1.6.7;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0","sphinx!=1.6.6,>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0",3,2
openstack%2Fosprofiler~stable%2Frocky~Id412a175c8b2a9c8c62105f5a6205b1330a9883f,openstack/osprofiler,stable/rocky,Id412a175c8b2a9c8c62105f5a6205b1330a9883f,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-25 09:53:35.000000000,2021-03-02 11:46:11.000000000,2021-03-02 11:43:53.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 09:53:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/72958e606016a951ee7002d8da2baa5814b00e4f', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement updated to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Id412a175c8b2a9c8c62105f5a6205b1330a9883f\n'}]",0,777531,72958e606016a951ee7002d8da2baa5814b00e4f,8,2,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement updated to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Id412a175c8b2a9c8c62105f5a6205b1330a9883f
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/31/777531/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,72958e606016a951ee7002d8da2baa5814b00e4f,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6,!=1.6.7;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0",sphinx>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0,3,2
openstack%2Foslo.service~stable%2Fpike~I4cdc6d038911283f3eeedbdf70fc6c24933f4d28,openstack/oslo.service,stable/pike,I4cdc6d038911283f3eeedbdf70fc6c24933f4d28,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:36:38.000000000,2021-03-02 11:45:56.000000000,2021-03-02 11:43:40.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 21:36:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/cae223bb310aa3c5e44756b06f7ec043fda2c506', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement needed to be updated to make requirements-check job\npass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I4cdc6d038911283f3eeedbdf70fc6c24933f4d28\n'}]",0,777836,cae223bb310aa3c5e44756b06f7ec043fda2c506,9,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I4cdc6d038911283f3eeedbdf70fc6c24933f4d28
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/36/777836/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,cae223bb310aa3c5e44756b06f7ec043fda2c506,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0",sphinx>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0,3,2
openstack%2Ftripleo-ansible~master~I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913,openstack/tripleo-ansible,master,I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913,[tripleo_transfer] Restructure role to avoid duplication,ABANDONED,2021-02-18 22:50:02.000000000,2021-03-02 11:45:32.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 22:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84be3e6c97928fa1829365947e0bd1e34ce20115', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 2, 'created': '2021-02-18 22:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bfab2374ba49ccebdf2dc45821a5780ea689ea11', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 3, 'created': '2021-02-18 22:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0ce7c5d23f6e43361ff87b5792e3998b56b6b40', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 4, 'created': '2021-02-19 00:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fab0388bef9e39e0b154e92f6d8fe6deaa80e8b7', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 5, 'created': '2021-02-19 00:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7eca958e3221535932a608da84ed1034312ca33', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 6, 'created': '2021-02-19 08:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bc1745320801fbcfa50def6d35f9bd81837578a', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 7, 'created': '2021-02-19 10:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/997c036941fcc3f81f72112ff3d82ca5243763e5', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 8, 'created': '2021-02-25 08:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9357dfb2d60e3a4e31e1f025b6d5bcf2c6b6c4a3', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 9, 'created': '2021-02-25 08:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3345325c70324ce0cf76c33170e20bc54c6c0b5e', 'message': '[tripleo_transfer] Restructure role to avoid delegation\n\nThe use of delegation in this role is a highly inefficient way\nof executing a role. Every task ends up executing for every host\ntargeted in the playbook.\n\nIn this patch we restructure the role to avoid delegation for\ntasks to be executed on target hosts. This works regardless of\nhow badly the playbook is targeted thanks to the conditionals\nfor the task sets included.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 10, 'created': '2021-03-01 15:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab7e4d017653b9ee00b6385b40ea7dad28e58f46', 'message': '[tripleo_transfer] Restructure role to avoid duplication\n\nThe use of delegation and become in this role is duplicated\nheavily. Due to the way that the role is run, delegation is\nrequired to ensure that the correct hosts are targeted in\nthe correct order, but there is no need to run everything\nfor every host.\n\nIn this patch we restructure the role to deduplicate the\ndelegation and become arguments, and we use run_once to ensure\nthat the tasks are only executed once no matter how many hosts\nare targeted in the playbook.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}, {'number': 11, 'created': '2021-03-01 15:11:20.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/tasks/push.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/pull.yml', 'tripleo_ansible/roles/tripleo_transfer/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad3abd38810054302e7133357274931522e6e466', 'message': '[tripleo_transfer] Restructure role to avoid duplication\n\nThe use of delegation and become in this role is duplicated\nheavily. Due to the way that the role is run, delegation is\nrequired to ensure that the correct hosts are targeted in\nthe correct order, but there is no need to run everything\nfor every host.\n\nIn this patch we restructure the role to deduplicate the\ndelegation and become arguments, and we use run_once to ensure\nthat the tasks are only executed once no matter how many hosts\nare targeted in the playbook.\n\nWe also add a task to verify that we have the required variables\nbefore executing the whole role.\n\nLastly, we move the facts for the safe paths to vars/main.yml\nso that they are lazy-loaded automatically, saving a little more\ntime by not having to execute two more set_fact tasks.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913\n'}]",0,776552,ad3abd38810054302e7133357274931522e6e466,26,4,11,6816,,,0,"[tripleo_transfer] Restructure role to avoid duplication

The use of delegation and become in this role is duplicated
heavily. Due to the way that the role is run, delegation is
required to ensure that the correct hosts are targeted in
the correct order, but there is no need to run everything
for every host.

In this patch we restructure the role to deduplicate the
delegation and become arguments, and we use run_once to ensure
that the tasks are only executed once no matter how many hosts
are targeted in the playbook.

We also add a task to verify that we have the required variables
before executing the whole role.

Lastly, we move the facts for the safe paths to vars/main.yml
so that they are lazy-loaded automatically, saving a little more
time by not having to execute two more set_fact tasks.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I7a97c41602b95e88d01e4f3fdceb9a0f8b3e5913
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/776552/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/tasks/push.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/pull.yml', 'tripleo_ansible/roles/tripleo_transfer/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml']",5,84be3e6c97928fa1829365947e0bd1e34ce20115,bz/1916162,," delegate_to: ""{{ tripleo_transfer_dest_host }}"" delegate_to: ""{{ tripleo_transfer_dest_host }}"" delegate_to: ""{{ tripleo_transfer_dest_host }}"" delegate_to: ""{{ tripleo_transfer_dest_host }}""",134,89
openstack%2Foslo.reports~stable%2Frocky~Id83f06c2f7a120960083b05d01b311e733bd0369,openstack/oslo.reports,stable/rocky,Id83f06c2f7a120960083b05d01b311e733bd0369,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-25 14:22:24.000000000,2021-03-02 11:45:20.000000000,2021-03-02 11:43:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-25 14:22:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/3d7d336da64fdea67de9565b95f676996ddaffe6', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Id83f06c2f7a120960083b05d01b311e733bd0369\n'}]",0,777600,3d7d336da64fdea67de9565b95f676996ddaffe6,9,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Id83f06c2f7a120960083b05d01b311e733bd0369
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/00/777600/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3d7d336da64fdea67de9565b95f676996ddaffe6,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0",3,2
openstack%2Fironic~master~I01701c6908aebbb2e78527087a4f8f2f7a016e1b,openstack/ironic,master,I01701c6908aebbb2e78527087a4f8f2f7a016e1b,secure-rbac - minor follow-up for project scoped tests,MERGED,2021-03-01 17:04:32.000000000,2021-03-02 11:39:46.000000000,2021-03-02 11:38:01.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-01 17:04:32.000000000', 'files': ['ironic/tests/unit/api/test_rbac_project_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/20acfc26e160dc22f884bb35f9a2996cc3fb93e3', 'message': 'secure-rbac - minor follow-up for project scoped tests\n\nJust a couple quick items needed to be fixed that were identified in\nreview of the original change.\n\nhttps://review.opendev.org/c/openstack/ironic/+/772451/11/ironic/tests/unit/api/test_rbac_project_scoped.yaml\n\nChange-Id: I01701c6908aebbb2e78527087a4f8f2f7a016e1b\n'}]",0,778033,20acfc26e160dc22f884bb35f9a2996cc3fb93e3,10,2,1,11655,,,0,"secure-rbac - minor follow-up for project scoped tests

Just a couple quick items needed to be fixed that were identified in
review of the original change.

https://review.opendev.org/c/openstack/ironic/+/772451/11/ironic/tests/unit/api/test_rbac_project_scoped.yaml

Change-Id: I01701c6908aebbb2e78527087a4f8f2f7a016e1b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/778033/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/api/test_rbac_project_scoped.yaml'],1,20acfc26e160dc22f884bb35f9a2996cc3fb93e3,secure-rbac,# distinction because we also don't want to leak that something exists,# distinction because we alsod on't want to leak that something exists# TODO(TheJulia): Huge question hitting me... will these 404 or 403 for 3rd party admin. Likely we should return 404 if they do not have rights to the node itself. A slight delineation between the two. ,1,4
openstack%2Fironic-python-agent~master~I983ad3bd6fff539e877844e54788f63689ce8a84,openstack/ironic-python-agent,master,I983ad3bd6fff539e877844e54788f63689ce8a84,Added comment about IPA logs being uploaded to Ironic,MERGED,2021-03-01 16:38:12.000000000,2021-03-02 11:39:43.000000000,2021-03-02 11:38:10.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-01 16:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0967b4befb821fe5ad745e483a51e38338ecb6b2', 'message': 'Added comment about IPA logs being uploaded to Ironic\n\nChange-Id: I983ad3bd6fff539e877844e54788f63689ce8a84\n'}, {'number': 2, 'created': '2021-03-01 16:41:04.000000000', 'files': ['doc/source/admin/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2220aaae57ef7b9f636dfe3175a48c4d89c4fe59', 'message': 'Added comment about IPA logs being uploaded to Ironic\n\nChange-Id: I983ad3bd6fff539e877844e54788f63689ce8a84\n'}]",0,778031,2220aaae57ef7b9f636dfe3175a48c4d89c4fe59,9,3,2,1004,,,0,"Added comment about IPA logs being uploaded to Ironic

Change-Id: I983ad3bd6fff539e877844e54788f63689ce8a84
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/31/778031/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/troubleshooting.rst'],1,0967b4befb821fe5ad745e483a51e38338ecb6b2,,"In addition, Ironic is configured to retrieve IPA logs on failures by default, you can learn more about this feature in the `Ironic troubleshooting guide <https://docs.openstack.org/ironic/latest/admin/troubleshooting.html#retrieving-logs-from-the-deploy-ramdisk>`_. ",,3,1
openstack%2Fmagnum~stable%2Fussuri~I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5,openstack/magnum,stable/ussuri,I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5,Remove warning for scale_manager,MERGED,2021-02-11 14:59:10.000000000,2021-03-02 11:39:31.000000000,2021-03-02 11:37:46.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 14:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6cb0ae816b0b8a32f7f943b19a6d718119650852', 'message': 'Remove warning for scale_manager\n\nThe removed warning was meant as suggestion to\ndevelopers to implement a scale_manager. However,\nreturning None for not implemented classes is a\ndeliberate choice. Remove this log line from\nproduction sites and developers can always decide\nto not return None.\n\nstory: 2007803\ntask: 40064\n\nChange-Id: I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 9513b91ccf5a62e3984459313e98bef645dfaf4a)\n'}, {'number': 2, 'created': '2021-02-11 16:48:48.000000000', 'files': ['magnum/conductor/scale_manager.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9faa4b3df5d1bfb04dc41b5f595095a8b215f88c', 'message': 'Remove warning for scale_manager\n\nThe removed warning was meant as suggestion to\ndevelopers to implement a scale_manager. However,\nreturning None for not implemented classes is a\ndeliberate choice. Remove this log line from\nproduction sites and developers can always decide\nto not return None.\n\nstory: 2007803\ntask: 40064\n\nChange-Id: I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 9513b91ccf5a62e3984459313e98bef645dfaf4a)\n'}]",0,775165,9faa4b3df5d1bfb04dc41b5f595095a8b215f88c,9,2,2,28022,,,0,"Remove warning for scale_manager

The removed warning was meant as suggestion to
developers to implement a scale_manager. However,
returning None for not implemented classes is a
deliberate choice. Remove this log line from
production sites and developers can always decide
to not return None.

story: 2007803
task: 40064

Change-Id: I85f0c89081007fbbbfe00c7cbeebf0ad837cedf5
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 9513b91ccf5a62e3984459313e98bef645dfaf4a)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/775165/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/conductor/scale_manager.py'],1,6cb0ae816b0b8a32f7f943b19a6d718119650852,ussuri-fixes, # NOTE: Currently only kubernetes and mesos cluster scale managers # are available.," if not manager: LOG.warning( ""Currently only kubernetes and mesos cluster scale manager "" ""are available"") ",2,4
openstack%2Foslo.reports~stable%2Fqueens~Ic49c9bffc970b34ffa85696e9f8abbd8e8a1a776,openstack/oslo.reports,stable/queens,Ic49c9bffc970b34ffa85696e9f8abbd8e8a1a776,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 20:53:53.000000000,2021-03-02 11:33:13.000000000,2021-03-02 11:31:52.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 20:53:53.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/e279ddfb25454516bdfb09c5b4ee5a0204536ffa', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement needed to be updated to make requirements-check job\npass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ic49c9bffc970b34ffa85696e9f8abbd8e8a1a776\n'}]",0,777827,e279ddfb25454516bdfb09c5b4ee5a0204536ffa,9,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ic49c9bffc970b34ffa85696e9f8abbd8e8a1a776
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/27/777827/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e279ddfb25454516bdfb09c5b4ee5a0204536ffa,cap-bandit-1.6.2,"sphinx>=1.6.2,!=1.6.6,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0","sphinx!=1.6.6,>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0",3,2
openstack%2Fcyborg~master~Ic474814b780e9beca6f19df50c9ce4c5553850a1,openstack/cyborg,master,Ic474814b780e9beca6f19df50c9ce4c5553850a1,Add NVMe SSD driver,MERGED,2020-04-27 05:06:41.000000000,2021-03-02 11:24:48.000000000,2021-03-02 11:22:52.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 27458}, {'_account_id': 28748}, {'_account_id': 30395}, {'_account_id': 30623}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-04-27 05:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6e625ed97363a2cc78821b45f042cc22fc18023e', 'message': 'Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 2, 'created': '2020-04-27 05:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/106561dc46dc4860128efb04f0750dab0d4a1176', 'message': 'Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 3, 'created': '2020-04-27 06:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/12e301c8b73e68d491094c890cc253a30c3e8f06', 'message': 'WIP: Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 4, 'created': '2020-04-27 06:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/32acd11c0cdf36a3bede1d9ba28fd76717e73aa6', 'message': 'WIP: Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 5, 'created': '2020-04-28 12:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/61be8ce9ed9c012c7d6a85a8236ba5bee155725c', 'message': 'WIP: Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 6, 'created': '2020-04-28 13:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6e306d0e61f93932c4dabc9a2c63c402786bde82', 'message': 'Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 7, 'created': '2020-04-29 01:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c7eb6fca05aeea5c1fad271e58c3178b6f861ef2', 'message': 'Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 8, 'created': '2020-05-08 01:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/16f16778a80917fa663058c3e58b9f93bc9ecb1f', 'message': 'Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 9, 'created': '2020-05-08 02:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/84e1d1896bbda643bd6a90ed10b4d2b6a705587a', 'message': 'Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 10, 'created': '2020-05-08 10:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ab1d0360b826b48b12ad78f6bae29b177a651845', 'message': 'Add NVMe SSD driver\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 11, 'created': '2020-10-25 02:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3b858268c724cb68fc85f0f20100b43bd3e1bb35', 'message': 'Add NVMe SSD driver\n\nThis patch implemented NVMe SSD driver in Cyborg.\n\nThe spec is already commit. Please see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/wallaby/approved/nvme-ssd-driver-proposal.html\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 12, 'created': '2021-01-02 08:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b0ade781bab94dedfad0d6d19f19d23e7ed97a77', 'message': 'Add NVMe SSD driver\n\nThis patch implemented NVMe SSD driver in Cyborg.\n\nThe spec is already commit. Please see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/wallaby/approved/nvme-ssd-driver-proposal.html\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 13, 'created': '2021-02-15 08:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2dff95e6552af1de67aed7d5441a252cc6b7f090', 'message': 'Add NVMe SSD driver\n\nThis patch implemented NVMe SSD driver in Cyborg.\nThe Inspur NVMe SSD driver provides the discover and report proposal of\nInspur NVMe SSD disks, then we can use these disks binding and unbinding\nwith VM like PGPU to accelerator the io rate for the VM. The Inspur NVMe\nSSD doesnot support virtualization, one disk can be only bind to one VM.\n\nThe spec is already commit. Please see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/wallaby/approved/nvme-ssd-driver-proposal.html\n\nPlease check the test report in the following link:\nhttps://wiki.openstack.org/wiki/Cyborg/TestReport/InspurNVMeSSD\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}, {'number': 14, 'created': '2021-03-02 00:37:44.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/accelerator/drivers/ssd/utils.py', 'cyborg/tests/unit/accelerator/drivers/ssd/inspur/__init__.py', 'cyborg/accelerator/common/utils.py', 'cyborg/accelerator/drivers/ssd/inspur/driver.py', 'cyborg/accelerator/drivers/ssd/inspur/__init__.py', 'cyborg/db/sqlalchemy/models.py', 'doc/source/reference/driver-table.rst', 'cyborg/tests/unit/accelerator/drivers/ssd/test_utils.py', 'cyborg/tests/unit/accelerator/drivers/ssd/test_base.py', 'releasenotes/notes/inspur-nvme-ssd-faeddc0b09250acc.yaml', 'cyborg/db/sqlalchemy/alembic/versions/4cc1d79978fc_add_ssd_type.py', 'cyborg/accelerator/drivers/ssd/base.py', 'setup.cfg', 'cyborg/tests/unit/accelerator/drivers/ssd/__init__.py', 'cyborg/accelerator/drivers/ssd/__init__.py', 'cyborg/accelerator/drivers/ssd/inspur/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/19b7d147ea14e87124ced4ad33e364affd8cced7', 'message': 'Add NVMe SSD driver\n\nThis patch implemented NVMe SSD driver in Cyborg.\nThe Inspur NVMe SSD driver provides the discover and report proposal of\nInspur NVMe SSD disks, then we can use these disks binding and unbinding\nwith VM like PGPU to accelerator the io rate for the VM. The Inspur NVMe\nSSD doesnot support virtualization, one disk can be only bind to one VM.\n\nThe spec is already commit. Please see:\nhttps://specs.openstack.org/openstack/cyborg-specs/specs/wallaby/approved/nvme-ssd-driver-proposal.html\n\nPlease check the test report in the following link:\nhttps://wiki.openstack.org/wiki/Cyborg/TestReport/InspurNVMeSSD\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1\n'}]",40,723310,19b7d147ea14e87124ced4ad33e364affd8cced7,43,11,14,30395,,,0,"Add NVMe SSD driver

This patch implemented NVMe SSD driver in Cyborg.
The Inspur NVMe SSD driver provides the discover and report proposal of
Inspur NVMe SSD disks, then we can use these disks binding and unbinding
with VM like PGPU to accelerator the io rate for the VM. The Inspur NVMe
SSD doesnot support virtualization, one disk can be only bind to one VM.

The spec is already commit. Please see:
https://specs.openstack.org/openstack/cyborg-specs/specs/wallaby/approved/nvme-ssd-driver-proposal.html

Please check the test report in the following link:
https://wiki.openstack.org/wiki/Cyborg/TestReport/InspurNVMeSSD

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Change-Id: Ic474814b780e9beca6f19df50c9ce4c5553850a1
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/10/723310/9 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/constants.py', 'cyborg/accelerator/drivers/ssd/utils.py', 'cyborg/accelerator/drivers/ssd/generic/sysinfo.py', 'cyborg/conf/agent.py', 'cyborg/tests/unit/accelerator/drivers/ssd/generic/__init__.py', 'cyborg/tests/unit/accelerator/drivers/ssd/generic/test_driver.py', 'cyborg/accelerator/drivers/ssd/generic/driver.py', 'cyborg/tests/unit/accelerator/drivers/ssd/test_utils.py', 'cyborg/agent/rpcapi.py', 'cyborg/tests/unit/accelerator/drivers/ssd/test_base.py', 'cyborg/accelerator/drivers/ssd/generic/__init__.py', 'cyborg/accelerator/drivers/ssd/base.py', 'setup.cfg', 'cyborg/tests/unit/accelerator/drivers/ssd/__init__.py', 'cyborg/accelerator/drivers/ssd/__init__.py']",15,6e625ed97363a2cc78821b45f042cc22fc18023e,bp/inspur-nvme-ssd,,,457,4
openstack%2Fopenstack-ansible-os_nova~master~I3cf2a30e0929835a84f0502bc4e87522b688b538,openstack/openstack-ansible-os_nova,master,I3cf2a30e0929835a84f0502bc4e87522b688b538,Use ansible_facts[] instead of fact variables,MERGED,2021-02-25 16:58:43.000000000,2021-03-02 11:24:26.000000000,2021-03-02 11:22:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-25 16:58:43.000000000', 'files': ['tasks/main.yml', 'tasks/nova_pre_install.yml', 'tasks/drivers/kvm/nova_enable_ksm.yml', 'templates/nova.conf.j2', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/nova_install.yml', 'defaults/main.yml', 'tasks/nova_virt_detect.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b6f03470c4691d31bfc1f0288c68537857805f88', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I3cf2a30e0929835a84f0502bc4e87522b688b538\n'}]",0,777627,b6f03470c4691d31bfc1f0288c68537857805f88,9,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I3cf2a30e0929835a84f0502bc4e87522b688b538
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/27/777627/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/nova_pre_install.yml', 'tasks/drivers/kvm/nova_enable_ksm.yml', 'templates/nova.conf.j2', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/nova_install.yml', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml', 'tasks/nova_virt_detect.yml']",10,b6f03470c4691d31bfc1f0288c68537857805f88,osa-facts, and ansible_facts['architecture'] == 'ppc64le') and ansible_facts['architecture'] == 'aarch64'), and ansible_architecture == 'ppc64le') and ansible_architecture == 'aarch64'),45,45
openstack%2Fopenstack-ansible-openstack_hosts~master~I4e154d22e8f9438da9cd277370c5be67a0826b4a,openstack/openstack-ansible-openstack_hosts,master,I4e154d22e8f9438da9cd277370c5be67a0826b4a,Correct the UCA repo location variable for ubuntu focal,MERGED,2021-02-26 09:57:31.000000000,2021-03-02 11:24:00.000000000,2021-03-02 11:21:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-26 09:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/84da07bb90cf4b6fe165815e6fd9e1eac5920e1b', 'message': 'Correct the UCA repo location variable for ubuntu focal\n\nThe name of this variable was previously updated and documented\nin a release note in [1]. but the old name is used for focal.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/706285\n\nChange-Id: I4e154d22e8f9438da9cd277370c5be67a0826b4a\n'}, {'number': 2, 'created': '2021-03-02 07:54:09.000000000', 'files': ['vars/ubuntu-20.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/dfdbc77c6deb0ce59b9f6cbf50114b0b0c16436a', 'message': 'Correct the UCA repo location variable for ubuntu focal\n\nThe name of this variable was previously updated and documented\nin a release note in [1]. but the old name is used for focal.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/706285\n\nChange-Id: I4e154d22e8f9438da9cd277370c5be67a0826b4a\n'}]",0,777734,dfdbc77c6deb0ce59b9f6cbf50114b0b0c16436a,10,3,2,25023,,,0,"Correct the UCA repo location variable for ubuntu focal

The name of this variable was previously updated and documented
in a release note in [1]. but the old name is used for focal.

[1] https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/706285

Change-Id: I4e154d22e8f9438da9cd277370c5be67a0826b4a
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/34/777734/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-20.04.yml'],1,84da07bb90cf4b6fe165815e6fd9e1eac5920e1b,,"_uca_repo: ""deb {{ apt_repo_url | default('http://ubuntu-cloud.archive.canonical.com/ubuntu') }} {{ ansible_lsb.codename }}-updates/victoria main""","_uca_repo: ""deb {{ uca_apt_repo_url | default('http://ubuntu-cloud.archive.canonical.com/ubuntu') }} {{ ansible_lsb.codename }}-updates/victoria main""",1,1
openstack%2Fovn-octavia-provider~master~I189ec79def12e8fd4d089b895926b5f3c08c6ef0,openstack/ovn-octavia-provider,master,I189ec79def12e8fd4d089b895926b5f3c08c6ef0,[DNM] [WIP] Steps for reproducing in-memory db issue,ABANDONED,2020-12-03 16:41:29.000000000,2021-03-02 11:07:51.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 16:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/100531c17d33bf765543b30dc45bc7a66758c3a8', 'message': '[DNM] [WIP] Steps for reproducing in-memory db issue\n\ncd /opt/stack/ovn-octavia-provider && \\\ntox -e dsvm-functional -- TestOvnOctaviaProviderIntegration\n\nsource .tox/dsvm-functional/bin/activate\n\necho HIDE_BUG\n\nOS_TEST_DBAPI_ADMIN_CONNECTION=sqlite:///sqlite.db    python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration\n\necho SEE_BUG\n\nunset OS_TEST_DBAPI_ADMIN_CONNECTION ; \\\n  python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration\n\n ======================================================================\n ERROR: ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration.test_port_forwarding\n ----------------------------------------------------------------------\n Traceback (most recent call last):\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/tests/base.py"", line 182, in func\n     return f(self, *args, **kwargs)\n   File ""/opt/stack/ovn-octavia-provider/ovn_octavia_provider/tests/functional/test_integration.py"", line 136, in test_port_forwarding\n     pf_obj2 = self.pf_plugin.get_floatingip_port_forwarding(self.context, pf_obj[\'id\'], fip_id)\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 83, in inner\n     result = f(*args, **kwargs)\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 48, in inner\n     result = f(*args, **kwargs)\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/services/portforwarding/pf_plugin.py"", line 548, in get_floatingip_port_forwarding\n     raise pf_exc.PortForwardingNotFound(id=id)\n neutron.services.portforwarding.common.exceptions.PortForwardingNotFound: Port Forwarding b4b25359-2402-4463-879e-725ffb9645e1 could not be found.\n\n Ran 1 test in 4.940s\n FAILED (failures=1)\n\nChange-Id: I189ec79def12e8fd4d089b895926b5f3c08c6ef0\n'}, {'number': 2, 'created': '2020-12-03 16:48:36.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_integration.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1e550f54a0c4d79442a0da660863228b5c1e7c5d', 'message': '[DNM] [WIP] Steps for reproducing in-memory db issue\n\ncd /opt/stack/ovn-octavia-provider && \\\ntox -e dsvm-functional -- TestOvnOctaviaProviderIntegration\n\nsource .tox/dsvm-functional/bin/activate\n\necho HIDE_BUG\n\nOS_TEST_DBAPI_ADMIN_CONNECTION=sqlite:///sqlite.db    python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration\n\necho SEE_BUG\n\nunset OS_TEST_DBAPI_ADMIN_CONNECTION ; \\\n  python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration\n\n ======================================================================\n ERROR: ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration.test_port_forwarding\n ----------------------------------------------------------------------\n Traceback (most recent call last):\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/tests/base.py"", line 182, in func\n     return f(self, *args, **kwargs)\n   File ""/opt/stack/ovn-octavia-provider/ovn_octavia_provider/tests/functional/test_integration.py"", line 136, in test_port_forwarding\n     pf_obj2 = self.pf_plugin.get_floatingip_port_forwarding(self.context, pf_obj[\'id\'], fip_id)\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 83, in inner\n     result = f(*args, **kwargs)\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 48, in inner\n     result = f(*args, **kwargs)\n   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/services/portforwarding/pf_plugin.py"", line 548, in get_floatingip_port_forwarding\n     raise pf_exc.PortForwardingNotFound(id=id)\n neutron.services.portforwarding.common.exceptions.PortForwardingNotFound: Port Forwarding b4b25359-2402-4463-879e-725ffb9645e1 could not be found.\n\n Ran 1 test in 4.940s\n FAILED (failures=1)\n\nChange-Id: I189ec79def12e8fd4d089b895926b5f3c08c6ef0\n'}]",12,765350,1e550f54a0c4d79442a0da660863228b5c1e7c5d,5,2,2,11952,,,0,"[DNM] [WIP] Steps for reproducing in-memory db issue

cd /opt/stack/ovn-octavia-provider && \
tox -e dsvm-functional -- TestOvnOctaviaProviderIntegration

source .tox/dsvm-functional/bin/activate

echo HIDE_BUG

OS_TEST_DBAPI_ADMIN_CONNECTION=sqlite:///sqlite.db    python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration

echo SEE_BUG

unset OS_TEST_DBAPI_ADMIN_CONNECTION ; \
  python -m testtools.run -- ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration

 ======================================================================
 ERROR: ovn_octavia_provider.tests.functional.test_integration.TestOvnOctaviaProviderIntegration.test_port_forwarding
 ----------------------------------------------------------------------
 Traceback (most recent call last):
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/tests/base.py"", line 182, in func
     return f(self, *args, **kwargs)
   File ""/opt/stack/ovn-octavia-provider/ovn_octavia_provider/tests/functional/test_integration.py"", line 136, in test_port_forwarding
     pf_obj2 = self.pf_plugin.get_floatingip_port_forwarding(self.context, pf_obj['id'], fip_id)
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 83, in inner
     result = f(*args, **kwargs)
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/db/db_base_plugin_common.py"", line 48, in inner
     result = f(*args, **kwargs)
   File ""/opt/stack/ovn-octavia-provider/.tox/dsvm-functional/lib/python3.8/site-packages/neutron/services/portforwarding/pf_plugin.py"", line 548, in get_floatingip_port_forwarding
     raise pf_exc.PortForwardingNotFound(id=id)
 neutron.services.portforwarding.common.exceptions.PortForwardingNotFound: Port Forwarding b4b25359-2402-4463-879e-725ffb9645e1 could not be found.

 Ran 1 test in 4.940s
 FAILED (failures=1)

Change-Id: I189ec79def12e8fd4d089b895926b5f3c08c6ef0
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/50/765350/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_integration.py', 'tox.ini']",2,100531c17d33bf765543b30dc45bc7a66758c3a8,, # OS_TEST_DBAPI_ADMIN_CONNECTION=sqlite:///sqlite.db, OS_TEST_DBAPI_ADMIN_CONNECTION=sqlite:///sqlite.db,7,1
openstack%2Fovsdbapp~stable%2Ftrain~I076269d3d666caa5ebe3d70111136c78393c7c5f,openstack/ovsdbapp,stable/train,I076269d3d666caa5ebe3d70111136c78393c7c5f,[DNM] [WIP] [ovn nb] Add northbound API support for meters,ABANDONED,2021-02-09 22:43:12.000000000,2021-03-02 11:05:35.000000000,,"[{'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 22:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/63ed47fec13090fc6b5769ef5f93b4baba642dc5', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 2, 'created': '2021-02-09 23:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/507a3715bfd76f7829829cace7d5dc90e02de57c', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 3, 'created': '2021-02-09 23:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3e3df6279127f82b19c9900c5def07feafc32a08', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\novsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 4, 'created': '2021-02-10 01:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/81841e3f62774ef3357f396d02c1ecc972ae9d5a', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\novsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 5, 'created': '2021-02-10 02:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/40091eb6bad93b22832f1c2dd1642cd4d7329ac2', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\novsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible\novsdbapp/tests/functional/schema/ovn_northbound/fixtures.py : init api\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 6, 'created': '2021-02-10 02:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/132a022ec44c8d2f85fbda932a9c569f669a3d19', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\novsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible\novsdbapp/tests/functional/schema/ovn_northbound/fixtures.py : init api\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 7, 'created': '2021-02-10 10:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a10c6ca7cf16dad91cb2fc2f62d8a6b227e55083', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\novsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible\novsdbapp/tests/functional/schema/ovn_northbound/fixtures.py : init api\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 8, 'created': '2021-02-10 16:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d9a090fcb8eaf70b26f95e581a5a0f6e8e139939', 'message': 'Add northbound API support for meters\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\novsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible\novsdbapp/tests/functional/schema/ovn_northbound/fixtures.py : init api\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}, {'number': 9, 'created': '2021-02-10 18:59:23.000000000', 'files': ['ovsdbapp/tests/functional/schema/ovn_northbound/fixtures.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9a48d3017c920dc3ab2166b1179795e4aa6f6066', 'message': '[DNM] [WIP] [ovn nb] Add northbound API support for meters\n\nDo not merge: This is actually a new feature, so it will not be backported\nto stable branches. This gerrit is mostly a placeholder, to be soon abandoned.\n\nAdd meter (name) attribute to the ACL row, via sg_acl_add().\n\nAdd helpers for adding, removing, getting and listing rows of the\nMeter table.\n\nConflicts:\novsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py\novsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible\novsdbapp/tests/functional/schema/ovn_northbound/fixtures.py : init api\n\nChange-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f\n(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)\n'}]",1,774741,9a48d3017c920dc3ab2166b1179795e4aa6f6066,17,3,9,11952,,,0,"[DNM] [WIP] [ovn nb] Add northbound API support for meters

Do not merge: This is actually a new feature, so it will not be backported
to stable branches. This gerrit is mostly a placeholder, to be soon abandoned.

Add meter (name) attribute to the ACL row, via sg_acl_add().

Add helpers for adding, removing, getting and listing rows of the
Meter table.

Conflicts:
ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py
ovsdbapp/schema/ovn_northbound/commands.py : ""raise from"" not compatible
ovsdbapp/tests/functional/schema/ovn_northbound/fixtures.py : init api

Change-Id: I076269d3d666caa5ebe3d70111136c78393c7c5f
(cherry picked from commit e2f782cd727506de3dbc2a32cc49920b0c792c0f)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/41/774741/3 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/tests/functional/schema/ovn_northbound/fixtures.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",5,63ed47fec13090fc6b5769ef5f93b4baba642dc5,sglog/ovn," def test_pg_acl_add_logging(self): r1 = self._acl_add('port_group', 'from-lport', 0, 'output == ""fake_port"" && ip', 'drop', log=True, severity=""warning"", name=""test1"", meter=""meter1"", extkey1=""extval1"") self.assertTrue(r1.log) self.assertEqual([""meter1""], r1.meter) self.assertEqual([""warning""], r1.severity) self.assertEqual([""test1""], r1.name) self.assertEqual({""extkey1"": ""extval1""}, r1.external_ids) def test_pg_acl_add_logging_weird_severity(self): r1 = self._acl_add('port_group', 'from-lport', 0, 'output == ""fake_port"" && ip', 'drop', severity=""weird"") self.assertNotEqual([""weird""], r1.severity) self.assertEqual([], r1.severity) class TestMeterOps(OvnNorthboundTest): def setUp(self): super(TestMeterOps, self).setUp() self.table = self.api.tables['Meter'] def _meter_add(self, name=None, unit=None, rate=1, fair=False, burst_size=0, action=None, may_exist=False, **columns): if name is None: name = utils.get_rand_name() if unit is None: unit = 'pktps' # NOTE(flaviof): action drop is the only one option in the schema when # this test was implemented. That is expected to be # properly handled by api. exp_action = 'drop' if action is None else action meter = self.useFixture(fixtures.MeterFixture( self.api, name, unit, rate, fair, burst_size, action, may_exist, **columns)).obj meter_band = meter.bands[0] self.assertEqual(name, meter.name) self.assertEqual(unit, meter.unit) self.assertEqual([fair], meter.fair) self.assertEqual(exp_action, meter_band.action) self.assertEqual(rate, meter_band.rate) self.assertEqual(burst_size, meter_band.burst_size) return meter def _meter_del(self, row, col): name404 = utils.get_rand_name() self.api.meter_del(name404, if_exists=True).execute(check_error=True) self.assertIn(row.uuid, self.table.rows) self.api.meter_del(row.uuid).execute(check_error=True) self.assertNotIn(row.uuid, self.table.rows) self.api.meter_del(col, if_exists=True).execute(check_error=True) cmd = self.api.meter_del(col) self.assertRaises(RuntimeError, cmd.execute, check_error=True) def _meter_get(self, col): meter = self._meter_add() val = getattr(meter, col) found = self.api.meter_get(val).execute(check_error=True) self.assertEqual(meter, found) def test_meter_add_non_defaults(self): self._meter_add(utils.get_rand_name(), ""kbps"", 321, True, 500, None) def test_meter_add_ext_ids(self): ext_ids = { utils.get_rand_name(prefix=""random_""): utils.get_random_string(10) for _ in range(3)} meter = self._meter_add(external_ids=ext_ids) self.assertEqual(ext_ids, meter.external_ids) def test_meter_add_may_exist(self): cmd = self.api.meter_add(""same_name"", ""kbps"", may_exist=True) m1 = cmd.execute(check_error=True) m2 = cmd.execute(check_error=True) self.assertEqual(m1, m2) def test_meter_add_duplicate(self): cmd = self.api.meter_add(""same_name"", ""kbps"", may_exist=False) cmd.execute(check_error=True) self.assertRaises(RuntimeError, cmd.execute, check_error=True) def test_meter_del_by_uuid(self): meter = self._meter_add() self._meter_del(meter, meter.uuid) def test_meter_del_by_name(self): name = utils.get_rand_name() meter = self._meter_add(name) self._meter_del(meter, name) def test_meter_list(self): meters = {self._meter_add() for _ in range(3)} meter_set = set(self.api.meter_list().execute(check_error=True)) self.assertTrue(meters.issubset(meter_set)) def test_meter_get_uuid(self): self._meter_get('uuid') def test_meter_get_name(self): self._meter_get('name')",,277,16
openstack%2Fneutron~master~Ib3de00924bfc5b0327340fc197a7bf832911cac6,openstack/neutron,master,Ib3de00924bfc5b0327340fc197a7bf832911cac6,[DNM] PLEASE IGNORE: [OVN] sg meter support,ABANDONED,2020-12-09 10:40:47.000000000,2021-03-02 11:04:55.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-09 10:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5cfd9edde222d29be7c9fb8ca4834f81102edc3', 'message': '[DNM] PLEASE IGNORE: [OVN] sg meter support\n\nThis change is a very simple exercise for using meters in security group rules\n\nIn order to rate limit logs, create a row in ovn nb meter table like this:\n\n    ovn-nbctl --fair meter-add sgr_meter drop 1 pktps\n\nChange-Id: Ib3de00924bfc5b0327340fc197a7bf832911cac6\n'}, {'number': 2, 'created': '2020-12-09 10:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5baf615a2a296c44364d348c59cacabdd5229a8c', 'message': '[DNM] PLEASE IGNORE: [OVN] sg meter support\n\nThis change is a very simple exercise for using meters in security group rules\n\nIn order to rate limit logs, create a row in ovn nb meter table like this:\n\n    ovn-nbctl --fair meter-add sgr_meter drop 1 pktps\n\nChange-Id: Ib3de00924bfc5b0327340fc197a7bf832911cac6\n'}, {'number': 3, 'created': '2020-12-09 11:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c68d4f63b43f6833006c215b5b1f2640ef75f5c8', 'message': '[DNM] PLEASE IGNORE: [OVN] sg meter support\n\nThis change is a very simple exercise for using meters in security group rules\n\nIn order to rate limit logs, create a row in ovn nb meter table like this:\n\n    ovn-nbctl --fair meter-add sgr_meter drop 1 pktps\n\nChange-Id: Ib3de00924bfc5b0327340fc197a7bf832911cac6\n'}, {'number': 4, 'created': '2020-12-21 14:29:52.000000000', 'files': ['neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32a59f121b977818041d7fad0ad616d3f149bfb9', 'message': '[DNM] PLEASE IGNORE: [OVN] sg meter support\n\nThis change is a very simple exercise for using meters in security group rules\n\nIn order to rate limit logs, create a row in ovn nb meter table like this:\n\n    ovn-nbctl --fair meter-add sgr_meter drop 1 pktps\n\nChange-Id: Ib3de00924bfc5b0327340fc197a7bf832911cac6\n'}]",6,766197,32a59f121b977818041d7fad0ad616d3f149bfb9,21,2,4,11952,,,0,"[DNM] PLEASE IGNORE: [OVN] sg meter support

This change is a very simple exercise for using meters in security group rules

In order to rate limit logs, create a row in ovn nb meter table like this:

    ovn-nbctl --fair meter-add sgr_meter drop 1 pktps

Change-Id: Ib3de00924bfc5b0327340fc197a7bf832911cac6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/766197/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,b5cfd9edde222d29be7c9fb8ca4834f81102edc3,ovn_sg_log," # add meter to sg rule if there is not one provided SECURITY_GROUP_RULE_METER = 'sgr_meter' rule = kwargs.get('security_group_rule', {}) if 'meter' not in rule: rule['meter'] = SECURITY_GROUP_RULE_METER LOG.debug('XXX _process_sg_rule_notification ' 'rule %(rule)s ', {'rule': rule,}) kwargs['context'], rule)"," kwargs['context'], kwargs.get('security_group_rule'))",32,5
openstack%2Fovsdbapp~stable%2Ftrain~I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69,openstack/ovsdbapp,stable/train,I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69,[DNM] [WIP] [ovn nb] Acl add: Avoid setting columns that have no values,ABANDONED,2021-02-09 22:44:06.000000000,2021-03-02 11:03:30.000000000,,"[{'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 22:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/fb68ecba76e49dfc4607968ee18d208872f5fd45', 'message': '[ovn nb] Acl add: Avoid setting columns that have no values\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}, {'number': 2, 'created': '2021-02-09 23:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/64a7ff589f2c438e9df3b2c353c3054a13bdf09b', 'message': '[ovn nb] Acl add: Avoid setting columns that have no values\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}, {'number': 3, 'created': '2021-02-10 02:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6558918d8f77b2479b16ee9ef72e9629f1ecb5de', 'message': '[ovn nb] Acl add: Avoid setting columns that have no values\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}, {'number': 4, 'created': '2021-02-10 02:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e3b7184711c24a667eb535abf6610d9e9bd3b15c', 'message': '[ovn nb] Acl add: Avoid setting columns that have no values\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}, {'number': 5, 'created': '2021-02-10 10:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/985459e664b81785f48cd1079c61463bf49b32cb', 'message': '[ovn nb] Acl add: Avoid setting columns that have no values\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}, {'number': 6, 'created': '2021-02-10 16:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/81dc4d8aab7bb0720ea7b5ce25cf90f411a52c73', 'message': '[ovn nb] Acl add: Avoid setting columns that have no values\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}, {'number': 7, 'created': '2021-02-10 18:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/247ffcad4263dd82848c285e95fd0f8d635d2bc9', 'message': '[DNM] [WIP] [ovn nb] Acl add: Avoid setting columns that have no values\n\nDo not merge: This is actually a new feature, so it will not be backported\nto stable branches. This gerrit is mostly a placeholder, to be soon abandoned.\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}, {'number': 8, 'created': '2021-02-10 18:59:55.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/commands.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/950985afa070b0ebbaa23c3a3e32f0488091f1af', 'message': '[DNM] [WIP] [ovn nb] Acl add: Avoid setting columns that have no values\n\nDo not merge: This is actually a new feature, so it will not be backported\nto stable branches. This gerrit is mostly a placeholder, to be soon abandoned.\n\nWhile creating ACL rows, avoid setting the name, severity, or meter\ncolumns when no values were provided.\n\nThis issue was introduced in\nhttps://review.opendev.org/c/openstack/ovsdbapp/+/767574\n\nCloses-Bug: #1911671\nChange-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69\n(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)\n'}]",1,774742,950985afa070b0ebbaa23c3a3e32f0488091f1af,18,4,8,11952,,,0,"[DNM] [WIP] [ovn nb] Acl add: Avoid setting columns that have no values

Do not merge: This is actually a new feature, so it will not be backported
to stable branches. This gerrit is mostly a placeholder, to be soon abandoned.

While creating ACL rows, avoid setting the name, severity, or meter
columns when no values were provided.

This issue was introduced in
https://review.opendev.org/c/openstack/ovsdbapp/+/767574

Closes-Bug: #1911671
Change-Id: I6e39d2059c1c8ba1960b49c7be5e6a4dc5516d69
(cherry picked from commit aac2da8f0cb5adc006613e49d8d4fcf08531ef37)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/42/774742/8 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/schema/ovn_northbound/commands.py'],1,fb68ecba76e49dfc4607968ee18d208872f5fd45,sglog/ovn, if self.severity: acl.severity = self.severity if self.name: acl.name = self.name if self.meter: acl.meter = self.meter, acl.severity = self.severity acl.name = self.name acl.meter = self.meter,6,3
openstack%2Fcharm-neutron-api~master~I1eb9a89d875539371357681d2b2b0ec7d8b8c3cf,openstack/charm-neutron-api,master,I1eb9a89d875539371357681d2b2b0ec7d8b8c3cf,Add new osci.yaml,MERGED,2021-02-18 07:46:25.000000000,2021-03-02 10:45:03.000000000,2021-03-02 10:45:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:46:25.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/17df071cb2ccf925bda7290f614006ddff121ee6', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1eb9a89d875539371357681d2b2b0ec7d8b8c3cf\n'}]",0,776370,17df071cb2ccf925bda7290f614006ddff121ee6,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1eb9a89d875539371357681d2b2b0ec7d8b8c3cf
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/70/776370/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,17df071cb2ccf925bda7290f614006ddff121ee6,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs ,,4,0
openstack%2Fnova~master~I89e1c13e8a0df18594593b1e80c60d177e0d9c4c,openstack/nova,master,I89e1c13e8a0df18594593b1e80c60d177e0d9c4c,"rpc: Rework 'get_notifier', 'wrap_exception'",MERGED,2020-07-17 15:42:12.000000000,2021-03-02 10:37:30.000000000,2021-03-02 02:17:21.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 15:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1455c0cab0fc677bc426aade9d197bb8dbc9aad4', 'message': ""rpc: Rework 'get_notifier', 'wrap_exception'\n\nThe 'nova.exception_wrapper.wrap_exception' decorator accepted either a\npre-configured notifier or a 'get_notifier' function, but the forget was\nnever provided and the latter was consistently a notifier created via a\ncall to 'nova.rpc.get_notifier'. Simplify things by passing the\narguments relied by 'get_notifier' into 'wrap_exception', allowing the\nlatter to create the former for us.\n\nWhile doing this rework, it became obvious that 'get_notifier' accepted\na 'published_id' that is never provided nowadays, so that is dropped. In\naddition, a number of calls to 'get_notifier' were passing in\n'host=CONF.host', which duplicated the default value for this parameter\nand is therefore unnecessary. Finally, the unit tests are split up by\nfile, as they should be.\n\nChange-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-21 12:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a82f09d81ea0c7a5aa8549228976f42d98d5d983', 'message': ""rpc: Rework 'get_notifier', 'wrap_exception'\n\nThe 'nova.exception_wrapper.wrap_exception' decorator accepted either a\npre-configured notifier or a 'get_notifier' function, but the forget was\nnever provided and the latter was consistently a notifier created via a\ncall to 'nova.rpc.get_notifier'. Simplify things by passing the\narguments relied by 'get_notifier' into 'wrap_exception', allowing the\nlatter to create the former for us.\n\nWhile doing this rework, it became obvious that 'get_notifier' accepted\na 'published_id' that is never provided nowadays, so that is dropped. In\naddition, a number of calls to 'get_notifier' were passing in\n'host=CONF.host', which duplicated the default value for this parameter\nand is therefore unnecessary. Finally, the unit tests are split up by\nfile, as they should be.\n\nChange-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-10 13:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b31ade260cf1495ac9f16947de4ca114a09b7942', 'message': ""rpc: Rework 'get_notifier', 'wrap_exception'\n\nThe 'nova.exception_wrapper.wrap_exception' decorator accepted either a\npre-configured notifier or a 'get_notifier' function, but the forget was\nnever provided and the latter was consistently a notifier created via a\ncall to 'nova.rpc.get_notifier'. Simplify things by passing the\narguments relied by 'get_notifier' into 'wrap_exception', allowing the\nlatter to create the former for us.\n\nWhile doing this rework, it became obvious that 'get_notifier' accepted\na 'published_id' that is never provided nowadays, so that is dropped. In\naddition, a number of calls to 'get_notifier' were passing in\n'host=CONF.host', which duplicated the default value for this parameter\nand is therefore unnecessary. Finally, the unit tests are split up by\nfile, as they should be.\n\nChange-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-09-25 16:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb85265506e8c940844eb8f7f0e96d66fe7a619c', 'message': ""rpc: Rework 'get_notifier', 'wrap_exception'\n\nThe 'nova.exception_wrapper.wrap_exception' decorator accepted either a\npre-configured notifier or a 'get_notifier' function, but the forget was\nnever provided and the latter was consistently a notifier created via a\ncall to 'nova.rpc.get_notifier'. Simplify things by passing the\narguments relied by 'get_notifier' into 'wrap_exception', allowing the\nlatter to create the former for us.\n\nWhile doing this rework, it became obvious that 'get_notifier' accepted\na 'published_id' that is never provided nowadays, so that is dropped. In\naddition, a number of calls to 'get_notifier' were passing in\n'host=CONF.host', which duplicated the default value for this parameter\nand is therefore unnecessary. Finally, the unit tests are split up by\nfile, as they should be.\n\nChange-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-11-30 17:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1daf58b1e7e21437d5da863246bb3e7bd7f5bed7', 'message': ""rpc: Rework 'get_notifier', 'wrap_exception'\n\nThe 'nova.exception_wrapper.wrap_exception' decorator accepted either a\npre-configured notifier or a 'get_notifier' function, but the forget was\nnever provided and the latter was consistently a notifier created via a\ncall to 'nova.rpc.get_notifier'. Simplify things by passing the\narguments relied by 'get_notifier' into 'wrap_exception', allowing the\nlatter to create the former for us.\n\nWhile doing this rework, it became obvious that 'get_notifier' accepted\na 'published_id' that is never provided nowadays, so that is dropped. In\naddition, a number of calls to 'get_notifier' were passing in\n'host=CONF.host', which duplicated the default value for this parameter\nand is therefore unnecessary. Finally, the unit tests are split up by\nfile, as they should be.\n\nChange-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-01-27 15:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9144e672f3ec660d8b4f8287c9fcaf5c25b87b6', 'message': ""rpc: Rework 'get_notifier', 'wrap_exception'\n\nThe 'nova.exception_wrapper.wrap_exception' decorator accepted either a\npre-configured notifier or a 'get_notifier' function, but the forget was\nnever provided and the latter was consistently a notifier created via a\ncall to 'nova.rpc.get_notifier'. Simplify things by passing the\narguments relied by 'get_notifier' into 'wrap_exception', allowing the\nlatter to create the former for us.\n\nWhile doing this rework, it became obvious that 'get_notifier' accepted\na 'published_id' that is never provided nowadays, so that is dropped. In\naddition, a number of calls to 'get_notifier' were passing in\n'host=CONF.host', which duplicated the default value for this parameter\nand is therefore unnecessary. Finally, the unit tests are split up by\nfile, as they should be.\n\nChange-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-03-01 11:07:36.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception_wrapper.py', 'nova/tests/unit/test_exception_wrapper.py', 'nova/tests/unit/test_fake_notifier.py', 'nova/rpc.py', 'nova/conductor/manager.py', 'nova/tests/unit/test_rpc.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/tests/unit/test_exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e64744b92f3871efbad48a0ca251609a0ecfe54a', 'message': ""rpc: Rework 'get_notifier', 'wrap_exception'\n\nThe 'nova.exception_wrapper.wrap_exception' decorator accepted either a\npre-configured notifier or a 'get_notifier' function, but the forget was\nnever provided and the latter was consistently a notifier created via a\ncall to 'nova.rpc.get_notifier'. Simplify things by passing the\narguments relied by 'get_notifier' into 'wrap_exception', allowing the\nlatter to create the former for us.\n\nWhile doing this rework, it became obvious that 'get_notifier' accepted\na 'published_id' that is never provided nowadays, so that is dropped. In\naddition, a number of calls to 'get_notifier' were passing in\n'host=CONF.host', which duplicated the default value for this parameter\nand is therefore unnecessary. Finally, the unit tests are split up by\nfile, as they should be.\n\nChange-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,741663,e64744b92f3871efbad48a0ca251609a0ecfe54a,59,12,7,15334,,,0,"rpc: Rework 'get_notifier', 'wrap_exception'

The 'nova.exception_wrapper.wrap_exception' decorator accepted either a
pre-configured notifier or a 'get_notifier' function, but the forget was
never provided and the latter was consistently a notifier created via a
call to 'nova.rpc.get_notifier'. Simplify things by passing the
arguments relied by 'get_notifier' into 'wrap_exception', allowing the
latter to create the former for us.

While doing this rework, it became obvious that 'get_notifier' accepted
a 'published_id' that is never provided nowadays, so that is dropped. In
addition, a number of calls to 'get_notifier' were passing in
'host=CONF.host', which duplicated the default value for this parameter
and is therefore unnecessary. Finally, the unit tests are split up by
file, as they should be.

Change-Id: I89e1c13e8a0df18594593b1e80c60d177e0d9c4c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/741663/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception_wrapper.py', 'nova/tests/unit/test_exception_wrapper.py', 'nova/conductor/manager.py', 'nova/rpc.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/tests/unit/test_exception.py']",8,1455c0cab0fc677bc426aade9d197bb8dbc9aad4,mypy-integration,,"import mockfrom nova import contextfrom nova import exception_wrapper from nova import rpcfrom nova.tests.unit import fake_notifier def good_function(self, context): return 99 def bad_function_exception(self, context, extra, blah=""a"", boo=""b"", zoo=None): raise test.TestingException('bad things happened') def bad_function_unknown_module(self, context): """"""Example traceback that points to a module that getmodule() can't find. Traceback (most recent call last): File ""<stdin>"", line 1, in <module> File ""src/lxml/lxml.etree.pyx"", line 2402, in lxml.etree._Attrib.__setitem__ (src/lxml/lxml.etree.c:67548) File ""src/lxml/apihelpers.pxi"", line 570, in lxml.etree._setAttributeValue (src/lxml/lxml.etree.c:21551) File ""src/lxml/apihelpers.pxi"", line 1437, in lxml.etree._utf8 (src/lxml/lxml.etree.c:30194) TypeError: Argument must be bytes or unicode, got 'NoneType' """""" from lxml import etree x = etree.fromstring('<hello/>') x.attrib['foo'] = None class WrapExceptionTestCase(test.NoDBTestCase): def setUp(self): super(WrapExceptionTestCase, self).setUp() fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) def test_wrap_exception_good_return(self): wrapped = exception_wrapper.wrap_exception(rpc.get_notifier('fake')) self.assertEqual(99, wrapped(good_function)(1, 2)) self.assertEqual(0, len(fake_notifier.NOTIFICATIONS)) self.assertEqual(0, len(fake_notifier.VERSIONED_NOTIFICATIONS)) def test_wrap_exception_unknown_module(self): ctxt = context.get_admin_context() wrapped = exception_wrapper.wrap_exception( rpc.get_notifier('fake'), binary='nova-compute') self.assertRaises( TypeError, wrapped(bad_function_unknown_module), None, ctxt) self.assertEqual(1, len(fake_notifier.VERSIONED_NOTIFICATIONS)) notification = fake_notifier.VERSIONED_NOTIFICATIONS[0] payload = notification['payload']['nova_object.data'] self.assertEqual('unknown', payload['module_name']) def test_wrap_exception_with_notifier(self): wrapped = exception_wrapper.wrap_exception(rpc.get_notifier('fake'), binary='nova-compute') ctxt = context.get_admin_context() self.assertRaises(test.TestingException, wrapped(bad_function_exception), 1, ctxt, 3, zoo=3) self.assertEqual(1, len(fake_notifier.NOTIFICATIONS)) notification = fake_notifier.NOTIFICATIONS[0] self.assertEqual('bad_function_exception', notification.event_type) self.assertEqual(ctxt, notification.context) self.assertEqual(3, notification.payload['args']['extra']) for key in ['exception', 'args']: self.assertIn(key, notification.payload.keys()) self.assertNotIn('context', notification.payload['args'].keys()) self.assertEqual(1, len(fake_notifier.VERSIONED_NOTIFICATIONS)) notification = fake_notifier.VERSIONED_NOTIFICATIONS[0] self.assertEqual('compute.exception', notification['event_type']) self.assertEqual('nova-compute:fake-mini', notification['publisher_id']) self.assertEqual('ERROR', notification['priority']) payload = notification['payload'] self.assertEqual('ExceptionPayload', payload['nova_object.name']) self.assertEqual('1.1', payload['nova_object.version']) payload = payload['nova_object.data'] self.assertEqual('TestingException', payload['exception']) self.assertEqual('bad things happened', payload['exception_message']) self.assertEqual('bad_function_exception', payload['function_name']) self.assertEqual('nova.tests.unit.test_exception', payload['module_name']) self.assertIn('bad_function_exception', payload['traceback']) @mock.patch('nova.rpc.NOTIFIER') @mock.patch('nova.notifications.objects.exception.' 'ExceptionNotification.__init__') def test_wrap_exception_notification_not_emitted_if_disabled( self, mock_notification, mock_notifier): mock_notifier.is_enabled.return_value = False wrapped = exception_wrapper.wrap_exception(rpc.get_notifier('fake'), binary='nova-compute') ctxt = context.get_admin_context() self.assertRaises(test.TestingException, wrapped(bad_function_exception), 1, ctxt, 3, zoo=3) self.assertFalse(mock_notification.called) @mock.patch('nova.notifications.objects.exception.' 'ExceptionNotification.__init__') def test_wrap_exception_notification_not_emitted_if_unversioned( self, mock_notifier): self.flags(notification_format='unversioned', group='notifications') wrapped = exception_wrapper.wrap_exception(rpc.get_notifier('fake'), binary='nova-compute') ctxt = context.get_admin_context() self.assertRaises(test.TestingException, wrapped(bad_function_exception), 1, ctxt, 3, zoo=3) self.assertFalse(mock_notifier.called) def test_cleanse_dict(self): kwargs = {'foo': 1, 'blah_pass': 2, 'zoo_password': 3, '_pass': 4} self.assertEqual({'foo': 1}, exception_wrapper._cleanse_dict(kwargs)) kwargs = {} self.assertEqual({}, exception_wrapper._cleanse_dict(kwargs)) ",182,171
openstack%2Fcharm-magpie~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-magpie,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:44:43.000000000,2021-03-02 10:37:00.000000000,2021-03-02 10:37:00.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:44:43.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/5e4d889e6199860fadae00ff1da1d3f1742e06ce', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776361,5e4d889e6199860fadae00ff1da1d3f1742e06ce,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/61/776361/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,5e4d889e6199860fadae00ff1da1d3f1742e06ce,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - bionic - focal - groovy vars: needs_charm_build: true charm_build_name: magpie,,11,0
openstack%2Fmagnum~stable%2Fussuri~I8b311307cac656db193a6f229f0ffdebc462fbd2,openstack/magnum,stable/ussuri,I8b311307cac656db193a6f229f0ffdebc462fbd2,Update chart repository in ussuri branch,ABANDONED,2021-02-20 05:13:10.000000000,2021-03-02 10:31:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-20 05:13:10.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4d9b68204e5c544dda6df071609d53126a6bf0ed', 'message': 'Update chart repository in ussuri branch\n\nReplace https://kubernetes-charts.storage.googleapis.com/\nwith https://charts.helm.sh/stable\n\nChange-Id: I8b311307cac656db193a6f229f0ffdebc462fbd2\n'}]",0,776790,4d9b68204e5c544dda6df071609d53126a6bf0ed,3,1,1,33141,,,0,"Update chart repository in ussuri branch

Replace https://kubernetes-charts.storage.googleapis.com/
with https://charts.helm.sh/stable

Change-Id: I8b311307cac656db193a6f229f0ffdebc462fbd2
",git fetch https://review.opendev.org/openstack/magnum refs/changes/90/776790/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh']",4,4d9b68204e5c544dda6df071609d53126a6bf0ed,, repository: https://charts.helm.sh/stable, repository: https://kubernetes-charts.storage.googleapis.com/,4,4
openstack%2Fkolla~master~I6ef344d463333e5cdc3a0850c8e068218779fdbd,openstack/kolla,master,I6ef344d463333e5cdc3a0850c8e068218779fdbd,neutron-server: make it build again,MERGED,2021-03-01 13:14:05.000000000,2021-03-02 10:31:04.000000000,2021-03-02 10:27:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-01 13:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b48958d8c289ae70af31c6d5d2e7c0cad1a34670', 'message': 'neutron-server: stop install vmware-nsxlib as a plugin\n\nvmware-nsx is a plugin and we install it already\nvmware-nsxlib can be fetched from Pypi\n\nSolves:\n\nChange-Id: I6ef344d463333e5cdc3a0850c8e068218779fdbd\nINFO:kolla.common.utils.neutron-server:The conflict is caused by:\nINFO:kolla.common.utils.neutron-server:    The user requested vmware-nsxlib 15.0.8.dev129 (from /plugins/vmware-nsxlib-15.0.8.dev129)\nINFO:kolla.common.utils.neutron-server:    vmware-nsx 15.0.1.dev424 depends on vmware-nsxlib>=17.0.0\n'}, {'number': 2, 'created': '2021-03-01 13:31:58.000000000', 'files': ['docker/neutron/neutron-server/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d70e3f0cc3681c6f786ccbe076cd6a028998857', 'message': 'neutron-server: make it build again\n\n1. stop pinning networking-hyperv\n\nPike release was long time ago so maybe it is time to unpin it?\n\ncommit 6dc8e978462fd08122133e273ae956721997d3af\nAuthor: Dan Ardelean <dardelean@cloudbasesolutions.com>\nDate:   Mon Aug 28 12:56:25 2017 +0300\n\n    Change networking-hyperv version for Pike\n\n2. stop install vmware-nsxlib as a plugin\n\nvmware-nsx is a plugin and we install it already\nvmware-nsxlib can be fetched from Pypi\n\nSolves:\n\nINFO:kolla.common.utils.neutron-server:The conflict is caused by:\nINFO:kolla.common.utils.neutron-server:    The user requested vmware-nsxlib 15.0.8.dev129 (from /plugins/vmware-nsxlib-15.0.8.dev129)\nINFO:kolla.common.utils.neutron-server:    vmware-nsx 15.0.1.dev424 depends on vmware-nsxlib>=17.0.0\n\nChange-Id: I6ef344d463333e5cdc3a0850c8e068218779fdbd\n'}]",2,777992,8d70e3f0cc3681c6f786ccbe076cd6a028998857,16,5,2,24072,,,0,"neutron-server: make it build again

1. stop pinning networking-hyperv

Pike release was long time ago so maybe it is time to unpin it?

commit 6dc8e978462fd08122133e273ae956721997d3af
Author: Dan Ardelean <dardelean@cloudbasesolutions.com>
Date:   Mon Aug 28 12:56:25 2017 +0300

    Change networking-hyperv version for Pike

2. stop install vmware-nsxlib as a plugin

vmware-nsx is a plugin and we install it already
vmware-nsxlib can be fetched from Pypi

Solves:

INFO:kolla.common.utils.neutron-server:The conflict is caused by:
INFO:kolla.common.utils.neutron-server:    The user requested vmware-nsxlib 15.0.8.dev129 (from /plugins/vmware-nsxlib-15.0.8.dev129)
INFO:kolla.common.utils.neutron-server:    vmware-nsx 15.0.1.dev424 depends on vmware-nsxlib>=17.0.0

Change-Id: I6ef344d463333e5cdc3a0850c8e068218779fdbd
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/777992/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,b48958d8c289ae70af31c6d5d2e7c0cad1a34670,,," 'neutron-server-plugin-vmware-nsxlib': { 'type': 'url', 'location': ('$tarballs_base/x/vmware-nsxlib/' 'vmware-nsxlib-${openstack_branch}.tar.gz')},",0,4
openstack%2Fansible-role-python_venv_build~master~I69b94aab0d94cc4cc72ad4ae1d688dc65b378abe,openstack/ansible-role-python_venv_build,master,I69b94aab0d94cc4cc72ad4ae1d688dc65b378abe,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:06.000000000,2021-03-02 10:29:26.000000000,2021-03-02 10:23:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:06.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/eaaeb6c00957d01bf27db58d54bf2f5a5d4eb4fe', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I69b94aab0d94cc4cc72ad4ae1d688dc65b378abe'}]",0,772006,eaaeb6c00957d01bf27db58d54bf2f5a5d4eb4fe,12,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I69b94aab0d94cc4cc72ad4ae1d688dc65b378abe",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/06/772006/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,eaaeb6c00957d01bf27db58d54bf2f5a5d4eb4fe,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fcharm-swift-storage~master~Id44d2037d5743bc882388141d726194c51d82fbf,openstack/charm-swift-storage,master,Id44d2037d5743bc882388141d726194c51d82fbf,Add new osci.yaml,MERGED,2021-02-18 07:50:22.000000000,2021-03-02 10:29:08.000000000,2021-03-02 10:29:08.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/9fedc4da7149dad5663579a77f6dba45303f5ed2', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: Id44d2037d5743bc882388141d726194c51d82fbf\n'}, {'number': 2, 'created': '2021-02-23 10:29:37.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/3028939d8420d48eee735ba0cf45d67907750f66', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: Id44d2037d5743bc882388141d726194c51d82fbf\n'}]",0,776393,3028939d8420d48eee735ba0cf45d67907750f66,25,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: Id44d2037d5743bc882388141d726194c51d82fbf
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/93/776393/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,9fedc4da7149dad5663579a77f6dba45303f5ed2,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - groovy-victoria - focal-victoria - focal-ussuri - bionic-ussuri - bionic-train - bionic-stein - bionic-rocky - bionic-queens - xenial-queens - xenial-pike - xenial-ocata - xenial-mitaka - trusty-mitaka - bionic-train-gr - job: name: bionic-train-gr parent: func-target dependencies: - focal-ussuri vars: tox_extra_args: swift_gr_region1:bionic-train-gr-r1 swift_gr_region2:bionic-train-gr-r2 ,,27,0
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~I79a10a3f774246ab9c57313f19f3804f9422e08c,openstack/ansible-role-python_venv_build,stable/victoria,I79a10a3f774246ab9c57313f19f3804f9422e08c,Gather facts for repo containers,MERGED,2021-03-01 10:42:16.000000000,2021-03-02 10:26:16.000000000,2021-03-02 10:23:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-01 10:42:16.000000000', 'files': ['tasks/main.yml', 'tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/b2a006d630784b1fd037a3dd59f727d6559020dd', 'message': ""Gather facts for repo containers\n\nWe can't evaluate `venv_wheel_build_enable` without gathered facts about\nrepo containers. And default facts cache is 1day. After that time role\nwill fail to evaluate the variable.\n\nChange-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c\n(cherry picked from commit f487ab46ba23b8d3f729900bd8bcbe7ef4d2d632)\n""}]",0,777908,b2a006d630784b1fd037a3dd59f727d6559020dd,8,3,1,28619,,,0,"Gather facts for repo containers

We can't evaluate `venv_wheel_build_enable` without gathered facts about
repo containers. And default facts cache is 1day. After that time role
will fail to evaluate the variable.

Change-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c
(cherry picked from commit f487ab46ba23b8d3f729900bd8bcbe7ef4d2d632)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/08/777908/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/python_venv_wheel_build.yml']",2,b2a006d630784b1fd037a3dd59f727d6559020dd,,,"- name: gather build target facts setup: gather_subset: '!all:hardware' delegate_to: ""{{ item }}"" delegate_facts: true with_items: ""{{ groups['repo_all'] | default([inventory_hostname]) }}"" ",7,7
openstack%2Fopenstack-ansible-os_tempest~master~I07ce57709248dcaf1c40e02f5def47c24f5c75a7,openstack/openstack-ansible-os_tempest,master,I07ce57709248dcaf1c40e02f5def47c24f5c75a7,add bug url to readme,MERGED,2018-10-25 11:20:24.000000000,2021-03-02 10:20:15.000000000,2021-03-02 10:18:12.000000000,"[{'_account_id': 8367}, {'_account_id': 18784}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2018-10-25 11:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f52b9f249abdf63ac3630535506d294faa8373f7', 'message': 'add bug url to readme\n\nChange-Id: I07ce57709248dcaf1c40e02f5def47c24f5c75a7\n'}, {'number': 2, 'created': '2021-03-02 08:03:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/22aec045ef9d82eec4c44b2a839f175206b1e9e7', 'message': 'add bug url to readme\n\nChange-Id: I07ce57709248dcaf1c40e02f5def47c24f5c75a7\n'}]",4,613276,22aec045ef9d82eec4c44b2a839f175206b1e9e7,17,6,2,27385,,,0,"add bug url to readme

Change-Id: I07ce57709248dcaf1c40e02f5def47c24f5c75a7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/76/613276/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f52b9f249abdf63ac3630535506d294faa8373f7,update_doc, The bugs is at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Frpm-packaging~master~Idfcdac73dc2fcf08417e20671ccdb4439c549fe9,openstack/rpm-packaging,master,Idfcdac73dc2fcf08417e20671ccdb4439c549fe9,ironic-inspector: update filelist,MERGED,2021-03-01 21:33:29.000000000,2021-03-02 10:18:20.000000000,2021-03-02 10:18:20.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 21:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a7ada2f19a48dab69ae6d07afb9936b523c2fffb', 'message': 'ironic-inspector: update filelist\n\nChange-Id: Idfcdac73dc2fcf08417e20671ccdb4439c549fe9\n'}, {'number': 2, 'created': '2021-03-02 09:43:29.000000000', 'files': ['openstack/ironic-inspector/ironic-inspector.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b78da0618c6319b2909319784102cd7ea0da94ff', 'message': 'ironic-inspector: update filelist\n\nChange-Id: Idfcdac73dc2fcf08417e20671ccdb4439c549fe9\n'}]",0,778078,b78da0618c6319b2909319784102cd7ea0da94ff,13,5,2,6593,,,0,"ironic-inspector: update filelist

Change-Id: Idfcdac73dc2fcf08417e20671ccdb4439c549fe9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/78/778078/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic-inspector/ironic-inspector.spec.j2'],1,a7ada2f19a48dab69ae6d07afb9936b523c2fffb,,%{_bindir}/ironic-inspector-status,,1,0
openstack%2Fopenstack-ansible-os_glance~master~I03b51e2cf342b8b1434503f2bd0f4b30dcd5258e,openstack/openstack-ansible-os_glance,master,I03b51e2cf342b8b1434503f2bd0f4b30dcd5258e,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 18:05:25.000000000,2021-03-02 10:17:28.000000000,2021-03-02 10:14:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 18:05:25.000000000', 'files': ['tests/test-create-nfs-dev.yml', 'tasks/glance_install.yml', 'tasks/main.yml', 'vars/redhat.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ae6c72997c832852184f490d0e60a483294f7372', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I03b51e2cf342b8b1434503f2bd0f4b30dcd5258e\n'}]",4,777179,ae6c72997c832852184f490d0e60a483294f7372,10,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I03b51e2cf342b8b1434503f2bd0f4b30dcd5258e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/79/777179/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-create-nfs-dev.yml', 'tasks/glance_install.yml', 'tasks/main.yml', 'vars/redhat.yml', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml']",7,ae6c72997c832852184f490d0e60a483294f7372,osa-facts, - ansible_facts['pkg_mgr'] == 'apt', - ansible_pkg_mgr == 'apt',15,15
openstack%2Fopenstack-ansible-os_octavia~master~Icbfc123d938feed34cef79fea4e6f3700be2ac7b,openstack/openstack-ansible-os_octavia,master,Icbfc123d938feed34cef79fea4e6f3700be2ac7b,Move octaiva pip packages from constraints to requirements,MERGED,2021-01-25 10:17:32.000000000,2021-03-02 10:16:31.000000000,2021-03-02 10:11:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/268e57fa16b337235c50f905df37490653cb84f2', 'message': 'Move octaiva pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: Icbfc123d938feed34cef79fea4e6f3700be2ac7b\n'}, {'number': 2, 'created': '2021-01-25 17:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7c893bed0b7c72e4523a4b41e059964892e6d7e2', 'message': 'Move octaiva pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nDepends-On: Ie0a2ded1c088668395ff143c60bdffdf68b6a5a1\nChange-Id: Icbfc123d938feed34cef79fea4e6f3700be2ac7b\n'}, {'number': 3, 'created': '2021-02-26 09:43:08.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/224ba7e2e9ae51b53f705521136f9262c4c0d612', 'message': 'Move octaiva pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nDepends-On: Ie0a2ded1c088668395ff143c60bdffdf68b6a5a1\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_octavia/+/772559\nChange-Id: Icbfc123d938feed34cef79fea4e6f3700be2ac7b\n'}]",0,772293,224ba7e2e9ae51b53f705521136f9262c4c0d612,16,3,3,25023,,,0,"Move octaiva pip packages from constraints to requirements

This is necessary to use the new pip resolver

Depends-On: Ie0a2ded1c088668395ff143c60bdffdf68b6a5a1
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_octavia/+/772559
Change-Id: Icbfc123d938feed34cef79fea4e6f3700be2ac7b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/93/772293/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,268e57fa16b337235c50f905df37490653cb84f2,osa-new-pip," - ""git+{{ octavia_git_repo }}@{{ octavia_git_install_branch }}#egg=octavia"""," - ""git+{{ octavia_git_repo }}@{{ octavia_git_install_branch }}#egg=octavia"" - octavia",1,2
openstack%2Fopenstack-ansible-os_octavia~master~Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9,openstack/openstack-ansible-os_octavia,master,Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9,Use barbican for certificates storage,MERGED,2020-12-25 16:09:38.000000000,2021-03-02 10:14:14.000000000,2021-03-02 10:11:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-12-25 16:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/515504a28d42cae23cd4ce2a37c7d2623f1b7514', 'message': 'Use barbican for certificates storage\n\nOctavia can do SSL termination only in case when barbican is available.\nWe should be able to add required configuration section only when barbican\nis also present in inventory\n\nChange-Id: Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9\n'}, {'number': 2, 'created': '2020-12-26 07:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b9a17365a97ce50936fb847d7b68611f5eeeb7f4', 'message': 'Use barbican for certificates storage\n\nOctavia can do SSL termination only in case when barbican is available.\nWe should be able to add required configuration section only when barbican\nis also present in inventory\n\nChange-Id: Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9\n'}, {'number': 3, 'created': '2021-03-01 17:51:50.000000000', 'files': ['templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/78d204afb8760915bb32d15a318b20e02176473d', 'message': 'Use barbican for certificates storage\n\nOctavia can do SSL termination only in case when barbican is available.\nWe should be able to add required configuration section only when barbican\nis also present in inventory\n\nChange-Id: Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9\n'}]",0,768514,78d204afb8760915bb32d15a318b20e02176473d,23,3,3,28619,,,0,"Use barbican for certificates storage

Octavia can do SSL termination only in case when barbican is available.
We should be able to add required configuration section only when barbican
is also present in inventory

Change-Id: Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/14/768514/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/octavia.conf.j2', 'defaults/main.yml']",2,515504a28d42cae23cd4ce2a37c7d2623f1b7514,osa/octavia_barbican,## Barbican certificates octavia_barbican_enabled: false ,,7,7
openstack%2Fopenstack-ansible-os_octavia~master~I4574846b71fd9a084df0876cde4bc3277743fe86,openstack/openstack-ansible-os_octavia,master,I4574846b71fd9a084df0876cde4bc3277743fe86,Use global service variables,MERGED,2021-01-08 16:07:13.000000000,2021-03-02 10:07:58.000000000,2021-03-02 10:06:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 16:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e497e723f712eb3340fe37e342ad1cdedf8d0558', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I4574846b71fd9a084df0876cde4bc3277743fe86\n'}, {'number': 2, 'created': '2021-03-01 17:51:59.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f3194038ae82aa06748bda47a451a19ba5bb2980', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I4574846b71fd9a084df0876cde4bc3277743fe86\n'}]",0,769952,f3194038ae82aa06748bda47a451a19ba5bb2980,14,3,2,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I4574846b71fd9a084df0876cde4bc3277743fe86
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/52/769952/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e497e723f712eb3340fe37e342ad1cdedf8d0558,osa/service_variables,"octavia_install_method: ""{{ service_install_method | default('source') }}""# Set the package install state for distribution packagesoctavia_package_state: ""{{ package_state | default('latest') }}""octavia_galera_port: ""{{ galera_port | default('3306') }}""octavia_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""octavia_service_region: ""{{ service_region | default('RegionOne') }}""octavia_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","octavia_install_method: ""source""# Set the package install state for distribution and pip packagesoctavia_package_state: ""latest"" octavia_pip_package_state: ""latest""octavia_galera_port: 3306octavia_ceilometer_enabled: Falseoctavia_service_region: RegionOneoctavia_service_in_ldap: false",7,8
openstack%2Fopenstack-ansible~master~I329afcf37ede01374f7bf325ee87154826deffd3,openstack/openstack-ansible,master,I329afcf37ede01374f7bf325ee87154826deffd3,Use requirements from ara to install ara,ABANDONED,2018-07-02 21:52:08.000000000,2021-03-02 09:52:42.000000000,,"[{'_account_id': 6816}, {'_account_id': 12906}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-07-02 21:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/98208a1733fe8bb8b41667841b22ecb7d8b39ee7', 'message': ""Use requirements from ara to install ara\n\nWithout requirements defined Flask 1.0.2 will be installed (currently).\nThe logging method from that version of flask does not have\nDEBUG_LOG_FORMAT defined.  This breaks ara.  Use the ara provided\nrequirements file to install ara.\n\nERROR! Unexpected Exception: 'module' object has no attribute 'DEBUG_LOG_FORMAT'\n\nChange-Id: I329afcf37ede01374f7bf325ee87154826deffd3\n""}, {'number': 2, 'created': '2018-07-03 02:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/368b0f0b0056b304a6b4dc36fb402cd5d7725b29', 'message': ""Use requirements from ara to install ara\n\nWithout requirements defined Flask 1.0.2 will be installed (currently).\nThe logging method from that version of flask does not have\nDEBUG_LOG_FORMAT defined.  This breaks ara.  Use the ara provided\nrequirements file to install ara.\n\nERROR! Unexpected Exception: 'module' object has no attribute 'DEBUG_LOG_FORMAT'\n\nChange-Id: I329afcf37ede01374f7bf325ee87154826deffd3\n""}, {'number': 3, 'created': '2018-07-03 02:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b792a306aa8d63b771a9879086ac142e82c85d6c', 'message': ""Use requirements from ara to install ara\n\nWithout requirements defined Flask 1.0.2 will be installed (currently).\nThe logging method from that version of flask does not have\nDEBUG_LOG_FORMAT defined.  This breaks ara.  Use the ara provided\nrequirements file to install ara.\n\nERROR! Unexpected Exception: 'module' object has no attribute 'DEBUG_LOG_FORMAT'\n\nChange-Id: I329afcf37ede01374f7bf325ee87154826deffd3\n""}, {'number': 4, 'created': '2018-07-03 02:40:07.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fc6a134bea6cc40598733cdaebb63997074f29c6', 'message': ""Use requirements from ara to install ara\n\nWithout requirements defined Flask 1.0.2 will be installed (currently).\nThe logging method from that version of flask does not have\nDEBUG_LOG_FORMAT defined.  This breaks ara.  Use the ara provided\nrequirements file to install ara.\n\nERROR! Unexpected Exception: 'module' object has no attribute 'DEBUG_LOG_FORMAT'\n\nChange-Id: I329afcf37ede01374f7bf325ee87154826deffd3\n""}]",4,579699,fc6a134bea6cc40598733cdaebb63997074f29c6,27,5,4,14288,,,0,"Use requirements from ara to install ara

Without requirements defined Flask 1.0.2 will be installed (currently).
The logging method from that version of flask does not have
DEBUG_LOG_FORMAT defined.  This breaks ara.  Use the ara provided
requirements file to install ara.

ERROR! Unexpected Exception: 'module' object has no attribute 'DEBUG_LOG_FORMAT'

Change-Id: I329afcf37ede01374f7bf325ee87154826deffd3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/579699/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,98208a1733fe8bb8b41667841b22ecb7d8b39ee7,use-ara-requirements," ${PIP_COMMAND} install --isolated ${PIP_OPTS} --requirement ${ARA_SRC_HOME}/requirements.txt ${ARA_SRC_HOME} ""${ANSIBLE_PACKAGE:-ansible}"" ${PIP_COMMAND} install --isolated ${PIP_OPTS} --requirement https://git.openstack.org/cgit/openstack/ara/plain/requirements.txt ara ""${ANSIBLE_PACKAGE:-ansible}"""," ${PIP_COMMAND} install --isolated ${PIP_OPTS} ${ARA_SRC_HOME} ""${ANSIBLE_PACKAGE:-ansible}"" ${PIP_COMMAND} install --isolated ${PIP_OPTS} ara ""${ANSIBLE_PACKAGE:-ansible}""",2,2
openstack%2Fopenstack-ansible-lxc_hosts~master~I22bf662693cb466a543343081a159280c8c65194,openstack/openstack-ansible-lxc_hosts,master,I22bf662693cb466a543343081a159280c8c65194,Updated from OpenStack Ansible Tests,MERGED,2021-03-01 13:25:02.000000000,2021-03-02 09:49:15.000000000,2021-03-02 09:45:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-03-01 13:25:02.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0dee4a39936830ed1357709a9997f37649e42bf5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I22bf662693cb466a543343081a159280c8c65194\n'}]",0,777995,0dee4a39936830ed1357709a9997f37649e42bf5,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I22bf662693cb466a543343081a159280c8c65194
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/95/777995/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0dee4a39936830ed1357709a9997f37649e42bf5,openstack/openstack-ansible-tests/sync-tests,# Base requirements for Gentoo git [platform:gentoo] ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1e1829144ba2b7f40d1faedc9ac6729601da0964,openstack/tripleo-heat-templates,stable/train,I1e1829144ba2b7f40d1faedc9ac6729601da0964,"[DNM] Revert ""pcs commands on host: haproxy bundle""",ABANDONED,2021-03-02 07:04:36.000000000,2021-03-02 09:45:38.000000000,,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 07:04:36.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb6562fb95958b359b05128ff38f4cce9e893875', 'message': '[DNM] Revert ""pcs commands on host: haproxy bundle""\n\nThis reverts commit a7cceb0f9a5c177868969a8681ed294707fe3f09.\n\nReason for revert: <INSERT REASONING HERE>\n\nChange-Id: I1e1829144ba2b7f40d1faedc9ac6729601da0964\n'}]",0,778103,cb6562fb95958b359b05128ff38f4cce9e893875,2,4,1,20182,,,0,"[DNM] Revert ""pcs commands on host: haproxy bundle""

This reverts commit a7cceb0f9a5c177868969a8681ed294707fe3f09.

Reason for revert: <INSERT REASONING HERE>

Change-Id: I1e1829144ba2b7f40d1faedc9ac6729601da0964
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/778103/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,cb6562fb95958b359b05128ff38f4cce9e893875,train-pcshost," docker_config: step_2: haproxy_init_bundle: start_order: 2 detach: false net: host ipc: host user: root privileged: true command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' - 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::haproxy_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: ContainerHAProxyImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - yaql: expression: $.data.select($+"":""+$+"":ro"") data: *tls_mapping_init_bundle - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} haproxy_restart_bundle: start_order: 3 detach: false net: host ipc: host user: root config_volume: haproxy environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh haproxy haproxy-bundle haproxy-bundle Started image: {get_param: ContainerHAProxyImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/haproxy:/var/lib/kolla/config_files/src:ro"," - name: HAproxy HA Wrappers Step when: step|int == 2 block: &haproxy_puppet_bundle - name: HAproxy puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: haproxy tripleo_ha_wrapper_resource_name: haproxy-bundle tripleo_ha_wrapper_bundle_name: haproxy-bundle tripleo_ha_wrapper_resource_state: Started tripleo_ha_wrapper_puppet_config_volume: haproxy tripleo_ha_wrapper_puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::haproxy_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: HAProxy bundle post update when: step|int == 1 block: *haproxy_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true ",49,22
openstack%2Fopenstack-helm-infra~master~I32aeb17fa6d52e18245a2ce0404a2243b64f47da,openstack/openstack-helm-infra,master,I32aeb17fa6d52e18245a2ce0404a2243b64f47da,Added helm hooks post-install and post-upgrade for jobs,ABANDONED,2021-02-18 14:17:41.000000000,2021-03-02 09:26:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 31746}]","[{'number': 1, 'created': '2021-02-18 14:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/da7cb6e28c93bd95b24e15f898fd0f5544f1c58e', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 2, 'created': '2021-02-24 14:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6788eba491c321ddd595743196090061fc9dbbc', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 3, 'created': '2021-02-25 15:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41b43367521e6c7cb828008164d58a33e439c13f', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 4, 'created': '2021-02-25 16:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20d7e3688d094af63f6bd97fde6b55f972aa4e55', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChart upgrade is failing because some immutable fields in jobs are needed\nto upgrade.\nOn the other side, although the jobs are completed and deployments are scceeded,\nwe cannot delete the completed jobs because some deployments are watching the\njob status every restart.\n\nTo figure it out, enabled helm hooks for post-install and post-upgrade.\nIt also has some side-effects because there are also run order between jobs.\nBy using hook-weight, prioritized jobs order.\n\nPlus, added application name in the label to filter jobs.\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 5, 'created': '2021-02-25 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c24352378d7315eb3b654083fe2f1066032bdb14', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChart upgrade is failing because some immutable fields in jobs are\nneeded to upgrade.\nOn the other side, although the jobs are completed and deployments are\nsucceeded, we cannot delete the completed jobs because some deployments\n are watching the job status every restart.\n\nTo figure it out, enabled helm hooks for post-install and post-upgrade.\nIt also has some side-effects because there are also run order between\njobs. By using hook-weight, prioritized jobs order.\n\nPlus, added application name in the label to filter jobs.\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 6, 'created': '2021-02-25 16:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a0061c45e1ce01a1542449f454072a674b5ed42', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChart upgrade is failing because some immutable fields in jobs are\nneeded to upgrade.\nOn the other side, although the jobs are completed and deployments are\nsucceeded, we cannot delete the completed jobs because some deployments\n are watching the job status every restart.\n\nTo figure it out, enabled helm hooks for post-install and post-upgrade.\nIt also has some side-effects because there are also run order between\njobs. By using hook-weight, prioritized jobs order.\n\nPlus, added application name in the label to filter jobs.\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 7, 'created': '2021-02-26 15:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d208335b402e3915b9c3dd99a3983a034ed5e8ba', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChart upgrade is failing because some immutable fields in jobs are\nneeded to upgrade.\nOn the other side, although the jobs are completed and deployments are\nsucceeded, we cannot delete the completed jobs because some deployments\n are watching the job status every restart.\n\nTo figure it out, enabled helm hooks for post-install and post-upgrade.\nIt also has some side-effects because there are also run order between\njobs. By using hook-weight, prioritized jobs order.\n\nPlus, added application name in the label to filter jobs.\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 8, 'created': '2021-02-26 15:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1602a219d620342e3b881e4e7506d12a1d7b7300', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChart upgrade is failing because some immutable fields in jobs are\nneeded to upgrade.\nOn the other side, although the jobs are completed and deployments are\nsucceeded, we cannot delete the completed jobs because some deployments\n are watching the job status every restart.\n\nTo figure it out, enabled helm hooks for post-install and post-upgrade.\nIt also has some side-effects because there are also run order between\njobs. By using hook-weight, prioritized jobs order.\n\nPlus, added application name in the label to filter jobs.\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}, {'number': 9, 'created': '2021-02-26 18:30:55.000000000', 'files': ['helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84cd421e0e8efa3c7a66ab22d289c1c873b87c7a', 'message': 'Added helm hooks post-install and post-upgrade for jobs\n\nChart upgrade is failing because some immutable fields in jobs are\nneeded to upgrade.\nOn the other side, although the jobs are completed and deployments are\nsucceeded, we cannot delete the completed jobs because some deployments\n are watching the job status every restart.\n\nTo figure it out, enabled helm hooks for post-install and post-upgrade.\nIt also has some side-effects because there are also run order between\njobs. By using hook-weight, prioritized jobs order.\n\nPlus, added application name in the label to filter jobs.\n\nChange-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da\n'}]",2,776466,84cd421e0e8efa3c7a66ab22d289c1c873b87c7a,24,3,9,33130,,,0,"Added helm hooks post-install and post-upgrade for jobs

Chart upgrade is failing because some immutable fields in jobs are
needed to upgrade.
On the other side, although the jobs are completed and deployments are
succeeded, we cannot delete the completed jobs because some deployments
 are watching the job status every restart.

To figure it out, enabled helm hooks for post-install and post-upgrade.
It also has some side-effects because there are also run order between
jobs. By using hook-weight, prioritized jobs order.

Plus, added application name in the label to filter jobs.

Change-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/776466/8 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl']",12,da7cb6e28c93bd95b24e15f898fd0f5544f1c58e,jobs-annotations-patch5-patch8," labels: application: {{ $serviceName }} annotations: ""helm.sh/hook"": post-install,post-upgrade", annotations:,41,2
openstack%2Fopenstack-helm~master~Ibc7eabdb940a2756af8cf4be782b7997b556cba1,openstack/openstack-helm,master,Ibc7eabdb940a2756af8cf4be782b7997b556cba1,Added post-install and post-upgrade annotations on job templates,ABANDONED,2021-02-19 15:22:57.000000000,2021-03-02 09:23:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2021-02-19 15:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e75aa93b0b3caa9adb5ad8feed94f289c797aabd', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}, {'number': 2, 'created': '2021-02-25 16:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64e151f41c61503b00df04565e8996c74f86b55e', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}, {'number': 3, 'created': '2021-02-26 15:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b486021d86366ac0a967b572044acf9699994aa', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nIt includes only for keystone now to discuss.\nOnce agree on this way, we will update all charts.\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}, {'number': 4, 'created': '2021-02-26 15:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c773325af3c70d2fac1e9f2f8e46a789259dcb29', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nIt includes only for keystone now to discuss.\nOnce agree on this way, we will update all charts.\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}, {'number': 5, 'created': '2021-02-26 16:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/095dfb3c127dc81a51edfd0546b84526b20ba29e', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nIt includes only for keystone now to discuss.\nOnce agree on this way, we will update all charts.\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}, {'number': 6, 'created': '2021-02-26 18:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1143d81cefd5da0c8ac4062a2b97c451c58e69e2', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nIt includes only for keystone now to discuss.\nOnce agree on this way, we will update all charts.\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}, {'number': 7, 'created': '2021-02-26 18:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab7edcc81cbbfce5846dc2b43ed14dc3748834b5', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nIt includes only for keystone now to discuss.\nOnce agree on this way, we will update all charts.\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}, {'number': 8, 'created': '2021-03-01 09:29:54.000000000', 'files': ['releasenotes/notes/keystone.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/886adeb7d13b303cf9648dbd995ad981e5c0cb82', 'message': 'Added post-install and post-upgrade annotations on job templates\n\nIt includes only for keystone now to discuss.\nOnce agree on this way, we will update all charts.\n\nDepends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466\n\nChange-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1\n'}]",0,776657,886adeb7d13b303cf9648dbd995ad981e5c0cb82,18,2,8,33130,,,0,"Added post-install and post-upgrade annotations on job templates

It includes only for keystone now to discuss.
Once agree on this way, we will update all charts.

Depends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466

Change-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/57/776657/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/templates/job-ks-user-domain.yaml', 'heat/Chart.yaml', 'horizon/Chart.yaml', 'glance/templates/job-storage-init.yaml', 'keystone/templates/job-fernet-setup.yaml', 'tempest/templates/job-run-tests.yaml', 'rally/templates/job-ks-service.yaml', 'magnum/Chart.yaml', 'rally/templates/job-ks-endpoints.yaml', 'horizon/templates/job-db-sync.yaml', 'rally/templates/job-run-task.yaml', 'glance/templates/job-clean.yaml', 'rally/templates/job-manage-db.yaml', 'cinder/Chart.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'designate/Chart.yaml', 'heat/templates/job-trusts.yaml', 'ceilometer/templates/job-db-init-mongodb.yaml', 'cinder/templates/job-create-internal-tenant.yaml', 'rally/templates/job-bootstrap.yaml', 'ironic/templates/job-manage-cleaning-network.yaml', 'nova/templates/job-bootstrap.yaml', 'rally/Chart.yaml', 'ironic/Chart.yaml', 'keystone/templates/job-domain-manage.yaml', 'cinder/templates/job-storage-init.yaml', 'nova/templates/job-cell-setup.yaml', 'designate/templates/job-bootstrap.yaml', 'nova/Chart.yaml', 'glance/templates/job-metadefs-load.yaml', 'magnum/templates/job-ks-user-domain.yaml', 'placement/templates/job-db-migrate.yaml', 'glance/Chart.yaml', 'tempest/Chart.yaml', 'placement/Chart.yaml', 'ceilometer/Chart.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/Chart.yaml']",38,e75aa93b0b3caa9adb5ad8feed94f289c797aabd,job-annotations-patch4-patch6,version: 0.1.7,version: 0.1.6,63,13
openstack%2Ftacker~master~I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700,openstack/tacker,master,I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700,[DNM] Fix the incompatible query statement for mysql,ABANDONED,2021-02-10 16:33:17.000000000,2021-03-02 09:18:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-10 16:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/51f1d8b7dcf65daf05b9d1dd3197f77603d518df', 'message': '[DNM] Fix the incompatible query statement for mysql\n\nChange-Id: I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700\n'}, {'number': 2, 'created': '2021-02-11 01:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1ee013d404cb1b6486cddecb63a792d9ccb24e82', 'message': '[DNM] Fix the incompatible query statement for mysql\n\nChange-Id: I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700\n'}, {'number': 3, 'created': '2021-02-11 07:22:35.000000000', 'files': ['tacker/objects/vnf_lcm_subscriptions.py', 'tacker/db/migration/alembic_migrations/versions/c31f65e0d099_add_columns_to_vnf_lcm_filter.py', 'tacker/db/db_sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2f1fc2a6b8077a7a2534d75ab75ce0af74088be2', 'message': '[DNM] Fix the incompatible query statement for mysql\n\nChange-Id: I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700\n'}]",0,774893,2f1fc2a6b8077a7a2534d75ab75ce0af74088be2,10,1,3,32219,,,0,"[DNM] Fix the incompatible query statement for mysql

Change-Id: I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700
",git fetch https://review.opendev.org/openstack/tacker refs/changes/93/774893/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/migration/alembic_migrations/versions/c31f65e0d099_add_columns_to_vnf_lcm_filter.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/db/db_sqlalchemy/models.py']",3,51f1d8b7dcf65daf05b9d1dd3197f77603d518df,dnmpatch," vnf_products_from_providers = sa.Column(sa.JSON, nullable=True)",,18,7
openstack%2Ftacker~master~I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea,openstack/tacker,master,I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea,[DNM] Added log to check what the kind of error is in the query,ABANDONED,2021-02-10 14:36:44.000000000,2021-03-02 09:17:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-10 14:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f3669df5887bd2e7228319d61eb53b16d986b47b', 'message': '[DNM] Added log to check what the kind of error is in the query\n\nChange-Id: I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea\n'}, {'number': 2, 'created': '2021-02-11 09:20:56.000000000', 'files': ['tacker/objects/vnf_lcm_subscriptions.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/37f09e0d96be8517bf650b1ed2a13ba3b1ea323d', 'message': '[DNM] Added log to check what the kind of error is in the query\n\nChange-Id: I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea\n'}]",0,774870,37f09e0d96be8517bf650b1ed2a13ba3b1ea323d,5,1,2,32219,,,0,"[DNM] Added log to check what the kind of error is in the query

Change-Id: I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea
",git fetch https://review.opendev.org/openstack/tacker refs/changes/70/774870/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/objects/vnf_lcm_subscriptions.py'],1,f3669df5887bd2e7228319d61eb53b16d986b47b,dnmpatch," except Exception as exc: LOG.debug(""SQL Error: %s"" % str(exc))", except exceptions.NotFound:,2,1
