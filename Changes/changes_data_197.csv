id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-ci~master~Idce17e1bbbf3b0eb0d6a656ec7ab8d23c989a5be,openstack/tripleo-ci,master,Idce17e1bbbf3b0eb0d6a656ec7ab8d23c989a5be,Make scenario007 multinode job voting and gating (master/victoria),MERGED,2021-02-23 11:07:39.000000000,2021-02-25 00:09:22.000000000,2021-02-25 00:09:22.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-02-23 11:07:39.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ed36d6a34300a76325acda4911b42c65eddf235', 'message': 'Make scenario007 multinode job voting and gating (master/victoria)\n\nThis makes tripleo-ci-centos-8-scenario007-multinode-oooq-container\nvote and adds it to the gate layout. This job runs only for master\nand stable/victoria branches.\n\nSeen as part of [1] and in reviewing our non-voting and failing jobs\nthis has a good pass rate so no reason to keep it non voting [2].\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario007-multinode-oooq-container\n\nChange-Id: Idce17e1bbbf3b0eb0d6a656ec7ab8d23c989a5be\n'}]",0,777090,2ed36d6a34300a76325acda4911b42c65eddf235,10,9,1,8449,,,0,"Make scenario007 multinode job voting and gating (master/victoria)

This makes tripleo-ci-centos-8-scenario007-multinode-oooq-container
vote and adds it to the gate layout. This job runs only for master
and stable/victoria branches.

Seen as part of [1] and in reviewing our non-voting and failing jobs
this has a good pass rate so no reason to keep it non voting [2].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario007-multinode-oooq-container

Change-Id: Idce17e1bbbf3b0eb0d6a656ec7ab8d23c989a5be
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/777090/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,2ed36d6a34300a76325acda4911b42c65eddf235,tripleo-ci-reduce, - tripleo-ci-centos-8-scenario007-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario007-multinode-oooq-container: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider, voting: false,7,1
openstack%2Fpuppet-qdr~stable%2Fqueens~Ic4d98dfb30f4883c8084de5db367af4db9db4dca,openstack/puppet-qdr,stable/queens,Ic4d98dfb30f4883c8084de5db367af4db9db4dca,MetricsQdr: fix minor spacing issue in qdrouterd template,MERGED,2021-02-10 11:47:45.000000000,2021-02-24 23:49:50.000000000,2021-02-24 23:49:50.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 11:47:45.000000000', 'files': ['templates/qdrouterd.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/fefa0017f9bbf4ee05156125f5a1cdd166ad4ab3', 'message': 'MetricsQdr: fix minor spacing issue in qdrouterd template\n\nChange-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca\n(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)\n(cherry picked from commit 9f043cda37d0cb7d21d6a514ee037970fe4f1e19)\n(cherry picked from commit 67b99f57adad846c19580dbacac77852b18ff3b8)\n'}]",0,774799,fefa0017f9bbf4ee05156125f5a1cdd166ad4ab3,15,5,1,9816,,,0,"MetricsQdr: fix minor spacing issue in qdrouterd template

Change-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca
(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)
(cherry picked from commit 9f043cda37d0cb7d21d6a514ee037970fe4f1e19)
(cherry picked from commit 67b99f57adad846c19580dbacac77852b18ff3b8)
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/99/774799/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/qdrouterd.conf.erb'],1,fefa0017f9bbf4ee05156125f5a1cdd166ad4ab3,metrics_qdr_sslprofiles,sslProfile {,sslProfile{,1,1
openstack%2Fpuppet-qdr~stable%2Fstein~Ic4d98dfb30f4883c8084de5db367af4db9db4dca,openstack/puppet-qdr,stable/stein,Ic4d98dfb30f4883c8084de5db367af4db9db4dca,MetricsQdr: fix minor spacing issue in qdrouterd template,MERGED,2021-02-10 11:46:08.000000000,2021-02-24 23:35:05.000000000,2021-02-24 23:35:05.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 11:46:08.000000000', 'files': ['templates/qdrouterd.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/9f043cda37d0cb7d21d6a514ee037970fe4f1e19', 'message': 'MetricsQdr: fix minor spacing issue in qdrouterd template\n\nChange-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca\n(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)\n'}]",0,774797,9f043cda37d0cb7d21d6a514ee037970fe4f1e19,15,5,1,9816,,,0,"MetricsQdr: fix minor spacing issue in qdrouterd template

Change-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca
(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/97/774797/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/qdrouterd.conf.erb'],1,9f043cda37d0cb7d21d6a514ee037970fe4f1e19,metrics_qdr_sslprofiles,sslProfile {,sslProfile{,1,1
openstack%2Fpuppet-qdr~stable%2Frocky~Ic4d98dfb30f4883c8084de5db367af4db9db4dca,openstack/puppet-qdr,stable/rocky,Ic4d98dfb30f4883c8084de5db367af4db9db4dca,MetricsQdr: fix minor spacing issue in qdrouterd template,MERGED,2021-02-10 11:46:43.000000000,2021-02-24 23:33:54.000000000,2021-02-24 23:33:54.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 11:46:43.000000000', 'files': ['templates/qdrouterd.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/67b99f57adad846c19580dbacac77852b18ff3b8', 'message': 'MetricsQdr: fix minor spacing issue in qdrouterd template\n\nChange-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca\n(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)\n(cherry picked from commit 9f043cda37d0cb7d21d6a514ee037970fe4f1e19)\n'}]",0,774798,67b99f57adad846c19580dbacac77852b18ff3b8,15,5,1,9816,,,0,"MetricsQdr: fix minor spacing issue in qdrouterd template

Change-Id: Ic4d98dfb30f4883c8084de5db367af4db9db4dca
(cherry picked from commit 43522c579f396d2435ce0576b2d0e6bce088b03c)
(cherry picked from commit 9f043cda37d0cb7d21d6a514ee037970fe4f1e19)
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/98/774798/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/qdrouterd.conf.erb'],1,67b99f57adad846c19580dbacac77852b18ff3b8,metrics_qdr_sslprofiles,sslProfile {,sslProfile{,1,1
openstack%2Ftripleo-common~stable%2Fqueens~I696581ea9a9fb7bfbefb6a168b37b3e36a2abc3c,openstack/tripleo-common,stable/queens,I696581ea9a9fb7bfbefb6a168b37b3e36a2abc3c,Fix handling hardware types and drivers when generating fencing parameters,MERGED,2021-02-03 02:58:28.000000000,2021-02-24 23:33:35.000000000,2021-02-24 23:33:35.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-03 02:58:28.000000000', 'files': ['tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/863368af63eefd431d749848ac5d1a37bbb6ec05', 'message': ""Fix handling hardware types and drivers when generating fencing parameters\n\nThis is a partial backport of 812d7e6cbb899983311001d90d6608a0c90f74a5\nand fixes handling about new hardware types which doesn't have prefixes\nlike pm_, pxe_ and so on[1].\n\n[1] 73b6ede2bb706c41c331a4fd95399ca0b1e2047d\n\nChange-Id: I696581ea9a9fb7bfbefb6a168b37b3e36a2abc3c\nCloses-Bug: #1924374\n""}]",0,773829,863368af63eefd431d749848ac5d1a37bbb6ec05,10,4,1,9816,,,0,"Fix handling hardware types and drivers when generating fencing parameters

This is a partial backport of 812d7e6cbb899983311001d90d6608a0c90f74a5
and fixes handling about new hardware types which doesn't have prefixes
like pm_, pxe_ and so on[1].

[1] 73b6ede2bb706c41c331a4fd95399ca0b1e2047d

Change-Id: I696581ea9a9fb7bfbefb6a168b37b3e36a2abc3c
Closes-Bug: #1924374
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/773829/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/parameters.py'],1,863368af63eefd431d749848ac5d1a37bbb6ec05,bug/1924374," try: # Deprecated classic drivers (pxe_ipmitool, etc) driver_proto = node['pm_type'].split('_')[1] except IndexError: # New-style hardware types (ipmi, etc) driver_proto = node['pm_type'] elif driver_proto in {'ipmi', 'ipmitool', 'drac', 'idrac', 'ilo'}:"," elif (node['pm_type'] == 'ipmi' or node[""pm_type""].split('_')[1] in (""ipmitool"", ""ilo"", ""drac"")):",8,2
openstack%2Ftripleo-common~master~If8bcb2b57243c7868a04ae4dee4464eb33dd87eb,openstack/tripleo-common,master,If8bcb2b57243c7868a04ae4dee4464eb33dd87eb,Do not use ironic/nova for generate_fencing,MERGED,2021-02-03 14:53:44.000000000,2021-02-24 23:32:12.000000000,2021-02-24 23:30:46.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30126}]","[{'number': 1, 'created': '2021-02-03 14:53:44.000000000', 'files': ['tripleo_common/utils/stack_parameters.py', 'tripleo_common/tests/utils/test_stack_parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4556479db09671a68d0bd4dc452fed936b759629', 'message': ""Do not use ironic/nova for generate_fencing\n\nThis commit cleans up and simplifies the way fencing parameters\nare generated.\nWe don't try to map baremetal nodes to instances anymore and we simply\ngenerate fencing agents definitions for each node.\n\nChange-Id: If8bcb2b57243c7868a04ae4dee4464eb33dd87eb\n""}]",0,773919,4556479db09671a68d0bd4dc452fed936b759629,20,5,1,30126,,,0,"Do not use ironic/nova for generate_fencing

This commit cleans up and simplifies the way fencing parameters
are generated.
We don't try to map baremetal nodes to instances anymore and we simply
generate fencing agents definitions for each node.

Change-Id: If8bcb2b57243c7868a04ae4dee4464eb33dd87eb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/773919/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/stack_parameters.py', 'tripleo_common/tests/utils/test_stack_parameters.py']",2,4556479db09671a68d0bd4dc452fed936b759629,," test_envjson, 28, 5, 0, True)['parameter_defaults'] self.assertEqual(len(result[""FencingConfig""][""devices""]), 5)"," ironic = mock.MagicMock() compute = mock.MagicMock() ironic, compute, test_envjson, 28, 5, 0, True)['parameter_defaults'] self.assertEqual(len(result[""FencingConfig""][""devices""]), 4) ""pcmk_host_list"": ""compute_name_0"" ""pcmk_host_list"": ""compute_name_1"" ""pcmk_host_list"": ""compute_name_4"" ""pcmk_host_list"": ""compute_name_5""",3,23
openstack%2Fmanila-tempest-plugin~master~I2a647fd5871ef6bb7d1ab45db893a44a560bed72,openstack/manila-tempest-plugin,master,I2a647fd5871ef6bb7d1ab45db893a44a560bed72,Refactor public share test cases,MERGED,2021-02-22 06:04:51.000000000,2021-02-24 23:25:26.000000000,2021-02-24 23:25:26.000000000,"[{'_account_id': 6413}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-02-22 06:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0917334235a4bdd7e14b0a15c4ccae37d7c8e701', 'message': ""Refactor public share test cases\n\nThe RBAC policy defaults to create\na public share or to update an existing\nshare to public have changed since the\nStein release. [1]\n\nLet's stop assuming that regular users\ncan perform these actions, so that manila\ncan safely remove the policy rule deprecation\nsupport for these APIs.\n\n[1] https://review.opendev.org/634864\n\nChange-Id: I2a647fd5871ef6bb7d1ab45db893a44a560bed72\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-02-22 15:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1db8e8557f86ad61328bf11031b312f6f1879805', 'message': ""Refactor public share test cases\n\nThe RBAC policy defaults to create\na public share or to update an existing\nshare to public have changed since the\nStein release. [1]\n\nLet's stop assuming that regular users\ncan perform these actions, so that manila\ncan safely remove the policy rule deprecation\nsupport for these APIs.\n\n[1] https://review.opendev.org/634864\n\nChange-Id: I2a647fd5871ef6bb7d1ab45db893a44a560bed72\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 3, 'created': '2021-02-22 18:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c1ed5e2a821dbea2e6cba645c07b68a5c2a2d010', 'message': ""Refactor public share test cases\n\nThe RBAC policy defaults to create\na public share or to update an existing\nshare to public have changed since the\nStein release. [1]\n\nLet's stop assuming that regular users\ncan perform these actions, so that manila\ncan safely remove the policy rule deprecation\nsupport for these APIs.\n\n[1] https://review.opendev.org/634864\n\nChange-Id: I2a647fd5871ef6bb7d1ab45db893a44a560bed72\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 4, 'created': '2021-02-22 22:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ff22629dd56a85c504ecf894c31f1731e8b5ce5e', 'message': ""Refactor public share test cases\n\nThe RBAC policy defaults to create\na public share or to update an existing\nshare to public have changed since the\nStein release. [1]\n\nLet's stop assuming that regular users\ncan perform these actions, so that manila\ncan safely remove the policy rule deprecation\nsupport for these APIs.\n\n[1] https://review.opendev.org/634864\n\nChange-Id: I2a647fd5871ef6bb7d1ab45db893a44a560bed72\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 5, 'created': '2021-02-23 15:13:45.000000000', 'files': ['manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_public_shares_negative.py', 'manila_tempest_tests/tests/api/test_shares_from_snapshot_across_pools.py', 'manila_tempest_tests/tests/api/test_public_shares.py', 'manila_tempest_tests/tests/api/test_shares_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a3ed445fff5a0d90e64817aace08229069c37660', 'message': ""Refactor public share test cases\n\nThe RBAC policy defaults to create\na public share or to update an existing\nshare to public have changed since the\nStein release. [1]\n\nLet's stop assuming that regular users\ncan perform these actions, so that manila\ncan safely remove the policy rule deprecation\nsupport for these APIs.\n\n[1] https://review.opendev.org/634864\nChange-Id: I2a647fd5871ef6bb7d1ab45db893a44a560bed72\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",12,776869,a3ed445fff5a0d90e64817aace08229069c37660,29,5,5,16643,,,0,"Refactor public share test cases

The RBAC policy defaults to create
a public share or to update an existing
share to public have changed since the
Stein release. [1]

Let's stop assuming that regular users
can perform these actions, so that manila
can safely remove the policy rule deprecation
support for these APIs.

[1] https://review.opendev.org/634864
Change-Id: I2a647fd5871ef6bb7d1ab45db893a44a560bed72
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/69/776869/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_public_shares_negative.py', 'manila_tempest_tests/tests/api/test_shares_from_snapshot_across_pools.py', 'manila_tempest_tests/tests/api/test_public_shares.py', 'manila_tempest_tests/tests/api/test_shares_negative.py']",5,0917334235a4bdd7e14b0a15c4ccae37d7c8e701,bug/1801763,," # create share cls.share = cls.create_share( name='public_share', description='public_share_desc', share_type_id=cls.share_type_id, is_public=True, metadata={'key': 'value'} ) @decorators.idempotent_id('255011c0-4ed9-4174-bb13-8bbd06a62529') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_update_share_with_wrong_public_value(self): self.assertRaises(lib_exc.BadRequest, self.shares_client.update_share, self.share[""id""], is_public=""truebar"") @decorators.idempotent_id('3443493b-f56a-4faa-9968-e7cbb0d2802f') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_update_other_tenants_public_share(self): self.assertRaises(lib_exc.Forbidden, self.alt_shares_v2_client.update_share, self.share[""id""], name=""new_name"") @decorators.idempotent_id('68d1f1bc-16e4-4086-8982-7e44ca6bdc4d') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_delete_other_tenants_public_share(self): self.assertRaises(lib_exc.Forbidden, self.alt_shares_v2_client.delete_share, self.share['id']) @decorators.idempotent_id('1f9e5d84-0885-4a4b-9196-9031a1c01508') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_set_metadata_of_other_tenants_public_share(self): self.assertRaises(lib_exc.Forbidden, self.alt_shares_v2_client.set_metadata, self.share['id'], {'key': 'value'}) @decorators.idempotent_id('fed7a935-9699-43a1-854e-67b61ba6233e') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_update_metadata_of_other_tenants_public_share(self): self.assertRaises(lib_exc.Forbidden, self.alt_shares_v2_client.update_all_metadata, self.share['id'], {'key': 'value'}) @decorators.idempotent_id('bd62adeb-73c2-4b04-8812-80b479cd5c3b') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_delete_metadata_of_other_tenants_public_share(self): self.assertRaises(lib_exc.Forbidden, self.alt_shares_v2_client.delete_metadata, self.share['id'], 'key') ",192,93
openstack%2Fcinder~master~I459ff3c8798e218919b6b2f9e1c2200203efeeff,openstack/cinder,master,I459ff3c8798e218919b6b2f9e1c2200203efeeff,smbfs: set VHD UUID using volume UUID,MERGED,2020-12-14 14:38:33.000000000,2021-02-24 23:25:01.000000000,2021-02-19 20:07:01.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-14 14:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c3094d2aca4fa4f274e0d964b2a42179e7ca959', 'message': 'wip,smbfs: set VHD UUID using volume UUID\n\nThe SMBFS driver stores volumes as VHD/x image files. This change\nwill set the unique id VHD field using the volume id.\n\nHyper-V propagates this id to the guest, which allows it to safely\nidentify the disk. The kubernetes openstack provider will also\nbenefit from this change.\n\nhttp://paste.openstack.org/raw/801011/\n\nChange-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff\n'}, {'number': 2, 'created': '2020-12-15 11:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8417e84bc1723704c2c0fef03452b92e3459ca1a', 'message': 'smbfs: set VHD UUID using volume UUID\n\nThe SMBFS driver stores volumes as VHD/x image files. This change\nwill set the unique id VHD field using the volume id.\n\nHyper-V propagates this id to the guest, which allows it to safely\nidentify the disk. The kubernetes openstack provider will also\nbenefit from this change.\n\nhttp://paste.openstack.org/raw/801011/\n\nDepends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159\n\nChange-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff\n'}, {'number': 3, 'created': '2020-12-16 10:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9386c14d7470e0e58a19e65cebfbe88052b46ecf', 'message': 'smbfs: set VHD UUID using volume UUID\n\nThe SMBFS driver stores volumes as VHD/x image files. This change\nwill set the unique id VHD field using the volume id.\n\nHyper-V propagates this id to the guest, which allows it to safely\nidentify the disk. The kubernetes openstack provider will also\nbenefit from this change.\n\nhttp://paste.openstack.org/raw/801011/\n\nDepends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159\n\nChange-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff\n'}, {'number': 4, 'created': '2021-01-05 08:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/694fda973c96e14e116774b6c34941c0a108174d', 'message': ""smbfs: set VHD UUID using volume UUID\n\nThe SMBFS driver stores volumes as VHD/x image files. This change\nwill set the unique id VHD field using the volume id.\n\nHyper-V propagates this id to the guest, which allows it to safely\nidentify the disk. The kubernetes openstack provider will also\nbenefit from this change.\n\nhttp://paste.openstack.org/raw/801011/\n\nThis operation requires os-win 5.4.0, for which reason we're bumping\nthe requirement.\n\nDepends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159\n\nChange-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff\n""}, {'number': 5, 'created': '2021-01-13 08:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/143e1537f40bc7b010b2752391f3c553834b7d2f', 'message': ""smbfs: set VHD UUID using volume UUID\n\nThe SMBFS driver stores volumes as VHD/x image files. This change\nwill set the unique id VHD field using the volume id.\n\nHyper-V propagates this id to the guest, which allows it to safely\nidentify the disk. The kubernetes openstack provider will also\nbenefit from this change.\n\nhttp://paste.openstack.org/raw/801011/\n\nThis operation requires os-win 5.4.0, for which reason we're bumping\nthe requirement.\n\nDepends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159\n\nChange-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff\n""}, {'number': 6, 'created': '2021-01-13 08:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/040eb7bfc05e78ebace890914afd844e62fa9ecc', 'message': ""smbfs: set VHD UUID using volume UUID\n\nThe SMBFS driver stores volumes as VHD/x image files. This change\nwill set the unique id VHD field using the volume id.\n\nHyper-V propagates this id to the guest through the SCSI VPD,\nwhich allows it to safely identify the disk. The kubernetes openstack\nprovider will also benefit from this change.\n\nHere's an example: http://paste.openstack.org/raw/801011/\n\nThis operation requires os-win 5.4.0, for which reason we're bumping\nthe requirement.\n\nDepends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159\n\nChange-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff\n""}, {'number': 7, 'created': '2021-02-18 07:56:35.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'requirements.txt', 'cinder/tests/unit/windows/test_smbfs.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b418e76ac5d9447fc3dbc3a2299639930535ccb', 'message': ""smbfs: set VHD UUID using volume UUID\n\nThe SMBFS driver stores volumes as VHD/x image files. This change\nwill set the unique id VHD field using the volume id.\n\nHyper-V propagates this id to the guest through the SCSI VPD,\nwhich allows it to safely identify the disk. The kubernetes openstack\nprovider will also benefit from this change.\n\nHere's an example: http://paste.openstack.org/raw/801011/\n\nThis operation requires os-win 5.4.0, for which reason we're bumping\nthe requirement.\n\nDepends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159\n\nChange-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff\n""}]",1,766963,9b418e76ac5d9447fc3dbc3a2299639930535ccb,158,6,7,8543,,,0,"smbfs: set VHD UUID using volume UUID

The SMBFS driver stores volumes as VHD/x image files. This change
will set the unique id VHD field using the volume id.

Hyper-V propagates this id to the guest through the SCSI VPD,
which allows it to safely identify the disk. The kubernetes openstack
provider will also benefit from this change.

Here's an example: http://paste.openstack.org/raw/801011/

This operation requires os-win 5.4.0, for which reason we're bumping
the requirement.

Depends-On: Ied73997e6f5f3ded9827703867f059ef3dfca159

Change-Id: I459ff3c8798e218919b6b2f9e1c2200203efeeff
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/766963/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/windows/smbfs.py'],1,5c3094d2aca4fa4f274e0d964b2a42179e7ca959,uuid," max_internal_size=volume_size_bytes, guid=volume.id) volume_path = self.local_path(volume) self._vhdutils.set_vhd_guid(volume_path, volume.guid) self._vhdutils.resize_vhd(volume_path, self._vhdutils.set_vhd_guid(volume_path, volume.guid)"," max_internal_size=volume_size_bytes) self._vhdutils.resize_vhd(self.local_path(volume),",6,2
openstack%2Fironic~master~Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,openstack/ironic,master,Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,Enable swift temporary URLs in grenade and provide a good error message,MERGED,2021-02-24 12:35:31.000000000,2021-02-24 23:23:52.000000000,2021-02-24 23:17:09.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-24 12:35:31.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'ironic/common/swift.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5533077c7d3c7afafe365173476e5580ea4b4ba0', 'message': 'Enable swift temporary URLs in grenade and provide a good error message\n\nThe fixed configdrive_use_object_store requires them.\n\nChange-Id: Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a\n'}]",2,777375,5533077c7d3c7afafe365173476e5580ea4b4ba0,18,3,1,10239,,,0,"Enable swift temporary URLs in grenade and provide a good error message

The fixed configdrive_use_object_store requires them.

Change-Id: Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/777375/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'ironic/common/swift.py']",2,5533077c7d3c7afafe365173476e5580ea4b4ba0,gate, temp_url_key = account_info.get('x-account-meta-temp-url-key') if not temp_url_key: raise exception.MissingParameterValue(_( 'Swift temporary URLs require a shared secret to be ' 'created. You must provide pre-generate the key on ' 'the project used to access Swift.')), temp_url_key = account_info['x-account-meta-temp-url-key'],8,1
openstack%2Foctavia-tempest-plugin~master~I9934ceaca95aa4ca3621e5b72159428f75463b78,openstack/octavia-tempest-plugin,master,I9934ceaca95aa4ca3621e5b72159428f75463b78,Remove skip clause for UDP listener tests,NEW,2021-01-19 07:37:33.000000000,2021-02-24 23:21:45.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 07:37:33.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_listener.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/288eaf19cf3ee500bf896517c6fbe83b56a2019f', 'message': 'Remove skip clause for UDP listener tests\n\nThe commit that fixes story 2007979 has now been backported to all of\nthe maintained stable branches.\nWe can safely remove the skip clause that disables some UDP listener\ntests.\n\nChange-Id: I9934ceaca95aa4ca3621e5b72159428f75463b78\n'}]",0,771367,288eaf19cf3ee500bf896517c6fbe83b56a2019f,4,2,1,29244,,,0,"Remove skip clause for UDP listener tests

The commit that fixes story 2007979 has now been backported to all of
the maintained stable branches.
We can safely remove the skip clause that disables some UDP listener
tests.

Change-Id: I9934ceaca95aa4ca3621e5b72159428f75463b78
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/67/771367/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_listener.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",2,288eaf19cf3ee500bf896517c6fbe83b56a2019f,,," # Skipping due to a status update bug in the amphora driver. @decorators.skip_because( bug='2007979', bug_type='storyboard', condition=CONF.load_balancer.provider in const.AMPHORA_PROVIDERS) # Skipping due to a status update bug in the amphora driver. @decorators.skip_because( bug='2007979', bug_type='storyboard', condition=CONF.load_balancer.provider in const.AMPHORA_PROVIDERS) # Skipping due to a status update bug in the amphora driver. @decorators.skip_because( bug='2007979', bug_type='storyboard', condition=CONF.load_balancer.provider in const.AMPHORA_PROVIDERS) # Skipping due to a status update bug in the amphora driver. @decorators.skip_because( bug='2007979', bug_type='storyboard', condition=CONF.load_balancer.provider in const.AMPHORA_PROVIDERS) # Skipping due to a status update bug in the amphora driver. @decorators.skip_because( bug='2007979', bug_type='storyboard', condition=CONF.load_balancer.provider in const.AMPHORA_PROVIDERS) # Skipping due to a status update bug in the amphora driver. @decorators.skip_because( bug='2007979', bug_type='storyboard', condition=CONF.load_balancer.provider in const.AMPHORA_PROVIDERS)",0,50
openstack%2Ftripleo-ansible~stable%2Fvictoria~I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,openstack/tripleo-ansible,stable/victoria,I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,Update skeleton role to use ansible_facts,MERGED,2021-02-23 21:10:17.000000000,2021-02-24 23:21:28.000000000,2021-02-24 23:21:28.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 21:10:17.000000000', 'files': ['_skeleton_role_/tasks/main.yml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c128ab6d137c61d965191552cb01ce3361a32b72', 'message': 'Update skeleton role to use ansible_facts\n\nChange-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676\n(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)\n'}]",0,777225,c128ab6d137c61d965191552cb01ce3361a32b72,6,2,1,14985,,,0,"Update skeleton role to use ansible_facts

Change-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676
(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/777225/1 && git format-patch -1 --stdout FETCH_HEAD,['_skeleton_role_/tasks/main.yml.j2'],1,c128ab6d137c61d965191552cb01ce3361a32b72,bug/1915761-stable/victoria," - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"""," - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml""",6,6
openstack%2Ftripleo-ansible~master~Ice9482c635d104c30f1f44e92475dc517a7fd527,openstack/tripleo-ansible,master,Ice9482c635d104c30f1f44e92475dc517a7fd527,"Fixed and rename task name, which does the opposite",MERGED,2021-02-23 11:42:01.000000000,2021-02-24 23:21:08.000000000,2021-02-24 23:21:08.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-02-23 11:42:01.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34fc42520a0afac639765a70b97a35995ba5dc0f', 'message': 'Fixed and rename task name, which does the opposite\n\nThe task is called PauseXXXX and it realy does the opposite,\nthis name set the name properly to unPause\n\nChange-Id: Ice9482c635d104c30f1f44e92475dc517a7fd527\n'}]",0,777094,34fc42520a0afac639765a70b97a35995ba5dc0f,10,6,1,22954,,,0,"Fixed and rename task name, which does the opposite

The task is called PauseXXXX and it realy does the opposite,
this name set the name properly to unPause

Change-Id: Ice9482c635d104c30f1f44e92475dc517a7fd527
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/777094/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml'],1,34fc42520a0afac639765a70b97a35995ba5dc0f,typo,- name: unPause containers,- name: Pause containers for database backup.,1,1
openstack%2Ftripleo-ansible~master~Iba57bcff7d6e3870ccf074b72907e1bce44e039b,openstack/tripleo-ansible,master,Iba57bcff7d6e3870ccf074b72907e1bce44e039b,Run molecule in systemd scope user,MERGED,2021-01-15 19:03:08.000000000,2021-02-24 23:06:41.000000000,2021-02-24 23:06:41.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-15 19:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42c6205d063a37e75eeac955d29374ccea522724', 'message': '[Test] Run molecule in systemd scope user\n\nWhen priviledge mode is set, don\'t add any capabilities as they\nare included.\nDisable Selinux on host.\nRun all with ""systemd-run --scope --user"" to avoid podman 2.0.5\nbug: https://github.com/containers/podman/issues/8965\nRelated-Bug: #1910970\n\nChange-Id: Iba57bcff7d6e3870ccf074b72907e1bce44e039b\n'}, {'number': 2, 'created': '2021-01-20 15:56:38.000000000', 'files': ['zuul.d/playbooks/pre.yml', 'zuul.d/playbooks/run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f51562cdb1a13c35c5acb4ea210d25da06130c06', 'message': 'Run molecule in systemd scope user\n\nUse latest podman in molecule tests instead of pin to 1.6.4 and\nRun all with ""systemd-run --scope --user"" to avoid podman 2.0.5\nbug: https://github.com/containers/podman/issues/8965\nRelated-Bug: #1910970\n\nChange-Id: Iba57bcff7d6e3870ccf074b72907e1bce44e039b\n'}]",0,771064,f51562cdb1a13c35c5acb4ea210d25da06130c06,12,6,2,10969,,,0,"Run molecule in systemd scope user

Use latest podman in molecule tests instead of pin to 1.6.4 and
Run all with ""systemd-run --scope --user"" to avoid podman 2.0.5
bug: https://github.com/containers/podman/issues/8965
Related-Bug: #1910970

Change-Id: Iba57bcff7d6e3870ccf074b72907e1bce44e039b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/771064/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'zuul.d/playbooks/run.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml']",20,42c6205d063a37e75eeac955d29374ccea522724,newcaps,, capabilities: - ALL,1,47
openstack%2Ftripleo-ansible~stable%2Fussuri~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,stable/ussuri,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-02-24 11:32:12.000000000,2021-02-24 23:06:30.000000000,2021-02-24 23:06:30.000000000,"[{'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-02-24 11:32:12.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78d287acae2239c091fdd009dabbefcf3416bd34', 'message': 'Option to remove the self-installed ReaR cron task\n\nBy default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with\na default programming. This programming runs a backup job at\n1:30AM every day. During this automatic backup, the services are not\nappropiately paused. This causes the created backup to have non-valid\ndata.\n\nAs the most recent backup overwrites the older ones, this deletes\nthe ""good"" backup taken at operator\'s discretion with a new one\nthat cannot be used to restore the control plane state.\n\nThis change aims to optionally disable this default rpm behaviour.\n\nCloses-Bug: #1912764\nChange-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8\n(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)\n'}]",0,777320,78d287acae2239c091fdd009dabbefcf3416bd34,7,6,1,32968,,,0,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/777320/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,78d287acae2239c091fdd009dabbefcf3416bd34,bar_rear_crond-stable/victoria-stable/ussuri, # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true,,12,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,stable/victoria,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-02-24 11:17:01.000000000,2021-02-24 23:06:26.000000000,2021-02-24 23:06:26.000000000,"[{'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-02-24 11:17:01.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9944529089a2ec7fbe3ccd4dc55916b923613514', 'message': 'Option to remove the self-installed ReaR cron task\n\nBy default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with\na default programming. This programming runs a backup job at\n1:30AM every day. During this automatic backup, the services are not\nappropiately paused. This causes the created backup to have non-valid\ndata.\n\nAs the most recent backup overwrites the older ones, this deletes\nthe ""good"" backup taken at operator\'s discretion with a new one\nthat cannot be used to restore the control plane state.\n\nThis change aims to optionally disable this default rpm behaviour.\n\nCloses-Bug: #1912764\nChange-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8\n(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)\n'}]",0,777318,9944529089a2ec7fbe3ccd4dc55916b923613514,8,6,1,32968,,,0,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/777318/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,9944529089a2ec7fbe3ccd4dc55916b923613514,bar_rear_crond-stable/victoria, # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true,,12,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia6728d68305ba3c662e99ea067b4d4feef9eeea0,openstack/tripleo-ansible,stable/train,Ia6728d68305ba3c662e99ea067b4d4feef9eeea0,Handle containers with no namespace,MERGED,2021-02-11 14:14:49.000000000,2021-02-24 23:06:23.000000000,2021-02-24 23:06:23.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-11 14:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b9ecf6260660fede879d6c4c821a04fe11c0366f', 'message': 'Handle containers with no namespace\n\nSatellite server does not have an actual namespace in the url so the\ncontainer location is just host/container:tag. We need to be able to\nproperly set the headers on blobs without namespaces.\n\nChange-Id: Ia6728d68305ba3c662e99ea067b4d4feef9eeea0\nRelated-Bug: #1913782\n(cherry picked from commit 4b47fdc93dba05b086ddd80d32d59fa6281b1885)\n'}, {'number': 2, 'created': '2021-02-15 14:51:14.000000000', 'files': ['tripleo_ansible/roles/tripleo-image-serve/templates/image-serve.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb797d940914c8ea971b55bd468385561c82f44b', 'message': 'Handle containers with no namespace\n\nSatellite server does not have an actual namespace in the url so the\ncontainer location is just host/container:tag. We need to be able to\nproperly set the headers on blobs without namespaces.\n\nChange-Id: Ia6728d68305ba3c662e99ea067b4d4feef9eeea0\nRelated-Bug: #1913782\n(cherry picked from commit 4b47fdc93dba05b086ddd80d32d59fa6281b1885)\n'}]",0,775158,bb797d940914c8ea971b55bd468385561c82f44b,10,4,2,14985,,,0,"Handle containers with no namespace

Satellite server does not have an actual namespace in the url so the
container location is just host/container:tag. We need to be able to
properly set the headers on blobs without namespaces.

Change-Id: Ia6728d68305ba3c662e99ea067b4d4feef9eeea0
Related-Bug: #1913782
(cherry picked from commit 4b47fdc93dba05b086ddd80d32d59fa6281b1885)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/775158/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-image-serve/templates/image-serve.conf.j2'],1,b9ecf6260660fede879d6c4c821a04fe11c0366f,bug/1913782-stable/train," <LocationMatch ""^/v2/.*/blobs/sha256:.*$""> SetEnvIf Request_URI ""sha256:(.*)$"" digest=sha256:$1 Header set Docker-Content-Digest ""%{digest}e"" Header set ETag ""%{digest}e"" Header set Cache-Control ""max-age=31536000"" Header set Content-Type ""application/octet-stream"" </LocationMatch> ",,10,0
openstack%2Fopenstack-helm-infra~master~I68baa7693f545e2d91dba01ae61b4bdae8a26bee,openstack/openstack-helm-infra,master,I68baa7693f545e2d91dba01ae61b4bdae8a26bee,[Update] Grafana: Provision any dashboard as homepage,MERGED,2021-02-19 16:53:56.000000000,2021-02-24 22:29:19.000000000,2021-02-24 22:27:46.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30449}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-02-19 16:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e311d45b3af82e0d73fd67b540c32423dbd8482c', 'message': '[WIP] Grafana: adding the homepage\n\nThis ps is to add the customized homepage instead of the static one.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}, {'number': 2, 'created': '2021-02-19 16:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c6af88ace939af8eff6944feb62bae032b558cb', 'message': '[WIP] Grafana: adding the homepage\n\nThis ps is to add the customized homepage instead of the static one.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}, {'number': 3, 'created': '2021-02-19 17:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed93ad91929873461f88497b76bab4d1e6e78788', 'message': '[WIP] Grafana: adding the homepage\n\nGrafana v7.3 has ability to add the customized dashboard as homepage.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}, {'number': 4, 'created': '2021-02-19 17:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/45dbecc85979c678c93c89c5c6ed260f442e2cfd', 'message': '[WIP] Grafana: adding the homepage\n\nGrafana v7.3 has ability to add the customized dashboard as homepage.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}, {'number': 5, 'created': '2021-02-19 18:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a1f6c1496fc033e8eddeb6e6944585897ea469a9', 'message': '[WIP] Grafana: adding the homepage\n\nGrafana v7.3 has ability to add the customized dashboard as homepage.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}, {'number': 6, 'created': '2021-02-24 00:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db7b55645969348257bf1bf128909b7328b46854', 'message': '[Update] Grafana: Provision any dashboard as homepage\n\nGrafana v7.3 has ability to add the customized dashboard as homepage.\nThis removes the necessity to have explicit job to add a homepage.\n\nClean up the explicit add_home-dashboard job.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}, {'number': 7, 'created': '2021-02-24 15:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d56874c5125733c89557cf30d3fa4d1acc874b7d', 'message': '[Update] Grafana: Provision any dashboard as homepage\n\nGrafana v7.3 has ability to add the customized dashboard as homepage.\nThis removes the necessity to have explicit job to add a homepage.\n\nClean up the explicit add_home-dashboard job.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}, {'number': 8, 'created': '2021-02-24 15:28:17.000000000', 'files': ['grafana/values.yaml', 'grafana/templates/bin/_add-home-dashboard.sh.tpl', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/values_overrides/home_dashboard.yaml', 'grafana/templates/job-add-home-dashboard.yaml', 'grafana/values_overrides/apparmor.yaml', 'grafana/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5fb81b7f7e55b6626ccd7f96427a77b6e4cd805', 'message': '[Update] Grafana: Provision any dashboard as homepage\n\nGrafana v7.3 has ability to add the customized dashboard as homepage.\nThis removes the necessity to have explicit job to add a homepage.\n\nClean up the explicit add_home-dashboard job.\n\nChange-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee\n'}]",0,776672,d5fb81b7f7e55b6626ccd7f96427a77b6e4cd805,21,5,8,30582,,,0,"[Update] Grafana: Provision any dashboard as homepage

Grafana v7.3 has ability to add the customized dashboard as homepage.
This removes the necessity to have explicit job to add a homepage.

Clean up the explicit add_home-dashboard job.

Change-Id: I68baa7693f545e2d91dba01ae61b4bdae8a26bee
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/72/776672/5 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/Chart.yaml', 'grafana/values_overrides/home_dashboard.yaml']",3,e311d45b3af82e0d73fd67b540c32423dbd8482c,grafana-homepage, job_add_home_dashboard: false, job_add_home_dashboard: true,3,2
openstack%2Fopenstacksdk~master~I14f0f1ae5421fd0c53980c79d35f5ea2012ea320,openstack/openstacksdk,master,I14f0f1ae5421fd0c53980c79d35f5ea2012ea320,Fix a trivial error in one of the error messages,MERGED,2021-02-24 10:43:56.000000000,2021-02-24 22:25:10.000000000,2021-02-24 22:21:52.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 10:43:56.000000000', 'files': ['openstack/config/cloud_region.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c81c1f61a8d504d83478d64f959bd6171655a6a8', 'message': 'Fix a trivial error in one of the error messages\n\nSome text got inserted in the error message making it sound odd.\n\nSafe to backport.\n\nTrivialFix\n\nChange-Id: I14f0f1ae5421fd0c53980c79d35f5ea2012ea320\n'}]",0,777354,c81c1f61a8d504d83478d64f959bd6171655a6a8,8,3,1,30491,,,0,"Fix a trivial error in one of the error messages

Some text got inserted in the error message making it sound odd.

Safe to backport.

TrivialFix

Change-Id: I14f0f1ae5421fd0c53980c79d35f5ea2012ea320
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/54/777354/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/config/cloud_region.py'],1,c81c1f61a8d504d83478d64f959bd6171655a6a8,fix-trivial-error-in-error-message,," "" only supports a maximum of""",0,1
openstack%2Fplacement~master~I4fbab60f04f85d70c703385d7b43457045e3661d,openstack/placement,master,I4fbab60f04f85d70c703385d7b43457045e3661d,Update traits in tests and requirements,MERGED,2021-02-23 17:41:14.000000000,2021-02-24 22:25:03.000000000,2021-02-24 22:22:14.000000000,"[{'_account_id': 4393}, {'_account_id': 6962}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 17:41:14.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/f41599e1ada2dfc7900817b09b623422d9d1dbe9', 'message': 'Update traits in tests and requirements\n\nIn I0438e39a3c61253f781761a5aae895993f897adb,\nI333147dcd47c6d0b926338a5a0c545f5adc63961 , and\nIa4d1871b719037174506fb784b77572e63303762 six new\ntraits were added, and a new os-traits was released\ntriggering the canary test for updating constraints.\n\nChange-Id: I4fbab60f04f85d70c703385d7b43457045e3661d\n'}]",0,777174,f41599e1ada2dfc7900817b09b623422d9d1dbe9,10,7,1,11564,,,0,"Update traits in tests and requirements

In I0438e39a3c61253f781761a5aae895993f897adb,
I333147dcd47c6d0b926338a5a0c545f5adc63961 , and
Ia4d1871b719037174506fb784b77572e63303762 six new
traits were added, and a new os-traits was released
triggering the canary test for updating constraints.

Change-Id: I4fbab60f04f85d70c703385d7b43457045e3661d
",git fetch https://review.opendev.org/openstack/placement refs/changes/74/777174/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,f41599e1ada2dfc7900817b09b623422d9d1dbe9,fix-traits, $.traits.`len`: 291 # Number of standard traits, $.traits.`len`: 285 # Number of standard traits,3,3
openstack%2Fneutron~stable%2Fussuri~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,stable/ussuri,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,MERGED,2021-01-15 20:57:49.000000000,2021-02-24 22:24:42.000000000,2021-02-24 22:21:42.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-15 20:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3572d1b26044e6b51a0427716f6559985b612711', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 2, 'created': '2021-01-22 20:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4140c160810ae100a8219af103cabca730cb90c', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 3, 'created': '2021-01-22 20:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b167186828bc184f0ad98469594746cb7c0d8ca', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 4, 'created': '2021-02-19 21:56:50.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/backports.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ce3c8e1f12060d136a5d59d4e48f5a1603a5574', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch copies in the relevant code from newer ovsdbapp ond ovs\nto avoid bumping their required versions in a stable branch.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}]",1,770967,7ce3c8e1f12060d136a5d59d4e48f5a1603a5574,26,4,4,5756,,,0,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch copies in the relevant code from newer ovsdbapp ond ovs
to avoid bumping their required versions in a stable branch.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/770967/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'lower-constraints.txt']",3,3572d1b26044e6b51a0427716f6559985b612711,bug/1901527-stable/ussuri,"<<<<<<< HEAD (cc98ab Merge ""ovn: Always use UTC for Hash ring timestamps"" into st)======= ovs==2.10.0 ovsdbapp==1.6.0 packaging==20.4 >>>>>>> CHANGE (ab6d4a Avoid race condition when processing RowEvents)",,30,2
openstack%2Foslo.reports~stable%2Fstein~I0c50a5d70cd288cea3fe05a23dcb474cde176caa,openstack/oslo.reports,stable/stein,I0c50a5d70cd288cea3fe05a23dcb474cde176caa,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-24 10:23:00.000000000,2021-02-24 22:22:33.000000000,2021-02-24 22:20:15.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 10:23:00.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/9d74e73d107e06c0f38989f676c5a0b56b457d28', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I0c50a5d70cd288cea3fe05a23dcb474cde176caa\n(cherry picked from commit 53c69e7e6facda8ed61504dab97360f9e8a9b491)\n'}]",0,777352,9d74e73d107e06c0f38989f676c5a0b56b457d28,13,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I0c50a5d70cd288cea3fe05a23dcb474cde176caa
(cherry picked from commit 53c69e7e6facda8ed61504dab97360f9e8a9b491)
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/52/777352/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,9d74e73d107e06c0f38989f676c5a0b56b457d28,cap-bandit-1.6.2,flake8==2.6.0hacking==1.1.0,flake8==2.5.5hacking==0.12.0,5,4
openstack%2Fneutron-tempest-plugin~master~I3d41ab713eccac434e44d9c117a9846ba7ab5ed6,openstack/neutron-tempest-plugin,master,I3d41ab713eccac434e44d9c117a9846ba7ab5ed6,Delete qos policies created during scenario tests,MERGED,2021-02-19 11:39:57.000000000,2021-02-24 22:21:47.000000000,2021-02-24 22:21:47.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 29088}, {'_account_id': 29350}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-19 11:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fa5d6796a635861a59a8ab0f53f3f771e11605ee', 'message': 'Run l3_agent skip validation only with ml2/ovs setups\n\ntest_floatingip.FloatingIPQosTest.test_qos was wrongly skipped with\nml2/ovn setups\n\nqos policies created during scenario tests were not deleted\n\nChange-Id: I3d41ab713eccac434e44d9c117a9846ba7ab5ed6\n'}, {'number': 2, 'created': '2021-02-19 11:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/aad7b630a17f3374fb1b4ba81cf82327cb76b02c', 'message': 'Run fip-qos l3_agent skip validation only with ml2/ovs setups\n\ntest_floatingip.FloatingIPQosTest.test_qos was wrongly skipped with\nml2/ovn setups\n\nqos policies created during scenario tests were not deleted\n\nChange-Id: I3d41ab713eccac434e44d9c117a9846ba7ab5ed6\n'}, {'number': 3, 'created': '2021-02-19 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/047d5c98cda3416ddd483df9ab48f619adeab1a1', 'message': 'Run fip-qos l3_agent skip validation only with ml2/ovs setups\n\ntest_floatingip.FloatingIPQosTest.test_qos was wrongly skipped with\nml2/ovn setups\n\nqos policies created during scenario tests were not deleted\n\nChange-Id: I3d41ab713eccac434e44d9c117a9846ba7ab5ed6\n'}, {'number': 4, 'created': '2021-02-19 19:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/50044d663a292c92ab3dcb9317fa3d86ed11af81', 'message': 'Delete qos policies created during scenario tests\n\nChange-Id: I3d41ab713eccac434e44d9c117a9846ba7ab5ed6\n'}, {'number': 5, 'created': '2021-02-23 19:39:40.000000000', 'files': ['neutron_tempest_plugin/scenario/test_qos.py', 'neutron_tempest_plugin/scenario/test_floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/98772918ff84df919546e5e83be486bf3b6585f2', 'message': 'Delete qos policies created during scenario tests\n\nChange-Id: I3d41ab713eccac434e44d9c117a9846ba7ab5ed6\n'}]",0,776606,98772918ff84df919546e5e83be486bf3b6585f2,18,7,5,31291,,,0,"Delete qos policies created during scenario tests

Change-Id: I3d41ab713eccac434e44d9c117a9846ba7ab5ed6
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/06/776606/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/test_qos.py', 'neutron_tempest_plugin/scenario/test_floatingip.py']",2,fa5d6796a635861a59a8ab0f53f3f771e11605ee,," if not l3_agents: # the tests should not be skipped when neutron-l3-agent does not # exist (this validation only applied to ml2/ovs setups) return @classmethod def setup_clients(cls): super(FloatingIPQosTest, cls).setup_clients() cls.admin_client = cls.os_admin.network_client ",,15,0
openstack%2Fpython-swiftclient~master~I9c9672d4435054e888a80b7fce64bcaf55a1601b,openstack/python-swiftclient,master,I9c9672d4435054e888a80b7fce64bcaf55a1601b,Fix gate,ABANDONED,2021-01-07 23:23:00.000000000,2021-02-24 22:11:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 23:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3d92a882b0396705125ee1fa8a54a1b82d6151c5', 'message': 'Run lower-constraints jobs on bionic\n\n...so they can continue running py27.\n\nChange-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b\n'}, {'number': 2, 'created': '2021-01-08 23:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/1c5e1b7fe5bd3c398cb8e1174f3c45463f81bca4', 'message': ""Fix gate\n\n* Run lower-constraints jobs on bionic so they can continue running py27.\n* Have swiftclient-functional job use an explicit tox env so we aren't\n  relying on a match with swift.\n\nChange-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b\nRelated-Change: I459d6065a3e4290768c499e7973917f7cf4ce2e7\n""}, {'number': 3, 'created': '2021-01-09 00:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/b62c9d1feedfabc9a729d1722891600df8ef3d23', 'message': ""Fix gate\n\n* Run lower-constraints jobs on bionic so they can continue running py27.\n* Have swiftclient-functional job use an explicit tox env so we aren't\n  relying on a match with swift.\n\nChange-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b\nRelated-Change: I459d6065a3e4290768c499e7973917f7cf4ce2e7\n""}, {'number': 4, 'created': '2021-01-09 00:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/d969fe865fc35b44a2ea7f82d802735690745d08', 'message': ""Fix gate\n\n* Run lower-constraints jobs on bionic so they can continue running py27.\n* Have swiftclient-functional job use an explicit tox env so we aren't\n  relying on a match with swift.\n\nChange-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b\nRelated-Change: I459d6065a3e4290768c499e7973917f7cf4ce2e7\n""}, {'number': 5, 'created': '2021-01-09 00:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/edc568fd1a2555a7378b9fb63dd4a855575089e0', 'message': ""Fix gate\n\n* Run lower-constraints jobs on bionic so they can continue running py27.\n* Have swiftclient-functional job use an explicit tox env so we aren't\n  relying on a match with swift.\n\nChange-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b\nRelated-Change: I459d6065a3e4290768c499e7973917f7cf4ce2e7\n""}, {'number': 6, 'created': '2021-01-10 23:29:56.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/059026ba42e098c405bdd3f9738e0fc210d0ec39', 'message': ""Fix gate\n\n* Fix hacking pin for lower-constraints.\n* Have swiftclient-functional job use an explicit tox env so we aren't\n  relying on a match with swift.\n\nChange-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b\nRelated-Change: I459d6065a3e4290768c499e7973917f7cf4ce2e7\n""}]",0,769852,059026ba42e098c405bdd3f9738e0fc210d0ec39,11,1,6,15343,,,0,"Fix gate

* Fix hacking pin for lower-constraints.
* Have swiftclient-functional job use an explicit tox env so we aren't
  relying on a match with swift.

Change-Id: I9c9672d4435054e888a80b7fce64bcaf55a1601b
Related-Change: I459d6065a3e4290768c499e7973917f7cf4ce2e7
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/52/769852/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3d92a882b0396705125ee1fa8a54a1b82d6151c5,, - openstack-tox-lower-constraints: nodeset: openstack-single-node-bionic - openstack-tox-lower-constraints: nodeset: openstack-single-node-bionic,,4,0
openstack%2Fneutron~stable%2Fvictoria~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,stable/victoria,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,MERGED,2021-01-22 20:10:18.000000000,2021-02-24 22:04:24.000000000,2021-02-24 22:02:38.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11904}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-22 20:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fec6c41db4e1b5fc506009f6a8110cc2299d70f5', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 2, 'created': '2021-01-22 20:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eff13de020512ff3126aeba29a5249fe7864d1f5', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 3, 'created': '2021-01-26 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/894437f754d5006058f68cde3dfec7249566d471', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 4, 'created': '2021-02-22 15:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2124d3b6ed4ca376036730e6c0acd45d25fb4ba3', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the needed ovsdbapp changes for\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}, {'number': 5, 'created': '2021-02-22 15:12:45.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/backports.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aec9bc271e71950d9974145d1f0d22cc3caa481e', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch backports the needed ovsdbapp changes for\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)\n'}]",0,772098,aec9bc271e71950d9974145d1f0d22cc3caa481e,34,8,5,5756,,,0,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch backports the needed ovsdbapp changes for
RowEventHandler which converts the row to a frozen_row.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/772098/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'lower-constraints.txt']",3,fec6c41db4e1b5fc506009f6a8110cc2299d70f5,bug/1901527-stable/victoria,"<<<<<<< HEAD (0a0229 Merge ""Use consistent filter API syntax"" into stable/victori) ======= alabaster==0.7.10 alembic==0.9.6 amqp==2.5.0 appdirs==1.4.3 Babel==2.3.4 beautifulsoup4==4.6.0 cachetools==2.0.0 cryptography<3.3 cffi==1.13.2 cliff==2.8.0 cmd2==0.8.0 contextlib2==0.4.0 coverage==4.0 ddt==1.0.1 debtcollector==1.19.0 decorator==3.4.0 deprecation==1.0 doc8==0.6.0 docutils==0.11 dogpile.cache==0.6.5 dulwich==0.15.0 eventlet==0.22.1 extras==1.0.0 fasteners==0.7.0 fixtures==3.0.0 future==0.16.0 futurist==1.2.0 gitdb==0.6.4 GitPython==1.0.1 greenlet==0.4.14 httplib2==0.9.1 imagesize==0.7.1 iso8601==0.1.11 isort==4.3.21 Jinja2==2.10 jmespath==0.9.0 jsonpatch==1.16 jsonpointer==1.13 jsonschema==2.6.0 keystoneauth1==3.14.0 keystonemiddleware==5.1.0 kombu==4.6.1 linecache2==1.0.0 logilab-common==1.4.1 logutils==0.3.5 Mako==0.4.0 MarkupSafe==1.1.1 monotonic==0.6;python_version<'3.3' mox3==0.20.0 msgpack-python==0.4.0 munch==2.1.0 netaddr==0.7.18 netifaces==0.10.4 neutron-lib==2.6.1 openstacksdk==0.31.2 os-client-config==1.28.0 os-ken==0.3.0 os-service-types==1.7.0 os-vif==1.15.1 osc-lib==1.8.0 oslo.cache==1.26.0 oslo.concurrency==3.26.0 oslo.config==6.0.0 oslo.context==2.22.0 oslo.db==4.44.0 oslo.i18n==3.20.0 oslo.log==4.3.0 oslo.messaging==7.0.0 oslo.middleware==3.31.0 oslo.policy==3.6.0 oslo.privsep==2.3.0 oslo.reports==1.18.0 oslo.rootwrap==5.8.0 oslo.serialization==2.25.0 oslo.service==1.31.0 oslo.upgradecheck==0.1.0 oslo.utils==4.4.0 oslo.versionedobjects==1.35.1 oslotest==3.2.0 osprofiler==2.3.0 ovs==2.10.0 ovsdbapp==1.6.0 packaging==20.4 Paste==2.0.2 PasteDeploy==1.5.0 pbr==4.0.0 pecan==1.3.2 pika-pool==0.1.3 pika==0.10.0 positional==1.2.1 prettytable==0.7.2 psutil==5.3.0 pycadf==1.1.0 pycparser==2.18 Pygments==2.2.0 pyinotify==0.9.6 PyMySQL==0.7.6 pyOpenSSL==17.1.0 pyparsing==2.1.0 pyperclip==1.5.27 pyroute2==0.5.13 python-dateutil==2.7.0 python-designateclient==2.7.0 python-editor==1.0.3 python-keystoneclient==3.8.0 python-mimeparse==1.6.0 python-neutronclient==6.7.0 python-novaclient==9.1.0 python-subunit==1.0.0 pytz==2013.6 PyYAML==5.3.1 reno==3.1.0 repoze.lru==0.7 requests==2.14.2 requestsexceptions==1.2.0 rfc3986==0.3.1 Routes==2.3.1 simplejson==3.5.1 smmap==0.9.0 snowballstemmer==1.2.1 sqlalchemy-migrate==0.11.0 SQLAlchemy==1.2.0 sqlparse==0.2.2 statsd==3.2.1 stestr==1.0.0 stevedore==1.20.0 Tempita==0.5.2 tenacity==6.0.0 testrepository==0.0.18 testresources==2.0.0 testscenarios==0.4 testtools==2.2.0 tooz==1.58.0 tinyrpc==0.6 traceback2==1.4.0 vine==1.1.4 waitress==1.1.0 WebOb==1.8.2 WebTest==2.0.27 wmi==1.4.9 wrapt==1.12.0 >>>>>>> CHANGE (ab6d4a Avoid race condition when processing RowEvents) ",,153,3
openstack%2Fopenstack-helm-deployments~master~I5de2f4db1cb0f3b38feaefdeb28a074c250c943f,openstack/openstack-helm-deployments,master,I5de2f4db1cb0f3b38feaefdeb28a074c250c943f,Feature: Add Ranger-Agent to Deployments,ABANDONED,2020-11-27 21:16:58.000000000,2021-02-24 21:25:12.000000000,,"[{'_account_id': 20469}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28618}]","[{'number': 1, 'created': '2020-11-27 21:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/674eee6668b9e5dcb805bf93033241194d163a04', 'message': 'Add Ranger-Agent to Deployments\n\nEfforts to add ranger-agent to deployments\nto prepare for airship 2 shift\n\nChange-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f\n'}, {'number': 2, 'created': '2020-11-27 22:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/6fd07c12ebeb9d073541e66e9687cce41f116c80', 'message': 'Add Ranger-Agent to Deployments\n\nEfforts to add ranger-agent to deployments\nto prepare for airship 2 shift\n\nChange-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f\n'}, {'number': 3, 'created': '2020-12-01 18:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/6bcadda36f1b225c3717006ebb57528ca837cb91', 'message': 'Add Ranger-Agent to Deployments\n\nEfforts to add ranger-agent to deployments\nto prepare for airship 2 shift\n\nChange-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f\n'}, {'number': 4, 'created': '2020-12-02 20:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/cbc8b30846ece10f0bbf799d18e843f80d2c1f2b', 'message': 'Add Ranger-Agent to Deployments\n\nEfforts to add ranger-agent to deployments\nto prepare for airship 2 shift\n\nChange-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f\n'}, {'number': 5, 'created': '2020-12-07 22:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/c09d9303f1a60d5234bdc1e0a67fe59a99c2795c', 'message': 'Add Ranger-Agent to Deployments\n\nEfforts to add ranger-agent to deployments\nto prepare for airship 2 shift.\n\nChange-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f\n'}, {'number': 6, 'created': '2020-12-08 15:02:28.000000000', 'files': ['manifests/composite/openstack/kustomization.yaml', 'manifests/composite/openstack/replacements/kustomization.yaml', 'manifests/function/catalogues-openstack/versions-openstack.yaml', 'manifests/function/ranger-agent/replacements/kustomization.yaml', 'manifests/function/ranger-agent/helmrelease.yaml', 'manifests/function/ranger-agent/kustomization.yaml', 'manifests/function/ranger-agent/replacements/versions.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/b492d0a8d0ad38c49f54746fefeea8323ce69465', 'message': 'Feature: Add Ranger-Agent to Deployments\n\nEfforts to add ranger-agent to deployments\nto prepare for airship 2 shift. This function\nwill live in openstack namespace.\n\nChange-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f\n'}]",0,764492,b492d0a8d0ad38c49f54746fefeea8323ce69465,18,4,6,29585,,,0,"Feature: Add Ranger-Agent to Deployments

Efforts to add ranger-agent to deployments
to prepare for airship 2 shift. This function
will live in openstack namespace.

Change-Id: I5de2f4db1cb0f3b38feaefdeb28a074c250c943f
",git fetch https://review.opendev.org/openstack/openstack-helm-deployments refs/changes/92/764492/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/composite/openstack/kustomization.yaml', 'manifests/composite/openstack/replacements/kustomization.yaml', 'manifests/function/catalogues-openstack/versions-openstack.yaml', 'manifests/function/ranger-agent/helmrelease.yaml']",4,674eee6668b9e5dcb805bf93033241194d163a04,,apiVersion: helm.fluxcd.io/v1 kind: HelmRelease metadata: name: ranger-agent spec: wait: true timeout: 600 values: labels: api: node_selector_key: openstack-control-plane node_selector_value: enabled engine: node_selector_key: openstack-control-plane node_selector_value: enabled pod: replicas: api: 1 engine: 1 ,,38,0
openstack%2Fmanila-tempest-plugin~master~I103ccda367123bc2429d1d840c0201b01ac61b4d,openstack/manila-tempest-plugin,master,I103ccda367123bc2429d1d840c0201b01ac61b4d,"Add ""member"" role to admin project member users",MERGED,2021-02-24 00:06:52.000000000,2021-02-24 21:20:35.000000000,2021-02-24 21:20:35.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-02-24 00:06:52.000000000', 'files': ['manila_tempest_tests/tests/api/base.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/10d4949e9871e1d6653934944b1f49b7cade317e', 'message': 'Add ""member"" role to admin project member users\n\nIn some tests where we\'d like to test role based\naccess control, and specifically the impact of user\nroles (admin vs member vs reader), we create a user\non the fly and assign the necessary roles to this\nuser.\n\nRecently devstack stopped setting a tempest conf\noption that gave us a default role to assign to\nregular non-privileged ""member"" users. [1].\n\nThis made the tests that used such users fail\nwith ""401 Unauthenticated"" errors.\n\nSo we\'ll need to explicitly request this regular\nuser role (aka ""member"") even when not configured\nin tempest.conf.\n\n[1] https://review.opendev.org/774524\n\nChange-Id: I103ccda367123bc2429d1d840c0201b01ac61b4d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,777266,10d4949e9871e1d6653934944b1f49b7cade317e,20,6,1,16643,,,0,"Add ""member"" role to admin project member users

In some tests where we'd like to test role based
access control, and specifically the impact of user
roles (admin vs member vs reader), we create a user
on the fly and assign the necessary roles to this
user.

Recently devstack stopped setting a tempest conf
option that gave us a default role to assign to
regular non-privileged ""member"" users. [1].

This made the tests that used such users fail
with ""401 Unauthenticated"" errors.

So we'll need to explicitly request this regular
user role (aka ""member"") even when not configured
in tempest.conf.

[1] https://review.opendev.org/774524

Change-Id: I103ccda367123bc2429d1d840c0201b01ac61b4d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/66/777266/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/base.py'],1,10d4949e9871e1d6653934944b1f49b7cade317e,secure-rbac," cls.admin_project_member_client = cls.create_user_and_get_client( project=cls.admin_project, add_member_role=True) def create_user_and_get_client(cls, project=None, add_member_role=True): tempest_roles_to_assign = CONF.auth.tempest_roles or [] if ""member"" not in tempest_roles_to_assign and add_member_role: tempest_roles_to_assign.append(""member"") for role in tempest_roles_to_assign: cls.os_admin.creds_client.assign_user_role(user, project, role)"," cls.admin_project_member_client = cls.create_user_and_get_client() def create_user_and_get_client(cls, project=None): for conf_role in CONF.auth.tempest_roles: cls.os_admin.creds_client.assign_user_role( user, project, conf_role)",9,5
openstack%2Fopenstack-ansible-os_zun~master~If350c513f3ff854544afb67236472a23c91c9c69,openstack/openstack-ansible-os_zun,master,If350c513f3ff854544afb67236472a23c91c9c69,Reinstate voting for upgrade jobs,MERGED,2021-02-15 10:01:36.000000000,2021-02-24 21:00:45.000000000,2021-02-24 20:55:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-02-15 10:01:36.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f7fcc60a7e5af8099cc1c33fa35711184e0d4420', 'message': 'Reinstate voting for upgrade jobs\n\nChange-Id: If350c513f3ff854544afb67236472a23c91c9c69\n'}]",0,775563,f7fcc60a7e5af8099cc1c33fa35711184e0d4420,16,3,1,31542,,,0,"Reinstate voting for upgrade jobs

Change-Id: If350c513f3ff854544afb67236472a23c91c9c69
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/63/775563/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f7fcc60a7e5af8099cc1c33fa35711184e0d4420,,, check: jobs: - openstack-ansible-upgrade-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-upgrade-aio_metal-ubuntu-focal: voting: false,0,8
openstack%2Fheat~master~I6e2dc03cdc71e683684860e58e51da743db0b317,openstack/heat,master,I6e2dc03cdc71e683684860e58e51da743db0b317,Replace Designate v1 resources with v2,NEW,2018-02-19 17:06:15.000000000,2021-02-24 20:58:22.000000000,,"[{'_account_id': 4257}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27838}]","[{'number': 1, 'created': '2018-02-19 17:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b3e3af494711dc0ccddb7434a6cdc34d538e70b3', 'message': 'Switch designate client to API v2 by default\n\nDesignate V1 API was removed in Queens release.\nThis patch changes the default API version in designate\nclient plugin to V2 and modifies some other calls accordingly.\n\nChange-Id: I6e2dc03cdc71e683684860e58e51da743db0b317\n'}, {'number': 2, 'created': '2018-02-20 16:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/82cc6638e95395533faae8ccdef1bffbb93112c9', 'message': 'Switch designate client to API v2 by default\n\nDesignate V1 API was removed in Queens release.\nThis patch changes the default API version in designate\nclient plugin to V2 and modifies some other calls accordingly.\n\nChange-Id: I6e2dc03cdc71e683684860e58e51da743db0b317\n'}, {'number': 3, 'created': '2018-02-23 11:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3356ba980756ae26867335f14fd9db0c8c49df14', 'message': 'Switch designate client to API v2 by default\n\nDesignate V1 API was removed in Queens release.\nThis patch changes the default API version in designate\nclient plugin to V2 and modifies some other calls accordingly.\n\nChange-Id: I6e2dc03cdc71e683684860e58e51da743db0b317\n'}, {'number': 4, 'created': '2018-03-07 14:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/424a110fa7cd85a81d4b7ba811783c757ed801c2', 'message': 'Replace Designate v1 resources with v2\n\nas Designate V1 was removed, we re-implement\nDesignate Domain and Record resources using V2 entities\nvia default environment for the transition period.\n\nThis should still allow at least deleting stacks containing\nDesignate V1 resources after upgrade when Designate V1 API is\nno longer available.\n\nChange-Id: I6e2dc03cdc71e683684860e58e51da743db0b317\n'}, {'number': 5, 'created': '2018-03-09 10:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/57dc9b94c4722cfbebbca6da6d05343cc4608b1d', 'message': 'Replace Designate v1 resources with v2\n\nas Designate V1 was removed, we re-implement\nDesignate Domain and Record resources using V2 entities\nvia default environment for the transition period.\n\nThis should still allow at least deleting stacks containing\nDesignate V1 resources after upgrade when Designate V1 API is\nno longer available.\n\nChange-Id: I6e2dc03cdc71e683684860e58e51da743db0b317\n'}, {'number': 6, 'created': '2018-03-09 12:55:20.000000000', 'files': ['heat/engine/resources/openstack/designate/record.py', 'heat/tests/common.py', 'etc/heat/templates/OS_Designate_Domain.yaml', 'heat/engine/clients/os/designate.py', 'heat/tests/clients/test_designate_client.py', 'heat/tests/openstack/designate/test_domain.py', 'etc/heat/environment.d/default.yaml', 'heat/tests/openstack/designate/test_record.py', 'etc/heat/templates/OS_Designate_Record.yaml', 'heat/tests/test_resource.py', 'heat/engine/resources/openstack/designate/domain.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ac5443e18ced56bacbf1d33f8bbfc575ddc3ab1c', 'message': 'Replace Designate v1 resources with v2\n\nas Designate V1 was removed, we re-implement\nDesignate Domain and Record resources using V2 entities\nvia default environment for the transition period.\n\nThis should still allow at least deleting stacks containing\nDesignate V1 resources after upgrade when Designate V1 API is\nno longer available.\n\nChange-Id: I6e2dc03cdc71e683684860e58e51da743db0b317\nCloses-Bug: #1754653\n'}]",4,545885,ac5443e18ced56bacbf1d33f8bbfc575ddc3ab1c,20,4,6,27838,,,0,"Replace Designate v1 resources with v2

as Designate V1 was removed, we re-implement
Designate Domain and Record resources using V2 entities
via default environment for the transition period.

This should still allow at least deleting stacks containing
Designate V1 resources after upgrade when Designate V1 API is
no longer available.

Change-Id: I6e2dc03cdc71e683684860e58e51da743db0b317
Closes-Bug: #1754653
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/545885/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/designate.py', 'heat/tests/clients/test_designate_client.py', 'heat/tests/openstack/designate/test_record.py']",3,b3e3af494711dc0ccddb7434a6cdc34d538e70b3,, # Mock client and client plugin test_resource.client_plugin = mock.MagicMock( return_value=self.test_client_plugin) test_resource.client = mock.MagicMock( return_value=self.test_client) self.test_client_plugin.record_show.return_value = {, test_resource.client_plugin().get_domain_id = mock.MagicMock() test_resource.client_plugin().get_domain_id.return_value = '1234567' test_resource.client().records = mock.MagicMock() test_resource.client().records.get.return_value = {,27,20
openstack%2Fpuppet-neutron~master~I1c0d079226e5a1fdbc08954a0c6535dc1320a05c,openstack/puppet-neutron,master,I1c0d079226e5a1fdbc08954a0c6535dc1320a05c,Allow setting default rbac_policy quota,MERGED,2021-02-11 04:18:37.000000000,2021-02-24 20:27:06.000000000,2021-02-24 20:25:35.000000000,"[{'_account_id': 3031}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 04:18:37.000000000', 'files': ['spec/classes/neutron_quota_spec.rb', 'manifests/quota.pp', 'releasenotes/notes/add-quota-rbac-policy-option-1ea2a3c7d2ca32eb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8b0ded956342ab38264c12ee9f6270036dc56a6c', 'message': 'Allow setting default rbac_policy quota\n\nChange-Id: I1c0d079226e5a1fdbc08954a0c6535dc1320a05c\n'}]",1,775064,8b0ded956342ab38264c12ee9f6270036dc56a6c,19,4,1,25635,,,0,"Allow setting default rbac_policy quota

Change-Id: I1c0d079226e5a1fdbc08954a0c6535dc1320a05c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/64/775064/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_quota_spec.rb', 'manifests/quota.pp', 'releasenotes/notes/add-quota-rbac-policy-option-1ea2a3c7d2ca32eb.yaml']",3,8b0ded956342ab38264c12ee9f6270036dc56a6c,rbac_policy,--- features: - Adds ability to set rbac_policy quota ,,13,1
openstack%2Ftripleo-validations~master~I1046148da87712934184373a10fa3d2a46e620e4,openstack/tripleo-validations,master,I1046148da87712934184373a10fa3d2a46e620e4,Replace exception with LOG.info,MERGED,2021-02-23 20:35:19.000000000,2021-02-24 20:22:42.000000000,2021-02-24 20:22:42.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-02-23 20:35:19.000000000', 'files': ['tripleo_validations/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cae7d151adbbdd5c26a088acdee0e5ff1e45832b', 'message': 'Replace exception with LOG.info\n\nUpdated _run_validator_run to no longer raise an execption if/when a group is empty\n\nUsing a log vs. exception is useful when we want to run an automated set of validations\nwithin our Update CI pipeline.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nChange-Id: I1046148da87712934184373a10fa3d2a46e620e4\n'}]",0,777220,cae7d151adbbdd5c26a088acdee0e5ff1e45832b,8,6,1,32432,,,0,"Replace exception with LOG.info

Updated _run_validator_run to no longer raise an execption if/when a group is empty

Using a log vs. exception is useful when we want to run an automated set of validations
within our Update CI pipeline.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I1046148da87712934184373a10fa3d2a46e620e4
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/777220/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tripleo_validator.py'],1,cae7d151adbbdd5c26a088acdee0e5ff1e45832b,change_error_to_log, LOG.info(_(msg)), raise exceptions.CommandError(msg),1,1
openstack%2Fnova~master~I206109fdfdacf5eb67bd31338201548e429084ac,openstack/nova,master,I206109fdfdacf5eb67bd31338201548e429084ac,libvirt: Rationalize attachment of USB tablet,MERGED,2020-10-07 16:09:44.000000000,2021-02-24 20:19:30.000000000,2021-02-24 20:17:12.000000000,"[{'_account_id': 6962}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-07 16:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff7f7d6dbbf68cc264767f68fc5a8dacc08cdef6', 'message': 'libvirt: Rationalize attachment of USB tablet\n\nCurrently, nova will decide whether to attach a USB tablet device based\non the below criteria:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | **Warning**         |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | **Exception**       |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | **Warning**         |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | **Warning**         |\n  +-----------+-----------+-------------------+---------------------+\n\n (*) SPICE Enabled *and* agent disabled; if agent is enabled, it behaves\n     like SPICE is disabled.\n\n(**) Note that there\'s an additional dimension missing here which is\n     based on the \'os_type\' of the instance, but that behaves exactly\n     the same as the the VNC/SPICE enabled, only it\'s checking if the\n     \'HVM\' type is ""enabled"" or not.\n\nThis behavior is unusual - if the image metadata property supersedes the\nhost configuration, then why should we see different behavior based on\nthe host configuration when the image is requesting a pointer model but\nno graphics are enabled?\n\nWith this change, we rationalize this matrix. Instead of having this\nfunky split, we completely ignore the request if a graphical console is\nnot enabled on the host. Or, in graphical terms:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | No device           |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | No device           |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | No device           |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | No device           |\n  +-----------+-----------+-------------------+---------------------+\n\nThis will set us up quite nicely for a future \'hw_input_bus\' image\nmetadata property, which would allow us to choose between tablet and\nmouse independently of bus.\n\nChange-Id: I206109fdfdacf5eb67bd31338201548e429084ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-10-08 09:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a5f862db8f3e1c9eb9d4ce04baeebd8bed90c0c', 'message': 'libvirt: Rationalize attachment of USB tablet\n\nCurrently, nova will decide whether to attach a USB tablet device based\non the below criteria:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | **Warning**         |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | **Exception**       |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | **Warning**         |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | **Warning**         |\n  +-----------+-----------+-------------------+---------------------+\n\n (*) SPICE Enabled *and* agent disabled; if agent is enabled, it behaves\n     like SPICE is disabled.\n\n(**) Note that there\'s an additional dimension missing here which is\n     based on the \'os_type\' of the instance, but that behaves exactly\n     the same as the the VNC/SPICE enabled, only it\'s checking if the\n     \'HVM\' type is ""enabled"" or not.\n\nThis behavior is unusual - if the image metadata property supersedes the\nhost configuration, then why should we see different behavior based on\nthe host configuration when the image is requesting a pointer model but\nno graphics are enabled?\n\nWith this change, we rationalize this matrix. Instead of having this\nfunky split, we completely ignore the request if a graphical console is\nnot enabled on the host. Or, in graphical terms:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | No device           |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | No device           |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | No device           |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | No device           |\n  +-----------+-----------+-------------------+---------------------+\n\nThis will set us up quite nicely for a future \'hw_input_bus\' image\nmetadata property, which would allow us to choose between tablet and\nmouse independently of bus.\n\nChange-Id: I206109fdfdacf5eb67bd31338201548e429084ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-10-09 15:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64ba419a4c2fca671ba94adea0e8eca35c83d808', 'message': 'libvirt: Rationalize attachment of USB tablet\n\nCurrently, nova will decide whether to attach a USB tablet device based\non the below criteria:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | **Warning**         |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | **Exception**       |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | **Warning**         |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | **Warning**         |\n  +-----------+-----------+-------------------+---------------------+\n\n (*) SPICE Enabled *and* agent disabled; if agent is enabled, it behaves\n     like SPICE is disabled.\n\n(**) Note that there\'s an additional dimension missing here which is\n     based on the \'os_type\' of the instance, but that behaves exactly\n     the same as the the VNC/SPICE enabled, only it\'s checking if the\n     \'HVM\' type is ""enabled"" or not.\n\nThis behavior is unusual - if the image metadata property supersedes the\nhost configuration, then why should we see different behavior based on\nthe host configuration when the image is requesting a pointer model but\nno graphics are enabled?\n\nWith this change, we rationalize this matrix. Instead of having this\nfunky split, we completely ignore the request if a graphical console is\nnot enabled on the host. Or, in graphical terms:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | No device           |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | No device           |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | No device           |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | No device           |\n  +-----------+-----------+-------------------+---------------------+\n\nThis will set us up quite nicely for a future \'hw_input_bus\' image\nmetadata property, which would allow us to choose between tablet and\nmouse independently of bus.\n\nChange-Id: I206109fdfdacf5eb67bd31338201548e429084ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-01-27 15:52:44.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5beec0feabd18bc070b783f8226423fdb8548445', 'message': 'libvirt: Rationalize attachment of USB tablet\n\nCurrently, nova will decide whether to attach a USB tablet device based\non the below criteria:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | **Warning**         |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | **Exception**       |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | **Warning**         |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | **Warning**         |\n  +-----------+-----------+-------------------+---------------------+\n\n (*) SPICE Enabled *and* agent disabled; if agent is enabled, it behaves\n     like SPICE is disabled.\n\n(**) Note that there\'s an additional dimension missing here which is\n     based on the \'os_type\' of the instance, but that behaves exactly\n     the same as the the VNC/SPICE enabled, only it\'s checking if the\n     \'HVM\' type is ""enabled"" or not.\n\nThis behavior is unusual - if the image metadata property supersedes the\nhost configuration, then why should we see different behavior based on\nthe host configuration when the image is requesting a pointer model but\nno graphics are enabled?\n\nWith this change, we rationalize this matrix. Instead of having this\nfunky split, we completely ignore the request if a graphical console is\nnot enabled on the host. Or, in graphical terms:\n\n  +-----------+-----------+-------------------+---------------------+\n  | Image     | nova.conf | VNC/Spice Enabled | Result              |\n  +-----------+-----------+-------------------+---------------------+\n  | <unset>   | <unset>   | Yes               | No device           |\n  | <unset>   | <unset>   | No                | No device           |\n  | <unset>   | usbtablet | Yes               | USB tablet attached |\n  | <unset>   | usbtablet | No                | No device           |\n  | <unset>   | ps2mouse  | Yes               | No device           |\n  | <unset>   | ps2mouse  | No                | No device           |\n  | usbtablet | <unset>   | Yes               | USB tablet attached |\n  | usbtablet | <unset>   | No                | No device           |\n  | usbtablet | usbtablet | Yes               | USB tablet attached |\n  | usbtablet | usbtablet | No                | No device           |\n  | usbtablet | ps2mouse  | Yes               | USB tablet attached |\n  | usbtablet | ps2mouse  | No                | No device           |\n  +-----------+-----------+-------------------+---------------------+\n\nThis will set us up quite nicely for a future \'hw_input_bus\' image\nmetadata property, which would allow us to choose between tablet and\nmouse independently of bus.\n\nChange-Id: I206109fdfdacf5eb67bd31338201548e429084ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,756551,5beec0feabd18bc070b783f8226423fdb8548445,34,10,4,15334,,,0,"libvirt: Rationalize attachment of USB tablet

Currently, nova will decide whether to attach a USB tablet device based
on the below criteria:

  +-----------+-----------+-------------------+---------------------+
  | Image     | nova.conf | VNC/Spice Enabled | Result              |
  +-----------+-----------+-------------------+---------------------+
  | <unset>   | <unset>   | Yes               | No device           |
  | <unset>   | <unset>   | No                | No device           |
  | <unset>   | usbtablet | Yes               | USB tablet attached |
  | <unset>   | usbtablet | No                | **Warning**         |
  | <unset>   | ps2mouse  | Yes               | No device           |
  | <unset>   | ps2mouse  | No                | No device           |
  | usbtablet | <unset>   | Yes               | USB tablet attached |
  | usbtablet | <unset>   | No                | **Exception**       |
  | usbtablet | usbtablet | Yes               | USB tablet attached |
  | usbtablet | usbtablet | No                | **Warning**         |
  | usbtablet | ps2mouse  | Yes               | USB tablet attached |
  | usbtablet | ps2mouse  | No                | **Warning**         |
  +-----------+-----------+-------------------+---------------------+

 (*) SPICE Enabled *and* agent disabled; if agent is enabled, it behaves
     like SPICE is disabled.

(**) Note that there's an additional dimension missing here which is
     based on the 'os_type' of the instance, but that behaves exactly
     the same as the the VNC/SPICE enabled, only it's checking if the
     'HVM' type is ""enabled"" or not.

This behavior is unusual - if the image metadata property supersedes the
host configuration, then why should we see different behavior based on
the host configuration when the image is requesting a pointer model but
no graphics are enabled?

With this change, we rationalize this matrix. Instead of having this
funky split, we completely ignore the request if a graphical console is
not enabled on the host. Or, in graphical terms:

  +-----------+-----------+-------------------+---------------------+
  | Image     | nova.conf | VNC/Spice Enabled | Result              |
  +-----------+-----------+-------------------+---------------------+
  | <unset>   | <unset>   | Yes               | No device           |
  | <unset>   | <unset>   | No                | No device           |
  | <unset>   | usbtablet | Yes               | USB tablet attached |
  | <unset>   | usbtablet | No                | No device           |
  | <unset>   | ps2mouse  | Yes               | No device           |
  | <unset>   | ps2mouse  | No                | No device           |
  | usbtablet | <unset>   | Yes               | USB tablet attached |
  | usbtablet | <unset>   | No                | No device           |
  | usbtablet | usbtablet | Yes               | USB tablet attached |
  | usbtablet | usbtablet | No                | No device           |
  | usbtablet | ps2mouse  | Yes               | USB tablet attached |
  | usbtablet | ps2mouse  | No                | No device           |
  +-----------+-----------+-------------------+---------------------+

This will set us up quite nicely for a future 'hw_input_bus' image
metadata property, which would allow us to choose between tablet and
mouse independently of bus.

Change-Id: I206109fdfdacf5eb67bd31338201548e429084ac
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/756551/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,ff7f7d6dbbf68cc264767f68fc5a8dacc08cdef6,bp/smarter-usb-devices," def _test_guest_add_pointer_device(self, image_meta): guest = vconfig.LibvirtConfigGuest() guest.os_type = fields.VMMode.HVM return drvr._guest_add_pointer_device(guest, image_meta) def test_guest_add_pointer_device(self): """"""Check behavior with host-only configuration. Mismatches between the host-level configuration and other attributes should never result in an exception but rather no device additions. """""" self.flags(enabled=True, agent_enabled=False, group='spice') image_meta = {'properties': {}} self.flags(pointer_model=None) dev = self._test_guest_add_pointer_device(image_meta) self.assertIsNone(dev) dev = self._test_guest_add_pointer_device(image_meta) self.assertIsNone(dev) dev = self._test_guest_add_pointer_device(image_meta) self.assertIsNotNone(dev) image_meta = {'properties': {'hw_pointer_model': 'usbtablet'}} dev = self._test_guest_add_pointer_device(image_meta) self.assertIsNotNone(dev) self.flags(pointer_model='ps2mouse') dev = self._test_guest_add_pointer_device(image_meta) self.assertIsNotNone(dev) dev = self._test_guest_add_pointer_device(image_meta) self.assertIsNotNone(dev) @mock.patch.object(libvirt_driver.LOG, 'warning') def test_guest_add_pointer_device__fail_with_spice_agent(self, mock_warn): self.flags(enabled=True, agent_enabled=True, group='spice') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) guest = vconfig.LibvirtConfigGuest() guest.os_type = fields.VMMode.HVM image_meta = objects.ImageMeta.from_dict( {'properties': {'hw_pointer_model': 'usbtablet'}}) dev = drvr._guest_add_pointer_device(guest, image_meta) self.assertIsNone(dev) mock_warn.assert_called_once() self.assertIn( 'USB tablet requested for guests but the SPICE agent is enabled', str(mock_warn.call_args[0]), ) @mock.patch.object(libvirt_driver.LOG, 'warning') def test_guest_add_pointer_device__fail_with_non_hvm(self, mock_warn): self.flags(enabled=True, agent_enabled=False, group='spice') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) guest = vconfig.LibvirtConfigGuest() guest.os_type = fields.VMMode.XEN image_meta = objects.ImageMeta.from_dict( {'properties': {'hw_pointer_model': 'usbtablet'}}) dev = drvr._guest_add_pointer_device(guest, image_meta) self.assertIsNone(dev) mock_warn.assert_called_once() self.assertIn( 'USB tablet requested for guests on non-HVM host', str(mock_warn.call_args[0]), )"," def _test_get_guest_usb_tablet(self, vnc_enabled, spice_enabled, os_type, agent_enabled=False, image_meta=None): self.flags(enabled=vnc_enabled, group='vnc') self.flags(enabled=spice_enabled, agent_enabled=agent_enabled, group='spice') return drvr._get_guest_pointer_model(os_type, image_meta) def test_use_ps2_mouse(self): tablet = self._test_get_guest_usb_tablet( True, True, fields.VMMode.HVM) self.assertIsNone(tablet) def test_get_guest_usb_tablet_wipe(self): tablet = self._test_get_guest_usb_tablet( True, True, fields.VMMode.HVM) self.assertIsNotNone(tablet) tablet = self._test_get_guest_usb_tablet( True, False, fields.VMMode.HVM) self.assertIsNotNone(tablet) tablet = self._test_get_guest_usb_tablet( False, True, fields.VMMode.HVM) self.assertIsNotNone(tablet) tablet = self._test_get_guest_usb_tablet( False, False, fields.VMMode.HVM) self.assertIsNone(tablet) tablet = self._test_get_guest_usb_tablet( True, True, ""foo"") self.assertIsNone(tablet) tablet = self._test_get_guest_usb_tablet( False, True, fields.VMMode.HVM, True) self.assertIsNone(tablet) def test_get_guest_usb_tablet_image_meta(self): self.flags(pointer_model='usbtablet') image_meta = {""properties"": {""hw_pointer_model"": ""usbtablet""}} tablet = self._test_get_guest_usb_tablet( True, True, fields.VMMode.HVM, image_meta=image_meta) self.assertIsNotNone(tablet) tablet = self._test_get_guest_usb_tablet( True, False, fields.VMMode.HVM, image_meta=image_meta) self.assertIsNotNone(tablet) tablet = self._test_get_guest_usb_tablet( False, True, fields.VMMode.HVM, image_meta=image_meta) self.assertIsNotNone(tablet) tablet = self._test_get_guest_usb_tablet( False, False, fields.VMMode.HVM, image_meta=image_meta) self.assertIsNone(tablet) tablet = self._test_get_guest_usb_tablet( True, True, ""foo"", image_meta=image_meta) self.assertIsNone(tablet) tablet = self._test_get_guest_usb_tablet( False, True, fields.VMMode.HVM, True, image_meta=image_meta) self.assertIsNone(tablet) def test_get_guest_usb_tablet_image_meta_no_vnc(self): image_meta = {""properties"": {""hw_pointer_model"": ""usbtablet""}} self.assertRaises( exception.UnsupportedPointerModelRequested, self._test_get_guest_usb_tablet, False, False, fields.VMMode.HVM, True, image_meta=image_meta) def test_get_guest_pointer_model_usb_tablet(self): tablet = self._test_get_guest_usb_tablet(True, True, fields.VMMode.HVM) self.assertIsNotNone(tablet) def test_get_guest_pointer_model_usb_tablet_image(self): image_meta = {""properties"": {""hw_pointer_model"": ""usbtablet""}} tablet = self._test_get_guest_usb_tablet( True, True, fields.VMMode.HVM, image_meta=image_meta) self.assertIsNotNone(tablet) def test_get_guest_pointer_model_usb_tablet_image_no_HVM(self): self.flags(pointer_model=None) image_meta = {""properties"": {""hw_pointer_model"": ""usbtablet""}} self.assertRaises( exception.UnsupportedPointerModelRequested, self._test_get_guest_usb_tablet, True, True, fields.VMMode.XEN, image_meta=image_meta)",98,135
openstack%2Fovn-octavia-provider~master~I0782eaabb270e25cf1873d85ddfcb04d500caded,openstack/ovn-octavia-provider,master,I0782eaabb270e25cf1873d85ddfcb04d500caded,DNM: testing octavia-tempest-plugin change,ABANDONED,2020-07-23 19:39:00.000000000,2021-02-24 20:11:19.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 19:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9598425ae480973d575f6bb4dc9aea526db8c436', 'message': 'DNM: testing octavia-tempest-plugin change\n\nDepends-on: https://review.opendev.org/742027\n\nChange-Id: I0782eaabb270e25cf1873d85ddfcb04d500caded\n'}, {'number': 2, 'created': '2020-07-23 20:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f3e4c6b3adea87ea8bf448fa52f2a677d9596ab7', 'message': 'DNM: testing octavia-tempest-plugin change\n\nDepends-on: https://review.opendev.org/742027\n\nChange-Id: I0782eaabb270e25cf1873d85ddfcb04d500caded\n'}, {'number': 3, 'created': '2020-07-24 01:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3cadbe23221d2abeaee10461ee71877eda12af8c', 'message': 'DNM: testing octavia-tempest-plugin change\n\nDepends-on: https://review.opendev.org/742728\n\nChange-Id: I0782eaabb270e25cf1873d85ddfcb04d500caded\n'}, {'number': 4, 'created': '2020-09-17 20:10:45.000000000', 'files': ['ovn_octavia_provider/agent.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/17a52d3ffa6ea4a6738ef71d2c8f04bf026e299c', 'message': 'DNM: testing octavia-tempest-plugin change\n\nDepends-on: https://review.opendev.org/742728\n\nChange-Id: I0782eaabb270e25cf1873d85ddfcb04d500caded\n'}]",0,742730,17a52d3ffa6ea4a6738ef71d2c8f04bf026e299c,13,2,4,1131,,,0,"DNM: testing octavia-tempest-plugin change

Depends-on: https://review.opendev.org/742728

Change-Id: I0782eaabb270e25cf1873d85ddfcb04d500caded
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/30/742730/4 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/agent.py'],1,9598425ae480973d575f6bb4dc9aea526db8c436,otp-test,# TEST,,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I1cf105ec93ab8bb60b548349a0d12db846e0b532,openstack/networking-ovn,stable/train,I1cf105ec93ab8bb60b548349a0d12db846e0b532,[OVN] ovn-metadata-agent: Retry registering Chassis at startup,MERGED,2021-02-16 15:45:08.000000000,2021-02-24 20:04:50.000000000,2021-02-24 20:02:27.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 15:45:08.000000000', 'files': ['networking_ovn/agent/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/28fe6735517a32c6b4d6e73b95ad752ed172d9d3', 'message': '[OVN] ovn-metadata-agent: Retry registering Chassis at startup\n\nThis patch adds a retry mechanism on the register_metadata_agent()\nmethod from the OVN metadata agent to make it more tolerable to the\nstart up order of the services.\n\n(cherry picked from  Neutron commit 9c236db3bf18854aef5a29a37dd83bff8bda2f7d)\n\nCloses-Bug: #1905700\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I1cf105ec93ab8bb60b548349a0d12db846e0b532\n'}]",0,775864,28fe6735517a32c6b4d6e73b95ad752ed172d9d3,16,4,1,6773,,,0,"[OVN] ovn-metadata-agent: Retry registering Chassis at startup

This patch adds a retry mechanism on the register_metadata_agent()
method from the OVN metadata agent to make it more tolerable to the
start up order of the services.

(cherry picked from  Neutron commit 9c236db3bf18854aef5a29a37dd83bff8bda2f7d)

Closes-Bug: #1905700
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I1cf105ec93ab8bb60b548349a0d12db846e0b532
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/64/775864/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/agent.py'],1,28fe6735517a32c6b4d6e73b95ad752ed172d9d3,,"import tenacity @tenacity.retry( wait=tenacity.wait_exponential( max=config.get_ovn_ovsdb_retry_max_interval()), reraise=True)",,5,0
openstack%2Ftripleo-operator-ansible~master~I3fa2f91c973cb14980b82a5c89d8082dad2c30d5,openstack/tripleo-operator-ansible,master,I3fa2f91c973cb14980b82a5c89d8082dad2c30d5,add role to show tripleo validation parameter,MERGED,2021-02-11 13:57:08.000000000,2021-02-24 19:46:06.000000000,2021-02-24 19:46:06.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 13:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/82de4f7a3b6b03b15650b7b7c58f5764c611538a', 'message': 'add role to show tripleo validation parameter\n\nWith this patch, validator show parameter can be used by operators in automation.\n\nChange-Id: I3fa2f91c973cb14980b82a5c89d8082dad2c30d5\n'}, {'number': 2, 'created': '2021-02-11 14:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/e67e89ee4f948501d3cd4738f85c20784e8cc3d3', 'message': 'add role to show tripleo validation parameter\n\nWith this patch, validator show parameter can be used by operators in automation.\n\nChange-Id: I3fa2f91c973cb14980b82a5c89d8082dad2c30d5\n'}, {'number': 3, 'created': '2021-02-12 12:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/33abc449eaecbf4594bbee3d0381cef23d8816e4', 'message': 'add role to show tripleo validation parameter\n\nWith this patch, validator show parameter can be used by operators in automation.\n\nChange-Id: I3fa2f91c973cb14980b82a5c89d8082dad2c30d5\n'}, {'number': 4, 'created': '2021-02-23 15:16:50.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/tripleo_validator_show_parameter/tasks/main.yml', 'roles/tripleo_validator_show_parameter/README.md', 'roles/tripleo_validator_show_parameter/molecule/default/molecule.yml', 'roles/tripleo_validator_show_parameter/defaults/main.yml', 'roles/tripleo_validator_show_parameter/meta/main.yml', 'roles/tripleo_validator_show_parameter/molecule/default/converge.yml', 'roles/tripleo_validator_show_parameter/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/88ec4eb661a1a840361f4e2156173f9ced32b5e1', 'message': 'add role to show tripleo validation parameter\n\nWith this patch, validator show parameter can be used by operators in automation.\n\nChange-Id: I3fa2f91c973cb14980b82a5c89d8082dad2c30d5\n'}]",5,775156,88ec4eb661a1a840361f4e2156173f9ced32b5e1,15,4,4,27427,,,0,"add role to show tripleo validation parameter

With this patch, validator show parameter can be used by operators in automation.

Change-Id: I3fa2f91c973cb14980b82a5c89d8082dad2c30d5
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/56/775156/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validator_show_parameter/tasks/main.yml', 'roles/tripleo_validator_show_parameter/README.md', 'roles/tripleo_validator_show_parameter/molecule/default/molecule.yml', 'roles/tripleo_validator_show_parameter/defaults/main.yml', 'roles/tripleo_validator_show_parameter/meta/main.yml', 'roles/tripleo_validator_show_parameter/molecule/default/converge.yml', 'roles/tripleo_validator_show_parameter/molecule/default/prepare.yml']",7,82de4f7a3b6b03b15650b7b7c58f5764c611538a,add-role-validator-show-parameter,--- - name: Prepare hosts: all tasks: - name: Include molecule prep include_role: name: test_molecule_prep ,,175,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I7031064b752450bacbb7775c0e357b98210a8929,openstack/tripleo-heat-templates,stable/victoria,I7031064b752450bacbb7775c0e357b98210a8929,Stop barbican servics in unupgraded controllers,MERGED,2021-02-21 05:58:38.000000000,2021-02-24 19:15:16.000000000,2021-02-24 19:15:16.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-21 05:58:38.000000000', 'files': ['deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c996c85caea5ac098c6d57066c144adb05354c49', 'message': 'Stop barbican servics in unupgraded controllers\n\nThis change makes barbican services on unupgrade controller nodes get\nstopped, because all services in the unupgrade controllers should be\nstopped before we start the upgraded controller[1].\n\n[1] 8529ce60da84d2aa1e1c9e6994303678261b09da\n\nChange-Id: I7031064b752450bacbb7775c0e357b98210a8929\n(cherry picked from commit 6f140b93be8349eddb7e6cd86116ab1b3f34140a)\n'}]",0,776624,c996c85caea5ac098c6d57066c144adb05354c49,8,4,1,9816,,,0,"Stop barbican servics in unupgraded controllers

This change makes barbican services on unupgrade controller nodes get
stopped, because all services in the unupgrade controllers should be
stopped before we start the upgraded controller[1].

[1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: I7031064b752450bacbb7775c0e357b98210a8929
(cherry picked from commit 6f140b93be8349eddb7e6cd86116ab1b3f34140a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/776624/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/barbican/barbican-api-container-puppet.yaml'],1,c996c85caea5ac098c6d57066c144adb05354c49,upgrade-stop-barbican-stable/victoria," external_upgrade_tasks: - when: - step|int == 1 tags: - never - system_upgrade_transfer_data - system_upgrade_stop_services block: - name: Stop barbican api container import_role: name: tripleo_container_stop vars: tripleo_containers_to_stop: - barbican_api tripleo_delegate_to: ""{{ groups['barbican_api'] | default([]) }}""",,15,0
openstack%2Ftripleo-docs~master~I8fda2ba2805814d4b00954c5f190e2091024e3e8,openstack/tripleo-docs,master,I8fda2ba2805814d4b00954c5f190e2091024e3e8,Added documentation for dependency pipeline,MERGED,2021-02-22 11:32:35.000000000,2021-02-24 19:14:30.000000000,2021-02-24 19:12:41.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-22 11:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ca949175e5989553274bba9465aa2a53ddddb1eb', 'message': 'Added documentation for dependency pipeline\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8\n'}, {'number': 2, 'created': '2021-02-24 08:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5f603be66ae23930f483095662489ff4552c2b86', 'message': 'Added documentation for dependency pipeline\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8\n'}, {'number': 3, 'created': '2021-02-24 08:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/225a05fb07c5a44d66246dc4505d37f5c832e6e2', 'message': 'Added documentation for dependency pipeline\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8\n'}, {'number': 4, 'created': '2021-02-24 08:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/080e3f51664379de3c0070033e02d38f6780886e', 'message': 'Added documentation for dependency pipeline\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8\n'}, {'number': 5, 'created': '2021-02-24 08:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4d1f9d6813b931b0728d4881c258883b4a39bc46', 'message': 'Added documentation for dependency pipeline\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8\n'}, {'number': 6, 'created': '2021-02-24 13:26:38.000000000', 'files': ['doc/source/ci/tripleo_dependencies_pipelines.rst', 'doc/source/ci/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2106d94c387f242928937fcc4dde4163d8a49b6b', 'message': 'Added documentation for dependency pipeline\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8\n'}]",28,776921,2106d94c387f242928937fcc4dde4163d8a49b6b,23,8,6,12393,,,0,"Added documentation for dependency pipeline

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I8fda2ba2805814d4b00954c5f190e2091024e3e8
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/21/776921/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ci/openstack_dependencies_job.rst', 'doc/source/ci/index.rst']",2,ca949175e5989553274bba9465aa2a53ddddb1eb,, openstack_dependencies_job,,146,0
openstack%2Fopenstack-helm-infra~master~Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779,openstack/openstack-helm-infra,master,Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779,[RFC] Remove Kafka and Zookeeper from osh-infra,MERGED,2021-02-19 22:14:50.000000000,2021-02-24 19:09:09.000000000,2021-02-24 18:59:04.000000000,"[{'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29585}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-19 22:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7473427c282bb117b40103b587c469c4d8fe2a60', 'message': 'Remove Kafka and Zookeeper from osh-infra\n\nThese charts have not been used or maintained in quite a while\n\nChange-Id: Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779\n'}, {'number': 2, 'created': '2021-02-23 14:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2db81c9f93a707548b3da639f33288353272cfa', 'message': '[RFC] Remove Kafka and Zookeeper from osh-infra\n\nThese charts have not been used or maintained in quite a while\n\nChange-Id: Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779\n'}, {'number': 3, 'created': '2021-02-23 14:18:51.000000000', 'files': ['kafka/templates/network_policy.yaml', 'kafka/templates/statefulset.yaml', 'tools/deployment/osh-infra-kafka/020-ceph.sh', 'tools/deployment/osh-infra-kafka/000-install-packages.sh', 'releasenotes/notes/zookeeper.yaml', 'kafka/templates/bin/_generate-acl.sh.tpl', 'kafka/templates/bin/_helm-test.sh.tpl', 'kafka/values.yaml', 'kafka/templates/monitoring/prometheus/configmap-bin.yaml', 'releasenotes/notes/kafka.yaml', 'kafka/templates/monitoring/prometheus/service.yaml', 'kafka/templates/monitoring/prometheus/secret-exporter.yaml', 'kafka/templates/job-generate-acl.yaml', 'tools/deployment/osh-infra-kafka/005-deploy-k8s.sh', 'tools/deployment/osh-infra-kafka/010-ingress.sh', 'kafka/templates/service.yaml', 'kafka/templates/configmap-bin.yaml', 'kafka/templates/secret-kafka.yaml', 'tools/deployment/osh-infra-kafka/050-kafka.sh', 'kafka/templates/service-discovery.yaml', 'tools/deployment/osh-infra-kafka/030-radosgw-osh-infra.sh', 'kafka/templates/ingress-kafka.yaml', 'tools/deployment/osh-infra-kafka/040-zookeeper.sh', 'kafka/templates/bin/_kafka-probe.sh.tpl', 'kafka/templates/service-ingress-kafka.yaml', 'releasenotes/config.yaml', 'kafka/templates/monitoring/prometheus/deployment.yaml', 'kafka/requirements.yaml', 'kafka/templates/job-image-repo-sync.yaml', 'kafka/templates/secret-ingress-tls.yaml', 'kafka/templates/bin/_kafka.sh.tpl', 'kafka/templates/monitoring/prometheus/network-policy.yaml', 'kafka/Chart.yaml', 'zuul.d/project.yaml', 'kafka/templates/configmap-etc.yaml', 'zuul.d/jobs.yaml', 'kafka/templates/monitoring/prometheus/bin/_kafka-exporter.sh.tpl', 'kafka/templates/pod-helm-test.yaml', 'tools/deployment/osh-infra-kafka/025-ceph-ns-activate.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/558a4b5b2c4adcfacf18b41632a4e3cc6d3487ff', 'message': '[RFC] Remove Kafka and Zookeeper from osh-infra\n\nThese charts have not been used or maintained in quite a while\n\nChange-Id: Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779\n'}]",0,776718,558a4b5b2c4adcfacf18b41632a4e3cc6d3487ff,16,6,3,30777,,,0,"[RFC] Remove Kafka and Zookeeper from osh-infra

These charts have not been used or maintained in quite a while

Change-Id: Ia5778a7a7e74e4938d5f0a1cf17102fc2b5cc779
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/18/776718/1 && git format-patch -1 --stdout FETCH_HEAD,"['kafka/templates/network_policy.yaml', 'kafka/templates/statefulset.yaml', 'tools/deployment/osh-infra-kafka/020-ceph.sh', 'tools/deployment/osh-infra-kafka/000-install-packages.sh', 'releasenotes/notes/zookeeper.yaml', 'kafka/templates/bin/_generate-acl.sh.tpl', 'kafka/templates/bin/_helm-test.sh.tpl', 'kafka/values.yaml', 'kafka/templates/monitoring/prometheus/configmap-bin.yaml', 'releasenotes/notes/kafka.yaml', 'kafka/templates/monitoring/prometheus/service.yaml', 'kafka/templates/monitoring/prometheus/secret-exporter.yaml', 'kafka/templates/job-generate-acl.yaml', 'tools/deployment/osh-infra-kafka/005-deploy-k8s.sh', 'tools/deployment/osh-infra-kafka/010-ingress.sh', 'kafka/templates/service.yaml', 'kafka/templates/configmap-bin.yaml', 'kafka/templates/secret-kafka.yaml', 'tools/deployment/osh-infra-kafka/050-kafka.sh', 'kafka/templates/service-discovery.yaml', 'tools/deployment/osh-infra-kafka/030-radosgw-osh-infra.sh', 'kafka/templates/ingress-kafka.yaml', 'tools/deployment/osh-infra-kafka/040-zookeeper.sh', 'kafka/templates/bin/_kafka-probe.sh.tpl', 'kafka/templates/service-ingress-kafka.yaml', 'releasenotes/config.yaml', 'kafka/templates/monitoring/prometheus/deployment.yaml', 'kafka/requirements.yaml', 'kafka/templates/job-image-repo-sync.yaml', 'kafka/templates/secret-ingress-tls.yaml', 'kafka/templates/bin/_kafka.sh.tpl', 'kafka/templates/monitoring/prometheus/network-policy.yaml', 'kafka/Chart.yaml', 'zuul.d/project.yaml', 'kafka/templates/configmap-etc.yaml', 'zuul.d/jobs.yaml', 'kafka/templates/monitoring/prometheus/bin/_kafka-exporter.sh.tpl', 'kafka/templates/pod-helm-test.yaml', 'tools/deployment/osh-infra-kafka/025-ceph-ns-activate.sh']",39,7473427c282bb117b40103b587c469c4d8fe2a60,,,../osh-infra-logging/025-ceph-ns-activate.sh,0,1534
openstack%2Foslo.middleware~stable%2Fstein~I787a0276ec0a62bc9e2f068e4e4ee1219a306474,openstack/oslo.middleware,stable/stein,I787a0276ec0a62bc9e2f068e4e4ee1219a306474,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-24 08:15:41.000000000,2021-02-24 19:09:04.000000000,2021-02-24 19:06:40.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 08:15:41.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/fba3b78fad2356f2715270a6f7d1ffbc27f63fd5', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx requirement needed to be updated to make requirements-check job\npass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I787a0276ec0a62bc9e2f068e4e4ee1219a306474\n'}]",0,777310,fba3b78fad2356f2715270a6f7d1ffbc27f63fd5,10,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx requirement needed to be updated to make requirements-check job
pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I787a0276ec0a62bc9e2f068e4e4ee1219a306474
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/10/777310/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,fba3b78fad2356f2715270a6f7d1ffbc27f63fd5,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",3,2
openstack%2Ftripleo-quickstart~master~I32026a9eb149ccb3854a658857e4ef447bf3932b,openstack/tripleo-quickstart,master,I32026a9eb149ccb3854a658857e4ef447bf3932b,Fix network environment ordering,MERGED,2021-02-12 06:47:51.000000000,2021-02-24 19:08:59.000000000,2021-02-24 19:06:05.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-12 06:47:51.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3649a0d14321688317ca144f6a2a7b4541de4616', 'message': 'Fix network environment ordering\n\nThe network-isolation environment need to be prior to the\novercloud-networks-deployed.yaml for it to take effect.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I32026a9eb149ccb3854a658857e4ef447bf3932b\n'}]",0,775319,3649a0d14321688317ca144f6a2a7b4541de4616,12,5,1,24245,,,0,"Fix network environment ordering

The network-isolation environment need to be prior to the
overcloud-networks-deployed.yaml for it to take effect.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: I32026a9eb149ccb3854a658857e4ef447bf3932b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/775319/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,3649a0d14321688317ca144f6a2a7b4541de4616,network-data-v2, -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml, -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml,1,1
openstack%2Ftripleo-heat-templates~master~I90f7fbb7590bd339074920f364f5f40b92435e14,openstack/tripleo-heat-templates,master,I90f7fbb7590bd339074920f364f5f40b92435e14,Fix typo in ansible_facts,MERGED,2021-02-24 10:33:39.000000000,2021-02-24 19:05:44.000000000,2021-02-24 19:05:44.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-24 10:33:39.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/236e0e0b7165b432b0d47c9a75b522de276cc8f3', 'message': 'Fix typo in ansible_facts\n\nRemove extra underscore:-\nansible__facts --> ansible_facts\n\nWas introduced in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659\n\nRelated-Bug: #1915761\nChange-Id: I90f7fbb7590bd339074920f364f5f40b92435e14\n'}]",0,777353,236e0e0b7165b432b0d47c9a75b522de276cc8f3,9,6,1,13861,,,0,"Fix typo in ansible_facts

Remove extra underscore:-
ansible__facts --> ansible_facts

Was introduced in [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659

Related-Bug: #1915761
Change-Id: I90f7fbb7590bd339074920f364f5f40b92435e14
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/777353/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,236e0e0b7165b432b0d47c9a75b522de276cc8f3,," when: ansible_facts['distribution_major_version'] is version(8, '>=')"," when: ansible__facts['distribution_major_version'] is version(8, '>=')",1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I51855841c269ec593933288af4135f5d06a139fe,openstack/tripleo-heat-templates,stable/ussuri,I51855841c269ec593933288af4135f5d06a139fe,Stop octavia servics in unupgraded controllers,MERGED,2021-02-15 23:24:53.000000000,2021-02-24 19:05:06.000000000,2021-02-24 19:05:06.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-15 23:24:53.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9740d89f15da279f239eea4a7e81ac762200a5e9', 'message': 'Stop octavia servics in unupgraded controllers\n\nThis change makes octavia services on unupgrade controller nodes get\nstopped, because all services in the unupgrade controllers should be\nstopped before we start the upgraded controller[1].\n\n[1] 8529ce60da84d2aa1e1c9e6994303678261b09da\n\nChange-Id: I51855841c269ec593933288af4135f5d06a139fe\n(cherry picked from commit b3d7836952404bf989507c908f46217a1996939a)\n(cherry picked from commit bbf25f9377b603511dee3e3e9bc3f4fbda998266)\n'}]",0,775651,9740d89f15da279f239eea4a7e81ac762200a5e9,13,6,1,9816,,,0,"Stop octavia servics in unupgraded controllers

This change makes octavia services on unupgrade controller nodes get
stopped, because all services in the unupgrade controllers should be
stopped before we start the upgraded controller[1].

[1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: I51855841c269ec593933288af4135f5d06a139fe
(cherry picked from commit b3d7836952404bf989507c908f46217a1996939a)
(cherry picked from commit bbf25f9377b603511dee3e3e9bc3f4fbda998266)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/775651/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",4,9740d89f15da279f239eea4a7e81ac762200a5e9,upgrade-stop-octavia," external_upgrade_tasks: - when: - step|int == 1 tags: - never - system_upgrade_transfer_data - system_upgrade_stop_services block: - name: Stop octavia housekeeping container import_role: name: tripleo_container_stop vars: tripleo_containers_to_stop: - octavia_housekeeping tripleo_delegate_to: ""{{ groups['octavia_housekeeping'] | default([]) }}""",,60,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iedddb02c4a27195d0f89bc4b9dfb12ffba054ae5,openstack/tripleo-heat-templates,stable/victoria,Iedddb02c4a27195d0f89bc4b9dfb12ffba054ae5,Stop ironic services in unupgraded controllers,MERGED,2021-02-15 00:55:42.000000000,2021-02-24 19:04:37.000000000,2021-02-24 19:04:37.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-15 00:55:42.000000000', 'files': ['deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3b75f1dbf3cedaab2c07988d7c3249ad9021e4f', 'message': 'Stop ironic services in unupgraded controllers\n\nThis change makes ironic services on unupgrade controller nodes get\nstopped, because all services in the unupgraded controllers should be\nstopped before we start the upgraded controller[1].\n\n[1] 8529ce60da84d2aa1e1c9e6994303678261b09da\n\nChange-Id: Iedddb02c4a27195d0f89bc4b9dfb12ffba054ae5\n(cherry picked from commit 099badda3caa6304416b35c826d972866097a26b)\n'}]",0,775487,e3b75f1dbf3cedaab2c07988d7c3249ad9021e4f,10,6,1,9816,,,0,"Stop ironic services in unupgraded controllers

This change makes ironic services on unupgrade controller nodes get
stopped, because all services in the unupgraded controllers should be
stopped before we start the upgraded controller[1].

[1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: Iedddb02c4a27195d0f89bc4b9dfb12ffba054ae5
(cherry picked from commit 099badda3caa6304416b35c826d972866097a26b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/775487/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml']",5,e3b75f1dbf3cedaab2c07988d7c3249ad9021e4f,upgrade-stop-ironic," - when: - step|int == 1 tags: - never - system_upgrade_transfer_data - system_upgrade_stop_services block: - name: Stop ironic api container import_role: name: tripleo_container_stop vars: tripleo_containers_to_stop: - ironic_api tripleo_delegate_to: ""{{ groups['ironic_api'] | default([]) }}""",,76,0
openstack%2Fvalidations-common~master~I9fffae563b721f146123978bf533bc760839b520,openstack/validations-common,master,I9fffae563b721f146123978bf533bc760839b520,explanation why plugins don't respect normal naming coventions,MERGED,2021-02-19 11:54:43.000000000,2021-02-24 19:04:30.000000000,2021-02-24 19:04:30.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-19 11:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/67bef7eddaf6344da5b14614673c79d855994cc8', 'message': ""explanation why plugins don't respect normal naming coventions\n\nPutting the explation into iit file docstring ensures that\nthe automated doc builder assigns it to all relevant submodules.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9fffae563b721f146123978bf533bc760839b520\n""}, {'number': 2, 'created': '2021-02-19 13:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/61059399679d5550ef4fe4f83a004811d33e2bcf', 'message': ""explanation why plugins don't respect normal naming coventions\n\nPutting the explation into iit file docstring ensures that\nthe automated doc builder assigns it to all relevant submodules.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9fffae563b721f146123978bf533bc760839b520\n""}, {'number': 3, 'created': '2021-02-22 09:05:54.000000000', 'files': ['validations_common/callback_plugins/__init__.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fd06efdacd386575b15311c197700185891b9b20', 'message': ""explanation why plugins don't respect normal naming coventions\n\nPutting the explation into the init file docstring ensures that\nthe automated doc builder assigns it to all relevant submodules.\n\nNot to mention the help() built-in.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9fffae563b721f146123978bf533bc760839b520\n""}]",7,776610,fd06efdacd386575b15311c197700185891b9b20,16,7,3,32926,,,0,"explanation why plugins don't respect normal naming coventions

Putting the explation into the init file docstring ensures that
the automated doc builder assigns it to all relevant submodules.

Not to mention the help() built-in.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9fffae563b721f146123978bf533bc760839b520
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/10/776610/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/__init__.py'],1,67bef7eddaf6344da5b14614673c79d855994cc8,style/subclassing,""""""" Somewhat unorthodox naming of the callback classes is a direct result of how ansible handles loading plugins. The ansible determines purpose of each plugin by looking at its class name. As you can see in the 'lib/ansible/plugins/loader.py' from the ansible repo, the loader uses the class names to categorize plugins. This means that every callback plugin has to have the same class name, and the unfortunate coder has to discern their purpose by checking their module names. """""" ",,10,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953,openstack/puppet-tripleo,stable/ussuri,Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953,Add parameters for multipath connection in cinder store,MERGED,2021-02-16 06:22:44.000000000,2021-02-24 19:04:27.000000000,2021-02-24 19:04:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 06:22:44.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_backend_cinder_spec.rb', 'manifests/profile/base/glance/backend/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/048e9ab1c31c49ed399eaec10053a88ff8b14b51', 'message': 'Add parameters for multipath connection in cinder store\n\nAdding following 2 parameters for cinder store when multipath usage is\nenabled in volume connection,\n\n - cinder_enforce_multipath\n - cinder_use_multipath\n\nChange-Id: Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953\n(cherry picked from commit 9466c801bc75857334d5b4c8caf0b4175c6fbdc8)\n(cherry picked from commit 4dca24b62886136a85dafc064dc6cf593d2fa2cf)\n'}]",0,775756,048e9ab1c31c49ed399eaec10053a88ff8b14b51,8,5,1,19138,,,0,"Add parameters for multipath connection in cinder store

Adding following 2 parameters for cinder store when multipath usage is
enabled in volume connection,

 - cinder_enforce_multipath
 - cinder_use_multipath

Change-Id: Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953
(cherry picked from commit 9466c801bc75857334d5b4c8caf0b4175c6fbdc8)
(cherry picked from commit 4dca24b62886136a85dafc064dc6cf593d2fa2cf)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/775756/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_glance_backend_cinder_spec.rb', 'manifests/profile/base/glance/backend/cinder.pp']",2,048e9ab1c31c49ed399eaec10053a88ff8b14b51,cinder-multipath-stable/victoria-stable/ussuri,"# [*cinder_enforce_multipath*] # (Optional) Set to True when multipathd is enabled # Defaults to hiera('glance::backend::cinder::cinder_enforce_multipath', undef) # # [*cinder_use_multipath*] # (Optional) Set to True when multipathd is enabled # Defaults to hiera('glance::backend::cinder::cinder_use_multipath', undef) # $cinder_enforce_multipath = hiera('glance::backend::cinder::cinder_enforce_multipath', undef), $cinder_use_multipath = hiera('glance::backend::cinder::cinder_use_multipath', undef), cinder_enforce_multipath => $cinder_enforce_multipath, cinder_use_multipath => $cinder_use_multipath,",,16,0
openstack%2Foslo.privsep~stable%2Fstein~I86312e5f46d4e880fbe7d230a6ac7d6a2f3ba5ae,openstack/oslo.privsep,stable/stein,I86312e5f46d4e880fbe7d230a6ac7d6a2f3ba5ae,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-24 09:38:08.000000000,2021-02-24 18:46:35.000000000,2021-02-24 18:43:54.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 09:38:08.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/8c2cdca22f024bbe66ecf57d33a9879927c5ff2b', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I86312e5f46d4e880fbe7d230a6ac7d6a2f3ba5ae\n'}]",0,777347,8c2cdca22f024bbe66ecf57d33a9879927c5ff2b,9,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I86312e5f46d4e880fbe7d230a6ac7d6a2f3ba5ae
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/47/777347/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,8c2cdca22f024bbe66ecf57d33a9879927c5ff2b,cap-bandit-1.6.2,flake8==2.6.0hacking==1.1.0,flake8==2.5.5hacking==0.12.0,6,4
openstack%2Fpython-tripleoclient~master~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,master,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-01-29 20:57:38.000000000,2021-02-24 18:35:25.000000000,2021-02-05 08:45:12.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 20:57:38.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/438e53ad4e31ff88421e1b7070dbb9f097bcd359', 'message': 'Add auth_token_lifetime to undercloud.conf\n\nThe undercloud currently defines the auth token life time in the\nundercloud.yaml environment in tripleo-heat-templates. At certain scale,\nit makes sense to increase this so we should make it a top level\nconfiguration item.\n\nChange-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881\n'}]",2,773187,438e53ad4e31ff88421e1b7070dbb9f097bcd359,10,3,1,14985,,,0,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/87/773187/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml']",4,438e53ad4e31ff88421e1b7070dbb9f097bcd359,,--- features: - | Adds `auth_token_lifetime` to undercloud.conf with a default of 14400. This configuration option exposes the keystone token expirataion as a top level configuration since it may need to be increased to handle larger clouds. ,,16,0
openstack%2Foslo.service~stable%2Fstein~Ifd2bce1552e092a605f96d404ad12a4bbd03fe0c,openstack/oslo.service,stable/stein,Ifd2bce1552e092a605f96d404ad12a4bbd03fe0c,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-24 13:50:45.000000000,2021-02-24 18:33:09.000000000,2021-02-24 18:31:23.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 13:50:45.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/823139677728d89da7216f9e5291b0371a6ce0cd', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ifd2bce1552e092a605f96d404ad12a4bbd03fe0c\n'}]",0,777382,823139677728d89da7216f9e5291b0371a6ce0cd,9,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ifd2bce1552e092a605f96d404ad12a4bbd03fe0c
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/82/777382/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,823139677728d89da7216f9e5291b0371a6ce0cd,cap-bandit-1.6.2,flake8==2.6.0hacking==1.1.0,flake8==2.5.5hacking==0.12.0,5,4
openstack%2Fosprofiler~stable%2Fstein~I8762bad8821868c97af8114e49f51b6383df3e5c,openstack/osprofiler,stable/stein,I8762bad8821868c97af8114e49f51b6383df3e5c,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-22 16:59:58.000000000,2021-02-24 18:31:51.000000000,2021-02-24 18:30:07.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 16:59:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/2dc5a92894dda720826aa5fd4868191c719f4469', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nsphinx and elasticsearch requirement needed to be updated to make\nrequirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I8762bad8821868c97af8114e49f51b6383df3e5c\n(cherry picked from commit 30ffa278735aa0f14e80c703ccfb4252e0a4a879)\n'}]",0,776964,2dc5a92894dda720826aa5fd4868191c719f4469,9,3,1,17685,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

sphinx and elasticsearch requirement needed to be updated to make
requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I8762bad8821868c97af8114e49f51b6383df3e5c
(cherry picked from commit 30ffa278735aa0f14e80c703ccfb4252e0a4a879)
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/64/776964/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2dc5a92894dda720826aa5fd4868191c719f4469,cap-bandit,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSDbandit>=1.1.0,<=1.6.2 # Apache-2.0elasticsearch>=2.0.0,<3.0.0 # Apache-2.0","sphinx>=1.6.2 # BSDbandit>=1.1.0 # Apache-2.0elasticsearch>=2.0.0,<=3.0.0 # Apache-2.0",4,3
openstack%2Fglance_store~stable%2Ftrain~Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,openstack/glance_store,stable/train,Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,zuul: glance_store-src-ceph-tempest replaces a legacy job,MERGED,2020-09-01 10:36:34.000000000,2021-02-24 17:50:45.000000000,2021-02-24 17:43:25.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 10:36:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/79e043af2a86f4547f8e7bad6be90ff4542e005e', 'message': 'zuul: glance_store-src-ceph-tempest replaces a legacy job\n\nIt replaces legacy-tempest-dsvm-full-ceph-plugin-src-glance_store\nwhich is defined inside openstack-zuul-jobs.\nIt is really a variant of the devstack-plugin-ceph-tempest job.\n\nRemove .zuul.yaml from the ignored file list as in other jobs.\n\nChange-Id: Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4\n(cherry picked from commit 1f50f31c14803ea2eec021b3deb287b5a9facc27)\n(cherry picked from commit bbd97858d9c5b8d2ddc14accb28fec855254c926)\n'}]",3,749235,79e043af2a86f4547f8e7bad6be90ff4542e005e,13,4,1,10459,,,0,"zuul: glance_store-src-ceph-tempest replaces a legacy job

It replaces legacy-tempest-dsvm-full-ceph-plugin-src-glance_store
which is defined inside openstack-zuul-jobs.
It is really a variant of the devstack-plugin-ceph-tempest job.

Remove .zuul.yaml from the ignored file list as in other jobs.

Change-Id: Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4
(cherry picked from commit 1f50f31c14803ea2eec021b3deb287b5a9facc27)
(cherry picked from commit bbd97858d9c5b8d2ddc14accb28fec855254c926)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/35/749235/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,79e043af2a86f4547f8e7bad6be90ff4542e005e,native-zuulv3-migration,- job: name: glance_store-src-ceph-tempest parent: devstack-plugin-ceph-tempest-py3 description: | Runs tempest tests with the latest glance_store and the Ceph backend Former names for this job were: * legacy-tempest-dsvm-full-ceph-plugin-src-glance_store required-projects: - opendev.org/openstack/glance_store vars: tempest_test_regex: (^tempest\.(api|scenario)|(^cinder_tempest_plugin)) - glance_store-src-ceph-tempest:, - legacy-tempest-dsvm-full-ceph-plugin-src-glance_store: - ^\.zuul\.yaml$,13,2
openstack%2Fcharm-glance~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-glance,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:45.000000000,2021-02-24 17:41:25.000000000,2021-02-24 13:21:41.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/38312b358a53a8ca38504c6af126a00e96516a60', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 2, 'created': '2021-02-23 10:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/0c851629e50c5d2e6d3bcba835e0b3ca716b091d', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 3, 'created': '2021-02-24 07:43:06.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ed2c6b97f4b793289014d82f93a6e8766e565704', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776350,ed2c6b97f4b793289014d82f93a6e8766e565704,17,3,3,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/50/776350/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,38312b358a53a8ca38504c6af126a00e96516a60,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - ceph-focal-ussuri - trusty-mitaka - xenial-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-queens - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - ceph-focal-victoria - ceph-groovy-victoria - job: name: ceph-focal-ussuri parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: ceph:focal-ussuri - job: name: ceph-focal-victoria parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: ceph:focal-victoria - job: name: ceph-groovy-victoria parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: ceph:groovy-victoria,,37,0
openstack%2Foctavia-tempest-plugin~master~I6d44787f66904409b7f32a5fe576b658b6eb600a,openstack/octavia-tempest-plugin,master,I6d44787f66904409b7f32a5fe576b658b6eb600a,Update test_server for conncurrent client auth,MERGED,2020-10-27 20:29:49.000000000,2021-02-24 17:40:34.000000000,2021-02-24 17:38:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-27 20:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/25d524e4fd32b687223c4f547b06182f882d0a0a', 'message': 'Update test_server for conncurrent client auth\n\nThis patch updates the test server to have a separate port for\nHTTPS with client authentication. This will allow concurrent tests\nto run using the HTTPS and HTTPS with client authentication ports.\nIt adds a new parameter ""-https_client_auth_port"" for the port that\nwill require client certificates.\n\nChange-Id: I6d44787f66904409b7f32a5fe576b658b6eb600a\n'}, {'number': 2, 'created': '2020-10-27 21:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0adb7e42ddda0cdd3346a87741a409deae041935', 'message': 'Update test_server for conncurrent client auth\n\nThis patch updates the test server to have a separate port for\nHTTPS with client authentication. This will allow concurrent tests\nto run using the HTTPS and HTTPS with client authentication ports.\nIt adds a new parameter ""-https_client_auth_port"" for the port that\nwill require client certificates.\n\nChange-Id: I6d44787f66904409b7f32a5fe576b658b6eb600a\n'}, {'number': 3, 'created': '2020-10-28 14:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5b83eb5e97a0792bb18b248b54ac71f701b536b2', 'message': 'Update test_server for conncurrent client auth\n\nThis patch updates the test server to have a separate port for\nHTTPS with client authentication. This will allow concurrent tests\nto run using the HTTPS and HTTPS with client authentication ports.\nIt adds a new parameter ""-https_client_auth_port"" for the port that\nwill require client certificates.\n\nChange-Id: I6d44787f66904409b7f32a5fe576b658b6eb600a\n'}, {'number': 4, 'created': '2020-12-07 19:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/53b8692961f2591480d403e93faedcb66ac76808', 'message': 'Update test_server for conncurrent client auth\n\nThis patch updates the test server to have a separate port for\nHTTPS with client authentication. This will allow concurrent tests\nto run using the HTTPS and HTTPS with client authentication ports.\nIt adds a new parameter ""-https_client_auth_port"" for the port that\nwill require client certificates.\n\nChange-Id: I6d44787f66904409b7f32a5fe576b658b6eb600a\n'}, {'number': 5, 'created': '2021-02-22 17:40:38.000000000', 'files': ['octavia_tempest_plugin/contrib/test_server/test_server.go', 'octavia_tempest_plugin/contrib/test_server/README.rst'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b423a27108f81efad9ae3f912769b96f782a0971', 'message': 'Update test_server for conncurrent client auth\n\nThis patch updates the test server to have a separate port for\nHTTPS with client authentication. This will allow concurrent tests\nto run using the HTTPS and HTTPS with client authentication ports.\nIt adds a new parameter ""-https_client_auth_port"" for the port that\nwill require client certificates.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-gate/+/776722\n\nChange-Id: I6d44787f66904409b7f32a5fe576b658b6eb600a\n'}]",1,759941,b423a27108f81efad9ae3f912769b96f782a0971,32,6,5,11628,,,0,"Update test_server for conncurrent client auth

This patch updates the test server to have a separate port for
HTTPS with client authentication. This will allow concurrent tests
to run using the HTTPS and HTTPS with client authentication ports.
It adds a new parameter ""-https_client_auth_port"" for the port that
will require client certificates.

Depends-On: https://review.opendev.org/c/openstack/devstack-gate/+/776722

Change-Id: I6d44787f66904409b7f32a5fe576b658b6eb600a
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/41/759941/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/contrib/test_server/test_server.go', 'octavia_tempest_plugin/contrib/test_server/test_server.bin', 'octavia_tempest_plugin/contrib/test_server/README.rst']",3,25d524e4fd32b687223c4f547b06182f882d0a0a,test_server_client_auth," Server side PEM format certificate file path. Client auth PEM format CA certificate file path. -https_client_auth_port int HTTPS with client authentication port to listen on, -1 is disabled. (default -1) Server side PEM format key file path. If -https_client_auth_port is specified, the -client_ca parameter is required. When -client_ca is specified, it will configure the HTTPS client auth port to require a valid client certificate to connect."," Server side PEM format certificate. Client side PEM format CA certificate. Server side PEM format key.If -https_port is specified, the -client_ca parameter is optional. When -client_ca is specified, it will configure the HTTPS port to require a valid client certificate to connect.",36,23
openstack%2Ftripleo-ansible~master~If066dd19f1e9c75fd6581fddb5b55cb37eb57809,openstack/tripleo-ansible,master,If066dd19f1e9c75fd6581fddb5b55cb37eb57809,Introduce tripleo_run_cephadm role and cephadm playbook,MERGED,2021-01-15 16:32:41.000000000,2021-02-24 17:33:50.000000000,2021-02-24 17:26:57.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-15 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80e02384385495d4554b1e0eefc2f542179d7741', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht.\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 2, 'created': '2021-01-16 13:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/326d633399fa8ca77fe519b33581bc0aa6c10d75', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n3. main: this is going to be renamed in the next PS but it's used\n         to run the cephadm playbook defined in the playbooks dir\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 3, 'created': '2021-01-17 15:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e961cb9c61a72972118014f043456d3dd3fef9b9', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n3. main: this is going to be renamed in the next PS but it's used\n         to run the cephadm playbook defined in the playbooks dir\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 4, 'created': '2021-01-17 19:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1939293bef048fa51061ff85ba3ee577d65230e', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 5, 'created': '2021-01-17 19:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e775259920994848c32c5c3bdfb5e1f92ccbd18c', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 6, 'created': '2021-01-18 08:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9b6cff1dc926f610b0ca6303ba9f8cde16f8816', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 7, 'created': '2021-01-18 08:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b76d229dad05517851b989d9665213ffa406cf2', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 8, 'created': '2021-01-18 10:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/360321c2bafcd4da2fc6b7e5762b00556baf45a7', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 9, 'created': '2021-01-18 13:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16096416864e61bd9e022fe62c718499087f9a48', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 10, 'created': '2021-01-18 19:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc02a38f1b386936005fa5d1ccf0db91ef132306', 'message': ""[WIP] - Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 11, 'created': '2021-01-18 21:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ec788fa8f4636f459d9358632a15a382d50e157', 'message': ""WIP: Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 12, 'created': '2021-01-19 02:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/351b6c505d4e1a44552ff9d0193e591803e697b7', 'message': ""WIP: Execute cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way of ceph-ansible.\nThis is a temp role that helps triggering cephadm from tht and\nprovide the following tasks:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user: this is used to run L35-L37 of [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/770674/2/doc/source/roles/role-tripleo_cephadm.rst#36\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 13, 'created': '2021-01-19 21:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1cb00c894c0683db8ae85b4e75ecd374d44e28b1', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 14, 'created': '2021-01-19 21:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b05d2ca004b24bb30a0266bb34395eee7457a0fe', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 15, 'created': '2021-01-20 03:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65cade591fd858f3e09b8ae2a21079b861743986', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 16, 'created': '2021-01-20 06:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29e16efd005c71548cb74f4a456f9feb918fc359', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 17, 'created': '2021-01-20 22:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49fd62606d066a8305dca0775997618f155323e6', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 18, 'created': '2021-01-20 22:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a80a0c91f99ad99b32f78251a2598054f65b4ae1', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 19, 'created': '2021-01-21 09:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c9739cd57f944013f6341f1b9add9e37f82f4ee', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 20, 'created': '2021-01-21 11:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa03b299e202b8919e28ba8f90ad235983b4a6f0', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 21, 'created': '2021-01-21 11:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c2083f5e727b575f7d05e466f68c8d823361744', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 22, 'created': '2021-01-21 12:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/70d19d0e07cb8b3ef8e7f0d4a9227f02748a9347', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 23, 'created': '2021-01-21 12:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9b89724aa388bffc3f6c0aaf087cd2a286997e37', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 24, 'created': '2021-01-21 13:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abe1accedbb3cfc428e84732b50c1c8e535343c1', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 25, 'created': '2021-01-22 15:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e19ad42987dbf7833a475ff9857c4350e5122f30', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 26, 'created': '2021-01-22 15:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d7fd2c6b99eee6c8ecd8461d03c98e5f9a0ec27', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 27, 'created': '2021-01-22 17:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/085c68cd95bb1bab5d9b0c68f8ae7c826fa1f524', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 28, 'created': '2021-01-22 20:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37a707102988289b9af80573b71b04b72a2769f9', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 29, 'created': '2021-01-23 19:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a8d9b5f436b6e132394291895508959f4be458c', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 30, 'created': '2021-01-23 22:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42fed3fb1f6f629250947aaa5cfbbed332b52e3f', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 31, 'created': '2021-01-24 17:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f26749efec09dc90967131007f73ac5781d7862', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 32, 'created': '2021-01-25 10:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abe020c5adcd52386e4414d3adf47b35c7f063e3', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 33, 'created': '2021-01-25 13:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/835a4e3123a1310200b005a15ee05cb29037769d', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 34, 'created': '2021-01-26 03:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5567b5717e0830a94dba71da77f9708f2fb6a961', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 35, 'created': '2021-01-26 09:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0bafc077343d5a28bf2cc95b2cde1142274d8b8c', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 36, 'created': '2021-01-26 18:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26bbaf8e5efc45e2a891de6c369b46b496ad70f1', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 37, 'created': '2021-01-27 06:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3955cd820197e1be923efb12dabf467ad829bedf', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 38, 'created': '2021-01-27 06:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9b5da3388021ffc74b6cb1066378dd09753a351', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 39, 'created': '2021-01-27 15:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61d3de3d19fac53b5e666fbabfff1d4a3697c057', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 40, 'created': '2021-01-27 22:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3710e764a3eff4b510cb7ab13a36bfc6c0f384de', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 41, 'created': '2021-01-27 22:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c30f6fc25573a29d9edd8f879bc493c39f17be9', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 42, 'created': '2021-01-28 14:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/907a06481e14cf5cd3ba85c94aca7baee2e84518', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 43, 'created': '2021-01-29 09:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/778f3e21ed04ab4359f8fcf5a1362ad53558fc23', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 44, 'created': '2021-01-29 09:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b1c154d6f7b2ccbb66317c1a58db6847e135b6c', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 45, 'created': '2021-01-29 10:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1753928d1945d5f37b5f85d25058e606a258f440', 'message': ""WIP: Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThis is a temporay role to be run by external_deploy_steps_tasks\nwhich does the following:\n\n1. prepare: build a cephadm dir within the config-download dump\n2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml\n3. translates paramters from THT\n4. calls the playbook to use cephadm to deploy ceph\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 46, 'created': '2021-01-29 12:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76fb6b9893d8c8283549a9c8d33e6a79b025359f', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 47, 'created': '2021-01-29 12:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09687d20c60f200821448a1311b31b70f68d7594', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 48, 'created': '2021-01-29 13:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e0b2877ad9257325069ba23f93268f5c8b6fb7d', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 49, 'created': '2021-01-29 20:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5146171b02cec9488c17bf3d734d4d7fcd1784eb', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 50, 'created': '2021-01-29 22:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ccc988f59b817f090a5e433689c5b262c538be9b', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 51, 'created': '2021-01-30 17:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/041651c86c74022cf815a257f3715744ee0bc3b7', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 52, 'created': '2021-01-30 20:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41556bc6e29b9928fe2c055bf9298e54660767fa', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 53, 'created': '2021-01-30 20:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/744043a1d02270006d8c5ccf5aa7195527b5508c', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 54, 'created': '2021-02-03 12:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c1f43976e277afef87dadd83035778e46331a92', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 55, 'created': '2021-02-03 12:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31714cd37e3ad934b260a7664bafeafc8c3311f0', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 56, 'created': '2021-02-03 14:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e5d87ec764146932886636f611e863b39b955e6', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 57, 'created': '2021-02-03 15:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e143ad3eb4f7c0844967126dfa8728bbd45dcdc3', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 58, 'created': '2021-02-04 07:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49d8735e9036a8095037ea15aa72ff9dc35d381c', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 59, 'created': '2021-02-07 21:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e2a03f3abe6160e45e998c61e110f907b01d701c', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 60, 'created': '2021-02-08 13:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4472ff3dbf64f2156ff88411ab07082fb7512d10', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 61, 'created': '2021-02-08 22:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63146c7045c4d1ab376652ee2d9527ce225889f3', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 62, 'created': '2021-02-09 15:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a5e3bdeb57d9211f33a51a0f4c04c673eb97f84e', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 63, 'created': '2021-02-10 11:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/662d3c4e228fcb8dbfefd903b56e50490b3549e5', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 64, 'created': '2021-02-10 16:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/455e37ed2bc0b9ce975712297514d3c71a5dd578', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 65, 'created': '2021-02-11 12:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6934a6877a40d5614253e0389279913d44604399', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 66, 'created': '2021-02-12 14:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4debf4958299b9a1eb80e93b04ce22a29578f077', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 67, 'created': '2021-02-15 09:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f8207faa4e693eb6e2fe629335db6316d0fe8d35', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 68, 'created': '2021-02-15 12:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/249bf18963c2dabee37d7d256e509e05a9fd2a1b', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 69, 'created': '2021-02-16 09:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8e5f8781faf2b22cab1dd1888a52cfc2732c8b2', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 70, 'created': '2021-02-18 13:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9267dad53adfd3322c4738dc1966e0726d877115', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 71, 'created': '2021-02-23 10:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c129ee7252a830f5bb835c561bf73db26fe9c41', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 72, 'created': '2021-02-23 11:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63e5fbb92cb5c90f52aacd5f44bdc3ff07374c53', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 73, 'created': '2021-02-24 08:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9fc74eb07daae391767ab2728e91963f297909c4', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 74, 'created': '2021-02-24 08:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fba8ffcd5ff9b10bad8f8b928e477c4cf22aca71', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 75, 'created': '2021-02-24 09:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f36677aa51d145729496115902d9f9c1c2a18c6', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}, {'number': 76, 'created': '2021-02-24 09:46:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_run_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/README.md', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_run_cephadm/meta/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/enable_ceph_admin_user.yml', '.ansible-lint', 'doc/source/roles/role-tripleo_run_cephadm.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/vars/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc5d83733fcccb32826d255f2ef656b7f63613b9', 'message': ""Introduce tripleo_run_cephadm role and cephadm playbook\n\nSince we're still provisioning the Ceph cluster at step2 we need\nto call the cephadm playbook the same way as ceph-ansible.\nThe purpose of this role is to be able to run the cephadm playbook\nusing external_deploy_steps_tasks.\nThe actions implemented in this role are:\n\n  1. prepare: build a cephadm dir within the config-download dump\n  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook\n  3. translates the tht paramters and make them available to the role\n  4. call the ansible playbook that runs cephadm and apply the spec\n\nChange-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809\n""}]",73,771034,dc5d83733fcccb32826d255f2ef656b7f63613b9,211,7,76,25402,,,0,"Introduce tripleo_run_cephadm role and cephadm playbook

Since we're still provisioning the Ceph cluster at step2 we need
to call the cephadm playbook the same way as ceph-ansible.
The purpose of this role is to be able to run the cephadm playbook
using external_deploy_steps_tasks.
The actions implemented in this role are:

  1. prepare: build a cephadm dir within the config-download dump
  2. enable_ceph_admin_user via cli-enable-ssh-admin.yaml playbook
  3. translates the tht paramters and make them available to the role
  4. call the ansible playbook that runs cephadm and apply the spec

Change-Id: If066dd19f1e9c75fd6581fddb5b55cb37eb57809
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/771034/70 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_run_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/README.md', 'tripleo_ansible/roles/tripleo_run_cephadm/meta/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/vars/main.yml']",6,80e02384385495d4554b1e0eefc2f542179d7741,cephadm_integration,--- # vars file for tripleo_ceph_run_cephadm ,,216,0
openstack%2Fironic~master~I1ef33d41fd3784f55929fa6a086fca0c335212e5,openstack/ironic,master,I1ef33d41fd3784f55929fa6a086fca0c335212e5,Replace pysendfile with os.sendfile,MERGED,2021-01-22 16:52:42.000000000,2021-02-24 17:15:54.000000000,2021-02-18 19:53:23.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2021-01-22 16:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85c30f900f6332115e9b5089cf7ff528480f8483', 'message': 'Replace pysendfile with os.sendfile\n\nChange-Id: I1ef33d41fd3784f55929fa6a086fca0c335212e5\n'}, {'number': 2, 'created': '2021-02-16 09:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2e0386752fd857d28bfc76ad1329df2d1923c28', 'message': 'Replace pysendfile with os.sendfile\n\nChange-Id: I1ef33d41fd3784f55929fa6a086fca0c335212e5\n'}, {'number': 3, 'created': '2021-02-18 16:07:23.000000000', 'files': ['requirements.txt', 'ironic/tests/unit/common/test_image_service.py', 'ironic/common/glance_service/image_service.py', 'ironic/common/image_service.py', 'ironic/tests/unit/common/test_glance_service.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e09a008ab571e3536ccba8fe3557ad22d551564', 'message': 'Replace pysendfile with os.sendfile\n\nChange-Id: I1ef33d41fd3784f55929fa6a086fca0c335212e5\n'}]",0,772066,6e09a008ab571e3536ccba8fe3557ad22d551564,30,3,3,10239,,,0,"Replace pysendfile with os.sendfile

Change-Id: I1ef33d41fd3784f55929fa6a086fca0c335212e5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/772066/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic/tests/unit/common/test_image_service.py', 'ironic/common/glance_service/image_service.py', 'ironic/common/image_service.py', 'ironic/tests/unit/common/test_glance_service.py']",5,85c30f900f6332115e9b5089cf7ff528480f8483,sendfile," @mock.patch('os.sendfile', autospec=True)"," @mock.patch('sendfile.sendfile', autospec=True)",9,16
openstack%2Frequirements~master~I0934327700dbf0355a539dab87404956916b9b47,openstack/requirements,master,I0934327700dbf0355a539dab87404956916b9b47,update fasteners to 0.16,ABANDONED,2021-02-23 17:27:54.000000000,2021-02-24 17:11:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-23 17:27:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/874df32443c270bf3ea040a04e0e208d612455f5', 'message': 'update fasteners to 0.16\n\nChange-Id: I0934327700dbf0355a539dab87404956916b9b47\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777170,874df32443c270bf3ea040a04e0e208d612455f5,4,1,1,14288,,,0,"update fasteners to 0.16

Change-Id: I0934327700dbf0355a539dab87404956916b9b47
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/777170/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,874df32443c270bf3ea040a04e0e208d612455f5,update-fasteners-0.16,fasteners===0.16,fasteners===0.14.1,1,1
openstack%2Fglance~master~Ic09162a3c268d91d68037d35821136918666efeb,openstack/glance,master,Ic09162a3c268d91d68037d35821136918666efeb,Add logic to properly enforce secure RBAC when handling images,ABANDONED,2020-12-02 21:56:33.000000000,2021-02-24 17:06:06.000000000,,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-02 21:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d1bf26aa1f70bca3dc17c138dc52569172699bae', 'message': 'WIP: add logic to properly enforce secure RBAC when handling images\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n'}, {'number': 2, 'created': '2021-02-03 08:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0f66fa68decef26e0cdf18d216916eda7c969c91', 'message': 'WIP: add logic to properly enforce secure RBAC when handling images\n\nFixing unit tests in progress\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n'}, {'number': 3, 'created': '2021-02-04 05:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a88452b23664a7b6b541503f5034cc56d490fc2', 'message': 'WIP: add logic to properly enforce secure RBAC when handling images\n\nFixing unit tests in progress\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n'}, {'number': 4, 'created': '2021-02-05 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5f12b419f89ae1f398372f1a9105fa80c5c8e18f', 'message': 'WIP: add logic to properly enforce secure RBAC when handling images\n\nFixing unit tests in progress\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n'}, {'number': 5, 'created': '2021-02-08 22:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cca4e5756ec5f7d542dfbb98af03a0de2e6129e1', 'message': 'WIP: add logic to properly enforce secure RBAC when handling images\n\nFixing unit tests in progress\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n'}, {'number': 6, 'created': '2021-02-09 04:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4c69f6fe62840dec0727b1914eef434564234977', 'message': 'WIP: add logic to properly enforce secure RBAC when handling images\n\nFixing unit tests in progress\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n'}, {'number': 7, 'created': '2021-02-10 05:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0b4a42b82ab72f46e3dc097bbf44de9cc6a2f36b', 'message': ""Add logic to properly enforce secure RBAC when handling images\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nand adding more checks in the existing database layer for various\npersonas.\n\nWhile adding to the existing complexity in the database API isn't ideal,\nit's a stop gap for implementing secure RBAC personas without rushing\nAPI changes between the database, stores, policy, and authorization\nlayers of glance's API.\n\nIn an ideal world, we'd have the ability to control queries and filters\nfrom higher layers in glance, allowing us to sweep all the authorization\nlogic into a single component instead of having it sprinkled between the\ndatabase, policy, and authorization layers.\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n""}, {'number': 8, 'created': '2021-02-10 20:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1fd5c967257ed313a8c3f1eed77d1e57112fa273', 'message': ""Add logic to properly enforce secure RBAC when handling images\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nand adding more checks in the existing database layer for various\npersonas.\n\nWhile adding to the existing complexity in the database API isn't ideal,\nit's a stop gap for implementing secure RBAC personas without rushing\nAPI changes between the database, stores, policy, and authorization\nlayers of glance's API.\n\nIn an ideal world, we'd have the ability to control queries and filters\nfrom higher layers in glance, allowing us to sweep all the authorization\nlogic into a single component instead of having it sprinkled between the\ndatabase, policy, and authorization layers.\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n""}, {'number': 9, 'created': '2021-02-15 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5bbe52ab98002962c9354c34420d3b9adcdec8f7', 'message': ""Add logic to properly enforce secure RBAC when handling images\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nand adding more checks in the existing database layer for various\npersonas.\n\nWhile adding to the existing complexity in the database API isn't ideal,\nit's a stop gap for implementing secure RBAC personas without rushing\nAPI changes between the database, stores, policy, and authorization\nlayers of glance's API.\n\nIn an ideal world, we'd have the ability to control queries and filters\nfrom higher layers in glance, allowing us to sweep all the authorization\nlogic into a single component instead of having it sprinkled between the\ndatabase, policy, and authorization layers.\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n""}, {'number': 10, 'created': '2021-02-17 06:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5c62242c13970df2f6c53302cb3887ce6310e7f1', 'message': ""Add logic to properly enforce secure RBAC when handling images\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nand adding more checks in the existing database layer for various\npersonas.\n\nWhile adding to the existing complexity in the database API isn't ideal,\nit's a stop gap for implementing secure RBAC personas without rushing\nAPI changes between the database, stores, policy, and authorization\nlayers of glance's API.\n\nIn an ideal world, we'd have the ability to control queries and filters\nfrom higher layers in glance, allowing us to sweep all the authorization\nlogic into a single component instead of having it sprinkled between the\ndatabase, policy, and authorization layers.\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n""}, {'number': 11, 'created': '2021-02-18 06:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a371713d3053dc37b5a0ea722f336e0820c27446', 'message': ""Add logic to properly enforce secure RBAC when handling images\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nand adding more checks in the existing database layer for various\npersonas.\n\nWhile adding to the existing complexity in the database API isn't ideal,\nit's a stop gap for implementing secure RBAC personas without rushing\nAPI changes between the database, stores, policy, and authorization\nlayers of glance's API.\n\nIn an ideal world, we'd have the ability to control queries and filters\nfrom higher layers in glance, allowing us to sweep all the authorization\nlogic into a single component instead of having it sprinkled between the\ndatabase, policy, and authorization layers.\n\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n""}, {'number': 12, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18f76d51e3ae262918d436162d6ed6d3178940c0', 'message': ""Add logic to properly enforce secure RBAC when handling images\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nand adding more checks in the existing database layer for various\npersonas.\n\nWhile adding to the existing complexity in the database API isn't ideal,\nit's a stop gap for implementing secure RBAC personas without rushing\nAPI changes between the database, stores, policy, and authorization\nlayers of glance's API.\n\nIn an ideal world, we'd have the ability to control queries and filters\nfrom higher layers in glance, allowing us to sweep all the authorization\nlogic into a single component instead of having it sprinkled between the\ndatabase, policy, and authorization layers.\n\nRelated: blueprint secure-rbac\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n""}, {'number': 13, 'created': '2021-02-19 14:54:46.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/unit/test_policy.py', 'glance/tests/functional/db/base.py', 'glance/api/policy.py', 'glance/db/utils.py', 'glance/tests/unit/utils.py', 'glance/policies/image.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c57db4101f192c1574f7de4d7eb4d0c3e3faaee0', 'message': ""Add logic to properly enforce secure RBAC when handling images\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nand adding more checks in the existing database layer for various\npersonas.\n\nWhile adding to the existing complexity in the database API isn't ideal,\nit's a stop gap for implementing secure RBAC personas without rushing\nAPI changes between the database, stores, policy, and authorization\nlayers of glance's API.\n\nIn an ideal world, we'd have the ability to control queries and filters\nfrom higher layers in glance, allowing us to sweep all the authorization\nlogic into a single component instead of having it sprinkled between the\ndatabase, policy, and authorization layers.\n\nRelated: blueprint secure-rbac\nChange-Id: Ic09162a3c268d91d68037d35821136918666efeb\n""}]",21,765210,c57db4101f192c1574f7de4d7eb4d0c3e3faaee0,66,2,13,5046,,,0,"Add logic to properly enforce secure RBAC when handling images

This commit updates various places in the glance API to ensure scope is
enforced. This includes building proper targets for policy enforcement
and adding more checks in the existing database layer for various
personas.

While adding to the existing complexity in the database API isn't ideal,
it's a stop gap for implementing secure RBAC personas without rushing
API changes between the database, stores, policy, and authorization
layers of glance's API.

In an ideal world, we'd have the ability to control queries and filters
from higher layers in glance, allowing us to sweep all the authorization
logic into a single component instead of having it sprinkled between the
database, policy, and authorization layers.

Related: blueprint secure-rbac
Change-Id: Ic09162a3c268d91d68037d35821136918666efeb
",git fetch https://review.opendev.org/openstack/glance refs/changes/10/765210/11 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/api/policy.py', 'glance/api/v2/images.py']",3,d1bf26aa1f70bca3dc17c138dc52569172699bae,secure-rbac-tasks, # Let's make sure we filter out images that don't belong to the # project if we're dealing with a project-scoped token. if req.context.project_id: project_images = [] for image in images: if image.owner == req.context.project_id: project_images.append(image) elif image.visibility == 'public': project_images.append(image) images = project_images ,,32,7
openstack%2Fglance~master~I580b31cd41e886462291077a45d45ac10deeb433,openstack/glance,master,I580b31cd41e886462291077a45d45ac10deeb433,Update logic to support secure RBAC for image membership,ABANDONED,2021-02-16 05:52:00.000000000,2021-02-24 17:05:49.000000000,,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 05:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3bd1a66dd3e6b11b9de8c23afcdc9dd8e34f332b', 'message': 'Update logic to support secure RBAC for image membership\n\nChange-Id: I580b31cd41e886462291077a45d45ac10deeb433\n'}, {'number': 2, 'created': '2021-02-17 06:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7b51f3d34bd4fcf769b5ec12e983d9ee4b48d7b7', 'message': 'Update logic to support secure RBAC for image membership\n\nChange-Id: I580b31cd41e886462291077a45d45ac10deeb433\n'}, {'number': 3, 'created': '2021-02-18 07:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9b9a8e27ba3d292fc299dace170a34d034349185', 'message': 'Update logic to support secure RBAC for image membership\n\nChange-Id: I580b31cd41e886462291077a45d45ac10deeb433\n'}, {'number': 4, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0694c449baac4d2708a65e58100f94a2e0af743d', 'message': 'Update logic to support secure RBAC for image membership\n\nRelated: blueprint secure-rbac\nChange-Id: I580b31cd41e886462291077a45d45ac10deeb433\n'}, {'number': 5, 'created': '2021-02-19 14:54:46.000000000', 'files': ['glance/tests/unit/v2/test_image_members_resource.py', 'glance/api/authorization.py', 'glance/tests/functional/db/base.py', 'glance/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e1727947a084a5f89be78311e2c0388071152cc4', 'message': 'Update logic to support secure RBAC for image membership\n\nThis commit updates various places in the glance API to ensure scope is\nenforced. This includes building proper targets for policy enforcement\nof members and  adding more checks in the existing database layer\nfor various personas.\n\nRelated: blueprint secure-rbac\nChange-Id: I580b31cd41e886462291077a45d45ac10deeb433\n'}]",0,775741,e1727947a084a5f89be78311e2c0388071152cc4,15,2,5,5046,,,0,"Update logic to support secure RBAC for image membership

This commit updates various places in the glance API to ensure scope is
enforced. This includes building proper targets for policy enforcement
of members and  adding more checks in the existing database layer
for various personas.

Related: blueprint secure-rbac
Change-Id: I580b31cd41e886462291077a45d45ac10deeb433
",git fetch https://review.opendev.org/openstack/glance refs/changes/41/775741/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/v2/test_image_members_resource.py', 'glance/api/authorization.py', 'glance/tests/functional/db/base.py', 'glance/db/sqlalchemy/api.py']",4,3bd1a66dd3e6b11b9de8c23afcdc9dd8e34f332b,secure-rbac-tasks, new_project_user = CONF.oslo_policy.enforce_scope and context.project_id old_project_user = ( not CONF.oslo_policy.enforce_scope and context.project_id and 'admin' not in context.roles ) if old_project_user or new_project_user:, if not context.is_admin:,37,21
openstack%2Fcloudkitty-specs~master~Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6,openstack/cloudkitty-specs,master,Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6,"Add ""active"" column to storage scope, and API to manage it",MERGED,2021-01-15 11:34:12.000000000,2021-02-24 17:00:12.000000000,2021-02-24 16:58:44.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2021-01-15 11:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/da66099caf606bed0845d536b2521963567fbb08', 'message': 'Add ""active"" column to storage scope, and API to manage it\n\nThis spec proposes an extension for the ""scope state"" endpoint.\nThis proposal goal is to add a new option called ""active"" in\nthe storage scope table, and an API that enables operators\nto manage it.\n\nChange-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6\n'}, {'number': 2, 'created': '2021-01-20 10:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/306ea7c10c95ef65bb230d88cfb1e39a4f09241b', 'message': 'Add ""active"" column to storage scope, and API to manage it\n\nThis spec proposes an extension for the ""scope state"" endpoint.\nThis proposal goal is to add a new option called ""active"" in\nthe storage scope table, and an API that enables operators\nto manage it.\n\nChange-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6\n'}, {'number': 3, 'created': '2021-01-20 18:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/47b3824dc95ac061fa1ee79fc75bed8f73497c8b', 'message': 'Add ""active"" column to storage scope, and API to manage it\n\nThis spec proposes an extension for the ""scope state"" endpoint.\nThis proposal goal is to add a new option called ""active"" in\nthe storage scope table, and an API that enables operators\nto manage it.\n\nChange-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6\n'}, {'number': 4, 'created': '2021-01-20 18:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/bbc44ca074f4ea36550d6850a34a5223fd148683', 'message': 'Add ""active"" column to storage scope, and API to manage it\n\nThis spec proposes an extension for the ""scope state"" endpoint.\nThis proposal goal is to add a new option called ""active"" in\nthe storage scope table, and an API that enables operators\nto manage it.\n\nChange-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6\n'}, {'number': 5, 'created': '2021-01-25 16:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/64249f5229e37b3ee577cffb5cc5ec1b385f4c8d', 'message': 'Add ""active"" column to storage scope, and API to manage it\n\nThis spec proposes an extension for the ""scope state"" endpoint.\nThis proposal goal is to add a new option called ""active"" in\nthe storage scope table, and an API that enables operators\nto manage it.\n\nChange-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6\n'}, {'number': 6, 'created': '2021-02-19 14:05:49.000000000', 'files': ['doc/source/index.rst', 'specs/wallaby/add_active_column_storage_states.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/1a6ecebfe7ca26d58c77c6e490e4c16159430fed', 'message': 'Add ""active"" column to storage scope, and API to manage it\n\nThis spec proposes an extension for the ""scope state"" endpoint.\nThis proposal goal is to add a new option called ""active"" in\nthe storage scope table, and an API that enables operators\nto manage it.\n\nChange-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6\n'}]",4,770928,1a6ecebfe7ca26d58c77c6e490e4c16159430fed,29,5,6,28356,,,0,"Add ""active"" column to storage scope, and API to manage it

This spec proposes an extension for the ""scope state"" endpoint.
This proposal goal is to add a new option called ""active"" in
the storage scope table, and an API that enables operators
to manage it.

Change-Id: Ib8b6eb8bdef202fb110852c4f2b680a6de77e8d6
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/28/770928/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/wallaby/add_active_colunm_storage_states.rst']",2,da66099caf606bed0845d536b2521963567fbb08,add-active-field,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================== Add ""active"" column to storage scope, and API to manage it ========================================================== This spec proposes an extension for the ""scope state"" endpoint. The proposal goal is to add a new option called ""active"" in the storage scope table, and an API that enables operators to manage it. Problem Description =================== When using Gnocchi as a fetcher (so, we can process resources that are not just OpenStack ones), we noticed that CloudKitty keeps processing resources that have already been deleted in the systems they were created. Therefore, they do not have measures in Gnocchi anymore. This causes a slowdown in the processing of CloudKitty. To present some figures, in a production environment, there are only ~330 resources that we want to process, but in CloudKitty storage states table, we can see ~990 (this number just grows with time), and CloudKitty is processing all of them During our meeting on January 11 (http://eavesdrop.openstack.org/meetings/cloudkitty/2021/cloudkitty.2021-01-11-14.00.html), we discussed that maybe we could do that automatically. However, when I reviewed the code changes that I needed, this would not be that simple. A project in OpenStack could, for instance, have a single VM, and then this VM could be deleted, and the project would not have measures anymore. Therefore, we would mark it as inactive. Then, if the project receives VMs in the future they would not be billed. Therefore, we would need to introduce a method to change resources from inactive to active states, which is not that simple, and therefore, this other mechanism would need to somehow process inactive resources at some point in time to check if they still do not have measures in Gnocchi. Therefore, we came up with a simpler solution. Proposed Change =============== The proposal is to add two new fields in the storage state table. A boolean column called ""active"", which indicates if the resource is active for billing, and another one called ""scope_activation_toggle_date"" (timestamp field) would store the latest timestamp when the scope moved between the active/deactivated states. Then, during CloudKitty processing, we would check the ""active"" column. If the resource is not active, we could ignore it during the processing. Moreover, we propose an API to allow operators to set the ""active"" field. The ""scope_activation_toggle_date"" will not be exposed for operators to change it. It would be updated automatically according to the changes in the ""active"" field. The proposal will add a new HTTP method to ""/v2/scope"" endpoint. We then will use ""patch"" HTTP method to allow operators to patch a storage scope. The API will require the scope_id, and then, it takes into account some of the fields we allow operators to change, and ""active"" field is one of them. Assignee(s) ----------- Primary assignees: - Rafael <rafael@apache.org> Other contributors: Work Items ---------- 1) Implement proposed changes 2) Update documentation and samples Dependencies ============ None ",,93,0
openstack%2Fheat~stable%2Ftrain~I0f8d55e39132a1d357033d460089a9775ad0b515,openstack/heat,stable/train,I0f8d55e39132a1d357033d460089a9775ad0b515,[stable-only] Cap bandit and fix lower constraints job,ABANDONED,2021-01-08 17:47:52.000000000,2021-02-24 16:51:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-08 17:47:52.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/d7fa936e12ffc57662c024c70fecaa2d7f389be4', 'message': '[stable-only] Cap bandit and fix lower constraints job\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\ncryptography version needed to be bumped as it conflicts with another\ndependency and causes the new pip resolver to time out at gate.\n\npygments needed to be added to lower-constraints to make\nrequirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nChange-Id: I0f8d55e39132a1d357033d460089a9775ad0b515\n'}]",0,769971,d7fa936e12ffc57662c024c70fecaa2d7f389be4,3,1,1,17685,,,0,"[stable-only] Cap bandit and fix lower constraints job

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

cryptography version needed to be bumped as it conflicts with another
dependency and causes the new pip resolver to time out at gate.

pygments needed to be added to lower-constraints to make
requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Change-Id: I0f8d55e39132a1d357033d460089a9775ad0b515
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/769971/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,d7fa936e12ffc57662c024c70fecaa2d7f389be4,cap-bandit-1.6.2,cryptography==2.1.4pygments==2.2.0,cryptography==2.1,4,3
openstack%2Ftripleo-quickstart-extras~master~Ib707a345304cd58d04048484c75b0a7f52233753,openstack/tripleo-quickstart-extras,master,Ib707a345304cd58d04048484c75b0a7f52233753,Switch minion to fetch from undercloud correctly,ABANDONED,2020-07-13 15:56:00.000000000,2021-02-24 16:44:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 15:56:00.000000000', 'files': ['roles/undercloud-minion-deploy/defaults/main.yml', 'roles/undercloud-minion-deploy/README.md', 'roles/undercloud-minion-deploy/templates/containers-prepare-parameter.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/77c3bd6639345566e7ca41f6335186a218d96d33', 'message': 'Switch minion to fetch from undercloud correctly\n\nThe default registry configuration for the undercloud is a named virtual\nhost meaning that we must fetch the container using the DNS name rather\nthan the ip address.  Previously this was configured to the the local\ndocker registry address however if ssl is enabled on the undercloud,\nthen you cannot fetch via the ip address.\n\nChange-Id: Ib707a345304cd58d04048484c75b0a7f52233753\nCloses-Bug: #1886914\n'}]",0,740722,77c3bd6639345566e7ca41f6335186a218d96d33,8,5,1,14985,,,0,"Switch minion to fetch from undercloud correctly

The default registry configuration for the undercloud is a named virtual
host meaning that we must fetch the container using the DNS name rather
than the ip address.  Previously this was configured to the the local
docker registry address however if ssl is enabled on the undercloud,
then you cannot fetch via the ip address.

Change-Id: Ib707a345304cd58d04048484c75b0a7f52233753
Closes-Bug: #1886914
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/22/740722/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-minion-deploy/defaults/main.yml', 'roles/undercloud-minion-deploy/README.md', 'roles/undercloud-minion-deploy/templates/containers-prepare-parameter.yaml.j2']",3,77c3bd6639345566e7ca41f6335186a218d96d33,bug/1886914," DockerInsecureRegistryAddress: {{ minion_container_insecure_registries }} namespace: ""{{ minion_container_registry_source }}/{{ docker_registry_namespace_used }}"""," DockerInsecureRegistryAddress: - {{ local_docker_registry_host }}:8787 namespace: ""{{ local_docker_registry_host }}:8787/{{ docker_registry_namespace_used }}""",9,8
openstack%2Fironic~master~I956776dd1435f93c94c6b84134c2d0e995b6c6c1,openstack/ironic,master,I956776dd1435f93c94c6b84134c2d0e995b6c6c1,Add separate policies for updating node properties related to boot-from-volume,ABANDONED,2021-01-06 20:55:42.000000000,2021-02-24 16:37:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-06 20:55:42.000000000', 'files': ['ironic/common/policy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa937a151794ea4fc850faa1c32984ce1a3a3d6d', 'message': ""Add separate policies for updating node properties related to boot-from-volume\n\nIn order to boot a node from a volume, a user must be able to update\na node's storage_interface and its capabilities (if using iSCSI).\nThis change allows an Ironic administrator to provide policy-based\naccess to updating these values.\n\nStory: #2006506\nTask: #41543\nChange-Id: I956776dd1435f93c94c6b84134c2d0e995b6c6c1\n""}]",0,769619,fa937a151794ea4fc850faa1c32984ce1a3a3d6d,5,1,1,7386,,,0,"Add separate policies for updating node properties related to boot-from-volume

In order to boot a node from a volume, a user must be able to update
a node's storage_interface and its capabilities (if using iSCSI).
This change allows an Ironic administrator to provide policy-based
access to updating these values.

Story: #2006506
Task: #41543
Change-Id: I956776dd1435f93c94c6b84134c2d0e995b6c6c1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/769619/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/policy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",3,fa937a151794ea4fc850faa1c32984ce1a3a3d6d,bp/node-update-for-volume-policies, elif p['path'].startswith('/storage_interface'): policy_checks.append('baremetal:node:update_storage_interface') elif p['path'].startswith('/properties/capabilities'): policy_checks.append( 'baremetal:node:update_properties_capabilities'),,72,0
openstack%2Fmonasca-common~master~Ie4b135c456333cd8a98cfb1d5231351786d1dd86,openstack/monasca-common,master,Ie4b135c456333cd8a98cfb1d5231351786d1dd86,Fix zuul publish docker image job,MERGED,2021-02-24 10:49:49.000000000,2021-02-24 16:31:29.000000000,2021-02-24 16:31:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-24 10:49:49.000000000', 'files': ['playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/9aa47afe5d39efcfd2f8b64810ac58857b4f7997', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Ie4b135c456333cd8a98cfb1d5231351786d1dd86\n'}]",0,777355,9aa47afe5d39efcfd2f8b64810ac58857b4f7997,10,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ie4b135c456333cd8a98cfb1d5231351786d1dd86
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/55/777355/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish.yml'],1,9aa47afe5d39efcfd2f8b64810ac58857b4f7997,fix-zuul-publish," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else 'master'}}"""," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Fglance~master~I04dd2d89793da975a79a4dd721071c19cd939d13,openstack/glance,master,I04dd2d89793da975a79a4dd721071c19cd939d13,DNM Test glance_store lazy volume type check,ABANDONED,2021-02-11 17:53:03.000000000,2021-02-24 16:25:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-11 17:53:03.000000000', 'files': ['glance/api/common.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/ff14eda4272ad533cab4ba031a277179720eae53', 'message': 'DNM Test glance_store lazy volume type check\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/774703\nChange-Id: I04dd2d89793da975a79a4dd721071c19cd939d13\n'}]",0,775246,ff14eda4272ad533cab4ba031a277179720eae53,8,1,1,4393,,,0,"DNM Test glance_store lazy volume type check

Depends-On: https://review.opendev.org/c/openstack/glance_store/+/774703
Change-Id: I04dd2d89793da975a79a4dd721071c19cd939d13
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/775246/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/common.py', '.zuul.yaml']",2,ff14eda4272ad533cab4ba031a277179720eae53,, required-projects: - name: openstack/glance_store,,4,0
openstack%2Fdesignate~stable%2Fstein~I2b32cec8d6570e990d19046dbbbd764cb4c4e5cc,openstack/designate,stable/stein,I2b32cec8d6570e990d19046dbbbd764cb4c4e5cc,Drop lower-constraints test,ABANDONED,2021-02-15 15:02:18.000000000,2021-02-24 16:21:16.000000000,,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-02-15 15:02:18.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/cfb3c74e38f71a695413750f6aac511caa02baae', 'message': 'Drop lower-constraints test\n\nThis change drops the lower-constraints test.\n\nChange-Id: I2b32cec8d6570e990d19046dbbbd764cb4c4e5cc\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit d08dd621c988fe13b9844c5c44e143907aa74d0c)\n'}]",0,775664,cfb3c74e38f71a695413750f6aac511caa02baae,14,4,1,19298,,,0,"Drop lower-constraints test

This change drops the lower-constraints test.

Change-Id: I2b32cec8d6570e990d19046dbbbd764cb4c4e5cc
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit d08dd621c988fe13b9844c5c44e143907aa74d0c)
",git fetch https://review.opendev.org/openstack/designate refs/changes/64/775664/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,cfb3c74e38f71a695413750f6aac511caa02baae,drop_lc,, [testenv:lower-constraints] basepython = python3 install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,177
openstack%2Fdesignate~stable%2Fstein~I90af3a092296f943509833608f25522b6f8e9ab6,openstack/designate,stable/stein,I90af3a092296f943509833608f25522b6f8e9ab6,Fix pdns4 devstack plugin and drop lower-constraints,MERGED,2021-02-16 23:07:40.000000000,2021-02-24 16:20:50.000000000,2021-02-24 16:13:08.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 23:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/11b733afaac41aa99347bacd5cec00b679f62842', 'message': ""Fix pdns4 devstack plugin\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n""}, {'number': 2, 'created': '2021-02-17 01:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fd616f259802aab05f7168abb8f9ed56b738a910', 'message': ""Fix pdns4 devstack plugin\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n""}, {'number': 3, 'created': '2021-02-18 15:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d339823654f269d4a5d9c8dd1b587c39b0f40c43', 'message': ""Fix pdns4 devstack plugin\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n""}, {'number': 4, 'created': '2021-02-18 16:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/eb0c4413d78bdab45ac2d78f974d06e22d07f711', 'message': ""Fix pdns4 devstack plugin\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n""}, {'number': 5, 'created': '2021-02-19 22:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8ef7912bcaa16e10d68312aff15e89e11b17d4b2', 'message': ""Fix pdns4 devstack plugin\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n""}, {'number': 6, 'created': '2021-02-19 23:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fb679459c8cd379c6ac2e39f46ccb61b4f9da5b6', 'message': ""Fix pdns4 devstack plugin\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n""}, {'number': 7, 'created': '2021-02-19 23:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7d2f9dd0e0e1d6ad7eb08f5b915350aca43b284a', 'message': ""Fix pdns4 devstack plugin\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\nDepends-On: I36799ee9d4db20104377e2772c86229b8083448d\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n""}, {'number': 8, 'created': '2021-02-22 14:21:14.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'devstack/designate_plugins/backend-pdns4', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/656a26c45ce4c9bc7931867c7db0883ff763cf2e', 'message': ""Fix pdns4 devstack plugin and drop lower-constraints\n\nThis change drops the lower-constraints test.\n(cherry picked from commit d08dd621c988fe13b9844c5c44e143907aa74d0c)\n\nAnd fixes the pdns4 devstack plugin.\n\nWe no longer need to deal with xenial or older distro versions, so we\ncan assume that we can always install pdns4 from the distro directly\nand don't need the distro version check any longer.\n\nDrop a config option that was removed in pdns 4.2.x.\n\nUse mysql credentials correctly.\n\n(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)\n\nChange-Id: I90af3a092296f943509833608f25522b6f8e9ab6\nDepends-On: I36799ee9d4db20104377e2772c86229b8083448d\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n""}]",0,775903,656a26c45ce4c9bc7931867c7db0883ff763cf2e,42,5,8,19298,,,0,"Fix pdns4 devstack plugin and drop lower-constraints

This change drops the lower-constraints test.
(cherry picked from commit d08dd621c988fe13b9844c5c44e143907aa74d0c)

And fixes the pdns4 devstack plugin.

We no longer need to deal with xenial or older distro versions, so we
can assume that we can always install pdns4 from the distro directly
and don't need the distro version check any longer.

Drop a config option that was removed in pdns 4.2.x.

Use mysql credentials correctly.

(cherry picked from commit 6f17fe10bb37d71944e16a422606ccf0f78c6771)

Change-Id: I90af3a092296f943509833608f25522b6f8e9ab6
Depends-On: I36799ee9d4db20104377e2772c86229b8083448d
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/03/775903/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/designate_plugins/backend-pdns4'],1,11b733afaac41aa99347bacd5cec00b679f62842,fix-pdns-stable/stein, sudo mysql -u$DATABASE_USER -p$DATABASE_PASSWORD -h$MYSQL_HOST designate_pdns < $DESIGNATE_PLUGINS/backend-pdns4-mysql-db.sql," GetOSVersion if [ ""$os_CODENAME"" = ""trusty"" ]; then sudo tee /etc/apt/sources.list.d/pdns.list > /dev/null <<EOF deb [arch=amd64] http://repo.powerdns.com/ubuntu trusty-auth-40 main EOF sudo tee /etc/apt/preferences.d/pdns > /dev/null <<EOF Package: pdns-* Pin: origin repo.powerdns.com Pin-Priority: 600 EOF curl https://repo.powerdns.com/FD380FBB-pub.asc | sudo apt-key add - && sudo apt-get update elif [ ""$os_CODENAME"" = ""xenial"" ]; then echo ""Use PDNS4 from apt repo"" elif [ ""$os_CODENAME"" = ""bionic"" ]; then echo ""Use PDNS4 from apt repo"" else die $LINENO ""PDNS4 backend only supports bionic, trusty or xenial"" fiout-of-zone-additional-processing=no sudo mysql -u root designate_pdns < $DESIGNATE_PLUGINS/backend-pdns4-mysql-db.sql",1,21
openstack%2Ftripleo-ansible~master~I51b71a2c74f954e9a50fb7008f460aee6a74734f,openstack/tripleo-ansible,master,I51b71a2c74f954e9a50fb7008f460aee6a74734f,Fix bootstrap ansible_fact,MERGED,2021-02-23 16:46:25.000000000,2021-02-24 16:19:36.000000000,2021-02-24 16:19:36.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 16:46:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20a1a4c39e6926ca6a649d5fe96124f26e97ef5d', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n'}]",0,777164,20a1a4c39e6926ca6a649d5fe96124f26e97ef5d,8,5,1,14985,,,0,"Fix bootstrap ansible_fact

Missed the distribution_major_version switch.

Change-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/777164/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'],1,20a1a4c39e6926ca6a649d5fe96124f26e97ef5d,ansible-facts," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_facts['distribution_major_version']) == 'redhat-7') | bool }}"""," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_distribution_major_version) == 'redhat-7') | bool }}""",1,1
openstack%2Foctavia~master~If85c163f0ae9f7f80de56c10bda05ad6da3ea90f,openstack/octavia,master,If85c163f0ae9f7f80de56c10bda05ad6da3ea90f,Fix userdata template for Python3,NEW,2021-01-15 14:34:27.000000000,2021-02-24 16:10:49.000000000,,"[{'_account_id': 3185}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-01-15 14:34:27.000000000', 'files': ['octavia/common/jinja/templates/user_data_config_drive.template'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fd5482352c36b2bb235faa8cbf621c4e4cd1e66e', 'message': ""Fix userdata template for Python3\n\nThe userdata template cannot be rendered correctly on Python3 as the\nvalue can be bytes or string.\n\nIn the jinja code there is a concatenation with the '\\n' character,\nwhich fails with error:\n\n```python\nTypeError: can't concat str to bytes\n```\n\nChange-Id: If85c163f0ae9f7f80de56c10bda05ad6da3ea90f\n""}]",0,770942,fd5482352c36b2bb235faa8cbf621c4e4cd1e66e,3,3,1,9649,,,0,"Fix userdata template for Python3

The userdata template cannot be rendered correctly on Python3 as the
value can be bytes or string.

In the jinja code there is a concatenation with the '\n' character,
which fails with error:

```python
TypeError: can't concat str to bytes
```

Change-Id: If85c163f0ae9f7f80de56c10bda05ad6da3ea90f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/770942/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/jinja/templates/user_data_config_drive.template'],1,fd5482352c36b2bb235faa8cbf621c4e4cd1e66e,fix_jinja, {{ (value if value is string else value.decode('utf-8'))|indent(8) }}, {{ value|indent(8) }},1,1
openstack%2Fhorizon~master~Ia3b98a3eeceab6fc4f8d3b6930b888549654f02c,openstack/horizon,master,Ia3b98a3eeceab6fc4f8d3b6930b888549654f02c,Fix typo in horizon/exceptions.py,MERGED,2021-02-24 09:24:49.000000000,2021-02-24 15:59:24.000000000,2021-02-24 15:57:25.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-24 09:24:49.000000000', 'files': ['horizon/exceptions.py', 'horizon/templatetags/splitfilter.py', 'horizon/test/unit/test_exceptions.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3fe0802eaa104ad93df74b51559a120cad2c5745', 'message': 'Fix typo in horizon/exceptions.py\n\nChange-Id: Ia3b98a3eeceab6fc4f8d3b6930b888549654f02c\n'}]",0,777344,3fe0802eaa104ad93df74b51559a120cad2c5745,8,3,1,841,,,0,"Fix typo in horizon/exceptions.py

Change-Id: Ia3b98a3eeceab6fc4f8d3b6930b888549654f02c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/44/777344/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/exceptions.py', 'horizon/templatetags/splitfilter.py', 'horizon/test/unit/test_exceptions.py']",3,3fe0802eaa104ad93df74b51559a120cad2c5745,fix-typo," exceptions.SEPARATOR + expected = ['error', message + exceptions.SEPARATOR + details, '']"," exceptions.SEPERATOR + expected = ['error', message + exceptions.SEPERATOR + details, '']",5,5
openstack%2Fldappool~master~Ib0fad16f3c9b817756996f79c0b0b61f854583a3,openstack/ldappool,master,Ib0fad16f3c9b817756996f79c0b0b61f854583a3,"Remove lower-constraints, uncap PrettyTable",MERGED,2021-02-20 01:57:13.000000000,2021-02-24 15:53:59.000000000,2021-02-24 15:45:49.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15334}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 01:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/5ed3a4f9a66d390385e8e7675e6142655b35b9fb', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: Ib0fad16f3c9b817756996f79c0b0b61f854583a3\n'}, {'number': 2, 'created': '2021-02-23 19:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/d75e5a7e0e253a26a17df75212e7823e1ff673e9', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: Ib0fad16f3c9b817756996f79c0b0b61f854583a3\n'}, {'number': 3, 'created': '2021-02-24 14:00:41.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/322e0d753f20a9eb7f9bd27afe2271b33c6aedbb', 'message': ""Remove lower-constraints, uncap PrettyTable\n\nThe lower-constraints jobs are timing out, which means we're failing to\nfind a match for our specified constraints. These jobs are of limited\nvalue so just drop them.\n\nThe change to requirements flags the cap we currently enforce on\nPrettyTable. This was previously necessary due to requirements enforcing\nthe same case, but PrettyTable is now maintained as a Jazzband project\n[1] and the cap has been removed.\n\nFinally, while we're here, we can cleanup tox.ini somewhat and remove\nnow unnecessary warnings from the 'requirements.txt' file (this isn't an\nissue with pip's new resolver).\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: Ib0fad16f3c9b817756996f79c0b0b61f854583a3\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,776776,322e0d753f20a9eb7f9bd27afe2271b33c6aedbb,23,5,3,31882,,,0,"Remove lower-constraints, uncap PrettyTable

The lower-constraints jobs are timing out, which means we're failing to
find a match for our specified constraints. These jobs are of limited
value so just drop them.

The change to requirements flags the cap we currently enforce on
PrettyTable. This was previously necessary due to requirements enforcing
the same case, but PrettyTable is now maintained as a Jazzband project
[1] and the cap has been removed.

Finally, while we're here, we can cleanup tox.ini somewhat and remove
now unnecessary warnings from the 'requirements.txt' file (this isn't an
issue with pip's new resolver).

[1] https://github.com/jazzband/prettytable

Change-Id: Ib0fad16f3c9b817756996f79c0b0b61f854583a3
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/76/776776/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5ed3a4f9a66d390385e8e7675e6142655b35b9fb,bump_prettytable_version,PrettyTable>=0.7.2,"PrettyTable<0.8,>=0.7.2",1,1
openstack%2Fcharm-guide~master~Ib9414608374c42ee4df3df5f2e8bb01eeefb79ec,openstack/charm-guide,master,Ib9414608374c42ee4df3df5f2e8bb01eeefb79ec,Release note new granularity in ceph-osd out-in actions,MERGED,2021-02-23 19:41:33.000000000,2021-02-24 15:53:49.000000000,2021-02-24 15:51:03.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-23 19:41:33.000000000', 'files': ['doc/source/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0d0fef13f0420d53b300c93dd51995fc4b22fada', 'message': ""Release note new granularity in ceph-osd out-in actions\n\nThe ceph-osd charm actions 'osd-out' and 'osd-in' can\nnow target individual OSDs.\n\nChange-Id: Ib9414608374c42ee4df3df5f2e8bb01eeefb79ec\n""}]",0,777199,0d0fef13f0420d53b300c93dd51995fc4b22fada,7,2,1,30561,,,0,"Release note new granularity in ceph-osd out-in actions

The ceph-osd charm actions 'osd-out' and 'osd-in' can
now target individual OSDs.

Change-Id: Ib9414608374c42ee4df3df5f2e8bb01eeefb79ec
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/99/777199/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2104.rst'],1,0d0fef13f0420d53b300c93dd51995fc4b22fada,2104-docs,"ceph-osd charm: marking individual OSDs as 'out' or 'in' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ceph-osd charm actions ``osd-out`` and ``osd-in`` can now target individual OSD volumes. The previous behaviour was to act on all volumes - there is a new keyword 'all' for that use case. For example: .. code-block:: none juju run-action --wait ceph-osd/0 osd-out osds=osd.0,osd.1 juju run-action --wait ceph-osd/1 osd-out osds=all ",,12,0
openstack%2Fcharm-placement~master~I0ad22e07d8837e7e73bb02cda4f879888004daca,openstack/charm-placement,master,I0ad22e07d8837e7e73bb02cda4f879888004daca,Review README,MERGED,2021-02-24 03:17:47.000000000,2021-02-24 15:51:07.000000000,2021-02-24 15:51:07.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-24 03:17:47.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/647e1b0fdc029cf156a5777ec576780a45f0962f', 'message': 'Review README\n\n* Improve Overview and Deployment sections.\n\n* Apply README template.\n\n* Add section on upgrading to Train, linking to CDG.\n\nChange-Id: I0ad22e07d8837e7e73bb02cda4f879888004daca\n'}]",0,777290,647e1b0fdc029cf156a5777ec576780a45f0962f,7,3,1,30561,,,0,"Review README

* Improve Overview and Deployment sections.

* Apply README template.

* Add section on upgrading to Train, linking to CDG.

Change-Id: I0ad22e07d8837e7e73bb02cda4f879888004daca
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/90/777290/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,647e1b0fdc029cf156a5777ec576780a45f0962f,review-readme,"The placement charm deploys [Placement][upstream-placement], the core OpenStack API service that tracks the inventory and usage of various cloud resources (e.g. compute, storage, network addresses). The charm works alongside other Juju-deployed OpenStack services. > **Note**: The placement charm is supported starting with OpenStack Train.## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `openstack-origin` The `openstack-origin` option states the software sources. A common value is an OpenStack UCA release (e.g. 'cloud:bionic-ussuri' or 'cloud:focal-victoria'). See [Ubuntu Cloud Archive][wiki-uca]. The underlying host's existing apt sources will be used if this option is not specified (this behaviour can be explicitly chosen by using the value of 'distro'). ## Deployment Placement is often containerised. Here a single unit is deployed to a new container on machine '1': juju deploy --to lxd:1 placement Placement requires these applications to be present: keystone, nova-cloud-controller, and a cloud database. The database application is determined by the series. Prior to focal [percona-cluster][percona-cluster-charm] is used, otherwise it is [mysql-innodb-cluster][mysql-innodb-cluster-charm]. In the example deployment below mysql-innodb-cluster has been chosen. juju deploy mysql-router placement-mysql-router juju add-relation placement-mysql-router:db-router mysql-innodb-cluster:db-router juju add-relation placement-mysql-router:shared-db placement:shared-db Add relations to the remaining applications: juju add-relation placement:identity-service keystone:identity-service juju add-relation placement:placement nova-cloud-controller:placement ## Upgrading to OpenStack Train Prior to OpenStack Train, the placement API was managed by the nova-cloud-controller charm. Some extra steps are therefore needed when performing a Stein to Train upgrade. The documented procedure can be found on the [Special charm procedures][cdg-upgrade-special] page in the [OpenStack Charms Deployment Guide][cdg]. ## High availability When more than one unit is deployed with the [hacluster][hacluster-charm] application the charm will bring up an HA active/active cluster. There are two mutually exclusive high availability options: using virtual IP(s) or DNS. In both cases the hacluster subordinate charm is used to provide the Corosync and Pacemaker backend HA functionality. See [Infrastructure high availability][cdg-ha-apps] in the [OpenStack Charms Deployment Guide][cdg] for details. # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage informationPlease report bugs on [Launchpad][lp-bugs-charm-placement]. <!-- LINKS --> [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [lp-bugs-charm-placement]: https://bugs.launchpad.net/charm-placement/+filebug [upstream-placement]: https://docs.openstack.org/placement [cdg-upgrade-special]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/upgrade-special.html [cdg-ha-apps]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ha.html#ha-applications [hacluster-charm]: https://jaas.ai/hacluster [wiki-uca]: https://wiki.ubuntu.com/OpenStack/CloudArchive [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [percona-cluster-charm]: https://jaas.ai/percona-cluster [mysql-innodb-cluster-charm]: https://jaas.ai/mysql-innodb-cluster","This charm provides the Placement service for an OpenStack Cloud. OpenStack Train or later is required.As of Train, the placement API is managed by this charm and is no longer managed by the nova-cloud-controller charm. Placement relies on mysql, keystone, and nova-cloud-controller charms: juju deploy --series bionic --config openstack-origin=cloud:bionic-train cs:placement juju add-relation placement mysql juju add-relation placement keystone juju add-relation placement nova-cloud-controller If upgrading nova-cloud-controller to Train, the upgrade requires some coordination to transition to the new API endpoints. Prior to upgrading nova-cloud-controller to Train, the placement charm must be deployed for Train and related to the Stein-based nova-cloud-controller. It is important that nova-cloud-controller is paused while the API transition occurs (pause prior to adding relations for the placement charm) as the placement charm will migrate existing placement tables from the nova_api database to a new placement database. Once the new placement endpoints are registered, nova-cloud-controller can be resumed. After all of the steps have completed, nova-cloud-controller can then be upgraded to Train. Here's an example of the steps that were just described: juju deploy --series bionic --config openstack-origin=cloud:bionic-train cs:placement juju run-action nova-cloud-controller/0 pause juju add-relation placement mysql juju add-relation placement keystone juju add-relation placement nova-cloud-controller openstack endpoint list # ensure placement endpoints are listening on new placment IP address juju run-action nova-cloud-controller/0 resume juju config nova-cloud-controller openstack-origin=cloud:bionic-trainPlease report bugs on [Launchpad](https://bugs.launchpad.net/charm-placement/+filebug). For general questions please refer to the OpenStack [Charm Guide](https://docs.openstack.org/charm-guide/latest/).",81,29
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I4bea96767a3246054c5d98271d8378d84fefc247,openstack/puppet-openstack_spec_helper,stable/queens,I4bea96767a3246054c5d98271d8378d84fefc247,Pin puppetlabs_spec_helper to < 3.0.0 on train,MERGED,2021-02-23 22:49:22.000000000,2021-02-24 15:45:06.000000000,2021-02-24 15:45:06.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 22:49:22.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/fbbfcb298c4407889f1c2df96e44b7654d9598be', 'message': ""Pin puppetlabs_spec_helper to < 3.0.0 on train\n\nSome centos-7 jobs [1] are now failing with:\ncentos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are\ncentos-7 | expecting this executable, make sure you also install `minitar-cli`.\ncentos-7 | rake aborted!\ncentos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>\ncentos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))\ncentos-7 | ...\n\nSince they are pulling in a recent puppetlabs_spec_helper which is\nlikely not compatible with the ruby version in centos-7:\ncentos-7 | Installing puppetlabs_spec_helper 3.0.0\n\nLet's pin it to < 3.0.0\n\nCloses-Bug: #1916125\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt\n\nConflicts:\n\tpuppet-openstack_spec_helper.gemspec\n\nChange-Id: I4bea96767a3246054c5d98271d8378d84fefc247\n(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)\n(cherry picked from commit f2c1e94bf2dced846190006ecbcb8770cef3a77e)\n(cherry picked from commit ede2e2519cd622fdc415bc46b78499f4747d4442)\n""}]",0,777126,fbbfcb298c4407889f1c2df96e44b7654d9598be,6,3,1,9816,,,0,"Pin puppetlabs_spec_helper to < 3.0.0 on train

Some centos-7 jobs [1] are now failing with:
centos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are
centos-7 | expecting this executable, make sure you also install `minitar-cli`.
centos-7 | rake aborted!
centos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>
centos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))
centos-7 | ...

Since they are pulling in a recent puppetlabs_spec_helper which is
likely not compatible with the ruby version in centos-7:
centos-7 | Installing puppetlabs_spec_helper 3.0.0

Let's pin it to < 3.0.0

Closes-Bug: #1916125

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt

Conflicts:
	puppet-openstack_spec_helper.gemspec

Change-Id: I4bea96767a3246054c5d98271d8378d84fefc247
(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)
(cherry picked from commit f2c1e94bf2dced846190006ecbcb8770cef3a77e)
(cherry picked from commit ede2e2519cd622fdc415bc46b78499f4747d4442)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/26/777126/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,fbbfcb298c4407889f1c2df96e44b7654d9598be,bug/1916125-stable/queens," spec.add_dependency 'puppetlabs_spec_helper', ['< 3.0.0']", spec.add_dependency 'puppetlabs_spec_helper',1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I4bea96767a3246054c5d98271d8378d84fefc247,openstack/puppet-openstack_spec_helper,stable/rocky,I4bea96767a3246054c5d98271d8378d84fefc247,Pin puppetlabs_spec_helper to < 3.0.0 on train,MERGED,2021-02-23 22:48:45.000000000,2021-02-24 15:44:57.000000000,2021-02-24 15:44:57.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 22:48:45.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/ede2e2519cd622fdc415bc46b78499f4747d4442', 'message': ""Pin puppetlabs_spec_helper to < 3.0.0 on train\n\nSome centos-7 jobs [1] are now failing with:\ncentos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are\ncentos-7 | expecting this executable, make sure you also install `minitar-cli`.\ncentos-7 | rake aborted!\ncentos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>\ncentos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))\ncentos-7 | ...\n\nSince they are pulling in a recent puppetlabs_spec_helper which is\nlikely not compatible with the ruby version in centos-7:\ncentos-7 | Installing puppetlabs_spec_helper 3.0.0\n\nLet's pin it to < 3.0.0\n\nCloses-Bug: #1916125\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt\n\nConflicts:\n\tpuppet-openstack_spec_helper.gemspec\n\nChange-Id: I4bea96767a3246054c5d98271d8378d84fefc247\n(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)\n(cherry picked from commit f2c1e94bf2dced846190006ecbcb8770cef3a77e)\n""}]",0,777255,ede2e2519cd622fdc415bc46b78499f4747d4442,6,3,1,9816,,,0,"Pin puppetlabs_spec_helper to < 3.0.0 on train

Some centos-7 jobs [1] are now failing with:
centos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are
centos-7 | expecting this executable, make sure you also install `minitar-cli`.
centos-7 | rake aborted!
centos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>
centos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))
centos-7 | ...

Since they are pulling in a recent puppetlabs_spec_helper which is
likely not compatible with the ruby version in centos-7:
centos-7 | Installing puppetlabs_spec_helper 3.0.0

Let's pin it to < 3.0.0

Closes-Bug: #1916125

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt

Conflicts:
	puppet-openstack_spec_helper.gemspec

Change-Id: I4bea96767a3246054c5d98271d8378d84fefc247
(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)
(cherry picked from commit f2c1e94bf2dced846190006ecbcb8770cef3a77e)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/55/777255/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,ede2e2519cd622fdc415bc46b78499f4747d4442,bug/1916125," spec.add_dependency 'puppetlabs_spec_helper', ['< 3.0.0']", spec.add_dependency 'puppetlabs_spec_helper',1,1
openstack%2Fnova~master~Ia07241602f832a88c14fe3c62984acec97794d4c,openstack/nova,master,Ia07241602f832a88c14fe3c62984acec97794d4c,apidb: Add manage.py script,MERGED,2021-01-19 10:36:02.000000000,2021-02-24 15:44:45.000000000,2021-02-24 15:43:08.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d7796fed04da70e207d600a7d878fd57188d03f', 'message': ""apidb: Add manage.py script\n\nThis allows us to use the 'generate-schemas' tool developed for the main\nDB migration series for this series.\n\nChange-Id: Ia07241602f832a88c14fe3c62984acec97794d4c\n""}, {'number': 2, 'created': '2021-02-10 15:43:35.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a172b75587f4ab185efb47a9a31f1e0e7c158932', 'message': ""apidb: Add manage.py script\n\nThis allows us to use the 'generate-schemas' tool developed for the main\nDB migration series for this series.\n\nChange-Id: Ia07241602f832a88c14fe3c62984acec97794d4c\n""}]",1,771419,a172b75587f4ab185efb47a9a31f1e0e7c158932,21,3,2,15334,,,0,"apidb: Add manage.py script

This allows us to use the 'generate-schemas' tool developed for the main
DB migration series for this series.

Change-Id: Ia07241602f832a88c14fe3c62984acec97794d4c
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/771419/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api_migrations/migrate_repo/manage.py'],1,1d7796fed04da70e207d600a7d878fd57188d03f,bp/compact-db-migrations-wallaby,"#!/usr/bin/env python # Copyright 2012 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from migrate.versioning.shell import main if __name__ == '__main__': main(debug='False', repository='.') ",,20,0
openstack%2Fos-ken~master~I19617aee765f9086fbfdb67fb17839b83d9df48c,openstack/os-ken,master,I19617aee765f9086fbfdb67fb17839b83d9df48c,Fix lower-constraints job,MERGED,2021-02-10 01:56:52.000000000,2021-02-24 15:43:36.000000000,2021-02-23 11:50:38.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 01:56:52.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tools/test-requires', 'tools/pip-requires', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/28b0341e481a8d53e8b6b8a70b8a16a08d027e10', 'message': ""Fix lower-constraints job\n\nThe summary of changes in lower-constraints.txt are as below.\n\n* Address version mismatch of eventlet in requirements.txt and\n  lower-constraints.txt. eventlet 0.21.0 is blocked in\n  global-requirements.txt, so the min version is set to 0.22.0.\n* pytz version in l-c is bumped to satisfy Babel requirement.\n* Update the min version of msgpack to 0.5.0 as 0.3.0 is not\n  available in PyPI. msgpack-python is dropped as it is not used.\n* Drop linter-specific entries from lower-constraints.txt\n* hacking in l-c is updated to match the version in test-requirements.\n\nI also ran requirements-check script locally and detected\na lot of inconsistencies in requirements related files in os-ken.\nErrors detected by the script are fixed in this commit too.\n\nNOTE: The above inconsistencies were not detected mainly because\nwe don't have requirements-check job in os-ken CI.\nPerhaps it is due to 'tinyrpc' which is not included in g-r.\nIt is better to enable requirements-check job in os-ken CI,\nbut we need to add tinyrpc to global-requirements.txt or drop\ntinyrpc dependencies (for example, by dropping os-ken/app\nas tinyrpc is used only in os-ken/app).\n\nChange-Id: I19617aee765f9086fbfdb67fb17839b83d9df48c\n""}]",4,774755,28b0341e481a8d53e8b6b8a70b8a16a08d027e10,15,5,1,841,,,0,"Fix lower-constraints job

The summary of changes in lower-constraints.txt are as below.

* Address version mismatch of eventlet in requirements.txt and
  lower-constraints.txt. eventlet 0.21.0 is blocked in
  global-requirements.txt, so the min version is set to 0.22.0.
* pytz version in l-c is bumped to satisfy Babel requirement.
* Update the min version of msgpack to 0.5.0 as 0.3.0 is not
  available in PyPI. msgpack-python is dropped as it is not used.
* Drop linter-specific entries from lower-constraints.txt
* hacking in l-c is updated to match the version in test-requirements.

I also ran requirements-check script locally and detected
a lot of inconsistencies in requirements related files in os-ken.
Errors detected by the script are fixed in this commit too.

NOTE: The above inconsistencies were not detected mainly because
we don't have requirements-check job in os-ken CI.
Perhaps it is due to 'tinyrpc' which is not included in g-r.
It is better to enable requirements-check job in os-ken CI,
but we need to add tinyrpc to global-requirements.txt or drop
tinyrpc dependencies (for example, by dropping os-ken/app
as tinyrpc is used only in os-ken/app).

Change-Id: I19617aee765f9086fbfdb67fb17839b83d9df48c
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/55/774755/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tools/test-requires', 'tools/pip-requires', 'lower-constraints.txt']",5,28b0341e481a8d53e8b6b8a70b8a16a08d027e10,fix-l-c,eventlet==0.22.0hacking==3.2.0msgpack==0.5.0pytz==2015.7,astroid==1.6.5 bandit==1.1.0 bashate==0.5.1eventlet==0.21.0flake8-import-order==0.12 flake8==2.6.2hacking==1.1.0mccabe==0.2.1msgpack-python==0.4.0pycodestyle==2.4.0pyflakes==0.8.1pylint==1.9.2pytz==2013.6,25,36
openstack%2Fkuryr-kubernetes~master~I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c,openstack/kuryr-kubernetes,master,I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c,Ensure Namespace readiness depends on correct CRD,MERGED,2021-02-22 18:49:40.000000000,2021-02-24 15:38:47.000000000,2021-02-24 15:37:29.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-02-22 18:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/562bf9352ef4182d9dcdf01cc31bcc33febaaf95', 'message': 'Ensure Namespace readiness depends on correct CRD\n\nThe Nampespace handler requires that the KuryrNetwork CRD\nis created on the cluster instead of the old KuryrNet CRD.\nThis commit fixes the issue by checking if the KuryrNetwork\nis enforced.\n\nChange-Id: I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c\n'}, {'number': 2, 'created': '2021-02-23 12:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c78df58d8c3ec1a14bb96a5f6edfebd359738658', 'message': 'Ensure Namespace readiness depends on correct CRD\n\nThe Nampespace handler requires that the KuryrNetwork CRD\nis created on the cluster instead of the old KuryrNet CRD.\nThis commit fixes the issue by checking if the KuryrNetwork\nis enforced.\n\nCloses-bug: 776978\nChange-Id: I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c\n'}, {'number': 3, 'created': '2021-02-23 12:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/129d2eeed1bd51512884000016b301832edb87ab', 'message': 'Ensure Namespace readiness depends on correct CRD\n\nThe Nampespace handler requires that the KuryrNetwork CRD\nis created on the cluster instead of the old KuryrNet CRD.\nThis commit fixes the issue by checking if the KuryrNetwork\nis enforced.\n\nCloses-bug: 1916595\nChange-Id: I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c\n'}, {'number': 4, 'created': '2021-02-23 14:52:07.000000000', 'files': ['kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0a0cd64fd7b909cf6c42437562594ba77bf99244', 'message': 'Ensure Namespace readiness depends on correct CRD\n\nThe Nampespace handler requires that the KuryrNetwork CRD\nis created on the cluster instead of the old KuryrNet CRD.\nThis commit fixes the issue by checking if the KuryrNetwork\nis enforced.\n\nCloses-bug: 1916595\nChange-Id: I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c\n'}]",1,776978,0a0cd64fd7b909cf6c42437562594ba77bf99244,20,4,4,27032,,,0,"Ensure Namespace readiness depends on correct CRD

The Nampespace handler requires that the KuryrNetwork CRD
is created on the cluster instead of the old KuryrNet CRD.
This commit fixes the issue by checking if the KuryrNetwork
is enforced.

Closes-bug: 1916595
Change-Id: I1a5e19021c9dc7e8ddbb1898c23a4ed934497b2c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/78/776978/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/namespace.py'],1,562bf9352ef4182d9dcdf01cc31bcc33febaaf95,fix-namespace-readiness, if not (utils.has_kuryr_crd(constants.K8S_API_CRD_KURYRNETWORKS) and, if not (utils.has_kuryr_crd(constants.K8S_API_CRD_KURYRNETS) and,1,1
openstack%2Foctavia-tempest-plugin~master~I961486e887acc3799ff0e364d452a83158ec496c,openstack/octavia-tempest-plugin,master,I961486e887acc3799ff0e364d452a83158ec496c,"New ""test_connection_limit"" traffic based test.",ABANDONED,2020-10-21 13:32:17.000000000,2021-02-24 15:37:11.000000000,,"[{'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 6773}, {'_account_id': 7249}, {'_account_id': 8556}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 28609}, {'_account_id': 28956}, {'_account_id': 29244}, {'_account_id': 29681}, {'_account_id': 31664}, {'_account_id': 32137}]","[{'number': 1, 'created': '2020-10-21 13:32:17.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/48c84b70dace262f676551578ea20b8c4496cb14', 'message': 'New ""test_connection_limit"" traffic based test.\n\nUpdate listener with ""connection_limit"" and send\nHTTP requests in parallel using Python ""Requests sessions""\nand threads modules.\nNote: more details could be found in docstring inside the test.\n\nChange-Id: I961486e887acc3799ff0e364d452a83158ec496c\n'}]",7,759053,48c84b70dace262f676551578ea20b8c4496cb14,11,19,1,28609,,,0,"New ""test_connection_limit"" traffic based test.

Update listener with ""connection_limit"" and send
HTTP requests in parallel using Python ""Requests sessions""
and threads modules.
Note: more details could be found in docstring inside the test.

Change-Id: I961486e887acc3799ff0e364d452a83158ec496c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/53/759053/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py']",2,48c84b70dace262f676551578ea20b8c4496cb14,connection_limit," def _http_requests_single_connection( self, dst_ip, dst_port, request_number, delay, result, index, tcp_timeout=1): """"""This function is used as a worker, target thread function. :param dst_ip: Destination HTTP server IP. :param dst_port: Destination HTTP server port. :param request_number: Number of subsequent GET requests to send on the same TCP connection (Session). :param delay: Delay in [sec] between GET requests. :param result is ""returned list of results"". List of Nones [None, None..., None] in a length of thread s number. This list holds the ""return"" results for all executed threads. :param index: used to index threads. :param tcp_timeout: Python Requests module TCP timeout. :return: see result ""param"" """""" try: s = requests.Session() responses = [] for req in range(0, request_number): r = s.get('http://'+dst_ip+':'+str(dst_port), timeout=tcp_timeout) responses.append({ 'RequestNumber': req, 'ResponseCode': r.status_code, 'ResponseContentSize': len(r.content)}) time.sleep(delay) result[index] = { 'ConnectionStatus': True, 'RespondData': responses} except Exception as e: result[index] = {'ConnectionStatus': False, 'RespondData': e}",,130,223
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I4bea96767a3246054c5d98271d8378d84fefc247,openstack/puppet-openstack_spec_helper,stable/stein,I4bea96767a3246054c5d98271d8378d84fefc247,Pin puppetlabs_spec_helper to < 3.0.0 on train,MERGED,2021-02-23 22:46:33.000000000,2021-02-24 15:32:03.000000000,2021-02-24 15:32:03.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 22:46:33.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f2c1e94bf2dced846190006ecbcb8770cef3a77e', 'message': ""Pin puppetlabs_spec_helper to < 3.0.0 on train\n\nSome centos-7 jobs [1] are now failing with:\ncentos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are\ncentos-7 | expecting this executable, make sure you also install `minitar-cli`.\ncentos-7 | rake aborted!\ncentos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>\ncentos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))\ncentos-7 | ...\n\nSince they are pulling in a recent puppetlabs_spec_helper which is\nlikely not compatible with the ruby version in centos-7:\ncentos-7 | Installing puppetlabs_spec_helper 3.0.0\n\nLet's pin it to < 3.0.0\n\nCloses-Bug: #1916125\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt\n\nChange-Id: I4bea96767a3246054c5d98271d8378d84fefc247\n(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)\n""}]",0,777125,f2c1e94bf2dced846190006ecbcb8770cef3a77e,9,3,1,9816,,,0,"Pin puppetlabs_spec_helper to < 3.0.0 on train

Some centos-7 jobs [1] are now failing with:
centos-7 | The `minitar` executable is no longer bundled with `minitar`. If you are
centos-7 | expecting this executable, make sure you also install `minitar-cli`.
centos-7 | rake aborted!
centos-7 | SyntaxError: /home/zuul/workspace/.bundled_gems/gems/puppetlabs_spec_helper-3.0.0/lib/puppetlabs_spec_helper/rake_tasks.rb:152: syntax error, unexpected ':', expecting =>
centos-7 | ...voke(force: true, 'target-dir': File.join(Dir.pwd, 'pkg'))
centos-7 | ...

Since they are pulling in a recent puppetlabs_spec_helper which is
likely not compatible with the ruby version in centos-7:
centos-7 | Installing puppetlabs_spec_helper 3.0.0

Let's pin it to < 3.0.0

Closes-Bug: #1916125

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_3c8/776424/1/check/puppet-openstack-unit-5.5-centos-7/3c82a14/job-output.txt

Change-Id: I4bea96767a3246054c5d98271d8378d84fefc247
(cherry picked from commit bb6c907515668745ca244d7a619dacb40f5f1f69)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/25/777125/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,f2c1e94bf2dced846190006ecbcb8770cef3a77e,bug/1916125," spec.add_dependency 'puppetlabs_spec_helper', ['< 3.0.0']", spec.add_dependency 'puppetlabs_spec_helper',1,1
openstack%2Fmonasca-common~stable%2Fussuri~I9100912457dffcb0441d5e20a18074c4da8bff26,openstack/monasca-common,stable/ussuri,I9100912457dffcb0441d5e20a18074c4da8bff26,Fix zuul publish docker image job,MERGED,2021-02-24 11:03:14.000000000,2021-02-24 14:49:26.000000000,2021-02-24 14:49:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-24 11:03:14.000000000', 'files': ['playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/b4aa7f1b08f709faffa55497f61f8ce174f61f46', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I9100912457dffcb0441d5e20a18074c4da8bff26\n'}]",0,777359,b4aa7f1b08f709faffa55497f61f8ce174f61f46,6,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I9100912457dffcb0441d5e20a18074c4da8bff26
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/59/777359/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish.yml'],1,b4aa7f1b08f709faffa55497f61f8ce174f61f46,fix-zuul-publish," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else 'ussuri'}}"""," shell: ""docker push monasca/base""",1,1
openstack%2Fmonasca-common~stable%2Fvictoria~I222add517fd8f5009c5783d4dbb309501eb9a109,openstack/monasca-common,stable/victoria,I222add517fd8f5009c5783d4dbb309501eb9a109,Fix zuul publish docker image job,MERGED,2021-02-24 10:56:31.000000000,2021-02-24 14:49:23.000000000,2021-02-24 14:49:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-24 10:56:31.000000000', 'files': ['playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/a04b1bbe631af6005620a2cfa86f747e2e6b9e92', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I222add517fd8f5009c5783d4dbb309501eb9a109\n'}]",0,777357,a04b1bbe631af6005620a2cfa86f747e2e6b9e92,6,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I222add517fd8f5009c5783d4dbb309501eb9a109
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/57/777357/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish.yml'],1,a04b1bbe631af6005620a2cfa86f747e2e6b9e92,fix-zuul-publish," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else 'victoria'}}"""," shell: ""docker push monasca/base""",1,1
openstack%2Fneutron~master~Iba29ab0b1141e731cc811e8bee076dd5726248b5,openstack/neutron,master,Iba29ab0b1141e731cc811e8bee076dd5726248b5,Make test_throttler happy,MERGED,2021-02-23 09:23:22.000000000,2021-02-24 14:35:27.000000000,2021-02-23 22:04:38.000000000,"[{'_account_id': 8313}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 09:23:22.000000000', 'files': ['neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b168232e03825ae1d85ce57b870ae5897a1eb9cb', 'message': 'Make test_throttler happy\n\nneutron.tests.unit.common.test_utils.TestThrottler.test_throttler\nis failing with ""AssertionError: 1 not greater than 1"", change the\nassert to assertGreaterEqual.\n\nChange-Id: Iba29ab0b1141e731cc811e8bee076dd5726248b5\nCloses-Bug: #1916572\n'}]",0,777072,b168232e03825ae1d85ce57b870ae5897a1eb9cb,14,4,1,9531,,,0,"Make test_throttler happy

neutron.tests.unit.common.test_utils.TestThrottler.test_throttler
is failing with ""AssertionError: 1 not greater than 1"", change the
assert to assertGreaterEqual.

Change-Id: Iba29ab0b1141e731cc811e8bee076dd5726248b5
Closes-Bug: #1916572
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/777072/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/common/test_utils.py'],1,b168232e03825ae1d85ce57b870ae5897a1eb9cb,bug/1916572," self.assertGreaterEqual(threshold, amount_to_sleep)"," self.assertGreater(threshold, amount_to_sleep)",1,1
openstack%2Fldappool~master~Icf5289bcb694bc491efe526fdd4aafd81ea5e6d8,openstack/ldappool,master,Icf5289bcb694bc491efe526fdd4aafd81ea5e6d8,Remove lower-constraints,ABANDONED,2021-02-23 19:54:28.000000000,2021-02-24 14:00:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-23 19:54:28.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/38aa810e262ec3fb9b749f952cf7959c83660b44', 'message': ""Remove lower-constraints\n\nThese jobs are timing out, which means we're failing to find a match for\nour specified constraints. These jobs are of limited value so just drop\nit.\n\nWhile we're here, cleanup tox.ini some bit and remove now unnecessary\nwarnings from the requirements.txt file (this isn't an issue with pip's\nnew resolver).\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Icf5289bcb694bc491efe526fdd4aafd81ea5e6d8\n""}]",0,777207,38aa810e262ec3fb9b749f952cf7959c83660b44,3,1,1,15334,,,0,"Remove lower-constraints

These jobs are timing out, which means we're failing to find a match for
our specified constraints. These jobs are of limited value so just drop
it.

While we're here, cleanup tox.ini some bit and remove now unnecessary
warnings from the requirements.txt file (this isn't an issue with pip's
new resolver).

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Icf5289bcb694bc491efe526fdd4aafd81ea5e6d8
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/07/777207/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",5,38aa810e262ec3fb9b749f952cf7959c83660b44,bump_prettytable_version,"envlist = pep8,cover,docs,releasenotes ignore_basepython_conflict = trueusedevelop = True setenv = OS_STDOUT_NOCAPTURE=False OS_STDERR_NOCAPTURE=False PYTHONDONTWRITEBYTECODE=1 deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} PYTHON=coverage run --source ldappool --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -W -b html releasenotes/source releasenotes/build/html","envlist = py37,pep8,cover,docs,releasenotes ignore_basepython_conflict = Trueusedevelop = True install_command = pip install {opts} {packages} setenv = VIRTUAL_ENV={envdir} OS_STDOUT_NOCAPTURE=False OS_STDERR_NOCAPTURE=False deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = find . -type f -name ""*.pyc"" -delete stestr run --slowest {posargs} whitelist_externals = find PYTHON=coverage run --source ldappool --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt",25,71
openstack%2Fironic~master~Ic47f21686c66297c5dc618a3970461ae0230963f,openstack/ironic,master,Ic47f21686c66297c5dc618a3970461ae0230963f,[doc-only] Add BFV basic flow and networking context,MERGED,2020-11-16 16:42:38.000000000,2021-02-24 13:43:17.000000000,2021-02-24 13:39:24.000000000,"[{'_account_id': 8745}, {'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-16 16:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c993ca888c57c512572e0e0b499d70a9211301b', 'message': 'Add BFV basic flow and networking context\n\nChange-Id: Ic47f21686c66297c5dc618a3970461ae0230963f\n'}, {'number': 2, 'created': '2020-12-15 18:24:25.000000000', 'files': ['doc/source/admin/boot-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb3f6726d54c8cc6cc8171843a794c66703ba3fb', 'message': '[doc-only] Add BFV basic flow and networking context\n\nChange-Id: Ic47f21686c66297c5dc618a3970461ae0230963f\n'}]",1,762873,fb3f6726d54c8cc6cc8171843a794c66703ba3fb,17,5,2,11655,,,0,"[doc-only] Add BFV basic flow and networking context

Change-Id: Ic47f21686c66297c5dc618a3970461ae0230963f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/762873/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/boot-from-volume.rst'],1,7c993ca888c57c512572e0e0b499d70a9211301b,,"How this works - From Ironic's point of view -------------------------------------------- In essence, ironic sets the stage for the process, by providing the required information to the boot interface to facilitate the configuration of the the node OR the iPXE boot templates such that the node CAN be booted. .. seqdiag:: :scale: 80 diagram { User; API; Conductor; Storage; Boot; Network; Deploy; activation = none; span_height = 1; edge_length = 250; default_note_color = white; default_fontsize = 14; User -> API [label = ""User or intermediate service such as nova supplies volume target configuration.""]; User -> API [label = ""Sends deployment request.""]; API -> Conductor [label = ""API transmits the action to the conductor service""]; Conductor -> Storage [label = ""Conductor calls the storage_interface to perform attachment of volume to node""]; Conductor -> Boot [label = ""Conductor calls the boot interface signaling preparation of an instance""]; Conductor -> Network [label = ""Conductor attaches the machine to network requested by the user VIF""]; Conductor -> Deploy [label = ""Conductor starts deployment steps which just turn the power on.""]; } In this example, the boot interface does the heavy lifting. For drivers the ``irmc`` and ``ilo`` hardware types with hardware type specific boot interfaces, they are able to signal via an out of band mechanism to the baremetal node's BMC that the integrated iSCSI initiators are to connect to the supplied volume target information. In most hardware this would be the network cards of the machine. In the case of the ``ipxe`` boot interface, templates are created on disk which point to the iscsi target information that was either submitted as part of the volume target, or when integrated with Nova, what was requested as the baremetal's boot from volume disk upon requesting the instance. In terms of network access, both interface methods require connectivity the iscsi target. In the vendor driver specific path, additional network configuration options may be available to allow separation of standard network traffic and instance network traffic. In the iPXE case, this is not possible as the OS userspace re-configures the iSCSI connection after detection inside the OS ramdisk boot. An iPXE user *may* be able to leverage multiple VIFs, one specifically set to be set with ``pxe_enabled`` to handle the initial instance boot and back-end storage traffic where as external facing network traffic occurs on a different interface. This is a common pattern in iSCSI based deployments in the physical realm. ",,54,0
openstack%2Fvalidations-libs~master~Icf5de856ddbc877dfdd19354b102197fefe40eec,openstack/validations-libs,master,Icf5de856ddbc877dfdd19354b102197fefe40eec,Removed unnecessary second check.,MERGED,2021-01-19 16:02:00.000000000,2021-02-24 13:43:03.000000000,2021-02-24 13:39:06.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 16:02:00.000000000', 'files': ['validations_libs/ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9dd1fcaff58c3115ba4141fdb91937fb484476e1', 'message': 'Removed unnecessary second check.\n\nThe condition checking existence ansible_artifact_path was redundant.\nSimilar, but more comprehensive, check is performed previously in the method,\nalong with missing path resolution.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Icf5de856ddbc877dfdd19354b102197fefe40eec\n'}]",0,771484,9dd1fcaff58c3115ba4141fdb91937fb484476e1,8,3,1,32926,,,0,"Removed unnecessary second check.

The condition checking existence ansible_artifact_path was redundant.
Similar, but more comprehensive, check is performed previously in the method,
along with missing path resolution.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Icf5de856ddbc877dfdd19354b102197fefe40eec
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/84/771484/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/ansible.py'],1,9dd1fcaff58c3115ba4141fdb91937fb484476e1,ansible/artifact_path/doublecheck,, if not ansible_artifact_path: ansible_artifact_path = constants.VALIDATION_ANSIBLE_ARTIFACT_PATH,0,2
openstack%2Fmonasca-notification~master~I9c408f2198a017391decba04008f2d3bfec6525e,openstack/monasca-notification,master,I9c408f2198a017391decba04008f2d3bfec6525e,Fix zuul publish docker image job,MERGED,2021-01-19 12:12:14.000000000,2021-02-24 13:00:58.000000000,2021-02-24 13:00:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-01-19 12:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/96917af2fa4855bb60399106a58fa011305a2aa8', 'message': 'Fix zuul publish docker image job\n\nChange-Id: I9c408f2198a017391decba04008f2d3bfec6525e\n'}, {'number': 2, 'created': '2021-02-23 12:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/77a8da97087717ad395cd2cc656e0f6d0ceb9d58', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I9c408f2198a017391decba04008f2d3bfec6525e\n'}, {'number': 3, 'created': '2021-02-24 12:03:34.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/5104c9ebac38b81e415781d95a0c1089d676c6b1', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I9c408f2198a017391decba04008f2d3bfec6525e\n'}]",0,771433,5104c9ebac38b81e415781d95a0c1089d676c6b1,11,2,3,26141,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I9c408f2198a017391decba04008f2d3bfec6525e
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/33/771433/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,96917af2fa4855bb60399106a58fa011305a2aa8,fix-zuul-publish," shell: ""docker push monasca/notification:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}"""," shell: ""docker push monasca/notification""",1,1
openstack%2Fnova~master~Ie4deb265f6093558ab86dc69f6ffab9da62ca15d,openstack/nova,master,Ie4deb265f6093558ab86dc69f6ffab9da62ca15d,libvirt: start tracking NUMACell.socket for hosts,MERGED,2020-12-11 21:38:18.000000000,2021-02-24 12:43:54.000000000,2021-02-24 12:41:18.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 21:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c48cdfba905b7f59aa3dae80c14f7a7979cf44aa', 'message': ""WIP: Start populating `socket_id` in host NUMA topology\n\nFor testing, we need to fix how fakelibvirt's HostInfo handled\nsockets.\n\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 2, 'created': '2020-12-13 19:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e0b85d4404da8a718f28df13de4da039d9f8b91', 'message': ""WIP: Start populating `socket_id` in host NUMA topology\n\nFor testing, we need to fix how fakelibvirt's HostInfo handled\nsockets.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 3, 'created': '2020-12-13 19:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76f780ec126ca9e3780b6ad1a9c10d93e27483f9', 'message': ""WIP: Start populating `socket_id` in host NUMA topology\n\nFor testing, we need to fix how fakelibvirt's HostInfo handled\nsockets.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 4, 'created': '2020-12-14 00:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7158f2208196dbe773109c187be8a0bfa45b3930', 'message': ""WIP: Start populating `socket_id` in host NUMA topology\n\nFor testing, we need to fix how fakelibvirt's HostInfo handled\nsockets.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 5, 'created': '2020-12-21 17:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9a52e1b4ee6a9337430e7a507cd26a600597493', 'message': ""WIP: Start populating `socket_id` in host NUMA topology\n\nFor testing, we need to fix how fakelibvirt's HostInfo handled\nsockets.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 6, 'created': '2020-12-22 17:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/517c61a188f72bb12fbea1cc786cceab83591819', 'message': ""WIP: Start populating `socket_id` in host NUMA topology\n\nFor testing, we need to fix how fakelibvirt's HostInfo handled\nsockets.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 7, 'created': '2020-12-23 17:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c84c69eee41123ea3b4fe14a36d9466c4ccb3f06', 'message': ""WIP: Start populating `socket` in host NUMA topology\n\nFor testing, we need to fix how fakelibvirt's HostInfo handled\nsockets.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 8, 'created': '2021-01-20 18:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f5b5a2c5b49606731a01c2fb4423368e890e5b5', 'message': ""WIP: libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 9, 'created': '2021-01-27 16:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad734322e98d0e718c1980aa41339bfe2d42b840', 'message': ""WIP: libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 10, 'created': '2021-01-28 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9eabccaa5f1d3e95cffb87f9ac4f8831015a138', 'message': ""WIP: libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 11, 'created': '2021-02-04 19:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b17343ca26889e154a6464a96ba9df1880cd5bc0', 'message': ""WIP: libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 12, 'created': '2021-02-05 00:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba00d3b2f992487299c21b275683ae0188af08da', 'message': ""WIP: libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 13, 'created': '2021-02-05 15:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c47e308d2e8eec1421ee2376d3b678147a1a9fae', 'message': ""WIP: libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 14, 'created': '2021-02-06 00:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/add7eed173a95bd35e5ec31e371bb73f4ff17c79', 'message': ""WIP: libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 15, 'created': '2021-02-09 21:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db85dd6b429c37c4b31149211109bba492050c67', 'message': ""libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 16, 'created': '2021-02-17 18:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64ce448c0163540fceced7cf3f32805bdac91c6a', 'message': ""libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 17, 'created': '2021-02-18 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d297ed6db057764e6b387efba3bac750aec0eeee', 'message': ""libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 18, 'created': '2021-02-21 14:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d10873f8705632192d6c36fb0092b6d74e20ee8a', 'message': ""libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}, {'number': 19, 'created': '2021-02-21 16:45:30.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/objects/numa.py', 'nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/objects/test_numa.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95b9481aa4e4271503ccfdde80ab8b52838d5ffe', 'message': ""libvirt: start tracking NUMACell.socket for hosts\n\nThis patch adds a `socket` field to NUMACell, and the libvirt driver\nstarts populating it. For testing, we need to fix how fakelibvirt's\nHostInfo handled sockets: it previously assumed one or more sockets\nwithin a NUMA node, but we want the reverse - one or more NUMA nodes\nwithin a socket.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d\n""}]",9,766816,95b9481aa4e4271503ccfdde80ab8b52838d5ffe,101,3,19,8864,,,0,"libvirt: start tracking NUMACell.socket for hosts

This patch adds a `socket` field to NUMACell, and the libvirt driver
starts populating it. For testing, we need to fix how fakelibvirt's
HostInfo handled sockets: it previously assumed one or more sockets
within a NUMA node, but we want the reverse - one or more NUMA nodes
within a socket.

Implements: blueprint pci-socket-affinity
Change-Id: Ie4deb265f6093558ab86dc69f6ffab9da62ca15d
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/766816/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,c48cdfba905b7f59aa3dae80c14f7a7979cf44aa,bp/pci-socket-affinity," print(etree.tostring( caps.host.topology.format_dom(), pretty_print=True)) #self.assertTrue(False)",,22,11
openstack%2Ftempest~master~I7da3e8898e00bc07f6e462cbc9765ce7c199faa2,openstack/tempest,master,I7da3e8898e00bc07f6e462cbc9765ce7c199faa2,Remove usage of six,MERGED,2021-01-05 03:30:34.000000000,2021-02-24 12:43:40.000000000,2021-02-24 12:41:04.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-01-05 03:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/77c153f17b7631d02405f6782bc731ca090aa6c4', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.add_metaclass\n\nChange-Id: I7da3e8898e00bc07f6e462cbc9765ce7c199faa2\n'}, {'number': 2, 'created': '2021-02-20 00:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a10cb0a35e8847500bedde9132d1d1a5539acc3d', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.add_metaclass\n\nChange-Id: I7da3e8898e00bc07f6e462cbc9765ce7c199faa2\n'}, {'number': 3, 'created': '2021-02-23 00:38:55.000000000', 'files': ['tempest/test_discover/plugins.py', 'tempest/tests/lib/test_decorators.py', 'tempest/lib/auth.py', 'tempest/lib/common/cred_provider.py', 'tempest/lib/common/cred_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4c3bf8f80068ccfd28dd68dfae20c6bca948326b', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.add_metaclass\n\nChange-Id: I7da3e8898e00bc07f6e462cbc9765ce7c199faa2\n'}]",0,769243,4c3bf8f80068ccfd28dd68dfae20c6bca948326b,34,3,3,31412,,,0,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.add_metaclass

Change-Id: I7da3e8898e00bc07f6e462cbc9765ce7c199faa2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/43/769243/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/test_discover/plugins.py', 'tempest/lib/auth.py', 'tempest/tests/lib/test_decorators.py', 'tempest/lib/common/cred_provider.py', 'tempest/lib/common/cred_client.py']",5,77c153f17b7631d02405f6782bc731ca090aa6c4,remove-six,"class CredsClient(object, metaclass=abc.ABCMeta):",import six@six.add_metaclass(abc.ABCMeta) class CredsClient(object):,5,15
openstack%2Fcharm-cinder-purestorage~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-cinder-purestorage,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:41:58.000000000,2021-02-24 12:42:05.000000000,2021-02-24 12:42:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/8fb6da38e193d8a5c1ed1e5ae4f3f80b85edcc79', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 2, 'created': '2021-02-23 10:13:54.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/27e9e7d9c69c2ec944576b9190547f64b41c5cc0', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776347,27e9e7d9c69c2ec944576b9190547f64b41c5cc0,16,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/47/776347/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,8fb6da38e193d8a5c1ed1e5ae4f3f80b85edcc79,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - groovy-victoria - focal-victoria - focal-ussuri - bionic-ussuri - bionic-queens - bionic-rocky - bionic-stein - bionic-train - xenial-ocata - xenial-pike - xenial-queens vars: needs_charm_build: true charm_build_name: cinder-purestorage,,19,0
openstack%2Fcharm-nova-cell-controller~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-nova-cell-controller,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:47:29.000000000,2021-02-24 12:33:11.000000000,2021-02-24 12:33:11.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/2ca04c614931b0fa49ffd1b8109a760ebdb29cfc', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 2, 'created': '2021-02-23 10:23:19.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/366f2c9a88f690b764426cc6726d5c10af896325', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}]",0,776377,366f2c9a88f690b764426cc6726d5c10af896325,12,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/77/776377/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,2ca04c614931b0fa49ffd1b8109a760ebdb29cfc,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - groovy-victoria - focal-victoria - focal-ussuri - bionic-ussuri - bionic-train - bionic-stein - bionic-rocky vars: needs_charm_build: true charm_build_name: nova-cell-controller,,15,0
openstack%2Fcharm-manila-generic~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-manila-generic,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:45:12.000000000,2021-02-24 12:29:30.000000000,2021-02-24 12:29:30.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/0bba0d3a532cd21dbab2ca2b6df545fc5dc97bd9', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 2, 'created': '2021-02-23 10:19:47.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/070e589c71cc939e6887c39a412a16f942c13dbe', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}]",0,776364,070e589c71cc939e6887c39a412a16f942c13dbe,12,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/64/776364/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,0bba0d3a532cd21dbab2ca2b6df545fc5dc97bd9,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - xenial-pike - xenial-queens - bionic-queens - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - focal-ussuri - focal-victoria - groovy-victoria vars: needs_charm_build: true charm_build_name: manila-generic,,18,0
openstack%2Fcharm-keystone-kerberos~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-keystone-kerberos,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:44:16.000000000,2021-02-24 12:27:33.000000000,2021-02-24 12:27:33.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/1db6a93008d637587440e8d205a39a511e345f04', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 2, 'created': '2021-02-23 10:16:34.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/488d5b243b02ea4bcc12c28ecf54c44cec07ba46', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776358,488d5b243b02ea4bcc12c28ecf54c44cec07ba46,12,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/58/776358/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,1db6a93008d637587440e8d205a39a511e345f04,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - bionic-queens - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - focal-ussuri - focal-victoria - groovy-victoria vars: needs_charm_build: true charm_build_name: keystone-kerberos,,16,0
openstack%2Fcharm-cinder-backup~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-cinder-backup,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:41:31.000000000,2021-02-24 12:24:37.000000000,2021-02-24 12:24:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/20437cdf0d0fcf7c34556dbed952e760a583bca3', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 2, 'created': '2021-02-23 10:13:33.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/a483ec971636f3b89ec3e1aee38c95baf0be91cb', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776344,a483ec971636f3b89ec3e1aee38c95baf0be91cb,13,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/44/776344/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,20437cdf0d0fcf7c34556dbed952e760a583bca3,feature/new-zuul,- project: templates: - charm-unit-jobs # Revert this to the project-template when trusty is actually # removed from the charm-functional-jobs template # - charm-functional-jobs check: jobs: - xenial-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-queens - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - focal-victoria - groovy-victoria,,19,0
openstack%2Frequirements~master~Ia6029efe54450c36a0c568ad600dba1f81404e6a,openstack/requirements,master,Ia6029efe54450c36a0c568ad600dba1f81404e6a,Updated from generate-constraints,MERGED,2021-02-24 06:19:06.000000000,2021-02-24 12:22:20.000000000,2021-02-24 12:20:50.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 06:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e4260af7dd782227882ea1d27f5049db37c22e95', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia6029efe54450c36a0c568ad600dba1f81404e6a\n'}, {'number': 2, 'created': '2021-02-24 06:58:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e64786f490c37ab0f9bda1365ec14e3b141390a', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia6029efe54450c36a0c568ad600dba1f81404e6a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777300,3e64786f490c37ab0f9bda1365ec14e3b141390a,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ia6029efe54450c36a0c568ad600dba1f81404e6a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/777300/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e4260af7dd782227882ea1d27f5049db37c22e95,openstack/requirements/constraints,moto===2.0.0mock===4.0.3gabbi===2.2.0importlib-metadata===3.6.0;python_version=='3.6'boto3===1.17.14protobuf===3.15.2botocore===1.20.14pkg-resources===0.0.0importlib-resources===5.1.0fasteners===0.16,python-jose===3.2.0moto===1.3.16ecdsa===0.14.1aws-sam-translator===1.34.0mock===3.0.5gabbi===2.1.0importlib-metadata===3.4.0;python_version=='3.6'boto3===1.17.13jsondiff===1.2.0cfn-lint===0.45.0 protobuf===3.15.1 jsonpickle===2.0.0botocore===1.20.13junit-xml===1.9aws-xray-sdk===2.6.0importlib-resources===3.3.1;python_version=='3.6' importlib-resources===5.1.0;python_version=='3.8'futures===3.3.0;python_version=='2.7'fasteners===0.14.1sshpubkeys===3.3.1setuptools===53.0.0,10,21
openstack%2Fcharm-glance-simplestreams-sync~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-glance-simplestreams-sync,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:05.000000000,2021-02-24 12:18:05.000000000,2021-02-24 12:18:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/78f22f993dc66a8a89775643586914b2cb25b40b', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 2, 'created': '2021-02-23 10:15:16.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/740d80cbed64ed8fd84d7403626767e2fa4d999f', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776351,740d80cbed64ed8fd84d7403626767e2fa4d999f,12,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/51/776351/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,78f22f993dc66a8a89775643586914b2cb25b40b,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - xenial-mitaka - xenial-queens - bionic-queens - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - focal-ussuri - focal-victoria - groovy-victoria,,15,0
openstack%2Fcharm-manila-ganesha~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-manila-ganesha,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:45:02.000000000,2021-02-24 12:14:38.000000000,2021-02-24 12:14:38.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/8b9cc32811186c1cb6e415bbc83c961b4aaaf0c3', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 2, 'created': '2021-02-23 10:18:43.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/a799c9600cf5e71ce99ea3ef1bd2caf0dcaf338e', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}]",0,776363,a799c9600cf5e71ce99ea3ef1bd2caf0dcaf338e,12,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/63/776363/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,8b9cc32811186c1cb6e415bbc83c961b4aaaf0c3,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - focal-ussuri - focal-victoria vars: needs_charm_build: true charm_build_name: manila-ganesha,,14,0
openstack%2Fcharm-gnocchi~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-gnocchi,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:14.000000000,2021-02-24 12:13:29.000000000,2021-02-24 12:13:29.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/5b2b4bc351c608a75a1b39057098ed484b7e9786', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 2, 'created': '2021-02-23 09:41:59.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/ee22dae1d563edb7138393cbd9fe512ad062b663', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776352,ee22dae1d563edb7138393cbd9fe512ad062b663,12,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/52/776352/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,5b2b4bc351c608a75a1b39057098ed484b7e9786,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - xenial-ocata - xenial-pike - xenial-queens - bionic-queens - bionic-rocky - bionic-stein - bionic-train - bionic-ussuri - focal-ussuri - focal-victoria - groovy-victoria - test-s3-bionic-stein-s3 - test-s3-bionic-train-s3 - test-s3-bionic-ussuri-s3 - test-s3-focal-ussuri-s3 - test-s3-focal-victoria-s3 - test-s3-groovy-victoria-s3 vars: needs_charm_build: true charm_build_name: gnocchi - job: name: test-s3-bionic-stein-s3 parent: func-target dependencies: &smoke-jobs - focal-ussuri vars: tox_extra_args: test-s3:bionic-stein-s3 - job: name: test-s3-bionic-train-s3 parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: test-s3:bionic-train-s3 - job: name: test-s3-bionic-ussuri-s3 parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: test-s3:bionic-ussuri-s3 - job: name: test-s3-focal-ussuri-s3 parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: test-s3:focal-ussuri-s3 - job: name: test-s3-focal-victoria-s3 parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: test-s3:focal-victoria-s3 - job: name: test-s3-groovy-victoria-s3 parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: test-s3:groovy-victoria-s3,,63,0
openstack%2Fcharm-barbican~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-barbican,master,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:09.000000000,2021-02-24 12:12:55.000000000,2021-02-24 12:12:55.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/bbe86d19677746ecbe01c11efccb5cdbb56f5dc0', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6\n'}, {'number': 2, 'created': '2021-02-23 10:10:25.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/0b902f76d30494f5a8794b8a0265ca0f340d1ca1', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6\n'}]",0,776333,0b902f76d30494f5a8794b8a0265ca0f340d1ca1,13,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/33/776333/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,bbe86d19677746ecbe01c11efccb5cdbb56f5dc0,feature/new-zuul,"- project: templates: - charm-unit-jobs # using overridden, shorter functional list because the charm does # already in the tests.yaml # - charm-functional-jobs check: jobs: - groovy-victoria - focal-victoria - focal-ussuri - bionic-ussuri - bionic-train - bionic-stein - bionic-rocky vars: needs_charm_build: true charm_build_name: barbican",,18,0
openstack%2Fcharm-vault~master~Id44d2037d5743bc882388141d726194c51d82fbf,openstack/charm-vault,master,Id44d2037d5743bc882388141d726194c51d82fbf,Add new osci.yaml,MERGED,2021-02-18 07:51:16.000000000,2021-02-24 12:12:16.000000000,2021-02-24 12:12:16.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/602594e1b04b0f2f2a8ada1d97017645c1139a27', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: Id44d2037d5743bc882388141d726194c51d82fbf\n'}, {'number': 2, 'created': '2021-02-23 09:49:36.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/73a267b869f7dcf30080e86019b811c42cce6ba5', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: Id44d2037d5743bc882388141d726194c51d82fbf\n'}]",0,776398,73a267b869f7dcf30080e86019b811c42cce6ba5,30,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: Id44d2037d5743bc882388141d726194c51d82fbf
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/98/776398/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,602594e1b04b0f2f2a8ada1d97017645c1139a27,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - xenial-ha-mysql - xenial-postgres - xenial-mysql - bionic-postgres - bionic-mysql - focal-mysql8 - groovy-mysql8 vars: needs_charm_build: true charm_build_name: vault - job: name: bionic-mysql parent: func-target dependencies: - osci-lint - tox-py35 - tox-py36 - tox-py37 - tox-py38 vars: tox_extra_args: bionic-mysql - job: name: xenial-ha-mysql parent: func-target dependencies: &smoke-jobs - bionic-mysql vars: tox_extra_args: bionic-stein-ssl - job: name: xenial-postgres parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: xenial-postgres - job: name: xenial-mysql parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: xenial-mysql - job: name: bionic-postgres parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-postgres - job: name: focal-mysql8 parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: focal-mysql8 - job: name: groovy-mysql8 parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: groovy-mysql8,,64,0
openstack%2Fcharm-barbican-vault~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-barbican-vault,master,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:19.000000000,2021-02-24 12:11:59.000000000,2021-02-24 12:11:59.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/89c54eee375a28c48acd7a51542eef7319db27ac', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6\n'}, {'number': 2, 'created': '2021-02-23 10:11:10.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/dc62b883ef51518f3619c4313cae17b6e9151c74', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6\n'}]",0,776334,dc62b883ef51518f3619c4313cae17b6e9151c74,13,3,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/34/776334/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,89c54eee375a28c48acd7a51542eef7319db27ac,feature/new-zuul,"- project: templates: - charm-unit-jobs # using overridden, shorter functional list because the charm does # already in the tests.yaml # - charm-functional-jobs check: jobs: - groovy-victoria - focal-victoria - focal-ussuri - bionic-ussuri - bionic-train - bionic-stein - bionic-rocky vars: needs_charm_build: true charm_build_name: barbican-vault",,18,0
openstack%2Fcharm-ceph-fs~master~I559aa794935acd63a0456d4ccbb33c9205a54fda,openstack/charm-ceph-fs,master,I559aa794935acd63a0456d4ccbb33c9205a54fda,Add new osci.yaml,MERGED,2021-02-18 07:40:07.000000000,2021-02-24 12:08:02.000000000,2021-02-24 12:08:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/2b14606700a3928cb52c1b2d6a77c25c46b5abe6', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda\n'}, {'number': 2, 'created': '2021-02-18 08:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/2e4d7dadb5e90fa6f91a90ad9877549c9a557c33', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda\n'}, {'number': 3, 'created': '2021-02-18 08:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/fd6a0d82169a6f0dc95f0d65738099ad25006a33', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda\n'}, {'number': 4, 'created': '2021-02-18 08:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/553314132035fb659efe2bf7f15455fb3a05c4b6', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda\n'}, {'number': 5, 'created': '2021-02-23 10:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/615d03c9bfe99ff4d3f2aea5031741a70b7e5c09', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda\n'}, {'number': 6, 'created': '2021-02-23 10:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/033f7be15a7b2ec5a8e51b295c96899355065227', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda\n'}, {'number': 7, 'created': '2021-02-23 11:00:55.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/95d02c8e46e5a6276298024d2d8252fab203c561', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda\n'}]",0,776337,95d02c8e46e5a6276298024d2d8252fab203c561,21,3,7,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I559aa794935acd63a0456d4ccbb33c9205a54fda
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/37/776337/5 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,2b14606700a3928cb52c1b2d6a77c25c46b5abe6,feature/new-zuul,"- job: name: groovy-victoria-bluestore parent: func-target dependencies: &smoke-jobs - bionic-queens vars: tox_extra_args: bluestore-compression:groovy-victoria - job: name: focal-victoria-bluestore parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bluestore-compression:focal-victoria - job: name: focal-ussuri-bluestore parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bluestore-compression:focal-ussuri - job: name: bionic-ussuri-bluestore parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bluestore-compression:bionic-ussuri - job: name: bionic-train-bluestore parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bluestore-compression:bionic-train - job: name: bionic-stein-bluestore parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bluestore-compression:bionic-stein - job: name: bionic-rocky-bluestore parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bluestore-compression:bionic-rocky - project: templates: - charm-unit-jobs # using overridden, shorter functional list because the charm does # already in the tests.yaml # - charm-functional-jobs check: jobs: - bionic-queens - xenial-queens # Xenial-pike is missing because of # https://bugs.launchpad.net/charm-nova-compute/+bug/1862624 - xenial-ocata - xenial-mitaka - groovy-victoria-bluestore - focal-victoria-bluestore - focal-ussuri-bluestore - bionic-ussuri-bluestore - bionic-train-bluestore - bionic-stein-bluestore - bionic-rocky-bluestore vars: needs_charm_build: true charm_build_name: ceph-fs",,68,0
openstack%2Fmonasca-common~stable%2Fstein~Ice49a0f1bc6e6d2c16d66fabc40e0ad1344ce104,openstack/monasca-common,stable/stein,Ice49a0f1bc6e6d2c16d66fabc40e0ad1344ce104,Fix zuul publish docker image job,NEW,2021-02-24 11:08:03.000000000,2021-02-24 12:03:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 11:08:03.000000000', 'files': ['playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/e0857910b3acceb44e351ff98fd7dd3694df713c', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Ice49a0f1bc6e6d2c16d66fabc40e0ad1344ce104\n'}]",0,777361,e0857910b3acceb44e351ff98fd7dd3694df713c,2,1,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ice49a0f1bc6e6d2c16d66fabc40e0ad1344ce104
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/61/777361/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish.yml'],1,e0857910b3acceb44e351ff98fd7dd3694df713c,fix-zuul-publish," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else 'stein'}}"""," shell: ""docker push monasca/base""",1,1
openstack%2Foctavia~master~I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1,openstack/octavia,master,I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1,Fix pep8 errors,MERGED,2021-02-22 10:56:37.000000000,2021-02-24 12:03:21.000000000,2021-02-24 12:00:59.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 10:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f3c378e7b535a6e082e981271d8712c00d17e43f', 'message': 'Fix pep8 errors\n\npylint 2.7.0 added additional checks for inconsistent-return-statements:\n- inconsistent-return-statements message is now emitted if one of\n  try/except statement is not returning explicitly while the other do.\n\nChange-Id: I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1\n'}, {'number': 2, 'created': '2021-02-22 16:52:50.000000000', 'files': ['octavia/common/utils.py', 'octavia/common/policy.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/certificates/manager/barbican_legacy.py', 'octavia/controller/worker/task_utils.py', 'octavia/certificates/manager/barbican.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c37738ba6f44686d88d9da6d1010e1b8e6af2dc5', 'message': 'Fix pep8 errors\n\npylint 2.7.0 added additional checks for inconsistent-return-statements:\n- inconsistent-return-statements message is now emitted if one of\n  try/except statement is not returning explicitly while the other do.\n\nChange-Id: I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1\n'}]",19,776919,c37738ba6f44686d88d9da6d1010e1b8e6af2dc5,16,6,2,29244,,,0,"Fix pep8 errors

pylint 2.7.0 added additional checks for inconsistent-return-statements:
- inconsistent-return-statements message is now emitted if one of
  try/except statement is not returning explicitly while the other do.

Change-Id: I196e13996ce4bce93d9a8eed87f6c3cb8ef3cea1
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/776919/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/common/policy.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/certificates/manager/barbican_legacy.py', 'octavia/controller/worker/task_utils.py', 'octavia/api/v2/controllers/member.py', 'octavia/certificates/manager/barbican.py', 'octavia/api/v2/controllers/listener.py']",8,f3c378e7b535a6e082e981271d8712c00d17e43f,, return None,,9,0
openstack%2Fmonasca-common~stable%2Ftrain~I2ad69fbf0f629af40f5f611bf9480d0da76bb647,openstack/monasca-common,stable/train,I2ad69fbf0f629af40f5f611bf9480d0da76bb647,Fix zuul publish docker image job,NEW,2021-02-24 11:05:32.000000000,2021-02-24 11:54:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 11:05:32.000000000', 'files': ['playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/032f72269ffe217228afc225f4a2e1d455cd73c6', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I2ad69fbf0f629af40f5f611bf9480d0da76bb647\n'}]",0,777360,032f72269ffe217228afc225f4a2e1d455cd73c6,2,1,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I2ad69fbf0f629af40f5f611bf9480d0da76bb647
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/60/777360/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish.yml'],1,032f72269ffe217228afc225f4a2e1d455cd73c6,fix-zuul-publish," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else 'train'}}"""," shell: ""docker push monasca/base""",1,1
openstack%2Fcharm-ceph-proxy~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-ceph-proxy,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:40:53.000000000,2021-02-24 11:48:19.000000000,2021-02-24 11:48:19.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/9d68b2ddd3e0351c09446bf04fd09655058f3b09', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 2, 'created': '2021-02-18 10:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/7006260fb5027b6843376722ed5b5316766bc801', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}, {'number': 3, 'created': '2021-02-23 10:12:32.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/a73633761deea6a5fbb380ea189910f2e19d4ffa', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776340,a73633761deea6a5fbb380ea189910f2e19d4ffa,14,3,3,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/40/776340/3 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,9d68b2ddd3e0351c09446bf04fd09655058f3b09,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - trusty-mitaka # jewel - xenial-mitaka # jewel - xenial-queens # luminous - bionic-queens # luminous - bionic-rocky # mimic - bionic-stein - bionic-train - bionic-ussuri - focal-ussuri - focal-ussuri-ec - focal-victoria - focal-victoria-ec - groovy-victoria - groovy-victoria-ec - job: name: focal-ussuri-ec parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: erasure-coded:focal-ussuri-ec - job: name: focal-victoria-ec parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: erasure-coded:focal-victoria-ec - job: name: groovy-victoria-ec parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: erasure-coded:groovy-victoria-ec,,37,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,openstack/tripleo-ansible,stable/train,I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,Make server group quota unlimited for Octavia,MERGED,2021-02-09 11:41:08.000000000,2021-02-24 11:46:46.000000000,2021-02-24 11:46:46.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}, {'_account_id': 33061}]","[{'number': 1, 'created': '2021-02-09 11:41:08.000000000', 'files': ['tripleo_ansible/roles/octavia-overcloud-config/tasks/quotas.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58c8ab10c0771959a6f099785232c14d5776f58d', 'message': 'Make server group quota unlimited for Octavia\n\nWhen a user creates a HA load balancer in Octavia, Octavia creates\nserver groups as part of the load balancer resources. However because\nthe default quotas related to server group are very low and we have all\nload balancer resources in the common service project, users can create\nvery limited number of HA load balancers by default.\n\nThis patch disables the quota limits of the server-group-members and\nserver-groups of the service project, so that HA load balancer creation\nis not blocked by these quotas.\n\nCloses-Bug: #1914018\nChange-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12\n(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)\n(cherry picked from commit 56ab6452c628c4a801152310d6b3ae37684f0d0f)\n(cherry picked from commit 1d28de2281174e59a6df9bfad32a76b6b6e614e6)\n'}]",0,774628,58c8ab10c0771959a6f099785232c14d5776f58d,15,6,1,9816,,,0,"Make server group quota unlimited for Octavia

When a user creates a HA load balancer in Octavia, Octavia creates
server groups as part of the load balancer resources. However because
the default quotas related to server group are very low and we have all
load balancer resources in the common service project, users can create
very limited number of HA load balancers by default.

This patch disables the quota limits of the server-group-members and
server-groups of the service project, so that HA load balancer creation
is not blocked by these quotas.

Closes-Bug: #1914018
Change-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12
(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)
(cherry picked from commit 56ab6452c628c4a801152310d6b3ae37684f0d0f)
(cherry picked from commit 1d28de2281174e59a6df9bfad32a76b6b6e614e6)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/774628/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-overcloud-config/tasks/quotas.yml'],1,58c8ab10c0771959a6f099785232c14d5776f58d,bug/1914018, openstack quota set --cores -1 --ram -1 --ports -1 --instances -1 \ --secgroups -1 --secgroup-rules -1 \ --server-group-members -1 --server-groups -1 \ {{ auth_project_name }}, openstack quota set --cores -1 --ram -1 --ports -1 --instances -1 --secgroups -1 --secgroup-rules -1 {{ auth_project_name }},4,1
openstack%2Fmonasca-notification~master~Idae87291f4556eee77d40ab49f0d151435d70875,openstack/monasca-notification,master,Idae87291f4556eee77d40ab49f0d151435d70875,Update hacking for Python3,MERGED,2020-12-15 09:51:17.000000000,2021-02-24 11:42:44.000000000,2021-02-24 11:41:34.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2020-12-15 09:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/a1daa6f00e76d4dc43a1cebc18b24b001e9923c2', 'message': '[WIP] Align lower-constraints for new pip\n\n- First patch has only an innocuous change to show the problem\n\nBump a series of lower-constraints and requirements to work with new pip\nresolver, testing with steps outlined at [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: Idae87291f4556eee77d40ab49f0d151435d70875\n'}, {'number': 2, 'created': '2021-02-23 15:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/4230b8aaf6eb3fd8557c1d573bec07cfbda57bc7', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found by updated hacking version.\n\nRemove hacking and friends from lower-constraints, they are not needed\nthere at all.\n\nAlign lower-constraints for new pip [1]\n\nFix flake8 E305 and E117 and set W504 as ignored\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: Idae87291f4556eee77d40ab49f0d151435d70875\n'}, {'number': 3, 'created': '2021-02-23 16:20:59.000000000', 'files': ['monasca_notification/plugins/webhook_notifier.py', 'requirements.txt', 'monasca_notification/common/utils.py', 'test-requirements.txt', 'monasca_notification/plugins/email_notifier.py', 'monasca_notification/plugins/jira_notifier.py', 'monasca_notification/plugins/hipchat_notifier.py', 'lower-constraints.txt', 'tox.ini', 'monasca_notification/plugins/slack_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/35a9b57f9136b4ce735a00d788fa49133aa29abc', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found by updated hacking version.\n\nRemove hacking and friends from lower-constraints, they are not needed\nthere at all.\n\nAlign lower-constraints for new pip [1]\n\nFix flake8 E305 and E117 and set W504 as ignored\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: Idae87291f4556eee77d40ab49f0d151435d70875\n'}]",0,767109,35a9b57f9136b4ce735a00d788fa49133aa29abc,13,2,3,28062,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Remove hacking and friends from lower-constraints, they are not needed
there at all.

Align lower-constraints for new pip [1]

Fix flake8 E305 and E117 and set W504 as ignored

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: Idae87291f4556eee77d40ab49f0d151435d70875
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/09/767109/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,a1daa6f00e76d4dc43a1cebc18b24b001e9923c2,update-lower-constraints,,,1,0
openstack%2Fsushy~stable%2Fvictoria~Ida1d314f77b9f114e572639c7ad46545be1ce962,openstack/sushy,stable/victoria,Ida1d314f77b9f114e572639c7ad46545be1ce962,Fixes issue of redfish firmware update,MERGED,2021-01-21 10:20:51.000000000,2021-02-24 11:37:38.000000000,2021-02-24 11:36:04.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-21 10:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d8f0fc88621e3ad7f250552ef60a5ea0ff649878', 'message': 'Fixes issue of redfish firmware update\n\nThis patch fixes issue of redfish firmware update\nfor ilo5 based hardware by adding a new attribute\ntask_uri to monitor and validate the firmware\nupdate since task_monitor uri does not provide the\nappropriate response.\n\nChange-Id: Ida1d314f77b9f114e572639c7ad46545be1ce962\nStory: #2008403\nTask: #41339\n(cherry picked from commit 3dcffb9a76b894eeeb837007f137452beba8439b)\n'}, {'number': 2, 'created': '2021-02-02 07:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6b1a1cecea90891007faa1701812da019e60f542', 'message': 'Fixes issue of redfish firmware update\n\nThis patch fixes issue of redfish firmware update\nfor ilo5 based hardware by adding a new attribute\ntask_uri to monitor and validate the firmware\nupdate since task_monitor uri does not provide the\nappropriate response.\n\nChange-Id: Ida1d314f77b9f114e572639c7ad46545be1ce962\nStory: #2008403\nTask: #41339\n(cherry picked from commit 3dcffb9a76b894eeeb837007f137452beba8439b)\n'}, {'number': 3, 'created': '2021-02-03 06:52:33.000000000', 'files': ['sushy/tests/unit/json_samples/task_monitor.json', 'releasenotes/notes/fixes-ilo5-redfish-firmware-update-issue-273862b2a11e3536.yaml', 'sushy/tests/unit/resources/updateservice/test_updateservice.py', 'sushy/resources/base.py', 'sushy/resources/taskservice/taskmonitor.py', 'sushy/resources/updateservice/updateservice.py', 'sushy/tests/unit/resources/taskservice/test_taskmonitor.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/4bca706205c5701c4bf6d8335ebc80f894d6e9a4', 'message': 'Fixes issue of redfish firmware update\n\nThis patch fixes issue of redfish firmware update\nfor ilo5 based hardware by adding a new attribute\ntask_uri to monitor and validate the firmware\nupdate since task_monitor uri does not provide the\nappropriate response.\n\nChange-Id: Ida1d314f77b9f114e572639c7ad46545be1ce962\nStory: #2008403\nTask: #41339\n(cherry picked from commit 3dcffb9a76b894eeeb837007f137452beba8439b)\n'}]",4,771604,4bca706205c5701c4bf6d8335ebc80f894d6e9a4,22,4,3,19604,,,0,"Fixes issue of redfish firmware update

This patch fixes issue of redfish firmware update
for ilo5 based hardware by adding a new attribute
task_uri to monitor and validate the firmware
update since task_monitor uri does not provide the
appropriate response.

Change-Id: Ida1d314f77b9f114e572639c7ad46545be1ce962
Story: #2008403
Task: #41339
(cherry picked from commit 3dcffb9a76b894eeeb837007f137452beba8439b)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/04/771604/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/task_monitor.json', 'releasenotes/notes/fixes-ilo5-redfish-firmware-update-issue-273862b2a11e3536.yaml', 'sushy/tests/unit/resources/updateservice/test_updateservice.py', 'sushy/resources/base.py', 'sushy/resources/taskservice/taskmonitor.py', 'sushy/resources/updateservice/updateservice.py', 'sushy/tests/unit/resources/taskservice/test_taskmonitor.py']",7,d8f0fc88621e3ad7f250552ef60a5ea0ff649878,firmware-stable/victoria," self.assertEqual(http_client.ACCEPTED, task_monitor._field_data._status_code) self.assertEqual( 0, task_monitor._field_data._headers['Content-Length'])", self.assertIsNone(task_monitor.task),73,9
openstack%2Fansible-role-systemd_mount~master~I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8,openstack/ansible-role-systemd_mount,master,I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:56:25.000000000,2021-02-24 11:22:18.000000000,2021-02-24 11:20:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-22 16:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/138cd8a491f4083856efbcfbffe7206050e337f3', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8\n'}, {'number': 2, 'created': '2021-02-22 23:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/16fe92d82801eb63c31e083bb3abf80c3ab7324b', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8\n'}, {'number': 3, 'created': '2021-02-23 09:25:58.000000000', 'files': ['tests/test-create-nfs-dev.yml', 'tasks/main.yml', 'defaults/main.yml', 'tasks/systemd_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/e5cc6f8990e82b92bc489c701f849120ec23f2fa', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8\n'}]",0,776962,e5cc6f8990e82b92bc489c701f849120ec23f2fa,13,3,3,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I5a83a7f237e4b7d86e8d7ee08b0e8c6b4f8a44f8
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/62/776962/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-create-nfs-dev.yml', 'tasks/main.yml', 'defaults/main.yml', 'tasks/systemd_install.yml']",4,138cd8a491f4083856efbcfbffe7206050e337f3,osa-facts," baseurl: ""{{ systemd_centos_epel_mirror ~ '/' ~ ansible_facts['distribution_major_version'] ~ (ansible_facts['distribution_major_version'] is version('8', '>=')) | ternary('/Everything/', '/') ~ ansible_facts['architecture'] }}"" description: 'Extra Packages for Enterprise Linux {{ ansible_facts['distribution_major_version'] }} - $basearch'"," baseurl: ""{{ systemd_centos_epel_mirror ~ '/' ~ ansible_distribution_major_version ~ (ansible_distribution_major_version is version('8', '>=')) | ternary('/Everything/', '/') ~ ansible_architecture }}"" description: 'Extra Packages for Enterprise Linux {{ ansible_distribution_major_version }} - $basearch'",10,10
openstack%2Fansible-role-systemd_networkd~master~I74f02669b013b8580d3469a8ffe214d88cd0f525,openstack/ansible-role-systemd_networkd,master,I74f02669b013b8580d3469a8ffe214d88cd0f525,Add reference to gpg key location to EPEL repo config,MERGED,2021-02-17 16:18:22.000000000,2021-02-24 11:19:51.000000000,2021-02-24 11:18:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 16:18:22.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/3213d427e60648bfd70f87af60bd84b472406e90', 'message': 'Add reference to gpg key location to EPEL repo config\n\nThis is necessary on centos-8 stream\n\nChange-Id: I74f02669b013b8580d3469a8ffe214d88cd0f525\n'}]",0,776225,3213d427e60648bfd70f87af60bd84b472406e90,9,3,1,25023,,,0,"Add reference to gpg key location to EPEL repo config

This is necessary on centos-8 stream

Change-Id: I74f02669b013b8580d3469a8ffe214d88cd0f525
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/25/776225/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,3213d427e60648bfd70f87af60bd84b472406e90,osa-stream,"# NOTE(jrosser) this repo is configured with the path to the first gpg key provided gpgkey: ""file://{{ systemd_networkd_package_repos_keys[0].key }}""",,2,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6,openstack/openstack-ansible-lxc_hosts,master,I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6,Update Centos-8 LXC image to 8.3,MERGED,2021-02-16 09:24:42.000000000,2021-02-24 11:14:53.000000000,2021-02-24 11:13:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-16 09:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/31b34207c0ddfc381230b4bcde2d9aad9ba5fd8f', 'message': 'Update Centos-8 LXC image to 8.3\n\nThis requires extra ansible tasks to unpack the nested tar file\nstructure of the 8.3 container image.\n\nChange-Id: I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6\n'}, {'number': 2, 'created': '2021-02-16 11:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0844d21a664df912095b4cb645602978cab66ba0', 'message': 'Update Centos-8 LXC image to 8.3\n\nThis requires extra ansible tasks to unpack the nested tar file\nstructure of the 8.3 container image.\n\nDepends-On: I31880ca995735b737d33532eaa4c29be02523117\nChange-Id: I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6\n'}, {'number': 3, 'created': '2021-02-16 13:30:43.000000000', 'files': ['tasks/lxc_cache_preparation_simple.yml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/172e3e4bd09dcd4a0c7fea222596f0ddef19f8df', 'message': 'Update Centos-8 LXC image to 8.3\n\nThis requires extra ansible tasks to unpack the nested tar file\nstructure of the 8.3 container image.\n\nDepends-On: I31880ca995735b737d33532eaa4c29be02523117\nChange-Id: I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6\n'}]",0,775778,172e3e4bd09dcd4a0c7fea222596f0ddef19f8df,20,3,3,25023,,,0,"Update Centos-8 LXC image to 8.3

This requires extra ansible tasks to unpack the nested tar file
structure of the 8.3 container image.

Depends-On: I31880ca995735b737d33532eaa4c29be02523117
Change-Id: I443f5b9ecef1c142dcbcac91a0f36cb28035f3f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/78/775778/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_cache_preparation_simple.yml', 'vars/redhat.yml']",2,31b34207c0ddfc381230b4bcde2d9aad9ba5fd8f,,"_lxc_hosts_container_image_url: ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-Container-8.3.2011-20201204.2.x86_64.tar.xz"" # the Centos 8.3 image contains a tar file inside the downloaded tar _lxc_hosts_nested_tar_file: ""layer.tar"" # layer.tar is in a subdirectory named with a numerical hash, we must descend # into that directory without knowing it's name, and extract just the inner # tar file _lxc_hosts_unarchive_extra_opts: - --strip-components=1 - --no-anchored - ""{{ _lxc_hosts_nested_tar_file }}""","_lxc_hosts_container_image_url: ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-Container-8.1.1911-20200113.3-layer.x86_64.tar.xz""",32,1
openstack%2Fansible-role-collect-logs~master~Ic9fd06f911e8c50819b2a10eb91fb9814787b025,openstack/ansible-role-collect-logs,master,Ic9fd06f911e8c50819b2a10eb91fb9814787b025,Move sova patterns outside the repository,MERGED,2021-02-22 13:07:46.000000000,2021-02-24 11:14:13.000000000,2021-02-24 11:14:13.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 13:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e35d8a6ce8953602631173ebcfbabf04bfb82461', 'message': 'Move sova patterns outside the repository\n\nRemoves internal sova-patterns.yml and use uri module to load the\nsame content as JSON from queries repository.\n\nChange-Id: Ic9fd06f911e8c50819b2a10eb91fb9814787b025\nStory: TRIPLEOCI-287\n'}, {'number': 2, 'created': '2021-02-23 10:14:53.000000000', 'files': ['roles/collect_logs/vars/sova-patterns.yml', 'roles/collect_logs/tasks/sova.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/0478d5983f6fa9472401cf2994d562782d0caa46', 'message': 'Move sova patterns outside the repository\n\nRemoves internal sova-patterns.yml and use uri module to load the\nsame content as JSON from queries repository.\n\nChange-Id: Ic9fd06f911e8c50819b2a10eb91fb9814787b025\nStory: TRIPLEOCI-287\n'}]",2,776929,0478d5983f6fa9472401cf2994d562782d0caa46,14,5,2,24162,,,0,"Move sova patterns outside the repository

Removes internal sova-patterns.yml and use uri module to load the
same content as JSON from queries repository.

Change-Id: Ic9fd06f911e8c50819b2a10eb91fb9814787b025
Story: TRIPLEOCI-287
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/29/776929/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collect_logs/vars/sova-patterns.yml', 'roles/collect_logs/tasks/sova.yml']",2,e35d8a6ce8953602631173ebcfbabf04bfb82461,queries,"- name: Load sova patterns from URL uri: url: https://raw.githubusercontent.com/rdo-infra/queries/main/output/sova-patterns.json method: GET return_content: true status_code: 200 body_format: json retries: 3 # to avoid accidental failures due to networking or rate limiting delay: 60 register: pattern_config - debug: var=pattern_config config: ""{{ pattern_config.json }}""- name: Run sova task (denials) sova: config: ""{{ pattern_config.json }}""","- name: Include sova patterns include_vars: file: sova-patterns.yml name: pattern_config config: ""{{ pattern_config }}""- name: Run sova task sova: config: ""{{ pattern_config }}""",15,826
openstack%2Fopenstack-ansible-lxc_hosts~master~I59bbbcd8a66970a4fb30339aed457b50fb4dad50,openstack/openstack-ansible-lxc_hosts,master,I59bbbcd8a66970a4fb30339aed457b50fb4dad50,Remove per-backend container creation tasks files,MERGED,2021-02-17 17:06:04.000000000,2021-02-24 10:36:59.000000000,2021-02-24 10:35:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/aee8743f0bae492aab320c9dbd4f8eec405f4aa4', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 2, 'created': '2021-02-17 17:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f865348d1e1aacd36fcf2f92c53733f81f826f53', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 3, 'created': '2021-02-17 18:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f588b27ea5e2d6f9a51487c6c388e161186b75d3', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 4, 'created': '2021-02-17 18:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/851450f99d44b97a0cfa9f90f8cda0115340c114', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 5, 'created': '2021-02-17 19:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/09a265001269688a7df63565a7f14b7335eae9fc', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 6, 'created': '2021-02-17 19:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/41a1d97a4e4dc7170ed714cabe8545ce3b72248b', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 7, 'created': '2021-02-17 20:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7fbdc5fe3c48c95c8555ea6e71099bdd2200d407', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 8, 'created': '2021-02-17 22:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1594a5a5a0316c1b840fc9c3880220028ccff794', 'message': 'Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much less code\nand duplication.\n\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n'}, {'number': 9, 'created': '2021-02-18 08:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/bf5e42e6e474da63b5614cb2f28006c24e4dd668', 'message': ""Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much\nless code and duplication.\n\nDefault lxc_container_backing_store to 'dir' to match the\nlxc_container_create role and further simplify the code.\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n""}, {'number': 10, 'created': '2021-02-18 09:19:51.000000000', 'files': ['tasks/lxc_container_btrfs.yml', 'tasks/lxc_container_overlayfs.yml', 'tasks/lxc_container_lvm.yml', 'tasks/lxc_container_zfs.yml', 'tasks/lxc_cache_create.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7fc5e9950ea9e8b379295837fede70f864502439', 'message': ""Remove per-backend container creation tasks files\n\nThe same can be achieved with two ternary operators. Much\nless code and duplication.\n\nDefault lxc_container_backing_store to 'dir' to match the\nlxc_container_create role and further simplify the code.\nChange-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50\n""}]",0,776239,7fc5e9950ea9e8b379295837fede70f864502439,24,3,10,25023,,,0,"Remove per-backend container creation tasks files

The same can be achieved with two ternary operators. Much
less code and duplication.

Default lxc_container_backing_store to 'dir' to match the
lxc_container_create role and further simplify the code.
Change-Id: I59bbbcd8a66970a4fb30339aed457b50fb4dad50
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/39/776239/10 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_container_btrfs.yml', 'tasks/lxc_container_overlayfs.yml', 'tasks/lxc_container_lvm.yml', 'tasks/lxc_container_zfs.yml', 'tasks/lxc_cache_create.yml']",5,aee8743f0bae492aab320c9dbd4f8eec405f4aa4,lxc-hosts-cleanup,"- name: Create base container to use for ""{{ container_backing_store }}""-backed containers lxc_container: name: ""{{ lxc_container_base_name }}"" template: ""download"" state: stopped backing_store: ""{{ container_backing_store == 'overlayfs' | ternary('dir', container_backing_store) }}"" zfs_root: ""{{ container_backing_store == 'zfs' | ternary(lxc_container_zfs_root_name | default(omit)) }}"" template_options: ""{{ lxc_cache_download_template_options }}"" register: cache_download retries: 3 delay: 10 until: cache_download is success - name: Set the qgroup limits for btrfs when: - container_backing_store == 'btrfs' block: - name: Set the qgroup size|compression limits on machines command: ""btrfs qgroup limit {{ item }} /var/lib/lxc/{{ lxc_container_base_name }}"" changed_when: false with_items: - ""-e {{ lxc_host_machine_qgroup_space_limit }}"" - ""-c {{ lxc_host_machine_qgroup_compression_limit }}"" when: - not lxc_host_machine_quota_disabled rescue: - name: Notice regarding quota system debug: msg: >- There was an error processing the setup of qgroups. Check the system to ensure they're available otherwise disable the quota system by setting `lxc_host_machine_quota_disabled` to true.","- include_tasks: ""{{ item }}"" with_first_found: - files: - ""lxc_container_{{ container_backing_store }}.yml"" skip: true",32,131
openstack%2Ftripleo-heat-templates~master~I49a2c42dcbb74671834f312798367f411c819813,openstack/tripleo-heat-templates,master,I49a2c42dcbb74671834f312798367f411c819813,Use ansible_facts instead,MERGED,2021-02-19 15:30:25.000000000,2021-02-24 10:23:43.000000000,2021-02-23 22:19:28.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 15:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33454d45909ef891269916e530bf66572bb04247', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n'}, {'number': 2, 'created': '2021-02-19 16:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b2f00d9e430548b5047ca2c8868f389d1c29404', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n'}, {'number': 3, 'created': '2021-02-22 14:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1faeac2791c6e7ed3a618bc819b90b3c1165badb', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n'}, {'number': 4, 'created': '2021-02-22 17:57:17.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n'}]",5,776659,8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922,25,5,4,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: I49a2c42dcbb74671834f312798367f411c819813
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/776659/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'common/deploy-steps-tasks.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml']",22,33454d45909ef891269916e530bf66572bb04247,ansible-facts," - ansible_facts['os_family'] == 'RedHat' - ansible_facts['distribution_major_version'] is version('8', '==')", - ansible_os_family == 'RedHat' - ansible_distribution_major_version == '8',44,44
openstack%2Fmonasca-common~master~I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73,openstack/monasca-common,master,I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73,Use C compiler to build cryptography,MERGED,2021-02-23 19:48:10.000000000,2021-02-24 10:07:19.000000000,2021-02-24 10:07:19.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-02-23 19:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/edb1c333a303583e85ebb380cdc9bcb8de580ddc', 'message': 'Use C compiler to build cryptography instead of Rust\n\nBuilding wheel from cryptography>=3.4 uses by default rust compiler\nbut version 3.4.x keeps compatibility with c compiler by setting\nthe env variable CRYPTOGRAPHY_DONT_BUILD_RUST=1 [1]\n\n[1] https://mail.python.org/pipermail/cryptography-dev/2020-December/000998.html\n\nChange-Id: I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73\n'}, {'number': 2, 'created': '2021-02-23 19:54:45.000000000', 'files': ['docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/ccae320767e386b9445b99e2214b1ad23e1aa6d2', 'message': 'Use C compiler to build cryptography\n\nBuilding wheel from cryptography>=3.4 uses by default rust compiler\nbut version 3.4.x keeps compatibility with C compiler by setting\nthe env variable CRYPTOGRAPHY_DONT_BUILD_RUST=1 [1]\n\n[1] https://mail.python.org/pipermail/cryptography-dev/2020-December/000998.html\n\nChange-Id: I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73\n'}]",0,777203,ccae320767e386b9445b99e2214b1ad23e1aa6d2,7,2,2,28062,,,0,"Use C compiler to build cryptography

Building wheel from cryptography>=3.4 uses by default rust compiler
but version 3.4.x keeps compatibility with C compiler by setting
the env variable CRYPTOGRAPHY_DONT_BUILD_RUST=1 [1]

[1] https://mail.python.org/pipermail/cryptography-dev/2020-December/000998.html

Change-Id: I41f47e02aef73bd9ebf6d6a46e8c212b9a268d73
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/03/777203/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/Dockerfile'],1,edb1c333a303583e85ebb380cdc9bcb8de580ddc,cryptography," PYTHONIOENCODING=""utf-8"" \ CRYPTOGRAPHY_DONT_BUILD_RUST=1"," PYTHONIOENCODING=""utf-8""",2,1
openstack%2Fkolla-ansible~master~I7f5a5ba5e9a6b3866fc4d2c72b7b4884c85020bd,openstack/kolla-ansible,master,I7f5a5ba5e9a6b3866fc4d2c72b7b4884c85020bd,Improve trove  releasenote,MERGED,2021-02-23 14:04:50.000000000,2021-02-24 09:58:54.000000000,2021-02-24 09:57:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-23 14:04:50.000000000', 'files': ['releasenotes/notes/combine_trove_config_files-ff3d37440a472a82.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e315446291d8ebc3248f94d213c3121aeb6f49da', 'message': 'Improve trove  releasenote\n\ntrivial fix\nsee: https://review.opendev.org/c/openstack/kolla-ansible/+/763191\n\nChange-Id: I7f5a5ba5e9a6b3866fc4d2c72b7b4884c85020bd\n'}]",0,777113,e315446291d8ebc3248f94d213c3121aeb6f49da,8,3,1,26285,,,0,"Improve trove  releasenote

trivial fix
see: https://review.opendev.org/c/openstack/kolla-ansible/+/763191

Change-Id: I7f5a5ba5e9a6b3866fc4d2c72b7b4884c85020bd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/777113/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/combine_trove_config_files-ff3d37440a472a82.yaml'],1,e315446291d8ebc3248f94d213c3121aeb6f49da,, ``/etc/kolla/config/trove/trove.conf``. ``trove-taskmanager.conf`` and ``trove-conductor.conf`` are no longer used in wallaby, ``/etc/kolla/config/trove/trove.conf`` deprecations: - | ``trove-taskmanager.conf`` and ``trove-conductor.conf`` are deprecated in wallaby,3,5
openstack%2Fopenstack-ansible-haproxy_server~master~Id98f052df73587f209b9621da0874ce506899f9b,openstack/openstack-ansible-haproxy_server,master,Id98f052df73587f209b9621da0874ce506899f9b,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:09:59.000000000,2021-02-24 09:51:16.000000000,2021-02-24 09:49:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 09:09:59.000000000', 'files': ['tasks/main.yml', 'tasks/haproxy_install.yml', 'tasks/haproxy_service_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/d78f6d55282e52be919209bd18220eea1a41a2f7', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Id98f052df73587f209b9621da0874ce506899f9b\n'}]",0,777065,d78f6d55282e52be919209bd18220eea1a41a2f7,9,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Id98f052df73587f209b9621da0874ce506899f9b
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/65/777065/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/haproxy_install.yml', 'tasks/haproxy_service_config.yml']",3,d78f6d55282e52be919209bd18220eea1a41a2f7,osa-facts," - ansible_facts['selinux'].status == ""enabled"""," - ansible_selinux.status == ""enabled""",8,8
openstack%2Fopenstack-ansible-apt_package_pinning~master~Ib7e1fa820767fe419eadd6309311204433e9bf20,openstack/openstack-ansible-apt_package_pinning,master,Ib7e1fa820767fe419eadd6309311204433e9bf20,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:43:07.000000000,2021-02-24 09:49:22.000000000,2021-02-24 09:47:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-22 16:43:07.000000000', 'files': ['tasks/main.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/7c8888ac6de9e0be549270247e849a6c09031158', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ib7e1fa820767fe419eadd6309311204433e9bf20\n'}]",0,776957,7c8888ac6de9e0be549270247e849a6c09031158,9,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ib7e1fa820767fe419eadd6309311204433e9bf20
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/57/776957/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tests/test.yml']",2,7c8888ac6de9e0be549270247e849a6c09031158,osa-facts, when: ansible_facts['pkg_mgr'] == 'apt' when: ansible_facts['pkg_mgr'] == 'apt' when: ansible_facts['pkg_mgr'] == 'apt', when: ansible_pkg_mgr == 'apt' when: ansible_pkg_mgr == 'apt' when: ansible_pkg_mgr == 'apt',5,5
openstack%2Fcyborg~master~I2daf1c61f3c95dc5176bcc36be9f07949d55a933,openstack/cyborg,master,I2daf1c61f3c95dc5176bcc36be9f07949d55a933,Add newline to enable lists,MERGED,2021-01-23 06:44:37.000000000,2021-02-24 09:42:35.000000000,2021-02-24 09:39:38.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-01-23 06:44:37.000000000', 'files': ['doc/source/user/introduction.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3d53b7a4dc149ccaed69cfe10af588972fea044a', 'message': ""Add newline to enable lists\n\nThis patch adds one newline for the lists of 'Accelerators'.\n\nChange-Id: I2daf1c61f3c95dc5176bcc36be9f07949d55a933\n""}]",0,772150,3d53b7a4dc149ccaed69cfe10af588972fea044a,8,3,1,23950,,,0,"Add newline to enable lists

This patch adds one newline for the lists of 'Accelerators'.

Change-Id: I2daf1c61f3c95dc5176bcc36be9f07949d55a933
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/50/772150/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/introduction.rst'],1,3d53b7a4dc149ccaed69cfe10af588972fea044a,fix-format,,,1,0
openstack%2Fvalidations-common~master~Ic56c7eee7d97cf22f6b79e7263263cee99922c03,openstack/validations-common,master,Ic56c7eee7d97cf22f6b79e7263263cee99922c03,Test infrastructure for library scripts along with few samples.,MERGED,2021-01-27 15:07:45.000000000,2021-02-24 09:09:41.000000000,2021-02-23 12:06:55.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-27 15:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/890843b2cd25645e3e304da25f17aafbc3713ac2', 'message': 'Test infrastructure for library scripts along with few samples.\n\nFirst step towards enhancing our test coverage.\nWhile none of these scripts can be considered complex,\nit is nonetheless a good idea to keep track of their behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic56c7eee7d97cf22f6b79e7263263cee99922c03\n'}, {'number': 2, 'created': '2021-01-27 15:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f2dc79f9df3937b4816bdb38ab3d6cf63a6d4880', 'message': 'Test infrastructure for library scripts along with few samples.\n\nFirst step towards enhancing our test coverage.\nWhile none of these scripts can be considered complex,\nit is nonetheless a good idea to keep track of their behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic56c7eee7d97cf22f6b79e7263263cee99922c03\n'}, {'number': 3, 'created': '2021-02-15 14:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1f76acb32e8c5584ab9337403f65c039b2fb3495', 'message': 'Test infrastructure for library scripts along with few samples.\n\nFirst step towards enhancing our test coverage.\nWhile none of these scripts can be considered complex,\nit is nonetheless a good idea to keep track of their behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic56c7eee7d97cf22f6b79e7263263cee99922c03\n'}, {'number': 4, 'created': '2021-02-16 16:43:19.000000000', 'files': ['validations_common/tests/library/test_advanced_format.py', 'validations_common/tests/library/test_warn.py', 'validations_common/tests/library/test_hiera.py', 'validations_common/tests/library/test_haproxy_conf.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7cfd0cbe9c4e847b65a412c430b847a1723d7892', 'message': 'Test infrastructure for library scripts along with few samples.\n\nFirst step towards enhancing our test coverage.\nWhile none of these scripts can be considered complex,\nit is nonetheless a good idea to keep track of their behavior.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic56c7eee7d97cf22f6b79e7263263cee99922c03\n'}]",8,772704,7cfd0cbe9c4e847b65a412c430b847a1723d7892,26,5,4,32926,,,0,"Test infrastructure for library scripts along with few samples.

First step towards enhancing our test coverage.
While none of these scripts can be considered complex,
it is nonetheless a good idea to keep track of their behavior.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic56c7eee7d97cf22f6b79e7263263cee99922c03
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/04/772704/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/tests/library/test_advanced_format.py', 'validations_common/tests/library/test_warn.py', 'validations_common/tests/library/test_hiera.py', 'validations_common/tests/library/test_haproxy_conf.py']",4,890843b2cd25645e3e304da25f17aafbc3713ac2,unittests/library,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from validations_common.library import haproxy_conf from validations_common.tests import base class TestHaproxyConf(base.TestCase): def setUp(self): super(TestHaproxyConf, self).setUp() self.h_conf = haproxy_conf @mock.patch('validations_common.library.haproxy_conf.generic_ini_style_conf_parser') def test_parse_haproxy_conf(self, mock_generic_ini_style_conf_parser): file_path = './foo/bar' args = { 'file_path': file_path, 'section_regex': r'^(\w+)', 'option_regex': r'^(?:\s+)(\w+(?:\s+\w+)*?)\s+([\w/]*)$' } self.h_conf.parse_haproxy_conf(file_path) mock_generic_ini_style_conf_parser.assert_called_once_with(*args.values()) ",,117,0
openstack%2Fhorizon~stable%2Fvictoria~Ib407c3d21b316e181e278a7074d0e6c556ab9600,openstack/horizon,stable/victoria,Ib407c3d21b316e181e278a7074d0e6c556ab9600,Imported Translations from Zanata,MERGED,2021-02-24 07:02:17.000000000,2021-02-24 08:29:52.000000000,2021-02-24 08:28:30.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 07:02:17.000000000', 'files': ['openstack_auth/locale/ru/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/77df0abd6c687b69a3d5941541a69ece7464d3ba', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib407c3d21b316e181e278a7074d0e6c556ab9600\n'}]",0,777304,77df0abd6c687b69a3d5941541a69ece7464d3ba,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib407c3d21b316e181e278a7074d0e6c556ab9600
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/777304/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/locale/ru/LC_MESSAGES/django.po'],1,77df0abd6c687b69a3d5941541a69ece7464d3ba,zanata/translations,"# Roman Gorshunov <roman.gorshunov@att.com>, 2021. #zanata""POT-Creation-Date: 2021-02-10 23:47+0000\n""""PO-Revision-Date: 2021-02-23 01:54+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n""msgid ""Cookies may be turned off. Make sure cookies are enabled and try again."" msgstr """" "" Cookies   . ,  cookies   "" "" ."" ","""POT-Creation-Date: 2020-01-08 17:20+0000\n""""PO-Revision-Date: 2020-01-08 12:42+0000\n"" ""Last-Translator: Dmitriy Rabotyagov <noonedeadpunk@ya.ru>\n""",9,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I35ea4354a7448a23d6517f9777ed022caa79347a,openstack/tripleo-heat-templates,stable/train,I35ea4354a7448a23d6517f9777ed022caa79347a,Stop non-pcmk services of manila and cinder during upgrade,MERGED,2021-02-23 15:54:50.000000000,2021-02-24 07:52:34.000000000,2021-02-24 07:52:34.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 15:54:50.000000000', 'files': ['deployment/manila/manila-share-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1aee7c3e25be9cfda84fad643a187efb311f256', 'message': ""Stop non-pcmk services of manila and cinder during upgrade\n\nThis change implements missing external_upgrade_tasks for non-pcmk\nservices of manila and cinder, to ensure that we don't have mixed\nversions of controller services running at the same time during\nupgrade.\n\nThese tasks should have been implemented in the initial patch[1], but\nmissed at that time unfortunately.\n\n [1] 8529ce60da84d2aa1e1c9e6994303678261b09da\n\nChange-Id: I35ea4354a7448a23d6517f9777ed022caa79347a\n(cherry picked from commit 60c22c38ccfd253dec3766ad58c4b16d3a74f467)\n(cherry picked from commit 0223e9ab6349ce1cc855ee75dfe44ed190febc6c)\n(cherry picked from commit ac11fc15c5a7052390f527c6f380ba576005507e)\n""}]",0,777119,e1aee7c3e25be9cfda84fad643a187efb311f256,8,3,1,9816,,,0,"Stop non-pcmk services of manila and cinder during upgrade

This change implements missing external_upgrade_tasks for non-pcmk
services of manila and cinder, to ensure that we don't have mixed
versions of controller services running at the same time during
upgrade.

These tasks should have been implemented in the initial patch[1], but
missed at that time unfortunately.

 [1] 8529ce60da84d2aa1e1c9e6994303678261b09da

Change-Id: I35ea4354a7448a23d6517f9777ed022caa79347a
(cherry picked from commit 60c22c38ccfd253dec3766ad58c4b16d3a74f467)
(cherry picked from commit 0223e9ab6349ce1cc855ee75dfe44ed190febc6c)
(cherry picked from commit ac11fc15c5a7052390f527c6f380ba576005507e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/777119/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/manila/manila-share-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml']",5,e1aee7c3e25be9cfda84fad643a187efb311f256,upgrade-stop-manila-cinder-stable/victoria-stable/ussuri-stable/train," external_upgrade_tasks: - when: - step|int == 1 tags: - never - system_upgrade_transfer_data - system_upgrade_stop_services block: - name: Stop manila api container import_role: name: tripleo_container_stop vars: tripleo_containers_to_stop: - manila_api tripleo_delegate_to: ""{{ groups['manila_api'] | default([]) }}""",,75,0
openstack%2Ftripleo-quickstart-extras~master~I512c74de73dceb0aa769afa2273348d7d6b089e5,openstack/tripleo-quickstart-extras,master,I512c74de73dceb0aa769afa2273348d7d6b089e5,Add containers/podman to ignore by DLRN for build,MERGED,2021-02-23 15:26:34.000000000,2021-02-24 07:35:01.000000000,2021-02-24 07:35:01.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 15:26:34.000000000', 'files': ['roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ae172b97924ca0f3ec43b64596c6f77a1d4a5417', 'message': ""Add containers/podman to ignore by DLRN for build\n\nWe don't build podman using DLRN, so it should be ignored by this\nrole.\nChange-Id: I512c74de73dceb0aa769afa2273348d7d6b089e5\n""}]",0,777148,ae172b97924ca0f3ec43b64596c6f77a1d4a5417,8,4,1,10969,,,0,"Add containers/podman to ignore by DLRN for build

We don't build podman using DLRN, so it should be ignored by this
role.
Change-Id: I512c74de73dceb0aa769afa2273348d7d6b089e5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/48/777148/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,ae172b97924ca0f3ec43b64596c6f77a1d4a5417,, - containers/podman,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7,openstack/tripleo-heat-templates,stable/queens,I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7,[Queens] Do not load nf_conntrack_proto_sctp,MERGED,2021-02-17 16:16:25.000000000,2021-02-24 07:34:25.000000000,2021-02-24 07:34:25.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-17 16:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90d3e93109b34f4bcdbc04f6fdd600e12f978d25', 'message': '[Rocky and before] Do not load nf_conntrack_proto_sctp\n\nnf_conntrack_proto_sctp no longer exists since CentOS/RHEL 7.4, so we\nshould not load that module expicitly.\n\nChange-Id: I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7\nCloses-Bug: #1914017\n'}, {'number': 2, 'created': '2021-02-17 16:19:15.000000000', 'files': ['puppet/services/kernel.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e4f2f92e5dad8eb8555a8fad02f91863895a031', 'message': '[Queens] Do not load nf_conntrack_proto_sctp\n\nnf_conntrack_proto_sctp no longer exists since CentOS/RHEL 7.4, so we\nshould not load that module expicitly.\n\nChange-Id: I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7\nCloses-Bug: #1914017\n(cherry picked from commit 90d3e93109b34f4bcdbc04f6fdd600e12f978d25)\n'}]",0,776177,2e4f2f92e5dad8eb8555a8fad02f91863895a031,9,5,2,7353,,,0,"[Queens] Do not load nf_conntrack_proto_sctp

nf_conntrack_proto_sctp no longer exists since CentOS/RHEL 7.4, so we
should not load that module expicitly.

Change-Id: I3957ce3a4916e0f1455fdda38c0a35b8ffd508f7
Closes-Bug: #1914017
(cherry picked from commit 90d3e93109b34f4bcdbc04f6fdd600e12f978d25)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/776177/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/kernel.yaml'],1,90d3e93109b34f4bcdbc04f6fdd600e12f978d25,bug/1914017-stable/queens, update_tasks: - name: Remove obsolete nf_conntrack_proto_sctp from /etc/modules-load.d/ file: path: /etc/modules-load.d/nf_conntrack_proto_sctp.conf state: absent, nf_conntrack_proto_sctp: {},6,1
openstack%2Fos-net-config~master~I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84,openstack/os-net-config,master,I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84,Write complete os-net-config examples,MERGED,2021-02-11 22:27:59.000000000,2021-02-24 07:13:19.000000000,2021-02-24 07:10:29.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-11 22:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/654eeeaba38427b270e6e1bed12797994c19cec1', 'message': 'Write complete os-net-config examples\n\nThese illustrative examples are adapted from the tripleo-ansible\ntripleo_network_config templates.\n\nSince the README now points to the documentation, the partial\nexamples in the README have been removed.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates\n\nChange-Id: I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84\n'}, {'number': 2, 'created': '2021-02-15 07:44:17.000000000', 'files': ['doc/source/index.rst', 'doc/source/examples.rst', 'README.rst', 'doc/source/config.rst'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/79a41c447868df5299889cf5bbf178aa88749baf', 'message': 'Write complete os-net-config examples\n\nThese illustrative examples are adapted from the tripleo-ansible\ntripleo_network_config templates.\n\nSince the README now points to the documentation, the partial\nexamples in the README have been removed.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates\n\nChange-Id: I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84\n'}]",5,775292,79a41c447868df5299889cf5bbf178aa88749baf,11,4,2,4571,,,0,"Write complete os-net-config examples

These illustrative examples are adapted from the tripleo-ansible
tripleo_network_config templates.

Since the README now points to the documentation, the partial
examples in the README have been removed.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates

Change-Id: I3c5de53dd97bc5bbc25d3c02fe9a6185f3112e84
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/92/775292/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/examples.rst', 'README.rst', 'doc/source/config.rst']",4,654eeeaba38427b270e6e1bed12797994c19cec1,docs,"The following attributes are used in many types. See :ref:`multiple-nics` for examples.Configures a physical NIC. See :ref:`multiple-nics` for examples. All of the :ref:`common-attributes` can be used with this type along with the following attributes:Configures an `Open vSwitch`_ bridge. See :ref:`control-plane-bridge` for an example. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to bridge.Configures an `Open vSwitch`_ bond. See :ref:`ovs-bond` for an example. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to be bonded.Configures VLAN tagging for one VLAN. See :ref:`bonds-with-vlans` for an example. :ref:`common-attributes` are supported but generally only ``mtu``, ``addresses`` or ``routes`` are used.``type: interface``, ``type: ovs_bond``, or ``type: linux_bond``.Configures a `Linux bridge`_. See :ref:`linux-bridge` for an example. All of the :ref:`common-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to bridge.Configures a `Linux bond`_. See :ref:`bonds-vlans-dpdk` for an example. All of the :ref:`common-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to be bonded.is generally used to set up `DPDK vHost User Ports`_. See :ref:`bonds-vlans-dpdk` for an example. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute usually contains a single ``type: ovs_dpdk_bond`` entry.Configures an `Open vSwitch`_ bond for binding DPDK ports. See :ref:`bonds-vlans-dpdk` for an example. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of ``type: ovs_dpdk_port`` ports to be bonded. The value for attribute ``rx_queue`` will determine the RX queue length.ovs_dpdk_bond`` bond interface. See :ref:`bonds-vlans-dpdk` for an example. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. Each port must have a ``members`` list with a single interface entry. A port can have its own ``rx_queue`` specifed. The ``driver`` attribute can override the default kernel driver module of ``vfio-pci``.","The following attributes are used in many types:Configures a physical NIC. All of the :ref:`common-attributes` can be used with this type along with the following attributes:Configures an `Open vSwitch`_ bridge. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to bridge.Configures an `Open vSwitch`_ bond. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to be bonded.Configures VLAN tagging for one VLAN. :ref:`common-attributes` are supported but generally only ``mtu``, ``addresses`` or ``routes`` are used.``type: interface`` or ``type: linux_bond``.Configures a `Linux bridge`_. All of the :ref:`common-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to bridge.Configures a `Linux bond`_. All of the :ref:`common-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to be bonded.is generally used to set up `DPDK vHost User Ports`_. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute usually contains a single ``type: ovs_dpdk_bond`` entry.Configures an `Open vSwitch`_ bond for binding DPDK ports. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of ``type: ovs_dpdk_port`` ports to be bonded. The value for attribute ``rx_queue`` will determine the RX queue length.ovs_dpdk_bond`` bond interface. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. Each port must have a ``members`` list with a single interface entry. A port can have its own ``rx_queue`` specifed. The ``driver`` attribute can override the default kernel driver module of ``vfio-pci``.",246,99
openstack%2Fpython-tripleoclient~master~I2450e0fe2f497c9e627a1e75924a447b10c2b570,openstack/python-tripleoclient,master,I2450e0fe2f497c9e627a1e75924a447b10c2b570,Update default container registry to quay.io,MERGED,2021-02-08 21:29:41.000000000,2021-02-24 07:12:20.000000000,2021-02-24 07:10:47.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 21:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb0c425e73925b674af537ec45de65268beb7300', 'message': 'Update default container registry to quay.io\n\nThe constant for tripleoclient was still set to docker.io instead of\nquay.io.\n\nChange-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-02-09 02:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab13d0a0429de4217cfbea7c25a491774e8480b8', 'message': 'Update default container registry to quay.io\n\nThe constant for tripleoclient was still set to docker.io instead of\nquay.io.\n\nChange-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-02-10 01:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3d0c820950f375a39e000ceebc0484dc72311d88', 'message': 'Update default container registry to quay.io\n\nThe constant for tripleoclient was still set to docker.io instead of\nquay.io.\n\nChange-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-02-16 01:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/26e8b44ab716358db03874629f2b346fdb91f0cf', 'message': 'Update default container registry to quay.io\n\nThe constant for tripleoclient was still set to docker.io instead of\nquay.io.\n\nChange-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2021-02-19 01:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e6586adfcc4f097741b05f90835e835eefbcc57', 'message': 'Update default container registry to quay.io\n\nThe constant for tripleoclient was still set to docker.io instead of\nquay.io.\n\nChange-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2021-02-22 22:28:46.000000000', 'files': ['tripleoclient/constants.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fa8098973095cc33328fe0166c1b79ef60dc346', 'message': 'Update default container registry to quay.io\n\nThe constant for tripleoclient was still set to docker.io instead of\nquay.io.\n\nChange-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,774544,0fa8098973095cc33328fe0166c1b79ef60dc346,18,3,6,7144,,,0,"Update default container registry to quay.io

The constant for tripleoclient was still set to docker.io instead of
quay.io.

Change-Id: I2450e0fe2f497c9e627a1e75924a447b10c2b570
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/44/774544/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/constants.py'],1,eb0c425e73925b674af537ec45de65268beb7300,ephemeral-heat,"DEFAULT_CONTAINER_REGISTRY = ""quay.io""","DEFAULT_CONTAINER_REGISTRY = ""docker.io""",1,1
openstack%2Fos-net-config~master~I065da7c7028bf081fb1d87ef64c4f3f873bfe111,openstack/os-net-config,master,I065da7c7028bf081fb1d87ef64c4f3f873bfe111,"Refresh README.rst, expand usage.rst",MERGED,2021-02-04 01:40:38.000000000,2021-02-24 07:12:13.000000000,2021-02-24 07:10:10.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-04 01:40:38.000000000', 'files': ['README.rst', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/aa213097dcd7c1ed3924401b8846db15c53f3a0a', 'message': 'Refresh README.rst, expand usage.rst\n\nAs part of an effort to fully document os-net-config, this change\nmakes the README.rst more consistent with other projects, and expands\nthe usage.rst page to describe useful command-line arguments.\n\nNow that the README has a link to the generated documentation[1], the\nprovider section can be replaced by the one in the usage.rst page.\n\n[1] https://docs.openstack.org/os-net-config/latest/\n\nChange-Id: I065da7c7028bf081fb1d87ef64c4f3f873bfe111\n'}]",2,774029,aa213097dcd7c1ed3924401b8846db15c53f3a0a,9,5,1,4571,,,0,"Refresh README.rst, expand usage.rst

As part of an effort to fully document os-net-config, this change
makes the README.rst more consistent with other projects, and expands
the usage.rst page to describe useful command-line arguments.

Now that the README has a link to the generated documentation[1], the
provider section can be replaced by the one in the usage.rst page.

[1] https://docs.openstack.org/os-net-config/latest/

Change-Id: I065da7c7028bf081fb1d87ef64c4f3f873bfe111
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/29/774029/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'doc/source/usage.rst']",2,aa213097dcd7c1ed3924401b8846db15c53f3a0a,docs,"========== Backend Provider Detection -------------------------- The ``--provider`` argument to ``os-net-config`` selects one of the available backend providers: - ``ifcfg`` Configure network interfaces using the ifcfg format ``/etc/sysconfig/network-scripts/`` files. - ``eni`` Configure network interfaces using the Debian/Ubuntu ``/etc/network/interfaces`` format - ``iproute`` (Not implemented) When the ``--provider`` argument is not specified when calling ``os-net-config`` the provider will be chosen using the following rules: 1) If path ``/etc/sysconfig/network-scripts/`` exists, use the ``ifcfg`` provider. 2) Otherwise if path ``/etc/network/`` exists, use the ``eni`` provider. In these rules, if a path is specified for ``--root-dir`` this will be prepended to the checked paths before doing the above tests. Interface Mapping ----------------- The file ``/etc/os-net-config/mapping.yaml`` can contain mappings from interface identifiers to the actual interface names. A different mapping file can be used by using the ``--mapping-file`` argument to ``os-net-config``. This mapping allows consistent interface identifiers to be used in the config without needing the full interface name which can vary across servers and hardware changes. This also allows config to be performed for interfaces which are in a ``DOWN`` state before configuration. The format of the mapping.yaml is as follows: .. code-block:: yaml interface_mapping: nic1: enp0s20f0u2u1u2 nic2: enp0s31f6 To assist in writing this file, the following command will generate a JSON snippet with discovered interfaces:: $ os-net-config --interfaces {'nic1': 'enp0s20f0u2u1u2', 'nic2': 'enp0s31f6'} When the ``--persist-mapping`` argument is specified when calling ``os-net-config`` then the existing interfaces names will be permanently renamed to their identifier name. Network Configuration --------------------- By default the file ``/etc/os-net-config/config.yaml`` will be sourced for the network configuration, but an alternate file can be used with the ``--config-file`` argument. The following arguments change the behaviour during configuration: - ``--detailed-exit-codes`` If enabled an exit code of ``2`` means that files were modified. - ``--exit-on-validation-errors`` Exit with an error if configuration file validation fails. - ``--noop`` Return the configuration commands, without applying them. - ``--no-activate`` Install the configuration but don't start/stop interfaces. - ``--cleanup`` Cleanup unconfigured interfaces. Python Library --------------",================,89,41
openstack%2Fpuppet-oslo~master~Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,openstack/puppet-oslo,master,Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,Fix the wrong default value of idle_timeout,MERGED,2021-02-15 00:45:54.000000000,2021-02-24 07:10:33.000000000,2021-02-24 07:10:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 00:45:54.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/12e2f4a886f7a97d1f34bce22254ea114f829bbd', 'message': 'Fix the wrong default value of idle_timeout\n\nCurrently we always get the following warnings because of the wrong\ndefault value of idle_timeout.\n\nThe idle_timeout parameter is deprecated.\nPlease use connection_recycle_time instead.\n\nThis change fixes the default and ensures that the warning message\nis shown only when the deprecated parameter is set.\n\nChange-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2\n'}]",0,775542,12e2f4a886f7a97d1f34bce22254ea114f829bbd,7,3,1,9816,,,0,"Fix the wrong default value of idle_timeout

Currently we always get the following warnings because of the wrong
default value of idle_timeout.

The idle_timeout parameter is deprecated.
Please use connection_recycle_time instead.

This change fixes the default and ensures that the warning message
is shown only when the deprecated parameter is set.

Change-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/42/775542/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,12e2f4a886f7a97d1f34bce22254ea114f829bbd,idle_timeout," $idle_timeout = undef, if $idle_timeout != undef {"," $idle_timeout = $::os_service_default, if $idle_timeout {",2,2
openstack%2Fos-net-config~master~Iff3cdb2657b3e427f9fa3a882479253bf2e27fee,openstack/os-net-config,master,Iff3cdb2657b3e427f9fa3a882479253bf2e27fee,Document os-net-config YAML format,MERGED,2021-02-10 03:49:57.000000000,2021-02-24 07:10:23.000000000,2021-02-24 07:10:23.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-10 03:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7aeaf677bf9e0fa17f8efec081529b462e3cacc0', 'message': 'Document os-net-config YAML format\n\nThis change documents the types and attributes used by the TripleO\nnetworking templates[1] along with how these are used by the ifcfg\nbackend.\n\nThe next change in this series will be a new page of complex examples\nto illustrate the usage of these types and attributes.\n\nFuture changes can document unused types and attributes, and also add\nENI backend notes to go alongside the ifcfg notes.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates\nChange-Id: Ic9d5643354b76165261498d875266c68e9bc6a7e\n\nChange-Id: Iff3cdb2657b3e427f9fa3a882479253bf2e27fee\n'}, {'number': 2, 'created': '2021-02-15 07:44:17.000000000', 'files': ['doc/source/index.rst', 'doc/source/config.rst'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6c9bdad27b80a4f28be5f3b71ee248da69feddc5', 'message': 'Document os-net-config YAML format\n\nThis change documents the types and attributes used by the TripleO\nnetworking templates[1] along with how these are used by the ifcfg\nbackend.\n\nThe next change in this series will be a new page of complex examples\nto illustrate the usage of these types and attributes.\n\nFuture changes can document unused types and attributes, and also add\nENI backend notes to go alongside the ifcfg notes.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates\nChange-Id: Ic9d5643354b76165261498d875266c68e9bc6a7e\n\nChange-Id: Iff3cdb2657b3e427f9fa3a882479253bf2e27fee\n'}]",48,774765,6c9bdad27b80a4f28be5f3b71ee248da69feddc5,13,5,2,4571,,,0,"Document os-net-config YAML format

This change documents the types and attributes used by the TripleO
networking templates[1] along with how these are used by the ifcfg
backend.

The next change in this series will be a new page of complex examples
to illustrate the usage of these types and attributes.

Future changes can document unused types and attributes, and also add
ENI backend notes to go alongside the ifcfg notes.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates
Change-Id: Ic9d5643354b76165261498d875266c68e9bc6a7e

Change-Id: Iff3cdb2657b3e427f9fa3a882479253bf2e27fee
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/65/774765/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/config.rst']",2,7aeaf677bf9e0fa17f8efec081529b462e3cacc0,docs,"=============================== Network configuration reference =============================== This section describes the supported ``/etc/os-net-config/config.yaml`` YAML format and how they map to networking backend providers. The root element is a ``network_config`` attribute, and the value is an array of dicts entries describing the physical and virtual interfaces to configure. Each interface entry has a mandatory ``type`` attribute, and the value determines what other attributes are supported for that type. .. _common-attributes: Common attributes ----------------- The following attributes are used in many types: addresses ========= A list of ``ip_netmask`` entries to specify the network addresses for this interface. For example: .. code-block:: yaml addresses: - ip_netmask: 192.0.2.2/24 ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``BOOTPROTO=static`` and populates ``IPADDR<i>`` and ``NETMASK<i>`` for each address with ``<i>`` starting from ``0``. dns_servers =========== A list of DNS servers to use for name resolution. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``DNS1``, ``DNS2`` to support up to 2 DNS resolvers. domain ====== A string or a list of strings containing DNS search domains ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``DOMAIN`` containing all values. mtu === Maximum transmission unit for this interface. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``MTU`` to the specified value. name ==== This is the name for the interface which is one of: - the name of existing physical interface (NIC) - the identifier from the mapping file which maps to a NIC - the desired name of a bridge or bond ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ When the name is an identifier in the mapping file, the actual name used will be the mapping value, not the identifier. Each interface definition is written to ``/etc/sysconfig/network-scripts/ifcfg-<name>`` and the first value in the file is ``DEVICE=<name>``. nm_controlled ============= Boolean whether this interface is managed by `NetworkManager`_, defaults to ``false``. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``NM_CONTROLLED=yes`` or ``NM_CONTROLLED=no`` onboot ====== Boolean which determines whether to enable the interface on machine boot, defaults to ``true``. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``ONBOOT=yes`` or ``ONBOOT=no``. primary ======= In the ``members`` entries for a bond or bridge this will be set to ``true`` for the primary interface. routes ====== A list of route entries for this interface containing attributes: - ``default`` Boolean whether this is the default route for this interface - ``ip_netmask`` Source network address when ``default`` is ``false`` - ``next_hop`` Network address for route destination Other supported attributes include: - ``route_table`` The table to add this route to - ``route_options`` String of extra options to append to the end of the route For example: .. code-block:: yaml routes: - default: true next_hop: 198.51.100.1 - ip_netmask: 192.0.2.2/24 next_hop: 203.0.113.254 ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ A routes file for each interface definition is written to ``/etc/sysconfig/network-scripts/route-<name>``. use_dhcp ======== Boolean for whether to use DHCP for the IPv4 boot protocol. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``PEERDNS=no`` when ``false``. use_dhcpv6 ========== Boolean for whether to use DHCP for the IPv6 boot protocol. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``DHCPV6C=yes`` when ``true``. .. Undocumented: rules nic_mapping persist_mapping defroute dhclient_args .. _ovs-attributes: Open vSwitch attributes ----------------------- The `Open vSwitch`_ types support some or all of these attributes: .. _ovs-extra: ovs_extra ========= A list of extra options to pass to Open vSwitch. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Will set the ``OVS_EXTRA`` value with all the provided values. ovs_fail_mode ============= Failure mode for a bridge, defaults to ``standard``, can also be set to ``secure`` ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Will be appended to the ``OVS_EXTRA`` value. .. _ovs-options: ovs_options =========== String of other options to pass to Open vSwitch for this bond or bridge. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets the ``OVS_OPTIONS`` value. type: interface --------------- Configures a physical NIC. All of the :ref:`common-attributes` can be used with this type along with the following attributes: ethtool_opts ============ Device-specific options supported by `ethtool`_. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``ETHTOOL_OPTS`` to the delay value. hotplug ======= A boolean for whether to activate the device when it is plugged in. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``HOTPLUG=yes`` or ``HOTPLUG=no`` linkdelay ========= Integer number of seconds to wait for link negotiation before configuring the device. ifcfg implementation ^^^^^^^^^^^^^^^^^^^^ Sets ``LINKDELAY`` to the delay value. type: ovs_bridge ---------------- Configures an `Open vSwitch`_ bridge. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to bridge. ifcfg implementation ==================== Values ``DEVICETYPE=ovs`` and ``TYPE=OVSBridge`` are set. When ``use_dhcp`` or ``use_dhcpv6`` is ``true``, ``OVSBOOTPROTO=dhcp`` is set and ``OVSDHCPINTERFACES`` is populated. type: ovs_bond -------------- Configures an `Open vSwitch`_ bond. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to be bonded. ifcfg implementation ==================== Values ``DEVICETYPE=ovs`` and ``TYPE=OVSBridge`` are set. When ``use_dhcp`` or ``use_dhcpv6`` is ``true``, ``OVSBOOTPROTO=dhcp`` is set and ``OVSDHCPINTERFACES`` is populated. type: vlan ---------- Configures VLAN tagging for one VLAN. :ref:`common-attributes` are supported but generally only ``mtu``, ``addresses`` or ``routes`` are used. Other attributes for ``vlan`` are: device ====== The ``name`` of an existing interface entry, which will typically be of ``type: interface`` or ``type: linux_bond``. vlan_id ======= The VLAN ID to tag when passing through the ``device`` interface. ifcfg implementation ==================== Sets ``VLAN=yes`` and ``PHYSDEV`` to the ``device`` value. type: linux_bridge ------------------ Configures a `Linux bridge`_. All of the :ref:`common-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to bridge. ifcfg implementation ==================== Sets ``TYPE=Bridge`` and ``DELAY=0``. The MAC address of the ``members`` interface which has ``primary: true`` will be used for the ``MACADDR`` value. type: linux_bond ---------------- Configures a `Linux bond`_. All of the :ref:`common-attributes` can be used with this type. The ``members`` attribute contains a list of entries for interfaces to be bonded. Extra bonding options are specified in the ``bonding_options`` string. ifcfg implementation ==================== The MAC address of the ``members`` interface which has ``primary: true`` will be used for the ``MACADDR`` value. ``BONDING_OPTS`` will contain the value of the ``bonding_options`` attribute. type: ovs_user_bridge --------------------- Configures an `Open vSwitch`_ bridge where the members are user ports. This is generally used to set up `DPDK vHost User Ports`_. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute usually contains a single ``type: ovs_dpdk_bond`` entry. ifcfg implementation ==================== Values ``DEVICETYPE=ovs`` and ``TYPE=OVSUserBridge`` are set. When ``use_dhcp`` or ``use_dhcpv6`` is ``true``, ``OVSBOOTPROTO=dhcp`` is set and ``OVSDHCPINTERFACES`` is populated. Each ``members`` interface also has ``OVS_BRIDGE`` set, as well as other values depending on the type of the member. type: ovs_dpdk_bond ------------------- Configures an `Open vSwitch`_ bond for binding DPDK ports. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. The ``members`` attribute contains a list of ``type: ovs_dpdk_port`` ports to be bonded. The value for attribute ``rx_queue`` will determine the RX queue length. ifcfg implementation ==================== Values ``DEVICETYPE=ovs``, ``TYPE=OVSDPDKBond``, and ``RX_QUEUE`` are set. ``BOND_IFACES`` is populated with the ``name`` of all members. ``OVS_EXTRA`` is extended with a ``set Interface...`` directive for each member. type: ovs_dpdk_port ------------------- Creates an Open vSwitch DPDK port, usually in the ``members`` of a ``type: ovs_dpdk_bond`` bond interface. All of the :ref:`common-attributes` and :ref:`ovs-attributes` can be used with this type. Each port must have a ``members`` list with a single interface entry. A port can have its own ``rx_queue`` specifed. The ``driver`` attribute can override the default kernel driver module of ``vfio-pci``. ifcfg implementation ==================== Values ``DEVICETYPE=ovs`` and ``TYPE=OVSDPDKPort``, and ``RX_QUEUE`` are set. ``OVS_EXTRA`` is extended with a ``set Interface...`` directive for the one ``members`` interface. .. _NetworkManager: https://en.wikipedia.org/wiki/NetworkManager .. _ethtool: https://en.wikipedia.org/wiki/Ethtool .. _Open vSwitch: https://www.openvswitch.org/ .. _Linux bridge: https://wiki.linuxfoundation.org/networking/bridge .. _Linux bond: https://wiki.linuxfoundation.org/networking/bonding .. _DPDK vHost User Ports: https://docs.openvswitch.org/en/latest/topics/dpdk/vhost-user/",,389,0
openstack%2Ftripleo-heat-templates~master~Ic6e4477c2218cf7586e70df8de7c47b798e79656,openstack/tripleo-heat-templates,master,Ic6e4477c2218cf7586e70df8de7c47b798e79656,Add no log to podman set_fact,MERGED,2021-02-21 02:30:56.000000000,2021-02-24 07:10:03.000000000,2021-02-24 07:10:03.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-21 02:30:56.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/057f41345b914993663e7996b69024e0c6c5c65c', 'message': ""Add no log to podman set_fact\n\nIf you run ansible with -v, the data in the set_fact task may be logged.\nWe don't want that for these tasks.\n\nChange-Id: Ic6e4477c2218cf7586e70df8de7c47b798e79656\n""}]",0,776818,057f41345b914993663e7996b69024e0c6c5c65c,10,6,1,14985,,,0,"Add no log to podman set_fact

If you run ansible with -v, the data in the set_fact task may be logged.
We don't want that for these tasks.

Change-Id: Ic6e4477c2218cf7586e70df8de7c47b798e79656
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/776818/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,057f41345b914993663e7996b69024e0c6c5c65c,silence-facts, no_log: true no_log: true no_log: true,,3,0
openstack%2Fglance~master~Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d,openstack/glance,master,Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d,Add basic/common personas to base policies,MERGED,2020-11-25 21:02:22.000000000,2021-02-24 07:07:29.000000000,2021-02-24 07:05:40.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-25 21:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ab9d43185ba4fb372444a52a892d7ed647b81699', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 2, 'created': '2020-11-25 22:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de48694d4f25bca28816fea958ace12156d83417', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 3, 'created': '2020-11-30 21:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc2d16581333cb95e0dabeeac55ccd1006c3fb9c', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 4, 'created': '2021-02-03 08:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a3ca4a0307d1d514d15b20fc94c4c697d1121da1', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 5, 'created': '2021-02-03 15:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/db232d850617f025daa9da0cfb0bc5c018372e4f', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 6, 'created': '2021-02-03 17:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6f894b344833a12da64a99e6541cbe792babe517', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 7, 'created': '2021-02-03 22:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7bd59aea968f9ec84909b03c95cb01f3f26bbb8a', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 8, 'created': '2021-02-05 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3ee373c2e36cd4d006019b1d029edc2af280fb52', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 9, 'created': '2021-02-15 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/469672c1291fb70be1d079832f6423d82f4f88f9', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 10, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d093dd7ffbe872fd3b752295325a087ac502a8ed', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 11, 'created': '2021-02-22 18:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1b2ca9e5bcfff60ed0e1b2185c96dac4114432ee', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\nAdditionally, future patches will introduce check string for\nsystem-personas when glance is a better position to adopt system-scope\nfor administrative APIs.\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 12, 'created': '2021-02-23 14:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7d174434fc4a18d5519601e74ea99ae9c0624d0a', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\nAdditionally, future patches will introduce check string for\nsystem-personas when glance is a better position to adopt system-scope\nfor administrative APIs.\n\nRelated: blueprint secure-rbac\n\nRelated: blueprint secure-rbac\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 13, 'created': '2021-02-23 17:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/367c8ddbf4ee5a80b76d7f357f63d285ba93813d', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\nAdditionally, future patches will introduce check string for\nsystem-personas when glance is a better position to adopt system-scope\nfor administrative APIs.\n\nRelated: blueprint secure-rbac\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}, {'number': 14, 'created': '2021-02-23 22:25:07.000000000', 'files': ['glance/tests/unit/test_policy.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/b41fa3f6b3fa615a6ce1d86a98994f49a7995862', 'message': ""Add basic/common personas to base policies\n\nThese policy check strings model uniform, consistent personas that we'd\nlike to implement across OpenStack APIs. Doing this consistently will\nimprove user experience for end-users and operators who are struggling\nto maintain drift in RBAC implementations across OpenStack.\n\nSubsequent patches will use these check strings in new policy defaults.\nAdditionally, future patches will introduce check string for\nsystem-personas when glance is a better position to adopt system-scope\nfor administrative APIs.\n\nRelated: blueprint secure-rbac\n\nChange-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d\n""}]",7,764241,b41fa3f6b3fa615a6ce1d86a98994f49a7995862,71,3,14,5046,,,0,"Add basic/common personas to base policies

These policy check strings model uniform, consistent personas that we'd
like to implement across OpenStack APIs. Doing this consistently will
improve user experience for end-users and operators who are struggling
to maintain drift in RBAC implementations across OpenStack.

Subsequent patches will use these check strings in new policy defaults.
Additionally, future patches will introduce check string for
system-personas when glance is a better position to adopt system-scope
for administrative APIs.

Related: blueprint secure-rbac

Change-Id: Id09ad3d3a6e96d9d77a9f8a43c755b1b6b9c9b7d
",git fetch https://review.opendev.org/openstack/glance refs/changes/41/764241/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/base.py'],1,ab9d43185ba4fb372444a52a892d7ed647b81699,secure-rbac-handle-members,"# Generic check string used to protect APIs meant for system administrators. SYSTEM_ADMIN = 'role:all and system_scope:all' # Generic check string used to protect APIs means for system users with # read-only access to the API. SYSTEM_READER = 'role:all and system_scope:all' # Generic check string for checking if a user is authorized on a paritcular # project, specifically with the member role. PROJECT_MEMBER = 'role:member and project_id:%(project_id)s' # Generic check string for checking if a user is authorized on a particular # project but with read-only access. For example, this persona would be able to # list images owned by a project but not actually make any writeable changes to # those images. PROJECT_READER = 'role:reader and project_id:%(project_id)s' ",,17,0
openstack%2Fopenstack-tempest-skiplist~master~Ief72e77b879df0e0455284707623c7f65d1e62c4,openstack/openstack-tempest-skiplist,master,Ief72e77b879df0e0455284707623c7f65d1e62c4,Adding C7 train that is failing on TrafficOperationsScenarioTest,MERGED,2021-02-24 06:19:48.000000000,2021-02-24 06:58:47.000000000,2021-02-24 06:57:24.000000000,"[{'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 06:19:48.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/fdd7c25d30947817844da904320444cd385b8c67', 'message': 'Adding C7 train that is failing on TrafficOperationsScenarioTest\n\nThis test is failing on TrafficOperationsScenarioTest for C8\nbranches as well, those jobs are already in skiplist.\n\nRelated-Bug: #1883687\nChange-Id: Ief72e77b879df0e0455284707623c7f65d1e62c4\n'}]",0,777301,fdd7c25d30947817844da904320444cd385b8c67,10,4,1,29775,,,0,"Adding C7 train that is failing on TrafficOperationsScenarioTest

This test is failing on TrafficOperationsScenarioTest for C8
branches as well, those jobs are already in skiplist.

Related-Bug: #1883687
Change-Id: Ief72e77b879df0e0455284707623c7f65d1e62c4
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/01/777301/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,fdd7c25d30947817844da904320444cd385b8c67,, - periodic-tripleo-ci-centos-7-scenario010-standalone-train,,1,0
openstack%2Fopenstacksdk~master~I93d156eb40471d4d74f445f8988c026457b3adf4,openstack/openstacksdk,master,I93d156eb40471d4d74f445f8988c026457b3adf4,Added support for the Limits resource,ABANDONED,2021-02-24 06:26:20.000000000,2021-02-24 06:29:50.000000000,,[],"[{'number': 1, 'created': '2021-02-24 06:26:20.000000000', 'files': ['openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v3/limit.py', 'openstack/tests/unit/block_storage/v3/test_limit.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8903a7877fedb1253bddd941df070cc386946c65', 'message': 'Added support for the Limits resource\n\nIntroduce the Limits resource, fill in its resources and implement API calls to support this Cinder v3 API.\n\nTask: 41816\nStory: 2008619\nChange-Id: I93d156eb40471d4d74f445f8988c026457b3adf4\n'}]",0,777303,8903a7877fedb1253bddd941df070cc386946c65,2,0,1,33032,,,0,"Added support for the Limits resource

Introduce the Limits resource, fill in its resources and implement API calls to support this Cinder v3 API.

Task: 41816
Story: 2008619
Change-Id: I93d156eb40471d4d74f445f8988c026457b3adf4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/777303/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v3/limit.py', 'openstack/tests/unit/block_storage/v3/test_limit.py']",3,8903a7877fedb1253bddd941df070cc386946c65,change-776318-3,"ABSOLUTE_LIMIT = {RATE_LIMIT = { ""regex"": "".*"", ""uri"": ""*"", ""limit"": [ { ""verb"": ""POST"", ""value"": 80, ""remaining"": 80, ""unit"": ""MINUTE"", ""next-available"": ""2021-02-23T22:08:00Z"" } ] } LIMIT = { ""rate"": [RATE_LIMIT], ""absolute"": ABSOLUTE_LIMIT } class TestAbsoluteLimit(base.TestCase): limit_resource = limit.AbsoluteLimit() def test_make_absolute_limit(self): limit_resource = limit.AbsoluteLimit(**ABSOLUTE_LIMIT) self.assertEqual( ABSOLUTE_LIMIT['totalSnapshotsUsed'], limit_resource.total_snapshots_used) self.assertEqual( ABSOLUTE_LIMIT['maxTotalBackups'], limit_resource.max_total_backups) self.assertEqual( ABSOLUTE_LIMIT['maxTotalVolumeGigabytes'], limit_resource.max_total_volume_gigabytes) self.assertEqual( ABSOLUTE_LIMIT['maxTotalSnapshots'], limit_resource.max_total_snapshots) self.assertEqual( ABSOLUTE_LIMIT['maxTotalBackupGigabytes'], limit_resource.max_total_backup_gigabytes) self.assertEqual( ABSOLUTE_LIMIT['totalBackupGigabytesUsed'], limit_resource.total_backup_gigabytes_used) self.assertEqual( ABSOLUTE_LIMIT['maxTotalVolumes'], limit_resource.max_total_volumes) self.assertEqual( ABSOLUTE_LIMIT['totalVolumesUsed'], limit_resource.total_volumes_used) self.assertEqual( ABSOLUTE_LIMIT['totalBackupsUsed'], limit_resource.total_backups_used) self.assertEqual( ABSOLUTE_LIMIT['totalGigabytesUsed'], limit_resource.total_gigabytes_used) class TestRateLimit(base.TestCase): def test_basic(self): limit_resource = limit.RateLimit() self.assertIsNone(limit_resource.resource_key) self.assertIsNone(limit_resource.resources_key) self.assertEqual('', limit_resource.base_path) self.assertFalse(limit_resource.allow_create) self.assertFalse(limit_resource.allow_fetch) self.assertFalse(limit_resource.allow_delete) self.assertFalse(limit_resource.allow_commit) self.assertFalse(limit_resource.allow_list) def test_make_rate_limit(self): limit_resource = limit.RateLimit(**RATE_LIMIT) self.assertEqual(RATE_LIMIT['regex'], limit_resource.regex) self.assertEqual(RATE_LIMIT['uri'], limit_resource.uri) self.assertEqual(RATE_LIMIT['limit'], limit_resource.limit) self.assertEqual( expected['totalSnapshotsUsed'], actual.total_snapshots_used) self.assertEqual( expected['maxTotalBackups'], actual.max_total_backups) self.assertEqual( expected['maxTotalVolumeGigabytes'], actual.max_total_volume_gigabytes) self.assertEqual( expected['maxTotalSnapshots'], actual.max_total_snapshots) self.assertEqual( expected['maxTotalBackupGigabytes'], actual.max_total_backup_gigabytes) self.assertEqual( expected['totalBackupGigabytesUsed'], actual.total_backup_gigabytes_used) self.assertEqual( expected['maxTotalVolumes'], actual.max_total_volumes) self.assertEqual( expected['totalVolumesUsed'], actual.total_volumes_used) self.assertEqual( expected['totalBackupsUsed'], actual.total_backups_used) self.assertEqual( expected['totalGigabytesUsed'], actual.total_gigabytes_used) def _test_rate_limit(self, expected, actual): self.assertEqual(expected[0]['regex'], actual[0].regex) self.assertEqual(expected[0]['uri'], actual[0].uri) self.assertEqual(expected[0]['limit'], actual[0].limit) self._test_rate_limit(LIMIT['rate'], limit_resource.rate)","ABSOLUTE = {LIMIT = { ""rate"": [], ""absolute"": ABSOLUTE } class TestAbsolute(base.TestCase): limit_resource = limit.Absolute() def test_make_absolute(self): limit_resource = limit.Absolute(**ABSOLUTE) self.assertEqual(ABSOLUTE['totalSnapshotsUsed'], limit_resource.total_snapshots_used) self.assertEqual(ABSOLUTE['maxTotalBackups'], limit_resource.max_total_backups) self.assertEqual(ABSOLUTE['maxTotalVolumeGigabytes'], limit_resource.max_total_volume_gigabytes) self.assertEqual(ABSOLUTE['maxTotalSnapshots'], limit_resource.max_total_snapshots) self.assertEqual(ABSOLUTE['maxTotalBackupGigabytes'], limit_resource.max_total_backup_gigabytes) self.assertEqual(ABSOLUTE['totalBackupGigabytesUsed'], limit_resource.total_backup_gigabytes_used) self.assertEqual(ABSOLUTE['maxTotalVolumes'], limit_resource.max_total_volumes) self.assertEqual(ABSOLUTE['totalVolumesUsed'], limit_resource.total_volumes_used) self.assertEqual(ABSOLUTE['totalBackupsUsed'], limit_resource.total_backups_used) self.assertEqual(ABSOLUTE['totalGigabytesUsed'], limit_resource.total_gigabytes_used) self.assertEqual(expected['totalSnapshotsUsed'], actual.total_snapshots_used) self.assertEqual(expected['maxTotalBackups'], actual.max_total_backups) self.assertEqual(expected['maxTotalVolumeGigabytes'], actual.max_total_volume_gigabytes) self.assertEqual(expected['maxTotalSnapshots'], actual.max_total_snapshots) self.assertEqual(expected['maxTotalBackupGigabytes'], actual.max_total_backup_gigabytes) self.assertEqual(expected['totalBackupGigabytesUsed'], actual.total_backup_gigabytes_used) self.assertEqual(expected['maxTotalVolumes'], actual.max_total_volumes) self.assertEqual(expected['totalVolumesUsed'], actual.total_volumes_used) self.assertEqual(expected['totalBackupsUsed'], actual.total_backups_used) self.assertEqual(expected['totalGigabytesUsed'], actual.total_gigabytes_used) self.assertEqual(LIMIT['rate'], limit_resource.rate)",125,61
openstack%2Fneutron~stable%2Fussuri~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/ussuri,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:32:02.000000000,2021-02-24 06:04:10.000000000,2021-02-24 06:01:57.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 10:32:02.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f849a4c2187e37f121448198fc327a21c359fc6c', 'message': ""Don't try to create default SG when security groups are disabled\n\nIf security group API is disabled, there is no point to create default\nsecurity group for tenant when e.g. network is created.\n\nCloses-Bug: #1913297\nChange-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa\n(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)\n""}]",0,774405,f849a4c2187e37f121448198fc327a21c359fc6c,19,5,1,11975,,,0,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/774405/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,f849a4c2187e37f121448198fc327a21c359fc6c,bug/1913297-stable/victoria-stable/ussuri," is_ext_supported = mock.patch( 'neutron_lib.api.extensions.is_extension_supported') self.is_ext_supported = is_ext_supported.start() self.is_ext_supported.return_value = True def test__ensure_default_security_group_when_disabled(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: self.is_ext_supported.return_value = False self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_not_called()",,19,1
openstack%2Ftempest~master~Ia28a498fedb2b19e4b0fd84b08cce373afe568a5,openstack/tempest,master,Ia28a498fedb2b19e4b0fd84b08cce373afe568a5,Remove usage of six,MERGED,2021-02-22 01:15:20.000000000,2021-02-24 05:24:43.000000000,2021-02-24 05:23:17.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 01:15:20.000000000', 'files': ['tempest/api/compute/admin/test_volume.py', 'tempest/api/compute/flavors/test_flavors_negative.py', 'tempest/tests/lib/services/image/v2/test_images_client.py', 'tempest/api/image/v2/admin/test_images.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py', 'tempest/api/image/v1/test_images.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/api/volume/test_volumes_negative.py', 'tempest/api/compute/images/test_list_image_filters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c3dac1abcdb7be83a94071c06316230a7ec66be', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.BytesIO\n\nChange-Id: Ia28a498fedb2b19e4b0fd84b08cce373afe568a5\n'}]",0,776856,8c3dac1abcdb7be83a94071c06316230a7ec66be,15,2,1,31412,,,0,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.BytesIO

Change-Id: Ia28a498fedb2b19e4b0fd84b08cce373afe568a5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/776856/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_volume.py', 'tempest/api/compute/flavors/test_flavors_negative.py', 'tempest/tests/lib/services/image/v2/test_images_client.py', 'tempest/api/image/v2/admin/test_images.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py', 'tempest/api/image/v1/test_images.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/api/volume/test_volumes_negative.py', 'tempest/api/compute/images/test_list_image_filters.py']",10,8c3dac1abcdb7be83a94071c06316230a7ec66be,remove-six,import io image_file = io.BytesIO((b'*' * 1024)),import six image_file = six.BytesIO((b'*' * 1024)),27,29
openstack%2Fheat-translator~master~I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205,openstack/heat-translator,master,I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205,Remove depreciated file babel.cfg,MERGED,2021-02-11 11:41:58.000000000,2021-02-24 04:57:01.000000000,2021-02-24 04:55:48.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27880}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-02-11 11:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/d8520c432474a5f37ed36dfa5eba9e8b9ceae3d3', 'message': 'Remove depreciated file babel.cfg\n\nThe file babel.cfg is not used anymore.\n\nThis patch removes the depreciated file and the translation\nsections in setup.cfg (extract_messages, compile_catalog and\nupdate_catalog) as these not needed anymore,\nBabel can generate translation files without them.\n\nChange-Id: I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205\n'}, {'number': 2, 'created': '2021-02-12 01:21:37.000000000', 'files': ['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/615c76b9005e15fee80c87cde37cbebe1115e8c9', 'message': 'Remove depreciated file babel.cfg\n\nThe file babel.cfg is not used anymore.\n\nThis patch removes the depreciated file and the translation\nsections in setup.cfg (extract_messages, compile_catalog and\nupdate_catalog) as these not needed anymore,\nBabel can generate translation files without them.\n\nChange-Id: I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205\n'}]",1,775122,615c76b9005e15fee80c87cde37cbebe1115e8c9,18,6,2,32102,,,0,"Remove depreciated file babel.cfg

The file babel.cfg is not used anymore.

This patch removes the depreciated file and the translation
sections in setup.cfg (extract_messages, compile_catalog and
update_catalog) as these not needed anymore,
Babel can generate translation files without them.

Change-Id: I86a0ce342ae695c9529d3cf5bd4ac3779f9a9205
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/22/775122/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg']",4,d8520c432474a5f37ed36dfa5eba9e8b9ceae3d3,remove_babel,,[compile_catalog] directory = translator/locale domain = translator [update_catalog] domain = translator output_dir = translator/locale input_file = translator/locale/translator.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = translator/locale/translator.pot,0,16
openstack%2Fdevstack~stable%2Fvictoria~I5dc9054a1495ca0ef7745c08316441ab153956f4,openstack/devstack,stable/victoria,I5dc9054a1495ca0ef7745c08316441ab153956f4,Fix: do not lose the tox_environment value in func tests,MERGED,2020-10-13 11:13:23.000000000,2021-02-24 04:20:27.000000000,2021-02-24 04:19:17.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-13 11:13:23.000000000', 'files': ['playbooks/tox/run-both.yaml', 'playbooks/tox/run.yaml', 'roles/get-devstack-os-environment/defaults/main.yaml', 'roles/get-devstack-os-environment/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fe8a781b1fd4d841d51aff002499d18296b4b26a', 'message': 'Fix: do not lose the tox_environment value in func tests\n\nThe current code always overrides tox_environment when running\nfunctional tests, but the correct behavior is to add\nthe discovered environment variables to tox_environments,\nwhile keeping the user-specified value for it.\n\nThe current behavior breaks the devstack-tox-functional children\njobs, like openstacksdk-functional-devstack-ironic, which set\ntox_environment.\n\nChange-Id: I5dc9054a1495ca0ef7745c08316441ab153956f4\n(cherry picked from commit 906d824a1985332949090583fdc3f4a5ce30125a)\n'}]",0,757827,fe8a781b1fd4d841d51aff002499d18296b4b26a,14,5,1,10459,,,0,"Fix: do not lose the tox_environment value in func tests

The current code always overrides tox_environment when running
functional tests, but the correct behavior is to add
the discovered environment variables to tox_environments,
while keeping the user-specified value for it.

The current behavior breaks the devstack-tox-functional children
jobs, like openstacksdk-functional-devstack-ironic, which set
tox_environment.

Change-Id: I5dc9054a1495ca0ef7745c08316441ab153956f4
(cherry picked from commit 906d824a1985332949090583fdc3f4a5ce30125a)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/27/757827/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tox/run-both.yaml', 'playbooks/tox/run.yaml', 'roles/get-devstack-os-environment/defaults/main.yaml', 'roles/get-devstack-os-environment/tasks/main.yaml']",4,fe8a781b1fd4d841d51aff002499d18296b4b26a,func-allow-existing-tox-environment," - name: Append the the OS_ environment variables to tox_environment set_fact: tox_environment: ""{{ env_os.stdout|from_yaml|default({})|combine(tox_environment) }}"""," - name: Save the OS_ environment variables as a fact set_fact: os_env_vars: ""{{ env_os.stdout|from_yaml }}""",5,6
openstack%2Fironic~master~Ic57c4b78efea21247abdaf0feb1d90d70e6e9ec4,openstack/ironic,master,Ic57c4b78efea21247abdaf0feb1d90d70e6e9ec4,Reduce list_all policy rules to SYSTEM_ADMIN scope,ABANDONED,2021-02-24 03:47:30.000000000,2021-02-24 04:10:31.000000000,,[],"[{'number': 1, 'created': '2021-02-24 03:47:30.000000000', 'files': ['ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6845758c1e282476605aa2ed0b8f54daddcb54cd', 'message': 'Reduce list_all policy rules to SYSTEM_ADMIN scope\n\nThe list_all policy rules can view all objects of that type. This\nchange ensures that this ability is limited to admins.\n\nChange-Id: Ic57c4b78efea21247abdaf0feb1d90d70e6e9ec4\n'}]",0,777291,6845758c1e282476605aa2ed0b8f54daddcb54cd,4,0,1,7386,,,0,"Reduce list_all policy rules to SYSTEM_ADMIN scope

The list_all policy rules can view all objects of that type. This
change ensures that this ability is limited to admins.

Change-Id: Ic57c4b78efea21247abdaf0feb1d90d70e6e9ec4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/777291/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,6845758c1e282476605aa2ed0b8f54daddcb54cd,fix-list-all-policy-defaults," check_str=SYSTEM_ADMIN, check_str=SYSTEM_ADMIN, check_str=SYSTEM_ADMIN,"," check_str=SYSTEM_READER, check_str=SYSTEM_READER, check_str=SYSTEM_READER,",3,3
openstack%2Fcinder~stable%2Ftrain~Ib198372bf3e125a88d607c71377c95a24ab584ad,openstack/cinder,stable/train,Ib198372bf3e125a88d607c71377c95a24ab584ad,Fixed an issue with creating a backup from snapshot with NFS volume driver.,MERGED,2021-01-07 16:50:37.000000000,2021-02-24 04:01:28.000000000,2021-02-24 04:00:00.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29568}]","[{'number': 1, 'created': '2021-01-07 16:50:37.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'releasenotes/notes/bug-1888951-backup-from-nfs-snapshot-2e06235eb318b852.yaml', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/04198bba821d1fe77b35080ba2be0516ab262924', 'message': 'Fixed an issue with creating a backup from snapshot with NFS volume driver.\n\nChange-Id: Ib198372bf3e125a88d607c71377c95a24ab584ad\nCloses-Bug: 1888951\n(cherry picked from commit a21bf41413b8e5b56c1a61460039ec7609f45042)\n(cherry picked from commit d2e9c4a43c6a1f788fa16ab424a27c1689cdfe69)\n(cherry picked from commit 5fecd1450de562d6aeb064df73669311e51ec8f7)\n'}]",0,769797,04198bba821d1fe77b35080ba2be0516ab262924,37,6,1,10459,,,0,"Fixed an issue with creating a backup from snapshot with NFS volume driver.

Change-Id: Ib198372bf3e125a88d607c71377c95a24ab584ad
Closes-Bug: 1888951
(cherry picked from commit a21bf41413b8e5b56c1a61460039ec7609f45042)
(cherry picked from commit d2e9c4a43c6a1f788fa16ab424a27c1689cdfe69)
(cherry picked from commit 5fecd1450de562d6aeb064df73669311e51ec8f7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/769797/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_nfs.py', 'releasenotes/notes/bug-1888951-backup-from-nfs-snapshot-2e06235eb318b852.yaml', 'cinder/volume/drivers/remotefs.py']",3,04198bba821d1fe77b35080ba2be0516ab262924,," status = snapshot.status acceptable_states = ['available', 'backing-up'] self._validate_state(status, acceptable_states, obj_description='snapshot', invalid_exc=exception.InvalidSnapshot)"," if snapshot.status != 'available': msg = _('Snapshot status must be ""available"" to clone. ' 'But is: %(status)s') % {'status': snapshot.status} raise exception.InvalidSnapshot(msg)",22,12
openstack%2Fpuppet-tripleo~stable%2Ftrain~I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,openstack/puppet-tripleo,stable/train,I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,Add authtoken security options,MERGED,2021-02-16 09:53:29.000000000,2021-02-24 03:43:17.000000000,2021-02-24 03:42:06.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 09:53:29.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/panko/authtoken.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'releasenotes/notes/add-memcache-security-92060c4fe540774c.yaml', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cff548bb03a75f35522d4745f4e81b5744a450b4', 'message': 'Add authtoken security options\n\nAdd ability to specify the memcache_security_strategy and\nmemcache_secret_key for keystone authtoken middleware.\nThe keys for individual services are hashed with a salt,\nto isolate them.\n\nChange-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7\n(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)\n'}]",0,775786,cff548bb03a75f35522d4745f4e81b5744a450b4,9,6,1,14250,,,0,"Add authtoken security options

Add ability to specify the memcache_security_strategy and
memcache_secret_key for keystone authtoken middleware.
The keys for individual services are hashed with a salt,
to isolate them.

Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/775786/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/panko/authtoken.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'releasenotes/notes/add-memcache-security-92060c4fe540774c.yaml', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp']",16,cff548bb03a75f35522d4745f4e81b5744a450b4,memcached-cert-stable/train,"# [*memcached_port*] # (Optional) Memcached port to use. # Defaults to hiera('memcached_authtoken_port', 11211) # # [*security_strategy*] # (Optional) Memcached (authtoken) security strategy. # Defaults to hiera('memcached_authtoken_security_strategy', undef) # # [*secret_key*] # (Optional) Memcached (authtoken) secret key, used with security_strategy. # The key is hashed with a salt, to isolate services. # Defaults to hiera('memcached_authtoken_secret_key', undef) # $memcached_ips = hiera('memcached_node_ips', []), $memcached_port = hiera('memcached_authtoken_port', 11211), $security_strategy = hiera('memcached_authtoken_security_strategy', undef), $secret_key = hiera('memcached_authtoken_secret_key', undef), if $secret_key { $hashed_secret_key = sha256(""${secret_key}+aodh"") } else { $hashed_secret_key = undef } class { '::aodh::keystone::authtoken': memcached_servers => $memcache_servers, memcache_security_strategy => $security_strategy, memcache_secret_key => $hashed_secret_key,"," $memcached_ips = hiera('memcached_node_ips'), class { '::aodh::keystone::authtoken': memcached_servers => $memcache_servers",397,30
openstack%2Ftripleo-ansible~master~I25f8dd51432cbcd013f030feefbe5525c157484a,openstack/tripleo-ansible,master,I25f8dd51432cbcd013f030feefbe5525c157484a,Support OS_AUTH_TYPE=none in inventory module,MERGED,2021-02-03 01:47:34.000000000,2021-02-24 02:56:44.000000000,2021-02-24 02:53:05.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-03 01:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f89f86c618d90bf0e515fffa7debf665b4069d20', 'message': 'Support OS_AUTH_TYPE=none in inventory module\n\nAdds support for when the conn.session object is of type NoAuth. This\nremoves the restriction for requiring credentials for an installed\nundercloud when running overcloud deploy with ephemeral heat.\n\nChange-Id: I25f8dd51432cbcd013f030feefbe5525c157484a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-02-10 01:11:57.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_generate_ansible_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad3e828de839c6a13f2f65c89079efea4b110b27', 'message': 'Support OS_AUTH_TYPE=none in inventory module\n\nAdds support for when the conn.session object is of type NoAuth. This\nremoves the restriction for requiring credentials for an installed\nundercloud when running overcloud deploy with ephemeral heat.\n\nChange-Id: I25f8dd51432cbcd013f030feefbe5525c157484a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,773828,ad3e828de839c6a13f2f65c89079efea4b110b27,13,5,2,7144,,,0,"Support OS_AUTH_TYPE=none in inventory module

Adds support for when the conn.session object is of type NoAuth. This
removes the restriction for requiring credentials for an installed
undercloud when running overcloud deploy with ephemeral heat.

Change-Id: I25f8dd51432cbcd013f030feefbe5525c157484a
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/773828/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_generate_ansible_inventory.py'],1,f89f86c618d90bf0e515fffa7debf665b4069d20,ephemeral-heat," auth_url = getattr(conn.session.auth, ""auth_url"", None) username = getattr(conn.session.auth, ""_username"", None) project = getattr(conn.session.auth, ""_project_name"", None) cacert = getattr(conn.session.auth, ""verify"", None) auth_url, username, project, cacert,"," conn.session.auth.auth_url, conn.session.auth._username, conn.session.auth._project_name, conn.session.verify,",9,4
openstack%2Fopenstack-helm-images~master~I8c658787b8f157103610f3941f40cabff16a992e,openstack/openstack-helm-images,master,I8c658787b8f157103610f3941f40cabff16a992e,Remove Alerta from openstack-helm-image repository,MERGED,2021-02-12 19:52:52.000000000,2021-02-24 02:56:37.000000000,2021-02-24 02:52:55.000000000,"[{'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-02-12 19:52:52.000000000', 'files': ['alerta/build.sh', 'alerta/nginx.conf', 'alerta/config.json', 'alerta/config/config.json.example', 'alerta/config/alerta.conf.example', 'alerta/VERSION', 'zuul.d/alerta.yaml', 'alerta/wsgi.py', 'alerta/.env', 'alerta/Makefile', 'zuul.d/base.yaml', 'alerta/alertad.conf', 'alerta/install-plugins.sh', 'alerta/wait-for-it.sh', 'alerta/uwsgi.ini', 'alerta/Dockerfile', 'alerta/plugins.txt', 'alerta/tests.sh', 'alerta/requirements.txt', 'alerta/config/config.json', 'alerta/supervisord.conf', 'alerta/config/alertad.conf.example', 'alerta/docker-entrypoint.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/234f28c5536c25bec0a910a05eccc9c99bb627ab', 'message': 'Remove Alerta from openstack-helm-image repository\n\nThere is no significant value been added from Alerta base on current user story.\n\nChange-Id: I8c658787b8f157103610f3941f40cabff16a992e\n'}]",1,775443,234f28c5536c25bec0a910a05eccc9c99bb627ab,14,6,1,31713,,,0,"Remove Alerta from openstack-helm-image repository

There is no significant value been added from Alerta base on current user story.

Change-Id: I8c658787b8f157103610f3941f40cabff16a992e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/43/775443/1 && git format-patch -1 --stdout FETCH_HEAD,"['alerta/build.sh', 'alerta/nginx.conf', 'alerta/config.json', 'alerta/config/config.json.example', 'alerta/config/alerta.conf.example', 'alerta/VERSION', 'zuul.d/alerta.yaml', 'alerta/wsgi.py', 'alerta/.env', 'alerta/Makefile', 'zuul.d/base.yaml', 'alerta/alertad.conf', 'alerta/install-plugins.sh', 'alerta/wait-for-it.sh', 'alerta/uwsgi.ini', 'alerta/Dockerfile', 'alerta/plugins.txt', 'alerta/tests.sh', 'alerta/requirements.txt', 'alerta/config/config.json', 'alerta/supervisord.conf', 'alerta/config/alertad.conf.example', 'alerta/docker-entrypoint.sh']",23,234f28c5536c25bec0a910a05eccc9c99bb627ab,,,"#!/bin/bash set -e ADMIN_USER=${ADMIN_USERS%%,*} ADMIN_PASSWORD=${ADMIN_PASSWORD:-alerta} MAXAGE=${ADMIN_KEY_MAXAGE:-315360000} # default=10 years # Generate minimal server config, if not supplied if [ ! -f ""${ALERTA_SVR_CONF_FILE}"" ]; then echo ""# Create server configuration file."" cat >""${ALERTA_SVR_CONF_FILE}"" << EOF SECRET_KEY = '$(< /dev/urandom tr -dc A-Za-z0-9_\!\@\#\$\%\^\&\*\(\)-+= | head -c 32)' EOF fi # Init admin users and API keys if [ -n ""${ADMIN_USERS}"" ]; then echo ""# Create admin users."" alertad user --all --password ""${ADMIN_PASSWORD}"" || true echo ""# Create admin API keys."" alertad key --all # Create user-defined API key, if required if [ -n ""${ADMIN_KEY}"" ]; then echo ""# Create user-defined admin API key."" alertad key --username ""${ADMIN_USER}"" --key ""${ADMIN_KEY}"" --duration ""${MAXAGE}"" fi fi # Generate minimal client config, if not supplied if [ ! -f ""${ALERTA_CONF_FILE}"" ]; then echo ""# Create client configuration file."" cat >${ALERTA_CONF_FILE} << EOF [DEFAULT] endpoint = http://localhost:8080/api EOF # Add API key to client config, if required if [ ""${AUTH_REQUIRED}"" == ""True"" ]; then echo ""# Auth enabled; add admin API key to client configuration."" API_KEY=$(alertad key \ --username ""${ADMIN_USER}"" \ --scope ""read"" \ --scope ""write:alerts"" \ --scope ""admin:management"" \ --duration ""${MAXAGE}"" \ --text ""Housekeeping"") cat >>${ALERTA_CONF_FILE} << EOF key = ${API_KEY} EOF fi fi echo echo 'Alerta init process complete; ready for start up.' echo exec ""$@"" ",0,608
openstack%2Ftooz~master~Id8aa147958139ddb3877c9a0066aa1513f543737,openstack/tooz,master,Id8aa147958139ddb3877c9a0066aa1513f543737,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:07:15.000000000,2021-02-24 02:43:51.000000000,2021-02-24 02:42:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-11-04 09:07:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tooz/commit/0187a2d24a425f400a2db1d27b2493ad00cc57d1', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Id8aa147958139ddb3877c9a0066aa1513f543737\n""}]",0,761322,0187a2d24a425f400a2db1d27b2493ad00cc57d1,24,4,1,28522,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Id8aa147958139ddb3877c9a0066aa1513f543737
",git fetch https://review.opendev.org/openstack/tooz refs/changes/22/761322/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0187a2d24a425f400a2db1d27b2493ad00cc57d1,tox-python38,"envlist = py3,py{36,38}-{zookeeper,redis,sentinel,memcached,postgresql,mysql,consul,etcd,etcd3,etcd3gw},pep8","envlist = py38,py{36,38}-{zookeeper,redis,sentinel,memcached,postgresql,mysql,consul,etcd,etcd3,etcd3gw},pep8",1,1
openstack%2Fovsdbapp~stable%2Frocky~Ia7335e7795efcc3505fcadab4116492d5cbcd8e8,openstack/ovsdbapp,stable/rocky,Ia7335e7795efcc3505fcadab4116492d5cbcd8e8,Dropping lower constraints testing (stable Rocky),MERGED,2021-02-10 18:47:38.000000000,2021-02-24 02:39:40.000000000,2021-02-24 02:39:40.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 18:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/93c37059c446c73b3e17b095444a1dba3b4665db', 'message': 'Dropping lower constraints testing (stable Rocky)\n\nPorted from Neutron: https://review.opendev.org/c/openstack/neutron/+/770358\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ia7335e7795efcc3505fcadab4116492d5cbcd8e8\n'}, {'number': 2, 'created': '2021-02-23 16:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/01f2732ef9c1fa418fc3f4f173633cb81c747010', 'message': 'Dropping lower constraints testing (stable Rocky)\n\nPorted from Neutron: https://review.opendev.org/c/openstack/neutron/+/770358\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nNote: for rocky, this change also needed modification to\ntest-requirements.txt on sphinx!=1.6.6,>=1.6.2\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ia7335e7795efcc3505fcadab4116492d5cbcd8e8\n'}, {'number': 3, 'created': '2021-02-23 16:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0868d1d39594ac713b2a2652df514c7f2761f01d', 'message': 'Dropping lower constraints testing (stable Rocky)\n\nPorted from Neutron: https://review.opendev.org/c/openstack/neutron/+/770358\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nNote: for rocky, this change also needed modification to\ntest-requirements.txt on sphinx!=1.6.6,>=1.6.2\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ia7335e7795efcc3505fcadab4116492d5cbcd8e8\n'}, {'number': 4, 'created': '2021-02-23 16:15:36.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/212746fec7c5d85fbd0f538e14c49fe4444b55be', 'message': 'Dropping lower constraints testing (stable Rocky)\n\nPorted from Neutron: https://review.opendev.org/c/openstack/neutron/+/770358\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nNote: for rocky, this change also needed modification to\ntest-requirements.txt on sphinx.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ia7335e7795efcc3505fcadab4116492d5cbcd8e8\n'}]",0,774930,212746fec7c5d85fbd0f538e14c49fe4444b55be,14,5,4,11952,,,0,"Dropping lower constraints testing (stable Rocky)

Ported from Neutron: https://review.opendev.org/c/openstack/neutron/+/770358

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

Note: for rocky, this change also needed modification to
test-requirements.txt on sphinx.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: Ia7335e7795efcc3505fcadab4116492d5cbcd8e8
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/30/774930/4 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",3,93c37059c446c73b3e17b095444a1dba3b4665db,oslo_lc_drop,, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,60
openstack%2Fopenstack-helm-images~master~I844efa669c0f11004a44f20f6725338e1d2699b6,openstack/openstack-helm-images,master,I844efa669c0f11004a44f20f6725338e1d2699b6,Align mini-mirror Dockerfile args with build.sh,MERGED,2021-02-20 03:40:07.000000000,2021-02-24 02:39:22.000000000,2021-02-22 17:01:57.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30449}, {'_account_id': 32353}]","[{'number': 1, 'created': '2021-02-20 03:40:07.000000000', 'files': ['mini-mirror/build.sh', 'mini-mirror/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/00401e1d920b1a942bc74b3397ccd3f2be2b1c09', 'message': 'Align mini-mirror Dockerfile args with build.sh\n\nThe mini-mirror build.sh script has somehow ended up out of sync with\nthe Dockerfiles, and is not passing the correct build-args to allow base\nimage overrides.\n\nThis change aligns with the standard of using BUILD_FROM (ubuntu) for\nthe build stage and FROM (nginx) for the final stage.\n\nRelevant earlier changes:\n0: https://review.opendev.org/714002\n1: https://review.opendev.org/679315\n\nChange-Id: I844efa669c0f11004a44f20f6725338e1d2699b6\n'}]",0,776787,00401e1d920b1a942bc74b3397ccd3f2be2b1c09,10,7,1,28719,,,0,"Align mini-mirror Dockerfile args with build.sh

The mini-mirror build.sh script has somehow ended up out of sync with
the Dockerfiles, and is not passing the correct build-args to allow base
image overrides.

This change aligns with the standard of using BUILD_FROM (ubuntu) for
the build stage and FROM (nginx) for the final stage.

Relevant earlier changes:
0: https://review.opendev.org/714002
1: https://review.opendev.org/679315

Change-Id: I844efa669c0f11004a44f20f6725338e1d2699b6
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/87/776787/1 && git format-patch -1 --stdout FETCH_HEAD,"['mini-mirror/build.sh', 'mini-mirror/Dockerfile.ubuntu_bionic']",2,00401e1d920b1a942bc74b3397ccd3f2be2b1c09,,ARG BUILD_FROM=ubuntu:18.04 ARG FROM=nginx FROM ${BUILD_FROM} as aptlyFROM ${FROM},ARG FROM_UBUNTU=ubuntu:18.04 ARG FROM_NGINX=nginx FROM ${FROM_UBUNTU} as aptlyFROM ${FROM_NGINX},6,6
openstack%2Floci~master~I04c9253af80d941afb45231bee20f7bb1c4a96d4,openstack/loci,master,I04c9253af80d941afb45231bee20f7bb1c4a96d4,Enable Debian gate build and fix mirrors related issues,MERGED,2020-01-20 22:36:20.000000000,2021-02-24 02:35:18.000000000,2021-02-16 16:42:11.000000000,"[{'_account_id': 1736}, {'_account_id': 8863}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28719}, {'_account_id': 29911}, {'_account_id': 30449}]","[{'number': 1, 'created': '2020-01-20 22:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/7106641823ec13b27761e7b79e2a966bccd0c753', 'message': 'Enable Debian gate build disabled due to repo issues\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 2, 'created': '2020-01-20 22:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e524826f8631585a2cb44b0a746fd4e4b359f8d6', 'message': 'Enable Debian gate build disabled due to repo issues\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 3, 'created': '2020-01-20 23:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ea93437ea5d309696d4c3cd813eb9b3e2a2c2e75', 'message': 'Enable Debian gate build disabled due to repo issues\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 4, 'created': '2020-01-20 23:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/dc3b78ec2a85f9d264e4020d9d5bda2ced4c6008', 'message': 'Enable Debian gate build disabled due to repo issues\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 5, 'created': '2020-01-21 00:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/910a1ac56a70706099088e6cb10cc3981b761349', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 6, 'created': '2020-01-21 02:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/cb9c0389ad151eff44f98a21a3fc9850d18155d7', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fix related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial: unlike in Bionic, distutils is installed with python3\nand python3-distutils package is not available in these distributions.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 7, 'created': '2020-01-21 02:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f7a3e373caaa5b4e0ef37ee4b44b2064a7f07cbf', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fix related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial: unlike in Bionic, distutils is installed with python3\nand python3-distutils package is not available in these distributions.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 8, 'created': '2020-01-21 02:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8605dc636996af4948f2ead8b8c4142e8bb7d504', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fix related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial: unlike in Bionic, distutils is installed with python3\nand python3-distutils package is not available in these distributions.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 9, 'created': '2020-01-21 02:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4177fa078d08ea42d15ac224673689257cef517a', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fix related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial: unlike in Bionic, distutils is installed with python3\nand python3-distutils package is not available in these distributions.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 10, 'created': '2020-01-21 03:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2ac843c85b8a8922f250ee151bbd88775782ad5e', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 11, 'created': '2020-01-21 05:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/029d2d96059af8672d284b594efe21d7d7ae1b8e', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 12, 'created': '2020-01-21 14:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/82fbed8c851a89952a8cd3b5293d73b755adc474', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 13, 'created': '2020-01-21 15:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/1b2ea344076206717dcacbb5d5e3c25a8e3a76fd', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 14, 'created': '2020-01-21 17:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/a480b71d7b3d2a546f60e6ebd927d39c0a12be31', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 15, 'created': '2020-01-21 17:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/787f098dac1a45b88d8f864a59636167e99f7cf4', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 16, 'created': '2020-01-21 17:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/3f759ec7c2cd22feb5dcae42d4545baeeb5f73b1', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 17, 'created': '2020-01-21 17:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9a2ccb5fa433d7053bc1c99be4c030b6de17791e', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 18, 'created': '2020-01-21 17:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/91f9d9bf7950e75354a138c082674099d4d9f9b5', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 19, 'created': '2020-01-27 21:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/c8c49176f55e9057e0f2c094adbf4e5f60283169', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 20, 'created': '2021-02-15 23:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/14a88ad7053b4bf3a930c08a0930c38dfe4b46f0', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}, {'number': 21, 'created': '2021-02-16 14:33:04.000000000', 'files': ['.zuul.d/base.yaml', 'dockerfiles/debian/Dockerfile', 'playbooks/vars.yaml', 'scripts/install.sh', '.zuul.d/requirements.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/3e5730cd5310feb71b8eae82578bf39e6cf57613', 'message': 'Enable Debian gate build and fix mirrors related issues\n\nAlso fixes related issue with distutils installation for Debian Stretch\nand Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with\npython3 and python3-distutils package is not available in these distributions.\n\nRun Debian build with py3 against stable/train, as master requires at\nleast python3.6, not available for distribution out of box.\n\nAlso increases job timeout to 5400 due to increased amount of builds.\n\nChange-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4\n'}]",0,703513,3e5730cd5310feb71b8eae82578bf39e6cf57613,48,10,21,8863,,,0,"Enable Debian gate build and fix mirrors related issues

Also fixes related issue with distutils installation for Debian Stretch
and Ubuntu Xenial with py3: unlike in Bionic, distutils is installed with
python3 and python3-distutils package is not available in these distributions.

Run Debian build with py3 against stable/train, as master requires at
least python3.6, not available for distribution out of box.

Also increases job timeout to 5400 due to increased amount of builds.

Change-Id: I04c9253af80d941afb45231bee20f7bb1c4a96d4
",git fetch https://review.opendev.org/openstack/loci refs/changes/13/703513/15 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/vars.yaml'],1,7106641823ec13b27761e7b79e2a966bccd0c753,," - name: debian image: debian:stretch buildargs: base: DEBIAN_URL: http://{{ zuul_site_mirror_fqdn }}/debian/ DEBIAN_SECURITY_URL: http://{{ zuul_site_mirror_fqdn }}/debian/ DEBIAN_SECURITY_DISTRIBUTION: stretch-security CEPH_URL: http://{{ zuul_site_mirror_fqdn }}/ceph-deb-nautilus/ ALLOW_UNAUTHENTICATED: ""true"" PIP_INDEX_URL: http://{{ zuul_site_mirror_fqdn }}/pypi/simple PIP_TRUSTED_HOST: ""{{ zuul_site_mirror_fqdn }}"" project: PROJECT: ""{{ project }}"" PROJECT_REPO: http://172.17.0.1/git/openstack/{{ project }} PROJECT_REF: ""{{ project_reference }}"" WHEELS: 172.17.0.1:5000/loci/requirements:master-debian FROM: base:debian PYTHON3: ""yes"" requirements: PROJECT: requirements PROJECT_REPO: http://172.17.0.1/git/openstack/requirements FROM: base:debian PYTHON3: ""yes""","# - name: debian # image: debian:stretch # buildargs: # base: # DEBIAN_URL: http://{{ zuul_site_mirror_fqdn }}/debian/ # DEBIAN_SECURITY_URL: http://{{ zuul_site_mirror_fqdn }}/debian/ # DEBIAN_SECURITY_DISTRIBUTION: stretch-security # CEPH_URL: http://{{ zuul_site_mirror_fqdn }}/ceph-deb-luminous/ # ALLOW_UNAUTHENTICATED: ""true"" # PIP_INDEX_URL: http://{{ zuul_site_mirror_fqdn }}/pypi/simple # PIP_TRUSTED_HOST: ""{{ zuul_site_mirror_fqdn }}"" # project: # PROJECT: ""{{ project }}"" # PROJECT_REPO: http://172.17.0.1/git/openstack/{{ project }} # PROJECT_REF: ""{{ project_reference }}"" # WHEELS: 172.17.0.1:5000/loci/requirements:master-debian # FROM: base:debian # requirements: # PROJECT: requirements # PROJECT_REPO: http://172.17.0.1/git/openstack/requirements # FROM: base:debian",23,21
openstack%2Fpuppet-barbican~master~I7cbd1e6f2b5262e158a79153f049a0254f8f1087,openstack/puppet-barbican,master,I7cbd1e6f2b5262e158a79153f049a0254f8f1087,Add support for healthcheck middleware options,MERGED,2021-01-31 23:06:47.000000000,2021-02-24 02:31:54.000000000,2021-02-24 02:30:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-31 23:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/1a51769fd8e8f909492e61681eb456b75644970f', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I7cbd1e6f2b5262e158a79153f049a0254f8f1087\n'}, {'number': 2, 'created': '2021-01-31 23:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/48f0d03b22d4bd20a8d0409765a675c26792c18d', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I7cbd1e6f2b5262e158a79153f049a0254f8f1087\n'}, {'number': 3, 'created': '2021-02-01 01:33:07.000000000', 'files': ['releasenotes/notes/healthcheck-eec3ec37a225ca0c.yaml', 'manifests/healthcheck.pp', 'spec/classes/barbican_healthcheck_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/81135f6835182880961d54366b2d3014ff20a306', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I7cbd1e6f2b5262e158a79153f049a0254f8f1087\n'}]",0,773270,81135f6835182880961d54366b2d3014ff20a306,15,3,3,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I7cbd1e6f2b5262e158a79153f049a0254f8f1087
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/70/773270/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/healthcheck-eec3ec37a225ca0c.yaml', 'manifests/healthcheck.pp', 'spec/classes/barbican_healthcheck_spec.rb']",3,1a51769fd8e8f909492e61681eb456b75644970f,healthcheck,"require 'spec_helper' describe 'barbican::healthcheck' do shared_examples_for 'barbican::healthcheck' do context 'with default parameters' do let :params do {} end it 'configures default values' do is_expected.to contain_oslo__healthcheck('barbican_config').with( :detailed => '<SERVICE DEFAULT>', :backends => '<SERVICE DEFAULT>', :disable_by_file_path => '<SERVICE DEFAULT>', :disable_by_file_paths => '<SERVICE DEFAULT>', ) end end context 'with specific parameters' do let :params do { :detailed => true, :backends => ['disable_by_file'], :disable_by_file_path => '/etc/barbican/healthcheck/disabled', :disable_by_file_paths => ['8776:/etc/barbican/healthcheck/disabled'], } end it 'configures specified values' do is_expected.to contain_oslo__healthcheck('barbican_config').with( :detailed => true, :backends => ['disable_by_file'], :disable_by_file_path => '/etc/barbican/healthcheck/disabled', :disable_by_file_paths => ['9311:/etc/barbican/healthcheck/disabled'], ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'barbican::healthcheck' end end end ",,101,0
openstack%2Frequirements~master~I5c775480ed0529c179e4b92052d71b2de9d6ce0a,openstack/requirements,master,I5c775480ed0529c179e4b92052d71b2de9d6ce0a,update virtualenv to 20.4.2,MERGED,2021-02-23 17:29:07.000000000,2021-02-24 02:28:57.000000000,2021-02-24 02:27:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 17:29:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d58dfe571c32f374c094ac3df28a641017848946', 'message': 'update virtualenv to 20.4.2\n\nChange-Id: I5c775480ed0529c179e4b92052d71b2de9d6ce0a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777171,d58dfe571c32f374c094ac3df28a641017848946,9,2,1,14288,,,0,"update virtualenv to 20.4.2

Change-Id: I5c775480ed0529c179e4b92052d71b2de9d6ce0a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/777171/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d58dfe571c32f374c094ac3df28a641017848946,update-virtualenv-20.4.2,virtualenv===20.4.2,virtualenv===20.2.1,1,1
openstack%2Fswift~master~I22b8d23f32a5e776c37f711a913e4b40425d5e54,openstack/swift,master,I22b8d23f32a5e776c37f711a913e4b40425d5e54,Simplify interface to sharder shrinking,MERGED,2021-02-10 12:31:08.000000000,2021-02-24 02:09:56.000000000,2021-02-24 02:08:30.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 12:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c1f1562aa52785eb59976d20cfb98e33e593fe93', 'message': 'Simplify interface to sharder shrinking\n\nCalls to process_compactable_shard_sequences were always followed by\ncalls to finalize_shrinking, so simplify the sharder module interface\nby making process_compactable_shard_sequences call finalize_shrinking.\n\nChange-Id: I22b8d23f32a5e776c37f711a913e4b40425d5e54\n'}, {'number': 2, 'created': '2021-02-15 09:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/54656a35c76b4ff74fabd992759b787a19f2ab64', 'message': 'Simplify interface to sharder shrinking\n\nCalls to process_compactible_shard_sequences were always followed by\ncalls to finalize_shrinking, so simplify the sharder module interface\nby making process_compactible_shard_sequences call finalize_shrinking.\n\nChange-Id: I22b8d23f32a5e776c37f711a913e4b40425d5e54\n'}, {'number': 3, 'created': '2021-02-23 11:01:29.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a3d77cac071ec3ba890bd13f065824cd43179000', 'message': 'Simplify interface to sharder shrinking\n\nCalls to process_compactible_shard_sequences were always followed by\ncalls to finalize_shrinking, so simplify the sharder module interface\nby making process_compactible_shard_sequences call finalize_shrinking.\n\nChange-Id: I22b8d23f32a5e776c37f711a913e4b40425d5e54\n'}]",2,774848,a3d77cac071ec3ba890bd13f065824cd43179000,17,2,3,7847,,,0,"Simplify interface to sharder shrinking

Calls to process_compactible_shard_sequences were always followed by
calls to finalize_shrinking, so simplify the sharder module interface
by making process_compactible_shard_sequences call finalize_shrinking.

Change-Id: I22b8d23f32a5e776c37f711a913e4b40425d5e54
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/774848/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,c1f1562aa52785eb59976d20cfb98e33e593fe93,p-shard-process-compactable,"def process_compactable_shard_sequences(broker, sequences): ShardRanges in the sequence (the donors). The donors and acceptors are then merged into the broker. :param broker: A :class:`~swift.container.backend.ContainerBroker`. timestamp = Timestamp.now() finalize_shrinking(broker, acceptor_ranges, shrinking_ranges, timestamp) process_compactable_shard_sequences(broker, compactable_sequences)","def process_compactable_shard_sequences(sequences, timestamp): ShardRanges in the sequence (the donors). :param timestamp: an instance of :class:`~swift.common.utils.Timestamp` that is used when updating acceptor range bounds or state :return: a tuple (acceptor_ranges, shrinking_ranges) return acceptor_ranges, shrinking_ranges timestamp = Timestamp.now() acceptors, donors = process_compactable_shard_sequences( compactable_sequences, timestamp) finalize_shrinking(broker, acceptors, donors, timestamp)",43,36
openstack%2Frequirements~master~If75efd7f5edebdb31307a4389be60c09133413fe,openstack/requirements,master,If75efd7f5edebdb31307a4389be60c09133413fe,Updated from generate-constraints,MERGED,2021-02-23 06:27:32.000000000,2021-02-24 02:09:44.000000000,2021-02-24 02:08:26.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 06:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f102c141b54eb28e3949e60c8946f4b8a31004fe', 'message': 'Updated from generate-constraints\n\nChange-Id: If75efd7f5edebdb31307a4389be60c09133413fe\n'}, {'number': 2, 'created': '2021-02-23 06:37:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2b4a543f98169bf33b17e7b698c83da87143545d', 'message': 'Updated from generate-constraints\n\nChange-Id: If75efd7f5edebdb31307a4389be60c09133413fe\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777053,2b4a543f98169bf33b17e7b698c83da87143545d,13,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: If75efd7f5edebdb31307a4389be60c09133413fe
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/777053/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f102c141b54eb28e3949e60c8946f4b8a31004fe,openstack/requirements/constraints/noclob,tabulate===0.8.9mock===4.0.3boto3===1.17.13botocore===1.20.13pkg-resources===0.0.0python-troveclient===7.0.0keystoneauth1===4.3.1fasteners===0.16virtualenv===20.4.2,tabulate===0.8.8mock===3.0.5boto3===1.17.12botocore===1.20.12python-troveclient===6.0.1keystoneauth1===4.3.0fasteners===0.14.1virtualenv===20.2.1setuptools===53.0.0,9,9
openstack%2Fopenstack-helm-infra~master~Ifd07a13cc63f1ba610a3f70052ec64be9db3b09c,openstack/openstack-helm-infra,master,Ifd07a13cc63f1ba610a3f70052ec64be9db3b09c,Fix elasticsearch-master rendering error,MERGED,2021-02-23 20:22:17.000000000,2021-02-24 01:49:50.000000000,2021-02-24 01:48:15.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 27499}, {'_account_id': 30449}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-02-23 20:22:17.000000000', 'files': ['elasticsearch/templates/statefulset-master.yaml', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b11fa5509b48afd1bef335cf0adabbdfa67a6719', 'message': 'Fix elasticsearch-master rendering error\n\nUpdate the elasticsearch-master statefulset to use the correct\nhelm-toolkit snippet for the update strategy.\n\nChange-Id: Ifd07a13cc63f1ba610a3f70052ec64be9db3b09c\n'}]",0,777215,b11fa5509b48afd1bef335cf0adabbdfa67a6719,12,7,1,28719,,,0,"Fix elasticsearch-master rendering error

Update the elasticsearch-master statefulset to use the correct
helm-toolkit snippet for the update strategy.

Change-Id: Ifd07a13cc63f1ba610a3f70052ec64be9db3b09c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/15/777215/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/statefulset-master.yaml', 'elasticsearch/Chart.yaml']",2,b11fa5509b48afd1bef335cf0adabbdfa67a6719,,version: 0.1.6,version: 0.1.5,2,2
openstack%2Fcinder~master~Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91,openstack/cinder,master,Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91,Avoid rbd import operation to reduce encryption volume creation time,ABANDONED,2020-07-14 10:08:26.000000000,2021-02-24 00:59:17.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-07-14 10:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28c23d337571eefab8442f35b99ced03fbc9a5c9', 'message': 'Avoid rbd import operation to reduce encryption volume creation time\n\nBecause rbd import needs to scan the whole space, it is very\ntime-consuming to create a large capacity encrypted volume.\nCreating a 2TB encrypted volume takes more than half an hour.\nChange the target path of qemu-img create cmd from a local\naddress to a RBD address to avoid executing the rbd import\noperation, so the creation time can be reduced from tens of\nminutes to tens of seconds.\n\nChange-Id: Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91\nCloses-Bug: #1697422\n'}, {'number': 2, 'created': '2020-07-15 01:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fa8623b2a66ee45f7e2ac9785e3d5b9f9c07bbd', 'message': 'Avoid rbd import operation to reduce encryption volume creation time\n\nBecause rbd import needs to scan the whole space, it is very\ntime-consuming to create a large capacity encrypted volume.\nCreating a 2TB encrypted volume takes more than half an hour.\nChange the target path of qemu-img create cmd from a local\naddress to a RBD address to avoid executing the rbd import\noperation, so the creation time can be reduced from tens of\nminutes to tens of seconds.\n\nChange-Id: Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91\nCloses-Bug: #1697422\n'}, {'number': 3, 'created': '2020-07-15 04:53:46.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5040929a1868f5a12a765fa0579089961333d2dc', 'message': 'Avoid rbd import operation to reduce encryption volume creation time\n\nBecause rbd import needs to scan the whole space, it is very\ntime-consuming to create a large capacity encrypted volume.\nCreating a 2TB encrypted volume takes more than half an hour.\nChange the target path of qemu-img create cmd from a local\naddress to a RBD address to avoid executing the rbd import\noperation, so the creation time can be reduced from tens of\nminutes to tens of seconds.\n\nChange-Id: Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91\nCloses-Bug: #1697422\n'}]",3,740931,5040929a1868f5a12a765fa0579089961333d2dc,79,22,3,32098,,,0,"Avoid rbd import operation to reduce encryption volume creation time

Because rbd import needs to scan the whole space, it is very
time-consuming to create a large capacity encrypted volume.
Creating a 2TB encrypted volume takes more than half an hour.
Change the target path of qemu-img create cmd from a local
address to a RBD address to avoid executing the rbd import
operation, so the creation time can be reduced from tens of
minutes to tens of seconds.

Change-Id: Icc1b2f580bda9759e40ed9d32fffd9b1279c1e91
Closes-Bug: #1697422
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/740931/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,28c23d337571eefab8442f35b99ced03fbc9a5c9,bug/1883470," cluster_name, ceph_conf, ceph_user = self._get_config_tuple() ceph_pool = self.configuration.rbd_pool chunk_size = self.configuration.rbd_store_chunk_size '-o', 'cluster_size=%sM' % chunk_size, 'rbd:%s/%s:id=%s:conf=%s' % (ceph_pool, volume.name, ceph_user, ceph_conf),"," tmp_image.name, # Copy image into RBD chunk_size = self.configuration.rbd_store_chunk_size * units.Mi order = int(math.log(chunk_size, 2)) cmd = ['rbd', 'import', '--pool', self.configuration.rbd_pool, '--order', order, tmp_image.name, volume.name] cmd.extend(self._ceph_args()) self._execute(*cmd) ",6,12
openstack%2Fnova~master~Id4684093e8bdf3b61667490443e3d2f6ed65f4b3,openstack/nova,master,Id4684093e8bdf3b61667490443e3d2f6ed65f4b3,Support interface attach with QoS ports,MERGED,2020-10-07 14:51:22.000000000,2021-02-24 00:53:58.000000000,2021-02-22 16:30:25.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-10-07 14:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2deb519ec2d0314597eecc0f39593f9fd47e24c', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBluperint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 2, 'created': '2020-10-08 16:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bc8d7d9174939b09d0940567f9722127fb4fe50', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 3, 'created': '2020-10-09 14:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/371b93e3ad8231fd4e17bea0efc80effaffcea69', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 4, 'created': '2020-10-12 08:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3be20237658da97349cd4c0537d9d57793e1e64a', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 5, 'created': '2020-10-12 16:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7206077a1bdfc500e6b8964292dd93c298488a9a', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 6, 'created': '2020-10-12 16:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/460b4d130d75968db9d19954d4a8089b98ff0f15', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 7, 'created': '2020-11-30 15:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b448f4c74a4232229bbbc5691263787f8155fdaf', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 8, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c750cb2d9ed5688efb85c3b609db1636e84e64f1', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 9, 'created': '2020-12-02 13:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00bb86fc0fe2f448559fd848dd55eab3bc3ac3d8', 'message': 'Support interface attach with qos ports\n\nTODO:\n* plenty of refactoring and cleanup\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 10, 'created': '2020-12-02 14:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af6090297d46656e9db8a7458a0bf660c9effa25', 'message': 'Support interface attach with qos ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nTODO:\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 11, 'created': '2020-12-02 15:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fa53170d92a5e6ab0b888739c70196495644766', 'message': 'Support interface attach with qos ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nTODO:\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 12, 'created': '2020-12-02 15:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d215b30177e4ee8baa7c5f4c4d9c4012d3a0eeeb', 'message': 'Support interface attach with qos ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nTODO:\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 13, 'created': '2020-12-02 17:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e70df3bb23e9648ef1431b34913d2729e9bc958', 'message': 'Support interface attach with qos ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nTODO:\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 14, 'created': '2020-12-07 08:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23f6f9d5b92aec8e9e3dc6d7f22ff02bcdb6c40d', 'message': 'Support interface attach with qos ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nTODO:\n* unit test coverage\n* documentation\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 15, 'created': '2020-12-16 13:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a652ceab50a0d5cef47f45470f1f052bf26de33d', 'message': 'Support interface attach with qos ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 16, 'created': '2020-12-16 15:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a91ae6e6cca439db4027382046b8f1b7e127f7ef', 'message': 'Support interface attach with qos ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 17, 'created': '2021-01-07 12:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eed347190e858a0f55ccb56e70167a91f3a6a2f1', 'message': 'Support interface attach with QoS ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 18, 'created': '2021-01-07 13:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82463ccce81767acde5db4c010d6da25577c0357', 'message': 'Support interface attach with QoS ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 19, 'created': '2021-01-08 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7b5d12d020811df37f4c1ae48d0f8f6d08b939a', 'message': 'Support interface attach with QoS ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that qos\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 20, 'created': '2021-01-11 13:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dcd5312387c804e58a948d31ede0012f10c38e5', 'message': 'Support interface attach with QoS ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that QoS\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 21, 'created': '2021-01-18 15:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8ecac947e5f6a38d1114ba5bfa1e6558bfdb806', 'message': 'Support interface attach with QoS ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that QoS\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}, {'number': 22, 'created': '2021-02-11 15:46:03.000000000', 'files': ['releasenotes/notes/support-interface-attach-with-qos-port-22eb452202eb92fd.yaml', 'nova/scheduler/utils.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/exception.py', 'nova/tests/unit/scheduler/test_utils.py', 'api-guide/source/port_with_resource_request.rst', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5af28c4de5eeace702cb76aa8540533ef77b9016', 'message': 'Support interface attach with QoS ports\n\nThe following logic is added to the ComputeManager attach_interface\nflow:\n\n* gather the resource request of the port from neutron\n* query allocation candidates restricted to the current compute node\n  from placement\n* extend the existing allocation of the instance with one of the\n  allocation candidates in placement\n* update the InstancePCIRequest (if any) to ensure that the PCI claim\n  only allocates VF from the PF the placement resources are allocated from\n* ensure that during port binding neutron gets the RP UUID, the resources\n  are allocated from, in the allocation key of the binding profile\n\nThis patch bumps the compute service version to indicate that QoS\ninterface attach is supported. Also the check that was so far rejected\nsuch attach is now updated to only reject it if the compute service\nversion is too old.\n\nThe ""scheduling"" during interface attach for PCI backed ports has the\nsame limitation as normal scheduling for such ports. It always selects\nthe first allocation candidate returned by placement even if later in\nthe process it turns out that such allocation candidate points to a PCI\nPF that has no free VFs left.\n\nBlueprint: support-interface-attach-with-qos-ports\n\nChange-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3\n'}]",141,756530,5af28c4de5eeace702cb76aa8540533ef77b9016,146,11,22,9708,,,0,"Support interface attach with QoS ports

The following logic is added to the ComputeManager attach_interface
flow:

* gather the resource request of the port from neutron
* query allocation candidates restricted to the current compute node
  from placement
* extend the existing allocation of the instance with one of the
  allocation candidates in placement
* update the InstancePCIRequest (if any) to ensure that the PCI claim
  only allocates VF from the PF the placement resources are allocated from
* ensure that during port binding neutron gets the RP UUID, the resources
  are allocated from, in the allocation key of the binding profile

This patch bumps the compute service version to indicate that QoS
interface attach is supported. Also the check that was so far rejected
such attach is now updated to only reject it if the compute service
version is too old.

The ""scheduling"" during interface attach for PCI backed ports has the
same limitation as normal scheduling for such ports. It always selects
the first allocation candidate returned by placement even if later in
the process it turns out that such allocation candidate points to a PCI
PF that has no free VFs left.

Blueprint: support-interface-attach-with-qos-ports

Change-Id: Id4684093e8bdf3b61667490443e3d2f6ed65f4b3
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/756530/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/exception.py', 'nova/scheduler/utils.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",8,d2deb519ec2d0314597eecc0f39593f9fd47e24c,bp/support-interface-attach-with-qos-ports,," # NOTE(gibi): Checking if the requested port has resource request as # such ports are currently not supported as they would at least # need resource allocation manipulation in placement but might also # need a new scheduling if resource on this host is not available. if port_id: port = self.network_api.show_port(context, port_id) if port['port'].get(constants.RESOURCE_REQUEST): raise exception.AttachInterfaceWithQoSPolicyNotSupported( instance_uuid=instance.uuid) ",330,80
openstack%2Fcinder~master~I38903281c4aa2c05a9ed5ee28d8976b8e40e088f,openstack/cinder,master,I38903281c4aa2c05a9ed5ee28d8976b8e40e088f,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:42.000000000,2021-02-24 00:44:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-08 22:49:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f82a817b4a32d11342d40ef14fb203053624ccd', 'message': ""DNM: testing Tempest without 'member' role\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774524\nChange-Id: I38903281c4aa2c05a9ed5ee28d8976b8e40e088f\n""}]",0,774557,4f82a817b4a32d11342d40ef14fb203053624ccd,45,1,1,8556,,,0,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I38903281c4aa2c05a9ed5ee28d8976b8e40e088f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/774557/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f82a817b4a32d11342d40ef14fb203053624ccd,tempest-no-member,#test,,1,0
openstack%2Fnova~master~I6a54b863c1715e7bca037683f8795921ccb3b11e,openstack/nova,master,I6a54b863c1715e7bca037683f8795921ccb3b11e,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:52.000000000,2021-02-24 00:43:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-08 22:49:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f45831bd3b6527c2ea3336b744f0618125b53eb5', 'message': ""DNM: testing Tempest without 'member' role\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774524\nChange-Id: I6a54b863c1715e7bca037683f8795921ccb3b11e\n""}]",0,774559,f45831bd3b6527c2ea3336b744f0618125b53eb5,24,1,1,8556,,,0,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I6a54b863c1715e7bca037683f8795921ccb3b11e
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/774559/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f45831bd3b6527c2ea3336b744f0618125b53eb5,tempest-no-member,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Ftempest~master~I3f1803cdd00ecd953ae10009402259e091129d56,openstack/tempest,master,I3f1803cdd00ecd953ae10009402259e091129d56,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:34.000000000,2021-02-24 00:43:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-08 22:49:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5317b0c16f828c83eb760a1bed6980ffeee3df52', 'message': ""DNM: testing Tempest without 'member' role\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774524\nChange-Id: I3f1803cdd00ecd953ae10009402259e091129d56\n""}]",0,774556,5317b0c16f828c83eb760a1bed6980ffeee3df52,5,1,1,8556,,,0,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I3f1803cdd00ecd953ae10009402259e091129d56
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/774556/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5317b0c16f828c83eb760a1bed6980ffeee3df52,tempest-no-member,#test,,1,0
openstack%2Fneutron~master~I044fe4b8068861e5ef66f709152e2a727f65dd88,openstack/neutron,master,I044fe4b8068861e5ef66f709152e2a727f65dd88,DNM: testing Tempest without 'member' role,ABANDONED,2021-02-08 22:49:48.000000000,2021-02-24 00:43:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-08 22:49:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13204b27cc95b3efba330034e3511fc7d1b02c2b', 'message': ""DNM: testing Tempest without 'member' role\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774524\nChange-Id: I044fe4b8068861e5ef66f709152e2a727f65dd88\n""}]",0,774558,13204b27cc95b3efba330034e3511fc7d1b02c2b,5,1,1,8556,,,0,"DNM: testing Tempest without 'member' role

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774524
Change-Id: I044fe4b8068861e5ef66f709152e2a727f65dd88
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/774558/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,13204b27cc95b3efba330034e3511fc7d1b02c2b,tempest-no-member,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,openstack/tripleo-ansible,stable/ussuri,I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,Make server group quota unlimited for Octavia,MERGED,2021-02-09 11:28:15.000000000,2021-02-24 00:36:44.000000000,2021-02-24 00:36:44.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-09 11:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1289de3a3e9d9c7ace936ef1ef37ba00937216c', 'message': 'Make server group quota unlimited for Octavia\n\nWhen a user creates a HA load balancer in Octavia, Octavia creates\nserver groups as part of the load balancer resources. However because\nthe default quotas related to server group are very low and we have all\nload balancer resources in the common service project, users can create\nvery limited number of HA load balancers by default.\n\nThis patch disables the quota limits of the server-group-members and\nserver-groups of the service project, so that HA load balancer creation\nis not blocked by these quotas.\n\nCloses-Bug: #1914018\nChange-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12\n(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)\n'}, {'number': 2, 'created': '2021-02-09 11:29:20.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/quotas.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d28de2281174e59a6df9bfad32a76b6b6e614e6', 'message': 'Make server group quota unlimited for Octavia\n\nWhen a user creates a HA load balancer in Octavia, Octavia creates\nserver groups as part of the load balancer resources. However because\nthe default quotas related to server group are very low and we have all\nload balancer resources in the common service project, users can create\nvery limited number of HA load balancers by default.\n\nThis patch disables the quota limits of the server-group-members and\nserver-groups of the service project, so that HA load balancer creation\nis not blocked by these quotas.\n\nCloses-Bug: #1914018\nChange-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12\n(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)\n(cherry picked from commit 56ab6452c628c4a801152310d6b3ae37684f0d0f)\n'}]",0,774495,1d28de2281174e59a6df9bfad32a76b6b6e614e6,13,6,2,33061,,,0,"Make server group quota unlimited for Octavia

When a user creates a HA load balancer in Octavia, Octavia creates
server groups as part of the load balancer resources. However because
the default quotas related to server group are very low and we have all
load balancer resources in the common service project, users can create
very limited number of HA load balancers by default.

This patch disables the quota limits of the server-group-members and
server-groups of the service project, so that HA load balancer creation
is not blocked by these quotas.

Closes-Bug: #1914018
Change-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12
(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)
(cherry picked from commit 56ab6452c628c4a801152310d6b3ae37684f0d0f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/774495/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/quotas.yml'],1,a1289de3a3e9d9c7ace936ef1ef37ba00937216c,bug/1914018, openstack quota set --cores -1 --ram -1 --ports -1 --instances -1 \ --secgroups -1 --secgroup-rules -1 \ --server-group-members -1 --server-groups -1 \ {{ auth_project_name }}, openstack quota set --cores -1 --ram -1 --ports -1 --instances -1 --secgroups -1 --secgroup-rules -1 {{ auth_project_name }},4,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,openstack/tripleo-ansible,stable/victoria,I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,Make server group quota unlimited for Octavia,MERGED,2021-02-05 12:11:07.000000000,2021-02-24 00:36:41.000000000,2021-02-24 00:36:41.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-05 12:11:07.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/quotas.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56ab6452c628c4a801152310d6b3ae37684f0d0f', 'message': 'Make server group quota unlimited for Octavia\n\nWhen a user creates a HA load balancer in Octavia, Octavia creates\nserver groups as part of the load balancer resources. However because\nthe default quotas related to server group are very low and we have all\nload balancer resources in the common service project, users can create\nvery limited number of HA load balancers by default.\n\nThis patch disables the quota limits of the server-group-members and\nserver-groups of the service project, so that HA load balancer creation\nis not blocked by these quotas.\n\nCloses-Bug: #1914018\nChange-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12\n(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)\n'}]",0,774131,56ab6452c628c4a801152310d6b3ae37684f0d0f,12,6,1,33061,,,0,"Make server group quota unlimited for Octavia

When a user creates a HA load balancer in Octavia, Octavia creates
server groups as part of the load balancer resources. However because
the default quotas related to server group are very low and we have all
load balancer resources in the common service project, users can create
very limited number of HA load balancers by default.

This patch disables the quota limits of the server-group-members and
server-groups of the service project, so that HA load balancer creation
is not blocked by these quotas.

Closes-Bug: #1914018
Change-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12
(cherry picked from commit 06470bc4d64c9e832d06a2e54ae6a3363a720008)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/774131/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/quotas.yml'],1,56ab6452c628c4a801152310d6b3ae37684f0d0f,bug/1914018, openstack quota set --cores -1 --ram -1 --ports -1 --instances -1 \ --secgroups -1 --secgroup-rules -1 \ --server-group-members -1 --server-groups -1 \ {{ auth_project_name }}, openstack quota set --cores -1 --ram -1 --ports -1 --instances -1 --secgroups -1 --secgroup-rules -1 {{ auth_project_name }},4,1
openstack%2Fcharm-mysql-innodb-cluster~master~I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c,openstack/charm-mysql-innodb-cluster,master,I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c,"Revert ""Clear ssl_ca when certificates relation departs""",ABANDONED,2021-02-08 17:04:21.000000000,2021-02-23 23:38:14.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-08 17:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/00b0b17590fc23820a16b849150d43986305f2a9', 'message': 'Revert ""Clear ssl_ca when certificates relation departs""\n\nThis reverts commit ee2aff9278c5d903cb892241e7c90bd6fa8e65b3.\n\nChange-Id: I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c\n'}, {'number': 2, 'created': '2021-02-09 17:29:12.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/d34d88fef8b63ac010204e268989405f2282fe8c', 'message': 'Revert ""Clear ssl_ca when certificates relation departs""\n\nThis reverts commit ee2aff9278c5d903cb892241e7c90bd6fa8e65b3.\n\nChange-Id: I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c\n'}]",0,774519,d34d88fef8b63ac010204e268989405f2282fe8c,16,5,2,20805,,,0,"Revert ""Clear ssl_ca when certificates relation departs""

This reverts commit ee2aff9278c5d903cb892241e7c90bd6fa8e65b3.

Change-Id: I8be38470fe29b40c18cdbc14bfeeeca4560fcf7c
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/19/774519/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",2,00b0b17590fc23820a16b849150d43986305f2a9,revert-departed, 'certificates.certs.changed')," 'certificates.certs.changed', 'endpoint.certificates.departed')",1,16
openstack%2Fswift~master~Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41,openstack/swift,master,Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41,Only count asyncs once per IP,NEW,2020-10-16 17:42:02.000000000,2021-02-23 23:28:02.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-16 17:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b86b949a35463b4ebff31e1e95a2744145717f1e', 'message': 'Only count asyncs once per IP\n\nChange-Id: Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41\nCloses-Bug: #1612168\n'}, {'number': 2, 'created': '2020-10-16 20:12:09.000000000', 'files': ['test/unit/cli/test_recon.py', 'swift/cli/recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ff7398a48d0357e28a249ba814c12da44d8e7551', 'message': 'Only count asyncs once per IP\n\nChange-Id: Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41\nCloses-Bug: #1612168\n'}]",1,758605,ff7398a48d0357e28a249ba814c12da44d8e7551,19,2,2,15343,,,0,"Only count asyncs once per IP

Change-Id: Ia4b73ea1b22ba2d86f595fcd5c8cbc3209f56f41
Closes-Bug: #1612168
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/758605/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/recon.py'],1,b86b949a35463b4ebff31e1e95a2744145717f1e,," # When running with servers-per-port, each port for a given IP should # report the same stats; just pick one to avoid double-counting. one_per_ip = {} for host in hosts: if host[0] not in one_per_ip: one_per_ip[host[0]] = host recon.scout, one_per_ip.values()):"," recon.scout, hosts):",8,1
openstack%2Fcharm-deployment-guide~master~I51f57ee5a4c29527d3306d2b082a89cd77f1aec9,openstack/charm-deployment-guide,master,I51f57ee5a4c29527d3306d2b082a89cd77f1aec9,Add placement charm to special procedures,MERGED,2021-02-23 01:55:45.000000000,2021-02-23 23:17:49.000000000,2021-02-23 23:16:32.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 01:55:45.000000000', 'files': ['deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/placement-charm-upgrade-to-train.rst', 'deploy-guide/source/upgrade-issues.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b704d782066dacf2d5a01ebeb51ab32a36515cff', 'message': ""Add placement charm to special procedures\n\n* Retitle 'Special charm upgrade procedures' to\n  'Special charm procedures' to make it sound more\n  general. Reword the opening paragraph to be more\n  concise and more accurate.\n\n* Move the introduction of the placement charm from\n  the 'Known issues' page (and re-worded slightly)\n  to the 'Special charm procedures' page. Make it clear\n  that the former page is for software limitations/bugs.\n\n* Add the 'Special charm procedures' page to the list\n  of resources to read on several of the upgrade pages.\n\n* Add the 'Upgrade issues' page to the list of resources\n  to read on the 'Upgrade charms' page.\n\nChange-Id: I51f57ee5a4c29527d3306d2b082a89cd77f1aec9\n""}]",0,777042,b704d782066dacf2d5a01ebeb51ab32a36515cff,7,2,1,30561,,,0,"Add placement charm to special procedures

* Retitle 'Special charm upgrade procedures' to
  'Special charm procedures' to make it sound more
  general. Reword the opening paragraph to be more
  concise and more accurate.

* Move the introduction of the placement charm from
  the 'Known issues' page (and re-worded slightly)
  to the 'Special charm procedures' page. Make it clear
  that the former page is for software limitations/bugs.

* Add the 'Special charm procedures' page to the list
  of resources to read on several of the upgrade pages.

* Add the 'Upgrade issues' page to the list of resources
  to read on the 'Upgrade charms' page.

Change-Id: I51f57ee5a4c29527d3306d2b082a89cd77f1aec9
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/42/777042/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/placement-charm-upgrade-to-train.rst', 'deploy-guide/source/upgrade-issues.rst']",6,b704d782066dacf2d5a01ebeb51ab32a36515cff,add-placement-charm-to-special-procedures,"This section documents known issues (software limitations/bugs) that may apply to either of the three upgrade types (charms, OpenStack, series).","This section documents known issues that may apply to either of the three upgrade types (charms, OpenStack, series).Placement charm and nova-cloud-controller: upgrading from Stein to Train ------------------------------------------------------------------------ As of Train, the placement API is managed by the new ``placement`` charm and is no longer managed by the ``nova-cloud-controller`` charm. The upgrade to Train therefore requires some coordination to transition to the new API endpoints. Prior to upgrading nova-cloud-controller to Train, the placement charm must be deployed for Train and related to the Stein-based nova-cloud-controller. It is important that the nova-cloud-controller unit leader is paused while the API transition occurs (paused prior to adding relations for the placement charm) as the placement charm will migrate existing placement tables from the nova_api database to a new placement database. Once the new placement endpoints are registered, nova-cloud-controller can be resumed. Here's an example of the steps just described where `nova-cloud-controller/0` is the leader: .. code-block:: none juju deploy --series bionic --config openstack-origin=cloud:bionic-train cs:placement juju run-action nova-cloud-controller/0 pause juju add-relation placement mysql juju add-relation placement keystone juju add-relation placement nova-cloud-controller openstack endpoint list # ensure placement endpoints are listening on new placment IP address juju run-action nova-cloud-controller/0 resume Only after these steps have been completed can nova-cloud-controller be upgraded. Here we upgrade all units simultaneously but see the ref:`paused-single-unit <paused_single_unit>` service upgrade method for a more controlled approach: .. code-block:: none juju config nova-cloud-controller openstack-origin=cloud:bionic-train ",63,49
openstack%2Ftripleo-ansible~master~Ic56873960a11a7a6d828d9ff588f47fa404b5e16,openstack/tripleo-ansible,master,Ic56873960a11a7a6d828d9ff588f47fa404b5e16,Don't query neutron ports to determine ssh user,MERGED,2021-02-03 01:47:34.000000000,2021-02-23 23:06:53.000000000,2021-02-23 23:06:53.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-03 01:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6ced6bb8f84669cc5af60e0adbe3f64c75c1714', 'message': ""Don't query neutron ports to determine ssh user\n\nssh_user already defaults to heat-admin, so there is no reason to query\nNeutron to attempt to determine the default ssh user. The default value\ncan just be used, or be overridden with tripleoclient's\n--overcloud-ssh-user.\n\nThis removes a hard dependency on Neutron being installed on the\nundercloud, which is not actually needed.\n\nChange-Id: Ic56873960a11a7a6d828d9ff588f47fa404b5e16\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2021-02-10 01:11:57.000000000', 'files': ['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b1c0c1cefd0babc648f5b2eceabe8241955675d', 'message': ""Don't query neutron ports to determine ssh user\n\nssh_user already defaults to heat-admin, so there is no reason to query\nNeutron to attempt to determine the default ssh user. The default value\ncan just be used, or be overridden with tripleoclient's\n--overcloud-ssh-user.\n\nThis removes a hard dependency on Neutron being installed on the\nundercloud, which is not actually needed.\n\nChange-Id: Ic56873960a11a7a6d828d9ff588f47fa404b5e16\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",0,773827,8b1c0c1cefd0babc648f5b2eceabe8241955675d,11,4,2,7144,,,0,"Don't query neutron ports to determine ssh user

ssh_user already defaults to heat-admin, so there is no reason to query
Neutron to attempt to determine the default ssh user. The default value
can just be used, or be overridden with tripleoclient's
--overcloud-ssh-user.

This removes a hard dependency on Neutron being installed on the
undercloud, which is not actually needed.

Change-Id: Ic56873960a11a7a6d828d9ff588f47fa404b5e16
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/773827/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'],1,e6ced6bb8f84669cc5af60e0adbe3f64c75c1714,ephemeral-heat," ansible_user: ""{{ ssh_user | default(ansible_user) }}"""," - name: Retrieve compute managed network ports os_port_facts: cloud: undercloud filters: status: ACTIVE changed_when: false register: port_check async: 1000 poll: 0 - name: Block on async port check async_status: jid: ""{{ port_check.ansible_job_id }}"" register: port_check_job_result until: port_check_job_result.finished retries: 30 - name: Set ManagedIpAddresses fact set_fact: ManagedIpAddresses: ""{{ openstack_ports | map(attribute='fixed_ips') | sum(start=[]) | map(attribute='ip_address') | list }}"" ansible_user: ""{{ (item in ManagedIpAddresses) | ternary('heat-admin', (ssh_user | default(ansible_user))) }}""",1,22
openstack%2Fcharm-deployment-guide~master~I06aef99300b317843b38d5594b55cf1c4f690a69,openstack/charm-deployment-guide,master,I06aef99300b317843b38d5594b55cf1c4f690a69,Review README,MERGED,2021-02-12 20:44:14.000000000,2021-02-23 23:05:45.000000000,2021-02-23 23:05:45.000000000,"[{'_account_id': 8992}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 20:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e67676600d596f7a1e5b9aebff537877ffc8524e', 'message': 'Review README\n\nChange-Id: I06aef99300b317843b38d5594b55cf1c4f690a69\n'}, {'number': 2, 'created': '2021-02-17 17:41:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1e20cf3a0f4f3a80791fff232d1183348c941023', 'message': 'Review README\n\nImprove organisation\n\nProvide better information\n\nUse proper formatting\n\nChange-Id: I06aef99300b317843b38d5594b55cf1c4f690a69\n'}]",1,775447,1e20cf3a0f4f3a80791fff232d1183348c941023,10,3,2,30561,,,0,"Review README

Improve organisation

Provide better information

Use proper formatting

Change-Id: I06aef99300b317843b38d5594b55cf1c4f690a69
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/47/775447/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e67676600d596f7a1e5b9aebff537877ffc8524e,review-readme,================================= OpenStack Charms Deployment Guide ================================= :target: http://governance.openstack.org/reference/tags/index.html The `OpenStack Charms Deployment Guide`_ is the main source of information for the usage of the `OpenStack Charms`_. Building -------- To build the guide run this simple command: .. code-block:: none tox The resulting HTML files will be found in the ``deploy-guide/build/html`` directory. These can be opened individually with a web browser or hosted by a local web server. Contributing ------------ Documentation issues can be filed on `Launchpad`_. This repository is under version control and is managed via the `OpenStack Gerrit system`_ (see the `OpenDev Developers Guide`_). For specific guidance on working with the documentation hosted on https://docs.openstack.org please read the `OpenStack Documentation Contributor Guide`_. .. LINKS .. _OpenStack Charms Deployment Guide: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide .. _OpenStack Charms: https://launchpad.net/openstack-charms .. _Launchpad: https://bugs.launchpad.net/charm-deployment-guide/+filebug .. _OpenStack Gerrit system: https://review.openstack.org .. _OpenDev Developers Guide: https://docs.openstack.org/infra/manual/developers.html .. _OpenStack Documentation Contributor Guide: https://docs.openstack.org/doc-contrib-guide/index.html,"======================== Team and repository tags ======================== :target: http://governance.openstack.org/reference/tags/index.html .. Change things from this point on ================================ OpenStack Charm Deployment Guide ================================ To build the guide, execute the following command:: $ tox After running ``tox``, the documentation will be available for viewing in HTML format in the ``deploy-guide/build/html`` directory. View these new documents in your favorite web browser. Submitting changes to this documentation ---------------------------------------- If you wish to raise an issue against the documentation, please do so at `<https://bugs.launchpad.net/charm-deployment-guide>`__. Submissions to this source are controlled via the OpenStack gerrit system at `<https://review.openstack.org>`__. If you wish to submit content then please see `<https://docs.openstack.org/infra/manual/developers.html>`__ for details on how to submit changes.",29,21
openstack%2Ftripleo-ansible~master~If66c9974b574813e6c24c1f8b4045bf839056988,openstack/tripleo-ansible,master,If66c9974b574813e6c24c1f8b4045bf839056988,Fix network port unprovision,MERGED,2021-01-27 20:08:11.000000000,2021-02-23 23:01:18.000000000,2021-02-23 22:59:40.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 20:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b52a2114bcd22daa0fa5028ebee5c1c2f67f5eed', 'message': 'Fix network port unprovision\n\nAnsible step ""Unprovision instance network ports"" is failing\nwith ""Error managing network ports \'NoneType\' object is not\nsubscriptable"" because the \'hostname_role_map\' is None in\nthe unprovision case.\n\nMove the code accessing it into the state \'present\' code\nblock.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: If66c9974b574813e6c24c1f8b4045bf839056988\n'}, {'number': 2, 'created': '2021-02-03 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1322b3ee5f11fe481d759009320bd2fd137915a0', 'message': 'Fix network port unprovision\n\nAnsible step ""Unprovision instance network ports"" is failing\nwith ""Error managing network ports \'NoneType\' object is not\nsubscriptable"" because the \'hostname_role_map\' is None in\nthe unprovision case.\n\nMove the code accessing it into the state \'present\' code\nblock.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: If66c9974b574813e6c24c1f8b4045bf839056988\n'}, {'number': 3, 'created': '2021-02-10 13:22:01.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc559ca68cdc04ae4b4a2a8c9b325d0d665563df', 'message': 'Fix network port unprovision\n\nAnsible step ""Unprovision instance network ports"" is failing\nwith ""Error managing network ports \'NoneType\' object is not\nsubscriptable"" because the \'hostname_role_map\' is None in\nthe unprovision case.\n\nMove the code accessing it into the state \'present\' code\nblock.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: If66c9974b574813e6c24c1f8b4045bf839056988\n'}]",0,772765,fc559ca68cdc04ae4b4a2a8c9b325d0d665563df,15,5,3,24245,,,0,"Fix network port unprovision

Ansible step ""Unprovision instance network ports"" is failing
with ""Error managing network ports 'NoneType' object is not
subscriptable"" because the 'hostname_role_map' is None in
the unprovision case.

Move the code accessing it into the state 'present' code
block.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: If66c9974b574813e6c24c1f8b4045bf839056988
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/772765/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py'],1,b52a2114bcd22daa0fa5028ebee5c1c2f67f5eed,network-data-v2, if state == 'present': role = hostname_role_map[instance['hostname']], role = hostname_role_map[instance['hostname']] if state == 'present':,1,1
openstack%2Fpuppet-neutron~master~I8891efc94ceafe7ee7c789b68c410629fc240c91,openstack/puppet-neutron,master,I8891efc94ceafe7ee7c789b68c410629fc240c91,Replace vnic_type_blacklist by vnic_type_prohibit_list,MERGED,2021-01-02 02:09:28.000000000,2021-02-23 22:54:46.000000000,2021-02-23 22:53:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-02 02:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/47a84c4c9a30967a643d9f7c174bd37a809dfff1', 'message': 'Replace vnic_type_blacklist by vnic_type_prohibit_list\n\n... to follow renaming in neutron[1].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n\nChange-Id: I8891efc94ceafe7ee7c789b68c410629fc240c91\n'}, {'number': 2, 'created': '2021-01-02 05:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cfd12ce5efb00b67c10e77464df6994226afebc2', 'message': 'Replace vnic_type_blacklist by vnic_type_prohibit_list\n\n... to follow renaming in neutron[1].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n\nChange-Id: I8891efc94ceafe7ee7c789b68c410629fc240c91\n'}, {'number': 3, 'created': '2021-01-02 07:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/105f305f99c842d75eb0050f6e1366e757582566', 'message': 'Replace vnic_type_blacklist by vnic_type_prohibit_list\n\n... to follow renaming in neutron[1].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n\nChange-Id: I8891efc94ceafe7ee7c789b68c410629fc240c91\n'}, {'number': 4, 'created': '2021-01-03 05:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/71f4fdfc048f6b7b8f99858b63f5e138fbd186c4', 'message': 'Replace vnic_type_blacklist by vnic_type_prohibit_list\n\n... to follow renaming in neutron[1].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n\nChange-Id: I8891efc94ceafe7ee7c789b68c410629fc240c91\n'}, {'number': 5, 'created': '2021-01-26 12:33:51.000000000', 'files': ['spec/classes/neutron_plugins_ml2_ovs_driver_spec.rb', 'releasenotes/notes/vnic_type_prohibit_list-fc946ec70ce9115d.yaml', 'spec/classes/neutron_plugins_ml2_sriov_driver_spec.rb', 'manifests/plugins/ml2/ovs_driver.pp', 'manifests/plugins/ml2/sriov_driver.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2c5ed70823415e4cfe35ddf1555ee63df61be9b3', 'message': 'Replace vnic_type_blacklist by vnic_type_prohibit_list\n\n... to follow renaming in neutron[1].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n\nChange-Id: I8891efc94ceafe7ee7c789b68c410629fc240c91\n'}]",0,768836,2c5ed70823415e4cfe35ddf1555ee63df61be9b3,17,3,5,9816,,,0,"Replace vnic_type_blacklist by vnic_type_prohibit_list

... to follow renaming in neutron[1].

[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950

Change-Id: I8891efc94ceafe7ee7c789b68c410629fc240c91
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/36/768836/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_ovs_driver_spec.rb', 'releasenotes/notes/vnic_type_prohibit_list-fc946ec70ce9115d.yaml', 'spec/classes/neutron_plugins_ml2_sriov_driver_spec.rb', 'manifests/plugins/ml2/ovs_driver.pp', 'manifests/plugins/ml2/sriov_driver.pp']",5,47a84c4c9a30967a643d9f7c174bd37a809dfff1,plugins-ml2,"# [*vnic_type_prohibit_list*]# DEPRECATED PARAMETERS # # [*vnic_type_blacklist*] # (optional) list of VNIC types for which support in Neutron is # administratively prohibited by the OVS mechanism driver # Defaults to undef # $vnic_type_prohibit_list = [], # DEPRECATED PARAMETERS $vnic_type_blacklist = undef, if $vnic_type_blacklist != undef { warning('The vnic_type_blacklist parameter is deprecated. Use vnic_type_prohibit_list instead') $vnic_type_prohibit_list_real = $vnic_type_blacklist } else { $vnic_type_prohibit_list_real = $vnic_type_prohibit_list } validate_legacy(Array, 'validate_array', $vnic_type_prohibit_list_real) if !empty($vnic_type_prohibit_list_real) { neutron_plugin_ml2 { 'sriov_driver/vnic_type_prohibit_list': value => join(any2array($vnic_type_prohibit_list_real), ','); 'sriov_driver/vnic_type_prohibit_list': value => $::os_service_default; } } neutron_plguin_ml2 { 'sriov_driver/vnic_type_blacklist': ensure => absent; }","# [*vnic_type_blacklist*] $vnic_type_blacklist= [], validate_legacy(Array, 'validate_array', $vnic_type_blacklist) if !empty($vnic_type_blacklist) { neutron_plugin_ml2 { 'sriov_driver/vnic_type_blacklist': value => join(any2array($vnic_type_blacklist), ','); 'sriov_driver/vnic_type_blacklist': value => $::os_service_default; } }",67,22
openstack%2Ftripleo-ansible~master~I6fa8fc86710e61bc2cb791399973137e056c6c8a,openstack/tripleo-ansible,master,I6fa8fc86710e61bc2cb791399973137e056c6c8a,Remove cli-generate-overcloudrc.yaml playbook,MERGED,2021-02-23 03:21:30.000000000,2021-02-23 22:53:53.000000000,2021-02-23 22:52:16.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 03:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84d33c7853e25268c1df8eaa0c972e8ae2bc184b', 'message': 'Remove cli-generate-overcloudrc.ymal playbook\n\nNot used anymore.\n\nChange-Id: I6fa8fc86710e61bc2cb791399973137e056c6c8a\n'}, {'number': 2, 'created': '2021-02-23 04:20:42.000000000', 'files': ['doc/source/modules/modules-tripleo_generate_overcloudrc.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_overcloudrc.py', 'tripleo_ansible/playbooks/cli-generate-overcloudrc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ded71758e20a5f1bb3924a273dc02c3215f004fb', 'message': 'Remove cli-generate-overcloudrc.yaml playbook\n\nNot used anymore.\n\nChange-Id: I6fa8fc86710e61bc2cb791399973137e056c6c8a\n'}]",0,777045,ded71758e20a5f1bb3924a273dc02c3215f004fb,10,4,2,8833,,,0,"Remove cli-generate-overcloudrc.yaml playbook

Not used anymore.

Change-Id: I6fa8fc86710e61bc2cb791399973137e056c6c8a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/777045/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-tripleo_generate_overcloudrc.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_overcloudrc.py', 'tripleo_ansible/playbooks/cli-generate-overcloudrc.yaml']",3,84d33c7853e25268c1df8eaa0c972e8ae2bc184b,,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Generate overcloudrc connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" any_errors_fatal: true vars: container: overcloud no_proxy: '' pre_tasks: - name: Check for required inputs set_fact: output_dir: ""{{ lookup('env', 'PWD') }}"" when: - output_dir is undefined tasks: - name: Generate overcloudrc tripleo_generate_overcloudrc: container: ""{{ container }}"" no_proxy: ""{{ no_proxy }}"" register: overcloudrc_result - name: Write overcloudrc copy: content: ""{{ overcloudrc_result['overcloudrc'] }}"" dest: ""{{ output_dir}}/{{ container }}rc"" ",0,206
openstack%2Fcinder~master~I12c0fca04dd836ca63a409047f30d2585929c006,openstack/cinder,master,I12c0fca04dd836ca63a409047f30d2585929c006,PowerMax Docs - Incorrect property set on volume group,MERGED,2020-08-04 15:41:46.000000000,2021-02-23 22:51:20.000000000,2021-02-23 22:42:46.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 31981}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-04 15:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31cd1da47fcbd1852e78c5457bd1e47d36ea4112', 'message': 'PowerMax docs - incorrect property set on volume group\n\nProperty replication_enabled is replaced with the correct\nconsistent_group_snapshot_enabled property.\n\nChange-Id: I12c0fca04dd836ca63a409047f30d2585929c006\n'}, {'number': 2, 'created': '2020-08-04 16:06:37.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/61d612e64959078d7de619694dda2d8b468fecaf', 'message': 'PowerMax Docs - Incorrect property set on volume group\n\nProperty replication_enabled is replaced with the correct\nconsistent_group_snapshot_enabled property.\n\nChange-Id: I12c0fca04dd836ca63a409047f30d2585929c006\n'}]",0,744738,61d612e64959078d7de619694dda2d8b468fecaf,43,28,2,12670,,,0,"PowerMax Docs - Incorrect property set on volume group

Property replication_enabled is replaced with the correct
consistent_group_snapshot_enabled property.

Change-Id: I12c0fca04dd836ca63a409047f30d2585929c006
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/744738/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,31cd1da47fcbd1852e78c5457bd1e47d36ea4112,," # cinder --os-volume-api-version 3.11 group-type-key GROUP_TYPE set consistent_group_snapshot_enabled=""<is> True"" # openstack volume type set --property consistent_group_snapshot_enabled=""<is> True"" POWERMAX_GROUP"," cinder --os-volume-api-version 3.11 group-type-key GROUP_TYPE set consistent_group_snapshot_enabled=""<is> True"" # openstack volume type set --property replication_enabled=""<is> True"" / POWERMAX_REPLICATION",2,3
openstack%2Ftempest~master~I31f487694e5f5e586f99323c81e45f43306606fb,openstack/tempest,master,I31f487694e5f5e586f99323c81e45f43306606fb,Remove deprecated config options for volume API selection,MERGED,2019-12-12 16:44:53.000000000,2021-02-23 22:50:12.000000000,2021-02-23 22:42:23.000000000,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-12-12 16:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee9df1f50ccc059afd404db21f8ab2a22240fd97', 'message': 'Remove deprecated config options for volume API selection\n\nVolume APIs tests have been moved to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now time to remove them:\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I31f487694e5f5e586f99323c81e45f43306606fb\n'}, {'number': 2, 'created': '2020-12-29 21:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e7e30f66bbf361d4132e489345a6785b976fae8', 'message': 'Remove deprecated config options for volume API selection\n\nVolume APIs tests have been moved to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now time to remove them:\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I31f487694e5f5e586f99323c81e45f43306606fb\n'}, {'number': 3, 'created': '2020-12-30 00:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3937178f2259361da8a58a233dffa349d0286a3', 'message': 'Remove deprecated config options for volume API selection\n\nVolume APIs tests have been moved to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now time to remove them:\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I31f487694e5f5e586f99323c81e45f43306606fb\n'}, {'number': 4, 'created': '2020-12-31 03:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca7979849dcc3a34f883d89564d9c7ae86004202', 'message': 'Remove deprecated config options for volume API selection\n\nVolume APIs tests have been moved to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now time to remove them:\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I31f487694e5f5e586f99323c81e45f43306606fb\n'}, {'number': 5, 'created': '2020-12-31 04:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f0773c9893d9306ee23b8a93031600b0397a093', 'message': 'Remove deprecated config options for volume API selection\n\nVolume APIs tests have been moved to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now time to remove them:\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I31f487694e5f5e586f99323c81e45f43306606fb\n'}, {'number': 6, 'created': '2020-12-31 17:53:55.000000000', 'files': ['tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/clients.py', 'tempest/config.py', 'releasenotes/notes/remove-deprecated-volume-config-options-4b7ea93b88e5b982.yaml', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/449287d45ebcd435225f7aac86b7a2c953108a19', 'message': 'Remove deprecated config options for volume API selection\n\nVolume APIs tests have been moved to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now time to remove them:\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I31f487694e5f5e586f99323c81e45f43306606fb\n'}]",1,698754,449287d45ebcd435225f7aac86b7a2c953108a19,20,4,6,8556,,,0,"Remove deprecated config options for volume API selection

Volume APIs tests have been moved to v3 as default and can be run
under v2 API via catalog_type.
- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)

Below config options were deprecated since Rocky and now time to remove them:
    * ``CONF.volume-feature-enabled.api_v2``
    * ``CONF.volume-feature-enabled.api_v3``

Change-Id: I31f487694e5f5e586f99323c81e45f43306606fb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/54/698754/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/clients.py', 'tempest/config.py', 'releasenotes/notes/remove-deprecated-volume-config-options-4b7ea93b88e5b982.yaml', 'tempest/api/volume/base.py']",6,ee9df1f50ccc059afd404db21f8ab2a22240fd97,volume-default-testing-v3,," # if api_v2 is not enabled while api_v3 is enabled, the volume v2 classes # should be transferred to volume v3 classes. if (not CONF.volume_feature_enabled.api_v2 and CONF.volume_feature_enabled.api_v3): _api_version = 3 if cls._api_version == 2: if not CONF.volume_feature_enabled.api_v2: msg = ""Volume API v2 is disabled"" raise cls.skipException(msg) elif cls._api_version == 3: if not CONF.volume_feature_enabled.api_v3: msg = ""Volume API v3 is disabled"" raise cls.skipException(msg) else: msg = (""Invalid Cinder API version (%s)"" % cls._api_version) raise exceptions.InvalidConfiguration(msg)",88,185
openstack%2Fglance~master~I7dec6b9919e7679aff1a0bb5db1e806384730386,openstack/glance,master,I7dec6b9919e7679aff1a0bb5db1e806384730386,Bump requirements to prepare for secure RBAC,MERGED,2020-11-25 20:01:28.000000000,2021-02-23 22:49:21.000000000,2021-02-23 22:43:08.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-25 20:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f54d752503a2d33487870456c2712715ce19c8c1', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, and\nkeystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 2, 'created': '2020-11-25 22:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/223eaa4dec3c5f5bfaba4933403c8188f7b6ef60', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 3, 'created': '2020-11-30 21:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b6ffb177de5f81bbd450df42165a479e19f5581', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 4, 'created': '2021-02-03 08:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cb66cbd6910349bb27a0684afe786238d4224780', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 5, 'created': '2021-02-03 14:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/37492fbe7ad2313b9223825783f72946ed5dd775', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 6, 'created': '2021-02-03 22:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/01b1648942cdb0382187baf2ce0b8f5c9105be06', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 7, 'created': '2021-02-05 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/089eebc1b33f432efffae4ec95a64a1e3644f9cd', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 8, 'created': '2021-02-15 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/153cbf95471ffe9e6e59245c8a7bb71f41faf789', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 9, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/80fa4cfb6e13dd00c338d14d1827b41eb22815a4', 'message': 'Bump requirements to perpare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 10, 'created': '2021-02-22 18:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/97613e24b90e7f7586d4e232a99cf170812ca3af', 'message': 'Bump requirements to prepare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 11, 'created': '2021-02-23 14:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a55660c84afbc4105d0e098f7d386df06da72d4b', 'message': 'Bump requirements to prepare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nImplements: blueprint secure-rbac\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}, {'number': 12, 'created': '2021-02-23 17:31:15.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/764f29a99d27edb2d8bf9d299deabcdb84ac08d6', 'message': 'Bump requirements to prepare for secure RBAC\n\nTo implement proper scope checking, we need some updated libraries that\nproperly handle tokens and relay that information to the underlying\nservice. This commit updates the oslo.policy, oslo.context, oslo.log,\nand keystonemiddleware requirements to versions that understand all the\nvarious scopes so that we can update the default policies.\n\nAdditionally, this commit updates transitive dependencies in\nrequirements.txt and lower-constraints.txt to install properly with\nlower-constraints defined.\n\nImplements: blueprint secure-rbac\n\nChange-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386\n'}]",6,764236,764f29a99d27edb2d8bf9d299deabcdb84ac08d6,68,4,12,5046,,,0,"Bump requirements to prepare for secure RBAC

To implement proper scope checking, we need some updated libraries that
properly handle tokens and relay that information to the underlying
service. This commit updates the oslo.policy, oslo.context, oslo.log,
and keystonemiddleware requirements to versions that understand all the
various scopes so that we can update the default policies.

Additionally, this commit updates transitive dependencies in
requirements.txt and lower-constraints.txt to install properly with
lower-constraints defined.

Implements: blueprint secure-rbac

Change-Id: I7dec6b9919e7679aff1a0bb5db1e806384730386
",git fetch https://review.opendev.org/openstack/glance refs/changes/36/764236/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,f54d752503a2d33487870456c2712715ce19c8c1,secure-rbac-handle-members,keystonemiddleware==5.1.0oslo.context==2.22.0oslo.log==4.3.0,keystonemiddleware==4.17.0oslo.context==2.19.2oslo.log==3.36.0,6,6
openstack%2Fnova~master~I58b0382c86d4ef798572edb63d311e0e3e6937bb,openstack/nova,master,I58b0382c86d4ef798572edb63d311e0e3e6937bb,Refactor and rename test_tcp_rst_no_compute_rpcapi,MERGED,2020-07-16 01:02:44.000000000,2021-02-23 22:49:13.000000000,2021-02-23 22:41:06.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-16 01:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/282a5b69a8dfc7070a8572d5d552a327bb537326', 'message': ""Use unittest.mock instead of mock in test_websocketproxy\n\nThe NovaProxyRequestHandlerTestCase.test_tcp_rst_no_compute_rpcapi test\nfails with mock==4.0.2 because mock is calling the\nNovaProxyRequestHandler class's compute_rpcapi @property while creating\nautospecs. The test asserts that the @property is not called when a TCP\nRST is received, so mock calling the @property itself causes the test\nfail erroneously.\n\nWe can import unittest.mock instead of using the third-party mock\nlibrary to solve this issue instead of potentially blacklisting\nmock==4.0.2 or working around the bug in our test. Nova is the only\nproject failing one test and since the third-party mock library may not\nbe that comprehensively maintained at this point, this might be the\nbest route forward.\n\nCloses-Bug: #1887735\n\nChange-Id: I58b0382c86d4ef798572edb63d311e0e3e6937bb\n""}, {'number': 2, 'created': '2021-02-03 22:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7ac94c95afd7a3b7b09026393674afc447ef1fc', 'message': ""Refactor and rename test_tcp_rst_no_compute_rpcapi\n\nThe NovaProxyRequestHandlerTestCase.test_tcp_rst_no_compute_rpcapi test\nfails with mock==4.0.2 because mock is calling the\nNovaProxyRequestHandler class's compute_rpcapi @property while creating\nmock autospecs. The test asserts that the @property is not called when a TCP\nRST is received, so mock calling the @property itself causes the test fail\nerroneously.\n\nThis is also the case in the built-in unittest.mock in python 3.8 [1].\n\nWe can refactor (and rename) this unit test to more concisely test the\ndesired behavior when TCP RST or otherwise unvalidated requests are\nhandled by the console proxy request handler. This has the benefit of\n(1) making the test work with mock==4.0.2 and python 3.8 and (2) removing\nunnecessary and potentionally incorrect assumptions about and dependence on\nthe internal details of websockify.\n\nCloses-Bug: #1887735\n\n[1] https://bugs.python.org/issue41768\n\nChange-Id: I58b0382c86d4ef798572edb63d311e0e3e6937bb\n""}, {'number': 3, 'created': '2021-02-03 22:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56c8d4cc2827fb44cda3270be6b639c6c58f2085', 'message': ""Refactor and rename test_tcp_rst_no_compute_rpcapi\n\nThe NovaProxyRequestHandlerTestCase.test_tcp_rst_no_compute_rpcapi test\nfails with mock==4.0.2 because mock is calling the\nNovaProxyRequestHandler class's compute_rpcapi @property while creating\nmock autospecs. The test asserts that the @property is not called when\na TCP RST is received, so mock calling the @property itself causes the\ntest to fail erroneously.\n\nThis is also the case in the built-in unittest.mock in python 3.8 [1].\n\nWe can refactor (and rename) this unit test to more concisely test the\ndesired behavior when TCP RST or otherwise unvalidated requests are\nhandled by the console proxy request handler. This has the benefit of\n(1) making the test work with mock==4.0.2 and python 3.8 and (2)\nremoving unnecessary and potentionally incorrect assumptions about and\ndependence on the internal details of websockify.\n\nCloses-Bug: #1887735\n\n[1] https://bugs.python.org/issue41768\n\nChange-Id: I58b0382c86d4ef798572edb63d311e0e3e6937bb\n""}, {'number': 4, 'created': '2021-02-03 23:18:32.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f6bacd3fde9d4f0de638dc2bb3ba2ac2520df874', 'message': ""Refactor and rename test_tcp_rst_no_compute_rpcapi\n\nThe NovaProxyRequestHandlerTestCase.test_tcp_rst_no_compute_rpcapi test\nfails with mock==4.0.2 because mock is calling the\nNovaProxyRequestHandler class's compute_rpcapi @property while creating\nmock autospecs. The test asserts that the @property is not called when\na TCP RST is received, so mock calling the @property itself causes the\ntest to fail erroneously.\n\nThis is also the case in the built-in unittest.mock in python 3.8 [1].\n\nWe can refactor (and rename) this unit test to more concisely test the\ndesired behavior when TCP RST or otherwise unvalidated requests are\nhandled by the console proxy request handler. This has the benefit of\n(1) making the test work with mock==4.0.2 and python 3.8 and (2)\nremoving unnecessary dependency and potentially incorrect assumptions\nabout the internal details of websockify.\n\nCloses-Bug: #1887735\n\n[1] https://bugs.python.org/issue41768\n\nChange-Id: I58b0382c86d4ef798572edb63d311e0e3e6937bb\n""}]",1,741351,f6bacd3fde9d4f0de638dc2bb3ba2ac2520df874,28,9,4,4690,,,0,"Refactor and rename test_tcp_rst_no_compute_rpcapi

The NovaProxyRequestHandlerTestCase.test_tcp_rst_no_compute_rpcapi test
fails with mock==4.0.2 because mock is calling the
NovaProxyRequestHandler class's compute_rpcapi @property while creating
mock autospecs. The test asserts that the @property is not called when
a TCP RST is received, so mock calling the @property itself causes the
test to fail erroneously.

This is also the case in the built-in unittest.mock in python 3.8 [1].

We can refactor (and rename) this unit test to more concisely test the
desired behavior when TCP RST or otherwise unvalidated requests are
handled by the console proxy request handler. This has the benefit of
(1) making the test work with mock==4.0.2 and python 3.8 and (2)
removing unnecessary dependency and potentially incorrect assumptions
about the internal details of websockify.

Closes-Bug: #1887735

[1] https://bugs.python.org/issue41768

Change-Id: I58b0382c86d4ef798572edb63d311e0e3e6937bb
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/741351/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,282a5b69a8dfc7070a8572d5d552a327bb537326,bug/1887735,from unittest import mock , import mock,1,1
openstack%2Fneutron~master~Ie33514da28991fa5952a1d8c289402ecb9ffee49,openstack/neutron,master,Ie33514da28991fa5952a1d8c289402ecb9ffee49,Limit execution of the neutron CI jobs on some irrelevant file,MERGED,2021-02-09 11:33:14.000000000,2021-02-23 22:49:03.000000000,2021-02-23 22:40:09.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 11:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bba96b52c88b20603a8f40934d635dc250acd45b', 'message': 'Limit execution of the neutron CI jobs on some irrelevant file\n\nThis patch tries to make execution of the CI jobs in the Neutron\nqueue to be more smart. There is no need to e.g. run\nlinuxbridge scenario jobs job when only changed files in patch\nare in e.g. the linuxbridge agent module.\nOr there is no need to run openvswitch scenario jobs if changes\nare in e.g. linuxbridge agent only.\n\nChange-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49\n'}, {'number': 2, 'created': '2021-02-09 15:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f48e9541c39765ee963e0a49bf72cb44f4aecbd', 'message': 'Limit execution of the neutron CI jobs on some irrelevant file\n\nThis patch tries to make execution of the CI jobs in the Neutron\nqueue to be more smart. There is no need to e.g. run\nlinuxbridge scenario jobs job when only changed files in patch\nare in e.g. the linuxbridge agent module.\nOr there is no need to run openvswitch scenario jobs if changes\nare in e.g. linuxbridge agent only.\n\nChange-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49\n'}, {'number': 3, 'created': '2021-02-18 09:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54023e19076d268a03a49b0cd4e32b968b3df56c', 'message': 'Limit execution of the neutron CI jobs on some irrelevant file\n\nThis patch tries to make execution of the CI jobs in the Neutron\nqueue to be more smart. There is no need to e.g. run\nlinuxbridge scenario jobs job when only changed files in patch\nare in e.g. the linuxbridge agent module.\nOr there is no need to run openvswitch scenario jobs if changes\nare in e.g. linuxbridge agent only.\n\nChange-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49\n'}, {'number': 4, 'created': '2021-02-19 15:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9365ee5c51450307b2f13d1f3a7b722a62f9dc1', 'message': 'Limit execution of the neutron CI jobs on some irrelevant file\n\nThis patch tries to make execution of the CI jobs in the Neutron\nqueue to be more smart. There is no need to e.g. run\nlinuxbridge scenario jobs job when only changed files in patch\nare in e.g. the openvswitch agent module, or vice versa.\n\nChange-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49\n'}, {'number': 5, 'created': '2021-02-22 08:44:01.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/adb3e943b11415b085ebbbb7f23653aeb87d6ec5', 'message': 'Limit execution of the neutron CI jobs on some irrelevant file\n\nThis patch tries to make execution of the CI jobs in the Neutron\nqueue to be more smart. There is no need to e.g. run\nlinuxbridge scenario jobs job when only changed files in patch\nare in e.g. the openvswitch agent module, or vice versa.\n\nChange-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49\n'}]",21,774626,adb3e943b11415b085ebbbb7f23653aeb87d6ec5,38,6,5,11975,,,0,"Limit execution of the neutron CI jobs on some irrelevant file

This patch tries to make execution of the CI jobs in the Neutron
queue to be more smart. There is no need to e.g. run
linuxbridge scenario jobs job when only changed files in patch
are in e.g. the openvswitch agent module, or vice versa.

Change-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/774626/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",7,bba96b52c88b20603a8f40934d635dc250acd45b,improve-neutron-ci, - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only, - neutron-functional-with-uwsgi: # We don't run the job on things like neutron docs-only changes irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - ^devstack/.*\.sample$ - neutron-fullstack-with-uwsgi: irrelevant-files: *irrelevant-files - neutron-rally-task: irrelevant-files: *irrelevant-files - neutron-grenade-multinode: irrelevant-files: *irrelevant-files - neutron-grenade-dvr-multinode: irrelevant-files: *irrelevant-files - neutron-tempest-multinode-full-py3: irrelevant-files: *irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *irrelevant-files - neutron-tempest-slow-py3: irrelevant-files: *irrelevant-files - neutron-tempest-ipv6-only: irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release-ipv6-only: irrelevant-files: *irrelevant-files # irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files,288,87
openstack%2Ftempest~master~I1b4601e2ce6c83ec727b6dea65c67cacbfcfe957,openstack/tempest,master,I1b4601e2ce6c83ec727b6dea65c67cacbfcfe957,Add option to support volume_type in volume creation,MERGED,2021-02-16 13:30:38.000000000,2021-02-23 22:48:54.000000000,2021-02-23 22:41:59.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 18236}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 29585}, {'_account_id': 30746}, {'_account_id': 31479}]","[{'number': 1, 'created': '2021-02-16 13:30:38.000000000', 'files': ['tempest/config.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/46d540d33eea2656e8a9d47da5baeedaccf7e349', 'message': 'Add option to support volume_type in volume creation\n\nThe volume creation uses default volume type from the backend. In\ncase of multiple backend, at the moment there is no option to test\nvolume test cases with volume type which is not default volume type.\n\nAdd a new config volume_type in tempest.conf.\nChange the code to create volumes with volume_type mentioned in\nthe config.\nMake sure when volume_type is not specified then volume will be\ncreated with default volume type.\n\nChange-Id: I1b4601e2ce6c83ec727b6dea65c67cacbfcfe957\n'}]",6,775830,46d540d33eea2656e8a9d47da5baeedaccf7e349,15,15,1,31112,,,0,"Add option to support volume_type in volume creation

The volume creation uses default volume type from the backend. In
case of multiple backend, at the moment there is no option to test
volume test cases with volume type which is not default volume type.

Add a new config volume_type in tempest.conf.
Change the code to create volumes with volume_type mentioned in
the config.
Make sure when volume_type is not specified then volume will be
created with default volume type.

Change-Id: I1b4601e2ce6c83ec727b6dea65c67cacbfcfe957
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/775830/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'tempest/api/volume/base.py']",2,46d540d33eea2656e8a9d47da5baeedaccf7e349,, if CONF.volume.volume_type and 'volume_type' not in kwargs: # If volume_type is not provided in config then no need to # add a volume type and # if volume_type has already been added by child class then # no need to override. kwargs['volume_type'] = CONF.volume.volume_type ,,10,0
openstack%2Fdevstack~stable%2Fstein~I334551197381a8242d9dd613dc2ff23aba81e45e,openstack/devstack,stable/stein,I334551197381a8242d9dd613dc2ff23aba81e45e,Set temepst tox constraints to stable constraints,MERGED,2021-02-20 23:24:28.000000000,2021-02-23 22:48:48.000000000,2021-02-23 22:40:19.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-20 23:24:28.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d182ffc45eb053f7bfc1f31ae3cf65757f4b9ae6', 'message': 'Set temepst tox constraints to stable constraints\n\nstable/stein is now in EM state and use old Tempest\n26.0.0. For zuulv3 native jobs everything is fine\nas tox constraints things are taken care in run-tempest\nrole.\n\nBut legacy job started failing on stable/stein\nexample- designate-devstack-pdns4 on stable/stein\n- https://zuul.opendev.org/t/openstack/build/35fd0a4c76e0482e88ed32ef0840291d\n\nTo fix legacy jobs we need to set the tox env var while\nisntalling the tempest in venv which is where very first time\ntempest venv is being created. This will make tox constraints\nmatch with what d-g set and will not recreate the tempest venv.\n\nChange-Id: I334551197381a8242d9dd613dc2ff23aba81e45e\n'}]",0,776811,d182ffc45eb053f7bfc1f31ae3cf65757f4b9ae6,9,5,1,8556,,,0,"Set temepst tox constraints to stable constraints

stable/stein is now in EM state and use old Tempest
26.0.0. For zuulv3 native jobs everything is fine
as tox constraints things are taken care in run-tempest
role.

But legacy job started failing on stable/stein
example- designate-devstack-pdns4 on stable/stein
- https://zuul.opendev.org/t/openstack/build/35fd0a4c76e0482e88ed32ef0840291d

To fix legacy jobs we need to set the tox env var while
isntalling the tempest in venv which is where very first time
tempest venv is being created. This will make tox constraints
match with what d-g set and will not recreate the tempest venv.

Change-Id: I334551197381a8242d9dd613dc2ff23aba81e45e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/11/776811/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,d182ffc45eb053f7bfc1f31ae3cf65757f4b9ae6,," # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint as defined in tempest/tox.ini # This is needed for legacy jobs as devstack-gate can also recreate the # venv. For zuulv3 native jobs, run-tempest role take care of it. export UPPER_CONSTRAINTS_FILE=$REQUIREMENTS_DIR/upper-constraints.txt ",,8,0
openstack%2Fglance~master~Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63,openstack/glance,master,Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63,DNM: checking whether empty migrations are needed,ABANDONED,2020-01-03 16:12:18.000000000,2021-02-23 22:44:58.000000000,,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-03 16:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b43ab1683ca82d8d28a6e567f020adb623b3a1d4', 'message': 'DNM: checking whether empty migrations are needed\n\nChange-Id: Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63\n'}, {'number': 2, 'created': '2020-01-03 16:15:59.000000000', 'files': ['.zuul.yaml', 'glance/tests/functional/db/migrations/test_train_migrate01.py', 'glance/db/migration.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e217b76ad9b615e06354752e328152d5157f890a', 'message': 'DNM: checking whether empty migrations are needed\n\nChange-Id: Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63\n'}]",0,701041,e217b76ad9b615e06354752e328152d5157f890a,8,3,2,5314,,,0,"DNM: checking whether empty migrations are needed

Change-Id: Iaa5566eb8f4216ab7c3e5282fff664e2e7953c63
",git fetch https://review.opendev.org/openstack/glance refs/changes/41/701041/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'glance/tests/functional/db/migrations/test_train_migrate01.py', 'glance/db/migration.py']",3,b43ab1683ca82d8d28a6e567f020adb623b3a1d4,fix-migration-version,CURRENT_RELEASE = 'ussuri'LATEST_REVISION = 'train_contract01',CURRENT_RELEASE = 'train'LATEST_REVISION = 'rocky_contract02',3,31
openstack%2Fdevstack-gate~master~I36799ee9d4db20104377e2772c86229b8083448d,openstack/devstack-gate,master,I36799ee9d4db20104377e2772c86229b8083448d,Use stable constraints for Tempest venv for stable/stein testing,MERGED,2021-02-19 23:50:06.000000000,2021-02-23 22:40:34.000000000,2021-02-23 22:40:34.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 23:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d209483075577bc7f071d26f46a3f052737706d9', 'message': 'Use stable constraints for Tempest venv for stable/stein testing\n\nAs stable/stein is in Extended Maintenance state, we use old Tempest\n26.0.0 for its testing\n- https://review.opendev.org/c/openstack/devstack/+/774103\n\nFor old Tempest, we need to use the stable constraints otherwise\nit recreate the tempest venv and remove the initial installed tempest\nplugins which causes the error while running plugins tests\n\nExample: https://zuul.opendev.org/t/openstack/build/bae42db334ca4b69ab3f4b1c440bcb6a/log/job-output.txt#2444-2454\n\nFor Devstack side, I am making the constraints setting more\nstandardize in below series but for legacy job we need the fix here.\n- https://review.opendev.org/q/topic:%22standardize-tempest-tox-constraints%22+(status:open%20OR%20status:merged)\n\nChange-Id: I36799ee9d4db20104377e2772c86229b8083448d\n'}, {'number': 2, 'created': '2021-02-20 23:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/3c4e7e40ed3e8c488e7893bfb4f3a5b9d258d41d', 'message': 'Use stable constraints for Tempest venv for stable/stein testing\n\nAs stable/stein is in Extended Maintenance state, we use old Tempest\n26.0.0 for its testing\n- https://review.opendev.org/c/openstack/devstack/+/774103\n\nFor old Tempest, we need to use the stable constraints otherwise\nit recreate the tempest venv and remove the initial installed tempest\nplugins which causes the error while running plugins tests\n\nExample: https://zuul.opendev.org/t/openstack/build/bae42db334ca4b69ab3f4b1c440bcb6a/log/job-output.txt#2444-2454\n\nFor Devstack side, I am making the constraints setting more\nstandardize in below series but for legacy job we need the fix here.\n- https://review.opendev.org/q/topic:%22standardize-tempest-tox-constraints%22+(status:open%20OR%20status:merged)\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/776811\n\nChange-Id: I36799ee9d4db20104377e2772c86229b8083448d\n'}, {'number': 3, 'created': '2021-02-21 00:12:42.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d20e76343a668c5df322c56eb35eb6f9de73dc41', 'message': 'Use stable constraints for Tempest venv for stable/stein testing\n\nAs stable/stein is in Extended Maintenance state, we use old Tempest\n26.0.0 for its testing\n- https://review.opendev.org/c/openstack/devstack/+/774103\n\nFor old Tempest, we need to use the stable constraints otherwise\nit recreate the tempest venv and remove the initial installed tempest\nplugins which causes the error while running plugins tests\n\nExample: https://zuul.opendev.org/t/openstack/build/bae42db334ca4b69ab3f4b1c440bcb6a/log/job-output.txt#2444-2454\n\nFor Devstack side, I am making the constraints setting more\nstandardize in below series but for legacy job we need the fix here.\n- https://review.opendev.org/q/topic:%22standardize-tempest-tox-constraints%22+(status:open%20OR%20status:merged)\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/776811\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/774060\n\nChange-Id: I36799ee9d4db20104377e2772c86229b8083448d\n'}]",0,776722,d20e76343a668c5df322c56eb35eb6f9de73dc41,15,4,3,8556,,,0,"Use stable constraints for Tempest venv for stable/stein testing

As stable/stein is in Extended Maintenance state, we use old Tempest
26.0.0 for its testing
- https://review.opendev.org/c/openstack/devstack/+/774103

For old Tempest, we need to use the stable constraints otherwise
it recreate the tempest venv and remove the initial installed tempest
plugins which causes the error while running plugins tests

Example: https://zuul.opendev.org/t/openstack/build/bae42db334ca4b69ab3f4b1c440bcb6a/log/job-output.txt#2444-2454

For Devstack side, I am making the constraints setting more
standardize in below series but for legacy job we need the fix here.
- https://review.opendev.org/q/topic:%22standardize-tempest-tox-constraints%22+(status:open%20OR%20status:merged)

Depends-On: https://review.opendev.org/c/openstack/devstack/+/776811
Depends-On: https://review.opendev.org/c/openstack/tempest/+/774060

Change-Id: I36799ee9d4db20104377e2772c86229b8083448d
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/22/776722/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,d209483075577bc7f071d26f46a3f052737706d9,," stable_for_u_c=""stable/[o-s]"""," stable_for_u_c=""stable/[o-r]""",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I918b6c16db6ed70d9ad612aecd7af7d725520f7b,openstack/tripleo-heat-templates,stable/train,I918b6c16db6ed70d9ad612aecd7af7d725520f7b,pcs commands on host: ovn dbs,MERGED,2021-02-18 13:48:08.000000000,2021-02-23 22:26:29.000000000,2021-02-23 22:26:29.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 13:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a843ba35406972600ced1439739bfa5b77ee0b2f', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n(cherry picked from commit 4e76e1fb72ce1af012abf412c179d286fd127bd9)\n(cherry picked from commit ec70716ad874d36babbefe8852c1e9a37f1518b8)\n""}, {'number': 2, 'created': '2021-02-18 16:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/badf1e364d1de3a471ead41eea0b767ae3699927', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n(cherry picked from commit 4e76e1fb72ce1af012abf412c179d286fd127bd9)\n(cherry picked from commit ec70716ad874d36babbefe8852c1e9a37f1518b8)\n""}, {'number': 3, 'created': '2021-02-18 20:13:38.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/656a6f50d41c062ad46dd445395f50dfee275a3c', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nNB: Some conflicts due to context differences\nNB: We need to specify a manifest so that container-puppet.py creates at\n    least an empty directory (post-ussuri seemingly do not need this)\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n(cherry picked from commit 4e76e1fb72ce1af012abf412c179d286fd127bd9)\n(cherry picked from commit ec70716ad874d36babbefe8852c1e9a37f1518b8)\n""}]",0,776457,656a6f50d41c062ad46dd445395f50dfee275a3c,18,4,3,20172,,,0,"pcs commands on host: ovn dbs

We add the following depends on because at this stage ovn will be
created on the host and the resource-agent won't be present so
we have to be able to tell pcs to ignore the non existance of the
ovn-dbs ocfg resource on the host.

NB: Some conflicts due to context differences
NB: We need to specify a manifest so that container-puppet.py creates at
    least an empty directory (post-ussuri seemingly do not need this)

Depends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4
Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b
Related-Bug: #1863442
(cherry picked from commit 4e76e1fb72ce1af012abf412c179d286fd127bd9)
(cherry picked from commit ec70716ad874d36babbefe8852c1e9a37f1518b8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/776457/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,a843ba35406972600ced1439739bfa5b77ee0b2f,train-pcshost," - tripleo::profile::pacemaker::ovn_dbs_bundle::force_ocf: true - 'ovn_dbs_remove_old_cruft' - 'include tripleo::profile::pacemaker::ovn_dbs_bundle' - name: OVNDbs HA Wrappers Step when: step|int == 3 block: &ovn_dbs_puppet_bundle - name: Ovn dbs puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: ovn_dbs tripleo_ha_wrapper_resource_name: ovndbs_servers tripleo_ha_wrapper_bundle_name: ovn-dbs-bundle tripleo_ha_wrapper_resource_state: Slave Master tripleo_ha_wrapper_puppet_config_volume: ovn_dbs tripleo_ha_wrapper_puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::ovn_dbs_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: Ovn dbs bundle post update when: step|int == 1 block: *ovn_dbs_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true "," - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation,ovn_dbs_remove_old_cruft' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::ovn_dbs_bundle' ovn_dbs_restart_bundle: start_order: 1 config_volume: ovn_dbs detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh ovn_dbs ovndb_servers ovn-dbs-bundle Slave Master image: {get_param: ContainerOvnDbsConfigImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - if: - internal_tls_enabled - - /etc/pki/tls/certs/ovn_dbs.crt:/etc/pki/tls/certs/ovn_dbs.crt:ro - /etc/pki/tls/private/ovn_dbs.key:/etc/pki/tls/private/ovn_dbs.key:ro - null",25,22
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia4399b632257e693fb2c516e487856331149589d,openstack/tripleo-heat-templates,stable/train,Ia4399b632257e693fb2c516e487856331149589d,pcs commands on host: cinder backup/volume,MERGED,2021-02-18 13:42:23.000000000,2021-02-23 22:26:06.000000000,2021-02-23 22:26:06.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 13:42:23.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/327f0e503892bf5a97121dc455c5b409e2759794', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: Some conflicts due to context differences\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n(cherry picked from commit f37f21f31df12e553d1940fce08195fcb18ccf3c)\n(cherry picked from commit 4f56371f912f468758c3533079872b7e69d4c32f)\n'}]",0,776456,327f0e503892bf5a97121dc455c5b409e2759794,12,4,1,20172,,,0,"pcs commands on host: cinder backup/volume

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: Some conflicts due to context differences

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Change-Id: Ia4399b632257e693fb2c516e487856331149589d
Related-Bug: #1863442
(cherry picked from commit f37f21f31df12e553d1940fce08195fcb18ccf3c)
(cherry picked from commit 4f56371f912f468758c3533079872b7e69d4c32f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/776456/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml']",2,327f0e503892bf5a97121dc455c5b409e2759794,train-pcshost," - name: Cinder Volume HA Wrappers Step when: step|int == 5 block: &cinder_volume_puppet_bundle - name: Cinder volume puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: cinder_volume tripleo_ha_wrapper_resource_name: openstack-cinder-volume tripleo_ha_wrapper_bundle_name: openstack-cinder-volume tripleo_ha_wrapper_resource_state: _ Started tripleo_ha_wrapper_puppet_config_volume: cinder tripleo_ha_wrapper_puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::cinder::volume_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: Cinder volume bundle post update when: step|int == 1 block: *cinder_volume_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true "," puppet_debug_enabled: {get_param: ConfigDebug} step_5: cinder_volume_init_bundle: start_order: 0 detach: false net: host ipc: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '5' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::constraint::location' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::cinder::volume_bundle' - if: - puppet_debug_enabled - - '--debug --verbose' - - '' image: {get_param: ContainerCinderVolumeImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} cinder_volume_restart_bundle: start_order: 2 config_volume: cinder detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh cinder_volume openstack-cinder-volume openstack-cinder-volume _ Started image: {get_param: ContainerCinderVolumeImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro",45,90
openstack%2Fglance~master~I90d97c7181bd2d449615732a61bd3d8074e93adc,openstack/glance,master,I90d97c7181bd2d449615732a61bd3d8074e93adc,Explicitly unset tempest_roles in devstack plugin,ABANDONED,2021-02-05 21:15:14.000000000,2021-02-23 22:23:53.000000000,,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e17cf2a20eda7edc2c729380984a64df3611feda', 'message': ""Explicitly unset tempest_roles in devstack plugin\n\nWe need to do this in order to use dynamic credentials in tempest\nwithout having the 'member' role added to personas we only want to have\nthe 'reader' role.\n\nChange-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc\n""}, {'number': 2, 'created': '2021-02-15 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f3956cc2bf8be5d120db2287555246b5e0d0ea52', 'message': ""Explicitly unset tempest_roles in devstack plugin\n\nWe need to do this in order to use dynamic credentials in tempest\nwithout having the 'member' role added to personas we only want to have\nthe 'reader' role.\n\nChange-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc\n""}, {'number': 3, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3824f4d3009aebb3ad51d70ed49a1e177e885fe6', 'message': ""Explicitly unset tempest_roles in devstack plugin\n\nWe need to do this in order to use dynamic credentials in tempest\nwithout having the 'member' role added to personas we only want to have\nthe 'reader' role.\n\nChange-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc\n""}, {'number': 4, 'created': '2021-02-22 18:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/66b40788150b6225df8618c48d42bc69e7d2aa29', 'message': ""Explicitly unset tempest_roles in devstack plugin\n\nWe need to do this in order to use dynamic credentials in tempest\nwithout having the 'member' role added to personas we only want to have\nthe 'reader' role.\n\nChange-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc\n""}, {'number': 5, 'created': '2021-02-23 14:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/11ee076288fbb0d4f60ea867025605be55e4556e', 'message': ""Explicitly unset tempest_roles in devstack plugin\n\nWe need to do this in order to use dynamic credentials in tempest\nwithout having the 'member' role added to personas we only want to have\nthe 'reader' role.\n\nImplements: blueprint secure-rbac\n\nChange-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc\n""}, {'number': 6, 'created': '2021-02-23 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c477c499ba5f67efb1b693cb814d9abf4d632db4', 'message': ""Explicitly unset tempest_roles in devstack plugin\n\nWe need to do this in order to use dynamic credentials in tempest\nwithout having the 'member' role added to personas we only want to have\nthe 'reader' role.\n\nImplements: blueprint secure-rbac\n\nChange-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc\n""}, {'number': 7, 'created': '2021-02-23 17:31:15.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/glance/commit/e1cd1f49021b8aa81dc67fc6d691594daf158d20', 'message': ""Explicitly unset tempest_roles in devstack plugin\n\nWe need to do this in order to use dynamic credentials in tempest\nwithout having the 'member' role added to personas we only want to have\nthe 'reader' role.\n\nImplements: blueprint secure-rbac\n\nChange-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc\n""}]",0,774308,e1cd1f49021b8aa81dc67fc6d691594daf158d20,30,3,7,5046,,,0,"Explicitly unset tempest_roles in devstack plugin

We need to do this in order to use dynamic credentials in tempest
without having the 'member' role added to personas we only want to have
the 'reader' role.

Implements: blueprint secure-rbac

Change-Id: I90d97c7181bd2d449615732a61bd3d8074e93adc
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/774308/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e17cf2a20eda7edc2c729380984a64df3611feda,secure-rbac-handle-members," # We do this to ensure tempest doesn't add more roles to the credentials we # use for testing because devstack sets this to include `member`, which # throws off the test results for project readers. iniset $TEMPEST_CONFIG auth tempest_roles ''",,4,0
openstack%2Fopenstack-ansible-os_adjutant~master~I9ff87abc0d4298e428b936243b5f73992958831d,openstack/openstack-ansible-os_adjutant,master,I9ff87abc0d4298e428b936243b5f73992958831d,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:21.000000000,2021-02-23 22:23:22.000000000,2021-02-23 22:15:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:24:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/5846076508d7e22feb3a4fea17dc982569133cd9', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I9ff87abc0d4298e428b936243b5f73992958831d'}]",0,772020,5846076508d7e22feb3a4fea17dc982569133cd9,12,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I9ff87abc0d4298e428b936243b5f73992958831d",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/20/772020/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5846076508d7e22feb3a4fea17dc982569133cd9,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Ftripleo-common~stable%2Ftrain~I5fa3bb41403620e8bd9521e3c0e61570e202148f,openstack/tripleo-common,stable/train,I5fa3bb41403620e8bd9521e3c0e61570e202148f,Add SITE_PACKAGES variable to horizon extend_start,MERGED,2021-02-18 14:46:02.000000000,2021-02-23 22:23:15.000000000,2021-02-23 22:18:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 14:46:02.000000000', 'files': ['container-images/kolla/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c24347cbbfb259506d4eed7fbc32a58158a30e97', 'message': 'Add SITE_PACKAGES variable to horizon extend_start\n\nThis change adds a missing export. Without this change the horizon\ndashboards are all broken becuase the functions are able to\ncorrectly copy the dashboards plugins to the appropriate locations.\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I5fa3bb41403620e8bd9521e3c0e61570e202148f\n(cherry picked from commit 8daeeef06733500efff45faf8f6a44ba0e48ecad)\n'}]",0,776444,c24347cbbfb259506d4eed7fbc32a58158a30e97,10,3,1,7353,,,0,"Add SITE_PACKAGES variable to horizon extend_start

This change adds a missing export. Without this change the horizon
dashboards are all broken becuase the functions are able to
correctly copy the dashboards plugins to the appropriate locations.

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I5fa3bb41403620e8bd9521e3c0e61570e202148f
(cherry picked from commit 8daeeef06733500efff45faf8f6a44ba0e48ecad)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/776444/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/horizon/extend_start.sh'],1,c24347cbbfb259506d4eed7fbc32a58158a30e97,dash-tcib,"SITE_PACKAGES=""/usr/lib/python${KOLLA_DISTRO_PYTHON_VERSION:-3}/site-packages""",,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I853bcf354f64ef88cec9e68ad5c123e4af786de3,openstack/tripleo-heat-templates,stable/train,I853bcf354f64ef88cec9e68ad5c123e4af786de3,pcs commands on host: rabbitmq,MERGED,2021-02-18 13:58:01.000000000,2021-02-23 22:21:23.000000000,2021-02-23 22:21:23.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 13:58:01.000000000', 'files': ['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60cd610f9d52c487e056904c25137ad65a1f9140', 'message': 'pcs commands on host: rabbitmq\n\nThis implements the creation of the rabbitmq bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: The init_bundle now has become the wait_bundle\nas it just waits for rabbitmq to be up and functional\n\nNB2: Slightly not 100% due to different context (missing\nI1873baab4325521dbcdc142462940ee3cf370c1b) and others\n\nNB3: We cherry-picked I0762b3ed7d881babfecc49b1a0e3798eb3efbddb\n     inside this review in order for the upgrade job to pass\n     (Make sure we noop the Rabbitmq_ providers)\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3\n(cherry picked from commit 29bc3de01dc39bb02eb7e7c27cc3661c591143bb)\n(cherry picked from commit 0ad2358067c0aff0bd36c1b31c8d9eaba9b3280c)\n'}]",0,776459,60cd610f9d52c487e056904c25137ad65a1f9140,15,4,1,20172,,,0,"pcs commands on host: rabbitmq

This implements the creation of the rabbitmq bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: The init_bundle now has become the wait_bundle
as it just waits for rabbitmq to be up and functional

NB2: Slightly not 100% due to different context (missing
I1873baab4325521dbcdc142462940ee3cf370c1b) and others

NB3: We cherry-picked I0762b3ed7d881babfecc49b1a0e3798eb3efbddb
     inside this review in order for the upgrade job to pass
     (Make sure we noop the Rabbitmq_ providers)

Related-Bug: #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Change-Id: I853bcf354f64ef88cec9e68ad5c123e4af786de3
(cherry picked from commit 29bc3de01dc39bb02eb7e7c27cc3661c591143bb)
(cherry picked from commit 0ad2358067c0aff0bd36c1b31c8d9eaba9b3280c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/776459/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,60cd610f9d52c487e056904c25137ad65a1f9140,train-pcshost," rabbitmq_wait_bundle: - 'file,file_line,concat,augeas,rabbitmq_policy,rabbitmq_user,rabbitmq_ready' - 'include tripleo::profile::pacemaker::rabbitmq_bundle' - name: RabbitMQ RPC HA Wrappers Step when: step|int == 2 block: &oslo_messaging_rpc_puppet_bundle - name: Rabbitmq rpc puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: oslo_messaging_rpc tripleo_ha_wrapper_resource_name: rabbitmq tripleo_ha_wrapper_bundle_name: rabbitmq-bundle tripleo_ha_wrapper_resource_state: Started tripleo_ha_wrapper_puppet_config_volume: rabbitmq tripleo_ha_wrapper_puppet_execute: '[""Rabbitmq_policy"", ""Rabbitmq_user""].each |String $val| { noop_resource($val) }; include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::rabbitmq_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: Rabbitmq rpc bundle post update when: step|int == 1 block: *oslo_messaging_rpc_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true - rabbitmq_wait_bundle"," rabbitmq_init_bundle: - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation,rabbitmq_policy,rabbitmq_user,rabbitmq_ready' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::rabbitmq_bundle' rabbitmq_restart_bundle: start_order: 4 config_volume: rabbitmq detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh oslo_messaging_rpc rabbitmq rabbitmq-bundle Started image: {get_param: ContainerRabbitmqImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/rabbitmq:/var/lib/kolla/config_files/src:ro - rabbitmq_init_bundle",78,57
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5ce8367363d535b71b01395b0bef4cf17c8935b5,openstack/tripleo-heat-templates,stable/train,I5ce8367363d535b71b01395b0bef4cf17c8935b5,pcs commands on host: redis bundle,MERGED,2021-02-18 13:21:19.000000000,2021-02-23 22:21:17.000000000,2021-02-23 22:21:17.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 13:21:19.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67e5d621ecd10b7e519b12faace38f0001899191', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nRelated-Bug: #1863442\n\nNB: Conflicts mainly due to context diffs\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n(cherry picked from commit 83d1cb585268177ef6f685e689d5aa34b24c8056)\n(cherry picked from commit 0eb998930011ee3fc13ecc188dbeb578f185b1ec)\n'}]",0,776431,67e5d621ecd10b7e519b12faace38f0001899191,15,4,1,20172,,,0,"pcs commands on host: redis bundle

This implements the creation of the redis bundle on the host.
The testing protocol used is documented in the depends-on.

The full rationale is contained in the LP bug.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

Related-Bug: #1863442

NB: Conflicts mainly due to context diffs

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5
(cherry picked from commit 83d1cb585268177ef6f685e689d5aa34b24c8056)
(cherry picked from commit 0eb998930011ee3fc13ecc188dbeb578f185b1ec)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/776431/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,67e5d621ecd10b7e519b12faace38f0001899191,train-pcshost," - name: Redis HA Wrappers Step when: step|int == 2 block: &redis_puppet_bundle - name: Redis puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: redis tripleo_ha_wrapper_resource_name: redis tripleo_ha_wrapper_bundle_name: redis-bundle tripleo_ha_wrapper_resource_state: Slave Master tripleo_ha_wrapper_puppet_config_volume: redis tripleo_ha_wrapper_puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::database::redis_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: Redis bundle post update when: step|int == 1 block: *redis_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true "," puppet_debug_enabled: {get_param: ConfigDebug} docker_config: step_2: map_merge: - redis_init_bundle: start_order: 1 detach: false net: host ipc: host user: root config_volume: 'redis_init_bundle' command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::redis_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: *redis_config_image volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} - redis_restart_bundle: start_order: 2 config_volume: redis detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh redis redis redis-bundle Slave Master image: {get_param: ContainerRedisConfigImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro - if: - internal_tls_enabled - redis_tls_proxy: start_order: 3 image: {get_param: ContainerRedisImage} net: host user: root restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/redis_tls_proxy.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro - /etc/pki/tls/certs/redis.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.crt:ro - /etc/pki/tls/private/redis.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/redis.key:ro - /var/lib/container-config-scripts/wait-port-and-run.sh:/wait-port-and-run.sh:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - {}",22,68
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370,openstack/tripleo-heat-templates,stable/train,Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370,pcs commands on host: mysql,MERGED,2021-02-18 13:28:33.000000000,2021-02-23 22:20:56.000000000,2021-02-23 22:20:56.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 13:28:33.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07d8f2082560498ef7529d789062f6108e3dc5c1', 'message': 'pcs commands on host: mysql\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: in this case we keep the container init_bundle (renamed to\nwait_bundle) around just use it to wait for galera to be up.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nNB: We also merged Ic6c65e6849368185177aeaa31d50f52761225f62\n    in this review so that the ussuri upgrade job can pass\n    (Make sure we noop the Mysql_ providers)\n\nNB: Some conflicts due to context differences\n\nChange-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370\nRelated-Bug: #1863442\n(cherry picked from commit da3d5e80562f7aa3d0039d44a2fd0a2f4c093cf4)\n(cherry picked from commit be1fee4af6a5ed7ef4eff4ede26f5d3666132398)\n'}]",0,776433,07d8f2082560498ef7529d789062f6108e3dc5c1,14,4,1,20172,,,0,"pcs commands on host: mysql

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: in this case we keep the container init_bundle (renamed to
wait_bundle) around just use it to wait for galera to be up.

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

NB: We also merged Ic6c65e6849368185177aeaa31d50f52761225f62
    in this review so that the ussuri upgrade job can pass
    (Make sure we noop the Mysql_ providers)

NB: Some conflicts due to context differences

Change-Id: Ie14819b66cecdb5a9cc6299b68a0cc70a7aa3370
Related-Bug: #1863442
(cherry picked from commit da3d5e80562f7aa3d0039d44a2fd0a2f4c093cf4)
(cherry picked from commit be1fee4af6a5ed7ef4eff4ede26f5d3666132398)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/776433/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,07d8f2082560498ef7529d789062f6108e3dc5c1,train-pcshost," mysql_wait_bundle: - 'file,file_line,concat,augeas,galera_ready,mysql_database,mysql_grant,mysql_user' - 'include tripleo::profile::pacemaker::database::mysql_bundle' - name: MySQL HA Wrappers Step when: step|int == 2 block: &mysql_puppet_bundle - name: Mysql puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: mysql tripleo_ha_wrapper_resource_name: galera tripleo_ha_wrapper_bundle_name: galera-bundle tripleo_ha_wrapper_resource_state: Master tripleo_ha_wrapper_puppet_config_volume: mysql tripleo_ha_wrapper_puppet_execute: '[""Mysql_datadir"", ""Mysql_user"", ""Mysql_database"", ""Mysql_grant"", ""Mysql_plugin""].each |String $val| { noop_resource($val) }; include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::database::mysql_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: Mysql bundle post update when: step|int == 1 block: *mysql_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true - mysql_wait_bundle"," mysql_init_bundle: - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation,galera_ready,mysql_database,mysql_grant,mysql_user' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::mysql_bundle' mysql_restart_bundle: start_order: 1 config_volume: mysql detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh mysql galera galera-bundle Master image: {get_param: ContainerMysqlImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/mysql:/var/lib/kolla/config_files/src:ro - mysql_init_bundle",26,19
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If5730dba4973a5927c84565b6a65398ea1d7072f,openstack/tripleo-heat-templates,stable/train,If5730dba4973a5927c84565b6a65398ea1d7072f,pcs commands on host: manila-share,MERGED,2021-02-18 14:04:05.000000000,2021-02-23 22:20:50.000000000,2021-02-23 22:20:50.000000000,"[{'_account_id': 6796}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 14:04:05.000000000', 'files': ['deployment/manila/manila-share-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4db5462608380db3bcdf418fcb5a67f05ce69a2e', 'message': 'pcs commands on host: manila-share\n\nThis implements the creation of the manila-share bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: Some conflicts due to context differences\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nDepends-On: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n(cherry picked from commit a1bee391361cde4345c2b78770865dab0278785e)\n(cherry picked from commit 06209fa28f35f968235fc96989a333fb950df850)\n'}]",0,776462,4db5462608380db3bcdf418fcb5a67f05ce69a2e,12,4,1,20172,,,0,"pcs commands on host: manila-share

This implements the creation of the manila-share bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: Some conflicts due to context differences

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Depends-On: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656

Change-Id: If5730dba4973a5927c84565b6a65398ea1d7072f
Related-Bug: #1863442
(cherry picked from commit a1bee391361cde4345c2b78770865dab0278785e)
(cherry picked from commit 06209fa28f35f968235fc96989a333fb950df850)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/776462/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-share-pacemaker-puppet.yaml'],1,4db5462608380db3bcdf418fcb5a67f05ce69a2e,train-pcshost," - name: Manila-Share HA Wrappers Step when: step|int == 5 block: &manila_share_puppet_bundle - name: Manila-Share puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: manila_share tripleo_ha_wrapper_resource_name: openstack-manila-share tripleo_ha_wrapper_bundle_name: openstack-manila-share tripleo_ha_wrapper_resource_state: _ Started tripleo_ha_wrapper_puppet_config_volume: manila tripleo_ha_wrapper_puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::manila::share_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: Manila-share bundle post update when: step|int == 1 block: *manila_share_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true "," puppet_debug_enabled: {get_param: ConfigDebug} step_5: manila_share_init_bundle: start_order: 0 detach: false net: host ipc: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '5' - 'pacemaker_constraint,file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::constraint::location' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::manila::share_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: ContainerManilaShareImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} manila_share_restart_bundle: start_order: 3 config_volume: manila detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh manila_share openstack-manila-share openstack-manila-share _ Started image: {get_param: ContainerManilaShareImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/manila:/var/lib/kolla/config_files/src:ro",22,45
openstack%2Fkayobe-config-dev~master~I02be84d079f3effe559bd501622642f1c9601b45,openstack/kayobe-config-dev,master,I02be84d079f3effe559bd501622642f1c9601b45,Reduce neutron RPC workers to 1,MERGED,2021-02-23 09:29:13.000000000,2021-02-23 22:19:48.000000000,2021-02-23 22:19:48.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2021-02-23 09:29:13.000000000', 'files': ['etc/kayobe/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/6e7e3ae18c92df78bab79d572cf60a954e80da19', 'message': 'Reduce neutron RPC workers to 1\n\nThis should reduce the memory overhead of these processes\n\nChange-Id: I02be84d079f3effe559bd501622642f1c9601b45\n'}]",0,777075,6e7e3ae18c92df78bab79d572cf60a954e80da19,13,4,1,14826,,,0,"Reduce neutron RPC workers to 1

This should reduce the memory overhead of these processes

Change-Id: I02be84d079f3effe559bd501622642f1c9601b45
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/75/777075/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla/globals.yml'],1,6e7e3ae18c92df78bab79d572cf60a954e80da19,,"openstack_service_rpc_workers: ""1""",,1,0
openstack%2Ftripleo-heat-templates~master~Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,openstack/tripleo-heat-templates,master,Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,Use include task for host prep tasks,MERGED,2021-02-22 14:09:34.000000000,2021-02-23 22:19:07.000000000,2021-02-23 22:19:07.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 14:09:34.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73043121e3e05d7ab67503752165da53431a9b34', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n'}]",0,776938,73043121e3e05d7ab67503752165da53431a9b34,9,5,1,14985,,,0,"Use include task for host prep tasks

Import tasks causes the tasks always to be pulled in and just skipped at
run time. This is terribly slow with more roles even when not running
against those hosts.  A similar effort was applied to the update process
I2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used
here.

Change-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/776938/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,73043121e3e05d7ab67503752165da53431a9b34,include-host-prep, - include_tasks: {{role.name}}/host_prep_tasks.yaml, - import_tasks: {{role.name}}/host_prep_tasks.yaml,1,1
openstack%2Ftripleo-common~stable%2Fqueens~Iefb3d6b3c4800e6948d44c9419f6690d5220a399,openstack/tripleo-common,stable/queens,Iefb3d6b3c4800e6948d44c9419f6690d5220a399,[queens] Don't use service_facts,MERGED,2021-02-22 12:04:12.000000000,2021-02-23 22:19:02.000000000,2021-02-23 22:19:02.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-22 12:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eccee6ffddfc11f297bd941e9be146e3aff31965', 'message': ""[queens] Don't use service_facts\n\nDon't use service_facts to check if NetworkManager is enabled.\nWe're removing facts usage as it has performance issues and\nansible 2.6 service_facts module does not have 'status'.\n\nCloses-Bug: #1916459\nChange-Id: Iefb3d6b3c4800e6948d44c9419f6690d5220a399\n""}, {'number': 2, 'created': '2021-02-22 15:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/be81fff6ba04a7dbc13d08d877f47775eda9cafb', 'message': ""[queens] Don't use service_facts\n\nDon't use service_facts to check if NetworkManager is enabled.\nWe're removing facts usage as it has performance issues and\nansible 2.6 service_facts module does not have 'status'.\n\nCloses-Bug: #1916459\nChange-Id: Iefb3d6b3c4800e6948d44c9419f6690d5220a399\n""}, {'number': 3, 'created': '2021-02-23 02:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11f143b5c48712064635ae18d3c23d84a3b43267', 'message': ""[queens] Don't use service_facts\n\nDon't use service_facts to check if NetworkManager is enabled.\nWe're removing facts usage as it has performance issues and\nansible 2.6 service_facts module does not have 'status'.\n\nCloses-Bug: #1916459\nChange-Id: Iefb3d6b3c4800e6948d44c9419f6690d5220a399\n""}, {'number': 4, 'created': '2021-02-23 05:38:18.000000000', 'files': ['roles/tripleo-bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3183235a93075dbc5179349bedb57295c4207b0', 'message': ""[queens] Don't use service_facts\n\nDon't use service_facts to check if NetworkManager is enabled.\nWe're removing facts usage as it has performance issues and\nansible 2.6 service_facts module does not have 'status'.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777051\nCloses-Bug: #1916459\nChange-Id: Iefb3d6b3c4800e6948d44c9419f6690d5220a399\n""}]",0,776925,b3183235a93075dbc5179349bedb57295c4207b0,23,5,4,8833,,,0,"[queens] Don't use service_facts

Don't use service_facts to check if NetworkManager is enabled.
We're removing facts usage as it has performance issues and
ansible 2.6 service_facts module does not have 'status'.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777051
Closes-Bug: #1916459
Change-Id: Iefb3d6b3c4800e6948d44c9419f6690d5220a399
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/776925/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-bootstrap/tasks/main.yml'],1,eccee6ffddfc11f297bd941e9be146e3aff31965,bug/1916459,- name: Check NetworkManager status shell: systemctl is-active NetworkManager.service || systemctl is-enabled NetworkManager.service failed_when: false become: true register: network_manager_enabled - network_manager_enabled.rc defined - network_manager_enabled.rc == 0,"- name: Populate service facts service_facts: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version | int >= 7 - ""'NetworkManager.service' in ansible_facts.services"" - ansible_facts.services['NetworkManager.service']['status'] == 'enabled'",7,6
openstack%2Fpuppet-pacemaker~master~Ie07b37581e844b64063e5e501f09edf4c8ef24e3,openstack/puppet-pacemaker,master,Ie07b37581e844b64063e5e501f09edf4c8ef24e3,Make pcs resource config/show work depending on the installed pcs version,MERGED,2021-02-22 20:34:22.000000000,2021-02-23 22:18:46.000000000,2021-02-23 22:18:46.000000000,"[{'_account_id': 9592}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 20:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b47316430dd473e5478aea9e528b73102e981590', 'message': 'WIP Make pcs resource config/show work depending on the installed pcs version\n\nWhen we added Id8807a644a6d53f89f99b9db988cbbca99abb7ab we were under\nthe impression that train and centos-7 was not a thing. Since centos-7\npcs does not have the pcs resource config it is likely we will fail to\nrecognize existing resources.\n\nChange-Id: Ie07b37581e844b64063e5e501f09edf4c8ef24e3\n'}, {'number': 2, 'created': '2021-02-23 11:29:58.000000000', 'files': ['lib/puppet/provider/pcmk_bundle/default.rb', 'lib/puppet/provider/pcmk_common.rb', 'lib/puppet/provider/pcmk_remote/default.rb', 'lib/puppet/provider/pcmk_resource/default.rb', 'lib/puppet/provider/pcmk_stonith/default.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/6e272bf9ec7082a9cb935c6dfa53b2eff0ef5e74', 'message': ""Make pcs resource config/show work depending on the installed pcs version\n\nWhen we added Id8807a644a6d53f89f99b9db988cbbca99abb7ab we were under\nthe impression that train and centos-7 was not a thing. Since centos-7\npcs does not have the pcs resource config it is likely we will fail to\nrecognize existing resources.\n\nThis can be removed once we stop supporting centos 7, but for now let's\nsupport both transparently.\n\nTested on both centos-7 env where it was failing and on a centos-8 train\ndeployment.\n\nCloses-Bug: #1915519\n\nChange-Id: Ie07b37581e844b64063e5e501f09edf4c8ef24e3\n""}]",0,777000,6e272bf9ec7082a9cb935c6dfa53b2eff0ef5e74,10,4,2,20172,,,0,"Make pcs resource config/show work depending on the installed pcs version

When we added Id8807a644a6d53f89f99b9db988cbbca99abb7ab we were under
the impression that train and centos-7 was not a thing. Since centos-7
pcs does not have the pcs resource config it is likely we will fail to
recognize existing resources.

This can be removed once we stop supporting centos 7, but for now let's
support both transparently.

Tested on both centos-7 env where it was failing and on a centos-8 train
deployment.

Closes-Bug: #1915519

Change-Id: Ie07b37581e844b64063e5e501f09edf4c8ef24e3
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/00/777000/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/pcmk_bundle/default.rb', 'lib/puppet/provider/pcmk_common.rb', 'lib/puppet/provider/pcmk_remote/default.rb', 'lib/puppet/provider/pcmk_resource/default.rb', 'lib/puppet/provider/pcmk_stonith/default.rb']",5,b47316430dd473e5478aea9e528b73102e981590,, cmd = 'stonith ' + pcs_config_or_show() + ' ' + @resource[:name] + ' > /dev/null 2>&1', cmd = 'stonith config ' + @resource[:name] + ' > /dev/null 2>&1',16,5
openstack%2Fneutron~master~Ie36cb025540c158fbbed4126be5d654888715300,openstack/neutron,master,Ie36cb025540c158fbbed4126be5d654888715300,add_fake_chassis() may need to create a Chassis_Private,MERGED,2021-02-05 19:10:04.000000000,2021-02-23 22:14:01.000000000,2021-02-16 21:16:35.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 19:10:04.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d452e7868756935b074cc2026262e588e9523413', 'message': ""add_fake_chassis() may need to create a Chassis_Private\n\nIf the Chassis_Private table exists in the schema, add_fake_chassis\nwill need to create it since we aren't running ovn-controller.\n\nCloses-Bug: #1914754\nChange-Id: Ie36cb025540c158fbbed4126be5d654888715300\n""}]",0,774298,d452e7868756935b074cc2026262e588e9523413,19,4,1,5756,,,0,"add_fake_chassis() may need to create a Chassis_Private

If the Chassis_Private table exists in the schema, add_fake_chassis
will need to create it since we aren't running ovn-controller.

Closes-Bug: #1914754
Change-Id: Ie36cb025540c158fbbed4126be5d654888715300
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/774298/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,d452e7868756935b074cc2026262e588e9523413,," chassis = self.sb_api.chassis_add( if self.sb_api.is_table_present('Chassis_Private'): self.sb_api.db_create( 'Chassis_Private', name=name, external_ids=external_ids, chassis=chassis.uuid).execute(check_error=True)", self.sb_api.chassis_add(,5,1
openstack%2Fneutron~master~Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,openstack/neutron,master,Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,Convert OvnDbNotifyHandler rows to frozen rows,MERGED,2021-02-05 19:01:39.000000000,2021-02-23 22:13:13.000000000,2021-02-16 12:18:27.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 19:01:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/27255fce30f570b549b026346fb10b7d0dca9039', 'message': 'Convert OvnDbNotifyHandler rows to frozen rows\n\nIn I87489596e2ff224431f7e83f43a1725172ee0953, the intent was to\nmake sure all event rows were converted to ""frozen"" rows to avoid\nrace conditions. Since OnvDbNotifyHandler.notify() does not call\nsuper(), then it is necessary to do this conversion ourselves.\n\nRelated-Bug: #1896816\nChange-Id: Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227\n'}]",0,774297,27255fce30f570b549b026346fb10b7d0dca9039,35,4,1,5756,,,0,"Convert OvnDbNotifyHandler rows to frozen rows

In I87489596e2ff224431f7e83f43a1725172ee0953, the intent was to
make sure all event rows were converted to ""frozen"" rows to avoid
race conditions. Since OnvDbNotifyHandler.notify() does not call
super(), then it is necessary to do this conversion ourselves.

Related-Bug: #1896816
Change-Id: Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/774297/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'],1,27255fce30f570b549b026346fb10b7d0dca9039,, row = idlutils.frozen_row(row),,1,0
openstack%2Fneutron~master~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,master,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,MERGED,2020-09-23 20:36:42.000000000,2021-02-23 22:11:39.000000000,2021-01-10 19:35:41.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26159}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-23 20:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3133799602106a74832f3cc0294a60679edaec83', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch adds a local copy of frozen_row() if it isn\'t present in\novsdbapp and uses it.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 2, 'created': '2020-09-24 15:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b277bc8cf1fc8a2968904b0de0d3ecfdaf74d380', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch adds a local copy of frozen_row() if it isn\'t present in\novsdbapp and uses it. It also adds IndexEntryClass since the\nlower constraint on OVS is 2.8.0 and that was added in 2.10.0.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 3, 'created': '2020-09-29 17:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bb7cf34624e94033e6e06ad83618a049ad2dc60', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch adds a local copy of frozen_row() if it isn\'t present in\novsdbapp and uses it. It also adds IndexEntryClass since the\nlower constraint on OVS is 2.8.0 and that was added in 2.10.0.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 4, 'created': '2020-09-30 21:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9080a0a711746de4fa7dc6ee41de6ed5c7e77383', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch adds a local copy of frozen_row() if it isn\'t present in\novsdbapp and uses it. It also adds IndexEntryClass since the\nlower constraint on OVS is 2.8.0 and that was added in 2.10.0.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 5, 'created': '2020-09-30 21:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9680c9b0edd845a8320fd6459fba44778acea110', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch adds a local copy of frozen_row() if it isn\'t present in\novsdbapp and uses it. It also adds IndexEntryClass since the\nlower constraint on OVS is 2.8.0 and that was added in 2.10.0.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 6, 'created': '2020-10-15 02:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4cc795f5a3198b196c1cdf54904e3af175e8b21', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 7, 'created': '2020-10-15 19:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/333aed5e2b7e52d7ae219ec666679fea232232fd', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nDepends-On: I39e6e56995437385ed8b5b6fe0711ad0df324133\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 8, 'created': '2020-10-15 21:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4227143c208f480d4153ae980f2e4020a903733', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nDepends-On: I39e6e56995437385ed8b5b6fe0711ad0df324133\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 9, 'created': '2020-10-15 21:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a11214e8583a882b7f08fd80bbc5a201d0f645d6', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nDepends-On: I39e6e56995437385ed8b5b6fe0711ad0df324133\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 10, 'created': '2020-10-19 13:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af9265bf65159dfe395300a8563697e904b7c891', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nDepends-On: I39e6e56995437385ed8b5b6fe0711ad0df324133\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 11, 'created': '2020-10-19 15:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38235c4c67e2d7897a7fe3e97c48bf2d74fccbfc', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 12, 'created': '2020-10-21 15:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b72c931620208c671a51604f6af563606711a3a', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 13, 'created': '2020-10-22 16:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ceb6878c272726c731b53155f7c59f465920b36c', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 14, 'created': '2020-11-02 17:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6af7e80a70d1d93b71eeb0541783999ed63d7301', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 15, 'created': '2020-11-18 18:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ec2fa1a632def76c27a10112cf93d185b785836', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 16, 'created': '2020-11-19 10:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78edb26b08d2fccc1682df5b14a6bc26eb6cbdd0', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 17, 'created': '2020-11-20 14:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8283ef2dcf12820d184c22a0ed2debb378991b10', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 18, 'created': '2020-11-23 16:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd4404983c283464934be4f5d8cac51b9de2c510', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 19, 'created': '2020-12-09 15:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f583c5a099597648a4aa98a90998eb29ba4cb95a', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 20, 'created': '2020-12-09 22:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dc4adf1d50fb4b0c9eae6e6dd48978e8ac937fe', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 21, 'created': '2020-12-10 01:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38eb51bba1af8e6e6e3a8a04db04baf864f04037', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 22, 'created': '2020-12-10 15:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a12a7033bb1f5169a959d2583c1a5faf9f46dde', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 23, 'created': '2020-12-15 20:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a5848071b90547eea06fa24564a957f9f3488bd', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 24, 'created': '2020-12-16 19:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98764c9ce81068c01bb655a924e9ce222736b2b2', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 25, 'created': '2020-12-19 22:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b87d8e31c4653b44ed47814582158fe4e9176687', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 26, 'created': '2021-01-04 14:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7ed9fd41c6c4a44a59c59b8f3423a900c86be80', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 27, 'created': '2021-01-04 15:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9659d0225e12b2321fa283e581708e3764cf03fb', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}, {'number': 28, 'created': '2021-01-10 05:13:34.000000000', 'files': ['requirements.txt', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab6d4afd954d3afb0c07287915077b96121dd0fe', 'message': 'Avoid race condition when processing RowEvents\n\nIn https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability\nto pass a ""frozen"" object to the RowEventHandler so that if a\ntransaction is started from the main thread that changes the row,\nit won\'t step on the values that the Event is trying to process.\n\nThis patch switches to using the ovs_idl backend-specific\nRowEventHandler which converts the row to a frozen_row.\n\nChange-Id: I87489596e2ff224431f7e83f43a1725172ee0953\nRelated-Bug: #1896816\n'}]",5,753847,ab6d4afd954d3afb0c07287915077b96121dd0fe,302,13,28,5756,,,0,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch switches to using the ovs_idl backend-specific
RowEventHandler which converts the row to a frozen_row.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/753847/15 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'],1,3133799602106a74832f3cc0294a60679edaec83,bug/1901527,"if not hasattr(idlutils, 'frozen_row'): def frozen_row(row): return row._table.rows.IndexEntry( uuid=row.uuid, **{col: getattr(row, col) for col in row._table.columns if hasattr(row, col)}) idlutils.frozen_row = frozen_row def notify(self, event, row, updates=None): row = idlutils.frozen_row(row) super(OvnDbNotifyHandler, self).notify(event, row, updates) row = idlutils.frozen_row(row)",,15,0
openstack%2Fneutron~master~I4581848ad3e176fa576f80a752f2f062c974c2d1,openstack/neutron,master,I4581848ad3e176fa576f80a752f2f062c974c2d1,Add support for deleting ml2/ovn agents,MERGED,2020-09-19 14:25:32.000000000,2021-02-23 22:09:52.000000000,2021-01-13 17:22:47.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-09-19 14:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0861caa2cdc37efece87e028ccf262615c4b18a4', 'message': '[WIP] Optimize ml2/ovn agent api implementation\n\nJust checking this code in for the weekend. It appears to work\non my machine, but there is still a bunch of cleanup to do.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Either break out delete solution into parent \'delete\' patch or\n  squash with this patch\n* Having ChassisAgentDeleteEvent and AgentDeleteEvent is confusing\n* Make Agent.alive\'s dependency on Controller prettier\n* Probably add AgentStats class back instead of directly modifying\n  AGENTS\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* See if there is anything less hacky than SB_Global.external_ids\n  delete_agent event for updating cache across workers\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 2, 'created': '2020-09-19 14:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54e57e398cca9278028897b40c9225fd86fb2792', 'message': '[WIP] Optimize ml2/ovn agent api implementation\n\nJust checking this code in for the weekend. It appears to work\non my machine, but there is still a bunch of cleanup to do.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Either break out delete solution into parent \'delete\' patch or\n  squash with this patch\n* Having ChassisAgentDeleteEvent and AgentDeleteEvent is confusing\n* Make Agent.alive\'s dependency on Controller prettier\n* Probably add AgentStats class back instead of directly modifying\n  AGENTS\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* See if there is anything less hacky than SB_Global.external_ids\n  delete_agent event for updating cache across workers\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nDepends-On: Ib130e532e2179cc213ce1715c92484acc0984025\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 3, 'created': '2020-09-19 18:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b3229cb321caf987579894fabff9dadd698c392', 'message': '[WIP] Optimize ml2/ovn agent api implementation\n\nJust checking this code in for the weekend. It appears to work\non my machine, but there is still a bunch of cleanup to do.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Either break out delete solution into parent \'delete\' patch or\n  squash with this patch\n* Having ChassisAgentDeleteEvent and AgentDeleteEvent is confusing\n* Make Agent.alive\'s dependency on Controller prettier\n* Probably add AgentStats class back instead of directly modifying\n  AGENTS\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* See if there is anything less hacky than SB_Global.external_ids\n  delete_agent event for updating cache across workers\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 4, 'created': '2020-09-21 23:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc88983f07bd40974b467cc0f4f79fbae61aea39', 'message': '[WIP] Optimize ml2/ovn agent api implementation\n\nJust checking this code in for the weekend. It appears to work\non my machine, but there is still a bunch of cleanup to do.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Either break out delete solution into parent \'delete\' patch or\n  squash with this patch\n* Having ChassisAgentDeleteEvent and AgentDeleteEvent is confusing\n* Make Agent.alive\'s dependency on Controller prettier\n* Probably add AgentStats class back instead of directly modifying\n  AGENTS\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* See if there is anything less hacky than SB_Global.external_ids\n  delete_agent event for updating cache across workers\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 5, 'created': '2020-09-22 12:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3aabac9fc90aab058b4769086ee139f7297b7b07', 'message': '[WIP] Optimize ml2/ovn agent api implementation\n\nJust checking this code in for the weekend. It appears to work\non my machine, but there is still a bunch of cleanup to do.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Either break out delete solution into parent \'delete\' patch or\n  squash with this patch\n* Having ChassisAgentDeleteEvent and AgentDeleteEvent is confusing\n* Make Agent.alive\'s dependency on Controller prettier\n* Probably add AgentStats class back instead of directly modifying\n  AGENTS\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* See if there is anything less hacky than SB_Global.external_ids\n  delete_agent event for updating cache across workers\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 6, 'created': '2020-09-30 21:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3093b398c5ab7eef3ee837a06058e98b4ce30651', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 7, 'created': '2020-09-30 21:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0427a5171dd7e3b6d737208b4a6416cbefb02ec5', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 8, 'created': '2020-10-15 21:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1df1a5793d413693f575524e631ba7e706191309', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 9, 'created': '2020-10-15 21:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/418e8688eac83a7113b631352cd9bc4b644d6dd9', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 10, 'created': '2020-10-21 15:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b888a6b57f4434b30d21bd7cb9a20e9beab5d2bd', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 11, 'created': '2020-10-21 15:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/903c3e8dd87ec978cda827df6629699c4e2f633c', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 12, 'created': '2020-10-26 14:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/543670180cced04e2ce745c687d0752c8a98287f', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 13, 'created': '2020-10-26 15:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/057b80af91c588a75e1eefc614ef0c9dfb3070fc', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nTODO:\n* Make Agent.alive\'s dependency on Controller prettier\n* Go through neutron_agent.py and make sure it fits well with new\n  design\n* Make some tests. Basically need to test combination of\n  - ovn-controller up, stopped gracefully, kill -9\'d\n  - metadata agent up, down\n  - delete controller, metadata, non-ovn agents (in each ordering)\n  - do agent-lists across multiple servers verifying they all\n    return the same results in all cases\n* Write some docs, as this is a bit more complex than it seems\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 14, 'created': '2020-10-27 14:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a646d2f9322fffe1ed02a10a6d6e970fd2245f1e', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 15, 'created': '2020-10-28 14:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a772b5e31cbf7ecccb0cf1d185149e9d591514a9', 'message': '[OVN] Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 16, 'created': '2020-11-02 17:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fea2c1762f4a376b8ceb938bd9c039b037650441', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 17, 'created': '2020-11-03 15:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/368e25f0116eee934332c76516e11dce3c1d9c87', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 18, 'created': '2020-11-03 17:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adb024ec40f7e4c414d6ed5193d739bf1dc23f89', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 19, 'created': '2020-11-03 23:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5da54920f5413a4ef8161c6bf3131812843b16b1', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 20, 'created': '2020-11-04 16:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba47be91d0e1653fae3a28097cc09a5d98fca8b6', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 21, 'created': '2020-11-18 18:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79d901d6743f2b2ab5b75d4d6c51fc742d2e2c26', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 22, 'created': '2020-11-23 16:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71280c2c344840481333b44ef0eda9cbd5ed978c', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 23, 'created': '2020-11-24 16:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eeb0f4321223ca1bef104870f4c792987a3efc12', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 24, 'created': '2020-11-24 18:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85937a5f01da90970c2ed6d2819653b3bf6ad0b7', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 25, 'created': '2021-01-04 15:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26e50a58dc00d5cc8962eeb8dba4265df4dfa382', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 26, 'created': '2021-01-04 17:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65f4dfe4e85b61aa767b232c012f70db848790e6', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 27, 'created': '2021-01-10 22:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/399d508f7711e595fd578c9745c4e849f2068186', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 28, 'created': '2021-01-10 23:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0e53d22c242e156cfd3718d9c60a9b13ee3d203', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}, {'number': 29, 'created': '2021-01-12 15:06:27.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/support-deleting-ovn-agents-0a5635d9078498ba.yaml', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/da3ce7319866e8dc874d405e91f9af160e2c3d31', 'message': 'Add support for deleting ml2/ovn agents\n\nThis adds support for deleting OVN controller/metadata agents.\nBehavior is undefined if the agents are still actually up as per\nthe Agent API docs.\n\nAs part of this, it is necessary to be able to tell all workers\nthat the agent is gone. This can\'t be done by deleting the\nChassis, because ovn-controller deletes the Chassis if it is\nstopped gracefully and we need to still display those agents as\ndown until ovn-controller is restarted. This also means we can\'t\nwrite a value to the Chassis marking the agent as \'deleted\'\nbecause the Chassis may not be there. And of course you can\'t\nuse the cache because then other workers won\'t see that the\nagent is deleted.\n\nDue to the hash ring implementation, we also cannot naively just\nsend some pre-defined event that all workers can listen for to\nupdate their status of the agent. Only one worker would process\nthe event. So we need some kind of GLOBAL event type that is\nprocessed by all workers.\n\nWhen the hash ring implementation was done, the agent API\nimplementation was redesigned to work around moving from having\na single OVN Worker to having distributed events. That\nimplementation relied on marking the agents \'alive\' in the\nOVSDB. With large numbers of Chassis entries, this induces\nsignificant load, with 2 DB writes per Chassis per\ncfg.CONF.agent_down_time / 2 seconds (37 by default).\n\nThis patch reverts that change and goes back to using events\nto store agent information in the cache, but adds support for\n""GLOBAL"" events that are run on each worker that uses a particular\nconnection.\n\nChange-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1\n'}]",36,752795,da3ce7319866e8dc874d405e91f9af160e2c3d31,166,13,29,5756,,,0,"Add support for deleting ml2/ovn agents

This adds support for deleting OVN controller/metadata agents.
Behavior is undefined if the agents are still actually up as per
the Agent API docs.

As part of this, it is necessary to be able to tell all workers
that the agent is gone. This can't be done by deleting the
Chassis, because ovn-controller deletes the Chassis if it is
stopped gracefully and we need to still display those agents as
down until ovn-controller is restarted. This also means we can't
write a value to the Chassis marking the agent as 'deleted'
because the Chassis may not be there. And of course you can't
use the cache because then other workers won't see that the
agent is deleted.

Due to the hash ring implementation, we also cannot naively just
send some pre-defined event that all workers can listen for to
update their status of the agent. Only one worker would process
the event. So we need some kind of GLOBAL event type that is
processed by all workers.

When the hash ring implementation was done, the agent API
implementation was redesigned to work around moving from having
a single OVN Worker to having distributed events. That
implementation relied on marking the agents 'alive' in the
OVSDB. With large numbers of Chassis entries, this induces
significant load, with 2 DB writes per Chassis per
cfg.CONF.agent_down_time / 2 seconds (37 by default).

This patch reverts that change and goes back to using events
to store agent information in the cache, but adds support for
""GLOBAL"" events that are run on each worker that uses a particular
connection.

Change-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/752795/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,0861caa2cdc37efece87e028ccf262615c4b18a4,bug/1901527,"def get_agents(self, context, filters=None, fields=None, _driver=None): _driver.ping_all_chassis() for agent in n_agent.AGENTS.values(): agent_dict = agent.as_dict() if all(agent_dict[k] in v for k, v in filters.items()): agent_list.append(agent_dict) try: agent = n_agent.AGENTS[id] return agent.as_dict() except KeyError: raise n_exc.agent.AgentNotFound(id=id) # If ovn-controller is up, the Chassis will be recreated and so the agent # will still show as up. The recreated Chassis will cause all kinds of # events to fire. But again, undefined behavior. _driver._sb_ovn.chassis_del(chassis_name, if_exists=True).execute( check_error=True) # Send a specific event that all API workers can get to delete the agent # from their caches. Ideally we could send a single transaction that both # created and deleted the key, but alas python-ovs is too ""smart"" _driver._sb_ovn.db_set( 'SB_Global', '.', ('external_ids', {'delete_agent': str(id)})).execute( _driver._sb_ovn.db_remove( 'SB_Global', '.', 'external_ids', 'delete_agent', if_exists=True).execute(check_error=True)","from ovsdbapp.backend.ovs_idl import idlutilsAGENTS = {} # AGENTS must be populated after fork so if ovn-controller is stopped # before a worker handles a get_agents request, we still show agents populate_agents(self) def agent_alive(self, agent, update_db): # Allow a maximum of 1 difference between expected and read values # to avoid false positives. if self._nb_ovn.nb_global.nb_cfg - agent.nb_cfg <= 1: if update_db: self.mark_agent_alive(agent) return True now = timeutils.utcnow(with_timezone=True) if (now - agent.updated_at).total_seconds() < cfg.CONF.agent_down_time: # down, but not yet timed out return True return False def mark_agent_alive(self, agent): # Update the time of our successful check value = timeutils.utcnow(with_timezone=True).isoformat() self._sb_ovn.db_set( self.agent_chassis_table, agent.chassis_private.uuid, ('external_ids', {agent.key: value})).execute(check_error=True) def agents_from_chassis(self, chassis_private, update_db=True): agent_dict = {} # For each Chassis there will possibly be a Metadata agent and either # a Controller or Controller Gateway agent. for agent in n_agent.NeutronAgent.agents_from_chassis(chassis_private): if not agent.agent_id: continue alive = self.agent_alive(agent, update_db) agent_dict[agent.agent_id] = agent.as_dict(alive) return agent_dict def populate_agents(driver): for ch in driver._sb_ovn.tables[driver.agent_chassis_table].rows.values(): # update the cache, rows are hashed on uuid but it is the name that # stays consistent across ovn-controller restarts AGENTS.update({ch.name: ch}) def get_agents(self, context, filters=None, fields=None, _driver=None): update_db = _driver.ping_all_chassis() populate_agents(_driver) for ch in AGENTS.values(): for agent in _driver.agents_from_chassis(ch, update_db).values(): if all(agent[k] in v for k, v in filters.items()): agent_list.append(agent) chassis = None try: # look up Chassis by *name*, which the id attribute is chassis = _driver._sb_ovn.lookup(_driver.agent_chassis_table, id) except idlutils.RowNotFound: # If the UUID is not found, check for the metadata agent ID for ch in _driver._sb_ovn.tables[ _driver.agent_chassis_table].rows.values(): metadata_agent_id = ch.external_ids.get( ovn_const.OVN_AGENT_METADATA_ID_KEY) if id == metadata_agent_id: chassis = ch break else: raise n_exc.agent.AgentNotFound(id=id) return _driver.agents_from_chassis(chassis)[id] if agent['agent_type'] == ovn_const.OVN_METADATA_AGENT: # Just delete the external_id that identifies metadata agent. The only # way this will ever come back is if the Chassis is recreated, which # will happen if ovn-controller is restarted, or if the metadata agent # is restarted. _driver._sb_ovn.db_remove( _driver.agent_chassis_table, chassis_name, 'external_ids', ovn_const.OVN_AGENT_METADATA_ID_KEY).execute( check_error=True) else: # If ovn-controller is up, the Chassis will be recreated and so the # agent will still show as up. The recreated Chassis will cause # all kinds of events to fire. But again, undefined behavior. Also, # deleting the chassis for the controller agent will remove the # metadata agent as well. _driver._sb_ovn.chassis_del(chassis_name, if_exists=True).execute( del AGENTS[chassis_name]",216,136
openstack%2Fnova~master~I9ccbbf3be8efc65fe7f480ad545fb5fc70767988,openstack/nova,master,I9ccbbf3be8efc65fe7f480ad545fb5fc70767988,FUP: Catch and reraise routed nets exception,MERGED,2021-02-19 18:23:24.000000000,2021-02-23 22:06:39.000000000,2021-02-23 22:04:14.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 18:23:24.000000000', 'files': ['nova/exception.py', 'nova/scheduler/request_filter.py', 'nova/tests/functional/test_routed_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c35a5905e03f7d45c3d99ceccdfffc67a171bd7', 'message': 'FUP: Catch and reraise routed nets exception\n\nBased on review feedback, we prefer to have the exception for\nrouted networks to not be prefilter-specific and just reraise\nwith the right exception type in the prefilter.\n\nChange-Id: I9ccbbf3be8efc65fe7f480ad545fb5fc70767988\n'}]",1,776694,5c35a5905e03f7d45c3d99ceccdfffc67a171bd7,18,4,1,7166,,,0,"FUP: Catch and reraise routed nets exception

Based on review feedback, we prefer to have the exception for
routed networks to not be prefilter-specific and just reraise
with the right exception type in the prefilter.

Change-Id: I9ccbbf3be8efc65fe7f480ad545fb5fc70767988
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/776694/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/scheduler/request_filter.py', 'nova/tests/functional/test_routed_networks.py']",3,5c35a5905e03f7d45c3d99ceccdfffc67a171bd7,bp/routed-networks-scheduling," expected_subnet_id = self.neutron.subnet_for_segment_id_2['id'] expected_segment_id = self.neutron.segment_id_2['id'] mock.ANY, expected_segment_id) 'Aggregates not found for the subnet %s' % expected_subnet_id,"," exp_segment_id = self.neutron.segment_id_2['id'] mock.ANY, exp_segment_id) 'Failed to find aggregate related to segment %s' % exp_segment_id,",19,8
openstack%2Fopenstack-ansible~master~Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01,openstack/openstack-ansible,master,Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01,Update Gnocchi with Ceph and Redis documentation.,MERGED,2021-01-26 10:34:11.000000000,2021-02-23 21:58:52.000000000,2021-02-23 21:54:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-26 10:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0be988c0165f76b7716563bda28bb338fae43887', 'message': 'Update Gnocchi with Ceph and Redis documentation.\n\nChange-Id: Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01\n'}, {'number': 2, 'created': '2021-01-29 09:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1340840bb5fe74603345282a3fd5b3dc20635f88', 'message': 'Update Gnocchi with Ceph and Redis documentation.\n\nChange-Id: Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01\n'}, {'number': 3, 'created': '2021-01-29 09:30:49.000000000', 'files': ['doc/source/user/prod/gnocchi_redis.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d16890c6d465350f42dd0ccb0915977c0eea67f9', 'message': 'Update Gnocchi with Ceph and Redis documentation.\n\nChange-Id: Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01\n'}]",2,772494,d16890c6d465350f42dd0ccb0915977c0eea67f9,15,3,3,29605,,,0,"Update Gnocchi with Ceph and Redis documentation.

Change-Id: Ibd8a5b491bf9a0ba5ecc631e3a2a2a83d85dbe01
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/772494/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/prod/gnocchi_redis.rst'],1,0be988c0165f76b7716563bda28bb338fae43887,," # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis,keystone]"" - ""gnocchi[mysql,ceph,redis,keystone]"" redis_url: redis://{{ hostvars[groups['redis-master'][0]]['ansible_default_ipv4']['address'] }}:{{ hostvars[groups['redis-master'][0]]['redis_sentinel_port'] }}?sentinel=master01{% for host in groups['redis-slave'] %}&sentinel_fallback={{ hostvars[host]['ansible_default_ipv4']['address'] }}:{{ hostvars[host]['redis_sentinel_port'] }}{% endfor %}&db=0 - python3-dev - librados-dev - python3-rados - python3-redis - libsystemd-dev # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis,keystone]"" - ""gnocchi[mysql,ceph,redis,keystone]"" - systemd-python # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis,keystone]"" - ""gnocchi[mysql,ceph,redis,keystone]"" - systemd-python"," # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis]"" - ""gnocchi[mysql,ceph,redis]"" redis_url: redis://{{ hostvars[groups['redis-master'][0]]['ansible_default_ipv4']['address'] }}:{{ hostvars[groups['redis-master'][0]]['redis_sentinel_port'] }}?sentinel=master01{% for host in groups['redis-slave'] %}&sentinel_fallback={{ hostvars[host]['ansible_default_ipv4']['address'] }}:{{ hostvars[host]['redis_sentinel_port'] }}{% endfor %} - python-dev - python-rados - python-redis # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis]"" - ""gnocchi[mysql,ceph,redis]"" # - ""gnocchi[mysql,ceph,ceph_alternative_lib,redis]"" - ""gnocchi[mysql,ceph,redis]""",14,10
openstack%2Fopenstack-ansible~master~If4402ef877f8b627237b6e9016089c134be72da5,openstack/openstack-ansible,master,If4402ef877f8b627237b6e9016089c134be72da5,Add bind mount of /opt/cache/files to all containers in CI,MERGED,2021-02-18 14:14:12.000000000,2021-02-23 21:57:17.000000000,2021-02-23 21:54:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-18 14:14:12.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/029ec6e96302a440a3cc288d8c8ab1b2c4f33673', 'message': 'Add bind mount of /opt/cache/files to all containers in CI\n\nThis is needed so that the task which downloads the cirros\nimage in the utility container for LXC jobs will find the\ncached image in /opt/cache/files.\n\nChange-Id: If4402ef877f8b627237b6e9016089c134be72da5\n'}]",0,776464,029ec6e96302a440a3cc288d8c8ab1b2c4f33673,14,4,1,25023,,,0,"Add bind mount of /opt/cache/files to all containers in CI

This is needed so that the task which downloads the cirros
image in the utility container for LXC jobs will find the
cached image in /opt/cache/files.

Change-Id: If4402ef877f8b627237b6e9016089c134be72da5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/776464/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,029ec6e96302a440a3cc288d8c8ab1b2c4f33673,osa-ci-fixes," - host_directory: ""/opt/cache/files"" container_directory: ""/opt/cache/files""",,2,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,openstack/tripleo-ansible,stable/victoria,I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,Reduce fact gathering,MERGED,2021-02-22 20:47:58.000000000,2021-02-23 21:49:04.000000000,2021-02-23 21:49:04.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 20:47:58.000000000', 'files': ['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/780b13e07e414c7ceff74a053000cafb38cb0fd1', 'message': ""Reduce fact gathering\n\nWe've seen that large amount of facts for hosts have a direct impact on\ntask execution as part of the deployment.  This change reduces the\namount of data that we are collecting when we use facts and leverages\nmore targeted methods to collect the required information.\n\nChange-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e\nRelated-Bug: #1915761\n(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)\n""}]",0,777004,780b13e07e414c7ceff74a053000cafb38cb0fd1,12,3,1,14985,,,0,"Reduce fact gathering

We've seen that large amount of facts for hosts have a direct impact on
task execution as part of the deployment.  This change reduces the
amount of data that we are collecting when we use facts and leverages
more targeted methods to collect the required information.

Change-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e
Related-Bug: #1915761
(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/777004/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",4,780b13e07e414c7ceff74a053000cafb38cb0fd1,bug/1915761-stable/victoria,- name: Collect default network fact - '!min' filter: 'ansible_default_ipv4',- name: Collect Network Facts - '!any',27,9
openstack%2Ftripleo-common~stable%2Fussuri~I5fa3bb41403620e8bd9521e3c0e61570e202148f,openstack/tripleo-common,stable/ussuri,I5fa3bb41403620e8bd9521e3c0e61570e202148f,Add SITE_PACKAGES variable to horizon extend_start,MERGED,2021-02-18 14:45:47.000000000,2021-02-23 21:39:02.000000000,2021-02-23 21:37:40.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 14:45:47.000000000', 'files': ['container-images/kolla/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/785532d5572f341c86b69f8463dfc8646d30a756', 'message': 'Add SITE_PACKAGES variable to horizon extend_start\n\nThis change adds a missing export. Without this change the horizon\ndashboards are all broken becuase the functions are able to\ncorrectly copy the dashboards plugins to the appropriate locations.\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I5fa3bb41403620e8bd9521e3c0e61570e202148f\n(cherry picked from commit 8daeeef06733500efff45faf8f6a44ba0e48ecad)\n'}]",0,776443,785532d5572f341c86b69f8463dfc8646d30a756,13,3,1,7353,,,0,"Add SITE_PACKAGES variable to horizon extend_start

This change adds a missing export. Without this change the horizon
dashboards are all broken becuase the functions are able to
correctly copy the dashboards plugins to the appropriate locations.

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I5fa3bb41403620e8bd9521e3c0e61570e202148f
(cherry picked from commit 8daeeef06733500efff45faf8f6a44ba0e48ecad)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/776443/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/horizon/extend_start.sh'],1,785532d5572f341c86b69f8463dfc8646d30a756,dash-tcib,"SITE_PACKAGES=""/usr/lib/python${KOLLA_DISTRO_PYTHON_VERSION:-3}/site-packages""",,1,0
openstack%2Fneutron~stable%2Ftrain~I235c3ce5d99431e5c61988b3c925d4548454444e,openstack/neutron,stable/train,I235c3ce5d99431e5c61988b3c925d4548454444e,[DNM] [OVN] security group logging support,ABANDONED,2021-02-09 21:47:33.000000000,2021-02-23 21:36:29.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 21:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a732a89d36c2539731814e46f6941713872ba2bc', 'message': ""[DNM] [OVN] security group logging support\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable braches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is a small subset of patchset 2 of 3 for OVN driver handling\nof security-group-logging. It is mostly part of the networking-ovn\nrepo for stable/train.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: I235c3ce5d99431e5c61988b3c925d4548454444e\n(cherry picked from commit 5b69930792cfb39143e672cda97bea077f69abc0)\n""}, {'number': 2, 'created': '2021-02-10 15:19:56.000000000', 'files': ['neutron/conf/services/logging.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8cae394b21ad501644fd091907090bb33d8a8fc', 'message': ""[DNM] [OVN] security group logging support\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is a small subset of patchset 2 of 3 for OVN driver handling\nof security-group-logging. It is mostly part of the networking-ovn\nrepo for stable/train.\n\nThis implementation also changes the minimum allowed value for the\n'rate_limit' attribute in neutron/conf/services/logging.py\nOriginally, the 'rate_limit' had a min value of 100 and it is now 1\npacket per second. The default value remains unchanged, as 100.\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: I235c3ce5d99431e5c61988b3c925d4548454444e\n(cherry picked from commit 5b69930792cfb39143e672cda97bea077f69abc0)\n""}]",0,774739,a8cae394b21ad501644fd091907090bb33d8a8fc,15,2,2,11952,,,0,"[DNM] [OVN] security group logging support

Do not merge: as OVN driver security-group-logging is a new
feature, it will not be backported to stable branches. This
gerrit is mostly a placeholder, to be soon abandoned.

This is a small subset of patchset 2 of 3 for OVN driver handling
of security-group-logging. It is mostly part of the networking-ovn
repo for stable/train.

This implementation also changes the minimum allowed value for the
'rate_limit' attribute in neutron/conf/services/logging.py
Originally, the 'rate_limit' had a min value of 100 and it is now 1
packet per second. The default value remains unchanged, as 100.

Related-Bug: 1914757
Related-Bug: 1468366

Change-Id: I235c3ce5d99431e5c61988b3c925d4548454444e
(cherry picked from commit 5b69930792cfb39143e672cda97bea077f69abc0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/774739/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/services/logging.py'],1,a732a89d36c2539731814e46f6941713872ba2bc,sglog/ovn," min=1,"," min=100,",1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I0589beb4b2d8efcea863617f458019faffe359e1,openstack/networking-ovn,stable/train,I0589beb4b2d8efcea863617f458019faffe359e1,[DNM] [OVN] security group logging support,ABANDONED,2021-02-10 20:27:06.000000000,2021-02-23 21:34:58.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 20:27:06.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_logapi_driver.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b51dd9f107a504c7819d8b5aa43415cd0e1ca14a', 'message': '[DNM] [OVN] security group logging support\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 3 of 3 for OVN driver handling of security-group-logging.\nIt includes tests added to validate this feature.\n\nCloses-Bug: 1914757\n\nChange-Id: I0589beb4b2d8efcea863617f458019faffe359e1\n'}]",0,775012,b51dd9f107a504c7819d8b5aa43415cd0e1ca14a,5,2,1,11952,,,0,"[DNM] [OVN] security group logging support

Do not merge: as OVN driver security-group-logging is a new
feature, it will not be backported to stable branches. This
gerrit is mostly a placeholder, to be soon abandoned.

This is patchset 3 of 3 for OVN driver handling of security-group-logging.
It includes tests added to validate this feature.

Closes-Bug: 1914757

Change-Id: I0589beb4b2d8efcea863617f458019faffe359e1
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/12/775012/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_logapi_driver.py', 'networking_ovn/tests/unit/fakes.py']",2,b51dd9f107a504c7819d8b5aa43415cd0e1ca14a,sglog/ovn, self.meter_add = mock.Mock() self.meter_del = mock.Mock(),,338,0
openstack%2Fcharm-cinder-purestorage~master~I484cdbcb7d8f1ffc8f6eddf76ef671c7d39bc10a,openstack/charm-cinder-purestorage,master,I484cdbcb7d8f1ffc8f6eddf76ef671c7d39bc10a,Prune gate tests,MERGED,2021-02-20 00:00:50.000000000,2021-02-23 21:10:59.000000000,2021-02-23 21:10:59.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/51eb87acddc7d702dd5649e30e38b3a300ff56bb', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I484cdbcb7d8f1ffc8f6eddf76ef671c7d39bc10a\n'}, {'number': 2, 'created': '2021-02-23 18:08:53.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/7ed6e2d1d15397bcf5e514f21de03a604706f294', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I484cdbcb7d8f1ffc8f6eddf76ef671c7d39bc10a\n'}]",2,776736,7ed6e2d1d15397bcf5e514f21de03a604706f294,14,3,2,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I484cdbcb7d8f1ffc8f6eddf76ef671c7d39bc10a
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/36/776736/2 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,51eb87acddc7d702dd5649e30e38b3a300ff56bb,charms/gate-reduction,smoke_bundles: - focal-ussuri dev_bundles:, - bionic-rockysmoke_bundles: - xenial-ocata,3,3
openstack%2Fironic~stable%2Fvictoria~Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a,openstack/ironic,stable/victoria,Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a,Fix broken configdrive_use_object_store,MERGED,2021-02-23 14:02:51.000000000,2021-02-23 21:02:13.000000000,2021-02-23 21:00:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-23 14:02:51.000000000', 'files': ['devstack/lib/ironic', 'releasenotes/notes/configdrive_use_object_store-93cfd7dc27d90003.yaml', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dea33cbaf3d9de8d5384597c723d85d8ed3aad2e', 'message': 'Fix broken configdrive_use_object_store\n\nWhen it is set to True, we try to write text data to a binary file,\nwhich is not possible in Python 3. The issue has been ""helpfully""\nhidden by the fact that we use bytes in unit tests, as well as\nby lack of CI coverage.\n\nChange-Id: Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a\n(cherry picked from commit 73bdebd127b3897860c7bcff3848032a2737d1ba)\n'}]",0,777110,dea33cbaf3d9de8d5384597c723d85d8ed3aad2e,10,2,1,10239,,,0,"Fix broken configdrive_use_object_store

When it is set to True, we try to write text data to a binary file,
which is not possible in Python 3. The issue has been ""helpfully""
hidden by the fact that we use bytes in unit tests, as well as
by lack of CI coverage.

Change-Id: Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a
(cherry picked from commit 73bdebd127b3897860c7bcff3848032a2737d1ba)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/777110/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'releasenotes/notes/configdrive_use_object_store-93cfd7dc27d90003.yaml', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py']",4,dea33cbaf3d9de8d5384597c723d85d8ed3aad2e,," with tempfile.NamedTemporaryFile(dir=CONF.tempdir, mode=""wt"") as fileobj:", with tempfile.NamedTemporaryFile(dir=CONF.tempdir) as fileobj:,20,8
openstack%2Fpuppet-swift~stable%2Fvictoria~I4371d49df847236be18f1a33caa8b3f186f5eaf1,openstack/puppet-swift,stable/victoria,I4371d49df847236be18f1a33caa8b3f186f5eaf1,Add TLS options for swift memcached client,MERGED,2021-02-15 12:21:48.000000000,2021-02-23 20:59:16.000000000,2021-02-23 20:57:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 12:21:48.000000000', 'files': ['spec/classes/swift_objectexpirer_spec.rb', 'releasenotes/notes/add-tls-options-cfc659d2a0ad42bc.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/objectexpirer.pp', 'spec/classes/swift_containerreconciler_spec.rb', 'manifests/containerreconciler.pp', 'manifests/proxy/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fbc7e6211e274b8b0f46b597cc2c365c6654c989', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n(cherry picked from commit 0688c8a576dd71af5a13b1da636de881e9be2224)\n'}]",0,775606,fbc7e6211e274b8b0f46b597cc2c365c6654c989,9,5,1,14250,,,0,"Add TLS options for swift memcached client

This patch specifies a set of options required to build a TLS context
in the swift memcached client.
(see https://review.opendev.org/c/openstack/swift/+/765552)

Change-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1
(cherry picked from commit 0688c8a576dd71af5a13b1da636de881e9be2224)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/06/775606/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_objectexpirer_spec.rb', 'releasenotes/notes/add-tls-options-cfc659d2a0ad42bc.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/objectexpirer.pp', 'spec/classes/swift_containerreconciler_spec.rb', 'manifests/containerreconciler.pp', 'manifests/proxy/cache.pp']",7,fbc7e6211e274b8b0f46b597cc2c365c6654c989,memcached-cert-stable/victoria,"# [*tls_enabled*] # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # Default to false # # [*tls_cafile*] # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # Defaults to undef # # [*tls_certfile*] # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # Defaults to undef # # [*tls_keyfile*] # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # Defaults to undef # $memcache_servers = ['127.0.0.1:11211'], $tls_enabled = false, $tls_cafile = undef, $tls_certfile = undef, $tls_keyfile = undef, 'filter:cache/tls_enabled': value => $tls_enabled; 'filter:cache/tls_cafile': value => $tls_cafile; 'filter:cache/tls_certfile': value => $tls_certfile; 'filter:cache/tls_keyfile': value => $tls_keyfile;"," $memcache_servers = ['127.0.0.1:11211'],",139,19
openstack%2Fpuppet-glance~master~Ief5cf6c6e4767516ff152f9ee5487fc52854e298,openstack/puppet-glance,master,Ief5cf6c6e4767516ff152f9ee5487fc52854e298,Filter out direct_url from image properties,MERGED,2021-02-12 08:17:29.000000000,2021-02-23 20:54:00.000000000,2021-02-23 20:54:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 08:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/79ff59356ed89f346df38e95b655519f8a499701', 'message': 'Filter out direct_url from image properties\n\nThe direct_url property is set by glance-api and it is not allowed\nto update the parameter from client side. This change ensures that\nthe property is filtered out.\n\nNote that this property is visible only when show_image_direct_url is\nTrue, thus the problem has not been detected in the current acceptance\ntest which use show_image_direct_url=False.\n\nChange-Id: Ief5cf6c6e4767516ff152f9ee5487fc52854e298\n'}, {'number': 2, 'created': '2021-02-12 08:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/600de0f42b6da49e7942cae92b9c911921773260', 'message': 'Filter out direct_url from image properties\n\nThe direct_url property is set by glance-api and it is not allowed\nto update the parameter from client side. This change ensures that\nthe property is filtered out.\n\nNote that this property is visible only when show_image_direct_url is\nTrue, thus the problem has not been detected in the current acceptance\ntest which use show_image_direct_url=False.\n\nChange-Id: Ief5cf6c6e4767516ff152f9ee5487fc52854e298\n'}, {'number': 3, 'created': '2021-02-12 08:27:27.000000000', 'files': ['lib/puppet/provider/glance_image/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/2e5e78de0ed028bd43130347a387391d13e3b0b9', 'message': 'Filter out direct_url from image properties\n\nThe direct_url property is set by glance-api and it is not allowed\nto update the parameter from client side. This change ensures that\nthe property is filtered out.\n\nNote that this property is visible only when show_image_direct_url is\nTrue, thus the problem has not been detected in the current acceptance\ntest which use show_image_direct_url=False.\n\nChange-Id: Ief5cf6c6e4767516ff152f9ee5487fc52854e298\n'}]",0,775325,2e5e78de0ed028bd43130347a387391d13e3b0b9,9,3,3,9816,,,0,"Filter out direct_url from image properties

The direct_url property is set by glance-api and it is not allowed
to update the parameter from client side. This change ensures that
the property is filtered out.

Note that this property is visible only when show_image_direct_url is
True, thus the problem has not been detected in the current acceptance
test which use show_image_direct_url=False.

Change-Id: Ief5cf6c6e4767516ff152f9ee5487fc52854e298
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/25/775325/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/glance_image/openstack.rb'],1,79ff59356ed89f346df38e95b655519f8a499701,image-props," hidden = ['os_hash_algo', 'os_hash_value', 'os_hidden', 'direct_url']"," hidden = ['os_hash_algo', 'os_hash_value', 'os_hidden']",1,1
openstack%2Fpuppet-cinder~master~Ide65b0d6ded1f6eebe2fcf6f07e4c5623c504511,openstack/puppet-cinder,master,Ide65b0d6ded1f6eebe2fcf6f07e4c5623c504511,Add support for healthcheck middleware options,MERGED,2021-01-31 23:01:20.000000000,2021-02-23 20:17:57.000000000,2021-02-23 20:16:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-31 23:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ed2cc66eaff193c624420572166454459690da30', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ide65b0d6ded1f6eebe2fcf6f07e4c5623c504511\n'}, {'number': 2, 'created': '2021-01-31 23:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d687b469e9fb54ffb5e78d6aab6b6934b6e576bd', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ide65b0d6ded1f6eebe2fcf6f07e4c5623c504511\n'}, {'number': 3, 'created': '2021-01-31 23:12:35.000000000', 'files': ['spec/classes/cinder_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-defa567494511d16.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b08eb02fffa0262a51b77cd7e6db0b025814ad3b', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ide65b0d6ded1f6eebe2fcf6f07e4c5623c504511\n'}]",0,773269,b08eb02fffa0262a51b77cd7e6db0b025814ad3b,11,3,3,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: Ide65b0d6ded1f6eebe2fcf6f07e4c5623c504511
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/69/773269/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_healthcheck_spec.rb', 'manifests/healthcheck.pp']",2,ed2cc66eaff193c624420572166454459690da30,healthcheck,"# == Define: cinder::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class cinder::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include cinder::deps oslo::healthcheck { 'cinder_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,96,0
openstack%2Fpuppet-heat~master~I3a09b3dcdbece397edb19051683657bec2d411c4,openstack/puppet-heat,master,I3a09b3dcdbece397edb19051683657bec2d411c4,Add support for healthcheck middleware options,MERGED,2021-02-01 08:30:01.000000000,2021-02-23 20:00:58.000000000,2021-02-23 19:59:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 08:30:01.000000000', 'files': ['spec/classes/heat_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-e2384f998f060770.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/72d1b4d137b0b610fdf879bcd13efd188cfb25fb', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I3a09b3dcdbece397edb19051683657bec2d411c4\n'}]",0,773302,72d1b4d137b0b610fdf879bcd13efd188cfb25fb,10,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I3a09b3dcdbece397edb19051683657bec2d411c4
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/02/773302/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/heat_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-e2384f998f060770.yaml', 'manifests/healthcheck.pp']",3,72d1b4d137b0b610fdf879bcd13efd188cfb25fb,healthcheck,"# == Define: heat::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class heat::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include heat::deps oslo::healthcheck { 'heat_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Fpuppet-keystone~master~I91a410c4814963d93c26abb529b96a6ffecd9248,openstack/puppet-keystone,master,I91a410c4814963d93c26abb529b96a6ffecd9248,Add support for healthcheck middleware options,MERGED,2021-01-31 23:11:02.000000000,2021-02-23 20:00:37.000000000,2021-02-23 19:59:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-31 23:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4dcac27559d0596bd2ce001a4eee89915f085a10', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I91a410c4814963d93c26abb529b96a6ffecd9248\n'}, {'number': 2, 'created': '2021-01-31 23:11:31.000000000', 'files': ['spec/classes/keystone_healthcheck_spec.rb', 'manifests/healthcheck.pp', 'releasenotes/notes/healthcheck-9a97094f6aeed70a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b4e486705b42a971ac324d7650e6e38bf1939110', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I91a410c4814963d93c26abb529b96a6ffecd9248\n'}]",0,773271,b4e486705b42a971ac324d7650e6e38bf1939110,10,3,2,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I91a410c4814963d93c26abb529b96a6ffecd9248
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/71/773271/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_healthcheck_spec.rb', 'manifests/healthcheck.pp', 'releasenotes/notes/healthcheck-9a97094f6aeed70a.yaml']",3,4dcac27559d0596bd2ce001a4eee89915f085a10,healthcheck,--- features: - | The new ``keystone::healthcheck`` class has been added. This class manages parameters of healthcheck middlware in oslo_middleware module. ,,101,0
openstack%2Fnova~master~I667f56612d7f63834863476694cb1f4c71a58302,openstack/nova,master,I667f56612d7f63834863476694cb1f4c71a58302,Add a routed networks scheduler pre-filter,MERGED,2020-08-31 14:33:23.000000000,2021-02-23 19:52:49.000000000,2021-02-23 19:40:09.000000000,"[{'_account_id': 136}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-31 14:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f2c0f950859d401aef75b3130973dc045366c72', 'message': 'WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nTODO:\n* test coverage both unit and functional\n* documentation\n* finish the func test\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 2, 'created': '2020-09-04 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96078059731cc38b52d67df8935c08bbcff3b11a', 'message': 'WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nTODO:\n* test coverage both unit and functional\n* documentation\n* finish the func test\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 3, 'created': '2020-12-09 15:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbad6d91bc6281a37013b49fa7a4e26292fd2d87', 'message': 'WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nTODO:\n* test coverage both unit and functional\n* documentation\n* finish the func test\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 4, 'created': '2020-12-15 10:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00b53f826c384b066885051816e2e0cd37e66b82', 'message': 'WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nTODO:\n* test coverage both unit and functional\n* documentation\n* last functest verifications for move ops\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 5, 'created': '2020-12-15 17:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcf139d10c829ac18c20626180db5b9d229ac625', 'message': ""WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza): We had to change the _unshelve_server method in the\nintegrated tests to provide a null value instead of an empty dict\nbecause of 2.77 API microversion that now doesn't accept empty\ndicts.\n\nTODO:\n* test coverage both unit and functional\n* documentation\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 6, 'created': '2021-01-06 11:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eea4b27fdb5ceac8ef7a6384ff0bae49b211c436', 'message': ""WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza): We had to change the _unshelve_server method in the\nintegrated tests to provide a null value instead of an empty dict\nbecause of 2.77 API microversion that now doesn't accept empty\ndicts.\n\nTODO:\n* unit test coverage\n* documentation\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 7, 'created': '2021-02-02 18:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d7a23ba16bb5da94682746064b33aebd52f8b18', 'message': ""WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza): We had to change the _unshelve_server method in the\nintegrated tests to provide a null value instead of an empty dict\nbecause of 2.77 API microversion that now doesn't accept empty\ndicts.\n\nTODO:\n* unit test coverage\n* documentation\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 8, 'created': '2021-02-02 18:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc4d3e45721344e003f1cb2aeb61f2332f36e615', 'message': ""WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza): We had to change the _unshelve_server method in the\nintegrated tests to provide a null value instead of an empty dict\nbecause of 2.77 API microversion that now doesn't accept empty\ndicts.\n\nTODO:\n* unit test coverage\n* documentation\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 9, 'created': '2021-02-03 18:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f878475282c7a2d09f991329f1c6e4b8da02b0b2', 'message': 'WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nTODO:\n* unit test coverage\n* documentation\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 10, 'created': '2021-02-04 15:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cb1daea3927d881ab829cfe71d876053181f7e5', 'message': 'WIP: Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nTODO:\n* unit test coverage\n* documentation\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 11, 'created': '2021-02-05 10:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44812727a3241367c90fc775f62c8cb3bd53f12b', 'message': 'Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nTODO:\n* documentation\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 12, 'created': '2021-02-05 10:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f375d8db9d851cb6d19cf5e1cdffba195894c56', 'message': 'Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 13, 'created': '2021-02-08 16:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f470b0c3255404335b98414861338fdfd49e2d44', 'message': 'Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 14, 'created': '2021-02-09 09:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96d08376cc0c56299c99ed4f8c6c1b086c269a90', 'message': 'Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 15, 'created': '2021-02-09 09:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/385e7c234628007d764f9a504f0d2c809ff499eb', 'message': 'Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 16, 'created': '2021-02-16 14:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a285ef6a20258c56dbf802984e7bc38207b0879', 'message': 'Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n'}, {'number': 17, 'created': '2021-02-18 11:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b24434cf3a6ebd8d77cc94716232fda812cc316', 'message': ""Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza) : We're just setting admin_api veriable in the\nintegrated helpers as it's used by _get_provider_uuid_by_host()\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 18, 'created': '2021-02-18 15:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b75f51d8869bd30ef5b416927702d846fbace40', 'message': ""Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza) : We're just setting admin_api variable in the\nintegrated helpers as it's used by _get_provider_uuid_by_host()\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 19, 'created': '2021-02-19 09:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1517d282fd1c3d8cc5755f3cf0f0e400ece37df8', 'message': ""Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza) : We're just setting admin_api variable in the\nintegrated helpers as it's used by _get_provider_uuid_by_host()\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 20, 'created': '2021-02-19 14:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aef1503d6a30a2bdcf634a18b57438de1a92333e', 'message': ""Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza) : We're just setting admin_api variable in the\nintegrated helpers as it's used by _get_provider_uuid_by_host()\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 21, 'created': '2021-02-19 17:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1463e9b994dcb0175150c640ea0bbcae072a8fb4', 'message': ""Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza) : We're just setting admin_api variable in the\nintegrated helpers as it's used by _get_provider_uuid_by_host()\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}, {'number': 22, 'created': '2021-02-19 18:23:24.000000000', 'files': ['nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/fixtures.py', 'releasenotes/notes/routed_networks_filter-3d274e827449a144.yaml', 'nova/tests/functional/integrated_helpers.py', 'nova/scheduler/request_filter.py', 'mypy-files.txt', 'nova/conf/scheduler.py', 'nova/tests/functional/test_routed_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1673d31180f3f7c90af1447573f362424c95e48', 'message': ""Add a routed networks scheduler pre-filter\n\nAs explained in the spec, in order to support routed networks, we need\nto add a new scheduler pre-filter with a specific conf option\nso we can then look at the nova aggregates related to the segments.\n\nSince this pre-filter is called every time we verify the scheduler,\nthat means that when we move instances, we should be also be able\nto only support hosts that are in the same related aggregate.\n\nNOTE(sbauza) : We're just setting admin_api variable in the\nintegrated helpers as it's used by _get_provider_uuid_by_host()\n\nImplements: blueprint routed-networks-scheduling\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\n\nChange-Id: I667f56612d7f63834863476694cb1f4c71a58302\n""}]",179,749068,a1673d31180f3f7c90af1447573f362424c95e48,126,13,22,7166,,,0,"Add a routed networks scheduler pre-filter

As explained in the spec, in order to support routed networks, we need
to add a new scheduler pre-filter with a specific conf option
so we can then look at the nova aggregates related to the segments.

Since this pre-filter is called every time we verify the scheduler,
that means that when we move instances, we should be also be able
to only support hosts that are in the same related aggregate.

NOTE(sbauza) : We're just setting admin_api variable in the
integrated helpers as it's used by _get_provider_uuid_by_host()

Implements: blueprint routed-networks-scheduling

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>
Co-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>

Change-Id: I667f56612d7f63834863476694cb1f4c71a58302
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/749068/20 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutron.py', 'nova/scheduler/utils.py', 'nova/tests/fixtures.py', 'nova/scheduler/request_filter.py', 'nova/conf/scheduler.py', 'nova/tests/functional/test_servers.py']",6,9f2c0f950859d401aef75b3130973dc045366c72,bp/routed-networks-scheduling," class RoutedNetworkTests(integrated_helpers.ProviderUsageBaseTestCase): compute_driver = 'fake.MediumFakeDriver' def setUp(self): self.flags( query_placement_for_routed_network_aggregates=True, group='scheduler') self.useFixture(nova_fixtures.HostNameWeigherFixture()) super().setUp() self._start_compute('host1') self.compute1 = self._start_compute('host1') self.compute1_rp_uuid = self._get_provider_uuid_by_host('host1') self.compute1_service_id = self.admin_api.get_services( host='host1', binary='nova-compute')[0]['id'] self._start_compute('host2') self.compute2 = self._start_compute('host2') self.compute2_rp_uuid = self._get_provider_uuid_by_host('host2') self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] self._start_compute('host3') self.compute3 = self._start_compute('host3') self.compute3_rp_uuid = self._get_provider_uuid_by_host('host3') self.compute3_service_id = self.admin_api.get_services( host='host3', binary='nova-compute')[0]['id'] # add extra ports and the related network to the neutron fixture # specifically for these tests. It cannot be added globally in the # fixture init as it adds a second network that makes auto allocation # based test to fail due to ambiguous networks. self.neutron._networks[self.neutron.network_multisegment['id']] = \ self.neutron.network_multisegment self.neutron._ports[ self.neutron.port_with_deferred_ip_allocation['id']] = \ copy.deepcopy(self.neutron.port_with_deferred_ip_allocation) self.neutron._ports[ self.neutron.port_with_immediate_ip_allocation['id']] = \ copy.deepcopy(self.neutron.port_with_immediate_ip_allocation) # Simulate the placement setup neutron does for multi segment networks segment_ids = [] for segment in self.neutron.network_multisegment[""segments""]: segment_ids.extend( s[""id""] for s in self.neutron.get_segment_ids_for_physnet( context=None, client=None, physnet=segment[""provider:physical_network""], ).json()[""segments""] ) self.assertEqual(2, len(segment_ids)) # We have 3 computes and the network has two segments. Let's create # a setup where the network has segments on host2 and host3 but not on # host1. The HostNameWeigherFixture prefers host1 over host2 over # host3. So this way we can check if the scheduler selects host with # available network segment # TODO(gibi): Create a more complex network setup like: # * net1 has segment on host1 and host3 # * net2 has segment on host2 and host3 # * boot with two deferred ports, one from each net and expect # that host3 is selected by the scheduler self.segment_id_to_compute_rp_uuid = { segment_ids[0]: self.compute2_rp_uuid, segment_ids[1]: self.compute3_rp_uuid, } self._create_multisegment_placement_setup( self.segment_id_to_compute_rp_uuid) print('segment_to_aggregate:', self.segment_id_to_aggregate_id) print('segment_to_compute:', self.segment_id_to_compute_rp_uuid) # from osc_placement_tree import utils as placement_visual # placement_visual.dump_placement_db_to_dot( # placement_visual.PlacementFixtureAsClientWrapper( # self.placement), # '/tmp/dump.dot') def _create_multisegment_placement_setup(self, segment_to_compute_rp): self.segment_id_to_aggregate_id = {} # map each segment to one compute for segment_id, compute_rp_uuid in segment_to_compute_rp.items(): # create segment RP segment_rp_req = { ""name"": segment_id, ""uuid"": segment_id, ""parent_provider_uuid"": None, } self.placement.post( ""/resource_providers"", body=segment_rp_req, version=""1.20"" ) # create aggregate around the segment RP and the compute RP aggregate_uuid = getattr(uuids, segment_id) self.segment_id_to_aggregate_id[segment_id] = aggregate_uuid # as we created the segment RP above we assume that it does not # have any aggregate and its generation is 0 self.assertEqual( 200, self.placement.put( ""/resource_providers/%s/aggregates"" % segment_id, body={ ""aggregates"": [aggregate_uuid], ""resource_provider_generation"": 0, }, version=""1.20"", ).status, ) # get compute RP and append the new aggregate to it resp = self.placement.get( ""/resource_providers/%s/aggregates"" % compute_rp_uuid, version=""1.20"", ).body resp[""aggregates""].append(aggregate_uuid) self.assertEqual( 200, self.placement.put( ""/resource_providers/%s/aggregates"" % compute_rp_uuid, body=resp, version=""1.20"", ).status, ) def test_boot_with_deferred_port(self): # Neutron only assigns the deferred port to a segment when the port is # bound to a host. So the scheduler can select any host that has # a segment for the network. port = self.neutron.port_with_deferred_ip_allocation server = self._create_server( name='server-with-routed-net', networks=[{'port': port['id']}]) # HostNameWeigherFixture prefers host1 but the port is in a network # that has only segments on host2 and host3 self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) def test_boot_with_immediate_port(self): # FIXME(gibi): Immediate port should be assigned to a network segment # by neutron during port create. So the scheduler should only select # a host that is connected to that network segment # The current neutron fixture does not behave like this so this test # cannot verify that the behavior is correct. port = self.neutron.port_with_immediate_ip_allocation server = self._create_server( name='server-with-routed-net', networks=[{'port': port['id']}]) # HostNameWeigherFixture prefers host1 but the port is in a network # that has only segments on host2 and host3 self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) def test_boot_with_network(self): # Port is created _after_ scheduling to a host so the scheduler can # select either host2 or host3 initially based on the segment # availability of the network. But then nova needs to create # the port in deferred mode so that the already selected host could # not conflict with the neutron segment assignment at port create. net = self.neutron.network_multisegment server = self._create_server( name='server-with-routed-net', networks=[{'uuid': net['id']}]) # HostNameWeigherFixture prefers host1 but the port is in a network # that has only segments on host2 and host3 self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) # FIXME(gibi): assert that nova creates the port in deferred mode def test_migrate(self): pass def test_live_migrate(self): pass def test_evacuate(self): pass def test_unshelve_after_shelve(self): pass",,489,8
openstack%2Fswift~stable%2Fvictoria~I6543bfff5ca517ab4d6ffda881e3a50724078c65,openstack/swift,stable/victoria,I6543bfff5ca517ab4d6ffda881e3a50724078c65,Populate shrinking shards with shard ranges learnt from root,MERGED,2021-02-23 00:47:18.000000000,2021-02-23 19:52:12.000000000,2021-02-23 19:37:26.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:47:18.000000000', 'files': ['bin/swift-container-sharder', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2558be42c806ca19f913f20fb201a7a0597a71fb', 'message': ""Populate shrinking shards with shard ranges learnt from root\n\nShard shrinking can be instigated by a third party modifying shard\nranges, moving one shard to shrinking state and expanding the\nnamespace of one or more other shard(s) to act as acceptors. These\nstate and namespace changes must propagate to the shrinking and\nacceptor shards. The shrinking shard must also discover the acceptor\nshard(s) into which it will shard itself.\n\nThe sharder audit function already updates shards with their own state\nand namespace changes from the root. However, there is currently no\nmechanism for the shrinking shard to learn about the acceptor(s) other\nthan by a PUT request being made to the shrinking shard container.\n\nThis patch modifies the shard container audit function so that other\noverlapping shards discovered from the root are merged into the\naudited shard's db. In this way, the audited shard will have acceptor\nshards to cleave to if shrinking.\n\nThis new behavior is restricted to when the shard is shrinking. In\ngeneral, a shard is responsible for processing its own sub-shard\nranges (if any) and reporting them to root. Replicas of a shard\ncontainer synchronise their sub-shard ranges via replication, and do\nnot rely on the root to propagate sub-shard ranges between shard\nreplicas. The exception to this is when a third party (or\nauto-sharding) wishes to instigate shrinking by modifying the shard\nand other acceptor shards in the root container.  In other\ncircumstances, merging overlapping shard ranges discovered from the\nroot is undesirable because it risks shards inheriting other unrelated\nshard ranges. For example, if the root has become polluted by\nsplit-brain shard range management, a sharding shard may have its\nsub-shards polluted by an undesired shard from the root.\n\nDuring the shrinking process a shard range's own shard range state may\nbe either shrinking or, prior to this patch, sharded. The sharded\nstate could occur when one replica of a shrinking shard completed\nshrinking and moved the own shard range state to sharded before other\nreplica(s) had completed shrinking. This makes it impossible to\ndistinguish a shrinking shard (with sharded state), which we do want\nto inherit shard ranges, from a sharding shard (with sharded state),\nwhich we do not want to inherit shard ranges.\n\nThis patch therefore introduces a new shard range state, 'SHRUNK', and\napplies this state to shard ranges that have completed shrinking.\nShards are now restricted to inherit shard ranges from the root only\nwhen their own shard range state is either SHRINKING or SHRUNK.\n\nThis patch also:\n\n - Stops overlapping shrinking shards from generating audit warnings:\n   overlaps are cured by shrinking and we therefore expect shrinking\n   shards to sometimes overlap.\n\n - Extends an existing probe test to verify that overlapping shard\n   ranges may be resolved by shrinking a subset of the shard ranges.\n\n - Adds a --no-auto-shard option to swift-container-sharder to enable the\n   probe tests to disable auto-sharding.\n\n - Improves sharder logging, in particular by decrementing ranges_todo\n   when a shrinking shard is skipped during cleaving.\n\n - Adds a ShardRange.sort_key class method to provide a single definition\n   of ShardRange sort ordering.\n\n - Improves unit test coverage for sharder shard auditing.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nCherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6\nChange-Id: I6543bfff5ca517ab4d6ffda881e3a50724078c65\n""}]",0,777035,2558be42c806ca19f913f20fb201a7a0597a71fb,7,3,1,597,,,0,"Populate shrinking shards with shard ranges learnt from root

Shard shrinking can be instigated by a third party modifying shard
ranges, moving one shard to shrinking state and expanding the
namespace of one or more other shard(s) to act as acceptors. These
state and namespace changes must propagate to the shrinking and
acceptor shards. The shrinking shard must also discover the acceptor
shard(s) into which it will shard itself.

The sharder audit function already updates shards with their own state
and namespace changes from the root. However, there is currently no
mechanism for the shrinking shard to learn about the acceptor(s) other
than by a PUT request being made to the shrinking shard container.

This patch modifies the shard container audit function so that other
overlapping shards discovered from the root are merged into the
audited shard's db. In this way, the audited shard will have acceptor
shards to cleave to if shrinking.

This new behavior is restricted to when the shard is shrinking. In
general, a shard is responsible for processing its own sub-shard
ranges (if any) and reporting them to root. Replicas of a shard
container synchronise their sub-shard ranges via replication, and do
not rely on the root to propagate sub-shard ranges between shard
replicas. The exception to this is when a third party (or
auto-sharding) wishes to instigate shrinking by modifying the shard
and other acceptor shards in the root container.  In other
circumstances, merging overlapping shard ranges discovered from the
root is undesirable because it risks shards inheriting other unrelated
shard ranges. For example, if the root has become polluted by
split-brain shard range management, a sharding shard may have its
sub-shards polluted by an undesired shard from the root.

During the shrinking process a shard range's own shard range state may
be either shrinking or, prior to this patch, sharded. The sharded
state could occur when one replica of a shrinking shard completed
shrinking and moved the own shard range state to sharded before other
replica(s) had completed shrinking. This makes it impossible to
distinguish a shrinking shard (with sharded state), which we do want
to inherit shard ranges, from a sharding shard (with sharded state),
which we do not want to inherit shard ranges.

This patch therefore introduces a new shard range state, 'SHRUNK', and
applies this state to shard ranges that have completed shrinking.
Shards are now restricted to inherit shard ranges from the root only
when their own shard range state is either SHRINKING or SHRUNK.

This patch also:

 - Stops overlapping shrinking shards from generating audit warnings:
   overlaps are cured by shrinking and we therefore expect shrinking
   shards to sometimes overlap.

 - Extends an existing probe test to verify that overlapping shard
   ranges may be resolved by shrinking a subset of the shard ranges.

 - Adds a --no-auto-shard option to swift-container-sharder to enable the
   probe tests to disable auto-sharding.

 - Improves sharder logging, in particular by decrementing ranges_todo
   when a shrinking shard is skipped during cleaving.

 - Adds a ShardRange.sort_key class method to provide a single definition
   of ShardRange sort ordering.

 - Improves unit test coverage for sharder shard auditing.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Cherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6
Change-Id: I6543bfff5ca517ab4d6ffda881e3a50724078c65
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/777035/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/swift-container-sharder', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py']",6,2558be42c806ca19f913f20fb201a7a0597a71fb,victoria-sharding," ShardRange.SHARDED, ShardRange.SHRUNK): shard_ranges.sort(key=ShardRange.sort_key)"," ShardRange.SHARDED): # note if this ever changes to *not* sort by upper first then it breaks # a key assumption for bisect, which is used by utils.find_shard_ranges shard_ranges.sort(key=lambda sr: ( sr.upper, sr.state, sr.lower, sr.name))",621,175
openstack%2Frequirements~master~Icb055e7a9d48e1e48126ef2692f796c4dc11f8b1,openstack/requirements,master,Icb055e7a9d48e1e48126ef2692f796c4dc11f8b1,Bring back futures for py27 (again),MERGED,2021-02-23 00:05:06.000000000,2021-02-23 19:50:59.000000000,2021-02-23 19:41:14.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e3cdd23ae49d4aa4684a9a06140a37925dba97c', 'message': ""Bring back futures for py27 (again)\n\nIt's the one py2-specific dependency that python-swiftclient needs; keep\nit around so the Swift team can still modify their requirements files.\n\nChange-Id: Icb055e7a9d48e1e48126ef2692f796c4dc11f8b1\nNeeded-By: https://review.opendev.org/#/c/776998\nRelated-Change: I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533\nRelated-Change: I704979556369dc244da51608a13abc5a06a29912\n""}, {'number': 2, 'created': '2021-02-23 05:41:39.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c7a052e8b9f0e7e5301665eae8923bfe76d2fc83', 'message': ""Bring back futures for py27 (again)\n\nIt's the one py2-specific dependency that python-swiftclient needs; keep\nit around so the Swift team can still modify their requirements files.\n\nChange-Id: Icb055e7a9d48e1e48126ef2692f796c4dc11f8b1\nNeeded-By: https://review.opendev.org/#/c/776998\nRelated-Change: I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533\nRelated-Change: I704979556369dc244da51608a13abc5a06a29912\n""}]",0,777025,c7a052e8b9f0e7e5301665eae8923bfe76d2fc83,16,3,2,15343,,,0,"Bring back futures for py27 (again)

It's the one py2-specific dependency that python-swiftclient needs; keep
it around so the Swift team can still modify their requirements files.

Change-Id: Icb055e7a9d48e1e48126ef2692f796c4dc11f8b1
Needed-By: https://review.opendev.org/#/c/776998
Related-Change: I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533
Related-Change: I704979556369dc244da51608a13abc5a06a29912
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/777025/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,1e3cdd23ae49d4aa4684a9a06140a37925dba97c,,futures===3.3.0;python_version=='2.7',,2,0
openstack%2Fpuppet-gnocchi~master~I206e6b978e6224f0eb23b5d688d9e653a6fbb645,openstack/puppet-gnocchi,master,I206e6b978e6224f0eb23b5d688d9e653a6fbb645,Remove deprecated gnocchi::storage::swift::auth_tenant_name,MERGED,2021-02-01 14:04:34.000000000,2021-02-23 19:50:36.000000000,2021-02-23 19:47:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 14:04:34.000000000', 'files': ['manifests/storage/swift.pp', 'releasenotes/notes/remove-swift-auth_tenant_name-32010b83e506b70c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/8a50103c106e27b7d12a4eebf90c3580b5b02294', 'message': 'Remove deprecated gnocchi::storage::swift::auth_tenant_name\n\n... because this parameter was deprecated during U-cycle.\n\nChange-Id: I206e6b978e6224f0eb23b5d688d9e653a6fbb645\n'}]",0,773398,8a50103c106e27b7d12a4eebf90c3580b5b02294,8,3,1,9816,,,0,"Remove deprecated gnocchi::storage::swift::auth_tenant_name

... because this parameter was deprecated during U-cycle.

Change-Id: I206e6b978e6224f0eb23b5d688d9e653a6fbb645
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/98/773398/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/swift.pp', 'releasenotes/notes/remove-swift-auth_tenant_name-32010b83e506b70c.yaml']",2,8a50103c106e27b7d12a4eebf90c3580b5b02294,cleanup,--- upgrade: - | The deprecated ``gnocchi::storage::swift::auth_tenant_name`` parameter has been removed. ,,6,18
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9,openstack/openstack-ansible-lxc_hosts,master,Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9,Move kernel tuning tasks to lxc_post_install.yml,MERGED,2021-02-17 17:06:04.000000000,2021-02-23 19:50:32.000000000,2021-02-23 19:44:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/fa540804f3645afea1d5924735616b99f9ad8e6b', 'message': 'Move kernel tuning tasks to lxc_post_install.yml\n\nThis was a single task in a task file which can be included with the\nrest of the post installation tasks\n\nChange-Id: Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9\n'}, {'number': 2, 'created': '2021-02-17 17:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ae8af72eda54ed34eb02a33f2c568c8319f23162', 'message': 'Move kernel tuning tasks to lxc_post_install.yml\n\nThis was a single task in a task file which can be included with the\nrest of the post installation tasks\n\nChange-Id: Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9\n'}, {'number': 3, 'created': '2021-02-17 18:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/68179efc16f2b4fb3c7836b2f8f53a3937ec5469', 'message': 'Move kernel tuning tasks to lxc_post_install.yml\n\nThis was a single task in a task file which can be included with the\nrest of the post installation tasks\n\nChange-Id: Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9\n'}, {'number': 4, 'created': '2021-02-17 19:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/21dd54c0e76e4e0c02f3a424807d1049ea9103ed', 'message': 'Move kernel tuning tasks to lxc_post_install.yml\n\nThis was a single task in a task file which can be included with the\nrest of the post installation tasks\n\nChange-Id: Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9\n'}, {'number': 5, 'created': '2021-02-17 19:41:00.000000000', 'files': ['tasks/main.yml', 'tasks/lxc_post_install.yml', 'tasks/lxc_kernel_tuning.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/51ba33d7f50a8c8dd0a9417ed7e8c2b3d00f5e55', 'message': 'Move kernel tuning tasks to lxc_post_install.yml\n\nThis was a single task in a task file which can be included with the\nrest of the post installation tasks\n\nChange-Id: Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9\n'}]",0,776238,51ba33d7f50a8c8dd0a9417ed7e8c2b3d00f5e55,19,3,5,25023,,,0,"Move kernel tuning tasks to lxc_post_install.yml

This was a single task in a task file which can be included with the
rest of the post installation tasks

Change-Id: Ic9e0e4fe28aeb3d22e9b06371ee01f923fcd26d9
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/38/776238/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/lxc_post_install.yml', 'tasks/lxc_kernel_tuning.yml']",3,fa540804f3645afea1d5924735616b99f9ad8e6b,lxc-hosts-cleanup,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Tuning kernel for lxc sysctl: name: ""{{ item.key }}"" value: ""{{ item.value }}"" sysctl_set: ""{{ item.set|default('yes') }}"" state: ""{{ item.state|default('present') }}"" reload: ""{{ item.reload|default('yes') }}"" failed_when: false with_items: ""{{ lxc_kernel_options }}"" ",11,29
openstack%2Fswift~stable%2Fvictoria~Ic39cf0cf193e45a0969700fdbca234a73afe579c,openstack/swift,stable/victoria,Ic39cf0cf193e45a0969700fdbca234a73afe579c,Refactor audit shard tests,MERGED,2021-02-23 00:47:18.000000000,2021-02-23 19:50:16.000000000,2021-02-23 19:36:48.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:47:18.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/036f062bfe9b78053d5e15c79c5c012251a00c4a', 'message': 'Refactor audit shard tests\n\nThe existing tests cover a lot of behaviors and carry around a lot of\nstate that makes them hard to extend in a descriptive mannor to cover\nnew or changed behaviors.\n\nCherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b\nChange-Id: Ic39cf0cf193e45a0969700fdbca234a73afe579c\n'}]",0,777033,036f062bfe9b78053d5e15c79c5c012251a00c4a,7,3,1,597,,,0,"Refactor audit shard tests

The existing tests cover a lot of behaviors and carry around a lot of
state that makes them hard to extend in a descriptive mannor to cover
new or changed behaviors.

Cherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b
Change-Id: Ic39cf0cf193e45a0969700fdbca234a73afe579c
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/777033/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,036f062bfe9b78053d5e15c79c5c012251a00c4a,victoria-sharding," def call_audit_container(self, broker, shard_ranges, exc=None): with self._mock_sharder() as sharder: with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift def assert_no_audit_messages(self, sharder, mock_swift, marker='k', end_marker='t'): self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) expected_stats = {'attempted': 1, 'success': 1, 'failure': 0} self._assert_stats(expected_stats, sharder, 'audit_shard') expected_headers = {'X-Backend-Record-Type': 'shard', 'X-Newest': 'true', 'X-Backend-Include-Deleted': 'True', 'X-Backend-Override-Deleted': 'true'} params = {'format': 'json', 'marker': marker, 'end_marker': end_marker} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container( broker, shard_ranges, sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container( broker, shard_ranges, sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) def test_audit_deleted_range_in_root_container(self): broker = self._make_broker(account='.shards_a', container='shard_c') broker.set_sharding_sysmeta('Quoted-Root', 'a/c') own_shard_range = broker.get_own_shard_range() own_shard_range.lower = 'k' own_shard_range.upper = 't' shard_bounds = ( ('a', 'j'), ('k', 't'), ('k', 's'), ('l', 's'), ('s', 'z')) shard_ranges = self._make_shard_ranges(shard_bounds, ShardRange.ACTIVE) shard_ranges[1].name = broker.path shard_ranges[1].update_state(ShardRange.SHARDED, state_timestamp=Timestamp.now()) shard_ranges[1].deleted = 1 sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) self.assertTrue(broker.is_deleted()) def test_audit_deleted_range_missing_from_root_container(self): broker = self._make_broker(account='.shards_a', container='shard_c') broker.set_sharding_sysmeta('Quoted-Root', 'a/c') own_shard_range = broker.get_own_shard_range() own_shard_range.lower = 'k' own_shard_range.upper = 't' own_shard_range.update_state(ShardRange.SHARDED, state_timestamp=Timestamp.now()) own_shard_range.deleted = 1 broker.merge_shard_ranges([own_shard_range]) self.assertFalse(broker.is_deleted()) sharder, mock_swift = self.call_audit_container(broker, []) self.assert_no_audit_messages(sharder, mock_swift)"," def call_audit_container(exc=None): with self._mock_sharder() as sharder: sharder.logger = debug_logger() with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container( def assert_ok(): sharder, mock_swift = call_audit_container() self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) self._assert_stats(expected_stats, sharder, 'audit_shard') params = {'format': 'json', 'marker': 'k', 'end_marker': 't'} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) assert_ok() assert_ok() assert_ok() def call_audit_container(exc=None): with self._mock_sharder() as sharder: with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container( def assert_ok(): sharder, mock_swift = call_audit_container() self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) self._assert_stats(expected_stats, sharder, 'audit_shard') params = {'format': 'json', 'marker': 'k', 'end_marker': 't'} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) assert_ok() assert_ok() own_shard_range.deleted = 1 own_shard_range.timestamp = Timestamp.now() del shard_ranges[:] # root responds with no shard ranges assert_ok()",88,76
openstack%2Fneutron~master~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,master,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-01-26 10:25:13.000000000,2021-02-23 19:50:14.000000000,2021-02-23 19:42:12.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 10:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9029c5240dddc1d0d1e062b387ac66c898435723', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like e.g. floating_ip or ports which belongs to\nthe router don\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}, {'number': 2, 'created': '2021-01-27 15:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b23b4f0c88429ab785cdf997a248bbac47f5b77', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like e.g. floating_ip or ports which belongs to\nthe router don\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}, {'number': 3, 'created': '2021-02-03 10:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b9bcc80846fd7aa045f19f2a9ff943ef75c906f', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like e.g. floating_ip or ports which belongs to\nthe router don\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}, {'number': 4, 'created': '2021-02-05 15:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fa84aca7b9a367770db8b55cd13fe8977ebac1c', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface and HA replicated\n  interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}, {'number': 5, 'created': '2021-02-08 08:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b535c8b4b92eb5006c1038dc25e71a43cb5add5e', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface and HA replicated\n  interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}, {'number': 6, 'created': '2021-02-08 14:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78d9107dda5bf50eab96fb6fd8e379979d7cdccf', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}, {'number': 7, 'created': '2021-02-18 08:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca32981425cc1f1a2b1a4d101bed24e81c596516', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}, {'number': 8, 'created': '2021-02-18 12:19:00.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4bbeee2060058d079885339e99ef7e6e366de16', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n'}]",37,772492,e4bbeee2060058d079885339e99ef7e6e366de16,86,9,8,11975,,,0,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
* distributed ports,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/772492/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",3,9029c5240dddc1d0d1e062b387ac66c898435723,bug/1913269,"def port_require_dhcp_configuration(port): if not port.device_owner: # We can't check if port needs dhcp entry, so it will be better # to create one return True return not port.device_owner.startswith( constants.DEVICE_OWNER_NETWORK_PREFIX) if not port_require_dhcp_configuration(port): continue ",,32,27
openstack%2Fneutron~stable%2Fussuri~Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,openstack/neutron,stable/ussuri,Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,Fix deletion of rfp interfaces when router is re-enabled,MERGED,2021-02-22 02:01:41.000000000,2021-02-23 19:50:04.000000000,2021-02-23 19:35:37.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 02:01:41.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/73e1672d6fc8ccabd87c97773d51b9efede9ba55', 'message': 'Fix deletion of rfp interfaces when router is re-enabled\n\n1. When dvr router is disabled and enabled back, the rfp\ninterfaces are deleted on the nodes without snat-* namespace.\nThis is due to creation of snat namespace during router\ninitialization stage on all the nodes. At later stages, since\nthe gw_port_host is not bounded on this node, external gateway\nis removed which triggers removal of rfp interfaces and snat\nnamespace.\nCreate snat namespace only on the nodes where gw_port_host is\nbounded.\n\n2. In case of DVR SNAT, when the l3 agent is rescheduled to\nanother node, the rfp interfaces on qrouter-* namespace are\nremoved. Instead of calling external_gateway_removed() which\nfurther deletes the rfp interfaces, the qg-, sg- interfaces\nneed to be unplugged and snat namespace need to be deleted.\n\nCloses-Bug: #1894843\nChange-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe\n(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)\n'}]",0,776877,73e1672d6fc8ccabd87c97773d51b9efede9ba55,14,3,1,10366,,,0,"Fix deletion of rfp interfaces when router is re-enabled

1. When dvr router is disabled and enabled back, the rfp
interfaces are deleted on the nodes without snat-* namespace.
This is due to creation of snat namespace during router
initialization stage on all the nodes. At later stages, since
the gw_port_host is not bounded on this node, external gateway
is removed which triggers removal of rfp interfaces and snat
namespace.
Create snat namespace only on the nodes where gw_port_host is
bounded.

2. In case of DVR SNAT, when the l3 agent is rescheduled to
another node, the rfp interfaces on qrouter-* namespace are
removed. Instead of calling external_gateway_removed() which
further deletes the rfp interfaces, the qg-, sg- interfaces
need to be unplugged and snat namespace need to be deleted.

Closes-Bug: #1894843
Change-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe
(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/776877/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py']",2,73e1672d6fc8ccabd87c97773d51b9efede9ba55,bug/1894843-stable/ussuri," self.driver.unplug(interface_name, namespace=self.snat_namespace.name, prefix=router.EXTERNAL_DEV_PREFIX) self.snat_namespace.delete() if self._is_this_snat_host(): self.snat_namespace.create()"," return self.external_gateway_removed( ex_gw_port, interface_name) self.snat_namespace.create() return self.snat_namespace",54,4
openstack%2Fneutron~stable%2Fvictoria~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/victoria,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:31:04.000000000,2021-02-23 19:49:48.000000000,2021-02-23 19:36:41.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 10:31:04.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90f6149c8e9d963f14b2a21f4357099ce3fde8b0', 'message': ""Don't try to create default SG when security groups are disabled\n\nIf security group API is disabled, there is no point to create default\nsecurity group for tenant when e.g. network is created.\n\nCloses-Bug: #1913297\nChange-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa\n(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)\n""}]",0,774404,90f6149c8e9d963f14b2a21f4357099ce3fde8b0,20,6,1,11975,,,0,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/774404/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,90f6149c8e9d963f14b2a21f4357099ce3fde8b0,bug/1913297-stable/victoria," is_ext_supported = mock.patch( 'neutron_lib.api.extensions.is_extension_supported') self.is_ext_supported = is_ext_supported.start() self.is_ext_supported.return_value = True def test__ensure_default_security_group_when_disabled(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: self.is_ext_supported.return_value = False self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_not_called()",,19,1
openstack%2Fglance~master~Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2,openstack/glance,master,Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2,Stop raising 403 when image is not found,MERGED,2021-02-12 18:59:20.000000000,2021-02-23 19:49:41.000000000,2021-02-23 19:37:42.000000000,"[{'_account_id': 5046}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 18:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a319d039ddea06cdd146932013f8dec62c38ff43', 'message': 'RFC: Stop raising 403 when image is not found\n\nPutting this up for comment on the desired, expected, and actual\nbehavior.\n\nChange-Id: Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2\nCloses-Bug: #1915543\n'}, {'number': 2, 'created': '2021-02-12 19:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1c6808ed1ad9bd0f6dc5b22767373841a68c463e', 'message': 'Stop raising 403 when image is not found\n\nGlance has a vestigial policy override knob that allows an operator\nto force a 403 response when attempting to get an image from the DB\nthat is not found. This runs contrary to the API documentation, and\ncreates a (potential) interoperability concern across clouds with\ndiffering policies on this topic.\n\nThis removes that override and changes the test from validating this\noverride to validating that it can no longer happen.\n\nChange-Id: Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2\nCloses-Bug: #1915543\n'}, {'number': 3, 'created': '2021-02-15 15:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4f3973baf714a2f6bec514b6b771b35de82b8198', 'message': 'Stop raising 403 when image is not found\n\nGlance has a vestigial policy override knob that allows an operator\nto force a 403 response when attempting to get an image from the DB\nthat is not found. This runs contrary to the API documentation, and\ncreates a (potential) interoperability concern across clouds with\ndiffering policies on this topic.\n\nThis removes that override and changes the test from validating this\noverride to validating that it can no longer happen.\n\nAPIImpact\nChange-Id: Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2\nCloses-Bug: #1915543\n'}, {'number': 4, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9549874f5ccbe02782292debfd081e56c021309', 'message': 'Stop raising 403 when image is not found\n\nGlance has a vestigial policy override knob that allows an operator\nto force a 403 response when attempting to get an image from the DB\nthat is not found. This runs contrary to the API documentation, and\ncreates a (potential) interoperability concern across clouds with\ndiffering policies on this topic.\n\nThis removes that override and changes the test from validating this\noverride to validating that it can no longer happen.\n\nAPIImpact\nChange-Id: Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2\nCloses-Bug: #1915543\n'}, {'number': 5, 'created': '2021-02-22 18:03:54.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/api/policy.py', 'releasenotes/notes/image-not-found-policy-override-removed-52616c483a270bcf.yaml', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2bfdc87a8c8744786acfeca5f2fe5748d2ebdd43', 'message': 'Stop raising 403 when image is not found\n\nGlance has a vestigial policy override knob that allows an operator\nto force a 403 response when attempting to get an image from the DB\nthat is not found. This runs contrary to the API documentation, and\ncreates a (potential) interoperability concern across clouds with\ndiffering policies on this topic.\n\nThis removes that override and changes the test from validating this\noverride to validating that it can no longer happen.\n\nAPIImpact\nChange-Id: Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2\nCloses-Bug: #1915543\n'}]",0,775435,2bfdc87a8c8744786acfeca5f2fe5748d2ebdd43,22,5,5,4393,,,0,"Stop raising 403 when image is not found

Glance has a vestigial policy override knob that allows an operator
to force a 403 response when attempting to get an image from the DB
that is not found. This runs contrary to the API documentation, and
creates a (potential) interoperability concern across clouds with
differing policies on this topic.

This removes that override and changes the test from validating this
override to validating that it can no longer happen.

APIImpact
Change-Id: Ie24e3eb2f31d10d2ab9af62a0b645e8bdd0c2ff2
Closes-Bug: #1915543
",git fetch https://review.opendev.org/openstack/glance refs/changes/35/775435/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/api/policy.py', 'glance/tests/unit/v2/test_images_resource.py']",3,a319d039ddea06cdd146932013f8dec62c38ff43,secure-rbac-handle-members,," def test_show_unauthorized(self): rules = {""get_image"": False} self.policy.set_rules(rules) request = unit_test_utils.get_fake_request() self.assertRaises(webob.exc.HTTPForbidden, self.controller.show, request, image_id=UUID2) ",4,16
openstack%2Ftempest~master~Ia2116e9d1738276ae1edf566e6f5b9760d416ab9,openstack/tempest,master,Ia2116e9d1738276ae1edf566e6f5b9760d416ab9,Make _cleanup_volume_type non-private,MERGED,2021-02-17 14:15:20.000000000,2021-02-23 19:49:39.000000000,2021-02-23 19:36:24.000000000,"[{'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-17 14:15:20.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd4dcf98cc613dd8e77cfb614b2d235eb8884ec1', 'message': 'Make _cleanup_volume_type non-private\n\n_cleanup_volume_type is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Ia2116e9d1738276ae1edf566e6f5b9760d416ab9\n'}]",0,776204,fd4dcf98cc613dd8e77cfb614b2d235eb8884ec1,8,7,1,30742,,,0,"Make _cleanup_volume_type non-private

_cleanup_volume_type is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: Ia2116e9d1738276ae1edf566e6f5b9760d416ab9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/776204/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,fd4dcf98cc613dd8e77cfb614b2d235eb8884ec1,bp/tempest-scenario-manager-stable," def cleanup_volume_type(self, volume_type): self.addCleanup(self.cleanup_volume_type, volume_type)"," def _cleanup_volume_type(self, volume_type): self.addCleanup(self._cleanup_volume_type, volume_type)",2,2
openstack%2Fnova~stable%2Ftrain~I6e30468bc28f661ddc17937ab1de04a706f05063,openstack/nova,stable/train,I6e30468bc28f661ddc17937ab1de04a706f05063,Disallow CONF.compute.max_disk_devices_to_attach = 0,MERGED,2021-01-29 09:38:06.000000000,2021-02-23 19:49:35.000000000,2021-02-23 19:34:57.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 09:38:06.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62bf0ef129550b05fde9c98586cc29e401860586', 'message': ""Disallow CONF.compute.max_disk_devices_to_attach = 0\n\nThe CONF.compute.max_disk_devices_to_attach option controls the maximum\nnumber of disk devices allowed to attach to an instance. If it is set\nto 0, it will literally allow no disk device for instances, preventing\nthem from being able to boot.\n\nThis adds a note to the config option help to call this out and changes\nnova-compute to raise InvalidConfiguration during init_host if\n[compute]max_disk_devices_to_attach has been set to 0. The nova-compute\nservice will fail to start if the option is set to 0.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well.\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\nCloses-Bug: #1897950\n(cherry picked from commit 25a632a4e1daa1941a6297ddb51088972f23ce6d)\n(cherry picked from commit 8e12b81839e1fb364b3598699fecf57c78f81df3)\n(cherry picked from commit 4ad7e5e2630542bce4cfa53adafd1da299adb0f6)\n""}]",0,772986,62bf0ef129550b05fde9c98586cc29e401860586,11,3,1,15334,,,0,"Disallow CONF.compute.max_disk_devices_to_attach = 0

The CONF.compute.max_disk_devices_to_attach option controls the maximum
number of disk devices allowed to attach to an instance. If it is set
to 0, it will literally allow no disk device for instances, preventing
them from being able to boot.

This adds a note to the config option help to call this out and changes
nova-compute to raise InvalidConfiguration during init_host if
[compute]max_disk_devices_to_attach has been set to 0. The nova-compute
service will fail to start if the option is set to 0.

Note: there doesn't appear to be any way to disallow particular values
in a oslo.config IntOpt other than the min/max values. Here we need the
min value to be -1 to represent unlimited. There is a 'choices' kwarg
available but that is only for enumerating valid values and we need to
allow any integer >= 1 as well.

Change-Id: I6e30468bc28f661ddc17937ab1de04a706f05063
Closes-Bug: #1897950
(cherry picked from commit 25a632a4e1daa1941a6297ddb51088972f23ce6d)
(cherry picked from commit 8e12b81839e1fb364b3598699fecf57c78f81df3)
(cherry picked from commit 4ad7e5e2630542bce4cfa53adafd1da299adb0f6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/772986/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",3,62bf0ef129550b05fde9c98586cc29e401860586,bug/1897950," if CONF.compute.max_disk_devices_to_attach == 0: msg = _('[compute]max_disk_devices_to_attach has been set to 0, ' 'which will prevent instances from being able to boot. ' 'Set -1 for unlimited or set >= 1 to limit the maximum ' 'number of disk devices.') raise exception.InvalidConfiguration(msg) ",,19,1
openstack%2Frequirements~master~Ie66c3d1bfba69a5860264301e557393b49c654af,openstack/requirements,master,Ie66c3d1bfba69a5860264301e557393b49c654af,update constraint for python-troveclient to new release 7.0.0,MERGED,2021-02-22 20:34:08.000000000,2021-02-23 19:49:21.000000000,2021-02-23 19:35:17.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 20:34:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/17ae0cf4e39bb8d783317d31f8e9fc81bf2b1d36', 'message': 'update constraint for python-troveclient to new release 7.0.0\n\nmeta: version: 7.0.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta: release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta: release:Change-Id: I8e9b9b4206c5aee528898618350ba50a4c205b8a\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ie66c3d1bfba69a5860264301e557393b49c654af\n'}]",0,776999,17ae0cf4e39bb8d783317d31f8e9fc81bf2b1d36,9,3,1,11131,,,0,"update constraint for python-troveclient to new release 7.0.0

meta: version: 7.0.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta: release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta: release:Change-Id: I8e9b9b4206c5aee528898618350ba50a4c205b8a
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ie66c3d1bfba69a5860264301e557393b49c654af
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/776999/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,17ae0cf4e39bb8d783317d31f8e9fc81bf2b1d36,new-release,python-troveclient===7.0.0,python-troveclient===6.0.1,1,1
openstack%2Fswift~stable%2Ftrain~I7ee69f0ca1aeef1004e61c45eeeb98dd35fe212e,openstack/swift,stable/train,I7ee69f0ca1aeef1004e61c45eeeb98dd35fe212e,sharding: Don't inject shard ranges when user says quit,MERGED,2021-02-06 02:29:07.000000000,2021-02-23 19:49:17.000000000,2021-02-23 19:35:10.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/342d5eefd529696603a3643e857a44ac73d09280', 'message': ""sharding: Don't inject shard ranges when user says quit\n\nWhen an operator does a `find_and_replace` on a DB that already has\nshard ranges, they get a prompt like:\n\n   This will delete existing 58 shard ranges.\n   Do you want to show the existing ranges [s], delete the existing\n   ranges [yes] or quit without deleting [q]?\n\nPreviously, if they selected `q`, we would skip the delete but still do\nthe merge (!) and immediately warn about how there are now invalid shard\nranges. Now, quit without merging.\n\nCherry-Picked-From: I7d869b137a6fbade59bb8ba16e4f3e9663e18822\nChange-Id: I7ee69f0ca1aeef1004e61c45eeeb98dd35fe212e\n""}, {'number': 2, 'created': '2021-02-22 03:11:06.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ac6b89d127cee903541cdec2fde7a1f9eae4eb93', 'message': ""sharding: Don't inject shard ranges when user says quit\n\nWhen an operator does a `find_and_replace` on a DB that already has\nshard ranges, they get a prompt like:\n\n   This will delete existing 58 shard ranges.\n   Do you want to show the existing ranges [s], delete the existing\n   ranges [yes] or quit without deleting [q]?\n\nPreviously, if they selected `q`, we would skip the delete but still do\nthe merge (!) and immediately warn about how there are now invalid shard\nranges. Now, quit without merging.\n\nCherry-Picked-From: I7d869b137a6fbade59bb8ba16e4f3e9663e18822\nChange-Id: I7ee69f0ca1aeef1004e61c45eeeb98dd35fe212e\n""}]",0,774331,ac6b89d127cee903541cdec2fde7a1f9eae4eb93,27,2,2,597,,,0,"sharding: Don't inject shard ranges when user says quit

When an operator does a `find_and_replace` on a DB that already has
shard ranges, they get a prompt like:

   This will delete existing 58 shard ranges.
   Do you want to show the existing ranges [s], delete the existing
   ranges [yes] or quit without deleting [q]?

Previously, if they selected `q`, we would skip the delete but still do
the merge (!) and immediately warn about how there are now invalid shard
ranges. Now, quit without merging.

Cherry-Picked-From: I7d869b137a6fbade59bb8ba16e4f3e9663e18822
Change-Id: I7ee69f0ca1aeef1004e61c45eeeb98dd35fe212e
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/774331/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,342d5eefd529696603a3643e857a44ac73d09280,train-sharding," found_shard_ranges = broker.get_shard_ranges() [(sr.lower_str, sr.upper_str) for sr in found_shard_ranges]) # Do another find & replace but quit when prompted about existing # shard ranges out = StringIO() err = StringIO() to_patch = 'swift.cli.manage_shard_ranges.input' with mock.patch('sys.stdout', out), mock.patch('sys.stderr', err), \ mock_timestamp_now() as now, \ mock.patch(to_patch, return_value='q'): main([broker.db_file, 'find_and_replace', '10']) # Shard ranges haven't changed at all self.assertEqual(found_shard_ranges, broker.get_shard_ranges()) expected = ['This will delete existing 10 shard ranges.'] self.assertEqual(expected, out.getvalue().splitlines()) self.assertEqual(['Loaded db broker for a/c.'], err.getvalue().splitlines())"," [(sr.lower_str, sr.upper_str) for sr in broker.get_shard_ranges()])",21,2
openstack%2Fpuppet-gnocchi~master~I019e6b65c2421716364053267117a9ea8f9d4fb4,openstack/puppet-gnocchi,master,I019e6b65c2421716364053267117a9ea8f9d4fb4,Add support for healthcheck middleware options,MERGED,2021-02-01 13:36:22.000000000,2021-02-23 19:48:14.000000000,2021-02-23 19:33:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 13:36:22.000000000', 'files': ['releasenotes/notes/healthcheck-0465f924bd2f4dbe.yaml', 'spec/classes/gnocchi_healthcheck_spec.rb', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/8d0f45e3b83279a81204a7d06f3561ebb9cf38e3', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I019e6b65c2421716364053267117a9ea8f9d4fb4\n'}]",0,773390,8d0f45e3b83279a81204a7d06f3561ebb9cf38e3,8,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I019e6b65c2421716364053267117a9ea8f9d4fb4
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/90/773390/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/healthcheck-0465f924bd2f4dbe.yaml', 'spec/classes/gnocchi_healthcheck_spec.rb', 'manifests/healthcheck.pp']",3,8d0f45e3b83279a81204a7d06f3561ebb9cf38e3,healthcheck,"# == Define: gnocchi::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class gnocchi::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include gnocchi::deps oslo::healthcheck { 'gnocchi_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Fpuppet-aodh~master~Ica23eec98af9cd199a1c34270befdc3120a98b35,openstack/puppet-aodh,master,Ica23eec98af9cd199a1c34270befdc3120a98b35,Add support for healthcheck middleware options,MERGED,2021-01-31 13:13:51.000000000,2021-02-23 19:46:39.000000000,2021-02-23 19:29:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-31 13:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ebfa7e03d17a5e9a4a0fd51226f6e0ca0c9aca4a', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ica23eec98af9cd199a1c34270befdc3120a98b35\n'}, {'number': 2, 'created': '2021-01-31 13:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/27e0c4be250228382ce24032e4e2559dbb867e89', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ica23eec98af9cd199a1c34270befdc3120a98b35\n'}, {'number': 3, 'created': '2021-01-31 13:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0f6ba0e7a119f964be7420990066bd4214aed192', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ica23eec98af9cd199a1c34270befdc3120a98b35\n'}, {'number': 4, 'created': '2021-01-31 15:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f00763886fa368351fd4f24ee94e44307e979f55', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ica23eec98af9cd199a1c34270befdc3120a98b35\n'}, {'number': 5, 'created': '2021-01-31 23:11:48.000000000', 'files': ['releasenotes/notes/healthcheck-2b9652430eb03a64.yaml', 'spec/classes/aodh_healthcheck_spec.rb', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/6b7ebd575ea2efc8bc6ea32c198e9d9aa9befb84', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ica23eec98af9cd199a1c34270befdc3120a98b35\n'}]",0,773254,6b7ebd575ea2efc8bc6ea32c198e9d9aa9befb84,14,3,5,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: Ica23eec98af9cd199a1c34270befdc3120a98b35
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/54/773254/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/healthcheck-2b9652430eb03a64.yaml', 'spec/classes/aodh_healthcheck_spec.rb', 'manifests/healthcheck.pp']",3,ebfa7e03d17a5e9a4a0fd51226f6e0ca0c9aca4a,healthcheck,"# == Define: aodh::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class aodh::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include aodh::deps oslo::healthcheck { 'aodh_config': detailed => $detailed; backends => $backends; disable_by_file_path => $disable_by_file_path; disable_by_file_paths => 4disable_by_file_paths; } } ",,99,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c,openstack/openstack-ansible-lxc_hosts,master,I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c,Remove lxc_install task file which contains only one task,MERGED,2021-02-17 17:06:04.000000000,2021-02-23 19:46:25.000000000,2021-02-23 19:29:10.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-02-17 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1b726c6d5621ff9ab28bab8614bcf42f5e84f468', 'message': 'Remove lxc_install task file which contains only one task\n\nChange-Id: I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c\n'}, {'number': 2, 'created': '2021-02-17 17:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c31a777bed8953db5962d27d44c80e5ee253c981', 'message': 'Remove lxc_install task file which contains only one task\n\nChange-Id: I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c\n'}, {'number': 3, 'created': '2021-02-17 18:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/90218034d667a161006a12e9d055a18de5f6a6fe', 'message': 'Remove lxc_install task file which contains only one task\n\nChange-Id: I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c\n'}, {'number': 4, 'created': '2021-02-17 19:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/4d17f476f3862c66f6e432d36b7ce94f0cb5f9dc', 'message': 'Remove lxc_install task file which contains only one task\n\nChange-Id: I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c\n'}, {'number': 5, 'created': '2021-02-17 19:41:00.000000000', 'files': ['tasks/main.yml', 'tasks/lxc_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/478abec9363b696458e37268c360757e4f79bf9e', 'message': 'Remove lxc_install task file which contains only one task\n\nChange-Id: I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c\n'}]",0,776237,478abec9363b696458e37268c360757e4f79bf9e,18,3,5,25023,,,0,"Remove lxc_install task file which contains only one task

Change-Id: I2dbd74d88ca3d04b55536fdd07f67c26b74f1b6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/37/776237/5 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_install.yml'],1,1b726c6d5621ff9ab28bab8614bcf42f5e84f468,lxc-hosts-cleanup,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - include_tasks: ""lxc_install_{{ ansible_pkg_mgr }}.yml"" tags: - install-apt - install-yum - install-zypper ",0,20
openstack%2Fpuppet-openstack-integration~master~I50ac459f4541a9677f560fb9c20a7ece3611c10c,openstack/puppet-openstack-integration,master,I50ac459f4541a9677f560fb9c20a7ece3611c10c,Do not set parameters for the deprecated v2 api,MERGED,2021-02-15 00:41:18.000000000,2021-02-23 19:45:02.000000000,2021-02-23 19:45:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 00:41:18.000000000', 'files': ['manifests/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/23f88a95a89c571a872fff801bd739215bfc6c00', 'message': 'Do not set parameters for the deprecated v2 api\n\nDepends-on: https://review.opendev.org/762618\nChange-Id: I50ac459f4541a9677f560fb9c20a7ece3611c10c\n'}]",0,775541,23f88a95a89c571a872fff801bd739215bfc6c00,7,3,1,9816,,,0,"Do not set parameters for the deprecated v2 api

Depends-on: https://review.opendev.org/762618
Change-Id: I50ac459f4541a9677f560fb9c20a7ece3611c10c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/775541/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cinder.pp'],1,23f88a95a89c571a872fff801bd739215bfc6c00,volumev2,," public_url_v2 => ""${::openstack_integration::config::base_url}:8776/v2/%(tenant_id)s"", internal_url_v2 => ""${::openstack_integration::config::base_url}:8776/v2/%(tenant_id)s"", admin_url_v2 => ""${::openstack_integration::config::base_url}:8776/v2/%(tenant_id)s"",",0,3
openstack%2Fnova~master~Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a,openstack/nova,master,Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a,Add net & utils methods for routed nets & segments,MERGED,2021-02-03 18:01:45.000000000,2021-02-23 19:39:01.000000000,2021-02-23 19:39:01.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 18:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63f782d203e9684cf53d5a6dcec69657d3228c8f', 'message': 'Add network and utils methods for getting routed networks and segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user creates\nor moves an instance with a requested network or a port.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n'}, {'number': 2, 'created': '2021-02-04 15:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39db0657ba1e150d6c8d8e0245d89506684e8638', 'message': 'Add network and utils methods for getting routed networks and segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user creates\nor moves an instance with a requested network or a port.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n'}, {'number': 3, 'created': '2021-02-08 16:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd221e35affc6bc68f6e5705cea712193dc9a254', 'message': 'Add net and utils methods for getting routed netks and segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user creates\nor moves an instance with a requested network or a port.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n'}, {'number': 4, 'created': '2021-02-09 09:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f93cfe7965d6474ff7b3091c0d5011e839dc401a', 'message': 'Add net and utils methods for getting routed netks and segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user creates\nor moves an instance with a requested network or a port.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n'}, {'number': 5, 'created': '2021-02-09 09:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ca94651dee420204f32f8a34c5a78f07c6d53e3', 'message': 'Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user creates\nor moves an instance with a requested network or a port.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n'}, {'number': 6, 'created': '2021-02-16 14:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/207f34b5c91c323e147e1a4c0782dacaf7c9aa21', 'message': 'Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user creates\nor moves an instance with a requested network or a port.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n'}, {'number': 7, 'created': '2021-02-18 11:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bbc20b406def77bce38fb7f689382dd2e419924', 'message': ""Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user creates\nor moves an instance with a requested network or a port.\n\nNOTE(sbauza): Given we need to lookup at segments by neutronclient, let's\nbump it to 7.1.0.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n""}, {'number': 8, 'created': '2021-02-18 15:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8921b7cd2b4cdb53df1f0e37b6206612949c5f60', 'message': ""Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user\ncreates or moves an instance with a requested network or a port.\n\nNOTE(sbauza): Given we need to lookup at segments by neutronclient,\nlet's bump it to 7.1.0.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n""}, {'number': 9, 'created': '2021-02-19 09:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60e20632f93edbf104c0cd2f03a2931aad3721c5', 'message': ""Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user\ncreates or moves an instance with a requested network or a port.\n\nNOTE(sbauza): Given we need to lookup at segments by neutronclient,\nlet's bump it to 7.1.0.\n\nNOTE(sbauza): Looks like mypy doesn't like the current methods in\nnova.network.neutron, so we need to fix the issues before adding this\nmodule to mypy-files.txt.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n""}, {'number': 10, 'created': '2021-02-19 14:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e3af9eb64d8e4790a77f7a27fa4683b317186ac', 'message': ""Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user\ncreates or moves an instance with a requested network or a port.\n\nNOTE(sbauza): Given we need to lookup at segments by neutronclient,\nlet's bump it to 7.1.0.\n\nNOTE(sbauza): Looks like mypy doesn't like the current methods in\nnova.network.neutron, so we need to fix the issues before adding this\nmodule to mypy-files.txt.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n""}, {'number': 11, 'created': '2021-02-19 17:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55804a7dfa9b6d3b62aedf890cbeeb55e8193e67', 'message': ""Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user\ncreates or moves an instance with a requested network or a port.\n\nNOTE(sbauza): Looks like mypy doesn't like the current methods in\nnova.network.neutron, so we need to fix the issues before adding this\nmodule to mypy-files.txt.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n""}, {'number': 12, 'created': '2021-02-19 18:23:24.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/exception.py', 'nova/network/constants.py', 'nova/scheduler/utils.py', 'nova/network/neutron.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4b28a5496e9e679c72cd6fa403fd6b82b0eceb1', 'message': ""Add net & utils methods for routed nets & segments\n\nBefore adding a prefilter, we need to add new methods for asking Neutron\nabout the related aggregates we need to ask Placement if the user\ncreates or moves an instance with a requested network or a port.\n\nNOTE(sbauza): Looks like mypy doesn't like the current methods in\nnova.network.neutron, so we need to fix the issues before adding this\nmodule to mypy-files.txt.\n\nPartially-Implements : blueprint routed-networks-scheduling\n\nChange-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a\n""}]",103,773976,c4b28a5496e9e679c72cd6fa403fd6b82b0eceb1,102,5,12,7166,,,0,"Add net & utils methods for routed nets & segments

Before adding a prefilter, we need to add new methods for asking Neutron
about the related aggregates we need to ask Placement if the user
creates or moves an instance with a requested network or a port.

NOTE(sbauza): Looks like mypy doesn't like the current methods in
nova.network.neutron, so we need to fix the issues before adding this
module to mypy-files.txt.

Partially-Implements : blueprint routed-networks-scheduling

Change-Id: Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/773976/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/constants.py', 'nova/network/neutron.py', 'nova/scheduler/utils.py']",3,63f782d203e9684cf53d5a6dcec69657d3228c8f,bp/routed-networks-scheduling," def get_aggregates_for_routed_network( context, network_api, report_client, network_uuid): """"""Collects the aggregate UUIDs describing the segmentation of a routed network from Nova perspective. A routed network consists of multiple network segments. Each segment is available on a given set of compute hosts. Such segmentation is modelled as host aggregates from Nova perspective. :param context: The security context :param network_api: nova.network.neutron.API instance to be used to communicate with Neutron :param report_client: SchedulerReportClient instance to be used to communicate with Placement :param network_uuid: The UUID of the Neutron network to be translated to aggregates :returns: A list of aggregate UUIDs """""" aggregates = [] segment_ids = network_api.get_segment_ids_for_network( context, network_uuid) # Each segment is a resource provider in placement and is in an # aggregate for the routed network, so we have to get the # aggregates for each segment provider - and those aggregates are # mirrored as nova host aggregates. # NOTE(sbauza): In case of a network with non-configured routed segments, # we will get an empty list of segment UUIDs, so we won't enter the loop. for segment_id in segment_ids: # TODO(sbauza): Don't use a private method. agg_info = report_client._get_provider_aggregates(context, segment_id) if agg_info is None: raise exception.NovaException('Failed to find aggregate related ' 'to segment %s' % segment_id) aggregates.extend(agg_info.aggregates) return aggregates def get_aggregates_for_routed_subnet( context, network_api, report_client, subnet_id): """"""Collects the aggregate UUIDs matching the segment that relates to a particular subnet from a routed network. A routed network consists of multiple network segments. Each segment is available on a given set of compute hosts. Such segmentation is modelled as host aggregates from Nova perspective. :param context: The security context :param network_api: nova.network.neutron.API instance to be used to communicate with Neutron :param report_client: SchedulerReportClient instance to be used to communicate with Placement :param subnet_id: The UUID of the Neutron subnet to be translated to aggregate :returns: A list of aggregate UUIDs """""" segment_id = network_api.get_segment_id_for_subnet( context, subnet_id) agg_info = report_client._get_provider_aggregates(context, segment_id) if agg_info is None: raise exception.NovaException('Failed to find aggregate related ' 'to segment %s' % segment_id) return agg_info.aggregates",,128,0
openstack%2Fneutron-tempest-plugin~master~Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c,openstack/neutron-tempest-plugin,master,Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c,Add skip funtion for checking enabled extensions in the l3 agent,MERGED,2021-02-12 13:01:31.000000000,2021-02-23 19:37:32.000000000,2021-02-23 19:37:32.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31291}]","[{'number': 1, 'created': '2021-02-12 13:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e87e38585ac6ad26ffdb34d3c58dbff54a591543', 'message': 'Add skip funtion for checking enabled extensions in the l3 agent\n\nThis function check the extension configured in the l3 network agent\nand if the extension is no enabled the test is skipped\n\nChange-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c\n'}, {'number': 2, 'created': '2021-02-12 20:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f72f625610fc22dec4ba32d21b746c22d32fa93b', 'message': 'Add skip funtion for checking enabled extensions in the l3 agent\n\nThis function check the extension configured in the l3 network agent\nand if the extension is no enabled the test is skipped\n\nChange-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c\n'}, {'number': 3, 'created': '2021-02-15 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/da608d515239744f580d8fbfc2674e310eaaa05a', 'message': 'Add skip funtion for checking enabled extensions in the l3 agent\n\nThis function check the extension configured in the l3 network agent\nand if the extension is no enabled the test is skipped\n\nChange-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c\n'}, {'number': 4, 'created': '2021-02-19 19:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3106cdec054b9999babf0f956bd9f9f19665c3ba', 'message': 'Add skip funtion for checking enabled extensions in the l3 agent\n\nThis function check the extension configured in the l3 network agent\nand if the extension is no enabled the test is skipped\n\nChange-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c\n'}, {'number': 5, 'created': '2021-02-19 19:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2223d2aab384f56760c7ee3e18af83a576a219b5', 'message': 'Add skip funtion for checking enabled extensions in the l3 agent\n\nThis function check the extension configured in the l3 network agent\nand if the extension is no enabled the test is skipped\n\nThat validation should not be applied when the l3 agent does not exist,\ne.g.: OVN configurations\n\nChange-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c\n'}, {'number': 6, 'created': '2021-02-22 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9b49db5848876f6caa91be3bcfcd071ec51826fb', 'message': 'Add skip funtion for checking enabled extensions in the l3 agent\n\nThis function check the extension configured in the l3 network agent\nand if the extension is no enabled the test is skipped\n\nThat validation should not be applied when the l3 agent does not exist,\ne.g.: OVN configurations\n\nChange-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c\n'}, {'number': 7, 'created': '2021-02-22 16:32:22.000000000', 'files': ['neutron_tempest_plugin/scenario/test_floatingip.py', 'neutron_tempest_plugin/scenario/test_port_forwardings.py', 'neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e6b1004ff2905a1f4fa60cca8915a02131686fe3', 'message': 'Add skip funtion for checking enabled extensions in the l3 agent\n\nThis function check the extension configured in the l3 network agent\nand if the extension is no enabled the test is skipped\n\nThat validation should not be applied when the l3 agent does not exist,\ne.g.: OVN configurations\n\nChange-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c\n'}]",6,775380,e6b1004ff2905a1f4fa60cca8915a02131686fe3,26,7,7,29088,,,0,"Add skip funtion for checking enabled extensions in the l3 agent

This function check the extension configured in the l3 network agent
and if the extension is no enabled the test is skipped

That validation should not be applied when the l3 agent does not exist,
e.g.: OVN configurations

Change-Id: Icbc379d6b8ab0d720d2ae242d79949fb4dd9d27c
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/80/775380/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/test_floatingip.py', 'neutron_tempest_plugin/scenario/test_port_forwardings.py', 'neutron_tempest_plugin/scenario/base.py']",3,e87e38585ac6ad26ffdb34d3c58dbff54a591543,," def skip_if_no_extension_enabled_in_l3_agents(self, extension): l3_agents = self.os_admin.network_client.list_agents( binary='neutron-l3-agent')['agents'] for agent in l3_agents: if extension in agent['configurations'].get('extensions', []): return raise self.skipTest(""No L3 agent with '%s' extension enabled found."" % ",,10,9
openstack%2Fswift~stable%2Fvictoria~Ibaecd2d075bf8427f350c4e64751cceda0b4fc1a,openstack/swift,stable/victoria,Ibaecd2d075bf8427f350c4e64751cceda0b4fc1a,Use swiftclient Connections in sharding probe tests,MERGED,2021-02-23 00:47:18.000000000,2021-02-23 19:37:08.000000000,2021-02-23 19:37:08.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:47:18.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f7f0d62c931b81df809f4882aba3abb4f0b42554', 'message': 'Use swiftclient Connections in sharding probe tests\n\nThis gets us retries ""for free"" and should reduce gate flakiness.\n\nCherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756\nChange-Id: Ibaecd2d075bf8427f350c4e64751cceda0b4fc1a\n'}]",0,777034,f7f0d62c931b81df809f4882aba3abb4f0b42554,6,2,1,597,,,0,"Use swiftclient Connections in sharding probe tests

This gets us retries ""for free"" and should reduce gate flakiness.

Cherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756
Change-Id: Ibaecd2d075bf8427f350c4e64751cceda0b4fc1a
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/777034/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,f7f0d62c931b81df809f4882aba3abb4f0b42554,victoria-sharding," conn = client.Connection(preauthurl=self.url, preauthtoken=self.token) conn.put_object(self.container_name, obj, contents=contents, response_dict=rdict) conn = client.Connection(preauthurl=self.url, preauthtoken=self.token) conn.delete_object(self.container_name, obj, query_string='version-id=%s' % version) else: conn.delete_object(self.container_name, obj)"," client.put_object(self.url, token=self.token, container=self.container_name, name=obj, contents=contents, response_dict=rdict) client.delete_object( self.url, self.token, self.container_name, obj, query_string='version-id=%s' % version) else: client.delete_object( self.url, self.token, self.container_name, obj)",7,8
openstack%2Frequirements~master~I147cf5d353883272a28aa69ea990ab1a02fd6874,openstack/requirements,master,I147cf5d353883272a28aa69ea990ab1a02fd6874,update constraint for keystoneauth1 to new release 4.3.1,MERGED,2021-02-22 15:53:01.000000000,2021-02-23 19:36:03.000000000,2021-02-23 19:36:03.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 15:53:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7f1de526e7cc1491fb367994d1d53eef228e7456', 'message': 'update constraint for keystoneauth1 to new release 4.3.1\n\nmeta: version: 4.3.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Change-Id: I7e0a8cdfc4562b5c7e301a530d847401704c0fb8\nmeta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I147cf5d353883272a28aa69ea990ab1a02fd6874\n'}]",0,776949,7f1de526e7cc1491fb367994d1d53eef228e7456,8,3,1,11131,,,0,"update constraint for keystoneauth1 to new release 4.3.1

meta: version: 4.3.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Change-Id: I7e0a8cdfc4562b5c7e301a530d847401704c0fb8
meta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I147cf5d353883272a28aa69ea990ab1a02fd6874
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/776949/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7f1de526e7cc1491fb367994d1d53eef228e7456,new-release,keystoneauth1===4.3.1,keystoneauth1===4.3.0,1,1
openstack%2Fpuppet-panko~master~I5ffd293f860501f4666e7e1dc354a7dc3267f237,openstack/puppet-panko,master,I5ffd293f860501f4666e7e1dc354a7dc3267f237,Add support for healthcheck middleware options,MERGED,2021-02-01 13:38:16.000000000,2021-02-23 19:29:27.000000000,2021-02-23 19:23:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 13:38:16.000000000', 'files': ['spec/classes/panko_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-97c3e1d45eb48df5.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/d15fcfaeec553a52a1290fb8a5b938c4c78db93e', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I5ffd293f860501f4666e7e1dc354a7dc3267f237\n'}]",0,773392,d15fcfaeec553a52a1290fb8a5b938c4c78db93e,8,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I5ffd293f860501f4666e7e1dc354a7dc3267f237
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/92/773392/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/panko_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-97c3e1d45eb48df5.yaml', 'manifests/healthcheck.pp']",3,d15fcfaeec553a52a1290fb8a5b938c4c78db93e,healthcheck,"# == Define: panko::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class panko::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include panko::deps oslo::healthcheck { 'panko_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Fproject-config~master~Ie199f5f17ff99d2b26b9d58a3c0a56fa90e61667,openstack/project-config,master,Ie199f5f17ff99d2b26b9d58a3c0a56fa90e61667,Deprecate monasca-log-api,MERGED,2021-02-23 11:39:25.000000000,2021-02-23 19:29:15.000000000,2021-02-23 19:29:15.000000000,"[{'_account_id': 841}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-02-23 11:39:25.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/46d726349cc811937d69654dca38c17d45f49ec7', 'message': 'Deprecate monasca-log-api\n\nThis is step 2c of the deprecation process as described in [1].\n\nhttps: //docs.openstack.org/project-team-guide/repository.html#step-2c-remove-noop-jobs\nChange-Id: Ie199f5f17ff99d2b26b9d58a3c0a56fa90e61667\n'}]",1,777093,46d726349cc811937d69654dca38c17d45f49ec7,9,6,1,28062,,,0,"Deprecate monasca-log-api

This is step 2c of the deprecation process as described in [1].

https: //docs.openstack.org/project-team-guide/repository.html#step-2c-remove-noop-jobs
Change-Id: Ie199f5f17ff99d2b26b9d58a3c0a56fa90e61667
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/777093/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,46d726349cc811937d69654dca38c17d45f49ec7,, - periodic-jobs-with-oslo-master - api-guide-jobs - api-ref-jobs - publish-to-pypi check: queue: monasca gate: queue: monasca, check: jobs: - noop: branches: master gate: jobs: - noop: branches: master,6,6
openstack%2Fproject-config~master~Ic03334754d4c10abf640f1364a49edd403821c7f,openstack/project-config,master,Ic03334754d4c10abf640f1364a49edd403821c7f,Deprecate monasca-ceilometer,MERGED,2021-02-23 11:43:41.000000000,2021-02-23 19:25:01.000000000,2021-02-23 19:25:01.000000000,"[{'_account_id': 841}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-02-23 11:43:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bbc9ffd5b8867405a59ad5fbf43efa493b6bdcb6', 'message': 'Deprecate monasca-ceilometer\n\nThis is step 2c of the deprecation process as described in [1].\n\nhttps: //docs.openstack.org/project-team-guide/repository.html#step-2c-remove-noop-jobs\nChange-Id: Ic03334754d4c10abf640f1364a49edd403821c7f\n'}]",1,777095,bbc9ffd5b8867405a59ad5fbf43efa493b6bdcb6,10,6,1,28062,,,0,"Deprecate monasca-ceilometer

This is step 2c of the deprecation process as described in [1].

https: //docs.openstack.org/project-team-guide/repository.html#step-2c-remove-noop-jobs
Change-Id: Ic03334754d4c10abf640f1364a49edd403821c7f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/777095/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,bbc9ffd5b8867405a59ad5fbf43efa493b6bdcb6,, - publish-to-pypi, check: jobs: - noop: branches: master gate: jobs: - noop: branches: master,1,8
openstack%2Fpuppet-openstack-integration~master~If75c8d42891efa87ca1922e2189027b077e37fd9,openstack/puppet-openstack-integration,master,If75c8d42891efa87ca1922e2189027b077e37fd9,Use python3 instead of python2,MERGED,2021-02-15 00:28:33.000000000,2021-02-23 19:21:34.000000000,2021-02-23 19:21:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-02-15 00:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/10dd9fd1b1b84400b3a4f36d242292cd93999618', 'message': 'Use python3 instead of python2\n\nChange-Id: If75c8d42891efa87ca1922e2189027b077e37fd9\n'}, {'number': 2, 'created': '2021-02-15 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/18a19d643e738447c96c0b462a980f54c9900732', 'message': 'Use python3 instead of python2\n\nChange-Id: If75c8d42891efa87ca1922e2189027b077e37fd9\n'}, {'number': 3, 'created': '2021-02-15 10:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eab704ebdfa6b1c407bf3057b394afbdf57cc288', 'message': 'Use python3 instead of python2\n\nChange-Id: If75c8d42891efa87ca1922e2189027b077e37fd9\n'}, {'number': 4, 'created': '2021-02-15 11:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bcac121ac5a4ca745ccae8bb410c0b9ec6b424b1', 'message': 'Use python3 instead of python2\n\nChange-Id: If75c8d42891efa87ca1922e2189027b077e37fd9\n'}, {'number': 5, 'created': '2021-02-15 11:03:01.000000000', 'files': ['playbooks/run-lint-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7ea2e4f590d6c18ceb83d0507c9e9be72f0d5167', 'message': 'Use python3 instead of python2\n\nChange-Id: If75c8d42891efa87ca1922e2189027b077e37fd9\n'}]",0,775540,7ea2e4f590d6c18ceb83d0507c9e9be72f0d5167,14,4,5,9816,,,0,"Use python3 instead of python2

Change-Id: If75c8d42891efa87ca1922e2189027b077e37fd9
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/775540/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/run-lint-tests.yaml'],1,10dd9fd1b1b84400b3a4f36d242292cd93999618,octopus," MODULE=$(python3 -c 'import json;print json.load(open(""metadata.json""))[""name""]')"," MODULE=$(python -c 'import json;print json.load(open(""metadata.json""))[""name""]')",1,1
openstack%2Fpuppet-designate~master~I93a0236939063e18a1956da5bd5269392688e44b,openstack/puppet-designate,master,I93a0236939063e18a1956da5bd5269392688e44b,Add support for healthcheck middleware options,MERGED,2021-02-01 01:47:38.000000000,2021-02-23 19:17:21.000000000,2021-02-23 19:16:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 01:47:38.000000000', 'files': ['spec/classes/designate_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-61063115f81a1b99.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/0f98de9b8162992a9f9d6a32f043b9d13124dec0', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I93a0236939063e18a1956da5bd5269392688e44b\n'}]",0,773276,0f98de9b8162992a9f9d6a32f043b9d13124dec0,8,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I93a0236939063e18a1956da5bd5269392688e44b
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/76/773276/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-61063115f81a1b99.yaml', 'manifests/healthcheck.pp']",3,0f98de9b8162992a9f9d6a32f043b9d13124dec0,healthcheck,"# == Define: designate::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class designate::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include designate::deps oslo::healthcheck { 'designate_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Fswift~master~Ic26f2b33a63afe338a0803b19b5085865522f7b8,openstack/swift,master,Ic26f2b33a63afe338a0803b19b5085865522f7b8,Allow running a single named CORS test,ABANDONED,2021-02-05 21:16:05.000000000,2021-02-23 18:57:44.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 21:16:05.000000000', 'files': ['test/cors/test-container.js', 'test/cors/test-account.js', 'test/cors/test-large-objects.js', 'test/cors/harness.js', 'test/cors/test-s3-obj.js', 'test/cors/test-object.js', 'test/cors/test-info.js', 'test/cors/test-symlink.js'], 'web_link': 'https://opendev.org/openstack/swift/commit/f190349ce65a8babc8f33fdc482ff2ef9ef3f1b9', 'message': 'Allow running a single named CORS test\n\nChange-Id: Ic26f2b33a63afe338a0803b19b5085865522f7b8\n'}]",1,774310,f190349ce65a8babc8f33fdc482ff2ef9ef3f1b9,5,3,1,15343,,,0,"Allow running a single named CORS test

Change-Id: Ic26f2b33a63afe338a0803b19b5085865522f7b8
",git fetch https://review.opendev.org/openstack/swift refs/changes/10/774310/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/cors/test-account.js', 'test/cors/test-container.js', 'test/cors/test-large-objects.js', 'test/cors/harness.js', 'test/cors/test-s3-obj.js', 'test/cors/test-object.js', 'test/cors/test-info.js', 'test/cors/test-symlink.js']",8,f190349ce65a8babc8f33fdc482ff2ef9ef3f1b9,cors," () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-no-cors') () => MakeSymlinkRequest('HEAD', 'public-with-cors/symlink-to-public-no-cors') () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-no-cors', { Range: 'bytes=100-199' }) () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors') () => MakeSymlinkRequest('HEAD', 'public-with-cors/symlink-to-public-with-cors') () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { Range: 'bytes=100-199' }) () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-private') () => MakeSymlinkRequest('HEAD', 'public-with-cors/symlink-to-private') () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-private', { Range: 'bytes=100-199' }) () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-Match': '0f343b0931126a20f133d67c2b018a3b' }) () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-Match': 'something-else' }) () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-None-Match': '0f343b0931126a20f133d67c2b018a3b' }) () => MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-None-Match': 'something-else' })"," MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-no-cors') MakeSymlinkRequest('HEAD', 'public-with-cors/symlink-to-public-no-cors') MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-no-cors', { Range: 'bytes=100-199' }) MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors') MakeSymlinkRequest('HEAD', 'public-with-cors/symlink-to-public-with-cors') MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { Range: 'bytes=100-199' }) MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-private') MakeSymlinkRequest('HEAD', 'public-with-cors/symlink-to-private') MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-private', { Range: 'bytes=100-199' }) MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-Match': '0f343b0931126a20f133d67c2b018a3b' }) MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-Match': 'something-else' }) MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-None-Match': '0f343b0931126a20f133d67c2b018a3b' }) MakeSymlinkRequest('GET', 'public-with-cors/symlink-to-public-with-cors', { 'If-None-Match': 'something-else' })",76,72
openstack%2Fpuppet-ceilometer~stable%2Ftrain~Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,openstack/puppet-ceilometer,stable/train,Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,Remove transformers from pipeline.yaml,MERGED,2021-02-01 13:27:06.000000000,2021-02-23 18:50:54.000000000,2021-02-23 18:48:44.000000000,"[{'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 13:27:06.000000000', 'files': ['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/5901c94b2cb90ec51b722e877be46edbdc80dba0', 'message': 'Remove transformers from pipeline.yaml\n\nThis change removes usage of transformers from pipeline.yaml because\nsupport of transofermer was already removed from ceilometer[1].\n\n[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798\n\nBackport note:\nThis backport patch includes the subsequent change[2] to fix the wrong\nfile mentioned in the release note file.\n\n[2] d27fbd3fed472a51670393a4a295ba6b16a35bea\n\nCloses-Bug: #1912345\nChange-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab\n(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)\n(cherry picked from commit 815d7033dbe6f5c3dde1128ce6aecc4048eb09cb)\n(cherry picked from commit ed9563b63fdc85f16b95f9daee311f26e21a391e)\n'}]",0,773212,5901c94b2cb90ec51b722e877be46edbdc80dba0,9,4,1,9816,,,0,"Remove transformers from pipeline.yaml

This change removes usage of transformers from pipeline.yaml because
support of transofermer was already removed from ceilometer[1].

[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798

Backport note:
This backport patch includes the subsequent change[2] to fix the wrong
file mentioned in the release note file.

[2] d27fbd3fed472a51670393a4a295ba6b16a35bea

Closes-Bug: #1912345
Change-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab
(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)
(cherry picked from commit 815d7033dbe6f5c3dde1128ce6aecc4048eb09cb)
(cherry picked from commit ed9563b63fdc85f16b95f9daee311f26e21a391e)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/12/773212/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb']",2,5901c94b2cb90ec51b722e877be46edbdc80dba0,bug/1912345-stable/victoria-stable/ussuri-stable/train,," - name: cpu_source meters: - ""cpu"" sinks: - cpu_sink - cpu_delta_sink - name: disk_source meters: - ""disk.device.read.bytes"" - ""disk.device.read.requests"" - ""disk.device.write.bytes"" - ""disk.device.write.requests"" sinks: - disk_sink - name: network_source meters: - ""network.incoming.bytes"" - ""network.incoming.packets"" - ""network.outgoing.bytes"" - ""network.outgoing.packets"" sinks: - network_sink transformers: publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_sink transformers: - name: ""rate_of_change"" parameters: target: name: ""cpu_util"" unit: ""%"" type: ""gauge"" scale: ""100.0 / (10**9 * (resource_metadata.cpu_number or 1))"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_delta_sink transformers: - name: ""delta"" parameters: target: name: ""cpu.delta"" growth_only: True publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: disk_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""disk\\.device\\.(read|write)\\.(bytes|requests)"" unit: ""(B|request)"" target: map_to: name: ""disk.device.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: network_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""network\\.(incoming|outgoing)\\.(bytes|packets)"" unit: ""(B|packet)"" target: map_to: name: ""network.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge""",6,81
openstack%2Fironic~master~Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a,openstack/ironic,master,Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a,Fix broken configdrive_use_object_store,MERGED,2021-02-16 19:51:15.000000000,2021-02-23 18:11:10.000000000,2021-02-23 18:08:57.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-16 19:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71316d31887966fd3c72f3688249abbfa6c7e1c0', 'message': 'Use configdrive_use_object_store when swift is enabled\n\nChange-Id: Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a\n'}, {'number': 2, 'created': '2021-02-17 15:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f65f9f66e4d130456fab7e1578cf395903a74e4b', 'message': 'Fix broken configdrive_use_object_store\n\nWhen it is set to True, we try to write text data to a binary file,\nwhich is not possible in Python 3. The issue has been ""helpfully""\nhidden by the fact that we use bytes in unit tests, as well as\nby lack of CI coverage.\n\nChange-Id: Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a\n'}, {'number': 3, 'created': '2021-02-18 09:25:17.000000000', 'files': ['devstack/lib/ironic', 'releasenotes/notes/configdrive_use_object_store-93cfd7dc27d90003.yaml', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/73bdebd127b3897860c7bcff3848032a2737d1ba', 'message': 'Fix broken configdrive_use_object_store\n\nWhen it is set to True, we try to write text data to a binary file,\nwhich is not possible in Python 3. The issue has been ""helpfully""\nhidden by the fact that we use bytes in unit tests, as well as\nby lack of CI coverage.\n\nChange-Id: Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a\n'}]",0,775924,73bdebd127b3897860c7bcff3848032a2737d1ba,23,3,3,10239,,,0,"Fix broken configdrive_use_object_store

When it is set to True, we try to write text data to a binary file,
which is not possible in Python 3. The issue has been ""helpfully""
hidden by the fact that we use bytes in unit tests, as well as
by lack of CI coverage.

Change-Id: Ibbf90dcbcb36a5f7cf084a44a221c0c5c003b95a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/775924/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,71316d31887966fd3c72f3688249abbfa6c7e1c0,configdrive_use_object_store, if is_service_enabled swift; then iniset $IRONIC_CONF_FILE deploy configdrive_use_object_store True fi ,,4,0
openstack%2Ftripleo-common~master~I11de5d3d4c978d5efad506f0aa3e57992946e693,openstack/tripleo-common,master,I11de5d3d4c978d5efad506f0aa3e57992946e693,Remove mistral arg from generate_passwords,MERGED,2021-02-19 12:50:21.000000000,2021-02-23 17:32:32.000000000,2021-02-23 17:29:29.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 12:50:21.000000000', 'files': ['tripleo_common/utils/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/00b4f06edec1d74af93c3e6c214ee3e05f86369d', 'message': 'Remove mistral arg from generate_passwords\n\nThis argument is no longer used by the function, and was also masking an\nerror in how the function was called from\ntripleoclient/v1/overcloud_deploy.py[1] which is expecting the stack name\nto be the 3rd arg.\n\n[1] https://opendev.org/openstack/python-tripleoclient/src/commit/35b7133d690ef5d0326c0f094802ce4a99fed6eb/tripleoclient/v1/overcloud_deploy.py#L116\n\nChange-Id: I11de5d3d4c978d5efad506f0aa3e57992946e693\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,776637,00b4f06edec1d74af93c3e6c214ee3e05f86369d,9,4,1,7144,,,0,"Remove mistral arg from generate_passwords

This argument is no longer used by the function, and was also masking an
error in how the function was called from
tripleoclient/v1/overcloud_deploy.py[1] which is expecting the stack name
to be the 3rd arg.

[1] https://opendev.org/openstack/python-tripleoclient/src/commit/35b7133d690ef5d0326c0f094802ce4a99fed6eb/tripleoclient/v1/overcloud_deploy.py#L116

Change-Id: I11de5d3d4c978d5efad506f0aa3e57992946e693
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/776637/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/plan.py'],1,00b4f06edec1d74af93c3e6c214ee3e05f86369d,,"def generate_passwords(swift=None, heat=None,","def generate_passwords(swift=None, heat=None, mistral=None,",1,1
openstack%2Ftripleo-common~master~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,master,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-12 15:16:20.000000000,2021-02-23 17:31:00.000000000,2021-02-23 17:29:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-12 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db8a584df96b41a1611c9d266e818db9367b4d17', 'message': 'Add python3-pymemcache to tcib\n\npymemcache is required to connect to Memcached with TLS\n\nsee: https://review.opendev.org/761612\nChange-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5\n'}, {'number': 2, 'created': '2021-02-16 14:26:46.000000000', 'files': ['container-images/tcib/base/os/os.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab387b6a35dd18640bb9f4701097432b6959d03a', 'message': ""Add python3-pymemcache to tcib\n\npymemcache is required by services connecting to\nMemcached with TLS. pymemcache will also likely replace\npython-memcached alltogether, because of it's lack of\nmaintenance.\n\nsee: https://review.opendev.org/761612\nChange-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5\n""}]",4,775400,ab387b6a35dd18640bb9f4701097432b6959d03a,20,8,2,14250,,,0,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/775400/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml']",4,db8a584df96b41a1611c9d266e818db9367b4d17,memcached-cert, - python3-pymemcache,,4,0
openstack%2Frequirements~master~I2acf0c3c6e7f919570fc35fb2bba668b7e3245a8,openstack/requirements,master,I2acf0c3c6e7f919570fc35fb2bba668b7e3245a8,Pin dnspython < 2.0.0,ABANDONED,2020-11-04 15:39:15.000000000,2021-02-23 17:30:59.000000000,,"[{'_account_id': 9708}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-04 15:39:15.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c8712306d16ff7b69cad3c2ee1473f6a9c4821e', 'message': 'Pin dnspython < 2.0.0\n\nAs dsnpython 2.1.0 is around the corner and eventlet restricted the\ndnspython version to < 2.0.0 we should change our dnspython!=2.0.0\nrule to <2.0.0 to avoid a break when dnspython 2.1.0 is released.\n\nRelated-Bug: #1888237\nChange-Id: I2acf0c3c6e7f919570fc35fb2bba668b7e3245a8\n'}]",2,761432,4c8712306d16ff7b69cad3c2ee1473f6a9c4821e,10,3,1,9708,,,0,"Pin dnspython < 2.0.0

As dsnpython 2.1.0 is around the corner and eventlet restricted the
dnspython version to < 2.0.0 we should change our dnspython!=2.0.0
rule to <2.0.0 to avoid a break when dnspython 2.1.0 is released.

Related-Bug: #1888237
Change-Id: I2acf0c3c6e7f919570fc35fb2bba668b7e3245a8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/761432/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,4c8712306d16ff7b69cad3c2ee1473f6a9c4821e,bug/1888237,# eventlet is not compatibile with 2.0.0 or newer: https://github.com/eventlet/eventlet/issues/619 dnspython<2.0.0 # http://www.dnspython.org/LICENSE,# eventlet is not compatibile with 2.0.0: https://github.com/eventlet/eventlet/issues/619 dnspython!=2.0.0 # http://www.dnspython.org/LICENSE,2,2
openstack%2Frequirements~master~I3c41a3ebc3aaa04b31c347f1a6fd6e56f3c6c6cc,openstack/requirements,master,I3c41a3ebc3aaa04b31c347f1a6fd6e56f3c6c6cc,Skip eventlet bug version for py3.7,ABANDONED,2020-10-06 17:40:15.000000000,2021-02-23 17:29:58.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27380}]","[{'number': 1, 'created': '2020-10-06 17:40:15.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1c5c58f50045ccedfc6aa10fcf42892fc712438a', 'message': 'Skip eventlet bug version for py3.7\n\nThere is a known bug for py3.7 and greater using the eventlet lib\nwith SSL [0]. Eventlet has released the version 0.26 that fixes\nthe bug. From that, it reverts what the patch [1] did, because it\nwas a workaround while the eventlet had not fixed the bug.\n\n[0] https://github.com/eventlet/eventlet/issues/526\n[1] https://review.opendev.org/#/c/738476/\n\nChange-Id: I3c41a3ebc3aaa04b31c347f1a6fd6e56f3c6c6cc\n'}]",1,756371,1c5c58f50045ccedfc6aa10fcf42892fc712438a,6,3,1,31721,,,0,"Skip eventlet bug version for py3.7

There is a known bug for py3.7 and greater using the eventlet lib
with SSL [0]. Eventlet has released the version 0.26 that fixes
the bug. From that, it reverts what the patch [1] did, because it
was a workaround while the eventlet had not fixed the bug.

[0] https://github.com/eventlet/eventlet/issues/526
[1] https://review.opendev.org/#/c/738476/

Change-Id: I3c41a3ebc3aaa04b31c347f1a6fd6e56f3c6c6cc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/756371/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,1c5c58f50045ccedfc6aa10fcf42892fc712438a,,requests===2.24.0,requests===2.23.0,4,3
openstack%2Fnova~master~Ic3f22308df7e015b6fb9531b178262aa776cf0a8,openstack/nova,master,Ic3f22308df7e015b6fb9531b178262aa776cf0a8,tests: Remove 'test_tcp_rst_no_compute_rpcapi',ABANDONED,2021-02-23 17:21:04.000000000,2021-02-23 17:24:21.000000000,,[],"[{'number': 1, 'created': '2021-02-23 17:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59c210125daec28bdc37de5f211b22ca3e347f4f', 'message': ""tests: Remove ;test_tcp_rst_no_compute_rpcapi'\n\nRemove the 'test_tcp_rst_no_compute_rpcapi' test case. This test is not\ncorrect. The 'self.wh' object is set to a proxy class that we mock to\ninherit from a 'Mock' object, so unset variables are returned as mocked\nvalues, which suggests this doesn't appear to have been testing what it\nwas expected to be testing. Along with a subtle change in Python 3.8 to\nhow this is mocked, the only way to get the test to pass would be to\nmock the return value we are checking, so we would just be testing that\nmocking works. This should probably be reimplemented as a functional\ntest since it tries to reach into external code to manipulate results.\n\nChange-Id: Ic3f22308df7e015b6fb9531b178262aa776cf0a8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCo-authored-by: Melanie Witt <melwittt@gmail.com>\n""}, {'number': 2, 'created': '2021-02-23 17:23:04.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fe3c041bc363d76f62f0e74a18299e0b1226c19', 'message': ""tests: Remove 'test_tcp_rst_no_compute_rpcapi'\n\nRemove the 'test_tcp_rst_no_compute_rpcapi' test case. This test is not\ncorrect. The 'self.wh' object is set to a proxy class that we mock to\ninherit from a 'Mock' object, so unset variables are returned as mocked\nvalues, which suggests this doesn't appear to have been testing what it\nwas expected to be testing. Along with a subtle change in Python 3.8 to\nhow this is mocked, the only way to get the test to pass would be to\nmock the return value we are checking, so we would just be testing that\nmocking works. This should probably be reimplemented as a functional\ntest since it tries to reach into external code to manipulate results.\n\nChange-Id: Ic3f22308df7e015b6fb9531b178262aa776cf0a8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCo-authored-by: Melanie Witt <melwittt@gmail.com>\n""}]",0,777168,3fe3c041bc363d76f62f0e74a18299e0b1226c19,3,0,2,15334,,,0,"tests: Remove 'test_tcp_rst_no_compute_rpcapi'

Remove the 'test_tcp_rst_no_compute_rpcapi' test case. This test is not
correct. The 'self.wh' object is set to a proxy class that we mock to
inherit from a 'Mock' object, so unset variables are returned as mocked
values, which suggests this doesn't appear to have been testing what it
was expected to be testing. Along with a subtle change in Python 3.8 to
how this is mocked, the only way to get the test to pass would be to
mock the return value we are checking, so we would just be testing that
mocking works. This should probably be reimplemented as a functional
test since it tries to reach into external code to manipulate results.

Change-Id: Ic3f22308df7e015b6fb9531b178262aa776cf0a8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Co-authored-by: Melanie Witt <melwittt@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/777168/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,59c210125daec28bdc37de5f211b22ca3e347f4f,mock-4.0.3,," def test_tcp_rst_no_compute_rpcapi(self): # Tests that we don't create a ComputeAPI object if we receive a # TCP RST message. Simulate by raising the socket.err upon recv. err = socket.error('[Errno 104] Connection reset by peer') self.wh.socket.recv.side_effect = err conn = mock.MagicMock() address = mock.MagicMock() self.wh.server.top_new_client(conn, address) self.assertIsNone(self.wh._compute_rpcapi) ",0,10
openstack%2Fironic-lib~stable%2Fussuri~Ie9809b3e4fe2bea6b66ee95c442111942e85d618,openstack/ironic-lib,stable/ussuri,Ie9809b3e4fe2bea6b66ee95c442111942e85d618,Handle EBRs and tiny partitions when removing metadata,MERGED,2021-02-22 13:51:17.000000000,2021-02-23 17:23:18.000000000,2021-02-23 17:21:48.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-22 13:51:17.000000000', 'files': ['releasenotes/notes/erase-tiny-partitions-c408a3a4afe60d44.yaml', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d2e477d39638d3fa9230e16f93b6a7c48092e365', 'message': ""Handle EBRs and tiny partitions when removing metadata\n\nExtended boot records (EBRs) are used in the MSDOS partitioning\nscheme to manage extended partitions. EBRs are small partitions\nthemselves and Ironic will therefore treat them like any other\npartition during cleaning. Since EBRs are smaller than a GPT\n(33 sectors), dd'ing 33 sectors will fail. This patch proposes\na fix to handle EBRs (and other tiny paritions) by adjusting\nthe number of blocks writtent to be the partition size at max.\n\nStory: #2008539\nTask: #41628\nChange-Id: Ie9809b3e4fe2bea6b66ee95c442111942e85d618\n(cherry picked from commit 9a60d3853fc5b36cd3715e9419568cc9c51f5a8e)\n""}]",0,776936,d2e477d39638d3fa9230e16f93b6a7c48092e365,8,3,1,11292,,,0,"Handle EBRs and tiny partitions when removing metadata

Extended boot records (EBRs) are used in the MSDOS partitioning
scheme to manage extended partitions. EBRs are small partitions
themselves and Ironic will therefore treat them like any other
partition during cleaning. Since EBRs are smaller than a GPT
(33 sectors), dd'ing 33 sectors will fail. This patch proposes
a fix to handle EBRs (and other tiny paritions) by adjusting
the number of blocks writtent to be the partition size at max.

Story: #2008539
Task: #41628
Change-Id: Ie9809b3e4fe2bea6b66ee95c442111942e85d618
(cherry picked from commit 9a60d3853fc5b36cd3715e9419568cc9c51f5a8e)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/36/776936/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/erase-tiny-partitions-c408a3a4afe60d44.yaml', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",3,d2e477d39638d3fa9230e16f93b6a7c48092e365,,"GPT_SIZE_SECTORS = 33 # Overwrite the Primary GPT, catch very small partitions (like EBRs) dd_count = 'count=%s' % GPT_SIZE_SECTORS dev_size = get_dev_block_size(dev) if dev_size < GPT_SIZE_SECTORS: dd_count = 'count=%s' % dev_size utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, dd_count, # Overwrite the Secondary GPT, do this only if there could be one if dev_size > GPT_SIZE_SECTORS: gpt_backup = dev_size - GPT_SIZE_SECTORS dd_seek = 'seek=%i' % gpt_backup dd_count = 'count=%s' % GPT_SIZE_SECTORS utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, dd_count, dd_seek, run_as_root=True, use_standard_locale=True) "," gpt_backup = get_dev_block_size(dev) - 33 dd_seek = 'seek=%i' % gpt_backup utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, 'count=33', utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, 'count=33', dd_seek, run_as_root=True, use_standard_locale=True)",76,5
openstack%2Fovsdbapp~stable%2Ftrain~Ib83859fb038c441064bcf3d5d96c31cface7d5c9,openstack/ovsdbapp,stable/train,Ib83859fb038c441064bcf3d5d96c31cface7d5c9,More robustly handle venv ovs/ovn paths,MERGED,2021-02-12 12:22:11.000000000,2021-02-23 17:19:29.000000000,2021-02-23 17:19:29.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 12:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/afee269fa5df9d82c4d943a532836ad7be0ff9e8', 'message': 'More robustly handle venv ovs/ovn paths\n\nThis should handle both src directories and system-installed ovs\nand ovn, whether by package in /usr or by source in /usr/local.\n\nThis patchset also cherry picks from\ncommit 5d70d45f2d014cf265b68844122eadd541f5c3cf which included\npre-requisite changes for OvsOvnVenvFixture that were improved.\nWith that, this changes tools/setup-ovs.sh to take an OVS_BRANCH\nenv variable to use a specific branch.\n\nCloses-Bug: 1856676\n\nConflicts:\n  ovsdbapp/constants.py\n  ovsdbapp/venv.py\n\nChange-Id: Ib83859fb038c441064bcf3d5d96c31cface7d5c9\n(cherry picked from commit 5d70d45f2d014cf265b68844122eadd541f5c3cf)\n(cherry picked from commit 781ecb5bf648774f5d365585a0c2c13442523754)\n'}, {'number': 2, 'created': '2021-02-12 12:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3e7c6770214db49473db3a2c46fdf71f11d48c4e', 'message': 'More robustly handle venv ovs/ovn paths\n\nThis should handle both src directories and system-installed ovs\nand ovn, whether by package in /usr or by source in /usr/local.\n\nThis patchset also cherry picks from\ncommit 5d70d45f2d014cf265b68844122eadd541f5c3cf which included\npre-requisite changes for OvsOvnVenvFixture that were improved.\nWith that, this changes tools/setup-ovs.sh to take an OVS_BRANCH\nenv variable to use a specific branch.\n\nCloses-Bug: 1856676\n\nConflicts:\n  ovsdbapp/constants.py\n  ovsdbapp/venv.py\n\nChange-Id: Ib83859fb038c441064bcf3d5d96c31cface7d5c9\n(cherry picked from commit 5d70d45f2d014cf265b68844122eadd541f5c3cf)\n(cherry picked from commit 781ecb5bf648774f5d365585a0c2c13442523754)\n'}, {'number': 3, 'created': '2021-02-12 12:31:33.000000000', 'files': ['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2fa0fb17960ca64eb132ddbe23fdd56191f874a5', 'message': 'More robustly handle venv ovs/ovn paths\n\nThis should handle both src directories and system-installed ovs\nand ovn, whether by package in /usr or by source in /usr/local.\n\nThis patchset also cherry picks from\ncommit 5d70d45f2d014cf265b68844122eadd541f5c3cf which included\npre-requisite changes for OvsOvnVenvFixture that were improved.\nWith that, this changes tools/setup-ovs.sh to take an OVS_BRANCH\nenv variable to use a specific branch.\n\nCloses-Bug: 1856676\n\nConflicts:\n  ovsdbapp/constants.py\n  ovsdbapp/venv.py\n\nChange-Id: Ib83859fb038c441064bcf3d5d96c31cface7d5c9\n(cherry picked from commit 5d70d45f2d014cf265b68844122eadd541f5c3cf)\n(cherry picked from commit 781ecb5bf648774f5d365585a0c2c13442523754)\n'}]",0,775370,2fa0fb17960ca64eb132ddbe23fdd56191f874a5,10,4,3,11952,,,0,"More robustly handle venv ovs/ovn paths

This should handle both src directories and system-installed ovs
and ovn, whether by package in /usr or by source in /usr/local.

This patchset also cherry picks from
commit 5d70d45f2d014cf265b68844122eadd541f5c3cf which included
pre-requisite changes for OvsOvnVenvFixture that were improved.
With that, this changes tools/setup-ovs.sh to take an OVS_BRANCH
env variable to use a specific branch.

Closes-Bug: 1856676

Conflicts:
  ovsdbapp/constants.py
  ovsdbapp/venv.py

Change-Id: Ib83859fb038c441064bcf3d5d96c31cface7d5c9
(cherry picked from commit 5d70d45f2d014cf265b68844122eadd541f5c3cf)
(cherry picked from commit 781ecb5bf648774f5d365585a0c2c13442523754)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/70/775370/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'tox.ini']",3,afee269fa5df9d82c4d943a532836ad7be0ff9e8,, OVS_BRANCH={env:OVS_BRANCH:} OVN_BRANCH={env:OVN_BRANCH:},,57,29
openstack%2Fpuppet-glance~stable%2Fvictoria~Ib724f6e895716847827be48ed08b01a7a312338f,openstack/puppet-glance,stable/victoria,Ib724f6e895716847827be48ed08b01a7a312338f,Add config parameter for cinder mounting needs,MERGED,2021-02-23 05:28:31.000000000,2021-02-23 17:18:01.000000000,2021-02-23 17:15:28.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 05:28:31.000000000', 'files': ['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp', 'releasenotes/notes/glance_backend_cinder_mount_point_base-5741d2966cc10c7b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/11bd956b9b6ae6e09547bfe14ac02af4ade573ce', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the cinder mount point for NFS volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n(cherry picked from commit 46e9319d8e012d2df6b7d8f85f59315db6e95ff2)\n'}]",0,776890,11bd956b9b6ae6e09547bfe14ac02af4ade573ce,8,3,1,19138,,,0,"Add config parameter for cinder mounting needs

This patch is introducing cinder_mount_point_base parameter into
glance::backend::multistore::cinder class, so that operators can
provide the cinder mount point for NFS volumes.

Change-Id: Ib724f6e895716847827be48ed08b01a7a312338f
(cherry picked from commit 46e9319d8e012d2df6b7d8f85f59315db6e95ff2)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/90/776890/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp', 'releasenotes/notes/glance_backend_cinder_mount_point_base-5741d2966cc10c7b.yaml']",3,11bd956b9b6ae6e09547bfe14ac02af4ade573ce,glance-cinder-mountpoint-stable/victoria,"--- features: - | A new parameter ``cinder_mount_point_base`` is introduced into ``glance::backend::multistore::cinder`` class, so that operators can provide the cinder mount point for NFS volumes.",,19,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I46529ccab6c197da4885950282eb6731e28573d6,openstack/tripleo-heat-templates,stable/train,I46529ccab6c197da4885950282eb6731e28573d6,Add a new role parameter rhsm_enforce.,MERGED,2021-02-17 17:09:42.000000000,2021-02-23 16:54:21.000000000,2021-02-23 16:54:21.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 31245}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-02-17 17:09:42.000000000', 'files': ['roles/CephStorage.yaml', 'common/deploy-steps.j2', 'roles_data.yaml', 'roles/CephObject.yaml', 'roles/CephFile.yaml', 'roles/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dc7ceeacd0e26222ccda171b74417a9cb969cd9', 'message': 'Add a new role parameter rhsm_enforce.\n\nWith this new switch we can opt-out enforcement of the subscription\ncheck for some composed role. This is mainly useful for composed Ceph\nwhich have different constraint than other Openstack roles.\n\nCloses-Bug: 1912512\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776235\n\nChange-Id: I46529ccab6c197da4885950282eb6731e28573d6\n(cherry picked from commit cde398d9b49aaf44cd0cb40904bd8c979c51d33b)\n'}]",0,776243,2dc7ceeacd0e26222ccda171b74417a9cb969cd9,12,9,1,8297,,,0,"Add a new role parameter rhsm_enforce.

With this new switch we can opt-out enforcement of the subscription
check for some composed role. This is mainly useful for composed Ceph
which have different constraint than other Openstack roles.

Closes-Bug: 1912512
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776235

Change-Id: I46529ccab6c197da4885950282eb6731e28573d6
(cherry picked from commit cde398d9b49aaf44cd0cb40904bd8c979c51d33b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/776243/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/CephStorage.yaml', 'common/deploy-steps.j2', 'roles/CephObject.yaml', 'roles_data.yaml', 'roles/CephFile.yaml', 'roles/README.rst']",6,2dc7ceeacd0e26222ccda171b74417a9cb969cd9,,"* rhsm_enforce: (boolean), optional, default to true. Some role may not follow the EUS stream constraint, like CephOSD or composed Ceph Mon/Mgr. This switch ensures that we can model this and disable the check when it is not needed. Note that on non Red Hat environment this switch has no effect. ",,11,0
openstack%2Fbarbican~master~Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,openstack/barbican,master,Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,Use system locks in pkcs11 library,MERGED,2021-02-22 20:18:37.000000000,2021-02-23 16:47:16.000000000,2021-02-23 16:45:49.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-22 20:18:37.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b5b350b4ced9aa5e7c7af424c439be7097052b21', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n'}]",0,776996,b5b350b4ced9aa5e7c7af424c439be7097052b21,8,3,1,7973,,,0,"Use system locks in pkcs11 library

This patch adds a new option to the PKCS#11 backend: `os_locking_ok`.
When set to true, the flag CKF_OS_LOCKING_OK is passed to the
C_Initialize function for the client library.

Change-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0
",git fetch https://review.opendev.org/openstack/barbican refs/changes/96/776996/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py']",3,b5b350b4ced9aa5e7c7af424c439be7097052b21,pkcs11-os-locking,"CKF_OS_LOCKING_OK = 0x02 typedef void * CK_VOID_PTR; typedef CK_VOID_PTR * CK_VOID_PTR_PTR; typedef CK_RV (*CK_CREATEMUTEX)(CK_VOID_PTR_PTR); typedef CK_RV (*CK_DESTROYMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_LOCKMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_UNLOCKMUTEX)(CK_VOID_PTR); typedef struct CK_C_INITIALIZE_ARGS { CK_CREATEMUTEX CreateMutex; CK_DESTROYMUTEX DestroyMutex; CK_LOCKMUTEX LockMutex; CK_UNLOCKMUTEX UnlockMutex; CK_FLAGS flags; CK_VOID_PTR pReserved; } CK_C_INITIALIZE_ARGS; token_label=None, os_locking_ok=False): if os_locking_ok: init_arg_pt = self.ffi.new(""CK_C_INITIALIZE_ARGS *"") init_arg_pt.flags = CKF_OS_LOCKING_OK else: init_arg_pt = self.ffi.NULL rv = self.lib.C_Initialize(init_arg_pt) token = Token( ) LOG.debug(""Slot %s: label: %s sn: %s"", token.slot_id, token.label, token.serial_number) tokens.append(token)", token_label=None): rv = self.lib.C_Initialize(self.ffi.NULL) tokens.append(Token( )),46,5
openstack%2Ftacker~master~Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf,openstack/tacker,master,Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf,Implement SOL001 features to MgmtDriver,MERGED,2020-12-21 13:27:14.000000000,2021-02-23 16:26:59.000000000,2021-02-23 16:25:18.000000000,"[{'_account_id': 4149}, {'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27880}]","[{'number': 1, 'created': '2020-12-21 13:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/17b23390bc866e71669ae67f9538c723ed5ad034', 'message': 'Refactor MgmtDriver\n\n* Add default MgmtDriver\n* Call MgmtDriver from vnflcm_driver\n* Read implementation from VNFD\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 2, 'created': '2020-12-22 11:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2fe3b28e3e4691427965fd218d8b9fbe01938744', 'message': 'Refactor MgmtDriver\n\n* Add default MgmtDriver\n* Call MgmtDriver from vnflcm_driver\n* Read implementation from VNFD\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 3, 'created': '2020-12-23 06:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/28c8aed7670209ea6d6124c6f3cab3cb9952ca05', 'message': 'Refactor MgmtDriver\n\n* Add default MgmtDriver\n* Call MgmtDriver from vnflcm_driver\n* Read implementation from VNFD\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 4, 'created': '2020-12-23 09:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/30263f86cb1c2a5a790fe1ef4084e0b7c3f7a3a7', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 5, 'created': '2020-12-23 09:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/17310372b78b3023bc335356d3559c7dc79797c2', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 6, 'created': '2020-12-24 06:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6ecb56f72380f4b3c603dc9553bd14cd6275b263', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 7, 'created': '2020-12-24 09:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d4ce1a3b7e896264ff5a2c4c4a38d4b08971b51a', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 8, 'created': '2020-12-24 12:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/990827fceed4f124aaf9a3efd17cafdb5687f5df', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 9, 'created': '2020-12-25 00:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a9e62360926bf02cd8864a30ce4442074ff7612', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 10, 'created': '2021-01-06 07:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2d36b8789d849dcd41d89a5d5f95fc6ea92d494c', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 11, 'created': '2021-01-11 07:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/de03bcf45a8d67c24fb233dc1ed82d1a3570a6ad', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 12, 'created': '2021-01-11 10:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9fbf089380332d10cc1859b3d4ef5cb799ecbbc2', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 13, 'created': '2021-01-20 05:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/35add2d626579812b17534135befa9091e5d6369', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 14, 'created': '2021-01-21 04:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1e8c3a4f46e80803a3dba5093d23fd41d2516b06', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 15, 'created': '2021-01-22 06:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/768a4b2f9f1de95918d6c059f90a24fbfbd80fed', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 16, 'created': '2021-01-22 10:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/288230e0bed83c38548653e8eafa1c96bde84fb0', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 17, 'created': '2021-01-25 05:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6aaf9bb74f755501df381da59593a8e6c04285b8', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 18, 'created': '2021-01-25 12:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bd7234444cde3182856460e186fc7d58cd51a153', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 19, 'created': '2021-01-26 02:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d242d205706747600d32f1845bcd1ce5a76ea685', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 20, 'created': '2021-01-27 05:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1fbf28a278a81f141dca2077a2bc3bf38819a301', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 21, 'created': '2021-02-05 00:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e96a6b700d9a0eb5fc0e755a26831669194d610b', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n* Fix unitentional mgmt_calls in vnflcm_driver._scale_vnf_pre\n* Remove 3rd party driver support from Victoria release\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 22, 'created': '2021-02-08 16:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/15ef4ba90fbe26a912a381c184bdef4d07ac312b', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n* Fix unitentional mgmt_calls in vnflcm_driver._scale_vnf_pre\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n* Due to drop unitentional mgmt_calls, it makes compatibility breakage\n  for some scale actions calls and third party driver support.\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 23, 'created': '2021-02-09 00:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/17b6fd8abc15a2a6811111713ebc27ab2f99ebc0', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n* Fix unitentional mgmt_calls in vnflcm_driver._scale_vnf_pre\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n* Due to drop unitentional mgmt_calls, it makes compatibility breakage\n  for some scale actions calls and third party driver support. This\n  backward incompatibility was decided to keep since it is not long\n  time since last change(Victoria release)\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}, {'number': 24, 'created': '2021-02-18 08:33:45.000000000', 'files': ['tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/tests/functional/sol/vnflcm/test_vnflcm_noop.py', 'tacker/common/exceptions.py', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/Definitions/helloworld3_top.vnfd.yaml', 'test-requirements.txt', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/Scripts/vnflcm_noop.py', 'releasenotes/notes/refactor-mgmt-driver-with-sol001-a18c3a174062447a.yaml', 'requirements.txt', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/Definitions/helloworld3_types.yaml', 'tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py', 'tacker/vnfm/mgmt_drivers/vnflcm_noop.py', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver2/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'lower-constraints.txt', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver1/Drivers/vnflcm_noop.py', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver3/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver3/Drivers/vnflcm_noop.py', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver2/Drivers/vnflcm_noop_false.py', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver1/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver1/Definitions/helloworld3_types.yaml', 'setup.cfg', 'tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/f88022cdc24302f7f6a3b7126d00891dbd7bf262', 'message': 'Implement SOL001 features to MgmtDriver\n\n* Enable VNF vendors to customize configuration methods\n  for applications via MgmtDriver\n* Load LCM interface from vnfd file\n* Call LCM methods from vnflcm_driver\n* Fix unitentional mgmt_calls in vnflcm_driver._scale_vnf_pre\n\nNote:\n* For UT, sqlalchemy is used, which calls functions in pymysql.py,\n  so the dependency module PyMySQL needs to be added.\n* The previous implementation of ``cfg.CONF.tacker.infra_driver``\n  depends on the default config in legacy ``VNFMPlugin`` class in\n  tacker/vnfm/plugin.py, so we need to fix this here.\n* Due to drop unitentional mgmt_calls, it makes compatibility breakage\n  for some scale actions calls and third party driver support. This\n  backward incompatibility was decided to keep since it is not long\n  time since last change(Victoria release)\n\nChange-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf\n'}]",61,768091,f88022cdc24302f7f6a3b7126d00891dbd7bf262,111,7,24,31821,,,0,"Implement SOL001 features to MgmtDriver

* Enable VNF vendors to customize configuration methods
  for applications via MgmtDriver
* Load LCM interface from vnfd file
* Call LCM methods from vnflcm_driver
* Fix unitentional mgmt_calls in vnflcm_driver._scale_vnf_pre

Note:
* For UT, sqlalchemy is used, which calls functions in pymysql.py,
  so the dependency module PyMySQL needs to be added.
* The previous implementation of ``cfg.CONF.tacker.infra_driver``
  depends on the default config in legacy ``VNFMPlugin`` class in
  tacker/vnfm/plugin.py, so we need to fix this here.
* Due to drop unitentional mgmt_calls, it makes compatibility breakage
  for some scale actions calls and third party driver support. This
  backward incompatibility was decided to keep since it is not long
  time since last change(Victoria release)

Change-Id: Ib4ad3eb9e0a84d1a5e807d2e6004e6b2c02bf3cf
",git fetch https://review.opendev.org/openstack/tacker refs/changes/91/768091/24 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py', 'tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/vnfm/mgmt_drivers/vnflcm_noop.py', 'tacker/common/exceptions.py', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver2/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver1/Drivers/vnflcm_noop.py', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver3/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver3/Drivers/vnflcm_noop.py', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver2/Drivers/vnflcm_noop_false.py', 'tacker/tests/etc/samples/etsi/nfv/test_inst_terminate_vnf_with_vnflcmnoop/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver1/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/refactor_mgmt_driver1/Definitions/helloworld3_types.yaml', 'setup.cfg', 'tacker/tests/functional/vnfm/test_vnflcm_noop.py', 'tacker/vnflcm/vnflcm_driver.py']",18,17b23390bc866e71669ae67f9538c723ed5ad034,bp/action-driver,"import configparserimport hashlibimport osdef config_opts(): return [('tacker', VnfLcmDriver.OPTS)] class VnfLcmDriver(abstract_driver.VnfInstanceAbstractDriver): OPTS = [ cfg.ListOpt( 'vnflcm_infra_driver', default=['openstack', 'kubernetes'], help=_('Hosting vnf drivers tacker plugin will use') ), cfg.ListOpt( 'vnflcm_mgmt_driver', default=['vnflcm_noop'], help=_('MGMT driver to communicate with ' 'Hosting VNF/logical service ' 'instance tacker plugin will use') ) ] cfg.CONF.register_opts(OPTS, 'tacker') cfg.CONF.tacker.vnflcm_infra_driver) self._mgmt_manager = driver_manager.DriverManager( 'tacker.tacker.mgmt.drivers', cfg.CONF.tacker.vnflcm_mgmt_driver) def _load_vnf_interfaces(self, context, vnf_instance, vnfd_dict): VNF_value = vnfd_dict.get('topology_template').get( 'node_templates').get('VNF') vnflcm_interfaces = { ""instantiate_start"": ""vnflcm_noop"", ""instantiate_end"": ""vnflcm_noop"", ""terminate_start"": ""vnflcm_noop"", ""terminate_end"": ""vnflcm_noop"", ""scale_start"": ""vnflcm_noop"", ""scale_end"": ""vnflcm_noop"", ""heal_start"": ""vnflcm_noop"", ""heal_end"": ""vnflcm_noop"" } interfaces_vnflcm_value = VNF_value.get('interfaces').get('Vnflcm') if not interfaces_vnflcm_value: return vnflcm_interfaces artifacts_value = VNF_value.get('artifacts') if not artifacts_value: return vnflcm_interfaces vnf_package_path = vnflcm_utils._get_vnf_package_path( context, vnf_instance.vnfd_id) tacker_mgmt_driver_file_dict = {} tacker_mgmt_driver_hash_dict = {} conf_parser = configparser.ConfigParser() setup_cfg_path = os.path.abspath( os.path.join(os.path.dirname(__file__), '../../setup.cfg')) conf_parser.read(setup_cfg_path) driver_names_str = conf_parser.get( 'entry_points', 'tacker.tacker.mgmt.drivers') driver_names_list = [v for v in driver_names_str.split('\n') if v] for driver_name in driver_names_list: driver_name_list = driver_name.split(' = ') tacker_mgmt_driver_file_dict[driver_name_list[0]] = \ driver_name_list[1] for arti_key, arti_value in artifacts_value.items(): if arti_key in tacker_mgmt_driver_file_dict.keys(): pkg_driver_py_name = arti_value.get('file').split('/')[-1] tacker_driver_py_name = tacker_mgmt_driver_file_dict.get( arti_key).split(':')[0].split('.')[-1] + '.py' if pkg_driver_py_name == tacker_driver_py_name: tacker_driver_py_path = tacker_mgmt_driver_file_dict.get( arti_key).split(':')[0].replace('.', '/') + '.py' tacker_driver_py_abspath = os.path.join( os.path.dirname(os.path.abspath(__file__)), ""../../"" + tacker_driver_py_path) hashobj = hashlib.sha256() f = open(tacker_driver_py_abspath) hashobj.update(f.read().encode('utf-8')) f.close() if arti_key not in tacker_mgmt_driver_hash_dict.keys(): tacker_mgmt_driver_hash_dict[arti_key] = hashobj.\ hexdigest() else: raise exceptions.MgmtDriverInconsistent( MgmtDriver=arti_key) else: raise exceptions.MgmtDriverInconsistent(MgmtDriver=arti_key) for key, value in interfaces_vnflcm_value.items(): if not value: continue mgmt_driver = value.get('implementation') if not artifacts_value.get(mgmt_driver): continue pkg_mgmt_driver_file = artifacts_value.get( mgmt_driver).get('file') pkg_mgmt_driver_path = os.path.join( vnf_package_path, pkg_mgmt_driver_file) hashobj = hashlib.sha256() f = open(pkg_mgmt_driver_path) hashobj.update(f.read().encode('utf-8')) f.close() pkg_mgmt_driver_hash = hashobj.hexdigest() if tacker_mgmt_driver_hash_dict.get(mgmt_driver) == \ pkg_mgmt_driver_hash: vnflcm_interfaces[key] = value.get('implementation') else: raise exceptions.MgmtDriverHashMatchFailure() return vnflcm_interfaces vnfd_dict = vnflcm_utils._get_vnfd_dict( context, vnf_instance.vnfd_id, instantiate_vnf_req.flavour_id) vnflcm_interfaces = self._load_vnf_interfaces( context, vnf_instance, vnfd_dict) self._mgmt_manager.invoke( vnflcm_interfaces.get('instantiate_start'), 'instantiate_start', vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) self._mgmt_manager.invoke( vnflcm_interfaces.get('instantiate_end'), 'instantiate_end', vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) vnfd_dict = vnflcm_utils._get_vnfd_dict( context, vnf_instance.vnfd_id, vnf_instance.instantiated_vnf_info.flavour_id) vnflcm_interfaces = self._load_vnf_interfaces( context, vnf_instance, vnfd_dict) self._mgmt_manager.invoke( vnflcm_interfaces.get('terminate_start'), 'terminate_start', vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) self._mgmt_manager.invoke( vnflcm_interfaces.get('terminate_end'), 'terminate_end', vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) vnfd_dict = vnflcm_utils._get_vnfd_dict( context, vnf_instance.vnfd_id, vnf_instance.instantiated_vnf_info.flavour_id) vnflcm_interfaces = self._load_vnf_interfaces( context, vnf_instance, vnfd_dict) self._mgmt_manager.invoke( vnflcm_interfaces.get('heal_start'), 'heal_start', vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) self._mgmt_manager.invoke( vnflcm_interfaces.get('heal_end'), 'heal_end', vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) vnfd_dict = vnflcm_utils._get_vnfd_dict( context, vnf_instance.vnfd_id, vnf_instance.instantiated_vnf_info.flavour_id) vnflcm_interfaces = self._load_vnf_interfaces( context, vnf_instance, vnfd_dict) vnf_info['vnfd']['mgmt_driver'] = \ vnflcm_interfaces.get('scale_start') kwargs = {'scale_name_list': scale_name_list, 'scale_vnf_request': scale_vnf_request} self._mgmt_manager.invoke( vnflcm_interfaces.get('scale_start'), 'scale_start', vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params, **kwargs) vnfd_dict = vnflcm_utils._get_vnfd_dict( context, vnf_instance.vnfd_id, vnf_instance.instantiated_vnf_info.flavour_id) vnflcm_interfaces = self._load_vnf_interfaces( context, vnf_instance, vnfd_dict) vnf_info['vnfd']['mgmt_driver'] = \ vnflcm_interfaces.get('scale_end') kwargs = {'scale_out_id_list': id_list, 'scale_vnf_request': scale_vnf_request} self._mgmt_manager.invoke( vnflcm_interfaces.get('scale_end'), 'scale_end', vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params, **kwargs) vnfd_dict = vnflcm_utils._get_vnfd_dict( context, vnf_instance.vnfd_id, vnf_instance.instantiated_vnf_info.flavour_id) vnflcm_interfaces = self._load_vnf_interfaces( context, vnf_instance, vnfd_dict) vnf_info['vnfd']['mgmt_driver'] = \ vnflcm_interfaces.get('scale_start') kwargs = {'scale_name_list': scale_name_list, 'scale_vnf_request': scale_vnf_request} self._mgmt_manager.invoke( vnflcm_interfaces.get('scale_start'), 'scale_start', vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params, **kwargs) vnfd_dict = vnflcm_utils._get_vnfd_dict( context, vnf_instance.vnfd_id, vnf_instance.instantiated_vnf_info.flavour_id) vnflcm_interfaces = self._load_vnf_interfaces( context, vnf_instance, vnfd_dict) vnf_info['vnfd']['mgmt_driver'] = \ vnflcm_interfaces.get('termination_start') kwargs = {'scale_name_list': scale_name_list, 'scale_vnf_request': scale_vnf_request} self._mgmt_manager.invoke( vnflcm_interfaces.get('termination_start'), 'termination_start', vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params, **kwargs)","class VnfLcmDriver(abstract_driver.VnfInstanceAbstractDriver): cfg.CONF.tacker.infra_driver) vnfd_yaml = vnf_info['vnfd']['attributes'].get( 'vnfd_' + vnf_instance.instantiated_vnf_info.flavour_id, '') vnfd_dict = yaml.safe_load(vnfd_yaml) # mgmt_driver from vnfd vnf_node = self._get_node_template_for_vnf(vnfd_dict) if vnf_node and vnf_node.get('interfaces'): if vnf_node['interfaces']['Vnflcm']['scale_start']: vnf_info['vnfd']['mgmt_driver'] = \ vnf_node['interfaces']['Vnflcm']['scale_start'] if len(scale_id_list) > 1: stack_value = [] stack_value = scale_id_list else: stack_value = scale_id_list[0] kwargs = { mgmt_constants.KEY_ACTION: mgmt_constants.ACTION_SCALE_IN_VNF, mgmt_constants.KEY_KWARGS: {'vnf': vnf_info}, mgmt_constants.KEY_SCALE: stack_value, } self._vnfm_plugin.mgmt_call(context, vnf_info, kwargs) vnfd_yaml =\ vnf_info['vnfd']['attributes'].\ get('vnfd_' + vnf_instance.instantiated_vnf_info.flavour_id, '') vnf_info['policy_name'] = scale_vnf_request.aspect_id vnfd_dict = yaml.safe_load(vnfd_yaml) # mgmt_driver from vnfd vnf_node = self._get_node_template_for_vnf(vnfd_dict) if vnf_node and vnf_node.get('interfaces'): if vnf_node['interfaces']['Vnflcm']['scale_end']: vnf_info['vnfd']['mgmt_driver'] = \ vnf_node['interfaces']['Vnflcm']['scale_end'] if len(id_list) > 1: stack_value = [] stack_value = id_list else: stack_value = id_list[0] kwargs = { mgmt_constants.KEY_ACTION: mgmt_constants.ACTION_SCALE_OUT_VNF, mgmt_constants.KEY_KWARGS: {'vnf': vnf_info}, mgmt_constants.KEY_SCALE: stack_value, } self._vnfm_plugin.mgmt_call(context, vnf_info, kwargs) vnfd_yaml = vnf_info['vnfd']['attributes'].\ get('vnfd_' + vnf_instance.instantiated_vnf_info.flavour_id, '') vnfd_dict = yaml.safe_load(vnfd_yaml) # mgmt_driver from vnfd vnf_node = self._get_node_template_for_vnf(vnfd_dict) if vnf_node and vnf_node.get('interfaces'): if vnf_node['interfaces'].get('Vnflcm'): if vnf_node['interfaces']['Vnflcm'].get('scale_start'): vnf_info['vnfd']['mgmt_driver'] = \ vnf_node['interfaces']['Vnflcm']['scale_start'] if len(scale_id_list) > 1: stack_value = [] stack_value = scale_id_list else: stack_value = scale_id_list[0] kwargs = { mgmt_constants.KEY_ACTION: mgmt_constants.ACTION_SCALE_IN_VNF, mgmt_constants.KEY_KWARGS: {'vnf': vnf_info}, mgmt_constants.KEY_SCALE: stack_value, } self._rollback_mgmt_call(context, vnf_info, kwargs) vnfd_yaml = vnf_info['vnfd']['attributes'].\ get('vnfd_' + vnf_instance.instantiated_vnf_info.flavour_id, '') vnfd_dict = yaml.safe_load(vnfd_yaml) # mgmt_driver from vnfd vnf_node = self._get_node_template_for_vnf(vnfd_dict) if vnf_node and vnf_node.get('interfaces'): if vnf_node['interfaces'].get('Vnflcm'): if vnf_node['interfaces']['Vnflcm'].get( 'termination_start'): vnf_info['vnfd']['mgmt_driver'] = vnf_node[ 'interfaces']['Vnflcm']['termination_start'] kwargs = { mgmt_constants.KEY_ACTION: mgmt_constants.ACTION_DELETE_VNF, mgmt_constants.KEY_KWARGS: {'vnf': vnf_info} } self._rollback_mgmt_call(context, vnf_info, kwargs) def _rollback_mgmt_call(self, context, vnf_info, kwargs): self._vnfm_plugin.mgmt_call(context, vnf_info, kwargs) ",2358,97
openstack%2Fkolla-ansible~master~Ie3972c12f69f177593d4e57593a460480042df4f,openstack/kolla-ansible,master,Ie3972c12f69f177593d4e57593a460480042df4f,ovn: Move openvswitch related tasks to openvswitch role,ABANDONED,2021-02-18 11:26:52.000000000,2021-02-23 16:24:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2021-02-18 11:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ac01393c54f289e4ad69cb06cdb65077b178a14', 'message': 'ovn: Move openvswitch related tasks to openvswitch role\n\nMove OVS related OVN tasks to openvswitch role, since those\nrely on a working and deployed OpenvSwitch.\n\nChange-Id: Ie3972c12f69f177593d4e57593a460480042df4f\n'}, {'number': 2, 'created': '2021-02-22 13:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e56e90578283793313fa3776ca102976697f1514', 'message': 'ovn: Move openvswitch related tasks to openvswitch role\n\nMove OVS related OVN tasks to openvswitch role, since those\nrely on a working and deployed OpenvSwitch.\n\nChange-Id: Ie3972c12f69f177593d4e57593a460480042df4f\n'}, {'number': 3, 'created': '2021-02-22 17:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/174b086246b59d884f6e614c9980371a8cd675b9', 'message': 'ovn: Move openvswitch related tasks to openvswitch role\n\nMove OVS related OVN tasks to openvswitch role, since those\nrely on a working and deployed OpenvSwitch.\n\nChange-Id: Ie3972c12f69f177593d4e57593a460480042df4f\n'}, {'number': 4, 'created': '2021-02-23 06:39:13.000000000', 'files': ['ansible/roles/ovn/tasks/deploy.yml', 'ansible/roles/openvswitch/tasks/post-config.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/ovn/tasks/upgrade.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2dfbc73564402d7688150b603a64f63d4e8546b5', 'message': 'ovn: Move openvswitch related tasks to openvswitch role\n\nMove OVS related OVN tasks to openvswitch role, since those\nrely on a working and deployed OpenvSwitch.\n\nChange-Id: Ie3972c12f69f177593d4e57593a460480042df4f\n'}]",0,776421,2dfbc73564402d7688150b603a64f63d4e8546b5,17,2,4,22629,,,0,"ovn: Move openvswitch related tasks to openvswitch role

Move OVS related OVN tasks to openvswitch role, since those
rely on a working and deployed OpenvSwitch.

Change-Id: Ie3972c12f69f177593d4e57593a460480042df4f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/776421/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn/tasks/deploy.yml', 'ansible/roles/openvswitch/tasks/post-config.yml', 'ansible/roles/ovn/tasks/bootstrap.yml']",3,3ac01393c54f289e4ad69cb06cdb65077b178a14,,,"--- - name: Create br-int bridge on OpenvSwitch become: true command: > docker exec openvswitch_vswitchd ovs-vsctl --may-exist add-br br-int -- set Bridge br-int fail-mode=secure when: inventory_hostname in groups['ovn-controller'] - name: Set OVN encapsulation settings become: true command: > docker exec openvswitch_vswitchd ovs-vsctl set Open_vSwitch . external_ids:ovn-encap-ip={{ tunnel_interface_address }} external_ids:ovn-encap-type=geneve external_ids:ovn-remote={{ ovn_sb_connection }} when: inventory_hostname in groups['ovn-controller'] - name: Set OVN bridge mappings vars: ovn_mappings: ""{% for bridge in neutron_bridge_name.split(',') %}physnet{{ loop.index0 + 1 }}:{{ bridge }}{% if not loop.last %},{% endif %}{% endfor %}"" become: true command: docker exec openvswitch_vswitchd ovs-vsctl set Open_vSwitch . external_ids:ovn-bridge-mappings={{ ovn_mappings }} when: - inventory_hostname in groups[""ovn-controller-network""] or (inventory_hostname in groups[""ovn-controller-compute""] and computes_need_external_bridge | bool) - name: Enable chassis as gateway become: true command: docker exec openvswitch_vswitchd ovs-vsctl set Open_vSwitch . external-ids:ovn-cms-options=""enable-chassis-as-gw"" when: inventory_hostname in groups[""ovn-controller-network""] - name: Ensure chassis as gateway is disabled where required become: true command: docker exec openvswitch_vswitchd ovs-vsctl remove Open_vSwitch . external-ids ovn-cms-options when: inventory_hostname not in groups[""ovn-controller-network""] - name: Set OVN remote probe interval become: true command: > docker exec openvswitch_vswitchd ovs-vsctl set Open_vSwitch . external_ids:ovn-remote-probe-interval={{ ovn_remote_probe_interval }} when: - inventory_hostname in groups[""ovn-controller""] ",42,45
openstack%2Fkeystonemiddleware~master~I405d6790360563526d13c0b3e8ae0576d98a67d8,openstack/keystonemiddleware,master,I405d6790360563526d13c0b3e8ae0576d98a67d8,Updating lower-constraints job as non voting,MERGED,2021-02-03 19:56:43.000000000,2021-02-23 16:19:55.000000000,2021-02-23 16:14:13.000000000,"[{'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 19:56:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0a2309dae39dd0d99bd2f422d565ddcc91c28b16', 'message': 'Updating lower-constraints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8\n'}]",0,773991,0a2309dae39dd0d99bd2f422d565ddcc91c28b16,7,3,1,27339,,,0,"Updating lower-constraints job as non voting

There is an ongoing discussion in ML to drop the
lower-constraints job [1].

Moving it to Non-voting until any decision is being
made in TC meeting.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: I405d6790360563526d13c0b3e8ae0576d98a67d8
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/91/773991/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0a2309dae39dd0d99bd2f422d565ddcc91c28b16,bug/1883659, check: jobs: - openstack-tox-lower-constraints: voting: false, - openstack-lower-constraints-jobs,4,1
openstack%2Ftripleo-ansible~master~Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,openstack/tripleo-ansible,master,Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,Use ansible_facts instead,MERGED,2021-02-19 16:24:13.000000000,2021-02-23 16:08:55.000000000,2021-02-23 16:06:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 16:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c2d799827584a4924658b5cb521bdbfb189606a1', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n'}, {'number': 2, 'created': '2021-02-19 17:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7cafa7f6d8e87127f505800a70358ab3b85d58f', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n'}, {'number': 3, 'created': '2021-02-22 15:24:56.000000000', 'files': ['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_nfs_stop.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/tripleo_ceph_client/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7bc62c20e6017704fbdd476ce9143e23f8504ec', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n'}]",7,776666,e7bc62c20e6017704fbdd476ce9143e23f8504ec,23,4,3,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/776666/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_nfs_stop.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/tripleo_ceph_client/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml']",45,c2d799827584a4924658b5cb521bdbfb189606a1,ansible-facts," - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" name: ""ceph-mon@{{ ansible_facts['hostname'] }}"""," - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" name: ""ceph-mon@{{ ansible_hostname }}""",237,221
openstack%2Ftripleo-ansible~master~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,master,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-01-25 14:48:15.000000000,2021-02-23 16:07:59.000000000,2021-02-23 16:07:59.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-01-25 14:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43fb395a46738600494ad5ca8cd2cb563e7e716f', 'message': 'Option to remove the self-installed ReaR cron task\n\nBy default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with\na default programming. This programming runs a backup job at\n1:30AM every day. During this automatic backup, the services are not\nappropiately paused. This causes the created backup to have non-valid\ndata.\n\nAs the most recent backup overwrites the older ones, this deletes\nthe ""good"" backup taken at operator\'s discretion with a new one\nthat cannot be used to restore the control plane state.\n\nThis change aims to optionally disable this default rpm behaviour.\n\nCloses-Bug: #1912764\nChange-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8\n'}, {'number': 2, 'created': '2021-02-04 14:05:45.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f0acda953ca3d8ab1c17f5c9e009458168fe6f82', 'message': 'Option to remove the self-installed ReaR cron task\n\nBy default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with\na default programming. This programming runs a backup job at\n1:30AM every day. During this automatic backup, the services are not\nappropiately paused. This causes the created backup to have non-valid\ndata.\n\nAs the most recent backup overwrites the older ones, this deletes\nthe ""good"" backup taken at operator\'s discretion with a new one\nthat cannot be used to restore the control plane state.\n\nThis change aims to optionally disable this default rpm behaviour.\n\nCloses-Bug: #1912764\nChange-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8\n'}]",2,772351,f0acda953ca3d8ab1c17f5c9e009458168fe6f82,27,9,2,32968,,,0,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/772351/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,43fb395a46738600494ad5ca8cd2cb563e7e716f,bar_rear_crond, # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true,,12,0
openstack%2Ftripleo-ansible~master~I0b4e3762aea3e25398e82be9f9be3adcc38ee685,openstack/tripleo-ansible,master,I0b4e3762aea3e25398e82be9f9be3adcc38ee685,Set source IPv6 address from inventory vars,MERGED,2021-02-18 09:51:42.000000000,2021-02-23 16:07:17.000000000,2021-02-23 16:07:17.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 09:51:42.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cab9c64438a47d9025ebeacea9499b25b03822a8', 'message': 'Set source IPv6 address from inventory vars\n\nExtend FRR configuration to set source IPv6 address, similar to\nChange-Id I43852cb3570b8cb12a35f4bc641a42ddfd8ad7f1 for IPv4.\n\nChange-Id: I0b4e3762aea3e25398e82be9f9be3adcc38ee685\n'}]",0,776413,cab9c64438a47d9025ebeacea9499b25b03822a8,11,5,1,6469,,,0,"Set source IPv6 address from inventory vars

Extend FRR configuration to set source IPv6 address, similar to
Change-Id I43852cb3570b8cb12a35f4bc641a42ddfd8ad7f1 for IPv4.

Change-Id: I0b4e3762aea3e25398e82be9f9be3adcc38ee685
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/776413/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,cab9c64438a47d9025ebeacea9499b25b03822a8,bgpsupport, route-map rm-only-default permit 11 match ipv6 address prefix-list only-default set src {{ hostvars[inventory_hostname][tripleo_frr_bgp_ipv6_src_network ~ '_ip'] }} ipv6 protocol bgp route-map rm-only-default,,7,0
openstack%2Ftripleo-ansible~master~I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,openstack/tripleo-ansible,master,I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,Update skeleton role to use ansible_facts,MERGED,2021-02-22 20:57:21.000000000,2021-02-23 16:06:35.000000000,2021-02-23 16:06:35.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 20:57:21.000000000', 'files': ['_skeleton_role_/tasks/main.yml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0876630bdcdcf0dc297ff99c9de793f4e1573a5', 'message': 'Update skeleton role to use ansible_facts\n\nChange-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676\n'}]",0,777009,c0876630bdcdcf0dc297ff99c9de793f4e1573a5,7,3,1,14985,,,0,"Update skeleton role to use ansible_facts

Change-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/777009/1 && git format-patch -1 --stdout FETCH_HEAD,['_skeleton_role_/tasks/main.yml.j2'],1,c0876630bdcdcf0dc297ff99c9de793f4e1573a5,ansible-facts," - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"""," - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml""",6,6
openstack%2Ftripleo-specs~master~I1e2bba57911e15ca17e6416dafcaf62fe1ac1dcc,openstack/tripleo-specs,master,I1e2bba57911e15ca17e6416dafcaf62fe1ac1dcc,Fix failing openstack-tox-docs job for image source path,MERGED,2021-02-23 13:04:13.000000000,2021-02-23 15:49:18.000000000,2021-02-23 15:47:38.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 13:04:13.000000000', 'files': ['specs/rocky/split-controlplane.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/87a279af71846ab432d73f8088bf927d5f6ba510', 'message': 'Fix failing openstack-tox-docs job for image source path\n\nThe path is wrong and the openstack-tox-docs job fails blocking\nthe gate as seen at [1]\n\n[1] https://d112d82adaf9d03da6e7-2f18d96c12ded5c9f86090319cfc832d.ssl.cf2.rackcdn.com/772442/17/check/openstack-tox-docs/925f008/job-output.txt\n\nChange-Id: I1e2bba57911e15ca17e6416dafcaf62fe1ac1dcc\n'}]",0,777101,87a279af71846ab432d73f8088bf927d5f6ba510,9,4,1,8449,,,0,"Fix failing openstack-tox-docs job for image source path

The path is wrong and the openstack-tox-docs job fails blocking
the gate as seen at [1]

[1] https://d112d82adaf9d03da6e7-2f18d96c12ded5c9f86090319cfc832d.ssl.cf2.rackcdn.com/772442/17/check/openstack-tox-docs/925f008/job-output.txt

Change-Id: I1e2bba57911e15ca17e6416dafcaf62fe1ac1dcc
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/01/777101/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/split-controlplane.rst'],1,87a279af71846ab432d73f8088bf927d5f6ba510,,.. image:: ../../../../images/split-controlplane/ceph-details.png,.. image:: ../../images/split-controlplane/ceph-details.png,1,1
openstack%2Fpython-blazarclient~master~I29f68f2d08aa707dd328504f49e80fcd2d3f771b,openstack/python-blazarclient,master,I29f68f2d08aa707dd328504f49e80fcd2d3f771b,Uncap PrettyTable,MERGED,2021-02-23 14:53:42.000000000,2021-02-23 15:23:27.000000000,2021-02-23 15:23:27.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 14:53:42.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/65e5f9b785297c8a34074f27e55031a341707a19', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: I29f68f2d08aa707dd328504f49e80fcd2d3f771b\n'}]",0,777141,65e5f9b785297c8a34074f27e55031a341707a19,6,2,1,15197,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: I29f68f2d08aa707dd328504f49e80fcd2d3f771b
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/41/777141/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,65e5f9b785297c8a34074f27e55031a341707a19,bump_prettytable_version,PrettyTable>=0.7.1 # BSD,"PrettyTable<0.8,>=0.7.1 # BSD",1,1
openstack%2Fironic~master~I1cb3a7e885710c19f20df63b83beaa787ffa3bc3,openstack/ironic,master,I1cb3a7e885710c19f20df63b83beaa787ffa3bc3,Implement system scoped RBAC for the allocation APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 15:19:41.000000000,2021-02-23 15:13:52.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/57b30fb1b8feb96f66395b9fc610392e342b1d1f', 'message': 'Implement secure RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ba33cf91bb98d1d859d62a22567275c1c05b8da', 'message': 'Implement secure RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}, {'number': 3, 'created': '2021-01-22 17:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af4d5b87da2966ced3949630397aaeb28bc8af23', 'message': 'Implement secure RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}, {'number': 4, 'created': '2021-01-22 20:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b565a1e371d1b629f8be7f24c96911d92b4324aa', 'message': 'Implement secure RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}, {'number': 5, 'created': '2021-02-02 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a120930d83d59f4b9f8d27061237d0fc05da466c', 'message': 'Implement secure RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4e4fde209b32214b83318fbb8b97962e3d2d62f', 'message': 'Implement system scoped RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c75243862119909d05419d153d73d68aa6395b2b', 'message': 'Implement system scoped RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d146064cb52399deaa254f42b810792357793bda', 'message': 'Implement system scoped RBAC for the allocation APIs\n\nThis commit updates the policies for baremetal allocation policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3\n'}]",11,763275,d146064cb52399deaa254f42b810792357793bda,45,8,8,5046,,,0,"Implement system scoped RBAC for the allocation APIs

This commit updates the policies for baremetal allocation policies to
understand scope checking and account for a read-only role. This is part of a
broader series of changes across OpenStack to provide a consistent RBAC
experience and improve security.

Change-Id: I1cb3a7e885710c19f20df63b83beaa787ffa3bc3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/763275/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,57b30fb1b8feb96f66395b9fc610392e342b1d1f,secure-rbac," deprecated_allocation_get = policy.DeprecatedRule( name='baremetal:allocation:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_allocation_list = policy.DeprecatedRule( name='baremetal:allocation:list', check_str='rule:baremetal:allocation:get' ) deprecated_allocation_list_all = policy.DeprecatedRule( name='baremetal:allocation:list_all', check_str='rule:baremetal:allocation:get' ) deprecated_allocation_create = policy.DeprecatedRule( name='baremetal:allocation:create', check_str='rule:is_admin' ) deprecated_allocation_create_restricted = policy.DeprecatedRule( name='baremetal:allocation:create_restricted', check_str='rule:baremetal:allocation:create' ) deprecated_allocation_delete = policy.DeprecatedRule( name='baremetal:allocation:delete', check_str='rule:is_admin' ) deprecated_allocation_update = policy.DeprecatedRule( name='baremetal:allocation:update', check_str='rule:is_admin' ) deprecated_allocation_reason = """""" The baremetal allocation API is now aware of system scope and default roles. """""" name='baremetal:allocation:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Allocation records', operations=[ {'path': '/allocations/{allocation_id}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/allocation', 'method': 'GET'} ], deprecated_rule=deprecated_allocation_get, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:allocation:list', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve multiple Allocation records, filtered by owner', operations=[{'path': '/allocations', 'method': 'GET'}], deprecated_rule=deprecated_allocation_list, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:allocation:list_all', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve multiple Allocation records', operations=[{'path': '/allocations', 'method': 'GET'}], deprecated_rule=deprecated_allocation_list_all, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:allocation:create', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Create Allocation records', operations=[{'path': '/allocations', 'method': 'POST'}], deprecated_rule=deprecated_allocation_create, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:allocation:create_restricted', check_str=SYSTEM_ADMIN, scope_types=['system'], description=( 'Create Allocation records that are restricted to an owner' ), operations=[{'path': '/allocations', 'method': 'POST'}], deprecated_rule=deprecated_allocation_create_restricted, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:allocation:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Delete Allocation records', operations=[ {'path': '/allocations/{allocation_id}', 'method': 'DELETE'}, {'path': '/nodes/{node_ident}/allocation', 'method': 'DELETE'}], deprecated_rule=deprecated_allocation_delete, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:allocation:update', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Change name and extra fields of an allocation', operations=[ {'path': '/allocations/{allocation_id}', 'method': 'PATCH'}, ], deprecated_rule=deprecated_allocation_update, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:allocation:get', 'rule:is_admin or rule:is_observer', 'Retrieve Allocation records', [{'path': '/allocations/{allocation_id}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/allocation', 'method': 'GET'}]), 'baremetal:allocation:list', 'rule:baremetal:allocation:get', 'Retrieve multiple Allocation records, filtered by owner', [{'path': '/allocations', 'method': 'GET'}]), 'baremetal:allocation:list_all', 'rule:baremetal:allocation:get', 'Retrieve multiple Allocation records', [{'path': '/allocations', 'method': 'GET'}]), 'baremetal:allocation:create', 'rule:is_admin', 'Create Allocation records', [{'path': '/allocations', 'method': 'POST'}]), 'baremetal:allocation:create_restricted', 'rule:baremetal:allocation:create', 'Create Allocation records that are restricted to an owner', [{'path': '/allocations', 'method': 'POST'}]), 'baremetal:allocation:delete', 'rule:is_admin', 'Delete Allocation records', [{'path': '/allocations/{allocation_id}', 'method': 'DELETE'}, {'path': '/nodes/{node_ident}/allocation', 'method': 'DELETE'}]), 'baremetal:allocation:update', 'rule:is_admin', 'Change name and extra fields of an allocation', [{'path': '/allocations/{allocation_id}', 'method': 'PATCH'}]),",106,30
openstack%2Fironic~master~I89176b3adf1489e12493c62b908bf135c912e017,openstack/ironic,master,I89176b3adf1489e12493c62b908bf135c912e017,Implement system scoped RBAC for utility APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 15:18:09.000000000,2021-02-23 15:11:24.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/736335c2b4b75ae8417ec96cea5d54d2a5373402', 'message': 'Implement secure RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42f57f28447ae51947138793c67e161757fc13f3', 'message': 'Implement secure RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}, {'number': 3, 'created': '2021-01-22 17:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/58cb2a2b6433c46ee1be887d6786c4d44c0911b8', 'message': 'Implement secure RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nAlso adds duplicate Heartbeat and Lookup test classes with the middleware\nscope enforcement enabled and enforced, to ensure that we do not adversely\nimpact these special API endpoints.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}, {'number': 4, 'created': '2021-01-22 20:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/026ed8372f201b534094ea173dedcaa2da8eda43', 'message': 'Implement secure RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nAlso adds duplicate Heartbeat and Lookup test classes with the middleware\nscope enforcement enabled and enforced, to ensure that we do not adversely\nimpact these special API endpoints.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}, {'number': 5, 'created': '2021-02-02 00:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c3830eaa6c375cf54555caab4b568e1e333cca3', 'message': 'Implement secure RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nAlso adds duplicate Heartbeat and Lookup test classes with the middleware\nscope enforcement enabled and enforced, to ensure that we do not adversely\nimpact these special API endpoints.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a6c1ca3ab680876300e719254661eb061425b71', 'message': 'Implement system scoped RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nAlso adds duplicate Heartbeat and Lookup test classes with the middleware\nscope enforcement enabled and enforced, to ensure that we do not adversely\nimpact these special API endpoints.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6225358e09948c93142eddd9b6bd443b3c2851c', 'message': 'Implement system scoped RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nAlso adds duplicate Heartbeat and Lookup test classes with the middleware\nscope enforcement enabled and enforced, to ensure that we do not adversely\nimpact these special API endpoints.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/69b28ca99cd031c87936a414691f34eabbc74f3d', 'message': 'Implement system scoped RBAC for utility APIs\n\nThis commit updates the policies for baremetal utility policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nAlso adds duplicate Heartbeat and Lookup test classes with the middleware\nscope enforcement enabled and enforced, to ensure that we do not adversely\nimpact these special API endpoints.\n\nChange-Id: I89176b3adf1489e12493c62b908bf135c912e017\n'}]",13,763272,69b28ca99cd031c87936a414691f34eabbc74f3d,54,8,8,5046,,,0,"Implement system scoped RBAC for utility APIs

This commit updates the policies for baremetal utility policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Also adds duplicate Heartbeat and Lookup test classes with the middleware
scope enforcement enabled and enforced, to ensure that we do not adversely
impact these special API endpoints.

Change-Id: I89176b3adf1489e12493c62b908bf135c912e017
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/763272/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,736335c2b4b75ae8417ec96cea5d54d2a5373402,secure-rbac," deprecated_ipa_heartbeat = policy.DeprecatedRule( name='baremetal:node:ipa_heartbeat', check_str='rule:public_api' ) deprecated_ipa_lookup = policy.DeprecatedRule( name='baremetal:driver:ipa_lookup', check_str='rule:public_api' ) deprecated_utility_reason = """""" The baremetal utility API is now aware of system scope and default roles. """""" name='baremetal:node:ipa_heartbeat', check_str='', # TODO(lbragstad): If/when ironic supports domain scope, we'll need to # add 'domain' to the scope_types list. scope_types=['system', 'project'], description='Send heartbeats from IPA ramdisk', operations=[{'path': '/heartbeat/{node_ident}', 'method': 'POST'}], deprecated_rule=deprecated_ipa_heartbeat, deprecated_reason=deprecated_utility_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:driver:ipa_lookup', check_str='', # TODO(lbragstad): If/when ironic supports domain scope, we'll need to # add 'domain' to the scope_types list. scope_types=['system', 'project'], description='Access IPA ramdisk functions', operations=[{'path': '/lookup', 'method': 'GET'}], deprecated_rule=deprecated_ipa_lookup, deprecated_reason=deprecated_utility_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:node:ipa_heartbeat', 'rule:public_api', 'Send heartbeats from IPA ramdisk', [{'path': '/heartbeat/{node_ident}', 'method': 'POST'}]), 'baremetal:driver:ipa_lookup', 'rule:public_api', 'Access IPA ramdisk functions', [{'path': '/lookup', 'method': 'GET'}]),",36,8
openstack%2Fironic~master~I331f46092405ffd399ad45ba4ccb6dc7639051e5,openstack/ironic,master,I331f46092405ffd399ad45ba4ccb6dc7639051e5,Implement system scoped RBAC for conductor APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 15:12:42.000000000,2021-02-23 15:12:42.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd08afb1138d2b598940b6dddce5f3cb5bb9a4b5', 'message': 'Implement secure RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ace17ebbd999670d56977cc59af1dd34ba2ba0fb', 'message': 'Implement secure RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}, {'number': 3, 'created': '2021-01-22 17:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c614227fe301e1aec6ef22a0f6f7f4d57ac18eb', 'message': 'Implement secure RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}, {'number': 4, 'created': '2021-01-22 20:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f3dd7461d9524d2687c43ee799da4338ba00927', 'message': 'Implement secure RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}, {'number': 5, 'created': '2021-02-02 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2833d0f8adfaf1cc8f7807c98ff7b27c92201ba', 'message': 'Implement secure RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9833d2fd48526d4bbbad0290be2296671538caa', 'message': 'Implement system scoped RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a08aa512f4698cfec360887099f42cb0a79ae2c0', 'message': 'Implement system scoped RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1e35e87479c6c516ddb8b98c477fc6ba5274a20', 'message': 'Implement system scoped RBAC for conductor APIs\n\nThis commit updates the policies for baremetal conductor policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5\n'}]",12,763274,e1e35e87479c6c516ddb8b98c477fc6ba5274a20,46,7,8,5046,,,0,"Implement system scoped RBAC for conductor APIs

This commit updates the policies for baremetal conductor policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I331f46092405ffd399ad45ba4ccb6dc7639051e5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/763274/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,fd08afb1138d2b598940b6dddce5f3cb5bb9a4b5,secure-rbac," deprecated_conductor_get = policy.DeprecatedRule( name='baremetal:conductor:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_conductor_reason = """""" The baremetal conductor API is now aware of system scope and default roles. """""" name='baremetal:conductor:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Conductor records', operations=[ {'path': '/conductors', 'method': 'GET'}, {'path': '/conductors/{hostname}', 'method': 'GET'} ], deprecated_rule=deprecated_conductor_get, deprecated_reason=deprecated_conductor_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:conductor:get', 'rule:is_admin or rule:is_observer', 'Retrieve Conductor records', [{'path': '/conductors', 'method': 'GET'}, {'path': '/conductors/{hostname}', 'method': 'GET'}]),",22,5
openstack%2Fironic~master~I361a6410f5825b2dc97b50586475a4fa8e0f0f1f,openstack/ironic,master,I361a6410f5825b2dc97b50586475a4fa8e0f0f1f,Implement system scoped RBAC for volume APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 15:11:53.000000000,2021-02-23 15:11:53.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ca823ae8318bd4858dbd87a68701d94f564522c', 'message': 'Implement secure RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/463b9c0234f1d77e0994b91907a88d4dc76748ce', 'message': 'Implement secure RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}, {'number': 3, 'created': '2021-01-22 17:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92523b90be25fa6a91fb305c43377118de75696f', 'message': 'Implement secure RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}, {'number': 4, 'created': '2021-01-22 20:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3dd9319cc21b1e0be27f11fdd6086a6c02a1e74b', 'message': 'Implement secure RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}, {'number': 5, 'created': '2021-02-02 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d70a624ed9841d8522ba036fa32da31045ec7cbe', 'message': 'Implement secure RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd2bbe13b1e7bf1ce67f35fcf2f51e435207f340', 'message': 'Implement system scoped RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af7b7a453b41d4d84070c6618c2b3e825cd51e12', 'message': 'Implement system scoped RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ed58df555c824afe82ac4842198ba51f1109e11', 'message': 'Implement system scoped RBAC for volume APIs\n\nThis commit updates the policies for baremetal volume policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f\n'}]",12,763273,5ed58df555c824afe82ac4842198ba51f1109e11,48,8,8,5046,,,0,"Implement system scoped RBAC for volume APIs

This commit updates the policies for baremetal volume policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I361a6410f5825b2dc97b50586475a4fa8e0f0f1f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/763273/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,4ca823ae8318bd4858dbd87a68701d94f564522c,secure-rbac," deprecated_volume_get = policy.DeprecatedRule( name='baremetal:volume:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_volume_create = policy.DeprecatedRule( name='baremetal:volume:create', check_str='rule:is_admin' ) deprecated_volume_delete = policy.DeprecatedRule( name='baremetal:volume:delete', check_str='rule:is_admin' ) deprecated_volume_update = policy.DeprecatedRule( name='baremetal:volume:update', check_str='rule:is_admin' ) deprecated_volume_reason = """""" The baremetal volume API is now aware of system scope and default roles. """""" name='baremetal:volume:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Volume connector and target records', operations=[ {'path': '/volume', 'method': 'GET'}, {'path': '/volume/connectors', 'method': 'GET'}, {'path': '/volume/connectors/{volume_connector_id}', 'method': 'GET'}, {'path': '/volume/targets', 'method': 'GET'}, {'path': '/volume/targets/{volume_target_id}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/volume', 'method': 'GET'}, {'path': '/nodes/{node_ident}/volume/connectors', 'method': 'GET'}, {'path': '/nodes/{node_ident}/volume/targets', 'method': 'GET'} ], deprecated_rule=deprecated_volume_get, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:volume:create', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Create Volume connector and target records', operations=[ {'path': '/volume/connectors', 'method': 'POST'}, {'path': '/volume/targets', 'method': 'POST'} ], deprecated_rule=deprecated_volume_create, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:volume:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Delete Volume connector and target records', operations=[ {'path': '/volume/connectors/{volume_connector_id}', 'method': 'DELETE'}, {'path': '/volume/targets/{volume_target_id}', 'method': 'DELETE'} ], deprecated_rule=deprecated_volume_delete, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:volume:update', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Volume connector and target records', operations=[ {'path': '/volume/connectors/{volume_connector_id}', 'method': 'PATCH'}, {'path': '/volume/targets/{volume_target_id}', 'method': 'PATCH'} ], deprecated_rule=deprecated_volume_update, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:volume:get', 'rule:is_admin or rule:is_observer', 'Retrieve Volume connector and target records', [{'path': '/volume', 'method': 'GET'}, {'path': '/volume/connectors', 'method': 'GET'}, {'path': '/volume/connectors/{volume_connector_id}', 'method': 'GET'}, {'path': '/volume/targets', 'method': 'GET'}, {'path': '/volume/targets/{volume_target_id}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/volume', 'method': 'GET'}, {'path': '/nodes/{node_ident}/volume/connectors', 'method': 'GET'}, {'path': '/nodes/{node_ident}/volume/targets', 'method': 'GET'}]), 'baremetal:volume:create', 'rule:is_admin', 'Create Volume connector and target records', [{'path': '/volume/connectors', 'method': 'POST'}, {'path': '/volume/targets', 'method': 'POST'}]), 'baremetal:volume:delete', 'rule:is_admin', 'Delete Volume connector and target records', [{'path': '/volume/connectors/{volume_connector_id}', 'method': 'DELETE'}, {'path': '/volume/targets/{volume_target_id}', 'method': 'DELETE'}]), 'baremetal:volume:update', 'rule:is_admin', 'Update Volume connector and target records', [{'path': '/volume/connectors/{volume_connector_id}', 'method': 'PATCH'}, {'path': '/volume/targets/{volume_target_id}', 'method': 'PATCH'}]),",81,30
openstack%2Fkeystone~master~Ib79dec1e53b0ca9ad402891652f77a581b845cf2,openstack/keystone,master,Ib79dec1e53b0ca9ad402891652f77a581b845cf2,Do not remove domain hints prematurely,NEW,2020-09-01 14:32:52.000000000,2021-02-23 15:03:00.000000000,,"[{'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 14:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/160e21d97dca0466fd754c55844f45932a4611e2', 'message': 'Do not remove domain hints prematurely\n\ncheck for identity driver domain awareness and remove domain hints\nimmediately before the list_users method of identity driver called,\nso that the original hints are in effect when querying federation\nprovider.\n\nChange-Id: Ib79dec1e53b0ca9ad402891652f77a581b845cf2\nCloses-Bug: #1893794\n'}, {'number': 2, 'created': '2020-09-03 05:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/89622a68576a705a44b50fb883c72a099304d6af', 'message': 'Do not remove domain hints prematurely\n\ncheck for identity driver domain awareness and remove domain hints\nimmediately before the list_users method of identity driver called,\nso that the original hints are in effect when querying federation\nprovider.\n\nChange-Id: Ib79dec1e53b0ca9ad402891652f77a581b845cf2\nCloses-Bug: #1893794\n'}, {'number': 3, 'created': '2020-11-03 17:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e6456b58b165dedddfaf8c881d054adfebd787bf', 'message': 'Do not remove domain hints prematurely\n\ncheck for identity driver domain awareness and remove domain hints\nimmediately before the list_users method of identity driver called,\nso that the original hints are in effect when querying federation\nprovider.\n\nChange-Id: Ib79dec1e53b0ca9ad402891652f77a581b845cf2\nCloses-Bug: #1893794\n'}, {'number': 4, 'created': '2021-01-18 16:03:37.000000000', 'files': ['keystone/identity/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c554d0e52924ff2514772242ef49657e8dc706f6', 'message': 'Do not remove domain hints prematurely\n\ncheck for identity driver domain awareness and remove domain hints\nimmediately before the list_users method of identity driver called,\nso that the original hints are in effect when querying federation\nprovider.\n\nChange-Id: Ib79dec1e53b0ca9ad402891652f77a581b845cf2\nCloses-Bug: #1893794\n'}]",0,749296,c554d0e52924ff2514772242ef49657e8dc706f6,14,2,4,9542,,,0,"Do not remove domain hints prematurely

check for identity driver domain awareness and remove domain hints
immediately before the list_users method of identity driver called,
so that the original hints are in effect when querying federation
provider.

Change-Id: Ib79dec1e53b0ca9ad402891652f77a581b845cf2
Closes-Bug: #1893794
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/749296/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/core.py'],1,160e21d97dca0466fd754c55844f45932a4611e2,bug/1893794," if not driver.is_domain_aware(): # We are effectively satisfying any domain_id filter by the above # driver selection, so remove any such filter. self._mark_domain_id_filter_satisfied(hints)"," else: # We are effectively satisfying any domain_id filter by the above # driver selection, so remove any such filter. self._mark_domain_id_filter_satisfied(hints)",4,4
openstack%2Fansible-role-redhat-subscription~master~I84ae549b549363d32207dff324657dd7df1f5ac0,openstack/ansible-role-redhat-subscription,master,I84ae549b549363d32207dff324657dd7df1f5ac0,Use ansible_facts,MERGED,2021-02-20 23:20:31.000000000,2021-02-23 14:53:15.000000000,2021-02-23 14:53:15.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 23:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/e43a3d13f1498add013573e013443dd55a3e50b6', 'message': 'Use ansible_facts\n\nansible_pkg_mgr requires that the facts be injected as vars. We should\nuse ansible_facts instead.\n\nChange-Id: I84ae549b549363d32207dff324657dd7df1f5ac0\n'}, {'number': 2, 'created': '2021-02-20 23:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/faa65d6868562bf40e5eda140af531f54b3b0fde', 'message': 'Use ansible_facts\n\nansible_pkg_mgr requires that the facts be injected as vars. We should\nuse ansible_facts instead.\n\nChange-Id: I84ae549b549363d32207dff324657dd7df1f5ac0\n'}, {'number': 3, 'created': '2021-02-22 16:42:38.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/7400e5a9d972a6e2854113cdadc66836547718ee', 'message': 'Use ansible_facts\n\nansible_pkg_mgr requires that the facts be injected as vars. We should\nuse ansible_facts instead.\n\nChange-Id: I84ae549b549363d32207dff324657dd7df1f5ac0\n'}]",0,776809,7400e5a9d972a6e2854113cdadc66836547718ee,17,3,3,14985,,,0,"Use ansible_facts

ansible_pkg_mgr requires that the facts be injected as vars. We should
use ansible_facts instead.

Change-Id: I84ae549b549363d32207dff324657dd7df1f5ac0
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/09/776809/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e43a3d13f1498add013573e013443dd55a3e50b6,ansible-facts, - ansible_facts['pkg_mgr'] == 'yum' - ansible_facts['pkg_mgr'] == 'dnf', - ansible_pkg_mgr == 'yum' - ansible_pkg_mgr == 'dnf',2,2
openstack%2Fansible-role-redhat-subscription~master~I035ed9f3964ba904dc9ccfe048b69a68c6680253,openstack/ansible-role-redhat-subscription,master,I035ed9f3964ba904dc9ccfe048b69a68c6680253,Fix CI,MERGED,2021-02-20 23:29:47.000000000,2021-02-23 14:49:47.000000000,2021-02-23 14:49:47.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 23:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/caa70e5b6fa26a0ed508b57ec81967fee51dc733', 'message': 'Fix requirements\n\nCap ansible at <2.10 and fix hacking\n\nChange-Id: I035ed9f3964ba904dc9ccfe048b69a68c6680253\n'}, {'number': 2, 'created': '2021-02-22 16:42:38.000000000', 'files': ['tasks/main.yml', 'ansible-requirements.txt', 'test-requirements.txt', 'ci-scripts/ansible-lint.sh', 'tox.ini', 'meta/main.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/c6f9a7bdd75d03c728dc8b08bbf6a695825eafda', 'message': 'Fix CI\n\nCap ansible at <2.10 and fix hacking. Additionally convert ansible-lint\nto not use the old shell script and use .ansible-lint for skips\n\nChange-Id: I035ed9f3964ba904dc9ccfe048b69a68c6680253\n'}]",0,776813,c6f9a7bdd75d03c728dc8b08bbf6a695825eafda,15,2,2,14985,,,0,"Fix CI

Cap ansible at <2.10 and fix hacking. Additionally convert ansible-lint
to not use the old shell script and use .ansible-lint for skips

Change-Id: I035ed9f3964ba904dc9ccfe048b69a68c6680253
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/13/776813/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'test-requirements.txt']",2,caa70e5b6fa26a0ed508b57ec81967fee51dc733,ansible-facts,"hacking>=4.0.0,<4.1.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",2,2
openstack%2Fironic~master~I31a258e0ce7db7e931e62f2a06e610857dabdd47,openstack/ironic,master,I31a258e0ce7db7e931e62f2a06e610857dabdd47,Implement system scoped RBAC for node and driver passthru,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 14:48:44.000000000,2021-02-23 14:43:23.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0d94c68aa2cefe43584bed530d98c49e403ff8e5', 'message': 'Implement secure RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c229c39e25f5465c627e162246d745a46ef8e6ca', 'message': 'Implement secure RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 3, 'created': '2021-01-21 22:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9f8a8e1c73733032bf74f0f26127fe2711a345a1', 'message': 'WIP Implement secure RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 4, 'created': '2021-01-22 17:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d81f4812d533b2a96ab90e990ef982bb34a59e34', 'message': 'Implement secure RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 5, 'created': '2021-01-22 20:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/28daee0282b0d4ae3b18d314d355562d7ff2100f', 'message': 'Implement secure RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 6, 'created': '2021-02-02 00:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f2385e082fb48765d248cf4327d38462741d7f0', 'message': 'Implement secure RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 7, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8770da217bfadd5210549379f12d1947da6155df', 'message': 'Implement system scoped RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 8, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3da3e5f93fc778c627dcb282a66a0779e905c993', 'message': 'Implement system scoped RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}, {'number': 9, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff883486e62e394b03ed7c6e6911ca082e599586', 'message': 'Implement system scoped RBAC for node and driver passthru\n\nThis commit updates the policies for baremetal passthru policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47\n'}]",12,763271,ff883486e62e394b03ed7c6e6911ca082e599586,55,8,9,5046,,,0,"Implement system scoped RBAC for node and driver passthru

This commit updates the policies for baremetal passthru policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I31a258e0ce7db7e931e62f2a06e610857dabdd47
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/763271/7 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,0d94c68aa2cefe43584bed530d98c49e403ff8e5,secure-rbac,"deprecated_node_passthru = policy.DeprecatedRule( name='baremetal:node:vendor_passthru', check_str='rule:is_admin' ) deprecated_driver_passthru = policy.DeprecatedRule( name='baremetal:driver:vendor_passthru', check_str='rule:is_admin' ) deprecated_vendor_reason = """""" The baremetal vendor passthru API is now aware of system scope and default roles. """""" name='baremetal:node:vendor_passthru', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Access vendor-specific Node functions', operations=[ {'path': 'nodes/{node_ident}/vendor_passthru/methods', 'method': 'GET'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'GET'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'PUT'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'POST'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'PATCH'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'DELETE'}, ], deprecated_rule=deprecated_node_passthru, deprecated_reason=deprecated_vendor_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:driver:vendor_passthru', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Access vendor-specific Driver functions', operations=[ {'path': 'drivers/{driver_name}/vendor_passthru/methods', 'method': 'GET'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'GET'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'PUT'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'POST'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'PATCH'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'DELETE'} ], deprecated_rule=deprecated_driver_passthru, deprecated_reason=deprecated_vendor_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:node:vendor_passthru', 'rule:is_admin', 'Access vendor-specific Node functions', [{'path': 'nodes/{node_ident}/vendor_passthru/methods', 'method': 'GET'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'GET'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'PUT'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'POST'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'PATCH'}, {'path': 'nodes/{node_ident}/vendor_passthru?method={method_name}', 'method': 'DELETE'}]), 'baremetal:driver:vendor_passthru', 'rule:is_admin', 'Access vendor-specific Driver functions', [{'path': 'drivers/{driver_name}/vendor_passthru/methods', 'method': 'GET'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'GET'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'PUT'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'POST'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'PATCH'}, {'path': 'drivers/{driver_name}/vendor_passthru?method={method_name}', 'method': 'DELETE'}]),",57,30
openstack%2Fironic~master~I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d,openstack/ironic,master,I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d,Implement system scoped RBAC for baremetal drivers,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 14:46:25.000000000,2021-02-23 14:42:35.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/987b4ec07e83c8534333de635ed46434a83e1a43', 'message': 'Implement secure RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/076ef5ea7fd66654af5ed7d1da79f1b9a4ce76c0', 'message': 'Implement secure RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}, {'number': 3, 'created': '2021-01-21 22:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c3f5a4e9ce401bb068df345f4b51bbf0c577389', 'message': 'Implement secure RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}, {'number': 4, 'created': '2021-01-22 20:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e59074238b4c41b91c74e46cb0a579ed1cd97f38', 'message': 'Implement secure RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}, {'number': 5, 'created': '2021-02-02 00:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/509365bbc60ab845d2ccd3aecbcead6df61ccb82', 'message': 'Implement secure RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4894a7ca57efe0a1868c0842f9952b4505346e03', 'message': 'Implement system scoped RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2bcb593879a23015515b1d89f72a6fe2f4b456c', 'message': 'Implement system scoped RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e773d96cae24436afc3cf9aff30f40d558678af', 'message': 'Implement system scoped RBAC for baremetal drivers\n\nThis commit updates the policies for baremetal drivers to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d\n'}]",0,763270,9e773d96cae24436afc3cf9aff30f40d558678af,50,7,8,5046,,,0,"Implement system scoped RBAC for baremetal drivers

This commit updates the policies for baremetal drivers to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I7e2f205a5fbc186bfdaf2f5f58fb3b07abc9765d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/763270/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,987b4ec07e83c8534333de635ed46434a83e1a43,secure-rbac," deprecated_driver_get = policy.DeprecatedRule( name='baremetal:driver:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_driver_get_properties = policy.DeprecatedRule( name='baremetal:driver:get_properties', check_str='rule:is_admin or rule:is_observer' ) deprecated_driver_get_raid_properties = policy.DeprecatedRule( name='baremetal:driver:get_raid_logical_disk_properties', check_str='rule:is_admin or rule:is_observer' ) deprecated_driver_reason = """""" The baremetal driver API is now aware of system scope and default roles. """""" name='baremetal:driver:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='View list of available drivers', operations=[ {'path': '/drivers', 'method': 'GET'}, {'path': '/drivers/{driver_name}', 'method': 'GET'} ], deprecated_rule=deprecated_driver_get, deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:driver:get_properties', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='View driver-specific properties', operations=[ {'path': '/drivers/{driver_name}/properties', 'method': 'GET'} ], deprecated_rule=deprecated_driver_get_properties, deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:driver:get_raid_logical_disk_properties', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='View driver-specific RAID metadata', operations=[ {'path': '/drivers/{driver_name}/raid/logical_disk_properties', 'method': 'GET'} ], deprecated_rule=deprecated_driver_get_raid_properties, deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:driver:get', 'rule:is_admin or rule:is_observer', 'View list of available drivers', [{'path': '/drivers', 'method': 'GET'}, {'path': '/drivers/{driver_name}', 'method': 'GET'}]), 'baremetal:driver:get_properties', 'rule:is_admin or rule:is_observer', 'View driver-specific properties', [{'path': '/drivers/{driver_name}/properties', 'method': 'GET'}]), 'baremetal:driver:get_raid_logical_disk_properties', 'rule:is_admin or rule:is_observer', 'View driver-specific RAID metadata', [{'path': '/drivers/{driver_name}/raid/logical_disk_properties', 'method': 'GET'}]),",52,14
openstack%2Fheat-translator~master~Iaa040f10028935782d8315efc81d344e72b2a152,openstack/heat-translator,master,Iaa040f10028935782d8315efc81d344e72b2a152,Dropping explicit unicode literal,MERGED,2021-01-30 08:27:10.000000000,2021-02-23 14:44:27.000000000,2021-02-23 14:41:35.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27880}, {'_account_id': 29313}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-01-30 08:27:10.000000000', 'files': ['translator/hot/syntax/hot_template.py', 'doc/source/conf.py', 'translator/hot/syntax/hot_resource.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/e41b382afd953248a56b56af2dac0e24953d6b89', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: Iaa040f10028935782d8315efc81d344e72b2a152\n'}]",0,773231,e41b382afd953248a56b56af2dac0e24953d6b89,12,7,1,32102,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: Iaa040f10028935782d8315efc81d344e72b2a152
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/31/773231/1 && git format-patch -1 --stdout FETCH_HEAD,"['translator/hot/syntax/hot_template.py', 'doc/source/conf.py', 'translator/hot/syntax/hot_resource.py']",3,e41b382afd953248a56b56af2dac0e24953d6b89,drop-unicode-literal," return yaml.nodes.MappingNode('tag:yaml.org,2002:map', nodes)"," return yaml.nodes.MappingNode(u'tag:yaml.org,2002:map', nodes)",5,5
openstack%2Fironic~master~I5ecb44a389b057519599c7b812f8c913db4f085a,openstack/ironic,master,I5ecb44a389b057519599c7b812f8c913db4f085a,Implement system scoped RBAC for chassis,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 14:38:59.000000000,2021-02-23 14:36:48.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/10e5cd4143fc6843b16a8dc4454665af4c7f8178', 'message': 'Implement secure RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a211ec39b7ec19283eceddb61dd0b707a89b53e', 'message': 'Implement secure RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}, {'number': 3, 'created': '2021-01-21 22:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/433e774f7ce1499feb475eddd6cfc27fce76bf87', 'message': 'Implement secure RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}, {'number': 4, 'created': '2021-01-22 20:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1d62a0f07fcea35d58b64acdeb5bd9f758d443a3', 'message': 'Implement secure RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}, {'number': 5, 'created': '2021-02-02 00:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b79fabf85adf5a96d55e19dd84d3e5ae3bfeab45', 'message': 'Implement secure RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/689bf11bfe4e44046b355b6b5a9bf2941474fc12', 'message': 'Implement system scoped RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54e13140df9d1e3bb0e9e27798b252565e234f7e', 'message': 'Implement system scoped RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb8d7d6a8e1deb8b1eac5e8bae28ec7bf6d5b87d', 'message': 'Implement system scoped RBAC for chassis\n\nThis commit updates the policies for baremetal chassis to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I5ecb44a389b057519599c7b812f8c913db4f085a\n'}]",2,763269,eb8d7d6a8e1deb8b1eac5e8bae28ec7bf6d5b87d,55,7,8,5046,,,0,"Implement system scoped RBAC for chassis

This commit updates the policies for baremetal chassis to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I5ecb44a389b057519599c7b812f8c913db4f085a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/763269/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,10e5cd4143fc6843b16a8dc4454665af4c7f8178,secure-rbac," deprecated_chassis_get = policy.DeprecatedRule( name='baremetal:chassis:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_chassis_create = policy.DeprecatedRule( name='baremetal:chassis:create', check_str='rule:is_admin' ) deprecated_chassis_delete = policy.DeprecatedRule( name='baremetal:chassis:delete', check_str='rule:is_admin' ) deprecated_chassis_update = policy.DeprecatedRule( name='baremetal:chassis:update', check_str='rule:is_admin' ) deprecated_chassis_reason = """""" The baremetal chassis API is now aware of system scope and default roles. """""" name='baremetal:chassis:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Chassis records', operations=[ {'path': '/chassis', 'method': 'GET'}, {'path': '/chassis/detail', 'method': 'GET'}, {'path': '/chassis/{chassis_id}', 'method': 'GET'} ], deprecated_rule=deprecated_chassis_get, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:chassis:create', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Create Chassis records', operations=[{'path': '/chassis', 'method': 'POST'}], deprecated_rule=deprecated_chassis_create, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:chassis:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Delete Chassis records', operations=[{'path': '/chassis/{chassis_id}', 'method': 'DELETE'}], deprecated_rule=deprecated_chassis_delete, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:chassis:update', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Chassis records', operations=[{'path': '/chassis/{chassis_id}', 'method': 'PATCH'}], deprecated_rule=deprecated_chassis_update, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:chassis:get', 'rule:is_admin or rule:is_observer', 'Retrieve Chassis records', [{'path': '/chassis', 'method': 'GET'}, {'path': '/chassis/detail', 'method': 'GET'}, {'path': '/chassis/{chassis_id}', 'method': 'GET'}]), 'baremetal:chassis:create', 'rule:is_admin', 'Create Chassis records', [{'path': '/chassis', 'method': 'POST'}]), 'baremetal:chassis:delete', 'rule:is_admin', 'Delete Chassis records', [{'path': '/chassis/{chassis_id}', 'method': 'DELETE'}]), 'baremetal:chassis:update', 'rule:is_admin', 'Update Chassis records', [{'path': '/chassis/{chassis_id}', 'method': 'PATCH'}]),",61,18
openstack%2Fneutron~master~Iad01db7f33d6c61b29c552d2dc8893e2946a369a,openstack/neutron,master,Iad01db7f33d6c61b29c552d2dc8893e2946a369a,Don't update AgentCache when Chassis_Private.chassis == [],MERGED,2021-02-08 18:44:23.000000000,2021-02-23 14:38:45.000000000,2021-02-22 23:35:00.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 18:44:23.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f06268a8ffb5a0cb3d234c7c13a6808b9cce8263', 'message': 'Don\'t update AgentCache when Chassis_Private.chassis == []\n\nWhen we delete a Chassis object when deleting an agent, the\ncorresponding value in Chassis_Private.chassis is automatically\nset to []. Even though we use frozen rows, since we listen for\nupdates to Chassis_Private, we will replace the row in the\nAgentCache with this new ""chassis-less"" entry, which will break\nthings since Chassis_Private.chassis is used to display information\nwhich is only stored there like \'hostname\'.\n\nThis patch avoids updating the AgentCache when Chassis_Private\nhas an empty Chassis field.\n\nRelated-Bug: #1914757\nChange-Id: Iad01db7f33d6c61b29c552d2dc8893e2946a369a\n'}]",2,774529,f06268a8ffb5a0cb3d234c7c13a6808b9cce8263,31,3,1,5756,,,0,"Don't update AgentCache when Chassis_Private.chassis == []

When we delete a Chassis object when deleting an agent, the
corresponding value in Chassis_Private.chassis is automatically
set to []. Even though we use frozen rows, since we listen for
updates to Chassis_Private, we will replace the row in the
AgentCache with this new ""chassis-less"" entry, which will break
things since Chassis_Private.chassis is used to display information
which is only stored there like 'hostname'.

This patch avoids updating the AgentCache when Chassis_Private
has an empty Chassis field.

Related-Bug: #1914757
Change-Id: Iad01db7f33d6c61b29c552d2dc8893e2946a369a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/774529/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'],1,f06268a8ffb5a0cb3d234c7c13a6808b9cce8263,," # On updates to Chassis_Private because the Chassis has been deleted, # don't update the AgentCache. We use chassis_private.chassis to return # data about the agent. return event == self.ROW_CREATE or ( getattr(old, 'nb_cfg', False) and not (self.table == 'Chassis_Private' and not row.chassis)) # On updates to Chassis_Private because the Chassis has been # deleted, don't update the AgentCache. We use # chassis_private.chassis to return data about the agent. if self.table == 'Chassis_Private' and not row.chassis: return False"," return event == self.ROW_CREATE or getattr(old, 'nb_cfg', False)",11,1
openstack%2Fpuppet-placement~stable%2Ftrain~I76eb105ca532e427e4f48f84ccb5c15532456fda,openstack/puppet-placement,stable/train,I76eb105ca532e427e4f48f84ccb5c15532456fda,Add support for management of osc-placement package,MERGED,2021-02-19 17:31:06.000000000,2021-02-23 14:31:03.000000000,2021-02-23 14:29:37.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 17:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/c99d9885443bbf4e1ec7f79283f51b3ebf3a1f2c', 'message': 'Add support for management of osc-placement package\n\nThis patch introduces a new class, placement::client, so that operators\ncan manage pythonN-osc-placement package.\n\nChange-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda\n(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)\n(cherry picked from commit a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a)\n'}, {'number': 2, 'created': '2021-02-22 13:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/0b64bd279ec6dd580cc2d20b42fb34b3c2115a9a', 'message': 'Add support for management of osc-placement package\n\nThis patch introduces a new class, placement::client, so that operators\ncan manage pythonN-osc-placement package.\n\nChange-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda\n(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)\n(cherry picked from commit a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a)\n'}, {'number': 3, 'created': '2021-02-22 15:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/7504a79f44b9ff3687901ca60deba6421de5a552', 'message': 'Add support for management of osc-placement package\n\nThis patch introduces a new class, placement::client, so that operators\ncan manage pythonN-osc-placement package.\n\nChange-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda\n(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)\n(cherry picked from commit a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a)\n'}, {'number': 4, 'created': '2021-02-23 09:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/4ce793a7958b470f4e12fc16d4d6e8c496d28232', 'message': 'Add support for management of osc-placement package\n\nThis patch introduces a new class, placement::client, so that operators\ncan manage pythonN-osc-placement package.\n\nbackport note 1:\nBecause stable/train still uses absolute names to include puppet classes,\nall usage of relative names are replaced.\n\nbackport note 2:\nThis change include the fix about the wrong client package name in unit\ntests[1].\n\n[1] e1fedebded690f509be5a191ea2ce9d96f3eff70\n\nChange-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda\n(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)\n(cherry picked from commit a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a)\n'}, {'number': 5, 'created': '2021-02-23 09:59:32.000000000', 'files': ['spec/classes/placement_client_spec.rb', 'releasenotes/notes/osc-placement-c9df6c2ce40537d0.yaml', 'manifests/params.pp', 'manifests/client.pp', 'manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/d57a3d99cf5f30fa6ae4eaf5c93a293f41cef501', 'message': 'Add support for management of osc-placement package\n\nThis patch introduces a new class, placement::client, so that operators\ncan manage pythonN-osc-placement package.\n\nbackport note 1:\nBecause stable/train still uses absolute names to include puppet\nclasses, all usage of relative names are replaced.\n\nbackport note 2:\nThis change include the fix about the wrong client package name in unit\ntests[1].\n [1] e1fedebded690f509be5a191ea2ce9d96f3eff70\n\nChange-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda\n(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)\n(cherry picked from commit a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a)\n'}]",5,776621,d57a3d99cf5f30fa6ae4eaf5c93a293f41cef501,21,7,5,27419,,,0,"Add support for management of osc-placement package

This patch introduces a new class, placement::client, so that operators
can manage pythonN-osc-placement package.

backport note 1:
Because stable/train still uses absolute names to include puppet
classes, all usage of relative names are replaced.

backport note 2:
This change include the fix about the wrong client package name in unit
tests[1].
 [1] e1fedebded690f509be5a191ea2ce9d96f3eff70

Change-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda
(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)
(cherry picked from commit a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/21/776621/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_client_spec.rb', 'releasenotes/notes/osc-placement-c9df6c2ce40537d0.yaml', 'manifests/params.pp', 'manifests/client.pp', 'manifests/deps.pp']",5,c99d9885443bbf4e1ec7f79283f51b3ebf3a1f2c,osc-placement," # Support packages need to be installed in the install phase, but we don't # put them in the chain above because we don't want any false dependencies # between packages with the placement-package tag and the placement-support-package # tag. Note: the package resources here will have a 'before' relationship on # the placement::install::end anchor. The line between placement-support-package # and placement-package should be whether or not placement services would # need to be restarted if the package state was changed. Anchor['placement::install::begin'] -> Package<| tag == 'placement-support-package'|> -> Anchor['placement::install::end'] ",,93,0
openstack%2Fcinder-tempest-plugin~master~I5e98dfe22b107e56bd00f285d8cd527adadb206b,openstack/cinder-tempest-plugin,master,I5e98dfe22b107e56bd00f285d8cd527adadb206b,Copy scenario manager and avoid using the Tempest unstable interface,ABANDONED,2021-02-23 01:26:45.000000000,2021-02-23 14:19:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 01:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d4733f48ad127ab3c8442598e7a8250b653f153a', 'message': 'Copy scenario manager and avoid using the Tempest unstable interface\n\nTempest.scenaio.manager is not stable interface yet and Tempest\nteam is making many changes in that to make it stable for\nplugins. Until then we need make a copy of it so that any\nchange done as part of below BP would not cause any break in\ncinder-tempest-plugin\n\n- https://review.opendev.org/q/topic:%22bp%252Ftempest-scenario-manager-stable%22+(status:open%20OR%20status:merged)\n\nRelated blueprint tempest-scenario-manager-stable\n\nChange-Id: I5e98dfe22b107e56bd00f285d8cd527adadb206b\n'}, {'number': 2, 'created': '2021-02-23 01:38:32.000000000', 'files': ['cinder_tempest_plugin/scenario/manager.py', 'cinder_tempest_plugin/scenario/test_volume_encrypted.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c7af44031ddecfc676597a73ea2b0f2ef9fc85c0', 'message': 'Copy scenario manager and avoid using the Tempest unstable interface\n\nTempest.scenaio.manager is not stable interface yet and Tempest\nteam is making many changes in that to make it stable for\nplugins. Until then we need make a copy of it so that any\nchange done as part of below BP would not cause any break in\ncinder-tempest-plugin\n\n- https://review.opendev.org/q/topic:%22bp%252Ftempest-scenario-manager-stable%22+(status:open%20OR%20status:merged)\n\nThis keep only cinder related methods.\n\nRelated blueprint tempest-scenario-manager-stable\n\nChange-Id: I5e98dfe22b107e56bd00f285d8cd527adadb206b\n'}]",0,777040,c7af44031ddecfc676597a73ea2b0f2ef9fc85c0,13,3,2,8556,,,0,"Copy scenario manager and avoid using the Tempest unstable interface

Tempest.scenaio.manager is not stable interface yet and Tempest
team is making many changes in that to make it stable for
plugins. Until then we need make a copy of it so that any
change done as part of below BP would not cause any break in
cinder-tempest-plugin

- https://review.opendev.org/q/topic:%22bp%252Ftempest-scenario-manager-stable%22+(status:open%20OR%20status:merged)

This keep only cinder related methods.

Related blueprint tempest-scenario-manager-stable

Change-Id: I5e98dfe22b107e56bd00f285d8cd527adadb206b
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/40/777040/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/scenario/manager.py', 'cinder_tempest_plugin/scenario/test_volume_encrypted.py']",2,d4733f48ad127ab3c8442598e7a8250b653f153a,bp/would, from cinder_tempest_plugin.scenario import manager,from tempest.scenario import manager,1010,1
openstack%2Fpython-blazarclient~master~Ia2ddcf868967c281cddd394c7c61acba2a62db6c,openstack/python-blazarclient,master,Ia2ddcf868967c281cddd394c7c61acba2a62db6c,Use unittest.mock instead of mock,ABANDONED,2021-01-02 03:08:51.000000000,2021-02-23 14:16:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-02 03:08:51.000000000', 'files': ['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/tests/v1/shell_commands/test_hosts.py', 'blazarclient/tests/test_base.py', 'blazarclient/tests/v1/shell_commands/test_leases.py', 'blazarclient/tests/test_command.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/7ba08f8ec48162abc51624d7b96b559ce1f9a83f', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ia2ddcf868967c281cddd394c7c61acba2a62db6c\n'}]",0,768847,7ba08f8ec48162abc51624d7b96b559ce1f9a83f,6,1,1,31027,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ia2ddcf868967c281cddd394c7c61acba2a62db6c
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/47/768847/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/tests/v1/shell_commands/test_hosts.py', 'blazarclient/tests/test_base.py', 'blazarclient/tests/v1/shell_commands/test_leases.py', 'blazarclient/tests/test_command.py']",5,7ba08f8ec48162abc51624d7b96b559ce1f9a83f,,from unittest import mock,import mock,5,5
openstack%2Fpython-blazarclient~master~I2c076a37786e771a5c1473b75de6e72c5e763796,openstack/python-blazarclient,master,I2c076a37786e771a5c1473b75de6e72c5e763796,Use unittest.mock instead of mock,ABANDONED,2020-06-09 09:52:56.000000000,2021-02-23 14:15:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-09 09:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/3e48a18c1f00160114d1b4f31fa2aa5543d03013', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I2c076a37786e771a5c1473b75de6e72c5e763796\n'}, {'number': 2, 'created': '2020-06-11 09:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/31daa651b5f5d270860d63a1700ec384812ccee2', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I2c076a37786e771a5c1473b75de6e72c5e763796\n'}, {'number': 3, 'created': '2020-06-11 09:47:08.000000000', 'files': ['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/tests/v1/shell_commands/test_hosts.py', 'blazarclient/tests/test_base.py', 'test-requirements.txt', 'RELEASENOTES.rst', 'lower-constraints.txt', 'blazarclient/tests/v1/shell_commands/test_leases.py', 'releasenotes/notes/reno.cache', 'blazarclient/tests/test_command.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/ed05c3ed53f7d561d544b002685814b27993c4de', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I2c076a37786e771a5c1473b75de6e72c5e763796\n'}]",1,734501,ed05c3ed53f7d561d544b002685814b27993c4de,6,1,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I2c076a37786e771a5c1473b75de6e72c5e763796
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/01/734501/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/tests/v1/shell_commands/test_hosts.py', 'blazarclient/tests/test_base.py', 'test-requirements.txt', 'blazarclient/tests/v1/shell_commands/test_leases.py', 'lower-constraints.txt', 'blazarclient/tests/test_command.py']",7,3e48a18c1f00160114d1b4f31fa2aa5543d03013,drop_mock,from unittest import mock,import mock,5,7
openstack%2Ftripleo-heat-templates~master~I6336c3305785113bbef418db06d54cc7edb920eb,openstack/tripleo-heat-templates,master,I6336c3305785113bbef418db06d54cc7edb920eb,Glance: Use volumev3 internal API of Cinder,ABANDONED,2021-02-13 09:31:57.000000000,2021-02-23 14:10:00.000000000,,[{'_account_id': 21129}],"[{'number': 1, 'created': '2021-02-13 09:31:57.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2a6ff482c4d8c565df8a090f8538cb22a9078eb', 'message': 'Glance: Use volumev3 internal API of Cinder\n\nThis change ensures that Glance uses volumev3 internal API when it\ncommunicates with Cinder. Now glance_store use volumev2 public API but\nvolumev2 is already deprecated and internal API is more suitable for\ncommunication between OpenStack components.\n\nChange-Id: I6336c3305785113bbef418db06d54cc7edb920eb\n'}]",0,775498,c2a6ff482c4d8c565df8a090f8538cb22a9078eb,4,1,1,9816,,,0,"Glance: Use volumev3 internal API of Cinder

This change ensures that Glance uses volumev3 internal API when it
communicates with Cinder. Now glance_store use volumev2 public API but
volumev2 is already deprecated and internal API is more suitable for
communication between OpenStack components.

Change-Id: I6336c3305785113bbef418db06d54cc7edb920eb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/775498/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,c2a6ff482c4d8c565df8a090f8538cb22a9078eb,glance-cinder-catalog, glance::backend::cinder::cinder_catalog_info: 'volumev3:cinderv3:internalURL',,1,0
openstack%2Fnetworking-bgpvpn~master~Ib5628cf79ab8bc099fb5f8b00f5302a34fa26655,openstack/networking-bgpvpn,master,Ib5628cf79ab8bc099fb5f8b00f5302a34fa26655,Make lower-constraints job non-voting,MERGED,2021-01-18 13:15:52.000000000,2021-02-23 14:00:10.000000000,2021-02-23 13:55:05.000000000,"[{'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-18 13:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/cbc4cfa30202f5b598245301b6e4b430d7919f2f', 'message': 'Make lower-constraints job non-voting\n\nl-c job recently failed too much, and maintaining it is huge job.\nAs on stable branches we decided (see [1]) to drop l-c testing, meke\nnon-voting it for networking-bgpvpn.\n\n[1]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ib5628cf79ab8bc099fb5f8b00f5302a34fa26655\n'}, {'number': 2, 'created': '2021-02-01 15:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/865961df4be66e7a844d60a49986421e12506bf4', 'message': 'Make lower-constraints job non-voting\n\nl-c job recently failed too much, and maintaining it is huge job.\nAs on stable branches we decided (see [1]) to drop l-c testing, meke\nnon-voting it for networking-bgpvpn.\n\n[1]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ib5628cf79ab8bc099fb5f8b00f5302a34fa26655\n'}, {'number': 3, 'created': '2021-02-09 17:45:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/4e22ba58fd6821e38ec9de12c876821af864a6c3', 'message': 'Make lower-constraints job non-voting\n\nl-c job recently failed too much, and maintaining it is huge job.\nAs on stable branches we decided (see [1]) to drop l-c testing, meke\nnon-voting it for networking-bgpvpn in check queue, and remove from\ngate queue.\n\n[1]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ib5628cf79ab8bc099fb5f8b00f5302a34fa26655\n'}]",4,771219,4e22ba58fd6821e38ec9de12c876821af864a6c3,33,6,3,8313,,,0,"Make lower-constraints job non-voting

l-c job recently failed too much, and maintaining it is huge job.
As on stable branches we decided (see [1]) to drop l-c testing, meke
non-voting it for networking-bgpvpn in check queue, and remove from
gate queue.

[1]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: Ib5628cf79ab8bc099fb5f8b00f5302a34fa26655
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/19/771219/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cbc4cfa30202f5b598245301b6e4b430d7919f2f,oslo_lc_drop, voting: false,,1,0
openstack%2Foctavia~master~I5df0d86c261501e392307651e8f451b8d6a4dc63,openstack/octavia,master,I5df0d86c261501e392307651e8f451b8d6a4dc63,Fix db migrations with postgresql,ABANDONED,2018-07-31 12:15:19.000000000,2021-02-23 13:55:24.000000000,,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28514}]","[{'number': 1, 'created': '2018-07-31 12:15:19.000000000', 'files': ['octavia/db/migration/alembic_migrations/versions/9bf4d21caaea_adding_amphora_id_to_listener_.py', 'octavia/db/migration/alembic_migrations/versions/fac584114642_.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1599640f78d3b94154aefc53bfaac44361d5233d', 'message': 'Fix db migrations with postgresql\n\nuses generic alembic operations to migrate on postgresql\n\nChange-Id: I5df0d86c261501e392307651e8f451b8d6a4dc63\nTask: 23331\nStory: 2003185\nSigned-off-by: Andrew Karpow <andrew.karpow@sap.com>\n'}]",2,587400,1599640f78d3b94154aefc53bfaac44361d5233d,12,5,1,28514,,,0,"Fix db migrations with postgresql

uses generic alembic operations to migrate on postgresql

Change-Id: I5df0d86c261501e392307651e8f451b8d6a4dc63
Task: 23331
Story: 2003185
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/587400/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/migration/alembic_migrations/versions/9bf4d21caaea_adding_amphora_id_to_listener_.py', 'octavia/db/migration/alembic_migrations/versions/fac584114642_.py']",2,1599640f78d3b94154aefc53bfaac44361d5233d,bug/story2003185," op.alter_column('health_monitor', 'id', nullable=False) op.drop_constraint('health_monitor_pkey', 'health_monitor', type_='primary') op.create_primary_key('health_monitor_pk', 'health_monitor', ['id'])"," op.execute(""ALTER TABLE health_monitor MODIFY id varchar(36) NOT NULL"") op.execute(""ALTER TABLE health_monitor DROP PRIMARY KEY,"" ""ADD PRIMARY KEY(id);"")",8,5
openstack%2Ftripleo-quickstart~master~Iac65da9079eb504c6f3e36a0285f0b487ae9a11e,openstack/tripleo-quickstart,master,Iac65da9079eb504c6f3e36a0285f0b487ae9a11e,Ensure the gating repo is release aware,MERGED,2021-02-23 05:26:25.000000000,2021-02-23 13:51:59.000000000,2021-02-23 13:50:09.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 05:26:25.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/train.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/80c9442b1afec8ee21dce96503b0868ecd6c8d83', 'message': 'Ensure the gating repo is release aware\n\nIn Patch[1] we missed C7 release files.\n\nThe gating repo is specific for the release.\nThis is critical for upgrade jobs.\n\nThe gating repo name is changed to gating-repo-$release\nThen force copied to gating.repo for consistency in [2].\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/765835\n[2] https://review.opendev.org/c/765834\n\nCloses-Bug: #1916561\nChange-Id: Iac65da9079eb504c6f3e36a0285f0b487ae9a11e\n'}]",0,777051,80c9442b1afec8ee21dce96503b0868ecd6c8d83,12,4,1,29775,,,0,"Ensure the gating repo is release aware

In Patch[1] we missed C7 release files.

The gating repo is specific for the release.
This is critical for upgrade jobs.

The gating repo name is changed to gating-repo-$release
Then force copied to gating.repo for consistency in [2].

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/765835
[2] https://review.opendev.org/c/765834

Closes-Bug: #1916561
Change-Id: Iac65da9079eb504c6f3e36a0285f0b487ae9a11e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/51/777051/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/train.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml']",4,80c9442b1afec8ee21dce96503b0868ecd6c8d83,release-aware-gate," # In https://review.opendev.org/c/765834 a release specific gating-repo is created. # The release specifc gating repo is copied to gating.repo for consistency across ci # The original file is backed up for logging purposes. Upgrade jobs will run with # two releases. sudo cp -f /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating.repo || true; sudo sed -i -e ""s/gating-repo-{{ release }}/gating-repo/"" /etc/yum.repos.d/gating.repo || true; sudo mv /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating-repo-{{ release }}.repo_previous || true;",,28,0
openstack%2Fvalidations-common~master~I2ac937df59f91b566029b0260e804d2972362f97,openstack/validations-common,master,I2ac937df59f91b566029b0260e804d2972362f97,Validations now gather only the subset of facts they need,MERGED,2021-02-17 12:56:39.000000000,2021-02-23 13:50:13.000000000,2021-02-23 13:50:13.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-17 12:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/801fcf804fc9dc2ae7925f6cbcaa18eeb470b980', 'message': 'Validations now gather only the subset of facts they need\n\nThe default facts gathering is set to false.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2ac937df59f91b566029b0260e804d2972362f97\n'}, {'number': 2, 'created': '2021-02-18 10:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/edf8a0a71b9afb79eb266c699644455d566f66ba', 'message': 'Validations now gather only the subset of facts they need\n\nThe default facts gathering is set to false.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2ac937df59f91b566029b0260e804d2972362f97\n'}, {'number': 3, 'created': '2021-02-18 10:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3de0d891443e54789dd3a827e7be624442ba2808', 'message': 'Validations now gather only the subset of facts they need\n\nThe default facts gathering is set to false.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2ac937df59f91b566029b0260e804d2972362f97\n'}, {'number': 4, 'created': '2021-02-18 10:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b75f8992e444efce8e70fe4bdc9007f2529fa9bf', 'message': 'Validations now gather only the subset of facts they need\n\nThe default facts gathering is set to false.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2ac937df59f91b566029b0260e804d2972362f97\n'}, {'number': 5, 'created': '2021-02-23 10:29:35.000000000', 'files': ['validations_common/playbooks/check-selinux-mode.yaml', 'validations_common/playbooks/check-ram.yaml', 'validations_common/roles/check_cpu/tasks/main.yml', 'validations_common/playbooks/check-latest-packages-version.yaml', 'validations_common/roles/check_latest_packages_version/tasks/main.yml', 'validations_common/playbooks/check-cpu.yaml', 'validations_common/roles/check_ram/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6b1167798717faeac2e91cc5ad9cdc87b3924acd', 'message': 'Validations now gather only the subset of facts they need\n\nThe default facts gathering is set to false.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2ac937df59f91b566029b0260e804d2972362f97\n'}]",6,776163,6b1167798717faeac2e91cc5ad9cdc87b3924acd,19,5,5,32926,,,0,"Validations now gather only the subset of facts they need

The default facts gathering is set to false.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2ac937df59f91b566029b0260e804d2972362f97
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/63/776163/4 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/playbooks/check-selinux-mode.yaml', 'validations_common/playbooks/check-ram.yaml', 'validations_common/roles/check_cpu/tasks/main.yml', 'validations_common/roles/check_selinux_mode/tasks/main.yml', 'validations_common/playbooks/check-latest-packages-version.yaml', 'validations_common/roles/check_latest_packages_version/tasks/main.yml', 'validations_common/playbooks/check-cpu.yaml', 'validations_common/roles/check_ram/tasks/main.yml']",8,801fcf804fc9dc2ae7925f6cbcaa18eeb470b980,playbooks/restrictgathering,- name: Gather facts ansible.builtin.setup: gather_subset: - hardware - '!all' - '!min' ,,36,4
openstack%2Ftripleo-heat-templates~master~I0df046c654d104bb2138365fe9d7bbce85bfc596,openstack/tripleo-heat-templates,master,I0df046c654d104bb2138365fe9d7bbce85bfc596,Stop standalone cinder containers during upgrade,ABANDONED,2021-02-15 01:04:39.000000000,2021-02-23 13:48:08.000000000,,"[{'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-15 01:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8272343a01d276c28cca8eb603cf8463c9c9422a', 'message': 'Stop standalone cinder-volume container during upgrade\n\nThis change ensures that standalone cinder-volume, which is not managed\nby pacemaker, is surelly stopped during upgrade, to follow what we do\nfor the other standalone services.\n\nChange-Id: I0df046c654d104bb2138365fe9d7bbce85bfc596\n'}, {'number': 2, 'created': '2021-02-15 01:05:42.000000000', 'files': ['deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be9b21ff29d14428dbfddc68ba1093db344b941b', 'message': 'Stop standalone cinder containers during upgrade\n\nThis change ensures that standalone cinder-volume and cinder-backup,\nwhich are not managed by pacemaker, are surelly stopped during upgrade,\nto follow what we do for the other standalone services.\n\nChange-Id: I0df046c654d104bb2138365fe9d7bbce85bfc596\n'}]",2,775544,be9b21ff29d14428dbfddc68ba1093db344b941b,9,3,2,9816,,,0,"Stop standalone cinder containers during upgrade

This change ensures that standalone cinder-volume and cinder-backup,
which are not managed by pacemaker, are surelly stopped during upgrade,
to follow what we do for the other standalone services.

Change-Id: I0df046c654d104bb2138365fe9d7bbce85bfc596
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/775544/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-container-puppet.yaml'],1,8272343a01d276c28cca8eb603cf8463c9c9422a,upgrade-stop-c-standalone," external_upgrade_tasks: - when: - step|int == 1 tags: - never - system_upgrade_transfer_data - system_upgrade_stop_services block: - name: Stop cinder volume container import_role: name: tripleo_container_stop vars: tripleo_containers_to_stop: - cinder_volume tripleo_delegate_to: ""{{ groups['cinder_volume'] | default([]) }}""",,15,0
openstack%2Fopenstack-ansible-os_neutron~master~Id64d236f7fc7b3d01c65ec7cf54041ac15d441bb,openstack/openstack-ansible-os_neutron,master,Id64d236f7fc7b3d01c65ec7cf54041ac15d441bb,DNM: Test combined patch,ABANDONED,2021-02-23 08:19:34.000000000,2021-02-23 13:46:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-02-23 08:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a60b97ef464311661b386248c5c5f981d9322a55', 'message': 'DNM: Test combined patch\n\nChange-Id: Id64d236f7fc7b3d01c65ec7cf54041ac15d441bb\n'}, {'number': 2, 'created': '2021-02-23 11:08:30.000000000', 'files': ['templates/neutron.conf.j2', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'defaults/main.yml', 'vars/main.yml', 'tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8c0d757965fc739113f656f465cf62d5613ea039', 'message': 'DNM: Test combined patch\n\nDepends-On: https://review.opendev.org/777091\nChange-Id: Id64d236f7fc7b3d01c65ec7cf54041ac15d441bb\n'}]",0,777057,8c0d757965fc739113f656f465cf62d5613ea039,5,2,2,31542,,,0,"DNM: Test combined patch

Depends-On: https://review.opendev.org/777091
Change-Id: Id64d236f7fc7b3d01c65ec7cf54041ac15d441bb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/57/777057/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'defaults/main.yml', 'tasks/neutron_install.yml', 'vars/main.yml']",6,a60b97ef464311661b386248c5c5f981d9322a55,," - ""git+{{ neutron_git_repo }}@{{ neutron_git_install_branch }}#egg=neutron"" - ""git+{{ neutron_dynamic_routing_git_repo }}@{{ neutron_dynamic_routing_git_install_branch }}#egg=neutron-dynamic-routing"" - ""git+{{ networking_calico_git_repo }}@{{ networking_calico_git_install_branch }}#egg=networking-calico"" - ""git+{{ neutron_vpnaas_git_repo }}@{{ neutron_vpnaas_git_install_branch }}#egg=neutron-vpnaas"" - ""git+{{ networking_odl_git_repo }}@{{ networking_odl_git_install_branch }}#egg=networking-odl"" - ""git+{{ ceilometer_git_repo }}@{{ ceilometer_git_install_branch }}#egg=ceilometer"" - ""git+{{ networking_bgpvpn_git_repo }}@{{ networking_bgpvpn_git_install_branch }}#egg=networking-bgpvpn"" - ""git+{{ networking_sfc_git_repo }}@{{ networking_sfc_git_install_branch }}#egg=networking-sfc"" - ""git+{{ networking_generic_switch_git_repo }}@{{ networking_generic_switch_git_install_branch }}#egg=networking-generic-switch"" - ""git+{{ networking_nsx_git_repo }}@{{ networking_nsx_git_install_branch }}#egg=vmware-nsx"" - ""git+{{ networking_nsxlib_git_repo }}@{{ networking_nsxlib_git_install_branch }}#egg=vmware-nsxlib""", - neutron - neutron_dynamic_routing - networking-calico - neutron_vpnaas - networking-odl - ceilometer - networking-bgpvpn - networking-sfc - networking-generic-switch - vmware-nsx - vmware-nsxlib,55,55
openstack%2Fkuryr-tempest-plugin~master~Ic63a2807238d3d879bb172d74b05bada2399f07f,openstack/kuryr-tempest-plugin,master,Ic63a2807238d3d879bb172d74b05bada2399f07f,Adds connectivity test for SCTP service,MERGED,2021-02-08 21:51:27.000000000,2021-02-23 13:35:09.000000000,2021-02-23 13:33:59.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-02-08 21:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ae7ddd61a1c7140e02bc453703a092fa0c6e835c', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services.\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/754429\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/753247\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}, {'number': 2, 'created': '2021-02-09 09:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0451266672aeaeb812730b7bd761d36aa4457e1b', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services.\n\nDepends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/754429\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/753247\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}, {'number': 3, 'created': '2021-02-09 15:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/43ca75db7503667931df75916c57f2cca52f3377', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services.\n\nDepends-On: I30997ae6cc6b8ec724f0e9dcfdfe49356b320ff4\nDepends-On: Ica57a5c77af61bffba812b35608bfc2a90011ba8\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}, {'number': 4, 'created': '2021-02-10 12:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/9f455c10c79fb867fc7c35db4b859aa6921ae92f', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/774844\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}, {'number': 5, 'created': '2021-02-12 14:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fd8cf738c659cd59f7c80050d6e03db7b16d59b3', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services. The kuryr-sctp\napplication was also extended to support connection with IPv6 address family.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/774844\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}, {'number': 6, 'created': '2021-02-15 12:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/553ac2852b91f32bd7992b68947ac5a249eacd2b', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services. The kuryr-sctp\napplication was also extended to support connection with IPv6 address family.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/774844\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}, {'number': 7, 'created': '2021-02-18 15:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/9ce17c4844e3139155fc40a0368011a065b26189', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services. The kuryr-sctp\napplication was also extended to support connection with IPv6 address family.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/774844\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}, {'number': 8, 'created': '2021-02-22 17:14:07.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/config.py', 'test_container/kuryr_sctp_demo/sctp_server.py', 'test_container/kuryr_sctp_demo/sctp_client.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/34fe966f340cda0926a008a555e770ae53ad337f', 'message': ""Adds connectivity test for SCTP service\n\nThis patch adds a new test to check SCTP connectivity from pods.\nThe 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'\nfunctions were also extended to support SCTP services. The kuryr-sctp\napplication was also extended to support connection with IPv6 address family.\n\nPartially-Implements: blueprint sctp-support\nChange-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f\n""}]",2,774545,34fe966f340cda0926a008a555e770ae53ad337f,54,5,8,32533,,,0,"Adds connectivity test for SCTP service

This patch adds a new test to check SCTP connectivity from pods.
The 'create_setup_for_service_test' and 'assert_backend_amount_from_pod'
functions were also extended to support SCTP services. The kuryr-sctp
application was also extended to support connection with IPv6 address family.

Partially-Implements: blueprint sctp-support
Change-Id: Ic63a2807238d3d879bb172d74b05bada2399f07f
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/45/774545/8 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",3,ae7ddd61a1c7140e02bc453703a092fa0c6e835c,bp/sctp-support," if protocol == ""SCTP"": pod_name, pod = cls.create_pod( labels={""app"": label}, image='quay.io/kuryr/sctp-demo', namespace=namespace) else: pod_name, pod = cls.create_pod( labels={""app"": label}, namespace=namespace) def req_sctp(): cmd = ""python3 sctp_client.py {} {}"".format( server_ip, server_port) pod_cmd = [""/bin/sh"", ""-c"", cmd] stdout, stderr = self.exec_command_in_pod(pod, pod_cmd, namespace=namespace_name, stderr=True) if stderr: LOG.error('Failed to reach service at {}:{} ' 'Err: {}'.format(server_ip, server_port, stderr)) time.sleep(10) return return stdout elif protocol == ""SCTP"": self.assertIsNotNone(server_port, ""server_port must be "" ""provided for SCTP protocol"") req = req_sctp if protocol == ""SCTP"": pod_name, _ = self.create_pod( labels=labels, image='quay.io/kuryr/sctp-demo', namespace=namespace) else: pod_name, _ = self.create_pod( namespace=namespace, labels=labels)"," pod_name, pod = cls.create_pod( labels={""app"": label}, namespace=namespace) pod_name, _ = self.create_pod(namespace=namespace, labels=labels)",53,3
openstack%2Fmonasca-api~master~I7e888487a7484534a01643b743eac53f47901bed,openstack/monasca-api,master,I7e888487a7484534a01643b743eac53f47901bed,Update ELK,NEW,2021-02-17 15:05:20.000000000,2021-02-23 13:13:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-17 15:05:20.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/33cf31c7e6d1e06e1d16ca71a32f25b4a9a75f0c', 'message': 'Update ELK\n\nBump Elasticsearch Kibana and Logstash to version 7.10.2\n7.10.x is the last version of Elasticsearch and Kibana under\nApache-2 License.\n\nChange-Id: I7e888487a7484534a01643b743eac53f47901bed\n'}]",0,776211,33cf31c7e6d1e06e1d16ca71a32f25b4a9a75f0c,5,3,1,28062,,,0,"Update ELK

Bump Elasticsearch Kibana and Logstash to version 7.10.2
7.10.x is the last version of Elasticsearch and Kibana under
Apache-2 License.

Change-Id: I7e888487a7484534a01643b743eac53f47901bed
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/11/776211/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,33cf31c7e6d1e06e1d16ca71a32f25b4a9a75f0c,elk-update,KIBANA_VERSION=${KIBANA_VERSION:-7.10.2} LOGSTASH_VERSION=${LOGSTASH_VERSION:-7.10.2} ELASTICSEARCH_VERSION=${ELASTICSEARCH_VERSION:-7.10.2},KIBANA_VERSION=${KIBANA_VERSION:-7.3.0} LOGSTASH_VERSION=${LOGSTASH_VERSION:-7.3.0} ELASTICSEARCH_VERSION=${ELASTICSEARCH_VERSION:-7.3.0},3,3
openstack%2Foslo.policy~master~If1246a2a47bc5039c68eed418dc7bc1e2407a342,openstack/oslo.policy,master,If1246a2a47bc5039c68eed418dc7bc1e2407a342,Make *every* 'Rule' attribute read-only,ABANDONED,2021-02-05 12:43:07.000000000,2021-02-23 13:12:55.000000000,,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-05 12:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/e5614f90be3457aa5bb196274186a20d63cc2e11', 'message': ""Make *every* 'Rule' attribute read-only\n\nWe obviously can't do much about people accessing the private functions,\nbut this should avoid some obvious bugs. If people want to change the\nrules, they should either state a different definition in a file or\nchange the definition in code.\n\nChange-Id: If1246a2a47bc5039c68eed418dc7bc1e2407a342\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 10:56:28.000000000', 'files': ['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/126cae92ae9733d832684ac545c865fe051bd0ea', 'message': ""Make *every* 'Rule' attribute read-only\n\nWe obviously can't do much about people accessing the private functions,\nbut this should avoid some obvious bugs. If people want to change the\nrules, they should either state a different definition in a file or\nchange the definition in code.\n\nChange-Id: If1246a2a47bc5039c68eed418dc7bc1e2407a342\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,774234,126cae92ae9733d832684ac545c865fe051bd0ea,11,6,2,15334,,,0,"Make *every* 'Rule' attribute read-only

We obviously can't do much about people accessing the private functions,
but this should avoid some obvious bugs. If people want to change the
rules, they should either state a different definition in a file or
change the definition in code.

Change-Id: If1246a2a47bc5039c68eed418dc7bc1e2407a342
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/34/774234/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",2,e5614f90be3457aa5bb196274186a20d63cc2e11,bug/1914095, self.enforcer.registered_rules['test']._check_str = 'role:admin', self.enforcer.registered_rules['test'].check_str = 'role:admin',90,65
openstack%2Ftripleo-common~stable%2Fvictoria~I5fa3bb41403620e8bd9521e3c0e61570e202148f,openstack/tripleo-common,stable/victoria,I5fa3bb41403620e8bd9521e3c0e61570e202148f,Add SITE_PACKAGES variable to horizon extend_start,MERGED,2021-02-18 14:45:22.000000000,2021-02-23 13:11:46.000000000,2021-02-23 13:10:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 14:45:22.000000000', 'files': ['container-images/kolla/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fe2790a41be67a2336baffc322af09a6a6b2293b', 'message': 'Add SITE_PACKAGES variable to horizon extend_start\n\nThis change adds a missing export. Without this change the horizon\ndashboards are all broken becuase the functions are able to\ncorrectly copy the dashboards plugins to the appropriate locations.\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I5fa3bb41403620e8bd9521e3c0e61570e202148f\n(cherry picked from commit 8daeeef06733500efff45faf8f6a44ba0e48ecad)\n'}]",0,776442,fe2790a41be67a2336baffc322af09a6a6b2293b,14,3,1,7353,,,0,"Add SITE_PACKAGES variable to horizon extend_start

This change adds a missing export. Without this change the horizon
dashboards are all broken becuase the functions are able to
correctly copy the dashboards plugins to the appropriate locations.

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I5fa3bb41403620e8bd9521e3c0e61570e202148f
(cherry picked from commit 8daeeef06733500efff45faf8f6a44ba0e48ecad)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/776442/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/horizon/extend_start.sh'],1,fe2790a41be67a2336baffc322af09a6a6b2293b,dash-tcib,"SITE_PACKAGES=""/usr/lib/python${KOLLA_DISTRO_PYTHON_VERSION:-3}/site-packages""",,1,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,openstack/puppet-tripleo,stable/train,Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,Fix manila-share with ceph-nfs backend,MERGED,2021-02-18 13:59:36.000000000,2021-02-23 13:10:02.000000000,2021-02-23 13:10:02.000000000,"[{'_account_id': 6796}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 13:59:36.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/817e6a36388522e4dab6d3b1fa4cdb4d5c7e83ca', 'message': ""Fix manila-share with ceph-nfs backend\n\nCurrently when you deploy manila-share with a ceph-nfs backend\nwe get the following error:\nError: pcs -f\n/var/lib/pacemaker/cib/puppet-cib-backup20210107-48280-1y4rwmx\nconstraint colocation add openstack-manila-share with ceph-nfs INFINITY\nfailed: Error: Resource 'ceph-nfs' does not exist. Too many tries\n\nThe reason for it is that we moved the pcs resource creation to the host\nand outside containers\nhttps://review.opendev.org/q/topic:%22pcs_host3%22+(status:open%20OR%20status:merged)\n\nBut when the ceph-nfs pcmk resource gets created at step 5, the\nmanila-share puppet code has already been invoked and since it requires\nthe ceph-nfs resource to be available it fails like above.\n\nLet's move the ceph-nfs creation to step4 to solve this.\n\nCloses-Bug: #1910732\n\nChange-Id: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656\n(cherry picked from commit 06e131882b563576da55886d2bd5ffe769df41e5)\n(cherry picked from commit 6d335056a39f8ee33a708f5b9556fc7663e5023e)\n""}]",0,776440,817e6a36388522e4dab6d3b1fa4cdb4d5c7e83ca,14,4,1,20172,,,0,"Fix manila-share with ceph-nfs backend

Currently when you deploy manila-share with a ceph-nfs backend
we get the following error:
Error: pcs -f
/var/lib/pacemaker/cib/puppet-cib-backup20210107-48280-1y4rwmx
constraint colocation add openstack-manila-share with ceph-nfs INFINITY
failed: Error: Resource 'ceph-nfs' does not exist. Too many tries

The reason for it is that we moved the pcs resource creation to the host
and outside containers
https://review.opendev.org/q/topic:%22pcs_host3%22+(status:open%20OR%20status:merged)

But when the ceph-nfs pcmk resource gets created at step 5, the
manila-share puppet code has already been invoked and since it requires
the ceph-nfs resource to be available it fails like above.

Let's move the ceph-nfs creation to step4 to solve this.

Closes-Bug: #1910732

Change-Id: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656
(cherry picked from commit 06e131882b563576da55886d2bd5ffe769df41e5)
(cherry picked from commit 6d335056a39f8ee33a708f5b9556fc7663e5023e)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/40/776440/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,817e6a36388522e4dab6d3b1fa4cdb4d5c7e83ca,train-pcshost," # When we create manila-share resource at step 5 we need the ceph-nfs pcmk resource up # and running. But since we moved to pcs commands invoked on host, manila-share at step5 # gets created *before* ceph-nfs (as it is invoked via step_config vs docker_config) if $step >= 4 and $pacemaker_master {", if $step >= 5 and $pacemaker_master {,4,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~Id0535cc66671077f8100e66584a9432d5c3d996d,openstack/openstack-ansible-rabbitmq_server,master,Id0535cc66671077f8100e66584a9432d5c3d996d,Ensure openssl is available,MERGED,2021-02-17 17:48:12.000000000,2021-02-23 12:23:59.000000000,2021-02-23 12:22:33.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 17:48:12.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5d0ae7e145f2fbc3daffa7ddb56dd64fd0ae911c', 'message': 'Ensure openssl is available\n\nThis is required to create the self signed certificate. Minimal\ncontainer images may not contain the openssl package.\n\nChange-Id: Id0535cc66671077f8100e66584a9432d5c3d996d\n'}]",0,776248,5d0ae7e145f2fbc3daffa7ddb56dd64fd0ae911c,9,3,1,25023,,,0,"Ensure openssl is available

This is required to create the self signed certificate. Minimal
container images may not contain the openssl package.

Change-Id: Id0535cc66671077f8100e66584a9432d5c3d996d
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/48/776248/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5d0ae7e145f2fbc3daffa7ddb56dd64fd0ae911c,osa-stream, - openssl,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0cd5b24933e50680baefd055d6e68e277ab09315,openstack/tripleo-heat-templates,stable/victoria,I0cd5b24933e50680baefd055d6e68e277ab09315,Drop service facts usage,MERGED,2021-02-22 20:44:45.000000000,2021-02-23 12:06:51.000000000,2021-02-23 12:06:51.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 20:44:45.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a1b9393b7b85c15c5db927b528cb989a028fa7c', 'message': 'Drop service facts usage\n\nThis change switches from using service facts to using systemctl\ncommands to do service checks. This is done to reduce the amount of\nmemory used as part of the deployment.\n\nChange-Id: I0cd5b24933e50680baefd055d6e68e277ab09315\nRelated-Bug: #1915761\n(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)\n'}]",0,777002,9a1b9393b7b85c15c5db927b528cb989a028fa7c,8,3,1,14985,,,0,"Drop service facts usage

This change switches from using service facts to using systemctl
commands to do service checks. This is done to reduce the amount of
memory used as part of the deployment.

Change-Id: I0cd5b24933e50680baefd055d6e68e277ab09315
Related-Bug: #1915761
(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/777002/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml']",3,9a1b9393b7b85c15c5db927b528cb989a028fa7c,bug/1915761-stable/victoria,- name: Check cloud-init status shell: systemctl is-active cloud-init.service || systemctl is-enabled cloud-init.service failed_when: false become: true register: cloud_init_enabled when: - cloud_init_enabled.rc is defined - cloud_init_enabled.rc == 0,- name: Populate service facts service_facts: when: > 'cloud-init.service' in ansible_facts.services and ansible_facts.services['cloud-init.service']['status'] == 'enabled',26,14
openstack%2Fkolla-ansible~master~I42a2ef84e5fe570e8001908614337e64d035ec99,openstack/kolla-ansible,master,I42a2ef84e5fe570e8001908614337e64d035ec99,docs: Add information on tuning Ansible,MERGED,2020-10-14 16:22:22.000000000,2021-02-23 11:58:11.000000000,2021-02-23 09:11:13.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 31506}, {'_account_id': 32398}]","[{'number': 1, 'created': '2020-10-14 16:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75ddf7e7ec18caad32aec6b8e81a3a7dd6274b0e', 'message': 'docs: Add information on tuning Ansible\n\nStolen from Kayobe.\n\nChange-Id: I42a2ef84e5fe570e8001908614337e64d035ec99\n'}, {'number': 2, 'created': '2021-02-03 11:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7537204afde371edd43108006064dc343668319f', 'message': 'docs: Add information on tuning Ansible\n\nStolen from Kayobe.\n\nChange-Id: I42a2ef84e5fe570e8001908614337e64d035ec99\n'}, {'number': 3, 'created': '2021-02-08 09:02:06.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/ansible-tuning.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3', 'message': 'docs: Add information on tuning Ansible\n\nStolen from Kayobe.\n\nChange-Id: I42a2ef84e5fe570e8001908614337e64d035ec99\n'}]",5,758205,b40cde9b9d44074a09911b2a0f7220ccb3e5c5f3,21,8,3,14826,,,0,"docs: Add information on tuning Ansible

Stolen from Kayobe.

Change-Id: I42a2ef84e5fe570e8001908614337e64d035ec99
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/758205/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/ansible.rst']",2,75ddf7e7ec18caad32aec6b8e81a3a7dd6274b0e,,"======= Ansible ======= In this section we cover some options for tuning Ansible for performance and scale. SSH pipelining ============== SSH pipelining is disabled in Ansible by default, but is generally safe to enable, and provides a reasonable performance improvement. .. code-block:: ini :caption: ``ansible.cfg`` [ssh_connection] pipelining = True Forks ===== By default Ansible executes tasks using a fairly conservative 5 process forks. This limits the parallelism that allows Ansible to scale. Most Ansible control hosts will be able to handle far more forks than this. You will need to experiment to find out the CPU, memory and IO limits of your machine. For example, to increase the number of forks to 20: .. code-block:: ini :caption: ``ansible.cfg`` [defaults] forks = 20 Fact caching ============ By default, Ansible gathers facts for each host at the beginning of every play, unless ``gather_facts`` is set to ``false``. With a large number of hosts this can result in a significant amount of time spent gathering facts. One way to improve this is through Ansible's support for `fact caching <https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html#caching-facts>`__. In order to make this work with Kolla Ansible, it is necessary to change Ansible's `gathering <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#default-gathering>`__ configuration option to ``smart``. Example ------- In the following example we configure Kolla Ansible to use fact caching using the `jsonfile cache plugin <https://docs.ansible.com/ansible/latest/plugins/cache/jsonfile.html>`__. .. code-block:: ini :caption: ``ansible.cfg`` [defaults] gathering = smart fact_caching = jsonfile fact_caching_connection = /tmp/ansible-facts You may also wish to set the expiration timeout for the cache via ``[defaults] fact_caching_timeout``. ",,67,0
openstack%2Fovsdbapp~master~Ie90c6e26f04c4daaf2792dad81fabb7343ff8f75,openstack/ovsdbapp,master,Ie90c6e26f04c4daaf2792dad81fabb7343ff8f75,Log the name of the command in execute(),MERGED,2021-02-17 13:48:43.000000000,2021-02-23 11:44:32.000000000,2021-02-23 11:42:40.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 13:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d168cff1afc20aa992f51a6dd9fe9c91a996b04f', 'message': 'DO NOT REVIEW: Log command class name\n\nChange-Id: Ie90c6e26f04c4daaf2792dad81fabb7343ff8f75\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2021-02-18 09:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5cc96b2b77568c59181829e5a0d7fa103b464f39', 'message': ""Log the name of the command in run_idl()\n\nTo help with troubleshooting, let's log the name of the command\nbeing executed as part of the error log.\n\nChange-Id: Ie90c6e26f04c4daaf2792dad81fabb7343ff8f75\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 3, 'created': '2021-02-18 09:22:10.000000000', 'files': ['ovsdbapp/backend/ovs_idl/command.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/13b4dd15abbd27a755147b187393eaec5093beb8', 'message': ""Log the name of the command in execute()\n\nTo help with troubleshooting, let's log the name of the command\nbeing executed as part of the error log.\n\nChange-Id: Ie90c6e26f04c4daaf2792dad81fabb7343ff8f75\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,776198,13b4dd15abbd27a755147b187393eaec5093beb8,11,3,3,6773,,,0,"Log the name of the command in execute()

To help with troubleshooting, let's log the name of the command
being executed as part of the error log.

Change-Id: Ie90c6e26f04c4daaf2792dad81fabb7343ff8f75
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/98/776198/3 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/command.py'],1,d168cff1afc20aa992f51a6dd9fe9c91a996b04f,log-command-class-name," LOG.exception(""Error executing command (%s)%s"", type(self).__name__, ignoring)"," LOG.exception(""Error executing command%s"", ignoring)",2,1
openstack%2Foctavia~stable%2Ftrain~I477d2d12c64c1e38e3917333e5d47f612cab93b0,openstack/octavia,stable/train,I477d2d12c64c1e38e3917333e5d47f612cab93b0,Fix user permission for WSGI configuration Task: 35692 Story: 2006172,MERGED,2020-09-21 06:14:21.000000000,2021-02-23 11:40:52.000000000,2021-02-23 11:39:12.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30657}]","[{'number': 1, 'created': '2020-09-21 06:14:21.000000000', 'files': ['httpd/octavia-api.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/60c1c48bb5cf5f5d0139823da460c1f875aeada0', 'message': 'Fix user permission for WSGI configuration\nTask: 35692\nStory: 2006172\n\nChange-Id: I477d2d12c64c1e38e3917333e5d47f612cab93b0\n(cherry picked from commit 6df1ce8e28eb76cb782dc06f913598cfa2ecc156)\n(cherry picked from commit 966adf0f84ae3c67c91f2e5840fa059bd4995c8f)\n'}]",0,752864,60c1c48bb5cf5f5d0139823da460c1f875aeada0,19,6,1,6469,,,0,"Fix user permission for WSGI configuration
Task: 35692
Story: 2006172

Change-Id: I477d2d12c64c1e38e3917333e5d47f612cab93b0
(cherry picked from commit 6df1ce8e28eb76cb782dc06f913598cfa2ecc156)
(cherry picked from commit 966adf0f84ae3c67c91f2e5840fa059bd4995c8f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/752864/1 && git format-patch -1 --stdout FETCH_HEAD,['httpd/octavia-api.conf'],1,60c1c48bb5cf5f5d0139823da460c1f875aeada0,, WSGIDaemonProcess octavia-wsgi processes=5 threads=1 user=octavia group=octavia display-name=%{GROUP}, WSGIDaemonProcess octavia-wsgi processes=5 threads=1 display-name=%{GROUP},1,1
openstack%2Fblazar~master~I2e6e9c3b3d934e1ba60b07d239e970137c32a48f,openstack/blazar,master,I2e6e9c3b3d934e1ba60b07d239e970137c32a48f,remove unicode from code,MERGED,2021-01-12 09:22:32.000000000,2021-02-23 11:40:02.000000000,2021-02-23 11:38:11.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 09:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/5e2ab3ab576436fc27c09d534dd52ea159b9906a', 'message': 'remove unicode from code\n\nChange-Id: I2e6e9c3b3d934e1ba60b07d239e970137c32a48f\n'}, {'number': 2, 'created': '2021-01-12 12:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/2ae34d5db29c56f4a5edd245079dfeebbc8fd552', 'message': 'remove unicode from code\n\nChange-Id: I2e6e9c3b3d934e1ba60b07d239e970137c32a48f\n'}, {'number': 3, 'created': '2021-01-13 01:26:56.000000000', 'files': ['blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'blazar/tests/api/v1/oshosts/test_v1_0.py', 'blazar/plugins/floatingips/__init__.py', 'blazar/tests/api/v1/leases/test_v1_0.py', 'blazar/tests/manager/test_service.py', 'blazar/tests/test_context.py', 'blazar/tests/api/v2/test_leases.py', 'doc/source/conf.py', 'blazar/tests/fake_lease.py', 'blazar/db/migration/alembic_migrations/versions/e069c014356d_add_floatingip.py', 'blazar/tests/api/test_context.py', 'blazar/plugins/oshosts/__init__.py', 'blazar/api/v2/controllers/extensions/lease.py', 'blazar/plugins/instances/__init__.py', 'api-ref/source/conf.py', 'blazar/api/v2/controllers/extensions/host.py', 'blazar/tests/plugins/floatingips/test_floatingip_plugin.py', 'blazar/tests/api/v2/test_hosts.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/e81bbc72b7985fce4c4d903ffe2a9a0a61c8d823', 'message': 'remove unicode from code\n\nChange-Id: I2e6e9c3b3d934e1ba60b07d239e970137c32a48f\n'}]",19,770252,e81bbc72b7985fce4c4d903ffe2a9a0a61c8d823,11,2,3,32291,,,0,"remove unicode from code

Change-Id: I2e6e9c3b3d934e1ba60b07d239e970137c32a48f
",git fetch https://review.opendev.org/openstack/blazar refs/changes/52/770252/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'blazar/tests/api/v1/oshosts/test_v1_0.py', 'blazar/plugins/floatingips/__init__.py', 'blazar/tests/api/v1/leases/test_v1_0.py', 'blazar/tests/manager/test_service.py', 'blazar/tests/test_context.py', 'blazar/tests/api/v2/test_leases.py', 'doc/source/conf.py', 'blazar/tests/fake_lease.py', 'blazar/db/migration/alembic_migrations/versions/e069c014356d_add_floatingip.py', 'blazar/tests/api/test_context.py', 'blazar/plugins/oshosts/__init__.py', 'blazar/api/v2/controllers/extensions/lease.py', 'blazar/plugins/instances/__init__.py', 'api-ref/source/conf.py', 'blazar/api/v2/controllers/extensions/host.py', 'blazar/tests/plugins/floatingips/test_floatingip_plugin.py', 'blazar/tests/api/v2/test_hosts.py', 'releasenotes/source/conf.py']",19,5e2ab3ab576436fc27c09d534dd52ea159b9906a,,"copyright = '2017, Blazar developers' 'Blazar Release Notes Documentation', 'Blazar developers', 'manual'), ('index', 'blazarreleasenotes', 'Blazar Release Notes Documentation', ['Blazar developers'], 1) ('index', 'BlazarReleaseNotes', 'Blazar Release Notes Documentation', 'Blazar developers', 'BlazarReleaseNotes',","copyright = u'2017, Blazar developers' u'Blazar Release Notes Documentation', u'Blazar developers', 'manual'), ('index', 'blazarreleasenotes', u'Blazar Release Notes Documentation', [u'Blazar developers'], 1) ('index', 'BlazarReleaseNotes', u'Blazar Release Notes Documentation', u'Blazar developers', 'BlazarReleaseNotes',",302,302
openstack%2Fpuppet-openstack-integration~master~I692a407d11f84fc7b0507af1bfd16b73ebfdc287,openstack/puppet-openstack-integration,master,I692a407d11f84fc7b0507af1bfd16b73ebfdc287,Updated from Puppet OpenStack modules constraints,MERGED,2021-02-20 06:16:11.000000000,2021-02-23 11:38:57.000000000,2021-02-23 11:38:57.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 06:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8fb5599e1ae51331b2616db8a2e84613b32c62f9', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I692a407d11f84fc7b0507af1bfd16b73ebfdc287\n'}, {'number': 2, 'created': '2021-02-23 06:15:10.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/49573849380c53eb2745ed7c7a311e7c5c7138c4', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I692a407d11f84fc7b0507af1bfd16b73ebfdc287\n'}]",0,776793,49573849380c53eb2745ed7c7a311e7c5c7138c4,9,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I692a407d11f84fc7b0507af1bfd16b73ebfdc287
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/93/776793/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,8fb5599e1ae51331b2616db8a2e84613b32c62f9,openstack/puppet/constraints, :ref => 'v3.2.1', :ref => 'v3.2.0',1,1
openstack%2Fkolla-ansible~master~I36c9e8e3a262599c36a5568ec64b533fabc1177a,openstack/kolla-ansible,master,I36c9e8e3a262599c36a5568ec64b533fabc1177a,WIP: Run Monasca Tempest in CI,NEW,2020-07-27 08:24:53.000000000,2021-02-23 11:37:36.000000000,,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-07-27 08:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55b50b2f84db05eda89b76b65f3fb9c154784a53', 'message': 'WIP: Run Monasca Tempest in CI\n\nChange-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a\n'}, {'number': 2, 'created': '2020-07-31 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e54ab27180f35fc9fd4c41d0c7c1775759cada6f', 'message': 'Run Monasca Tempest in CI\n\nChange-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a\n'}, {'number': 3, 'created': '2020-08-14 08:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74ca266e888ef8e4d58f26ea6e49624ca44d5025', 'message': 'Run Monasca Tempest in CI\n\nChange-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a\n'}, {'number': 4, 'created': '2020-08-14 08:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15e2e1ffc133b0b2f957485e2350978b22db9a11', 'message': 'Run Monasca Tempest in CI\n\nChange-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a\n'}, {'number': 5, 'created': '2021-02-15 17:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94ac342bbfd5f2184467b1d31091de70533a0d81', 'message': 'WIP: Run Monasca Tempest in CI\n\nChange-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a\n'}, {'number': 6, 'created': '2021-02-18 13:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1ec107d588c187727e5d8f6e3b93f9789f00eb7', 'message': 'WIP: Run Monasca Tempest in CI\n\nChange-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a\n'}, {'number': 7, 'created': '2021-02-19 11:24:40.000000000', 'files': ['tests/test-monasca.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/341101f5bea430c8dc60a166fd7ba581310cbab9', 'message': 'WIP: Run Monasca Tempest in CI\n\nChange-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a\n'}]",3,743164,341101f5bea430c8dc60a166fd7ba581310cbab9,26,3,7,17669,,,0,"WIP: Run Monasca Tempest in CI

Change-Id: I36c9e8e3a262599c36a5568ec64b533fabc1177a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/743164/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-monasca.sh'],1,55b50b2f84db05eda89b76b65f3fb9c154784a53,tempest_wip,"function test_monasca { # Run Monasca Tempest plugin against deployment cd ~ python3 -m venv tempest-venv mkdir /etc/tempest cat << EOT > /etc/tempest/tempest.conf [auth] admin_username = ""$OS_USERNAME"" admin_project_name = ""$OS_PROJECT_NAME"" admin_password = ""$OS_PASSWORD"" admin_domain_name = ""$OS_PROJECT_DOMAIN_NAME"" [identity] uri_v3 = ""$OS_AUTH_URL"" EOT source tempest-venv/bin/activate pip install tempest pip install monasca-tempest-plugin tempest init monasca_tempest # TODO(dszumski): A small number of these fail occasionally since InfluxDB doesn't always # immediately return dimensions after a metric is written. Need to patch Monasca Tempest # plugin. tempest run --workspace monasca_tempest --regex monasca_tempest_tests.tests.api # TODO(dszumski): Log tests are still a work in progress. Approximate list: # - openstack service create logs + endpoint (or add support to Tempest plugin for configuring it) # - openstack service create logs_search + endpoint (for Elastic) # - Support for configuring message field in logs (hardcoded in Tempest to message) # - Investigate single test which always fails test_monasca","function test_monasca_metrics { # Check that the monitoring endpoints are registered openstack endpoint list -f value --service monitoring --interface internal -c URL || true openstack endpoint list -f value --service monitoring --interface public -c URL || true # Test the metric pipeline by waiting for some metrics to arrive from the # Monasca Agent. If the metric doesn't yet exist, nothing is returned. METRIC_STATS_CMD=""monasca metric-statistics mem.free_mb --tenant-id $MONASCA_PROJECT_ID COUNT -1"" for i in {1..60}; do if $METRIC_STATS_CMD | grep 'mem.free_mb'; then break fi sleep 1 done } function test_monasca_logs { # Check that the logging endpoints are registered openstack endpoint list -f value --service logging --interface internal -c URL openstack endpoint list -f value --service logging --interface public -c URL # Test the logging pipeline by waiting for some logs to arrive from # Fluentd into the Monasca Elasticsearch index # TODO: Use index name set in config # Test the metric pipeline by waiting for some metrics to arrive from the # Monasca Agent. If the metric doesn't yet exist, nothing is returned. # NOTE(dszumski): When querying logs via the Monasca Log API *is* # supported, we can replace this in favour of calling querying the Log API. ELASTICSEARCH_URL=${OS_AUTH_URL%:*}:9200 for i in {1..60}; do if curl -s -X GET ""$ELASTICSEARCH_URL/_cat/indices?v"" | grep 'monasca-'; then break fi sleep 1 done test_monasca_metrics test_monasca_logs",32,38
openstack%2Fpuppet-placement~stable%2Fussuri~Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f,openstack/puppet-placement,stable/ussuri,Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f,Fix the wrong client package name for CentOS7,MERGED,2021-02-23 09:55:00.000000000,2021-02-23 11:22:24.000000000,2021-02-23 11:22:24.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 09:55:00.000000000', 'files': ['spec/classes/placement_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/7bf5f67042e3adfbca9fb76abf4a0e87bccd8811', 'message': 'Fix the wrong client package name for CentOS7\n\nChange-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f\n(cherry picked from commit e1fedebded690f509be5a191ea2ce9d96f3eff70)\n(cherry picked from commit 83467235236525505474a07642cdc90f20304fca)\n'}]",0,776892,7bf5f67042e3adfbca9fb76abf4a0e87bccd8811,6,2,1,9816,,,0,"Fix the wrong client package name for CentOS7

Change-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f
(cherry picked from commit e1fedebded690f509be5a191ea2ce9d96f3eff70)
(cherry picked from commit 83467235236525505474a07642cdc90f20304fca)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/92/776892/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/placement_client_spec.rb'],1,7bf5f67042e3adfbca9fb76abf4a0e87bccd8811,py2-stable/victoria-stable/ussuri, { :client_package_name => 'python2-osc-placement' }, { :client_package_name => 'python-osc-placement' },1,1
openstack%2Fpuppet-placement~stable%2Fvictoria~Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f,openstack/puppet-placement,stable/victoria,Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f,Fix the wrong client package name for CentOS7,MERGED,2021-02-23 09:53:41.000000000,2021-02-23 11:22:10.000000000,2021-02-23 11:22:10.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 09:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/a88749520a84f5a928613d9bc3db99f5d863ae42', 'message': 'Fix the wrong client package name for CentOS7\n\nTrivial-Fix\n\nChange-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f\n(cherry picked from commit 83f545f1a5e300d5b190cc117141f34205f19c0a)\n'}, {'number': 2, 'created': '2021-02-23 09:54:37.000000000', 'files': ['spec/classes/placement_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/83467235236525505474a07642cdc90f20304fca', 'message': 'Fix the wrong client package name for CentOS7\n\nChange-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f\n(cherry picked from commit e1fedebded690f509be5a191ea2ce9d96f3eff70)\n'}]",0,776891,83467235236525505474a07642cdc90f20304fca,7,2,2,9816,,,0,"Fix the wrong client package name for CentOS7

Change-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f
(cherry picked from commit e1fedebded690f509be5a191ea2ce9d96f3eff70)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/91/776891/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/placement_client_spec.rb'],1,a88749520a84f5a928613d9bc3db99f5d863ae42,py2-stable/victoria, { :client_package_name => 'python2-osc-placement' }, { :client_package_name => 'python-osc-placement' },1,1
openstack%2Fpuppet-placement~master~Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f,openstack/puppet-placement,master,Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f,Fix the wrong client package name for CentOS7,MERGED,2021-02-23 09:45:16.000000000,2021-02-23 11:22:08.000000000,2021-02-23 11:22:08.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 09:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/83f545f1a5e300d5b190cc117141f34205f19c0a', 'message': 'Fix the wrong client package name for CentOS7\n\nTrivial-Fix\n\nChange-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f\n'}, {'number': 2, 'created': '2021-02-23 09:54:10.000000000', 'files': ['spec/classes/placement_client_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/e1fedebded690f509be5a191ea2ce9d96f3eff70', 'message': 'Fix the wrong client package name for CentOS7\n\nChange-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f\n'}]",0,777080,e1fedebded690f509be5a191ea2ce9d96f3eff70,7,2,2,9816,,,0,"Fix the wrong client package name for CentOS7

Change-Id: Iaeced74a2bfbf03fd3df7a1a767fd17b64139e8f
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/80/777080/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/placement_client_spec.rb'],1,83f545f1a5e300d5b190cc117141f34205f19c0a,py2, { :client_package_name => 'python2-osc-placement' }, { :client_package_name => 'python-osc-placement' },1,1
openstack%2Fpuppet-cinder~master~I7fd2c745480086571d02b89d4adbaa02213a94fa,openstack/puppet-cinder,master,I7fd2c745480086571d02b89d4adbaa02213a94fa,Add support for configuring the S3 backup driver,MERGED,2021-01-25 21:25:08.000000000,2021-02-23 11:22:00.000000000,2021-02-23 11:19:33.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 21:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/90f2a02fc885ba3568e15c80e0f78574bb840327', 'message': 'WIP: Add support for configuring the S3 backup driver\n\nWIP until the new S3 backup driver merges, see\nhttps://review.opendev.org/c/openstack/cinder/+/746561\n\nDepends-On: If24871ad6bf7558ae71e560141bf61ede61f81f5\nChange-Id: I7fd2c745480086571d02b89d4adbaa02213a94fa\n'}, {'number': 2, 'created': '2021-02-01 15:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b56036f491c0702831d80bf5a2363adca0dd3c78', 'message': 'Add support for configuring the S3 backup driver\n\nDepends-On: If24871ad6bf7558ae71e560141bf61ede61f81f5\nChange-Id: I7fd2c745480086571d02b89d4adbaa02213a94fa\n'}, {'number': 3, 'created': '2021-02-01 17:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6a2dd8d767b60acd1cd634eb3a8e51345a4b3df1', 'message': 'Add support for configuring the S3 backup driver\n\nDepends-On: If24871ad6bf7558ae71e560141bf61ede61f81f5\nChange-Id: I7fd2c745480086571d02b89d4adbaa02213a94fa\n'}, {'number': 4, 'created': '2021-02-04 11:51:44.000000000', 'files': ['releasenotes/notes/support-s3-backup-driver-c9ee22bdb14a374c.yaml', 'spec/classes/cinder_backup_s3_spec.rb', 'manifests/backup/s3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b810f33fd9d1a8983972619e7adf5643a13f667d', 'message': 'Add support for configuring the S3 backup driver\n\nDepends-On: If24871ad6bf7558ae71e560141bf61ede61f81f5\nChange-Id: I7fd2c745480086571d02b89d4adbaa02213a94fa\n'}]",4,772440,b810f33fd9d1a8983972619e7adf5643a13f667d,27,4,4,21129,,,0,"Add support for configuring the S3 backup driver

Depends-On: If24871ad6bf7558ae71e560141bf61ede61f81f5
Change-Id: I7fd2c745480086571d02b89d4adbaa02213a94fa
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/40/772440/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-s3-backup-driver-c9ee22bdb14a374c.yaml', 'spec/classes/cinder_backup_s3_spec.rb', 'manifests/backup/s3.pp']",3,90f2a02fc885ba3568e15c80e0f78574bb840327,feature/support-s3-backup-driver,"# == Class: cinder::backup::s3 # # Setup Cinder to backup volumes into an S3 server, # # === Parameters # # [*backup_s3_endpoint_url*] # (required) The url where the S3 server is listening. # # [*backup_s3_store_access_key*] # (required) The S3 query token access key. # # [*backup_s3_store_secret_key*] # (required) The S3 query token secret key. # # [*backup_driver*] # (Optional) The backup driver for S3 backend. # Defaults to 'cinder.backup.drivers.s3.S3BackupDriver'. # # [*backup_compression_algorithm*] # (optional) Compression algorithm to use for volume backups. # Supported options are: None (to disable), zlib, bz2 and zstd. # Defaults to $::os_service_default # # [*backup_s3_store_bucket*] # (optional) The S3 bucket to be used to store the Cinder backup data. # Defaults to $::os_service_default # # [*backup_s3_object_size*] # (optional) The size in bytes of S3 backup objects. # Defaults to $::os_service_default # # [*backup_s3_block_size*] # (optional) The size in bytes that changes are tracked for incremental # backups. backup_s3_object_size has to be multiple of backup_s3_block_size. # Defaults to $::os_service_default # # [*backup_s3_enable_progress_timer*] # (optional) Enable or Disable the timer to send the periodic progress # notifications to Ceilometer when backing up the volume to the S3 # backend storage. # Defaults to $::os_service_default # # [*backup_s3_http_proxy*] # (optional) Address or host for the http proxy server. # Defaults to $::os_service_default # # [*backup_s3_https_proxy*] # (optional) Address or host for the https proxy server. # Defaults to $::os_service_default # # [*backup_s3_timeout*] # (optional) The time in seconds till a timeout exception is thrown. # Defaults to $::os_service_default # # [*backup_s3_max_pool_connections*] # (optional) The maximum number of connections to keep in a connection pool. # Defaults to $::os_service_default # # [*backup_s3_retry_max_attempts*] # (optional) An integer representing the maximum number of # retry attempts that will be made on a single request. # Defaults to $::os_service_default # # [*backup_s3_retry_mode*] # (optional) A string representing the type of retry mode. # e.g: legacy, standard, adaptive. # Defaults to $::os_service_default # # [*backup_s3_no_verify_ssl*] # (optional) Enable or Disable ssl verify. # Defaults to $::os_service_default # # [*backup_s3_ca_cert_file*] # (optional) A filename of the CA cert bundle to use. # Defaults to $::os_service_default # # [*backup_s3_md5_validation*] # (optional) Enable or Disable md5 validation in the s3 backend. # Defaults to $::os_service_default # # [*backup_s3_sse_customer_key*] # (optional) The SSECustomerKey. # Defaults to $::os_service_default # # [*backup_s3_sse_customer_algorithm*] # (optional) The SSECustomerAlgorithm. # Defaults to $::os_service_default # # === Author(s) # # Alan Bishop <abishop@redhat.com> # # === Copyright # # Copyright (C) 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # class cinder::backup::s3 ( $backup_s3_endpoint_url, $backup_s3_store_access_key, $backup_s3_store_secret_key, $backup_driver = 'cinder.backup.drivers.s3.S3BackupDriver', $backup_compression_algorithm = $::os_service_default, $backup_s3_store_bucket = $::os_service_default, $backup_s3_object_size = $::os_service_default, $backup_s3_block_size = $::os_service_default, $backup_s3_enable_progress_timer = $::os_service_default, $backup_s3_http_proxy = $::os_service_default, $backup_s3_https_proxy = $::os_service_default, $backup_s3_timeout = $::os_service_default, $backup_s3_max_pool_connections = $::os_service_default, $backup_s3_retry_max_attempts = $::os_service_default, $backup_s3_retry_mode = $::os_service_default, $backup_s3_no_verify_ssl = $::os_service_default, $backup_s3_ca_cert_file = $::os_service_default, $backup_s3_md5_validation = $::os_service_default, $backup_s3_sse_customer_key = $::os_service_default, $backup_s3_sse_customer_algorithm = $::os_service_default, ) { include cinder::deps cinder_config { 'DEFAULT/backup_s3_endpoint_url': value => $backup_s3_endpoint_url; 'DEFAULT/backup_s3_store_access_key': value => $backup_s3_store_access_key, secret => true; 'DEFAULT/backup_s3_store_secret_key': value => $backup_s3_store_secret_key, secret => true; 'DEFAULT/backup_driver': value => $backup_driver; 'DEFAULT/backup_compression_algorithm': value => $backup_compression_algorithm; 'DEFAULT/backup_s3_store_bucket': value => $backup_s3_store_bucket; 'DEFAULT/backup_s3_object_size': value => $backup_s3_object_size; 'DEFAULT/backup_s3_block_size': value => $backup_s3_block_size; 'DEFAULT/backup_s3_enable_progress_timer': value => $backup_s3_enable_progress_timer; 'DEFAULT/backup_s3_http_proxy': value => $backup_s3_http_proxy; 'DEFAULT/backup_s3_https_proxy': value => $backup_s3_https_proxy; 'DEFAULT/backup_s3_timeout': value => $backup_s3_timeout; 'DEFAULT/backup_s3_max_pool_connections': value => $backup_s3_max_pool_connections; 'DEFAULT/backup_s3_retry_max_attempts': value => $backup_s3_retry_max_attempts; 'DEFAULT/backup_s3_retry_mode': value => $backup_s3_retry_mode; 'DEFAULT/backup_s3_no_verify_ssl': value => $backup_s3_no_verify_ssl; 'DEFAULT/backup_s3_ca_cert_file': value => $backup_s3_ca_cert_file; 'DEFAULT/backup_s3_md5_validation': value => $backup_s3_md5_validation; 'DEFAULT/backup_s3_sse_customer_key': value => $backup_s3_sse_customer_key, secret => true; 'DEFAULT/backup_s3_sse_customer_algorithm': value => $backup_s3_sse_customer_algorithm; } } ",,280,0
openstack%2Fopenstack-ansible~master~I96340641291f5532661c9288429258d90f33dbe6,openstack/openstack-ansible,master,I96340641291f5532661c9288429258d90f33dbe6,Use utility container for Octavia keypair generation in AIO,ABANDONED,2021-02-23 08:15:36.000000000,2021-02-23 11:16:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 08:15:36.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4e54d1fca2fb241777fad65690e5524a6375bb60', 'message': 'Use utility container for Octavia keypair generation in AIO\n\nHaving removed the openstacksdk from the base host in\nhttps://review.opendev.org/774472, the Octavia variables need\npointing at the correct host and Python interpreter for keypair\ngeneration.\n\nChange-Id: I96340641291f5532661c9288429258d90f33dbe6\n'}]",1,777056,4e54d1fca2fb241777fad65690e5524a6375bb60,5,2,1,31542,,,0,"Use utility container for Octavia keypair generation in AIO

Having removed the openstacksdk from the base host in
https://review.opendev.org/774472, the Octavia variables need
pointing at the correct host and Python interpreter for keypair
generation.

Change-Id: I96340641291f5532661c9288429258d90f33dbe6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/777056/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'],1,4e54d1fca2fb241777fad65690e5524a6375bb60,," octavia_keypair_setup_host: ""{{ groups['utility_all'][0] }}"" octavia_keypair_setup_host_python_interpreter: ""{{ ansible_python['executable'] }}""",,3,0
openstack%2Fopenstack-ansible-lxc_hosts~master~If2a63a2743714745e0f0b0eea2ee3d5b8d4c9a35,openstack/openstack-ansible-lxc_hosts,master,If2a63a2743714745e0f0b0eea2ee3d5b8d4c9a35,Remove support for gentoo,MERGED,2021-02-17 16:41:59.000000000,2021-02-23 10:56:47.000000000,2021-02-23 10:55:04.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-02-17 16:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d77f3b47abbafc293d595e08545d6d16a43f9aa4', 'message': 'Remove support for gentoo\n\nOpenstack-Ansible does not maintain support for deploying on gentoo\nso we can simplify this ansible role\n\nChange-Id: If2a63a2743714745e0f0b0eea2ee3d5b8d4c9a35\n'}, {'number': 2, 'created': '2021-02-17 17:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/023d4c7389d4b58415b5fbf9c0fb46ae0f8a3aa5', 'message': 'Remove support for gentoo\n\nOpenstack-Ansible does not maintain support for deploying on gentoo\nso we can simplify this ansible role\n\nChange-Id: If2a63a2743714745e0f0b0eea2ee3d5b8d4c9a35\n'}, {'number': 3, 'created': '2021-02-17 18:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b6cd9d6f4efca555c65d24070514a091b4729b1b', 'message': 'Remove support for gentoo\n\nOpenstack-Ansible does not maintain support for deploying on gentoo\nso we can simplify this ansible role\n\nChange-Id: If2a63a2743714745e0f0b0eea2ee3d5b8d4c9a35\n'}, {'number': 4, 'created': '2021-02-17 19:15:16.000000000', 'files': ['bindep.txt', 'tasks/lxc_net.yml', 'tasks/lxc_install_portage.yml', 'handlers/main.yml', 'tasks/lxc_pre_install.yml', 'templates/prep-scripts/gentoo_systemd_prep.sh.j2', 'vars/gentoo.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/59abc5a28882039ff3463caf451940b5a85a963a', 'message': 'Remove support for gentoo\n\nOpenstack-Ansible does not maintain support for deploying on gentoo\nso we can simplify this ansible role\n\nChange-Id: If2a63a2743714745e0f0b0eea2ee3d5b8d4c9a35\n'}]",1,776230,59abc5a28882039ff3463caf451940b5a85a963a,13,3,4,25023,,,0,"Remove support for gentoo

Openstack-Ansible does not maintain support for deploying on gentoo
so we can simplify this ansible role

Change-Id: If2a63a2743714745e0f0b0eea2ee3d5b8d4c9a35
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/30/776230/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tasks/lxc_net.yml', 'tasks/lxc_install_portage.yml', 'handlers/main.yml', 'tasks/lxc_pre_install.yml', 'templates/prep-scripts/gentoo_systemd_prep.sh.j2', 'vars/gentoo.yml']",7,d77f3b47abbafc293d595e08545d6d16a43f9aa4,lxc-hosts-cleanup,,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. _lxc_cache_map: distro: gentoo arch: ""{{ lxc_architecture_mapping.get( ansible_architecture ) }}"" release: 17.0-systemd copy_from_host: - /etc/portage/make.conf - /etc/portage/package.keywords/* - /etc/portage/package.use/* - /etc/environment - /etc/localtime - /etc/protocols _lxc_cache_prep_template: ""prep-scripts/gentoo_systemd_prep.sh.j2"" _lxc_cache_prep_timeout: 1800 _lxc_cache_locales: - ""en_US.UTF-8 UTF-8"" _lxc_cache_distro_packages: - app-portage/gentoolkit - app-misc/ca-certificates - sys-process/cronie - sys-apps/dbus - sys-apps/iproute2 - net-misc/iputils - virtual/libffi - dev-libs/openssl - net-misc/openssh - net-misc/rsync - app-admin/sudo - app-arch/tar - net-misc/wget ",0,188
openstack%2Fopenstack-ansible-lxc_hosts~master~I4c53307d0d4f7a72010b878953f34ba0c8784922,openstack/openstack-ansible-lxc_hosts,master,I4c53307d0d4f7a72010b878953f34ba0c8784922,Remove support for openSUSE,MERGED,2021-02-17 16:28:44.000000000,2021-02-23 10:52:39.000000000,2021-02-23 10:50:49.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-02-17 16:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/533b413c52ae1604ae8aa513124117480f19d779', 'message': 'Remove support for openSUSE\n\nOpenStack-Ansible no longer supports openSUSE so we can simplify this\nansible role.\n\nChange-Id: I4c53307d0d4f7a72010b878953f34ba0c8784922\n'}, {'number': 2, 'created': '2021-02-17 17:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/67d24e0fe9b033aaf8f2c6da32caf4a57cf278b0', 'message': 'Remove support for openSUSE\n\nOpenStack-Ansible no longer supports openSUSE so we can simplify this\nansible role.\n\nChange-Id: I4c53307d0d4f7a72010b878953f34ba0c8784922\n'}, {'number': 3, 'created': '2021-02-17 17:32:47.000000000', 'files': ['tasks/lxc_net.yml', 'templates/prep-scripts/opensuse_leap_prep.sh.j2', 'tests/test.yml', 'tasks/lxc_install_zypper.yml', 'defaults/main.yml', 'meta/main.yml', 'templates/lxc-net-suse-bridge.cfg.j2', 'templates/lxc-net-suse-routes.cfg.j2', 'vars/suse-host.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1e8055c5bf6a2ae9c25b6e9deee4dc56e5bfc7ef', 'message': 'Remove support for openSUSE\n\nOpenStack-Ansible no longer supports openSUSE so we can simplify this\nansible role.\n\nChange-Id: I4c53307d0d4f7a72010b878953f34ba0c8784922\n'}]",5,776229,1e8055c5bf6a2ae9c25b6e9deee4dc56e5bfc7ef,13,3,3,25023,,,0,"Remove support for openSUSE

OpenStack-Ansible no longer supports openSUSE so we can simplify this
ansible role.

Change-Id: I4c53307d0d4f7a72010b878953f34ba0c8784922
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/29/776229/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lxc-net-suseredhat-postdown.cfg.j2', 'templates/prep-scripts/opensuse_leap_prep.sh.j2', 'tests/test.yml', 'tasks/lxc_install_zypper.yml', 'defaults/main.yml', 'templates/lxc-net-suse-routes.cfg.j2', 'vars/suse-host.yml', 'bindep.txt', 'tasks/lxc_net.yml', 'meta/main.yml', 'templates/lxc-net-suse-bridge.cfg.j2', 'vars/suse.yml']",12,533b413c52ae1604ae8aa513124117480f19d779,lxc-hosts-cleanup,,"--- # Copyright 2016, Rackspace US, Inc. # Copyright 2017, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. _lxc_hosts_container_image_url_base: ""https://download.opensuse.org/repositories/Virtualization:/containers:/images:/openSUSE-Leap-{{ ansible_distribution_version }}/containers/"" # NOTE(evrardjp): This is now a versionless image name and should stay that way. # If this has changed, ping a openSUSE community member or a SUSE employee. # In download.opensuse.org mirrors, this url should be redirected to a metalink file. # In any mirror it's more likely this url would be redirected to the .tar.xz file (application/octet-stream) _lxc_hosts_container_image_url: ""{{ _lxc_hosts_container_image_url_base }}opensuse-leap-image.x86_64-lxc.tar.xz"" _lxc_cache_map: distro: opensuse arch: ""{{ lxc_architecture_mapping.get( ansible_architecture ) }}"" release: ""{{ ansible_distribution_version }}"" copy_from_host: - /etc/default/locale - /etc/environment - /etc/localtime - /etc/locale.conf - /etc/protocols - /etc/zypp/repos.d/repo-oss.repo - /etc/zypp/repos.d/repo-update.repo _lxc_cache_prep_template: ""prep-scripts/opensuse_leap_prep.sh.j2"" # This list should contain a minimum set of packages. Add extra packages via roles that require them. _lxc_cache_distro_packages: - ca-certificates-mozilla - iputils - openssh - python - sudo - systemd - systemd-sysvinit - timezone ",3,268
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,openstack/python-tripleoclient,stable/train,Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,[UX] Align to left the table for the validations run results,MERGED,2021-02-09 16:51:18.000000000,2021-02-23 10:36:58.000000000,2021-02-23 10:33:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-02-09 16:51:18.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9908562c64a3b8fc1cab6cd4930ded41c182697', 'message': '[UX] Align to left the table for the validations run results\n\nAll the PrettyTables are aligned to left and this patch standardizes all\nthe tables.\n\nChange-Id: Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c6f22c1f3c0ed775b8276895eb017616cf46c033)\n(cherry picked from commit cdaf01d1058e9070dcc57f768f532e55b222c225)\n(cherry picked from commit de50061231821f849b90463f34c16b26e300b23e)\n'}]",0,774698,e9908562c64a3b8fc1cab6cd4930ded41c182697,14,6,1,11491,,,0,"[UX] Align to left the table for the validations run results

All the PrettyTables are aligned to left and this patch standardizes all
the tables.

Change-Id: Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c6f22c1f3c0ed775b8276895eb017616cf46c033)
(cherry picked from commit cdaf01d1058e9070dcc57f768f532e55b222c225)
(cherry picked from commit de50061231821f849b90463f34c16b26e300b23e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/774698/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,e9908562c64a3b8fc1cab6cd4930ded41c182697,, t.align = 'l',,1,0
openstack%2Fcharm-keystone-saml-mellon~master~I65b20e52835497a3fe57571794f332b2b4327fba,openstack/charm-keystone-saml-mellon,master,I65b20e52835497a3fe57571794f332b2b4327fba,"Add ""idp-metadata-url"" option",MERGED,2019-10-23 14:53:22.000000000,2021-02-23 10:34:45.000000000,2021-02-23 10:34:45.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 28014}, {'_account_id': 30113}, {'_account_id': 31052}, {'_account_id': 31289}, {'_account_id': 31503}]","[{'number': 1, 'created': '2019-10-23 14:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/990b708dea0eb3f52821e9a15a1cd2e2b922621e', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\n'}, {'number': 2, 'created': '2020-01-29 09:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/13190b15a2350a2aefe561e14021b0b72d2102db', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2020-04-24 22:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/51290083a798c9ed33a5e566c9c0502a5ca0d1e5', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 4, 'created': '2020-04-26 02:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/08fff038c735ea044cbd8f849f60c0d0a10a9604', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 5, 'created': '2020-04-26 02:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/373d7e02c67788fcf12bb03d1cc282fd060f32e4', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 6, 'created': '2020-04-26 02:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f2c39a8858aae2cdd3e6d9d7bf8c677183633d8c', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 7, 'created': '2020-05-29 01:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/9eeb8e85a57ace5f720d129e2d3f763069a17e67', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 8, 'created': '2020-06-02 14:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/68fe79c4a5b9370e223c3ac7a502ec031517ab60', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 9, 'created': '2020-06-02 20:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/68ee71ffb21f39e9d85ad82999edd5887844ce67', 'message': 'Add ""idp-metadata-auto-update"" option\n\nAdd option to allow auto-updating the IDP metadata from a URL.\nAuto update occurs on every ""update-status"" hook.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 10, 'created': '2020-06-03 10:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/57afd6254c635fd7665cbc8551506787a6dbab8a', 'message': 'Add ""idp-metadata-url"" option\n\nAdd an option to allow retrieving the IDP metadata from a URL and\nkeeping the metadata auto-updated on charm hook execution.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\nCo-authored-by: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\n'}, {'number': 11, 'created': '2020-06-03 13:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/0ac128e7bdc8d6d65e2bca86c86ce69bfda50be6', 'message': 'Add ""idp-metadata-url"" option\n\nAdd an option to allow retrieving the IDP metadata from a URL and\nkeeping the metadata auto-updated on charm hook execution.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\nCo-authored-by: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\n'}, {'number': 12, 'created': '2020-06-03 16:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/961ad78372540da78b4507e1de07d67140de000f', 'message': 'Add ""idp-metadata-url"" option\n\nAdd an option to allow retrieving the IDP metadata from a URL and\nkeeping the metadata auto-updated on charm hook execution.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\nCo-authored-by: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\n'}, {'number': 13, 'created': '2020-06-03 18:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/5c97fb75e2b386bd755dfbcf7d36d2c2eb97895a', 'message': 'Add ""idp-metadata-url"" option\n\nAdd an option to allow retrieving the IDP metadata from a URL and\nkeeping the metadata auto-updated on charm hook execution.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\nCo-authored-by: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\n'}, {'number': 14, 'created': '2021-02-02 10:09:27.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/keystone_saml_mellon.py', 'src/tests/tests.yaml', 'unit_tests/test_lib_charm_openstack_keystone_saml_mellon.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/fde39623182e1566a530397af72eac24c2c742f5', 'message': 'Add ""idp-metadata-url"" option\n\nAdd an option to allow retrieving the IDP metadata from a URL and\nkeeping the metadata auto-updated on charm hook execution.\n\nChange-Id: I65b20e52835497a3fe57571794f332b2b4327fba\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\nCo-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\nCo-authored-by: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\n'}]",4,690597,fde39623182e1566a530397af72eac24c2c742f5,73,9,14,31052,,,0,"Add ""idp-metadata-url"" option

Add an option to allow retrieving the IDP metadata from a URL and
keeping the metadata auto-updated on charm hook execution.

Change-Id: I65b20e52835497a3fe57571794f332b2b4327fba
Signed-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>
Co-authored-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
Co-authored-by: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/97/690597/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/keystone_saml_mellon.py']",2,990b708dea0eb3f52821e9a15a1cd2e2b922621e,2020-06-03-idp-metadata-autoupdate,"try: import urllib.request as urllib2 except ImportError: import urllib2 if self.idp_metadata_auto_update is None: idp_metadata_path = hookenv.resource_get('idp-metadata') if os.path.exists(idp_metadata_path) and not self._idp_metadata: with open(idp_metadata_path, 'r', encoding='utf-8') as f: content = f.read() else: # Get metadata from URL in ""self.idp_metadata_auto_update"" response = urllib2.urlopen(self.idp_metadata_auto_update) encoded_content = response.read() content = encoded_content.decode(""utf-8"") try: etree.fromstring(content.encode()) self._idp_metadata = content self._validation_errors['idp-metadata'] = None except etree.XMLSyntaxError: self._idp_metadata = '' self._validation_errors['idp-metadata'] = ( self.IDP_METADATA_INVALID) ", idp_metadata_path = hookenv.resource_get('idp-metadata') if os.path.exists(idp_metadata_path) and not self._idp_metadata: with open(idp_metadata_path) as f: content = f.read() try: etree.fromstring(content.encode()) self._idp_metadata = content self._validation_errors['idp-metadata'] = None except etree.XMLSyntaxError: self._idp_metadata = '' self._validation_errors['idp-metadata'] = ( self.IDP_METADATA_INVALID),33,12
openstack%2Fmonasca-ceilometer~master~I210c2fe3bbe2a702f42ec1df95f328b8011d8014,openstack/monasca-ceilometer,master,I210c2fe3bbe2a702f42ec1df95f328b8011d8014,Remove project content on master branch,MERGED,2021-02-22 14:16:56.000000000,2021-02-23 10:28:02.000000000,2021-02-23 10:28:02.000000000,"[{'_account_id': 8556}, {'_account_id': 16957}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-22 14:16:56.000000000', 'files': ['ceilosca/ceilometer/tests/unit/__init__.py', 'tools/rally-scripts/__init__.py', 'ceilosca/ceilometer/tests/__init__.py', 'test-requirements.txt', 'README.rst', 'setup.py', 'tools/rally-scripts/ceilometer-meter-resource-sample.json', 'tools/rally-scripts/ceilometer_first_run.html', 'devstack/settings', 'ceilosca/ceilometer/__init__.py', 'etc/ceilometer/ceilometer.conf', 'tools/load-generator/PrivateCloudLoad.sh', 'ceilosca/ceilometer/tests/unit/test_monascaclient.py', 'tools/rally-scripts/queries.py', 'releasenotes/notes/drop-py-2-7-4dae58627c40d109.yaml', 'LICENSE', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_publisher.py', 'etc/ceilometer/policy.json', 'monasca_test_setup.py', 'ceilosca/ceilometer/monasca_client.py', 'etc/ceilometer/examples/README.rst', 'ceilosca/ceilometer/monasca_opts.py', 'ceilosca/ceilometer/publisher/monasca_data_filter.py', 'ceilosca/ceilometer/opts.py', 'ceilosca/ceilometer/tests/unit/publisher/__init__.py', 'tools/load-generator/README.md', 'setup.cfg', 'tox.ini', 'etc/ceilometer/monasca_field_definitions.yaml', 'mkdocs.yml', 'ceilosca/__init__.py', '.gitignore', 'ceilosca/ceilometer/publisher/monasca.py', 'tools/load-generator/PublicCloudLoad.sh', 'etc/ceilometer/ceilosca-devstack_pipeline.yaml', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_data_filter.py', 'tools/rally-scripts/ceilometer-rps-load-test.json', 'etc/ceilometer/monasca_pipeline.yaml', '.stestr.conf', 'tools/load-generator/ceilosca-message-simulator.py', 'etc/ceilometer/examples/monasca_field_definitions.yaml.full-example', 'etc/ceilometer/pipeline.yaml', 'devstack/sample-local.conf', '.zuul.yaml', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'devstack/README.md', 'devstack/ceilosca.sh', 'etc/ceilometer/examples/monasca_field_definitions.yaml.jsonpath-example', 'devstack/setup.cfg', 'tools/rally-scripts/README.md'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/9dbfe8056e9c3392f98d779f5ddbe77008b4b4a3', 'message': 'Remove project content on master branch\n\nThis is step 2b of repository deprecation process as described in [1].\n\n[1] https://docs.openstack.org/project-team-guide/repository.html#step-2b-remove-project-content\n\nChange-Id: I210c2fe3bbe2a702f42ec1df95f328b8011d8014\n'}]",0,776940,9dbfe8056e9c3392f98d779f5ddbe77008b4b4a3,8,6,1,28062,,,0,"Remove project content on master branch

This is step 2b of repository deprecation process as described in [1].

[1] https://docs.openstack.org/project-team-guide/repository.html#step-2b-remove-project-content

Change-Id: I210c2fe3bbe2a702f42ec1df95f328b8011d8014
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/40/776940/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilosca/ceilometer/tests/unit/__init__.py', 'tools/rally-scripts/__init__.py', 'ceilosca/ceilometer/tests/__init__.py', 'test-requirements.txt', 'README.rst', 'setup.py', 'tools/rally-scripts/ceilometer-meter-resource-sample.json', 'tools/rally-scripts/ceilometer_first_run.html', 'devstack/settings', 'ceilosca/ceilometer/__init__.py', 'etc/ceilometer/ceilometer.conf', 'tools/load-generator/PrivateCloudLoad.sh', 'ceilosca/ceilometer/tests/unit/test_monascaclient.py', 'tools/rally-scripts/queries.py', 'releasenotes/notes/drop-py-2-7-4dae58627c40d109.yaml', 'LICENSE', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_publisher.py', 'etc/ceilometer/policy.json', 'monasca_test_setup.py', 'ceilosca/ceilometer/monasca_client.py', 'etc/ceilometer/examples/README.rst', 'ceilosca/ceilometer/monasca_opts.py', 'ceilosca/ceilometer/publisher/monasca_data_filter.py', 'ceilosca/ceilometer/opts.py', 'ceilosca/ceilometer/tests/unit/publisher/__init__.py', 'tools/load-generator/README.md', 'setup.cfg', 'tox.ini', 'etc/ceilometer/monasca_field_definitions.yaml', 'mkdocs.yml', 'ceilosca/__init__.py', '.gitignore', 'ceilosca/ceilometer/publisher/monasca.py', 'tools/load-generator/PublicCloudLoad.sh', 'etc/ceilometer/ceilosca-devstack_pipeline.yaml', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_data_filter.py', 'tools/rally-scripts/ceilometer-rps-load-test.json', 'etc/ceilometer/monasca_pipeline.yaml', '.stestr.conf', 'tools/load-generator/ceilosca-message-simulator.py', 'etc/ceilometer/examples/monasca_field_definitions.yaml.full-example', 'etc/ceilometer/pipeline.yaml', 'devstack/sample-local.conf', '.zuul.yaml', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'devstack/README.md', 'devstack/ceilosca.sh', 'etc/ceilometer/examples/monasca_field_definitions.yaml.jsonpath-example', 'devstack/setup.cfg', 'tools/rally-scripts/README.md']",51,9dbfe8056e9c3392f98d779f5ddbe77008b4b4a3,,,"**Instructions to install, setup and use Rally** 1. Download rally: git clone https://git.openstack.org/openstack/rally (Ensure install libffi-dev libssl-dev libxml2 are installed) 2. Run ./install_rally.sh with the -v option to install Rally in its own virtual env. This should create a install dir - rally 3. Under the rally install dir, go to samples/deployments, edit the existing.json to update auth_url, admin username, password and tenant_name. 4. Activate the rally venv and create the rally deployment environment using rally deployment create --filename=existing.json --name=existing 5. Create rally.conf under /etc/rally and use the following contents: ''' [DEFAULT] # Path to CA server cetrificate for SSL https_cacert=/usr/local/share/ca-certificates/ephemeralca-cacert.crt [database] connection = sqlite:///<your path of rally install dir>/database/rally.sqlite ''' 6. Ensure Rally can talk to the environment using: rally --config-file=/etc/rally/rally.conf deployment check 7. Run Rally tests: (assuming you run this from the rally install folder) rally --config-file=/etc/rally/rally.conf -v task start samples/tasks/scenarios/ceilometer/list-meters.json Under samples/tasks/scenarios/ceilometer, are different test scenarion configurations to test different ceilometer apis, these can all be tested using the above command. 8. Other - Rally Deployment commands check Check keystone authentication and list all available services. config Display configuration of the deployment. create Create new deployment. destroy Destroy existing deployment. list List existing deployments. recreate Destroy and create an existing deployment. show Show the endpoints of the deployment. use Set active deployment. Alias for ""rally use deployment"". **Rally scenario yaml file example** This feature can be easily tested in real life by running one of the most important and plain benchmark scenario called KeystoneBasic.authenticate. This scenario just tries to authenticate from users that were pre-created by Rally. Rally input task looks as follows (auth.yaml): --- Authenticate.keystone: - runner: type: ""rps"" times: 6000 rps: 50 context: users: tenants: 5 users_per_tenant: 10 sla: max_avg_duration: 5 In human-readable form this input task means: Create 5 tenants with 10 users in each, after that try to authenticate to Keystone 6000 times performing 50 authentications per second (running new authentication request every 20ms). Each time we are performing authentication from one of the Rally pre-created user. This task passes only if max average duration of authentication takes less than 5 seconds. ",15,5339
openstack%2Fironic-python-agent~master~I44a063aee96d6a54977413b06d6a49b57f6b6c9f,openstack/ironic-python-agent,master,I44a063aee96d6a54977413b06d6a49b57f6b6c9f,"[WIP]Support AEP, sst at introspection data",NEW,2020-12-18 10:20:18.000000000,2021-02-23 10:21:19.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 10:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/208970b54f7db42660450c128770ad34b63d97ea', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP was property\nsst was CPU capability, use 'bf' as the cpu flags of this feature\n\nStory: 2008438\nTask: 41400\n\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\nChange-Id: I44a063aee96d6a54977413b06d6a49b57f6b6c9f\n""}, {'number': 2, 'created': '2021-02-22 09:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b874c029afa2af0bcadf0267bbfd8a0d2fe714e2', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP was property\nsst was CPU capability, use 'bf' as the cpu flags of this feature\n\nStory: 2008438\nTask: 41400\n\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\nChange-Id: I44a063aee96d6a54977413b06d6a49b57f6b6c9f\n""}, {'number': 3, 'created': '2021-02-22 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8c4771837e1949eb544645eed689ad84e846e586', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP was property\nsst was CPU capability, use 'bf' as the cpu flags of this feature\n\nStory: 2008438\nTask: 41400\n\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\nChange-Id: I44a063aee96d6a54977413b06d6a49b57f6b6c9f\n""}, {'number': 4, 'created': '2021-02-23 01:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/18a006bccb72f75a8773bb87b82d3bcb10683a1c', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP was property\nsst was CPU capability, use 'bf' as the cpu flags of this feature\n\nStory: 2008438\nTask: 41400\n\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\nChange-Id: I44a063aee96d6a54977413b06d6a49b57f6b6c9f\n""}, {'number': 5, 'created': '2021-02-23 08:02:01.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e0b68561dfe27d14b5262211e0347ae8a783a91d', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\nChange-Id: I44a063aee96d6a54977413b06d6a49b57f6b6c9f\n""}]",9,767692,e0b68561dfe27d14b5262211e0347ae8a783a91d,13,2,5,30458,,,0,"[WIP]Support AEP, sst at introspection data

AEP represents a non-volatile storage technology;
VNNI means the CPU supports deep learning;
Intel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.

Story: 2008438
Task: 41400

Co-authored-by: Jerry Wang <jerry.a.wang@intel.com>
Change-Id: I44a063aee96d6a54977413b06d6a49b57f6b6c9f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/92/767692/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,208970b54f7db42660450c128770ad34b63d97ea,,"class AEP(encoding.SerializableComparable): serializable_fields = ('enable', 'size') def __init__(self, enable, size): self.enable = enable self.size = size def get_aep(self): raise errors.IncompatibleHardwareMethodError hardware_info['aep'] = self.get_aep() def get_aep(self): return AEP(enable='true', size=999999) flags.append('bf') ",,14,0
openstack%2Fcharm-ceph-proxy~master~Id415916aaa3e89caafa25064ad5a2109c8d9ee57,openstack/charm-ceph-proxy,master,Id415916aaa3e89caafa25064ad5a2109c8d9ee57,Prune gate tests,MERGED,2021-02-19 23:59:54.000000000,2021-02-23 10:02:48.000000000,2021-02-23 10:02:48.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/2f995f9e6b68a5086ed017bbad51c882a3caea04', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Id415916aaa3e89caafa25064ad5a2109c8d9ee57\n'}, {'number': 2, 'created': '2021-02-21 02:20:20.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/2f83bb843b09f9cd1e9e6b694e18d3727fd09fe9', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Id415916aaa3e89caafa25064ad5a2109c8d9ee57\n'}]",0,776730,2f83bb843b09f9cd1e9e6b694e18d3727fd09fe9,12,3,2,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Id415916aaa3e89caafa25064ad5a2109c8d9ee57
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/30/776730/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,2f995f9e6b68a5086ed017bbad51c882a3caea04,charms/gate-reduction, - xenial-queens # luminous - bionic-rocky # mimic, - trusty-mitaka # jewel - xenial-queens # luminous - bionic-rocky # mimic,2,3
openstack%2Fcharm-ceph-radosgw~master~I49d9d833b8cabd49b4caf3300066b593d354845c,openstack/charm-ceph-radosgw,master,I49d9d833b8cabd49b4caf3300066b593d354845c,Prune gate tests,MERGED,2021-02-20 00:00:03.000000000,2021-02-23 10:01:40.000000000,2021-02-23 10:01:40.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/25b292d61267c12b9cb1e7e7d0ddf54c8094b6a4', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I49d9d833b8cabd49b4caf3300066b593d354845c\n'}, {'number': 2, 'created': '2021-02-21 02:16:34.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/ee4603e57a118ebf42d284237c5c029fc9431aa1', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I49d9d833b8cabd49b4caf3300066b593d354845c\n'}]",0,776731,ee4603e57a118ebf42d284237c5c029fc9431aa1,10,3,2,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I49d9d833b8cabd49b4caf3300066b593d354845c
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/31/776731/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,25b292d61267c12b9cb1e7e7d0ddf54c8094b6a4,charms/gate-reduction, - trusty-mitaka - xenial-ocata - xenial-pike, - xenial-pike - xenial-ocata - trusty-mitaka,3,3
openstack%2Fcharm-manila-ganesha~master~I3282eb25ed1f6ebae3261f6d7c9e0dc17f147684,openstack/charm-manila-ganesha,master,I3282eb25ed1f6ebae3261f6d7c9e0dc17f147684,Prune gate tests,MERGED,2021-02-20 00:02:36.000000000,2021-02-23 10:00:43.000000000,2021-02-23 10:00:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/b7e88e8fde86570762a70743575fa06658c555cc', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I3282eb25ed1f6ebae3261f6d7c9e0dc17f147684\n'}, {'number': 2, 'created': '2021-02-21 02:24:12.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/3ef6bc6d922c566498d0827b9bee2a5f343b4b9d', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I3282eb25ed1f6ebae3261f6d7c9e0dc17f147684\n'}]",0,776748,3ef6bc6d922c566498d0827b9bee2a5f343b4b9d,10,3,2,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I3282eb25ed1f6ebae3261f6d7c9e0dc17f147684
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/48/776748/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,b7e88e8fde86570762a70743575fa06658c555cc,charms/gate-reduction,dev_bundles: - bionic-rocky,- bionic-rocky,2,1
openstack%2Fcharm-manila-generic~master~I95b1faddefb49db618073977da2c4da50c641b13,openstack/charm-manila-generic,master,I95b1faddefb49db618073977da2c4da50c641b13,Prune gate tests,MERGED,2021-02-20 00:02:43.000000000,2021-02-23 10:00:10.000000000,2021-02-23 10:00:10.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:02:43.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/dc9d3a866913bee9b6afcf87f4e5c4085b8c40aa', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I95b1faddefb49db618073977da2c4da50c641b13\n'}]",0,776749,dc9d3a866913bee9b6afcf87f4e5c4085b8c40aa,9,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I95b1faddefb49db618073977da2c4da50c641b13
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/49/776749/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,dc9d3a866913bee9b6afcf87f4e5c4085b8c40aa,charms/gate-reduction,dev_bundles: - xenial-pike - xenial-queens - bionic-rocky, - xenial-pike - xenial-queens - bionic-rocky,4,3
openstack%2Fcharm-cinder-backup~master~I1468b4c95eb8aa3bc5d7e067036ff0cad41837a0,openstack/charm-cinder-backup,master,I1468b4c95eb8aa3bc5d7e067036ff0cad41837a0,Prune gate tests,MERGED,2021-02-20 00:00:33.000000000,2021-02-23 10:00:07.000000000,2021-02-23 10:00:07.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:00:33.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/ef4f08af8c0b99689f894d6af9768d24e7bd56a1', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I1468b4c95eb8aa3bc5d7e067036ff0cad41837a0\n'}]",0,776734,ef4f08af8c0b99689f894d6af9768d24e7bd56a1,9,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I1468b4c95eb8aa3bc5d7e067036ff0cad41837a0
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/34/776734/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,ef4f08af8c0b99689f894d6af9768d24e7bd56a1,charms/gate-reduction, - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,4,4
openstack%2Fcharm-manila~master~Ife7c622d58a9ddfbd930ed1bdcfb0554f59e660d,openstack/charm-manila,master,Ife7c622d58a9ddfbd930ed1bdcfb0554f59e660d,Prune gate tests,MERGED,2021-02-20 00:02:29.000000000,2021-02-23 09:59:52.000000000,2021-02-23 09:59:52.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:02:29.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/5de4b9f551c05db1be9e8d5e93dd77c481c0bbee', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ife7c622d58a9ddfbd930ed1bdcfb0554f59e660d\n'}]",0,776747,5de4b9f551c05db1be9e8d5e93dd77c481c0bbee,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ife7c622d58a9ddfbd930ed1bdcfb0554f59e660d
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/47/776747/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,5de4b9f551c05db1be9e8d5e93dd77c481c0bbee,charms/gate-reduction,dev_bundles: # Manila doesn't support mod-wsgi before Pike # - xenial-mitaka # - xenial-ocata - xenial-pike - xenial-queens,# Manila doesn't support mod-wsgi before Pike # - xenial-mitaka # - xenial-ocata - xenial-pike - xenial-queens,6,5
openstack%2Fcharm-swift-proxy~master~I18f6bc0c031754f10783cb254ef8de7e1fd3cba7,openstack/charm-swift-proxy,master,I18f6bc0c031754f10783cb254ef8de7e1fd3cba7,Prune gate tests,MERGED,2021-02-20 00:04:51.000000000,2021-02-23 09:59:34.000000000,2021-02-23 09:59:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/44570bdc15f853cbc8722db17859de8ae270f647', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I18f6bc0c031754f10783cb254ef8de7e1fd3cba7\n'}, {'number': 2, 'created': '2021-02-21 02:22:19.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/453d48a12f6e58d501bd361f6441df7d0e768b34', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I18f6bc0c031754f10783cb254ef8de7e1fd3cba7\n'}]",0,776762,453d48a12f6e58d501bd361f6441df7d0e768b34,13,3,2,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I18f6bc0c031754f10783cb254ef8de7e1fd3cba7
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/62/776762/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,44570bdc15f853cbc8722db17859de8ae270f647,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike, - xenial-pike - xenial-ocata - trusty-mitaka,4,3
openstack%2Fcharm-ceph-rbd-mirror~master~Ic1f970e727b8d738c859ddeb619929c9ce795c9f,openstack/charm-ceph-rbd-mirror,master,Ic1f970e727b8d738c859ddeb619929c9ce795c9f,Prune gate tests,MERGED,2021-02-20 00:00:13.000000000,2021-02-23 09:59:15.000000000,2021-02-23 09:59:15.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:00:13.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/98a7d07e24887990d11a7b5982b9fdcbc5134ebb', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ic1f970e727b8d738c859ddeb619929c9ce795c9f\n'}]",0,776732,98a7d07e24887990d11a7b5982b9fdcbc5134ebb,9,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ic1f970e727b8d738c859ddeb619929c9ce795c9f
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/32/776732/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,98a7d07e24887990d11a7b5982b9fdcbc5134ebb,charms/gate-reduction,- bionic-rocky- xenial-queens - xenial-pike,- bionic-rocky- xenial-queens - xenial-pike,3,3
openstack%2Fcharm-hacluster~master~Iad1de0d43b18f96382f2b50827ba86b50520d252,openstack/charm-hacluster,master,Iad1de0d43b18f96382f2b50827ba86b50520d252,Prune gate tests,MERGED,2021-02-20 00:01:45.000000000,2021-02-23 09:58:37.000000000,2021-02-23 09:58:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:01:45.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/0c7bb189bc09391035c52619e6d8b9538081acff', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Iad1de0d43b18f96382f2b50827ba86b50520d252\n'}]",0,776742,0c7bb189bc09391035c52619e6d8b9538081acff,9,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Iad1de0d43b18f96382f2b50827ba86b50520d252
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/42/776742/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,0c7bb189bc09391035c52619e6d8b9538081acff,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,6,5
openstack%2Fdiskimage-builder~master~I32249199c3dfa44fc24fba28d24f314112c2e200,openstack/diskimage-builder,master,I32249199c3dfa44fc24fba28d24f314112c2e200,Don't install centos-linux-release on 8-stream,MERGED,2021-02-23 00:14:59.000000000,2021-02-23 09:57:59.000000000,2021-02-23 09:56:26.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:14:59.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5c1f9a32383b942e5f318467923c644196f7713d', 'message': ""Don't install centos-linux-release on 8-stream\n\nThis package doesn't exist in the stream base repo, and neither does\ncentos-linux-repos.\n\nThese are presumably replaced by centos-stream-release and\ncentos-stream-repos. This change adds an else block to handle the\nnon-stream base packages.\n\nChange-Id: I32249199c3dfa44fc24fba28d24f314112c2e200\n""}]",0,777027,5c1f9a32383b942e5f318467923c644196f7713d,10,4,1,4571,,,0,"Don't install centos-linux-release on 8-stream

This package doesn't exist in the stream base repo, and neither does
centos-linux-repos.

These are presumably replaced by centos-stream-release and
centos-stream-repos. This change adds an else block to handle the
non-stream base packages.

Change-Id: I32249199c3dfa44fc24fba28d24f314112c2e200
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/27/777027/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'],1,5c1f9a32383b942e5f318467923c644196f7713d,centos-release," packages+=""centos-gpg-keys "" else packages+=""centos-linux-release centos-linux-repos """," packages+=""centos-linux-release centos-linux-repos centos-gpg-keys "" ",3,2
openstack%2Fcharm-octavia~master~I978cce15c2e454372797fe7b2279eda92b9f6ff3,openstack/charm-octavia,master,I978cce15c2e454372797fe7b2279eda92b9f6ff3,Ensure action renders config and sets up port,MERGED,2021-02-18 08:30:13.000000000,2021-02-23 09:57:38.000000000,2021-02-23 09:57:38.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 08:30:13.000000000', 'files': ['src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/63af2830b188e0974c2e3f8ca1d777da970484b9', 'message': 'Ensure action renders config and sets up port\n\nThis change ensures that the octavia.conf rendered in the\nconfigure-resource action includes OVN config if in an OVN\nenvironment. It also ensures that setup_hm_port is run inside the\naction rather than being deferred to a subsequent hook execution.\n\nChange-Id: I978cce15c2e454372797fe7b2279eda92b9f6ff3\nCloses-Bug: #1916008\nCloses-Bug: #1916010\n'}]",0,776404,63af2830b188e0974c2e3f8ca1d777da970484b9,11,3,1,12549,,,0,"Ensure action renders config and sets up port

This change ensures that the octavia.conf rendered in the
configure-resource action includes OVN config if in an OVN
environment. It also ensures that setup_hm_port is run inside the
action rather than being deferred to a subsequent hook execution.

Change-Id: I978cce15c2e454372797fe7b2279eda92b9f6ff3
Closes-Bug: #1916008
Closes-Bug: #1916010
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/04/776404/1 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/actions.py'],1,63af2830b188e0974c2e3f8ca1d777da970484b9,bug/1916008," # Manually trigger any register atstart events to ensure all endpoints # are correctly setup, Bug #1916008. ch_core.hookenv._run_atstart() else: # we were successful, so commit changes from the action ch_core.unitdata.kv().flush() # try running handlers based on new state try: reactive.main() except Exception: exc = traceback.format_exc() ch_core.hookenv.log(exc, ch_core.hookenv.ERROR) ch_core.hookenv.action_fail(exc.splitlines()[-1]) ch_core.hookenv._run_atexit()",,14,0
openstack%2Fcharm-cinder~master~Iea76f697caac86fb8adb396e795ede9d3480181d,openstack/charm-cinder,master,Iea76f697caac86fb8adb396e795ede9d3480181d,Prune gate tests,MERGED,2021-02-20 00:00:23.000000000,2021-02-23 09:56:49.000000000,2021-02-23 09:56:49.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:00:23.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b5fb7ec1f460b671e516dc034fd216ce221127a7', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Iea76f697caac86fb8adb396e795ede9d3480181d\n'}]",0,776733,b5fb7ec1f460b671e516dc034fd216ce221127a7,9,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Iea76f697caac86fb8adb396e795ede9d3480181d
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/33/776733/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,b5fb7ec1f460b671e516dc034fd216ce221127a7,charms/gate-reduction,- xenial-mitaka dev_bundles: - trusty-mitaka- xenial-queens - bionic-rocky,- bionic-rocky- xenial-queens- xenial-mitaka - trusty-mitaka,5,4
openstack%2Fcharm-neutron-openvswitch~master~Ie6e06b97218ba0ce87f6f0497cb74fffc500f2ba,openstack/charm-neutron-openvswitch,master,Ie6e06b97218ba0ce87f6f0497cb74fffc500f2ba,Prune gate tests,MERGED,2021-02-20 00:03:30.000000000,2021-02-23 09:56:00.000000000,2021-02-23 09:56:00.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:03:30.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3ede79fc55fd1dab28501fc87b741dfaf436627b', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ie6e06b97218ba0ce87f6f0497cb74fffc500f2ba\n'}]",0,776754,3ede79fc55fd1dab28501fc87b741dfaf436627b,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ie6e06b97218ba0ce87f6f0497cb74fffc500f2ba
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/54/776754/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,3ede79fc55fd1dab28501fc87b741dfaf436627b,charms/gate-reduction, - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens-dvr-snat - bionic-rocky-dvr-snat, - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens-dvr-snat - bionic-rocky-dvr-snat,5,5
openstack%2Fcharm-ceilometer-agent~master~Idc546dba16075dd0314c5d3b49fc66274d8421bb,openstack/charm-ceilometer-agent,master,Idc546dba16075dd0314c5d3b49fc66274d8421bb,Prune gate tests,MERGED,2021-02-19 23:58:47.000000000,2021-02-23 09:54:32.000000000,2021-02-23 09:54:32.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:58:47.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/6485caec0c72e191164761cf735cabcaa450f91d', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Idc546dba16075dd0314c5d3b49fc66274d8421bb\n'}]",0,776726,6485caec0c72e191164761cf735cabcaa450f91d,9,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Idc546dba16075dd0314c5d3b49fc66274d8421bb
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/26/776726/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,6485caec0c72e191164761cf735cabcaa450f91d,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,6,5
openstack%2Fcharm-octavia-dashboard~master~Iefb87f343a358b542714fabe419727dce835cbb4,openstack/charm-octavia-dashboard,master,Iefb87f343a358b542714fabe419727dce835cbb4,Prune gate tests,MERGED,2021-02-20 00:04:24.000000000,2021-02-23 09:54:19.000000000,2021-02-23 09:54:19.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:04:24.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/c76fd3990e9592620cdf79c8cf1dced74c05db79', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Iefb87f343a358b542714fabe419727dce835cbb4\n'}]",0,776759,c76fd3990e9592620cdf79c8cf1dced74c05db79,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Iefb87f343a358b542714fabe419727dce835cbb4
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/59/776759/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,c76fd3990e9592620cdf79c8cf1dced74c05db79,charms/gate-reduction,dev_bundles: - bionic-rocky,- bionic-rocky,2,1
openstack%2Fcharm-nova-cloud-controller~master~I187aabc474c42b6ef11bfdc3fea766387fd05df0,openstack/charm-nova-cloud-controller,master,I187aabc474c42b6ef11bfdc3fea766387fd05df0,Prune gate tests,MERGED,2021-02-20 00:03:56.000000000,2021-02-23 09:53:09.000000000,2021-02-23 09:53:09.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:03:56.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9e2a72a8813015b9240b3f3a29f0a2f4b224ee50', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I187aabc474c42b6ef11bfdc3fea766387fd05df0\n'}]",0,776756,9e2a72a8813015b9240b3f3a29f0a2f4b224ee50,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I187aabc474c42b6ef11bfdc3fea766387fd05df0
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/56/776756/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,9e2a72a8813015b9240b3f3a29f0a2f4b224ee50,charms/gate-reduction,dev_bundles: - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,- bionic-rocky- xenial-queens - xenial-pike - xenial-ocata,5,4
openstack%2Fcharm-nova-compute~master~Id2be25cd198f2b5309fa1921730b6ee9d89d4ad7,openstack/charm-nova-compute,master,Id2be25cd198f2b5309fa1921730b6ee9d89d4ad7,Prune gate tests,MERGED,2021-02-20 00:04:04.000000000,2021-02-23 09:52:47.000000000,2021-02-23 09:52:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:04:04.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/070d3d4bb1cb86c5dc0fac663dfa9f5642268421', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Id2be25cd198f2b5309fa1921730b6ee9d89d4ad7\n'}]",0,776757,070d3d4bb1cb86c5dc0fac663dfa9f5642268421,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Id2be25cd198f2b5309fa1921730b6ee9d89d4ad7
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/57/776757/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,070d3d4bb1cb86c5dc0fac663dfa9f5642268421,charms/gate-reduction, dev_bundles:- xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,- bionic-rocky- xenial-queens - xenial-pike - xenial-ocata,6,4
openstack%2Fcharm-neutron-api-plugin-arista~master~I44997b7007af7b4cd38a14f18439fcc6ea89c409,openstack/charm-neutron-api-plugin-arista,master,I44997b7007af7b4cd38a14f18439fcc6ea89c409,Prune gate tests,MERGED,2021-02-20 00:03:01.000000000,2021-02-23 09:52:04.000000000,2021-02-23 09:52:04.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:03:01.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/f7650e2c1b0d2f61b7682a92c6c6c1d00e8cb0b3', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I44997b7007af7b4cd38a14f18439fcc6ea89c409\n'}]",0,776751,f7650e2c1b0d2f61b7682a92c6c6c1d00e8cb0b3,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I44997b7007af7b4cd38a14f18439fcc6ea89c409
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/51/776751/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,f7650e2c1b0d2f61b7682a92c6c6c1d00e8cb0b3,charms/gate-reduction,dev_bundles: - xenial-queens - bionic-rocky,- xenial-queens- bionic-rocky,3,2
openstack%2Fcharm-neutron-api~master~I7e0098ba588fbdb8cabd10fab18d048f8b779c8d,openstack/charm-neutron-api,master,I7e0098ba588fbdb8cabd10fab18d048f8b779c8d,Prune gate tests,MERGED,2021-02-20 00:02:51.000000000,2021-02-23 09:51:49.000000000,2021-02-23 09:51:49.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:02:51.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/6de997d8e95407e6d6b38d0b17e003bfbb948f4d', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I7e0098ba588fbdb8cabd10fab18d048f8b779c8d\n'}]",0,776750,6de997d8e95407e6d6b38d0b17e003bfbb948f4d,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I7e0098ba588fbdb8cabd10fab18d048f8b779c8d
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/50/776750/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,6de997d8e95407e6d6b38d0b17e003bfbb948f4d,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - bionic-rocky - xenial-queens - xenial-pike - xenial-ocata - trusty-mitaka,6,5
openstack%2Fcharm-neutron-dynamic-routing~master~Iec84e483079151942d8aa7a98c7e2610742b6544,openstack/charm-neutron-dynamic-routing,master,Iec84e483079151942d8aa7a98c7e2610742b6544,Prune gate tests,MERGED,2021-02-20 00:03:14.000000000,2021-02-23 09:51:17.000000000,2021-02-23 09:51:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:03:14.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/a5e355d6c30e16ab3627e4cb48ebfd0c49aa6fe9', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Iec84e483079151942d8aa7a98c7e2610742b6544\n'}]",0,776752,a5e355d6c30e16ab3627e4cb48ebfd0c49aa6fe9,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Iec84e483079151942d8aa7a98c7e2610742b6544
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/52/776752/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,a5e355d6c30e16ab3627e4cb48ebfd0c49aa6fe9,charms/gate-reduction,dev_bundles: - xenial-pike-functional - xenial-queens-functional - bionic-rocky-functional,- bionic-rocky-functional- xenial-pike-functional - xenial-queens-functional,4,3
openstack%2Fcharm-octavia-diskimage-retrofit~master~I9b0a7c160bd4a3559a9970e10ec5218b0efed236,openstack/charm-octavia-diskimage-retrofit,master,I9b0a7c160bd4a3559a9970e10ec5218b0efed236,Prune gate tests,MERGED,2021-02-20 00:04:31.000000000,2021-02-23 09:51:11.000000000,2021-02-23 09:51:11.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:04:31.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/5424975093aa648dc4b8530362451185960c88bf', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I9b0a7c160bd4a3559a9970e10ec5218b0efed236\n'}]",0,776760,5424975093aa648dc4b8530362451185960c88bf,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I9b0a7c160bd4a3559a9970e10ec5218b0efed236
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/60/776760/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,5424975093aa648dc4b8530362451185960c88bf,charms/gate-reduction,dev_bundles:,,1,0
openstack%2Fos-brick~master~Ie3266c81b3c6bb5a2c213a12410539d404d1febe,openstack/os-brick,master,Ie3266c81b3c6bb5a2c213a12410539d404d1febe,FC: Fix not flushing on detach,MERGED,2020-10-01 10:30:38.000000000,2021-02-23 09:50:55.000000000,2021-02-17 16:04:23.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}]","[{'number': 1, 'created': '2020-10-01 10:30:38.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1432c369fb49b7359bd9d48af24133f5c4019402', 'message': ""FC: Fix not flushing on detach\n\nWhen doing multipathed Fibre Channel we may end up not flushing the\nvolume when disconnecting it if didn't find a multipath when doing\nthe connection.\n\nThe issue is caused by the `connect_volume` call returning a real path\ninstead of a symlink and us passing the wrong device_info to the\n_remove_devices method, which makes the disconnect code incorrectly\nidentify when a multipath was used to decide whether to do a flush or\nnot.\n\nThis patch fixes these things in order to flush the individual path when\nnecessary.\n\nCloses-Bug: #1897787\nChange-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe\n""}]",2,755478,1432c369fb49b7359bd9d48af24133f5c4019402,20,10,1,9535,,,0,"FC: Fix not flushing on detach

When doing multipathed Fibre Channel we may end up not flushing the
volume when disconnecting it if didn't find a multipath when doing
the connection.

The issue is caused by the `connect_volume` call returning a real path
instead of a symlink and us passing the wrong device_info to the
_remove_devices method, which makes the disconnect code incorrectly
identify when a multipath was used to decide whether to do a flush or
not.

This patch fixes these things in order to flush the individual path when
necessary.

Closes-Bug: #1897787
Change-Id: Ie3266c81b3c6bb5a2c213a12410539d404d1febe
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/78/755478/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/fc-flush-single-path-22ed6cc7b56a6d9b.yaml']",5,1432c369fb49b7359bd9d48af24133f5c4019402,fix-fc-returning-real-path,"--- fixes: - | `Bug #1897787 <https://bugs.launchpad.net/cinder/+bug/1897787>`_: Fix Fibre Channel not flushing volumes on detach when a multipath connection was requested on their attach, but one was not found. ",,49,13
openstack%2Fcharm-nova-cell-controller~master~I11ec3877b4964e60b7efeed992acdc9c1f701e6f,openstack/charm-nova-cell-controller,master,I11ec3877b4964e60b7efeed992acdc9c1f701e6f,Prune gate tests,MERGED,2021-02-20 00:03:38.000000000,2021-02-23 09:50:23.000000000,2021-02-23 09:50:23.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:03:38.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/98ec826eb2a209370f307966cd93e568bad5385d', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I11ec3877b4964e60b7efeed992acdc9c1f701e6f\n'}]",0,776755,98ec826eb2a209370f307966cd93e568bad5385d,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I11ec3877b4964e60b7efeed992acdc9c1f701e6f
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/55/776755/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,98ec826eb2a209370f307966cd93e568bad5385d,charms/gate-reduction, dev_bundles:,,2,0
openstack%2Fironic~master~Ida3b341285e3f889311a44f615e0665a0736f6af,openstack/ironic,master,Ida3b341285e3f889311a44f615e0665a0736f6af,Implement system scoped RBAC for port groups,MERGED,2020-11-18 22:05:34.000000000,2021-02-23 09:46:29.000000000,2021-02-23 09:38:16.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4d8aeff7b5db259b789c3cef87143ba6e4105bb', 'message': 'Implement secure RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bcba8628555234d9568f7cee3b39b74c0ae6b90d', 'message': 'Implement secure RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 3, 'created': '2021-01-21 00:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc7428b972858d7e1ecd6118aec9717c0f9dd67d', 'message': 'WIP Implement secure RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 4, 'created': '2021-01-21 22:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35847bb36030c6824ef0d8f4859de7b9adbaef9a', 'message': 'Implement secure RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 5, 'created': '2021-01-22 20:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb42fd8ff16015f29ce9654f79d2c7a03f5802a0', 'message': 'Implement secure RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 6, 'created': '2021-02-02 00:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/002edc208a065ddf7478fc367744a1b350682514', 'message': 'Implement secure RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 7, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a77d88d4c6df9573d70da85205acd54d96db62e', 'message': 'Implement system scoped RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 8, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dfe20283421338e966e3d1e7d91ed852171b72e8', 'message': 'Implement system scoped RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}, {'number': 9, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fe64c9702d793ad6e4286228adb2611a48735c8', 'message': 'Implement system scoped RBAC for port groups\n\nThis commit updates the policies for baremetal port groups to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: Ida3b341285e3f889311a44f615e0665a0736f6af\n'}]",0,763268,4fe64c9702d793ad6e4286228adb2611a48735c8,56,7,9,5046,,,0,"Implement system scoped RBAC for port groups

This commit updates the policies for baremetal port groups to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>
Change-Id: Ida3b341285e3f889311a44f615e0665a0736f6af
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/763268/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,a4d8aeff7b5db259b789c3cef87143ba6e4105bb,secure-rbac,"deprecated_portgroup_get = policy.DeprecatedRule( name='baremetal:portgroup:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_portgroup_create = policy.DeprecatedRule( name='baremetal:portgroup:create', check_str='rule:is_admin' ) deprecated_portgroup_delete = policy.DeprecatedRule( name='baremetal:portgroup:delete', check_str='rule:is_admin' ) deprecated_portgroup_update = policy.DeprecatedRule( name='baremetal:portgroup:update', check_str='rule:is_admin' ) deprecated_portgroup_reason = """""" The baremetal port groups API is now aware of system scope and default roles. """""" name='baremetal:portgroup:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Portgroup records', operations=[ {'path': '/portgroups', 'method': 'GET'}, {'path': '/portgroups/detail', 'method': 'GET'}, {'path': '/portgroups/{portgroup_ident}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/portgroups', 'method': 'GET'}, {'path': '/nodes/{node_ident}/portgroups/detail', 'method': 'GET'}, ], deprecated_rule=deprecated_portgroup_get, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:portgroup:create', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Create Portgroup records', operations=[{'path': '/portgroups', 'method': 'POST'}], deprecated_rule=deprecated_portgroup_create, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:portgroup:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Delete Portgroup records', operations=[ {'path': '/portgroups/{portgroup_ident}', 'method': 'DELETE'} ], deprecated_rule=deprecated_portgroup_delete, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:portgroup:update', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Portgroup records', operations=[ {'path': '/portgroups/{portgroup_ident}', 'method': 'PATCH'} ], deprecated_rule=deprecated_portgroup_update, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:portgroup:get', 'rule:is_admin or rule:is_observer', 'Retrieve Portgroup records', [{'path': '/portgroups', 'method': 'GET'}, {'path': '/portgroups/detail', 'method': 'GET'}, {'path': '/portgroups/{portgroup_ident}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/portgroups', 'method': 'GET'}, {'path': '/nodes/{node_ident}/portgroups/detail', 'method': 'GET'}]), 'baremetal:portgroup:create', 'rule:is_admin', 'Create Portgroup records', [{'path': '/portgroups', 'method': 'POST'}]), 'baremetal:portgroup:delete', 'rule:is_admin', 'Delete Portgroup records', [{'path': '/portgroups/{portgroup_ident}', 'method': 'DELETE'}]), 'baremetal:portgroup:update', 'rule:is_admin', 'Update Portgroup records', [{'path': '/portgroups/{portgroup_ident}', 'method': 'PATCH'}]),",66,20
openstack%2Fcharm-trilio-wlm~master~Ie00fba211a81772523182e1ff72aa02b28c0008f,openstack/charm-trilio-wlm,master,Ie00fba211a81772523182e1ff72aa02b28c0008f,Use stein for tilio with queens cloud,MERGED,2021-02-19 07:03:30.000000000,2021-02-23 09:39:40.000000000,2021-02-23 09:39:40.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 07:03:30.000000000', 'files': ['src/tests/bundles/bionic-queens-ssl.yaml', 'src/lib/charm/openstack/trilio_wlm.py'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/6b5bbac76d6db67d32f5f904b3a7f4cf145f383c', 'message': 'Use stein for tilio with queens cloud\n\nA recent change to oslo messaging has stopped the trilio dm-api\nfrom communicating with the trilio datamover. This change adds\nsupport for using the stein pocket with dm-api. Using stein\nrather than train should enable the components to communicate\nagain.\n\nChange-Id: Ie00fba211a81772523182e1ff72aa02b28c0008f\n'}]",0,776577,6b5bbac76d6db67d32f5f904b3a7f4cf145f383c,14,3,1,12549,,,0,"Use stein for tilio with queens cloud

A recent change to oslo messaging has stopped the trilio dm-api
from communicating with the trilio datamover. This change adds
support for using the stein pocket with dm-api. Using stein
rather than train should enable the components to communicate
again.

Change-Id: Ie00fba211a81772523182e1ff72aa02b28c0008f
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/77/776577/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-queens-ssl.yaml', 'src/lib/charm/openstack/trilio_wlm.py']",2,6b5bbac76d6db67d32f5f904b3a7f4cf145f383c,use-stein-for-queens," release = ""stein"""," release = ""train""",5,1
openstack%2Fcharm-heat~master~I44bb5196a2e067ceff5218fec823b2d90111f54c,openstack/charm-heat,master,I44bb5196a2e067ceff5218fec823b2d90111f54c,Prune gate tests,MERGED,2021-02-20 00:01:58.000000000,2021-02-23 09:37:31.000000000,2021-02-23 09:37:31.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:01:58.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/7cbd30406fb1d08ff90151ce7ee0c4458cfde83f', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I44bb5196a2e067ceff5218fec823b2d90111f54c\n'}]",0,776743,7cbd30406fb1d08ff90151ce7ee0c4458cfde83f,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I44bb5196a2e067ceff5218fec823b2d90111f54c
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/43/776743/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,7cbd30406fb1d08ff90151ce7ee0c4458cfde83f,charms/gate-reduction,dev_bundles: - trusty-mtaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,6,5
openstack%2Fopenstack-helm-infra~master~I20c58040b5c0978fa255c15224ffc2386fa35d7d,openstack/openstack-helm-infra,master,I20c58040b5c0978fa255c15224ffc2386fa35d7d,Update postgresql chart releasenotes to latest,MERGED,2021-02-20 03:34:07.000000000,2021-02-23 09:36:07.000000000,2021-02-23 09:33:48.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 03:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cbb556a6f4c68b75416b8f3bed5b35fc249d5376', 'message': 'Update postgresql chart releasenotes to latest\n\nThis change updates the releasenotes for the postgresql chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I20c58040b5c0978fa255c15224ffc2386fa35d7d\n'}, {'number': 2, 'created': '2021-02-23 00:54:06.000000000', 'files': ['releasenotes/notes/postgresql.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd3895e9b366f57d6a93d9b2758c57489239c75d', 'message': 'Update postgresql chart releasenotes to latest\n\nThis change updates the releasenotes for the postgresql chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I20c58040b5c0978fa255c15224ffc2386fa35d7d\n'}]",2,776786,cd3895e9b366f57d6a93d9b2758c57489239c75d,17,6,2,30449,,,0,"Update postgresql chart releasenotes to latest

This change updates the releasenotes for the postgresql chart
to the latest version of the chart as of this patchset.

Change-Id: I20c58040b5c0978fa255c15224ffc2386fa35d7d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/776786/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/postgresql.yaml'],1,cbb556a6f4c68b75416b8f3bed5b35fc249d5376,postgresql-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 adding archiving to postgres - 0.1.3 Use explicit entrypoint for prometheus exporter - 0.1.4 Allow probe tweaking - 0.1.5 Optimize restart behavior  - 0.1.6 Revert ""Add default reject rule ..."" - 0.1.7 postgres archive cleanup script - 0.1.8 Add tls to Postgresql",,8,0
openstack%2Fcharm-cinder-ceph~master~I961f8a4c17903cf9cca00d5fd03f612e61cec3c1,openstack/charm-cinder-ceph,master,I961f8a4c17903cf9cca00d5fd03f612e61cec3c1,Prune gate tests,MERGED,2021-02-20 00:00:41.000000000,2021-02-23 09:32:46.000000000,2021-02-23 09:32:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:00:41.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/fdc7a1da3dc002915a3a32aa98abbe2a97557a7e', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I961f8a4c17903cf9cca00d5fd03f612e61cec3c1\n'}]",0,776735,fdc7a1da3dc002915a3a32aa98abbe2a97557a7e,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I961f8a4c17903cf9cca00d5fd03f612e61cec3c1
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/35/776735/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,fdc7a1da3dc002915a3a32aa98abbe2a97557a7e,charms/gate-reduction, - xenial-mitaka dev_bundles: - trusty-mitaka - xenial-queens - bionic-rocky, - bionic-rocky - xenial-queens - xenial-mitaka - trusty-mitaka,5,4
openstack%2Fcharm-gnocchi~master~Iebbe6d4bf22c7596832542852fefbfaed36cc718,openstack/charm-gnocchi,master,Iebbe6d4bf22c7596832542852fefbfaed36cc718,Prune gate tests,MERGED,2021-02-20 00:01:37.000000000,2021-02-23 09:27:59.000000000,2021-02-23 09:27:59.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:01:37.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/b9340328258d0dc080884c01a4f119a86d3e0e6b', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Iebbe6d4bf22c7596832542852fefbfaed36cc718\n'}]",0,776741,b9340328258d0dc080884c01a4f119a86d3e0e6b,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Iebbe6d4bf22c7596832542852fefbfaed36cc718
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/41/776741/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,b9340328258d0dc080884c01a4f119a86d3e0e6b,charms/gate-reduction,dev_bundles: - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,5,4
openstack%2Fcharm-keystone~master~I73abd2607dd7408113b8a4be88b679f16e15b99f,openstack/charm-keystone,master,I73abd2607dd7408113b8a4be88b679f16e15b99f,Prune gate tests,MERGED,2021-02-20 00:02:06.000000000,2021-02-23 09:27:45.000000000,2021-02-23 09:27:45.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:02:06.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3aa0fcd393be3255d248eaff28196ca8ef318601', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I73abd2607dd7408113b8a4be88b679f16e15b99f\n'}]",0,776744,3aa0fcd393be3255d248eaff28196ca8ef318601,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I73abd2607dd7408113b8a4be88b679f16e15b99f
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/44/776744/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,3aa0fcd393be3255d248eaff28196ca8ef318601,charms/gate-reduction,dev_bundles:- xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,- bionic-rocky- xenial-queens - xenial-pike - xenial-ocata,5,4
openstack%2Fcharm-keystone-ldap~master~Idb604240eaafcab54740cb2aedff34631ac11e0e,openstack/charm-keystone-ldap,master,Idb604240eaafcab54740cb2aedff34631ac11e0e,Prune gate tests,MERGED,2021-02-20 00:02:22.000000000,2021-02-23 09:26:01.000000000,2021-02-23 09:26:01.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:02:22.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/98fbf3ee4e6d8842acb3e094c3f8267db542cb0c', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Idb604240eaafcab54740cb2aedff34631ac11e0e\n'}]",0,776746,98fbf3ee4e6d8842acb3e094c3f8267db542cb0c,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Idb604240eaafcab54740cb2aedff34631ac11e0e
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/46/776746/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,98fbf3ee4e6d8842acb3e094c3f8267db542cb0c,charms/gate-reduction, dev_bundles: - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,6,4
openstack%2Fcharm-rabbitmq-server~master~If9a847f51552f4d71d4e31c8ca555631121ab328,openstack/charm-rabbitmq-server,master,If9a847f51552f4d71d4e31c8ca555631121ab328,Prune gate tests,MERGED,2021-02-20 00:04:43.000000000,2021-02-23 09:16:44.000000000,2021-02-23 09:16:44.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:04:43.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/612eb5cedce56c2a35b3b885cb7d2949e13c3ec6', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: If9a847f51552f4d71d4e31c8ca555631121ab328\n'}]",0,776761,612eb5cedce56c2a35b3b885cb7d2949e13c3ec6,11,4,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: If9a847f51552f4d71d4e31c8ca555631121ab328
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/61/776761/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,612eb5cedce56c2a35b3b885cb7d2949e13c3ec6,charms/gate-reduction,dev_bundles: - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,5,4
openstack%2Fcharm-glance-simplestreams-sync~master~Ia2dd54c7c9eeb18764f841166ef1e31ac9a1288d,openstack/charm-glance-simplestreams-sync,master,Ia2dd54c7c9eeb18764f841166ef1e31ac9a1288d,Prune gate tests,MERGED,2021-02-20 00:01:29.000000000,2021-02-23 09:16:01.000000000,2021-02-23 09:16:01.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:01:29.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/2367d524888181e561ec5bd34475d37c4acc39c8', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ia2dd54c7c9eeb18764f841166ef1e31ac9a1288d\n'}]",0,776740,2367d524888181e561ec5bd34475d37c4acc39c8,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ia2dd54c7c9eeb18764f841166ef1e31ac9a1288d
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/40/776740/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,2367d524888181e561ec5bd34475d37c4acc39c8,charms/gate-reduction,dev_bundles: - xenial-queens - bionic-rocky , - xenial-queens - bionic-rocky,4,2
openstack%2Fcharm-keystone-kerberos~master~I0ed33b75fc2812f09f8ed0b7c14b7faf4855aeab,openstack/charm-keystone-kerberos,master,I0ed33b75fc2812f09f8ed0b7c14b7faf4855aeab,Prune gate tests,MERGED,2021-02-20 00:02:14.000000000,2021-02-23 09:15:22.000000000,2021-02-23 09:15:22.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:02:14.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/634037034d34f4f100632f9a3eaecc01147c841a', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I0ed33b75fc2812f09f8ed0b7c14b7faf4855aeab\n'}]",0,776745,634037034d34f4f100632f9a3eaecc01147c841a,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I0ed33b75fc2812f09f8ed0b7c14b7faf4855aeab
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/45/776745/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,634037034d34f4f100632f9a3eaecc01147c841a,charms/gate-reduction,dev_bundles: - bionic-rocky, - bionic-rocky,2,1
openstack%2Fcharm-glance~master~I2357126e25ae77ef1ebb80b8dc444fcee747d515,openstack/charm-glance,master,I2357126e25ae77ef1ebb80b8dc444fcee747d515,Prune gate tests,MERGED,2021-02-20 00:01:17.000000000,2021-02-23 09:15:18.000000000,2021-02-23 09:15:18.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:01:17.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/efc10f78118a34e039151c03b943c78b0cc40b0a', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I2357126e25ae77ef1ebb80b8dc444fcee747d515\n'}]",0,776739,efc10f78118a34e039151c03b943c78b0cc40b0a,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I2357126e25ae77ef1ebb80b8dc444fcee747d515
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/39/776739/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,efc10f78118a34e039151c03b943c78b0cc40b0a,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,6,5
openstack%2Fmonasca-log-api~master~Ie446c1cd447789d189a9e723fff9ee783dd3cf4f,openstack/monasca-log-api,master,Ie446c1cd447789d189a9e723fff9ee783dd3cf4f,Remove project content on master branch,MERGED,2021-02-22 13:57:42.000000000,2021-02-23 09:12:26.000000000,2021-02-23 09:12:26.000000000,"[{'_account_id': 8556}, {'_account_id': 16957}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26733}]","[{'number': 1, 'created': '2021-02-22 13:57:42.000000000', 'files': ['api-ref/source/parameters.yaml', 'monasca_log_api/app/controller/api/__init__.py', 'devstack/files/monasca-log-transformer/transformer.conf', 'test-requirements.txt', 'monasca_log_api/app/controller/v2/aid/__init__.py', 'monasca_log_api/healthcheck/kafka_check.py', 'devstack/files/monasca-log-agent/agent.conf', 'doc/source/deprecation_note.inc', 'monasca_log_api/db/repo/logs_repository.py', 'doc/api_samples/v2/req_json.json', 'monasca_log_api/config.py', 'devstack/files/grafana/dashboards.d/09-monasca.json', 'monasca_log_api/tests/__init__.py', 'config-generator/monasca-log-api.conf', 'releasenotes/notes/drop-py-2-7-02f3af38da6f6634.yaml', 'devstack/lib/util.sh', 'releasenotes/notes/osloconfiggen-d8a0f0a8d1acb961.yaml', 'monasca_log_api/version.py', 'contrib/post_test_hook.sh', 'monasca_log_api/tests/test_monitoring.py', 'doc/source/_static/images/architecture.png', 'monasca_log_api/tests/test_version.py', 'releasenotes/notes/cli_args-6dc5e2d13337b871.yaml', '.coveragerc', 'devstack/files/elasticsearch/elasticsearch.yml', 'api-ref/source/log.inc', 'monasca_log_api/db/__init__.py', 'monasca_log_api/__init__.py', 'doc/source/user/index.rst', 'releasenotes/notes/use-standard-config-path-f47c856009b6410d.yaml', 'api-ref/source/index.rst', 'monasca_log_api/app/controller/versions.py', 'lower-constraints.txt', 'monasca_log_api/common/rest/__init__.py', 'monasca_log_api/tests/test_kafka_check.py', 'devstack/files/grafana/dashboards.d/23-logtmetrics.json', 'doc/source/configuration/index.rst', 'monasca_log_api/app/controller/api/headers.py', 'monasca_log_api/app/controller/v3/aid/bulk_processor.py', 'monasca_log_api/db/common/model.py', 'api-guide/source/logs.rst', 'docker/Dockerfile', 'monasca_log_api/app/controller/v3/logs.py', 'monasca_log_api/app/base/model.py', 'docker/log-api-logging.conf.j2', 'monasca_log_api/app/controller/v2/aid/service.py', 'monasca_log_api/conf/role_middleware.py', 'doc/source/install/index.rst', 'doc/api_samples/v3/req_global_dims.json', 'config-generator/README.md', 'doc/source/configuration/options.rst', 'doc/api_samples/v3/req_multiple_logs.json', 'docker/health_check.py', 'docker/build_image.sh', 'monasca_log_api/policies/logs.py', 'requirements.txt', 'doc/source/contributor/index.rst', 'monasca_log_api/app/controller/v3/__init__.py', 'monasca_log_api/app/wsgi.py', 'monasca_log_api/app/controller/v2/__init__.py', 'doc/source/contributor/.gitignore', 'monasca_log_api/app/controller/healthchecks.py', 'releasenotes/notes/os-docs-bf79803595ac884b.yaml', '.stestr.conf', 'doc/source/_static/images/architecture.svg', 'monasca_log_api/app/__init__.py', 'monasca_log_api/conf/monitoring.py', 'monasca_log_api/common/rest/utils.py', 'monasca_log_api/conf/service.py', 'monasca_log_api/db/common/__init__.py', 'devstack/files/grafana/dashboards.d/20-kibana.json', 'etc/monasca/log-api-logging.conf', 'devstack/files/grafana/grafana.py', 'releasenotes/source/pike.rst', '.zuul.yaml', 'doc/api_samples/v3/req_single_log.json', 'config-generator/policy.conf', 'devstack/README.md', 'monasca_log_api/app/base/error_handlers.py', 'doc/source/index.rst', 'monasca_log_api/conf/log_publisher.py', 'api-ref/source/healthcheck.inc', 'doc/source/.gitignore', 'devstack/files/monasca-agent/process.yaml', 'monasca_log_api/conf/healthcheck.py', 'devstack/files/kibana/kibana.yml', 'monasca_log_api/tests/test_policy.py', 'HACKING.rst', 'monasca_log_api/app/controller/v3/aid/helpers.py', 'monasca_log_api/tests/test_logs.py', 'monasca_log_api/app/controller/api/versions_api.py', 'releasenotes/notes/oslo-policy-e142fa9243a8dcf6.yaml', 'README.rst', 'monasca_log_api/app/main.py', 'documentation/monasca-log-api-kafka.md', 'monasca_log_api/monitoring/client.py', 'setup.py', 'api-guide/source/conf.py', 'monasca_log_api/tests/base.py', 'devstack/settings', 'doc/api_samples/v2/req_text.txt', 'doc/source/configuration/files.rst', 'documentation/monasca-log-api-spec.md', 'monasca_log_api/app/controller/api/healthcheck_api.py', 'CONTRIBUTING.rst', 'devstack/files/monasca-agent/http_check.yaml', 'api-ref/source/conf.py', 'doc/source/glossary.rst', 'monasca_log_api/tests/test_log_publisher.py', 'releasenotes/source/rocky.rst', 'LICENSE', 'monasca_log_api/app/controller/api/logs_api.py', 'monasca_log_api/db/repo/__init__.py', 'monasca_log_api/policies/healthchecks.py', 'monasca_log_api/policies/__init__.py', 'README.deprecated.md', 'releasenotes/notes/zuul_v3-b4138cd73cb6117a.yaml', 'releasenotes/source/locale/.gitkeep', 'releasenotes/source/index.rst', 'devstack/files/monasca-log-persister/persister.conf', 'monasca_log_api/monitoring/__init__.py', 'devstack/files/grafana/dashboards.d/24-logpersister.json', 'monasca_log_api/app/base/exceptions.py', 'docker/monasca-log-api.conf.j2', 'docker/start.sh', 'monasca_log_api/healthcheck/__init__.py', 'doc/source/cli/index.rst', 'setup.cfg', 'doc/source/contributor/tox.rst', 'tox.ini', 'docker/log-api-paste.ini.j2', 'etc/monasca/log-api-paste.ini', 'api-ref/source/version.inc', 'doc/source/admin/index.rst', '.gitignore', 'monasca_log_api/middleware/role_middleware.py', 'monasca_log_api/tests/test_role_middleware.py', 'devstack/lib/config.sh', 'api-guide/source/index.rst', 'monasca_log_api/app/base/log_publisher.py', 'monasca_log_api/app/controller/__init__.py', 'monasca_log_api/tests/test_request.py', 'doc/source/configuration/configuring.rst', 'releasenotes/notes/project_tree-3a041cbffc83595a.yaml', 'monasca_log_api/policies/versions.py', 'releasenotes/notes/uwsgi-0bf04f0ecd9c7522.yaml', 'devstack/files/monasca-log-metrics/log-metrics.conf', 'monasca_log_api/common/rest/exceptions.py', 'monasca_log_api/app/controller/v3/aid/__init__.py', 'monasca_log_api/app/api.py', 'monasca_log_api/app/base/request.py', 'doc/source/configuration/sample.rst', 'monasca_log_api/conf/__init__.py', 'monasca_log_api/app/base/validation.py', 'monasca_log_api/tests/test_v2_v3_compare.py', 'documentation/monasca-log-api-metrics.md', 'monasca_log_api/app/base/request_context.py', 'api-guide/source/general_info.rst', 'releasenotes/source/stein.rst', 'doc/source/contributor/code.rst', 'monasca_log_api/tests/test_logs_v3.py', 'monasca_log_api/middleware/__init__.py', 'etc/monasca/log-api-uwsgi.ini', 'devstack/files/grafana/dashboards.d/22-logtransformer.json', 'doc/source/_static/.gitkeep', 'docker/README.rst', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'doc/source/conf.py', 'monasca_log_api/tests/test_config.py', 'api-ref/source/locale/.gitkeep', 'devstack/files/grafana/dashboards.d/21-logapi.json', 'releasenotes/notes/deprecate-60181d946200dff7.yaml', 'monasca_log_api/monitoring/metrics.py', 'api-ref/source/logs.inc', 'playbooks/docker-publish.yml', 'releasenotes/source/unreleased.rst', 'tools/bashate.sh', 'monasca_log_api/tests/test_healthchecks.py', 'releasenotes/source/train.rst', 'api-ref/source/http_codes.yaml', 'monasca_log_api/app/base/__init__.py', 'releasenotes/source/queens.rst', 'monasca_log_api/tests/test_versions.py', 'devstack/files/apache-log-api.template', 'devstack/files/monasca-agent/elastic.yaml', 'monasca_log_api/tests/test_service.py', 'docker/log-api-gunicorn.conf.j2', 'monasca_log_api/app/controller/v2/logs.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/91022f3e8097b8356a7f76061ce1207988ba4351', 'message': 'Remove project content on master branch\n\nThis is step 2b of repository deprecation process as described in [1].\n\n[1] https://docs.openstack.org/project-team-guide/repository.html#step-2b-remove-project-content\n\nChange-Id: Ie446c1cd447789d189a9e723fff9ee783dd3cf4f\n'}]",0,776937,91022f3e8097b8356a7f76061ce1207988ba4351,13,6,1,28062,,,0,"Remove project content on master branch

This is step 2b of repository deprecation process as described in [1].

[1] https://docs.openstack.org/project-team-guide/repository.html#step-2b-remove-project-content

Change-Id: Ie446c1cd447789d189a9e723fff9ee783dd3cf4f
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/37/776937/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'monasca_log_api/app/controller/api/__init__.py', 'devstack/files/monasca-log-transformer/transformer.conf', 'test-requirements.txt', 'monasca_log_api/app/controller/v2/aid/__init__.py', 'monasca_log_api/healthcheck/kafka_check.py', 'devstack/files/monasca-log-agent/agent.conf', 'doc/source/deprecation_note.inc', 'monasca_log_api/db/repo/logs_repository.py', 'doc/api_samples/v2/req_json.json', 'monasca_log_api/config.py', 'devstack/files/grafana/dashboards.d/09-monasca.json', 'monasca_log_api/tests/__init__.py', 'config-generator/monasca-log-api.conf', 'releasenotes/notes/drop-py-2-7-02f3af38da6f6634.yaml', 'devstack/lib/util.sh', 'releasenotes/notes/osloconfiggen-d8a0f0a8d1acb961.yaml', 'monasca_log_api/version.py', 'contrib/post_test_hook.sh', 'monasca_log_api/tests/test_monitoring.py', 'doc/source/_static/images/architecture.png', 'monasca_log_api/tests/test_version.py', 'releasenotes/notes/cli_args-6dc5e2d13337b871.yaml', '.coveragerc', 'devstack/files/elasticsearch/elasticsearch.yml', 'api-ref/source/log.inc', 'monasca_log_api/db/__init__.py', 'monasca_log_api/__init__.py', 'doc/source/user/index.rst', 'releasenotes/notes/use-standard-config-path-f47c856009b6410d.yaml', 'api-ref/source/index.rst', 'monasca_log_api/app/controller/versions.py', 'lower-constraints.txt', 'monasca_log_api/common/rest/__init__.py', 'monasca_log_api/tests/test_kafka_check.py', 'devstack/files/grafana/dashboards.d/23-logtmetrics.json', 'doc/source/configuration/index.rst', 'monasca_log_api/app/controller/api/headers.py', 'monasca_log_api/app/controller/v3/aid/bulk_processor.py', 'monasca_log_api/db/common/model.py', 'api-guide/source/logs.rst', 'docker/Dockerfile', 'monasca_log_api/app/controller/v3/logs.py', 'monasca_log_api/app/base/model.py', 'docker/log-api-logging.conf.j2', 'monasca_log_api/app/controller/v2/aid/service.py', 'monasca_log_api/conf/role_middleware.py', 'doc/source/install/index.rst', 'doc/api_samples/v3/req_global_dims.json', 'config-generator/README.md', 'doc/source/configuration/options.rst', 'doc/api_samples/v3/req_multiple_logs.json', 'docker/health_check.py', 'docker/build_image.sh', 'monasca_log_api/policies/logs.py', 'requirements.txt', 'doc/source/contributor/index.rst', 'monasca_log_api/app/controller/v3/__init__.py', 'monasca_log_api/app/wsgi.py', 'monasca_log_api/app/controller/v2/__init__.py', 'doc/source/contributor/.gitignore', 'monasca_log_api/app/controller/healthchecks.py', 'releasenotes/notes/os-docs-bf79803595ac884b.yaml', '.stestr.conf', 'doc/source/_static/images/architecture.svg', 'monasca_log_api/app/__init__.py', 'monasca_log_api/conf/monitoring.py', 'monasca_log_api/common/rest/utils.py', 'monasca_log_api/conf/service.py', 'monasca_log_api/db/common/__init__.py', 'devstack/files/grafana/dashboards.d/20-kibana.json', 'etc/monasca/log-api-logging.conf', 'devstack/files/grafana/grafana.py', 'releasenotes/source/pike.rst', '.zuul.yaml', 'doc/api_samples/v3/req_single_log.json', 'config-generator/policy.conf', 'devstack/README.md', 'monasca_log_api/app/base/error_handlers.py', 'doc/source/index.rst', 'monasca_log_api/conf/log_publisher.py', 'api-ref/source/healthcheck.inc', 'doc/source/.gitignore', 'devstack/files/monasca-agent/process.yaml', 'monasca_log_api/conf/healthcheck.py', 'devstack/files/kibana/kibana.yml', 'monasca_log_api/tests/test_policy.py', 'HACKING.rst', 'monasca_log_api/app/controller/v3/aid/helpers.py', 'monasca_log_api/tests/test_logs.py', 'monasca_log_api/app/controller/api/versions_api.py', 'releasenotes/notes/oslo-policy-e142fa9243a8dcf6.yaml', 'README.rst', 'monasca_log_api/app/main.py', 'documentation/monasca-log-api-kafka.md', 'monasca_log_api/monitoring/client.py', 'setup.py', 'api-guide/source/conf.py', 'monasca_log_api/tests/base.py', 'devstack/settings', 'doc/api_samples/v2/req_text.txt', 'doc/source/configuration/files.rst', 'documentation/monasca-log-api-spec.md', 'monasca_log_api/app/controller/api/healthcheck_api.py', 'CONTRIBUTING.rst', 'devstack/files/monasca-agent/http_check.yaml', 'api-ref/source/conf.py', 'doc/source/glossary.rst', 'monasca_log_api/tests/test_log_publisher.py', 'releasenotes/source/rocky.rst', 'LICENSE', 'monasca_log_api/app/controller/api/logs_api.py', 'monasca_log_api/db/repo/__init__.py', 'monasca_log_api/policies/healthchecks.py', 'monasca_log_api/policies/__init__.py', 'README.deprecated.md', 'releasenotes/notes/zuul_v3-b4138cd73cb6117a.yaml', 'releasenotes/source/locale/.gitkeep', 'releasenotes/source/index.rst', 'devstack/files/monasca-log-persister/persister.conf', 'monasca_log_api/monitoring/__init__.py', 'devstack/files/grafana/dashboards.d/24-logpersister.json', 'monasca_log_api/app/base/exceptions.py', 'docker/monasca-log-api.conf.j2', 'docker/start.sh', 'monasca_log_api/healthcheck/__init__.py', 'doc/source/cli/index.rst', 'setup.cfg', 'doc/source/contributor/tox.rst', 'tox.ini', 'docker/log-api-paste.ini.j2', 'etc/monasca/log-api-paste.ini', 'api-ref/source/version.inc', 'doc/source/admin/index.rst', '.gitignore', 'monasca_log_api/middleware/role_middleware.py', 'monasca_log_api/tests/test_role_middleware.py', 'devstack/lib/config.sh', 'api-guide/source/index.rst', 'monasca_log_api/app/base/log_publisher.py', 'monasca_log_api/app/controller/__init__.py', 'monasca_log_api/tests/test_request.py', 'doc/source/configuration/configuring.rst', 'releasenotes/notes/project_tree-3a041cbffc83595a.yaml', 'monasca_log_api/policies/versions.py', 'releasenotes/notes/uwsgi-0bf04f0ecd9c7522.yaml', 'devstack/files/monasca-log-metrics/log-metrics.conf', 'monasca_log_api/common/rest/exceptions.py', 'monasca_log_api/app/controller/v3/aid/__init__.py', 'monasca_log_api/app/api.py', 'monasca_log_api/app/base/request.py', 'doc/source/configuration/sample.rst', 'monasca_log_api/conf/__init__.py', 'monasca_log_api/app/base/validation.py', 'monasca_log_api/tests/test_v2_v3_compare.py', 'documentation/monasca-log-api-metrics.md', 'monasca_log_api/app/base/request_context.py', 'api-guide/source/general_info.rst', 'releasenotes/source/stein.rst', 'doc/source/contributor/code.rst', 'monasca_log_api/tests/test_logs_v3.py', 'monasca_log_api/middleware/__init__.py', 'etc/monasca/log-api-uwsgi.ini', 'devstack/files/grafana/dashboards.d/22-logtransformer.json', 'doc/source/_static/.gitkeep', 'docker/README.rst', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'doc/source/conf.py', 'monasca_log_api/tests/test_config.py', 'api-ref/source/locale/.gitkeep', 'devstack/files/grafana/dashboards.d/21-logapi.json', 'releasenotes/notes/deprecate-60181d946200dff7.yaml', 'monasca_log_api/monitoring/metrics.py', 'api-ref/source/logs.inc', 'playbooks/docker-publish.yml', 'releasenotes/source/unreleased.rst', 'tools/bashate.sh', 'monasca_log_api/tests/test_healthchecks.py', 'releasenotes/source/train.rst', 'api-ref/source/http_codes.yaml', 'monasca_log_api/app/base/__init__.py', 'releasenotes/source/queens.rst', 'monasca_log_api/tests/test_versions.py', 'devstack/files/apache-log-api.template', 'devstack/files/monasca-agent/elastic.yaml', 'monasca_log_api/tests/test_service.py', 'docker/log-api-gunicorn.conf.j2', 'monasca_log_api/app/controller/v2/logs.py', 'releasenotes/source/conf.py']",190,91022f3e8097b8356a7f76061ce1207988ba4351,,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. needs_sphinx = '1.6' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext' ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. source_encoding = 'utf-8' # The master toctree document. master_doc = 'index' # General information about the project. openstackdocs_repo_name = u'openstack/monasca-log-api' openstackdocs_auto_name = False project = u'Monasca Log Release Notes' openstackdocs_bug_project = u'monasca-log-api' openstackdocs_bug_tag = u'releasenotes' copyright = u'2014, OpenStack Foundation' # Release notes do not need a version number in the title, they # cover multiple releases. version = '' release = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". # html_static_path = [] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'MonascaLogApiReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'MonascaLogApiReleaseNotes.tex', u'MonascaLogApi Release Notes Documentation', u'OpenStack Foundation', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'barbicanreleasenotes', u'MonascaLogApi Release Notes Documentation', [u'OpenStack Foundation'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'MonascaLogApiReleaseNotes', u'MonascaLogApi Release Notes Documentation', u'OpenStack Foundation', 'MonascaLogApiReleaseNotes', 'MonascaLogApi Release Notes Documentation.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",12,19097
openstack%2Fcharm-designate~master~Id258ba1a106d8b21d984ea4b0b11a6c0bc29737e,openstack/charm-designate,master,Id258ba1a106d8b21d984ea4b0b11a6c0bc29737e,Prune gate tests,MERGED,2021-02-20 00:00:58.000000000,2021-02-23 09:10:25.000000000,2021-02-23 09:10:25.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:00:58.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/4cc5790a3e306cb2f5218ec1c7ae3192ec2f5461', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Id258ba1a106d8b21d984ea4b0b11a6c0bc29737e\n'}]",0,776737,4cc5790a3e306cb2f5218ec1c7ae3192ec2f5461,8,4,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Id258ba1a106d8b21d984ea4b0b11a6c0bc29737e
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/37/776737/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,4cc5790a3e306cb2f5218ec1c7ae3192ec2f5461,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky , - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,7,5
openstack%2Fcharm-ceilometer~master~I7378e7a3e5a016e3bb1b6583bba5cf0de598fa95,openstack/charm-ceilometer,master,I7378e7a3e5a016e3bb1b6583bba5cf0de598fa95,Prune gate tests,MERGED,2021-02-19 23:58:36.000000000,2021-02-23 09:09:27.000000000,2021-02-23 09:09:27.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:58:36.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/5d897d224280fcaaa4a2d5798882b538e50ad725', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I7378e7a3e5a016e3bb1b6583bba5cf0de598fa95\n'}]",0,776725,5d897d224280fcaaa4a2d5798882b538e50ad725,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I7378e7a3e5a016e3bb1b6583bba5cf0de598fa95
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/25/776725/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,5d897d224280fcaaa4a2d5798882b538e50ad725,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,6,5
openstack%2Fcharm-ceph-mon~master~If1380a8c92469b9705eb80d2d5c31d70529c1f18,openstack/charm-ceph-mon,master,If1380a8c92469b9705eb80d2d5c31d70529c1f18,Prune gate tests,MERGED,2021-02-19 23:59:13.000000000,2021-02-23 09:07:28.000000000,2021-02-23 09:07:28.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:59:13.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1a36a9f4f907192d935d96b09155191a0baf4e09', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: If1380a8c92469b9705eb80d2d5c31d70529c1f18\n'}]",0,776728,1a36a9f4f907192d935d96b09155191a0baf4e09,8,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: If1380a8c92469b9705eb80d2d5c31d70529c1f18
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/28/776728/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,1a36a9f4f907192d935d96b09155191a0baf4e09,charms/gate-reduction,dev_bundles: - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - bionic-rocky - xenial-queens - xenial-pike - xenial-ocata,5,4
openstack%2Fcharm-ceph-fs~master~Ifa837d3fec22a331bd650d20d630ab3700b76e62,openstack/charm-ceph-fs,master,Ifa837d3fec22a331bd650d20d630ab3700b76e62,Prune gate tests,MERGED,2021-02-19 23:58:58.000000000,2021-02-23 09:05:42.000000000,2021-02-23 09:05:42.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:58:58.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/ddd1acc56f6936768974c551ddefb960c9341c6b', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ifa837d3fec22a331bd650d20d630ab3700b76e62\n'}]",0,776727,ddd1acc56f6936768974c551ddefb960c9341c6b,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ifa837d3fec22a331bd650d20d630ab3700b76e62
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/27/776727/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,ddd1acc56f6936768974c551ddefb960c9341c6b,charms/gate-reduction, - xenial-mitaka dev_bundles: - xenial-ocata - xenial-queens, - xenial-queens - xenial-ocata - xenial-mitaka,4,3
openstack%2Fcharm-barbican-vault~master~Ib562d13ee7737ac066586867e52d292b8486f91a,openstack/charm-barbican-vault,master,Ib562d13ee7737ac066586867e52d292b8486f91a,Prune gate tests,MERGED,2021-02-19 23:58:24.000000000,2021-02-23 09:04:34.000000000,2021-02-23 09:04:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:58:24.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/000113fad6b09cbfb09c6a75adff7acc15e60c8c', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ib562d13ee7737ac066586867e52d292b8486f91a\n'}]",0,776724,000113fad6b09cbfb09c6a75adff7acc15e60c8c,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ib562d13ee7737ac066586867e52d292b8486f91a
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/24/776724/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,000113fad6b09cbfb09c6a75adff7acc15e60c8c,charms/gate-reduction,dev_bundles:,,1,0
openstack%2Fcharm-designate-bind~master~I74bedac7161c579bbcff367db420c86d08a75713,openstack/charm-designate-bind,master,I74bedac7161c579bbcff367db420c86d08a75713,Prune gate tests,MERGED,2021-02-20 00:01:06.000000000,2021-02-23 09:03:19.000000000,2021-02-23 09:03:19.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:01:06.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/06ec11595bba023c5d0cf8f9c3caebabf60e831c', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I74bedac7161c579bbcff367db420c86d08a75713\n'}]",0,776738,06ec11595bba023c5d0cf8f9c3caebabf60e831c,8,4,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I74bedac7161c579bbcff367db420c86d08a75713
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/38/776738/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,06ec11595bba023c5d0cf8f9c3caebabf60e831c,charms/gate-reduction,dev_bundles: - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky , - trusty-mitaka - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,7,5
openstack%2Fcharm-barbican~master~I514698776d3dfdb6eafc9b237687c11f43463302,openstack/charm-barbican,master,I514698776d3dfdb6eafc9b237687c11f43463302,Prune gate tests,MERGED,2021-02-19 23:58:15.000000000,2021-02-23 09:02:15.000000000,2021-02-23 09:02:15.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:58:15.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/f5745a0021bb6e3a141cc761512e50ff8f4f17ae', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I514698776d3dfdb6eafc9b237687c11f43463302\n'}]",0,776723,f5745a0021bb6e3a141cc761512e50ff8f4f17ae,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I514698776d3dfdb6eafc9b237687c11f43463302
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/23/776723/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,f5745a0021bb6e3a141cc761512e50ff8f4f17ae,charms/gate-reduction,dev_bundles:,,1,0
openstack%2Fcharm-hacluster~master~I1e7c377957552b179576bd4ec20089661379e763,openstack/charm-hacluster,master,I1e7c377957552b179576bd4ec20089661379e763,Fix docstring typo,MERGED,2021-02-22 15:36:39.000000000,2021-02-23 08:58:54.000000000,2021-02-23 08:58:54.000000000,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-22 15:36:39.000000000', 'files': ['hooks/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/2e218038b8c0d4b4a4b33ed4ebf822b92a38753f', 'message': 'Fix docstring typo\n\nFix minor typo in need_resources_on_remotes() method docstring.\n\nSigned-off-by: Przemysaw Lal <przemyslaw.lal@canonical.com>\nChange-Id: I1e7c377957552b179576bd4ec20089661379e763\n'}]",0,776946,2e218038b8c0d4b4a4b33ed4ebf822b92a38753f,8,5,1,33148,,,0,"Fix docstring typo

Fix minor typo in need_resources_on_remotes() method docstring.

Signed-off-by: Przemysaw Lal <przemyslaw.lal@canonical.com>
Change-Id: I1e7c377957552b179576bd4ec20089661379e763
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/46/776946/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/utils.py'],1,2e218038b8c0d4b4a4b33ed4ebf822b92a38753f,fix-docstring-typo, Check the 'enable-resources' setting across the remote units. If it is, Check the 'enable-resources' setting accross the remote units. If it is,1,1
openstack%2Fcharm-aodh~master~Ic4623526fcbd758adcd9ee0eb4760b41c801bce1,openstack/charm-aodh,master,Ic4623526fcbd758adcd9ee0eb4760b41c801bce1,Prune gate tests,MERGED,2021-02-19 23:45:40.000000000,2021-02-23 08:58:29.000000000,2021-02-23 08:58:29.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:45:40.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/4fbb0df35c0e49a5c2354433138003a1421bfb65', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ic4623526fcbd758adcd9ee0eb4760b41c801bce1\n'}]",0,776721,4fbb0df35c0e49a5c2354433138003a1421bfb65,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ic4623526fcbd758adcd9ee0eb4760b41c801bce1
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/21/776721/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,4fbb0df35c0e49a5c2354433138003a1421bfb65,charms/gate-reduction,dev_bundles: - xenial-ocata - xenial-pike - xenial-queens, - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky,4,4
openstack%2Fcharm-ceph-osd~master~Ie8649989231dbf3477d39785276b4e47c7a0f2e4,openstack/charm-ceph-osd,master,Ie8649989231dbf3477d39785276b4e47c7a0f2e4,Prune gate tests,MERGED,2021-02-19 23:59:24.000000000,2021-02-23 08:57:46.000000000,2021-02-23 08:57:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-19 23:59:24.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9566c174914b39443e7ca63b1cfaff44ff8f7ccd', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: Ie8649989231dbf3477d39785276b4e47c7a0f2e4\n'}]",0,776729,9566c174914b39443e7ca63b1cfaff44ff8f7ccd,7,3,1,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: Ie8649989231dbf3477d39785276b4e47c7a0f2e4
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/29/776729/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,9566c174914b39443e7ca63b1cfaff44ff8f7ccd,charms/gate-reduction,dev_bundles: - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - bionic-rocky - xenial-queens - xenial-pike - xenial-ocata,5,4
openstack%2Fsenlin~master~I997eb9e014ec21f6b69f3e74fe86af7d5ea4ec65,openstack/senlin,master,I997eb9e014ec21f6b69f3e74fe86af7d5ea4ec65,[DNM] wsgi testing,ABANDONED,2021-02-23 08:22:58.000000000,2021-02-23 08:41:34.000000000,,[],"[{'number': 1, 'created': '2021-02-23 08:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8e55719e3a36a0ccf4310d33cd777b587f06f886', 'message': '[DNM] wsgi testing\n\nChange-Id: I997eb9e014ec21f6b69f3e74fe86af7d5ea4ec65\n'}, {'number': 2, 'created': '2021-02-23 08:32:44.000000000', 'files': ['senlin/cmd/api.py', 'senlin/api/wsgi_app.py', 'senlin/tests/unit/api/common/test_wsgi.py', 'senlin/common/wsgi_server.py', 'senlin/tests/unit/common/test_wsgi_server.py', 'senlin/cmd/api_wsgi.py', 'senlin/api/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d7f46e9af6c848352d3822400d10f2dbeb0c5b43', 'message': '[DNM] wsgi testing\n\nChange-Id: I997eb9e014ec21f6b69f3e74fe86af7d5ea4ec65\n'}]",0,777059,d7f46e9af6c848352d3822400d10f2dbeb0c5b43,3,0,2,22623,,,0,"[DNM] wsgi testing

Change-Id: I997eb9e014ec21f6b69f3e74fe86af7d5ea4ec65
",git fetch https://review.opendev.org/openstack/senlin refs/changes/59/777059/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/cmd/api.py', 'senlin/tests/unit/api/common/test_wsgi.py', 'senlin/api/wsgi.py', 'senlin/common/wsgi_server.py', 'senlin/tests/unit/common/test_wsgi_server.py', 'senlin/cmd/api_wsgi.py', 'senlin/api/common/wsgi.py']",7,8e55719e3a36a0ccf4310d33cd777b587f06f886,,import sys ,"import abc import errno import os import signal import sys import time import eventlet from eventlet.green import socket from eventlet.green import ssl import eventlet.wsgifrom oslo_config import cfgfrom oslo_utils import importutils from paste import deployURL_LENGTH_LIMIT = 50000def get_bind_addr(conf, default_port=None): return (conf.bind_host, conf.bind_port or default_port) def get_socket(conf, default_port): """"""Bind socket to bind ip:port in conf :param conf: a cfg.ConfigOpts object :param default_port: port to bind to if none is specified in conf :returns : a socket object as returned from socket.listen or ssl.wrap_socket if conf specifies cert_file """""" bind_addr = get_bind_addr(conf, default_port) # TODO(jaypipes): eventlet's greened socket module does not actually # support IPv6 in getaddrinfo(). We need to get around this in the # future or monitor upstream for a fix address_family = [addr[0] for addr in socket.getaddrinfo(bind_addr[0], bind_addr[1], socket.AF_UNSPEC, socket.SOCK_STREAM) if addr[0] in (socket.AF_INET, socket.AF_INET6)][0] cert_file = conf.cert_file key_file = conf.key_file use_ssl = cert_file or key_file if use_ssl and (not cert_file or not key_file): raise RuntimeError(_(""When running server in SSL mode, you must "" ""specify both a cert_file and key_file "" ""option value in your configuration file"")) sock = None retry_until = time.time() + 30 while not sock and time.time() < retry_until: try: sock = eventlet.listen(bind_addr, backlog=conf.backlog, family=address_family) except socket.error as err: if err.args[0] != errno.EADDRINUSE: raise eventlet.sleep(0.1) if not sock: raise RuntimeError(_(""Could not bind to %(bind_addr)s after trying"" "" 30 seconds"") % {'bind_addr': bind_addr}) return sock class Server(object): """"""Server class to manage multiple WSGI sockets and applications."""""" def __init__(self, name, conf, threads=1000): os.umask(0o27) # ensure files are created with the correct privileges self._logger = logging.getLogger(""eventlet.wsgi.server"") self.name = name self.threads = threads self.children = set() self.stale_children = set() self.running = True self.pgid = os.getpid() self.conf = conf try: os.setpgid(self.pgid, self.pgid) except OSError: self.pgid = 0 def kill_children(self, *args): """"""Kill the entire process group."""""" LOG.error('SIGTERM received') signal.signal(signal.SIGTERM, signal.SIG_IGN) signal.signal(signal.SIGINT, signal.SIG_IGN) self.running = False os.killpg(0, signal.SIGTERM) def hup(self, *args): """"""Reload configuration files with zero down time."""""" LOG.error('SIGHUP received') signal.signal(signal.SIGHUP, signal.SIG_IGN) raise exception.SIGHUPInterrupt def start(self, application, default_port): """"""Run a WSGI server with the given application. :param application: The application to run in the WSGI server :param default_port: Port to bind to if none is specified in conf """""" eventlet.wsgi.MAX_HEADER_LINE = self.conf.max_header_line self.application = application self.default_port = default_port self.configure_socket() self.start_wsgi() def start_wsgi(self): if self.conf.workers == 0: # Useful for profiling, test, debug etc. self.pool = eventlet.GreenPool(size=self.threads) self.pool.spawn_n(self._single_run, self.application, self.sock) return LOG.info(""Starting %d workers"", self.conf.workers) signal.signal(signal.SIGTERM, self.kill_children) signal.signal(signal.SIGINT, self.kill_children) signal.signal(signal.SIGHUP, self.hup) while len(self.children) < self.conf.workers: self.run_child() def wait_on_children(self): """"""Wait on children exit."""""" while self.running: try: pid, status = os.wait() if os.WIFEXITED(status) or os.WIFSIGNALED(status): self._remove_children(pid) self._verify_and_respawn_children(pid, status) except OSError as err: if err.errno not in (errno.EINTR, errno.ECHILD): raise except KeyboardInterrupt: LOG.info('Caught keyboard interrupt. Exiting.') os.killpg(0, signal.SIGTERM) break except exception.SIGHUPInterrupt: self.reload() continue eventlet.greenio.shutdown_safe(self.sock) self.sock.close() LOG.debug('Exited') def configure_socket(self, old_conf=None, has_changed=None): """"""Ensure a socket exists and is appropriately configured. This function is called on start up, and can also be called in the event of a configuration reload. When called for the first time a new socket is created. If reloading and either bind_host or bind_port have been changed, the existing socket must be closed and a new socket opened (laws of physics). In all other cases (bind_host/bind_port have not been changed) the existing socket is reused. :param old_conf: Cached old configuration settings (if any) :param has_changed: callable to determine if a parameter has changed """""" new_sock = (old_conf is None or ( has_changed('bind_host') or has_changed('bind_port'))) # check https use_ssl = not (not self.conf.cert_file or not self.conf.key_file) # Were we using https before? old_use_ssl = (old_conf is not None and not ( not old_conf.get('key_file') or not old_conf.get('cert_file'))) # Do we now need to perform an SSL wrap on the socket? wrap_sock = use_ssl is True and (old_use_ssl is False or new_sock) # Do we now need to perform an SSL unwrap on the socket? unwrap_sock = use_ssl is False and old_use_ssl is True if new_sock: self._sock = None if old_conf is not None: self.sock.close() _sock = get_socket(self.conf, self.default_port) _sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) # sockets can hang around forever without keepalive _sock.setsockopt(socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1) self._sock = _sock if wrap_sock: self.sock = ssl.wrap_socket(self._sock, certfile=self.conf.cert_file, keyfile=self.conf.key_file) if unwrap_sock: self.sock = self._sock if new_sock and not use_ssl: self.sock = self._sock # Pick up newly deployed certs if old_conf is not None and use_ssl is True and old_use_ssl is True: if has_changed('cert_file'): self.sock.certfile = self.conf.cert_file if has_changed('key_file'): self.sock.keyfile = self.conf.key_file if new_sock or (old_conf is not None and has_changed('tcp_keepidle')): # This option isn't available in the OS X version of eventlet if hasattr(socket, 'TCP_KEEPIDLE'): self.sock.setsockopt(socket.IPPROTO_TCP, socket.TCP_KEEPIDLE, self.conf.tcp_keepidle) if old_conf is not None and has_changed('backlog'): self.sock.listen(self.conf.backlog) def _remove_children(self, pid): if pid in self.children: self.children.remove(pid) LOG.info('Removed dead child %s', pid) elif pid in self.stale_children: self.stale_children.remove(pid) LOG.info('Removed stale child %s', pid) else: LOG.warning('Unrecognized child %s', pid) def _verify_and_respawn_children(self, pid, status): if len(self.stale_children) == 0: LOG.debug('No stale children') if os.WIFEXITED(status) and os.WEXITSTATUS(status) != 0: LOG.error('Not respawning child %d, cannot ' 'recover from termination', pid) if not self.children and not self.stale_children: LOG.info('All workers have terminated. Exiting') self.running = False else: if len(self.children) < self.conf.workers: self.run_child() def stash_conf_values(self): """"""Make a copy of some of the current global CONF's settings. Allow determining if any of these values have changed when the config is reloaded. """""" conf = {} conf['bind_host'] = self.conf.bind_host conf['bind_port'] = self.conf.bind_port conf['backlog'] = self.conf.backlog conf['key_file'] = self.conf.key_file conf['cert_file'] = self.conf.cert_file return conf def reload(self): """"""Reload and re-apply configuration settings. Existing child processes are sent a SIGHUP signal and will exit after completing existing requests. New child processes, which will have the updated configuration, are spawned. This allows preventing interruption to the service. """""" def _has_changed(old, new, param): old = old.get(param) new = getattr(new, param) return (new != old) old_conf = self.stash_conf_values() has_changed = functools.partial(_has_changed, old_conf, self.conf) cfg.CONF.reload_config_files() os.killpg(self.pgid, signal.SIGHUP) self.stale_children = self.children self.children = set() # Ensure any logging config changes are picked up logging.setup(cfg.CONF, self.name) self.configure_socket(old_conf, has_changed) self.start_wsgi() def wait(self): """"""Wait until all servers have completed running."""""" try: if self.children: self.wait_on_children() else: self.pool.waitall() except KeyboardInterrupt: pass def run_child(self): def child_hup(*args): """"""Shut down child processes, existing requests are handled."""""" signal.signal(signal.SIGHUP, signal.SIG_IGN) eventlet.wsgi.is_accepting = False self.sock.close() pid = os.fork() if pid == 0: signal.signal(signal.SIGHUP, child_hup) signal.signal(signal.SIGTERM, signal.SIG_DFL) # ignore the interrupt signal to avoid a race whereby # a child worker receives the signal before the parent # and is respawned unnecessarily as a result signal.signal(signal.SIGINT, signal.SIG_IGN) # The child has no need to stash the unwrapped # socket, and the reference prevents a clean # exit on sighup self._sock = None self.run_server() LOG.info('Child %d exiting normally', os.getpid()) # self.pool.waitall() is now called in wsgi's server so # it's safe to exit here sys.exit(0) else: LOG.info('Started child %s', pid) self.children.add(pid) def run_server(self): """"""Run a WSGI server."""""" eventlet.wsgi.HttpProtocol.default_request_version = ""HTTP/1.0"" eventlet.hubs.use_hub('poll') eventlet.patcher.monkey_patch(all=False, socket=True) self.pool = eventlet.GreenPool(size=self.threads) socket_timeout = cfg.CONF.senlin_api.client_socket_timeout or None try: eventlet.wsgi.server( self.sock, self.application, custom_pool=self.pool, url_length_limit=URL_LENGTH_LIMIT, log=self._logger, debug=cfg.CONF.debug, keepalive=cfg.CONF.senlin_api.wsgi_keep_alive, socket_timeout=socket_timeout) except socket.error as err: if err[0] != errno.EINVAL: raise self.pool.waitall() def _single_run(self, application, sock): """"""Start a WSGI server in a new green thread."""""" LOG.info(""Starting single process server"") eventlet.wsgi.server(sock, application, custom_pool=self.pool, url_length_limit=URL_LENGTH_LIMIT, log=self._logger, debug=cfg.CONF.debug) class BasePasteFactory(object, metaclass=abc.ABCMeta): """"""A base class for paste app and filter factories. Sub-classes must override the KEY class attribute and provide a __call__ method. """""" KEY = None def __init__(self, conf): self.conf = conf @abc.abstractmethod def __call__(self, global_conf, **local_conf): return def _import_factory(self, local_conf): """"""Import an app/filter class. Lookup the KEY from the PasteDeploy local conf and import the class named there. This class can then be used as an app or filter factory. """""" class_name = local_conf[self.KEY].replace(':', '.').strip() return importutils.import_class(class_name) class AppFactory(BasePasteFactory): """"""A Generic paste.deploy app factory. The WSGI app constructor must accept a ConfigOpts object and a local config dict as its arguments. """""" KEY = 'senlin.app_factory' def __call__(self, global_conf, **local_conf): factory = self._import_factory(local_conf) return factory(self.conf, **local_conf) class FilterFactory(AppFactory): """"""A Generic paste.deploy filter factory. This requires senlin.filter_factory to be set to a callable which returns a WSGI filter when invoked. The WSGI filter constructor must accept a WSGI app, a ConfigOpts object and a local config dict as its arguments. """""" KEY = 'senlin.filter_factory' def __call__(self, global_conf, **local_conf): factory = self._import_factory(local_conf) def filter(app): return factory(app, self.conf, **local_conf) return filter def setup_paste_factories(conf): """"""Set up the generic paste app and filter factories. The app factories are constructed at runtime to allow us to pass a ConfigOpts object to the WSGI classes. :param conf: a ConfigOpts object """""" global app_factory, filter_factory app_factory = AppFactory(conf) filter_factory = FilterFactory(conf) def teardown_paste_factories(): """"""Reverse the effect of setup_paste_factories()."""""" global app_factory, filter_factory del app_factory del filter_factory def paste_deploy_app(paste_config_file, app_name, conf): """"""Load a WSGI app from a PasteDeploy configuration. Use deploy.loadapp() to load the app from the PasteDeploy configuration, ensuring that the supplied ConfigOpts object is passed to the app and filter constructors. :param paste_config_file: a PasteDeploy config file :param app_name: the name of the app/pipeline to load from the file :param conf: a ConfigOpts object to supply to the app and its filters :returns: the WSGI app """""" setup_paste_factories(conf) try: return deploy.loadapp(""config:%s"" % paste_config_file, name=app_name) finally: teardown_paste_factories() def _get_deployment_config_file(): """"""Retrieve item from deployment_config_file. The retrieved item is formatted as an absolute pathname. """""" config_path = cfg.CONF.find_file(cfg.CONF.senlin_api.api_paste_config) if config_path is None: return None return os.path.abspath(config_path) def load_paste_app(app_name=None): """"""Build and return a WSGI app from a paste config file. We assume the last config file specified in the supplied ConfigOpts object is the paste config file. :param app_name: name of the application to load :raises RuntimeError when config file cannot be located or application cannot be loaded from config file """""" if app_name is None: app_name = cfg.CONF.prog conf_file = _get_deployment_config_file() if conf_file is None: raise RuntimeError(_(""Unable to locate config file"")) try: app = paste_deploy_app(conf_file, app_name, cfg.CONF) # Log the options used when starting if we're in debug mode... if cfg.CONF.debug: cfg.CONF.log_opt_values(logging.getLogger(app_name), logging.DEBUG) return app except (LookupError, ImportError) as e: raise RuntimeError(_(""Unable to load %(app_name)s from "" ""configuration file %(conf_file)s."" ""\nGot: %(e)r"") % {'app_name': app_name, 'conf_file': conf_file, 'e': e})",651,581
openstack%2Foctavia~stable%2Fstein~Ia3d39244fadb4def79c055896c7cd028b03a0480,openstack/octavia,stable/stein,Ia3d39244fadb4def79c055896c7cd028b03a0480,repair operating status is offline,ABANDONED,2020-12-09 10:48:39.000000000,2021-02-23 08:15:35.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-09 10:48:39.000000000', 'files': ['octavia/controller/worker/tasks/database_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b476756d15c2d84913f427abef48084ba4d8e9ca', 'message': 'repair operating status is offline\n\n\tUse POST /v2/lbaas/loadbalancers to create a fully populated load balancer, when it is successfully created, healthmonitor l7policy and l7rule operating_status is OFFLINE.\n\n\tWhen create load balancer, task flows dont have Mark***ActiveInDB except MarkLBActiveInDB, it calls _mark_l7policy_status(), _mark_l7rule_status() and _mark_hm_status().\n\n\tAccording to classes Mark****ActiveInDB in this octavia/controller/worker/tasks/database_tasks.py, healthmonitor l7policy and l7rule updated its status, but there is no update operating_status in _mark_l7policy_status(), _mark_l7rule_status() and _mark_hm_status(). When loadbalancer created success, listener pool and member operating_status is changed in octavia/controller/healthmanager/health_drivers/update_db.py(def updated_health()), but there is no method to change the operating_status of healthmonitor l7policy and l7rule.\n\nStory 2008400\nTask 41333\nChange-Id: I2a665ad3b6b8803f8144c2b063102c89b508849b\n\nChange-Id: Ia3d39244fadb4def79c055896c7cd028b03a0480\n'}]",0,766198,b476756d15c2d84913f427abef48084ba4d8e9ca,5,2,1,32644,,,0,"repair operating status is offline

	Use POST /v2/lbaas/loadbalancers to create a fully populated load balancer, when it is successfully created, healthmonitor l7policy and l7rule operating_status is OFFLINE.

	When create load balancer, task flows dont have Mark***ActiveInDB except MarkLBActiveInDB, it calls _mark_l7policy_status(), _mark_l7rule_status() and _mark_hm_status().

	According to classes Mark****ActiveInDB in this octavia/controller/worker/tasks/database_tasks.py, healthmonitor l7policy and l7rule updated its status, but there is no update operating_status in _mark_l7policy_status(), _mark_l7rule_status() and _mark_hm_status(). When loadbalancer created success, listener pool and member operating_status is changed in octavia/controller/healthmanager/health_drivers/update_db.py(def updated_health()), but there is no method to change the operating_status of healthmonitor l7policy and l7rule.

Story 2008400
Task 41333
Change-Id: I2a665ad3b6b8803f8144c2b063102c89b508849b

Change-Id: Ia3d39244fadb4def79c055896c7cd028b03a0480
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/766198/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/tasks/database_tasks.py'],1,b476756d15c2d84913f427abef48084ba4d8e9ca,repair_operating_status_offline," op_status = (constants.ONLINE if l7policy.enabled else constants.OFFLINE) provisioning_status=status, operating_status=op_status) op_status = (constants.ONLINE if l7rule.enabled else constants.OFFLINE) provisioning_status=status, operating_status=op_status) op_status = (constants.ONLINE if hm.enabled else constants.OFFLINE) provisioning_status=status, operating_status=op_status)", provisioning_status=status) provisioning_status=status) provisioning_status=status),12,3
openstack%2Ftosca-parser~master~I64879fdcc2cb2b1395d31947280d39081cf2676b,openstack/tosca-parser,master,I64879fdcc2cb2b1395d31947280d39081cf2676b,Remove depreciated file babel.cfg,MERGED,2021-02-11 11:16:57.000000000,2021-02-23 06:58:09.000000000,2021-02-23 06:56:40.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-02-11 11:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/030b872a2e69087009fedca3ec5276541711274a', 'message': 'Remove depreciated file babel.cfg\n\nThe file babel.cfg is not used anymore.\n\nThis patch removes the depreciated file and the translation\nsections in setup.cfg (extract_messages, compile_catalog and\nupdate_catalog) as these not needed anymore,\nBabel can generate translation files without them.\n\nChange-Id: I64879fdcc2cb2b1395d31947280d39081cf2676b\n'}, {'number': 2, 'created': '2021-02-12 01:23:31.000000000', 'files': ['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/d353bbce28bab189fd4dbb52bb28d4db8ffbc533', 'message': 'Remove depreciated file babel.cfg\n\nThe file babel.cfg is not used anymore.\n\nThis patch removes the depreciated file and the translation\nsections in setup.cfg (extract_messages, compile_catalog and\nupdate_catalog) as these not needed anymore,\nBabel can generate translation files without them.\n\nChange-Id: I64879fdcc2cb2b1395d31947280d39081cf2676b\n'}]",1,775120,d353bbce28bab189fd4dbb52bb28d4db8ffbc533,11,5,2,32102,,,0,"Remove depreciated file babel.cfg

The file babel.cfg is not used anymore.

This patch removes the depreciated file and the translation
sections in setup.cfg (extract_messages, compile_catalog and
update_catalog) as these not needed anymore,
Babel can generate translation files without them.

Change-Id: I64879fdcc2cb2b1395d31947280d39081cf2676b
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/20/775120/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg']",4,030b872a2e69087009fedca3ec5276541711274a,remove_babel,,[compile_catalog] directory = toscaparser/locale domain = toscaparser [update_catalog] domain = toscaparser output_dir = toscaparser/locale input_file = toscaparser/locale/toscaparser.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = toscaparser/locale/toscaparser.pot,0,16
openstack%2Fvitrage~master~I97664dd6a06cb584c833904f717deb367bf088a6,openstack/vitrage,master,I97664dd6a06cb584c833904f717deb367bf088a6,Remove unicode  from doc,MERGED,2021-01-29 02:57:09.000000000,2021-02-23 06:29:24.000000000,2021-02-23 06:27:22.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 02:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/bceddbb7bd38e118e672f836b81b46411722c66f', 'message': 'Remove unicode  from doc\n\nImplements: blueprint remove-unicode\nChange-Id: I97664dd6a06cb584c833904f717deb367bf088a6\n'}, {'number': 2, 'created': '2021-01-29 03:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b82b64a8f2a6bdd58d2c0d83472368fc165a8e42', 'message': 'Remove unicode  from doc\n\nImplements: blueprint remove-unicode\nChange-Id: I97664dd6a06cb584c833904f717deb367bf088a6\n'}, {'number': 3, 'created': '2021-02-23 02:24:55.000000000', 'files': ['doc/source/contributor/manual-tests.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/227e8f69df5747989ba3a3aada1b9787ec00bda7', 'message': 'Remove unicode  from doc\n\nImplements: blueprint remove-unicode\nChange-Id: I97664dd6a06cb584c833904f717deb367bf088a6\n'}]",0,772966,227e8f69df5747989ba3a3aada1b9787ec00bda7,22,2,3,32577,,,0,"Remove unicode  from doc

Implements: blueprint remove-unicode
Change-Id: I97664dd6a06cb584c833904f717deb367bf088a6
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/66/772966/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/manual-tests.rst', 'tools/load_generator/notification_info.py']",2,bceddbb7bd38e118e672f836b81b46411722c66f,remove-unicode,"PORT_CREATE_END = {'port': { 'allowed_address_pairs': [], 'extra_dhcp_opts': [], 'updated_at': '2017-05-24T15:48:25Z', 'device_owner': 'compute:nova', 'revision_number': 7, 'port_security_enabled': True, 'binding:profile': {}, 'fixed_ips': [{ 'subnet_id': 'bb5a20d0-07ea-4f01-89cb-ec9e7678cb84', 'ip_address': '8.8.8.11'}], 'id': '###', 'security_groups': ['2cd64353-05a7-43fa-abd7-8ba20c6b3326'], 'binding:vif_details': {'port_filter': True, 'ovs_hybrid_plug': True}, 'binding:vif_type': 'ovs', 'mac_address': 'fa:16:3e:a0:5c:40', 'project_id': 'ef3f81058a934157b42454e3fc63c213', 'status': 'DOWN', 'binding:host_id': '###', 'description': '', 'tags': [], 'device_id': '###', 'name': '', 'admin_state_up': True, 'network_id': '###', 'tenant_id': 'ef3f81058a934157b42454e3fc63c213', 'created_at': '2017-05-24T15:48:24Z', 'binding:vnic_type': 'normal'}} 'status': 'available', 'user_id': '609544a5d1de4023b44bb71d624281ab', 'display_name': 'ssssss', 'availability_zone': 'nova', 'tenant_id': 'ef3f81058a934157b42454e3fc63c213', 'created_at': '2017-05-28T10:43:13+00:00', 'volume_attachment': [], 'volume_type': 'e8b50d6e-0bc3-47aa-b378-ac06e5917873', 'host': 'compute-0-0@lvmdriver-1#lvmdriver-1', 'snapshot_id': None, 'replication_status': None, 'volume_id': '###', 'replication_extended_status': None, 'replication_driver_data': None, 'size': 2, 'launched_at': '2017-05-28T10:43:14.521562+00:00', 'metadata': []} 'status': 'in-use', 'display_name': '', 'availability_zone': 'nova', 'tenant_id': 'ef3f81058a934157b42454e3fc63c213', 'created_at': '2017-05-28T10:40:21+00:00', 'volume_attachment': [{ 'instance_uuid': 'e9687e55-307b-4d1a-b57d-778cf52d78ee', 'volume': { 'migration_status': None, 'provider_id': None, 'availability_zone': 'nova', 'terminated_at': None, 'updated_at': '2017-05-28T10:42:10.000000', 'provider_geometry': None, 'replication_extended_status': None, 'replication_status': None, 'snapshot_id': None, 'ec2_id': None, 'deleted_at': None, 'id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'size': 1, 'user_id': '609544a5d1de4023b44bb71d624281ab', 'display_description': '', 'cluster_name': None, 'project_id': 'ef3f81058a934157b42454e3fc63c213', 'launched_at': '2017-05-28T10:42:05.000000', 'scheduled_at': '2017-05-28T10:40:23.000000', 'status': 'in-use', 'volume_type_id': 'e8b50d6e-0bc3-47aa-b378-ac06e5917873', 'multiattach': False, 'deleted': False, 'provider_location': '127.0.0.1:3260,3 iqn.2010-10.org.openstac' 'k:volume-5e41d178-4349-47aa-9be9-a9ee80cc' 'dcc8 1', 'host': 'compute-0-0@lvmdriver-1#lvmdriver-1', 'consistencygroup_id': None, 'source_volid': None, 'provider_auth': 'CHAP 5j3WZ6nHp6rYgh5u8HcJ P3Duwhx7ECUrSieo', 'previous_status': None, 'display_name': '', 'bootable': True, 'created_at': '2017-05-28T10:40:21.000000', 'attach_status': 'attached', '_name_id': None, 'encryption_key_id': None, 'replication_driver_data': None, 'group_id': None}, 'attach_time': '2017-05-28T10:42:10.000000', 'deleted': False, 'attached_host': None, 'created_at': '2017-05-28T10:42:10.000000', 'attach_mode': 'rw', 'updated_at': None, 'attach_status': 'attached', 'detach_time': None, 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'mountpoint': '/dev/vda', 'deleted_at': None, 'id': '935e0db2-956b-464f-af47-cadfb6ad9c2f'}], 'volume_type': 'e8b50d6e-0bc3-47aa-b378-ac06e5917873', 'host': 'compute-0-0@lvmdriver-1#lvmdriver-1', 'glance_metadata': [{ 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': 'bare', 'key': 'container_format', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 25}, { 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': '0', 'key': 'min_ram', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 26}, { 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': 'raw', 'key': 'disk_format', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 27}, { 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': 'TinyLinux', 'key': 'image_name', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 28}, { 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': '9a43d75b-d58c-45eb-8112-872db1ad18df', 'key': 'image_id', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 29}, { 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': '3b9c2d448424435f30d10e620c1f8392', 'key': 'checksum', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 30}, { 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': '0', 'key': 'min_disk', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 31}, { 'deleted': False, 'created_at': '2017-05-28T10:42:05.000000', 'snapshot_id': None, 'updated_at': None, 'value': '19791872', 'key': 'size', 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'deleted_at': None, 'id': 32}], 'snapshot_id': None, 'replication_status': None, 'volume_id': '5e41d178-4349-47aa-9be9-a9ee80ccdcc8', 'replication_extended_status': None, 'user_id': '609544a5d1de4023b44bb71d624281ab', 'size': 1, 'launched_at': '2017-05-28T10:42:05+00:00', 'replication_driver_data': None, 'metadata': []}","PORT_CREATE_END = {u'port': { u'allowed_address_pairs': [], u'extra_dhcp_opts': [], u'updated_at': u'2017-05-24T15:48:25Z', u'device_owner': u'compute:nova', u'revision_number': 7, u'port_security_enabled': True, u'binding:profile': {}, u'fixed_ips': [{ u'subnet_id': u'bb5a20d0-07ea-4f01-89cb-ec9e7678cb84', u'ip_address': u'8.8.8.11'}], u'id': u'###', u'security_groups': [u'2cd64353-05a7-43fa-abd7-8ba20c6b3326'], u'binding:vif_details': {u'port_filter': True, u'ovs_hybrid_plug': True}, u'binding:vif_type': u'ovs', u'mac_address': u'fa:16:3e:a0:5c:40', u'project_id': u'ef3f81058a934157b42454e3fc63c213', u'status': u'DOWN', u'binding:host_id': u'###', u'description': u'', u'tags': [], u'device_id': u'###', u'name': u'', u'admin_state_up': True, u'network_id': u'###', u'tenant_id': u'ef3f81058a934157b42454e3fc63c213', u'created_at': u'2017-05-24T15:48:24Z', u'binding:vnic_type': u'normal'}} u'status': u'available', u'user_id': u'609544a5d1de4023b44bb71d624281ab', u'display_name': u'ssssss', u'availability_zone': u'nova', u'tenant_id': u'ef3f81058a934157b42454e3fc63c213', u'created_at': u'2017-05-28T10:43:13+00:00', u'volume_attachment': [], u'volume_type': u'e8b50d6e-0bc3-47aa-b378-ac06e5917873', u'host': u'compute-0-0@lvmdriver-1#lvmdriver-1', u'snapshot_id': None, u'replication_status': None, u'volume_id': u'###', u'replication_extended_status': None, u'replication_driver_data': None, u'size': 2, u'launched_at': u'2017-05-28T10:43:14.521562+00:00', u'metadata': []} u'status': u'in-use', u'display_name': u'', u'availability_zone': u'nova', u'tenant_id': u'ef3f81058a934157b42454e3fc63c213', u'created_at': u'2017-05-28T10:40:21+00:00', u'volume_attachment': [{ u'instance_uuid': u'e9687e55-307b-4d1a-b57d-778cf52d78ee', u'volume': { u'migration_status': None, u'provider_id': None, u'availability_zone': u'nova', u'terminated_at': None, u'updated_at': u'2017-05-28T10:42:10.000000', u'provider_geometry': None, u'replication_extended_status': None, u'replication_status': None, u'snapshot_id': None, u'ec2_id': None, u'deleted_at': None, u'id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'size': 1, u'user_id': u'609544a5d1de4023b44bb71d624281ab', u'display_description': u'', u'cluster_name': None, u'project_id': u'ef3f81058a934157b42454e3fc63c213', u'launched_at': u'2017-05-28T10:42:05.000000', u'scheduled_at': u'2017-05-28T10:40:23.000000', u'status': u'in-use', u'volume_type_id': u'e8b50d6e-0bc3-47aa-b378-ac06e5917873', u'multiattach': False, u'deleted': False, u'provider_location': u'127.0.0.1:3260,3 iqn.2010-10.org.openstac' u'k:volume-5e41d178-4349-47aa-9be9-a9ee80cc' u'dcc8 1', u'host': u'compute-0-0@lvmdriver-1#lvmdriver-1', u'consistencygroup_id': None, u'source_volid': None, u'provider_auth': u'CHAP 5j3WZ6nHp6rYgh5u8HcJ P3Duwhx7ECUrSieo', u'previous_status': None, u'display_name': u'', u'bootable': True, u'created_at': u'2017-05-28T10:40:21.000000', u'attach_status': u'attached', u'_name_id': None, u'encryption_key_id': None, u'replication_driver_data': None, u'group_id': None}, u'attach_time': u'2017-05-28T10:42:10.000000', u'deleted': False, u'attached_host': None, u'created_at': u'2017-05-28T10:42:10.000000', u'attach_mode': u'rw', u'updated_at': None, u'attach_status': u'attached', u'detach_time': None, u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'mountpoint': u'/dev/vda', u'deleted_at': None, u'id': u'935e0db2-956b-464f-af47-cadfb6ad9c2f'}], u'volume_type': u'e8b50d6e-0bc3-47aa-b378-ac06e5917873', u'host': u'compute-0-0@lvmdriver-1#lvmdriver-1', u'glance_metadata': [{ u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'bare', u'key': u'container_format', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 25}, { u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'0', u'key': u'min_ram', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 26}, { u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'raw', u'key': u'disk_format', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 27}, { u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'TinyLinux', u'key': u'image_name', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 28}, { u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'9a43d75b-d58c-45eb-8112-872db1ad18df', u'key': u'image_id', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 29}, { u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'3b9c2d448424435f30d10e620c1f8392', u'key': u'checksum', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 30}, { u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'0', u'key': u'min_disk', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 31}, { u'deleted': False, u'created_at': u'2017-05-28T10:42:05.000000', u'snapshot_id': None, u'updated_at': None, u'value': u'19791872', u'key': u'size', u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'deleted_at': None, u'id': 32}], u'snapshot_id': None, u'replication_status': None, u'volume_id': u'5e41d178-4349-47aa-9be9-a9ee80ccdcc8', u'replication_extended_status': None, u'user_id': u'609544a5d1de4023b44bb71d624281ab', u'size': 1, u'launched_at': u'2017-05-28T10:42:05+00:00', u'replication_driver_data': None, u'metadata': []}",119,119
openstack%2Ftripleo-quickstart-extras~master~Ia6deca65b3561e8763445923f77355444d9a2ef0,openstack/tripleo-quickstart-extras,master,Ia6deca65b3561e8763445923f77355444d9a2ef0,Add /etc/resolv.conf if missing for image,MERGED,2021-02-19 18:19:55.000000000,2021-02-23 06:28:30.000000000,2021-02-23 06:28:30.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-19 18:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a7ac658f8045d69b476dbc85969a6988bf6a913', 'message': 'WIP: Check if resolv.conf exists before adding to image\n\nChange-Id: Ia6deca65b3561e8763445923f77355444d9a2ef0\n'}, {'number': 2, 'created': '2021-02-19 19:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e5c538766f6a8d92c6086b3b1e68677de461860b', 'message': 'WIP: Check if resolv.conf exists before adding to image\n\nChange-Id: Ia6deca65b3561e8763445923f77355444d9a2ef0\n'}, {'number': 3, 'created': '2021-02-19 20:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d3ea92c68c35c056579b9a2ff8119833524afab', 'message': 'WIP: Check if resolv.conf exists before adding to image\n\nChange-Id: Ia6deca65b3561e8763445923f77355444d9a2ef0\n'}, {'number': 4, 'created': '2021-02-21 01:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d09bc02257d049c8cd0497776de8a7c35a2fac6', 'message': 'WIP: Check if resolv.conf exists before adding to image\n\nChange-Id: Ia6deca65b3561e8763445923f77355444d9a2ef0\n'}, {'number': 5, 'created': '2021-02-22 17:37:30.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9fda900b4b43ec8d6b8023448005eea64cbb089', 'message': 'Add /etc/resolv.conf if missing for image\n\nRHEL 8.4 image does not include /etc/resolv.conf\nautomatically.\n\nThis review adds the file to the temp dir\nused in the modify-image role if it is\nmissing.\n\nChange-Id: Ia6deca65b3561e8763445923f77355444d9a2ef0\n'}]",0,776692,d9fda900b4b43ec8d6b8023448005eea64cbb089,18,5,5,9976,,,0,"Add /etc/resolv.conf if missing for image

RHEL 8.4 image does not include /etc/resolv.conf
automatically.

This review adds the file to the temp dir
used in the modify-image role if it is
missing.

Change-Id: Ia6deca65b3561e8763445923f77355444d9a2ef0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/92/776692/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,5a7ac658f8045d69b476dbc85969a6988bf6a913,modify-image-84, - name: Check if /etc/resolv.conf exists stat: path: /etc/resolv.conf register: resolv_stat_result when: resolv_stat_result.stat.exists,,6,0
openstack%2Fpython-tackerclient~master~I4876a9a2f61d5539b724a888ee2d941a989be717,openstack/python-tackerclient,master,I4876a9a2f61d5539b724a888ee2d941a989be717,Fix old links in installation guide,MERGED,2021-02-08 10:21:59.000000000,2021-02-23 06:26:06.000000000,2021-02-23 06:24:29.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-02-08 10:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/767f7e0b6a35acb871ba538aa8b8b87fdb007487', 'message': 'Fix old links in installation guide\n\nThe installation guide refers to old github links in order to\ninstall python-tackerclient.\n\nThis patch replaces old links [1] with new source code links [2].\nAdditionally, restructure document content for readability.\n\n[1] https://github.com/openstack/python-tackerclient\n[2] https://opendev.org/openstack/python-tackerclient\n\nCloses-Bug: #1914534\nChange-Id: I4876a9a2f61d5539b724a888ee2d941a989be717\n'}, {'number': 2, 'created': '2021-02-08 10:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/18d0d4c2a68bdfa434d7fe790dd77c68d95cd762', 'message': 'Fix old links in installation guide\n\nThe installation guide refers to old github links in order to\ninstall python-tackerclient.\n\nThis patch replaces old links [1] with new source code links [2].\nAdditionally, restructure document content for readability.\n\n[1] https://github.com/openstack/python-tackerclient\n[2] https://opendev.org/openstack/python-tackerclient\n\nCloses-Bug: #1914534\nChange-Id: I4876a9a2f61d5539b724a888ee2d941a989be717\n'}, {'number': 3, 'created': '2021-02-08 11:43:34.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/17f4bcac1a36a06c4328838d202e27d3372f5989', 'message': 'Fix old links in installation guide\n\nThe installation guide refers to old github links in order to\ninstall python-tackerclient.\n\nThis patch replaces old links [1] with new source code links [2].\nAdditionally, restructure document content for readability.\n\n[1] https://github.com/openstack/python-tackerclient\n[2] https://opendev.org/openstack/python-tackerclient\n\nCloses-Bug: #1914534\nChange-Id: I4876a9a2f61d5539b724a888ee2d941a989be717\n'}]",8,774427,17f4bcac1a36a06c4328838d202e27d3372f5989,14,5,3,32102,,,0,"Fix old links in installation guide

The installation guide refers to old github links in order to
install python-tackerclient.

This patch replaces old links [1] with new source code links [2].
Additionally, restructure document content for readability.

[1] https://github.com/openstack/python-tackerclient
[2] https://opendev.org/openstack/python-tackerclient

Closes-Bug: #1914534
Change-Id: I4876a9a2f61d5539b724a888ee2d941a989be717
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/27/774427/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,767f7e0b6a35acb871ba538aa8b8b87fdb007487,bug/1914534,"This document describes how to install python-tackerclient. .. note:: This installation guide contents are specific to Ubuntu distro. .. note:: Make sure to replace the ``<branch_name>`` in command examples with specific branch name, such as ``stable/victoria``. #. Clone python-tackerclient repository. You can use -b for specific release, optionally. .. code-block:: console $ cd ~/ $ git clone https://opendev.org/openstack/python-tackerclient -b <branch_name> #. Install python-tackerclient. .. code-block:: console $ cd python-tackerclient $ sudo python3 setup.py install .. code-block:: console $ sudo pip3 install python-tackerclient .. code-block:: console $ sudo pip3 install git+https://opendev.org/openstack/python-tackerclient","**Note:** The paths we are using for configuration files in these steps are with reference to Ubuntu Operating System. The paths may vary for other Operating Systems. The branch_name which is used in commands, specify the branch_name as stable/<branch> for any stable branch installation. For eg: stable/queens, stable/pike. If unspecified the default will be master branch.1. Clone python-tackerclient repository. :: $ cd ~/ $ git clone https://github.com/openstack/python-tackerclient -b <branch_name> 2. Install python-tackerclient. :: $ cd python-tackerclient $ sudo python setup.py install :: $ pip install python-tackerclient :: $ pip install git+https://github.com/openstack/python-tackerclient.git",22,20
openstack%2Fpython-tackerclient~master~Ie55041121ab9a743285c6bcfd27233b1b60db636,openstack/python-tackerclient,master,Ie55041121ab9a743285c6bcfd27233b1b60db636,Update TOX_CONSTRAINTS_FILE,MERGED,2021-01-29 00:31:10.000000000,2021-02-23 06:21:09.000000000,2021-02-23 06:19:29.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-29 00:31:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/69d966828258c779578cd208ac3ce3b7fde59473', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].\n\nThis allows to use lower-constraints file as more readable way\ninstead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ie55041121ab9a743285c6bcfd27233b1b60db636\n'}]",0,772961,69d966828258c779578cd208ac3ce3b7fde59473,9,6,1,32102,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].

This allows to use lower-constraints file as more readable way
instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ie55041121ab9a743285c6bcfd27233b1b60db636
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/61/772961/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,69d966828258c779578cd208ac3ce3b7fde59473,tox_constraints_file, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fironic~master~I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee,openstack/ironic,master,I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee,"Implement ""system"" scoped RBAC for ports",MERGED,2020-11-18 22:05:34.000000000,2021-02-23 05:44:26.000000000,2021-02-23 05:43:01.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dbc02c5fe181633b41c8e3877d4d826df3a4cb05', 'message': 'Implement secure RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4e2dbdcfe320376008cd14b5551a10208abf8c2', 'message': 'Implement secure RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}, {'number': 3, 'created': '2021-01-20 23:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec40d0dbc49a32cafe91866abf0373d66ae4f658', 'message': 'Implement secure RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}, {'number': 4, 'created': '2021-01-22 20:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9dc1752ad5d99438f52f6d62627b2c389eb603e', 'message': 'Implement secure RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}, {'number': 5, 'created': '2021-02-02 00:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/371ea2d3b32442f9d42019e4bc8fca862b9f29ec', 'message': 'Implement secure RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5854fce076153f00b9525aa9681c9384c7d3992', 'message': 'Implement ""system"" scoped RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7adc6e6abfb9ace77be13a32c90753059d52de15', 'message': 'Implement ""system"" scoped RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/34edc6444e59d5d3dc8d5862f52b0b0e4eeea60f', 'message': 'Implement ""system"" scoped RBAC for ports\n\nThis commit updates the policies for baremetal ports to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee\n'}]",0,763267,34edc6444e59d5d3dc8d5862f52b0b0e4eeea60f,50,7,8,5046,,,0,"Implement ""system"" scoped RBAC for ports

This commit updates the policies for baremetal ports to understand scope
checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC
experience and improve security.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>
Change-Id: I0ff52a5b667cffdb93e210f5ef32c1d38953d6ee
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/763267/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,dbc02c5fe181633b41c8e3877d4d826df3a4cb05,secure-rbac,"deprecated_port_get = policy.DeprecatedRule( name='baremetal:port:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_port_list = policy.DeprecatedRule( name='baremetal:port:list', check_str='rule:baremetal:port:get' ) deprecated_port_list_all = policy.DeprecatedRule( name='baremetal:port:list_all', check_str='rule:baremetal:port:get' ) deprecated_port_create = policy.DeprecatedRule( name='baremetal:port:create', check_str='rule:is_admin' ) deprecated_port_delete = policy.DeprecatedRule( name='baremetal:port:delete', check_str='rule:is_admin' ) deprecated_port_update = policy.DeprecatedRule( name='baremetal:port:update', check_str='rule:is_admin' ) deprecated_port_reason = """""" The baremetal port API is now aware of system scope and default roles. """""" name='baremetal:port:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Port records', operations=[ {'path': '/ports/{port_id}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/ports', 'method': 'GET'}, {'path': '/nodes/{node_ident}/ports/detail', 'method': 'GET'}, {'path': '/portgroups/{portgroup_ident}/ports', 'method': 'GET'}, {'path': '/portgroups/{portgroup_ident}/ports/detail', 'method': 'GET'} ], deprecated_rule=deprecated_port_get, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:port:list', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve multiple Port records, filtered by owner', operations=[ {'path': '/ports', 'method': 'GET'}, {'path': '/ports/detail', 'method': 'GET'} ], deprecated_rule=deprecated_port_list, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:port:list_all', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve multiple Port records', operations=[ {'path': '/ports', 'method': 'GET'}, {'path': '/ports/detail', 'method': 'GET'} ], deprecated_rule=deprecated_port_list_all, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:port:create', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Create Port records', operations=[{'path': '/ports', 'method': 'POST'}], deprecated_rule=deprecated_port_create, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:port:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Delete Port records', operations=[{'path': '/ports/{port_id}', 'method': 'DELETE'}], deprecated_rule=deprecated_port_delete, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:port:update', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Port records', operations=[{'path': '/ports/{port_id}', 'method': 'PATCH'}], deprecated_rule=deprecated_port_update, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:port:get', 'rule:is_admin or rule:is_observer', 'Retrieve Port records', [{'path': '/ports/{port_id}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/ports', 'method': 'GET'}, {'path': '/nodes/{node_ident}/ports/detail', 'method': 'GET'}, {'path': '/portgroups/{portgroup_ident}/ports', 'method': 'GET'}, {'path': '/portgroups/{portgroup_ident}/ports/detail', 'method': 'GET'}]), 'baremetal:port:list', 'rule:baremetal:port:get', 'Retrieve multiple Port records, filtered by owner', [{'path': '/ports', 'method': 'GET'}, {'path': '/ports/detail', 'method': 'GET'}]), 'baremetal:port:list_all', 'rule:baremetal:port:get', 'Retrieve multiple Port records', [{'path': '/ports', 'method': 'GET'}, {'path': '/ports/detail', 'method': 'GET'}]), 'baremetal:port:create', 'rule:is_admin', 'Create Port records', [{'path': '/ports', 'method': 'POST'}]), 'baremetal:port:delete', 'rule:is_admin', 'Delete Port records', [{'path': '/ports/{port_id}', 'method': 'DELETE'}]), 'baremetal:port:update', 'rule:is_admin', 'Update Port records', [{'path': '/ports/{port_id}', 'method': 'PATCH'}]),",95,31
openstack%2Ftripleo-common~stable%2Fqueens~I1e49d5c0947e2e145a032e700592acdcea900949,openstack/tripleo-common,stable/queens,I1e49d5c0947e2e145a032e700592acdcea900949,WIP Add build to tripleo-ci-centos-7-containers-multinode tags,ABANDONED,2021-02-23 02:43:39.000000000,2021-02-23 05:38:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-23 02:43:39.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/08982ce8beb345e22bb3dbc713898118a2b45b1c', 'message': 'WIP Add build to tripleo-ci-centos-7-containers-multinode tags\n\nChange-Id: I1e49d5c0947e2e145a032e700592acdcea900949\n'}]",0,777043,08982ce8beb345e22bb3dbc713898118a2b45b1c,3,1,1,8833,,,0,"WIP Add build to tripleo-ci-centos-7-containers-multinode tags

Change-Id: I1e49d5c0947e2e145a032e700592acdcea900949
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/777043/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,08982ce8beb345e22bb3dbc713898118a2b45b1c,bug/1916459, - tripleo-ci-centos-7-containers-multinode: vars: consumer_job: true build_container_images: false tags: - build - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-post-install - tripleo-validations - overcloud-scripts - overcloud-prep-config - overcloud-prep-containers - overcloud-deploy - overcloud-post-deploy - overcloud-validate dependencies: - tripleo-ci-centos-7-content-provider,,19,0
openstack%2Fsushy-tools~master~Iaee2eeb54c650e47877305f17f7d43f609d8065a,openstack/sushy-tools,master,Iaee2eeb54c650e47877305f17f7d43f609d8065a,Fix Unit test to test for boot index,MERGED,2021-02-19 15:21:32.000000000,2021-02-23 05:22:03.000000000,2021-02-23 05:20:50.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-19 15:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/85960d68e98c5de274a9e2c85d56c0b51e5c0205', 'message': ""Fix Unit test to test for success\n\nThis unit test wasn't testing that the boot element was\nactually added to the domain xml. Add it.\n\nChange-Id: Iaee2eeb54c650e47877305f17f7d43f609d8065a\n""}, {'number': 2, 'created': '2021-02-22 10:33:41.000000000', 'files': ['sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fb8f3a3924b955c90af19430968803fb2aab6fe3', 'message': ""Fix Unit test to test for boot index\n\nThis unit test wasn't testing that the boot element was\nactually added to the domain xml. Add it.\n\nChange-Id: Iaee2eeb54c650e47877305f17f7d43f609d8065a\n""}]",0,776655,fb8f3a3924b955c90af19430968803fb2aab6fe3,10,3,2,1926,,,0,"Fix Unit test to test for boot index

This unit test wasn't testing that the boot element was
actually added to the domain xml. Add it.

Change-Id: Iaee2eeb54c650e47877305f17f7d43f609d8065a
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/55/776655/2 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py'],1,85960d68e98c5de274a9e2c85d56c0b51e5c0205,," '0000"" function=""0x0"" slot=""0x01"" type=""pci"" />\n ' \ '<boot order=""1"" /></interface>' 'bus=""0x01"" slot=""0x01"" function=""0x0"" />\n ' \ '<boot order=""1"" /></interface>'"," '0000"" function=""0x0"" slot=""0x01"" type=""pci"" />' 'bus=""0x01"" slot=""0x01"" function=""0x0"" />'",4,2
openstack%2Fcinder~master~Ied7e213e2cb58c01b503098ec6f89d48483b89ce,openstack/cinder,master,Ied7e213e2cb58c01b503098ec6f89d48483b89ce,Changed minversion in tox to 3.18.0,ABANDONED,2021-02-22 10:44:50.000000000,2021-02-23 04:20:39.000000000,,[],"[{'number': 1, 'created': '2021-02-22 10:44:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d07277bc68c1343d80cbf063bc2f8a8ad42b55ff', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: Ied7e213e2cb58c01b503098ec6f89d48483b89ce\n'}]",0,776915,d07277bc68c1343d80cbf063bc2f8a8ad42b55ff,4,0,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0

https: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23
Change-Id: Ied7e213e2cb58c01b503098ec6f89d48483b89ce
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/776915/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d07277bc68c1343d80cbf063bc2f8a8ad42b55ff,,minversion = 3.18.0,minversion = 3.4.0,1,1
openstack%2Ftripleo-common~master~I776192717798c9fc3f02c4d358bebed2bada3593,openstack/tripleo-common,master,I776192717798c9fc3f02c4d358bebed2bada3593,Fix fact definition for deployments,MERGED,2021-02-22 17:42:42.000000000,2021-02-23 03:11:29.000000000,2021-02-23 03:10:23.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 17:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3acf6b9dfcdb4f7fcc6f08657b22c09d0c3a3286', 'message': 'Fix fact definition for deployments\n\nFor legacy deployment tasks we construct them here in tripleo-common. In\norder to disable inject facts, we need to fix this here too.\n\nChange-Id: I776192717798c9fc3f02c4d358bebed2bada3593\nRelated-Bug: #1915761\n'}, {'number': 2, 'created': '2021-02-22 17:59:48.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6af709a65e7814209e5e44f8de14f28c3badc81d', 'message': 'Fix fact definition for deployments\n\nFor legacy deployment tasks we construct them here in tripleo-common. In\norder to disable inject facts, we need to fix this here too.\n\nChange-Id: I776192717798c9fc3f02c4d358bebed2bada3593\nRelated-Bug: #1915761\n'}]",0,776971,6af709a65e7814209e5e44f8de14f28c3badc81d,13,4,2,14985,,,0,"Fix fact definition for deployments

For legacy deployment tasks we construct them here in tripleo-common. In
order to disable inject facts, we need to fix this here too.

Change-Id: I776192717798c9fc3f02c4d358bebed2bada3593
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/776971/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,3acf6b9dfcdb4f7fcc6f08657b22c09d0c3a3286,ansible-facts," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"""," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}""",4,4
openstack%2Fkolla-ansible~master~I5a630109e3c4b59bff216146a3ed64c6d47e247f,openstack/kolla-ansible,master,I5a630109e3c4b59bff216146a3ed64c6d47e247f,Use trove.conf  for all trove services,MERGED,2020-11-18 14:19:47.000000000,2021-02-23 01:28:10.000000000,2021-02-22 12:57:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-18 14:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b730ee633a2fecb348474ee53a681773164720d4', 'message': 'Use trove.conf  for all trove services\n\nit was confused to customize opts in trove.conf.\nif we want to customize a opts,The operator needs\nto know which service is using the configuration opts.\nactually trove uses trove.conf is enough for all services\nthis change combines  all trove config files.\n\nChange-Id: I5a630109e3c4b59bff216146a3ed64c6d47e247f\n'}, {'number': 2, 'created': '2021-02-03 16:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13a9ea769c28006ddd07945198251c367fd41a8e', 'message': 'Use trove.conf  for all trove services\n\nit was confused to customize opts in trove-conductor.conf\nor trove-taskmanager.conf now.\nif we want to customize a opts,The operator needs\nto know which service is using the configuration opts.\nactually trove uses trove.conf is enough for all services\nthis change combines  all trove config files.\n\nChange-Id: I5a630109e3c4b59bff216146a3ed64c6d47e247f\n'}, {'number': 3, 'created': '2021-02-19 14:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e17e592f998090069bcfb6048b15c8a8ad008a8', 'message': 'Use trove.conf  for all trove services\n\nit was confused to customize opts in trove-conductor.conf\nor trove-taskmanager.conf now.\nif we want to customize a opts,The operator needs\nto know which service is using the configuration opts.\nactually trove uses trove.conf is enough for all services\nthis change combines  all trove config files.\n\nChange-Id: I5a630109e3c4b59bff216146a3ed64c6d47e247f\n'}, {'number': 4, 'created': '2021-02-20 14:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79f2efae451437ab29b5f85d20bdd32073e6d096', 'message': 'Use trove.conf  for all trove services\n\nit was confused to customize opts in trove-conductor.conf\nor trove-taskmanager.conf now.\nif we want to customize a opts,The operator needs\nto know which service is using the configuration opts.\nactually trove uses trove.conf is enough for all services\nthis change combines  all trove config files.\n\nChange-Id: I5a630109e3c4b59bff216146a3ed64c6d47e247f\n'}, {'number': 5, 'created': '2021-02-20 15:03:31.000000000', 'files': ['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'releasenotes/notes/combine_trove_config_files-ff3d37440a472a82.yaml', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2', 'ansible/roles/trove/templates/trove-conductor.json.j2', 'ansible/roles/trove/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5671543955142959530796a721d03b21b6bc52a', 'message': 'Use trove.conf  for all trove services\n\nit was confused to customize opts in trove-conductor.conf\nor trove-taskmanager.conf now.\nif we want to customize a opts,The operator needs\nto know which service is using the configuration opts.\nactually trove uses trove.conf is enough for all services\nthis change combines  all trove config files.\n\nChange-Id: I5a630109e3c4b59bff216146a3ed64c6d47e247f\n'}]",8,763191,b5671543955142959530796a721d03b21b6bc52a,26,4,5,26285,,,0,"Use trove.conf  for all trove services

it was confused to customize opts in trove-conductor.conf
or trove-taskmanager.conf now.
if we want to customize a opts,The operator needs
to know which service is using the configuration opts.
actually trove uses trove.conf is enough for all services
this change combines  all trove config files.

Change-Id: I5a630109e3c4b59bff216146a3ed64c6d47e247f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/763191/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2', 'ansible/roles/trove/templates/trove-conductor.json.j2', 'ansible/roles/trove/tasks/config.yml']",6,b730ee633a2fecb348474ee53a681773164720d4,change-763191-2,,"- name: Copying over trove conf files vars: services_need_confs: - trove-conductor - trove-taskmanager merge_configs: sources: - ""{{ role_path }}/templates/{{ item.key }}.conf.j2"" - ""{{ node_custom_config }}/global.conf"" - ""{{ node_custom_config }}/{{ item.key }}.conf"" - ""{{ node_custom_config }}/trove/{{ item.key }}.conf"" - ""{{ node_custom_config }}/trove/{{ inventory_hostname }}/{{ item.key }}.conf"" dest: ""{{ node_config_directory }}/{{ item.key }}/{{ item.key }}.conf"" mode: ""0660"" become: true when: - item.key in services_need_confs - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ trove_services }}"" notify: - ""Restart {{ item.key }} container"" ",18,138
openstack%2Fopenstack-helm-infra~master~Ibc1d5fb2710f263face6c93fe072fdb6594b5a33,openstack/openstack-helm-infra,master,Ibc1d5fb2710f263face6c93fe072fdb6594b5a33,Update falco chart release notes to latest,MERGED,2021-02-08 22:11:47.000000000,2021-02-23 01:26:13.000000000,2021-02-23 01:24:03.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 22:11:47.000000000', 'files': ['releasenotes/notes/falco.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5a4e1045143017805b070a20b807cf965ae6d6d', 'message': 'Update falco chart release notes to latest\n\nThis change updates the release notes for each update to the falco\nchart as of this patchset.\n\nChange-Id: Ibc1d5fb2710f263face6c93fe072fdb6594b5a33\n'}]",0,774551,f5a4e1045143017805b070a20b807cf965ae6d6d,10,5,1,21420,,,0,"Update falco chart release notes to latest

This change updates the release notes for each update to the falco
chart as of this patchset.

Change-Id: Ibc1d5fb2710f263face6c93fe072fdb6594b5a33
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/774551/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/falco.yaml'],1,f5a4e1045143017805b070a20b807cf965ae6d6d,falco-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Update to container image repo k8s.gcr.io",,2,0
openstack%2Fopenstack-helm-infra~master~I05d572985026704648e132bf58ea66b8a3f9c65b,openstack/openstack-helm-infra,master,I05d572985026704648e132bf58ea66b8a3f9c65b,Update etcd chart release notes to latest,MERGED,2021-02-16 22:25:21.000000000,2021-02-23 01:25:12.000000000,2021-02-23 01:23:58.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 22:25:21.000000000', 'files': ['releasenotes/notes/etcd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/85ad214490ab92ada5d6686c10aadd41391c9856', 'message': 'Update etcd chart release notes to latest\n\nThis change updates the release notes for each update to the etcd\nchart as of this patchset.\n\nChange-Id: I05d572985026704648e132bf58ea66b8a3f9c65b\n'}]",0,775941,85ad214490ab92ada5d6686c10aadd41391c9856,9,4,1,21420,,,0,"Update etcd chart release notes to latest

This change updates the release notes for each update to the etcd
chart as of this patchset.

Change-Id: I05d572985026704648e132bf58ea66b8a3f9c65b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/775941/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/etcd.yaml'],1,85ad214490ab92ada5d6686c10aadd41391c9856,etcd-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Update to container image repo k8s.gcr.io",,2,0
openstack%2Fironic~master~Id8365f150f8f5828b99627e1f31b0bc30f3a28f2,openstack/ironic,master,Id8365f150f8f5828b99627e1f31b0bc30f3a28f2,"Implement ""system"" scoped RBAC for the node endpoint",MERGED,2020-11-18 20:18:39.000000000,2021-02-23 01:20:27.000000000,2021-02-23 01:18:36.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 20:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/58fbc0fc4e7bf89883b80d14a46f0cbfad85d82f', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 2, 'created': '2020-11-18 20:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5697c7ef98d78244b6a5d57414f888edd873f903', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 3, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f737684fbb8b7b3255ca13086f2fee438f1a355d', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 4, 'created': '2021-01-08 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc0a480d16e7206f8dbb62df82a7faa80f72d5f2', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 5, 'created': '2021-01-14 23:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee3a95839c791db9d399651312d38145a02edd41', 'message': 'WIP Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 6, 'created': '2021-01-14 23:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa3badecebbd885e51172ab3e14f1e52a9b4b6eb', 'message': 'WIP Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 7, 'created': '2021-01-16 00:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/179b5a7856c8bfbcfb6c29c49753995b2b6029d8', 'message': 'WIP Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 8, 'created': '2021-01-20 01:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05647758f4b823a690bd00a5b13c992a14e1e7fc', 'message': 'WIP Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 9, 'created': '2021-01-20 14:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b5bf73d7e140c62859e4ccad7f3464eb23a628e', 'message': 'WIP Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand scope\nchecking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 10, 'created': '2021-01-20 19:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c73e91e0188db06f63bb42d914e197e1a2078e2c', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 11, 'created': '2021-01-20 19:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f867d6f9699439ee0b2c1e31b4a826584c32d2f', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 12, 'created': '2021-01-22 20:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5da8c042de1e645045cc80d027834f90cd4d78be', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 13, 'created': '2021-02-02 00:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/adab329fef25ba32b82085f05843951fbeab775a', 'message': 'Implement secure RBAC for baremetal nodes\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 14, 'created': '2021-02-11 18:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17841a0e79db6cc03f1482ebe18f81e74e09db9b', 'message': 'WIP Implement ""system"" scoped RBAC for the node endpoint\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 15, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3883216a160cbe2a4532d3d491cfbdb08f6eb5b8', 'message': 'Implement ""system"" scoped RBAC for the node endpoint\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 16, 'created': '2021-02-12 15:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1bfefae05e226db3e7ef6b2f4a1c8df07fe7d739', 'message': 'Implement ""system"" scoped RBAC for the node endpoint\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}, {'number': 17, 'created': '2021-02-22 13:58:23.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b0d8d14065ba5495c5f5b6b811d55a99b5a11cb5', 'message': 'Implement ""system"" scoped RBAC for the node endpoint\n\nThis commit updates the policies for baremetal nodes to understand\nscope checking and account for a member or read-only role.\n\nThis is part of a broader series of changes across OpenStack\nto provide a consistent RBAC experience and improve security.\n\nThis change also implements basic testing of the RBAC interface, and\nmodifies the testing test_acl.py file to *both* delineate the tests\nto prevent yaml variable expansion collission as well as handle\ndeprecated ACL testing so we can track our way through the API\nand disable deprecated tests from providing false errors.\n\nA notable difference between the testing is that members in the\nsystem role *have* rights under the system scope. Members accounts\nmay be services such as nova-compute running the nova.virt.ironic\ndriver.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2\n'}]",39,763257,b0d8d14065ba5495c5f5b6b811d55a99b5a11cb5,102,9,17,5046,,,0,"Implement ""system"" scoped RBAC for the node endpoint

This commit updates the policies for baremetal nodes to understand
scope checking and account for a member or read-only role.

This is part of a broader series of changes across OpenStack
to provide a consistent RBAC experience and improve security.

This change also implements basic testing of the RBAC interface, and
modifies the testing test_acl.py file to *both* delineate the tests
to prevent yaml variable expansion collission as well as handle
deprecated ACL testing so we can track our way through the API
and disable deprecated tests from providing false errors.

A notable difference between the testing is that members in the
system role *have* rights under the system scope. Members accounts
may be services such as nova-compute running the nova.virt.ironic
driver.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>
Change-Id: Id8365f150f8f5828b99627e1f31b0bc30f3a28f2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/763257/7 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,58fbc0fc4e7bf89883b80d14a46f0cbfad85d82f,secure-rbac,"from oslo_log import versionutilsdeprecated_node_create = policy.DeprecatedRule( name='baremetal:node:create', check_str='rule:is_admin' ) deprecated_node_get = policy.DeprecatedRule( name='baremetal:node:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_list = policy.DeprecatedRule( name='baremetal:node:list', check_str='rule:baremetal:node:get' ) deprecated_node_list_all = policy.DeprecatedRule( name='baremetal:node:list_all', check_str='rule:baremetal:node:get' ) deprecated_node_update = policy.DeprecatedRule( name='baremetal:node:update', check_str='rule:is_admin' ) deprecated_node_update_extra = policy.DeprecatedRule( name='baremetal:node:update_extra', check_str='rule:baremetal:node:update' ) deprecated_node_update_instance_info = policy.DeprecatedRule( name='baremetal:node:update_instance_info', check_str='rule:baremetal:node:update' ) deprecated_node_update_owner_provisioned = policy.DeprecatedRule( name='baremetal:node:update_owner_provisioned', check_str='rule:is_admin' ) deprecated_node_delete = policy.DeprecatedRule( name='baremetal:node:delete', check_str='rule:is_admin' ) deprecated_node_validate = policy.DeprecatedRule( name='baremetal:node:validate', check_str='rule:is_admin' ) deprecated_node_set_maintenance = policy.DeprecatedRule( name='baremetal:node:set_maintenance', check_str='rule:is_admin' ) deprecated_node_clear_maintenance = policy.DeprecatedRule( name='baremetal:node:clear_maintenance', check_str='rule:is_admin' ) deprecated_node_get_boot_device = policy.DeprecatedRule( name='baremetal:node:get_boot_device', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_set_boot_device = policy.DeprecatedRule( name='baremetal:node:set_boot_device', check_str='rule:is_admin' ) deprecated_node_get_indicator_state = policy.DeprecatedRule( name='baremetal:node:get_indicator_state', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_set_indicator_state = policy.DeprecatedRule( name='baremetal:node:set_indicator_state', check_str='rule:is_admin' ) deprecated_node_inject_nmi = policy.DeprecatedRule( name='baremetal:node:inject_nmi', check_str='rule:is_admin' ) deprecated_node_get_states = policy.DeprecatedRule( name='baremetal:node:get_states', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_set_power_state = policy.DeprecatedRule( name='baremetal:node:set_power_state', check_str='rule:is_admin' ) deprecated_node_set_provision_state = policy.DeprecatedRule( name='baremetal:node:set_provision_state', check_str='rule:is_admin' ) deprecated_node_set_raid_state = policy.DeprecatedRule( name='baremetal:node:set_raid_state', check_str='rule:is_admin' ) deprecated_node_get_console = policy.DeprecatedRule( name='baremetal:node:get_console', check_str='rule:is_admin' ) deprecated_node_set_console_state = policy.DeprecatedRule( name='baremetal:node:set_console_state', check_str='rule:is_admin' ) deprecated_node_vif_list = policy.DeprecatedRule( name='baremetal:node:vif:list', check_str='rule:is_admin' ) deprecated_node_vif_attach = policy.DeprecatedRule( name='baremetal:node:vif:attach', check_str='rule:is_admin' ) deprecated_node_vif_detach = policy.DeprecatedRule( name='baremetal:node:vif:detach', check_str='rule:is_admin' ) deprecated_node_traits_list = policy.DeprecatedRule( name='baremetal:node:traits:list', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_traits_set = policy.DeprecatedRule( name='baremetal:node:traits:set', check_str='rule:is_admin' ) deprecated_node_traits_delete = policy.DeprecatedRule( name='baremetal:node:traits:delete', check_str='rule:is_admin' ) deprecated_node_bios_get = policy.DeprecatedRule( name='baremetal:node:bios:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_reason = """""" The baremetal node API is now aware of system scope and default roles. """""" name='baremetal:node:create', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Create Node records', operations=[{'path': '/nodes', 'method': 'POST'}], deprecated_rule=deprecated_node_create, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve a single Node record', operations=[{'path': '/nodes/{node_ident}', 'method': 'GET'}], deprecated_rule=deprecated_node_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:list', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve multiple Node records, filtered by owner', operations=[{'path': '/nodes', 'method': 'GET'}, {'path': '/nodes/detail', 'method': 'GET'}], deprecated_rule=deprecated_node_list, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:list_all', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve multiple Node records', operations=[{'path': '/nodes', 'method': 'GET'}, {'path': '/nodes/detail', 'method': 'GET'}], deprecated_rule=deprecated_node_list_all, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:update', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Node records', operations=[{'path': '/nodes/{node_ident}', 'method': 'PATCH'}], deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:update_extra', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Node extra field', operations=[{'path': '/nodes/{node_ident}', 'method': 'PATCH'}], deprecated_rule=deprecated_node_update_extra, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:update_instance_info', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Node instance_info field', operations=[{'path': '/nodes/{node_ident}', 'method': 'PATCH'}], deprecated_rule=deprecated_node_update_instance_info, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:update_owner_provisioned', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Node owner even when Node is provisioned', operations=[{'path': '/nodes/{node_ident}', 'method': 'PATCH'}], deprecated_rule=deprecated_node_update_owner_provisioned, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Delete Node records', operations=[{'path': '/nodes/{node_ident}', 'method': 'DELETE'}], deprecated_rule=deprecated_node_delete, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:validate', check_str=SYSTEM_READER, scope_types=['system'], description='Request active validation of Nodes', operations=[ {'path': '/nodes/{node_ident}/validate', 'method': 'GET'} ], deprecated_rule=deprecated_node_validate, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:set_maintenance', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Set maintenance flag, taking a Node out of service', operations=[ {'path': '/nodes/{node_ident}/maintenance', 'method': 'PUT'} ], deprecated_rule=deprecated_node_set_maintenance, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:clear_maintenance', check_str=SYSTEM_ADMIN, scope_types=['system'], description=( 'Clear maintenance flag, placing the Node into service again' ), operations=[ {'path': '/nodes/{node_ident}/maintenance', 'method': 'DELETE'} ], deprecated_rule=deprecated_node_clear_maintenance, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:get_boot_device', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Node boot device metadata', operations=[ {'path': '/nodes/{node_ident}/management/boot_device', 'method': 'GET'}, {'path': '/nodes/{node_ident}/management/boot_device/supported', 'method': 'GET'} ], deprecated_rule=deprecated_node_get_boot_device, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:set_boot_device', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Change Node boot device', operations=[ {'path': '/nodes/{node_ident}/management/boot_device', 'method': 'PUT'} ], deprecated_rule=deprecated_node_set_maintenance, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:get_indicator_state', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Node indicators and their states', operations=[ {'path': '/nodes/{node_ident}/management/indicators/' '{component}/{indicator}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/management/indicators', 'method': 'GET'} ], deprecated_rule=deprecated_node_get_indicator_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:set_indicator_state', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Change Node indicator state', operations=[ {'path': '/nodes/{node_ident}/management/indicators/' '{component}/{indicator}', 'method': 'PUT'} ], deprecated_rule=deprecated_node_set_indicator_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:inject_nmi', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Inject NMI for a node', operations=[ {'path': '/nodes/{node_ident}/management/inject_nmi', 'method': 'PUT'} ], deprecated_rule=deprecated_node_inject_nmi, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:get_states', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='View Node power and provision state', operations=[{'path': '/nodes/{node_ident}/states', 'method': 'GET'}], deprecated_rule=deprecated_node_get_states, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:set_power_state', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Change Node power status', operations=[ {'path': '/nodes/{node_ident}/states/power', 'method': 'PUT'} ], deprecated_rule=deprecated_node_set_power_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:set_provision_state', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Change Node provision status', operations=[ {'path': '/nodes/{node_ident}/states/provision', 'method': 'PUT'} ], deprecated_rule=deprecated_node_set_provision_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:set_raid_state', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Change Node RAID status', operations=[ {'path': '/nodes/{node_ident}/states/raid', 'method': 'PUT'} ], deprecated_rule=deprecated_node_set_raid_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:get_console', check_str=SYSTEM_READER, scope_types=['system'], description='Get Node console connection information', operations=[ {'path': '/nodes/{node_ident}/states/console', 'method': 'GET'} ], deprecated_rule=deprecated_node_get_console, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:set_console_state', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Change Node console status', operations=[ {'path': '/nodes/{node_ident}/states/console', 'method': 'PUT'} ], deprecated_rule=deprecated_node_set_console_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:vif:list', check_str=SYSTEM_READER, scope_types=['system'], description='List VIFs attached to node', operations=[{'path': '/nodes/{node_ident}/vifs', 'method': 'GET'}], deprecated_rule=deprecated_node_vif_list, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:vif:attach', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Attach a VIF to a node', operations=[{'path': '/nodes/{node_ident}/vifs', 'method': 'POST'}], deprecated_rule=deprecated_node_vif_attach, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:vif:detach', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Detach a VIF from a node', operations=[ {'path': '/nodes/{node_ident}/vifs/{node_vif_ident}', 'method': 'DELETE'} ], deprecated_rule=deprecated_node_vif_detach, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:traits:list', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='List node traits', operations=[{'path': '/nodes/{node_ident}/traits', 'method': 'GET'}], deprecated_rule=deprecated_node_traits_list, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:traits:set', check_str=SYSTEM_ADMIN, scope_types=['system'], description='List node traits', description='Add a trait to, or replace all traits of, a node', operations=[ {'path': '/nodes/{node_ident}/traits', 'method': 'PUT'}, {'path': '/nodes/{node_ident}/traits/{trait}', 'method': 'PUT'} ], deprecated_rule=deprecated_node_traits_set, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:traits:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Remove one or all traits from a node', operations=[ {'path': '/nodes/{node_ident}/traits', 'method': 'DELETE'}, {'path': '/nodes/{node_ident}/traits/{trait}', 'method': 'DELETE'} ], deprecated_rule=deprecated_node_traits_delete, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:node:bios:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Node BIOS information', operations=[ {'path': '/nodes/{node_ident}/bios', 'method': 'GET'}, {'path': '/nodes/{node_ident}/bios/{setting}', 'method': 'GET'} ], deprecated_rule=deprecated_node_bios_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY )"," 'baremetal:node:create', 'rule:is_admin', 'Create Node records', [{'path': '/nodes', 'method': 'POST'}]), 'baremetal:node:get', 'rule:is_admin or rule:is_observer', 'Retrieve a single Node record', [{'path': '/nodes/{node_ident}', 'method': 'GET'}]), 'baremetal:node:list', 'rule:baremetal:node:get', 'Retrieve multiple Node records, filtered by owner', [{'path': '/nodes', 'method': 'GET'}, {'path': '/nodes/detail', 'method': 'GET'}]), 'baremetal:node:list_all', 'rule:baremetal:node:get', 'Retrieve multiple Node records', [{'path': '/nodes', 'method': 'GET'}, {'path': '/nodes/detail', 'method': 'GET'}]), 'baremetal:node:update', 'rule:is_admin', 'Update Node records', [{'path': '/nodes/{node_ident}', 'method': 'PATCH'}]), 'baremetal:node:update_extra', 'rule:baremetal:node:update', 'Update Node extra field', [{'path': '/nodes/{node_ident}', 'method': 'PATCH'}]), 'baremetal:node:update_instance_info', 'rule:baremetal:node:update', 'Update Node instance_info field', [{'path': '/nodes/{node_ident}', 'method': 'PATCH'}]), 'baremetal:node:update_owner_provisioned', 'rule:is_admin', 'Update Node owner even when Node is provisioned', [{'path': '/nodes/{node_ident}', 'method': 'PATCH'}]), 'baremetal:node:delete', 'rule:is_admin', 'Delete Node records', [{'path': '/nodes/{node_ident}', 'method': 'DELETE'}]), 'baremetal:node:validate', 'rule:is_admin', 'Request active validation of Nodes', [{'path': '/nodes/{node_ident}/validate', 'method': 'GET'}]), 'baremetal:node:set_maintenance', 'rule:is_admin', 'Set maintenance flag, taking a Node out of service', [{'path': '/nodes/{node_ident}/maintenance', 'method': 'PUT'}]), 'baremetal:node:clear_maintenance', 'rule:is_admin', 'Clear maintenance flag, placing the Node into service again', [{'path': '/nodes/{node_ident}/maintenance', 'method': 'DELETE'}]), 'baremetal:node:get_boot_device', 'rule:is_admin or rule:is_observer', 'Retrieve Node boot device metadata', [{'path': '/nodes/{node_ident}/management/boot_device', 'method': 'GET'}, {'path': '/nodes/{node_ident}/management/boot_device/supported', 'method': 'GET'}]), 'baremetal:node:set_boot_device', 'rule:is_admin', 'Change Node boot device', [{'path': '/nodes/{node_ident}/management/boot_device', 'method': 'PUT'}]), 'baremetal:node:get_indicator_state', 'rule:is_admin or rule:is_observer', 'Retrieve Node indicators and their states', [{'path': '/nodes/{node_ident}/management/indicators/' '{component}/{indicator}', 'method': 'GET'}, {'path': '/nodes/{node_ident}/management/indicators', 'method': 'GET'}]), 'baremetal:node:set_indicator_state', 'rule:is_admin', 'Change Node indicator state', [{'path': '/nodes/{node_ident}/management/indicators/' '{component}/{indicator}', 'method': 'PUT'}]), 'baremetal:node:inject_nmi', 'rule:is_admin', 'Inject NMI for a node', [{'path': '/nodes/{node_ident}/management/inject_nmi', 'method': 'PUT'}]), 'baremetal:node:get_states', 'rule:is_admin or rule:is_observer', 'View Node power and provision state', [{'path': '/nodes/{node_ident}/states', 'method': 'GET'}]), 'baremetal:node:set_power_state', 'rule:is_admin', 'Change Node power status', [{'path': '/nodes/{node_ident}/states/power', 'method': 'PUT'}]), 'baremetal:node:set_provision_state', 'rule:is_admin', 'Change Node provision status', [{'path': '/nodes/{node_ident}/states/provision', 'method': 'PUT'}]), 'baremetal:node:set_raid_state', 'rule:is_admin', 'Change Node RAID status', [{'path': '/nodes/{node_ident}/states/raid', 'method': 'PUT'}]), 'baremetal:node:get_console', 'rule:is_admin', 'Get Node console connection information', [{'path': '/nodes/{node_ident}/states/console', 'method': 'GET'}]), 'baremetal:node:set_console_state', 'rule:is_admin', 'Change Node console status', [{'path': '/nodes/{node_ident}/states/console', 'method': 'PUT'}]), 'baremetal:node:vif:list', 'rule:is_admin', 'List VIFs attached to node', [{'path': '/nodes/{node_ident}/vifs', 'method': 'GET'}]), 'baremetal:node:vif:attach', 'rule:is_admin', 'Attach a VIF to a node', [{'path': '/nodes/{node_ident}/vifs', 'method': 'POST'}]), 'baremetal:node:vif:detach', 'rule:is_admin', 'Detach a VIF from a node', [{'path': '/nodes/{node_ident}/vifs/{node_vif_ident}', 'method': 'DELETE'}]), 'baremetal:node:traits:list', 'rule:is_admin or rule:is_observer', 'List node traits', [{'path': '/nodes/{node_ident}/traits', 'method': 'GET'}]), 'baremetal:node:traits:set', 'rule:is_admin', 'Add a trait to, or replace all traits of, a node', [{'path': '/nodes/{node_ident}/traits', 'method': 'PUT'}, {'path': '/nodes/{node_ident}/traits/{trait}', 'method': 'PUT'}]), 'baremetal:node:traits:delete', 'rule:is_admin', 'Remove one or all traits from a node', [{'path': '/nodes/{node_ident}/traits', 'method': 'DELETE'}, {'path': '/nodes/{node_ident}/traits/{trait}', 'method': 'DELETE'}]), 'baremetal:node:bios:get', 'rule:is_admin or rule:is_observer', 'Retrieve Node BIOS information', [{'path': '/nodes/{node_ident}/bios', 'method': 'GET'}, {'path': '/nodes/{node_ident}/bios/{setting}', 'method': 'GET'}])",451,138
openstack%2Fopenstack-helm-infra~master~I8df89f931172fb4943a2ab465d8bb558cbff5d3d,openstack/openstack-helm-infra,master,I8df89f931172fb4943a2ab465d8bb558cbff5d3d,Update calico chart release notes to latest,MERGED,2021-02-16 22:14:45.000000000,2021-02-23 01:19:56.000000000,2021-02-23 01:18:29.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 22:14:45.000000000', 'files': ['releasenotes/notes/calico.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e35d430b1d72b4e691edbda513713ace09679d1d', 'message': 'Update calico chart release notes to latest\n\nThis change updates the release notes for each update to the calico\nchart as of this patchset.\n\nChange-Id: I8df89f931172fb4943a2ab465d8bb558cbff5d3d\n'}]",0,775939,e35d430b1d72b4e691edbda513713ace09679d1d,10,4,1,21420,,,0,"Update calico chart release notes to latest

This change updates the release notes for each update to the calico
chart as of this patchset.

Change-Id: I8df89f931172fb4943a2ab465d8bb558cbff5d3d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/39/775939/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/calico.yaml'],1,e35d430b1d72b4e691edbda513713ace09679d1d,," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fneutron~stable%2Fvictoria~Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,openstack/neutron,stable/victoria,Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,Fix deletion of rfp interfaces when router is re-enabled,MERGED,2021-02-22 02:01:10.000000000,2021-02-23 00:53:27.000000000,2021-02-23 00:51:48.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 02:01:10.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7322ed2aefb4d18465449c405868310355b5312', 'message': 'Fix deletion of rfp interfaces when router is re-enabled\n\n1. When dvr router is disabled and enabled back, the rfp\ninterfaces are deleted on the nodes without snat-* namespace.\nThis is due to creation of snat namespace during router\ninitialization stage on all the nodes. At later stages, since\nthe gw_port_host is not bounded on this node, external gateway\nis removed which triggers removal of rfp interfaces and snat\nnamespace.\nCreate snat namespace only on the nodes where gw_port_host is\nbounded.\n\n2. In case of DVR SNAT, when the l3 agent is rescheduled to\nanother node, the rfp interfaces on qrouter-* namespace are\nremoved. Instead of calling external_gateway_removed() which\nfurther deletes the rfp interfaces, the qg-, sg- interfaces\nneed to be unplugged and snat namespace need to be deleted.\n\nCloses-Bug: #1894843\nChange-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe\n(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)\n'}]",0,776876,f7322ed2aefb4d18465449c405868310355b5312,14,3,1,10366,,,0,"Fix deletion of rfp interfaces when router is re-enabled

1. When dvr router is disabled and enabled back, the rfp
interfaces are deleted on the nodes without snat-* namespace.
This is due to creation of snat namespace during router
initialization stage on all the nodes. At later stages, since
the gw_port_host is not bounded on this node, external gateway
is removed which triggers removal of rfp interfaces and snat
namespace.
Create snat namespace only on the nodes where gw_port_host is
bounded.

2. In case of DVR SNAT, when the l3 agent is rescheduled to
another node, the rfp interfaces on qrouter-* namespace are
removed. Instead of calling external_gateway_removed() which
further deletes the rfp interfaces, the qg-, sg- interfaces
need to be unplugged and snat namespace need to be deleted.

Closes-Bug: #1894843
Change-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe
(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/776876/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py']",2,f7322ed2aefb4d18465449c405868310355b5312,bug/1894843-stable/victoria," self.driver.unplug(interface_name, namespace=self.snat_namespace.name, prefix=router.EXTERNAL_DEV_PREFIX) self.snat_namespace.delete() if self._is_this_snat_host(): self.snat_namespace.create()"," return self.external_gateway_removed( ex_gw_port, interface_name) self.snat_namespace.create() return self.snat_namespace",54,4
openstack%2Fswift~master~Id5c8b249755d9fbccfd35ab17009f4487bddb943,openstack/swift,master,Id5c8b249755d9fbccfd35ab17009f4487bddb943,Allow sending hashes by json in the reconstructor,ABANDONED,2021-02-16 03:18:26.000000000,2021-02-23 00:40:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-16 03:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f445c479c40ab7809869e4ba8ccce32c3b32cd3', 'message': 'Allow sending hashes by json in the replicator\n\nThis is a follow up patch to also allow the replicator to send hashes\nvia json. However there is a problem. The hashes.pkl format we\'ve\ndecided to use for EC doesn\'t nicely support json\'s definition of dicts.\n\nIn the json standard the keys in a dict will always be returned as a str.\nSo we can\'t have None or frag indexes as ints. So when json loads our hashes\njson back they wont come back as None and ints, ranther ""null"" and ""<int>"".\n\nI\'ve added a sanitize_json_dict method which sanitizes a json loaded\nhashes dict to fix these issues.\n\nChange-Id: Id5c8b249755d9fbccfd35ab17009f4487bddb943\n'}, {'number': 2, 'created': '2021-02-16 03:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d95d20f999304969da5ccff81d67c453d3b3d5eb', 'message': 'Allow sending hashes by json in the reconstructor\n\nThis is a follow up patch to also allow the reconstructor to send hashes\nvia json. However there is a problem. The hashes.pkl format we\'ve\ndecided to use for EC doesn\'t nicely support json\'s definition of dicts.\n\nIn the json standard the keys in a dict will always be returned as a str.\nSo we can\'t have None or frag indexes as ints. So when json loads our hashes\njson back they wont come back as None and ints, ranther ""null"" and ""<int>"".\n\nI\'ve added a sanitize_json_dict method which sanitizes a json loaded\nhashes dict to fix these issues.\n\nChange-Id: Id5c8b249755d9fbccfd35ab17009f4487bddb943\n'}, {'number': 3, 'created': '2021-02-16 05:35:15.000000000', 'files': ['swift/obj/reconstructor.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5e0cc5855d069c117c1d69b225fa7933fbba132b', 'message': 'Allow sending hashes by json in the reconstructor\n\nThis is a follow up patch to also allow the reconstructor to send hashes\nvia json. However there is a problem. The hashes.pkl format we\'ve\ndecided to use for EC doesn\'t nicely support json\'s definition of dicts.\n\nIn the json standard the keys in a dict will always be returned as a str.\nSo we can\'t have None or frag indexes as ints. So when json loads our hashes\njson back they wont come back as None and ints, ranther ""null"" and ""<int>"".\n\nI\'ve added a sanitize_json_dict method which sanitizes a json loaded\nhashes dict to fix these issues.\n\nChange-Id: Id5c8b249755d9fbccfd35ab17009f4487bddb943\n'}]",13,775731,5e0cc5855d069c117c1d69b225fa7933fbba132b,11,1,3,7233,,,0,"Allow sending hashes by json in the reconstructor

This is a follow up patch to also allow the reconstructor to send hashes
via json. However there is a problem. The hashes.pkl format we've
decided to use for EC doesn't nicely support json's definition of dicts.

In the json standard the keys in a dict will always be returned as a str.
So we can't have None or frag indexes as ints. So when json loads our hashes
json back they wont come back as None and ints, ranther ""null"" and ""<int>"".

I've added a sanitize_json_dict method which sanitizes a json loaded
hashes dict to fix these issues.

Change-Id: Id5c8b249755d9fbccfd35ab17009f4487bddb943
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/775731/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'test/unit/obj/test_reconstructor.py']",2,6f445c479c40ab7809869e4ba8ccce32c3b32cd3,json-hashes," def do_test(headers=None, body=None): rehash_per_job_type = {SYNC: 1, REVERT: 0} self.reconstructor._reset_stats() with mock_ssync_sender(): found_jobs = [] for part_info in self.reconstructor.collect_parts(): jobs = self.reconstructor.build_reconstruction_jobs( part_info) found_jobs.extend(jobs) for job in jobs: self.logger._clear() node_count = len(job['sync_to']) rehash_count = node_count * rehash_per_job_type[ job['job_type']] with mocked_http_conn(*[200] * rehash_count, body=body, headers=headers): self.reconstructor.process_job(job) if job['job_type'] == object_reconstructor.REVERT: self.assertStatCount('update_stats', 'suffix.hashes', 0) else: self.assertStatCount('update_stats', 'suffix.hashes', node_count) self.assertStatCount('update_stats', 'suffix.syncs', node_count) self.assertNotIn('error', self.logger.all_log_lines()) self.assertEqual( dict(collections.Counter((job['device'], job['partition'], job['frag_index'], job['job_type']) for job in found_jobs)), {('sda1', 0, 1, SYNC): 1, ('sda1', 0, 2, REVERT): 1, ('sda1', 1, 0, REVERT): 1, ('sda1', 1, 1, REVERT): 1, ('sda1', 1, 4, SYNC): 1, ('sda1', 2, 0, REVERT): 1, ('sda1', 2, 2, REVERT): 1}) self.assertEqual(self.reconstructor.suffix_sync, 12) self.assertEqual(self.reconstructor.suffix_count, 12) self.assertEqual(self.reconstructor.reconstruction_count, 7) # First test with pickle do_test({}, pickle.dumps({})) # Then with json do_test({'Content-Type': 'application/json'}, json.dumps({})) # Any other content-type is be pickled do_test({'Content-Type': 'application/xml'}, pickle.dumps({})) def do_test(headers, remote_serialization): part_path = os.path.join(self.devices, self.local_dev['device'], diskfile.get_data_dir(self.policy), '1') utils.mkdirs(part_path) part_info = { 'local_dev': self.local_dev, 'policy': self.policy, 'partition': 1, 'part_path': part_path, } jobs = self.reconstructor.build_reconstruction_jobs(part_info) self.assertEqual(1, len(jobs)) job = jobs[0] node = job['sync_to'][0] local_hashes = { '123': {job['frag_index']: 'hash', None: 'hash'}, 'abc': {job['frag_index']: 'hash', None: 'hash'}, } self.assertEqual(node['index'], self.policy.object_ring.replicas - 1) remote_index = self.policy.get_backend_index(node['index']) remote_hashes = { '123': {remote_index: 'hash', None: 'hash'}, 'abc': {remote_index: 'hash', None: 'hash'}, } remote_response = remote_serialization(remote_hashes) with mock.patch('swift.obj.diskfile.ECDiskFileManager._get_hashes', return_value=(None, local_hashes)), \ mocked_http_conn(200, body=remote_response, headers=headers) as request_log: suffixes, new_node = self.reconstructor._get_suffixes_to_sync( job, node) self.assertEqual([node['replication_ip']], [r['ip'] for r in request_log.requests]) self.assertEqual(suffixes, []) self.assertEqual(new_node, node) # pickle works do_test({}, pickle.dumps) # json do_test({'Content-Type': 'application/json'}, json.dumps) # and again, this time with json job = { 'job_type': object_reconstructor.SYNC, 'frag_index': frag_index, 'suffixes': stub_hashes.keys(), 'sync_to': sync_to, 'partition': partition, 'path': part_path, 'hashes': stub_hashes, 'policy': self.policy, 'local_dev': self.local_dev, } responses = [(200, json.dumps(hashes), {'Content-Type': 'application/json'}) for hashes in ( left_hashes, right_hashes, far_hashes)] codes, body_iter, headers_iter = zip(*responses) ssync_calls = [] with mock_ssync_sender(ssync_calls), \ mock.patch('swift.obj.diskfile.ECDiskFileManager._get_hashes', return_value=(None, stub_hashes)), \ mocked_http_conn( *codes, body_iter=body_iter, headers_iter=headers_iter) \ as request_log: self.reconstructor.process_job(job) expected_suffix_calls = [ (sync_to[0]['ip'], '/%s/0' % sync_to[0]['device']), (sync_to[1]['ip'], '/%s/0' % sync_to[1]['device']), (sync_to[2]['ip'], '/%s/0' % sync_to[2]['device']), ] self.assertEqual(expected_suffix_calls, [(r['ip'], r['path']) for r in request_log.requests]) self.assertFalse(ssync_calls) "," rehash_per_job_type = {SYNC: 1, REVERT: 0} self.reconstructor._reset_stats() with mock_ssync_sender(): found_jobs = [] for part_info in self.reconstructor.collect_parts(): jobs = self.reconstructor.build_reconstruction_jobs( part_info) found_jobs.extend(jobs) for job in jobs: self.logger._clear() node_count = len(job['sync_to']) rehash_count = node_count * rehash_per_job_type[ job['job_type']] with mocked_http_conn(*[200] * rehash_count, body=pickle.dumps({})): self.reconstructor.process_job(job) if job['job_type'] == object_reconstructor.REVERT: self.assertStatCount('update_stats', 'suffix.hashes', 0) else: self.assertStatCount('update_stats', 'suffix.hashes', node_count) self.assertStatCount('update_stats', 'suffix.syncs', node_count) self.assertNotIn('error', self.logger.all_log_lines()) self.assertEqual( dict(collections.Counter((job['device'], job['partition'], job['frag_index'], job['job_type']) for job in found_jobs)), {('sda1', 0, 1, SYNC): 1, ('sda1', 0, 2, REVERT): 1, ('sda1', 1, 0, REVERT): 1, ('sda1', 1, 1, REVERT): 1, ('sda1', 1, 4, SYNC): 1, ('sda1', 2, 0, REVERT): 1, ('sda1', 2, 2, REVERT): 1}) self.assertEqual(self.reconstructor.suffix_sync, 12) self.assertEqual(self.reconstructor.suffix_count, 12) self.assertEqual(self.reconstructor.reconstruction_count, 7) part_path = os.path.join(self.devices, self.local_dev['device'], diskfile.get_data_dir(self.policy), '1') utils.mkdirs(part_path) part_info = { 'local_dev': self.local_dev, 'policy': self.policy, 'partition': 1, 'part_path': part_path, } jobs = self.reconstructor.build_reconstruction_jobs(part_info) self.assertEqual(1, len(jobs)) job = jobs[0] node = job['sync_to'][0] local_hashes = { '123': {job['frag_index']: 'hash', None: 'hash'}, 'abc': {job['frag_index']: 'hash', None: 'hash'}, } self.assertEqual(node['index'], self.policy.object_ring.replicas - 1) remote_index = self.policy.get_backend_index(node['index']) remote_hashes = { '123': {remote_index: 'hash', None: 'hash'}, 'abc': {remote_index: 'hash', None: 'hash'}, } remote_response = pickle.dumps(remote_hashes) with mock.patch('swift.obj.diskfile.ECDiskFileManager._get_hashes', return_value=(None, local_hashes)), \ mocked_http_conn(200, body=remote_response) as request_log: suffixes, new_node = self.reconstructor._get_suffixes_to_sync( job, node) self.assertEqual([node['replication_ip']], [r['ip'] for r in request_log.requests]) self.assertEqual(suffixes, []) self.assertEqual(new_node, node)",153,74
openstack%2Fneutron~stable%2Fstein~I582b8bb60c006818842cc8c10ece955162b8eda9,openstack/neutron,stable/stein,I582b8bb60c006818842cc8c10ece955162b8eda9,DNM: testing stein cap,ABANDONED,2021-02-21 00:18:37.000000000,2021-02-23 00:28:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-21 00:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d52b18cdbd7ad31c3fa63d6db56aec41db0d45f3', 'message': 'DNM: testing stein cap\n\nDepends-On: I36799ee9d4db20104377e2772c86229b8083448d\nChange-Id: I582b8bb60c006818842cc8c10ece955162b8eda9\n'}, {'number': 2, 'created': '2021-02-22 14:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a8c8ed1b592317b2260a1c7ee6e88ba7664c33f', 'message': 'DNM: testing stein cap\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/775052\nChange-Id: I582b8bb60c006818842cc8c10ece955162b8eda9\n'}, {'number': 3, 'created': '2021-02-22 15:51:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d843d8f6680c876d81f36608acf4b67cc0f69667', 'message': 'DNM: testing stein cap\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/775052\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/774913\nChange-Id: I582b8bb60c006818842cc8c10ece955162b8eda9\n'}]",0,776815,d843d8f6680c876d81f36608acf4b67cc0f69667,11,1,3,8556,,,0,"DNM: testing stein cap

Depends-On: https://review.opendev.org/c/openstack/devstack/+/775052
Depends-On: https://review.opendev.org/c/openstack/tempest/+/774913
Change-Id: I582b8bb60c006818842cc8c10ece955162b8eda9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/776815/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d52b18cdbd7ad31c3fa63d6db56aec41db0d45f3,,#testing,,1,0
openstack%2Fnova~stable%2Fstein~Ibb1c8681e5aa56108ef3c9dd14c97d89886e06f3,openstack/nova,stable/stein,Ibb1c8681e5aa56108ef3c9dd14c97d89886e06f3,DNM: testing stein cap,ABANDONED,2021-02-21 01:48:33.000000000,2021-02-23 00:27:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-21 01:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/951db002f69bf366c028de24b8c85535de220da5', 'message': 'DNM: testing stein cap\n\nDepends-On: I36799ee9d4db20104377e2772c86229b8083448d\nChange-Id: Ibb1c8681e5aa56108ef3c9dd14c97d89886e06f3\n'}, {'number': 2, 'created': '2021-02-22 14:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52ea9703aa7ee56d9b1069fd191ee77c34df30d9', 'message': 'DNM: testing stein cap\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/775052\nChange-Id: Ibb1c8681e5aa56108ef3c9dd14c97d89886e06f3\n'}, {'number': 3, 'created': '2021-02-22 15:51:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6956abeb67f9e315198a991039f211fb784875b5', 'message': 'DNM: testing stein cap\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/775052\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/774913\nChange-Id: Ibb1c8681e5aa56108ef3c9dd14c97d89886e06f3\n'}]",0,776816,6956abeb67f9e315198a991039f211fb784875b5,13,1,3,8556,,,0,"DNM: testing stein cap

Depends-On: https://review.opendev.org/c/openstack/devstack/+/775052
Depends-On: https://review.opendev.org/c/openstack/tempest/+/774913
Change-Id: Ibb1c8681e5aa56108ef3c9dd14c97d89886e06f3
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/776816/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,951db002f69bf366c028de24b8c85535de220da5,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,openstack/puppet-tripleo,stable/victoria,I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,Add ability to specify memcached port,MERGED,2021-02-04 19:21:09.000000000,2021-02-23 00:13:00.000000000,2021-02-23 00:06:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-04 19:21:09.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/heat.pp', 'manifests/profile/base/swift.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'releasenotes/notes/add-memcached-port-048959c2f58f0a57.yaml', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3abadd4869bd2f9e341eeb38daf894ef71c7fe33', 'message': ""Add ability to specify memcached port\n\nThe port defaults to hiera('memcached_authtoken_port', 11211)\nfor authtoken middleware and hiera('memcached_port', 11211)\nfor other uses. Different ports might be set for security\nand performance tuning.\n\nChange-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78\n(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)\n""}]",0,774117,3abadd4869bd2f9e341eeb38daf894ef71c7fe33,14,6,1,14250,,,0,"Add ability to specify memcached port

The port defaults to hiera('memcached_authtoken_port', 11211)
for authtoken middleware and hiera('memcached_port', 11211)
for other uses. Different ports might be set for security
and performance tuning.

Change-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78
(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/774117/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/heat.pp', 'manifests/profile/base/swift.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'releasenotes/notes/add-memcached-port-048959c2f58f0a57.yaml', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp']",23,3abadd4869bd2f9e341eeb38daf894ef71c7fe33,memcached-cert-stable/victoria,"# [*memcached_port*] # (Optional) Memcached port to use. # Defaults to hiera('memcached_authtoken_port', 11211) # $memcached_port = hiera('memcached_authtoken_port', 11211), $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}""), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}"")"," $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211'), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211')",151,45
openstack%2Fansible-role-container-registry~master~I9e6e0a257d8abf844063b257b3d9026ec8c9ce6c,openstack/ansible-role-container-registry,master,I9e6e0a257d8abf844063b257b3d9026ec8c9ce6c,Use ansible_facts,MERGED,2021-02-20 23:22:31.000000000,2021-02-23 00:06:47.000000000,2021-02-23 00:06:47.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 23:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/97542844ca1cbbb70f858170844724fc0182a0d4', 'message': 'Use ansible_facts\n\nansible_facts should be used instead of the injected vars\n\nChange-Id: I9e6e0a257d8abf844063b257b3d9026ec8c9ce6c\n'}, {'number': 2, 'created': '2021-02-22 16:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/67837193963a68a9adb056b3108855c2a25f7890', 'message': 'Use ansible_facts\n\nansible_facts should be used instead of the injected vars\n\nChange-Id: I9e6e0a257d8abf844063b257b3d9026ec8c9ce6c\n'}, {'number': 3, 'created': '2021-02-22 19:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/82fd7dff5ef23efcbefe9a661f2596e6e340bb8c', 'message': 'Use ansible_facts\n\nansible_facts should be used instead of the injected vars\n\nChange-Id: I9e6e0a257d8abf844063b257b3d9026ec8c9ce6c\n'}, {'number': 4, 'created': '2021-02-22 19:16:39.000000000', 'files': ['tasks/install-engine.yml', 'tasks/docker.yml', 'tasks/docker-update.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/41c93a403dd720e505536836865342131193c6eb', 'message': 'Use ansible_facts\n\nansible_facts should be used instead of the injected vars\n\nChange-Id: I9e6e0a257d8abf844063b257b3d9026ec8c9ce6c\n'}]",0,776810,41c93a403dd720e505536836865342131193c6eb,16,4,4,14985,,,0,"Use ansible_facts

ansible_facts should be used instead of the injected vars

Change-Id: I9e6e0a257d8abf844063b257b3d9026ec8c9ce6c
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/10/776810/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install-engine.yml', 'tasks/docker.yml', 'tasks/docker-update.yml', 'handlers/main.yml']",4,97542844ca1cbbb70f858170844724fc0182a0d4,ansible-facts, when: ansible_facts['service_mgr'] == 'systemd', when: ansible_service_mgr == 'systemd',9,9
openstack%2Fansible-role-container-registry~master~I69bd204407bd53210492a67bb8f90504a480db11,openstack/ansible-role-container-registry,master,I69bd204407bd53210492a67bb8f90504a480db11,Fix CI,MERGED,2021-02-22 16:57:04.000000000,2021-02-23 00:06:28.000000000,2021-02-23 00:06:28.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 16:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/79a306cd048ae78c37db8099356490f5d981fcf2', 'message': 'Fix CI\n\nUpdate work with newer ansible-lint and address some linting issues.\n\nChange-Id: I69bd204407bd53210492a67bb8f90504a480db11\n'}, {'number': 2, 'created': '2021-02-22 19:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/30f1923aa7e38968beb17ce3880c9c2e81865cb4', 'message': 'Fix CI\n\nUpdate work with newer ansible-lint and address some linting issues.\n\nChange-Id: I69bd204407bd53210492a67bb8f90504a480db11\n'}, {'number': 3, 'created': '2021-02-22 19:16:39.000000000', 'files': ['tasks/docker.yml', 'zuul.d/playbooks/run.yml', 'molecule/login/playbook.yml', 'ci-scripts/ansible-lint.sh', 'tox.ini', 'meta/main.yml', '.ansible-lint', 'molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/063f15ec2a848f549f73c84a8dc5814732230559', 'message': 'Fix CI\n\nUpdate work with newer ansible-lint and address some linting issues.\n\nChange-Id: I69bd204407bd53210492a67bb8f90504a480db11\n'}]",0,776963,063f15ec2a848f549f73c84a8dc5814732230559,10,2,3,14985,,,0,"Fix CI

Update work with newer ansible-lint and address some linting issues.

Change-Id: I69bd204407bd53210492a67bb8f90504a480db11
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/63/776963/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/playbooks/run.yml', 'molecule/login/playbook.yml', 'ci-scripts/ansible-lint.sh', 'tox.ini', 'meta/main.yml', '.ansible-lint', 'molecule/default/playbook.yml']",7,79a306cd048ae78c37db8099356490f5d981fcf2,ansible-facts, tasks: - include_role: name: ansible-role-container-registry vars: container_registry_deploy_docker: true container_registry_deploy_docker_distribution: true, roles: - role: ansible-role-container-registry container_registry_deploy_docker: true container_registry_deploy_docker_distribution: true,25,34
openstack%2Ftripleo-ci~master~I1477b4aed27cd85df12809578768720068163a5c,openstack/tripleo-ci,master,I1477b4aed27cd85df12809578768720068163a5c,Move centos7 containers multinode train/queens to deprecated jobs,MERGED,2021-02-22 11:32:13.000000000,2021-02-23 00:06:24.000000000,2021-02-23 00:06:24.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-02-22 11:32:13.000000000', 'files': ['zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7390d5c54ae90edd68227250651c113ba9c9ab1c', 'message': 'Move centos7 containers multinode train/queens to deprecated jobs\n\nAs tracked at [1] and part of wider CI optimization, this moves the\nnon voting tripleo-ci-centos-7-containers-multinode-train -queens\njobs to deprecated and removes them from the zuul check and\nexperimental layout.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I1477b4aed27cd85df12809578768720068163a5c\n'}]",0,776920,7390d5c54ae90edd68227250651c113ba9c9ab1c,10,8,1,8449,,,0,"Move centos7 containers multinode train/queens to deprecated jobs

As tracked at [1] and part of wider CI optimization, this moves the
non voting tripleo-ci-centos-7-containers-multinode-train -queens
jobs to deprecated and removes them from the zuul check and
experimental layout.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I1477b4aed27cd85df12809578768720068163a5c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/776920/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml']",2,7390d5c54ae90edd68227250651c113ba9c9ab1c,tripleo-ci-reduce,, - tripleo-ci-centos-7-content-provider-train: dependencies: - openstack-tox-linters - tripleo-ci-centos-7-content-provider-queens: dependencies: - openstack-tox-linters - tripleo-ci-centos-7-containers-multinode-train: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-7-content-provider-train - tripleo-ci-centos-7-containers-multinode-queens: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-7-content-provider-queens - tripleo-ci-centos-7-containers-multinode-queens: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-7-content-provider-queens name: tripleo-ci-centos-7-containers-multinode-train parent: tripleo-ci-base-multinode timeout: 10800 voting: false branches: master override-checkout: 'stable/train' vars: branch_override: 'stable/train' nodes: 1ctlr featureset: '010' playbooks: - multinode.yml - job: - job: name: tripleo-ci-centos-7-containers-multinode-queens parent: tripleo-ci-base-multinode voting: false branches: master override-checkout: 'stable/queens' vars: branch_override: 'stable/queens' nodes: 1ctlr featureset: '010' playbooks: - multinode.yml ,27,49
openstack%2Fopenstack-helm-infra~master~Ia19ab49391b5aa57e773968187e4b187911ba293,openstack/openstack-helm-infra,master,Ia19ab49391b5aa57e773968187e4b187911ba293,Update nagios chart releasenotes to latest,MERGED,2021-02-20 03:06:08.000000000,2021-02-22 23:50:55.000000000,2021-02-22 23:48:35.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 03:06:08.000000000', 'files': ['releasenotes/notes/nagios.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7109130fe008b974c8d6532d5713beda837650ab', 'message': 'Update nagios chart releasenotes to latest\n\nThis change updates the releasenotes for the nagios chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: Ia19ab49391b5aa57e773968187e4b187911ba293\n'}]",0,776782,7109130fe008b974c8d6532d5713beda837650ab,11,6,1,30449,,,0,"Update nagios chart releasenotes to latest

This change updates the releasenotes for the nagios chart
to the latest version of the chart as of this patchset.

Change-Id: Ia19ab49391b5aa57e773968187e4b187911ba293
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/82/776782/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/nagios.yaml'],1,7109130fe008b974c8d6532d5713beda837650ab,nagios-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I40a5863c80489db8ea40028ffb6d89c43f6771d6,openstack/openstack-helm-infra,master,I40a5863c80489db8ea40028ffb6d89c43f6771d6,[ceph-osd] update rbac api version,MERGED,2021-02-21 04:03:33.000000000,2021-02-22 23:49:45.000000000,2021-02-22 23:48:30.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 30449}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-02-21 04:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01e29cccebe3daa46c3650248d4181ef91ca192f', 'message': '[ceph-osd] update rbac api version\n\nChange-Id: I40a5863c80489db8ea40028ffb6d89c43f6771d6\n'}, {'number': 2, 'created': '2021-02-21 04:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f64996650ebdfb52c52748576fc09a1d674b602', 'message': '[ceph-osd] update rbac api version\n\nChange-Id: I40a5863c80489db8ea40028ffb6d89c43f6771d6\n'}, {'number': 3, 'created': '2021-02-21 04:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6a4f55923d7369f9e9905a6bd196e930999db16', 'message': '[ceph-osd] update rbac api version\n\nWhen using a helm3 to deploy, it fails as helm 3\nno longer supports rbac.authorization.k8s.io/v1beta1,\nbut v1 can support helm2 and helm3.\n\nChange-Id: I40a5863c80489db8ea40028ffb6d89c43f6771d6\n'}, {'number': 4, 'created': '2021-02-21 04:50:11.000000000', 'files': ['ceph-osd/Chart.yaml', 'ceph-osd/templates/job-post-apply.yaml', 'releasenotes/notes/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2594e714881eddabdfdf689cae1a099517cc08e0', 'message': '[ceph-osd] update rbac api version\n\nWhen using a helm3 to deploy, it fails as helm 3\nno longer supports rbac.authorization.k8s.io/v1beta1,\nbut v1 can support helm2 and helm3 (liujinyuan@inspur.com).\n\nChange-Id: I40a5863c80489db8ea40028ffb6d89c43f6771d6\n'}]",0,776820,2594e714881eddabdfdf689cae1a099517cc08e0,13,5,4,18511,,,0,"[ceph-osd] update rbac api version

When using a helm3 to deploy, it fails as helm 3
no longer supports rbac.authorization.k8s.io/v1beta1,
but v1 can support helm2 and helm3 (liujinyuan@inspur.com).

Change-Id: I40a5863c80489db8ea40028ffb6d89c43f6771d6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/776820/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/Chart.yaml', 'ceph-osd/templates/job-post-apply.yaml']",2,01e29cccebe3daa46c3650248d4181ef91ca192f,,apiVersion: rbac.authorization.k8s.io/v1,apiVersion: rbac.authorization.k8s.io/v1beta1,2,2
openstack%2Fopenstack-helm-infra~master~Ia73de25f0691aff10c4716d77347f8333542d6da,openstack/openstack-helm-infra,master,Ia73de25f0691aff10c4716d77347f8333542d6da,Update openvswitch chart releasenotes to latest,MERGED,2021-02-20 03:18:36.000000000,2021-02-22 23:47:37.000000000,2021-02-22 23:44:46.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 03:18:36.000000000', 'files': ['releasenotes/notes/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5df471011304f4537cfda0cfda7bf48fdaf22af9', 'message': 'Update openvswitch chart releasenotes to latest\n\nThis change updates the releasenotes for the openvswitch chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: Ia73de25f0691aff10c4716d77347f8333542d6da\n'}]",0,776784,5df471011304f4537cfda0cfda7bf48fdaf22af9,11,6,1,30449,,,0,"Update openvswitch chart releasenotes to latest

This change updates the releasenotes for the openvswitch chart
to the latest version of the chart as of this patchset.

Change-Id: Ia73de25f0691aff10c4716d77347f8333542d6da
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/84/776784/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/openvswitch.yaml'],1,5df471011304f4537cfda0cfda7bf48fdaf22af9,openvswitch-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Unpin images built with osh-images - 0.1.3 Use HostToContainer mountPropagation",,3,0
openstack%2Fopenstack-helm-infra~master~Id897c7e10d0792b6df01c8a5e82e68cff2a99b0e,openstack/openstack-helm-infra,master,Id897c7e10d0792b6df01c8a5e82e68cff2a99b0e,Update reno script to work in other osh repos,MERGED,2021-02-18 01:43:37.000000000,2021-02-22 23:46:27.000000000,2021-02-22 23:42:39.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 01:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/342da87bb6cbefad8343c7a3f5fa02b02abb41b3', 'message': 'Update reno script to work in other osh repos\n\nThis change updates the releasenotes checking script in the linting\ngate to be able to be ran from other osh repos.\n\nChange-Id: Id897c7e10d0792b6df01c8a5e82e68cff2a99b0e\n'}, {'number': 2, 'created': '2021-02-18 19:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea2e2cab294570188731a2ee0fde5d7895e1f3c4', 'message': 'Update reno script to work in other osh repos\n\nThis change updates the releasenotes checking script in the linting\ngate to be able to be ran from other osh repos.\n\nChange-Id: Id897c7e10d0792b6df01c8a5e82e68cff2a99b0e\n'}, {'number': 3, 'created': '2021-02-22 19:46:19.000000000', 'files': ['playbooks/lint.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc1f3df145f26dc3805e190b6439ff9317361b8a', 'message': 'Update reno script to work in other osh repos\n\nThis change updates the releasenotes checking script in the linting\ngate to be able to be ran from other osh repos.\n\nChange-Id: Id897c7e10d0792b6df01c8a5e82e68cff2a99b0e\n'}]",1,776301,dc1f3df145f26dc3805e190b6439ff9317361b8a,16,4,3,21420,,,0,"Update reno script to work in other osh repos

This change updates the releasenotes checking script in the linting
gate to be able to be ran from other osh repos.

Change-Id: Id897c7e10d0792b6df01c8a5e82e68cff2a99b0e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/776301/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/lint.yml'],1,342da87bb6cbefad8343c7a3f5fa02b02abb41b3,update-reno-script," shell: ""{{ zuul_osh_infra_relative_path }}""/tools/gate/reno-check.sh"," shell: ./tools/gate/reno-check.sh args: chdir: ""{{ zuul.project.src_dir }}""",1,3
openstack%2Fopenstack-helm-infra~master~I599d743d38c75c7eb7de2d0fa3c668c927e7e465,openstack/openstack-helm-infra,master,I599d743d38c75c7eb7de2d0fa3c668c927e7e465,Update podsecuritypolicy chart releasenotes to latest,MERGED,2021-02-20 03:25:20.000000000,2021-02-22 23:44:41.000000000,2021-02-22 23:44:41.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 03:25:20.000000000', 'files': ['releasenotes/notes/podsecuritypolicy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2107034ee5e632cd1863270174465bba5d2d957f', 'message': 'Update podsecuritypolicy chart releasenotes to latest\n\nThis change updates the releasenotes for the podsecuritypolicy chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I599d743d38c75c7eb7de2d0fa3c668c927e7e465\n'}]",0,776785,2107034ee5e632cd1863270174465bba5d2d957f,10,6,1,30449,,,0,"Update podsecuritypolicy chart releasenotes to latest

This change updates the releasenotes for the podsecuritypolicy chart
to the latest version of the chart as of this patchset.

Change-Id: I599d743d38c75c7eb7de2d0fa3c668c927e7e465
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/776785/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/podsecuritypolicy.yaml'],1,2107034ee5e632cd1863270174465bba5d2d957f,podsecuritypolicy-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I298add97581b677d86f0e7318677f9dbf099abbb,openstack/openstack-helm-infra,master,I298add97581b677d86f0e7318677f9dbf099abbb,Update metacontroller chart releasenotes to latest,MERGED,2021-02-20 06:01:28.000000000,2021-02-22 23:44:26.000000000,2021-02-22 23:44:26.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 06:01:28.000000000', 'files': ['releasenotes/notes/metacontroller.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf6ce20a21cca06e5e6e073d03e32fb5c8159a24', 'message': 'Update metacontroller chart releasenotes to latest\n\nThis change updates the releasenotes for the metacontroller chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I298add97581b677d86f0e7318677f9dbf099abbb\n'}]",0,776791,bf6ce20a21cca06e5e6e073d03e32fb5c8159a24,10,6,1,30449,,,0,"Update metacontroller chart releasenotes to latest

This change updates the releasenotes for the metacontroller chart
to the latest version of the chart as of this patchset.

Change-Id: I298add97581b677d86f0e7318677f9dbf099abbb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/91/776791/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/metacontroller.yaml'],1,bf6ce20a21cca06e5e6e073d03e32fb5c8159a24,metacontroller-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Fix disappearing metacontroller CRDs on upgrade",,2,0
openstack%2Fopenstack-helm-infra~master~I4bcfbb29e05f3798afb4be8788475745ea1a15d0,openstack/openstack-helm-infra,master,I4bcfbb29e05f3798afb4be8788475745ea1a15d0,Update Prometheus chart releasenotes to latest,MERGED,2021-02-20 06:20:51.000000000,2021-02-22 23:44:13.000000000,2021-02-22 23:44:13.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 06:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9394a1ea592e34ba33259c5f3721ed2d5532ca0a', 'message': 'Update Prometheus chart releasenotes to latest\n\nThis change updates the releasenotes for the Prometheus chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I4bcfbb29e05f3798afb4be8788475745ea1a15d0\n'}, {'number': 2, 'created': '2021-02-20 08:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9dd489115cbb36e4799937132682873312ff01cb', 'message': 'Update Prometheus chart releasenotes to latest\n\nThis change updates the releasenotes for the Prometheus chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I4bcfbb29e05f3798afb4be8788475745ea1a15d0\n'}, {'number': 3, 'created': '2021-02-22 16:15:36.000000000', 'files': ['releasenotes/notes/prometheus.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc35ab1769ea7d575ed23700dad63f7ac66de448', 'message': 'Update Prometheus chart releasenotes to latest\n\nThis change updates the releasenotes for the Prometheus chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I4bcfbb29e05f3798afb4be8788475745ea1a15d0\n'}]",0,776794,dc35ab1769ea7d575ed23700dad63f7ac66de448,28,5,3,30449,,,0,"Update Prometheus chart releasenotes to latest

This change updates the releasenotes for the Prometheus chart
to the latest version of the chart as of this patchset.

Change-Id: I4bcfbb29e05f3798afb4be8788475745ea1a15d0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/94/776794/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/prometheus.yaml'],1,9394a1ea592e34ba33259c5f3721ed2d5532ca0a,prometheus-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Add configurable readiness/liveness Probes - 0.1.3 Revert ""Prometheus: Render Rules as Templates"" - 0.1.4 Fix spacing inconsistencies with flags - 0.1.5 Fix spacing inconsistencies with flags ",,5,0
openstack%2Fopenstack-helm-infra~master~Ia060552f49eda6a617cd0dd8dbf175d9ccd6f3c0,openstack/openstack-helm-infra,master,Ia060552f49eda6a617cd0dd8dbf175d9ccd6f3c0,Update powerdns chart releasenotes to latest,MERGED,2021-02-20 06:04:48.000000000,2021-02-22 23:43:49.000000000,2021-02-22 23:43:49.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 06:04:48.000000000', 'files': ['releasenotes/notes/powerdns.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f8d7ace28dc80b2e88556f8ddeae1a44d3f06f2', 'message': 'Update powerdns chart releasenotes to latest\n\nThis change updates the releasenotes for the powerdns chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: Ia060552f49eda6a617cd0dd8dbf175d9ccd6f3c0\n'}]",0,776792,0f8d7ace28dc80b2e88556f8ddeae1a44d3f06f2,10,6,1,30449,,,0,"Update powerdns chart releasenotes to latest

This change updates the releasenotes for the powerdns chart
to the latest version of the chart as of this patchset.

Change-Id: Ia060552f49eda6a617cd0dd8dbf175d9ccd6f3c0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/776792/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/powerdns.yaml'],1,0f8d7ace28dc80b2e88556f8ddeae1a44d3f06f2,powerdns-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I50558cf83001c5de311ade96f9e6253cd8b66ebf,openstack/openstack-helm-infra,master,I50558cf83001c5de311ade96f9e6253cd8b66ebf,Update redis chart releasenotes to latest,MERGED,2021-02-20 07:55:17.000000000,2021-02-22 23:43:43.000000000,2021-02-22 23:43:43.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-02-20 07:55:17.000000000', 'files': ['releasenotes/notes/redis.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8a6b81d12e68847b2cca967668c33839f8b8492', 'message': 'Update redis chart releasenotes to latest\n\nThis change updates the releasenotes for the redis chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I50558cf83001c5de311ade96f9e6253cd8b66ebf\n'}]",0,776795,e8a6b81d12e68847b2cca967668c33839f8b8492,9,5,1,30449,,,0,"Update redis chart releasenotes to latest

This change updates the releasenotes for the redis chart
to the latest version of the chart as of this patchset.

Change-Id: I50558cf83001c5de311ade96f9e6253cd8b66ebf
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/95/776795/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/redis.yaml'],1,e8a6b81d12e68847b2cca967668c33839f8b8492,redis-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I21e2403fb0d0627a279b6cb3ce96e1720fa82eaa,openstack/openstack-helm-infra,master,I21e2403fb0d0627a279b6cb3ce96e1720fa82eaa,Update registry chart releasenotes to latest,MERGED,2021-02-20 07:59:52.000000000,2021-02-22 23:43:30.000000000,2021-02-22 23:43:30.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-02-20 07:59:52.000000000', 'files': ['releasenotes/notes/registry.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/617a04a5ef63884168f5be0c2a0563f6b9382a61', 'message': 'Update registry chart releasenotes to latest\n\nThis change updates the releasenotes for the registry chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I21e2403fb0d0627a279b6cb3ce96e1720fa82eaa\n'}]",0,776796,617a04a5ef63884168f5be0c2a0563f6b9382a61,9,5,1,30449,,,0,"Update registry chart releasenotes to latest

This change updates the releasenotes for the registry chart
to the latest version of the chart as of this patchset.

Change-Id: I21e2403fb0d0627a279b6cb3ce96e1720fa82eaa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/776796/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/registry.yaml'],1,617a04a5ef63884168f5be0c2a0563f6b9382a61,registry-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Update to container image repo k8s.gcr.io",,2,0
openstack%2Fopenstack-helm-infra~master~I11301c16337e446fcd466a9a50720c955a2ae45c,openstack/openstack-helm-infra,master,I11301c16337e446fcd466a9a50720c955a2ae45c,Update prometheus-* charts releasenotes to latest,MERGED,2021-02-20 08:42:17.000000000,2021-02-22 23:42:55.000000000,2021-02-22 23:42:55.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 08:42:17.000000000', 'files': ['releasenotes/notes/prometheus-alertmanager.yaml', 'releasenotes/notes/prometheus-kube-state-metrics.yaml', 'releasenotes/notes/prometheus-node-exporter.yaml', 'releasenotes/notes/prometheus-blackbox-exporter.yaml', 'releasenotes/notes/prometheus-process-exporter.yaml', 'releasenotes/notes/prometheus-openstack-exporter.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1b279255bb3e92f6160905d30096241e7da042d', 'message': 'Update prometheus-* charts releasenotes to latest\n\nThis change updates the releasenotes for the prometheus-* charts\nto the latest version of the chart as of this patchset.\n\nChange-Id: I11301c16337e446fcd466a9a50720c955a2ae45c\n'}]",0,776800,b1b279255bb3e92f6160905d30096241e7da042d,8,4,1,30449,,,0,"Update prometheus-* charts releasenotes to latest

This change updates the releasenotes for the prometheus-* charts
to the latest version of the chart as of this patchset.

Change-Id: I11301c16337e446fcd466a9a50720c955a2ae45c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/776800/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/prometheus-alertmanager.yaml', 'releasenotes/notes/prometheus-kube-state-metrics.yaml', 'releasenotes/notes/prometheus-node-exporter.yaml', 'releasenotes/notes/prometheus-blackbox-exporter.yaml', 'releasenotes/notes/prometheus-process-exporter.yaml', 'releasenotes/notes/prometheus-openstack-exporter.yaml']",6,b1b279255bb3e92f6160905d30096241e7da042d,prometheus-all-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Unpin prometheus-openstack-exporter image - 0.1.3 Add possibility to use overrides for some charts",,17,0
openstack%2Fironic~master~I2f63db9b739e53699bd5f164b79640927bf757d7,openstack/ironic,master,I2f63db9b739e53699bd5f164b79640927bf757d7,Add support for using NVMe specific cleaning,MERGED,2021-01-22 02:13:59.000000000,2021-02-22 23:39:12.000000000,2021-02-22 23:37:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-22 02:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5965f5c960df0f44881e79a1a146787491744e00', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 2, 'created': '2021-02-01 23:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0897373be0faaf748cc7b8946713bc7d1a63648', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 3, 'created': '2021-02-02 23:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a172c99b07416877ccf2aad12b8f978a98d4412b', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 4, 'created': '2021-02-08 00:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c5ab4cccc02f5ca27e090ba93807f4b88cdcc9f', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 5, 'created': '2021-02-11 01:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b141fd23b07ae0b4b95bd76eee83c125334b682b', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 6, 'created': '2021-02-11 02:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14c33f4e0532ff8ccc6f2149572c633ee780eef3', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 7, 'created': '2021-02-22 12:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4dfd797c448d0cc1e88270cfdd58deae2b86a8bf', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 8, 'created': '2021-02-22 12:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a09f078374252b50db8beb59f355d752d3dbb65', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 9, 'created': '2021-02-22 13:03:54.000000000', 'files': ['releasenotes/notes/adds-nvme-erase-switch-fa91e867e45ede3c.yaml', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conf/deploy.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b66471e39d13e9acac9ef6d3e8b965a06cc80d18', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}]",9,771905,b66471e39d13e9acac9ef6d3e8b965a06cc80d18,66,3,9,32177,,,0,"Add support for using NVMe specific cleaning

This change adds support for utilising NVMe specific cleaning tools
on supported devices. This will remove the neccessity of using shred to
securely delete the contents of a NVMe drive and enable using nvme-cli
tools instead, improving cleaning performance and reducing wear on the device.

Story: 2008290
Task: 41168
Change-Id: I2f63db9b739e53699bd5f164b79640927bf757d7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/771905/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'ironic/conf/deploy.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",3,5965f5c960df0f44881e79a1a146787491744e00,story-2008290-lite, 'agent_continue_if_secure_erase_failed']), 'agent_continue_if_ata_erase_failed']),18,8
openstack%2Fswift~master~I90f3ab7a29b87d0959c94a05c9ee9ad97b60014d,openstack/swift,master,I90f3ab7a29b87d0959c94a05c9ee9ad97b60014d,Improve 'swift-manage-shard-ranges compact' output,MERGED,2021-02-18 09:23:36.000000000,2021-02-22 23:38:55.000000000,2021-02-22 23:35:39.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 09:23:36.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/10b16f97373fb2cc61083a91c7db3a89b4224522', 'message': ""Improve 'swift-manage-shard-ranges compact' output\n\nThe output from swift-manage-shard-ranges compact was hard to read,\nparticularly with long lower and upper bounds typically seen in\nproduction.  This patch changes the output, most significantly by\naligning lower and upper bounds at the end of lines and printing\ndonors before acceptors, so that the continuity of shard range bounds\nis easier to see.\n\nExample of new ouput:\n\nDonor shard range(s) with total of 2 objects:\n  objects: 2         lower: ''\n    state: active    upper: 'obj-0001'\ncan be compacted into acceptor shard range:\n  objects: 2         lower: 'obj-0001'\n    state: active    upper: 'obj-0003'\nDonor shard range(s) with total of 2 objects:\n  objects: 2         lower: 'obj-0003'\n    state: active    upper: 'obj-0005'\ncan be compacted into acceptor shard range:\n  objects: 2         lower: 'obj-0005'\n    state: active    upper: ''\n\nChange-Id: I90f3ab7a29b87d0959c94a05c9ee9ad97b60014d\n""}]",2,776410,10b16f97373fb2cc61083a91c7db3a89b4224522,10,2,1,7847,,,0,"Improve 'swift-manage-shard-ranges compact' output

The output from swift-manage-shard-ranges compact was hard to read,
particularly with long lower and upper bounds typically seen in
production.  This patch changes the output, most significantly by
aligning lower and upper bounds at the end of lines and printing
donors before acceptors, so that the continuity of shard range bounds
is easier to see.

Example of new ouput:

Donor shard range(s) with total of 2 objects:
  objects: 2         lower: ''
    state: active    upper: 'obj-0001'
can be compacted into acceptor shard range:
  objects: 2         lower: 'obj-0001'
    state: active    upper: 'obj-0003'
Donor shard range(s) with total of 2 objects:
  objects: 2         lower: 'obj-0003'
    state: active    upper: 'obj-0005'
can be compacted into acceptor shard range:
  objects: 2         lower: 'obj-0005'
    state: active    upper: ''

Change-Id: I90f3ab7a29b87d0959c94a05c9ee9ad97b60014d
",git fetch https://review.opendev.org/openstack/swift refs/changes/10/776410/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,10b16f97373fb2cc61083a91c7db3a89b4224522,p-shard-compact-print," self.assertIn('total of 20 objects', out_lines[0]) self.assertIn('objects: 10', out_lines[1]) self.assertIn('state: active', out_lines[2]) self.assertIn('objects: 10', out_lines[3]) self.assertIn('state: active', out_lines[4]) self.assertIn('can be compacted into', out_lines[5]) self.assertIn('objects: 10', out_lines[6]) self.assertIn('state: active', out_lines[7])"," self.assertIn('can expand to accept 20 objects', out_lines[0]) self.assertIn('(object count 10)', out_lines[1]) self.assertIn('(object count 10)', out_lines[2]) self.assertIn('can expand to accept 10 objects', out_lines[3]) self.assertIn('(object count 10)', out_lines[4])",19,10
openstack%2Fswift~master~I63fc9ae39e164c2ce82865d055527b52c86b5b2a,openstack/swift,master,I63fc9ae39e164c2ce82865d055527b52c86b5b2a,Add shrink candidates to recon dump,MERGED,2021-01-27 05:11:54.000000000,2021-02-22 23:37:43.000000000,2021-02-22 23:35:14.000000000,"[{'_account_id': 597}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 05:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2ec99a54534a228d256fddcf12eee2444ad86bd4', 'message': ""Add shrink candidates to recon dump\n\nThis first version just mirrors sharding candidate recon dumping with\nshrinking candidates, obviously not reversing the object listing order.\n\nHowever shrinking is a different beast to sharding. Even with the\nmange-shard-ranges tool. In shrinking we want to go to the container\nroot or shard that is big enough and use the tool on it.\nShrinking however isn't like that, it should _always_ be initiated from\nthe root container.\n\nSo listing root containers that have shards to shrink I think would be\nmore useful. Further, obj count is important, but I wonder if the number\nof shards that can be shrunk in a root container is a better metric to\nsort by? That way we get more bang for buck out of the tool.\nThis will be my next approach.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 2, 'created': '2021-01-27 05:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6fcfaa87eaa8828c15aa2ec113df6f1820e0fef', 'message': ""Add shrink candidates to recon dump\n\nThis first version just mirrors sharding candidate recon dumping with\nshrinking candidates, obviously not reversing the object listing order.\n\nHowever shrinking is a different beast to sharding. Even with the\nmange-shard-ranges tool. In sharding we want to go to the container\nroot or shard that is big enough and use the tool on it.\nShrinking however isn't like that, it should _always_ be initiated from\nthe root container.\n\nSo listing root containers that have shards to shrink I think would be\nmore useful. Further, obj count is important, but I wonder if the number\nof shards that can be shrunk in a root container is a better metric to\nsort by? That way we get more bang for buck out of the tool.\nThis will be my next approach.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 3, 'created': '2021-01-28 07:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6fbd0c5a72e2da3aed9967283f3ac3e3a1157742', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always SHARDED root containers. And get added\nto the candidate list if they have any ranges under the shrink\nthreshold.\n\nJust having and sorting on the number of shardable ranges isn't quite enough,\nbecause a shard can only SHRINK into it's upper neighbour if there\ncombined object count is < the merge_size. As such we are also grabbing\nthe shrinkable_pairs, which in essence is the outcome of\nfind_shrinking_candidates. This currently returns the a set of\ndonor, acceptor pairs. Meaning it's the number of ranges that can be\nmerged in one go.\n\nThe shrining_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'shrinkable_ranges': 2,\n\t    'shrinkable_pairs': 2\n\t}]\n }\n\nOnce the collapse code is merged, this could change. Al had the\nsuggestion of maybe even storing the output of the collapse.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 4, 'created': '2021-01-28 07:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/234559a3718b9defb0de1fd7af6c2bb9aab5ffeb', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges under the\nshrink threshold.\n\nJust having and sorting on the number of shardable ranges isn't quite\nenough, as shard can only SHRINK into it's upper neighbour if their\ncombined object count is < the merge_size. As such we are also grabbing\nthe shrinkable_pairs. Which is basically the length of the output of\nfind_shrinking_candidates. This currently returns a set of donor/acceptor\npairs. Meaning it's the number of ranges that can be merged in one go.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'shrinkable_ranges': 2,\n\t    'shrinkable_pairs': 2\n\t}]\n }\n\nOnce the collapse code is merged, this could change. Al had the\nsuggestion of maybe even storing the output of the collapse.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 5, 'created': '2021-02-08 03:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9337030f2734005fbdbe8daa260b71b973dbc9c', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges under the\nshrink threshold.\n\nJust having and sorting on the number of shrinkable ranges isn't quite\nenough, as shard can only SHRINK into it's upper neighbour if their\ncombined object count is < the merge_size. As such we are also grabbing\n2 more values. The total amount of ranges (donors) that can be shrunk in\nthe root container (total_shrinkable_donors), ie those of the shrinkable\nranges that actually have acceptors that can take their objects. And now\nmany of those donors can be shrunk at once.\nAs we only shrink 1:1 donor to acceptor pairs at once, the number of\nthe shrinkable donors could be less the total_shrinkable_donors. Meaning\nit could take more then one command to completely finish shrinking or\nshrinkable donors in a root container.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'total_shrinkable_ranges': 4,\n\t    'total_shrinkable_donors': 3,\n\t    'shrinkable_donors': 2\n\t}]\n }\n\nIn this case:\n - total_shrinkable_ranges: is the total number of ranges <\n   shrink_threshold.\n - total_shrinkable_donors: is the total number of ranges that can be\n   shrunk.\n - shrinkable_donors: is the number of donors that can be shrunk in a\n   single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 6, 'created': '2021-02-09 05:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/34c7af26a0aba55e6e4c561b725319dd97673e4e', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges under the\nshrink threshold.\n\nJust having and sorting on the number of shrinkable ranges isn't quite\nenough, as shard can only SHRINK into it's upper neighbour if their\ncombined object count is < the merge_size. As such we are also grabbing\n2 more values. The total amount of ranges (donors) that can be shrunk in\nthe root container (total_shrinkable_donors), ie those of the shrinkable\nranges that actually have acceptors that can take their objects. And now\nmany of those donors can be shrunk at once.\nAs we only shrink 1:1 donor to acceptor pairs at once, the number of\nthe shrinkable donors could be less the total_shrinkable_donors. Meaning\nit could take more then one command to completely finish shrinking or\nshrinkable donors in a root container.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'total_shrinkable_ranges': 4,\n\t    'actionable_ranges': 2\n\t}]\n }\n\nIn this case:\n - total_shrinkable_ranges: is the total number of ranges that can be\n   shrunk.\n - actionable_ranges: is the number of donors that can be shrunk in a\n   single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 7, 'created': '2021-02-09 05:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12d2dae890d2b9e9265e84e93004ed2b6f1d60ef', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges under the\nshrink threshold.\n\nWe are collecting and sorting on 2 different numbers, firstly the number\nshards that are eligible donors and second, the number of shards that\ncan be actioned in one command.\n\nTo get the second value we use the options as they are configured (or\ndefaulted to) in the container-sharder config. The s-m-s-r tool has also\ngrown a config option so it can use the same configured options\nconnecting the output stats to the expected output of the tool.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'total_shrinkable_ranges': 4,\n\t    'actionable_ranges': 2\n\t}]\n }\n\nIn this case:\n - total_shrinkable_ranges: is the total number of ranges that can be\n   shrunk.\n - actionable_ranges: is the number of donors that can be shrunk in a\n   single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 8, 'created': '2021-02-10 01:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/44295adc2ce8c123fde59c90f716007159caa0c6', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges under the\nshrink threshold.\n\nWe are collecting and sorting on 2 different numbers, firstly the number\nshards that are eligible donors and second, the number of shards that\ncan be actioned in one command.\n\nTo get the second value we use the options as they are configured (or\ndefaulted to) in the container-sharder config. The s-m-s-r tool has also\ngrown a config option so it can use the same configured options\nconnecting the output stats to the expected output of the tool.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'total_shrinkable_ranges': 4,\n\t    'actionable_ranges': 2\n\t}]\n }\n\nIn this case:\n - total_shrinkable_ranges: is the total number of ranges that can be\n   shrunk.\n - actionable_ranges: is the number of donors that can be shrunk in a\n   single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 9, 'created': '2021-02-11 01:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/784cffa86a7534ab0f8e5fe95f84a0ae122a308c', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges under the\nshrink threshold.\n\nWe are collecting and sorting on 2 different numbers, firstly the number\nshards that are eligible donors and second, the number of shards that\ncan be actioned in one command.\n\nTo get the second value we use the options as they are configured (or\ndefaulted to) in the container-sharder config. The s-m-s-r tool has also\ngrown a config option so it can use the same configured options\nconnecting the output stats to the expected output of the tool.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'total_shrinkable_ranges': 4,\n\t    'actionable_ranges': 2\n\t}]\n }\n\nIn this case:\n - total_shrinkable_ranges: is the total number of ranges that can be\n   shrunk.\n - actionable_ranges: is the number of donors that can be shrunk in a\n   single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 10, 'created': '2021-02-11 02:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/23c100db8323fc966e95d2a88b8891be26a71c48', 'message': ""Add shrink candidates to recon dump\n\nThis is a new version of the shrinking recon dump. This time the\nshrinking_candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges that are\ncompactible, that is to say they have ranges that can be compacted into\nan upper neighbour.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'compactible_ranges': 2\n\t}]\n }\n\nIn this case 'compactible_ranges' is the number of donors that can be shrunk\nin a single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 11, 'created': '2021-02-12 03:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ec5276e81bf1c2c008557c6aab2315921260981e', 'message': ""Add shrink candidates to recon dump\n\nThis  patch adds shrinking candidates to the sharding recon dump\nshrinking candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges that are\ncompactible, that is to say they have ranges that can be compacted into\nan upper neighbour.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'compactible_ranges': 2\n\t}]\n }\n\nIn this case 'compactible_ranges' is the number of donors that can be shrunk\nin a single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}, {'number': 12, 'created': '2021-02-12 16:27:36.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/13b17af45e1faa701b9a14686b0c6726e6112ee6', 'message': ""Add shrink candidates to recon dump\n\nThis  patch adds shrinking candidates to the sharding recon dump\nshrinking candidates will always be SHARDED root containers. And\nget added to the candidate list if they have any ranges that are\ncompactible, that is to say they have ranges that can be compacted into\nan upper neighbour.\n\nThe shrinking_candidates data comes out something like:\n\n {\n    'found': 1,\n    'top': [\n\t{\n\t    'object_count': <some number>,\n\t    'account': 'a',\n\t    'meta_timestamp': <ts1>,\n\t    'container': 'c',\n\t    'file_size': <something>,\n\t    'path': <something>,\n\t    'root': <something>,\n\t    'node_index': 0,\n\t    'compactible_ranges': 2\n\t}]\n }\n\nIn this case 'compactible_ranges' is the number of donors that can be shrunk\nin a single command.\n\nChange-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a\n""}]",37,772624,13b17af45e1faa701b9a14686b0c6726e6112ee6,43,4,12,7233,,,0,"Add shrink candidates to recon dump

This  patch adds shrinking candidates to the sharding recon dump
shrinking candidates will always be SHARDED root containers. And
get added to the candidate list if they have any ranges that are
compactible, that is to say they have ranges that can be compacted into
an upper neighbour.

The shrinking_candidates data comes out something like:

 {
    'found': 1,
    'top': [
	{
	    'object_count': <some number>,
	    'account': 'a',
	    'meta_timestamp': <ts1>,
	    'container': 'c',
	    'file_size': <something>,
	    'path': <something>,
	    'root': <something>,
	    'node_index': 0,
	    'compactible_ranges': 2
	}]
 }

In this case 'compactible_ranges' is the number of donors that can be shrunk
in a single command.

Change-Id: I63fc9ae39e164c2ce82865d055527b52c86b5b2a
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/772624/12 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,2ec99a54534a228d256fddcf12eee2444ad86bd4,add_shrink_candidates_to_recon_dump_roots,"def is_shrinking_candidate(shard_range, threshold): return (shard_range.state == ShardRange.ACTIVE and shard_range.object_count < threshold) self.shrinking_candidates = [] if is_shrinking_candidate(own_shard_range, self.shrink_size) and \ not broker.is_root_container(): self.shrinking_candidates.append( self._make_stats_info(broker, node, own_shard_range)) def _transform_candidate_stats(self, category, candidates, reverse=True): def _transform_sharding_candidate_stats(self): # first sharding category = self.stats['sharding']['sharding_candidates'] self._transform_candidate_stats(category, self.sharding_candidates) # then shrinking category = self.stats['sharding']['shrinking_candidates'] self._transform_candidate_stats(category, self.shrinking_candidates, reverse=False) ", def _transform_sharding_candidate_stats(self): category = self.stats['sharding']['sharding_candidates'] candidates = self.sharding_candidates,41,14
openstack%2Fansible-role-chrony~master~Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0,openstack/ansible-role-chrony,master,Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0,Use ansible_facts,MERGED,2021-02-20 23:15:55.000000000,2021-02-22 23:02:34.000000000,2021-02-22 23:02:34.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 23:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/11a2b957fbcb7fbc143d7b3d805ce312ca877f66', 'message': 'Use ansible_facts\n\nansible_distribution and ansible_os_family rely on the facts being\ninjected as vars. This change switches our vars file lookup to use\nansible_facts instead.\n\nChange-Id: Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0\n'}, {'number': 2, 'created': '2021-02-20 23:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/53b321ce933328b43d2aea61233a953a6d826376', 'message': 'Use ansible_facts\n\nansible_distribution and ansible_os_family rely on the facts being\ninjected as vars. This change switches our vars file lookup to use\nansible_facts instead.\n\nChange-Id: Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0\n'}, {'number': 3, 'created': '2021-02-22 16:27:53.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/28193e49e69cf8deff5c19f43833d34afd694b31', 'message': 'Use ansible_facts\n\nansible_distribution and ansible_os_family rely on the facts being\ninjected as vars. This change switches our vars file lookup to use\nansible_facts instead.\n\nChange-Id: Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0\n'}]",0,776808,28193e49e69cf8deff5c19f43833d34afd694b31,13,3,3,14985,,,0,"Use ansible_facts

ansible_distribution and ansible_os_family rely on the facts being
injected as vars. This change switches our vars file lookup to use
ansible_facts instead.

Change-Id: Ia6636bf0223f7e51b6b50950a5c8c1413b4a54b0
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/08/776808/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,11a2b957fbcb7fbc143d7b3d805ce312ca877f66,ansible-facts," - ""{{ ansible_facts['distribution'] }}.yml"" - ""{{ ansible_facts['os_family'] }}.yml"""," - ""{{ ansible_distribution }}.yml"" - ""{{ ansible_os_family }}.yml""",2,2
openstack%2Fansible-role-chrony~master~I509b642e2c1ddb95c7d4a94a134f0c4e1b8ff8e2,openstack/ansible-role-chrony,master,I509b642e2c1ddb95c7d4a94a134f0c4e1b8ff8e2,Fix requirements,MERGED,2021-02-20 23:25:05.000000000,2021-02-22 23:02:00.000000000,2021-02-22 23:02:00.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 23:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/e75c714c34e0c00a9b84b5fc196595ca0553e08b', 'message': 'Fix requirements\n\nCap ansible at <2.10 and fix hacking\n\nChange-Id: I509b642e2c1ddb95c7d4a94a134f0c4e1b8ff8e2\n'}, {'number': 2, 'created': '2021-02-22 16:26:50.000000000', 'files': ['ansible-requirements.txt', 'requirements.txt', 'test-requirements.txt', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/24f495b820d617581475a8082f34168d3987986f', 'message': 'Fix requirements\n\nCap ansible at <2.10 and fix hacking\n\nChange-Id: I509b642e2c1ddb95c7d4a94a134f0c4e1b8ff8e2\n'}]",0,776812,24f495b820d617581475a8082f34168d3987986f,10,2,2,14985,,,0,"Fix requirements

Cap ansible at <2.10 and fix hacking

Change-Id: I509b642e2c1ddb95c7d4a94a134f0c4e1b8ff8e2
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/12/776812/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,e75c714c34e0c00a9b84b5fc196595ca0553e08b,ansible-facts,"hacking>=4.0.0,<4.1.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",2,2
openstack%2Fblazar~master~If625ad10d58f6116f6ebcecc08a46cf91036d98e,openstack/blazar,master,If625ad10d58f6116f6ebcecc08a46cf91036d98e,Drop unused sqlalchemy-migrate requirement,MERGED,2021-02-22 20:50:38.000000000,2021-02-22 22:47:29.000000000,2021-02-22 22:46:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 20:50:38.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/blazar/commit/d14668ba051180430359d01e9cf22449492394f8', 'message': 'Drop unused sqlalchemy-migrate requirement\n\nChange-Id: If625ad10d58f6116f6ebcecc08a46cf91036d98e\n'}]",0,777005,d14668ba051180430359d01e9cf22449492394f8,7,2,1,15197,,,0,"Drop unused sqlalchemy-migrate requirement

Change-Id: If625ad10d58f6116f6ebcecc08a46cf91036d98e
",git fetch https://review.opendev.org/openstack/blazar refs/changes/05/777005/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,d14668ba051180430359d01e9cf22449492394f8,,,sqlalchemy-migrate==0.11.0,0,2
openstack%2Fcinder~master~I653cedcb48cf6eecac522ee398fd8da3a5ccc695,openstack/cinder,master,I653cedcb48cf6eecac522ee398fd8da3a5ccc695,WIP test Tempest scenario,ABANDONED,2020-05-11 18:36:19.000000000,2021-02-22 22:17:50.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-05-11 18:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae36dbca5ea2eabdad885b5717662d050fe0cfc9', 'message': 'WIP test Tempest scenario\n\nDepends-On: Ia8e634717eb11791048b15769a011530594dd211\nChange-Id: I653cedcb48cf6eecac522ee398fd8da3a5ccc695\n'}, {'number': 2, 'created': '2020-05-11 18:48:13.000000000', 'files': ['README.rst', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d125821f8f543ec48c0887571acfbb3de714bdf', 'message': 'WIP test Tempest scenario\n\nDepends-On: Ia8e634717eb11791048b15769a011530594dd211\nChange-Id: I653cedcb48cf6eecac522ee398fd8da3a5ccc695\n'}]",1,726924,3d125821f8f543ec48c0887571acfbb3de714bdf,28,20,2,20813,,,0,"WIP test Tempest scenario

Depends-On: Ia8e634717eb11791048b15769a011530594dd211
Change-Id: I653cedcb48cf6eecac522ee398fd8da3a5ccc695
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/726924/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ae36dbca5ea2eabdad885b5717662d050fe0cfc9,bp/nfs-volume-encryption,,,1,0
openstack%2Fmanila~master~I3dd1f836a3cb2b4d36ff3fbe6f0258f4b0e0ba71,openstack/manila,master,I3dd1f836a3cb2b4d36ff3fbe6f0258f4b0e0ba71,Fix unit tests to use requests,MERGED,2021-02-16 01:17:57.000000000,2021-02-22 22:12:39.000000000,2021-02-22 22:08:09.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-02-16 01:17:57.000000000', 'files': ['manila/tests/integrated/test_extensions.py', 'manila/tests/api/test_middleware.py', 'manila/tests/integrated/api/client.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d487c2db728cedf8357b9f4acbc0a45c21c3a83e', 'message': 'Fix unit tests to use requests\n\npython documentation recommends the\nuse of the requests package when performing\nhttp requests. We could simplify our unit\ntest interface that performs HTTP requests\nby replacing the use of http_client.HTTPConnection\nwith requests.\n\n[1] https://docs.python.org/3/library/http.client.html\n\nChange-Id: I3dd1f836a3cb2b4d36ff3fbe6f0258f4b0e0ba71\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,775725,d487c2db728cedf8357b9f4acbc0a45c21c3a83e,14,4,1,16643,,,0,"Fix unit tests to use requests

python documentation recommends the
use of the requests package when performing
http requests. We could simplify our unit
test interface that performs HTTP requests
by replacing the use of http_client.HTTPConnection
with requests.

[1] https://docs.python.org/3/library/http.client.html

Change-Id: I3dd1f836a3cb2b4d36ff3fbe6f0258f4b0e0ba71
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/25/775725/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/integrated/test_extensions.py', 'manila/tests/api/test_middleware.py', 'manila/tests/integrated/api/client.py']",3,d487c2db728cedf8357b9f4acbc0a45c21c3a83e,secure-rbac,"import netaddrimport requests _status = response.status_code _body = response.text def request(self, url, method='GET', body=None, headers=None, ssl_verify=True, stream=False): port = parsed_url.port or '' if netaddr.valid_ipv6(hostname): hostname = ""[%s]"" % hostname LOG.debug(""Doing %(method)s on %(relative_url)s, body: %(body)s"", {""method"": method, ""relative_url"": relative_url, ""body"": body or {}}) _url = ""%s://%s:%s%s"" % (scheme, hostname, port, relative_url) response = requests.request(method, _url, data=body, headers=_headers, verify=ssl_verify, stream=stream) http_status = response.status_code self.auth_result = response.headers http_status = response.status_code body = response.text","import http.client as http_client _status = response.status _body = response.read() def request(self, url, method='GET', body=None, headers=None): port = parsed_url.port if scheme == 'http': conn = http_client.HTTPConnection(hostname, port=port) elif scheme == 'https': conn = http_client.HTTPSConnection(hostname, port=port) else: raise OpenStackApiException(""Unknown scheme: %s"" % url) LOG.info(""Doing %(method)s on %(relative_url)s"", {""method"": method, ""relative_url"": relative_url}) if body: LOG.info(""Body: %s"", body) conn.request(method, relative_url, body, _headers) response = conn.getresponse() http_status = response.status auth_headers = {} for k, v in response.getheaders(): auth_headers[k.lower()] = v self.auth_result = auth_headers http_status = response.status body = response.read()",27,35
openstack%2Fmanila~master~I5d554caf82a1fc4f1dcfede3ea61159ddaeb342e,openstack/manila,master,I5d554caf82a1fc4f1dcfede3ea61159ddaeb342e,Catch up to changes in RequestContext,MERGED,2021-02-16 01:17:57.000000000,2021-02-22 22:11:00.000000000,2021-02-22 22:08:04.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-02-16 01:17:57.000000000', 'files': ['manila/policy.py', 'manila/api/middleware/auth.py', 'manila/context.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c97f89f6e5c78ecb1e3000337a17bebf45fb7889', 'message': 'Catch up to changes in RequestContext\n\nRequestContext has a helpful ""from_environ""\nmethod that can handle all possible combinations\nof auth information users can send our way\nwhen manila is deployed with its Keystone auth\nmiddleware. We could switch to that, so that\nwe don\'t have to maintain support for the\nfull list of current and deprecated auth\nconfiguration options in our auth\nmiddleware.\n\nWhile we\'re there, we can also update the\n""to_dict"" and ""from_dict"" methods in manila\'s\ncontext class to match the information we need.\n\nChange-Id: I5d554caf82a1fc4f1dcfede3ea61159ddaeb342e\nCloses-Bug: #1602081\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,775724,c97f89f6e5c78ecb1e3000337a17bebf45fb7889,16,4,1,16643,,,0,"Catch up to changes in RequestContext

RequestContext has a helpful ""from_environ""
method that can handle all possible combinations
of auth information users can send our way
when manila is deployed with its Keystone auth
middleware. We could switch to that, so that
we don't have to maintain support for the
full list of current and deprecated auth
configuration options in our auth
middleware.

While we're there, we can also update the
""to_dict"" and ""from_dict"" methods in manila's
context class to match the information we need.

Change-Id: I5d554caf82a1fc4f1dcfede3ea61159ddaeb342e
Closes-Bug: #1602081
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/775724/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/policy.py', 'manila/api/middleware/auth.py', 'manila/context.py']",3,c97f89f6e5c78ecb1e3000337a17bebf45fb7889,secure-rbac," def __init__(self, user_id=None, project_id=None, is_admin=None, read_deleted=""no"", project_name=None, remote_address=None, timestamp=None, quota_class=None, service_catalog=None, system_scope=None, **kwargs): :param kwargs: Extra arguments passed transparently to oslo_context.RequestContext. kwargs.setdefault('user_id', user_id) kwargs.setdefault('project_id', project_id) super(RequestContext, self).__init__(is_admin=is_admin, **kwargs) self.project_name = project_name elif isinstance(timestamp, str): timestamp = timeutils.parse_isotime(timestamp) self.quota_class = quota_class values['user_id'] = self.user_id values['project_id'] = self.project_id values['project_name'] = self.project_name values['domain_id'] = self.domain_id values['read_deleted'] = self.read_deleted values['remote_address'] = self.remote_address values['timestamp'] = self.timestamp.isoformat() values['quota_class'] = self.quota_class values['service_catalog'] = self.service_catalog values['request_id'] = self.request_id return cls( user_id=values.get('user_id'), project_id=values.get('project_id'), project_name=values.get('project_name'), domain_id=values.get('domain_id'), read_deleted=values.get('read_deleted'), remote_address=values.get('remote_address'), timestamp=values.get('timestamp'), quota_class=values.get('quota_class'), service_catalog=values.get('service_catalog'), request_id=values.get('request_id'), is_admin=values.get('is_admin'), roles=values.get('roles'), auth_token=values.get('auth_token'), user_domain_id=values.get('user_domain_id'), project_domain_id=values.get('project_domain_id') )","import six def __init__(self, user_id, project_id, is_admin=None, read_deleted=""no"", roles=None, remote_address=None, timestamp=None, request_id=None, auth_token=None, overwrite=True, quota_class=None, service_catalog=None, **kwargs): :param overwrite: Set to False to ensure that the greenthread local copy of the index is not overwritten. :param kwargs: Extra arguments that might be present, but we ignore because they possibly came in from older rpc messages. user = kwargs.pop('user', None) tenant = kwargs.pop('tenant', None) super(RequestContext, self).__init__( auth_token=auth_token, user=user_id or user, tenant=project_id or tenant, domain=kwargs.pop('domain', None), user_domain=kwargs.pop('user_domain', None), project_domain=kwargs.pop('project_domain', None), is_admin=is_admin, read_only=kwargs.pop('read_only', False), show_deleted=kwargs.pop('show_deleted', False), request_id=request_id, resource_uuid=kwargs.pop('resource_uuid', None), overwrite=overwrite, roles=roles) self.user_id = self.user self.project_id = self.tenant if isinstance(timestamp, six.string_types): timestamp = timeutils.parse_strtime(timestamp) self.quota_class = quota_class values.update({ 'user_id': getattr(self, 'user_id', None), 'project_id': getattr(self, 'project_id', None), 'read_deleted': getattr(self, 'read_deleted', None), 'remote_address': getattr(self, 'remote_address', None), 'timestamp': self.timestamp.isoformat() if hasattr( self, 'timestamp') else None, 'quota_class': getattr(self, 'quota_class', None), 'service_catalog': getattr(self, 'service_catalog', None)}) return cls(**values)",67,75
openstack%2Fneutron~stable%2Fvictoria~If0e5a64e5f692c781fb5e6a68b948b611c694ab0,openstack/neutron,stable/victoria,If0e5a64e5f692c781fb5e6a68b948b611c694ab0,[OVN] ovn-metadata-agent: Retry registering Chassis at startup,MERGED,2021-02-16 15:44:06.000000000,2021-02-22 21:03:45.000000000,2021-02-22 20:59:56.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-16 15:44:06.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44b0818f45ade3c214d0e076f079955108d68ef1', 'message': '[OVN] ovn-metadata-agent: Retry registering Chassis at startup\n\nThis patch adds a retry mechanism on the register_metadata_agent()\nmethod from the OVN metadata agent to make it more tolerable to the\nstart up order of the services.\n\nChange-Id: If0e5a64e5f692c781fb5e6a68b948b611c694ab0\nCloses-Bug: #1905700\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 9c236db3bf18854aef5a29a37dd83bff8bda2f7d)\n'}]",0,775862,44b0818f45ade3c214d0e076f079955108d68ef1,30,4,1,6773,,,0,"[OVN] ovn-metadata-agent: Retry registering Chassis at startup

This patch adds a retry mechanism on the register_metadata_agent()
method from the OVN metadata agent to make it more tolerable to the
start up order of the services.

Change-Id: If0e5a64e5f692c781fb5e6a68b948b611c694ab0
Closes-Bug: #1905700
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 9c236db3bf18854aef5a29a37dd83bff8bda2f7d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/775862/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,44b0818f45ade3c214d0e076f079955108d68ef1,,"from neutron_lib import constants as n_const from oslo_concurrency import lockutils from oslo_log import log from oslo_utils import uuidutils from ovsdbapp.backend.ovs_idl import event as row_event from ovsdbapp.backend.ovs_idl import vlog import tenacity @tenacity.retry( wait=tenacity.wait_exponential( max=config.get_ovn_ovsdb_retry_max_interval()), reraise=True)",from neutron_lib import constants as n_const from oslo_concurrency import lockutils from oslo_log import log from oslo_utils import uuidutils from ovsdbapp.backend.ovs_idl import event as row_event from ovsdbapp.backend.ovs_idl import vlog,12,6
openstack%2Freno~master~I30b5de3d5f35abb3b903e9ed9e4db42671421e88,openstack/reno,master,I30b5de3d5f35abb3b903e9ed9e4db42671421e88,Deny creating subdirectories,MERGED,2021-01-24 00:36:20.000000000,2021-02-22 20:52:17.000000000,2021-02-22 20:51:00.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 00:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/88d1dca359e4a63efc03916c6be53023a912a3d1', 'message': 'Deny creating subdirectories\n\nCurrently if we put a path separator in slug, ""reno new"" command\ncreates subdirectories under the notes subdirectory. This usually\nresults in the situation where the note file is put to an unexpected\nplace.\nFor example we have seen several cases with reno files placed under\nreleasenote/note/release/note directory because the nodes subdirectory\npath is accidentally included in slug, like;\n\n$ reno new releasenotes/notes/something-new\nno configuration file in: ./releasenotes/config.yaml, ./reno.yaml\nCreated new notes file in releasenotes/notes/releasenotes/notes/something-new-2ff053c99583fc69.yaml\n\nThis change prohibits users from creating such subdirectries under\nthe notes subdirectory. The previous behavior can be restored by\nthe allow_subdirectories config option.\n\nChange-Id: I30b5de3d5f35abb3b903e9ed9e4db42671421e88\n'}, {'number': 2, 'created': '2021-01-24 00:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/bcb4e8916150dbd7b3e960dd3eb9b51edcbd50e8', 'message': 'Deny creating subdirectories\n\nCurrently if we put a path separator in slug, ""reno new"" command\ncreates subdirectories under the notes subdirectory. This usually\nresults in the situation where the note file is put to an unexpected\nplace.\nFor example we have seen several cases with reno files placed under\nreleasenote/note/release/note directory because the notes subdirectory\npath is accidentally included in slug, like;\n\n$ reno new releasenotes/notes/something-new\nno configuration file in: ./releasenotes/config.yaml, ./reno.yaml\nCreated new notes file in releasenotes/notes/releasenotes/notes/something-new-2ff053c99583fc69.yaml\n\nThis change prohibits users from creating such subdirectries under\nthe notes subdirectory. The previous behavior can be restored by\nthe allow_subdirectories config option.\n\nChange-Id: I30b5de3d5f35abb3b903e9ed9e4db42671421e88\n'}, {'number': 3, 'created': '2021-01-24 01:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/262d27c1cf818659477ff14db73edcae0df9a33b', 'message': 'Deny creating subdirectories\n\nCurrently if we put a path separator in slug, ""reno new"" command\ncreates subdirectories under the notes subdirectory. This usually\nresults in the situation where the note file is put to an unexpected\nplace.\nFor example we have seen several cases with reno files placed under\nreleasenote/note/release/note directory because the notes subdirectory\npath is accidentally included in slug, like;\n\n$ reno new releasenotes/notes/something-new\nno configuration file in: ./releasenotes/config.yaml, ./reno.yaml\nCreated new notes file in releasenotes/notes/releasenotes/notes/something-new-2ff053c99583fc69.yaml\n\nThis change prohibits users from creating such subdirectries under\nthe notes subdirectory. The previous behavior can be restored by\nthe allow_subdirectories config option.\n\nChange-Id: I30b5de3d5f35abb3b903e9ed9e4db42671421e88\n'}, {'number': 4, 'created': '2021-02-19 13:53:19.000000000', 'files': ['reno/config.py', 'reno/create.py', 'reno/tests/test_create.py'], 'web_link': 'https://opendev.org/openstack/reno/commit/7dc390e6a6f2e43cbf299a3bb38c8e9c74f3e16a', 'message': 'Deny creating subdirectories\n\nCurrently if we put a path separator in slug, ""reno new"" command\ncreates subdirectories under the notes subdirectory. This usually\nresults in the situation where the note file is put to an unexpected\nplace.\nFor example we have seen several cases with reno files placed under\nreleasenote/notes/releasenote/notes directory because the notes\nsubdirectory path is accidentally included in slug, like;\n\n$ reno new releasenotes/notes/something-new\nno configuration file in: ./releasenotes/config.yaml, ./reno.yaml\nCreated new notes file in releasenotes/notes/releasenotes/notes/something-new-2ff053c99583fc69.yaml\n\nThis change prohibits users from creating such subdirectries under\nthe notes subdirectory. The previous behavior can be restored by\nthe allow_subdirectories config option.\n\nChange-Id: I30b5de3d5f35abb3b903e9ed9e4db42671421e88\n'}]",1,772176,7dc390e6a6f2e43cbf299a3bb38c8e9c74f3e16a,13,3,4,9816,,,0,"Deny creating subdirectories

Currently if we put a path separator in slug, ""reno new"" command
creates subdirectories under the notes subdirectory. This usually
results in the situation where the note file is put to an unexpected
place.
For example we have seen several cases with reno files placed under
releasenote/notes/releasenote/notes directory because the notes
subdirectory path is accidentally included in slug, like;

$ reno new releasenotes/notes/something-new
no configuration file in: ./releasenotes/config.yaml, ./reno.yaml
Created new notes file in releasenotes/notes/releasenotes/notes/something-new-2ff053c99583fc69.yaml

This change prohibits users from creating such subdirectries under
the notes subdirectory. The previous behavior can be restored by
the allow_subdirectories config option.

Change-Id: I30b5de3d5f35abb3b903e9ed9e4db42671421e88
",git fetch https://review.opendev.org/openstack/reno refs/changes/76/772176/2 && git format-patch -1 --stdout FETCH_HEAD,"['reno/config.py', 'reno/create.py', 'reno/tests/test_create.py']",3,88d1dca359e4a63efc03916c6be53023a912a3d1,restrict-subdir,"import os conf.options = {'allow_subdirectories': False, 'encoding': None} conf.options = {'allow_subdirectories': False, 'encoding': None} def test_create_from_user_template_fails_because_path_separator(self): args = mock.Mock() args.from_template = self._create_user_template('i-am-a-user-template') args.slug = 'the' + os.sep + 'slug' args.edit = False conf = mock.create_autospec(config.Config) conf.notespath = self.tmpdir conf.options = {'allow_subdirectories': False, 'encoding': None} self.assertRaises(ValueError, create.create_cmd, args, conf) def test_create_from_template_with_path_separator_allowed(self): args = mock.Mock() args.from_template = self._create_user_template('i-am-a-user-template') args.slug = 'the' + os.sep + 'slug' args.edit = False conf = mock.create_autospec(config.Config) conf.notespath = self.tmpdir conf.options = {'allow_subdirectories': True, 'encoding': None} with mock.patch('sys.stdout', new=io.StringIO()) as fake_out: create.create_cmd(args, conf) filename = self._get_file_path_from_output(fake_out.getvalue()) with open(filename, 'r') as f: body = f.read() self.assertEqual('i-am-a-user-template', body) ", conf.options = {'encoding': None},38,1
openstack%2Fnova~stable%2Fussuri~I6e30468bc28f661ddc17937ab1de04a706f05063,openstack/nova,stable/ussuri,I6e30468bc28f661ddc17937ab1de04a706f05063,Disallow CONF.compute.max_disk_devices_to_attach = 0,MERGED,2021-01-29 09:37:35.000000000,2021-02-22 20:49:56.000000000,2021-02-22 20:47:36.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 09:37:35.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ad7e5e2630542bce4cfa53adafd1da299adb0f6', 'message': ""Disallow CONF.compute.max_disk_devices_to_attach = 0\n\nThe CONF.compute.max_disk_devices_to_attach option controls the maximum\nnumber of disk devices allowed to attach to an instance. If it is set\nto 0, it will literally allow no disk device for instances, preventing\nthem from being able to boot.\n\nThis adds a note to the config option help to call this out and changes\nnova-compute to raise InvalidConfiguration during init_host if\n[compute]max_disk_devices_to_attach has been set to 0. The nova-compute\nservice will fail to start if the option is set to 0.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well.\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\nCloses-Bug: #1897950\n(cherry picked from commit 25a632a4e1daa1941a6297ddb51088972f23ce6d)\n(cherry picked from commit 8e12b81839e1fb364b3598699fecf57c78f81df3)\n""}]",0,772985,4ad7e5e2630542bce4cfa53adafd1da299adb0f6,14,4,1,15334,,,0,"Disallow CONF.compute.max_disk_devices_to_attach = 0

The CONF.compute.max_disk_devices_to_attach option controls the maximum
number of disk devices allowed to attach to an instance. If it is set
to 0, it will literally allow no disk device for instances, preventing
them from being able to boot.

This adds a note to the config option help to call this out and changes
nova-compute to raise InvalidConfiguration during init_host if
[compute]max_disk_devices_to_attach has been set to 0. The nova-compute
service will fail to start if the option is set to 0.

Note: there doesn't appear to be any way to disallow particular values
in a oslo.config IntOpt other than the min/max values. Here we need the
min value to be -1 to represent unlimited. There is a 'choices' kwarg
available but that is only for enumerating valid values and we need to
allow any integer >= 1 as well.

Change-Id: I6e30468bc28f661ddc17937ab1de04a706f05063
Closes-Bug: #1897950
(cherry picked from commit 25a632a4e1daa1941a6297ddb51088972f23ce6d)
(cherry picked from commit 8e12b81839e1fb364b3598699fecf57c78f81df3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/772985/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",3,4ad7e5e2630542bce4cfa53adafd1da299adb0f6,bug/1897950," if CONF.compute.max_disk_devices_to_attach == 0: msg = _('[compute]max_disk_devices_to_attach has been set to 0, ' 'which will prevent instances from being able to boot. ' 'Set -1 for unlimited or set >= 1 to limit the maximum ' 'number of disk devices.') raise exception.InvalidConfiguration(msg) ",,19,1
openstack%2Freleases~master~I8e9b9b4206c5aee528898618350ba50a4c205b8a,openstack/releases,master,I8e9b9b4206c5aee528898618350ba50a4c205b8a,Release python-troveclient 7.0.0 for Wallaby,MERGED,2021-02-22 01:30:01.000000000,2021-02-22 20:11:21.000000000,2021-02-22 20:11:21.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 01:30:01.000000000', 'files': ['deliverables/wallaby/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb267ecee4917e3fe200ad4e425c950ba448ec50', 'message': 'Release python-troveclient 7.0.0 for Wallaby\n\nMajor version is bumped because there is incompatible change introduced,\ne.g.\nhttps://github.com/openstack/python-troveclient/commit/c7319d8fe8cb6cfd5c423472283aadffb12ed52c\n\nChange-Id: I8e9b9b4206c5aee528898618350ba50a4c205b8a\n'}]",0,776858,fb267ecee4917e3fe200ad4e425c950ba448ec50,10,3,1,6732,,,0,"Release python-troveclient 7.0.0 for Wallaby

Major version is bumped because there is incompatible change introduced,
e.g.
https://github.com/openstack/python-troveclient/commit/c7319d8fe8cb6cfd5c423472283aadffb12ed52c

Change-Id: I8e9b9b4206c5aee528898618350ba50a4c205b8a
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/776858/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-troveclient.yaml'],1,fb267ecee4917e3fe200ad4e425c950ba448ec50,troveclient-7.0.0, - version: 7.0.0 projects: - repo: openstack/python-troveclient hash: c7319d8fe8cb6cfd5c423472283aadffb12ed52c,,4,0
openstack%2Ftripleo-common~master~Idb42cb3b8db32b50dcb528a2720d8c5fd96f6d2f,openstack/tripleo-common,master,Idb42cb3b8db32b50dcb528a2720d8c5fd96f6d2f,Bring back custom nova filters for undercloud,MERGED,2021-02-22 06:12:07.000000000,2021-02-22 19:53:34.000000000,2021-02-22 19:50:35.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-22 06:12:07.000000000', 'files': ['tripleo_common/filters/__init__.py', 'tripleo_common/tests/test_filters.py', 'tripleo_common/filters/capabilities_filter.py', 'tripleo_common/filters/list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/83f311e7c318ff1b536d05628d9e72577a88797b', 'message': ""Bring back custom nova filters for undercloud\n\nWe still have jobs using undercloud nova. Let's bring these back.\nPartially reverts\nhttps://review.opendev.org/c/openstack/tripleo-common/+/775964.\n\nCloses-Bug: #1916445\nChange-Id: Idb42cb3b8db32b50dcb528a2720d8c5fd96f6d2f\n""}]",0,776870,83f311e7c318ff1b536d05628d9e72577a88797b,10,5,1,8833,,,0,"Bring back custom nova filters for undercloud

We still have jobs using undercloud nova. Let's bring these back.
Partially reverts
https://review.opendev.org/c/openstack/tripleo-common/+/775964.

Closes-Bug: #1916445
Change-Id: Idb42cb3b8db32b50dcb528a2720d8c5fd96f6d2f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/776870/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/filters/__init__.py', 'tripleo_common/tests/test_filters.py', 'tripleo_common/filters/capabilities_filter.py', 'tripleo_common/filters/list.py']",4,83f311e7c318ff1b536d05628d9e72577a88797b,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import nova from tripleo_common.filters import capabilities_filter def tripleo_filters(): """"""Return a list of filter classes for TripleO This is a wrapper around the Nova all_filters function so we can add our filters to the resulting list. """""" nova_filters = nova.scheduler.filters.all_filters() return (nova_filters + [capabilities_filter.TripleOCapabilitiesFilter]) ",,138,0
openstack%2Ftripleo-common~master~I61affe32dfc9eacbe514893168397c9b291b8713,openstack/tripleo-common,master,I61affe32dfc9eacbe514893168397c9b291b8713,Reduce fact gathering,MERGED,2021-02-15 18:58:37.000000000,2021-02-22 19:52:22.000000000,2021-02-22 19:50:13.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-15 18:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a4c47b6f99b6bfbe7046a86f6446585957e0199', 'message': '[WIP] Reduce fact gathering\n\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n'}, {'number': 2, 'created': '2021-02-15 21:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/20f25243ad905a95c39538a53b0a212c74fce211', 'message': 'Reduce fact gathering\n\nThis change updates the default subset to only be the minimum list of\nfacts for ansible.  In the deployment we need to make sure that we only\ncollect the minimum amount of facts to perform the tasks at hand rather\nthan assume we have all the facts.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nRelated-Bug: #1915761\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n'}, {'number': 3, 'created': '2021-02-18 20:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18044c7404e06f2afab9a3f7545badec55dae6a5', 'message': ""Reduce fact gathering\n\nThis change updates the default subset to only be the minimum list of\nfacts for ansible.  In the deployment we need to make sure that we only\ncollect the minimum amount of facts to perform the tasks at hand rather\nthan assume we have all the facts. Additionally this change turns of the\nconversion of facts into vars as it can really affect the task\nprocessing time. It's enabled on by default and by turning it off can\nimprove overall performance even if you have large amounts of facts.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nRelated-Bug: #1915761\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n""}, {'number': 4, 'created': '2021-02-19 14:38:57.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0e81eb420e8974d7815b98e084a94885a1ff1b8b', 'message': 'Reduce fact gathering\n\nThis change updates the default subset to only be the minimum list of\nfacts for ansible.  In the deployment we need to make sure that we only\ncollect the minimum amount of facts to perform the tasks at hand rather\nthan assume we have all the facts.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nRelated-Bug: #1915761\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n'}]",1,775698,0e81eb420e8974d7815b98e084a94885a1ff1b8b,27,6,4,14985,,,0,"Reduce fact gathering

This change updates the default subset to only be the minimum list of
facts for ansible.  In the deployment we need to make sure that we only
collect the minimum amount of facts to perform the tasks at hand rather
than assume we have all the facts.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708
Related-Bug: #1915761
Change-Id: I61affe32dfc9eacbe514893168397c9b291b8713
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/775698/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,9a4c47b6f99b6bfbe7046a86f6446585957e0199,ansible-facts," # NOTE(mwhahaha): only gather the bare minimum facts because this has # direct impact on how fast ansible can go. config.set('defaults', 'gather_subset', '!all,min')",,3,0
openstack%2Fpuppet-oslo~stable%2Ftrain~I415cfee6045cd904e9675b97750c5de2f1be55d3,openstack/puppet-oslo,stable/train,I415cfee6045cd904e9675b97750c5de2f1be55d3,Add TLS options to oslo.cache,MERGED,2021-02-04 19:23:25.000000000,2021-02-22 19:52:15.000000000,2021-02-22 19:50:17.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 19:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7bc2904f48a6e85a6f18d2a6796785c8ace2274a', 'message': 'Add TLS options to oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/725405\n\nChange-Id: I415cfee6045cd904e9675b97750c5de2f1be55d3\n(cherry picked from commit 5a8dc2b7525d58f241cbeea1ae1631d22ce87481)\n'}, {'number': 2, 'created': '2021-02-21 06:05:12.000000000', 'files': ['releasenotes/notes/add_tls_options-9010fc5eab23dfe7.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7f69fbbd4799c7236505923c631432dc3b774e88', 'message': 'Add TLS options to oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/725405\n\nChange-Id: I415cfee6045cd904e9675b97750c5de2f1be55d3\n(cherry picked from commit 5a8dc2b7525d58f241cbeea1ae1631d22ce87481)\n(cherry picked from commit a0d1e4650e8be4008628dbc68ea507e09735d2c9)\n(cherry picked from commit dc725a221af3e127e30c72694582f690fd3baf21)\n'}]",0,774120,7f69fbbd4799c7236505923c631432dc3b774e88,16,4,2,14250,,,0,"Add TLS options to oslo.cache

This patch specifies a set of options required to build a TLS context.
The context built from those options can later on be passed to any of
the oslo.cache backends that supports TLS connections.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/725405

Change-Id: I415cfee6045cd904e9675b97750c5de2f1be55d3
(cherry picked from commit 5a8dc2b7525d58f241cbeea1ae1631d22ce87481)
(cherry picked from commit a0d1e4650e8be4008628dbc68ea507e09735d2c9)
(cherry picked from commit dc725a221af3e127e30c72694582f690fd3baf21)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/20/774120/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_tls_options-9010fc5eab23dfe7.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,7bc2904f48a6e85a6f18d2a6796785c8ace2274a,memcached-cert-stable/victoria-stable/ussuri-stable/train,"# [*tls_enabled*] # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # Default to $::os_service_default # # [*tls_cafile*] # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # Default to $::os_service_default # # [*tls_certfile*] # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # Default to $::os_service_default # # [*tls_keyfile*] # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # Default to $::os_service_default # # [*tls_allowed_ciphers*] # (Optional) Set the available ciphers for sockets created with # the TLS context. It should be a string in the OpenSSL cipher # list format. If not specified, all OpenSSL enabled ciphers will # be available. # Default to $::os_service_default # $tls_enabled = $::os_service_default, $tls_cafile = $::os_service_default, $tls_certfile = $::os_service_default, $tls_keyfile = $::os_service_default, $tls_allowed_ciphers = $::os_service_default, 'cache/tls_enabled' => { value => $tls_enabled }, 'cache/tls_cafile' => { value => $tls_cafile }, 'cache/tls_certfile' => { value => $tls_certfile }, 'cache/tls_keyfile' => { value => $tls_keyfile }, 'cache/tls_allowed_ciphers' => { value => $tls_allowed_ciphers },",,62,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I02866d46cce0f6b8c7f58db121707e92f4559a8e,openstack/python-tripleoclient,stable/train,I02866d46cce0f6b8c7f58db121707e92f4559a8e,[Train] Bump queue subscription ttl for WebsocketClient,MERGED,2021-02-19 12:31:36.000000000,2021-02-22 19:52:07.000000000,2021-02-22 19:50:20.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 12:31:36.000000000', 'files': ['tripleoclient/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cc9c77040428438f61f5d17c25374100eb2eeaf6', 'message': ""[Train] Bump queue subscription ttl for WebsocketClient\n\nAt present it's set 1t 10000s which is not enough\nfor many large deployments with current ansible\nperformance issues. Client gets stuck, where as\nconfig-download workflow continues to success in\nthe background.\n\nThough it can be made configurable, let's\nbump it to 12 hrs (43200s) as it's only required\ntill we fix ansible performance issues.\n\nCloses-Bug: #1872823\nChange-Id: I02866d46cce0f6b8c7f58db121707e92f4559a8e\n""}]",0,776612,cc9c77040428438f61f5d17c25374100eb2eeaf6,8,3,1,8833,,,0,"[Train] Bump queue subscription ttl for WebsocketClient

At present it's set 1t 10000s which is not enough
for many large deployments with current ansible
performance issues. Client gets stuck, where as
config-download workflow continues to success in
the background.

Though it can be made configurable, let's
bump it to 12 hrs (43200s) as it's only required
till we fix ansible performance issues.

Closes-Bug: #1872823
Change-Id: I02866d46cce0f6b8c7f58db121707e92f4559a8e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/776612/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/plugin.py'],1,cc9c77040428438f61f5d17c25374100eb2eeaf6,, 'ttl': 43200, 'ttl': 10000,1,1
openstack%2Fopenstack-ansible~stable%2Fvictoria~I81556c641f891773474644f842ff3b07493e8715,openstack/openstack-ansible,stable/victoria,I81556c641f891773474644f842ff3b07493e8715,Do not apply force flag to git.reset,MERGED,2021-02-17 19:33:43.000000000,2021-02-22 19:28:59.000000000,2021-02-22 19:27:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 19:33:43.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'playbooks/library/git_requirements.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7b5fcf85083c047705bb8262cab73548bdf090a', 'message': ""Do not apply force flag to git.reset\n\nReturn applying force flag to all distros. Instead we don't apply force\nflag for `git reset` command at all.\n\nChange-Id: I81556c641f891773474644f842ff3b07493e8715\n(cherry picked from commit c7dbdf8e117396b3180dbd0ea8fcf3b38587cac4)\n""}]",0,776184,e7b5fcf85083c047705bb8262cab73548bdf090a,14,3,1,28619,,,0,"Do not apply force flag to git.reset

Return applying force flag to all distros. Instead we don't apply force
flag for `git reset` command at all.

Change-Id: I81556c641f891773474644f842ff3b07493e8715
(cherry picked from commit c7dbdf8e117396b3180dbd0ea8fcf3b38587cac4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/776184/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/library/git_requirements.py', 'scripts/get-ansible-role-requirements.yml']",2,e7b5fcf85083c047705bb8262cab73548bdf090a,, force: true," force: ""{{ not (ansible_distribution | lower == 'ubuntu' and ansible_distribution_version is version('20.04', '>=')) }}""",2,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I47b95ad46e2d4e5b1f370a2f840826e87da2d703,openstack/tripleo-heat-templates,stable/ussuri,I47b95ad46e2d4e5b1f370a2f840826e87da2d703,Move cell_v2 discovery off compute hosts,MERGED,2021-02-05 21:37:08.000000000,2021-02-22 19:14:24.000000000,2021-02-22 19:10:19.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-02-05 21:37:08.000000000', 'files': ['roles/NovaManager.yaml', 'releasenotes/notes/cell_v2_discovery_off_computes-2b977c6b9a01cde2.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'tools/yaml-validate.py', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a8c007daa5d02e20454a39ee453ea6e9f6b0292', 'message': 'Move cell_v2 discovery off compute hosts\n\nIn I12a02f636f31985bc1b71bff5b744d346286a95f cell_v2 discovery was\noriginally moved from the nova-api container to the\nnova-compute|nova-ironic containers in order to run cell\ndiscovery during a scale up where the controllers are omitted\n(e.g to exclude the controllers from a maintenance window).\n\nThis requires api database credentials on the compute node, which is\nforbidden, so it must move back to a nova-api host as a pre-requisite\nfor removing these credentials in a follow-up patch.\n\nScale-up while omitting the controllers will no longer work out of the\nbox. Either a manual cell_v2 discovery can be run after scale up, or an\nadditional node can be deployed using the NovaManager tripleo role.\n\nRelated-bug: #1786961\nRelated-bug: #1871482\nChange-Id: I47b95ad46e2d4e5b1f370a2f840826e87da2d703\n(cherry picked from commit 629485dde5d6b96d38688f362362fac45392ece9)\n(cherry picked from commit 03697234fd2e8c8d052c331485d304bcb77b1b8b)\n'}]",0,774264,9a8c007daa5d02e20454a39ee453ea6e9f6b0292,10,6,1,27419,,,0,"Move cell_v2 discovery off compute hosts

In I12a02f636f31985bc1b71bff5b744d346286a95f cell_v2 discovery was
originally moved from the nova-api container to the
nova-compute|nova-ironic containers in order to run cell
discovery during a scale up where the controllers are omitted
(e.g to exclude the controllers from a maintenance window).

This requires api database credentials on the compute node, which is
forbidden, so it must move back to a nova-api host as a pre-requisite
for removing these credentials in a follow-up patch.

Scale-up while omitting the controllers will no longer work out of the
box. Either a manual cell_v2 discovery can be run after scale up, or an
additional node can be deployed using the NovaManager tripleo role.

Related-bug: #1786961
Related-bug: #1871482
Change-Id: I47b95ad46e2d4e5b1f370a2f840826e87da2d703
(cherry picked from commit 629485dde5d6b96d38688f362362fac45392ece9)
(cherry picked from commit 03697234fd2e8c8d052c331485d304bcb77b1b8b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/774264/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/NovaManager.yaml', 'releasenotes/notes/cell_v2_discovery_off_computes-2b977c6b9a01cde2.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'tools/yaml-validate.py', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml']",7,9a8c007daa5d02e20454a39ee453ea6e9f6b0292,refactor_nova_db_config," - name: discover via nova_manager? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_manager'][0] }}"" nova_cellv2_discovery_container: nova_manager when: - groups['nova_manager'] is defined and (groups['nova_manager']|length>0) - name: discover via nova_api? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_api'][0] }}"" nova_cellv2_discovery_container: nova_api - groups['nova_api'] is defined and (groups['nova_api']|length>0) - name: Warn if no discovery host available fail: msg: 'No hosts available to run nova cell_v2 host discovery.' ignore_errors: yes when: - nova_cellv2_discovery_delegate_host is not defined command: ""{{ container_cli }} exec {{ nova_cellv2_discovery_container }} nova-manage cell_v2 discover_hosts --by-service"""," - name: discover via nova_compute? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_compute'][0] }}"" when: - groups['nova_compute'] is defined and (groups['nova_compute']|length>0) - name: discover via nova_ironic? set_fact: nova_cellv2_discovery_delegate_host: ""{{ groups['nova_ironic'][0] }}"" - groups['nova_ironic'] is defined and (groups['nova_ironic']|length>0) command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service""",178,8
openstack%2Ftripleo-ansible~stable%2Ftrain~I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14,openstack/tripleo-ansible,stable/train,I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14,"Revert ""Remove json_error callback""",MERGED,2021-02-22 04:07:15.000000000,2021-02-22 19:12:36.000000000,2021-02-22 19:05:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 04:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5644edbca734c8547f9338e488a005b7dad5a748', 'message': 'Revert ""Remove json_error callback""\n\nThis reverts commit d6263370815cfe397a0692bbadc9a4966ebb233a.\n\nReason for revert: We have the \'openstack overcloud failures\' command in stable/train and the associated mistral workflow that leverages this. Also it seems to work with my testing (Did not see the error mentioned in the commit message).\n\nChange-Id: I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14\n'}, {'number': 2, 'created': '2021-02-22 04:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4fee7d51e342bf410cfa558f5776dd0bf285d7b9', 'message': 'Revert ""Remove json_error callback""\n\nThis reverts commit d6263370815cfe397a0692bbadc9a4966ebb233a.\n\nReason for revert: We have the \'openstack overcloud failures\' command in stable/train and the associated mistral workflow that leverages this. Also it seems to work with my testing (Did not see the error mentioned in the commit message).\n\nChange-Id: I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14\n'}, {'number': 3, 'created': '2021-02-22 04:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e21a9b77d11162c6a0cf4e6e779cbda17c439ede', 'message': 'Revert ""Remove json_error callback""\n\nThis reverts commit d6263370815cfe397a0692bbadc9a4966ebb233a.\n\nReason for revert: We have the \'openstack overcloud failures\' command in stable/train and the associated mistral workflow that leverages this. Also it seems to work with my testing (Did not see the error mentioned in the commit message).\n\nChange-Id: I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14\n'}, {'number': 4, 'created': '2021-02-22 04:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7b718442e32339375bc9340e3cb2b85d279831b8', 'message': 'Revert ""Remove json_error callback""\n\nThis reverts commit d6263370815cfe397a0692bbadc9a4966ebb233a.\n\nReason for revert: We have the \'openstack overcloud failures\' command in stable/train and the associated mistral workflow that leverages this. Also it seems to work with my testing (Did not see the error mentioned in the commit message).\n\nChange-Id: I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14\n'}, {'number': 5, 'created': '2021-02-22 05:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ca2f5b807d41960afc5402bd84e973067e172bd', 'message': 'Revert ""Remove json_error callback""\n\nThis reverts commit d6263370815cfe397a0692bbadc9a4966ebb233a.\n\nReason for revert: We have the \'openstack overcloud failures\' command in stable/train and the associated mistral workflow that leverages this. Also it seems to work with my testing (Did not see the error mentioned in the commit message).\n\nChange-Id: I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14\n'}, {'number': 6, 'created': '2021-02-22 05:56:25.000000000', 'files': ['doc/source/modules/calllback-json_error.rst', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/callback/json_error.py', 'tripleo_ansible/roles/backup-and-restore/setup_nfs/tasks/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/test_json_error_callback/meta/main.yml', 'tripleo_ansible/roles/test_json_error_callback/tasks/main.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/playbook.yml', 'doc/source/roles/role-test_json_error_callback.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8dba0b4020c54dbdce8bd42a67857545b1620e7f', 'message': 'Revert ""Remove json_error callback""\n\nThis reverts commit d6263370815cfe397a0692bbadc9a4966ebb233a.\n\nReason for revert: We have the \'openstack overcloud failures\' command in stable/train and the associated mistral workflow that leverages this. Also it seems to work with my testing (Did not see the error mentioned in the commit message).\n\nChange-Id: I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14\n'}]",5,776878,8dba0b4020c54dbdce8bd42a67857545b1620e7f,21,5,6,8833,,,0,"Revert ""Remove json_error callback""

This reverts commit d6263370815cfe397a0692bbadc9a4966ebb233a.

Reason for revert: We have the 'openstack overcloud failures' command in stable/train and the associated mistral workflow that leverages this. Also it seems to work with my testing (Did not see the error mentioned in the commit message).

Change-Id: I018e6e9f67bcbcf6b2db5ece4f99f3558502cb14
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/776878/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/test_json_error_callback/meta/main.yml', 'doc/source/modules/calllback-json_error.rst', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_json_error_callback/tasks/main.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/playbook.yml', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/test_json_error_callback/molecule/default/prepare.yml', 'doc/source/roles/role-test_json_error_callback.rst', 'tripleo_ansible/ansible_plugins/callback/json_error.py']",11,5644edbca734c8547f9338e488a005b7dad5a748,json_error,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Ansible has another callback plugin just called ""json.py"", which overrides # a normal import of ""import json"", so use absolute imports from __future__ import absolute_import import json import os from ansible.plugins.callback import CallbackBase DOCUMENTATION = ''' callback: json_error short_description: Write errors in JSON format to a log file description: - This callback writes errors in JSON format to a log file type: aggregate options: output_dir: name: json-error log file default: ansible-error.json description: Log file where to write errors in JSON format. env: - name: JSON_ERROR_LOG_FILE ''' class CallbackModule(CallbackBase): CALLBACK_VERSION = 2.5 CALLBACK_TYPE = 'aggregate' CALLBACK_NAME = 'json-error' def __init__(self, display=None): super(CallbackModule, self).__init__(display) self.errors = {} self.log_file = os.getenv( 'JSON_ERROR_LOG_FILE', 'ansible-errors.json') def v2_playbook_on_stats(self, stats): with open(self.log_file, 'w') as f: f.write(json.dumps(self.errors)) def v2_runner_on_failed(self, result, ignore_errors=False): if not ignore_errors: host_errors = self.errors.setdefault(result._host.name, []) host_errors.append((result.task_name, result._result)) ",,315,0
openstack%2Fironic-python-agent~master~I0e70a2cbc13744195c9493a48662e465ec010dbe,openstack/ironic-python-agent,master,I0e70a2cbc13744195c9493a48662e465ec010dbe,New deploy step for injecting arbitrary files,MERGED,2021-02-12 18:35:35.000000000,2021-02-22 18:50:45.000000000,2021-02-22 18:48:22.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-12 18:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7df063c46faaabb8466dcea21fc1fecfd90b46b4', 'message': '[WIP] New deploy step for injecting arbitrary files\n\nChange-Id: I0e70a2cbc13744195c9493a48662e465ec010dbe\nStory: #2008611\nTask: #41794\n'}, {'number': 2, 'created': '2021-02-15 13:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/766f79ad339759cd0a157c0333cd19e6c49f1656', 'message': '[WIP] New deploy step for injecting arbitrary files\n\nChange-Id: I0e70a2cbc13744195c9493a48662e465ec010dbe\nStory: #2008611\nTask: #41794\n'}, {'number': 3, 'created': '2021-02-15 13:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/898dc2b72206e08e961959ee61e1384bd1306868', 'message': '[WIP] New deploy step for injecting arbitrary files\n\nChange-Id: I0e70a2cbc13744195c9493a48662e465ec010dbe\nStory: #2008611\nTask: #41794\n'}, {'number': 4, 'created': '2021-02-15 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/42ce36890777bf18968e1911012590b162c6f0f8', 'message': 'New deploy step for injecting arbitrary files\n\nThis change adds a deploy step inject_files that adds a flexible\nway to inject files into the instance.\n\nChange-Id: I0e70a2cbc13744195c9493a48662e465ec010dbe\nStory: #2008611\nTask: #41794\n'}, {'number': 5, 'created': '2021-02-16 15:57:19.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/inject-files-b411369ce6856dac.yaml', 'requirements.txt', 'ironic_python_agent/tests/unit/test_inject_files.py', 'doc/source/admin/hardware_managers.rst', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/inject_files.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/59cb08fd288a23f31e8cfdd5aa57d979c5a3daff', 'message': 'New deploy step for injecting arbitrary files\n\nThis change adds a deploy step inject_files that adds a flexible\nway to inject files into the instance.\n\nChange-Id: I0e70a2cbc13744195c9493a48662e465ec010dbe\nStory: #2008611\nTask: #41794\n'}]",0,775428,59cb08fd288a23f31e8cfdd5aa57d979c5a3daff,19,5,5,10239,,,0,"New deploy step for injecting arbitrary files

This change adds a deploy step inject_files that adds a flexible
way to inject files into the instance.

Change-Id: I0e70a2cbc13744195c9493a48662e465ec010dbe
Story: #2008611
Task: #41794
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/28/775428/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'requirements.txt', 'ironic_python_agent/tests/unit/test_inject_files.py', 'ironic_python_agent/config.py', 'ironic_python_agent/inject_files.py']",5,7df063c46faaabb8466dcea21fc1fecfd90b46b4,story/2008611,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Implementation of the inject_files deploy step."""""" import base64 import contextlib import os from ironic_lib import disk_utils from ironic_lib import utils as ironic_utils from oslo_concurrency import processutils from oslo_config import cfg from oslo_log import log from oslo_utils import units import requests from ironic_python_agent import errors from ironic_python_agent import hardware from ironic_python_agent import utils CONF = cfg.CONF LOG = log.getLogger(__name__) ARGSINFO = { ""files"": { ""description"": ( ""Files to inject, a mapping from locations to contents. "" ""A location is a simple path or a partition and a path separated "" ""by a colon, e.g. /dev/disk/by-label/smth:/etc/path/file. "" ""Contents can be a base64 encoded string or a mapping with keys "" ""'data' (base64 encoded string), 'mode' (new file mode) and "" ""'dirmode' (mode for the leaf directory, if created). "" ""If not specified, the value from node.properties is used."" ), ""required"": False, }, ""verify_ca"": { ""description"": ( ""Whether to verify TLS certificates. Global agent options "" ""are used by default."" ), ""required"": False, } } class _Client: _CHUNK_SIZE = 1 * units.Mi def __init__(self, verify_ca): if verify_ca: self.verify, self.cert = utils.get_ssl_client_options(CONF) else: self.verify, self.cert = False, None @contextlib.contextmanager def __call__(self, url): try: with requests.get(url, verify=self.verify, cert=self.cert, stream=True) as resp: resp.raise_for_status() yield resp.iter_content(self._CHUNK_SIZE) except requests.RequestException as exc: raise errors.CommandExecutionError( ""Unable to read data from %s: %s"" % (url, exc)) def inject_files(node, files, verify_ca=True): """"""A deploy step to inject arbitrary files. :param node: A dictionary of the node object :param ports: A list of dictionaries containing information of ports for the node :param files: See ARGSINFO. :param verify_ca: Whether to verify TLS certificate. :raises: InvalidCommandParamsError """""" files = _validate_files( node['properties'].get('inject_files') or [], files or []) if not files: LOG.info('No files to inject') return http_get = _Client(verify_ca) for fl in files: _inject_one(fl, http_get) def _inject_one(fl, http_get): """"""Inject one file. :param fl: File information. :param http_get: Context manager to get HTTP URLs. """""" root_dev = hardware.dispatch_to_managers('get_os_install_device') with _find_and_mount_path(fl['path'], fl.get('on'), root_dev) as file_path: if fl.get('deleted'): ironic_utils.unlink_without_raise(file_path) return try: with _open_with_mode(file_path, fl.get('mode'), fl.get('dirmode')) as fp: if '://' in fl['data']: with http_get(fl['data']) as resp: for chunk in resp: fp.write(chunk) else: fp.write(base64.b64decode(fl['data'])) except Exception as exc: LOG.exception('Failed to process file %s', fl) raise errors.CommandExecutionError( 'Failed to process file %s. %s: %s' % (fl, type(exc).__class__, exc)) @contextlib.contextmanager def _open_with_mode(path, mode, dirmode, orig_path): """"""Create a file, applying modes to it. Ignores the current umask by using os.chmod. :param path: File path. :param mode: Mode to set on the file. :param dirmode: Mode to set on the newly created directory. :return: Context manager that yields a file object. """""" dirpath = os.dirname(path) try: os.makedirs(dirpath) except FileExistsError: pass else: if dirmode: os.chmod(dirpath, dirmode) with open(path, 'wb') as fp: yield fp if mode: os.chmod(mode) @contextlib.contextmanager def _find_and_mount_path(path, on, root_dev): """"""Find the specified path on the device. :param path: Path to the file to find. :param on: Device to find on or None. :param root_dev: Root device from the hardware manager. :return: Context manager that yields the path to the file. """""" path = os.path.normpath(path.strip('/')) # to make path joining work if on: try: part_num = int(on) except ValueError: with ironic_utils.mounted(on) as part_path: yield os.path.join(part_path, path) else: # TODO(dtantsur): switch to ironic-lib instead: # https://review.opendev.org/c/openstack/ironic-lib/+/774502 part_template = '%s%s' if 'nvme' in root_dev: part_template = '%sp%s' part_dev = part_template % (root_dev, part_num) with ironic_utils.mounted(part_dev) as part_path: yield os.path.join(part_path, path) else: try: # This turns e.g. etc/sysctl.d/my.conf into etc + sysctl.d/my.conf detect_dir, rest_dir = path.split('/', 1) except ValueError: # Validation ensures that files in / have ""on"" present, checking # here just in case. raise errors.InvalidCommandParamsError( ""Invalid path %s, must be an absolute path to a file"" % path) with find_partition_with_path(detect_dir, root_dev) as part_path: yield os.path.join(part_path, rest_dir) @contextlib.contextmanager def find_partition_with_path(path, device=None): """"""Find a partition with the given path. :param path: Expected path. :param device: Target device. If None, the root device is used. :returns: A context manager that will unmount and delete the temporary mount point on exit. """""" if device is None: device = hardware.dispatch_to_managers('get_os_install_device') partitions = disk_utils.list_partitions(device) # Make os.path.join work as expected lookup_path = path.lstrip('/') for part in partitions: if 'lvm' in part['flags']: LOG.debug('Skipping LVM partition %s', part) continue # TODO(dtantsur): switch to ironic-lib instead: # https://review.opendev.org/c/openstack/ironic-lib/+/774502 part_template = '%s%s' if 'nvme' in device: part_template = '%sp%s' part_path = part_template % (device, part['number']) LOG.debug('Inspecting partition %s for path %s', part, path) try: with ironic_utils.mounted(part_path) as local_path: found_path = os.path.join(local_path, lookup_path) if not os.path.isdir(found_path): continue LOG.info('Path %s has been found on partition %s', path, part) yield found_path return except processutils.ProcessExecutionError as exc: LOG.warning('Failure when inspecting partition %s: %s', part, exc) raise errors.DeviceNotFound(""No partition found with path %s, scanned: %s"" % (path, partitions)) def _validate_files(from_properties, from_args): """"""Sanity check for files."""""" if not isinstance(from_properties, list): raise errors.InvalidCommandParamsError( ""The `inject_files` node property must be a list, got %s"" % type(from_properties).__name__) if not isinstance(from_args, list): raise errors.InvalidCommandParamsError( ""The `files` argument must be a list, got %s"" % type(from_args).__name__) files = from_properties + from_args failures = [] for fl in files: unknown = set(fl) - {'path', 'on', 'data', 'deleted', 'mode', 'dirmode', 'owner'} if unknown: failures.append('unexpected fields in %s: %s' % (fl, ', '.join(unknown))) if not fl.get('path'): failures.append('expected a path in %s' % fl) elif os.path.dirname(fl['path']) == '/' and not fl.get('on'): failures.append('%s in root directory requires ""on""' % fl) elif fl['path'].endswith('/'): failures.append('directories not supported for %s' % fl) if fl.get('data') and fl.get('deleted'): failures.append('data cannot be used with deleted in %s' % fl) for field in ('owner', 'group', 'mode', 'dirmode'): if field in fl and type(fl[field]) is not int: failures.append('%s must be a number in %s' % (field, fl)) if failures: raise errors.InvalidCommandParamsError( ""Validation of files failed: %s"" % '; '.join(failures)) return files ",,427,1
openstack%2Fcharm-neutron-openvswitch~master~Iecbbfc076d97fa5163bf635c495aadbde1416c33,openstack/charm-neutron-openvswitch,master,Iecbbfc076d97fa5163bf635c495aadbde1416c33,Add Groovy to the test gate,MERGED,2020-11-05 11:51:33.000000000,2021-02-22 18:44:41.000000000,2021-02-22 18:44:41.000000000,"[{'_account_id': 8992}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/5415e360439c45f28b10997e2f340effcb26743e', 'message': 'Add Groovy to the test gate\n\nChange-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33\n'}, {'number': 2, 'created': '2021-01-09 17:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/b521efcb9d0b455a3c7cc91272d6604907a4f41a', 'message': 'Add Groovy to the test gate\n\nChange-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33\n'}, {'number': 3, 'created': '2021-01-22 13:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/fedec0fc68743f0590aa4745bf11ed12eaf886a9', 'message': 'Add Groovy to the test gate\n\nChange-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33\n'}, {'number': 4, 'created': '2021-01-23 16:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/c3b2d10db2e600282ebafa076e8b514ecba7b5b1', 'message': 'Add Groovy to the test gate\n\nChange-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33\n'}, {'number': 5, 'created': '2021-01-28 09:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1aa75f83aa51d86e1f7c9b51278407e5809963e6', 'message': 'Add Groovy to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/489\nChange-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33\n'}, {'number': 6, 'created': '2021-02-01 09:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/66c5ae77a2d9237f4acbad452536389e440899cd', 'message': 'Add Groovy to the test gate\n\nChange-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33\n'}, {'number': 7, 'created': '2021-02-19 10:30:40.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/2621ed43c6c236ccd70d71aa34100e8217a3d415', 'message': 'Add Groovy to the test gate\n\nChange-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33\n'}]",0,761576,2621ed43c6c236ccd70d71aa34100e8217a3d415,45,4,7,31289,,,0,"Add Groovy to the test gate

Change-Id: Iecbbfc076d97fa5163bf635c495aadbde1416c33
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/76/761576/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py']",3,5415e360439c45f28b10997e2f340effcb26743e,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",23,7
openstack%2Fdesignate~master~I471db98544332cb454d15f29d86407cd09e91d6c,openstack/designate,master,I471db98544332cb454d15f29d86407cd09e91d6c,New Doc intro section,MERGED,2020-11-23 13:15:46.000000000,2021-02-22 18:31:29.000000000,2021-02-22 18:29:31.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-11-23 13:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/74a0c207ec1eb4fe45da98b2c2d2f52d78de12d0', 'message': 'WIP Doc intro section\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n'}, {'number': 2, 'created': '2020-11-23 13:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a09bc41f99835faa84fdb35fbdfe2390de717fb5', 'message': 'WIP Doc intro section\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n'}, {'number': 3, 'created': '2020-11-23 13:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/63ccd76f4efa4ad5d222399bc3d0eace4c5beb21', 'message': 'WIP Doc intro section\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n'}, {'number': 4, 'created': '2020-11-24 05:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/398a7aed28564dbdcfea3b764c95e1a93f6ee04f', 'message': 'WIP Doc intro section\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n'}, {'number': 5, 'created': '2020-12-04 13:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7872b2c3d8cc4d462839014dfe371eed8df65e7f', 'message': 'WIP Doc intro section\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n'}, {'number': 6, 'created': '2020-12-04 14:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/35e832e0c1d20fdf93cd17da78d3043508af77e0', 'message': 'WIP Doc intro section\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n'}, {'number': 7, 'created': '2020-12-07 12:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/564f97347bcae1163325239390b7536ca766af4f', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users' since they probably do\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 8, 'created': '2020-12-07 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5cb5ce8e8ee1da91171f18b5b05dbafdf5d3965c', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users' since they probably do\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 9, 'created': '2020-12-08 03:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/82c20a17c4a929a41d993cbf4ca5750a46e449a0', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 10, 'created': '2020-12-09 02:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/276d9b24dd2241f1cc60585d2e092804254e1bc2', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 11, 'created': '2020-12-09 02:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/958f5aacf75453abc6d96d6af27c15b3dbe31804', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 12, 'created': '2020-12-09 03:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4b279d204aa82aad27bf6aa323a47c71f76a9957', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 13, 'created': '2021-02-05 02:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d7cdaa078e74042823fe7cccf7f0e31001765fc4', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 14, 'created': '2021-02-05 02:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/301a275d16e5b29c3026611cb6660da730784d46', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 15, 'created': '2021-02-05 08:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/98577cd121802cd51dc4a57085534e3fcf085929', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 16, 'created': '2021-02-05 08:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0b570d8fb22c6742542d81e9ee9dcdb7969e2c72', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 17, 'created': '2021-02-08 01:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c504918c39d68b72e13a6e84dfbe35f4e28a6454', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}, {'number': 18, 'created': '2021-02-08 04:55:23.000000000', 'files': ['doc/source/intro/index.rst', 'doc/source/images/Designate-DNS-Overview.png', 'doc/source/images/Designate-Arch.png', 'doc/source/images/Designate-DNS-Resolvers.svg', 'doc/source/images/Designate-DNS-Overview.svg', 'doc/source/images/Designate-PowerDNS-Detail.png', 'doc/source/images/Designate-Simple.svg', 'doc/source/index.rst', 'doc/source/images/Designate-DNS-Integration.svg', 'doc/source/images/Designate-MultiZone.png', 'doc/source/images/Designate-DNS-Resolvers.png', 'doc/source/images/Designate-DNS-Integration.png', 'doc/source/images/Designate-Arch.svg'], 'web_link': 'https://opendev.org/openstack/designate/commit/75668d084c2a27fcc25c67741ca309bfe43b1322', 'message': ""New Doc intro section\n\nAdded a new section to the documentation introducing the core\nconcepts of DNS, providing an overview of Designate and how\nit integrates with Neutron and external nameservers and linking\nto other documentation for more information.\n\nThe Designate architecture diagram has been updated to reflect\nmodern deployments:\n  - All services are run as HA\n  - Nova does not interact with the Designate API, it has been\n    replaced with 'Users'\n  - The DB only receives connections from MiniDNS or Central so\n    its arrows are all incoming\n  - The backend is a part of the worker service\n  - MiniDNS sends NOTIFY to customer DNS Servers and\n    also receives transfer requests so their connection is\n    bidirectional\n\nA subsequent change can update the architecture section to reflect\nthese clarifications, though they are for the most part already\nmentioned in the text there.\n\nChange-Id: I471db98544332cb454d15f29d86407cd09e91d6c\n""}]",31,763779,75668d084c2a27fcc25c67741ca309bfe43b1322,58,5,18,6994,,,0,"New Doc intro section

Added a new section to the documentation introducing the core
concepts of DNS, providing an overview of Designate and how
it integrates with Neutron and external nameservers and linking
to other documentation for more information.

The Designate architecture diagram has been updated to reflect
modern deployments:
  - All services are run as HA
  - Nova does not interact with the Designate API, it has been
    replaced with 'Users'
  - The DB only receives connections from MiniDNS or Central so
    its arrows are all incoming
  - The backend is a part of the worker service
  - MiniDNS sends NOTIFY to customer DNS Servers and
    also receives transfer requests so their connection is
    bidirectional

A subsequent change can update the architecture section to reflect
these clarifications, though they are for the most part already
mentioned in the text there.

Change-Id: I471db98544332cb454d15f29d86407cd09e91d6c
",git fetch https://review.opendev.org/openstack/designate refs/changes/79/763779/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/intro/index.rst', 'doc/source/images/Designate-DNS-Overview.png', 'doc/source/images/Designate-Arch.png', 'doc/source/images/Designate-DNS-Resolvers.svg', 'doc/source/images/Designate-DNS-Resolvers.png', 'doc/source/images/Designate-Arch.svg', 'doc/source/images/Designate-DNS-Overview.svg']",8,74a0c207ec1eb4fe45da98b2c2d2f52d78de12d0,doc_intro,"<?xml version=""1.0"" encoding=""UTF-8"" standalone=""no""?> <svg xmlns:dc=""http://purl.org/dc/elements/1.1/"" xmlns:cc=""http://creativecommons.org/ns#"" xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#"" xmlns:svg=""http://www.w3.org/2000/svg"" xmlns=""http://www.w3.org/2000/svg"" xmlns:sodipodi=""http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"" xmlns:inkscape=""http://www.inkscape.org/namespaces/inkscape"" width=""1920"" height=""1080"" viewBox=""0 0 508.00001 285.74999"" version=""1.1"" id=""svg360"" inkscape:version=""1.0.1 (3bc2e813f5, 2020-09-07)"" sodipodi:docname=""Designate-DNS-Overview.svg"" inkscape:export-filename=""/home/michapma/Designate-DNS-Overview.png"" inkscape:export-xdpi=""96"" inkscape:export-ydpi=""96""> <defs id=""defs354""> <rect x=""58.208333"" y=""79.375"" width=""132.29167"" height=""111.125"" id=""rect9676"" /> <marker style=""overflow:visible"" id=""marker4229"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lstart"" inkscape:isstock=""true""> <path transform=""scale(1.1) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#000000;stroke-opacity:1;fill:#000000;fill-opacity:1"" id=""path4227"" /> </marker> <marker style=""overflow:visible;"" id=""marker4111"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""scale(1.1) rotate(180) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#e300e4;stroke-opacity:1;fill:#e300e4;fill-opacity:1"" id=""path4109"" /> </marker> <marker style=""overflow:visible;"" id=""marker3987"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""scale(1.1) rotate(180) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#000000;stroke-opacity:1;fill:#000000;fill-opacity:1"" id=""path3985"" /> </marker> <marker style=""overflow:visible;"" id=""marker3881"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""scale(1.1) rotate(180) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#000000;stroke-opacity:1;fill:#000000;fill-opacity:1"" id=""path3879"" /> </marker> <marker style=""overflow:visible;"" id=""marker5375"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""scale(1.1) rotate(180) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#000000;stroke-opacity:1;fill:#000000;fill-opacity:1"" id=""path5373"" /> </marker> <marker style=""overflow:visible"" id=""marker3836"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lstart"" inkscape:isstock=""true""> <path transform=""scale(1.1) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#000000;stroke-opacity:1;fill:#000000;fill-opacity:1"" id=""path3834"" /> </marker> <marker style=""overflow:visible;"" id=""marker3212"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""scale(1.1) rotate(180) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#000000;stroke-opacity:1;fill:#000000;fill-opacity:1"" id=""path3210"" /> </marker> <marker style=""overflow:visible;"" id=""marker2970"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""scale(1.1) rotate(180) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#000000;stroke-opacity:1;fill:#000000;fill-opacity:1"" id=""path2968"" /> </marker> <marker style=""overflow:visible;"" id=""Arrow2Lend"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""scale(1.1) rotate(180) translate(1,0)"" d=""M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "" style=""fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round;stroke:#424242;stroke-opacity:1;fill:#424242;fill-opacity:1"" id=""path2661"" /> </marker> <marker style=""overflow:visible;"" id=""Arrow1Lend"" refX=""0.0"" refY=""0.0"" orient=""auto"" inkscape:stockid=""Arrow1Lend"" inkscape:isstock=""true""> <path transform=""scale(0.8) rotate(180) translate(12.5,0)"" style=""fill-rule:evenodd;stroke:#000000;stroke-width:1pt;stroke-opacity:1;fill:#000000;fill-opacity:1"" d=""M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z "" id=""path2643"" /> </marker> <marker style=""overflow:visible"" id=""marker4111-3"" refX=""0"" refY=""0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""matrix(-1.1,0,0,-1.1,-1.1,0)"" d=""M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"" style=""fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"" id=""path4109-8"" /> </marker> <marker style=""overflow:visible"" id=""marker4111-6"" refX=""0"" refY=""0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""matrix(-1.1,0,0,-1.1,-1.1,0)"" d=""M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"" style=""fill:#e300e4;fill-opacity:1;fill-rule:evenodd;stroke:#e300e4;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"" id=""path4109-1"" /> </marker> <marker style=""overflow:visible"" id=""marker4111-5"" refX=""0"" refY=""0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""matrix(-1.1,0,0,-1.1,-1.1,0)"" d=""M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"" style=""fill:#e400e4;fill-opacity:1;fill-rule:evenodd;stroke:#e400e4;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"" id=""path4109-9"" /> </marker> <marker style=""overflow:visible"" id=""marker4111-6-9"" refX=""0"" refY=""0"" orient=""auto"" inkscape:stockid=""Arrow2Lend"" inkscape:isstock=""true""> <path transform=""matrix(-1.1,0,0,-1.1,-1.1,0)"" d=""M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"" style=""fill:#e300e4;fill-opacity:1;fill-rule:evenodd;stroke:#e300e4;stroke-width:0.625;stroke-linejoin:round;stroke-opacity:1"" id=""path4109-1-9"" /> </marker> </defs> <sodipodi:namedview id=""base"" pagecolor=""#ffffff"" bordercolor=""#666666"" borderopacity=""1.0"" inkscape:pageopacity=""0.0"" inkscape:pageshadow=""2"" inkscape:zoom=""0.70710678"" inkscape:cx=""1323.3163"" inkscape:cy=""440.58912"" inkscape:document-units=""mm"" inkscape:current-layer=""layer1"" inkscape:document-rotation=""0"" showgrid=""false"" inkscape:window-width=""2560"" inkscape:window-height=""1343"" inkscape:window-x=""0"" inkscape:window-y=""0"" inkscape:window-maximized=""1"" showguides=""true"" objecttolerance=""12.9"" guidetolerance=""1.2"" gridtolerance=""8.3"" units=""px"" inkscape:lockguides=""false"" inkscape:guide-bbox=""true""> <inkscape:grid type=""xygrid"" id=""grid461"" /> </sodipodi:namedview> <metadata id=""metadata357""> <rdf:RDF> <cc:Work rdf:about=""""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource=""http://purl.org/dc/dcmitype/StillImage"" /> <dc:title></dc:title> </cc:Work> </rdf:RDF> </metadata> <g inkscape:label=""Layer 1"" inkscape:groupmode=""layer"" id=""layer1""> <g id=""g10133""> <rect style=""fill:#3469a3;fill-opacity:1;stroke:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3425-4"" width=""112.78281"" height=""99.249191"" x=""70.539917"" y=""87.651344"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#ffffff;stroke-width:0.264583"" x=""114.59101"" y=""99.843163"" id=""text3463""><tspan sodipodi:role=""line"" id=""tspan3461"" x=""114.59101"" y=""99.843163"" style=""fill:#ffffff;stroke-width:0.264583"">.com</tspan></text> <rect style=""fill:#34a38d;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"" id=""rect3469"" width=""99.906052"" height=""76.729172"" x=""76.763138"" y=""106.20262"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""127.69335"" y=""118.07704"" id=""text3473""><tspan sodipodi:role=""line"" id=""tspan3471"" x=""127.69335"" y=""118.07704"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"">nameserver</tspan></text> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-4"" width=""44.979164"" height=""23.587004"" x=""90.997429"" y=""130.24062"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""113.48701"" y=""145.97961"" id=""text3473-8-6-1-0""><tspan sodipodi:role=""line"" x=""113.48701"" y=""145.97961"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-3"">record</tspan></text> <g id=""g5983-3-9"" transform=""translate(-121.99216,31.021879)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-1"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-9""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-6"">record</tspan></text> </g> <g id=""g5983-3-93"" transform=""translate(-116.70049,36.313546)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-3"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-8""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-0"">record</tspan></text> </g> <g id=""g5983-3-5"" transform=""translate(-111.40882,41.605213)"" style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-6"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-6""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" id=""tspan5856-4-0-4"">record</tspan></text> </g> <g id=""g5983-3-0"" transform=""translate(-106.11715,46.896879)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-0"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-4""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-62"">record</tspan></text> </g> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1"" width=""44.979164"" height=""23.587004"" x=""117.45575"" y=""156.69894"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""139.94533"" y=""172.43793"" id=""text3473-8-6-8-7""><tspan sodipodi:role=""line"" x=""139.94533"" y=""172.43793"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan5856-4-1-4"">CNAME</tspan></text> </g> <rect style=""fill:#3469a3;fill-opacity:1;stroke:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3425-4-8-6"" width=""113.10503"" height=""92.528992"" x=""324.51617"" y=""190.46434"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#ffffff;stroke-width:0.264583"" x=""341.32767"" y=""203.30899"" id=""text3463-8-7""><tspan sodipodi:role=""line"" x=""341.32767"" y=""203.30899"" style=""fill:#ffffff;stroke-width:0.264583"" id=""tspan3753-3"">.openstack.org</tspan></text> <rect style=""fill:#34a38d;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"" id=""rect3469-6"" width=""99.906052"" height=""67.985588"" x=""332.42346"" y=""211.631"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""383.35367"" y=""222.73872"" id=""text3473-2""><tspan sodipodi:role=""line"" id=""tspan3471-58"" x=""383.35367"" y=""222.73872"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"">nameserver</tspan></text> <g id=""g5983-3-3-1"" transform=""translate(128.3765,122.64176)"" style=""fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-4-2"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-0-8""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" id=""tspan5856-4-0-3-8"">record</tspan></text> </g> <g id=""g5983-3-9-9"" transform=""translate(133.66816,127.93343)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-1-2"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-9-8""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-6-8"">record</tspan></text> </g> <g id=""g5983-3-93-8"" transform=""translate(138.95983,133.22509)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-3-6"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-8-8""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-0-3"">record</tspan></text> </g> <g id=""g5983-3-5-8"" transform=""translate(144.2515,138.51676)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-6-3"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-6-3""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-4-3"">record</tspan></text> </g> <g id=""g5983-3-0-8"" transform=""translate(149.54317,143.80843)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-0-0"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-4-4""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-62-7"">record</tspan></text> </g> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-68"" width=""44.979164"" height=""23.587004"" x=""373.11606"" y=""253.61057"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""395.60562"" y=""269.34955"" id=""text3473-8-6-8-9""><tspan sodipodi:role=""line"" x=""395.60562"" y=""269.34955"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan5856-4-1-9"">A</tspan></text> <g id=""g10103""> <g id=""g9862"" transform=""translate(0,3.7918224)""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:2.01422;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"" id=""rect3475-3-22-48-6-0-0-4"" width=""110.11478"" height=""28.239109"" x=""198.86275"" y=""119.36456"" /> <text xml:space=""preserve"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:0;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;letter-spacing:0px;word-spacing:0px;stroke-width:0.264583"" x=""254.42867"" y=""128.6144"" id=""text8621""><tspan sodipodi:role=""line"" id=""tspan8619"" x=""254.42867"" y=""128.6144"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"">NS records delegate</tspan><tspan sodipodi:role=""line"" x=""254.42867"" y=""136.02274"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan8623"">zone authority to</tspan><tspan sodipodi:role=""line"" x=""254.42867"" y=""143.43108"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan8719"">another nameserver</tspan></text> </g> <g id=""g9870"" transform=""translate(0,5.7757958)""> <rect style=""fill:#1b3755;fill-opacity:1;stroke:#1b3755;stroke-width:2.54962;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3425-4-82"" width=""110.15038"" height=""28.247086"" x=""198.84494"" y=""151.60284"" /> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"" id=""rect3475-3-22-48-6-0-0-4-5"" width=""110.1151"" height=""28.239391"" x=""198.86258"" y=""151.60669"" /> <text xml:space=""preserve"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:0;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;letter-spacing:0px;word-spacing:0px;stroke-width:0.264583"" x=""253.83572"" y=""160.94838"" id=""text8621-9""><tspan sodipodi:role=""line"" x=""253.83572"" y=""160.94838"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan8655"">There are dozens of</tspan><tspan sodipodi:role=""line"" x=""253.83572"" y=""168.35672"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan8659"">other record types such</tspan><tspan sodipodi:role=""line"" x=""253.83572"" y=""175.76506"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan9664"">as MX, CNAME and A</tspan></text> </g> <g id=""g9855"" transform=""translate(0,1.0422527)"" style=""stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"" id=""rect3475-3-22-48-6-0-0-4-7"" width=""110.11459"" height=""28.250851"" x=""198.86284"" y=""87.116402"" /> <text xml:space=""preserve"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:0;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;letter-spacing:0px;word-spacing:0px;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""254.8432"" y=""96.372124"" id=""text8621-0""><tspan sodipodi:role=""line"" x=""254.8432"" y=""96.372124"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan8707"">SOA records set the</tspan><tspan sodipodi:role=""line"" x=""254.8432"" y=""103.78046"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan8717"">authoritative server</tspan><tspan sodipodi:role=""line"" x=""254.8432"" y=""111.1888"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;line-height:1.05;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan8709"">for the current zone</tspan></text> </g> </g> <rect style=""fill:#3469a3;fill-opacity:1;stroke:none;stroke-width:2.25393;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3425"" width=""112.0955"" height=""73.504196"" x=""197.95226"" y=""10.583333"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#ffffff;stroke-width:0.264583"" x=""252.46935"" y=""18.458578"" id=""text3429""><tspan sodipodi:role=""line"" id=""tspan3427"" x=""252.46935"" y=""18.458578"" style=""fill:#ffffff;stroke-width:0.264583"">.</tspan></text> <rect style=""fill:#34a38d;fill-opacity:1;stroke:#ffffff;stroke-width:1.12696;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"" id=""rect3469-1-6"" width=""99.906052"" height=""57.12566"" x=""204.85002"" y=""24.024664"" /> <g id=""g5983-3-5-1"" transform=""translate(22.974861,-63.972406)"" style=""fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-6-7"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-6-8""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e40026;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" id=""tspan5856-4-0-4-9"">record</tspan></text> </g> <g id=""g5983-3-0-1"" transform=""translate(28.266531,-58.680742)"" style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-0-5"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-4-49""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" id=""tspan5856-4-0-62-2"">record</tspan></text> </g> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-5"" width=""44.979164"" height=""23.587004"" x=""251.83943"" y=""51.121315"" /> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1.17652;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-5"" width=""44.979164"" height=""23.587004"" x=""257.44888"" y=""55.762253"" /> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1.17652;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-0-7"" width=""44.979164"" height=""23.587004"" x=""207.17805"" y=""55.762253"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""229.66763"" y=""71.501221"" id=""text3473-8-6-8-2""><tspan sodipodi:role=""line"" x=""229.66763"" y=""71.501221"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan5856-4-1-8"">NS</tspan></text> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""279.93845"" y=""71.501221"" id=""text3473-8-6-6""><tspan sodipodi:role=""line"" x=""279.93845"" y=""71.501221"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan5856-4-9"">NS</tspan></text> <rect style=""fill:#3469a3;fill-opacity:1;stroke:#ffffff;stroke-width:0.5;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"" id=""rect3425-44"" width=""112.09549"" height=""10.583333"" x=""197.95226"" y=""1.5441895e-08"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:0.85;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#ffffff;stroke-width:0.264583"" x=""229.90498"" y=""7.921998"" id=""text4365""><tspan sodipodi:role=""line"" x=""229.90498"" y=""7.921998"" style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:7.05556px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;fill:#ffffff;stroke-width:0.264583"" id=""tspan5712"">The root zone</tspan></text> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""254.32246"" y=""33.188267"" id=""text3473-9""><tspan sodipodi:role=""line"" id=""tspan3471-7"" x=""254.32246"" y=""33.188267"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"">root nameservers</tspan></text> <path style=""fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#e300e4;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4111-6-9)"" d=""M 207.3295,68.791667 H 107.58158 V 104.142"" id=""path3877-1-3"" sodipodi:nodetypes=""ccc"" /> <rect style=""fill:#3469a3;fill-opacity:1;stroke:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3425-4-5"" width=""112.78281"" height=""99.249191"" x=""324.67728"" y=""87.651344"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#ffffff;stroke-width:0.264583"" x=""368.94614"" y=""98.786949"" id=""text3463-8""><tspan sodipodi:role=""line"" x=""368.94614"" y=""98.786949"" style=""fill:#ffffff;stroke-width:0.264583"" id=""tspan3753"">.org</tspan></text> <rect style=""fill:#34a38d;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:markers stroke fill"" id=""rect3469-1"" width=""99.906052"" height=""67.985588"" x=""331.81088"" y=""106.93888"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""382.74112"" y=""118.04661"" id=""text3473-0""><tspan sodipodi:role=""line"" id=""tspan3471-5"" x=""382.74112"" y=""118.04661"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"">nameserver</tspan></text> <g id=""g5983-3-3-9"" transform=""translate(139.23965,19.08519)"" style=""fill:#3481a3;fill-opacity:1;stroke:#e40027;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e40027;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-4-0"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e40027;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-0-6""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e40027;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" id=""tspan5856-4-0-3-87"">record</tspan></text> </g> <g id=""g5983-3-9-90"" transform=""translate(144.53131,24.376857)"" style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-1-3"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-9-3""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"" id=""tspan5856-4-0-6-3"">record</tspan></text> </g> <g id=""g5983-3-93-7"" transform=""translate(149.82298,29.668524)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-3-3"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-8-2""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-0-6"">record</tspan></text> </g> <g id=""g5983-3-5-5"" transform=""translate(155.11465,34.960192)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-6-2"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-6-6""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-4-5"">record</tspan></text> </g> <g id=""g5983-3-0-87"" transform=""translate(160.40632,40.251856)"" style=""fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none""> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-0-9"" width=""44.979164"" height=""23.587004"" x=""218.28125"" y=""104.51041"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" x=""240.77083"" y=""120.2494"" id=""text3473-8-6-1-4-6""><tspan sodipodi:role=""line"" x=""240.77083"" y=""120.2494"" style=""text-align:center;text-anchor:middle;fill:#3481a3;fill-opacity:1;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none"" id=""tspan5856-4-0-62-0"">record</tspan></text> </g> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#ffffff;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-1-41"" width=""44.979164"" height=""23.587004"" x=""383.97922"" y=""150.05396"" /> <rect style=""fill:#3481a3;fill-opacity:1;stroke:#e400e4;stroke-width:1.17652;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3475-3-22-48-6-0-0"" width=""44.979164"" height=""23.587004"" x=""334.27258"" y=""149.82846"" /> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""356.76218"" y=""165.56746"" id=""text3473-8-6-8""><tspan sodipodi:role=""line"" x=""356.76218"" y=""165.56746"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan5856-4-1"">record</tspan></text> <text xml:space=""preserve"" style=""font-size:10.5833px;line-height:1.25;font-family:sans-serif;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" x=""406.11481"" y=""165.70509"" id=""text3473-8-6-8-9-4""><tspan sodipodi:role=""line"" x=""406.11481"" y=""165.70509"" style=""text-align:center;text-anchor:middle;fill:#ffffff;stroke-width:0.264583"" id=""tspan5856-4-1-9-9"">MX</tspan></text> <text xml:space=""preserve"" style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:21.8063px;line-height:1.25;font-family:Carlito;-inkscape-font-specification:'Carlito, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#000000;stroke-width:0.408868"" x=""190.99553"" y=""227.63571"" id=""text9292""><tspan sodipodi:role=""line"" id=""tspan9290"" x=""190.99553"" y=""227.63571"" style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:21.8063px;font-family:Carlito;-inkscape-font-specification:'Carlito, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#000000;stroke-width:0.408868"">DNS</tspan><tspan sodipodi:role=""line"" x=""190.99553"" y=""254.89359"" style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:21.8063px;font-family:Carlito;-inkscape-font-specification:'Carlito, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center;text-anchor:middle;fill:#000000;stroke-width:0.408868"" id=""tspan9294"">The Domain Name System</tspan></text> <rect style=""fill:#1b3755;fill-opacity:1;stroke:#1b3755;stroke-width:0.48865;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"" id=""rect3425-4-82-8"" width=""234.15625"" height=""0.48808813"" x=""72.760414"" y=""232.34525"" /> <text xml:space=""preserve"" id=""text9674"" style=""line-height:1.25;font-family:sans-serif;font-size:10.58333333px;word-spacing:0px;letter-spacing:0px;white-space:pre;shape-inside:url(#rect9676);"" /> <path style=""fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#e300e4;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4111-6)"" d=""m 336.91842,173.721 v 0.86834 35.71875"" id=""path3877-1"" sodipodi:nodetypes=""ccc"" /> <path style=""fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#e300e4;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4111)"" d=""m 303.37325,68.791667 h 42.33334 l 0.35325,78.504333"" id=""path3877"" sodipodi:nodetypes=""ccc"" /> </g> </svg> ",,3599,0
openstack%2Fopenstack-helm~master~I85e4c29925ac63ea7656901f5b03b919984cf12f,openstack/openstack-helm,master,I85e4c29925ac63ea7656901f5b03b919984cf12f,[ceph] OSH:Make sure loopback devices persistent across reboots,MERGED,2020-11-05 22:11:06.000000000,2021-02-22 18:22:53.000000000,2021-02-22 18:19:41.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24655}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 29131}, {'_account_id': 29974}, {'_account_id': 30449}, {'_account_id': 30777}, {'_account_id': 31479}]","[{'number': 1, 'created': '2020-11-05 22:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ff64be86a693bd1e6834bdc624e356a54f470a2', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 2, 'created': '2020-11-06 19:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6abca66e97c61e82adae22a383cd1295df591fc0', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 3, 'created': '2020-12-03 16:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db0e7bc23e920efc5d3ef871261d42516b286548', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 4, 'created': '2021-02-05 15:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a61f710b88324b02b7d6025b8c32229b76f05353', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 5, 'created': '2021-02-05 15:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a744cf74c1414fcc400a7e83f7437be057969d9', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 6, 'created': '2021-02-08 14:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df2e5082b12e9e424f2ead31e0a537ee0378c826', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 7, 'created': '2021-02-08 18:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b433245b3d2c01ebeaad8b92c4100ab0328e9ede', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 8, 'created': '2021-02-10 15:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/683de9a359ef2e2a99dfad9d532d5800809fa564', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 9, 'created': '2021-02-11 21:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/939630334d02f0658f8bac76b1c7dadfdf5a85d2', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 10, 'created': '2021-02-16 15:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4329e171ee44ad24ad7e36262a5b69c235264c2', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}, {'number': 11, 'created': '2021-02-22 13:54:39.000000000', 'files': ['doc/source/install/developer/cleaning-deployment.rst', 'tools/deployment/common/setup-ceph-loopback-device.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/85627eca0cdfdb157e68560bc090054389cc0fa8', 'message': '[ceph] OSH:Make sure loopback devices persistent across reboots\n\nChange-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f\n'}]",10,761676,85627eca0cdfdb157e68560bc090054389cc0fa8,74,16,11,28372,,,0,"[ceph] OSH:Make sure loopback devices persistent across reboots

Change-Id: I85e4c29925ac63ea7656901f5b03b919984cf12f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/761676/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/developer/cleaning-deployment.rst', 'tools/deployment/common/setup-ceph-loopback-device.sh']",2,8ff64be86a693bd1e6834bdc624e356a54f470a2,," set -ex sudo -E bash -c ""cat <<EOF > /etc/systemd/system/loops-setup.service [Unit] Description=Setup loop devices DefaultDependencies=no Conflicts=umount.target Before=local-fs.target After=systemd-udevd.service Required=systemd-udevd.service [Service] Type=oneshot ExecStart=/sbin/losetup $osd_data_device '/var/lib/openstack-helm/$namespace/ceph-osd-data-loopbackfile.img' ExecStart=/sbin/losetup $osd_wal_db_device '/var/lib/openstack-helm/$namespace/ceph-osd-db-wal-loopbackfile.img' ExecStop=/sbin/losetup -d $osd_data_device ExecStop=/sbin/losetup -d $osd_wal_db_device TimeoutSec=60 RemainAfterExit=yes [Install] WantedBy=local-fs.target Also=systemd-udevd.service EOF"" sudo systemctl daemon-reload sudo systemctl start loops-setup sudo systemctl status loops-setup sudo systemctl enable loops-setup if losetup |grep -i $osd_data_device; then echo ""ceph osd data disk got created scuessfully"" else echo ""couldnt find ceph osd data disk so exiting"" exit 1 fi if losetup |grep -i $osd_wal_db_device; then echo ""ceph osd wal/db disk got created scuessfully"" else echo ""couldnt find ceph osd wal/db disk so exiting"" exit 1 fi", sudo losetup $osd_data_device /var/lib/openstack-helm/$namespace/ceph-osd-data-loopbackfile.img sudo losetup $osd_wal_db_device /var/lib/openstack-helm/$namespace/ceph-osd-db-wal-loopbackfile.img,48,2
openstack%2Fopenstack-helm~master~Ie59d167fb4063e99e47d73bc1b111e161f12944a,openstack/openstack-helm,master,Ie59d167fb4063e99e47d73bc1b111e161f12944a,[ceph] BUG When deploy ceph,MERGED,2021-01-28 12:43:08.000000000,2021-02-22 18:21:04.000000000,2021-02-22 18:18:44.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 30449}, {'_account_id': 31412}, {'_account_id': 33089}]","[{'number': 1, 'created': '2021-01-28 12:43:08.000000000', 'files': ['tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1a7b4f22d0d1b47345bcc509fd442b4df6e2e235', 'message': '[ceph] BUG When deploy ceph\n\nWithout this ""Make"",It can lead to not being found <helm-toolkit>\n\nChange-Id: Ie59d167fb4063e99e47d73bc1b111e161f12944a\n'}]",0,772873,1a7b4f22d0d1b47345bcc509fd442b4df6e2e235,17,10,1,30449,,,0,"[ceph] BUG When deploy ceph

Without this ""Make"",It can lead to not being found <helm-toolkit>

Change-Id: Ie59d167fb4063e99e47d73bc1b111e161f12944a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/772873/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/030-ceph.sh'],1,1a7b4f22d0d1b47345bcc509fd442b4df6e2e235,, make -C ${OSH_INFRA_PATH} ${CHART},,1,0
openstack%2Foctavia~master~Iaf3644dcb099497e032e88eaf6f2281506f43fc6,openstack/octavia,master,Iaf3644dcb099497e032e88eaf6f2281506f43fc6,Install centos-release-nfv-extras,NEW,2020-11-18 16:41:55.000000000,2021-02-22 17:56:22.000000000,,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 16:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1547a3461e9c92c73de464e715540cd7f6b8cd09', 'message': 'Install centos-release-nfv-extras\n\nThe network-extras repository can be enabled by installing the\ncentos-release-nfv-extras package.\n\nChange-Id: Iaf3644dcb099497e032e88eaf6f2281506f43fc6\n'}, {'number': 2, 'created': '2021-01-29 10:49:34.000000000', 'files': ['elements/haproxy-octavia/pre-install.d/01-repositories'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a68bded69d8f20243dfd61a48b831d07bdee895', 'message': 'Install centos-release-nfv-extras\n\nThe network-extras repository can be enabled by installing the\ncentos-release-nfv-extras package.\n\nChange-Id: Iaf3644dcb099497e032e88eaf6f2281506f43fc6\n'}]",0,763215,5a68bded69d8f20243dfd61a48b831d07bdee895,7,3,2,6469,,,0,"Install centos-release-nfv-extras

The network-extras repository can be enabled by installing the
centos-release-nfv-extras package.

Change-Id: Iaf3644dcb099497e032e88eaf6f2281506f43fc6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/763215/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/haproxy-octavia/pre-install.d/01-repositories'],1,1547a3461e9c92c73de464e715540cd7f6b8cd09,http2, dnf install -y centos-release-nfv-extras," dnf install -y dnf-plugins-core centos-release-nfv-common # REVISIT(cgoncalves): replace arch if-else + GPG with release RPM once available if [[ ""$ARCH"" =~ (aarch64|arm64) ]]; then yum_arch=aarch64 elif [[ ""$ARCH"" =~ (ppc64le|ppc64el) ]]; then yum_arch=ppc64le elif [[ ""$ARCH"" =~ (x86_64|amd64) ]]; then yum_arch=x86_64 else echo ""ERROR: Unsupported architecture $ARCH"" exit 1 fi dnf config-manager --add-repo http://mirror.centos.org/centos/8/nfv/${yum_arch}/network-extras echo gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-NFV >> /etc/yum.repos.d/mirror.centos.org_centos_8_nfv_*_network-extras.repo",1,14
openstack%2Ftripleo-docs~master~I6a876531891ad6afa28d7e54d7922831d95c7ec1,openstack/tripleo-docs,master,I6a876531891ad6afa28d7e54d7922831d95c7ec1,add all cell internal_api node information to default controllers,MERGED,2021-02-09 10:12:27.000000000,2021-02-22 17:49:12.000000000,2021-02-22 17:47:43.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-02-09 10:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/37e5c6986ca31d0d248fa66be6c054a5ec7071d3', 'message': 'add all cell internal_api node information to default controllers\n\nIn case of adding a cell to a tls-everywhere environment the cell\nDB connection information use the cell controller internal api vip\nhostname instead of the vip. Therefore the internalapi information\nneeds to be added to the default cell controllers.\n\nChange-Id: I6a876531891ad6afa28d7e54d7922831d95c7ec1\n'}, {'number': 2, 'created': '2021-02-10 07:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6810423332c235996cc3a7bc49f6d803e5bd6168', 'message': 'add all cell internal_api node information to default controllers\n\nIn case of adding a cell to a tls-everywhere environment the cell\nDB connection information use the cell controller internal api vip\nhostname instead of the vip. Therefore the internalapi information\nneeds to be added to the default cell controllers.\n\nChange-Id: I6a876531891ad6afa28d7e54d7922831d95c7ec1\n'}, {'number': 3, 'created': '2021-02-16 02:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a12c9a37d404b37178d3077a034d4638af844374', 'message': 'add all cell internal_api node information to default controllers\n\nIn case of adding a cell to a tls-everywhere environment the cell\nDB connection information use the cell controller internal api vip\nhostname instead of the vip. Therefore the internalapi information\nneeds to be added to the default cell controllers.\n\nChange-Id: I6a876531891ad6afa28d7e54d7922831d95c7ec1\n'}, {'number': 4, 'created': '2021-02-16 09:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9ea3f0833d8bb6cccb6313228ad78872fd107c7e', 'message': 'add all cell internal_api node information to default controllers\n\nIn case of adding a cell to a tls-everywhere environment the cell\nDB connection information use the cell controller internal api vip\nhostname instead of the vip. Therefore the internalapi information\nneeds to be added to the default cell controllers.\n\nChange-Id: I6a876531891ad6afa28d7e54d7922831d95c7ec1\n'}, {'number': 5, 'created': '2021-02-16 14:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/67d2039d833caf4d9d7c217c0b485f4b283e57c9', 'message': 'add all cell internal_api node information to default controllers\n\nIn case of adding a cell to a tls-everywhere environment the cell\nDB connection information use the cell controller internal api vip\nhostname instead of the vip. Therefore the internalapi information\nneeds to be added to the default cell controllers.\n\nChange-Id: I6a876531891ad6afa28d7e54d7922831d95c7ec1\n'}, {'number': 6, 'created': '2021-02-22 15:10:57.000000000', 'files': ['deploy-guide/source/features/deploy_cellv2_basic.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8b8712149a15a23ba9a1e70fb6f3600152800065', 'message': 'add all cell internal_api node information to default controllers\n\nIn case of adding a cell to a tls-everywhere environment the cell\nDB connection information use the cell controller internal api vip\nhostname instead of the vip. Therefore the internalapi information\nneeds to be added to the default cell controllers.\n\nChange-Id: I6a876531891ad6afa28d7e54d7922831d95c7ec1\n'}]",2,774616,8b8712149a15a23ba9a1e70fb6f3600152800065,24,5,6,17216,,,0,"add all cell internal_api node information to default controllers

In case of adding a cell to a tls-everywhere environment the cell
DB connection information use the cell controller internal api vip
hostname instead of the vip. Therefore the internalapi information
needs to be added to the default cell controllers.

Change-Id: I6a876531891ad6afa28d7e54d7922831d95c7ec1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/16/774616/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deploy_cellv2_basic.rst'],1,37e5c6986ca31d0d248fa66be6c054a5ec7071d3,cell-tls, cell1.*\.internalapi /etc/hosts), cellcontrol.*\.internalapi /etc/hosts),1,1
openstack%2Fglance~master~I4e87fa0fd58db1ddbb1876f4b3a58497c7906142,openstack/glance,master,I4e87fa0fd58db1ddbb1876f4b3a58497c7906142,Assert policy check strings are formatted as we expect,ABANDONED,2021-02-19 18:21:17.000000000,2021-02-22 17:45:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-19 18:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1f6e77158279ec4f6dcf0c6ed4119cf9c3e984ea', 'message': ""Assert policy check strings are formatted as we expect\n\nThis commit adds a couple of tests to make sure the check strings we're\nusing to implement authorization are formatted in a way that makes\nsense.\n\nChange-Id: I4e87fa0fd58db1ddbb1876f4b3a58497c7906142\n""}, {'number': 2, 'created': '2021-02-19 20:48:48.000000000', 'files': ['glance/tests/unit/test_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3d1c4bb84226f2aa62b84eae2640e13b10cbff9a', 'message': ""Assert policy check strings are formatted as we expect\n\nThis commit adds a couple of tests to make sure the check strings we're\nusing to implement authorization are formatted in a way that makes\nsense.\n\nChange-Id: I4e87fa0fd58db1ddbb1876f4b3a58497c7906142\n""}]",2,776693,3d1c4bb84226f2aa62b84eae2640e13b10cbff9a,6,1,2,5046,,,0,"Assert policy check strings are formatted as we expect

This commit adds a couple of tests to make sure the check strings we're
using to implement authorization are formatted in a way that makes
sense.

Change-Id: I4e87fa0fd58db1ddbb1876f4b3a58497c7906142
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/776693/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/test_policy.py'],1,1f6e77158279ec4f6dcf0c6ed4119cf9c3e984ea,secure-rbac-handle-members,"from glance.policies import base as base_policy class TestDefaultPolicyCheckStrings(base.IsolatedUnitTest): def test_system_admin_check_string(self): self.assertEqual('role:admin and system_scope:all', base_policy.SYSTEM_ADMIN) def test_system_reader_check_string(self): self.assertEqual('role:reader and system_scope:all', base_policy.SYSTEM_READER) def test_project_member_check_string(self): self.assertEqual('role:member and project_id:%(project_id)s', base_policy.PROJECT_MEMBER) def test_project_reader_check_string(self): self.assertEqual('role:reader and project_id:%(project_id)s', base_policy.PROJECT_READER) def test_system_admin_or_project_member_check_string(self): self.assertEqual( '(role:admin and system_scope:all) or ' '(role:member and project_id:%(project_id)s)', base_policy.SYSTEM_ADMIN_OR_PROJECT_MEMBER) def test_system_reader_or_project_reader_check_string(self): self.assertEqual( '(role:reader and system_scope:all) or ' '(role:reader and project_id:%(project_id)s)', base_policy.SYSTEM_OR_PROJECT_READER)",,32,0
openstack%2Fovsdbapp~stable%2Fussuri~I9c7994d50066adf02b0066cb8efb1beb61d2e1f0,openstack/ovsdbapp,stable/ussuri,I9c7994d50066adf02b0066cb8efb1beb61d2e1f0,Add indexed column support to ovsdbapp,ABANDONED,2020-05-19 19:12:52.000000000,2021-02-22 17:31:51.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 19:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8a21dac53133160534c7a5b5740df35ae5043e3e', 'message': 'Add indexed column support to ovsdbapp\n\nAdd support for python-ovs multi-column indexes. This is currently\ndisabled by default, though in a simple test of creating 10k\nLogical_Switches the time went from ""I give up after 10 mins"" to\n4 seconds. The only reason I didn\'t enable it by default was in\ncase users want to tailor which columns they index.\n\nThere are slight API changes w/ Backend.ovsdb_connection\nproperties added and start_connection becoming an instance method\ninstead of a classmethod. But since ovsdb_connection was the\nitem being stored on the class and it still is via an overridable\nproperty, users shouldn\'t be broken by the change.\n\nThe backport disables auto_index by default\n\nDepends-On: https://review.opendev.org/#/c/727232/\nChange-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0\n(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)\n'}, {'number': 2, 'created': '2020-07-30 03:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a968e44b823c5ad425b1971d9d69bd87253dd107', 'message': 'Add indexed column support to ovsdbapp\n\nAdd support for python-ovs multi-column indexes. This is currently\ndisabled by default, though in a simple test of creating 10k\nLogical_Switches the time went from ""I give up after 10 mins"" to\n4 seconds. The only reason I didn\'t enable it by default was in\ncase users want to tailor which columns they index.\n\nThere are slight API changes w/ Backend.ovsdb_connection\nproperties added and start_connection becoming an instance method\ninstead of a classmethod. But since ovsdb_connection was the\nitem being stored on the class and it still is via an overridable\nproperty, users shouldn\'t be broken by the change.\n\nThe backport disables auto_index by default\n\nDepends-On: https://review.opendev.org/#/c/727232/\nChange-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0\n(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)\n'}, {'number': 3, 'created': '2020-07-30 21:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6b19014120a025d37b34e26c05256c7dc9b2e5d6', 'message': 'Add indexed column support to ovsdbapp\n\nAdd support for python-ovs multi-column indexes. This is currently\ndisabled by default, though in a simple test of creating 10k\nLogical_Switches the time went from ""I give up after 10 mins"" to\n4 seconds. The only reason I didn\'t enable it by default was in\ncase users want to tailor which columns they index.\n\nThere are slight API changes w/ Backend.ovsdb_connection\nproperties added and start_connection becoming an instance method\ninstead of a classmethod. But since ovsdb_connection was the\nitem being stored on the class and it still is via an overridable\nproperty, users shouldn\'t be broken by the change.\n\nThe backport disables auto_index by default\n\nDepends-On: https://review.opendev.org/#/c/727232/\nChange-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0\n(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)\n'}, {'number': 4, 'created': '2020-09-02 15:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/ce88e6f5f63fa6ee40af5496e932708603fea5a9', 'message': 'Add indexed column support to ovsdbapp\n\nAdd support for python-ovs multi-column indexes. This is currently\ndisabled by default, though in a simple test of creating 10k\nLogical_Switches the time went from ""I give up after 10 mins"" to\n4 seconds. The only reason I didn\'t enable it by default was in\ncase users want to tailor which columns they index.\n\nThere are slight API changes w/ Backend.ovsdb_connection\nproperties added and start_connection becoming an instance method\ninstead of a classmethod. But since ovsdb_connection was the\nitem being stored on the class and it still is via an overridable\nproperty, users shouldn\'t be broken by the change.\n\nThe backport disables auto_index by default\\\n\nConflicts:\n  ovsdbapp/tests/unit/backend/test_ovs_idl.py\n\nDepends-On: https://review.opendev.org/#/c/727232/\nChange-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0\n(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)\n'}, {'number': 5, 'created': '2020-09-02 15:59:41.000000000', 'files': ['ovsdbapp/tests/unit/backend/test_ovs_idl.py', 'ovsdbapp/tests/unit/schema/open_vswitch/test_impl_idl.py', 'ovsdbapp/tests/functional/backend/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py', 'ovsdbapp/backend/ovs_idl/idlutils.py', 'ovsdbapp/schema/ovn_southbound/impl_idl.py', 'ovsdbapp/tests/functional/backend/ovs_idl/__init__.py', 'ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/unit/backend/ovs_idl/test_idlutils.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9c391c560d4dce97885bada9aae0d4180c324073', 'message': 'Add indexed column support to ovsdbapp\n\nAdd support for python-ovs multi-column indexes. This is currently\ndisabled by default, though in a simple test of creating 10k\nLogical_Switches the time went from ""I give up after 10 mins"" to\n4 seconds. The only reason I didn\'t enable it by default was in\ncase users want to tailor which columns they index.\n\nThere are slight API changes w/ Backend.ovsdb_connection\nproperties added and start_connection becoming an instance method\ninstead of a classmethod. But since ovsdb_connection was the\nitem being stored on the class and it still is via an overridable\nproperty, users shouldn\'t be broken by the change.\n\nThe backport disables auto_index by default\n\nConflicts:\n  ovsdbapp/tests/unit/backend/test_ovs_idl.py\n\nDepends-On: https://review.opendev.org/#/c/727232/\nChange-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0\n(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)\n'}]",4,729359,9c391c560d4dce97885bada9aae0d4180c324073,19,7,5,5756,,,0,"Add indexed column support to ovsdbapp

Add support for python-ovs multi-column indexes. This is currently
disabled by default, though in a simple test of creating 10k
Logical_Switches the time went from ""I give up after 10 mins"" to
4 seconds. The only reason I didn't enable it by default was in
case users want to tailor which columns they index.

There are slight API changes w/ Backend.ovsdb_connection
properties added and start_connection becoming an instance method
instead of a classmethod. But since ovsdb_connection was the
item being stored on the class and it still is via an overridable
property, users shouldn't be broken by the change.

The backport disables auto_index by default

Conflicts:
  ovsdbapp/tests/unit/backend/test_ovs_idl.py

Depends-On: https://review.opendev.org/#/c/727232/
Change-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0
(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/59/729359/5 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/tests/unit/backend/test_ovs_idl.py', 'ovsdbapp/tests/unit/schema/open_vswitch/test_impl_idl.py', 'ovsdbapp/tests/functional/backend/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py', 'ovsdbapp/backend/ovs_idl/idlutils.py', 'ovsdbapp/schema/ovn_southbound/impl_idl.py', 'ovsdbapp/tests/functional/backend/ovs_idl/__init__.py', 'ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/unit/backend/ovs_idl/test_idlutils.py']",9,8a21dac53133160534c7a5b5740df35ae5043e3e,," def test_index_name(self): expected = { ('one',): 'one', ('abc', 'def'): 'abc_def', ('def', 'abc'): 'abc_def', ('one', 'two', 'three'): 'one_three_two', } for args, result in expected.items(): self.assertEqual(result, idlutils.index_name(*args)) self.assertRaises(AssertionError, idlutils.index_name)",,222,33
openstack%2Fovsdbapp~stable%2Ftrain~I9c7994d50066adf02b0066cb8efb1beb61d2e1f0,openstack/ovsdbapp,stable/train,I9c7994d50066adf02b0066cb8efb1beb61d2e1f0,Add indexed column support to ovsdbapp,ABANDONED,2020-05-19 19:14:33.000000000,2021-02-22 17:31:06.000000000,,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-19 19:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/766414a23d78edc09bd152771a11d9107ca494ff', 'message': 'Add indexed column support to ovsdbapp\n\nAdd support for python-ovs multi-column indexes. This is currently\ndisabled by default, though in a simple test of creating 10k\nLogical_Switches the time went from ""I give up after 10 mins"" to\n4 seconds. The only reason I didn\'t enable it by default was in\ncase users want to tailor which columns they index.\n\nThere are slight API changes w/ Backend.ovsdb_connection\nproperties added and start_connection becoming an instance method\ninstead of a classmethod. But since ovsdb_connection was the\nitem being stored on the class and it still is via an overridable\nproperty, users shouldn\'t be broken by the change.\n\nThe backport disables auto_index by default\n\nDepends-On: https://review.opendev.org/#/c/727232/\nChange-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0\n(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)\n'}, {'number': 2, 'created': '2020-05-19 20:18:51.000000000', 'files': ['ovsdbapp/tests/unit/backend/test_ovs_idl.py', 'ovsdbapp/tests/unit/schema/open_vswitch/test_impl_idl.py', 'ovsdbapp/tests/functional/backend/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py', 'ovsdbapp/backend/ovs_idl/idlutils.py', 'ovsdbapp/schema/ovn_southbound/impl_idl.py', 'ovsdbapp/tests/functional/backend/ovs_idl/__init__.py', 'ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/unit/backend/ovs_idl/test_idlutils.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/620aa67a114394da4c78bd4aba5a92cf0b506030', 'message': 'Add indexed column support to ovsdbapp\n\nAdd support for python-ovs multi-column indexes. This is currently\ndisabled by default, though in a simple test of creating 10k\nLogical_Switches the time went from ""I give up after 10 mins"" to\n4 seconds. The only reason I didn\'t enable it by default was in\ncase users want to tailor which columns they index.\n\nThere are slight API changes w/ Backend.ovsdb_connection\nproperties added and start_connection becoming an instance method\ninstead of a classmethod. But since ovsdb_connection was the\nitem being stored on the class and it still is via an overridable\nproperty, users shouldn\'t be broken by the change.\n\nThe backport disables auto_index by default\n\nDepends-On: https://review.opendev.org/#/c/727232/\nChange-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0\n(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)\n'}]",1,729360,620aa67a114394da4c78bd4aba5a92cf0b506030,8,4,2,5756,,,0,"Add indexed column support to ovsdbapp

Add support for python-ovs multi-column indexes. This is currently
disabled by default, though in a simple test of creating 10k
Logical_Switches the time went from ""I give up after 10 mins"" to
4 seconds. The only reason I didn't enable it by default was in
case users want to tailor which columns they index.

There are slight API changes w/ Backend.ovsdb_connection
properties added and start_connection becoming an instance method
instead of a classmethod. But since ovsdb_connection was the
item being stored on the class and it still is via an overridable
property, users shouldn't be broken by the change.

The backport disables auto_index by default

Depends-On: https://review.opendev.org/#/c/727232/
Change-Id: I9c7994d50066adf02b0066cb8efb1beb61d2e1f0
(cherry picked from commit db0cdd9a4ffd64d99a6b012b5d0bf2c5bd4f96f4)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/60/729360/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/tests/unit/backend/test_ovs_idl.py', 'ovsdbapp/tests/unit/schema/open_vswitch/test_impl_idl.py', 'ovsdbapp/tests/functional/backend/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_indexing.py', 'ovsdbapp/backend/ovs_idl/idlutils.py', 'ovsdbapp/schema/ovn_southbound/impl_idl.py', 'ovsdbapp/tests/functional/backend/ovs_idl/__init__.py', 'ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/unit/backend/ovs_idl/test_idlutils.py']",9,766414a23d78edc09bd152771a11d9107ca494ff,," def test_index_name(self): expected = { ('one',): 'one', ('abc', 'def'): 'abc_def', ('def', 'abc'): 'abc_def', ('one', 'two', 'three'): 'one_three_two', } for args, result in expected.items(): self.assertEqual(result, idlutils.index_name(*args)) self.assertRaises(AssertionError, idlutils.index_name)",,222,33
openstack%2Fcinder~master~If4f42f9e06d1dd64cb88bdf34970a21f90ee303a,openstack/cinder,master,If4f42f9e06d1dd64cb88bdf34970a21f90ee303a,[PURE] adjust linux lun IDs greater than 256,ABANDONED,2021-02-05 16:40:42.000000000,2021-02-22 17:28:22.000000000,,"[{'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 16:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/435766be9cb230f164fe5e5ec6aace58b7bdc5b0', 'message': 'adjust linux lun IDs greater than 256\n\nChange-Id: If4f42f9e06d1dd64cb88bdf34970a21f90ee303a\n'}, {'number': 2, 'created': '2021-02-05 16:41:21.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9c5965bbd32d3fa7c05831237b5bb2a66e4af46', 'message': '[PURE] adjust linux lun IDs greater than 256\n\nChange-Id: If4f42f9e06d1dd64cb88bdf34970a21f90ee303a\n'}]",6,774285,d9c5965bbd32d3fa7c05831237b5bb2a66e4af46,20,2,2,33082,,,0,"[PURE] adjust linux lun IDs greater than 256

Change-Id: If4f42f9e06d1dd64cb88bdf34970a21f90ee303a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/774285/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py']",2,435766be9cb230f164fe5e5ec6aace58b7bdc5b0,pure-iscsi-linux-lunids," ""target_luns"": [1, 1, 1, 1, 16684, 16684, 16684, 16684], ""lun"": 300,"," ""target_luns"": [1, 1, 1, 1, 5, 5, 5, 5], ""lun"": 5,",10,3
openstack%2Ftripleo-operator-ansible~master~Id1436c9e99396829c349593c0f56b8c0ed718a94,openstack/tripleo-operator-ansible,master,Id1436c9e99396829c349593c0f56b8c0ed718a94,Make content provider depend on openstack-tox-linters in check,MERGED,2021-02-19 14:41:03.000000000,2021-02-22 17:28:05.000000000,2021-02-22 17:28:05.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 14:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8a4b5f70293e8cb0e6bb9209abca27585924a712', 'message': ""Make content provider depend on openstack-tox-linters in check\n\nAs part of [1] - optimize the zuul layout so that content-provider\ndoesn't run if openstack-tox-linters is not green. Only applies\nto the check queue.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Id1436c9e99396829c349593c0f56b8c0ed718a94\n""}, {'number': 2, 'created': '2021-02-22 10:39:11.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/eda7a578c3b89587fe1fef3d0b69fb5cf11555da', 'message': ""Make content provider depend on openstack-tox-linters in check\n\nAs part of [1] - optimize the zuul layout so that content-provider\ndoesn't run if openstack-tox-linters/py36/pep8 is not green. Only\napplies to the check queue - in gate jobs run as usual without the\ndepends-on for the content-provider.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Id1436c9e99396829c349593c0f56b8c0ed718a94\n""}]",10,776650,eda7a578c3b89587fe1fef3d0b69fb5cf11555da,19,4,2,8449,,,0,"Make content provider depend on openstack-tox-linters in check

As part of [1] - optimize the zuul layout so that content-provider
doesn't run if openstack-tox-linters/py36/pep8 is not green. Only
applies to the check queue - in gate jobs run as usual without the
depends-on for the content-provider.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id1436c9e99396829c349593c0f56b8c0ed718a94
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/50/776650/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,8a4b5f70293e8cb0e6bb9209abca27585924a712,tripleo-ci-reduce, - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters, - tripleo-ci-centos-8-content-provider - openstack-tox-linters,3,2
openstack%2Fpuppet-glance~master~Ib724f6e895716847827be48ed08b01a7a312338f,openstack/puppet-glance,master,Ib724f6e895716847827be48ed08b01a7a312338f,Add config parameter for cinder mounting needs,MERGED,2021-02-02 14:18:04.000000000,2021-02-22 17:13:11.000000000,2021-02-22 17:11:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 14:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/139cb8ae95477e682d95ae112a8e0fe38a23af12', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the mount point for *fs volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n'}, {'number': 2, 'created': '2021-02-02 14:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/3dc9fe3353461e9018307d75d634aceac599bab8', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the mount point for *fs volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n'}, {'number': 3, 'created': '2021-02-02 14:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/44b0393b70dc32565d641b3c273e9a3fa45b2fa7', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the mount point for *fs volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n'}, {'number': 4, 'created': '2021-02-05 08:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/2c8d7b43159ff3ff2b8f6af4d1d4ac9e9ae2ba4d', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the cinder mount point for NFS volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n'}, {'number': 5, 'created': '2021-02-13 09:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f10ceaab46700f84272454945cddcba2c92fe7f5', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the cinder mount point for NFS volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n'}, {'number': 6, 'created': '2021-02-15 10:37:29.000000000', 'files': ['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp', 'releasenotes/notes/glance_backend_cinder_mount_point_base-5741d2966cc10c7b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/46e9319d8e012d2df6b7d8f85f59315db6e95ff2', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the cinder mount point for NFS volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n'}]",7,773688,46e9319d8e012d2df6b7d8f85f59315db6e95ff2,28,6,6,19138,,,0,"Add config parameter for cinder mounting needs

This patch is introducing cinder_mount_point_base parameter into
glance::backend::multistore::cinder class, so that operators can
provide the cinder mount point for NFS volumes.

Change-Id: Ib724f6e895716847827be48ed08b01a7a312338f
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/88/773688/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp', 'releasenotes/notes/glance_backend_cinder_mount_point_base-5741d2966cc10c7b.yaml']",3,139cb8ae95477e682d95ae112a8e0fe38a23af12,glance-cinder-mountpoint,"--- features: - | A new parameter cinder_mount_point_base is introduced into glance::backend::multistore::cinder class, so that operators can can provide the mount point for *fs volumes. ",,17,0
openstack%2Fpuppet-glance~master~I0242f13402a56cf898439fa6b0b3972da38dbebb,openstack/puppet-glance,master,I0242f13402a56cf898439fa6b0b3972da38dbebb,Ignore stores image property,MERGED,2021-02-12 08:22:10.000000000,2021-02-22 17:11:26.000000000,2021-02-22 17:11:26.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 08:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9f5e4234826e5825da430fe442525d2c07f07ae8', 'message': 'Filter out stores image property\n\nCurrently Glance includes ""stores"" image property automatically in\nimage show API. This property is assigned at api side and client\nis not allowed to update the value.\nThis change ensures that the property is filtered out so that\nthe glance_image resource doesn\'t detect false change because of that\nread-only property.\n\nChange-Id: I0242f13402a56cf898439fa6b0b3972da38dbebb\n'}, {'number': 2, 'created': '2021-02-12 08:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0bee631fd3dabe17c46c5f5ab8dd556424fa626d', 'message': 'Ignore stores image property\n\nCurrently Glance includes ""stores"" image property automatically in\nimage show API. This property is assigned at api side and client\nis not allowed to update the value.\nThis change makes the property is ignored so that the glance_image\nresource doesn\'t detect false change because of the read-only property.\n\nChange-Id: I0242f13402a56cf898439fa6b0b3972da38dbebb\n'}, {'number': 3, 'created': '2021-02-12 08:27:27.000000000', 'files': ['lib/puppet/provider/glance_image/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/579191620672ce7fb8d8cba15b27eb26b79f3b7a', 'message': 'Ignore stores image property\n\nCurrently Glance includes ""stores"" image property automatically in\nimage show API. This property is assigned at api side and client\nis not allowed to update the value.\n\nThis change ensures that the property is ignored to prevent\nthe glance_image resource from detecting false change because of that\nread-only property.\n\nChange-Id: I0242f13402a56cf898439fa6b0b3972da38dbebb\n'}]",0,775326,579191620672ce7fb8d8cba15b27eb26b79f3b7a,11,5,3,9816,,,0,"Ignore stores image property

Currently Glance includes ""stores"" image property automatically in
image show API. This property is assigned at api side and client
is not allowed to update the value.

This change ensures that the property is ignored to prevent
the glance_image resource from detecting false change because of that
read-only property.

Change-Id: I0242f13402a56cf898439fa6b0b3972da38dbebb
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/26/775326/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/glance_image/openstack.rb'],1,9f5e4234826e5825da430fe442525d2c07f07ae8,image-props," hidden = ['os_hash_algo', 'os_hash_value', 'os_hidden', 'direct_url', 'stores']"," hidden = ['os_hash_algo', 'os_hash_value', 'os_hidden', 'direct_url']",1,1
openstack%2Fopenstack-helm-infra~master~Ia3e1252203bf7ab6421bee01172534008f624da0,openstack/openstack-helm-infra,master,Ia3e1252203bf7ab6421bee01172534008f624da0,Update helm-toolkit chart releasenotes to latest,MERGED,2021-02-18 22:24:02.000000000,2021-02-22 17:05:12.000000000,2021-02-22 16:58:51.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-18 22:24:02.000000000', 'files': ['releasenotes/notes/helm-toolkit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ada8b3aa8e7c024947f83a95960b4a1265b6bef', 'message': 'Update helm-toolkit chart releasenotes to latest\n\nThis change updates the releasenotes for the helm-toolkit chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: Ia3e1252203bf7ab6421bee01172534008f624da0\n'}]",0,776547,7ada8b3aa8e7c024947f83a95960b4a1265b6bef,10,5,1,21420,,,0,"Update helm-toolkit chart releasenotes to latest

This change updates the releasenotes for the helm-toolkit chart
to the latest version of the chart as of this patchset.

Change-Id: Ia3e1252203bf7ab6421bee01172534008f624da0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/47/776547/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/helm-toolkit.yaml'],1,7ada8b3aa8e7c024947f83a95960b4a1265b6bef,htk-reno, - 0.1.1 Add extra DNS names to Ingress - 0.1.2 Make database backups work with openstack Train - 0.1.3 Fix ks-user script case matching for domain - 0.1.4 Update ingress tpl in helmtoolkit - 0.1.5 Add capability to delete a backup archive - 0.2.0 Update default Kubernetes API for use with Helm v3 - 0.2.1 Change Issuer to ClusterIssuer - 0.2.2 Revert Change Issuer to ClusterIssuer - 0.2.3 Allow openstack service list to retry in event of keystone connection issues - 0.2.4 Added detailed FiXME for ks-service script bug and code changes,,10,0
openstack%2Fopenstack-helm-infra~master~I859a8713422f6d4c5df79d2b01f54c89dcdfa0b4,openstack/openstack-helm-infra,master,I859a8713422f6d4c5df79d2b01f54c89dcdfa0b4,Remove Alerta residue,MERGED,2021-02-20 09:38:24.000000000,2021-02-22 17:03:50.000000000,2021-02-22 16:55:34.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-02-20 09:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15d987b872a1eccf1a0de1a30c010c22c3946be2', 'message': ""Remove Alerta residue\n\nAbout Alerta chart,It's been removed,But there are two related scripts,we\nshould remove them.\n\nChange-Id: I859a8713422f6d4c5df79d2b01f54c89dcdfa0b4\n""}, {'number': 2, 'created': '2021-02-20 09:40:20.000000000', 'files': ['tools/deployment/multinode/175-alerta.sh', 'tools/deployment/osh-infra-monitoring/175-alerta.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5549eb0d316808215db2e7bc6aa33d5af32c89ce', 'message': ""Remove Alerta residue\n\nAbout Alerta chart,It's been removed,But there are two related scripts,we should remove them.\n\nChange-Id: I859a8713422f6d4c5df79d2b01f54c89dcdfa0b4\n""}]",0,776801,5549eb0d316808215db2e7bc6aa33d5af32c89ce,11,5,2,30449,,,0,"Remove Alerta residue

About Alerta chart,It's been removed,But there are two related scripts,we should remove them.

Change-Id: I859a8713422f6d4c5df79d2b01f54c89dcdfa0b4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/776801/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/175-alerta.sh', 'tools/deployment/osh-infra-monitoring/175-alerta.sh']",2,15d987b872a1eccf1a0de1a30c010c22c3946be2,Remove-alerta-residue,,../common/alerta.sh,0,2
openstack%2Fpuppet-placement~stable%2Fussuri~I76eb105ca532e427e4f48f84ccb5c15532456fda,openstack/puppet-placement,stable/ussuri,I76eb105ca532e427e4f48f84ccb5c15532456fda,Add support for management of osc-placement package,MERGED,2021-02-19 17:23:22.000000000,2021-02-22 17:01:29.000000000,2021-02-22 16:55:15.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 17:23:22.000000000', 'files': ['spec/classes/placement_client_spec.rb', 'releasenotes/notes/osc-placement-c9df6c2ce40537d0.yaml', 'manifests/params.pp', 'manifests/client.pp', 'manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a', 'message': 'Add support for management of osc-placement package\n\nThis patch introduces a new class, placement::client, so that operators\ncan manage pythonN-osc-placement package.\n\nChange-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda\n(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)\n'}]",0,776620,a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a,8,7,1,27419,,,0,"Add support for management of osc-placement package

This patch introduces a new class, placement::client, so that operators
can manage pythonN-osc-placement package.

Change-Id: I76eb105ca532e427e4f48f84ccb5c15532456fda
(cherry picked from commit 0a59d6767a958b72b3ef383ce0e91bdf7eebd6c5)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/20/776620/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_client_spec.rb', 'releasenotes/notes/osc-placement-c9df6c2ce40537d0.yaml', 'manifests/params.pp', 'manifests/client.pp', 'manifests/deps.pp']",5,a8a9b300f50ec9e26ac392a8712a6530e1d9bf2a,osc-placement," # Support packages need to be installed in the install phase, but we don't # put them in the chain above because we don't want any false dependencies # between packages with the placement-package tag and the placement-support-package # tag. Note: the package resources here will have a 'before' relationship on # the placement::install::end anchor. The line between placement-support-package # and placement-package should be whether or not placement services would # need to be restarted if the package state was changed. Anchor['placement::install::begin'] -> Package<| tag == 'placement-support-package'|> -> Anchor['placement::install::end'] ",,93,0
openstack%2Fopenstack-helm-infra~master~I9194dba2903185c32ec51000aa7b274e2a0b1eac,openstack/openstack-helm-infra,master,I9194dba2903185c32ec51000aa7b274e2a0b1eac,Update ingress chart releasenotes to latest,MERGED,2021-02-18 22:27:41.000000000,2021-02-22 16:58:45.000000000,2021-02-22 16:58:45.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-18 22:27:41.000000000', 'files': ['releasenotes/notes/ingress.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d13c86250f01533b34bba5a18a9748ee9ec8e366', 'message': 'Update ingress chart releasenotes to latest\n\nThis change updates the releasenotes for the ingress chart to the\nlatest version of the chart as of this patchset.\n\nChange-Id: I9194dba2903185c32ec51000aa7b274e2a0b1eac\n'}]",0,776548,d13c86250f01533b34bba5a18a9748ee9ec8e366,9,5,1,21420,,,0,"Update ingress chart releasenotes to latest

This change updates the releasenotes for the ingress chart to the
latest version of the chart as of this patchset.

Change-Id: I9194dba2903185c32ec51000aa7b274e2a0b1eac
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/776548/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ingress.yaml'],1,d13c86250f01533b34bba5a18a9748ee9ec8e366,ingress-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Update to container image repo k8s.gcr.io - 0.2.0 Update default Kubernetes API for use with Helm v3 - 0.2.1 Use HostToContainer mountPropagation",,4,0
openstack%2Fopenstack-helm-infra~master~I223b199851ed262ce956d2ade99f917811de6648,openstack/openstack-helm-infra,master,I223b199851ed262ce956d2ade99f917811de6648,Update grafana chart releasenotes to latest,MERGED,2021-02-18 22:18:46.000000000,2021-02-22 16:58:27.000000000,2021-02-22 16:58:27.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-18 22:18:46.000000000', 'files': ['releasenotes/notes/grafana.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ac6032b56459f8403e75f4cc31c521027a84d18', 'message': 'Update grafana chart releasenotes to latest\n\nThis change updates the releasenotes for the grafana chart to the\nlatest version of the chart as of this patchset.\n\nChange-Id: I223b199851ed262ce956d2ade99f917811de6648\n'}]",0,776546,7ac6032b56459f8403e75f4cc31c521027a84d18,9,5,1,21420,,,0,"Update grafana chart releasenotes to latest

This change updates the releasenotes for the grafana chart to the
latest version of the chart as of this patchset.

Change-Id: I223b199851ed262ce956d2ade99f917811de6648
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/46/776546/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/grafana.yaml'],1,7ac6032b56459f8403e75f4cc31c521027a84d18,grafana-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Update Grafana version",,2,0
openstack%2Fopenstack-helm-infra~master~I90029db1babae57e8ec9fcd625efe475de537aa7,openstack/openstack-helm-infra,master,I90029db1babae57e8ec9fcd625efe475de537aa7,Update gnocci chart releasenotes to latest,MERGED,2021-02-18 22:16:40.000000000,2021-02-22 16:58:19.000000000,2021-02-22 16:58:19.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-18 22:16:40.000000000', 'files': ['releasenotes/notes/gnocchi.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bff62e666e15aded9f5b2b2f28b1d7fbdf0b2117', 'message': 'Update gnocci chart releasenotes to latest\n\nThis change updates the releasenotes for the gnocci chart to the\nlatest version of the chart as of this patchset.\n\nChange-Id: I90029db1babae57e8ec9fcd625efe475de537aa7\n'}]",0,776545,bff62e666e15aded9f5b2b2f28b1d7fbdf0b2117,9,5,1,21420,,,0,"Update gnocci chart releasenotes to latest

This change updates the releasenotes for the gnocci chart to the
latest version of the chart as of this patchset.

Change-Id: I90029db1babae57e8ec9fcd625efe475de537aa7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/776545/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/gnocchi.yaml'],1,bff62e666e15aded9f5b2b2f28b1d7fbdf0b2117,gnocci-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~Ic350c31927d64b353d4e226f23ba08a35306b075,openstack/openstack-helm-infra,master,Ic350c31927d64b353d4e226f23ba08a35306b075,Update flannel chart releasenotes to latest,MERGED,2021-02-18 21:47:05.000000000,2021-02-22 16:58:06.000000000,2021-02-22 16:58:06.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-18 21:47:05.000000000', 'files': ['releasenotes/notes/flannel.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e543d4a5c55e2f469d74040aa3f6bb5925b857a9', 'message': 'Update flannel chart releasenotes to latest\n\nThis change updates the releasenotes for the flannel chart to the\nlatest version of the chart as of this patchset.\n\nChange-Id: Ic350c31927d64b353d4e226f23ba08a35306b075\n'}]",0,776539,e543d4a5c55e2f469d74040aa3f6bb5925b857a9,10,6,1,21420,,,0,"Update flannel chart releasenotes to latest

This change updates the releasenotes for the flannel chart to the
latest version of the chart as of this patchset.

Change-Id: Ic350c31927d64b353d4e226f23ba08a35306b075
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/39/776539/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/flannel.yaml'],1,e543d4a5c55e2f469d74040aa3f6bb5925b857a9,flannel-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I3d18cd564913beea51d60e6add7b3224d8c246f4,openstack/openstack-helm-infra,master,I3d18cd564913beea51d60e6add7b3224d8c246f4,Update daemonjob-controller releasenotes to latest,MERGED,2021-02-18 20:39:16.000000000,2021-02-22 16:57:57.000000000,2021-02-22 16:57:57.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-18 20:39:16.000000000', 'files': ['releasenotes/notes/daemonjob-controller.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa2141cbe6b1cc6d6c6cd7f8a6dad3fba8c9592f', 'message': 'Update daemonjob-controller releasenotes to latest\n\nThis change updates the release notes for the daemonjob-controller\nchart to the latest version of the chart as of this patchset.\n\nChange-Id: I3d18cd564913beea51d60e6add7b3224d8c246f4\n'}]",0,776529,fa2141cbe6b1cc6d6c6cd7f8a6dad3fba8c9592f,9,5,1,21420,,,0,"Update daemonjob-controller releasenotes to latest

This change updates the release notes for the daemonjob-controller
chart to the latest version of the chart as of this patchset.

Change-Id: I3d18cd564913beea51d60e6add7b3224d8c246f4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/29/776529/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/daemonjob-controller.yaml'],1,fa2141cbe6b1cc6d6c6cd7f8a6dad3fba8c9592f,daemonjob-controller," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Add default value for property in x-kubernetes-list-map-keys - 0.1.3 Update to container image repo k8s.gcr.io",,3,0
openstack%2Fopenstack-helm-infra~master~I13649141643d628d3a7dcff969c9d35099f7492f,openstack/openstack-helm-infra,master,I13649141643d628d3a7dcff969c9d35099f7492f,Update tiller chart releasenotes to latest,MERGED,2021-02-20 08:05:06.000000000,2021-02-22 16:57:07.000000000,2021-02-22 16:57:07.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-02-20 08:05:06.000000000', 'files': ['releasenotes/notes/tiller.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b1ecbae943123bebb128dd78a82a60835ec29db', 'message': 'Update tiller chart releasenotes to latest\n\nThis change updates the releasenotes for the tiller chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I13649141643d628d3a7dcff969c9d35099f7492f\n'}]",0,776797,5b1ecbae943123bebb128dd78a82a60835ec29db,9,5,1,30449,,,0,"Update tiller chart releasenotes to latest

This change updates the releasenotes for the tiller chart
to the latest version of the chart as of this patchset.

Change-Id: I13649141643d628d3a7dcff969c9d35099f7492f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/776797/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/tiller.yaml'],1,5b1ecbae943123bebb128dd78a82a60835ec29db,tiller-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I6e151762e2d3434d75dfb5df4525e1e91186ddf2,openstack/openstack-helm-infra,master,I6e151762e2d3434d75dfb5df4525e1e91186ddf2,Update zookeeper chart releasenotes to latest,MERGED,2021-02-20 08:08:38.000000000,2021-02-22 16:56:52.000000000,2021-02-22 16:56:52.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28372}]","[{'number': 1, 'created': '2021-02-20 08:08:38.000000000', 'files': ['releasenotes/notes/zookeeper.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d49784078eca35a40fb221e2f1c7329a00c8040e', 'message': 'Update zookeeper chart releasenotes to latest\n\nThis change updates the releasenotes for the zookeeper chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I6e151762e2d3434d75dfb5df4525e1e91186ddf2\n'}]",0,776798,d49784078eca35a40fb221e2f1c7329a00c8040e,9,5,1,30449,,,0,"Update zookeeper chart releasenotes to latest

This change updates the releasenotes for the zookeeper chart
to the latest version of the chart as of this patchset.

Change-Id: I6e151762e2d3434d75dfb5df4525e1e91186ddf2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/776798/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/zookeeper.yaml'],1,d49784078eca35a40fb221e2f1c7329a00c8040e,zookeeper-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~Id1ae58de61e33bbb208e56bfea098677593c55e5,openstack/openstack-helm-infra,master,Id1ae58de61e33bbb208e56bfea098677593c55e5,Update nfs-provisioner chart releasenotes to latest,MERGED,2021-02-20 03:12:35.000000000,2021-02-22 16:56:27.000000000,2021-02-22 16:56:27.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 03:12:35.000000000', 'files': ['releasenotes/notes/nfs-provisioner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7eb223a22e4344152ef78964c844c6ed834cf1da', 'message': 'Update nfs-provisioner chart releasenotes to latest\n\nThis change updates the releasenotes for the nfs-provisioner chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: Id1ae58de61e33bbb208e56bfea098677593c55e5\n'}]",0,776783,7eb223a22e4344152ef78964c844c6ed834cf1da,9,5,1,30449,,,0,"Update nfs-provisioner chart releasenotes to latest

This change updates the releasenotes for the nfs-provisioner chart
to the latest version of the chart as of this patchset.

Change-Id: Id1ae58de61e33bbb208e56bfea098677593c55e5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/83/776783/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/nfs-provisioner.yaml'],1,7eb223a22e4344152ef78964c844c6ed834cf1da,nfs-provisioner-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I1dcd5ac1eebad71878a72a0c6fb57b2011cc4de5,openstack/openstack-helm-infra,master,I1dcd5ac1eebad71878a72a0c6fb57b2011cc4de5,Update memcached chart releasenotes to latest,MERGED,2021-02-20 02:41:37.000000000,2021-02-22 16:56:08.000000000,2021-02-22 16:56:08.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-02-20 02:41:37.000000000', 'files': ['releasenotes/notes/memcached.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84c018dd95f8dd4ef192fd25f836cbeb842af01a', 'message': 'Update memcached chart releasenotes to latest\n\nThis change updates the releasenotes for the memcached chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I1dcd5ac1eebad71878a72a0c6fb57b2011cc4de5\n'}]",0,776781,84c018dd95f8dd4ef192fd25f836cbeb842af01a,9,5,1,30449,,,0,"Update memcached chart releasenotes to latest

This change updates the releasenotes for the memcached chart
to the latest version of the chart as of this patchset.

Change-Id: I1dcd5ac1eebad71878a72a0c6fb57b2011cc4de5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/81/776781/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/memcached.yaml'],1,84c018dd95f8dd4ef192fd25f836cbeb842af01a,memcached-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I5f404810ed3ee4c09129f60e07541dd92eeca02b,openstack/openstack-helm-infra,master,I5f404810ed3ee4c09129f60e07541dd92eeca02b,Update mariadb chart releasenotes to latest,MERGED,2021-02-20 02:31:57.000000000,2021-02-22 16:55:58.000000000,2021-02-22 16:55:58.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-02-20 02:31:57.000000000', 'files': ['releasenotes/notes/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e13167e38569fa7de642cc29e650469242137e95', 'message': 'Update mariadb chart releasenotes to latest\n\nThis change updates the releasenotes for the mariadb chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I5f404810ed3ee4c09129f60e07541dd92eeca02b\n'}]",0,776780,e13167e38569fa7de642cc29e650469242137e95,9,5,1,30449,,,0,"Update mariadb chart releasenotes to latest

This change updates the releasenotes for the mariadb chart
to the latest version of the chart as of this patchset.

Change-Id: I5f404810ed3ee4c09129f60e07541dd92eeca02b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/776780/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/mariadb.yaml'],1,e13167e38569fa7de642cc29e650469242137e95,mariadb-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 mariadb security best practice fixes - 0.1.3 Fix MariaDB backup script - 0.1.4 Unpin images built with osh-images - 0.1.5 Update to container image repo k8s.gcr.io - 0.1.6 Change Issuer to ClusterIssuer - 0.1.7 Revert - Change Issuer to ClusterIssuer",,7,0
openstack%2Fopenstack-helm-infra~master~Ic2f3d5de406412e88472a7c81c04c83457a328a6,openstack/openstack-helm-infra,master,Ic2f3d5de406412e88472a7c81c04c83457a328a6,Update local-storage chart releasenotes to latest,MERGED,2021-02-20 02:16:37.000000000,2021-02-22 16:55:48.000000000,2021-02-22 16:55:48.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-02-20 02:16:37.000000000', 'files': ['releasenotes/notes/local-storage.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f576b2db7f0baf7297338732c647ce52998a381', 'message': 'Update local-storage chart releasenotes to latest\n\nThis change updates the releasenotes for the local-storage chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: Ic2f3d5de406412e88472a7c81c04c83457a328a6\n'}]",0,776778,6f576b2db7f0baf7297338732c647ce52998a381,9,5,1,30449,,,0,"Update local-storage chart releasenotes to latest

This change updates the releasenotes for the local-storage chart
to the latest version of the chart as of this patchset.

Change-Id: Ic2f3d5de406412e88472a7c81c04c83457a328a6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/776778/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/local-storage.yaml'],1,6f576b2db7f0baf7297338732c647ce52998a381,local-storage-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fopenstack-helm-infra~master~I54455ebf30a44c430ba3b665954c1092b8b3815f,openstack/openstack-helm-infra,master,I54455ebf30a44c430ba3b665954c1092b8b3815f,Update mongodb chart releasenotes to latest,MERGED,2021-02-20 08:22:19.000000000,2021-02-22 16:55:38.000000000,2021-02-22 16:55:38.000000000,"[{'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28372}]","[{'number': 1, 'created': '2021-02-20 08:22:19.000000000', 'files': ['releasenotes/notes/mongodb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/60cf2c2230b3ba4a4783ab40d2d637c227238bbe', 'message': 'Update mongodb chart releasenotes to latest\n\nThis change updates the releasenotes for the mongodb chart\nto the latest version of the chart as of this patchset.\n\nChange-Id: I54455ebf30a44c430ba3b665954c1092b8b3815f\n'}]",0,776799,60cf2c2230b3ba4a4783ab40d2d637c227238bbe,9,5,1,30449,,,0,"Update mongodb chart releasenotes to latest

This change updates the releasenotes for the mongodb chart
to the latest version of the chart as of this patchset.

Change-Id: I54455ebf30a44c430ba3b665954c1092b8b3815f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/776799/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/mongodb.yaml'],1,60cf2c2230b3ba4a4783ab40d2d637c227238bbe,mongodb-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fpuppet-keystone~stable%2Fvictoria~I835641d402e6cbd6650efd0d7a1fb16fb361350e,openstack/puppet-keystone,stable/victoria,I835641d402e6cbd6650efd0d7a1fb16fb361350e,Add TLS options to oslo.cache,MERGED,2021-02-04 19:24:34.000000000,2021-02-22 16:43:34.000000000,2021-02-22 16:42:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 19:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b7324c47597638b02e8b7b68728665216819f5cb', 'message': 'Add TLS options to oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nDepends-on: https://review.opendev.org/761604\nChange-Id: I835641d402e6cbd6650efd0d7a1fb16fb361350e\n(cherry picked from commit 7ae8aa377e393c28af1d8d6b0ba059b984da0725)\n'}, {'number': 2, 'created': '2021-02-15 12:59:15.000000000', 'files': ['spec/classes/keystone_cache_spec.rb', 'releasenotes/notes/add_tls_options-8ed38a82af2f378f.yaml', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3f55c34811b6738cf2c353f11d19c0a3beab0a83', 'message': 'Add TLS options to oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nDepends-on: https://review.opendev.org/774118\nChange-Id: I835641d402e6cbd6650efd0d7a1fb16fb361350e\n(cherry picked from commit 7ae8aa377e393c28af1d8d6b0ba059b984da0725)\n'}]",0,774121,3f55c34811b6738cf2c353f11d19c0a3beab0a83,11,5,2,14250,,,0,"Add TLS options to oslo.cache

This patch specifies a set of options required to build a TLS context.
The context built from those options can later on be passed to any of
the oslo.cache backends that supports TLS connections.

Depends-on: https://review.opendev.org/774118
Change-Id: I835641d402e6cbd6650efd0d7a1fb16fb361350e
(cherry picked from commit 7ae8aa377e393c28af1d8d6b0ba059b984da0725)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/21/774121/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_cache_spec.rb', 'releasenotes/notes/add_tls_options-8ed38a82af2f378f.yaml', 'manifests/cache.pp']",3,b7324c47597638b02e8b7b68728665216819f5cb,memcached-cert-stable/victoria,"# [*tls_enabled*] # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # Default to $::os_service_default # # [*tls_cafile*] # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # Default to $::os_service_default # # [*tls_certfile*] # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # Default to $::os_service_default # # [*tls_keyfile*] # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # Default to $::os_service_default # # [*tls_allowed_ciphers*] # (Optional) Set the available ciphers for sockets created with # the TLS context. It should be a string in the OpenSSL cipher # list format. If not specified, all OpenSSL enabled ciphers will # be available. # Default to $::os_service_default # $tls_enabled = $::os_service_default, $tls_cafile = $::os_service_default, $tls_certfile = $::os_service_default, $tls_keyfile = $::os_service_default, $tls_allowed_ciphers = $::os_service_default, tls_enabled => $tls_enabled, tls_cafile => $tls_cafile, tls_certfile => $tls_certfile, tls_keyfile => $tls_keyfile, tls_allowed_ciphers => $tls_allowed_ciphers,",,62,0
openstack%2Fpuppet-ceilometer~stable%2Fvictoria~I66df247543f28b4343c15f4e151231c0e100d00a,openstack/puppet-ceilometer,stable/victoria,I66df247543f28b4343c15f4e151231c0e100d00a,Add TLS options for oslo.cache,MERGED,2021-02-15 21:25:47.000000000,2021-02-22 16:39:36.000000000,2021-02-22 16:38:06.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 21:25:47.000000000', 'files': ['releasenotes/notes/add_tls_options-c9970ada14354891.yaml', 'manifests/init.pp', 'spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/559cdc4328318b9e355cf079b7d9eb3b6ff934b6', 'message': 'Add TLS options for oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nDepends-on: https://review.opendev.org/774118\nChange-Id: I66df247543f28b4343c15f4e151231c0e100d00a\n(cherry picked from commit 44fc5d25c1c9418ed4d82a48380fe6ab8362aee5)\n'}]",0,775647,559cdc4328318b9e355cf079b7d9eb3b6ff934b6,8,5,1,14250,,,0,"Add TLS options for oslo.cache

This patch specifies a set of options required to build a TLS context.
The context built from those options can later on be passed to any of
the oslo.cache backends that supports TLS connections.

Depends-on: https://review.opendev.org/774118
Change-Id: I66df247543f28b4343c15f4e151231c0e100d00a
(cherry picked from commit 44fc5d25c1c9418ed4d82a48380fe6ab8362aee5)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/47/775647/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_tls_options-c9970ada14354891.yaml', 'manifests/init.pp', 'spec/classes/ceilometer_init_spec.rb']",3,559cdc4328318b9e355cf079b7d9eb3b6ff934b6,memcached-cert-stable/victoria," :tls_enabled => '<SERVICE DEFAULT>', :tls_cafile => '<SERVICE DEFAULT>', :tls_certfile => '<SERVICE DEFAULT>', :tls_keyfile => '<SERVICE DEFAULT>', :tls_allowed_ciphers => '<SERVICE DEFAULT>', :cache_tls_enabled => true, :tls_enabled => true,",,54,0
openstack%2Fswift~master~I33c0168c1bb89f780be6fc317a4df89322cbc28d,openstack/swift,master,I33c0168c1bb89f780be6fc317a4df89322cbc28d,Add sharder section to container config doc,MERGED,2021-02-19 16:58:35.000000000,2021-02-22 16:38:15.000000000,2021-02-22 16:31:40.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 16:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f11a674165bd51285dcdee48350943cf5fdbb46a', 'message': 'Add sharder section to container config doc\n\nChange-Id: I33c0168c1bb89f780be6fc317a4df89322cbc28d\n'}, {'number': 2, 'created': '2021-02-22 09:29:59.000000000', 'files': ['doc/source/config/container_server_config.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/4f94ac263a1dcb81ee9cf1c0579d8e0471f73667', 'message': 'Add sharder section to container config doc\n\nChange-Id: I33c0168c1bb89f780be6fc317a4df89322cbc28d\n'}]",4,776673,4f94ac263a1dcb81ee9cf1c0579d8e0471f73667,11,3,2,7847,,,0,"Add sharder section to container config doc

Change-Id: I33c0168c1bb89f780be6fc317a4df89322cbc28d
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/776673/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/config/container_server_config.rst'],1,f11a674165bd51285dcdee48350943cf5fdbb46a,p-sharder-deployment-guide,"* `[container-sharder]`_[container-sharder] ******************* The container-sharder re-uses features of the container-replicator and inherits the following configuration options defined for the `[container-replicator]`_: * interval * databases_per_second * per_diff * max_diffs * concurrency * node_timeout * conn_timeout * reclaim_age * rsync_compress * rsync_module * recon_cache_path ================================= ================= ======================================= Option Default Description --------------------------------- ----------------- --------------------------------------- log_name container-sharder Label used when logging log_facility LOG_LOCAL0 Syslog log facility log_level INFO Logging level log_address /dev/log Logging directory auto_shard false If the auto_shard option is true then the sharder will automatically select containers to shard, scan for shard ranges, and select shards to shrink. Warning: auto-sharding is still under development and should not be used in production; do not set this option to true in a production cluster. shard_container_threshold 1000000 When auto-sharding is enabled this defines the object count at which a container with container-sharding enabled will start to shard. This also indirectly determines the initial nominal size of shard containers, which is shard_container_threshold//2, as well as determining the thresholds for shrinking and merging shard containers. shard_shrink_point 5 When auto-sharding is enabled this defines the object count below which a 'donor' shard container will be considered for shrinking into another 'acceptor' shard container. shard_shrink_point is a percentage of shard_container_threshold e.g. the default value of 5 means 5% of the shard_container_threshold. shard_shrink_merge_point 75 When auto-sharding is this defines the maximum allowed size of an acceptor shard container after having a donor merged into it. Shard_shrink_merge_point is a percentage of shard_container_threshold. e.g. the default value of 75 means that the projected sum of a donor object count and acceptor count must be less than 75% of shard_container_threshold for the donor to be allowed to merge into the acceptor. For example, if shard_container_threshold is 1 million, shard_shrink_point is 5, and shard_shrink_merge_point is 75 then a shard will be considered for shrinking if it has less than or equal to 50 thousand objects but will only merge into an acceptor if the combined object count would be less than or equal to 750 thousand objects. shard_scanner_batch_size 10 When auto-sharding is this defines the maximum number of shard ranges that will be found each time the sharder daemon visits a sharding container. If necessary the sharder daemon will continue to search for more shard ranges each time it visits the container. cleave_batch_size 2 Defines the number of shard ranges that will be cleaved each time the sharder daemon visits a sharding container. cleave_row_batch_size 10000 Defines the size of batches of object rows read from a sharding container and merged to a shard container during cleaving. shard_replication_quorum auto Defines the number of successfully replicated shard dbs required when cleaving a previously uncleaved shard range before the sharder will progress to the next shard range. The value should be less than or equal to the container ring replica count. The default of 'auto' causes the container ring quorum value to be used. This option only applies to the container-sharder replication and does not affect the number of shard container replicas that will eventually be replicated by the container-replicator. existing_shard_replication_quorum auto Defines the number of successfully replicated shard dbs required when cleaving a shard range that has been previously cleaved on another node before the sharder will progress to the next shard range. The value should be less than or equal to the container ring replica count. The default of 'auto' causes the shard_replication_quorum value to be used. This option only applies to the container-sharder replication and does not affect the number of shard container replicas that will eventually be replicated by the container-replicator. internal_client_conf_path see description The sharder uses an internal client to create and make requests to containers. The absolute path to the client config file can be configured. Defaults to /etc/swift/internal-client.conf request_tries 3 The number of time the internal client will retry requests. recon_candidates_limit 5 Each time the sharder dumps stats to the recon cache file it includes a list of containers that appear to need sharding but are not yet sharding. By default this list is limited to the top 5 containers, ordered by object count. The limit may be changed by setting recon_candidates_limit to an integer value. A negative value implies no limit. broker_timeout 60 Large databases tend to take a while to work with, but we want to make sure we write down our progress. Use a larger-than-normal broker timeout to make us less likely to bomb out on a LockTimeout. ================================= ================= ======================================= *******************",,224,0
openstack%2Fneutron~master~I5a8451370646d8d149c03283a2180e325a2d7b1c,openstack/neutron,master,I5a8451370646d8d149c03283a2180e325a2d7b1c,Update doc for upgrading to openvswitch firewall,MERGED,2021-02-18 03:05:11.000000000,2021-02-22 16:37:38.000000000,2021-02-22 16:32:42.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 03:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1350179c4239230fc4992c306389182a1be2bcb4', 'message': 'Update doc for upgrading to openvswitch firewall driver\n\nChange-Id: I5a8451370646d8d149c03283a2180e325a2d7b1c\nCloses-bug: #1914522\n'}, {'number': 2, 'created': '2021-02-18 03:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbeca86db39b430cff57b005e6ca7cf749a14370', 'message': 'Update doc for upgrading to openvswitch firewall\n\nChange-Id: I5a8451370646d8d149c03283a2180e325a2d7b1c\nCloses-bug: #1914522\n'}, {'number': 3, 'created': '2021-02-18 09:28:41.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9641b6dfeb6dadf104606016a1a791bebcd7ce87', 'message': 'Update doc for upgrading to openvswitch firewall\n\nChange-Id: I5a8451370646d8d149c03283a2180e325a2d7b1c\nCloses-bug: #1914522\n'}]",1,776304,9641b6dfeb6dadf104606016a1a791bebcd7ce87,16,3,3,29071,,,0,"Update doc for upgrading to openvswitch firewall

Change-Id: I5a8451370646d8d149c03283a2180e325a2d7b1c
Closes-bug: #1914522
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/776304/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/openvswitch_firewall.rst'],1,1350179c4239230fc4992c306389182a1be2bcb4,bug/1914522,"Please also note: during upgrading to openvswitch firewall, the security rules are still working for previous iptables controlled hybrid ports. But it will not work if one tries to replace openvswitch firewall with iptables. ",,4,0
openstack%2Ftripleo-docs~master~Iad6b3faa1a4428ce9a59efbc879bcf5a0f394cc1,openstack/tripleo-docs,master,Iad6b3faa1a4428ce9a59efbc879bcf5a0f394cc1,Avoid sphinxcontrib-mermaid 0.6.1,MERGED,2021-02-19 19:10:20.000000000,2021-02-22 16:36:52.000000000,2021-02-22 16:26:24.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 19:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e57ccf65b4a0e9e9bf9af6464f64b420285ec2b1', 'message': 'DNM: minor patch to reproduce bug/1916280\n\nChange-Id: Iad6b3faa1a4428ce9a59efbc879bcf5a0f394cc1\nRelated-Bug: 1916280\n'}, {'number': 2, 'created': '2021-02-19 19:54:57.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/bab891464f2faef18dcade6b8519ff48174ecf21', 'message': ""Avoid sphinxcontrib-mermaid 0.6.1\n\nsphinxcontrib-mermaid 0.6.1 causes issue seen in LP bug\n1916280. Newer version of sphinxcontrib-mermaid will fix\nso let's avoid problem with known issue.\n\nChange-Id: Iad6b3faa1a4428ce9a59efbc879bcf5a0f394cc1\nCloses-Bug: #1916280\n""}]",0,776698,bab891464f2faef18dcade6b8519ff48174ecf21,13,3,2,18002,,,0,"Avoid sphinxcontrib-mermaid 0.6.1

sphinxcontrib-mermaid 0.6.1 causes issue seen in LP bug
1916280. Newer version of sphinxcontrib-mermaid will fix
so let's avoid problem with known issue.

Change-Id: Iad6b3faa1a4428ce9a59efbc879bcf5a0f394cc1
Closes-Bug: #1916280
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/98/776698/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,e57ccf65b4a0e9e9bf9af6464f64b420285ec2b1,bug/1916280,instructions for installing Ceph are included as well with love.,instructions for installing Ceph are included as well.,1,1
openstack%2Fpuppet-heat~stable%2Fvictoria~I92552d013db98b972124db901f3f35a326110846,openstack/puppet-heat,stable/victoria,I92552d013db98b972124db901f3f35a326110846,Add TLS options to oslo.cache,MERGED,2021-02-15 13:03:06.000000000,2021-02-22 16:24:21.000000000,2021-02-22 16:22:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 13:03:06.000000000', 'files': ['spec/classes/heat_cache_spec.rb', 'manifests/cache.pp', 'releasenotes/notes/add_tls_options-e126a2206f028366.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/dc7fc1b3049616a3d565c3ec81d0cc24edd19060', 'message': 'Add TLS options to oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nDepends-on: https://review.opendev.org/774118\nChange-Id: I92552d013db98b972124db901f3f35a326110846\n(cherry picked from commit 42d1e8567d7441633ac9770c9301d8c5e5c0acd1)\n'}]",0,775618,dc7fc1b3049616a3d565c3ec81d0cc24edd19060,9,5,1,14250,,,0,"Add TLS options to oslo.cache

This patch specifies a set of options required to build a TLS context.
The context built from those options can later on be passed to any of
the oslo.cache backends that supports TLS connections.

Depends-on: https://review.opendev.org/774118
Change-Id: I92552d013db98b972124db901f3f35a326110846
(cherry picked from commit 42d1e8567d7441633ac9770c9301d8c5e5c0acd1)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/18/775618/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/heat_cache_spec.rb', 'manifests/cache.pp', 'releasenotes/notes/add_tls_options-e126a2206f028366.yaml']",3,dc7fc1b3049616a3d565c3ec81d0cc24edd19060,memcached-cert-stable/victoria,--- features: - | Add TLS options to oslo.cache ,,62,0
openstack%2Fcharm-hacluster~master~I675684fee5410f86aace2e42515d3e325d8d12f8,openstack/charm-hacluster,master,I675684fee5410f86aace2e42515d3e325d8d12f8,Ensure crmsh is not removed during series upgrade,MERGED,2021-01-29 10:58:36.000000000,2021-02-22 16:21:32.000000000,2021-02-22 16:21:32.000000000,"[{'_account_id': 8992}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 10:58:36.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6058f9985cd52f1b99d983da85df9746c64e820b', 'message': 'Ensure crmsh is not removed during series upgrade\n\nAt bionic crmsh was dropped as a dependency of corosync so it\nbecomes a candidate for removal for older charm deployments\nupgrading from xenial->bionic.\n\nMark the package as manually installed in the pre-upgrade hook\nto ensure that it never becomes a candidate for removal.\n\nChange-Id: I675684fee5410f86aace2e42515d3e325d8d12f8\nCloses-Bug: 1900206\n'}]",0,772992,6058f9985cd52f1b99d983da85df9746c64e820b,8,4,1,935,,,0,"Ensure crmsh is not removed during series upgrade

At bionic crmsh was dropped as a dependency of corosync so it
becomes a candidate for removal for older charm deployments
upgrading from xenial->bionic.

Mark the package as manually installed in the pre-upgrade hook
to ensure that it never becomes a candidate for removal.

Change-Id: I675684fee5410f86aace2e42515d3e325d8d12f8
Closes-Bug: 1900206
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/92/772992/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/test_hacluster_hooks.py']",2,6058f9985cd52f1b99d983da85df9746c64e820b,bug/1900206," @mock.patch.object(hooks, 'apt_mark') is_waiting_unit_series_upgrade_set, apt_mark): apt_mark.assert_called_once_with('crmsh', 'manual')", is_waiting_unit_series_upgrade_set):,9,1
openstack%2Fmonasca-log-api~master~Id7d9b150aca6f9b090f782d8b792c2d2dde854d7,openstack/monasca-log-api,master,Id7d9b150aca6f9b090f782d8b792c2d2dde854d7,Add doc/requirements,ABANDONED,2021-01-07 12:56:17.000000000,2021-02-22 16:00:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-01-07 12:56:17.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/6f134ab3bd40b65b412b09a3850fd8807ed86933', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\n\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: Id7d9b150aca6f9b090f782d8b792c2d2dde854d7\n""}]",0,769723,6f134ab3bd40b65b412b09a3850fd8807ed86933,3,2,1,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].

Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: Id7d9b150aca6f9b090f782d8b792c2d2dde854d7
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/23/769723/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,6f134ab3bd40b65b412b09a3850fd8807ed86933,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps}deps = {[testenv:docs]deps}deps = {[testenv:docs]deps}deps = {[testenv:docs]deps}deps = {[testenv:docs]deps},,11,5
openstack%2Fmonasca-log-api~master~I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec,openstack/monasca-log-api,master,I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec,Remove devstack plugin,ABANDONED,2019-10-23 09:35:07.000000000,2021-02-22 16:00:13.000000000,,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2019-10-23 09:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/bf17d3d427f8c428af0c6a6d37766873b0f77961', 'message': '[WIP] Remove devstack plugin\n\nThis plugin has been move to monasca-api\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 2, 'created': '2019-12-09 12:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/a01e98beed8a4e7591802ff7e1865f8d883f7eb4', 'message': '[WIP] Remove devstack plugin\n\nThis plugin has been move to monasca-api\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 3, 'created': '2019-12-09 12:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/d3aabbd4655640cf3a9530747a2b1c8e8ca1e918', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 4, 'created': '2019-12-09 12:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/c696248e0f0bcb06221f286ae9b8648441b13dcc', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 5, 'created': '2019-12-09 14:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/6a4871839422503bfe1cfca074a9e9f7983cf12b', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nDepends-On: https://review.opendev.org/#/c/698024/\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 6, 'created': '2019-12-09 15:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/fb84c4cdeb533fe9d3366b03707519d4e5bc51eb', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nDepends-On: https://review.opendev.org/#/c/698024/\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 7, 'created': '2019-12-09 15:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/d04d2346a678ba9ef76d906d1be67387b9c16cda', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nDepends-On: https://review.opendev.org/#/c/698024/\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 8, 'created': '2019-12-09 16:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/eed371aeda673017bff4b0de102479b09392b7b0', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nDepends-On: https://review.opendev.org/#/c/698024/\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 9, 'created': '2020-01-14 11:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/42fff5e83cdea28691157c464fa83bcf30185093', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nDepends-On: https://review.opendev.org/#/c/698024/\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}, {'number': 10, 'created': '2020-01-14 11:56:43.000000000', 'files': ['devstack/files/monasca-log-transformer/transformer.conf', '.gitignore', 'devstack/lib/config.sh', 'devstack/files/monasca-log-agent/agent.conf', 'devstack/files/grafana/dashboards.d/09-monasca.json', 'devstack/settings', 'devstack/files/monasca-agent/http_check.yaml', 'devstack/files/monasca-log-metrics/log-metrics.conf', 'devstack/lib/util.sh', 'devstack/files/elasticsearch/elasticsearch.yml', 'devstack/files/grafana/dashboards.d/20-kibana.json', 'devstack/files/grafana/dashboards.d/22-logtransformer.json', 'devstack/files/grafana/grafana.py', '.zuul.yaml', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'devstack/README.md', 'devstack/files/monasca-log-persister/persister.conf', 'devstack/files/grafana/dashboards.d/21-logapi.json', 'devstack/files/grafana/dashboards.d/23-logtmetrics.json', 'devstack/files/grafana/dashboards.d/24-logpersister.json', 'releasenotes/notes/remove-devstack-plugin-dd93bee459c1775b.yaml', 'devstack/files/apache-log-api.template', 'devstack/files/monasca-agent/elastic.yaml', 'devstack/files/monasca-agent/process.yaml', 'devstack/files/kibana/kibana.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/bf42be450e4dc11a6549407638d4262c934f9560', 'message': 'Remove devstack plugin\n\nThis plugin has been move to monasca-api\nDepends-On: https://review.opendev.org/#/c/698024/\nStory: 2003881\nTask: 36577\n\nDepends-On: https://review.opendev.org/#/c/672263/\nChange-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec\n'}]",5,690527,bf42be450e4dc11a6549407638d4262c934f9560,31,6,10,26141,,,0,"Remove devstack plugin

This plugin has been move to monasca-api
Depends-On: https://review.opendev.org/#/c/698024/
Story: 2003881
Task: 36577

Depends-On: https://review.opendev.org/#/c/672263/
Change-Id: I7fcda63663a7e387a8ba7d11ea1d9b05593b28ec
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/27/690527/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/monasca-log-transformer/transformer.conf', 'devstack/lib/config.sh', 'devstack/files/monasca-log-agent/agent.conf', 'devstack/files/grafana/dashboards.d/09-monasca.json', 'devstack/settings', 'devstack/files/monasca-agent/http_check.yaml', 'devstack/files/monasca-log-metrics/log-metrics.conf', 'devstack/lib/util.sh', 'devstack/files/elasticsearch/elasticsearch.yml', 'devstack/files/grafana/dashboards.d/20-kibana.json', 'devstack/files/grafana/dashboards.d/22-logtransformer.json', 'devstack/files/grafana/grafana.py', '.zuul.yaml', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'devstack/README.md', 'devstack/files/monasca-log-persister/persister.conf', 'devstack/files/grafana/dashboards.d/21-logapi.json', 'devstack/files/grafana/dashboards.d/23-logtmetrics.json', 'devstack/files/grafana/dashboards.d/24-logpersister.json', 'devstack/files/apache-log-api.template', 'devstack/files/monasca-agent/elastic.yaml', 'devstack/files/monasca-agent/process.yaml', 'devstack/files/kibana/kibana.yml']",24,bf17d3d427f8c428af0c6a6d37766873b0f77961,690527,,"# Kibana is served by a back end server. This controls which port to use. server.port: %KIBANA_SERVICE_PORT% # The host to bind the server to. server.host: %KIBANA_SERVICE_HOST% # If you are running kibana behind a proxy, and want to mount it at a path, # specify that path here. The basePath can't end in a slash. server.basePath: /dashboard/monitoring/logs_proxy # The Elasticsearch instance to use for all your queries. elasticsearch.url: http://%ES_SERVICE_BIND_HOST%:%ES_SERVICE_BIND_PORT% # preserve_elasticsearch_host true will send the hostname specified in `elasticsearch`. If you set it to false, # then the host you use to connect to *this* Kibana instance will be sent. elasticsearch.preserveHost: True # Kibana uses an index in Elasticsearch to store saved searches, visualizations # and dashboards. It will create a new index if it doesn't already exist. kibana.index: "".kibana"" # The default application to load. kibana.defaultAppId: ""discover"" # If your Elasticsearch is protected with basic auth, these are the user credentials # used by the Kibana server to perform maintenance on the kibana_index at startup. Your Kibana # users will still need to authenticate with Elasticsearch (which is proxied through # the Kibana server) # elasticsearch.username: ""user"" # elasticsearch.password: ""pass"" # SSL for outgoing requests from the Kibana Server to the browser (PEM formatted) # server.ssl.cert: /path/to/your/server.crt # server.ssl.key: /path/to/your/server.key # Optional setting to validate that your Elasticsearch backend uses the same key files (PEM formatted) # elasticsearch.ssl.cert: /path/to/your/client.crt # elasticsearch.ssl.key: /path/to/your/client.key # If you need to provide a CA certificate for your Elasticsearch instance, put # the path of the pem file here. # elasticsearch.ssl.ca: /path/to/your/CA.pem # Set to false to have a complete disregard for the validity of the SSL # certificate. # elasticsearch.ssl.verify: true # Time in milliseconds to wait for elasticsearch to respond to pings, defaults to # request_timeout setting elasticsearch.pingTimeout: 1500 # Time in milliseconds to wait for responses from the back end or elasticsearch. # This must be > 0 elasticsearch.requestTimeout: 300000 # Time in milliseconds for Elasticsearch to wait for responses from shards. # Set to 0 to disable. elasticsearch.shardTimeout: 0 # Time in milliseconds to wait for Elasticsearch at Kibana startup before retrying elasticsearch.startupTimeout: 5000 # Set the path to where you would like the process id file to be created. # pid.file: /var/run/kibana.pid # Set this to true to suppress all logging output. logging.silent: false # Set this to true to suppress all logging output except for error messages. logging.quiet: false # Set this to true to log all events, including system usage information and all requests. logging.verbose: true # monasca-kibana-plugin configuration monasca-kibana-plugin.auth_uri: %KEYSTONE_AUTH_URI% monasca-kibana-plugin.enabled: True monasca-kibana-plugin.cookie.isSecure: False optimize.useBundleCache: False ",3,7668
openstack%2Fmonasca-log-api~master~I2076bbe033fe4e45a6d61c895d1d27210f8aee58,openstack/monasca-log-api,master,I2076bbe033fe4e45a6d61c895d1d27210f8aee58,Minimum viable log query API for Elasticsearch,ABANDONED,2018-05-25 16:54:56.000000000,2021-02-22 16:00:01.000000000,,"[{'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-25 16:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/4012e44f1027f8e9213d934282c201ad8a1169ea', 'message': 'Minimum viable log query API for Elasticsearch\n\nThis allows users to query the log API and get back a list of logs\nfrom their OpenStack project. Alternatively, if the user is in\nthe delgate roles list they can query logs from other projects.\n\nDepends-On: https://review.openstack.org/563103\nChange-Id: I2076bbe033fe4e45a6d61c895d1d27210f8aee58\nCo-authored-by: Steve Simpson <steve@stackhpc.com>\nStory: 2000934\nTask: 4089\n'}, {'number': 2, 'created': '2018-05-30 17:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/70e0d7b5e78794e7047db1a68963bc6765116139', 'message': 'Minimum viable log query API for Elasticsearch\n\nThis allows users to query the log API and get back a list of logs\nfrom their OpenStack project. Alternatively, if the user is in\nthe delgate roles list they can query logs from other projects.\n\nDepends-On: https://review.openstack.org/563103\nChange-Id: I2076bbe033fe4e45a6d61c895d1d27210f8aee58\nCo-authored-by: Steve Simpson <steve@stackhpc.com>\nStory: 2000934\nTask: 4089\n'}, {'number': 3, 'created': '2018-05-30 17:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/baf64d51b02fc9b5e939b02da34a24d79365e65c', 'message': 'Minimum viable log query API for Elasticsearch\n\nThis allows users to query the log API and get back a list of logs\nfrom their OpenStack project. Alternatively, if the user is in\nthe delgate roles list they can query logs from other projects.\n\nDepends-On: https://review.openstack.org/563103\nChange-Id: I2076bbe033fe4e45a6d61c895d1d27210f8aee58\nCo-authored-by: Steve Simpson <steve@stackhpc.com>\nStory: 2000934\nTask: 4089\n'}, {'number': 4, 'created': '2018-05-31 13:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/1572ab0f67667a6b1d207cd749b50804120620b7', 'message': 'Minimum viable log query API for Elasticsearch\n\nThis allows users to query the log API and get back a list of logs\nfrom their OpenStack project. Alternatively, if the user is in\nthe delgate roles list they can query logs from other projects.\n\nDepends-On: https://review.openstack.org/563103\nChange-Id: I2076bbe033fe4e45a6d61c895d1d27210f8aee58\nCo-authored-by: Steve Simpson <steve@stackhpc.com>\nStory: 2000934\nTask: 4089\n'}, {'number': 5, 'created': '2018-06-01 10:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/713275793eaa7d634c7ebbbecfd1c5893b234770', 'message': 'Minimum viable log query API for Elasticsearch\n\nThis allows users to query the log API and get back a list of logs\nfrom their OpenStack project. Alternatively, if the user is in\nthe delgate roles list they can query logs from other projects.\n\nDepends-On: https://review.openstack.org/563103\nChange-Id: I2076bbe033fe4e45a6d61c895d1d27210f8aee58\nCo-authored-by: Steve Simpson <steve@stackhpc.com>\nStory: 2000934\nTask: 4089\n'}, {'number': 6, 'created': '2018-06-01 12:52:33.000000000', 'files': ['monasca_log_api/conf/role_middleware.py', 'monasca_log_api/tests/test_logs_v3_query.py', 'monasca_log_api/conf/repositories.py', 'monasca_log_api/db/repo/logs_repository.py', 'monasca_log_api/db/repo/elasticsearch/__init__.py', 'monasca_log_api/tests/test_elasticsearch_repository.py', 'monasca_log_api/app/controller/v3/schemas/log_query_schema.py', 'requirements.txt', 'monasca_log_api/app/controller/v3/logs.py', 'monasca_log_api/db/repo/elasticsearch/logs_repository.py', 'monasca_log_api/app/controller/v3/schemas/__init__.py', 'monasca_log_api/conf/elasticsearch.py', 'monasca_log_api/app/controller/v3/aid/helpers.py'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/1f6bf90d0da5318d0cddb99f302c2c25289c6acc', 'message': 'Minimum viable log query API for Elasticsearch\n\nThis allows users to query the log API and get back a list of logs\nfrom their OpenStack project. Alternatively, if the user is in\nthe delgate roles list they can query logs from other projects.\n\nDepends-On: https://review.openstack.org/563103\nChange-Id: I2076bbe033fe4e45a6d61c895d1d27210f8aee58\nCo-authored-by: Steve Simpson <steve@stackhpc.com>\nStory: 2000934\nTask: 4089\n'}]",0,570599,1f6bf90d0da5318d0cddb99f302c2c25289c6acc,13,2,6,17669,,,0,"Minimum viable log query API for Elasticsearch

This allows users to query the log API and get back a list of logs
from their OpenStack project. Alternatively, if the user is in
the delgate roles list they can query logs from other projects.

Depends-On: https://review.openstack.org/563103
Change-Id: I2076bbe033fe4e45a6d61c895d1d27210f8aee58
Co-authored-by: Steve Simpson <steve@stackhpc.com>
Story: 2000934
Task: 4089
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/99/570599/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'monasca_log_api/conf/role_middleware.py', 'monasca_log_api/app/controller/v3/logs.py', 'monasca_log_api/tests/test_logs_v3_query.py', 'monasca_log_api/db/repo/elasticsearch/logs_repository.py', 'monasca_log_api/conf/repositories.py', 'monasca_log_api/db/repo/logs_repository.py', 'monasca_log_api/conf/elasticsearch.py', 'monasca_log_api/tests/test_elasticsearch_repository.py', 'monasca_log_api/app/controller/v3/aid/helpers.py']",10,4012e44f1027f8e9213d934282c201ad8a1169ea,stackhpc/log-query-api,"# Copyright 2017-2018 StackHPC Ltd.from monasca_log_api.db.common import model from monasca_log_api.db.repo import logs_repository def get_int_query_param(param): val = rest_utils.get_query_param(param) if val is None or isinstance(val, int): return val try: return int(float(val)) except Exception: raise exceptions.HTTPUnprocessableEntity( 'Parameter {} value {} must be parsable to an int'.format(param, val)) def get_sort_by(sort_by): if not sort_by: return if not isinstance(sort_by, list): sort_by = sort_by.split(',') result = [] for sort_by_field in sort_by: parts = sort_by_field.split() if len(parts) > 2: raise exceptions.HTTPUnprocessableEntity( ""Invalid sort_by {}"".format(sort_by_field)) if parts[0] not in logs_repository.SORT_BY_FIELDS: raise exceptions.HTTPUnprocessableEntity( ""The sort_by field {} must be one of: [{}]"".format( parts[0], ', '.join(logs_repository.SORT_BY_FIELDS))) if len(parts) == 1: # No sort order specified, use default parts.append(logs_repository.DEFAULT_SORT_ORDER) allowed_sort_by_orders = logs_repository.SORT_BY_ORDERS.values() if len(parts) > 1 and parts[1] not in allowed_sort_by_orders: raise exceptions.HTTPUnprocessableEntity( ""The sort_by value {} must be one of: [{}]"".format( parts[1], ', '.join(allowed_sort_by_orders))) result.append(model.SortBy(*parts)) return result",,1181,11
openstack%2Fmonasca-log-api~master~Id95df908fad67ab6a8ef095823993d13ea2bcfff,openstack/monasca-log-api,master,Id95df908fad67ab6a8ef095823993d13ea2bcfff,Provide installation documentation,ABANDONED,2017-07-26 09:40:36.000000000,2021-02-22 15:59:18.000000000,,"[{'_account_id': 3}, {'_account_id': 10311}, {'_account_id': 13702}, {'_account_id': 14123}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 16323}, {'_account_id': 20033}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2017-07-26 09:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/9e56a09695e8ce50721d4d2161701b1e5b6dcb18', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 2, 'created': '2017-07-26 09:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/42b2ddb9bb251bb68d60080b161078a8593d8ce8', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 3, 'created': '2017-07-26 12:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/5d403881eb49dca8c962336212791621a615c132', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 4, 'created': '2017-08-04 10:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/b2e79f7c1284a13654ab6a39179cd4130515e48b', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 5, 'created': '2017-08-04 11:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/f74796103fd929ccae6624f04a07b8d9064257a2', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 6, 'created': '2017-08-11 04:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/6c1bd29b5ee91bf98124e17643136dd325362761', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 7, 'created': '2017-08-23 10:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/0a78f37b96f235be70e57d6c874d74a81ba3a6a5', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 8, 'created': '2017-08-25 05:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/ed222173befc4cc221cdabfd3e1452c768fa4ac2', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}, {'number': 9, 'created': '2017-10-18 10:03:45.000000000', 'files': ['doc/source/install/getting_in.rst', 'doc/source/index.rst', 'doc/source/install/index.rst', 'doc/source/install/methods.rst', 'doc/source/glossary.rst'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/c7dcf58c3164771970bdb4c5ab5085482fbb91ae', 'message': 'Provide installation documentation\n\nChange adds details about installation steps\nrequired to deploy monasca-log-api.\n\nStory: 2001058\nTask: 4782\n\nChange-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff\n'}]",37,487340,c7dcf58c3164771970bdb4c5ab5085482fbb91ae,35,10,9,16168,,,0,"Provide installation documentation

Change adds details about installation steps
required to deploy monasca-log-api.

Story: 2001058
Task: 4782

Change-Id: Id95df908fad67ab6a8ef095823993d13ea2bcfff
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/40/487340/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/getting_in.rst', 'doc/source/index.rst', 'doc/source/install/index.rst', 'doc/source/install/methods.rst', 'doc/source/glossary.rst']",5,9e56a09695e8ce50721d4d2161701b1e5b6dcb18,doc-migration," .. _glossary_log_pipeline: log-pipeline ------------ Term log-pipeline should be understood as the set of components working together to provide centralized log management. On high-level it will be composed out of: * log-agent :ref:`glossary_log_agent` * log-api :ref:`glossary_log_api` * log-transformer :ref:`glossary_log_transformer` * log-persister :ref:`glossary_log_persister` * log-metrics :ref:`glossary_log_metrics` * log-db :ref:`glossary_log_db` * log-ui :ref:`glossary_log_ui` .. _glossary_log_agent: log-agent --------- Log-Agent (for example: Logstash) is a component installed on site. It is focused on polling the logs out of monitored resources and sending them to :ref:`glossary_log_api`. .. _glossary_log_api: log-api ------- REST-ful service. It is focused on providing single entry point for centralized log management. .. _glossary_log_transformer: log-transformer --------------- Component responsible for log object normalization and severity detection. .. _glossary_log_persister: log-persister ------------- Component responsible for persisting log objects inside :ref:`glossary_log_db`. .. _glossary_log_metrics: log-metrics ----------- Component's focus is to provide provide an integration between metrics and logs. .. _glossary_log_db: log-db ------ A database where logs are finally persisted, the last step of the pipeline. At the moment, *log-db* corresponds to `ElasticSearch <https://www.elastic.co/products/elasticsearch>`_. .. _glossary_log_ui: log-ui ------ Allows to, on high-level overview, visualize the logs. At the moment, *log-ui* corresponds to `Kibana <https://www.elastic.co/products/kibana>`_.",,120,1
openstack%2Fmonasca-log-api~master~I6405cbab008fdbd86f12380c1f68ef0b6beeba51,openstack/monasca-log-api,master,I6405cbab008fdbd86f12380c1f68ef0b6beeba51,[WIP] osprofiler,ABANDONED,2017-07-13 05:22:44.000000000,2021-02-22 15:58:59.000000000,,[],"[{'number': 1, 'created': '2017-07-13 05:22:44.000000000', 'files': ['config-generator/monasca-log-api.conf', 'requirements.txt', 'monasca_log_api/reference/v3/logs.py', 'monasca_log_api/reference/common/log_publisher.py', 'monasca_log_api/config.py', 'etc/monasca/log-api-paste.ini'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/317c698227d46c04e771203ddc0d7573282d75c8', 'message': '[WIP] osprofiler\n\nChange-Id: I6405cbab008fdbd86f12380c1f68ef0b6beeba51\n'}]",0,483197,317c698227d46c04e771203ddc0d7573282d75c8,4,0,1,16168,,,0,"[WIP] osprofiler

Change-Id: I6405cbab008fdbd86f12380c1f68ef0b6beeba51
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/97/483197/1 && git format-patch -1 --stdout FETCH_HEAD,"['config-generator/monasca-log-api.conf', 'requirements.txt', 'monasca_log_api/reference/v3/logs.py', 'monasca_log_api/reference/common/log_publisher.py', 'monasca_log_api/config.py', 'etc/monasca/log-api-paste.ini']",6,317c698227d46c04e771203ddc0d7573282d75c8,os_profiler,pipeline = error_trap profiler request_id auth roles api_v2_apppipeline = error_trap profiler request_id auth roles api_v3_app[filter:profiler] paste.filter_factory = osprofiler.web:WsgiMiddleware.factory ,pipeline = error_trap request_id auth roles api_v2_apppipeline = error_trap request_id auth roles api_v3_app,45,4
openstack%2Fmonasca-log-api~master~I857479383b8172fa4534cdbd3152ae6bb4d02815,openstack/monasca-log-api,master,I857479383b8172fa4534cdbd3152ae6bb4d02815,Provide devstackgaterc script,ABANDONED,2017-08-04 08:20:22.000000000,2021-02-22 15:58:45.000000000,,"[{'_account_id': 3}, {'_account_id': 10311}, {'_account_id': 13702}, {'_account_id': 16168}, {'_account_id': 20033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-04 08:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/6e19a5624c2fb31b5dd7593533860781172550fc', 'message': 'Provide devstackgaterc script\n\nAdd devstackgaterc script to unified gate configuration.\n\nChange-Id: I857479383b8172fa4534cdbd3152ae6bb4d02815\nDepends-On: If7c74f4ffbdf484160690dbe16fb5759137a69ed\n'}, {'number': 2, 'created': '2017-08-21 12:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/e26f299e4110207e5250811988a2834c3a0229a4', 'message': 'Provide devstackgaterc script\n\nAdd devstackgaterc script to unified gate configuration.\n\nChange-Id: I857479383b8172fa4534cdbd3152ae6bb4d02815\nDepends-On: Iba12324f8101b2e70559a871e13840a1dbbb07b5\n'}, {'number': 3, 'created': '2017-10-18 10:03:41.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/50bc6269e4a46477979a5d5fb88ec00a5588fb55', 'message': 'Provide devstackgaterc script\n\nAdd devstackgaterc script to unified gate configuration.\n\nChange-Id: I857479383b8172fa4534cdbd3152ae6bb4d02815\nDepends-On: Iba12324f8101b2e70559a871e13840a1dbbb07b5\n'}]",1,490792,50bc6269e4a46477979a5d5fb88ec00a5588fb55,15,6,3,20033,,,0,"Provide devstackgaterc script

Add devstackgaterc script to unified gate configuration.

Change-Id: I857479383b8172fa4534cdbd3152ae6bb4d02815
Depends-On: Iba12324f8101b2e70559a871e13840a1dbbb07b5
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/92/490792/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,6e19a5624c2fb31b5dd7593533860781172550fc,unified,"# This file is hooked from https://github.com/openstack-infra/project-config/blob/master/jenkins/jobs/monasca.yaml DEVSTACK_LOCAL_CONFIG=""enable_plugin monasca-api git://git.openstack.org/openstack/monasca-api"" DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin monasca-log-api git://git.openstack.org/openstack/monasca-log-api"" export DEVSTACK_LOCAL_CONFIG export PROJECTS=""openstack/monasca-api $PROJECTS"" export PROJECTS=""openstack/monasca-log-api $PROJECTS"" export PROJECTS=""openstack/monasca-persister $PROJECTS"" export PROJECTS=""openstack/monasca-common $PROJECTS"" export PROJECTS=""openstack/monasca-agent $PROJECTS"" export PROJECTS=""openstack/monasca-notification $PROJECTS"" export PROJECTS=""openstack/monasca-thresh $PROJECTS"" export PROJECTS=""openstack/monasca-statsd $PROJECTS"" export PROJECTS=""openstack/python-monascaclient $PROJECTS"" export PROJECTS=""openstack/monasca-grafana-datasource $PROJECTS"" export PROJECTS=""openstack/monasca-ui $PROJECTS"" export PROJECTS=""openstack/monasca-kibana-plugin $PROJECTS""",,18,0
openstack%2Fmonasca-log-api~master~Ia8441f7772cd8131f176cf36f8eff470bf67a4c4,openstack/monasca-log-api,master,Ia8441f7772cd8131f176cf36f8eff470bf67a4c4,[WIP] make monitoring pluggable,ABANDONED,2017-07-20 06:57:58.000000000,2021-02-22 15:58:26.000000000,,[],"[{'number': 1, 'created': '2017-07-20 06:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/9e04aa4bdbefef282f742fd2f8adca92437002f3', 'message': '[WIP] make monitoring pluggable\n\nChange-Id: Ia8441f7772cd8131f176cf36f8eff470bf67a4c4\n'}, {'number': 2, 'created': '2017-07-26 22:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/5420c809ba05643e623554e67836a49dffcdf2ab', 'message': '[WIP] make monitoring pluggable\n\nChange-Id: Ia8441f7772cd8131f176cf36f8eff470bf67a4c4\n'}, {'number': 3, 'created': '2017-07-29 22:19:46.000000000', 'files': ['requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/e6efa95d551f572c87d42d1e9508980f35790d02', 'message': '[WIP] make monitoring pluggable\n\nChange-Id: Ia8441f7772cd8131f176cf36f8eff470bf67a4c4\n'}]",0,485470,e6efa95d551f572c87d42d1e9508980f35790d02,8,0,3,16168,,,0,"[WIP] make monitoring pluggable

Change-Id: Ia8441f7772cd8131f176cf36f8eff470bf67a4c4
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/70/485470/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.cfg']",2,9e04aa4bdbefef282f742fd2f8adca92437002f3,self_monitoring,[extras] monitoring_statsd = monasca-statsd>=1.1.0 # Apache-2.0 monitoring_prometheus = prometheus_client>=0.0.18 # Apache-2.0 ,,6,1
openstack%2Fmonasca-log-api~master~If6c905e54042b0bc9910f7ab9214a31f7f8548f4,openstack/monasca-log-api,master,If6c905e54042b0bc9910f7ab9214a31f7f8548f4,[WIP] rally,ABANDONED,2017-07-13 05:37:24.000000000,2021-02-22 15:57:44.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-07-13 05:37:24.000000000', 'files': ['rally-jobs/log-api.yml'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/ce2a800755ec3e6c1ebee7be741f5c6089fa429f', 'message': '[WIP] rally\n\nChange-Id: If6c905e54042b0bc9910f7ab9214a31f7f8548f4\n'}]",0,483201,ce2a800755ec3e6c1ebee7be741f5c6089fa429f,3,1,1,16168,,,0,"[WIP] rally

Change-Id: If6c905e54042b0bc9910f7ab9214a31f7f8548f4
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/01/483201/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/log-api.yml'],1,ce2a800755ec3e6c1ebee7be741f5c6089fa429f,rally,"--- LogApi.v3.post_single_log: {% for i in range(2, 50, 2) %} - args: runner: type: ""constant"" times: 10 concurrency: {{ i|int }} context: users: {% for t in range(1, 3, 1) %} tenants: {{ t |int }} {% for upt in range(1, 10, 2) %} users_per_tenant: {{ upt |int }} {% endfor %} {% endfor %} sla: failure_rate: max: 0 {% endfor %} ",,20,0
openstack%2Fcloudkitty~master~Ifdb5ffad4203f14c58959b87338d0de34af76674,openstack/cloudkitty,master,Ifdb5ffad4203f14c58959b87338d0de34af76674,Remove six,MERGED,2020-12-25 08:01:00.000000000,2021-02-22 15:57:19.000000000,2021-02-22 15:54:20.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-12-25 08:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/62b662bd3112cc8601bd216a3599285ad4b0834b', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.add_metaclass\n- six.PY3\n- six.text_type\n- six.string_type\n- six.string_types\n- six.iteritems\n- six.integer_types\n\nImplements: blueprint six-removal\nChange-Id: Ifdb5ffad4203f14c58959b87338d0de34af76674\n'}, {'number': 2, 'created': '2021-01-12 01:02:52.000000000', 'files': ['cloudkitty/rating/__init__.py', 'cloudkitty/rating/hash/db/api.py', 'rtd-requirements.txt', 'cloudkitty/storage_state/alembic/versions/c50ed2c19204_update_storage_state_constraint.py', 'cloudkitty/hacking/checks.py', 'cloudkitty/writer/__init__.py', 'cloudkitty/db/api.py', 'cloudkitty/tests/test_pyscripts.py', 'requirements.txt', 'cloudkitty/rating/hash/controllers/service.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/storage/v1/hybrid/backends/__init__.py', 'cloudkitty/rating/hash/controllers/threshold.py', 'cloudkitty/rating/pyscripts/db/api.py', 'cloudkitty/storage/v1/__init__.py', 'cloudkitty/backend/__init__.py', 'cloudkitty/storage/v2/__init__.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/rating/hash/controllers/mapping.py', 'cloudkitty/fetcher/__init__.py', 'cloudkitty/rating/hash/controllers/group.py', 'lower-constraints.txt', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/api/v1/controllers/collector.py', 'cloudkitty/utils/validation.py', 'cloudkitty/rating/pyscripts/controllers/script.py', 'cloudkitty/storage/v1/hybrid/backends/gnocchi.py', 'cloudkitty/rating/hash/controllers/field.py', 'cloudkitty/utils/__init__.py', 'cloudkitty/api/v1/controllers/info.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/common/policy.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/335aa966f3d13b2f483b8ccc94e169d87cccb96f', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.moves\n- six.add_metaclass\n- six.PY3\n- six.text_type\n- six.string_type\n- six.string_types\n- six.iteritems\n- six.integer_types\n\nImplements: blueprint six-removal\nChange-Id: Ifdb5ffad4203f14c58959b87338d0de34af76674\n'}]",1,768506,335aa966f3d13b2f483b8ccc94e169d87cccb96f,14,4,2,30092,,,0,"Remove six

Replace the following items with Python 3 style code.

- six.moves
- six.add_metaclass
- six.PY3
- six.text_type
- six.string_type
- six.string_types
- six.iteritems
- six.integer_types

Implements: blueprint six-removal
Change-Id: Ifdb5ffad4203f14c58959b87338d0de34af76674
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/06/768506/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/__init__.py', 'cloudkitty/rating/hash/db/api.py', 'rtd-requirements.txt', 'cloudkitty/storage_state/alembic/versions/c50ed2c19204_update_storage_state_constraint.py', 'cloudkitty/hacking/checks.py', 'cloudkitty/writer/__init__.py', 'cloudkitty/db/api.py', 'cloudkitty/tests/test_pyscripts.py', 'requirements.txt', 'cloudkitty/rating/hash/controllers/service.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/storage/v1/hybrid/backends/__init__.py', 'cloudkitty/rating/hash/controllers/threshold.py', 'cloudkitty/rating/pyscripts/db/api.py', 'cloudkitty/storage/v1/__init__.py', 'cloudkitty/backend/__init__.py', 'cloudkitty/storage/v2/__init__.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/rating/hash/controllers/mapping.py', 'cloudkitty/fetcher/__init__.py', 'cloudkitty/rating/hash/controllers/group.py', 'lower-constraints.txt', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/api/v1/controllers/collector.py', 'cloudkitty/utils/validation.py', 'cloudkitty/rating/pyscripts/controllers/script.py', 'cloudkitty/storage/v1/hybrid/backends/gnocchi.py', 'cloudkitty/rating/hash/controllers/field.py', 'cloudkitty/utils/__init__.py', 'cloudkitty/api/v1/controllers/info.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/common/policy.py', 'HACKING.rst']",34,62b662bd3112cc8601bd216a3599285ad4b0834b,,, Remove or use six.text_type().,73,129
openstack%2Fcloudkitty~master~I7670da5781eba5b201c6a1e261a891b18b764fdc,openstack/cloudkitty,master,I7670da5781eba5b201c6a1e261a891b18b764fdc,remove unicode from code,MERGED,2021-01-12 06:59:18.000000000,2021-02-22 15:56:01.000000000,2021-02-22 15:54:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-12 06:59:18.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/c88a06b1cfce_clean_hashmap_fields_constraints.py', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3487d3c43e258c5a805bb580071faab6c70a44ba', 'message': 'remove unicode from code\n\nChange-Id: I7670da5781eba5b201c6a1e261a891b18b764fdc\n'}]",0,770236,3487d3c43e258c5a805bb580071faab6c70a44ba,12,6,1,32921,,,0,"remove unicode from code

Change-Id: I7670da5781eba5b201c6a1e261a891b18b764fdc
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/36/770236/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/c88a06b1cfce_clean_hashmap_fields_constraints.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",6,3487d3c43e258c5a805bb580071faab6c70a44ba,,"project = 'Cloudkitty Client Release Notes' copyright = '2016, Cloudkitty developers' ('index', 'PythonCloudkitty.tex', 'Cloudkitty Release Notes Documentation', 'Cloudkitty developers', 'manual'), 'Cloudkitty Release Notes Documentation', ['Cloudkitty developers'], 1) 'Cloudkitty Release Notes Documentation', 'Cloudkitty developers', 'Cloudkitty',","project = u'Cloudkitty Client Release Notes' copyright = u'2016, Cloudkitty developers' ('index', 'PythonCloudkitty.tex', u'Cloudkitty Release Notes Documentation', u'Cloudkitty developers', 'manual'), u'Cloudkitty Release Notes Documentation', [u'Cloudkitty developers'], 1) u'Cloudkitty Release Notes Documentation', u'Cloudkitty developers', 'Cloudkitty',",26,26
openstack%2Fmonasca-ceilometer~master~I627a07d9e0af003c9d65879a014cba4c4fab3e44,openstack/monasca-ceilometer,master,I627a07d9e0af003c9d65879a014cba4c4fab3e44,Remove method iso8601_from_timestamp,ABANDONED,2017-09-06 11:16:35.000000000,2021-02-22 15:54:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 7052}, {'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 18955}, {'_account_id': 26702}]","[{'number': 1, 'created': '2017-09-06 11:16:35.000000000', 'files': ['ceilosca/ceilometer/storage/impl_monasca.py', 'ceilosca/ceilometer/tests/unit/storage/test_impl_monasca.py', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_data_filter.py'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/5f0d2055a7d85e2c86f87ded6f3f4908c8a71a4e', 'message': 'Remove method iso8601_from_timestamp\n\noslo_utils.timeutils.iso8601_from_timestamp() is deprecated as of 1.6. So\nfunc datetime.datetime.utcfromtimestamp and func datetime.datetime.isoformat\nwere used to return the time information.\n\nChange-Id: I627a07d9e0af003c9d65879a014cba4c4fab3e44\nPartial-Bug: #1715325\n'}]",1,501227,5f0d2055a7d85e2c86f87ded6f3f4908c8a71a4e,8,7,1,23874,,,0,"Remove method iso8601_from_timestamp

oslo_utils.timeutils.iso8601_from_timestamp() is deprecated as of 1.6. So
func datetime.datetime.utcfromtimestamp and func datetime.datetime.isoformat
were used to return the time information.

Change-Id: I627a07d9e0af003c9d65879a014cba4c4fab3e44
Partial-Bug: #1715325
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/27/501227/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilosca/ceilometer/storage/impl_monasca.py', 'ceilosca/ceilometer/tests/unit/storage/test_impl_monasca.py', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_data_filter.py']",3,5f0d2055a7d85e2c86f87ded6f3f4908c8a71a4e,oslo-debt-cleanup, isotp = datetime.datetime.utcfromtimestamp(r['timestamp'] / 1000.0) monasca_ts = isotp.isoformat()[:23],"from oslo_utils import timeutils monasca_ts = \ timeutils.iso8601_from_timestamp(r['timestamp'] / 1000.0, microsecond=True)[:23]",15,17
openstack%2Fmonasca-ceilometer~master~Ie63ddbd95d823e0bd6cd520c680c7c8a57f1cabb,openstack/monasca-ceilometer,master,Ie63ddbd95d823e0bd6cd520c680c7c8a57f1cabb,Update min tox version to 2.0,ABANDONED,2018-11-02 06:26:19.000000000,2021-02-22 15:53:50.000000000,,"[{'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-02 06:26:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/da6ad5b7595d75c8c619a030fa59beff7e5ed362', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.\nUpdate to reflect reality, which should help with local running of\nconstraints targets.\n\nChange-Id: Ie63ddbd95d823e0bd6cd520c680c7c8a57f1cabb\n'}]",0,615013,da6ad5b7595d75c8c619a030fa59beff7e5ed362,4,3,1,28956,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.
Update to reflect reality, which should help with local running of
constraints targets.

Change-Id: Ie63ddbd95d823e0bd6cd520c680c7c8a57f1cabb
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/13/615013/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,da6ad5b7595d75c8c619a030fa59beff7e5ed362,min-tox-version,minversion = 2.0,minversion = 1.8,1,1
openstack%2Fmonasca-ceilometer~master~Ieb0e5be11fd33af1d85d0672a5b6f00fff6125db,openstack/monasca-ceilometer,master,Ieb0e5be11fd33af1d85d0672a5b6f00fff6125db,Add py38 test in tox.ini for victoria,ABANDONED,2020-10-21 01:03:59.000000000,2021-02-22 15:53:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-21 01:03:59.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/2b2fa8ca1954d055f77fa6bd6e0dab6b3d7fe3f7', 'message': ""Add py38 test in tox.ini for victoria\n\nin 'victoria' cycle, we should test py38 by default.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Ieb0e5be11fd33af1d85d0672a5b6f00fff6125db\n""}]",0,758912,2b2fa8ca1954d055f77fa6bd6e0dab6b3d7fe3f7,4,2,1,32029,,,0,"Add py38 test in tox.ini for victoria

in 'victoria' cycle, we should test py38 by default.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: Ieb0e5be11fd33af1d85d0672a5b6f00fff6125db
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/12/758912/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,2b2fa8ca1954d055f77fa6bd6e0dab6b3d7fe3f7,py38,"envlist = pep8,py38","envlist = pep8,py37",2,1
openstack%2Fmonasca-ceilometer~master~I072c09691e7f72f87a35eca4b748cedab3635fd8,openstack/monasca-ceilometer,master,I072c09691e7f72f87a35eca4b748cedab3635fd8,Remove six,ABANDONED,2020-12-14 07:21:00.000000000,2021-02-22 15:52:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-14 07:21:00.000000000', 'files': ['tools/load-generator/ceilosca-message-simulator.py', 'ceilosca/ceilometer/publisher/monasca_data_filter.py', 'ceilosca/ceilometer/publisher/monasca.py'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/576b650f605731046a87f719bc3e80b384646d8b', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.moves\n- six.text_type\n\nStory: 2008305\nTask: 41415\nChange-Id: I072c09691e7f72f87a35eca4b748cedab3635fd8\n'}]",0,766889,576b650f605731046a87f719bc3e80b384646d8b,3,1,1,32238,,,0,"Remove six

Remove six Replace the following items with Python 3 style code.
- six.moves
- six.text_type

Story: 2008305
Task: 41415
Change-Id: I072c09691e7f72f87a35eca4b748cedab3635fd8
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/89/766889/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/load-generator/ceilosca-message-simulator.py', 'ceilosca/ceilometer/publisher/monasca_data_filter.py', 'ceilosca/ceilometer/publisher/monasca.py']",3,576b650f605731046a87f719bc3e80b384646d8b,remove-six, for ctr in range(retry_count):,from six import moves for ctr in moves.xrange(retry_count):,8,11
openstack%2Ftripleo-docs~master~I7b23000b6ae3e496519b58ae3e6cf7baf19e2bbb,openstack/tripleo-docs,master,I7b23000b6ae3e496519b58ae3e6cf7baf19e2bbb,sphinxcontrib-mermaid is breaking the doc build,ABANDONED,2021-02-16 02:10:25.000000000,2021-02-22 15:39:58.000000000,,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 02:10:25.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d0f7cb3889c4ec47d5ab875fe8f2bd967a05db19', 'message': 'sphinxcontrib-mermaid is breaking the doc build\n\nThis commit is breaking\n\nhttps: //github.com/mgaitan/sphinxcontrib-mermaid/commit/54fafa0861bb80989ac0d494b50f7c512b31e7c2\nChange-Id: I7b23000b6ae3e496519b58ae3e6cf7baf19e2bbb\n'}]",2,775728,d0f7cb3889c4ec47d5ab875fe8f2bd967a05db19,8,3,1,27419,,,0,"sphinxcontrib-mermaid is breaking the doc build

This commit is breaking

https: //github.com/mgaitan/sphinxcontrib-mermaid/commit/54fafa0861bb80989ac0d494b50f7c512b31e7c2
Change-Id: I7b23000b6ae3e496519b58ae3e6cf7baf19e2bbb
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/28/775728/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,d0f7cb3889c4ec47d5ab875fe8f2bd967a05db19,,"sphinxcontrib-mermaid>=0.3.1,<=0.6 # BSD",sphinxcontrib-mermaid>=0.3.1 # BSD,1,1
openstack%2Freleases~master~I7e0a8cdfc4562b5c7e301a530d847401704c0fb8,openstack/releases,master,I7e0a8cdfc4562b5c7e301a530d847401704c0fb8,Release keystoneauth 4.3.1,MERGED,2021-02-19 19:32:23.000000000,2021-02-22 15:34:55.000000000,2021-02-22 15:34:55.000000000,"[{'_account_id': 308}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-19 19:32:23.000000000', 'files': ['deliverables/wallaby/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/13e34aa710cbaed70af162768b36de355ee79314', 'message': 'Release keystoneauth 4.3.1\n\nIncludes a bugfix to send the right microversion\nheader to interact with OpenStack Manila APIs\n\nChange-Id: I7e0a8cdfc4562b5c7e301a530d847401704c0fb8\n'}]",0,776700,13e34aa710cbaed70af162768b36de355ee79314,9,5,1,16643,,,0,"Release keystoneauth 4.3.1

Includes a bugfix to send the right microversion
header to interact with OpenStack Manila APIs

Change-Id: I7e0a8cdfc4562b5c7e301a530d847401704c0fb8
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/776700/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/keystoneauth.yaml'],1,13e34aa710cbaed70af162768b36de355ee79314,keystoneauth, - version: 4.3.1 projects: - repo: openstack/keystoneauth hash: 112bcae1fbec355fcb58da07ae1d9f1adf8b77ba,,4,0
openstack%2Fironic-python-agent-builder~master~Ifd2130d7e3b1f3b1d6bdc8dbb2a5549ef79629c4,openstack/ironic-python-agent-builder,master,Ifd2130d7e3b1f3b1d6bdc8dbb2a5549ef79629c4,Add a keylime-agent dib element,ABANDONED,2020-11-23 19:49:03.000000000,2021-02-22 15:34:40.000000000,,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-11-23 19:49:03.000000000', 'files': ['dib/keylime-agent/source-repository-keylime-agent', 'dib/keylime-agent/package-installs.yaml', 'dib/keylime-agent/install.d/keylime-agent-source-install/80-keylime-agent-install', 'dib/keylime-agent/element-deps', 'dib/keylime-agent/install.d/keylime-agent-source-install/keylime-agent.init', 'dib/keylime-agent/install.d/keylime-agent-source-install/keylime-agent.service', 'dib/keylime-agent/install.d/keylime-agent-source-install/keylime-agent.conf'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/d34b58c917ee531bbb6e4876915cf53249c2534a', 'message': 'Add a keylime-agent dib element\n\nStory: #2002713\n\nTask: #41304\nChange-Id: Ifd2130d7e3b1f3b1d6bdc8dbb2a5549ef79629c4\n'}]",7,763837,d34b58c917ee531bbb6e4876915cf53249c2534a,7,4,1,32617,,,0,"Add a keylime-agent dib element

Story: #2002713

Task: #41304
Change-Id: Ifd2130d7e3b1f3b1d6bdc8dbb2a5549ef79629c4
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/37/763837/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/keylime-agent/source-repository-keylime-agent', 'dib/keylime-agent/package-installs.yaml', 'dib/keylime-agent/install.d/keylime-agent-source-install/80-keylime-agent-install', 'dib/keylime-agent/element-deps', 'dib/keylime-agent/install.d/keylime-agent-source-install/keylime-agent.init', 'dib/keylime-agent/install.d/keylime-agent-source-install/keylime-agent.service', 'dib/keylime-agent/install.d/keylime-agent-source-install/keylime-agent.conf']",7,d34b58c917ee531bbb6e4876915cf53249c2534a,keylime-agent-dev,"# keylime-agent # # The keylime-agent is deployed to the node for attestation description ""Keylime Agent"" start on runlevel [2345] stop on runlevel [!2345] respawn respawn limit 10 5 umask 022 expect stop console output pre-start script echo Starting Keylime Agent end script exec /usr/local/bin/keylime_agent --config-dir /etc/keylime-agent.d/",,105,0
openstack%2Fironic-lib~master~I424d04adb6ccbb3daa99daa5c860cbb81332c02e,openstack/ironic-lib,master,I424d04adb6ccbb3daa99daa5c860cbb81332c02e,"Add find_efi_partition, deprecate get_uefi_disk_identifier",MERGED,2021-02-10 17:54:53.000000000,2021-02-22 15:25:31.000000000,2021-02-18 06:52:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 17:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/62df72fa646f5184a0aba287436beca99693ab64', 'message': ""Add find_efi_partition, deprecate get_uefi_disk_identifier\n\nThe get_uefi_disk_identifier function is currently unused in both\nironic and IPA. Furthermore, its name is confusing: it returns\nthe UEFI partition UUID, not the disk identifier, unlike the\nsimilarly named get_disk_identifier.\n\nThis change imports get_efi_part_on_device from IPA as\nfind_efi_partition. The only difference is that it returns\na complete partition record rather than only the number.\n\nAs a dependency, scan_partition_table_type\nis imported under the name get_partition_table_type.\nThe new version returns None instead of 'unknown'.\n\nChange-Id: I424d04adb6ccbb3daa99daa5c860cbb81332c02e\n""}, {'number': 2, 'created': '2021-02-10 18:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/f8c7e76e3312026222a4c7dd90c0747677d1225f', 'message': '[WIP] Clean up partition functions in disk_utils\n\nThe get_uefi_disk_identifier function is currently unused in both\nironic and IPA. Furthermore, its name is confusing: it returns\nthe UEFI partition UUID, not the disk identifier, unlike the\nsimilarly named get_disk_identifier.\n\nThis change imports get_efi_part_on_device from IPA as\nfind_efi_partition. The only difference is that it returns\na complete partition record rather than only the number.\n\nA new public function is added to fetch information from blkid.\nA new get_partition_table_type call is implemented using it.\n\nChange-Id: I424d04adb6ccbb3daa99daa5c860cbb81332c02e\n'}, {'number': 3, 'created': '2021-02-10 18:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/585b314b51d9b1bf7d916db8e82a84920a13dd07', 'message': 'Add find_efi_partition, deprecate get_uefi_disk_identifier\n\nThe get_uefi_disk_identifier function is currently unused in both\nironic and IPA. Furthermore, its name is confusing: it returns\nthe UEFI partition UUID, not the disk identifier, unlike the\nsimilarly named get_disk_identifier.\n\nThis change imports get_efi_part_on_device from IPA as\nfind_efi_partition. The only difference is that it returns\na complete partition record rather than only the number.\n\nChange-Id: I424d04adb6ccbb3daa99daa5c860cbb81332c02e\n'}, {'number': 4, 'created': '2021-02-11 17:09:17.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c2786caa1ba9ba5aa9cae2133299554b0a1368a7', 'message': 'Add find_efi_partition, deprecate get_uefi_disk_identifier\n\nThe get_uefi_disk_identifier function is currently unused in both\nironic and IPA. Furthermore, its name is confusing: it returns\nthe UEFI partition UUID, not the disk identifier, unlike the\nsimilarly named get_disk_identifier.\n\nThis change imports get_efi_part_on_device from IPA as\nfind_efi_partition. The only difference is that it returns\na complete partition record rather than only the number.\n\nChange-Id: I424d04adb6ccbb3daa99daa5c860cbb81332c02e\n'}]",0,774914,c2786caa1ba9ba5aa9cae2133299554b0a1368a7,15,4,4,10239,,,0,"Add find_efi_partition, deprecate get_uefi_disk_identifier

The get_uefi_disk_identifier function is currently unused in both
ironic and IPA. Furthermore, its name is confusing: it returns
the UEFI partition UUID, not the disk identifier, unlike the
similarly named get_disk_identifier.

This change imports get_efi_part_on_device from IPA as
find_efi_partition. The only difference is that it returns
a complete partition record rather than only the number.

Change-Id: I424d04adb6ccbb3daa99daa5c860cbb81332c02e
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/14/774914/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,62df72fa646f5184a0aba287436beca99693ab64,find-efi,"import warnings_PARTED_TABLE_TYPE_REGEX = re.compile( r'^.*partition\s+table\s*:\s*(gpt|msdos)', re.IGNORECASE) def get_partition_table_type(device): """"""Get partition table type, msdos or gpt. :param device: the name of the device :return: msdos, gpt or None """""" out, _u = utils.execute('parted', '-s', device, '--', 'print') out = out.splitlines() for line in out: m = _PARTED_TABLE_TYPE_REGEX.match(line) if m is not None: return m.group(1).lower() LOG.warning(""Unable to get partition table type for device %s"", device) def find_efi_partition(device): """"""Looks for the EFI partition on a given device. A boot partition on a GPT disk is assumed to be an EFI partition as well. :param device: the name of the device :return: the EFI partition record from `list_partitions` or None """""" is_gpt = get_partition_table_type(device) == 'gpt' for part in list_partitions(device): flags = {x.strip() for x in part['flags'].split(',')} if 'esp' in flags or ('boot' in flags and is_gpt): LOG.debug(""Found EFI partition %s on device %s"", part, device) return part else: LOG.debug(""No efi partition found on device %s"", device) DEPRECATED: use find_efi_partition instead. warnings.warn(""get_uefi_disk_identifier is deprecated, use "" ""find_efi_partition instead"", DeprecationWarning) ", This uuid is appended to the pxe config which will then be set as the root and load the bootx64.efi file using chainloader and boot the machine. This is helpful in deployments to nodes with multiple disks. https://wiki.gentoo.org/wiki/GRUB2/Chainloading,130,5
openstack%2Fironic-python-agent~master~I2f63db9b739e53699bd5f164b79640927bf757d7,openstack/ironic-python-agent,master,I2f63db9b739e53699bd5f164b79640927bf757d7,Add support for using NVMe specific cleaning,MERGED,2021-01-22 02:11:33.000000000,2021-02-22 15:25:12.000000000,2021-02-19 12:13:54.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2021-01-22 02:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a061d93a2e47e6ef20f322e10af8e388f7b4da85', 'message': '[WIP] Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 2, 'created': '2021-01-22 02:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9495bd3509c1a5d053195bb3673a97b23a3cf4da', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 3, 'created': '2021-01-22 02:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9f97276b80762eb9308e897b92452a3ce13d2ffc', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 4, 'created': '2021-01-28 06:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/28518b2f392c9422444a3ba3995eae76d2e675a7', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 5, 'created': '2021-01-28 13:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/af0e8500e9b5abb0ff50350895493df675e70bd9', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 6, 'created': '2021-01-28 21:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/122e8a6d6c00805200220aadd9edc93a8dc61731', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 7, 'created': '2021-01-29 02:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9d25eef93ef4e53835cc85878347735a69f598a0', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 8, 'created': '2021-01-29 02:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5df36273632a083c14d2a1f854856d99045096ed', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 9, 'created': '2021-01-29 11:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/71a6facbe69803eecb1be71448f91824da7fbd1e', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 10, 'created': '2021-02-01 02:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cd8a7d1e0085a44f1e537a2c48324d0937dc5f00', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 11, 'created': '2021-02-01 05:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f28a6f7ef5f3f5a3ba6d19476abd6c2ae528d86b', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 12, 'created': '2021-02-01 06:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/229497f45b424f4a044a2c394d531221113a1fe3', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 13, 'created': '2021-02-01 06:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9042631ef0e09492ae331babe31cf58ee191e63b', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 14, 'created': '2021-02-01 06:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/74c0875d851893d646a9a1bf15aea086e833d3a9', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 15, 'created': '2021-02-01 09:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7f48a4f6ea2c515e121346a425bf8e0f65a32449', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 16, 'created': '2021-02-01 10:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bf6bfcc4ca40634707407f08ee6a640b3b9dcee6', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 17, 'created': '2021-02-01 10:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f8c2ff23f921f4fdfd05b1ee6a225f74d6f04429', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 18, 'created': '2021-02-01 23:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f43c5e55829ce5d9594420d40f5a059a2fc09cbe', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 19, 'created': '2021-02-01 23:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/66974f94963f9af351702123e5d67965582bfd05', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 20, 'created': '2021-02-02 13:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a3b2aae75ba3437bf876f0a1f942c48b346a1c55', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 21, 'created': '2021-02-03 00:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fff778236a697581374b84f8a55d89c2871e690a', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 22, 'created': '2021-02-03 02:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/246509d968b6896f3d8de1e1ab4ead734f47b889', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 23, 'created': '2021-02-03 11:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/600b90d924d591d21c423f270e3bd5b676e297a3', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 24, 'created': '2021-02-03 11:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/17f3c3c6f14d057ab64960670182aee38b22d94d', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 25, 'created': '2021-02-08 01:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/da9be70535ef6f0e7f11dd5685ee396e8626fa3a', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 26, 'created': '2021-02-11 01:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/05a0b37cba667e9eaaf4c9c4c146f929c9184ccb', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 27, 'created': '2021-02-11 04:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ccc901ceeadefd48a84f14db3e67d166b6c9d87d', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 28, 'created': '2021-02-17 04:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f040aa7097bacdfe4ed6a4909903c0f1cf0ecfd', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 29, 'created': '2021-02-17 04:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6a1c2f2ffd2b257c6ab020849aea2624afad1240', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 30, 'created': '2021-02-17 13:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2dfd0bcdca73ea5f45cfbb51e2cbfb465f2bcdbc', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 31, 'created': '2021-02-17 13:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2908f50cb1ff2f7342a4f5b333619a7138c7fc69', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}, {'number': 32, 'created': '2021-02-18 12:51:47.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/adds-nvme-secure-erase-0ecfd624e5f50581.yaml', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8bcf1be9200b52536f76cb61c62071eaaac1e004', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n\nStory: 2008290\nTask: 41168\nChange-Id: I2f63db9b739e53699bd5f164b79640927bf757d7\n'}]",263,771904,8bcf1be9200b52536f76cb61c62071eaaac1e004,91,5,32,32177,,,0,"Add support for using NVMe specific cleaning

This change adds support for utilising NVMe specific cleaning tools
on supported devices. This will remove the neccessity of using shred to
securely delete the contents of a NVMe drive and enable using nvme-cli
tools instead, improving cleaning performance and reducing wear on the device.

Story: 2008290
Task: 41168
Change-Id: I2f63db9b739e53699bd5f164b79640927bf757d7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/04/771904/32 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,a061d93a2e47e6ef20f322e10af8e388f7b4da85,story-2008290-lite," if self._is_nvme(block_device): execute_nvme_erase = info.get( 'agent_enable_nvme_erase', True) if execute_nvme_erase and self._nvme_erase(block_device): return else: execute_secure_erase = info.get( 'agent_enable_ata_secure_erase', True) if execute_secure_erase and self._ata_erase(block_device): return 'agent_continue_if_secure_erase_failed', False) def _is_nvme(self, block_device): """"""Check if a block device is a NVMe. Checks if the device name indicates that it is an NVMe drive. :param block_device: a BlockDevice object :returns: True if the device is an NVMe, False if it is not. """""" if 'nvme' in block_device.name: return True else: return False def _nvme_erase(self, block_device): """"""Attempt to clean the NVMe using the most secure supported method :param block_device: a BlockDevice indicating an NVMe device. :return: True if cleaning operation succeeded, False if failed :raises: BlockDeviceEraseError """""" # check if crypto format is supported try: LOG.info(""Attempting to fetch NVMe capabilities for device"", block_device.name) nvme_info = utils.execute('nvme', 'id-ctrl', block_device.name, '-H')[0] except processutils.ProcessExecutionError as e: msg = ((""Failed to fetch NVMe capabilities for device {}: {}"" ).format(block_device, e)) raise errors.BlockDeviceEraseError(msg) # execute format with crypto option (ses=2) if supported # if crypto is unsupported use user-data erase (ses=1) if nvme_info is not None: fma_match = re.search(r'fna.*\n([\s\S]*?)\n\n', nvme_info) fma = fma_match.groups()[0] if ""Crypto Erase Supported as part of Secure Erase"" in fma: format_mode = 2 # crypto erase else: # if nvme-cli output doesn't explicitly state support for crypto # erase, attempt user-data erase. In case nvme-cli didn't # output anything at all we try user-data as well because # ultimately nvme-cli format command exit code and stdout that # indicate success or failure LOG.warning(""nvme-cli didn't return any format capability"" "" information for "", block_device.name, "" attempting user-data format (ses=1)"") format_mode = 1 # user data erase try: LOG.info(""Attempting to nvme-format "", block_device.name, "" using secure format mode (ses) "", format_mode) nvme_format_output = utils.execute('nvme', 'format', block_device.name, '-ses=', format_mode)[0] if 'Success' in nvme_format_output: LOG.info(""nvme-cli format for device "", block_device.name, "" (ses= "", format_mode, "") completed successfully."") return True else: msg = ('Unexpected output erasing NVMe device {device}. ' 'Output: {output}' ).format(device=block_device.name, output=nvme_format_output) LOG.error(msg) raise errors.BlockDeviceEraseError(msg) except processutils.ProcessExecutionError as e: msg = ((""Failed to nvme format device {}: {}"" ).format(block_device, e)) raise errors.BlockDeviceEraseError(msg) "," execute_secure_erase = info.get( 'agent_enable_ata_secure_erase', True) if execute_secure_erase and self._ata_erase(block_device): return 'agent_continue_if_ata_erase_failed', False)",88,5
openstack%2Fironic-lib~master~I04c2593c22350fbc77921ef97533f16e1dc65a18,openstack/ironic-lib,master,I04c2593c22350fbc77921ef97533f16e1dc65a18,Add a helper for getting partition path,MERGED,2021-02-08 15:52:33.000000000,2021-02-22 15:25:08.000000000,2021-02-22 09:00:59.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 15:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/1de3afb2bd1023c787d35cd6753ed813015df963', 'message': ""Add a helper for getting partition path\n\nIt's used in a few places here and in IPA, so let's add it.\n\nAlso makes list_partition return a path (can be handy in IPA).\n\nChange-Id: I04c2593c22350fbc77921ef97533f16e1dc65a18\n""}, {'number': 2, 'created': '2021-02-08 15:53:47.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/29ca97e13daa4c3257e099f3d9634568b4afc5c9', 'message': ""Add a helper for getting partition path\n\nIt's used in a few places here and in IPA, so let's add it.\n\nAlso makes list_partition return a path (can be handy in IPA).\n\nChange-Id: I04c2593c22350fbc77921ef97533f16e1dc65a18\n""}]",0,774502,29ca97e13daa4c3257e099f3d9634568b4afc5c9,13,3,2,10239,,,0,"Add a helper for getting partition path

It's used in a few places here and in IPA, so let's add it.

Also makes list_partition return a path (can be handy in IPA).

Change-Id: I04c2593c22350fbc77921ef97533f16e1dc65a18
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/02/774502/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,1de3afb2bd1023c787d35cd6753ed813015df963,part-path," flags, path. item = dict(zip(fields, groups)) item['path'] = partition_index_to_path(device, item['number']) result.append(item)_ISCSI_PREFIX = ""iqn.2008-10.org.openstack:"" # TODO(dtantsur): deprecate node_uuid here, it's not overly useful (any iSCSI # device should get the same treatment). def is_iscsi_device(dev, node_uuid=None): """"""Check whether the device path belongs to an iSCSI device. If node UUID is provided, checks that the device belongs to this UUID. """""" if node_uuid: return (_ISCSI_PREFIX + node_uuid) in dev else: return _ISCSI_PREFIX in devdef partition_index_to_path(device, index): """"""Guess a partition path based on its device and index. :param device: Device path. :param index: Partition index. """""" # the actual device names in the baremetal are like /dev/sda, /dev/sdb etc. # While for the iSCSI device, the naming convention has a format which has # iqn also embedded in it. # When this function is called by ironic-conductor, the iSCSI device name # should be appended by ""part%d"". While on the baremetal, it should name # the device partitions as /dev/sda1 and not /dev/sda-part1. if is_iscsi_device(device): part_template = device + '-part%d' elif is_last_char_digit(device): part_template = device + 'p%d' else: part_template = device + '%d' return part_template % index part_dict['efi system partition'] = partition_index_to_path( dev, part_num) part_dict['BIOS Boot partition'] = partition_index_to_path( dev, part_num) part_dict['PReP Boot partition'] = partition_index_to_path( dev, part_num) part_dict['ephemeral'] = partition_index_to_path(dev, part_num) part_dict['swap'] = partition_index_to_path(dev, part_num) part_dict['configdrive'] = partition_index_to_path(dev, part_num) part_dict['root'] = partition_index_to_path(dev, part_num) config_drive_part = partition_index_to_path(device, new_part.pop())"," flags result.append(dict(zip(fields, groups)))def is_iscsi_device(dev, node_uuid): """"""check whether the device path belongs to an iscsi device. """""" iscsi_id = ""iqn.2008-10.org.openstack:%s"" % node_uuid return iscsi_id in dev # the actual device names in the baremetal are like /dev/sda, /dev/sdb etc. # While for the iSCSI device, the naming convention has a format which has # iqn also embedded in it. # When this function is called by ironic-conductor, the iSCSI device name # should be appended by ""part%d"". While on the baremetal, it should name # the device partitions as /dev/sda1 and not /dev/sda-part1. if is_iscsi_device(dev, node_uuid): part_template = dev + '-part%d' elif is_last_char_digit(dev): part_template = dev + 'p%d' else: part_template = dev + '%d' part_dict['efi system partition'] = part_template % part_num part_dict['BIOS Boot partition'] = part_template % part_num part_dict['PReP Boot partition'] = part_template % part_num part_dict['ephemeral'] = part_template % part_num part_dict['swap'] = part_template % part_num part_dict['configdrive'] = part_template % part_num part_dict['root'] = part_template % part_num if is_iscsi_device(device, node_uuid): config_drive_part = '%s-part%s' % (device, new_part.pop()) elif is_last_char_digit(device): config_drive_part = '%sp%s' % (device, new_part.pop()) else: config_drive_part = '%s%s' % (device, new_part.pop())",62,44
openstack%2Fkayobe~master~Id5ed0b594d6270c4a03606caa776bbb291be2694,openstack/kayobe,master,Id5ed0b594d6270c4a03606caa776bbb291be2694,Update IPA docs and test build with extra-hardware,MERGED,2021-02-11 10:24:01.000000000,2021-02-22 15:23:40.000000000,2021-02-22 15:21:33.000000000,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-02-11 10:24:01.000000000', 'files': ['doc/source/configuration/reference/ironic-python-agent.rst', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d765fbc5ebb7c1a8f80d4c49f3846107e4f23189', 'message': 'Update IPA docs and test build with extra-hardware\n\nChange-Id: Id5ed0b594d6270c4a03606caa776bbb291be2694\n'}]",0,775093,d765fbc5ebb7c1a8f80d4c49f3846107e4f23189,21,5,1,15197,,,0,"Update IPA docs and test build with extra-hardware

Change-Id: Id5ed0b594d6270c4a03606caa776bbb291be2694
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/93/775093/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/ironic-python-agent.rst', 'playbooks/kayobe-seed-base/overrides.yml.j2']",2,d765fbc5ebb7c1a8f80d4c49f3846107e4f23189,ipa-extra-hardware,"# Build seed deployment images (IPA) with extra-hardware elementipa_build_dib_elements_extra: - ""extra-hardware""",# Build seed deployment images (IPA),10,30
openstack%2Ftripleo-heat-templates~master~I0cd5b24933e50680baefd055d6e68e277ab09315,openstack/tripleo-heat-templates,master,I0cd5b24933e50680baefd055d6e68e277ab09315,Drop service facts usage,MERGED,2021-02-15 21:41:58.000000000,2021-02-22 15:22:42.000000000,2021-02-22 15:22:42.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-15 21:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6058b49f0f9a942875e568e6b6fd9af8307caa57', 'message': 'Drop service facts usage\n\nThis change switches from using service facts to using systemctl\ncommands to do service checks. This is done to reduce the amount of\nmemory used as part of the deployment.\n\nChange-Id: I0cd5b24933e50680baefd055d6e68e277ab09315\nRelated-Bug: #1915761\n'}, {'number': 2, 'created': '2021-02-16 14:49:00.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9100964f976dd2a590973f313fa6a2449d37b3f', 'message': 'Drop service facts usage\n\nThis change switches from using service facts to using systemctl\ncommands to do service checks. This is done to reduce the amount of\nmemory used as part of the deployment.\n\nChange-Id: I0cd5b24933e50680baefd055d6e68e277ab09315\nRelated-Bug: #1915761\n'}]",0,775709,f9100964f976dd2a590973f313fa6a2449d37b3f,11,4,2,14985,,,0,"Drop service facts usage

This change switches from using service facts to using systemctl
commands to do service checks. This is done to reduce the amount of
memory used as part of the deployment.

Change-Id: I0cd5b24933e50680baefd055d6e68e277ab09315
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/775709/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml']",3,6058b49f0f9a942875e568e6b6fd9af8307caa57,ansible-facts,- name: Check cloud-init status shell: systemctl is-enabled cloud-init.service failed_when: false become: true register: cloud_init_enabled when: - cloud_init_enabled.rc == 0,- name: Populate service facts service_facts: when: > 'cloud-init.service' in ansible_facts.services and ansible_facts.services['cloud-init.service']['status'] == 'enabled',20,14
openstack%2Fmetalsmith~master~Ic98fc2735ebd81443ace12a04111749d10967719,openstack/metalsmith,master,Ic98fc2735ebd81443ace12a04111749d10967719,Update TOX_CONSTRAINTS_FILE,MERGED,2020-12-14 10:04:25.000000000,2021-02-22 15:22:00.000000000,2021-02-22 15:20:23.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-12-14 10:04:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/db6069331d5d33a423ea45606fc4602c9db7418c', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ic98fc2735ebd81443ace12a04111749d10967719\n'}]",0,766919,db6069331d5d33a423ea45606fc4602c9db7418c,8,3,1,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ic98fc2735ebd81443ace12a04111749d10967719
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/19/766919/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,db6069331d5d33a423ea45606fc4602c9db7418c,, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fnova~master~Ied30e0fa1596671498584702a2e12d35f9fc1673,openstack/nova,master,Ied30e0fa1596671498584702a2e12d35f9fc1673,DO NOT REVIEW: Test OVN devstack module,ABANDONED,2020-08-26 13:18:40.000000000,2021-02-22 15:13:21.000000000,,"[{'_account_id': 6773}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-26 13:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/076d9c287f43798193127981fd2c9f583917900b', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ied30e0fa1596671498584702a2e12d35f9fc1673\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-08-28 14:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baaa00e526006125f4bf0955a693f88d7a526965', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ied30e0fa1596671498584702a2e12d35f9fc1673\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-08-28 21:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/253ea59898446682c4d1b8514e60bbf6710253d0', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ied30e0fa1596671498584702a2e12d35f9fc1673\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-09-24 08:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/590d206485c4b75436b3c78a48bc495d5fcfcf38', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nDepends-On: https://review.opendev.org/753575\nChange-Id: Ied30e0fa1596671498584702a2e12d35f9fc1673\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2021-01-11 10:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e1fa645abfa11ae04364ec36461b93f47aed0b5', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ied30e0fa1596671498584702a2e12d35f9fc1673\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2021-02-15 15:37:04.000000000', 'files': ['playbooks/legacy/nova-grenade-multinode/run.yaml', 'gate/test_evacuate.sh', 'roles/run-evacuate-hook/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ec6059fd1835027b7aedc086024ec66ad40fbaf', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ied30e0fa1596671498584702a2e12d35f9fc1673\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,748226,6ec6059fd1835027b7aedc086024ec66ad40fbaf,101,11,6,6773,,,0,"DO NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: Ied30e0fa1596671498584702a2e12d35f9fc1673
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/748226/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/manager.py'],1,076d9c287f43798193127981fd2c9f583917900b,ovn-devstack,Foobar ,,2,0
openstack%2Ftripleo-ansible~master~I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,openstack/tripleo-ansible,master,I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,Reduce fact gathering,MERGED,2021-02-15 21:39:34.000000000,2021-02-22 15:01:16.000000000,2021-02-19 02:22:23.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-15 21:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/710c863b76915a5f7095c7cec6f665db0e94b8ec', 'message': ""Reduce fact gathering\n\nWe've seen that large amount of facts for hosts have a direct impact on\ntask execution as part of the deployment.  This change reduces the\namount of data that we are collecting when we use facts and leverages\nmore targeted methods to collect the required information.\n\nChange-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e\nRelated-Bug: #1915761\n""}, {'number': 2, 'created': '2021-02-16 14:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a07e88dd427c3d0220c565ce1cb32f32cea03c2', 'message': ""Reduce fact gathering\n\nWe've seen that large amount of facts for hosts have a direct impact on\ntask execution as part of the deployment.  This change reduces the\namount of data that we are collecting when we use facts and leverages\nmore targeted methods to collect the required information.\n\nChange-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e\nRelated-Bug: #1915761\n""}, {'number': 3, 'created': '2021-02-17 15:50:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6c0acc7fe7e4571fc923d85422d7781b6d35151', 'message': ""Reduce fact gathering\n\nWe've seen that large amount of facts for hosts have a direct impact on\ntask execution as part of the deployment.  This change reduces the\namount of data that we are collecting when we use facts and leverages\nmore targeted methods to collect the required information.\n\nChange-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e\nRelated-Bug: #1915761\n""}]",7,775708,f6c0acc7fe7e4571fc923d85422d7781b6d35151,21,5,3,14985,,,0,"Reduce fact gathering

We've seen that large amount of facts for hosts have a direct impact on
task execution as part of the deployment.  This change reduces the
amount of data that we are collecting when we use facts and leverages
more targeted methods to collect the required information.

Change-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/775708/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",4,710c863b76915a5f7095c7cec6f665db0e94b8ec,ansible-facts,- name: Collect default network fact - '!min' filter: 'ansible_default_ipv4',- name: Collect Network Facts - '!any',26,9
openstack%2Fmonasca-log-api~master~Iadf3eff74d9f5370e70791749d29701ec6769156,openstack/monasca-log-api,master,Iadf3eff74d9f5370e70791749d29701ec6769156,[train][goal] Define new 'monascalog-tempest-ipv6-only' job in gate,ABANDONED,2019-07-29 12:11:09.000000000,2021-02-22 14:19:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-29 12:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/466917febebc1e723862903a3cf34b3a74680ea6', 'message': ""Define new 'monascalog-tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' (adding\nin Depends-On patch) which will deploy services on IPv6.\n\nThis commit adds the new job 'monascalog-tempest-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'monascalog-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35906\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Iadf3eff74d9f5370e70791749d29701ec6769156\n""}, {'number': 2, 'created': '2019-07-29 12:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/72daf117366c68bce55f1cd529579042774f67c0', 'message': ""[train][goal] Define new 'monascalog-tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' (adding\nin Depends-On patch) which will deploy services on IPv6.\n\nThis commit adds the new job 'monascalog-tempest-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'monascalog-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35906\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Iadf3eff74d9f5370e70791749d29701ec6769156\n""}, {'number': 3, 'created': '2019-07-29 12:18:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/6337c44df8b6d3eaf6a3f9673c286891f1a98ea4', 'message': ""[train][goal] Define new 'monascalog-tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' (adding\nin Depends-On patch) which will deploy services on IPv6.\n\nThis commit adds the new job 'monascalog-tempest-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'monascalog-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35906\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Iadf3eff74d9f5370e70791749d29701ec6769156\n""}]",0,673279,6337c44df8b6d3eaf6a3f9673c286891f1a98ea4,7,1,3,8556,,,0,"[train][goal] Define new 'monascalog-tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' (adding
in Depends-On patch) which will deploy services on IPv6.

This commit adds the new job 'monascalog-tempest-ipv6-only'
run on gate which is derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'monascalog-tempest-ipv6-only' will run the tests.

Story: #2005477
Task: #35906

Depends-On: https://review.opendev.org/#/c/671231/

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: Iadf3eff74d9f5370e70791749d29701ec6769156
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/79/673279/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,466917febebc1e723862903a3cf34b3a74680ea6,ipv6-only-deployment-and-testing, required-projects: &base_required_projects: devstack_localrc: TEMPEST_PLUGINS: /opt/stack/monasca-tempest-plugin- job: name: monascalog-tempest-ipv6-only parent: devstack-tempest-ipv6 description: | Monasca devstack tempest tests job for IPv6-only deployment timeout: 7800 irrelevant-files: *base_irrelevant_files required-projects: *base_required_projects vars: *base_vars - monascalog-tempest-ipv6-only - monascalog-tempest-ipv6-only, required-projects:,15,1
openstack%2Fpython-designateclient~master~Idf90d02ee2bc4b95cbaf3a97cf13e1808160d50f,openstack/python-designateclient,master,Idf90d02ee2bc4b95cbaf3a97cf13e1808160d50f,Dropping lower constraints testing,ABANDONED,2020-12-18 17:34:30.000000000,2021-02-22 14:10:16.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 17:34:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/483de416bc289c46972f6e3d8b67d8c3a861449d', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this topic was\ndiscussed on the ML and QA team proposed to to test lower-constraints\n[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Idf90d02ee2bc4b95cbaf3a97cf13e1808160d50f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,767926,483de416bc289c46972f6e3d8b67d8c3a861449d,6,2,1,19298,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this topic was
discussed on the ML and QA team proposed to to test lower-constraints
[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Idf90d02ee2bc4b95cbaf3a97cf13e1808160d50f
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/26/767926/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,483de416bc289c46972f6e3d8b67d8c3a861449d,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fmetalsmith~master~I799a41f4d807ad964d55a79c3f00c3c7c07fddfd,openstack/metalsmith,master,I799a41f4d807ad964d55a79c3f00c3c7c07fddfd,Uncap PrettyTable,MERGED,2021-02-20 02:23:09.000000000,2021-02-22 14:09:37.000000000,2021-02-22 14:06:55.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 02:23:09.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/34147bcb516daa995809f3a19f9b48cd4eb2f200', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: I799a41f4d807ad964d55a79c3f00c3c7c07fddfd\n'}]",0,776779,34147bcb516daa995809f3a19f9b48cd4eb2f200,8,3,1,31882,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: I799a41f4d807ad964d55a79c3f00c3c7c07fddfd
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/79/776779/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,34147bcb516daa995809f3a19f9b48cd4eb2f200,bump_prettytable_version,PrettyTable>=0.7.2 # BSD,"PrettyTable<0.8,>=0.7.2 # BSD",1,1
openstack%2Fopenstack-helm-images~master~I117916051120d34710431f046696e80f803ba854,openstack/openstack-helm-images,master,I117916051120d34710431f046696e80f803ba854,[WIP] Add fluentd-concat-parser,ABANDONED,2021-02-17 16:20:03.000000000,2021-02-22 14:07:00.000000000,,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-02-17 16:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7ac81ea24741398ed8194b0286ec265de6d69b9b', 'message': 'Add fluentd-plugin-multiline-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}, {'number': 2, 'created': '2021-02-17 16:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bb9ccff9a812b9b663bf39ba5d40567522c90d55', 'message': 'Add fluentd-plugin-multiline-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}, {'number': 3, 'created': '2021-02-18 22:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f8ef3c4b83161adaa0e4dbeddb58d6fd9ca3a7a5', 'message': 'Add fluentd-plugin-multiline-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}, {'number': 4, 'created': '2021-02-18 22:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/813b0c5bff841924a494dac4b392e643bceebaaa', 'message': 'Add fluentd-plugin-multiline-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}, {'number': 5, 'created': '2021-02-18 22:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b58658723adf0256722d43270764566ac34bc9c4', 'message': 'Add fluentd-plugin-multiline-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}, {'number': 6, 'created': '2021-02-19 16:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fd3062a13e93f3b3e27d41a2e08f15797a2ad5f5', 'message': '[WIP] Add fluentd-plugin-multiline-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}, {'number': 7, 'created': '2021-02-19 17:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1ce5229fa9a82a6ff9c9e65fe72de0dc9277efa8', 'message': '[WIP] Add fluentd-plugin-multiline-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}, {'number': 8, 'created': '2021-02-21 17:45:22.000000000', 'files': ['fluentd/Dockerfile.debian'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5c043b42f84c788e4107a9004cdd23d5bf50daff', 'message': '[WIP] Add fluentd-concat-parser\n\nChange-Id: I117916051120d34710431f046696e80f803ba854\n'}]",1,776227,5c043b42f84c788e4107a9004cdd23d5bf50daff,18,5,8,27499,,,0,"[WIP] Add fluentd-concat-parser

Change-Id: I117916051120d34710431f046696e80f803ba854
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/27/776227/6 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/Dockerfile.debian'],1,7ac81ea24741398ed8194b0286ec265de6d69b9b,, fluent-plugin-multiline-parser \,,1,0
openstack%2Ftripleo-docs~master~Idefb4e9bbb5718f62ac7f83a8e1ebee4715f53e2,openstack/tripleo-docs,master,Idefb4e9bbb5718f62ac7f83a8e1ebee4715f53e2,Document DCN Storage Deployment with External Ceph,MERGED,2021-02-12 16:15:17.000000000,2021-02-22 13:59:54.000000000,2021-02-22 13:58:23.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-12 16:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8358b750eb8acb6dbce6fe97b552f420d9a97496', 'message': 'Document DCN Storage Deployment with External Ceph\n\nChange-Id: Idefb4e9bbb5718f62ac7f83a8e1ebee4715f53e2\n'}, {'number': 2, 'created': '2021-02-17 15:27:25.000000000', 'files': ['deploy-guide/source/features/ceph_external.rst', 'deploy-guide/source/features/distributed_multibackend_storage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dfb00dc98236ad5ff559029565e84f21614da857', 'message': 'Document DCN Storage Deployment with External Ceph\n\nAlso fix typo in external Ceph document OSD caps.\n\nChange-Id: Idefb4e9bbb5718f62ac7f83a8e1ebee4715f53e2\n'}]",0,775411,dfb00dc98236ad5ff559029565e84f21614da857,15,5,2,18002,,,0,"Document DCN Storage Deployment with External Ceph

Also fix typo in external Ceph document OSD caps.

Change-Id: Idefb4e9bbb5718f62ac7f83a8e1ebee4715f53e2
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/11/775411/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/distributed_multibackend_storage.rst'],1,8358b750eb8acb6dbce6fe97b552f420d9a97496,dcn-external-ceph,"DCN using only External Ceph Clusters (optional) ------------------------------------------------ A possible variation of the deployment described above is one in which Ceph is not deployed by director but is external to director as described in :doc:`ceph_external`. Each site must still use a Ceph cluster which is in the same physical location in order to address latency requirements but that Ceph cluster does not need to be deployed by director as in the examples above. In this configuration Ceph services may not be hyperconverged with the Compute and Controller nodes. The example in this section makes the following assumptions: - A separate Ceph cluster at the central site called central - A separate Ceph cluster at the dcn0 site called dcn0 - A separate Ceph cluster at each dcnN site called dcnN for any other DCN sites For each Ceph cluster listed above the following command has been run:: ceph auth add client.openstack mon 'allow r' osd 'allow class-read object_prefix rbd_children, allow rwx pool=volumes, allow rwx pool=vms, allow rwx pool=images' For the central site you may optionally append `, allow rwx pool=backups, allow rwx pool=metrics` to the above command if you will be using the Cinder backup or Telemetry services. Either way, the above command will return a Ceph client key which should be saved in an environment file to set the value of `CephClientKey`. The environment file should be named something like external-ceph-<SITE>.yaml (e.g. external-ceph-central.yaml, external-ceph-dcn0.yaml, external-ceph-dcn1.yaml, etc.) and should contain values like the following:: parameter_defaults: # The cluster FSID CephClusterFSID: '4b5c8c0a-ff60-454b-a1b4-9747aa737d19' # The CephX user auth key CephClientKey: 'AQDLOh1VgEp6FRAAFzT7Zw+Y9V6JJExQAsRnRQ==' # The list of IPs or hostnames of the Ceph monitors CephExternalMonHost: '172.16.1.7, 172.16.1.8, 172.16.1.9' CephAnsibleExtraVars: cluster: ""central"" The ""cluster"" variable in the example above should have a name corresponding to each site. The above exammple might be used for the central site but if the dcn1 site, it should be set to ""dcn1"". Naming the cluster after its planned availability zone is strategy to keep the name consistent. Whatever name is supplied will result in the Ceph configuration file in /etc/ceph/ having that name, e.g. /etc/ceph/central.conf, /etc/ceph/dcn0.conf, /etc/ceph/dcn1.conf, etc. The name should be unique so as to avoid file overwrites. If the name is not set it will default to ""ceph"". In each openstack overcloud deploy command in the previous sections replace ``environments/ceph-ansible/ceph-ansible.yaml`` with ``environments/ceph-ansible/ceph-ansible-external.yaml`` and replace ``ceph.yaml`` with ``external-ceph-<SITE>.yaml`` as described above. Thus, for a three stack deployment the following will be the case. - The intial deployment of the cental stack is configured with one external Ceph cluster called central, which is the default store for Cinder, Glance, and Nova. We will refer to this as the central site's ""primary external Ceph cluster"". - The initial deployment of the dcn0 stack is configured with its own primary external Ceph cluster called dcn0 which is the default store for the Cinder, Glance, and Nova services at the dcn0 site. It is also configured with the secondary external Ceph cluster central. - Each subsequent dcnN stack has its own primary exteranl Ceph cluster and a secondary Ceph cluster which is central. - After every dcn site is deployed, the central stack is updated so that in addition to its primary external Ceph cluster, central, it has multiple secondary external Ceph clusters. In the example above, each site must have a primary external Ceph cluster and each secondary external Ceph cluster is configured by using the `CephExternalMultiConfig` parameter described in :doc:`ceph_external`. The `CephExternalMultiConfig` parameter must be manually configured because the `openstack overcloud export ceph` command can only export Ceph configuration information from clusters which it has deployed. However, the `ceph auth add` command and `external-ceph-<SITE>.yaml` site file described above contain all of the information necessary to populate the `CephExternalMultiConfig` parameter. If the external Ceph cluster at each DCN site had the ceph-ansible cluster parameter set to its default value of ""ceph"", then you should still define a unique cluster name within the `CephExternalMultiConfig` parameter like the following:: parameter_defaults: CephExternalMultiConfig: - cluster: dcn1 ... - cluster: dcn2 ... The above will result in dcn1.conf, dcn2.conf, etc, being created in /etc/ceph on the control-plane nodes so that Glance is able to use the correct Ceph configuration file per image store. If each `cluster:` parameter above were set to ""ceph"", then the configuration for each cluster would overwrite the file defined in the previous configuration. ",,109,0
openstack%2Fopenstack-zuul-jobs~master~Ifd36d3cca4957077770b6cff424d3a5af98981dd,openstack/openstack-zuul-jobs,master,Ifd36d3cca4957077770b6cff424d3a5af98981dd,Add Python3 project templates for Xena release,MERGED,2021-01-14 20:42:52.000000000,2021-02-22 13:54:39.000000000,2021-02-22 13:50:28.000000000,"[{'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-14 20:42:52.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a153fea6628a5495b934da50e67eed66e431d53d', 'message': 'Add Python3 project templates for Xena release\n\nAs per TC resolution[1] on updating the python version for testing,\nthis commit defines the job template to be used for testing the\ndefined testing runtime for Xena release (Depends-On).\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/770860\n\n[1] https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html\n\nChange-Id: Ifd36d3cca4957077770b6cff424d3a5af98981dd\n'}]",3,770862,a153fea6628a5495b934da50e67eed66e431d53d,14,6,1,8556,,,0,"Add Python3 project templates for Xena release

As per TC resolution[1] on updating the python version for testing,
this commit defines the job template to be used for testing the
defined testing runtime for Xena release (Depends-On).

Depends-On: https://review.opendev.org/c/openstack/governance/+/770860

[1] https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html

Change-Id: Ifd36d3cca4957077770b6cff424d3a5af98981dd
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/62/770862/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,a153fea6628a5495b934da50e67eed66e431d53d,, name: openstack-python3-xena-jobs description: | Runs unit tests for an OpenStack Python project under the CPython version 3 releases designated for testing in the Xena release. check: jobs: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 - openstack-tox-py39: voting: false gate: jobs: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-xena-jobs-horizon description: | The standard :zuul:project_template:`openstack-python3-xena-jobs` but with horizon added as a required-projects. This checks out the project code and allows tox_install_siblings to use horizon when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py38: required-projects: - openstack/horizon - openstack-tox-py39: required-projects: - openstack/horizon voting: false gate: jobs: - openstack-tox-pep8: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py38: required-projects: - openstack/horizon post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-xena-jobs-neutron description: | The standard :zuul:project_template:`openstack-python3-xena-jobs` but with neutron added as a required-projects. This checks out the project code and allows tox_install_siblings to use neutron when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py38: required-projects: - openstack/neutron - openstack-tox-py39: required-projects: - openstack/neutron voting: false gate: jobs: - openstack-tox-pep8: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py38: required-projects: - openstack/neutron post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-xena-jobs-ceilometer description: | The standard :zuul:project_template:`openstack-python3-xena-jobs` but with ceilometer added as a required-projects. This checks out the project code and allows tox_install_siblings to use ceilometer when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py38: required-projects: - openstack/ceilometer - openstack-tox-py39: required-projects: - openstack/ceilometer voting: false gate: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py38: required-projects: - openstack/ceilometer post: jobs: - publish-openstack-python-branch-tarball - project-template:,,132,0
openstack%2Fkolla-ansible~master~I7076ec26630ae9c376c30780ad9b2348298569f1,openstack/kolla-ansible,master,I7076ec26630ae9c376c30780ad9b2348298569f1,WIP: Fix looped notifies mk2,ABANDONED,2020-08-05 16:26:04.000000000,2021-02-22 13:43:54.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-05 16:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d50a5222ff6384dc0e543c78404383500a40cb7b', 'message': 'WIP: Fix looped notifies mk2\n\nFor comparison with https://review.opendev.org/#/c/744207/\n\nChange-Id: I7076ec26630ae9c376c30780ad9b2348298569f1\n'}, {'number': 2, 'created': '2020-08-05 16:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c323163f3c9c8b7d442c83a846971d772068fed', 'message': 'WIP: Fix looped notifies mk2\n\nFor comparison with https://review.opendev.org/#/c/744207/\n\nChange-Id: I7076ec26630ae9c376c30780ad9b2348298569f1\n'}, {'number': 3, 'created': '2020-08-05 18:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8bf30581eb04ae03a8f283f6d1f3a5512588112', 'message': 'WIP: Fix looped notifies mk2\n\nFor comparison with https://review.opendev.org/#/c/744207/\n\nChange-Id: I7076ec26630ae9c376c30780ad9b2348298569f1\n'}, {'number': 4, 'created': '2020-08-06 10:03:12.000000000', 'files': ['ansible/library/kolla_docker.py', 'ansible/roles/neutron/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/870c936e0be24ef00084ac902a9c8484a4ff925f', 'message': 'WIP: Fix looped notifies mk2\n\nFor comparison with https://review.opendev.org/#/c/744207/\n\nDepends-On: https://review.opendev.org/745105\n\nChange-Id: I7076ec26630ae9c376c30780ad9b2348298569f1\n'}]",7,744944,870c936e0be24ef00084ac902a9c8484a4ff925f,20,3,4,14826,,,0,"WIP: Fix looped notifies mk2

For comparison with https://review.opendev.org/#/c/744207/

Depends-On: https://review.opendev.org/745105

Change-Id: I7076ec26630ae9c376c30780ad9b2348298569f1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/744944/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/library/kolla_docker.py', 'ansible/roles/neutron/tasks/config.yml']",2,d50a5222ff6384dc0e543c78404383500a40cb7b,,," notify: - ""Restart {{ item.key }} container"" notify: - ""Restart {{ item.key }} container"" notify: - ""Restart {{ item.key }} container"" notify: - ""Restart {{ item.key }} container"" notify: - ""Restart {{ item.key }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ item.key }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ service_name }} container"" notify: - ""Restart {{ item.0 }} container""",14,42
openstack%2Fkolla-ansible~stable%2Fvictoria~Ife38237a308c87465d5ac3faf7d8de93fd49de4e,openstack/kolla-ansible,stable/victoria,Ife38237a308c87465d5ac3faf7d8de93fd49de4e,Replace db-sock with db-nb-sock and db-sb-sock,MERGED,2021-02-22 09:44:35.000000000,2021-02-22 13:33:58.000000000,2021-02-22 13:32:37.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30380}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-22 09:44:35.000000000', 'files': ['ansible/roles/ovn/templates/ovn-nb-db.json.j2', 'releasenotes/notes/bug-1913031-e8b14c50e8a27d14.yaml', 'ansible/roles/ovn/templates/ovn-sb-db.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f25a2015548034a2cfbd3cab937ab8b4f4ab4ba', 'message': 'Replace db-sock with db-nb-sock and db-sb-sock\n\n--db-sock JSON-RPC socket name\n--db-nb-sock OVN_Northbound db socket\n--db-sb-sock OVN_Southbound db socket [1]\nso should use db-nb-sock and db-sb-sock\n\nCloses-bug: #1913031\n\n[1] https://github.com/ovn-org/ovn/blob/master/utilities/ovn-ctl\n\nChange-Id: Ife38237a308c87465d5ac3faf7d8de93fd49de4e\n(cherry picked from commit 21191fb7b3d6c76f36f755276558465c30de4998)\n'}]",0,776882,4f25a2015548034a2cfbd3cab937ab8b4f4ab4ba,9,4,1,14826,,,0,"Replace db-sock with db-nb-sock and db-sb-sock

--db-sock JSON-RPC socket name
--db-nb-sock OVN_Northbound db socket
--db-sb-sock OVN_Southbound db socket [1]
so should use db-nb-sock and db-sb-sock

Closes-bug: #1913031

[1] https://github.com/ovn-org/ovn/blob/master/utilities/ovn-ctl

Change-Id: Ife38237a308c87465d5ac3faf7d8de93fd49de4e
(cherry picked from commit 21191fb7b3d6c76f36f755276558465c30de4998)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/776882/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn/templates/ovn-nb-db.json.j2', 'releasenotes/notes/bug-1913031-e8b14c50e8a27d14.yaml', 'ansible/roles/ovn/templates/ovn-sb-db.json.j2']",3,4f25a2015548034a2cfbd3cab937ab8b4f4ab4ba,bug/1913031-stable/victoria," ""command"": ""/usr/share/ovn/scripts/ovn-ctl run_sb_ovsdb --db-sb-create-insecure-remote=yes --db-sb-addr={{ api_interface_address | put_address_in_context('url') }} --db-sb-cluster-local-addr={{ api_interface_address | put_address_in_context('url') }} {% if groups['ovn-sb-db'] | length > 1 and inventory_hostname != groups['ovn-sb-db'][0] %} --db-sb-cluster-remote-addr={{ 'api' | kolla_address(groups['ovn-sb-db'][0]) | put_address_in_context('url') }} {% endif %} --db-sb-sock=/run/ovn/ovnsb_db.sock --db-sb-pid=/run/ovn/ovnsb_db.pid --db-sb-file=/var/lib/openvswitch/ovn-sb/ovnsb.db --ovn-sb-logfile=/var/log/kolla/openvswitch/ovn-sb-db.log"","," ""command"": ""/usr/share/ovn/scripts/ovn-ctl run_sb_ovsdb --db-sb-create-insecure-remote=yes --db-sb-addr={{ api_interface_address | put_address_in_context('url') }} --db-sb-cluster-local-addr={{ api_interface_address | put_address_in_context('url') }} {% if groups['ovn-sb-db'] | length > 1 and inventory_hostname != groups['ovn-sb-db'][0] %} --db-sb-cluster-remote-addr={{ 'api' | kolla_address(groups['ovn-sb-db'][0]) | put_address_in_context('url') }} {% endif %} --db-sock=/run/ovn/ovnsb_db.sock --db-sb-pid=/run/ovn/ovnsb_db.pid --db-sb-file=/var/lib/openvswitch/ovn-sb/ovnsb.db --ovn-sb-logfile=/var/log/kolla/openvswitch/ovn-sb-db.log"",",6,2
openstack%2Fkolla-ansible~stable%2Fussuri~Ife38237a308c87465d5ac3faf7d8de93fd49de4e,openstack/kolla-ansible,stable/ussuri,Ife38237a308c87465d5ac3faf7d8de93fd49de4e,Replace db-sock with db-nb-sock and db-sb-sock,MERGED,2021-02-22 09:44:42.000000000,2021-02-22 13:33:55.000000000,2021-02-22 13:32:29.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30380}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-22 09:44:42.000000000', 'files': ['ansible/roles/ovn/templates/ovn-nb-db.json.j2', 'releasenotes/notes/bug-1913031-e8b14c50e8a27d14.yaml', 'ansible/roles/ovn/templates/ovn-sb-db.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd2fae0c2e44173706d92872fbbd71c820ddd779', 'message': 'Replace db-sock with db-nb-sock and db-sb-sock\n\n--db-sock JSON-RPC socket name\n--db-nb-sock OVN_Northbound db socket\n--db-sb-sock OVN_Southbound db socket [1]\nso should use db-nb-sock and db-sb-sock\n\nCloses-bug: #1913031\n\n[1] https://github.com/ovn-org/ovn/blob/master/utilities/ovn-ctl\n\nChange-Id: Ife38237a308c87465d5ac3faf7d8de93fd49de4e\n(cherry picked from commit 21191fb7b3d6c76f36f755276558465c30de4998)\n'}]",0,776883,cd2fae0c2e44173706d92872fbbd71c820ddd779,9,4,1,14826,,,0,"Replace db-sock with db-nb-sock and db-sb-sock

--db-sock JSON-RPC socket name
--db-nb-sock OVN_Northbound db socket
--db-sb-sock OVN_Southbound db socket [1]
so should use db-nb-sock and db-sb-sock

Closes-bug: #1913031

[1] https://github.com/ovn-org/ovn/blob/master/utilities/ovn-ctl

Change-Id: Ife38237a308c87465d5ac3faf7d8de93fd49de4e
(cherry picked from commit 21191fb7b3d6c76f36f755276558465c30de4998)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/776883/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn/templates/ovn-nb-db.json.j2', 'releasenotes/notes/bug-1913031-e8b14c50e8a27d14.yaml', 'ansible/roles/ovn/templates/ovn-sb-db.json.j2']",3,cd2fae0c2e44173706d92872fbbd71c820ddd779,bug/1913031-stable/ussuri," ""command"": ""/usr/share/ovn/scripts/ovn-ctl run_sb_ovsdb --db-sb-create-insecure-remote=yes --db-sb-addr={{ api_interface_address | put_address_in_context('url') }} --db-sb-cluster-local-addr={{ api_interface_address | put_address_in_context('url') }} {% if groups['ovn-sb-db'] | length > 1 and inventory_hostname != groups['ovn-sb-db'][0] %} --db-sb-cluster-remote-addr={{ 'api' | kolla_address(groups['ovn-sb-db'][0]) | put_address_in_context('url') }} {% endif %} --db-sb-sock=/run/ovn/ovnsb_db.sock --db-sb-pid=/run/ovn/ovnsb_db.pid --db-sb-file=/var/lib/openvswitch/ovn-sb/ovnsb.db --ovn-sb-logfile=/var/log/kolla/openvswitch/ovn-sb-db.log"","," ""command"": ""/usr/share/ovn/scripts/ovn-ctl run_sb_ovsdb --db-sb-create-insecure-remote=yes --db-sb-addr={{ api_interface_address | put_address_in_context('url') }} --db-sb-cluster-local-addr={{ api_interface_address | put_address_in_context('url') }} {% if groups['ovn-sb-db'] | length > 1 and inventory_hostname != groups['ovn-sb-db'][0] %} --db-sb-cluster-remote-addr={{ 'api' | kolla_address(groups['ovn-sb-db'][0]) | put_address_in_context('url') }} {% endif %} --db-sock=/run/ovn/ovnsb_db.sock --db-sb-pid=/run/ovn/ovnsb_db.pid --db-sb-file=/var/lib/openvswitch/ovn-sb/ovnsb.db --ovn-sb-logfile=/var/log/kolla/openvswitch/ovn-sb-db.log"",",6,2
openstack%2Fansible-collections-openstack~master~I73835b111b1bdfc0d8dd6409d516ad1cb84c658a,openstack/ansible-collections-openstack,master,I73835b111b1bdfc0d8dd6409d516ad1cb84c658a,add option to exclude legacy groups,MERGED,2020-12-08 16:54:43.000000000,2021-02-22 13:31:48.000000000,2021-02-22 13:31:48.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 31552}, {'_account_id': 31679}]","[{'number': 1, 'created': '2020-12-08 16:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a6eff3833b8e314a2b0319129beff81b16fbad37', 'message': 'add option to exclude legacy groups\n\nChange-Id: I73835b111b1bdfc0d8dd6409d516ad1cb84c658a\n'}, {'number': 2, 'created': '2021-01-06 19:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/07a3610354794cf06735123f65487264d5612c24', 'message': 'add option to exclude legacy groups\n\nChange-Id: I73835b111b1bdfc0d8dd6409d516ad1cb84c658a\n'}, {'number': 3, 'created': '2021-02-18 12:03:09.000000000', 'files': ['plugins/inventory/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3c8fbc6b27c26ae8751020f3b7402bc5ca1d0d11', 'message': 'add option to exclude legacy groups\n\nChange-Id: I73835b111b1bdfc0d8dd6409d516ad1cb84c658a\n'}]",0,766047,3c8fbc6b27c26ae8751020f3b7402bc5ca1d0d11,14,6,3,31552,,,0,"add option to exclude legacy groups

Change-Id: I73835b111b1bdfc0d8dd6409d516ad1cb84c658a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/47/766047/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/inventory/openstack.py'],1,a6eff3833b8e314a2b0319129beff81b16fbad37,meta-groups," legacy_groups: description: Automatically create groups from host variables. type: bool default: true if self.get_option('legacy_groups'): for group in self._get_groups_from_server(server, namegroup=namegroup): groups[group].append(current_host)"," for group in self._get_groups_from_server(server, namegroup=namegroup): groups[group].append(current_host)",7,2
openstack%2Fneutron~master~Ifce864ab1c75c2a165db3d8c295002ef3f944277,openstack/neutron,master,Ifce864ab1c75c2a165db3d8c295002ef3f944277,[ovn][metadata] Remove local binding for the metadata port,ABANDONED,2021-02-21 10:37:28.000000000,2021-02-22 12:59:39.000000000,,"[{'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-21 10:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e788b582f79a92da60760829035ff99977ecf0d', 'message': '[ovn][metadata] Remove local binding for the metadata port\n\nRight now, the metadata agent sets the external_ids:iface-id\non the localport and that creates a local binding in OVN.\n\nWhile this is ok, it is not needed and hence this patch is\nremoving it for simplicity and avoid creating local bindings\nin OVN.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ifce864ab1c75c2a165db3d8c295002ef3f944277\n'}, {'number': 2, 'created': '2021-02-21 10:38:32.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'doc/source/contributor/internals/ovn/metadata_api.rst', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef5f4763dac1e391f9b38622114c46273962f043', 'message': '[ovn][metadata] Remove local binding for the metadata port\n\nRight now, the metadata agent sets the external_ids:iface-id\non the localport and that creates a local binding in OVN.\n\nWhile this is ok, it is not needed and hence this patch is\nremoving it for simplicity and avoid creating local bindings\nin OVN.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ifce864ab1c75c2a165db3d8c295002ef3f944277\n'}]",0,776829,ef5f4763dac1e391f9b38622114c46273962f043,10,3,2,23804,,,0,"[ovn][metadata] Remove local binding for the metadata port

Right now, the metadata agent sets the external_ids:iface-id
on the localport and that creates a local binding in OVN.

While this is ok, it is not needed and hence this patch is
removing it for simplicity and avoid creating local bindings
in OVN.

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: Ifce864ab1c75c2a165db3d8c295002ef3f944277
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/776829/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,3e788b582f79a92da60760829035ff99977ecf0d,, # Configure the OVS port.," # Configure the OVS port and add external_ids:iface-id so that it # can be tracked by OVN. self.ovs_idl.db_set( 'Interface', veth_name[0], ('external_ids', {'iface-id': port.logical_port})).execute()",1,5
openstack%2Fceilometer~master~Id79799541dfc8ec17d3ea1482c6b8ca4b58f7a92,openstack/ceilometer,master,Id79799541dfc8ec17d3ea1482c6b8ca4b58f7a92,Deprecate support for Xen,MERGED,2021-02-19 11:42:03.000000000,2021-02-22 12:52:25.000000000,2021-02-22 12:50:54.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 11:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5085ca60dd3cbe04ba4d8a9b76fd267fa2d5128a', 'message': 'Deprecate support for Xen\n\nSince Nova has already removed its support for Xen[1], we no longer\nexpect usage of Xen in OpenStack deployments.\n\n[1] 3a390c2c8238409c00acc08fad725d46fa02c0ad\n\nChange-Id: Id79799541dfc8ec17d3ea1482c6b8ca4b58f7a92\n'}, {'number': 2, 'created': '2021-02-19 11:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0c07a27b0bb24cbfa723d82acf12cb07c662c6a6', 'message': 'Deprecate support for Xen\n\nSince Nova has already removed its support for Xen[1], we no longer\nexpect usage of Xen in OpenStack deployments.\n\n[1] 3a390c2c8238409c00acc08fad725d46fa02c0ad\n\nChange-Id: Id79799541dfc8ec17d3ea1482c6b8ca4b58f7a92\n'}, {'number': 3, 'created': '2021-02-19 11:46:12.000000000', 'files': ['ceilometer/compute/virt/inspector.py', 'releasenotes/notes/deprecate-xen-support-27600e2bf7be548c.yaml', 'ceilometer/compute/virt/xenapi/inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fd0a561bea956f1b62f6ca5a27e762cb76ad9a90', 'message': 'Deprecate support for Xen\n\nSince Nova removed its XenAPI driver[1] and Xen support using libvirt,\nwe no longer expect usage of Xen in OpenStack deployments.\n\n[1] adb28f503ca8c38bd7224ec0a335f730557d7ca9\n[1] 3a390c2c8238409c00acc08fad725d46fa02c0ad\n\nChange-Id: Id79799541dfc8ec17d3ea1482c6b8ca4b58f7a92\n'}]",0,776607,fd0a561bea956f1b62f6ca5a27e762cb76ad9a90,10,3,3,9816,,,0,"Deprecate support for Xen

Since Nova removed its XenAPI driver[1] and Xen support using libvirt,
we no longer expect usage of Xen in OpenStack deployments.

[1] adb28f503ca8c38bd7224ec0a335f730557d7ca9
[1] 3a390c2c8238409c00acc08fad725d46fa02c0ad

Change-Id: Id79799541dfc8ec17d3ea1482c6b8ca4b58f7a92
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/07/776607/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/virt/inspector.py', 'releasenotes/notes/deprecate-xen-support-27600e2bf7be548c.yaml', 'ceilometer/compute/virt/xenapi/inspector.py']",3,5085ca60dd3cbe04ba4d8a9b76fd267fa2d5128a,deprecate-xen," deprecated_for_removal=True, deprecated_reason='Support for XenServer/Xen Cloud Platform ' 'has been deprecated', deprecated_for_removal=True, deprecated_reason='Support for XenServer/Xen Cloud Platform ' 'has been deprecated', deprecated_for_removal=True, deprecated_reason='Support for XenServer/Xen Cloud Platform ' 'has been deprecated',",,17,0
openstack%2Fopenstack-helm-images~master~I6b00baa64d3eed5f543ef8a5d76a2e552f2f639e,openstack/openstack-helm-images,master,I6b00baa64d3eed5f543ef8a5d76a2e552f2f639e,[CPUNDRC-480] : CPID-144: Deploy mini-mirror using updated container image,ABANDONED,2021-02-19 14:49:31.000000000,2021-02-22 12:46:26.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 14:49:31.000000000', 'files': ['mini-mirror/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1abd6a90705e0c1cddb9441712d8427d582ba2e0', 'message': '[CPUNDRC-480] : CPID-144: Deploy mini-mirror using updated container image\n\nChange-Id: I6b00baa64d3eed5f543ef8a5d76a2e552f2f639e\n'}]",3,776652,1abd6a90705e0c1cddb9441712d8427d582ba2e0,6,3,1,32353,,,0,"[CPUNDRC-480] : CPID-144: Deploy mini-mirror using updated container image

Change-Id: I6b00baa64d3eed5f543ef8a5d76a2e552f2f639e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/52/776652/1 && git format-patch -1 --stdout FETCH_HEAD,['mini-mirror/Dockerfile.ubuntu_xenial'],1,1abd6a90705e0c1cddb9441712d8427d582ba2e0,,ARG BUILD_FROM=ubuntu:18.04,ARG BUILD_FROM=ubuntu:16.04,1,1
openstack%2Fansible-collections-openstack~master~I22f55bcdc275e13c2f56de3a1f92a6e3584581b0,openstack/ansible-collections-openstack,master,I22f55bcdc275e13c2f56de3a1f92a6e3584581b0,Add support for node VIFs,NEW,2021-02-09 12:47:06.000000000,2021-02-22 12:39:49.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 12:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f2f251c4567716de7738e14e6d36079f31fe9731', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 2, 'created': '2021-02-09 13:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/621370ba47c78bb39a9ec3b7eb277f108b293ed1', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 3, 'created': '2021-02-11 11:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7b165d42bc4de6488232b3a7444d3ef6960a0bfb', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 4, 'created': '2021-02-11 12:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/049db0851b1982ed26a7034c26375b89f893c46c', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 5, 'created': '2021-02-11 12:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2344ebbc0a8bece4236603baccfc69918a0b812b', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 6, 'created': '2021-02-11 14:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6505e8175c32b65d7c8c73a960c9cd3909401185', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 7, 'created': '2021-02-12 13:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4be06e1720901a308761a17ec08c0a1d448d458c', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 8, 'created': '2021-02-12 14:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5b5939d31d361375e187e905596a80a1e41c7a1d', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 9, 'created': '2021-02-13 07:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6710d962e2bc191b9d436585750f51c0c675fb19', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 10, 'created': '2021-02-15 12:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c666bec799f9bf04dd041f0b77148579be8a5dd9', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 11, 'created': '2021-02-16 17:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2bd58b2e51b5c58a302a3a667913d751313a85ef', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 12, 'created': '2021-02-17 11:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a5acb49ac9bde4e8bc519868b0d9f8f1d9c3f82f', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 13, 'created': '2021-02-17 11:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4573f587be1dd4f2fd3d3e57b0dd3abb8f83a59d', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}, {'number': 14, 'created': '2021-02-17 16:51:58.000000000', 'files': ['plugins/modules/baremetal_node_vifs.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fadad2a51d5af66187e7a5d727469a1164add804', 'message': 'Add support for node VIFs\n\nChange-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0\n'}]",61,774635,fadad2a51d5af66187e7a5d727469a1164add804,39,3,14,32541,,,0,"Add support for node VIFs

Change-Id: I22f55bcdc275e13c2f56de3a1f92a6e3584581b0
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/35/774635/10 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/baremetal_node_vifs.py'],1,f2f251c4567716de7738e14e6d36079f31fe9731,vifs,"DOCUMENTATION = ''' --- module: baremetal_node_vifs short_description: Attach and detach a virtual interface to or from a baremetal node. author: OpenStack Ansible SIG description: - Attach and detach a VIF to or from a baremetal node in Ironic. options: name: description: - Name of the node to apply. type: str uuid: description: - globally unique identifier (UUID) to be given to the resource. type: str vifs: description: - A list of Virtual Interfaces attached to the specified node. type: list default: [] elements: str vif: description: - Definition of the VIF to be attached or detached to or from a node. type: dict suboptions: vif_id: description: - UUID or name of the VIF. requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' # Attach a VIF to a node. - openstack.cloud.baremetal_node_vifs: cloud: ""openstack"" uuid: ""d44666e1-35b3-4f6b-acb0-88ab7052da69"" vif: { vif_id: ""1974dcfa-836f-41b2-b541-686c100900e5"" } ''' from ansible_collections.openstack.cloud.plugins.module_utils.ironic import ( IronicModule, ironic_argument_spec, ) from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_module_kwargs, openstack_cloud_from_module ) def _choose_id_value(module): if module.params['uuid']: return module.params['uuid'] if module.params['name']: return module.params['name'] return None def _is_true(value): true_values = [True, 'yes', 'Yes', 'True', 'true', 'present', 'on'] if value in true_values: return True return False def _is_false(value): false_values = [False, None, 'no', 'No', 'False', 'false', 'absent', 'off'] if value in false_values: return True return False def _attach_vif_to_node(module, cloud, node): if _is_true( module.params['vifs'] and module.params['vif'] ): vif_params = module.params['vif'] vif_id = vif_params.get('vif_id', None) if vif_id is not None: cloud.baremetal.attach_vif_to_node( node['uuid'], vif_id, retry_on_conflict=True ) msg = ""VIF with ID %s has been attached successfully"" % vif_id module.exit_json(changed=True, msg=msg) def _detach_vif_from_node(module, cloud, node): if _is_true( module.params['vifs'] and module.params['vif'] ): vif_params = module.params['vif'] vif_id = vif_params.get('vif_id', None) vifs_list = module.params['vifs'] if ( vif_id is not None and vif_id in vifs_list ): cloud.baremetal.detach_vif_from_node( node['uuid'], vif_id, retry_on_conflict=True ) msg = ""VIF with ID %s has been detached successfully"" % vif_id module.exit_json(changed=True, msg=msg) def _list_node_vifs(module, cloud, node): if _is_true(module.params['vifs']): result = cloud.baremetal.list_node_vifs(node['uuid']) module.exit_json(result) def main(): argument_spec = ironic_argument_spec( uuid=dict(required=False), name=dict(required=False), vifs=dict(type='list', required=False, default=[], elements='str'), vif=dict(type='dict', required=False), ) module_kwargs = openstack_module_kwargs() module = IronicModule(argument_spec, **module_kwargs) node_id = _choose_id_value(module) if not node_id: module.fail_json(msg=""A uuid or name value must be defined "" ""to use this module."") sdk, cloud = openstack_cloud_from_module(module) try: node = cloud.get_machine(node_id) if node is None: module.fail_json(msg=""node not found"") uuid = node['uuid'] changed = False if node['provision_state'] in [ 'cleaning', 'deleting', 'wait call-back']: module.fail_json(msg=""Node is in %s state, cannot act upon the "" ""request as the node is in a transition "" ""state"" % node['provision_state']) if _attach_vif_to_node(module, cloud, node): changed = True node = cloud.get_machine(node_id) if _detach_vif_from_node(module, cloud, node): changed = True node = cloud.get_machine(node_id) _list_node_vifs(module, cloud, node) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e)) if __name__ == ""__main__"": main() ",,175,0
openstack%2Fopenstack-tempest-skiplist~master~I18f217da244466ff5a17d9ba715e89ba0a0d830b,openstack/openstack-tempest-skiplist,master,I18f217da244466ff5a17d9ba715e89ba0a0d830b,"Revert ""Add NetworkSecGroupTest in skiplist""",MERGED,2021-02-15 09:25:02.000000000,2021-02-22 12:16:17.000000000,2021-02-22 12:14:56.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-15 09:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1be9aa8fe36a13ad4afe6ad977d54005a0515893', 'message': 'Revert ""Add NetworkSecGroupTest in skiplist""\n\nThis reverts commit 7c50ced28ef83e162008334ef36f1c1121140ddf.\n\nReason for revert: New OVN is now available so bug should be fixed.\n\nChange-Id: I18f217da244466ff5a17d9ba715e89ba0a0d830b\n'}, {'number': 2, 'created': '2021-02-15 10:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/46e433acece00cdfed2b7cb839063ac583422e0c', 'message': 'Revert ""Add NetworkSecGroupTest in skiplist""\n\nThis reverts commits 7c50ced28ef83e162008334ef36f1c1121140ddf\nand 37830be390b4d43c5608003e4a587e5a789cfc8d.\n\nReason for revert: New OVN is now available so bug should be fixed.\n\nChange-Id: I18f217da244466ff5a17d9ba715e89ba0a0d830b\n'}, {'number': 3, 'created': '2021-02-17 09:23:04.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/41cbe159e1fa89bb75c98020fcf44ecbb36d316b', 'message': 'Revert ""Add NetworkSecGroupTest in skiplist""\n\nThis reverts commits 7c50ced28ef83e162008334ef36f1c1121140ddf\nand 37830be390b4d43c5608003e4a587e5a789cfc8d.\n\nReason for revert: New OVN is now available so bug should be fixed.\n\nChange-Id: I18f217da244466ff5a17d9ba715e89ba0a0d830b\n'}]",0,775493,41cbe159e1fa89bb75c98020fcf44ecbb36d316b,15,5,3,11975,,,0,"Revert ""Add NetworkSecGroupTest in skiplist""

This reverts commits 7c50ced28ef83e162008334ef36f1c1121140ddf
and 37830be390b4d43c5608003e4a587e5a789cfc8d.

Reason for revert: New OVN is now available so bug should be fixed.

Change-Id: I18f217da244466ff5a17d9ba715e89ba0a0d830b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/93/775493/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,1be9aa8fe36a13ad4afe6ad977d54005a0515893,Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd, jobs:, - name: 'master' reason: 'tempest.lib.exceptions.SSHTimeout: Connection to the 192.168.24.115 via SSH timed out.' lp: https://bugs.launchpad.net/tripleo/+bug/1908982 - name: 'ussuri' reason: 'tempest.lib.exceptions.SSHTimeout: Connection to the 192.168.24.115 via SSH timed out.' lp: https://bugs.launchpad.net/tripleo/+bug/1908982 jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-ussuri,0,8
openstack%2Fopenstack-tempest-skiplist~master~I5d25b3b55c174ce256b6ac094eba2c18f9cda34a,openstack/openstack-tempest-skiplist,master,I5d25b3b55c174ce256b6ac094eba2c18f9cda34a,"Revert ""Add temptest test failing on scenario002 to skiplist""",MERGED,2021-02-15 10:36:46.000000000,2021-02-22 12:13:24.000000000,2021-02-22 12:12:06.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 10:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/97315147b654cfc6d89cdee8ab86b997ba282fa2', 'message': 'Revert ""Add temptest test failing on scenario002 to skiplist""\n\nThis reverts commit a97cb4b649ec7fb44f0f9b02df33d534ef225292.\n\nReason for revert: New OVN is available so those tests should be run fine now.\n\nChange-Id: I5d25b3b55c174ce256b6ac094eba2c18f9cda34a\n'}, {'number': 2, 'created': '2021-02-15 10:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1b69849d33c8c23ed03611e430082067bf0a4a03', 'message': 'Revert ""Add temptest test failing on scenario002 to skiplist""\n\nThis reverts commit a97cb4b649ec7fb44f0f9b02df33d534ef225292.\n\nReason for revert: New OVN is available so those tests should be run fine now.\n\nChange-Id: I5d25b3b55c174ce256b6ac094eba2c18f9cda34a\n'}, {'number': 3, 'created': '2021-02-17 08:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ade97955e460272e83d43d01ac74d6b26458597c', 'message': 'Revert ""Add temptest test failing on scenario002 to skiplist""\n\nThis reverts commit a97cb4b649ec7fb44f0f9b02df33d534ef225292.\n\nReason for revert: New OVN is available so those tests should be run fine now.\n\nRelated-bug: #1904223\n\nChange-Id: I5d25b3b55c174ce256b6ac094eba2c18f9cda34a\n'}, {'number': 4, 'created': '2021-02-17 09:23:04.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e39b2e6c844155257e09814579a0feb5f7f210d8', 'message': 'Revert ""Add temptest test failing on scenario002 to skiplist""\n\nThis reverts commit a97cb4b649ec7fb44f0f9b02df33d534ef225292.\n\nReason for revert: New OVN is available so those tests should be run fine now.\n\nRelated-bug: #1904223\n\nChange-Id: I5d25b3b55c174ce256b6ac094eba2c18f9cda34a\n'}]",3,775582,e39b2e6c844155257e09814579a0feb5f7f210d8,20,6,4,11975,,,0,"Revert ""Add temptest test failing on scenario002 to skiplist""

This reverts commit a97cb4b649ec7fb44f0f9b02df33d534ef225292.

Reason for revert: New OVN is available so those tests should be run fine now.

Related-bug: #1904223

Change-Id: I5d25b3b55c174ce256b6ac094eba2c18f9cda34a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/82/775582/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,97315147b654cfc6d89cdee8ab86b997ba282fa2,Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd,, - test: 'barbican_tempest_plugin.tests.scenario.test_volume_encryption.VolumeEncryptionTest.test_encrypted_cinder_volumes_luks' deployment: - 'overcloud' releases: - name: 'master' reason: 'tempest.lib.exceptions.SSHTimeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1904223' jobs: - tripleo-ci-centos-8-scenario002-standalone,0,9
openstack%2Fkayobe~stable%2Fvictoria~I4719b4d397c01b35c78cb84c6d686dd27742d1c0,openstack/kayobe,stable/victoria,I4719b4d397c01b35c78cb84c6d686dd27742d1c0,Test building seed deployment images in the seed job,MERGED,2021-02-12 08:29:35.000000000,2021-02-22 12:08:11.000000000,2021-02-22 12:06:44.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 08:29:35.000000000', 'files': ['dev/functions', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d3861f20daacc4c156e9e9efec3ef9fcbc6ef43f', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nIt also needs changes in the way we interact with Bifrost to avoid using\nthe env-vars file which has been removed. This is implemented by change\nI25078e69acdf41a4ef9957f99fe5047de54b778d.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}]",90,775327,d3861f20daacc4c156e9e9efec3ef9fcbc6ef43f,14,3,1,15197,,,0,"Test building seed deployment images in the seed job

This requires stackhpc.os-images v1.10.0 or newer, for compatibility
with CentOS 8 when SELinux is enabled: we disable SELinux, but without
rebooting it stays enabled.

This Ansible role was updated to v1.10.2 in master and stable/victoria
by I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.
Remember to bump the requirement when backporting to earlier releases.

It also needs changes in the way we interact with Bifrost to avoid using
the env-vars file which has been removed. This is implemented by change
I25078e69acdf41a4ef9957f99fe5047de54b778d.

Finally, it requires building seed deployment images only after
deploying Bifrost, because the task copying images onto the seed expects
/etc/kolla/bifrost to exist.

We also copy log files to identify issues when the job fails.

Change-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0
(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/27/775327/1 && git format-patch -1 --stdout FETCH_HEAD,"['dev/functions', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/kayobe-seed-base/overrides.yml.j2']",3,d3861f20daacc4c156e9e9efec3ef9fcbc6ef43f,test-seed-ipa-build-stable/victoria, # Build seed deployment images (IPA) ipa_build_images: true,,16,10
openstack%2Fkolla-ansible~master~Ia8fec9c0dae8f2488a65e43608a521736150f049,openstack/kolla-ansible,master,Ia8fec9c0dae8f2488a65e43608a521736150f049,Less visible passwords please,ABANDONED,2018-03-05 19:35:29.000000000,2021-02-22 11:59:28.000000000,,"[{'_account_id': 1297}, {'_account_id': 9820}, {'_account_id': 10273}, {'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-05 19:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87db5656f35e8e7fe7d4a3fee14a7b8d860c1204', 'message': 'Less visible passwords please (WIP)\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 2, 'created': '2018-03-05 22:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5a47101cee4852488306cadfe712802c3cf9bc8', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 3, 'created': '2018-03-06 00:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c926c64d2a98b618886b85958fda02b4ace3cae', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 4, 'created': '2018-07-02 22:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/513b560e55cb75daebdb82efb9719f0125aca703', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 5, 'created': '2018-07-16 18:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c2e49400d842ea52ea97d47f7f88f832a02ff4c', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 6, 'created': '2018-07-20 08:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/601415476618754b6e24cf825631a593c3471b17', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 7, 'created': '2018-08-06 21:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbf93ddb02aa80a3f3174bfbf1b5035011a9b863', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 8, 'created': '2018-08-28 07:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce6939a1b7a42fb976f9ca1b33fa440dd33b328b', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}, {'number': 9, 'created': '2018-08-30 20:45:23.000000000', 'files': ['ansible/library/kolla_toolbox.py', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25b25129ca349a3cb2d71e2c03d76ed85d7812c0', 'message': 'Less visible passwords please\n\nCertain modules and tasks and playbooks are dumping\npasswords and secrets into logs; this is bad so we need to\nidentify these and try to supress them via normal ansible\ntechniques.\n\nChange-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049\n'}]",9,549858,25b25129ca349a3cb2d71e2c03d76ed85d7812c0,29,7,9,1297,,,0,"Less visible passwords please

Certain modules and tasks and playbooks are dumping
passwords and secrets into logs; this is bad so we need to
identify these and try to supress them via normal ansible
techniques.

Change-Id: Ia8fec9c0dae8f2488a65e43608a521736150f049
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/549858/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/library/kolla_toolbox.py', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/library/kolla_docker.py']",3,87db5656f35e8e7fe7d4a3fee14a7b8d860c1204,," common_options=dict(required=False, type='dict', default=dict(), no_log=True),"," common_options=dict(required=False, type='dict', default=dict()),",5,2
openstack%2Fansible-role-collect-logs~master~I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344,openstack/ansible-role-collect-logs,master,I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344,Enable ansible-test units,MERGED,2021-02-11 12:37:23.000000000,2021-02-22 11:49:14.000000000,2021-02-22 11:49:14.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-11 12:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c05dfdb134ad515a8d22c2d05e2df7d084f5cec1', 'message': 'Enable ansible-test units\n\nConverts our lonely unit test to use the official unittest format\nfor ansible collections.\n\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}, {'number': 2, 'created': '2021-02-16 12:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/44d4a7bd5975e655e573ccf932927a2b5dcbbe8f', 'message': 'Enable ansible-test units\n\n- converts lonely unit test to use the official unittest format\nfor ansible collections.\n- adds two tests to sova module\n\nStory: TRIPLEOCI-284\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}, {'number': 3, 'created': '2021-02-16 15:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a2ce33c5605f24a80753082a1308c194827dedd1', 'message': 'Enable ansible-test units\n\n- converts lonely unit test to use the official unittest format\nfor ansible collections.\n- adds two tests to sova module\n\nStory: TRIPLEOCI-284\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}, {'number': 4, 'created': '2021-02-18 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ec6be19f789c19359d49d9575faf7bf3448863f2', 'message': 'Enable ansible-test units\n\n- converts lonely unit test to use the official unittest format\nfor ansible collections.\n- adds two tests to sova module\n\nStory: TRIPLEOCI-284\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}, {'number': 5, 'created': '2021-02-18 13:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f974962d2c9267c6987e6cb5d29826937d351038', 'message': 'Enable ansible-test units\n\n- converts lonely unit test to use the official unittest format\nfor ansible collections.\n- adds two tests to sova module\n\nStory: TRIPLEOCI-284\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}, {'number': 6, 'created': '2021-02-18 16:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8d0ae11bbe18e4da84e6e6ae76ff19a6ead97210', 'message': 'Enable ansible-test units\n\n- converts lonely unit test to use the official unittest format\nfor ansible collections.\n- adds two tests to sova module\n\nStory: TRIPLEOCI-284\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}, {'number': 7, 'created': '2021-02-18 17:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/02cd1e89c2fba32843dc0baf14881168a19d2e1c', 'message': 'Enable ansible-test units\n\n- converts lonely unit test to use the official unittest format\nfor ansible collections.\n- adds two tests to sova module\n\nStory: TRIPLEOCI-284\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}, {'number': 8, 'created': '2021-02-19 11:21:07.000000000', 'files': ['tests/unit/test_sova.py', 'plugins/modules/sova.py', 'plugins/module_utils/test_utils.py', 'tests/test_flatten_nested_dict.py', 'roles/collect_logs/module_utils/sova_lib.py', 'tests/unit/requirements.txt', 'tests/common/__init__.py', 'zuul.d/layout.yaml', 'tox.ini', 'tests/unit/test_flatten_nested_dict.py', 'plugins/module_utils/sova_lib.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a5ce785e24e5fa4342f0bdc77a557f398f4a905f', 'message': 'Enable ansible-test units\n\n- converts lonely unit test to use the official unittest format\nfor ansible collections.\n- adds two tests to sova module\n- moves sovalib into sova module as this is required in order to\n  make the module compatible with both role and collection deployments.\n\nStory: TRIPLEOCI-284\nChange-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344\n'}]",4,775149,a5ce785e24e5fa4342f0bdc77a557f398f4a905f,35,6,8,24162,,,0,"Enable ansible-test units

- converts lonely unit test to use the official unittest format
for ansible collections.
- adds two tests to sova module
- moves sovalib into sova module as this is required in order to
  make the module compatible with both role and collection deployments.

Story: TRIPLEOCI-284
Change-Id: I6e0b2fa4a4b02fbf4133c28d29adaf0e3c16d344
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/49/775149/8 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/module_utils/test_utils.py', 'tests/unit/requirements.txt', 'zuul.d/layout.yaml', 'tests/unit/common/__init__.py', 'tests/unit/test_flatten_nested_dict.py']",5,c05dfdb134ad515a8d22c2d05e2df7d084f5cec1,queries,"import pytest from ansible_collections.tripleo.collect_logs.plugins.module_utils.test_utils \ import ( AnsibleExitJson, AnsibleFailJson, ModuleTestCase, set_module_args, )from ansible_collections.tripleo.collect_logs.plugins.modules import \ flatten_nested_dict","import pytest # noqa import os import sys from common.utils import ( AnsibleExitJson, AnsibleFailJson, ModuleTestCase, set_module_args, )# Temporary hack until we adopt official ansible-test unit-testing dir = os.path.join(os.path.dirname(__file__), ""../roles/collect_logs/library"") sys.path.append(dir) print(dir) import flatten_nested_dict # noqa: E402 ",69,64
openstack%2Fpython-tripleoclient~master~I55be5d3a3c24171fc7912e063f67fe2919590292,openstack/python-tripleoclient,master,I55be5d3a3c24171fc7912e063f67fe2919590292,Get gid and uid methods are now members of HeatBaseLauncher,MERGED,2021-01-15 14:17:10.000000000,2021-02-22 11:44:54.000000000,2021-02-22 11:43:03.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 14:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46b045261d25a17f6032d648b42dcb79cd037814', 'message': 'Get gid and uid methods are now members of HeatBaseLauncher\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I55be5d3a3c24171fc7912e063f67fe2919590292\n'}, {'number': 2, 'created': '2021-01-15 16:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92e36834abfd65c499f986384a882b87c3436182', 'message': 'Get gid and uid methods are now members of HeatBaseLauncher\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I55be5d3a3c24171fc7912e063f67fe2919590292\n'}, {'number': 3, 'created': '2021-01-18 09:08:58.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e0539742ddfaf2cd2431d46de5a168bfc675a9d', 'message': ""Get gid and uid methods are now members of HeatBaseLauncher\n\nThe class HeatBaseLauncher uses both methods during __init__. But doesn't actually define them.\nThis would cause an error (either NameError or AttributeError) during instantiation.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I55be5d3a3c24171fc7912e063f67fe2919590292\n""}]",5,770939,3e0539742ddfaf2cd2431d46de5a168bfc675a9d,18,6,3,32926,,,0,"Get gid and uid methods are now members of HeatBaseLauncher

The class HeatBaseLauncher uses both methods during __init__. But doesn't actually define them.
This would cause an error (either NameError or AttributeError) during instantiation.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I55be5d3a3c24171fc7912e063f67fe2919590292
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/770939/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,46b045261d25a17f6032d648b42dcb79cd037814,jpodivin/bugfix/heatlaunchermth1," def get_heat_uid(self): cmd = [ 'podman', 'run', '--rm', self.container_image, 'getent', 'passwd', self.user ] log.debug(' '.join(cmd)) p = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True) result = p.communicate()[0] if result: return result.split(':')[2] raise Exception('Could not find heat uid') def get_heat_gid(self): cmd = [ 'podman', 'run', '--rm', self.container_image, 'getent', 'group', self.user ] log.debug(' '.join(cmd)) p = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True) result = p.communicate()[0] if result: return result.split(':')[2] raise Exception('Could not find heat gid') "," def get_heat_uid(self): cmd = [ 'podman', 'run', '--rm', self.container_image, 'getent', 'passwd', self.user ] log.debug(' '.join(cmd)) p = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True) result = p.communicate()[0] if result: return result.split(':')[2] raise Exception('Could not find heat uid') def get_heat_gid(self): cmd = [ 'podman', 'run', '--rm', self.container_image, 'getent', 'group', self.user ] log.debug(' '.join(cmd)) p = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True) result = p.communicate()[0] if result: return result.split(':')[2] raise Exception('Could not find heat gid') ",28,28
openstack%2Ftripleo-quickstart~master~I69bffa35543b7b7964005e28063a408038bc2ded,openstack/tripleo-quickstart,master,I69bffa35543b7b7964005e28063a408038bc2ded,update default libvirt nodepool to centos8,MERGED,2021-02-19 20:26:35.000000000,2021-02-22 11:44:27.000000000,2021-02-22 11:42:59.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 20:26:35.000000000', 'files': ['roles/libvirt/setup/overcloud/vars/libvirt_nodepool_vars.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/55c8742519c57bb1d55f923f9c680de1363ef019', 'message': 'update default libvirt nodepool to centos8\n\nChange-Id: I69bffa35543b7b7964005e28063a408038bc2ded\n'}]",0,776706,55c8742519c57bb1d55f923f9c680de1363ef019,10,5,1,9592,,,0,"update default libvirt nodepool to centos8

Change-Id: I69bffa35543b7b7964005e28063a408038bc2ded
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/06/776706/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/vars/libvirt_nodepool_vars.yml'],1,55c8742519c57bb1d55f923f9c680de1363ef019,reproducer-fix," url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2 md5sum: ""bf653cc2b5becb29c6cf7c6f7ecaf70f CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"""," url: https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1802.qcow2 md5sum: ""b3ff9077d80b5f17bcbb7356f7982fd4 *CentOS-7-x86_64-GenericCloud-1802.qcow2""",2,2
openstack%2Ftripleo-quickstart-extras~master~I409ee11216e1adc3cace9700b316159daeccb38a,openstack/tripleo-quickstart-extras,master,I409ee11216e1adc3cace9700b316159daeccb38a,add the fresh box setup to reproducer.tar,MERGED,2021-02-19 18:35:18.000000000,2021-02-22 11:42:55.000000000,2021-02-22 11:42:55.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 18:35:18.000000000', 'files': ['roles/create-zuul-based-reproducer/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ada7a12b96130de9e00f5821d400619693c03173', 'message': 'add the fresh box setup to reproducer.tar\n\nChange-Id: I409ee11216e1adc3cace9700b316159daeccb38a\n'}]",1,776695,ada7a12b96130de9e00f5821d400619693c03173,8,5,1,9592,,,0,"add the fresh box setup to reproducer.tar

Change-Id: I409ee11216e1adc3cace9700b316159daeccb38a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/95/776695/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/tasks/main.yml'],1,ada7a12b96130de9e00f5821d400619693c03173,," - ""{{ artcl_collect_dir }}/{{ zuul_reproducer_dir }}/reproducer-fresh-box-setup.sh""",,1,0
openstack%2Fansible-role-collect-logs~master~I225bdf7836a35bb9839d50b531a848b0c7f2cbf1,openstack/ansible-role-collect-logs,master,I225bdf7836a35bb9839d50b531a848b0c7f2cbf1,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:33:19.000000000,2021-02-22 11:42:05.000000000,,"[{'_account_id': 6683}, {'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:33:19.000000000', 'files': ['tests/common/utils.py', 'library/sova.py', 'library/flatten_nested_dict.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/79dcae20f98540c392530ce9875675f0ba5c67a3', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I225bdf7836a35bb9839d50b531a848b0c7f2cbf1\n""}]",0,732752,79dcae20f98540c392530ce9875675f0ba5c67a3,20,6,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I225bdf7836a35bb9839d50b531a848b0c7f2cbf1
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/52/732752/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/common/utils.py', 'library/sova.py', 'library/flatten_nested_dict.py']",3,79dcae20f98540c392530ce9875675f0ba5c67a3,drop_future_imports,,"from __future__ import absolute_import, division, print_function",0,4
openstack%2Ftripleo-ansible~master~I60d6857b888ef97242c4f4bbf20fbc62de5ef29f,openstack/tripleo-ansible,master,I60d6857b888ef97242c4f4bbf20fbc62de5ef29f,Introduce tripleo_cephadm role,MERGED,2021-01-13 22:42:27.000000000,2021-02-22 11:35:46.000000000,2021-02-22 11:31:49.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-13 22:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c6feba07220a40b87a1bd1dcbd57a974a91f050', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 2, 'created': '2021-01-13 22:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d19173835acf827135396f48f0fb64dc0d1e1a8', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 3, 'created': '2021-01-18 08:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/491cce7fbc7845a1e274ac51d9c812cae2c2964e', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 4, 'created': '2021-01-18 09:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99708c3df96caad036a1d1a512bdbd69082e8bf0', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 5, 'created': '2021-01-18 09:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49fa488527bf3764ef2d24b2f40cdfda45f948bc', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 6, 'created': '2021-01-18 13:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5dccca99d68cc9f980f328657564aeedeee6bd6b', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 7, 'created': '2021-01-18 19:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ca2cf3b6ee65127b471990f6bdc5f500448fbff', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 8, 'created': '2021-01-19 13:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92307c34df0c572d8def666eaae4158ec758c989', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 9, 'created': '2021-01-19 14:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e26ef7abd495e1c17bb441df8348e88271b38de', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 10, 'created': '2021-01-19 20:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/398183a5445be7874f03bb16fcfbdfbac3662768', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 11, 'created': '2021-01-19 21:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d971edcb9e507408101f5e652532eccaecea360b', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 12, 'created': '2021-01-19 21:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15d355743e171305cd354fca8505081cb752c92b', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 13, 'created': '2021-01-20 01:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c781f04b7c1b5d6a55b1b29721cf5f1e7b10458', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 14, 'created': '2021-01-20 03:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75d49a46a7f932e37e910819bc0cb2768bc2091a', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 15, 'created': '2021-01-20 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/afdc40e52a762d6df8396fc1849fa6af41a7754f', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 16, 'created': '2021-01-20 22:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e120948c59be1c9151baedaef0029d590faf600a', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 17, 'created': '2021-01-20 22:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1926ce6794301bb5ba6f4107114247e38e357173', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 18, 'created': '2021-01-21 11:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4b12c0056337ace79fde84061efeb0a32b78a30', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 19, 'created': '2021-01-21 11:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf0bf4df0c62243cc26dc9356c39537d8f1cea2f', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 20, 'created': '2021-01-21 12:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94d8b30eb186f3e5d21135b95432f75dac9d2615', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 21, 'created': '2021-01-22 15:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b3e0017f1619f53cf2ff346d821f46df3384ae5b', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 22, 'created': '2021-01-22 17:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/114b7c8ee8aec2998012a8a9a268e854b0991c22', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible module\nceph_key from ceph-ansible for managing cephx keys.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 23, 'created': '2021-01-22 20:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a4da5f38450f87ee6648e878fac5b4840a55ce8', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 24, 'created': '2021-01-23 08:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d43f83bd117ccc4561ee6bc84ab2a242ef485f2', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 25, 'created': '2021-01-23 12:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4461a52b0c0a05137baf915251781564db2fc37a', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 26, 'created': '2021-01-23 19:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f25f14e5d3b6b599b36c0eb3136dba443b651029', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 27, 'created': '2021-01-23 22:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1033075c5bac53283975af163ba10fb1e1ce818', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 28, 'created': '2021-01-24 13:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b46312c719e04b9ece680ec16ed93bdeea28a97a', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 29, 'created': '2021-01-25 09:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9ef9a53dd46dbfce36f94a20076bbb84c89784e', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 30, 'created': '2021-01-25 09:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e02ff89ef24ca05b26bfe17ad47e3cbaa4fcf5c', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 31, 'created': '2021-01-25 13:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f262c105fcb4cbb80b93afaad8dc17208df44a3', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 32, 'created': '2021-01-25 13:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/293cbf02266a274e9b7c64e009f2e0a65f8def20', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 33, 'created': '2021-01-25 13:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2797f52b55584e57ecafb67c4edde1d107be0a46', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 34, 'created': '2021-01-26 03:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c11b9a09c7f816e836a74e67f07e065115fe91f', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 35, 'created': '2021-01-26 18:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ca4957dc336a0ad6c33dbca4e57b8701046d1b9', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 36, 'created': '2021-01-26 18:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa2a544f9adf529948b683f4a8cf1fa0d02d7926', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 37, 'created': '2021-01-27 05:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ef3b975acc9391b1496fa72541070aa0a9130348', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 38, 'created': '2021-01-27 19:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a501cbf392d629a7fbaa51954882b8dbf1880630', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 39, 'created': '2021-01-27 22:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/517b6c4fdb8107aaa7bd05691bc4a02a326a6bb4', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 40, 'created': '2021-01-27 22:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b87182a02d82adbaf1f4dbb7a731563e69f0641f', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 41, 'created': '2021-01-28 13:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b9fc3042f453b79a711d0cd5792ab25ababf477c', 'message': 'WIP: Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 42, 'created': '2021-01-29 20:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8ff884484792db381b7cbdb8921f6b96ef3dd2f', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 43, 'created': '2021-01-29 22:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5209a3174ec0e81cf959de8fdc8cefb5d8294ed', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 44, 'created': '2021-01-30 17:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6aa39e4c1a608cc5b9f8fd687735c607a396d4db', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 45, 'created': '2021-01-30 20:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/082d69bba63b0ba597747855d64c90ad8bb57941', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 46, 'created': '2021-01-30 20:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f297f1c2561fdce9b73471138a71fb99bc6fcea5', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 47, 'created': '2021-02-07 21:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d86947bbd88638d60d2664bb3ef98664514fa75c', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 48, 'created': '2021-02-08 13:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c3bb6d78fe82131bce8208a076b7626ece800e8', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 49, 'created': '2021-02-08 22:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d8c9bd3c97aa1b91401aa9f3539ea3a7d202c4c', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 50, 'created': '2021-02-09 15:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd72e3bf038da496ec59dd796489e7f3c8b126da', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 51, 'created': '2021-02-10 11:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/348193128ac4c07a01e2703af6fa028cf55f3454', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 52, 'created': '2021-02-10 16:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d185193416e5afbf325fecb2d43ed77cd0182857', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 53, 'created': '2021-02-11 12:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7bb7e45aab029582b2f9d80d1171dfbb5d6ee4cb', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 54, 'created': '2021-02-12 11:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba0307d9acd8176e0ac1f8dc65cca6a567333252', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 55, 'created': '2021-02-15 09:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5254b57a68a64b937d0cd10c264f8185d65f5be4', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 56, 'created': '2021-02-15 12:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78eaf8cb056ab4ccb55cb6377ccd050920d75e63', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 57, 'created': '2021-02-16 09:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ea64e6a53d1cd8f0dfe24991589f63aa8e8a796', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 58, 'created': '2021-02-18 09:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f11ee918286e0518d65f5710fbac7d670d9d0c54', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}, {'number': 59, 'created': '2021-02-18 10:19:12.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/molecule/default/mock_ceph_mon_dump.json', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/verify.yml', 'tripleo_ansible/ansible_plugins/modules/ceph_key.py', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph.conf.j2', '.pre-commit-config.yaml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_pool.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/roles/tripleo_cephadm/files/.gitkeep', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_cephadm/files/ceph_spec.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_cephadm/tasks/wait_for_expected_num_mons.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'doc/source/roles/role-tripleo_cephadm.rst', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/mock_ceph_keys.yml', 'tripleo_ansible/roles/tripleo_cephadm/meta/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph_client.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f28e37aeb99388e9fd0f6f9722a6b3c810bb7c8', 'message': 'Introduce tripleo_cephadm role\n\nThis role is provided as part of the implementation of the\ntripleo-ceph spec. It is an Ansible wrapper to call the\ncephadm Ceph tool and it contains the Ansible modules\nceph_key and ceph_pool from ceph-ansible for managing\ncephx keys and ceph pools.\n\nImplements: blueprint tripleo-ceph\nChange-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f\n'}]",157,770674,9f28e37aeb99388e9fd0f6f9722a6b3c810bb7c8,207,8,59,18002,,,0,"Introduce tripleo_cephadm role

This role is provided as part of the implementation of the
tripleo-ceph spec. It is an Ansible wrapper to call the
cephadm Ceph tool and it contains the Ansible modules
ceph_key and ceph_pool from ceph-ansible for managing
cephx keys and ceph pools.

Implements: blueprint tripleo-ceph
Change-Id: I60d6857b888ef97242c4f4bbf20fbc62de5ef29f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/770674/53 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_cephadm/files/ceph_spec.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_key.py', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/Dockerfile', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'doc/source/roles/role-tripleo_cephadm.rst', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_cephadm/files/.gitkeep', 'tripleo_ansible/roles/tripleo_cephadm/meta/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph_client.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml']",21,1c6feba07220a40b87a1bd1dcbd57a974a91f050,cephadm_integration,"--- - name: Stat cephadm file stat: path: ""{{ cephadm_bin }}"" register: stat_cephadm become: true ignore_errors: true - name: Fail if cephadm is not available fail: msg: ""{{ cephadm_bin }} does not exist"" when: not stat_cephadm.stat.exists - name: List Ceph daemon instances on this host shell: ""{{ cephadm_bin }} ls --no-detail"" register: cephadm_ls become: true - name: Ensure fsid variable is set if none was provided block: - name: Set list of found FSIDs set_fact: fsids: ""{{ cephadm_ls.stdout | from_json | json_query('[].fsid') | sort | unique }}"" - name: Fail if >1 FSID was discovered fail: msg: | Multiple FSIDs were found. This Ansible role does not support management of multiple Ceph clusters on one host. when: fsids | length > 1 - name: Set FSID to the discovered value set_fact: fsid: ""{{ fsids[0] }}"" when: fsids | length == 1 - name: Set random fsid if no running ceph containers were found set_fact: fsid: ""{{ 99999999 | random | to_uuid | lower }}"" when: fsids | length == 0 when: fsid is not defined or (fsid is defined and fsid | length == 0) - name: Set first monitor IP set_fact: first_mon_ip: ""{{ ( hostvars[bootstrap_host]['storage_ip'] | default(hostvars[bootstrap_host]['ctlplane_ip']) ) | default(ansible_host) }}"" - name: Ensure /etc/ceph exists file: path: /etc/ceph state: directory become: true - name: Ensure specs directory exists file: path: ""/home/{{ ceph_ssh_user }}/specs"" owner: ""{{ ceph_ssh_user }}"" group: ""{{ ceph_ssh_user }}"" mode: '0755' state: directory become: true - name: Stat spec file on ansible host stat: path: ""{{ ceph_spec_ansible_host }}"" register: stat_ceph_spec_file_on_ansible_host delegate_to: localhost become: true - name: push ceph_spec to bootstrap node if spec file exsits copy: src: ""{{ ceph_spec_ansible_host }}"" dest: ""{{ ceph_spec }}"" owner: ""{{ ceph_ssh_user }}"" group: ""{{ ceph_ssh_user }}"" mode: '0644' become: true when: stat_ceph_spec_file_on_ansible_host.stat.exists ",,1427,11
openstack%2Fkolla-ansible~stable%2Fvictoria~Ibbf683872337402b4e2a38323bb6a3f35ee4bed4,openstack/kolla-ansible,stable/victoria,Ibbf683872337402b4e2a38323bb6a3f35ee4bed4,ovn: Fix disabling of gateway chassis,MERGED,2021-02-18 11:27:42.000000000,2021-02-22 11:31:32.000000000,2021-02-22 11:29:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-18 11:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/326faf6fc6cb28f2b0b584a3765781b4d9c7aa6b', 'message': 'ovn: Fix disabling of gateway chassis\n\nIt currently runs on hosts in ovn group, and in case that controllers are not\nnetwork gateways - it fails on missing openvswitch.\n\nChange-Id: Ibbf683872337402b4e2a38323bb6a3f35ee4bed4\n'}, {'number': 2, 'created': '2021-02-18 14:18:50.000000000', 'files': ['ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea89f1cc111582ab8806ec1387db3ae00459b382', 'message': 'ovn: Fix disabling of gateway chassis\n\nIt currently runs on hosts in ovn group, and in case that controllers are not\nnetwork gateways - it fails on missing openvswitch.\n\nChange-Id: Ibbf683872337402b4e2a38323bb6a3f35ee4bed4\n(cherry picked from commit ec04972b728b0b78717c9d18988eda06b61ebe77)\n'}]",0,776436,ea89f1cc111582ab8806ec1387db3ae00459b382,14,3,2,22629,,,0,"ovn: Fix disabling of gateway chassis

It currently runs on hosts in ovn group, and in case that controllers are not
network gateways - it fails on missing openvswitch.

Change-Id: Ibbf683872337402b4e2a38323bb6a3f35ee4bed4
(cherry picked from commit ec04972b728b0b78717c9d18988eda06b61ebe77)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/776436/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/tasks/bootstrap.yml'],1,326faf6fc6cb28f2b0b584a3765781b4d9c7aa6b,," when: - inventory_hostname in groups[""openvswitch""] - inventory_hostname not in groups[""ovn-controller-network""]"," when: inventory_hostname not in groups[""ovn-controller-network""]",3,1
openstack%2Fkolla-ansible~stable%2Fussuri~Ibbf683872337402b4e2a38323bb6a3f35ee4bed4,openstack/kolla-ansible,stable/ussuri,Ibbf683872337402b4e2a38323bb6a3f35ee4bed4,ovn: Fix disabling of gateway chassis,MERGED,2021-02-18 11:30:15.000000000,2021-02-22 11:31:05.000000000,2021-02-22 11:29:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2021-02-18 11:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78443b8574fb177233bf159cdbc55401f0ef9c3b', 'message': 'ovn: Fix disabling of gateway chassis\n\nIt currently runs on hosts in ovn group, and in case that controllers are not\nnetwork gateways - it fails on missing openvswitch.\n\nChange-Id: Ibbf683872337402b4e2a38323bb6a3f35ee4bed4\n'}, {'number': 2, 'created': '2021-02-18 14:19:14.000000000', 'files': ['ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/469b9536709ae5e2c03ef30465987c1c6f646b7a', 'message': 'ovn: Fix disabling of gateway chassis\n\nIt currently runs on hosts in ovn group, and in case that controllers are not\nnetwork gateways - it fails on missing openvswitch.\n\nChange-Id: Ibbf683872337402b4e2a38323bb6a3f35ee4bed4\n(cherry picked from commit ec04972b728b0b78717c9d18988eda06b61ebe77)\n'}]",0,776437,469b9536709ae5e2c03ef30465987c1c6f646b7a,12,4,2,22629,,,0,"ovn: Fix disabling of gateway chassis

It currently runs on hosts in ovn group, and in case that controllers are not
network gateways - it fails on missing openvswitch.

Change-Id: Ibbf683872337402b4e2a38323bb6a3f35ee4bed4
(cherry picked from commit ec04972b728b0b78717c9d18988eda06b61ebe77)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/776437/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/tasks/bootstrap.yml'],1,78443b8574fb177233bf159cdbc55401f0ef9c3b,," when: - inventory_hostname in groups[""openvswitch""] - inventory_hostname not in groups[""ovn-controller-network""]"," when: inventory_hostname not in groups[""ovn-controller-network""]",3,1
openstack%2Fnetworking-generic-switch~stable%2Fvictoria~Id592af2dda0bc73bc0e071530a2a41d164e48b1f,openstack/networking-generic-switch,stable/victoria,Id592af2dda0bc73bc0e071530a2a41d164e48b1f,[DNM] test victoria CI,ABANDONED,2021-02-16 11:20:47.000000000,2021-02-22 11:14:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-16 11:20:47.000000000', 'files': ['zuul.d/networking-generic-switch-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/19cdb8508b24969aa0fa45380f588c42b9477f3b', 'message': '[DNM] test victoria CI\n\nChange-Id: Id592af2dda0bc73bc0e071530a2a41d164e48b1f\n'}]",0,775807,19cdb8508b24969aa0fa45380f588c42b9477f3b,3,1,1,23851,,,0,"[DNM] test victoria CI

Change-Id: Id592af2dda0bc73bc0e071530a2a41d164e48b1f
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/07/775807/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-generic-switch-jobs.yaml'],1,19cdb8508b24969aa0fa45380f588c42b9477f3b,test-ci-victoria,# DNM ,,2,0
openstack%2Fopenstack-tempest-skiplist~master~Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd,openstack/openstack-tempest-skiplist,master,Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd,"Revert ""neutron qos and multiple_port_sec_groups failing""",MERGED,2020-12-21 11:30:50.000000000,2021-02-22 11:13:14.000000000,2021-02-22 11:12:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 11:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8c2ac466e1e9ed1b844caaa9420f950ab20437bc', 'message': 'DNM Revert ""neutron qos and multiple_port_sec_groups failing""\n\nThis reverts commit d4aa0006776bccf0383057f371fed18fbc64709c.\n\nFor now this is only to test if ovn fix really solve the problem.\n\nReason for revert: <INSERT REASONING HERE>\n\nChange-Id: Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd\n'}, {'number': 2, 'created': '2020-12-21 11:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4b26831fe562c7cc37f698bb2258bc9883098906', 'message': 'DNM Revert ""neutron qos and multiple_port_sec_groups failing""\n\nThis reverts commit d4aa0006776bccf0383057f371fed18fbc64709c.\n\nFor now this is only to test if ovn fix really solve the problem.\n\nReason for revert: <INSERT REASONING HERE>\n\nChange-Id: Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd\n'}, {'number': 3, 'created': '2021-02-15 10:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8aa7c7ab883bc9cd6d26aa5e9cd5ee0ea54db951', 'message': 'DNM Revert ""neutron qos and multiple_port_sec_groups failing""\n\nThis reverts commit d4aa0006776bccf0383057f371fed18fbc64709c.\n\nFor now this is only to test if ovn fix really solve the problem.\n\nReason for revert: New OVN is available so those tests should be\nfine now.\n\nChange-Id: Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd\n'}, {'number': 4, 'created': '2021-02-17 08:24:55.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/823453f46527bf3f593792c6866f99c33229a8b4', 'message': 'Revert ""neutron qos and multiple_port_sec_groups failing""\n\nThis reverts commit d4aa0006776bccf0383057f371fed18fbc64709c.\n\nReason for revert: New OVN is available so those tests should be\nfine now.\n\nChange-Id: Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd\n'}]",0,768059,823453f46527bf3f593792c6866f99c33229a8b4,20,5,4,11975,,,0,"Revert ""neutron qos and multiple_port_sec_groups failing""

This reverts commit d4aa0006776bccf0383057f371fed18fbc64709c.

Reason for revert: New OVN is available so those tests should be
fine now.

Change-Id: Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/59/768059/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,8c2ac466e1e9ed1b844caaa9420f950ab20437bc,Id0bfd4a0dfa57d8c4412cac1be0f4eb9dcc138bd,, - test: 'neutron_tempest_plugin.scenario.test_qos.QoSTest.test_attach_previously_used_port_to_new_instance' deployment: - 'overcloud' releases: - name: 'master' reason: 'tempest.lib.exceptions.SSHTimeout: Connection to the server via SSH timed out.' lp: https://bugs.launchpad.net/tripleo/+bug/1906769 - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_secgroup_inheritance' deployment: - 'overcloud' releases: - name: 'master' reason: 'tempest.lib.exceptions.SSHTimeout: Connection to the server via SSH timed out.' lp: https://bugs.launchpad.net/tripleo/+bug/1906769,0,14
openstack%2Fneutron~master~I6ab945086b13730ad60957760bbc2eb5c321aca2,openstack/neutron,master,I6ab945086b13730ad60957760bbc2eb5c321aca2,Add minimum bw qos rule validation for network,MERGED,2021-02-15 13:01:59.000000000,2021-02-22 11:11:25.000000000,2021-02-22 11:08:42.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 13:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26d1183a88aade43f5130f14f776e1a03ad0bc16', 'message': 'Add mbw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 2, 'created': '2021-02-15 13:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ac333214023542de530aa77b1adf45b466c012d', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 3, 'created': '2021-02-16 08:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a2fc775dd459163f5ccc9a2b3e6de311c1f1f9a', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 4, 'created': '2021-02-16 09:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8e01047c610ce381830da1732559ef2db05f410', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 5, 'created': '2021-02-16 12:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de1a0c3732b97c22ccaa81cd63f4ce0b208f0489', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 6, 'created': '2021-02-16 13:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43a5ebedfb76f87877d40dbe8a211dcf6a5c530b', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 7, 'created': '2021-02-17 07:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22ff43c8047e25fa83b93b89dfe70ed5db53b603', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 8, 'created': '2021-02-17 08:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3e965d44836f4429afce973c6cfcc1d922c3dce', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 9, 'created': '2021-02-18 14:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcdbfb103b4f913080848cad4013509f1f15de0d', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}, {'number': 10, 'created': '2021-02-19 08:29:38.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/26f3de0f781b8cc48c4294d0cb36596c26777f70', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n'}]",9,775617,26f3de0f781b8cc48c4294d0cb36596c26777f70,55,5,10,32667,,,0,"Add minimum bw qos rule validation for network

Minimum bandwidth QoS rule is only applicable for the network which is
backed by physical networks.
It will raise exception when you want to set Minimum bandwidth QoS rule
or update rule on network without ports.

Closes-Bug: #1913180
Change-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/775617/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",6,26d1183a88aade43f5130f14f776e1a03ad0bc16,bug/1913180," def _test_validate_create_network_callback(self, network_qos=False): net_qos_obj = self._make_qos_policy() net_qos_id = net_qos_obj.id if network_qos else None network = self._make_network(qos_policy_id=net_qos_id) kwargs = {""context"": self.context, ""network_id"": self.network_id} with mock.patch.object(self.qos_plugin, 'validate_policy_for_network') \ as mock_validate_policy: self.qos_plugin._validate_create_network_callback( 'NETWORK', 'precommit_create', 'test_plugin', **kwargs) qos_policy = None if network_qos: qos_policy = net_qos_obj if qos_policy: mock_validate_policy.assert_called_once_with( self.context, qos_policy, network) else: mock_validate_policy.assert_not_called() def test_validate_create_network_callback(self): self._test_validate_create_network_callback(network_qos=True) def test_validate_create_network_callback_no_qos(self): self._test_validate_create_network_callback(network_qos=False) self.qos_plugin, ""validate_policy_for_networks"" ) as validate_policy_for_networks, mock.patch.object( validate_policy_for_networks.assert_not_called() def test_validate_policy_for_network(self): network = uuidutils.generate_uuid() with mock.patch.object( self.qos_plugin.driver_manager, ""validate_rule_for_network"", return_value=True ): self.policy.rules = [self.rule] try: self.qos_plugin.validate_policy_for_network( self.ctxt, self.policy, network_id=network) except qos_exc.QosRuleNotSupportedByNetwork: self.fail(""QosRuleNotSupportedByNetwork exception unexpectedly raised"") ",,110,1
openstack%2Fnetworking-generic-switch~stable%2Fussuri~If6676cd03e176fb455d7438c72bd57d3e7bd330a,openstack/networking-generic-switch,stable/ussuri,If6676cd03e176fb455d7438c72bd57d3e7bd330a,[DNM] test ussuri CI,ABANDONED,2021-02-16 11:21:34.000000000,2021-02-22 11:06:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-16 11:21:34.000000000', 'files': ['zuul.d/networking-generic-switch-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/6f22ed4570be813f6895333eea11b9b8f5848387', 'message': '[DNM] test ussuri CI\n\nChange-Id: If6676cd03e176fb455d7438c72bd57d3e7bd330a\n'}]",0,775808,6f22ed4570be813f6895333eea11b9b8f5848387,3,1,1,23851,,,0,"[DNM] test ussuri CI

Change-Id: If6676cd03e176fb455d7438c72bd57d3e7bd330a
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/08/775808/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-generic-switch-jobs.yaml'],1,6f22ed4570be813f6895333eea11b9b8f5848387,test-ci-ussuri,# DNM ,,2,0
openstack%2Fcinderlib~master~I63d24be7e2fa16d21503f25de55e58381f78619e,openstack/cinderlib,master,I63d24be7e2fa16d21503f25de55e58381f78619e,Changed minversion in tox to 3.18.0,ABANDONED,2021-02-22 10:49:13.000000000,2021-02-22 11:03:29.000000000,,[],"[{'number': 1, 'created': '2021-02-22 10:49:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/940e05705d46be58a1d039eb8ae10bd95b604e69', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: I945f20d99bc4449fed5d6510d823b1375b2af22f\n\nChange-Id: I63d24be7e2fa16d21503f25de55e58381f78619e\n'}]",0,776917,940e05705d46be58a1d039eb8ae10bd95b604e69,2,0,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0:
https: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23
Change-Id: I945f20d99bc4449fed5d6510d823b1375b2af22f

Change-Id: I63d24be7e2fa16d21503f25de55e58381f78619e
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/17/776917/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,940e05705d46be58a1d039eb8ae10bd95b604e69,,minversion = 3.18.0,minversion = 3.1,1,1
openstack%2Fkolla-ansible~master~If42b7324b58851a4f0beb3a80c70ca2c9dd729af,openstack/kolla-ansible,master,If42b7324b58851a4f0beb3a80c70ca2c9dd729af,CI: Initial jinja2 templates syntax checks,MERGED,2020-05-18 13:40:01.000000000,2021-02-22 10:59:38.000000000,2021-02-22 10:57:30.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 27336}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-05-18 13:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f705276e64d8f60b36eec192a104c40277a47e3b', 'message': 'WIP: Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}, {'number': 2, 'created': '2020-05-25 12:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df2e9a8570a5617753f67c803eec893ecc4e1cff', 'message': 'Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}, {'number': 3, 'created': '2020-05-26 08:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8d42a9ca1659925d722da1b70fe6b6559052e65', 'message': 'Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}, {'number': 4, 'created': '2020-05-26 16:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da9b08f2619c50777b618676abf10142ee0b7a6d', 'message': 'CI: Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}, {'number': 5, 'created': '2020-11-05 16:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d66cb3e399fdd22bdbc0503e811ad77d0afde2c7', 'message': 'CI: Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}, {'number': 6, 'created': '2020-11-05 16:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8386722e2096d02047ca0174b7ef3a2f9a09913c', 'message': 'CI: Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}, {'number': 7, 'created': '2021-02-19 16:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e6e3959e11f7871be675dffe3dff95ca406563f', 'message': 'CI: Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}, {'number': 8, 'created': '2021-02-20 08:38:00.000000000', 'files': ['tox.ini', 'tests/j2lint.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a00fec8cc6c8119439af745db6f50b6c20f125f2', 'message': 'CI: Initial jinja2 templates syntax checks\n\nChange-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af\n'}]",21,728894,a00fec8cc6c8119439af745db6f50b6c20f125f2,42,9,8,22629,,,0,"CI: Initial jinja2 templates syntax checks

Change-Id: If42b7324b58851a4f0beb3a80c70ca2c9dd729af
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/728894/3 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tests/j2lint.py']",2,f705276e64d8f60b36eec192a104c40277a47e3b,,"#!/usr/bin/env python3 """""" @author Gerard van Helden <drm@melp.nl> @license DBAD, see <http://www.dbad-license.org/> @url https://github.com/drm/jinja2-lint Simple j2 linter, useful for checking jinja2 template syntax Adapted for OpenStack Kolla/Kolla-Ansible purposes """""" import os.path from kolla_ansible import kolla_address, put_address_in_context from functools import reduce from jinja2 import BaseLoader, TemplateNotFound, Environment, exceptions class AbsolutePathLoader(BaseLoader): def get_source(self, environment, template): if not os.path.exists(template): raise TemplateNotFound(template) mtime = os.path.getmtime(template) with open(template) as file: source = file.read() return source, template, lambda: mtime == os.path.getmtime(template) def check(template, out, err, env=Environment(loader=AbsolutePathLoader())): try: env.filters['basename'] = os.path.basename env.filters['bool'] = bool env.filters['hash'] = hash env.filters['kolla_address'] = kolla_address env.filters['put_address_in_context'] = put_address_in_context env.get_template(template) out.write(""%s: Syntax OK\n"" % template) return 0 except TemplateNotFound: err.write(""%s: File not found\n"" % template) return 2 except exceptions.TemplateSyntaxError as ex: err.write(""%s: Syntax check failed: %s in %s at %d\n"" % (template, ex.message, ex.filename, ex.lineno)) return 1 def main(**kwargs): import sys try: sys.exit(reduce(lambda r, fn: r + check(fn, sys.stdout, sys.stderr, **kwargs), sys.argv[1:], 0)) except IndexError: sys.stdout.write(""Usage: j2lint.py filename [filename ...]\n"") if __name__ == ""__main__"": main() ",,58,0
openstack%2Fos-brick~master~If29e64f197ad8955ca58ba905ffec17d7d2b1a55,openstack/os-brick,master,If29e64f197ad8955ca58ba905ffec17d7d2b1a55,Changed minversion in tox to 3.18.0,ABANDONED,2021-02-22 10:50:04.000000000,2021-02-22 10:59:25.000000000,,[],"[{'number': 1, 'created': '2021-02-22 10:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/97d0a11e3d967a1f826001cf2a6762ed3c089948', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n\nChange-Id: If29e64f197ad8955ca58ba905ffec17d7d2b1a55\n'}, {'number': 2, 'created': '2021-02-22 10:51:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/15f4937685aed09963cb67f731b8d254f296b3f5', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a\n\nChange-Id: If29e64f197ad8955ca58ba905ffec17d7d2b1a55\n'}]",0,776918,15f4937685aed09963cb67f731b8d254f296b3f5,3,0,2,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23
Change-Id: Ic7c30f00f6bd4fb5d49df9edc23873ce46e40a3a

Change-Id: If29e64f197ad8955ca58ba905ffec17d7d2b1a55
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/18/776918/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97d0a11e3d967a1f826001cf2a6762ed3c089948,,minversion = 3.18.0,minversion = 3.1.0,1,1
openstack%2Fneutron~master~I300805ff795bc8575da5eadffc0ef904e99f33ff,openstack/neutron,master,I300805ff795bc8575da5eadffc0ef904e99f33ff,[OVN] Fix RowNotFound: Cannot find Logical_Router,ABANDONED,2021-02-15 11:41:56.000000000,2021-02-22 10:51:19.000000000,,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-15 11:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db86089c794891d09a046a2761989c756ba49184', 'message': ""[OVN] Fix RowNotFound: Cannot find Logical_Router\n\nThe may_exist parameter of the create_lrouter() comment defaults to\nTrue. This parameter should check if a logical router already exists and\nnot attempt to create it again in OVN.\n\nBut, while checking if the router already exists, the AddLRouterCommand\ncommand for OVSDB uses a method called row_by_value() which will raise\nRowNotFound if the entry is not in the OVN database. This error wasn't\nbeing hanlded by the AddLRouterCommand code and the exception bubbled up.\n\nThis patch fixes the problem by adding an error handler around the\nrow_by_value() call, just like all other calls from that method in the\nsame file.\n\nChange-Id: I300805ff795bc8575da5eadffc0ef904e99f33ff\nCloses-Bug: #1911132\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2021-02-15 15:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9292f892f5d553f08021b4d17a0ab6bf9b450b8d', 'message': ""[OVN] Fix RowNotFound: Cannot find Logical_Router\n\nThe may_exist parameter of the create_lrouter() comment defaults to\nTrue. This parameter should check if a logical router already exists and\nnot attempt to create it again in OVN.\n\nBut, while checking if the router already exists, the AddLRouterCommand\ncommand for OVSDB uses a method called row_by_value() which will raise\nRowNotFound if the entry is not in the OVN database. This error wasn't\nbeing hanlded by the AddLRouterCommand code and the exception bubbled up.\n\nThis patch fixes the problem by adding an error handler around the\nrow_by_value() call, just like all other calls from that method in the\nsame file.\n\nChange-Id: I300805ff795bc8575da5eadffc0ef904e99f33ff\nCloses-Bug: #1911132\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 3, 'created': '2021-02-16 07:48:20.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/abca2bae19f8794bb643519518342b7acfbaec5e', 'message': ""[OVN] Fix RowNotFound: Cannot find Logical_Router\n\nThe may_exist parameter of the create_lrouter() comment defaults to\nTrue. This parameter should check if a logical router already exists and\nnot attempt to create it again in OVN.\n\nBut, while checking if the router already exists, the AddLRouterCommand\ncommand for OVSDB uses a method called row_by_value() which will raise\nRowNotFound if the entry is not in the OVN database. This error wasn't\nbeing hanlded by the AddLRouterCommand code and the exception bubbled up.\n\nThis patch fixes the problem by adding an error handler around the\nrow_by_value() call, just like all other calls from that method in the\nsame file.\n\nChange-Id: I300805ff795bc8575da5eadffc0ef904e99f33ff\nCloses-Bug: #1911132\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",5,775603,abca2bae19f8794bb643519518342b7acfbaec5e,29,6,3,6773,,,0,"[OVN] Fix RowNotFound: Cannot find Logical_Router

The may_exist parameter of the create_lrouter() comment defaults to
True. This parameter should check if a logical router already exists and
not attempt to create it again in OVN.

But, while checking if the router already exists, the AddLRouterCommand
command for OVSDB uses a method called row_by_value() which will raise
RowNotFound if the entry is not in the OVN database. This error wasn't
being hanlded by the AddLRouterCommand code and the exception bubbled up.

This patch fixes the problem by adding an error handler around the
row_by_value() call, just like all other calls from that method in the
same file.

Change-Id: I300805ff795bc8575da5eadffc0ef904e99f33ff
Closes-Bug: #1911132
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/775603/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",2,db86089c794891d09a046a2761989c756ba49184,bug/1911132-router-notfound," try: lrouter = idlutils.row_by_value(self.api.idl, 'Logical_Router', 'name', self.name, None) if lrouter: return except idlutils.RowNotFound: pass"," lrouter = idlutils.row_by_value(self.api.idl, 'Logical_Router', 'name', self.name, None) if lrouter: return",13,5
openstack%2Fcharm-octavia~master~I7b1afce40b0c2c39f36fbbc23af1760f07d93a94,openstack/charm-octavia,master,I7b1afce40b0c2c39f36fbbc23af1760f07d93a94,Remove Disco and Eoan bits,MERGED,2021-01-12 13:02:08.000000000,2021-02-22 10:25:29.000000000,2021-02-22 10:25:29.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-12 13:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9b498a689786c6af91dca08aa6e3ffbf59407213', 'message': 'Remove Disco and Eoan bits\n\nChange-Id: I7b1afce40b0c2c39f36fbbc23af1760f07d93a94\n'}, {'number': 2, 'created': '2021-02-18 12:59:43.000000000', 'files': ['src/tests/bundles/overlays/disco-stein-ha.yaml.j2', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3ebc9bf6ba1a199b32a5fb869cede329af30a011', 'message': 'Remove Disco and Eoan bits\n\nChange-Id: I7b1afce40b0c2c39f36fbbc23af1760f07d93a94\n'}]",0,770330,3ebc9bf6ba1a199b32a5fb869cede329af30a011,17,4,2,31289,,,0,"Remove Disco and Eoan bits

Change-Id: I7b1afce40b0c2c39f36fbbc23af1760f07d93a94
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/30/770330/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/disco-stein-ha.yaml.j2', 'src/metadata.yaml']",2,9b498a689786c6af91dca08aa6e3ffbf59407213,rm-disco-eoan,,- eoan,0,2
openstack%2Foslo.rootwrap~master~Ia072175497e0e61a9ce2127e1542b37e40f781ec,openstack/oslo.rootwrap,master,Ia072175497e0e61a9ce2127e1542b37e40f781ec,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 07:52:51.000000000,2021-02-22 10:25:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-24 07:52:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/12604c32bd7867acc76f2b7ef80bbbbcc50277ee', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ia072175497e0e61a9ce2127e1542b37e40f781ec\n'}]",0,768447,12604c32bd7867acc76f2b7ef80bbbbcc50277ee,3,1,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ia072175497e0e61a9ce2127e1542b37e40f781ec
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/47/768447/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,12604c32bd7867acc76f2b7ef80bbbbcc50277ee,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
