id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpython-openstackclient~stable%2Fpike~I33c6fc7897dfee85d1c197a1267bde4abfa5bbd9,openstack/python-openstackclient,stable/pike,I33c6fc7897dfee85d1c197a1267bde4abfa5bbd9,Fix 'project purge' deletes ALL images problem,MERGED,2017-11-02 16:38:04.000000000,2017-11-07 07:38:13.000000000,2017-11-07 07:38:13.000000000,"[{'_account_id': 170}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 22299}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 16:38:04.000000000', 'files': ['openstackclient/tests/unit/image/v2/fakes.py', 'releasenotes/notes/bug-1717130-029211b60f74b4c4.yaml', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/common/test_project_purge.py', 'openstackclient/common/project_purge.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b9c5094ede503109955eb90fe0007e343f7bb903', 'message': ""Fix 'project purge' deletes ALL images problem\n\nCloses-Bug: #1717130\nChange-Id: I33c6fc7897dfee85d1c197a1267bde4abfa5bbd9\n(cherry picked from commit 254dbf3294c0f1edc4a2a469f556b3c4b3123a00)\n""}]",0,517369,b9c5094ede503109955eb90fe0007e343f7bb903,9,5,1,23913,,,0,"Fix 'project purge' deletes ALL images problem

Closes-Bug: #1717130
Change-Id: I33c6fc7897dfee85d1c197a1267bde4abfa5bbd9
(cherry picked from commit 254dbf3294c0f1edc4a2a469f556b3c4b3123a00)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/69/517369/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/fakes.py', 'releasenotes/notes/bug-1717130-029211b60f74b4c4.yaml', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/common/test_project_purge.py', 'openstackclient/common/project_purge.py']",5,b9c5094ede503109955eb90fe0007e343f7bb903,bug/1717130-stable/pike, api_version = int(image_client.version) if api_version == 1: data = image_client.images.list(owner=project_id) elif api_version == 2: kwargs = {'filters': {'owner': project_id}} data = image_client.images.list(**kwargs) else: raise NotImplementedError, data = image_client.images.list(owner=project_id),28,13
openstack%2Fhorizon~master~Iacb904596413232a22c72832f69dc20eca69b6f6,openstack/horizon,master,Iacb904596413232a22c72832f69dc20eca69b6f6,Doc: Delete pyc in a structure of dashboard.rst file,MERGED,2017-11-07 02:48:00.000000000,2017-11-07 07:35:42.000000000,2017-11-07 07:35:42.000000000,"[{'_account_id': 841}, {'_account_id': 5623}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 11885}, {'_account_id': 12826}, {'_account_id': 17172}, {'_account_id': 19554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-07 02:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/80412e1fd349944a9142aca7d02f9782306019ce', 'message': 'Delete pyc in a structure\n\nChange-Id: Iacb904596413232a22c72832f69dc20eca69b6f6\n'}, {'number': 2, 'created': '2017-11-07 03:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/41a2aad910cd2e846b7f9f11cd428d08c26439db', 'message': 'Doc: Delete pyc in a structure of dashboard.rst file\n\nChange-Id: Iacb904596413232a22c72832f69dc20eca69b6f6\n'}, {'number': 3, 'created': '2017-11-07 07:03:25.000000000', 'files': ['doc/source/contributor/tutorials/dashboard.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/340d4ff981a1e6f6f7173e7e98b65043bb9a5457', 'message': 'Doc: Delete pyc in a structure of dashboard.rst file\n\ndashboard.pyc and __init__.pyc are redundant, it is\nnot useful and should be removed.\n\nChange-Id: Iacb904596413232a22c72832f69dc20eca69b6f6\n'}]",5,518205,340d4ff981a1e6f6f7173e7e98b65043bb9a5457,13,9,3,19554,,,0,"Doc: Delete pyc in a structure of dashboard.rst file

dashboard.pyc and __init__.pyc are redundant, it is
not useful and should be removed.

Change-Id: Iacb904596413232a22c72832f69dc20eca69b6f6
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/518205/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/tutorials/dashboard.rst'],1,80412e1fd349944a9142aca7d02f9782306019ce,delete_pyc,, ├── dashboard.pyc ├── __init__.pyc,0,2
openstack%2Fhorizon~master~I9b68f82c5453ac5b9c6d4dd2aec813795486b54e,openstack/horizon,master,I9b68f82c5453ac5b9c6d4dd2aec813795486b54e,Imported Translations from Zanata,MERGED,2017-11-03 06:42:47.000000000,2017-11-07 07:35:41.000000000,2017-11-07 07:35:41.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 06:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5aaf7a2e7bb58ccd6a5670c8b3c48e332dc5a2f0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b68f82c5453ac5b9c6d4dd2aec813795486b54e\n'}, {'number': 2, 'created': '2017-11-04 06:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/055df746e92fd72d7efd6919235fa88c0f118abd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b68f82c5453ac5b9c6d4dd2aec813795486b54e\n'}, {'number': 3, 'created': '2017-11-05 06:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e5f8f0dcb0c97623cc5768ae6b78796a365284bc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b68f82c5453ac5b9c6d4dd2aec813795486b54e\n'}, {'number': 4, 'created': '2017-11-06 06:37:46.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/415a4f85a2839237db3c30933ebc74d643f3c2b9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9b68f82c5453ac5b9c6d4dd2aec813795486b54e\n'}]",0,517554,415a4f85a2839237db3c30933ebc74d643f3c2b9,14,3,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9b68f82c5453ac5b9c6d4dd2aec813795486b54e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/517554/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",5,5aaf7a2e7bb58ccd6a5670c8b3c48e332dc5a2f0,zanata/translations,"""POT-Creation-Date: 2017-11-02 07:31+0000\n""""PO-Revision-Date: 2017-11-02 02:06+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid ""13.0.0.0b1"" msgstr ""13.0.0.0b1"" msgid ""13.0.0.0b1-33"" msgstr ""13.0.0.0b1-33"" ","""POT-Creation-Date: 2017-10-31 11:43+0000\n""""PO-Revision-Date: 2017-10-12 01:51+0000\n"" ""Last-Translator: Adriano Perri <adriano.perri@telekom.de>\n""",86,15
openstack%2Freno~master~I38bd51792cff3fcec0f67b83bee8b1536c04fe3f,openstack/reno,master,I38bd51792cff3fcec0f67b83bee8b1536c04fe3f,fix release note markup,MERGED,2017-11-07 07:00:53.000000000,2017-11-07 07:24:53.000000000,2017-11-07 07:24:53.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-07 07:00:53.000000000', 'files': ['releasenotes/notes/Enable-using-tempalte-file-be734d8698309409.yaml'], 'web_link': 'https://opendev.org/openstack/reno/commit/247f3afddfe5169b28154d1e86fb4e06c5d8b834', 'message': 'fix release note markup\n\nChange-Id: I38bd51792cff3fcec0f67b83bee8b1536c04fe3f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,518256,247f3afddfe5169b28154d1e86fb4e06c5d8b834,6,2,1,2472,,,0,"fix release note markup

Change-Id: I38bd51792cff3fcec0f67b83bee8b1536c04fe3f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/reno refs/changes/56/518256/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/Enable-using-tempalte-file-be734d8698309409.yaml'],1,247f3afddfe5169b28154d1e86fb4e06c5d8b834,template-file, The ``--from-template`` flag was added to the release note creation command., The --from-template flag was added to the release note creation command.,1,1
openstack%2Fpython-openstackclient~master~Ic49efddfb003c89ece6d782905b27fb46402b3ab,openstack/python-openstackclient,master,Ic49efddfb003c89ece6d782905b27fb46402b3ab,Add python-rsdclient into plugin list,MERGED,2017-10-13 02:44:21.000000000,2017-11-07 07:22:24.000000000,2017-11-07 07:22:24.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 970}, {'_account_id': 12597}, {'_account_id': 17275}, {'_account_id': 22348}, {'_account_id': 26311}]","[{'number': 1, 'created': '2017-10-13 02:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1a5de69838daacfe44bec7feda4d5076f0775850', 'message': 'Add python-rsdclient into plugin list\n\nIntel RSD is new architecture that disaggregates compute, storage,\nand network resources, and provide the ability to dynamically compose\nresources based on workload-specific demands. The python-rsdclient\nproject provide specific RSD plugin to allow user to invoke RSD API\nthrough OpenStackClient. So Added it into existing plugin list.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: Ic49efddfb003c89ece6d782905b27fb46402b3ab\n'}, {'number': 2, 'created': '2017-10-13 03:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/00696cad20f49f939b238779df420cd5933bafef', 'message': 'Add python-rsdclient into plugin list\n\nIntel RSD is new architecture that disaggregates compute, storage,\nand network resources, and provide the ability to dynamically compose\nresources based on workload-specific demands [1]. The python-rsdclient\nproject provide specific RSD plugin to allow user to invoke RSD API\nthrough OpenStackClient. So Added it into existing plugin list.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: Ic49efddfb003c89ece6d782905b27fb46402b3ab\n'}, {'number': 3, 'created': '2017-10-27 23:00:29.000000000', 'files': ['doc/source/contributor/plugins.rst', 'test-requirements.txt', 'doc/source/cli/plugin-commands.rst', 'doc/source/cli/commands.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5b034ef65325aaf1d783bb6dfd36158e181d8448', 'message': 'Add python-rsdclient into plugin list\n\nIntel RSD is new architecture that disaggregates compute, storage,\nand network resources, and provide the ability to dynamically compose\nresources based on workload-specific demands [1]. The python-rsdclient\nproject provide specific RSD plugin to allow user to invoke RSD API\nthrough OpenStackClient. So Added it into existing plugin list.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: Ic49efddfb003c89ece6d782905b27fb46402b3ab\n'}]",0,511683,5b034ef65325aaf1d783bb6dfd36158e181d8448,22,7,3,12597,,,0,"Add python-rsdclient into plugin list

Intel RSD is new architecture that disaggregates compute, storage,
and network resources, and provide the ability to dynamically compose
resources based on workload-specific demands [1]. The python-rsdclient
project provide specific RSD plugin to allow user to invoke RSD API
through OpenStackClient. So Added it into existing plugin list.

[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html

Change-Id: Ic49efddfb003c89ece6d782905b27fb46402b3ab
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/83/511683/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/plugins.rst', 'test-requirements.txt', 'doc/source/cli/plugin-commands.rst', 'doc/source/cli/commands.rst']",4,1a5de69838daacfe44bec7feda4d5076f0775850,,* ``rsd``: (**Disaggregated Hardware Resource Management (RSD)**),,9,0
openstack%2Fsecurity-doc~master~I342933dcb90bf8398befa32281ac62200c800722,openstack/security-doc,master,I342933dcb90bf8398befa32281ac62200c800722,Imported Translations from Zanata,MERGED,2017-11-07 07:00:12.000000000,2017-11-07 07:20:00.000000000,2017-11-07 07:20:00.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-07 07:00:12.000000000', 'files': ['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f89a525265dc1f1106807bb62d939709a053596f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I342933dcb90bf8398befa32281ac62200c800722\n'}]",0,518254,f89a525265dc1f1106807bb62d939709a053596f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I342933dcb90bf8398befa32281ac62200c800722
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/54/518254/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po']",4,f89a525265dc1f1106807bb62d939709a053596f,zanata/translations,"""POT-Creation-Date: 2017-11-06 11:25+0000\n""""PO-Revision-Date: 2017-11-06 02:23+0000\n""""A hybrid cloud is defined by NIST as a composition of two or more distinct "" ""cloud infrastructures, such as private, community, or public, that remain "" ""unique entities, but are bound together by standardized or proprietary "" ""technology that enables data and application portability, such as cloud "" ""bursting for load balancing between clouds. For example, an online retailer "" ""might present their advertising and catalogue on a public cloud that allows "" ""for elastic provisioning. This would enable them to handle seasonal loads in "" ""a flexible, cost-effective fashion. Once a customer begins to process their "" ""order, they are transferred to a more secure private cloud that is PCI "" ""compliant."" msgstr """" ""Eine Hybrid-Cloud wird von NIST als Komposition von zwei oder mehr "" ""verschiedenen Cloud-Infrastrukturen definiert, wie z.B. Private, Community "" ""oder Public, die eindeutige Entitäten bleiben, aber durch eine "" ""standardisierte oder proprietäre Technologie miteinander verbunden sind, die "" ""Daten- und Anwendungsportabilität ermöglicht Cloud Bursting für "" ""Lastausgleich zwischen Clouds. Zum Beispiel kann ein Online-Händler seine "" ""Werbung und Katalog auf einer öffentlichen Cloud präsentieren, die eine "" ""elastische Bereitstellung ermöglicht. Dies würde es ihm ermöglichen, "" ""saisonale Lasten in einer flexiblen, kostengünstigen Weise zu behandeln. "" ""Sobald ein Kunde beginnt, seine Bestellung zu verarbeiten, werden sie auf "" ""das sicherere private Cloud-Backend übertragen, das PCI-konform ist."" msgid """"msgid ""A table example is provided below:"" msgstr ""In Folgenden finden Sie ein Beispieltabelle:"" ""According to NIST, a public cloud is one in which the infrastructure is open "" ""to the general public for consumption. OpenStack public clouds are typically "" ""run by a :term:`service provider` and can be consumed by individuals, "" ""corporations, or any paying customer. A public-cloud provider might expose a "" ""full set of features such as software-defined networking or block storage, "" ""in addition to multiple instance types."" msgstr """" ""Nach NIST ist eine public Cloud eine, in der die Infrastruktur für die "" ""Öffentlichkeit für den Konsum offen ist. OpenStack Public Clouds werden in "" ""der Regel von einem :term:`service provider` betrieben und können von "" ""Einzelpersonen, Unternehmen oder einem zahlenden Kunden verbraucht werden. "" ""Ein öffentlicher Cloud-Provider kann neben mehreren Instanztypen einen "" ""vollständigen Satz von Features wie Software-definierten Netzwerken, "" ""Blockspeicher, anbieten."" msgid """"msgid """" ""Compute security is critical for an OpenStack deployment. Hardening "" ""techniques should include support for strong instance isolation, secure "" ""communication between Compute sub-components, and resiliency of public-"" ""facing API endpoints."" msgstr """" ""Die Sicherheit von Compute ist für eine OpenStack-Implementierung "" ""entscheidend. Härtungstechniken sollten Unterstützung für eine starke "" ""Instanzisolation, eine sichere Kommunikation zwischen Compute-Subkomponenten "" ""und eine Resilienz von öffentlich zugänglichen API-Endpunkten beinhalten."" ""In this document, we treat community and hybrid similarly, dealing "" ""explicitly only with the extremes of public and private clouds from a "" ""security perspective. Your security measures depend where your deployment "" ""falls upon the private public continuum."" msgstr """" ""Für die Zwecke dieses Dokuments behandeln wir Community und Hybrid in "" ""ähnlicher Weise und handeln explizit nur mit den Extremen der öffentlichen "" ""und privaten Cloudn aus einer Perspektive der Sicherheit. Ihre "" ""Sicherheitsmaßnahmen hängen davon ab, wo Ihr Einsatz auf das private "" ""öffentliche Kontinuum fällt."" msgid """"""It is important to understand that object storage differs from traditional "" ""file system storage. Object storage is best used for static data such as "" ""media files (MP3s, images, or videos), virtual machine images, and backup "" ""files."" msgstr """" ""Es ist wichtig zu verstehen, dass die Objektspeicherung vom traditionellen "" ""Dateisystemspeicher abweicht. Es wird am besten für statische Daten wie "" ""Mediendateien (MP3s, Bilder, Videos), virtuelle Maschinenabbilder und Backup-"" ""Dateien verwendet."" msgid """"msgid """" ""Object security should focus on access control and encryption of data in "" ""transit and at rest. Other concerns might relate to system abuse, illegal or "" ""malicious content storage, and cross-authentication attack vectors."" msgstr """" ""Objektsicherheit sollte sich auf die Zugriffskontrolle und die "" ""Verschlüsselung von Daten im Transit und in Ruhe konzentrieren. Andere "" ""Bedenken können sich auf Systemmissbrauch, illegale oder böswillige Inhalte "" ""speichern und Cross-Authentifizierungs-Angriffsvektoren kreuzen."" msgid """" ""OpenStack :term:`Compute service (nova)` provides services to support the "" ""management of virtual machine instances at scale, instances that host multi-"" ""tiered applications, dev or test environments, \""Big Data\"" crunching Hadoop "" ""clusters, or high-performance computing."" msgstr """" ""OpenStack :term:`Compute service (nova)` bietet Dienste zur Unterstützung "" ""der Verwaltung von virtuellen Maschineninstanzen im Wachstum, Instanzen, die "" ""mehrstufige Anwendungen, dev/Testumgebungen, \""Big Data\"" fressende Hadoop-"" ""Cluster und/oder high performance computing."" ""OpenStack Networking allows cloud tenants to manage their guest network "" ""configurations. Security concerns with the networking service include "" ""network traffic isolation, availability, integrity, and confidentiality."" msgstr """" ""OpenStack Networking ermöglicht es Cloud-Tenants, ihre Gast-Netzwerk-"" ""Konfigurationen zu verwalten. Um die Sicherheit kümmert sich der Netzwerk-"" ""Service incl. Netzwerkverkehr Isolation, Verfügbarkeit, Integrität und "" ""Vertraulichkeit."" msgid """"""throughout this guide. Security Notes are archived at https://wiki.openstack."" ""org/wiki/OSSN""""Sicherheitsnotizen werden unter https://wiki.openstack.org/wiki/OSSN/ "" ""archiviert.""""OpenStack is a key enabler in the adoption of cloud technology and has "" ""several common deployment use cases. These are commonly known as Public, "" ""Private, and Hybrid models. The following sections use the National "" ""Institute of Standards and Technology (NIST) `definition of cloud <http://"" ""nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-145.pdf>`__ to "" ""introduce these different types of cloud as they apply to OpenStack."" msgstr """" ""OpenStack ist ein wichtiger Enabler bei der Einführung von Cloud-Technologie "" ""und hat mehrere verbreitete Anwendungsfälle. Diese sind allgemein bekannt "" ""als Public, Private und Hybrid Modelle. Die folgenden Abschnitte verwenden "" ""das Nationale Institut für Normen und Technologie (NIST) ` Definition von "" ""Cloud <http://nvlpubs.nist.gov/nistpubs/Legacy/SP/"" ""nistspecialpublication800-145.pdf>`__, um diese verschiedenen Arten von "" ""Cloud vorzustellen, wie sie für OpenStack gelten."" msgid """"msgid """" ""Run the cloud related services such as the OpenStack Identity service, the "" ""message queuing service, storage, networking, and other services required to "" ""support the operation of the cloud."" msgstr """" ""Die Knoten, die die Cloud-bezogenen Dienste wie den OpenStack Identity-"" ""Dienst, den Nachrichtenwarteschlangendienst, Speicher, Netzwerk und andere "" ""Dienste ausführen, die erforderlich sind, um den Betrieb der Cloud zu "" ""unterstützen."" ""The :term:`Shared File Systems service (manila)` provides a set of services "" ""for managing shared file systems in a multi-tenant cloud environment, "" ""similar to how OpenStack provides for block-based storage management through "" ""the OpenStack Block Storage service project. With the Shared File Systems "" ""service, you can create a remote file system, mount the file system on your "" ""instances, and then read and write data from your instances to and from your "" ""file system."" msgstr """" ""Der :term:` Shared File Systems Service (Manila)` bietet eine Reihe von "" ""Diensten für das Management von gemeinsam genutzten Dateisystemen in einer "" ""Multi-Tenant-Cloud-Umgebung, ähnlich wie OpenStack für das blockbasierte "" ""Storage-Management über das OpenStack Block Storage Service-Projekt sorgt . "" ""Mit dem Dienst Shared File Systems können Sie ein Remote-Dateisystem "" ""erstellen, das Dateisystem auf Ihren Instanzen installieren und dann Daten "" ""von Ihren Instanzen zu und von Ihrem Dateisystem lesen und schreiben kann."" msgid """"""The OpenStack :term:`Dashboard (horizon)` provides a web-based interface for "" ""both cloud administrators and cloud tenants. Using this interface, "" ""administrators and tenants can provision, manage, and monitor cloud "" ""resources. The dashboard is commonly deployed in a public-facing manner with "" ""all the usual security concerns of public web portals."" msgstr """" ""Der OpenStack :term:Dashboard (Horizon) bietet eine webbasierte "" ""Schnittstelle für Cloud-Administratoren und Cloud-Tenants. Durch diese "" ""Schnittstelle können Administratoren und Tenants Cloud-Ressourcen "" ""bereitstellen, verwalten und überwachen. Das Dashboard Horizon wird häufig "" ""in einer öffentlich gemachten Weise mit allen üblichen Sicherheitsrisiko von "" ""öffentlichen Webportalen eingesetzt."" msgid """"""The OpenStack :term:`Networking service <Networking service (neutron)>` "" ""(neutron, previously called quantum) provides various networking services to "" ""cloud users (tenants) such as IP address management, DNS, DHCP, load "" ""balancing, and security groups (network access rules, like firewall "" ""policies). This service provides a framework for software defined networking "" ""(SDN) that allows for pluggable integration with various networking "" ""solutions."" msgstr """" ""Der OpenStack :term:`Networking service <Networking service (neutron)>` "" ""(Neutron, früher Quantum genannt) bietet Cloud-Nutzern (Tenants) "" ""verschiedeneNetzwerkdienste wie IP-Adressverwaltung, DNS, DHCP, Load "" ""Balancing und Sicherheitsgruppen (Netzwerkzugriffsregeln wie Firewall-"" ""Richtlinien).Es bietet einen Rahmen für Software-definierte Vernetzung "" ""(SDN), die eine steckbare Integration mit verschiedenen Netzwerklösungen "" ""ermöglicht."" msgid """" ""The OpenStack :term:`Object Storage service (swift)` provides support for "" ""storing and retrieving arbitrary data in the cloud. The Object Storage "" ""service provides both a native API and an Amazon Web Services S3-compatible "" ""API. The service provides a high degree of resiliency through data "" ""replication and can handle petabytes of data."" msgstr """" ""Der OpenStack :term:`Object Storage service (swift)` bietet Unterstützung "" ""für das Speichern und Abrufen von beliebigen Daten in der Cloud. Der Object "" ""Storage Service bietet sowohl eine native API als auch eine Amazon Web "" ""Services S3 kompatible API. Der Service bietet ein hohes Maß an Resilienz "" ""durch Datenreplikation und kann mit Petabyte Daten verarbeiten."" msgid """"","""POT-Creation-Date: 2017-11-04 08:02+0000\n""""PO-Revision-Date: 2017-11-04 12:45+0000\n""""throughout this guide. Security Notes are archived at https://launchpad.net/"" ""ossn/""""Sicherheitsnotizen werden unter https://launchpad.net/ossn/ archiviert.""",204,47
openstack%2Freno~master~I9f952cdef1323e8dbbf584f208148487e1dd6fef,openstack/reno,master,I9f952cdef1323e8dbbf584f208148487e1dd6fef,Fix --from-template release note formatting,ABANDONED,2017-11-07 07:15:10.000000000,2017-11-07 07:19:27.000000000,,"[{'_account_id': 2472}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-11-07 07:15:10.000000000', 'files': ['releasenotes/notes/Enable-using-tempalte-file-be734d8698309409.yaml'], 'web_link': 'https://opendev.org/openstack/reno/commit/b9d8a8b4719d5a0fa73e0b1cabdb77891022297c', 'message': 'Fix --from-template release note formatting\n\nIt was rendering incorrectly in html.\n\nChange-Id: I9f952cdef1323e8dbbf584f208148487e1dd6fef\n'}]",0,518263,b9d8a8b4719d5a0fa73e0b1cabdb77891022297c,4,2,1,10873,,,0,"Fix --from-template release note formatting

It was rendering incorrectly in html.

Change-Id: I9f952cdef1323e8dbbf584f208148487e1dd6fef
",git fetch https://review.opendev.org/openstack/reno refs/changes/63/518263/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/Enable-using-tempalte-file-be734d8698309409.yaml'],1,b9d8a8b4719d5a0fa73e0b1cabdb77891022297c,formatting-from-template, The ``--from-template`` flag was added to the release note creation command., The --from-template flag was added to the release note creation command.,1,1
openstack%2Freno~master~I11793aaa3232b0f2c44521a998d466f427eecd93,openstack/reno,master,I11793aaa3232b0f2c44521a998d466f427eecd93,Add option to create release note from user-provided template,MERGED,2017-10-13 06:14:49.000000000,2017-11-07 07:13:24.000000000,2017-11-07 07:13:24.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 22816}]","[{'number': 1, 'created': '2017-10-13 06:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/00b504262633b6a3e14c6e81731356743e89c73d', 'message': 'Add option to create release note from user-provided template\n\nThis is useful when automating the release note creation (when\nautomating commit creation).\n\nChange-Id: I11793aaa3232b0f2c44521a998d466f427eecd93\n'}, {'number': 2, 'created': '2017-10-13 06:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/7757f96f8d43b22fa0d5b5b131d6d56195812c38', 'message': 'Add option to create release note from user-provided template\n\nThis is useful when automating the release note creation (when\nautomating commit creation).\n\nChange-Id: I11793aaa3232b0f2c44521a998d466f427eecd93\n'}, {'number': 3, 'created': '2017-10-24 06:12:29.000000000', 'files': ['releasenotes/notes/Enable-using-tempalte-file-be734d8698309409.yaml', 'doc/source/user/usage.rst', 'reno/create.py', 'reno/main.py', 'reno/tests/test_create.py'], 'web_link': 'https://opendev.org/openstack/reno/commit/93a063978e07caacdbc36a500a565599ac022887', 'message': 'Add option to create release note from user-provided template\n\nThis is useful when automating the release note creation (when\nautomating commit creation).\n\nChange-Id: I11793aaa3232b0f2c44521a998d466f427eecd93\n'}]",1,511722,93a063978e07caacdbc36a500a565599ac022887,13,10,3,10873,,,0,"Add option to create release note from user-provided template

This is useful when automating the release note creation (when
automating commit creation).

Change-Id: I11793aaa3232b0f2c44521a998d466f427eecd93
",git fetch https://review.opendev.org/openstack/reno refs/changes/22/511722/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Enable-using-tempalte-file-be734d8698309409.yaml', 'reno/create.py', 'reno/main.py']",3,00b504262633b6a3e14c6e81731356743e89c73d,template-file," '--from-template', help='Template to get the release note from.', ) do_new.add_argument(",,24,0
openstack%2Fproject-config~master~Ifbb6bdd30d79177480524c98b852c7aa82d50a8b,openstack/project-config,master,Ifbb6bdd30d79177480524c98b852c7aa82d50a8b,Normalize projects.yaml,MERGED,2017-11-07 06:03:35.000000000,2017-11-07 07:08:31.000000000,2017-11-07 07:08:31.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-07 06:03:35.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/26d1a99580a52b802ad15b944f679680242b3c9d', 'message': 'Normalize projects.yaml\n\nChange-Id: Ifbb6bdd30d79177480524c98b852c7aa82d50a8b\n'}]",0,518234,26d1a99580a52b802ad15b944f679680242b3c9d,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ifbb6bdd30d79177480524c98b852c7aa82d50a8b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/34/518234/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,26d1a99580a52b802ad15b944f679680242b3c9d,project-yaml-normalization,, upstream: https://github.com/nishant9620/cinder-tempest-plugin.git upstream: https://github.com/d0ugal/tripleo-common-tempest-plugin.git,0,2
openstack%2Fnova~stable%2Fpike~I1f45318d480f1324f14ba23f56caf5dba7a12c13,openstack/nova,stable/pike,I1f45318d480f1324f14ba23f56caf5dba7a12c13,Fix a bug in libvirt driver,ABANDONED,2017-11-07 02:19:00.000000000,2017-11-07 06:54:10.000000000,,"[{'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-07 02:19:00.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/73abebbb45a6afa601bbad05d0078c6f60c29d16', 'message': 'Fix a bug in libvirt driver\n\nWhen the vm booting from a vm, but it created failed and then we\nneeded to clean it up. But we cannot delete it for the bug in code.\n\nChange-Id: I1f45318d480f1324f14ba23f56caf5dba7a12c13\nCloses-Bug: 1730549\n'}]",1,518198,73abebbb45a6afa601bbad05d0078c6f60c29d16,10,8,1,17430,,,0,"Fix a bug in libvirt driver

When the vm booting from a vm, but it created failed and then we
needed to clean it up. But we cannot delete it for the bug in code.

Change-Id: I1f45318d480f1324f14ba23f56caf5dba7a12c13
Closes-Bug: 1730549
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/518198/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,73abebbb45a6afa601bbad05d0078c6f60c29d16,bug/1730549, if (connection_info and 'data' in connection_info and, if ('data' in connection_info and,1,1
openstack%2Fkuryr-kubernetes~master~I1e3f88a007260b485b246a3a3e12d41bc06983b2,openstack/kuryr-kubernetes,master,I1e3f88a007260b485b246a3a3e12d41bc06983b2,Add icmp sg rules to k8s project,MERGED,2017-10-26 10:43:34.000000000,2017-11-07 06:48:22.000000000,2017-11-07 06:48:22.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27086}]","[{'number': 1, 'created': '2017-10-26 10:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/366e4b212434d964f6398478da4b9f5fcf2cae1f', 'message': 'Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses.\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 2, 'created': '2017-10-30 08:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a6290f7e523f5ee78b00dd953b398dfcbccdafc0', 'message': 'Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses.\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 3, 'created': '2017-10-30 08:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/441bc01c2a6719c2491357fbab059d359cb6676a', 'message': '[WIP] Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses.\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 4, 'created': '2017-10-30 09:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3c688a41974e4574b7f84399a59ad91a1d31fc7e', 'message': '[WIP] Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses.\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 5, 'created': '2017-10-30 09:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7d85f2abb19a8cc849169c3ef6b909b20d61d604', 'message': '[WIP] Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses.\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 6, 'created': '2017-10-30 11:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6dc296d51ff9130e2c8f90fab7b9c95e51115326', 'message': 'Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses.\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 7, 'created': '2017-10-30 11:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2495622ab1e54aca46ddbe72ea65a9f3671fed47', 'message': 'Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses. By default it only enables ingress rules but\nthe funcions could be extended depending on future requirements.\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 8, 'created': '2017-10-30 16:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f0096f26be23c7a57abd830e4acc88741f93f635', 'message': 'Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses. By default it only enables ingress rules but\nthe functions could be extended depending on future requirements.\n\nPartially implements: bp functional-testing-catch-up\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 9, 'created': '2017-11-03 10:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0e6f13c19af9724f8c9ea5fdb4520ff527786949', 'message': 'Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses. By default it only enables ingress rules but\nthe functions could be extended depending on future requirements.\n\nPartially implements: bp functional-testing-catch-up\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}, {'number': 10, 'created': '2017-11-06 03:17:44.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d64582fc6341ec6f13eeb4b3769bea5a853f5ef3', 'message': 'Add icmp sg rules to k8s project\n\nThis commit adds a sg rule to k8s project sg so pods there can reply to\nping for testing purpouses. By default it only enables ingress rules but\nthe functions could be extended depending on future requirements.\n\nPartially implements: bp functional-testing-catch-up\n\nChange-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2\n'}]",4,515357,d64582fc6341ec6f13eeb4b3769bea5a853f5ef3,34,8,10,14885,,,0,"Add icmp sg rules to k8s project

This commit adds a sg rule to k8s project sg so pods there can reply to
ping for testing purpouses. By default it only enables ingress rules but
the functions could be extended depending on future requirements.

Partially implements: bp functional-testing-catch-up

Change-Id: I1e3f88a007260b485b246a3a3e12d41bc06983b2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/515357/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes']",2,366e4b212434d964f6398478da4b9f5fcf2cae1f,pod_icmp,"# create_k8s_icmp_sg_rules # Description: Creates icmp sg rules for Kuryr-Kubernetes pods # Params: # sg_id - Kuryr's security group id # traffic - egress or ingress traffic function create_k8s_icmp_sg_rules { local sg_id=$ local traffic=""$2"" icmp_sg_rules=$(openstack --os-cloud devstack-admin \ --os-regsion ""$REGION_NAME"" \ security group rule create \ --protocol icmp \ --""$traffic"" ""$sg_id"") die_if_not_set $LINENO icmp_sg_rules \ ""Failure creating icmp sg ${traffic} rule for ${sg_id}"" } ",,31,0
openstack%2Fpython-ironic-inspector-client~master~I104433ac72ab3d48dacdcd67b36111093f600d4e,openstack/python-ironic-inspector-client,master,I104433ac72ab3d48dacdcd67b36111093f600d4e,Use functional tox environment,MERGED,2017-11-04 16:00:44.000000000,2017-11-07 06:45:56.000000000,2017-11-07 06:45:56.000000000,"[{'_account_id': 6547}, {'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 18653}, {'_account_id': 20035}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 16:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/5e1dfc3450b5c8fa80c9b9ee08b2176fe23c38ed', 'message': 'Use functional tox environment\n\nCreate new functional tox environment so that we can use it instead of\nfunc environment to allow creation of cross-project\nopenstack-tox-functional job.\n\nChange-Id: I104433ac72ab3d48dacdcd67b36111093f600d4e\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\nNeeded-By: Ifa4c20cff72820a0016bef8dcdd36647ae7359d3\n'}, {'number': 2, 'created': '2017-11-05 18:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/f0446d53d66116b5fadfaa3afbc925b74f7283b3', 'message': 'Use functional tox environment\n\nRename func to function tox environment and replace custom\nlegacy func job with cross-project openstack-tox-functional job.\n\nChange-Id: I104433ac72ab3d48dacdcd67b36111093f600d4e\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\n'}, {'number': 3, 'created': '2017-11-06 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/e5f02bb04e4a739c2446b075bd93f0368f4d3784', 'message': 'Use functional tox environment\n\nRename func to function tox environment and replace custom\nlegacy func job with cross-project openstack-tox-functional job.\n\nLeave func as shim for current users, notify them via a releasenote of\nthe change.\n\nChange-Id: I104433ac72ab3d48dacdcd67b36111093f600d4e\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\n'}, {'number': 4, 'created': '2017-11-06 14:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/095a49f923a60d25c9ff3c999d4bceb53eb3ee98', 'message': 'Use functional tox environment\n\nRename func to function tox environment and replace custom\nlegacy func job with cross-project openstack-tox-functional job.\n\nLeave func as shim for current users, notify them via a releasenote of\nthe change.\n\nChange-Id: I104433ac72ab3d48dacdcd67b36111093f600d4e\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\n'}, {'number': 5, 'created': '2017-11-06 15:38:39.000000000', 'files': ['releasenotes/notes/rename-func-427aa11c60c2838b.yaml', 'playbooks/legacy/python-ironic-inspector-client-tox-func/run.yaml', 'zuul.d/legacy-python-ironic-inspector-jobs.yaml', 'playbooks/legacy/python-ironic-inspector-client-tox-func/post.yaml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/e085138263f97ebcfb03f0b737cea2306bf8e5f3', 'message': 'Use functional tox environment\n\nRename func to function tox environment and replace custom\nlegacy func job with cross-project openstack-tox-functional job.\n\nLeave func as shim for current users, notify them via a releasenote of\nthe change.\n\nChange-Id: I104433ac72ab3d48dacdcd67b36111093f600d4e\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\n'}]",3,517764,e085138263f97ebcfb03f0b737cea2306bf8e5f3,31,6,5,6547,,,0,"Use functional tox environment

Rename func to function tox environment and replace custom
legacy func job with cross-project openstack-tox-functional job.

Leave func as shim for current users, notify them via a releasenote of
the change.

Change-Id: I104433ac72ab3d48dacdcd67b36111093f600d4e
Depends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/64/517764/5 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5e1dfc3450b5c8fa80c9b9ee08b2176fe23c38ed,legacy-jobs,"# Replaced in CI with ""functional"" environment but kept here as a # backwards-compatibility shim for transition basepython = python2.7 deps = {[testenv]deps} -r{toxinidir}/functest-requirements.txt commands = {[testenv:functional]commands} [testenv:functional]",,9,0
openstack%2Fzun~master~I3b37e13e7e2990d61caabf6d5b455468529b70d8,openstack/zun,master,I3b37e13e7e2990d61caabf6d5b455468529b70d8,Add api-ref for container execute,MERGED,2017-10-16 10:55:08.000000000,2017-11-07 06:43:25.000000000,2017-11-07 06:43:25.000000000,"[{'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23055}]","[{'number': 1, 'created': '2017-10-16 10:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1bd6ebf4258eef4219e2402957773f1419ce0f5b', 'message': 'Add api-ref for container execute\n\nThis patch adds api-ref for container execute.\n\nChange-Id: I3b37e13e7e2990d61caabf6d5b455468529b70d8\nCloses-Bug: #1720925\n'}, {'number': 2, 'created': '2017-10-16 11:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/20d6aba8c75beaaa11ba0d0fe28512026ad17242', 'message': 'Add api-ref for container execute\n\nThis patch adds api-ref for container execute.\n\nChange-Id: I3b37e13e7e2990d61caabf6d5b455468529b70d8\nCloses-Bug: #1720925\n'}, {'number': 3, 'created': '2017-10-23 03:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a3e5a803ba96bbddf085d81d714647cdd101d71f', 'message': 'Add api-ref for container execute\n\nThis patch adds api-ref for container execute.\n\nChange-Id: I3b37e13e7e2990d61caabf6d5b455468529b70d8\nCloses-Bug: #1720925\n'}, {'number': 4, 'created': '2017-10-31 04:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/0fba5488233c04ff9c6f7e20503fb7bd977a83b2', 'message': 'Add api-ref for container execute\n\nThis patch adds api-ref for container execute.\n\nChange-Id: I3b37e13e7e2990d61caabf6d5b455468529b70d8\nCloses-Bug: #1720925\n'}, {'number': 5, 'created': '2017-11-01 00:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c0039c91408c9ed819c1a665001b8f0db3e2ef8e', 'message': 'Add api-ref for container execute\n\nThis patch adds api-ref for container execute.\n\nChange-Id: I3b37e13e7e2990d61caabf6d5b455468529b70d8\nCloses-Bug: #1720925\n'}, {'number': 6, 'created': '2017-11-02 15:28:17.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/containers.inc', 'api-ref/source/samples/container-execute-resp-2.json', 'api-ref/source/samples/container-execute-resp.json'], 'web_link': 'https://opendev.org/openstack/zun/commit/4ba7d8ca5fe01fdc1eb0d4eae29c3828f32aefe7', 'message': 'Add api-ref for container execute\n\nThis patch adds api-ref for container execute.\n\nChange-Id: I3b37e13e7e2990d61caabf6d5b455468529b70d8\nCloses-Bug: #1720925\n'}]",22,512262,4ba7d8ca5fe01fdc1eb0d4eae29c3828f32aefe7,26,5,6,23055,,,0,"Add api-ref for container execute

This patch adds api-ref for container execute.

Change-Id: I3b37e13e7e2990d61caabf6d5b455468529b70d8
Closes-Bug: #1720925
",git fetch https://review.opendev.org/openstack/zun refs/changes/62/512262/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/containers.inc', 'api-ref/source/samples/container-execute-resp.json']",3,1bd6ebf4258eef4219e2402957773f1419ce0f5b,bug/1720925,"{ ""output"": ""Mon Oct 9 09:09:32 UTC 2017\n"", ""exit_code"": 0 } ",,60,6
openstack%2Fcharm-ceilometer-agent~master~I42c2e3ee4ee2bd1feb9815a4d9895a7121801995,openstack/charm-ceilometer-agent,master,I42c2e3ee4ee2bd1feb9815a4d9895a7121801995,Address all rabbit units in clustered deploy,MERGED,2017-10-18 10:30:29.000000000,2017-11-07 06:40:37.000000000,2017-11-07 06:40:37.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-18 10:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/d55aef47a7dec82818ece78005f5fc9b200fca82', 'message': 'Address all rabbit units in clustered deploy\n\nIf rabbitmq is deployed in a cluster then the ceilometer charm will\npass rabbitmq_hosts and rabbitmq_host to ceilometer-agent. This charm\nwas ignoring the rabbitmq_hosts key and thus always talking to a\nsingle rabbit even if there were multiple.\n\nChange-Id: I42c2e3ee4ee2bd1feb9815a4d9895a7121801995\nCloses-Bug: #1670273\n'}, {'number': 2, 'created': '2017-10-23 14:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/c55d1d11bc8b5c09808a5078b8373a9964fcc0f9', 'message': 'Address all rabbit units in clustered deploy\n\nIf rabbitmq is deployed in a cluster then the ceilometer charm will\npass rabbitmq_hosts and rabbitmq_host to ceilometer-agent. This charm\nwas ignoring the rabbitmq_hosts key and thus always talking to a\nsingle rabbit even if there were multiple.\n\nChange-Id: I42c2e3ee4ee2bd1feb9815a4d9895a7121801995\nCloses-Bug: #1670273\n'}, {'number': 3, 'created': '2017-11-06 10:20:55.000000000', 'files': ['.gitignore', 'unit_tests/test_ceilometer_contexts.py', 'hooks/ceilometer_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/958dfc3e2fd44f51171b781ba5c969bfb45d2eed', 'message': 'Address all rabbit units in clustered deploy\n\nIf rabbitmq is deployed in a cluster then the ceilometer charm will\npass rabbitmq_hosts and rabbitmq_host to ceilometer-agent. This charm\nwas ignoring the rabbitmq_hosts key and thus always talking to a\nsingle rabbit even if there were multiple.\n\nChange-Id: I42c2e3ee4ee2bd1feb9815a4d9895a7121801995\nCloses-Bug: #1670273\n'}]",0,512997,958dfc3e2fd44f51171b781ba5c969bfb45d2eed,22,4,3,12549,,,0,"Address all rabbit units in clustered deploy

If rabbitmq is deployed in a cluster then the ceilometer charm will
pass rabbitmq_hosts and rabbitmq_host to ceilometer-agent. This charm
was ignoring the rabbitmq_hosts key and thus always talking to a
single rabbit even if there were multiple.

Change-Id: I42c2e3ee4ee2bd1feb9815a4d9895a7121801995
Closes-Bug: #1670273
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/97/512997/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'unit_tests/test_ceilometer_contexts.py', 'hooks/ceilometer_contexts.py']",3,d55aef47a7dec82818ece78005f5fc9b200fca82,bug/1670273," 'rabbitmq_hosts',",,3,0
openstack%2Fcharms.openstack~master~Ia6fbf479259b50d938b6798ca17e5dc073c99812,openstack/charms.openstack,master,Ia6fbf479259b50d938b6798ca17e5dc073c99812,Add network space support for HA API endpoints,MERGED,2017-11-02 14:04:12.000000000,2017-11-07 06:40:03.000000000,2017-11-07 06:40:02.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 14:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/a4f2869bd0155d5bc3e015324b42f42e5ca48527', 'message': 'Ensure update_peers is network space aware\n\nSwitch to using the get_relation_ip helper when resolving\ninternal, public and admin endpoint network configuration,\nproviding compatibility with Juju 2.0 network spaces.\n\nChange-Id: Ia6fbf479259b50d938b6798ca17e5dc073c99812\n'}, {'number': 2, 'created': '2017-11-02 14:30:31.000000000', 'files': ['charms_openstack/charm/classes.py', 'charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/fab13633ed15c4758e2d0f683911ade523419e77', 'message': 'Add network space support for HA API endpoints\n\nSwitch to using the get_relation_ip helper when resolving\ninternal, public and admin endpoint network configuration,\nproviding compatibility with Juju 2.0 network spaces.\n\nChange-Id: Ia6fbf479259b50d938b6798ca17e5dc073c99812\n'}]",0,517319,fab13633ed15c4758e2d0f683911ade523419e77,9,2,2,935,,,0,"Add network space support for HA API endpoints

Switch to using the get_relation_ip helper when resolving
internal, public and admin endpoint network configuration,
providing compatibility with Juju 2.0 network spaces.

Change-Id: Ia6fbf479259b50d938b6798ca17e5dc073c99812
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/19/517319/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/classes.py'],1,a4f2869bd0155d5bc3e015324b42f42e5ca48527,peers-network-spaces," laddr = ch_ip.get_relation_ip( os_ip.ADDRESS_MAP[addr_type]['binding'], cidr)", laddr = ch_ip.get_address_in_network(cidr),3,1
openstack%2Fkolla-kubernetes~master~Iea6dae250ae7760f09090ddfa1f50e56b69ce43c,openstack/kolla-kubernetes,master,Iea6dae250ae7760f09090ddfa1f50e56b69ce43c,Do not use “-y” for package install,ABANDONED,2017-11-07 04:43:18.000000000,2017-11-07 06:09:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-11-07 04:43:18.000000000', 'files': ['doc/source/development-environment.rst', 'doc/source/deployment-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/5f12a54ab8a304697a148f267540971dcea57be3', 'message': 'Do not use “-y” for package install\n\nAccording to ""code conventions"" [1], do not use ""-y"" option.\nInstead, use apt-get install package, yum install package,\nor zypper install package.\n\n[1] https://docs.openstack.org/doc-contrib-guide/writing-style/\ncode-conventions.html\n\nChange-Id: Iea6dae250ae7760f09090ddfa1f50e56b69ce43c\n'}]",0,518221,5f12a54ab8a304697a148f267540971dcea57be3,3,1,1,25903,,,0,"Do not use “-y” for package install

According to ""code conventions"" [1], do not use ""-y"" option.
Instead, use apt-get install package, yum install package,
or zypper install package.

[1] https://docs.openstack.org/doc-contrib-guide/writing-style/
code-conventions.html

Change-Id: Iea6dae250ae7760f09090ddfa1f50e56b69ce43c
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/21/518221/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/development-environment.rst', 'doc/source/deployment-guide.rst']",2,5f12a54ab8a304697a148f267540971dcea57be3,package_install, sudo yum install docker ebtables kubeadm kubectl kubelet kubernetes-cni git gcc sudo apt-get install docker.io kubelet kubeadm kubectl kubernetes-cni sudo yum install epel-release ansible python-pip python-devel, sudo yum install -y docker ebtables kubeadm kubectl kubelet kubernetes-cni git gcc sudo apt-get install -y docker.io kubelet kubeadm kubectl kubernetes-cni sudo yum install -y epel-release ansible python-pip python-devel,13,13
openstack%2Fproject-config~master~If2877e49b99f71abd2ca6ae0d1840ee14ae4600d,openstack/project-config,master,If2877e49b99f71abd2ca6ae0d1840ee14ae4600d,Remove requirements tox jobs,MERGED,2017-11-04 16:33:00.000000000,2017-11-07 05:52:38.000000000,2017-11-07 05:52:38.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 16:33:00.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2fca20b5d187576962e2e35a3fa987eb1c6a2864', 'message': 'Remove requirements tox jobs\n\nThese jobs have been moved in-repo, remove them.\n\nChange-Id: If2877e49b99f71abd2ca6ae0d1840ee14ae4600d\nDepends-On: I3e8542dd20b918d07e351498be412061d8a398a2\nNeeded-By: I25eaddd7687bc6f253a523a6157d2100f439a2c4\n'}]",0,517768,2fca20b5d187576962e2e35a3fa987eb1c6a2864,8,3,1,6547,,,0,"Remove requirements tox jobs

These jobs have been moved in-repo, remove them.

Change-Id: If2877e49b99f71abd2ca6ae0d1840ee14ae4600d
Depends-On: I3e8542dd20b918d07e351498be412061d8a398a2
Needed-By: I25eaddd7687bc6f253a523a6157d2100f439a2c4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/517768/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,2fca20b5d187576962e2e35a3fa987eb1c6a2864,tox-jobs,, - legacy-requirements-tox-babel: files: - ^babel-test/.* - ^tox.ini - ^upper-constraints.txt - legacy-requirements-tox-py27-check-uc: files: ^upper-constraints.*txt$ - legacy-requirements-tox-py35-check-uc: branches: ^(?!stable/(newton|ocata|pike)).*$ files: ^upper-constraints.*txt$ - openstack-tox-validate - legacy-requirements-tox-validate-projects: branches: master - legacy-requirements-tox-babel: files: - ^babel-test/.* - ^tox.ini - ^upper-constraints.txt - legacy-requirements-tox-py27-check-uc: files: ^upper-constraints.*txt$ - legacy-requirements-tox-py35-check-uc: branches: ^(?!stable/(newton|ocata|pike)).*$ files: ^upper-constraints.*txt$ - openstack-tox-validate - legacy-requirements-tox-validate-projects: branches: master,0,26
openstack%2Fheat~master~Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c,openstack/heat,master,Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c,Retrigger new traversals after resource cancellation,MERGED,2017-10-30 23:00:34.000000000,2017-11-07 05:51:34.000000000,2017-11-07 05:51:34.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 23:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f712da073bde8b6cbe2fa3138172d454ba3384cb', 'message': 'Retrigger new traversals after resource cancellation\n\nIf we force-cancel a resource check operation (i.e. by killing the thread)\nthen there was a short window where another traversal could have started\nand been waiting on the not-yet-cancelled resource. That traversal would\nthen hang forever, as there was nothing to retrigger it. This change\nensures we retrigger the latest traversal on the resource after\ncancellation.\n\nChange-Id: Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c\nCloses-Bug: #1727007\n'}, {'number': 2, 'created': '2017-10-31 18:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/383a06791ba6430bd80168b29d1478fcf845b8ba', 'message': 'Retrigger new traversals after resource cancellation\n\nIf we force-cancel a resource check operation (i.e. by killing the thread)\nthen there was a short window where another traversal could have started\nand been waiting on the not-yet-cancelled resource. That traversal would\nthen hang forever, as there was nothing to retrigger it. This change\nensures we retrigger the latest traversal on the resource after\ncancellation.\n\nChange-Id: Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c\nCloses-Bug: #1727007\n'}, {'number': 3, 'created': '2017-11-01 14:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3186148dbeca326656e30094317bd93726567f54', 'message': 'Retrigger new traversals after resource cancellation\n\nIf we force-cancel a resource check operation (i.e. by killing the thread)\nthen there was a short window where another traversal could have started\nand been waiting on the not-yet-cancelled resource. That traversal would\nthen hang forever, as there was nothing to retrigger it. This change\nensures we retrigger the latest traversal on the resource after\ncancellation.\n\nChange-Id: Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c\nCloses-Bug: #1727007\n'}, {'number': 4, 'created': '2017-11-01 22:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c81ee1642d36d5ecf0688d8a579d7b76f8b3e61b', 'message': 'Retrigger new traversals after resource cancellation\n\nIf we force-cancel a resource check operation (i.e. by killing the thread)\nthen there was a short window where another traversal could have started\nand been waiting on the not-yet-cancelled resource. That traversal would\nthen hang forever, as there was nothing to retrigger it. This change\nensures we retrigger the latest traversal on the resource after\ncancellation.\n\nChange-Id: Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c\nCloses-Bug: #1727007\n'}, {'number': 5, 'created': '2017-11-03 03:46:15.000000000', 'files': ['heat/engine/check_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/4a30b2ff567073fcc035ba6cad3d83f111f1449c', 'message': 'Retrigger new traversals after resource cancellation\n\nIf we force-cancel a resource check operation (i.e. by killing the thread)\nthen there was a short window where another traversal could have started\nand been waiting on the not-yet-cancelled resource. That traversal would\nthen hang forever, as there was nothing to retrigger it. This change\nensures we retrigger the latest traversal on the resource after\ncancellation.\n\nChange-Id: Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c\nCloses-Bug: #1727007\n'}]",0,516471,4a30b2ff567073fcc035ba6cad3d83f111f1449c,16,4,5,4257,,,0,"Retrigger new traversals after resource cancellation

If we force-cancel a resource check operation (i.e. by killing the thread)
then there was a short window where another traversal could have started
and been waiting on the not-yet-cancelled resource. That traversal would
then hang forever, as there was nothing to retrigger it. This change
ensures we retrigger the latest traversal on the resource after
cancellation.

Change-Id: Iae27c9cc5c0895b52aef2f2c72686dc48ec5983c
Closes-Bug: #1727007
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/516471/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/check_resource.py'],1,f712da073bde8b6cbe2fa3138172d454ba3384cb,bug/1709041," except CancelOperation as ex: # Stack is already marked FAILED, so we just need to retrigger # in case a new traversal has started and is waiting on us. self._retrigger_new_traversal(cnxt, current_traversal, is_update, stack.id, rsrc.id)", except CancelOperation: pass,5,2
openstack%2Fproject-config~master~Ifa4c20cff72820a0016bef8dcdd36647ae7359d3,openstack/project-config,master,Ifa4c20cff72820a0016bef8dcdd36647ae7359d3,Use tox-functional for func jobs,MERGED,2017-11-04 16:02:22.000000000,2017-11-07 05:48:26.000000000,2017-11-07 05:48:26.000000000,"[{'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 16:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3736e060f7439feaa679a7ad21b2b1773315b959', 'message': 'Use tox-functional for func jobs\n\nThe tox.ini files of some projects has been adopted, we can now\nuse the new openstack-tox-functional job instead of a custom one.\n\nChange-Id: Ifa4c20cff72820a0016bef8dcdd36647ae7359d3\nDepends-On: I104433ac72ab3d48dacdcd67b36111093f600d4e\nDepends-On: Ied08d83177b9d52b6eb8e4987f444230ac4ebfdb\n'}, {'number': 2, 'created': '2017-11-05 18:50:35.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f3659cc9e8f76710c1a2c349e72588a62ac8f1b', 'message': 'Use tox-functional for func jobs\n\nThe tox.ini files of dib-utils has been adopted, we can now\nuse the new openstack-tox-functional job instead of a custom one.\n\nChange-Id: Ifa4c20cff72820a0016bef8dcdd36647ae7359d3\nDepends-On: Ied08d83177b9d52b6eb8e4987f444230ac4ebfdb\n'}]",0,517765,0f3659cc9e8f76710c1a2c349e72588a62ac8f1b,10,4,2,6547,,,0,"Use tox-functional for func jobs

The tox.ini files of dib-utils has been adopted, we can now
use the new openstack-tox-functional job instead of a custom one.

Change-Id: Ifa4c20cff72820a0016bef8dcdd36647ae7359d3
Depends-On: Ied08d83177b9d52b6eb8e4987f444230ac4ebfdb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/517765/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,3736e060f7439feaa679a7ad21b2b1773315b959,tox-functional, - openstack-tox-functional - openstack-tox-functional - openstack-tox-functional: - openstack-tox-functional:, - legacy-dib-utils-tox-func - legacy-dib-utils-tox-func - legacy-python-ironic-inspector-client-tox-func: - legacy-python-ironic-inspector-client-tox-func:,4,4
openstack%2Fpuppet-tripleo~master~Ie5b5cb1ae6dfe5ccd737c76bc1faca009c0ee340,openstack/puppet-tripleo,master,Ie5b5cb1ae6dfe5ccd737c76bc1faca009c0ee340,Remove /dev/log mounting from mysql bundle resource,ABANDONED,2017-10-25 09:35:08.000000000,2017-11-07 05:47:25.000000000,,"[{'_account_id': 6926}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-25 09:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/695cfd24a94b881efeb28953f9e85e91a8f6b9a8', 'message': ""Remove /dev/log mounting from mysql bundle resource\n\nIt's not used.\n\nChange-Id: Ie5b5cb1ae6dfe5ccd737c76bc1faca009c0ee340\n""}, {'number': 2, 'created': '2017-10-25 09:36:06.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b965717240b137b7bf3ffc9ea5460f6cbec28f97', 'message': ""Remove /dev/log mounting from mysql bundle resource\n\nIt's not used.\n\nbp logging-stdout-rsyslog\nChange-Id: Ie5b5cb1ae6dfe5ccd737c76bc1faca009c0ee340\n""}]",0,514986,b965717240b137b7bf3ffc9ea5460f6cbec28f97,6,4,2,10873,,,0,"Remove /dev/log mounting from mysql bundle resource

It's not used.

bp logging-stdout-rsyslog
Change-Id: Ie5b5cb1ae6dfe5ccd737c76bc1faca009c0ee340
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/514986/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,695cfd24a94b881efeb28953f9e85e91a8f6b9a8,bp/logging-stdout-rsyslog,," 'mysql-dev-log' => { 'source-dir' => '/dev/log', 'target-dir' => '/dev/log', 'options' => 'rw', },",0,5
openstack%2Fceilometer~master~I4da715027b3dabb1ceed4640773b1ad64aa50e9c,openstack/ceilometer,master,I4da715027b3dabb1ceed4640773b1ad64aa50e9c,Modify memory swap metric type,MERGED,2017-08-11 03:05:45.000000000,2017-11-07 05:31:45.000000000,2017-08-25 16:31:16.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 22752}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-08-11 03:05:45.000000000', 'files': ['ceilometer/compute/pollsters/instance_stats.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ff7137286cb6645b26abfe8e6c97bfa01408bff9', 'message': 'Modify memory swap metric type\n\nThe metric type of memory.swap.in and memory.swap.out shoule be\nCumulative, while the default is Gauge, so fix it.\n\nChange-Id: I4da715027b3dabb1ceed4640773b1ad64aa50e9c\n'}]",0,492783,ff7137286cb6645b26abfe8e6c97bfa01408bff9,15,5,1,20100,,,0,"Modify memory swap metric type

The metric type of memory.swap.in and memory.swap.out shoule be
Cumulative, while the default is Gauge, so fix it.

Change-Id: I4da715027b3dabb1ceed4640773b1ad64aa50e9c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/83/492783/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/pollsters/instance_stats.py'],1,ff7137286cb6645b26abfe8e6c97bfa01408bff9,modify-memory-swap-type, sample_type = sample.TYPE_CUMULATIVE sample_type = sample.TYPE_CUMULATIVE,,2,0
openstack%2Fopenstack-zuul-jobs~master~I5aaa8da41fb7ce40f6f09921ec6858aa399ddc45,openstack/openstack-zuul-jobs,master,I5aaa8da41fb7ce40f6f09921ec6858aa399ddc45,Fix unnecessary lines of neutron-dynamic-routing jobs,ABANDONED,2017-11-06 22:39:41.000000000,2017-11-07 05:14:17.000000000,,"[{'_account_id': 7118}, {'_account_id': 8344}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 22:39:41.000000000', 'files': ['playbooks/legacy/neutron-dynamic-routing-dsvm-functional/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-scenario-basic/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-api/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-scenario-ipv4/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-scenario-ipv6/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9e721dc8fe7f9dfb950bccfd978d826e82d12692', 'message': 'Fix unnecessary lines of neutron-dynamic-routing jobs\n\nCurrently the tempest jobs of neutron-dynamic-routing have\nunnecessary lines.\n\nChange-Id: I5aaa8da41fb7ce40f6f09921ec6858aa399ddc45\n'}]",0,518117,9e721dc8fe7f9dfb950bccfd978d826e82d12692,5,3,1,8344,,,0,"Fix unnecessary lines of neutron-dynamic-routing jobs

Currently the tempest jobs of neutron-dynamic-routing have
unnecessary lines.

Change-Id: I5aaa8da41fb7ce40f6f09921ec6858aa399ddc45
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/17/518117/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-dynamic-routing-dsvm-functional/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-scenario-basic/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-api/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-scenario-ipv4/run.yaml', 'playbooks/legacy/neutron-dynamic-routing-dsvm-tempest-scenario-ipv6/run.yaml']",6,9e721dc8fe7f9dfb950bccfd978d826e82d12692,fix-dr-jobs,," if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi if [ ""ipv6"" == ""basic"" ]; then DEVSTACK_LOCAL_CONFIG+=$'\n'""BGP_SCHEDULER_DRIVER=neutron_dynamic_routing.services.bgp.scheduler.bgp_dragent_scheduler.ChanceScheduler"" fi",6,38
openstack%2Fproject-config~master~Ia8032077b9009e847e81c9a5dad536e1fbc1b958,openstack/project-config,master,Ia8032077b9009e847e81c9a5dad536e1fbc1b958,Use openstack-tox for devstack-gate,ABANDONED,2017-11-06 20:05:36.000000000,2017-11-07 05:05:09.000000000,,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 20:05:36.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cf701e08351416abbd45ad56c0d1c258b2a9c9ca', 'message': 'Use openstack-tox for devstack-gate\n\nConvert two legacy tox jobs to use openstack-tox with vars instead.\n\nChange-Id: Ia8032077b9009e847e81c9a5dad536e1fbc1b958\n'}]",1,518100,cf701e08351416abbd45ad56c0d1c258b2a9c9ca,5,3,1,6547,,,0,"Use openstack-tox for devstack-gate

Convert two legacy tox jobs to use openstack-tox with vars instead.

Change-Id: Ia8032077b9009e847e81c9a5dad536e1fbc1b958
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/518100/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,cf701e08351416abbd45ad56c0d1c258b2a9c9ca,tox, - openstack-tox: vars: tox_envlist: run-tests - openstack-tox: vars: tox_envlist: py3-run-tests - openstack-tox: vars: tox_envlist: run-tests - openstack-tox: vars: tox_envlist: py3-run-tests, - legacy-devstack-gate-tox-run-tests - legacy-devstack-gate-tox-py3-run-tests - legacy-devstack-gate-tox-run-tests - legacy-devstack-gate-tox-py3-run-tests,12,4
openstack%2Fpuppet-tripleo~master~If9a86e1e6b450fa4335e8c60aca512d7f4ca5894,openstack/puppet-tripleo,master,If9a86e1e6b450fa4335e8c60aca512d7f4ca5894,Rely on container setup for haproxy's certificate user and group,MERGED,2017-11-02 06:32:44.000000000,2017-11-07 05:05:08.000000000,2017-11-07 05:05:08.000000000,"[{'_account_id': 6924}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-02 06:32:44.000000000', 'files': ['manifests/certmonger/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/186dfb7afc108dae480b6e842503fce736ee31af', 'message': ""Rely on container setup for haproxy's certificate user and group\n\nIf we're on a containerized environment it might be that we don't have\nthe haproxy user and group (the containerized undercloud). So this sets\nit up the owner as root and relies on the containerized setup to fix the\npermissions instead. This way, we won't need to have the haproxy package\ninstalled in the host.\n\nChange-Id: If9a86e1e6b450fa4335e8c60aca512d7f4ca5894\n""}]",0,517176,186dfb7afc108dae480b6e842503fce736ee31af,10,4,1,10873,,,0,"Rely on container setup for haproxy's certificate user and group

If we're on a containerized environment it might be that we don't have
the haproxy user and group (the containerized undercloud). So this sets
it up the owner as root and relies on the containerized setup to fix the
permissions instead. This way, we won't need to have the haproxy package
installed in the host.

Change-Id: If9a86e1e6b450fa4335e8c60aca512d7f4ca5894
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/517176/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/haproxy.pp'],1,186dfb7afc108dae480b6e842503fce736ee31af,undercloud-containers-tls," # If we have HAProxy in the resource catalog, we can use the haproxy user # and group. if defined(Class['::haproxy']) { $cert_user = 'haproxy' $cert_group = 'haproxy' # If it's not in the resource catalog, it means that we're running in # containers. So we have to rely on the container to set the appropriate # permissions. } else { $cert_user = 'root' $cert_group = 'root' } owner => $cert_user, group => $cert_group,"," owner => 'haproxy', group => 'haproxy',",15,2
openstack%2Fpuppet-tripleo~master~I25c7492a2982882f5ae9ac03af79b04e96fc7c31,openstack/puppet-tripleo,master,I25c7492a2982882f5ae9ac03af79b04e96fc7c31,certmonger/HAProxy: don't use principal if CA is local,MERGED,2017-11-01 16:34:22.000000000,2017-11-07 05:05:08.000000000,2017-11-07 05:05:08.000000000,"[{'_account_id': 6924}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-01 16:34:22.000000000', 'files': ['manifests/certmonger/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ac09919726d0db1062e2ba655c145a9c58bb0912', 'message': ""certmonger/HAProxy: don't use principal if CA is local\n\nusing a service principal with the local CA fails with certmonger.\n\nChange-Id: I25c7492a2982882f5ae9ac03af79b04e96fc7c31\n""}]",2,517039,ac09919726d0db1062e2ba655c145a9c58bb0912,13,5,1,10873,,,0,"certmonger/HAProxy: don't use principal if CA is local

using a service principal with the local CA fails with certmonger.

Change-Id: I25c7492a2982882f5ae9ac03af79b04e96fc7c31
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/39/517039/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/haproxy.pp'],1,ac09919726d0db1062e2ba655c145a9c58bb0912,undercloud-containers-tls," $principal_real = undef } else { $principal_real = $principal principal => $principal_real,"," principal => $principal,",4,1
openstack%2Fpuppet-tripleo~stable%2Fpike~I2764ca1674dcd5ecd7886233bb5e9795ee697be3,openstack/puppet-tripleo,stable/pike,I2764ca1674dcd5ecd7886233bb5e9795ee697be3,Certmonger: Only notify haproxy class if it's defined,MERGED,2017-11-04 05:23:26.000000000,2017-11-07 05:05:07.000000000,2017-11-07 05:05:07.000000000,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-04 05:23:26.000000000', 'files': ['manifests/certmonger/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2eb7674065b3be298a50e4c9987f38f36b287e80', 'message': ""Certmonger: Only notify haproxy class if it's defined\n\nThe haproxy certmonger resource (which requests the HAProxy certs)\nexpected the haproxy puppet manifests to run alongside if we're using a\nlocal CA. This is no longer the case in containerized environments, e.g.\nthe containerized undercloud. This makes that optional.\n\nChange-Id: I2764ca1674dcd5ecd7886233bb5e9795ee697be3\n(cherry picked from commit abd7a9486d8fb5cad7f6f0b48a466597f1d1bf71)\n""}]",0,517743,2eb7674065b3be298a50e4c9987f38f36b287e80,8,3,1,3153,,,0,"Certmonger: Only notify haproxy class if it's defined

The haproxy certmonger resource (which requests the HAProxy certs)
expected the haproxy puppet manifests to run alongside if we're using a
local CA. This is no longer the case in containerized environments, e.g.
the containerized undercloud. This makes that optional.

Change-Id: I2764ca1674dcd5ecd7886233bb5e9795ee697be3
(cherry picked from commit abd7a9486d8fb5cad7f6f0b48a466597f1d1bf71)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/517743/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/haproxy.pp'],1,2eb7674065b3be298a50e4c9987f38f36b287e80,undercloud-containers-tls-stable/pike, include ::tripleo::certmonger::ca::local if defined(Class['::haproxy']) { Class['::tripleo::certmonger::ca::local'] ~> Class['::haproxy'], class { '::tripleo::certmonger::ca::local': notify => Class['::tripleo::haproxy'],3,2
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ie2617dd9dba1c49f37e82448b6bf229d127ed46a,openstack/tripleo-heat-templates,stable/pike,Ie2617dd9dba1c49f37e82448b6bf229d127ed46a,mysql: Only set certificate specs if TLS everywhere is enabled,MERGED,2017-11-04 05:23:07.000000000,2017-11-07 05:05:06.000000000,2017-11-07 05:05:06.000000000,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-04 05:23:07.000000000', 'files': ['puppet/services/database/mysql.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce4bce420272d1f6331b171ea467825e1878f50f', 'message': 'mysql: Only set certificate specs if TLS everywhere is enabled\n\nThe conditional was missing.\n\nChange-Id: Ie2617dd9dba1c49f37e82448b6bf229d127ed46a\nCloses-Bug: #1729384\n(cherry picked from commit 410e062aa0d91b99c4493fac6940499cc02e4288)\n'}]",0,517742,ce4bce420272d1f6331b171ea467825e1878f50f,8,3,1,3153,,,0,"mysql: Only set certificate specs if TLS everywhere is enabled

The conditional was missing.

Change-Id: Ie2617dd9dba1c49f37e82448b6bf229d127ed46a
Closes-Bug: #1729384
(cherry picked from commit 410e062aa0d91b99c4493fac6940499cc02e4288)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/517742/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/database/mysql.yaml'],1,ce4bce420272d1f6331b171ea467825e1878f50f,bug/1729384-stable/pike," - if: - internal_tls_enabled - generate_service_certificates: true tripleo::profile::base::database::mysql::certificate_specs: service_certificate: '/etc/pki/tls/certs/mysql.crt' service_key: '/etc/pki/tls/private/mysql.key' hostname: str_replace: dnsnames: - str_replace: template: ""%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} - str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} principal: str_replace: template: ""mysql/%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} - {}"," - generate_service_certificates: true tripleo::profile::base::database::mysql::certificate_specs: service_certificate: '/etc/pki/tls/certs/mysql.crt' service_key: '/etc/pki/tls/private/mysql.key' hostname: str_replace: template: ""%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} dnsnames: - str_replace: - str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} principal: str_replace: template: ""mysql/%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]}",24,20
openstack%2Ftripleo-quickstart-extras~master~I8a0f156950a12219de3eb01257cffb80eef25627,openstack/tripleo-quickstart-extras,master,I8a0f156950a12219de3eb01257cffb80eef25627,Fix overcloud-prep-network when overcloud_nodes is None,MERGED,2017-11-02 10:49:54.000000000,2017-11-07 05:05:05.000000000,2017-11-07 05:05:05.000000000,"[{'_account_id': 1955}, {'_account_id': 4264}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 10:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/20c6320670a9eb8e2b31a0886f00f51d02aba6f5', 'message': 'Fix overcloud-prep-network when overcloud_nodes is None\n\nCloses-bug: #1727738\nChange-Id: I8a0f156950a12219de3eb01257cffb80eef25627\n'}, {'number': 2, 'created': '2017-11-02 12:46:48.000000000', 'files': ['roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce0c324dbf893d9622f2f642f7b058fa62376f6a', 'message': 'Fix overcloud-prep-network when overcloud_nodes is None\n\nCloses-bug: #1727738\nChange-Id: I8a0f156950a12219de3eb01257cffb80eef25627\n'}]",4,517261,ce0c324dbf893d9622f2f642f7b058fa62376f6a,46,12,2,8652,,,0,"Fix overcloud-prep-network when overcloud_nodes is None

Closes-bug: #1727738
Change-Id: I8a0f156950a12219de3eb01257cffb80eef25627
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/61/517261/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2'],1,20c6320670a9eb8e2b31a0886f00f51d02aba6f5,bug/1727738,{% if overcloud_nodes is defined and overcloud_nodes != None and overcloud_nodes|length > 0 %}{% endif %},,2,0
openstack%2Fkeystone~master~I4cc8a150d4b0823755804937e50220dfcfb2a750,openstack/keystone,master,I4cc8a150d4b0823755804937e50220dfcfb2a750,Ensure listing projects always returns tags,MERGED,2017-10-26 16:53:59.000000000,2017-11-07 03:40:42.000000000,2017-11-07 03:40:42.000000000,"[{'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-26 16:53:59.000000000', 'files': ['keystone/tests/unit/test_v3_resource.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/59a3ea300be7d9b48d561df61984a7adab209756', 'message': 'Ensure listing projects always returns tags\n\nThis just adds a test to make sure we always return the tags\nattribute when listing projects. This was brought up in a tempest\nreview:\n\n  https://review.openstack.org/#/c/485344/7\n\nThis commit just adds the test coverage.\n\nChange-Id: I4cc8a150d4b0823755804937e50220dfcfb2a750\n'}]",0,515468,59a3ea300be7d9b48d561df61984a7adab209756,15,6,1,5046,,,0,"Ensure listing projects always returns tags

This just adds a test to make sure we always return the tags
attribute when listing projects. This was brought up in a tempest
review:

  https://review.openstack.org/#/c/485344/7

This commit just adds the test coverage.

Change-Id: I4cc8a150d4b0823755804937e50220dfcfb2a750
",git fetch https://review.opendev.org/openstack/keystone refs/changes/68/515468/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_v3_resource.py'],1,59a3ea300be7d9b48d561df61984a7adab209756,bp/project-tags," def test_list_project_response_returns_tags(self): """"""Call ``GET /projects`` should always return tag attributes."""""" tagged_project, tags = self._create_project_and_tags() self.get('/projects') ref = unit.new_project_ref(domain_id=self.domain_id) untagged_project = self.post( '/projects', body={'project': ref} ).json_body['project'] resp = self.get('/projects') for project in resp.json_body['projects']: if project['id'] == tagged_project['id']: self.assertIsNotNone(project['tags']) self.assertEqual(project['tags'], tags) if project['id'] == untagged_project['id']: self.assertEqual(project['tags'], []) ",,16,0
openstack%2Fzun~master~I40900e32462e4e3ae1976652246a83eeebc710e2,openstack/zun,master,I40900e32462e4e3ae1976652246a83eeebc710e2,Fix error in version check about container delete-stop,MERGED,2017-11-02 07:12:56.000000000,2017-11-07 03:34:20.000000000,2017-11-07 03:34:20.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 07:12:56.000000000', 'files': ['zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/efc194dbac8ced55b6879fa5d5a7d6c0efe11ca1', 'message': 'Fix error in version check about container delete-stop\n\nThe microversion should begin from 1.12.\n\nChange-Id: I40900e32462e4e3ae1976652246a83eeebc710e2\n'}]",0,517188,efc194dbac8ced55b6879fa5d5a7d6c0efe11ca1,9,3,1,23055,,,0,"Fix error in version check about container delete-stop

The microversion should begin from 1.12.

Change-Id: I40900e32462e4e3ae1976652246a83eeebc710e2
",git fetch https://review.opendev.org/openstack/zun refs/changes/88/517188/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/containers.py'],1,efc194dbac8ced55b6879fa5d5a7d6c0efe11ca1,version-check-delete-stop," min_version = versions.Version('', '', '', '1.12')"," min_version = versions.Version('', '', '', '1.11')",1,1
openstack%2Fhorizon~master~I167d2125f72e069fef2434c21159ab15e9eb135e,openstack/horizon,master,I167d2125f72e069fef2434c21159ab15e9eb135e,Use assertRegex instead of assertRegexpMatches,ABANDONED,2017-11-01 09:31:52.000000000,2017-11-07 03:25:33.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-11-01 09:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8aa2141ab478389cb35d40b4902676ef4dec075a', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nis deprecated in favor of assertRegex and assertNotRegex\n\nChange-Id: I167d2125f72e069fef2434c21159ab15e9eb135e\n'}, {'number': 2, 'created': '2017-11-01 09:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/07c66300d0aabcadbf9adce988af70e69e4d64b4', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex and assertNotRegex\n\nChange-Id: I167d2125f72e069fef2434c21159ab15e9eb135e\n'}, {'number': 3, 'created': '2017-11-02 03:50:52.000000000', 'files': ['openstack_dashboard/dashboards/project/stacks/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/efad9b3e9db51a37552c490fdf56030c33474fc2', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex & assertNotRegex\n\nChange-Id: I167d2125f72e069fef2434c21159ab15e9eb135e\n'}]",2,516901,efad9b3e9db51a37552c490fdf56030c33474fc2,11,3,3,25903,,,0,"Use assertRegex instead of assertRegexpMatches

In Python3, assertRegexpMatches & assertNotRegexpMatches
are deprecated in favor of assertRegex & assertNotRegex

Change-Id: I167d2125f72e069fef2434c21159ab15e9eb135e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/516901/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/stacks/tests.py', 'horizon/test/helpers.py']",2,8aa2141ab478389cb35d40b4902676ef4dec075a,assertRegex," def assertNotRegex(self, text, unexpected_regexp, msg=None):"," def assertNotRegexpMatches(self, text, unexpected_regexp, msg=None):",2,2
openstack%2Fcinder~master~Ia013ff66f50eb742d8876dbea14cd0b190795e80,openstack/cinder,master,Ia013ff66f50eb742d8876dbea14cd0b190795e80,"Revert ""Add .stestr.conf configuration""",ABANDONED,2017-11-07 02:24:58.000000000,2017-11-07 03:15:06.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 5196}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 02:24:58.000000000', 'files': ['.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ad58634ced15c7e71732ba1db9d101ce56ac5d2', 'message': 'Revert ""Add .stestr.conf configuration""\n\nTest py35 failures.\n\nThis reverts commit 676195e00978109cf5e0388034efacd354785034.\n\nChange-Id: Ia013ff66f50eb742d8876dbea14cd0b190795e80\n'}]",0,518199,0ad58634ced15c7e71732ba1db9d101ce56ac5d2,4,49,1,11904,,,0,"Revert ""Add .stestr.conf configuration""

Test py35 failures.

This reverts commit 676195e00978109cf5e0388034efacd354785034.

Change-Id: Ia013ff66f50eb742d8876dbea14cd0b190795e80
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/518199/1 && git format-patch -1 --stdout FETCH_HEAD,"['.testr.conf', 'tox.ini', '.stestr.conf']",3,0ad58634ced15c7e71732ba1db9d101ce56ac5d2,stestr,,[DEFAULT] test_path=${OS_TEST_PATH:-./cinder/tests/unit} top_dir=./ ,11,14
openstack%2Fnova~stable%2Fpike~I54806fe43257528fbec7d44c841ee4abb14c9dff,openstack/nova,stable/pike,I54806fe43257528fbec7d44c841ee4abb14c9dff,Clean up allocations if instance deleted during build,MERGED,2017-11-06 07:41:13.000000000,2017-11-07 03:09:58.000000000,2017-11-07 03:09:58.000000000,"[{'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-06 07:41:13.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2cd20613e3237754df7c4e73995ac5fdc10a1298', 'message': 'Clean up allocations if instance deleted during build\n\nWhen we notice that an instance was deleted after scheduling, we punt on\ninstance creation. When that happens, the scheduler will have created\nallocations already so we need to delete those to avoid leaking resources.\n\nRelated-Bug: #1679750\nChange-Id: I54806fe43257528fbec7d44c841ee4abb14c9dff\n(cherry picked from commit 57a3af6921dea72b3b2972f66e089578331dbb63)\n'}]",0,517876,2cd20613e3237754df7c4e73995ac5fdc10a1298,20,11,1,6873,,,0,"Clean up allocations if instance deleted during build

When we notice that an instance was deleted after scheduling, we punt on
instance creation. When that happens, the scheduler will have created
allocations already so we need to delete those to avoid leaking resources.

Related-Bug: #1679750
Change-Id: I54806fe43257528fbec7d44c841ee4abb14c9dff
(cherry picked from commit 57a3af6921dea72b3b2972f66e089578331dbb63)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/517876/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,2cd20613e3237754df7c4e73995ac5fdc10a1298,bug/1729371-stable/pike, rc = self.scheduler_client.reportclient rc.delete_allocation_for_instance(instance.uuid),,7,1
openstack%2Fmanila~stable%2Focata~Ia9226329035508c37ca499e6efbd2382502eb141,openstack/manila,stable/ocata,Ia9226329035508c37ca499e6efbd2382502eb141,tempest: remove call to set_network_resources(),MERGED,2017-11-06 16:27:50.000000000,2017-11-07 03:05:23.000000000,2017-11-07 03:05:23.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 17780}, {'_account_id': 18883}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-11-06 16:27:50.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f3820a7b2f87b09f032c419ab538a14ef219b40a', 'message': ""tempest: remove call to set_network_resources()\n\nSince the merge of the stable interface for Tempest network_resources\n[0], a call within the Manila scenario tests was causing failures\naround the ordering of method calls in the set up of the test class.\nThis patch removes the call as currently it doesn't do anything and\nwill fix our scenario tests.\n\n[0] - I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n\nChange-Id: Ia9226329035508c37ca499e6efbd2382502eb141\nCloses-Bug: #1717562\n(cherry picked from commit c26bd6b10c608029a505d3473b0bf61e178deee7)\n(cherry picked from commit 699f0a7d2699d93b2177b163d2d614115b055407)\n""}]",0,518026,f3820a7b2f87b09f032c419ab538a14ef219b40a,10,9,1,21698,,,0,"tempest: remove call to set_network_resources()

Since the merge of the stable interface for Tempest network_resources
[0], a call within the Manila scenario tests was causing failures
around the ordering of method calls in the set up of the test class.
This patch removes the call as currently it doesn't do anything and
will fix our scenario tests.

[0] - I4eab8f2a722b47edc20e4aab0ef453bec16842f3

Change-Id: Ia9226329035508c37ca499e6efbd2382502eb141
Closes-Bug: #1717562
(cherry picked from commit c26bd6b10c608029a505d3473b0bf61e178deee7)
(cherry picked from commit 699f0a7d2699d93b2177b163d2d614115b055407)
",git fetch https://review.opendev.org/openstack/manila refs/changes/26/518026/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/scenario/manager_share.py'],1,f3820a7b2f87b09f032c419ab538a14ef219b40a,bug/1717562-stable/pike-stable/ocata,, cls.set_network_resources(),0,1
openstack%2Fheat~master~I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b,openstack/heat,master,I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b,Updated from global requirements,MERGED,2017-11-03 00:45:19.000000000,2017-11-07 03:04:49.000000000,2017-11-07 03:04:49.000000000,"[{'_account_id': 8289}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 00:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/393a5fd414a2481f354a3b46a1b998e842117baa', 'message': 'Updated from global requirements\n\nChange-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b\n'}, {'number': 2, 'created': '2017-11-03 00:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4e3da65fb4d40eb7f6387c7092cd141cf82f1566', 'message': 'Updated from global requirements\n\nChange-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b\n'}, {'number': 3, 'created': '2017-11-03 13:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b34f9db130c73d708894406347b1c285fe2e68fb', 'message': 'Updated from global requirements\n\nChange-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b\n'}, {'number': 4, 'created': '2017-11-03 17:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6f7d359d402537bd9a0c3a456585f248ee185796', 'message': 'Updated from global requirements\n\nChange-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b\n'}, {'number': 5, 'created': '2017-11-03 17:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7e334e2ccb143c57803c549974fd68efcba84670', 'message': 'Updated from global requirements\n\nChange-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b\n'}, {'number': 6, 'created': '2017-11-06 01:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/294b5d12635b816f4e7cdefd2d074129c49e8dd9', 'message': 'Updated from global requirements\n\nChange-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b\n'}, {'number': 7, 'created': '2017-11-07 00:21:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/30782463643a51f1f820adb40bab80808f7818bb', 'message': 'Updated from global requirements\n\nChange-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b\n'}]",0,517472,30782463643a51f1f820adb40bab80808f7818bb,22,3,7,11131,,,0,"Updated from global requirements

Change-Id: I05dce6e00bcb86b58c4e0b1a0b36adbbf8bb497b
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/517472/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,393a5fd414a2481f354a3b46a1b998e842117baa,openstack/requirements,openstacksdk>=0.9.19 # Apache-2.0oslo.context>=2.19.2 # Apache-2.0,"openstacksdk>=0.9.18 # Apache-2.0oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",2,2
openstack%2Fkolla~master~I5dd0c238337a1f7b998b3d03b489b500f00e807d,openstack/kolla,master,I5dd0c238337a1f7b998b3d03b489b500f00e807d,sss,ABANDONED,2017-11-07 02:49:13.000000000,2017-11-07 02:49:55.000000000,,[],"[{'number': 1, 'created': '2017-11-07 02:49:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fcec32cb53d55eb5d517889b05750bd23ed92ab', 'message': 'sss\n\nChange-Id: I5dd0c238337a1f7b998b3d03b489b500f00e807d\n'}]",0,518206,6fcec32cb53d55eb5d517889b05750bd23ed92ab,2,0,1,11869,,,0,"sss

Change-Id: I5dd0c238337a1f7b998b3d03b489b500f00e807d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/518206/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6fcec32cb53d55eb5d517889b05750bd23ed92ab,a1,,,1,0
openstack%2Fopenstack-zuul-jobs~master~I94396834d66d7ba96f73280943efc6ab3dbff802,openstack/openstack-zuul-jobs,master,I94396834d66d7ba96f73280943efc6ab3dbff802,Openstack-Helm: only run legacy jobs on primary node,MERGED,2017-11-05 23:22:03.000000000,2017-11-07 02:47:20.000000000,2017-11-07 02:47:20.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2017-11-05 23:22:03.000000000', 'files': ['playbooks/legacy/openstack-helm-multi-basic-ovs-rbd-ubuntu-xenial-3-node/run.yaml', 'playbooks/legacy/openstack-helm-multi-basic-linuxbridge-rbd-ubuntu-xenial-3-node/run.yaml', 'playbooks/legacy/openstack-helm-multi-armada-ovs-rbd-ubuntu-xenial-3-node/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f1efc1e3daff67d2e555c37ab239a9d3ee850285', 'message': 'Openstack-Helm: only run legacy jobs on primary node\n\nThis PS updates the legacy OSH multinode jobs to only run on the\nprimary nodes.\n\nChange-Id: I94396834d66d7ba96f73280943efc6ab3dbff802\n'}]",0,517834,f1efc1e3daff67d2e555c37ab239a9d3ee850285,9,5,1,23928,,,0,"Openstack-Helm: only run legacy jobs on primary node

This PS updates the legacy OSH multinode jobs to only run on the
primary nodes.

Change-Id: I94396834d66d7ba96f73280943efc6ab3dbff802
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/34/517834/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/openstack-helm-multi-basic-ovs-rbd-ubuntu-xenial-3-node/run.yaml', 'playbooks/legacy/openstack-helm-multi-basic-linuxbridge-rbd-ubuntu-xenial-3-node/run.yaml', 'playbooks/legacy/openstack-helm-multi-armada-ovs-rbd-ubuntu-xenial-3-node/run.yaml']",3,f1efc1e3daff67d2e555c37ab239a9d3ee850285,openstack-helm-multinode-fix,- hosts: primary,- hosts: all,3,3
openstack%2Fproject-config~master~I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc,openstack/project-config,master,I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc,Use openstack-tox-functional,MERGED,2017-11-04 15:48:25.000000000,2017-11-07 02:44:00.000000000,2017-11-07 02:44:00.000000000,"[{'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 15:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/940f9d91fbc3ccb298760502b1dc84c375b8ca4c', 'message': 'Use openstack-tox-functional\n\nUse new openstack-tox-functional job instead of custom jobs.\n\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\nNeeded-By: I87be25a6c87b90e5f3219624a74a3a15440af0c8\nChange-Id: I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc\n'}, {'number': 2, 'created': '2017-11-04 16:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a152680ef0f62103bdecce015b6a25bf6cd65fdf', 'message': 'Use openstack-tox-functional\n\nUse new openstack-tox-functional job instead of custom jobs.\n\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\nNeeded-By: I87be25a6c87b90e5f3219624a74a3a15440af0c8\nChange-Id: I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc\n'}, {'number': 3, 'created': '2017-11-05 18:50:35.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b4b6d29575e3e247f3b86284c3caf9149f7f5845', 'message': 'Use openstack-tox-functional\n\nUse new openstack-tox-functional job instead of custom jobs.\n\nDepends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\nNeeded-By: I87be25a6c87b90e5f3219624a74a3a15440af0c8\nChange-Id: I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc\n'}]",0,517762,b4b6d29575e3e247f3b86284c3caf9149f7f5845,11,3,3,6547,,,0,"Use openstack-tox-functional

Use new openstack-tox-functional job instead of custom jobs.

Depends-On: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b
Needed-By: I87be25a6c87b90e5f3219624a74a3a15440af0c8
Change-Id: I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/517762/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,940f9d91fbc3ccb298760502b1dc84c375b8ca4c,tox-functional, - openstack-tox-functional: - openstack-tox-functional - openstack-tox-functional - openstack-tox-functional: - openstack-nova-tox-functional: - openstack-tox-functional - openstack-tox-functional - openstack-tox-functional - openstack-tox-functional - openstack-tox-functional - openstack-tox-functional, - legacy-cinder-tox-functional: - legacy-craton-tox-functional - legacy-craton-tox-functional - legacy-nova-tox-functional: - legacy-nova-tox-functional: - legacy-nova-dpm-tox-functional - legacy-nova-dpm-tox-functional - legacy-ooi-tox-functional - legacy-ooi-tox-functional - legacy-ovsdbapp-tox-functional - legacy-ovsdbapp-tox-functional,11,11
openstack%2Fproject-config~master~I2c7f6a0cb7f1acd38556a37c866bd35ea3369600,openstack/project-config,master,I2c7f6a0cb7f1acd38556a37c866bd35ea3369600,Remove legacy dsvm jobs from openstacksdk,MERGED,2017-11-07 02:31:32.000000000,2017-11-07 02:43:59.000000000,2017-11-07 02:43:59.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-07 02:31:32.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a2a3f65bf3aa9ad3f3e0c9cf6e4edc45d15a33fd', 'message': ""Remove legacy dsvm jobs from openstacksdk\n\nThey're broken anyway, but instead of fixing them in ozj, we'll just fix\nthem in the python-openstacksdk repo.\n\nChange-Id: I2c7f6a0cb7f1acd38556a37c866bd35ea3369600\n""}]",0,518202,a2a3f65bf3aa9ad3f3e0c9cf6e4edc45d15a33fd,7,3,1,2,,,0,"Remove legacy dsvm jobs from openstacksdk

They're broken anyway, but instead of fixing them in ozj, we'll just fix
them in the python-openstacksdk repo.

Change-Id: I2c7f6a0cb7f1acd38556a37c866bd35ea3369600
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/518202/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a2a3f65bf3aa9ad3f3e0c9cf6e4edc45d15a33fd,, - publish-openstack-sphinx-docs, check: jobs: - legacy-sdk-dsvm-functional: voting: false - legacy-sdk-dsvm-load-balancer-functional: voting: false - legacy-python-openstacksdk-docs: branches: ^(?!bug/).*$,1,8
openstack%2Fwatcher~master~I8e9099aa5caf6bf17ea912e7b1a600af3b6d519d,openstack/watcher,master,I8e9099aa5caf6bf17ea912e7b1a600af3b6d519d,Update doc and add release note about cdm-scoping,MERGED,2017-10-31 01:12:40.000000000,2017-11-07 02:36:38.000000000,2017-11-07 02:36:38.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 26001}]","[{'number': 1, 'created': '2017-10-31 01:12:40.000000000', 'files': ['doc/source/contributor/plugin/cdmc-plugin.rst', 'releasenotes/notes/cdm-scoping-8d9c307bad46bfa1.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/8dcac1597b244e8d2de0f56608020acb394a0e6b', 'message': 'Update doc and add release note about cdm-scoping\n\nThis patch updates document and add release note for cdm-scoping.\n\nChange-Id: I8e9099aa5caf6bf17ea912e7b1a600af3b6d519d\nPartially-Implements: blueprint cdm-scoping\n'}]",0,516480,8dcac1597b244e8d2de0f56608020acb394a0e6b,7,4,1,13111,,,0,"Update doc and add release note about cdm-scoping

This patch updates document and add release note for cdm-scoping.

Change-Id: I8e9099aa5caf6bf17ea912e7b1a600af3b6d519d
Partially-Implements: blueprint cdm-scoping
",git fetch https://review.opendev.org/openstack/watcher refs/changes/80/516480/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/plugin/cdmc-plugin.rst', 'releasenotes/notes/cdm-scoping-8d9c307bad46bfa1.yaml']",2,8dcac1597b244e8d2de0f56608020acb394a0e6b,bp/cdm-scoping,--- features: - | Each CDM collector can have its own CDM scoper now. This changed Scope JSON schema definition for the audit template POST data. Please see audit template create help message in python-watcherclient. ,,16,0
openstack%2Fpython-cinderclient~master~If5453bdbad24d0e408996993a2181849011c34a0,openstack/python-cinderclient,master,If5453bdbad24d0e408996993a2181849011c34a0,"Revert ""Add .stestr.conf configuration""",ABANDONED,2017-11-06 23:43:15.000000000,2017-11-07 02:23:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 5196}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 23:43:15.000000000', 'files': ['.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9c415dbb5e13642eb39ff27b6c265f774d707fa8', 'message': 'Revert ""Add .stestr.conf configuration""\n\nTest to see if stestr is the cause of our py35 failures.\n\nThis reverts commit 203251d7ddd434660abefcc733e9518e367a7c98.\n\nChange-Id: If5453bdbad24d0e408996993a2181849011c34a0\n'}]",0,518126,9c415dbb5e13642eb39ff27b6c265f774d707fa8,4,7,1,11904,,,0,"Revert ""Add .stestr.conf configuration""

Test to see if stestr is the cause of our py35 failures.

This reverts commit 203251d7ddd434660abefcc733e9518e367a7c98.

Change-Id: If5453bdbad24d0e408996993a2181849011c34a0
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/26/518126/1 && git format-patch -1 --stdout FETCH_HEAD,"['.testr.conf', 'tox.ini', '.stestr.conf']",3,9c415dbb5e13642eb39ff27b6c265f774d707fa8,stestr,,[DEFAULT] test_path=${OS_TEST_PATH:-./cinderclient/tests/unit} top_dir=./ ,6,14
openstack%2Fzun~master~Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48,openstack/zun,master,Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48,Port pci request from nova to zun,MERGED,2017-10-16 09:30:42.000000000,2017-11-07 02:20:39.000000000,2017-11-07 02:20:39.000000000,"[{'_account_id': 8264}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 21020}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 25026}]","[{'number': 1, 'created': '2017-10-16 09:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/10c9a42c9f426aca6c8f063b62af8fe885e1baf5', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 2, 'created': '2017-10-17 09:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/142c947c43add6e23aeac6e5822c10fc04ca055c', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 3, 'created': '2017-10-18 02:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a8e90cf2cc0455fef81a61fe3b3342e930e5e85f', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 4, 'created': '2017-10-18 08:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ad1d4931e5f8e1d38daacd3f3938d007dfe9fe2f', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 5, 'created': '2017-10-19 06:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9234283eba2f6c723f90f831a1e074e469aaf8c4', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 6, 'created': '2017-10-19 08:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d31821fd747067ca9106cba3869c4b6d074e188b', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 7, 'created': '2017-10-19 19:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4e8f797245e7ec121d242194b9fd9175933ac8fb', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 8, 'created': '2017-10-20 06:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fc67a57393efd327727ca9ee1a0c5e9cebabeeb6', 'message': '[WIP]Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 9, 'created': '2017-10-23 01:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/be1d93b03a7eccad9e168ca69ff900225d35751c', 'message': 'Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 10, 'created': '2017-10-26 22:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ba1a5a2f84f01391fba254db6f2f3ce3943a012d', 'message': 'Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 11, 'created': '2017-10-26 23:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ba3fd78e5891af494b3bcbace32ea58094aed886', 'message': 'Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 12, 'created': '2017-10-27 00:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8bc92643740e8730f0017acd249699361ba42bad', 'message': 'Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 13, 'created': '2017-10-31 22:34:13.000000000', 'files': ['zun/objects/container_pci_requests.py', 'zun/compute/api.py', 'zun/tests/unit/compute/test_compute_manager.py', 'zun/compute/claims.py', 'zun/objects/__init__.py', 'zun/tests/unit/objects/test_objects.py', 'zun/compute/rpcapi.py', 'zun/network/kuryr_network.py', 'zun/network/model.py', 'zun/compute/manager.py', 'zun/tests/unit/network/test_kuryr_network.py', 'zun/compute/compute_node_tracker.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/objects/container.py', 'zun/pci/manager.py', 'zun/pci/request.py', 'zun/api/controllers/v1/containers.py', 'zun/objects/pci_device.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/34b132eaad2db2f330eb1830086f496e8da0f6b8', 'message': 'Port pci request from nova to zun\n\nChange-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48\nDepends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}]",12,512230,34b132eaad2db2f330eb1830086f496e8da0f6b8,47,8,13,8264,,,0,"Port pci request from nova to zun

Change-Id: Iae65d7278e7f2f7c484a906f0101f1fbf0fdfd48
Depends-On: Ie9f278afb1af68379f8f641eba2e97dd582697cc
Partially-Implements: blueprint support-pcipassthroughfilter
",git fetch https://review.opendev.org/openstack/zun refs/changes/30/512230/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/objects/container_pci_requests.py', 'zun/compute/api.py', 'zun/db/api.py', 'zun/compute/claims.py', 'zun/objects/__init__.py', 'zun/db/sqlalchemy/api.py', 'zun/compute/rpcapi.py', 'zun/network/kuryr_network.py', 'zun/network/model.py', 'zun/compute/manager.py', 'zun/compute/compute_node_tracker.py', 'zun/pci/manager.py', 'zun/pci/request.py', 'zun/api/controllers/v1/containers.py']",14,10c9a42c9f426aca6c8f063b62af8fe885e1baf5,bp/support-pcipassthroughfilter,"from zun.network import model as network_modelfrom zun.pci import request as pci_request pci_req = self._create_pci_requests_for_sriov_ports(context, requested_networks) kwargs['pci_requests'] = pci_req def _create_pci_requests_for_sriov_ports(self, context, requested_networks): pci_requests = objects.ContainerPCIRequests(requests=[]) if not requested_networks: return neutron_api = neutron.NeutronAPI(context) for req_net in requested_networks: pyynet_name = None vnic_type = network_model.VNIC_TYPE_NORMAL if request_net.port_id: vnic_type, phynet_name = self._get_port_vnic_info( context, neutron_api, request_net.port_id) pci_request_id = None if vnic_type in network_model.VNIC_TYPES_SRIOV: spec = {pci_request.PCI_NET_TAG: phynet_name} dev_type = pci_request.DEVICE_TYPE_FOR_VNIC_TYPE.get(vnic_type) if dev_type: spec[pci_request.PCI_DEVICE_TYPE_TAG] = dev_type request = objects.ContainerPCIRequest( count=1, spec=[spec], request_id=uuidutils.generate_uuid()) pci_requests.requests.append(request) pci_request_id = request.request_id request_net.pci_request_id = pci_request_id return pci_requests ", kwargs['requested_networks'] = requested_networks,577,21
openstack%2Fzun~master~Ie9f278afb1af68379f8f641eba2e97dd582697cc,openstack/zun,master,Ie9f278afb1af68379f8f641eba2e97dd582697cc,port pci tracker from nova to zun,MERGED,2017-09-28 02:14:05.000000000,2017-11-07 02:16:19.000000000,2017-11-07 02:16:19.000000000,"[{'_account_id': 3}, {'_account_id': 8264}, {'_account_id': 8871}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 19554}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 25026}]","[{'number': 1, 'created': '2017-09-28 02:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7f5165c0f678199523b250a20c323796eda77b4d', 'message': '[WIP]port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 2, 'created': '2017-10-11 09:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3b2bd52b367c8bc70ca322ce4435300b0fddb71f', 'message': '[WIP]port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 3, 'created': '2017-10-12 02:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3f53238a93fbd8bc05123ef7168dc16b00504a48', 'message': '[WIP]port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 4, 'created': '2017-10-13 03:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/347dbf1c1fb1712e115fe482f5caee97e2a37623', 'message': '[WIP]port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 5, 'created': '2017-10-13 06:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3a42a7474b97c758a1efa2d8c780f061e20a6883', 'message': '[WIP]port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 6, 'created': '2017-10-13 07:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f9b50fd719f89c0dd3d1059aaf050e37884eb5b4', 'message': 'port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 7, 'created': '2017-10-16 01:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/37e81275f5567e2e77dc31ebc39d4915b2285f14', 'message': 'port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 8, 'created': '2017-10-19 06:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/77a071338aeb95bdf1f6df2abd530b730f6008c3', 'message': 'port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 9, 'created': '2017-10-19 19:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/14e4f7a768a39f4cd1be83f64801baffb52239cb', 'message': 'port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}, {'number': 10, 'created': '2017-10-26 22:13:00.000000000', 'files': ['zun/container/driver.py', 'zun/tests/base.py', 'zun/tests/unit/objects/test_objects.py', 'zun/tests/unit/pci/test_utils.py', 'zun/pci/utils.py', 'zun/db/sqlalchemy/alembic/versions/f046346d1d87_add_timestamp_to_pci_device.py', 'zun/objects/compute_node.py', 'zun/container/os_capability/host_capability.py', 'zun/tests/unit/pci/test_manager.py', 'zun/compute/compute_node_tracker.py', 'zun/pci/manager.py', 'zun/tests/unit/container/os_capability/linux/os_capability_linux/test_os_capability_linux.py', 'zun/objects/pci_device.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f44af3de860f3cd6e0581c68d743f0d57f54db34', 'message': 'port pci tracker from nova to zun\n\nChange-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc\nDepends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe\nPartially-Implements: blueprint support-pcipassthroughfilter\n'}]",6,508025,f44af3de860f3cd6e0581c68d743f0d57f54db34,37,10,10,8264,,,0,"port pci tracker from nova to zun

Change-Id: Ie9f278afb1af68379f8f641eba2e97dd582697cc
Depends-On: I93ce4fdec7e6d870ee4e57e73374089ba27becfe
Partially-Implements: blueprint support-pcipassthroughfilter
",git fetch https://review.opendev.org/openstack/zun refs/changes/25/508025/6 && git format-patch -1 --stdout FETCH_HEAD,"['zun/pci/utils.py', 'zun/container/os_capability/host_capability.py', 'zun/container/driver.py', 'zun/compute/compute_node_tracker.py', 'zun/pci/manager.py']",5,7f5165c0f678199523b250a20c323796eda77b4d,bp/support-pcipassthroughfilter,"# Copyright (c) 2017 Intel, Inc. # Copyright (c) 2017 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections from oslo_config import cfg from oslo_log import log as logging from oslo_serialization import jsonutils from zun.common import exception from zun import objects from zun.objects import fields from zun.pci import stats from zun.pci import whitelist CONF = cfg.CONF LOG = logging.getLogger(__name__) class PciDevTracker(object): """"""Manage pci devices in a compute node. This class fetches pci passthrough information from compute node and tracks the usage of these devices. It's called by compute node resource tracker to allocate and free devices to/from containers, and to update the available pci passthrough devices information from compute node periodically. `pci_devs` attribute of this class is the in-memory ""master copy"" of all devices on each compute node, and all data changes that happen when claiming/allocating/freeing devices HAVE TO be made against container contained in `pci_devs` list, because they are periodically flushed to the DB when the save() method is called. It is unsafe to fetch PciDevice objects elsewhere in the code for update purposes as those changes will end up being overwritten when the `pci_devs` are saved. """""" def __init__(self, context, node_id=None): """"""Create a pci device tracker. If a node_id is passed in, it will fetch pci devices information from database, otherwise, it will create an empty devices list and the resource tracker will update the node_id information later. """""" super(PciDevTracker, self).__init__() self.stale = {} self.node_id = node_id self.dev_filter = whitelist.Whitelist(CONF.pci.passthrough_whitelist) self.stats = stats.PciDeviceStats(dev_filter=self.dev_filter) self._context = context if node_id: self.pci_devs = objects.PciDeviceList.get_by_compute_node( context, node_id) else: self.pci_devs = objects.PciDeviceList(objects=[]) self._build_device_tree(self.pci_devs) self._initial_instance_usage() def _initial_instance_usage(self): self.allocations = collections.defaultdict(list) self.claims = collections.defaultdict(list) for dev in self.pci_devs: uuid = dev.instance_uuid if dev.status == fields.PciDeviceStatus.CLAIMED: self.claims[uuid].append(dev) elif dev.status == fields.PciDeviceStatus.ALLOCATED: self.allocations[uuid].append(dev) elif dev.status == fields.PciDeviceStatus.AVAILABLE: self.stats.add_device(dev) def save(self, context): for dev in self.pci_devs: if dev.obj_what_changed(): with dev.obj_alternate_context(context): dev.save() if dev.status == fields.PciDeviceStatus.DELETED: self.pci_devs.objects.remove(dev) @property def pci_stats(self): return self.stats def update_devices_from_compute_resources(self, devices_json): """"""Sync the pci device tracker with compute node information. To support pci device hot plug, we sync with the compute node periodically, fetching all devices information from compute node, update the tracker and sync the DB information. Devices should not be hot-plugged when assigned to a guest, but possibly the compute node has no such guarantee. The best we can do is to give a warning if a device is changed or removed while assigned. :param devices_json: The JSON-ified string of device information that is returned from the compute node. """""" devices = [] for dev in jsonutils.loads(devices_json): if self.dev_filter.device_assignable(dev): devices.append(dev) self._set_hvdevs(devices) @staticmethod def _build_device_tree(all_devs): """"""Build a tree of devices that represents parent-child relationships. We need to have the relationships set up so that we can easily make all the necessary changes to parent/child devices without having to figure it out at each call site. This method just adds references to relevant containers already found in `pci_devs` to `child_devices` and `parent_device` fields of each one. Currently relationships are considered for SR-IOV PFs/VFs only. """""" # Ensures that devices are ordered in ASC so VFs will come # after their PFs. all_devs.sort(key=lambda x: x.address) parents = {} for dev in all_devs: if dev.status in (fields.PciDeviceStatus.REMOVED, fields.PciDeviceStatus.DELETED): # NOTE(ndipanov): Removed devs are pruned from # self.pci_devs on save() so we need to make sure we # are not looking at removed ones as we may build up # the tree sooner than they are pruned. continue if dev.dev_type == fields.PciDeviceType.SRIOV_PF: dev.child_devices = [] parents[dev.address] = dev elif dev.dev_type == fields.PciDeviceType.SRIOV_VF: dev.parent_device = parents.get(dev.parent_addr) if dev.parent_device: parents[dev.parent_addr].child_devices.append(dev) def _set_hvdevs(self, devices): exist_addrs = set([dev.address for dev in self.pci_devs]) new_addrs = set([dev['address'] for dev in devices]) for existed in self.pci_devs: if existed.address in exist_addrs - new_addrs: try: existed.remove() except exception.PciDeviceInvalidStatus as e: LOG.warning(_LW(""Trying to remove device with %(status)s "" ""ownership %(instance_uuid)s because of "" ""%(pci_exception)s""), {'status': existed.status, 'container_uuid': existed.container_uuid, 'pci_exception': e.format_message()}) # Note(yjiang5): remove the device by force so that # db entry is cleaned in next sync. existed.status = fields.PciDeviceStatus.REMOVED else: # Note(yjiang5): no need to update stats if an assigned # device is hot removed. self.stats.remove_device(existed) else: new_value = next((dev for dev in devices if dev['address'] == existed.address)) new_value['compute_node_id'] = self.node_id if existed.status in (fields.PciDeviceStatus.CLAIMED, fields.PciDeviceStatus.ALLOCATED): # Pci properties may change while assigned because of # hotplug or config changes. Although normally this should # not happen. # As the devices have been assigned to a container, # we defer the change till the container is destroyed. # We will not sync the new properties with database # before that. # TODO(yjiang5): Not sure if this is a right policy, but # at least it avoids some confusion and, if needed, # we can add more action like killing the container # by force in future. self.stale[new_value['address']] = new_value else: existed.update_device(new_value) for dev in [dev for dev in devices if dev['address'] in new_addrs - exist_addrs]: dev['compute_node_id'] = self.node_id dev_obj = objects.PciDevice.create(self._context, dev) self.pci_devs.objects.append(dev_obj) self.stats.add_device(dev_obj) self._build_device_tree(self.pci_devs) def _claim_container(self, context, pci_requests): instance_cells = None devs = self.stats.consume_requests(pci_requests.requests, instance_cells) if not devs: return None container_uuid = pci_requests.container_uuid for dev in devs: dev.claim(container_uuid) return devs def _allocate_container(self, container, devs): for dev in devs: dev.allocate(container) def allocate_container(self, container): devs = self.claims.pop(container['uuid'], []) self._allocate_container(container, devs) if devs: self.allocations[container['uuid']] += devs def claim_container(self, context, pci_requests, container_numa_topology): devs = [] if self.pci_devs and pci_requests.requests: container_uuid = pci_requests.container_uuid devs = self._claim_container(context, pci_requests, container_numa_topology) if devs: self.claims[container_uuid] = devs return devs def free_device(self, dev, container): """"""Free device from pci resource tracker :param dev: cloned pci device object that needs to be free :param instance: the container that this pci device is allocated to """""" for pci_dev in self.pci_devs: # Find the matching pci device in the pci resource tracker. # Once found, free it. if dev.id == pci_dev.id and dev.container_uuid == container['uuid']: self._remove_device_from_pci_mapping( container['uuid'], pci_dev, self.allocations) self._remove_device_from_pci_mapping( container['uuid'], pci_dev, self.claims) self._free_device(pci_dev) break def _remove_device_from_pci_mapping( self, container_uuid, pci_device, pci_mapping): """"""Remove a PCI device from allocations or claims. If there are no more PCI devices, pop the uuid. """""" pci_devices = pci_mapping.get(container_uuid, []) if pci_device in pci_devices: pci_devices.remove(pci_device) if len(pci_devices) == 0: pci_mapping.pop(container_uuid, None) def _free_device(self, dev, container=None): freed_devs = dev.free(container) stale = self.stale.pop(dev.address, None) if stale: dev.update_device(stale) for dev in freed_devs: self.stats.add_device(dev) def _free_container(self, container): for dev in self.pci_devs: if dev.status in (fields.PciDeviceStatus.CLAIMED, fields.PciDeviceStatus.ALLOCATED): if dev.container_uuid == container['uuid']: self._free_device(dev) def free_container(self, context, container): if self.allocations.pop(container['uuid'], None): self._free_container(container) elif self.claims.pop(container['uuid'], None): self._free_container(container) def update_pci_for_container(self, context, container, sign): """"""Update PCI usage information if devices are de/allocated. """""" if not self.pci_devs: return if sign == -1: self.free_container(context, container) if sign == 1: self.allocate_container(container) def clean_usage(self, containers, orphans): """"""Remove all usages for containers not passed in the parameter. The caller should hold the COMPUTE_RESOURCE_SEMAPHORE lock """""" existed = set(cnt['uuid'] for cnt in contianers) existed |= set(cnt['uuid'] for cnt in orphans) # need to copy keys, because the dict is modified in the loop body for uuid in list(self.claims): if uuid not in existed: devs = self.claims.pop(uuid, []) for dev in devs: self._free_device(dev) # need to copy keys, because the dict is modified in the loop body for uuid in list(self.allocations): if uuid not in existed: devs = self.allocations.pop(uuid, []) for dev in devs: self._free_device(dev) def get_container_pci_devs(cnt, request_id=None): """"""Get the devices allocated to one or all requests for a container. - For generic PCI request, the request id is None. - For sr-iov networking, the request id is a valid uuid - There are a couple of cases where all the PCI devices allocated to a container need to be returned. """""" pci_devices = cnt.pci_devices if pci_devices is None: return [] return [device for device in pci_devices if device.request_id == request_id or request_id == 'all'] ",,523,0
openstack%2Fvitrage~master~I21750909975be9f2743db0306f56f6e1daf0d530,openstack/vitrage,master,I21750909975be9f2743db0306f56f6e1daf0d530,Add make_pickleable_without_end_msg.,MERGED,2017-11-02 15:05:45.000000000,2017-11-07 02:11:05.000000000,2017-11-07 02:11:05.000000000,"[{'_account_id': 19184}, {'_account_id': 21414}, {'_account_id': 22348}, {'_account_id': 23760}]","[{'number': 1, 'created': '2017-11-02 15:05:45.000000000', 'files': ['vitrage/datasources/driver_base.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d3c2193e3d4c3a60c58976e84fa308ca8cc8a0b5', 'message': 'Add make_pickleable_without_end_msg.\n\nsince vitrage support the creation of new drivers,\nmake_pickleable function can be used for various drivers,\nincluding drivers which outside of openstack vitrage.\nIn order to enable drivers to use make_pickleable func\nwithout adding end_message (use case example: pagination\npurposes) the function make_pickleable_without_end_msg\nis added.\n\nChange-Id: I21750909975be9f2743db0306f56f6e1daf0d530\n'}]",2,517343,d3c2193e3d4c3a60c58976e84fa308ca8cc8a0b5,9,4,1,23760,,,0,"Add make_pickleable_without_end_msg.

since vitrage support the creation of new drivers,
make_pickleable function can be used for various drivers,
including drivers which outside of openstack vitrage.
In order to enable drivers to use make_pickleable func
without adding end_message (use case example: pagination
purposes) the function make_pickleable_without_end_msg
is added.

Change-Id: I21750909975be9f2743db0306f56f6e1daf0d530
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/43/517343/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/datasources/driver_base.py'],1,d3c2193e3d4c3a60c58976e84fa308ca8cc8a0b5,make_pickleable_with_end_message," pickleable_entities = cls.prepare_entities(entities, entity_type, datasource_action, args) if datasource_action == DatasourceAction.INIT_SNAPSHOT: pickleable_entities.append(cls._get_end_message(entity_type)) return pickleable_entities @classmethod def make_pickleable_without_end_msg(cls, entities, entity_type, datasource_action, *args): pickleable_entities = cls.prepare_entities(entities, entity_type, datasource_action, args) return pickleable_entities @classmethod def prepare_entities(cls, entities, entity_type, datasource_action, args): pickleable_entities = []", pickleable_entities = [] if datasource_action == DatasourceAction.INIT_SNAPSHOT: pickleable_entities.append(cls._get_end_message(entity_type)) ,17,5
openstack%2Fopenstack-ansible-os_magnum~stable%2Focata~I5bef8ab7f497803125a3c9d1659bea2747913e59,openstack/openstack-ansible-os_magnum,stable/ocata,I5bef8ab7f497803125a3c9d1659bea2747913e59,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:23:12.000000000,2017-11-07 01:58:33.000000000,2017-11-07 01:58:33.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:23:12.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/830481614c6460c6a1ab9bf87805108a1650d03e', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I5bef8ab7f497803125a3c9d1659bea2747913e59\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518072,830481614c6460c6a1ab9bf87805108a1650d03e,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I5bef8ab7f497803125a3c9d1659bea2747913e59
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/72/518072/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,830481614c6460c6a1ab9bf87805108a1650d03e,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fnetworking-ovn~master~Ia441981e0f0236e68b139726818a10fd927700ef,openstack/networking-ovn,master,Ia441981e0f0236e68b139726818a10fd927700ef,Optimize the link address,ABANDONED,2017-11-06 07:59:53.000000000,2017-11-07 01:47:13.000000000,,"[{'_account_id': 6579}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 07:59:53.000000000', 'files': ['doc/source/admin/refarch/figures/ovn-architecture1.svg', 'doc/source/admin/refarch/figures/ovn-hw.svg', 'doc/source/admin/refarch/figures/ovn-services.svg', 'doc/source/admin/refarch/figures/ovn-compute1.svg', 'doc/source/admin/refarch/figures/ovn-architecture-centralized-routing1.svg'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/656ed70be878cc614330d3d001fd3d3f7c872158', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\nChange-Id: Ia441981e0f0236e68b139726818a10fd927700ef\n'}]",0,517880,656ed70be878cc614330d3d001fd3d3f7c872158,4,2,1,23958,,,0,"Optimize the link address

Use https instead of http to ensure the safety without containing our
account/password information
Change-Id: Ia441981e0f0236e68b139726818a10fd927700ef
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/80/517880/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/refarch/figures/ovn-architecture1.svg', 'doc/source/admin/refarch/figures/ovn-hw.svg', 'doc/source/admin/refarch/figures/ovn-services.svg', 'doc/source/admin/refarch/figures/ovn-compute1.svg', 'doc/source/admin/refarch/figures/ovn-architecture-centralized-routing1.svg']",5,656ed70be878cc614330d3d001fd3d3f7c872158,fix-https,"<!DOCTYPE svg PUBLIC ""-//W3C//DTD SVG 1.1//EN"" ""https://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd""> <svg xmlns=""https://www.w3.org/2000/svg"" xmlns:xl=""https://www.w3.org/1999/xlink"" version=""1.1"" viewBox=""0 0 553.0748 611.25984"" width=""553.0748pt"" height=""611.25984pt"" xmlns:dc=""http://purl.org/dc/elements/1.1/"">","<!DOCTYPE svg PUBLIC ""-//W3C//DTD SVG 1.1//EN"" ""http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd""> <svg xmlns=""http://www.w3.org/2000/svg"" xmlns:xl=""http://www.w3.org/1999/xlink"" version=""1.1"" viewBox=""0 0 553.0748 611.25984"" width=""553.0748pt"" height=""611.25984pt"" xmlns:dc=""http://purl.org/dc/elements/1.1/"">",10,10
openstack%2Ftacker~master~I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42,openstack/tacker,master,I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42,Move legacy jobs to project,ABANDONED,2017-10-05 04:25:32.000000000,2017-11-07 01:40:14.000000000,,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 6547}, {'_account_id': 13702}, {'_account_id': 18955}, {'_account_id': 19741}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-10-05 04:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/941e8204a0920d2702aa498ea7a6fe097478b3dd', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 2, 'created': '2017-10-05 06:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f3a754ba4c94aa9d5bbff0edbf22c03dec6867eb', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 3, 'created': '2017-10-05 06:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/032c78b174e84fdb514600bfde929c4032189c3b', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 4, 'created': '2017-10-06 06:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b91a79d2c3235650f4bcd920674ed64a732c6d6b', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 5, 'created': '2017-10-09 06:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2fbc9c8238a5591a72f7feb979c43f9b7d7b77bd', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 6, 'created': '2017-10-09 06:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a9fbcd287e2fcd82a62000114d2d0fb3b58483a4', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 7, 'created': '2017-10-09 09:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/91b1d38f09af5714b601e0f8cc1371cbcdccfdd6', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 8, 'created': '2017-10-10 06:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8012b99f74ebef7a0502d22bc03033c2093f3603', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}, {'number': 9, 'created': '2017-10-18 15:50:19.000000000', 'files': ['playbooks/legacy/tacker-dsvm-functional/post.yaml', '.zuul.yaml', 'playbooks/legacy/tacker-dsvm-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/93c0361b40a47a487fecd5edee481e95d0d2a5bc', 'message': 'Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\n'}]",5,509687,93c0361b40a47a487fecd5edee481e95d0d2a5bc,41,8,9,22582,,,0,"Move legacy jobs to project

This patch implements first step in zuulv3 migration guide [1]:
Move jobs to tacker repo

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Change-Id: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42
",git fetch https://review.opendev.org/openstack/tacker refs/changes/87/509687/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tripleo-ci-centos-7-scenario001-multinode-oooq-puppet/run.yaml', 'playbooks/legacy/tripleo-ci-centos-7-scenario001-multinode-oooq-puppet/post.yaml', '.zuul.yaml']",3,941e8204a0920d2702aa498ea7a6fe097478b3dd,zuulv3,- project: name: openstack/tacker templates: - merge-check - check-requirements - openstack-python-jobs - publish-openstack-sphinx-docs - release-notes-jobs - translation-jobs - openstack-python35-jobs - api-ref-jobs - publish-to-pypi check: jobs: - tacker-dsvm-functional: voting: false - tripleo-ci-centos-7-scenario001-multinode-oooq-puppet: voting: false irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - job: name: tacker-dsvm-functional parent: legacy-dsvm-base run: playbooks/legacy/tacker-dsvm-functional/run post-run: playbooks/legacy/tacker-dsvm-functional/post timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/aodh - openstack/barbican - openstack/ceilometer - openstack/heat - openstack/mistral - openstack/mistral-dashboard - openstack/networking-sfc - openstack/python-barbicanclient - openstack/python-mistralclient - openstack/python-tackerclient - openstack/tacker - openstack/tacker-horizon - job: name: tripleo-ci-centos-7-scenario001-multinode-oooq-puppet parent: tripleo-ci-dsvm-multinode run: playbooks/legacy/tripleo-ci-centos-7-scenario001-multinode-oooq-puppet/run post-run: playbooks/legacy/tripleo-ci-centos-7-scenario001-multinode-oooq-puppet/post timeout: 10800 nodeset: centos-7-2-node ,,187,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Focata~I073b5aff3c85851534d59cbc8c55baa520209f5f,openstack/openstack-ansible-os_tempest,stable/ocata,I073b5aff3c85851534d59cbc8c55baa520209f5f,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:24:18.000000000,2017-11-07 01:38:30.000000000,2017-11-07 01:38:30.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:24:18.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/33175a6d5d563c42031e95796a75cb7c1b2ff23b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I073b5aff3c85851534d59cbc8c55baa520209f5f\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518081,33175a6d5d563c42031e95796a75cb7c1b2ff23b,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I073b5aff3c85851534d59cbc8c55baa520209f5f
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/81/518081/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,33175a6d5d563c42031e95796a75cb7c1b2ff23b,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_glance~stable%2Focata~I1260edc062808b89ac80b0497fff065141d11ed4,openstack/openstack-ansible-os_glance,stable/ocata,I1260edc062808b89ac80b0497fff065141d11ed4,Used cached git sources and enable depends-on,MERGED,2017-11-06 17:09:31.000000000,2017-11-07 01:36:42.000000000,2017-11-07 01:36:42.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 17:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/fc3a03a85b927a56223b929aa0ca2b15fa924928', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I1260edc062808b89ac80b0497fff065141d11ed4\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 17:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/883926bbb15af1cdbd4d7c7d37d288916dbcd556', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I1260edc062808b89ac80b0497fff065141d11ed4\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 3, 'created': '2017-11-06 17:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2905073aa9d0b79b814ec48d0560ef40aba2295d', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I1260edc062808b89ac80b0497fff065141d11ed4\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 4, 'created': '2017-11-06 18:15:12.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/b050e19f3fcd278d810647cdc64c345189d3aad5', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I1260edc062808b89ac80b0497fff065141d11ed4\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518032,b050e19f3fcd278d810647cdc64c345189d3aad5,12,4,4,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I1260edc062808b89ac80b0497fff065141d11ed4
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/32/518032/4 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,fc3a03a85b927a56223b929aa0ca2b15fa924928,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv]deps} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} bash -c ""if [ ! -d ""{toxinidir}/tests/common/previous"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests \ {toxinidir}/tests/common/previous; \ fi"" {[testenv:tests_clone]commands}",142,35
openstack%2Fopenstack-ansible-os_aodh~stable%2Focata~I7a386690c17de5bc63d5db6e7cefc15a4c30162f,openstack/openstack-ansible-os_aodh,stable/ocata,I7a386690c17de5bc63d5db6e7cefc15a4c30162f,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:21:49.000000000,2017-11-07 01:29:57.000000000,2017-11-07 01:29:57.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:21:49.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/f23bafaf8ed17f837a286182b88c408dfa7095a8', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I7a386690c17de5bc63d5db6e7cefc15a4c30162f\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518062,f23bafaf8ed17f837a286182b88c408dfa7095a8,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I7a386690c17de5bc63d5db6e7cefc15a4c30162f
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/62/518062/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,f23bafaf8ed17f837a286182b88c408dfa7095a8,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_designate~stable%2Focata~I6e9cfbcc14bc43ede11c4e7a8b7550463b2e0f14,openstack/openstack-ansible-os_designate,stable/ocata,I6e9cfbcc14bc43ede11c4e7a8b7550463b2e0f14,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:22:20.000000000,2017-11-07 01:27:57.000000000,2017-11-07 01:27:57.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:22:20.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/032fc80fa81c81fc107a9877a699d8f0aae2d12c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I6e9cfbcc14bc43ede11c4e7a8b7550463b2e0f14\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518066,032fc80fa81c81fc107a9877a699d8f0aae2d12c,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I6e9cfbcc14bc43ede11c4e7a8b7550463b2e0f14
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/66/518066/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,032fc80fa81c81fc107a9877a699d8f0aae2d12c,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Ftricircle~master~I43c39869d3c6d7295910324f55e3e995091b844e,openstack/tricircle,master,I43c39869d3c6d7295910324f55e3e995091b844e,Replace http with https for doc links in tricircle,ABANDONED,2017-09-04 01:37:38.000000000,2017-11-07 01:26:54.000000000,,"[{'_account_id': 3}, {'_account_id': 11819}, {'_account_id': 12076}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-09-04 01:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/ff5e39bcaac6f5aed1aa1770763fc7f9a7e335b6', 'message': 'Replace http with https for doc links in tricircle\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I43c39869d3c6d7295910324f55e3e995091b844e\n'}, {'number': 2, 'created': '2017-09-14 07:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/bb8e9205222988fb26143d23341deac0259f293a', 'message': 'Replace http with https for doc links in tricircle\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I43c39869d3c6d7295910324f55e3e995091b844e\n'}, {'number': 3, 'created': '2017-10-12 08:51:34.000000000', 'files': ['CONTRIBUTING.rst', 'specs/newton/cross-neutron-l2-networking.rst', 'specs/newton/dynamic-pod-binding.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/c1337c5ae923468e44f1c1ef6f346d70d2a2523a', 'message': 'Replace http with https for doc links in tricircle\n\n1) Update doc links according to OpenStack document migration\n2) Use https instead of http for docs links\n\nChange-Id: I43c39869d3c6d7295910324f55e3e995091b844e\n'}]",9,500416,c1337c5ae923468e44f1c1ef6f346d70d2a2523a,16,5,3,23317,,,0,"Replace http with https for doc links in tricircle

1) Update doc links according to OpenStack document migration
2) Use https instead of http for docs links

Change-Id: I43c39869d3c6d7295910324f55e3e995091b844e
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/16/500416/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'specs/newton/cross-neutron-l2-networking.rst', 'specs/newton/dynamic-pod-binding.rst']",3,ff5e39bcaac6f5aed1aa1770763fc7f9a7e335b6,f_http,[1] https://developer.openstack.org/api-ref/compute/#showCellCapacities [2] https://developer.openstack.org/api-ref/block-storage/index.html#os-vol-pool-v2 [3] https://developer.openstack.org/api-ref/compute/#showinfo,[1] http://developer.openstack.org/api-ref-compute-v2.1.html#showCellCapacities [2] http://developer.openstack.org/api-ref-blockstorage-v2.html#os-vol-pool-v2 [3] http://developer.openstack.org/api-ref-compute-v2.1.html#showinfo,7,7
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Focata~I255f4e97869a93b9530abed138f18ef205d46c5e,openstack/openstack-ansible-rabbitmq_server,stable/ocata,I255f4e97869a93b9530abed138f18ef205d46c5e,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:25:05.000000000,2017-11-07 01:25:18.000000000,2017-11-07 01:25:18.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:25:05.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/d0b6767cff2b30cf1afdcf4c83630a8b77938f15', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I255f4e97869a93b9530abed138f18ef205d46c5e\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518087,d0b6767cff2b30cf1afdcf4c83630a8b77938f15,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I255f4e97869a93b9530abed138f18ef205d46c5e
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/87/518087/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,d0b6767cff2b30cf1afdcf4c83630a8b77938f15,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-galera_server~stable%2Focata~I246b62a2261f12e5ac3781423bd4549fcb3e67b1,openstack/openstack-ansible-galera_server,stable/ocata,I246b62a2261f12e5ac3781423bd4549fcb3e67b1,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:20:30.000000000,2017-11-07 01:24:47.000000000,2017-11-07 01:24:47.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:20:30.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/b586b9fa1ee7964e0a192b5ea9682d7bcbb14f1e', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I246b62a2261f12e5ac3781423bd4549fcb3e67b1\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518053,b586b9fa1ee7964e0a192b5ea9682d7bcbb14f1e,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I246b62a2261f12e5ac3781423bd4549fcb3e67b1
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/53/518053/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,b586b9fa1ee7964e0a192b5ea9682d7bcbb14f1e,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}[testenv:ssl] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_PARAMETERS=-vvv -e galera_use_ssl=True -e galera_user_ssl_ca_cert=""/tmp/self-signed-certs/galera-ca.crt"" -e galera_user_ssl_cert=""/tmp/self-signed-certs/galera.crt"" -e galera_user_ssl_key=""/tmp/self-signed-certs/galera.key"" commands = {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh""",142,39
openstack%2Fopenstack-ansible-os_cinder~stable%2Focata~I659eba681b4c669d55a8185c35a23e61d8396337,openstack/openstack-ansible-os_cinder,stable/ocata,I659eba681b4c669d55a8185c35a23e61d8396337,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:08:25.000000000,2017-11-07 01:23:13.000000000,2017-11-07 01:23:13.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/89e0ba479e121bc6071e70202eb2f7707de75190', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I659eba681b4c669d55a8185c35a23e61d8396337\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 18:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/6bc0be082b9018a7c6795b9dfab5bc32e45dd64b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I659eba681b4c669d55a8185c35a23e61d8396337\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 3, 'created': '2017-11-06 18:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/554bd7d3d0c7a85370b477bb7eb53c22ff0011b9', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I659eba681b4c669d55a8185c35a23e61d8396337\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 4, 'created': '2017-11-06 18:15:56.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/370defdb9e6619d12d258a92f0941175d774b749', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I659eba681b4c669d55a8185c35a23e61d8396337\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",2,518048,370defdb9e6619d12d258a92f0941175d774b749,15,5,4,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I659eba681b4c669d55a8185c35a23e61d8396337
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/48/518048/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,89e0ba479e121bc6071e70202eb2f7707de75190,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}[testenv:upgrade] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} TEST_PLAYBOOK={toxinidir}/tests/test-upgrade.yml commands = {[testenv:tests_clone]commands} bash -c ""if [ ! -d ""{toxinidir}/tests/common/previous"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests \ {toxinidir}/tests/common/previous; \ fi"" bash -c ""{toxinidir}/tests/test-cinder-upgrades.sh"" ",142,46
openstack%2Fopenstack-ansible-os_heat~stable%2Focata~I83e70bef1d4484035d8c7578b067f543013b2bcc,openstack/openstack-ansible-os_heat,stable/ocata,I83e70bef1d4484035d8c7578b067f543013b2bcc,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:22:35.000000000,2017-11-07 01:22:52.000000000,2017-11-07 01:22:52.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:22:35.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/6bba1cd7fab4672493d8a48790a1a71f74813dad', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I83e70bef1d4484035d8c7578b067f543013b2bcc\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518068,6bba1cd7fab4672493d8a48790a1a71f74813dad,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I83e70bef1d4484035d8c7578b067f543013b2bcc
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/68/518068/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,6bba1cd7fab4672493d8a48790a1a71f74813dad,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_sahara~stable%2Focata~I421755a018138edaf27bf9b3b4eb9db268e7d8db,openstack/openstack-ansible-os_sahara,stable/ocata,I421755a018138edaf27bf9b3b4eb9db268e7d8db,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:23:58.000000000,2017-11-07 01:22:43.000000000,2017-11-07 01:22:43.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:23:58.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/614e12928929a1a1e2546eb6c9ed4bb375c39845', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I421755a018138edaf27bf9b3b4eb9db268e7d8db\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518078,614e12928929a1a1e2546eb6c9ed4bb375c39845,8,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I421755a018138edaf27bf9b3b4eb9db268e7d8db
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/78/518078/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,614e12928929a1a1e2546eb6c9ed4bb375c39845,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",143,32
openstack%2Fnova~stable%2Fpike~I4482ac2ecf8e07c197fd24c520b7f11fd5a10945,openstack/nova,stable/pike,I4482ac2ecf8e07c197fd24c520b7f11fd5a10945,Avoid deleting allocations for instances being built,MERGED,2017-11-06 07:59:04.000000000,2017-11-07 01:21:22.000000000,2017-11-07 01:21:22.000000000,"[{'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-06 07:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61e8726b8b0e295fec561d508e2fdaf10d10dafb', 'message': ""Avoid deleting allocations for instances being built\n\nThe resource tracker's _remove_deleted_instances_allocations() assumes that\nInstanceNotFound means that an instance was deleted. That's not quite accurate,\nas we would also see that in the window between creating allocations and actually\ncreating the instance in the cell database. So, the code now will kill\nallocations for those instances before they are created.\n\nThis change makes us look up the instance with read_deleted=yes, and if we find\nit with deleted=True, then we do the allocation removal. This does mean that\nsomeone running a full DB archive at the instant an instance is deleted in some\nway that didn't result in allocation removal as well could leak those. However,\nwe can log that (unlikely) situation.\n\nCloses-Bug: #1729371\n\nConflicts:\n      nova/compute/resource_tracker.py\n      nova/tests/unit/compute/test_resource_tracker.py\n\nNOTE(mriedem): Conflicts were due to not having change\n1ff1310683c647517aa825059e4e6ad706e3da19 in Pike.\n\nChange-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945\n(cherry picked from commit d176175db456e4a312eed37ed4f5adcc06292fd5)\n""}, {'number': 2, 'created': '2017-11-06 12:06:56.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/70ef1fa159c9941129827dbe93d4acc718fdb7ad', 'message': ""Avoid deleting allocations for instances being built\n\nThe resource tracker's _remove_deleted_instances_allocations() assumes that\nInstanceNotFound means that an instance was deleted. That's not quite accurate,\nas we would also see that in the window between creating allocations and actually\ncreating the instance in the cell database. So, the code now will kill\nallocations for those instances before they are created.\n\nThis change makes us look up the instance with read_deleted=yes, and if we find\nit with deleted=True, then we do the allocation removal. This does mean that\nsomeone running a full DB archive at the instant an instance is deleted in some\nway that didn't result in allocation removal as well could leak those. However,\nwe can log that (unlikely) situation.\n\nCloses-Bug: #1729371\n\nConflicts:\n      nova/compute/resource_tracker.py\n      nova/tests/unit/compute/test_resource_tracker.py\n\nNOTE(mriedem): Conflicts were due to not having change\n1ff1310683c647517aa825059e4e6ad706e3da19 or change\ne3b7f43e3ae9689967d2ecd1cd7974d829c78c85 in Pike.\n\nChange-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945\n(cherry picked from commit d176175db456e4a312eed37ed4f5adcc06292fd5)\n""}]",0,517879,70ef1fa159c9941129827dbe93d4acc718fdb7ad,26,11,2,6873,,,0,"Avoid deleting allocations for instances being built

The resource tracker's _remove_deleted_instances_allocations() assumes that
InstanceNotFound means that an instance was deleted. That's not quite accurate,
as we would also see that in the window between creating allocations and actually
creating the instance in the cell database. So, the code now will kill
allocations for those instances before they are created.

This change makes us look up the instance with read_deleted=yes, and if we find
it with deleted=True, then we do the allocation removal. This does mean that
someone running a full DB archive at the instant an instance is deleted in some
way that didn't result in allocation removal as well could leak those. However,
we can log that (unlikely) situation.

Closes-Bug: #1729371

Conflicts:
      nova/compute/resource_tracker.py
      nova/tests/unit/compute/test_resource_tracker.py

NOTE(mriedem): Conflicts were due to not having change
1ff1310683c647517aa825059e4e6ad706e3da19 or change
e3b7f43e3ae9689967d2ecd1cd7974d829c78c85 in Pike.

Change-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945
(cherry picked from commit d176175db456e4a312eed37ed4f5adcc06292fd5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/517879/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,61e8726b8b0e295fec561d508e2fdaf10d10dafb,bug/1729371," read_deleted_context = context.elevated(read_deleted='yes') instance = objects.Instance.get_by_uuid(read_deleted_context, instance_uuid, # The instance isn't even in the database. Either the scheduler # _just_ created an allocation for it and we're racing with the # creation in the cell database, or the instance was deleted # and fully archived before we got a chance to run this. The # former is far more likely than the latter. Avoid deleting # allocations for a building instance here. LOG.info(""Instance %(uuid)s has allocations against this "" ""compute host but is not found in the database."", {'uuid': instance_uuid}, exc_info=False) continue if instance.deleted:"," instance = objects.Instance.get_by_uuid(context, instance_uuid,",123,61
openstack%2Fneutron~master~I4cfa478f3393cf3734653995e00a1aa3f1afd6ad,openstack/neutron,master,I4cfa478f3393cf3734653995e00a1aa3f1afd6ad,ovs-fw: catches exception from ovsdb,ABANDONED,2017-11-07 01:10:45.000000000,2017-11-07 01:21:03.000000000,,[],"[{'number': 1, 'created': '2017-11-07 01:10:45.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3f8b68fe23c03a30e396bad8f8ceca6917272f3', 'message': 'ovs-fw: catches exception from ovsdb\n\ne.g.OVS agent will be arised exception when deleting multiple vms in bulk.\nNova will delete tap by libvirt when removed vms at first.Then, ovs agent\ncheck ovs_port by ""self.get_ovs_port"" , and the exception will be raised.\nThe patch catches exception caused by inconsistency coming from ovsdb.\n\nChange-Id: I4cfa478f3393cf3734653995e00a1aa3f1afd6ad\nCloses-Bug: #1729213\n'}]",0,518188,f3f8b68fe23c03a30e396bad8f8ceca6917272f3,2,0,1,25943,,,0,"ovs-fw: catches exception from ovsdb

e.g.OVS agent will be arised exception when deleting multiple vms in bulk.
Nova will delete tap by libvirt when removed vms at first.Then, ovs agent
check ovs_port by ""self.get_ovs_port"" , and the exception will be raised.
The patch catches exception caused by inconsistency coming from ovsdb.

Change-Id: I4cfa478f3393cf3734653995e00a1aa3f1afd6ad
Closes-Bug: #1729213
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/518188/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,f3f8b68fe23c03a30e396bad8f8ceca6917272f3,bug/1729213," try: ovs_port = self.get_ovs_port(port_id) except exceptions.OVSFWPortNotFound as not_found_e: LOG.error(""Initializing unfiltered port %(port_id)s that does not "" ""exist in ovsdb: %(err)s."", {'port_id': port_id, 'err': not_found_e}) return if of_port: self.initialize_port_flows(of_port) self.add_flows_from_rules(of_port) if of_port: self.initialize_port_flows(of_port) self.add_flows_from_rules(of_port)", ovs_port = self.get_ovs_port(port_id) try: self.initialize_port_flows(of_port) self.add_flows_from_rules(of_port) self.initialize_port_flows(of_port) self.add_flows_from_rules(of_port),13,5
openstack%2Fopenstack-ansible-os_neutron~stable%2Focata~I06152476c4a3ac5486d342752a0d0f84823a0d97,openstack/openstack-ansible-os_neutron,stable/ocata,I06152476c4a3ac5486d342752a0d0f84823a0d97,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:23:36.000000000,2017-11-07 01:20:52.000000000,2017-11-07 01:20:52.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/31873eb66118917e26c2078ce58be50845daa167', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I06152476c4a3ac5486d342752a0d0f84823a0d97\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 18:43:57.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/964279bdf8425a0cde077c13a11b15a76d64dd24', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I06152476c4a3ac5486d342752a0d0f84823a0d97\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518076,964279bdf8425a0cde077c13a11b15a76d64dd24,10,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I06152476c4a3ac5486d342752a0d0f84823a0d97
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/76/518076/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,31873eb66118917e26c2078ce58be50845daa167,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," ANSIBLE_INVENTORY={toxinidir}/tests/lxb_inventory[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:upgrade] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} commands = {[testenv:tests_clone]commands} bash -c ""if [ ! -d ""{toxinidir}/tests/common/previous"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests \ {toxinidir}/tests/common/previous; \ fi"" bash -c ""{toxinidir}/tests/test-neutron-upgrades.sh"" [testenv:func_ovs] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_INVENTORY={toxinidir}/tests/ovs_inventory ANSIBLE_OVERRIDES={toxinidir}/tests/neutron-overrides-ovs.yml commands = {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:calico] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_INVENTORY={toxinidir}/tests/calico_inventory ANSIBLE_OVERRIDES={toxinidir}/tests/neutron-overrides-calico.yml commands = {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:dragonflow] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_INVENTORY={toxinidir}/tests/dragonflow_inventory ANSIBLE_OVERRIDES={toxinidir}/tests/neutron-overrides-dragonflow.yml commands = {[testenv:tests_clone]commands}",142,79
openstack%2Fopenstack-ansible-repo_build~stable%2Focata~I5b8dc6559790b866280fa78378f5999ce8494493,openstack/openstack-ansible-repo_build,stable/ocata,I5b8dc6559790b866280fa78378f5999ce8494493,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:25:15.000000000,2017-11-07 01:11:51.000000000,2017-11-07 01:11:51.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:25:15.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/5e50ac92eed699b7e6f1b0efb5fa8904d1d1997c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I5b8dc6559790b866280fa78378f5999ce8494493\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518088,5e50ac92eed699b7e6f1b0efb5fa8904d1d1997c,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I5b8dc6559790b866280fa78378f5999ce8494493
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/88/518088/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,5e50ac92eed699b7e6f1b0efb5fa8904d1d1997c,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~If2bda3063fdc2032ea566f0378e5c9160addf09e,openstack/openstack-ansible-os_horizon,stable/ocata,If2bda3063fdc2032ea566f0378e5c9160addf09e,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:22:44.000000000,2017-11-07 01:11:25.000000000,2017-11-07 01:11:25.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:22:44.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/1c3459262af605c60fe71ce225a0772301a9a75e', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: If2bda3063fdc2032ea566f0378e5c9160addf09e\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518069,1c3459262af605c60fe71ce225a0772301a9a75e,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: If2bda3063fdc2032ea566f0378e5c9160addf09e
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/69/518069/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,1c3459262af605c60fe71ce225a0772301a9a75e,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_barbican~stable%2Focata~I466fa040fc3bb9a5544e0c2e40688811f7ba1675,openstack/openstack-ansible-os_barbican,stable/ocata,I466fa040fc3bb9a5544e0c2e40688811f7ba1675,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:21:57.000000000,2017-11-07 01:10:04.000000000,2017-11-07 01:10:04.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:21:57.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/538d4b9362c5958b50d338f329709e2080276ced', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I466fa040fc3bb9a5544e0c2e40688811f7ba1675\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518063,538d4b9362c5958b50d338f329709e2080276ced,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I466fa040fc3bb9a5544e0c2e40688811f7ba1675
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/63/518063/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,538d4b9362c5958b50d338f329709e2080276ced,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_trove~stable%2Focata~Ib5efa3a966aa17fb5108ac49dd57d2b5919b945f,openstack/openstack-ansible-os_trove,stable/ocata,Ib5efa3a966aa17fb5108ac49dd57d2b5919b945f,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:24:26.000000000,2017-11-07 01:07:42.000000000,2017-11-07 01:07:42.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:24:26.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/869e166b9cbc4020c5c6dd15888530f6f7ed9341', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ib5efa3a966aa17fb5108ac49dd57d2b5919b945f\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518082,869e166b9cbc4020c5c6dd15888530f6f7ed9341,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Ib5efa3a966aa17fb5108ac49dd57d2b5919b945f
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/82/518082/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,869e166b9cbc4020c5c6dd15888530f6f7ed9341,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_cloudkitty~stable%2Focata~Iec5c29b677e662f7e17de254f4c4676b5ba7c715,openstack/openstack-ansible-os_cloudkitty,stable/ocata,Iec5c29b677e662f7e17de254f4c4676b5ba7c715,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:22:13.000000000,2017-11-07 01:04:55.000000000,2017-11-07 01:04:55.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:22:13.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/94437771fe6c4ec88aa1283eadf13368b96fa9e9', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Iec5c29b677e662f7e17de254f4c4676b5ba7c715\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518065,94437771fe6c4ec88aa1283eadf13368b96fa9e9,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Iec5c29b677e662f7e17de254f4c4676b5ba7c715
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/65/518065/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,94437771fe6c4ec88aa1283eadf13368b96fa9e9,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",141,29
openstack%2Fopenstack-ansible-repo_server~stable%2Focata~I07df7fa016e56e1547cb8d949af94833c9e5f9fc,openstack/openstack-ansible-repo_server,stable/ocata,I07df7fa016e56e1547cb8d949af94833c9e5f9fc,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:25:22.000000000,2017-11-07 01:04:33.000000000,2017-11-07 01:04:33.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:25:22.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/0a763e0e3c671b19772a1d950749d1f1f1aa3279', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I07df7fa016e56e1547cb8d949af94833c9e5f9fc\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518089,0a763e0e3c671b19772a1d950749d1f1f1aa3279,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I07df7fa016e56e1547cb8d949af94833c9e5f9fc
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/89/518089/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,0a763e0e3c671b19772a1d950749d1f1f1aa3279,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_almanach~stable%2Focata~I4f9aefb9cc389db3f86c52f3dc45eeda6d28e045,openstack/openstack-ansible-os_almanach,stable/ocata,I4f9aefb9cc389db3f86c52f3dc45eeda6d28e045,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:21:41.000000000,2017-11-07 01:01:13.000000000,2017-11-07 01:01:13.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:21:41.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_almanach/commit/082b46b1c1b3ac9798d05b4ecd1e3c3783d02928', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I4f9aefb9cc389db3f86c52f3dc45eeda6d28e045\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518061,082b46b1c1b3ac9798d05b4ecd1e3c3783d02928,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I4f9aefb9cc389db3f86c52f3dc45eeda6d28e045
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_almanach refs/changes/61/518061/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,082b46b1c1b3ac9798d05b4ecd1e3c3783d02928,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,31
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Focata~I5e6f8aba3e34cf5083a1f56f12cb5c43ba348c67,openstack/openstack-ansible-lxc_container_create,stable/ocata,I5e6f8aba3e34cf5083a1f56f12cb5c43ba348c67,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:20:47.000000000,2017-11-07 00:59:11.000000000,2017-11-07 00:59:11.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:20:47.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/3507dd33c413cf5df932cb1b533be3121bce164e', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I5e6f8aba3e34cf5083a1f56f12cb5c43ba348c67\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518055,3507dd33c413cf5df932cb1b533be3121bce164e,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I5e6f8aba3e34cf5083a1f56f12cb5c43ba348c67
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/55/518055/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,3507dd33c413cf5df932cb1b533be3121bce164e,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-plugins~stable%2Focata~I204a3f190d32c52a9bc6618b7ceabc0a0560f4b4,openstack/openstack-ansible-plugins,stable/ocata,I204a3f190d32c52a9bc6618b7ceabc0a0560f4b4,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:24:57.000000000,2017-11-07 00:55:01.000000000,2017-11-07 00:55:01.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/600bf0d479ef7f90e0e82651b0d30a00c9a012ad', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I204a3f190d32c52a9bc6618b7ceabc0a0560f4b4\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 18:37:09.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b5d75c7248b4af241abe448b2e3ffafa76a75abd', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I204a3f190d32c52a9bc6618b7ceabc0a0560f4b4\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518086,b5d75c7248b4af241abe448b2e3ffafa76a75abd,8,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I204a3f190d32c52a9bc6618b7ceabc0a0560f4b4
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/86/518086/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,600bf0d479ef7f90e0e82651b0d30a00c9a012ad,zuul-git-sources-ocata," ROLE_NAME=plugins bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," ANSIBLE_ACTION_PLUGINS={toxinidir}/action ANSIBLE_CALLBACK_PLUGINS={toxinidir}/callback ANSIBLE_CONNECTION_PLUGINS={toxinidir}/connection ANSIBLE_FILTER_PLUGINS={toxinidir}/filter ANSIBLE_LOOKUP_PLUGINS={toxinidir}/lookup ANSIBLE_STRATEGY_PLUGINS={toxinidir}/strategy ANSIBLE_LIBRARY={toxinidir}/library[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",143,37
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Focata~I123c7298c5039742065c9f2b49a28913981809c2,openstack/openstack-ansible-lxc_hosts,stable/ocata,I123c7298c5039742065c9f2b49a28913981809c2,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:20:56.000000000,2017-11-07 00:54:30.000000000,2017-11-07 00:54:30.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:20:56.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/80835e9f1aaca71c9a1e4a31d5078ace94eced40', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I123c7298c5039742065c9f2b49a28913981809c2\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518056,80835e9f1aaca71c9a1e4a31d5078ace94eced40,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I123c7298c5039742065c9f2b49a28913981809c2
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/56/518056/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,80835e9f1aaca71c9a1e4a31d5078ace94eced40,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fvitrage~master~If8ce35a5c1a93e86308507076f975df5a8b0720e,openstack/vitrage,master,If8ce35a5c1a93e86308507076f975df5a8b0720e,Zuul: add file extension to playbook path,MERGED,2017-10-29 03:56:23.000000000,2017-11-07 00:52:44.000000000,2017-11-07 00:52:44.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 19184}, {'_account_id': 21414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-29 03:56:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/386dd7984b78ce069960937d4b6f60549cb92f08', 'message': 'Zuul: add file extension to playbook path\n\nZuul now supports including the file extension on the playbook path\nand omitting the extension is now deprecrated.  Update references\nto include the extension.\n\nChange-Id: If8ce35a5c1a93e86308507076f975df5a8b0720e\n'}]",0,516045,386dd7984b78ce069960937d4b6f60549cb92f08,22,5,1,1,,,0,"Zuul: add file extension to playbook path

Zuul now supports including the file extension on the playbook path
and omitting the extension is now deprecrated.  Update references
to include the extension.

Change-Id: If8ce35a5c1a93e86308507076f975df5a8b0720e
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/45/516045/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,386dd7984b78ce069960937d4b6f60549cb92f08,zuulv3-paths, run: playbooks/legacy/vitrage-dsvm-api-py27/run.yaml post-run: playbooks/legacy/vitrage-dsvm-api-py27/post.yaml run: playbooks/legacy/vitrage-dsvm-api-py35/run.yaml post-run: playbooks/legacy/vitrage-dsvm-api-py35/post.yaml run: playbooks/legacy/vitrage-dsvm-datasources-py27/run.yaml post-run: playbooks/legacy/vitrage-dsvm-datasources-py27/post.yaml run: playbooks/legacy/vitrage-dsvm-datasources-py35/run.yaml post-run: playbooks/legacy/vitrage-dsvm-datasources-py35/post.yaml, run: playbooks/legacy/vitrage-dsvm-api-py27/run post-run: playbooks/legacy/vitrage-dsvm-api-py27/post run: playbooks/legacy/vitrage-dsvm-api-py35/run post-run: playbooks/legacy/vitrage-dsvm-api-py35/post run: playbooks/legacy/vitrage-dsvm-datasources-py27/run post-run: playbooks/legacy/vitrage-dsvm-datasources-py27/post run: playbooks/legacy/vitrage-dsvm-datasources-py35/run post-run: playbooks/legacy/vitrage-dsvm-datasources-py35/post,8,8
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Focata~Ieb6ff5ab087625d0e4d61617edc8a3a903085c38,openstack/openstack-ansible-rsyslog_client,stable/ocata,Ieb6ff5ab087625d0e4d61617edc8a3a903085c38,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:25:30.000000000,2017-11-07 00:51:51.000000000,2017-11-07 00:51:51.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:25:30.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/41170f6d7f399e121dc39c55a3446f4c00c1fed5', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ieb6ff5ab087625d0e4d61617edc8a3a903085c38\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518090,41170f6d7f399e121dc39c55a3446f4c00c1fed5,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Ieb6ff5ab087625d0e4d61617edc8a3a903085c38
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/90/518090/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,41170f6d7f399e121dc39c55a3446f4c00c1fed5,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_zaqar~stable%2Focata~Id92a21ba6241bdb8c80ddb4ce5b99fe1cdeedf0c,openstack/openstack-ansible-os_zaqar,stable/ocata,Id92a21ba6241bdb8c80ddb4ce5b99fe1cdeedf0c,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:24:40.000000000,2017-11-07 00:51:29.000000000,2017-11-07 00:51:29.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:24:40.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/8f727dd0941bceb0c22feb142de7239dc788f97c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id92a21ba6241bdb8c80ddb4ce5b99fe1cdeedf0c\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518084,8f727dd0941bceb0c22feb142de7239dc788f97c,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Id92a21ba6241bdb8c80ddb4ce5b99fe1cdeedf0c
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/84/518084/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,8f727dd0941bceb0c22feb142de7239dc788f97c,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",141,29
openstack%2Fansible-hardening~stable%2Focata~I8ad3aeeec22c2a79dc04bd729d54ccf6b5f046c5,openstack/ansible-hardening,stable/ocata,I8ad3aeeec22c2a79dc04bd729d54ccf6b5f046c5,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:19:56.000000000,2017-11-07 00:50:05.000000000,2017-11-07 00:50:05.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/deb3b941b6579ebdea9911db9d2f7c4af7c68e41', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I8ad3aeeec22c2a79dc04bd729d54ccf6b5f046c5\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 18:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/60513be9928e3ef1003b39b8a4c3d70d437a4a70', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I8ad3aeeec22c2a79dc04bd729d54ccf6b5f046c5\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 3, 'created': '2017-11-06 18:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/74e2bf4830d1152beb95361cdaa90150702622ef', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I8ad3aeeec22c2a79dc04bd729d54ccf6b5f046c5\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 4, 'created': '2017-11-06 18:52:28.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/468ea4d1ce6fe018ee16138413cf9f45ef922cd8', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I8ad3aeeec22c2a79dc04bd729d54ccf6b5f046c5\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518049,468ea4d1ce6fe018ee16138413cf9f45ef922cd8,12,3,4,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I8ad3aeeec22c2a79dc04bd729d54ccf6b5f046c5
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/49/518049/3 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,deb3b941b6579ebdea9911db9d2f7c4af7c68e41,zuul-git-sources-ocata," ROLE_NAME= TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," ROLE_NAME=ansible-hardening TEST_CHECK_MODE=true TEST_IDEMPOTENCE=trueallow-long-titles=1[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}setenv = {[testenv]setenv} # NOTE(mhayden): Disabling chrony since it causes conflicts in CI. ANSIBLE_PARAMETERS=-e security_rhel7_enable_chrony=no {[testenv:tests_clone]commands}[testenv:func_rhel6] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} # NOTE(mhayden): Disabling chrony since it causes conflicts in CI. ANSIBLE_PARAMETERS=-e stig_version=rhel6 --skip-tags V-38462,V-38660 -e security_enable_chrony=no commands = {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh""",144,48
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Focata~I4d83ac9931cf28e97ecbd07d7c4fc5a81fcc4b60,openstack/openstack-ansible-openstack_hosts,stable/ocata,I4d83ac9931cf28e97ecbd07d7c4fc5a81fcc4b60,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:21:16.000000000,2017-11-07 00:50:03.000000000,2017-11-07 00:50:03.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:21:16.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/213309298208f81297200f573a2201eae2c1221d', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I4d83ac9931cf28e97ecbd07d7c4fc5a81fcc4b60\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518058,213309298208f81297200f573a2201eae2c1221d,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I4d83ac9931cf28e97ecbd07d7c4fc5a81fcc4b60
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/58/518058/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,213309298208f81297200f573a2201eae2c1221d,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-ceph_client~stable%2Focata~I6025f4a72a0e9368d709fbff9d319320e23a09da,openstack/openstack-ansible-ceph_client,stable/ocata,I6025f4a72a0e9368d709fbff9d319320e23a09da,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:20:14.000000000,2017-11-07 00:49:39.000000000,2017-11-07 00:49:39.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:20:14.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/961eaa7a8c7063f0dde1f226bd20efcd244668ee', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I6025f4a72a0e9368d709fbff9d319320e23a09da\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518051,961eaa7a8c7063f0dde1f226bd20efcd244668ee,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I6025f4a72a0e9368d709fbff9d319320e23a09da
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/51/518051/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,961eaa7a8c7063f0dde1f226bd20efcd244668ee,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-os_ironic~stable%2Focata~I7c3f6d78cbfe073089e5ab805c6dbe704488185e,openstack/openstack-ansible-os_ironic,stable/ocata,I7c3f6d78cbfe073089e5ab805c6dbe704488185e,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:22:53.000000000,2017-11-07 00:48:39.000000000,2017-11-07 00:48:39.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:22:53.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/0bb4e1dadb31bd38bd4af4756760b30c545cf4f7', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I7c3f6d78cbfe073089e5ab805c6dbe704488185e\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518070,0bb4e1dadb31bd38bd4af4756760b30c545cf4f7,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I7c3f6d78cbfe073089e5ab805c6dbe704488185e
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/70/518070/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,0bb4e1dadb31bd38bd4af4756760b30c545cf4f7,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-galera_client~stable%2Focata~I9036ee36e60fee04094471cad29ad8e50e7b1f50,openstack/openstack-ansible-galera_client,stable/ocata,I9036ee36e60fee04094471cad29ad8e50e7b1f50,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:20:22.000000000,2017-11-07 00:48:26.000000000,2017-11-07 00:48:26.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:20:22.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/fcca0455c374ffffc4fbf552c6e5eb5342a11895', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I9036ee36e60fee04094471cad29ad8e50e7b1f50\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518052,fcca0455c374ffffc4fbf552c6e5eb5342a11895,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I9036ee36e60fee04094471cad29ad8e50e7b1f50
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/52/518052/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,fcca0455c374ffffc4fbf552c6e5eb5342a11895,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Fopenstack-ansible-memcached_server~stable%2Focata~I46a0307fdf223ec21ad3a8477a73853df729da7d,openstack/openstack-ansible-memcached_server,stable/ocata,I46a0307fdf223ec21ad3a8477a73853df729da7d,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:21:04.000000000,2017-11-07 00:48:20.000000000,2017-11-07 00:48:20.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:21:04.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/4762f178d3533cb150dbaf21fa9d95b63258ed59', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I46a0307fdf223ec21ad3a8477a73853df729da7d\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518057,4762f178d3533cb150dbaf21fa9d95b63258ed59,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I46a0307fdf223ec21ad3a8477a73853df729da7d
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/57/518057/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,4762f178d3533cb150dbaf21fa9d95b63258ed59,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Foctavia~master~I0c404f62f52314599c28c3d302a1a05dbfde9dc3,openstack/octavia,master,I0c404f62f52314599c28c3d302a1a05dbfde9dc3,Return availability_zone with the amphora record,ABANDONED,2017-10-10 21:26:49.000000000,2017-11-07 00:47:17.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-10 21:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e9efa2364a4f6850342e01bd61d0f8e18f42002c', 'message': 'Return availability_zone with the amphora record\n\nThis will enable a number of possible features that need to select\namphorae based on their availability_zone.\nThis is an alternate approach to storing the AZ directly in the DB.\n\nChange-Id: I0c404f62f52314599c28c3d302a1a05dbfde9dc3\nStory: 2001221\nTask: 5732\n'}, {'number': 2, 'created': '2017-10-10 21:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5dd23d1807320a8a3e2726620e7eaa5c85f6cb47', 'message': 'Return availability_zone with the amphora record\n\nThis will enable a number of possible features that need to select\namphorae based on their availability_zone.\nThis is an alternate approach to storing the AZ directly in the DB.\n\nChange-Id: I0c404f62f52314599c28c3d302a1a05dbfde9dc3\nStory: 2001221\nTask: 5732\n'}, {'number': 3, 'created': '2017-10-11 01:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/81ab5cf907e8a8a4aeaf7bbb0ee6778bb2fef7df', 'message': 'Return availability_zone with the amphora record\n\nThis will enable a number of possible features that need to select\namphorae based on their availability_zone.\nThis is an alternate approach to storing the AZ directly in the DB.\n\nChange-Id: I0c404f62f52314599c28c3d302a1a05dbfde9dc3\nStory: 2001221\nTask: 5732\n'}, {'number': 4, 'created': '2017-10-11 01:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/90ce821aa19ca412cf5cecaeb53bf0517266127c', 'message': 'Return availability_zone with the amphora record\n\nThis will enable a number of possible features that need to select\namphorae based on their availability_zone.\nThis is an alternate approach to storing the AZ directly in the DB.\n\nChange-Id: I0c404f62f52314599c28c3d302a1a05dbfde9dc3\nStory: 2001221\nTask: 5732\n'}, {'number': 5, 'created': '2017-10-16 17:56:34.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/compute/compute_base.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'api-ref/source/v2/examples/amphora-show-response.json', 'octavia/compute/drivers/nova_driver.py', 'api-ref/source/v2/examples/amphora-list-response.json', 'octavia/common/data_models.py', 'octavia/api/v2/types/amphora.py', 'api-ref/source/v2/amphora.inc', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/compute/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9b9249c35c40f93737fb8f07590bab07d1155c14', 'message': 'Return availability_zone with the amphora record\n\nThis will enable a number of possible features that need to select\namphorae based on their availability_zone.\nThis is an alternate approach to storing the AZ directly in the DB.\n\nChange-Id: I0c404f62f52314599c28c3d302a1a05dbfde9dc3\nStory: 2001221\nTask: 5732\n'}]",9,511045,9b9249c35c40f93737fb8f07590bab07d1155c14,23,5,5,10273,,,0,"Return availability_zone with the amphora record

This will enable a number of possible features that need to select
amphorae based on their availability_zone.
This is an alternate approach to storing the AZ directly in the DB.

Change-Id: I0c404f62f52314599c28c3d302a1a05dbfde9dc3
Story: 2001221
Task: 5732
",git fetch https://review.opendev.org/openstack/octavia refs/changes/45/511045/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'octavia/compute/compute_base.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'api-ref/source/v2/examples/amphora-show-response.json', 'octavia/compute/drivers/nova_driver.py', 'api-ref/source/v2/examples/amphora-list-response.json', 'octavia/common/data_models.py', 'octavia/api/v2/types/amphora.py', 'api-ref/source/v2/amphora.inc', 'octavia/api/v2/controllers/amphora.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/compute/drivers/noop_driver/driver.py']",12,e9efa2364a4f6850342e01bd61d0f8e18f42002c,," FAKE_COMPUTE_ID = uuidutils.generate_uuid() lb_network_ip='192.0.2.1', availability_zone='no_zone' def get_amphorae(self): LOG.debug(""Compute %s no-op, compute list"", self.__class__.__name__) amp = data_models.Amphora( compute_id=self.FAKE_COMPUTE_ID, status=constants.ACTIVE, lb_network_ip='192.0.2.1', availability_zone='no_zone' ) return [amp], [] def get_amphorae(self): return self.driver.get_amphorae() ", lb_network_ip='192.0.2.1',97,7
openstack%2Fopenstack-ansible-haproxy_server~stable%2Focata~Id60045b0b1324967859ee5df7078648e20f756bb,openstack/openstack-ansible-haproxy_server,stable/ocata,Id60045b0b1324967859ee5df7078648e20f756bb,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:20:39.000000000,2017-11-07 00:47:01.000000000,2017-11-07 00:47:01.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/629f9e79f7c84f7ee0fb06a49b0ea7e811e7210c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id60045b0b1324967859ee5df7078648e20f756bb\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 18:34:03.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/177aa76c75468aca594e867a7ab54595358ecce8', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id60045b0b1324967859ee5df7078648e20f756bb\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518054,177aa76c75468aca594e867a7ab54595358ecce8,9,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Id60045b0b1324967859ee5df7078648e20f756bb
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/54/518054/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,629f9e79f7c84f7ee0fb06a49b0ea7e811e7210c,zuul-git-sources-ocata," TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," TEST_IDEMPOTENCE=true[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",143,31
openstack%2Foctavia~master~I240c328bb9d0902cb2a89a2808519264764aa6b0,openstack/octavia,master,I240c328bb9d0902cb2a89a2808519264764aa6b0,Handle stopping the health manager and ejecting out of current health failovers,ABANDONED,2017-05-04 22:03:54.000000000,2017-11-07 00:46:50.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 25674}]","[{'number': 1, 'created': '2017-05-04 22:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/96df540d3fd89beac7d40473d495a531bc31d280', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 2, 'created': '2017-05-04 23:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4fb68cc457205e2ee2174c3aeffaf67946618a63', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 3, 'created': '2017-05-04 23:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8583b4bb86ae31dd5ce3ab61dbcce6af8a2391b', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nDepends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 4, 'created': '2017-08-31 18:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f695c9850a1ee0b3844c599a4eaccf33c04bc057', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nDepends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 5, 'created': '2017-08-31 20:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f76dd976594f519799c2d4254db2ef003e0aacf', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nDepends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 6, 'created': '2017-09-14 17:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/68e6920be7ad313442fa8b3cabdf62b8f0f25eb9', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nDepends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 7, 'created': '2017-09-15 15:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d693e30b1cc5197cc2dfe9390d5d5923b7f1c3b', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nDepends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 8, 'created': '2017-09-21 02:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/91e7bb009f9029168e44a8ab0d86211b98240871', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nDepends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}, {'number': 9, 'created': '2017-09-21 15:26:21.000000000', 'files': ['octavia/tests/unit/controller/healthmanager/test_health_manager.py', 'octavia/controller/healthmanager/health_manager.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a24e93d4a737959a1f70204b410ab031e2a465c7', 'message': 'Handle stopping the health manager and ejecting out of current health failovers\n\nAlso handles the `failover_amphora` not working out or being\ncancelled correctly and logging the statistics of those occurences\ninstead of incorrectly assuming everything always works out.\n\nDepends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313\n\nChange-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0\n'}]",5,462748,a24e93d4a737959a1f70204b410ab031e2a465c7,34,6,9,1297,,,0,"Handle stopping the health manager and ejecting out of current health failovers

Also handles the `failover_amphora` not working out or being
cancelled correctly and logging the statistics of those occurences
instead of incorrectly assuming everything always works out.

Depends-On: I3d86482a2999197a60a81d42afc5ef7a6e71e313

Change-Id: I240c328bb9d0902cb2a89a2808519264764aa6b0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/462748/7 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/healthmanager/health_manager.py'],1,96df540d3fd89beac7d40473d495a531bc31d280,track-submissions-better,"import functools import threadingdef wait_done_or_dead(futs, dead, check_timeout=1): while True: _done, not_done = futures.wait(futs, timeout=check_timeout) if len(not_done) == 0: break if dead.is_set(): for fut in not_done: # This may not actually be able to cancel, but try to # if we can. fut.cancel() def update_stats_on_done(stats, fut): stats['failed_over_attempted'] += 1 try: fut.result() except futures.CancelledError: stats['failed_over_cancelled'] += 1 except Exception: stats['failed_over_failed'] += 1 # TODO(harlowja): when https://review.openstack.org/#/c/456420/ # or something like it merges, we should actually be able to use the # exit event that thing provides to shut this thing down quickly # and correctly. self.dead = threading.Event() with futures.ThreadPoolExecutor(max_workers=self.threads) as executor: # Don't start checking immediately, as the health manager may # have been down for a while and amphorae not able to check in. LOG.debug(""Pausing before starting health check"") self.dead.wait(CONF.health_manager.heartbeat_timeout) while not self.dead.is_set(): futs = [] session = db_api.get_session() LOG.debug(""Starting amphora health check"") stats = { 'failed_over_attempted': 0, 'failed_over_failed': 0, 'failed_over_cancelled': 0, } while not self.death.is_set(): amp = amp_health_repo.get_stale_amphora(session) if amp is None: break LOG.info(_LI(""Stale amphora's id is: %s""), amp.amphora_id) fut = executor.submit(self.cw.failover_amphora, amp.amphora_id) fut.add_done_callback( functools.partial(update_stats_on_done, stats) ) futs.append(fut) if len(futs) == self.threads: LOG.info(_LI(""Waiting for %s failovers to finish""), len(futs)) wait_done_or_dead(futs, self.dead) futs = [] if futs: LOG.info(_LI(""Waiting for %s failovers to finish""), len(futs)) wait_done_or_dead(futs, self.dead) futs = [] if stats['failed_over_attempted'] > 0: LOG.info(_LI(""Attempted failed over of %s amphora""), stats['failed_over_attempted']) LOG.info(_LI(""Failed at fail over of %s amphora""), stats['failed_over_failed']) LOG.info(_LI(""Cancelled fail over of %s amphora""), stats['failed_over_cancelled']) happy_failovers = stats['failed_over_attempted'] happy_failovers -= stats['failed_over_cancelled'] happy_failovers -= stats['failed_over_failed'] LOG.info(_LI(""Succesfully failed over of %s amphora""), happy_failovers) self.dead.wait(CONF.health_manager.health_check_interval)","import time with futures.ThreadPoolExecutor(max_workers=self.threads) as executor: try: # Don't start checking immediately, as the health manager may # have been down for a while and amphorae not able to check in. LOG.debug(""Pausing before starting health check"") time.sleep(CONF.health_manager.heartbeat_timeout) while True: session = db_api.get_session() LOG.debug(""Starting amphora health check"") failover_count = 0 while True: amp = amp_health_repo.get_stale_amphora(session) if amp is None: break failover_count += 1 LOG.info(_LI(""Stale amphora's id is: %s""), amp.amphora_id) executor.submit(self.cw.failover_amphora, amp.amphora_id) if failover_count > 0: LOG.info(_LI(""Failed over %s amphora""), failover_count) time.sleep(CONF.health_manager.health_check_interval) finally: executor.shutdown(wait=True)",77,26
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Focata~Idee22fe43691622f0c883a4f3197bfb25ca70d58,openstack/openstack-ansible-openstack_openrc,stable/ocata,Idee22fe43691622f0c883a4f3197bfb25ca70d58,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:21:24.000000000,2017-11-07 00:46:25.000000000,2017-11-07 00:46:24.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/3f5db6a017fca50c7d2c8f58c8660d1d4d789d8f', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Idee22fe43691622f0c883a4f3197bfb25ca70d58\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 18:50:15.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/69352bba6213fa362402f160beb68a6a4988df07', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Idee22fe43691622f0c883a4f3197bfb25ca70d58\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518059,69352bba6213fa362402f160beb68a6a4988df07,9,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Idee22fe43691622f0c883a4f3197bfb25ca70d58
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/59/518059/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,3f5db6a017fca50c7d2c8f58c8660d1d4d789d8f,zuul-git-sources-ocata," TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," TEST_IDEMPOTENCE=true[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",143,31
openstack%2Fopenstack-ansible-os_monasca~stable%2Focata~Iebc4c4043b20356da259cf3c17e541264d6edb3c,openstack/openstack-ansible-os_monasca,stable/ocata,Iebc4c4043b20356da259cf3c17e541264d6edb3c,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:23:21.000000000,2017-11-07 00:46:03.000000000,2017-11-07 00:46:03.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:23:21.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca/commit/39237726e7feadd1cf7277aab3794de63574d731', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Iebc4c4043b20356da259cf3c17e541264d6edb3c\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518073,39237726e7feadd1cf7277aab3794de63574d731,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Iebc4c4043b20356da259cf3c17e541264d6edb3c
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca refs/changes/73/518073/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,39237726e7feadd1cf7277aab3794de63574d731,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,31
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Focata~I09ef10944a0bf68b7182274ff004d1fa242c99a1,openstack/openstack-ansible-apt_package_pinning,stable/ocata,I09ef10944a0bf68b7182274ff004d1fa242c99a1,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:20:04.000000000,2017-11-07 00:44:03.000000000,2017-11-07 00:44:03.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/ae5c2879fa3963ff8f95d483392dd91ea3c64c8b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I09ef10944a0bf68b7182274ff004d1fa242c99a1\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-06 18:32:12.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/bfeb6920a23dc9056bd178287dcb24a8cf184bba', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I09ef10944a0bf68b7182274ff004d1fa242c99a1\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518050,bfeb6920a23dc9056bd178287dcb24a8cf184bba,9,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I09ef10944a0bf68b7182274ff004d1fa242c99a1
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/50/518050/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,ae5c2879fa3963ff8f95d483392dd91ea3c64c8b,zuul-git-sources-ocata," TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," TEST_IDEMPOTENCE=true[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",143,31
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Focata~I4cac72873c38271fce6e0bada28c50e5dfb688db,openstack/openstack-ansible-os_ceilometer,stable/ocata,I4cac72873c38271fce6e0bada28c50e5dfb688db,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:22:05.000000000,2017-11-07 00:43:07.000000000,2017-11-07 00:43:07.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:22:05.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/4365cee7f0222440fa96ef4ad7162f1109d1ee58', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I4cac72873c38271fce6e0bada28c50e5dfb688db\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",1,518064,4365cee7f0222440fa96ef4ad7162f1109d1ee58,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I4cac72873c38271fce6e0bada28c50e5dfb688db
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/64/518064/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,4365cee7f0222440fa96ef4ad7162f1109d1ee58,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:gnocchi] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_INVENTORY={toxinidir}/tests/gnocchi_inventory ANSIBLE_OVERRIDES={toxinidir}/tests/os_ceilometer-gnocchi-overrides.yml commands = {[testenv:tests_clone]commands}",142,42
openstack%2Freleases~master~Ia852f69f1a2b9cdee02cad7ab9523ab959d71115,openstack/releases,master,Ia852f69f1a2b9cdee02cad7ab9523ab959d71115,Release os-brick 2.0.0,MERGED,2017-11-07 00:06:45.000000000,2017-11-07 00:39:00.000000000,2017-11-07 00:39:00.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-07 00:06:45.000000000', 'files': ['deliverables/queens/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d4fbb5733c9050fe60e7f5ec5b9243b579f591b', 'message': 'Release os-brick 2.0.0\n\nThis release includes a number of changes\nto os-brick.  There are bugfixes as well as\nimprovements to multi-path support and a change\nto avoid possible race conditions.\n\nThe release includes removal of legacy connector\nconstants that had been kept for backwards\ncompatibility.  As a result I am considering this\na backward incompatible change and bumping the\nmajor version.\n\nChange-Id: Ia852f69f1a2b9cdee02cad7ab9523ab959d71115\n'}]",0,518134,8d4fbb5733c9050fe60e7f5ec5b9243b579f591b,6,2,1,7198,,,0,"Release os-brick 2.0.0

This release includes a number of changes
to os-brick.  There are bugfixes as well as
improvements to multi-path support and a change
to avoid possible race conditions.

The release includes removal of legacy connector
constants that had been kept for backwards
compatibility.  As a result I am considering this
a backward incompatible change and bumping the
major version.

Change-Id: Ia852f69f1a2b9cdee02cad7ab9523ab959d71115
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/518134/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/os-brick.yaml'],1,8d4fbb5733c9050fe60e7f5ec5b9243b579f591b,os-brick-2.0.0-release,releases: - projects: - hash: c1f1786307d8acfdcae5c6ea3f38c98f627ec9e4 repo: openstack/os-brick version: 2.0.0,,5,0
openstack%2Freleases~master~I1ee5a1cc6f19eb1c5971494a54ea0c95428b4e72,openstack/releases,master,I1ee5a1cc6f19eb1c5971494a54ea0c95428b4e72,Release manilaclient 1.18,MERGED,2017-11-02 20:41:30.000000000,2017-11-07 00:38:59.000000000,2017-11-07 00:38:59.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 15100}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 20:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a648fc4ad73fb3209093edd40b63ca1ce92b2581', 'message': 'Release manilaclient 1.18\n\nChange-Id: I1ee5a1cc6f19eb1c5971494a54ea0c95428b4e72\n'}, {'number': 2, 'created': '2017-11-03 13:45:06.000000000', 'files': ['deliverables/queens/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/34e89353e2b6aeeab5f9fcc171daf8b5b1c5bcac', 'message': 'Release manilaclient 1.18\n\nChange-Id: I1ee5a1cc6f19eb1c5971494a54ea0c95428b4e72\n'}]",0,517430,34e89353e2b6aeeab5f9fcc171daf8b5b1c5bcac,13,6,2,2417,,,0,"Release manilaclient 1.18

Change-Id: I1ee5a1cc6f19eb1c5971494a54ea0c95428b4e72
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/517430/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/python-manilaclient.yaml'],1,a648fc4ad73fb3209093edd40b63ca1ce92b2581,manilaclient-1-18,releases: - projects: - hash: d80a7cef71587821ab69577db4d05cb85a3b4405 repo: openstack/python-manilaclient version: 1.18.0,,5,0
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Focata~I303d6be42784db673cae30630183d3c7922d578d,openstack/openstack-ansible-rsyslog_server,stable/ocata,I303d6be42784db673cae30630183d3c7922d578d,Used cached git sources and enable depends-on,MERGED,2017-11-06 18:25:38.000000000,2017-11-07 00:32:35.000000000,2017-11-07 00:32:35.000000000,"[{'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 18:25:38.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/ac0b81d4d7c5167b68b95d09eed717bed747c46f', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I303d6be42784db673cae30630183d3c7922d578d\nDepends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,518091,ac0b81d4d7c5167b68b95d09eed717bed747c46f,9,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I303d6be42784db673cae30630183d3c7922d578d
Depends-On: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/91/518091/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,ac0b81d4d7c5167b68b95d09eed717bed747c46f,zuul-git-sources-ocata," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/ocata -rhttps://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/ocata https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/ocata {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",142,30
openstack%2Freleases~master~I14d88d0359ae8abe160186cf992ffd4403162f71,openstack/releases,master,I14d88d0359ae8abe160186cf992ffd4403162f71,Release Manila Q-1,MERGED,2017-11-02 20:43:34.000000000,2017-11-07 00:27:19.000000000,2017-11-07 00:27:19.000000000,"[{'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 20:43:34.000000000', 'files': ['deliverables/queens/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/15097ab7f8849d608ea9803ba00e4bdc4cd21cee', 'message': 'Release Manila Q-1\n\nChange-Id: I14d88d0359ae8abe160186cf992ffd4403162f71\n'}]",0,517432,15097ab7f8849d608ea9803ba00e4bdc4cd21cee,7,3,1,2417,,,0,"Release Manila Q-1

Change-Id: I14d88d0359ae8abe160186cf992ffd4403162f71
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/517432/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/manila.yaml'],1,15097ab7f8849d608ea9803ba00e4bdc4cd21cee,manila-q1,releases: - version: 6.0.0.0b1 projects: - repo: openstack/manila hash: cd77c128b0bf9f0f9b64a4084ff85b8799be799b,,5,0
openstack%2Fpython-openstackclient~master~Ie3af83a1bba7dd66e83b0595bb276bf8fd105831,openstack/python-openstackclient,master,Ie3af83a1bba7dd66e83b0595bb276bf8fd105831,Network: Add supports rbac target-all-projects,MERGED,2017-10-30 08:25:39.000000000,2017-11-07 00:20:07.000000000,2017-11-07 00:20:07.000000000,"[{'_account_id': 841}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 23913}]","[{'number': 1, 'created': '2017-10-30 08:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e4acbe9ddbf61998540445efff6ec72594a371e', 'message': 'Network: Add supports default rbac target_project_id\n\nNeutron supports set rbac policy with target_tenant or\ntarget_project_id with default value ""*"".\n\nThis patch fix it.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\n'}, {'number': 2, 'created': '2017-10-30 15:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a40df80252820b1a066332b079bf7aa740f37720', 'message': 'Network: Add supports default rbac target_project_id\n\nNeutron supports set rbac policy with target_tenant or\ntarget_project_id with default value ""*"".\n\nThis patch fix it.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\n'}, {'number': 3, 'created': '2017-10-30 15:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a2e60c4d8ef18991881d490a10cfd6c03d3cd6a6', 'message': 'Network: Add supports default rbac target_project_id\n\nNeutron supports set rbac policy with target_tenant or\ntarget_project_id with default value ""*"".\n\nThis patch fix it.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\n'}, {'number': 4, 'created': '2017-11-01 15:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c1b6eec3dda726070f8b96218102f0ddc2d9113f', 'message': 'Network: Add supports default rbac target_project_id\n\nNeutron supports set rbac policy with target_tenant or\ntarget_project_id with default value ""*"".\n\nThis patch fix it.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n'}, {'number': 5, 'created': '2017-11-02 01:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7eac3ac726310bf539a96faab15e034893267e76', 'message': ""Network: Add supports wildcard rbac target-project\n\nSince argument '*' is special, we can use a '-' character.[1]\nUsing '-' as target-project, then the project * will be\nused, which is a wildcard that represents all projects.\n\n[1] https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/object.html#object-save\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n""}, {'number': 6, 'created': '2017-11-02 01:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bec63e6632cf3fe21259354fb28a1426108afa90', 'message': ""Network: Add supports wildcard rbac target-project\n\nSince argument '*' is special, we can use a '-' character.[1]\nUsing '-' as target-project, then the project * will be\nused, which is a wildcard that represents all projects.\n\n[1] https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/object.html#object-save\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n""}, {'number': 7, 'created': '2017-11-02 03:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/95dbcc93864e186e9ccf16966a6689ce79878ac6', 'message': ""Network: Add supports wildcard rbac target-project\n\nSince argument '*' is special, we can use a '-' character.[1]\nUsing '-' as target-project, then the project * will be\nused, which is a wildcard that represents all projects.\n\n[1] https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/object.html#object-save\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n""}, {'number': 8, 'created': '2017-11-03 07:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0491a63f288016865b14deabb6d28bbffd63e6f8', 'message': 'Network: Add supports rbac target-all-projects\n\nUsing default target-all-projects value ""*"",\nwhich is a wildcard that represents all target projects.\nSo do not specify ""targer-all-projects"" params while\ncreating rbac policy for all projects.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n'}, {'number': 9, 'created': '2017-11-03 10:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e297650ae018c7dd17971192913cfa6cd070d918', 'message': 'Network: Add supports rbac target-all-projects\n\nAdd a boolean option ""target-all-projects"",\nwhich allows creating rbac policy for all projects.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n'}, {'number': 10, 'created': '2017-11-03 15:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b70c666b69ef874fff4d574b695d918dc46c45aa', 'message': 'Network: Add supports rbac target-all-projects\n\nAdd a boolean option ""target-all-projects"",\nwhich allows creating rbac policy for all projects.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n'}, {'number': 11, 'created': '2017-11-05 06:29:00.000000000', 'files': ['openstackclient/network/v2/network_rbac.py', 'releasenotes/notes/bug-1728525-2c40f0c19adbd0e8.yaml', 'doc/source/cli/command-objects/network-rbac.rst', 'openstackclient/tests/unit/network/v2/test_network_rbac.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9ca99b991947c5b932a0c916591cd71568f2ac17', 'message': 'Network: Add supports rbac target-all-projects\n\nAdd a boolean option ""target-all-projects"",\nwhich allows creating rbac policy for all projects.\n\nChange-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831\nCloses-Bug: #1728525\nCloses-Bug: #1704834\n'}]",17,516211,9ca99b991947c5b932a0c916591cd71568f2ac17,46,6,11,12860,,,0,"Network: Add supports rbac target-all-projects

Add a boolean option ""target-all-projects"",
which allows creating rbac policy for all projects.

Change-Id: Ie3af83a1bba7dd66e83b0595bb276bf8fd105831
Closes-Bug: #1728525
Closes-Bug: #1704834
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/11/516211/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/network_rbac.py', 'openstackclient/tests/unit/network/v2/test_network_rbac.py']",2,6e4acbe9ddbf61998540445efff6ec72594a371e,bug/1728525," def test_network_rbac_createi_with_no_target_project(self): arglist = [ '--type', self.rbac_policy.object_type, '--action', self.rbac_policy.action, self.rbac_policy.object_id, ] verifylist = [ ('type', self.rbac_policy.object_type), ('action', self.rbac_policy.action), ('rbac_object', self.rbac_policy.object_id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.network.create_rbac_policy.assert_called_with(**{ 'object_id': self.rbac_policy.object_id, 'object_type': self.rbac_policy.object_type, 'action': self.rbac_policy.action, 'target_tenant': '*', }) ",,31,6
openstack%2Fnova~stable%2Focata~Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2,openstack/nova,stable/ocata,Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2,Pass requested_destination in filter_properties,MERGED,2017-08-04 17:49:01.000000000,2017-11-07 00:14:36.000000000,2017-11-07 00:14:36.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-04 17:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46ecda50d4e0eb78e037da5ffb6965244a58737d', 'message': 'Pass requested_destination in filter_properties\n\nWhen we added the requested_destination field for the RequestSpec object\nin Newton, we forgot to pass it to the legacy dictionary when wanting to\nuse scheduler methods not yet supporting the NovaObject.\nAs a consequence, when we were transforming the RequestSpec object into a\ntuple of (request_spec, filter_props) dicts and then rehydrating a new\nRequestSpec object using those dicts, the newly created object was not\nkeeping that requested_destination field from the original.\n\nNOTE(sbauza): That backport is slightly different from the master change\nas it shows that the regression is now fixed in Ocata (as the incidental\nchange from Pike is not existing in that branch).\n\nChange-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2\nCloses-Bug: #1702454\n(cherry picked from commit 0fcdbbac8b9b5faa18a1b7e45c9b9e7df1667dd5)\n'}, {'number': 2, 'created': '2017-10-29 16:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45b0c54bf76dd3779ee49f584b071926ada04ad8', 'message': ""Pass requested_destination in filter_properties\n\nWhen we added the requested_destination field for the RequestSpec object\nin Newton, we forgot to pass it to the legacy dictionary when wanting to\nuse scheduler methods not yet supporting the NovaObject.\nAs a consequence, when we were transforming the RequestSpec object into a\ntuple of (request_spec, filter_props) dicts and then rehydrating a new\nRequestSpec object using those dicts, the newly created object was not\nkeeping that requested_destination field from the original.\n\nConflicts:\n      nova/tests/unit/objects/test_request_spec.py\n\nNOTE(mriedem): Conflict is due to d288132dca7cc76dfc6679eda17bb8fcc62577de\nnot being in Ocata, but it's not needed either.\n\nChange-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2\nCloses-Bug: #1702454\n(cherry picked from commit 69bef428bd555bb31f43db6ca9c21db8aeb9007e)\n(cherry picked from commit bceb176fb00104fb0e39d6f1f3183f616c2b90f7)\n""}, {'number': 3, 'created': '2017-10-29 17:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/841121a95d76b10e6738156b55ee8ebc648054b4', 'message': ""Pass requested_destination in filter_properties\n\nWhen we added the requested_destination field for the RequestSpec object\nin Newton, we forgot to pass it to the legacy dictionary when wanting to\nuse scheduler methods not yet supporting the NovaObject.\nAs a consequence, when we were transforming the RequestSpec object into a\ntuple of (request_spec, filter_props) dicts and then rehydrating a new\nRequestSpec object using those dicts, the newly created object was not\nkeeping that requested_destination field from the original.\n\nConflicts:\n      nova/tests/unit/objects/test_request_spec.py\n\nNOTE(mriedem): Conflict is due to d288132dca7cc76dfc6679eda17bb8fcc62577de\nnot being in Ocata, but it's not needed either.\n\nChange-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2\nCloses-Bug: #1702454\n(cherry picked from commit 69bef428bd555bb31f43db6ca9c21db8aeb9007e)\n(cherry picked from commit bceb176fb00104fb0e39d6f1f3183f616c2b90f7)\n""}, {'number': 4, 'created': '2017-10-29 17:58:04.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/functional/regressions/test_bug_1702454.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe8acf003e8e4d26f02ec38034c4715dfb9888ba', 'message': ""Pass requested_destination in filter_properties\n\nWhen we added the requested_destination field for the RequestSpec object\nin Newton, we forgot to pass it to the legacy dictionary when wanting to\nuse scheduler methods not yet supporting the NovaObject.\nAs a consequence, when we were transforming the RequestSpec object into a\ntuple of (request_spec, filter_props) dicts and then rehydrating a new\nRequestSpec object using those dicts, the newly created object was not\nkeeping that requested_destination field from the original.\n\nConflicts:\n      nova/tests/unit/objects/test_request_spec.py\n\nNOTE(mriedem): Conflict is due to d288132dca7cc76dfc6679eda17bb8fcc62577de\nnot being in Ocata, but it's not needed either.\n\nChange-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2\nCloses-Bug: #1702454\n(cherry picked from commit 69bef428bd555bb31f43db6ca9c21db8aeb9007e)\n(cherry picked from commit bceb176fb00104fb0e39d6f1f3183f616c2b90f7)\n""}]",0,491001,fe8acf003e8e4d26f02ec38034c4715dfb9888ba,28,12,4,7166,,,0,"Pass requested_destination in filter_properties

When we added the requested_destination field for the RequestSpec object
in Newton, we forgot to pass it to the legacy dictionary when wanting to
use scheduler methods not yet supporting the NovaObject.
As a consequence, when we were transforming the RequestSpec object into a
tuple of (request_spec, filter_props) dicts and then rehydrating a new
RequestSpec object using those dicts, the newly created object was not
keeping that requested_destination field from the original.

Conflicts:
      nova/tests/unit/objects/test_request_spec.py

NOTE(mriedem): Conflict is due to d288132dca7cc76dfc6679eda17bb8fcc62577de
not being in Ocata, but it's not needed either.

Change-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2
Closes-Bug: #1702454
(cherry picked from commit 69bef428bd555bb31f43db6ca9c21db8aeb9007e)
(cherry picked from commit bceb176fb00104fb0e39d6f1f3183f616c2b90f7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/491001/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/functional/regressions/test_bug_1702454.py']",3,46ecda50d4e0eb78e037da5ffb6965244a58737d,bug/1702454," # Yeepee, that works! self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host'])"," # Unfortunately, the requested host isn't respected. self.assertEqual('host3', server['OS-EXT-SRV-ATTR:host'])",20,3
openstack%2Fnova~stable%2Fpike~Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2,openstack/nova,stable/pike,Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2,Pass requested_destination in filter_properties,MERGED,2017-10-29 16:26:06.000000000,2017-11-07 00:14:31.000000000,2017-11-07 00:14:31.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-29 16:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bceb176fb00104fb0e39d6f1f3183f616c2b90f7', 'message': 'Pass requested_destination in filter_properties\n\nWhen we added the requested_destination field for the RequestSpec object\nin Newton, we forgot to pass it to the legacy dictionary when wanting to\nuse scheduler methods not yet supporting the NovaObject.\nAs a consequence, when we were transforming the RequestSpec object into a\ntuple of (request_spec, filter_props) dicts and then rehydrating a new\nRequestSpec object using those dicts, the newly created object was not\nkeeping that requested_destination field from the original.\n\nChange-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2\nCloses-Bug: #1702454\n(cherry picked from commit 69bef428bd555bb31f43db6ca9c21db8aeb9007e)\n'}, {'number': 2, 'created': '2017-10-29 17:53:19.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c0023d0759f54f5bd99d9ed29c2a2ccb3965cba', 'message': 'Pass requested_destination in filter_properties\n\nWhen we added the requested_destination field for the RequestSpec object\nin Newton, we forgot to pass it to the legacy dictionary when wanting to\nuse scheduler methods not yet supporting the NovaObject.\nAs a consequence, when we were transforming the RequestSpec object into a\ntuple of (request_spec, filter_props) dicts and then rehydrating a new\nRequestSpec object using those dicts, the newly created object was not\nkeeping that requested_destination field from the original.\n\nChange-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2\nCloses-Bug: #1702454\n(cherry picked from commit 69bef428bd555bb31f43db6ca9c21db8aeb9007e)\n'}]",0,516112,0c0023d0759f54f5bd99d9ed29c2a2ccb3965cba,20,10,2,6873,,,0,"Pass requested_destination in filter_properties

When we added the requested_destination field for the RequestSpec object
in Newton, we forgot to pass it to the legacy dictionary when wanting to
use scheduler methods not yet supporting the NovaObject.
As a consequence, when we were transforming the RequestSpec object into a
tuple of (request_spec, filter_props) dicts and then rehydrating a new
RequestSpec object using those dicts, the newly created object was not
keeping that requested_destination field from the original.

Change-Id: Iba0b88172e9a3bfd4f216dd364d70f7e01c60ee2
Closes-Bug: #1702454
(cherry picked from commit 69bef428bd555bb31f43db6ca9c21db8aeb9007e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/516112/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py']",2,bceb176fb00104fb0e39d6f1f3183f616c2b90f7,bug/1702454," def test_from_primitives_with_requested_destination(self): destination = objects.Destination(host='foo') spec_dict = {} filt_props = {'requested_destination': destination} ctxt = context.RequestContext('fake', 'fake') spec = objects.RequestSpec.from_primitives(ctxt, spec_dict, filt_props) self.assertEqual(destination, spec.requested_destination) destination = objects.Destination(host='foo') filter_properties = {'requested_destination': destination} self.assertEqual(destination, spec.requested_destination) fake_dest = objects.Destination(host='fakehost') scheduler_hints={'foo': ['bar']}, requested_destination=fake_dest) 'scheduler_hints': {'foo': 'bar'}, 'requested_destination': fake_dest}", filter_properties = {} scheduler_hints={'foo': ['bar']}) 'scheduler_hints': {'foo': 'bar'}},23,3
openstack%2Frequirements~master~I3e8542dd20b918d07e351498be412061d8a398a2,openstack/requirements,master,I3e8542dd20b918d07e351498be412061d8a398a2,Convert legacy tox requirements jobs,MERGED,2017-11-04 16:30:47.000000000,2017-11-07 00:14:29.000000000,2017-11-07 00:14:29.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 16:30:47.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/06c2beedce1103e8871ce1790ea711369bcaf193', 'message': 'Convert legacy tox requirements jobs\n\nMove legacy tox jobs specific to requirements repo here and convert them\nto zuul v3 native jobs.\n\nNeeded-By: If2877e49b99f71abd2ca6ae0d1840ee14ae4600d\nChange-Id: I3e8542dd20b918d07e351498be412061d8a398a2\n'}]",0,517767,06c2beedce1103e8871ce1790ea711369bcaf193,7,3,1,6547,,,0,"Convert legacy tox requirements jobs

Move legacy tox jobs specific to requirements repo here and convert them
to zuul v3 native jobs.

Needed-By: If2877e49b99f71abd2ca6ae0d1840ee14ae4600d
Change-Id: I3e8542dd20b918d07e351498be412061d8a398a2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/517767/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,06c2beedce1103e8871ce1790ea711369bcaf193,tox-jobs,- job: name: requirements-tox-babel parent: openstack-tox description: | Run test for requirements project. Uses tox with the ``babel`` environment. files: - ^babel-test/.* - ^tox.ini - ^upper-constraints.txt vars: tox_envlist: babel - job: name: requirements-tox-py27-check-uc parent: openstack-tox description: | Run test for requirements project. Uses tox with the ``py27-check-uc`` environment. files: ^upper-constraints.*txt$ vars: tox_envlist: py27-check-uc - job: name: requirements-tox-py35-check-uc parent: openstack-tox description: | Run test for requirements project. Uses tox with the ``py35-check-uc`` environment. files: ^upper-constraints.*txt$ vars: tox_envlist: py35-check-uc - job: name: requirements-tox-validate-projects parent: openstack-tox description: | Run test for requirements project. Uses tox with the ``validate-projects`` environment. vars: tox_envlist: validate-projects ,,55,0
openstack%2Fopenstack-ansible-tests~stable%2Focata~Ia806f19e00703c53f03a2420dbac1da4ba68db6c,openstack/openstack-ansible-tests,stable/ocata,Ia806f19e00703c53f03a2420dbac1da4ba68db6c,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:08:44.000000000,2017-11-07 00:13:00.000000000,2017-11-07 00:13:00.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 18:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e468cb14e4b1d87b049abc3655042f4dbe605317', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nRequired repositories which do not have a newton branch\nare removed from the job definition.\n\nChange-Id: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}, {'number': 2, 'created': '2017-11-03 20:17:16.000000000', 'files': ['run_tests.sh', 'get-ansible-role-requirements.yml', 'tests/tests-repo-clone.sh', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/82e206b4100844354cd6cc7c3f231d2f6b3fb4f4', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nRequired repositories which do not have a newton branch\nare removed from the job definition.\n\nChange-Id: Ia806f19e00703c53f03a2420dbac1da4ba68db6c\n'}]",0,517667,82e206b4100844354cd6cc7c3f231d2f6b3fb4f4,12,4,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Required repositories which do not have a newton branch
are removed from the job definition.

Change-Id: Ia806f19e00703c53f03a2420dbac1da4ba68db6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/67/517667/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'get-ansible-role-requirements.yml', 'tests/tests-repo-clone.sh', 'tox.ini', 'zuul.d/jobs.yaml']",5,e468cb14e4b1d87b049abc3655042f4dbe605317,zuul-git-sources-ocata,, - name: openstack/openstack-ansible-os_octavia - name: openstack/openstack-ansible-os_octavia,325,57
openstack%2Fnova~stable%2Fpike~Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8,openstack/nova,stable/pike,Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8,Functional regression test for evacuate with a target,MERGED,2017-10-29 16:26:06.000000000,2017-11-07 00:04:52.000000000,2017-11-07 00:04:51.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-29 16:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b575a2645137d0e8f1f622ee45fca89605d2fdb9', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThe Newton and Ocata backports will be slightly different from that one as we\nneed to verify that host3 will be preferred eventually over host2.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit e0e2e065a495b4fa9ebdec987c935e3c83118c46)\n""}, {'number': 2, 'created': '2017-10-29 17:53:19.000000000', 'files': ['nova/tests/functional/api/client.py', 'nova/tests/functional/regressions/test_bug_1702454.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de27ede60dd66f7c4b76fe39c63c0305424a7903', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThe Newton and Ocata backports will be slightly different from that one as we\nneed to verify that host3 will be preferred eventually over host2.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit e0e2e065a495b4fa9ebdec987c935e3c83118c46)\n""}]",0,516111,de27ede60dd66f7c4b76fe39c63c0305424a7903,13,6,2,6873,,,0,"Functional regression test for evacuate with a target

In I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the
legacy filter properties dictionary so the requested target wasn't
passed to the scheduler when evacuating.
Adding a functional test for verifying the behaviour.

NOTE(sbauza): The issue has been incendentally fixed in Pike by
I434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just
verifies that the expected behaviour works.
The Newton and Ocata backports will be slightly different from that one as we
need to verify that host3 will be preferred eventually over host2.

Related-Bug: #1702454

Change-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8
(cherry picked from commit e0e2e065a495b4fa9ebdec987c935e3c83118c46)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/516111/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/client.py', 'nova/tests/functional/regressions/test_bug_1702454.py']",2,b575a2645137d0e8f1f622ee45fca89605d2fdb9,bug/1702454,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.scheduler import weights from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import cast_as_call from nova.tests.unit.image import fake as image_fake from nova.tests.unit import policy_fixture from nova.virt import fake class HostNameWeigher(weights.BaseHostWeigher): def _weigh_object(self, host_state, weight_properties): """"""Arbitrary preferring host1 over host3 over host2."""""" weights = {'host1': 100, 'host2': 1, 'host3': 50} return weights.get(host_state.host, 0) class SchedulerOnlyChecksTargetTest(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1702454 introduced in Newton. That test is for verifying that if we evacuate by providing a target, the scheduler only checks the related host. If the host is not able to accepting the instance, it would return a NoValidHost to the user instead of passing the instance to another host. Unfortunately, when we wrote the feature for that in Newton, we forgot to transform the new RequestSpec field called `requested_destination` into an item for the legacy filter_properties dictionary so the scheduler wasn't getting it. That test will use 3 hosts: - host1 which will be the source host for the instance - host2 which will be the requested target when evacuating from host1 - host3 which could potentially be the evacuation target if the scheduler doesn't correctly get host2 as the requested destination from the user. """""" def setUp(self): super(SchedulerOnlyChecksTargetTest, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) # The NeutronFixture is needed to stub out validate_networks in API. self.useFixture(nova_fixtures.NeutronFixture(self)) # We need the computes reporting into placement for the filter # scheduler to pick a host. self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) # The admin API is used to get the server details to verify the # host on which the server was built. self.admin_api = api_fixture.admin_api self.api = api_fixture.api # the image fake backend needed for image discovery image_fake.stub_out_image_service(self) self.addCleanup(image_fake.FakeImageService_reset) self.start_service('conductor') # We have to get the image before we use 2.latest otherwise we'll get # a 404 on the /images proxy API because of 2.36. self.image_id = self.api.get_images()[0]['id'] # Use the latest microversion available to make sure something does # not regress in new microversions; cap as necessary. self.admin_api.microversion = 'latest' self.api.microversion = 'latest' # The consoleauth service is needed for deleting console tokens when # the server is deleted. self.start_service('consoleauth') self.start_service('conductor') # Define a very basic scheduler that only verifies if host is down. self.flags(enabled_filters=['ComputeFilter'], group='filter_scheduler') # NOTE(sbauza): Use the above weigher so we are sure that # we prefer first host1 for the boot request and forget about any # other weigher. # Host2 should only be preferred over host3 if and only if that's the # only host we verify (as requested_destination does). self.flags(weight_classes=[__name__ + '.HostNameWeigher'], group='filter_scheduler') self.start_service('scheduler') # Let's now start three compute nodes as we said above. # set_nodes() is needed to have each compute service return a # different nodename, so we get two hosts in the list of candidates # for scheduling. Otherwise both hosts will have the same default # nodename ""fake-mini"". The host passed to start_service controls the # ""host"" attribute and set_nodes() sets the ""nodename"" attribute. # We set_nodes() to make host and nodename the same for each compute. fake.set_nodes(['host1']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host1') fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host2') fake.set_nodes(['host3']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host3') self.useFixture(cast_as_call.CastAsCall(self)) def test_evacuate_server(self): # We first create the instance server = self.admin_api.post_server( dict(server=self._build_minimal_create_server_request( self.api, 'my-pretty-instance-to-evacuate', self.image_id, networks='none'))) server_id = server['id'] self.addCleanup(self.api.delete_server, server_id) self._wait_for_state_change(self.api, server, 'ACTIVE') # We need to get instance details for knowing its host server = self.admin_api.get_server(server_id) host = server['OS-EXT-SRV-ATTR:host'] # As weigher prefers host1, we are sure we find it here. self.assertEqual('host1', host) # Now, force host1 to be down. As we use ComputeFilter, it won't ever # be a possible destination for the scheduler now. self.admin_api.microversion = '2.11' # Cap for the force-down call. self.admin_api.force_down_service(host, 'nova-compute', True) self.admin_api.microversion = 'latest' # It's time to evacuate by asking host2 as a target. Remember, the # only possibility the instance can end up on it is because the # scheduler should only verify the requested destination as host2 # is weighed lower than host3. evacuate = { 'evacuate': { 'host': 'host2' } } self.admin_api.post_server_action(server['id'], evacuate) self._wait_for_state_change(self.api, server, 'ACTIVE') server = self.admin_api.get_server(server_id) # Yeepee, that works! self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) ",,166,0
openstack%2Fnova~stable%2Focata~Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8,openstack/nova,stable/ocata,Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8,Functional regression test for evacuate with a target,MERGED,2017-08-04 17:49:01.000000000,2017-11-07 00:04:47.000000000,2017-11-07 00:04:47.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-04 17:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249f86dd1b21e8af0a78b6cd0b77fdef9d304b11', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThat specific backport is consequently different from the master change\nas the final target is different from the one we expected.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit 361c025f6856dac97b4a427374eddfaa0cc232e6)\n""}, {'number': 2, 'created': '2017-10-28 17:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/341e8e7d412cc2ad964a755b99236609c61d1782', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThe Newton and Ocata backports will be slightly different from that one as we\nneed to verify that host3 will be preferred eventually over host2.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n""}, {'number': 3, 'created': '2017-10-28 17:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c1cb717167ef9dcb53680612d0c25b0da5d26f6', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThat specific backport is consequently different from the master change\nas the final target is different from the one we expected.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit 356bb6b6a2829b83f04a41563a576050e3ea2daa)\n""}, {'number': 4, 'created': '2017-10-28 17:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1960010e4c2447330ac3524cc4b35287c7f63096', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThat specific backport is consequently different from the master change\nas the final target is different from the one we expected.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit 356bb6b6a2829b83f04a41563a576050e3ea2daa)\n""}, {'number': 5, 'created': '2017-10-29 16:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c7ecf45e0ddf5e019f5000371ae92c804088c3f', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThe Newton and Ocata backports will be slightly different from that one as we\nneed to verify that host3 will be preferred eventually over host2.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit e0e2e065a495b4fa9ebdec987c935e3c83118c46)\n(cherry picked from commit b575a2645137d0e8f1f622ee45fca89605d2fdb9)\n""}, {'number': 6, 'created': '2017-10-29 17:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f9ce628a527c5cffb6cde5b9ef6490c0d4af60c', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThat specific backport is consequently different from the master change\nas the final target is different from the one we expected.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit e0e2e065a495b4fa9ebdec987c935e3c83118c46)\n(cherry picked from commit b575a2645137d0e8f1f622ee45fca89605d2fdb9)\n""}, {'number': 7, 'created': '2017-10-29 17:58:04.000000000', 'files': ['nova/tests/functional/api/client.py', 'nova/tests/functional/regressions/test_bug_1702454.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b672420bceaf5a6e264a9362eeb6e29badd09d8', 'message': ""Functional regression test for evacuate with a target\n\nIn I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the\nlegacy filter properties dictionary so the requested target wasn't\npassed to the scheduler when evacuating.\nAdding a functional test for verifying the behaviour.\n\nNOTE(sbauza): The issue has been incendentally fixed in Pike by\nI434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just\nverifies that the expected behaviour works.\nThat specific backport is consequently different from the master change\nas the final target is different from the one we expected.\n\nRelated-Bug: #1702454\n\nChange-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8\n(cherry picked from commit e0e2e065a495b4fa9ebdec987c935e3c83118c46)\n(cherry picked from commit b575a2645137d0e8f1f622ee45fca89605d2fdb9)\n""}]",2,491000,0b672420bceaf5a6e264a9362eeb6e29badd09d8,35,9,7,7166,,,0,"Functional regression test for evacuate with a target

In I6ddcaaca37fc5387c2d2e9f51c67ea9e85acb5c5 we forgot to update the
legacy filter properties dictionary so the requested target wasn't
passed to the scheduler when evacuating.
Adding a functional test for verifying the behaviour.

NOTE(sbauza): The issue has been incendentally fixed in Pike by
I434af8e4ad991ac114dd67d66797a562d16bafe2 so the regression test just
verifies that the expected behaviour works.
That specific backport is consequently different from the master change
as the final target is different from the one we expected.

Related-Bug: #1702454

Change-Id: Id9adb10d2ef821c8b61d8f1d5dc9dd66ec7aaac8
(cherry picked from commit e0e2e065a495b4fa9ebdec987c935e3c83118c46)
(cherry picked from commit b575a2645137d0e8f1f622ee45fca89605d2fdb9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/491000/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/client.py', 'nova/tests/functional/regressions/test_bug_1702454.py']",2,249f86dd1b21e8af0a78b6cd0b77fdef9d304b11,bug/1702454,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import objects from nova.scheduler import filters from nova.scheduler import weights from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import cast_as_call from nova.tests.unit.image import fake as image_fake from nova.tests.unit import policy_fixture from nova.virt import fake class HostNameWeigher(weights.BaseHostWeigher): def _weigh_object(self, host_state, weight_properties): """"""Arbitrary preferring host1 over host3 over host2."""""" weights = {'host1': 100, 'host2': 1, 'host3': 50} return weights.get(host_state.host, 0) class SchedulerOnlyChecksTargetTest(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1702454 introduced in Newton. That test is for verifying that if we evacuate by providing a target, the scheduler only checks the related host. If the host is not able to accepting the instance, it would return a NoValidHost to the user instead of passing the instance to another host. Unfortunately, when we wrote the feature for that in Newton, we forgot to transform the new RequestSpec field called `requested_destination` into an item for the legacy filter_properties dictionary so the scheduler wasn't getting it. That test will use 3 hosts: - host1 which will be the source host for the instance - host2 which will be the requested target when evacuating from host1 - host3 which could potentially be the evacuation target if the scheduler doesn't correctly get host2 as the requested destination from the user. """""" def setUp(self): super(SchedulerOnlyChecksTargetTest, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) # The NeutronFixture is needed to stub out validate_networks in API. self.useFixture(nova_fixtures.NeutronFixture(self)) # We need the computes reporting into placement for the filter # scheduler to pick a host. self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) # The admin API is used to get the server details to verify the # host on which the server was built. self.admin_api = api_fixture.admin_api self.api = api_fixture.api # the image fake backend needed for image discovery image_fake.stub_out_image_service(self) self.addCleanup(image_fake.FakeImageService_reset) self.start_service('conductor') # We have to get the image before we use 2.latest otherwise we'll get # a 404 on the /images proxy API because of 2.36. self.image_id = self.api.get_images()[0]['id'] # Use the latest microversion available to make sure something does # not regress in new microversions; cap as necessary. self.admin_api.microversion = 'latest' self.api.microversion = 'latest' # The consoleauth service is needed for deleting console tokens when # the server is deleted. self.start_service('consoleauth') self.start_service('conductor') # Define a very basic scheduler that only verifies if host is down. self.flags(enabled_filters=['ComputeFilter'], group='filter_scheduler') # NOTE(sbauza): Use the above weigher so we are sure that # we prefer first host1 for the boot request and forget about any # other weigher. # Host2 should only be preferred over host3 if and only if that's the # only host we verify (as requested_destination does). self.flags(weight_classes=[__name__ + '.HostNameWeigher'], group='filter_scheduler') self.start_service('scheduler') # Let's now start three compute nodes as we said above. # set_nodes() is needed to have each compute service return a # different nodename, so we get two hosts in the list of candidates # for scheduling. Otherwise both hosts will have the same default # nodename ""fake-mini"". The host passed to start_service controls the # ""host"" attribute and set_nodes() sets the ""nodename"" attribute. # We set_nodes() to make host and nodename the same for each compute. fake.set_nodes(['host1']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host1') fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host2') fake.set_nodes(['host3']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host3') self.useFixture(cast_as_call.CastAsCall(self.stubs)) def test_evacuate_server(self): # We first create the instance server = self.admin_api.post_server( dict(server=self._build_minimal_create_server_request( self.api, 'my-pretty-instance-to-evacuate', self.image_id, networks='none'))) server_id = server['id'] self.addCleanup(self.api.delete_server, server_id) self._wait_for_state_change(self.api, server, 'ACTIVE') # We need to get instance details for knowing its host server = self.admin_api.get_server(server_id) host = server['OS-EXT-SRV-ATTR:host'] # As weigher prefers host1, we are sure we find it here. self.assertEqual('host1', host) # Now, force host1 to be down. As we use ComputeFilter, it won't never # be a possible destination for the scheduler now. self.admin_api.force_down_service(host, 'nova-compute', True) # It's time to evacuate by asking host2 as a target. Remember, the # only possibility the instance can end up on it is because the # scheduler should only verify the requested destination as host2 # is weighed lower than host3. evacuate = { 'evacuate': { 'host': 'host2' } } self.admin_api.post_server_action(server['id'], evacuate) self._wait_for_state_change(self.api, server, 'ACTIVE') server = self.admin_api.get_server(server_id) # Unfortunately, the requested host isn't respected. self.assertEqual('host3', server['OS-EXT-SRV-ATTR:host']) ",,165,0
openstack%2Fneutron~master~I721dfbb7e907eb1f4bac0fdb4f6fe35dc447dee1,openstack/neutron,master,I721dfbb7e907eb1f4bac0fdb4f6fe35dc447dee1,Update section with links to backport/RC potential bugs,MERGED,2017-11-05 17:34:56.000000000,2017-11-07 00:04:43.000000000,2017-11-07 00:04:43.000000000,"[{'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 17:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75607b5b8d8cbc011272d3f51e7dee59b1a042d5', 'message': 'Update links to list of stable branch bugs\n\nIn contributor policies bugs doc there are links to\nlist of bugs with backport-potential tag.\nThis commit updates links to those launchpad pages that\nit will display bugs for currently supported releases.\n\nChange-Id: I721dfbb7e907eb1f4bac0fdb4f6fe35dc447dee1\n'}, {'number': 2, 'created': '2017-11-06 18:36:37.000000000', 'files': ['doc/source/contributor/policies/bugs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e798f28b74d547a6e1df47813d97a015630f265', 'message': ""Update section with links to backport/RC potential bugs\n\nIn this section there were only links to 3 stale branches.\nNow it describes how link to Launchpad's page with\nlinks to current stable branches can be build.\n\nChange-Id: I721dfbb7e907eb1f4bac0fdb4f6fe35dc447dee1\n""}]",0,517827,7e798f28b74d547a6e1df47813d97a015630f265,11,7,2,11975,,,0,"Update section with links to backport/RC potential bugs

In this section there were only links to 3 stale branches.
Now it describes how link to Launchpad's page with
links to current stable branches can be build.

Change-Id: I721dfbb7e907eb1f4bac0fdb4f6fe35dc447dee1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/517827/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/bugs.rst'],1,75607b5b8d8cbc011272d3f51e7dee59b1a042d5,update_contributor_guide,* `All Pike bugs <https://bugs.launchpad.net/neutron/+bugs?field.tag=pike-backport-potential>`_ * `All Ocata bugs <https://bugs.launchpad.net/neutron/+bugs?field.tag=ocata-backport-potential>`_ * `All Mitaka bugs <https://bugs.launchpad.net/neutron/+bugs?field.tag=mitaka-backport-potential>`_,* `All Liberty bugs <https://bugs.launchpad.net/neutron/+bugs?field.tag=liberty-backport-potential>`_ * `All Kilo bugs <https://bugs.launchpad.net/neutron/+bugs?field.tag=kilo-backport-potential>`_ * `All Juno bugs <https://bugs.launchpad.net/neutron/+bugs?field.tag=juno-backport-potential>`_,3,3
openstack%2Fpython-cinderclient~master~If553a64f5dded2d47025c947a91f13091f3f5d14,openstack/python-cinderclient,master,If553a64f5dded2d47025c947a91f13091f3f5d14,Add .stestr.conf configuration,MERGED,2017-09-19 21:50:34.000000000,2017-11-06 23:43:15.000000000,2017-10-27 00:30:57.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 5196}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-19 21:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/da77126a21a51076fbf80badc73dd9b74db05557', 'message': 'Add .stestr.conf configuration\n\nos-testr has moved over to use stestr instead of testr. While this\nis usually compaible with existing settings, there is a warning\nthat is emitted when .stestr.conf is not present. It is usually\nable to fall back to parsing the .testr.conf file, but to be more\ncorrect and to prevent future problems we should update the config.\n\nChange-Id: If553a64f5dded2d47025c947a91f13091f3f5d14\n'}, {'number': 2, 'created': '2017-10-02 23:07:28.000000000', 'files': ['.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/203251d7ddd434660abefcc733e9518e367a7c98', 'message': 'Add .stestr.conf configuration\n\nos-testr has moved over to use stestr instead of testr. While this\nis usually compaible with existing settings, there is a warning\nthat is emitted when .stestr.conf is not present. It is usually\nable to fall back to parsing the .testr.conf file, but to be more\ncorrect and to prevent future problems we should update the config.\n\nChange-Id: If553a64f5dded2d47025c947a91f13091f3f5d14\n'}]",0,505422,203251d7ddd434660abefcc733e9518e367a7c98,31,7,2,11904,,,0,"Add .stestr.conf configuration

os-testr has moved over to use stestr instead of testr. While this
is usually compaible with existing settings, there is a warning
that is emitted when .stestr.conf is not present. It is usually
able to fall back to parsing the .testr.conf file, but to be more
correct and to prevent future problems we should update the config.

Change-Id: If553a64f5dded2d47025c947a91f13091f3f5d14
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/22/505422/1 && git format-patch -1 --stdout FETCH_HEAD,"['.testr.conf', 'tox.ini', '.stestr.conf']",3,da77126a21a51076fbf80badc73dd9b74db05557,stestr,[DEFAULT] test_path=${OS_TEST_PATH:-./cinderclient/tests/unit} top_dir=./ ,,7,4
openstack%2Fsahara-dashboard~master~If1c1b055c3f03b656853db1b35c42a422b08de7f,openstack/sahara-dashboard,master,If1c1b055c3f03b656853db1b35c42a422b08de7f,Add export of cluster templates to UI,MERGED,2017-08-28 22:31:56.000000000,2017-11-06 22:42:28.000000000,2017-11-06 22:42:28.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 25847}]","[{'number': 1, 'created': '2017-08-28 22:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/85622dc1df7e1b988b662369aa780f993a1f5f4d', 'message': 'Add export of cluster templates to UI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis chande adds an option to GUI to enable user export a cluster template\n\nChange-Id: If1c1b055c3f03b656853db1b35c42a422b08de7f\n'}, {'number': 2, 'created': '2017-08-29 18:01:30.000000000', 'files': ['sahara_dashboard/api/sahara.py', 'sahara_dashboard/content/data_processing/clusters/cluster_templates/tables.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/a1777e7658f979183639e1b28a5ffef8328feb47', 'message': 'Add export of cluster templates to UI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I027169ace70929318990a4225d456bf1cf8a83b2\n\nThis chande adds an option to GUI to enable user export a cluster template\n\nChange-Id: If1c1b055c3f03b656853db1b35c42a422b08de7f\n'}]",1,498612,a1777e7658f979183639e1b28a5ffef8328feb47,20,6,2,25351,,,0,"Add export of cluster templates to UI

Partially-Implements: bp portable-node-group-and-cluster-templates

Depends-On: I027169ace70929318990a4225d456bf1cf8a83b2

This chande adds an option to GUI to enable user export a cluster template

Change-Id: If1c1b055c3f03b656853db1b35c42a422b08de7f
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/12/498612/2 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_dashboard/api/sahara.py', 'sahara_dashboard/content/data_processing/clusters/cluster_templates/tables.py']",2,85622dc1df7e1b988b662369aa780f993a1f5f4d,bp/portable-node-group-and-cluster-templates,"from django import http as http_responsefrom oslo_serialization import jsonutils as jsonclass ExportTemplate(tables.Action): name = ""export"" verbose_name = _(""Export Template"") classes = (""ajax-modal"", ) def single(self, data_table, request, object_id): content = json.dumps(saharaclient.cluster_template_export( request, object_id)._info) response = http_response.HttpResponse( content, content_type=""application/json"") filename = '%s-cluster-template.json' % object_id disposition = 'attachment; filename=""%s""' % filename response['Content-Disposition'] = disposition.encode('utf-8') response['Content-Length'] = str(len(response.content)) return response ExportTemplate,",,24,0
openstack%2Fkolla~master~Ibb19bc2c79a25ab8d343581f6ed1783864eaf389,openstack/kolla,master,Ibb19bc2c79a25ab8d343581f6ed1783864eaf389,Kolla Documentation Restructuring,ABANDONED,2017-09-17 20:02:17.000000000,2017-11-06 22:36:22.000000000,,"[{'_account_id': 3}, {'_account_id': 5660}, {'_account_id': 9927}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 23717}, {'_account_id': 25945}]","[{'number': 1, 'created': '2017-09-17 20:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/70e03fce5722a0801766768c0096142f56426593', 'message': 'At PTG in Denver, we decided to follow the doc team restructuring format\nguidelines for the Kolla documentation full revamp. This patchset is the\ninitial restructuring of the existing doc files that we will use to build on.\n\nSee discussion notes in the PTG etherpad:\nhttps://etherpad.openstack.org/p/kolla-doc-restructure\n\nChange-Id: Ibb19bc2c79a25ab8d343581f6ed1783864eaf389\n'}, {'number': 2, 'created': '2017-09-17 20:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e00750eb6502097de4af44f12c06b208fcb9839b', 'message': 'Kolla Documentation Restructuring\n\nAt PTG in Denver, we decided to follow the doc team restructuring format\nguidelines for the Kolla documentation full revamp. This patchset is the\ninitial restructuring of the existing doc files that we will use to build on.\n\nSee discussion notes in the PTG etherpad:\nhttps://etherpad.openstack.org/p/kolla-doc-restructure\n\nChange-Id: Ibb19bc2c79a25ab8d343581f6ed1783864eaf389\n'}, {'number': 3, 'created': '2017-09-25 17:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af2598191da8a795e9c359983256ef33b6ffbf69', 'message': 'Kolla Documentation Restructuring\n\nAt PTG in Denver, we decided to follow the doc team restructuring format\nguidelines for the Kolla documentation full revamp. This patchset is the\ninitial restructuring of the existing doc files that we will use to build on.\n\nSee discussion notes in the PTG etherpad:\nhttps://etherpad.openstack.org/p/kolla-doc-restructure\n\nPartially Implements: blueprint queens-doc-restructure\n\nChange-Id: Ibb19bc2c79a25ab8d343581f6ed1783864eaf389\n'}, {'number': 4, 'created': '2017-09-27 07:00:12.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/contributor/bug-triage.rst', 'doc/source/contributor/index.rst', 'doc/source/admin/image-building.rst', 'doc/source/admin/template-override/opendaylight-source.rst', 'doc/source/admin/template-override/ovs-dpdk.rst', 'doc/source/conf.py', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/running-tests.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla/commit/03fa42a0c03931db31f65ba248710c15f683765b', 'message': 'Kolla Documentation Restructuring\n\nAt PTG in Denver, we decided to follow the doc team restructuring format\nguidelines for the Kolla documentation full revamp. This patchset is the\ninitial restructuring of the existing doc files that we will use to build on.\n\nSee discussion notes in the PTG etherpad:\nhttps://etherpad.openstack.org/p/kolla-doc-restructure\n\nPartially Implements: blueprint queens-doc-restructure\n\nChange-Id: Ibb19bc2c79a25ab8d343581f6ed1783864eaf389\n'}]",2,504801,03fa42a0c03931db31f65ba248710c15f683765b,27,7,4,5660,,,0,"Kolla Documentation Restructuring

At PTG in Denver, we decided to follow the doc team restructuring format
guidelines for the Kolla documentation full revamp. This patchset is the
initial restructuring of the existing doc files that we will use to build on.

See discussion notes in the PTG etherpad:
https://etherpad.openstack.org/p/kolla-doc-restructure

Partially Implements: blueprint queens-doc-restructure

Change-Id: Ibb19bc2c79a25ab8d343581f6ed1783864eaf389
",git fetch https://review.opendev.org/openstack/kolla refs/changes/01/504801/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/contributor/bug-triage.rst', 'doc/source/contributor/index.rst', 'doc/source/admin/image-building.rst', 'doc/source/admin/template-override/opendaylight-source.rst', 'doc/source/admin/template-override/ovs-dpdk.rst', 'doc/source/conf.py', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/running-tests.rst']",10,70e03fce5722a0801766768c0096142f56426593,bp/queens-doc-restructure,,,30,25
openstack%2Frally~stable%2F0.10~I222349e7c8c61d3b7904e387b9f6fc6b42794060,openstack/rally,stable/0.10,I222349e7c8c61d3b7904e387b9f6fc6b42794060,Update .gitreview for stable/0.10,MERGED,2017-10-27 00:28:07.000000000,2017-11-06 22:02:30.000000000,2017-11-06 22:02:30.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 00:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2ea83883937b9db21f795e682cc12d6f3205fc95', 'message': 'Update .gitreview for stable/0.10\n\nChange-Id: I222349e7c8c61d3b7904e387b9f6fc6b42794060\n'}, {'number': 2, 'created': '2017-11-06 12:32:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/rally/commit/aa37966d017befb0502e8d91bc08735464355793', 'message': 'Update .gitreview for stable/0.10\n\nChange-Id: I222349e7c8c61d3b7904e387b9f6fc6b42794060\n'}]",0,515554,aa37966d017befb0502e8d91bc08735464355793,18,3,2,22816,,,0,"Update .gitreview for stable/0.10

Change-Id: I222349e7c8c61d3b7904e387b9f6fc6b42794060
",git fetch https://review.opendev.org/openstack/rally refs/changes/54/515554/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2ea83883937b9db21f795e682cc12d6f3205fc95,create-0.10,defaultbranch=stable/0.10,,1,0
openstack%2Fnetworking-generic-switch~master~Ic7c6836fb72606fa78b6a1f474605775ef3b27d5,openstack/networking-generic-switch,master,Ic7c6836fb72606fa78b6a1f474605775ef3b27d5,Cleanup project.yaml,MERGED,2017-11-06 14:54:20.000000000,2017-11-06 21:57:51.000000000,2017-11-06 21:57:51.000000000,"[{'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 14:54:20.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/c0c63e0bc7acb431622b7abf9a38c753b41357c6', 'message': 'Cleanup project.yaml\n\nThis change removes the jobs that do not need to be run on master.\n\nChange-Id: Ic7c6836fb72606fa78b6a1f474605775ef3b27d5\n'}]",0,518009,c0c63e0bc7acb431622b7abf9a38c753b41357c6,6,2,1,12356,,,0,"Cleanup project.yaml

This change removes the jobs that do not need to be run on master.

Change-Id: Ic7c6836fb72606fa78b6a1f474605775ef3b27d5
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/09/518009/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c0c63e0bc7acb431622b7abf9a38c753b41357c6,cleanup-jobs,, branches: ^(?!stable/(newton|ocata)).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - ironic-tempest-dsvm-multitenant-network: branches: ^stable/(newton|ocata).*$ branches: ^(?!stable/(newton|ocata)).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - ironic-tempest-dsvm-multitenant-network: branches: ^stable/(newton|ocata).*$,0,12
openstack%2Fnetworking-generic-switch~stable%2Focata~I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a,openstack/networking-generic-switch,stable/ocata,I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a,Introduce zuulv3 jobs into stable branches,MERGED,2017-11-06 14:51:20.000000000,2017-11-06 21:57:51.000000000,2017-11-06 21:57:51.000000000,"[{'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 14:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/f0d4b87e51a3c813cf8aca6464b2596b15b27cad', 'message': 'Introduce zuulv3 jobs into stable branches\n\nChange-Id: I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a\n'}, {'number': 2, 'created': '2017-11-06 14:52:12.000000000', 'files': ['playbooks/legacy/networking-generic-switch-tempest-dsvm/post.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/networking-generic-switch-tempest-dsvm/run.yaml', 'zuul.d/legacy-networking-generic-switch-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/756580a2f93f1e4060bbb49e7055e32c75a10fda', 'message': 'Introduce zuulv3 jobs into stable branches\n\nChange-Id: I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a\n'}]",0,518006,756580a2f93f1e4060bbb49e7055e32c75a10fda,7,2,2,12356,,,0,"Introduce zuulv3 jobs into stable branches

Change-Id: I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/06/518006/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/networking-generic-switch-tempest-dsvm/post.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/networking-generic-switch-tempest-dsvm/run.yaml', 'zuul.d/legacy-networking-generic-switch-jobs.yaml']",4,f0d4b87e51a3c813cf8aca6464b2596b15b27cad,add-zuulv3-jobs-stable/ocata,- job: name: networking-generic-switch-tempest-dsvm parent: legacy-dsvm-base run: playbooks/legacy/networking-generic-switch-tempest-dsvm/run.yaml post-run: playbooks/legacy/networking-generic-switch-tempest-dsvm/post.yaml timeout: 4800 required-projects: - openstack-infra/devstack-gate - openstack/networking-generic-switch - openstack/tempest ,,124,0
openstack%2Fnetworking-generic-switch~stable%2Fpike~I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a,openstack/networking-generic-switch,stable/pike,I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a,Introduce zuulv3 jobs into stable branches,MERGED,2017-11-06 14:44:29.000000000,2017-11-06 21:57:50.000000000,2017-11-06 21:57:50.000000000,"[{'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 14:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/0ff6ee35c0250c457bbaa6af6d00c8771145b59d', 'message': 'Introduce zuulv3 jobs into stable branches\n\nChange-Id: I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a\n'}, {'number': 2, 'created': '2017-11-06 14:52:52.000000000', 'files': ['playbooks/legacy/networking-generic-switch-tempest-dsvm/post.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/networking-generic-switch-tempest-dsvm/run.yaml', 'zuul.d/legacy-networking-generic-switch-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/490fa6e43704bc123792ca267af22f5c70411310', 'message': 'Introduce zuulv3 jobs into stable branches\n\nChange-Id: I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a\n'}]",0,518005,490fa6e43704bc123792ca267af22f5c70411310,8,2,2,12356,,,0,"Introduce zuulv3 jobs into stable branches

Change-Id: I73e4a3f5937d77d32f5cf5e73a2e78cb265fb59a
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/05/518005/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/networking-generic-switch-tempest-dsvm/post.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/networking-generic-switch-tempest-dsvm/run.yaml', 'zuul.d/legacy-networking-generic-switch-jobs.yaml']",4,0ff6ee35c0250c457bbaa6af6d00c8771145b59d,add-zuulv3-jobs,- job: name: networking-generic-switch-tempest-dsvm parent: legacy-dsvm-base run: playbooks/legacy/networking-generic-switch-tempest-dsvm/run.yaml post-run: playbooks/legacy/networking-generic-switch-tempest-dsvm/post.yaml timeout: 4800 required-projects: - openstack-infra/devstack-gate - openstack/networking-generic-switch - openstack/tempest ,,124,0
openstack%2Fironic-python-agent~master~Ia5ee5e79bc75c11541cbc328385b046d1e798ddd,openstack/ironic-python-agent,master,Ia5ee5e79bc75c11541cbc328385b046d1e798ddd,Fix a mis-formatted log message,MERGED,2017-10-27 16:18:26.000000000,2017-11-06 21:57:13.000000000,2017-11-06 21:57:13.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 14760}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 16:18:26.000000000', 'files': ['ironic_python_agent/extensions/clean.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c3acbde396501996bca0373bb2e55c11a88b2651', 'message': 'Fix a mis-formatted log message\n\nThe log message was missing the type specifier.\n\nChange-Id: Ia5ee5e79bc75c11541cbc328385b046d1e798ddd\n'}]",0,515762,c3acbde396501996bca0373bb2e55c11a88b2651,11,4,1,14760,,,0,"Fix a mis-formatted log message

The log message was missing the type specifier.

Change-Id: Ia5ee5e79bc75c11541cbc328385b046d1e798ddd
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/62/515762/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/clean.py'],1,c3acbde396501996bca0373bb2e55c11a88b2651,," LOG.warning('Mismatched clean versions. Agent version: %(agent)s, ' 'node version: %(node)s', {'agent': agent_version, 'node': clean_version})"," LOG.warning('Mismatched clean versions. Agent version: %(agent), ' 'node version: %(node)', {'agent': agent_version, 'node': clean_version})",3,3
openstack%2Fironic~master~Id8974a4ad68cf6de31e3c6c8d967cb6dd91b21d0,openstack/ironic,master,Id8974a4ad68cf6de31e3c6c8d967cb6dd91b21d0,"WIP, no review needed yet",ABANDONED,2015-09-01 22:08:05.000000000,2017-11-06 21:53:43.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-09-01 22:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/247a2d8c2efc0643aaa128aeab99fb9af684e512', 'message': 'Use six.wraps instead of functools.wrap\n\nUse six.wraps instead of functools.wrap.\n\nAlso add six.wraps usage to two wrapper functions.\n\nChange-Id: Id8974a4ad68cf6de31e3c6c8d967cb6dd91b21d0\n'}, {'number': 2, 'created': '2015-09-02 01:14:02.000000000', 'files': ['ironic/drivers/modules/ucs/helper.py', 'ironic/drivers/base.py', 'ironic/common/glance_service/base_image_service.py', 'ironic/conductor/task_manager.py', 'ironic/objects/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/94f731e55d9195cb39b124ebdcbf9a352b5d02e5', 'message': 'WIP, no review needed yet\n\nUse six.wraps instead of functools.wrap\n\nUse six.wraps instead of functools.wrap.\n\nAlso add six.wraps usage to two wrapper functions.\n\nChange-Id: Id8974a4ad68cf6de31e3c6c8d967cb6dd91b21d0\n'}]",0,219470,94f731e55d9195cb39b124ebdcbf9a352b5d02e5,8,3,2,14760,,,0,"WIP, no review needed yet

Use six.wraps instead of functools.wrap

Use six.wraps instead of functools.wrap.

Also add six.wraps usage to two wrapper functions.

Change-Id: Id8974a4ad68cf6de31e3c6c8d967cb6dd91b21d0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/219470/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ucs/helper.py', 'ironic/drivers/base.py', 'ironic/common/glance_service/base_image_service.py', 'ironic/conductor/task_manager.py', 'ironic/objects/base.py']",5,247a2d8c2efc0643aaa128aeab99fb9af684e512,, @six.wraps(fn) @six.wraps(fn),,9,11
openstack%2Ftrove~master~I9e86ec020c0ad56b9b5c8e47a27b9667e565f036,openstack/trove,master,I9e86ec020c0ad56b9b5c8e47a27b9667e565f036,Fix doc generation for Python3,NEW,2017-04-17 11:38:20.000000000,2017-11-06 21:43:54.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2017-04-17 11:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0904e25ba12a9993721cda9a80d90be5017a6272', 'message': 'Fix doc generation for Python3\n\nFix the Sphinx html_last_updated_fmt for Python3.\nThe html_last_updated_fmt option is interpeted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: I9e86ec020c0ad56b9b5c8e47a27b9667e565f036\n'}, {'number': 2, 'created': '2017-04-18 12:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/09928268ff139310813e9101d4fe3a68e858bca6', 'message': 'Fix doc generation for Python3\n\nFix the Sphinx html_last_updated_fmt for Python3.\nThe html_last_updated_fmt option is interpeted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: I9e86ec020c0ad56b9b5c8e47a27b9667e565f036\n'}, {'number': 3, 'created': '2017-06-14 06:36:25.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/ef270921964a74f38bcab6edefb25c7f512fa619', 'message': 'Fix doc generation for Python3\n\nFix the Sphinx html_last_updated_fmt for Python3.\nThe html_last_updated_fmt option is interpeted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: I9e86ec020c0ad56b9b5c8e47a27b9667e565f036\nCloses-Bug: #1693670\n'}]",6,457223,ef270921964a74f38bcab6edefb25c7f512fa619,19,8,3,20401,,,0,"Fix doc generation for Python3

Fix the Sphinx html_last_updated_fmt for Python3.
The html_last_updated_fmt option is interpeted as a
byte string in python3, causing Sphinx build to break.
This patch makes it utf-8 string.

Change-Id: I9e86ec020c0ad56b9b5c8e47a27b9667e565f036
Closes-Bug: #1693670
",git fetch https://review.opendev.org/openstack/trove refs/changes/23/457223/3 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,0904e25ba12a9993721cda9a80d90be5017a6272,fix_tox, html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8')," html_last_updated_fmt = subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0]",1,2
openstack%2Fopenstack-zuul-jobs~master~Ibebf9d0eeccabaefa2777a43592a72d19d064b6b,openstack/openstack-zuul-jobs,master,Ibebf9d0eeccabaefa2777a43592a72d19d064b6b,Create openstack-tox-functional,MERGED,2017-11-04 15:48:22.000000000,2017-11-06 21:35:58.000000000,2017-11-06 21:35:58.000000000,"[{'_account_id': 1}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 15:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9d7b698b6e95574b4980d5495085b04f5802da4d', 'message': 'Create openstack-tox-functional\n\nA couple of projects run a custom tox-functional job, create a single\njob for them.\n\nNeeded-By: I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc\nChange-Id: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\n'}, {'number': 2, 'created': '2017-11-05 20:00:16.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/518fc65b40b98ccce9e41c1c911829c4149948b5', 'message': 'Create openstack-tox-functional\n\nA couple of projects run a custom tox-functional job, create a single\njob for them.\n\nNeeded-By: I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc\nChange-Id: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b\n'}]",0,517760,518fc65b40b98ccce9e41c1c911829c4149948b5,10,4,2,6547,,,0,"Create openstack-tox-functional

A couple of projects run a custom tox-functional job, create a single
job for them.

Needed-By: I9d0c7b53cacf685f6a6fe593c457eb9a1b3570bc
Change-Id: Ibebf9d0eeccabaefa2777a43592a72d19d064b6b
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/60/517760/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,9d7b698b6e95574b4980d5495085b04f5802da4d,tox-functional, name: openstack-tox-functional parent: openstack-tox description: | Run functional tests. Uses tox with the ``functional`` environment. vars: tox_envlist: build - job:,,10,0
openstack%2Fproject-config~master~I69c2b84d800c466be11b0fd2e263ac7a11dd76e0,openstack/project-config,master,I69c2b84d800c466be11b0fd2e263ac7a11dd76e0,Add jobs for cinder-tempest-repo,MERGED,2017-10-27 18:13:49.000000000,2017-11-06 21:27:05.000000000,2017-11-06 21:27:05.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 18:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/484048ffd53171b4c5254ea45f3916f946cefc28', 'message': 'Add jobs for cinder-tempest-repo\n\nThis adds the zuul jobs for the new Cinder tempest repo.\n\nChange-Id: I69c2b84d800c466be11b0fd2e263ac7a11dd76e0\nPartial-Implements: blueprint goal-split-tempest-plugin\n'}, {'number': 2, 'created': '2017-10-29 16:37:10.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3eb16a83a1a8d099d338d2e9c8623987de411fb1', 'message': 'Add jobs for cinder-tempest-repo\n\nThis adds the zuul jobs for the new Cinder tempest repo.\n\nChange-Id: I69c2b84d800c466be11b0fd2e263ac7a11dd76e0\nPartial-Implements: blueprint goal-split-tempest-plugin\n'}]",1,515797,3eb16a83a1a8d099d338d2e9c8623987de411fb1,11,4,2,11904,,,0,"Add jobs for cinder-tempest-repo

This adds the zuul jobs for the new Cinder tempest repo.

Change-Id: I69c2b84d800c466be11b0fd2e263ac7a11dd76e0
Partial-Implements: blueprint goal-split-tempest-plugin
",git fetch https://review.opendev.org/openstack/project-config refs/changes/97/515797/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul/main.yaml']",2,484048ffd53171b4c5254ea45f3916f946cefc28,goal-split-tempest-plugins, - openstack/cinder-tempest-plugin,,13,0
openstack%2Fproject-config~master~I9fdfe396e6f84b632fae182dade30914865bd3bf,openstack/project-config,master,I9fdfe396e6f84b632fae182dade30914865bd3bf,Remove legacy jobs from Congress,MERGED,2017-10-09 08:17:13.000000000,2017-11-06 21:23:49.000000000,2017-11-06 21:23:49.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-09 08:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb0982bf99ee9bea3b25ad055fa23e091a59d541', 'message': 'Remove legacy jobs from Congress\n\nChange-Id: I9fdfe396e6f84b632fae182dade30914865bd3bf\nDepends-On: Ie2f41fd211dad4852fadaa05fdda7536f18b38eb\n'}, {'number': 2, 'created': '2017-10-17 02:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7a4c8850e138783aea68be01082364ba4f70a175', 'message': 'Remove legacy jobs from Congress\n\nChange-Id: I9fdfe396e6f84b632fae182dade30914865bd3bf\nDepends-On: Ie2f41fd211dad4852fadaa05fdda7536f18b38eb\nNeeded-By: I8e093bd3bb880b6b2c11a20e785c5a562f66159c\n'}, {'number': 3, 'created': '2017-11-06 08:53:46.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/40de826c27df4187a173e93137ad84efacdd6bad', 'message': 'Remove legacy jobs from Congress\n\nChange-Id: I9fdfe396e6f84b632fae182dade30914865bd3bf\nDepends-On: Ie2f41fd211dad4852fadaa05fdda7536f18b38eb\nNeeded-By: I8e093bd3bb880b6b2c11a20e785c5a562f66159c\n'}]",0,510437,40de826c27df4187a173e93137ad84efacdd6bad,12,4,3,19554,,,0,"Remove legacy jobs from Congress

Change-Id: I9fdfe396e6f84b632fae182dade30914865bd3bf
Depends-On: Ie2f41fd211dad4852fadaa05fdda7536f18b38eb
Needed-By: I8e093bd3bb880b6b2c11a20e785c5a562f66159c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/510437/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,fb0982bf99ee9bea3b25ad055fa23e091a59d541,migrate_to_zuulv3_congress,, - legacy-congress-dsvm-api-mysql - legacy-congress-dsvm-py35-api-mysql: voting: false - legacy-congress-dsvm-api-postgresql: voting: false - legacy-congress-pe-replicated-mysql: voting: false - legacy-congress-pe-replicated-postgresql: voting: false - openstack-tox-cover: voting: false - legacy-murano-congress-devstack-dsvm: voting: false gate: jobs: - legacy-congress-dsvm-api-mysql,0,16
openstack%2Foslo.log~master~I1b7b7b9e66215e8e1c59a2c0a37cb0abaebf228a,openstack/oslo.log,master,I1b7b7b9e66215e8e1c59a2c0a37cb0abaebf228a,Add option to use JSON formatter,MERGED,2017-11-06 08:13:56.000000000,2017-11-06 21:19:26.000000000,2017-11-06 21:19:26.000000000,"[{'_account_id': 2472}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 08:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/7147bd876c1082e6dbf5fa3cdb123ad9a16f70ea', 'message': 'Add option to use JSON formatter\n\nThis adds the use_json option, which will use the JSON formatter\ninstead of the deafult ContextFormatter if set.\n\nChange-Id: I1b7b7b9e66215e8e1c59a2c0a37cb0abaebf228a\n'}, {'number': 2, 'created': '2017-11-06 08:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/79d5af5bb6bde9ed4724f5d686a8fc139bf94997', 'message': 'Add option to use JSON formatter\n\nThis adds the use_json option, which will use the JSON formatter\ninstead of the deafult ContextFormatter if set.\n\nCloses-Bug: #1729331\nChange-Id: I1b7b7b9e66215e8e1c59a2c0a37cb0abaebf228a\n'}, {'number': 3, 'created': '2017-11-06 16:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/85ed2104a2c5ef42ef9f373cf15b566604eb849a', 'message': 'Add option to use JSON formatter\n\nThis adds the use_json option, which will use the JSON formatter\ninstead of the deafult ContextFormatter if set.\n\nCloses-Bug: #1729331\nChange-Id: I1b7b7b9e66215e8e1c59a2c0a37cb0abaebf228a\n'}, {'number': 4, 'created': '2017-11-06 16:53:04.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/_options.py', 'oslo_log/log.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/215cc3a8ec5cb61a365a98d731d08ae2f13d46d1', 'message': 'Add option to use JSON formatter\n\nThis adds the use_json option, which will use the JSON formatter\ninstead of the deafult ContextFormatter if set.\n\nCloses-Bug: #1729331\nChange-Id: I1b7b7b9e66215e8e1c59a2c0a37cb0abaebf228a\n'}]",0,517882,215cc3a8ec5cb61a365a98d731d08ae2f13d46d1,13,4,4,10873,,,0,"Add option to use JSON formatter

This adds the use_json option, which will use the JSON formatter
instead of the deafult ContextFormatter if set.

Closes-Bug: #1729331
Change-Id: I1b7b7b9e66215e8e1c59a2c0a37cb0abaebf228a
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/82/517882/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/_options.py', 'oslo_log/log.py']",2,7147bd876c1082e6dbf5fa3cdb123ad9a16f70ea,json-logging," if not conf.use_json: for handler in log_root.handlers: handler.setFormatter(formatters.ContextFormatter(project=project, version=version, datefmt=datefmt, config=conf)) else: for handler in log_root.handlers: handler.setFormatter(formatters.JSONFormatter(datefmt=datefmt))"," for handler in log_root.handlers: handler.setFormatter(formatters.ContextFormatter(project=project, version=version, datefmt=datefmt, config=conf))",13,5
openstack%2Fproject-config~master~I9583972498d10113dd16425b098c3d4a22852672,openstack/project-config,master,I9583972498d10113dd16425b098c3d4a22852672,Move devstack-plugin-amqp1 tests to the project repo,MERGED,2017-11-02 19:42:33.000000000,2017-11-06 21:17:45.000000000,2017-11-06 21:17:45.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 19:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/17833d551879cc62520a815d73b28b04e6bcd43e', 'message': 'Move devstack-plugin-amqp1 tests to the project repo\n\nChange-Id: I9583972498d10113dd16425b098c3d4a22852672\nNeeded-By: I06e3fdb4208e762e9e2e421f54023cf3ce65decd\n'}, {'number': 2, 'created': '2017-11-03 15:38:29.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c1effb7d375958e14d439216d78f99420c331877', 'message': 'Move devstack-plugin-amqp1 tests to the project repo\n\nChange-Id: I9583972498d10113dd16425b098c3d4a22852672\nNeeded-By: I06e3fdb4208e762e9e2e421f54023cf3ce65decd\nDepends-On: I4d08f6e30b542c1943a1c57f058d3695b082a8f0\n'}]",0,517415,c1effb7d375958e14d439216d78f99420c331877,10,3,2,8770,,,0,"Move devstack-plugin-amqp1 tests to the project repo

Change-Id: I9583972498d10113dd16425b098c3d4a22852672
Needed-By: I06e3fdb4208e762e9e2e421f54023cf3ce65decd
Depends-On: I4d08f6e30b542c1943a1c57f058d3695b082a8f0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/517415/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,17833d551879cc62520a815d73b28b04e6bcd43e,migrate-devstack-amqp1-plugin,, - legacy-tempest-dsvm-full-amqp1: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - oslo.messaging-src-dsvm-full-amqp1-hybrid: voting: false branches: ^(?!stable/ocata).*$ - oslo.messaging-src-dsvm-full-amqp1-dual-centos-7: voting: false branches: ^(?!stable/ocata).*$,0,11
openstack%2Ftripleo-ci~master~Ia188c24a92253d54bdd536ec9a720adb9959d78f,openstack/tripleo-ci,master,Ia188c24a92253d54bdd536ec9a720adb9959d78f,Install openstack-selinux with openvswitch,ABANDONED,2017-11-06 14:52:00.000000000,2017-11-06 21:04:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-06 14:52:00.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b372f1210f8382a6e627273fb1785d9d214e1c57', 'message': ""Install openstack-selinux with openvswitch\n\nSince openvswitch-2.8, some selinux policies installed\nwith openstack-selinux are required for openvswitch\nservices to start properly.\n\nFuntion ovs_vxlan_bridge is used in multinode environments\nto instal ovs in subnodes, so this patch is installing\nopenstack-selinux when installing openvswitch. Note that\nselinux is not mandatory in ovs for non-openstack environments\nso it can't be added as dependency in RPM.\n\nChange-Id: Ia188c24a92253d54bdd536ec9a720adb9959d78f\n""}]",0,518008,b372f1210f8382a6e627273fb1785d9d214e1c57,5,2,1,16312,,,0,"Install openstack-selinux with openvswitch

Since openvswitch-2.8, some selinux policies installed
with openstack-selinux are required for openvswitch
services to start properly.

Funtion ovs_vxlan_bridge is used in multinode environments
to instal ovs in subnodes, so this patch is installing
openstack-selinux when installing openvswitch. Note that
selinux is not mandatory in ovs for non-openstack environments
so it can't be added as dependency in RPM.

Change-Id: Ia188c24a92253d54bdd536ec9a720adb9959d78f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/518008/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,b372f1210f8382a6e627273fb1785d9d214e1c57,ovs-2.8, if is_suse; then elif is_fedora; then local ovs_package='openvswitch openstack-selinux' local ovs_service='openvswitch', if is_suse || is_fedora; then,4,1
openstack%2Fpuppet-tripleo~stable%2Focata~I306df6a83e0253630d6c7a005cb1ea3f45b5fc1c,openstack/puppet-tripleo,stable/ocata,I306df6a83e0253630d6c7a005cb1ea3f45b5fc1c,Release 6.5.5 (ocata),MERGED,2017-11-05 04:26:36.000000000,2017-11-06 20:44:49.000000000,2017-11-06 20:44:49.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-05 04:26:36.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/56b8111a2fe16b958187eed98a8d7a789952d233', 'message': 'Release 6.5.5 (ocata)\n\nChange-Id: I306df6a83e0253630d6c7a005cb1ea3f45b5fc1c\n'}]",0,517794,56b8111a2fe16b958187eed98a8d7a789952d233,7,3,1,3153,,,0,"Release 6.5.5 (ocata)

Change-Id: I306df6a83e0253630d6c7a005cb1ea3f45b5fc1c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/517794/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,56b8111a2fe16b958187eed98a8d7a789952d233,tripleo/ocata," ""version"": ""6.5.5"","," ""version"": ""6.5.4"",",1,1
openstack%2Fpuppet-tripleo~stable%2Fpike~Iad6ff5ec5871775faf8ad961074e2914968ef184,openstack/puppet-tripleo,stable/pike,Iad6ff5ec5871775faf8ad961074e2914968ef184,Release 7.4.4 (pike),MERGED,2017-11-05 04:27:13.000000000,2017-11-06 20:41:02.000000000,2017-11-06 20:41:01.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-05 04:27:13.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a885ec358c1c91747c77e7f0dc7da5ae990b475e', 'message': 'Release 7.4.4 (pike)\n\nChange-Id: Iad6ff5ec5871775faf8ad961074e2914968ef184\n'}]",0,517795,a885ec358c1c91747c77e7f0dc7da5ae990b475e,8,3,1,3153,,,0,"Release 7.4.4 (pike)

Change-Id: Iad6ff5ec5871775faf8ad961074e2914968ef184
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/517795/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a885ec358c1c91747c77e7f0dc7da5ae990b475e,tripleo/pike," ""version"": ""7.4.4"","," ""version"": ""7.4.3"",",1,1
openstack%2Fceilometer~master~Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6,openstack/ceilometer,master,Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6,"revise doc of ""workload_partitioning"" and term ""Notification Agents""",MERGED,2017-10-27 08:22:19.000000000,2017-11-06 20:39:54.000000000,2017-11-06 20:39:54.000000000,"[{'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 23913}, {'_account_id': 25891}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-10-27 08:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b273722361a4060fce82cda4dd0275ffcd1d3f2f', 'message': 'a word wrong spelling\n\nChange-Id: Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6\n'}, {'number': 2, 'created': '2017-10-27 08:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dbc21024678a009a6bc912c1fe4438bc7198b1e1', 'message': 'a word wrong spelling\nterm “notification agents” should stay the same with explanation below.\nChange-Id: Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6\n'}, {'number': 3, 'created': '2017-10-28 06:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/13f8edff660bfe111d609ce3778c421fcc547f2a', 'message': 'revise doc of ""workload_partitioning"" and term ""Notification Agents""\nChange-Id: Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6\n'}, {'number': 4, 'created': '2017-10-30 10:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/93e0272f81b873b03c7a2401e648d3f3c33cafa6', 'message': 'revise doc of ""workload_partitioning"" and term ""Notification Agents""\nChange-Id: Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6\n'}, {'number': 5, 'created': '2017-11-06 15:33:01.000000000', 'files': ['doc/source/contributor/install/upgrade.rst', 'doc/source/contributor/architecture.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3620b0fd515e123147c40a4b12173ee6a2470b05', 'message': 'revise doc of ""workload_partitioning"" and term ""Notification Agents""\n\nChange-Id: Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6\n'}]",7,515642,3620b0fd515e123147c40a4b12173ee6a2470b05,24,7,5,25891,,,0,"revise doc of ""workload_partitioning"" and term ""Notification Agents""

Change-Id: Ie6356898533b2c35b42e86dd84ca3ce02c7d84d6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/42/515642/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/install/upgrade.rst'],1,b273722361a4060fce82cda4dd0275ffcd1d3f2f,doc, workload_partitioning is enabled OR if it has the same pipeline configuration., workload_partioning is enabled OR if it has the same pipeline configuration.,1,1
openstack%2Fopenstack-ansible~master~I8d34cef23b81e5474b8f2c0e7b7d8bbac3a5dc00,openstack/openstack-ansible,master,I8d34cef23b81e5474b8f2c0e7b7d8bbac3a5dc00,PermitRootLogin for hosts group,MERGED,2017-11-06 14:37:07.000000000,2017-11-06 20:39:17.000000000,2017-11-06 20:39:17.000000000,"[{'_account_id': 6816}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-06 14:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/26a7b7f8c60b6057c2d076fbb9c6ff70d8a8f92d', 'message': ""PermitRootLogin for hosts group\n\nAllow login as root user to hosts.\nWe currently use root user for all our tasks, this causes the integrated\nbuild to fail, and would cause all deploys to fail too, since ansible\ncan't log into the hosts as the root user.\n\nChange-Id: I8d34cef23b81e5474b8f2c0e7b7d8bbac3a5dc00\n""}, {'number': 2, 'created': '2017-11-06 14:39:23.000000000', 'files': ['group_vars/hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c92d37c01f59a4c8992863896a8ce0bc2074551', 'message': ""PermitRootLogin for hosts group\n\nAllow login as root user to hosts.\nWe currently use root user for all our tasks, this causes the integrated\nbuild to fail, and would cause all deploys to fail too, since ansible\ncan't log into the hosts as the root user.\n\nChange-Id: I8d34cef23b81e5474b8f2c0e7b7d8bbac3a5dc00\n""}]",2,518001,4c92d37c01f59a4c8992863896a8ce0bc2074551,12,4,2,2799,,,0,"PermitRootLogin for hosts group

Allow login as root user to hosts.
We currently use root user for all our tasks, this causes the integrated
build to fail, and would cause all deploys to fail too, since ansible
can't log into the hosts as the root user.

Change-Id: I8d34cef23b81e5474b8f2c0e7b7d8bbac3a5dc00
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/518001/1 && git format-patch -1 --stdout FETCH_HEAD,['group_vars/hosts.yml'],1,26a7b7f8c60b6057c2d076fbb9c6ff70d8a8f92d,root_login, security_sshd_permit_root_login: yes,,2,0
openstack%2Ftrove~master~Ifb531094bb5c65c6292c0d4adf9c4a7df2e520e5,openstack/trove,master,Ifb531094bb5c65c6292c0d4adf9c4a7df2e520e5,Fix bad print object in debug log,ABANDONED,2017-02-15 08:25:45.000000000,2017-11-06 20:14:00.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-02-15 08:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f8d133fe526055c9f2731a253928924f842aa231', 'message': 'Fix bad print object in debug log\n\nChange-Id: Ifb531094bb5c65c6292c0d4adf9c4a7df2e520e5\n'}, {'number': 2, 'created': '2017-03-07 08:59:10.000000000', 'files': ['trove/configuration/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/cac29a5cf2498896558acd4baf204bc7dac58382', 'message': 'Fix bad print object in debug log\n\nChange-Id: Ifb531094bb5c65c6292c0d4adf9c4a7df2e520e5\n'}]",0,434134,cac29a5cf2498896558acd4baf204bc7dac58382,5,1,2,17081,,,0,"Fix bad print object in debug log

Change-Id: Ifb531094bb5c65c6292c0d4adf9c4a7df2e520e5
",git fetch https://review.opendev.org/openstack/trove refs/changes/34/434134/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/configuration/service.py'],1,f8d133fe526055c9f2731a253928924f842aa231,fix-debug," LOG.debug(""body : '%s'\n\n"" % body)"," LOG.debug(""body : '%s'\n\n"" % req)",1,1
openstack%2Fpython-troveclient~master~I644c8af33f8c14b1e72ef51026ded87144550d9c,openstack/python-troveclient,master,I644c8af33f8c14b1e72ef51026ded87144550d9c,Replace six.iteritems() with .items(),ABANDONED,2017-02-08 06:58:02.000000000,2017-11-06 20:12:23.000000000,,"[{'_account_id': 3}, {'_account_id': 22694}]","[{'number': 1, 'created': '2017-02-08 06:58:02.000000000', 'files': ['troveclient/utils.py', 'troveclient/apiclient/base.py', 'troveclient/compat/common.py', 'troveclient/apiclient/exceptions.py', 'troveclient/apiclient/auth.py', 'troveclient/auth_plugin.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/985c892c132a97bde19f9c3efc3417199b1215b6', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using\nsix.iteritems to achieve iterators. We can\nuse dict.items instead, as it will return\niterators in PY3 as well. And dict.items/keys\nwill more readable. 2.In py2, the performance\nabout list should be negligible, see the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I644c8af33f8c14b1e72ef51026ded87144550d9c\n'}]",0,430592,985c892c132a97bde19f9c3efc3417199b1215b6,4,2,1,12736,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using
six.iteritems to achieve iterators. We can
use dict.items instead, as it will return
iterators in PY3 as well. And dict.items/keys
will more readable. 2.In py2, the performance
about list should be negligible, see the link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I644c8af33f8c14b1e72ef51026ded87144550d9c
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/92/430592/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/utils.py', 'troveclient/apiclient/base.py', 'troveclient/compat/common.py', 'troveclient/apiclient/exceptions.py', 'troveclient/apiclient/auth.py', 'troveclient/auth_plugin.py']",6,985c892c132a97bde19f9c3efc3417199b1215b6,six.iteritems," for name, auth_plugin in _discovered_plugins.items():","import six for name, auth_plugin in six.iteritems(_discovered_plugins):",9,14
openstack%2Fheat~master~I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb,openstack/heat,master,I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb,Add OS::Neutron::RBACPolicy resource,MERGED,2015-12-10 08:25:00.000000000,2017-11-06 20:10:41.000000000,2016-01-28 12:45:38.000000000,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 7128}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 12363}, {'_account_id': 13009}, {'_account_id': 13323}, {'_account_id': 18389}]","[{'number': 1, 'created': '2015-12-10 08:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c09b4ee467a6baa8edf21a3ad1d26c09c6b558fb', 'message': 'Add OS::Neutron::Rbac-policy resource\n\nThis change added OS::Neutron::Rbac-policy to heat.\n\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 2, 'created': '2015-12-10 10:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/698aff8debd302172fa47ed776a3ce74c7ed64a0', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 3, 'created': '2015-12-15 09:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/88672735fc3d04e18180b5ac2391612b68b24b4d', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 4, 'created': '2015-12-15 09:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ef5ea1df2f28aefc09f64860c82f46af684f9262', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 5, 'created': '2015-12-16 03:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d2c514e19f990608a297d8d775d37f45afb44a69', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 6, 'created': '2015-12-21 15:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1c3681780ab14b07b79d23799246a590193fc5d', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 7, 'created': '2016-01-06 00:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/047824687961ef3c5c369f233b8a0a3a5b413d0e', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 8, 'created': '2016-01-15 11:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/983386382fac5c0a8d38eac4c9df49d1fb642f2d', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 9, 'created': '2016-01-15 16:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bae4cd30efee84449a1c66b3072bc8c5ad5fe6d2', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 10, 'created': '2016-01-20 23:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2bc547217cd65cf7fc5faca5d5c10ab0b08c7032', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 11, 'created': '2016-01-26 13:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/32f200bb3d1767b44324f8704d70e62d8c852d61', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 12, 'created': '2016-01-26 15:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3b5a6082ac43c7948d958d43c80468d76e720c34', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 13, 'created': '2016-01-27 01:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8fb1cf44db701a54f832e046ae6bc85886768d97', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 14, 'created': '2016-01-27 04:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d29d9498ea97e983cb856cbfe09969a576349898', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 15, 'created': '2016-01-27 14:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1bbac92a8add80fe3a93ab70d8d857edfd84362d', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}, {'number': 16, 'created': '2016-01-28 08:32:12.000000000', 'files': ['heat/tests/openstack/neutron/inline_templates.py', 'heat/tests/openstack/neutron/test_neutron_rbac_policy.py', 'heat/engine/resources/openstack/neutron/rbac_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/28ece601f3f67e3d742532e5bc9cc2f603ac9f92', 'message': 'Add OS::Neutron::RBACPolicy resource\n\nThis change added OS::Neutron::RBACPolicy to heat.\n\nDepends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383\nChange-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb\nBlueprint: support-rbac-for-networks\n'}]",75,255720,28ece601f3f67e3d742532e5bc9cc2f603ac9f92,90,10,16,18389,,,0,"Add OS::Neutron::RBACPolicy resource

This change added OS::Neutron::RBACPolicy to heat.

Depends-on: I9e38bbfb7fceee3e1fff5eb3db40a6659d01b383
Change-Id: I5bf4f4d7972de5d8c6d3d1e6e9f00856f17c3ffb
Blueprint: support-rbac-for-networks
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/255720/16 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/neutron/test_neutron_rbac_policy.py', 'heat/engine/resources/openstack/neutron/rbac_policy.py']",2,c09b4ee467a6baa8edf21a3ad1d26c09c6b558fb,bp/support-rbac-for-networks,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from heat.common.i18n import _ from heat.engine import constraints from heat.engine import properties from heat.engine.resources.openstack.neutron import neutron from heat.engine import support class Rbac_policy(neutron.NeutronResource): """"""A Resource for rbac policy. """""" support_status = support.SupportStatus(version='6.0.0') PROPERTIES = ( OBJECT_TYPE, TARGET_TENANT, ACTION, OBJECT_ID, TENANT_ID ) = ( 'object_type', 'target_tenant', 'action', 'object_id', 'tenant_id' ) properties_schema = { OBJECT_TYPE: properties.Schema( properties.Schema.STRING, _('Type of the object that RBAC policy affects.'), required=True, constraints=[ constraints.AllowedValues(['network']), ] ), TARGET_TENANT: properties.Schema( properties.Schema.STRING, _('ID of the tenant to which the RBAC policy will be enforced.'), required=True, update_allowed=True ), ACTION: properties.Schema( properties.Schema.STRING, _('Action for the RBAC policy.'), required=True, constraints=[ constraints.AllowedValues( ['access_as_external', 'access_as_shared']), ] ), OBJECT_ID: properties.Schema( properties.Schema.STRING, _('ID or name of the RBAC object.'), required=True ), TENANT_ID: properties.Schema( properties.Schema.STRING, _('The owner tenant ID. Only required if the caller has an' 'administrative role and wants to create a rbac for another' 'tenant.') ) } def handle_create(self): props = self.prepare_properties( self.properties, self.physical_resource_name()) rbac = self.client().create_rbac_policy( {'rbac_policy': props})['rbac_policy'] self.resource_id_set(rbac['id']) def handle_update(self, json_snippet=None, tpl_diff=None, prop_diff=None): if prop_diff: self.client().update_rbac_policy( self.resource_id, {'rbac_policy': prop_diff}) def handle_delete(self): if self.resource_id is not None: with self.client_plugin().ignore_not_found: self.client().delete_rbac_policy(self.resource_id) def resource_mapping(): return { 'OS::Neutron::Rbac-policy': Rbac_policy, } ",,195,0
openstack%2Fnova~master~I27608f60dd5f8458e476286c6991c47dba7852b1,openstack/nova,master,I27608f60dd5f8458e476286c6991c47dba7852b1,Transform instance-live_migration_abort notification,MERGED,2017-01-15 21:57:02.000000000,2017-11-06 20:10:13.000000000,2017-11-06 20:10:13.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12299}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17685}, {'_account_id': 18599}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 21239}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-01-15 21:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94983ea2c62040a2396cd70abc281edec55539d6', 'message': 'Transform instance-live_migration_abort notification\n\n[WIP]\nCurrent problem: Missing the fake user permission: administrator\nfrom the api-call.\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 2, 'created': '2017-01-16 01:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c51834f5a1dceccd2a9e8be3d3bc612508eacae', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 3, 'created': '2017-01-23 12:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/147dc2b79348c877ef81efae21b979b7ca292a20', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 4, 'created': '2017-03-12 15:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c99f668e9c618b0d439b4ae0be8036a7b61e2af', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-ocata\n'}, {'number': 5, 'created': '2017-03-12 15:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0343d1e391eae5305c6ed8cb940df7343afd1d5', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 6, 'created': '2017-03-14 14:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8daf0ca5db4f4944df57e750e0da788f433cb4bd', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 7, 'created': '2017-05-03 09:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86031ffd8ff370749a17516e9d9dc57943075a08', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 8, 'created': '2017-05-19 21:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc8407e8ba17cfb1c6e7ab1836d081a24b8c79bc', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 9, 'created': '2017-06-18 10:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a2d3ed4b199867a6b89a45e37235bff95748994', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 10, 'created': '2017-06-18 12:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/231f4ace4354e7900bec493bb59f58773cc19384', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 11, 'created': '2017-06-20 16:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/809312aafae1696f7830e5ff85c04bd6c980810d', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 12, 'created': '2017-06-20 16:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e44fdaaaf8387d7db26ffb61ec0d7a611fd849f2', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 13, 'created': '2017-06-20 16:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/272f94c4c48651134abe22910a91db5214608766', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 14, 'created': '2017-06-20 16:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d6c2c485e43f80127adfc6ce3dbfe2e50c584f5', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 15, 'created': '2017-06-21 10:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b03a7b146c02631e2c0f5bca7b5e24ded5a0a5f', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 16, 'created': '2017-06-22 14:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c33807bd9921a5a4d485da1608a42354f18f1dd8', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 17, 'created': '2017-06-22 14:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64f45d05e727a8d3ee5029140ce70030267c03c8', 'message': '[WIP]Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 18, 'created': '2017-06-22 15:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bf6cfe1368abc55affb22d8d274a533c738a0fb', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 19, 'created': '2017-06-22 18:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4ff42ef1b6cd774d0ec95f85de15b034e8861b5', 'message': 'ransform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 20, 'created': '2017-06-23 15:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e37ddac3be0b520cdeb039c93df46256738fc8ea', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 21, 'created': '2017-07-03 11:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70ec271a20f5eaddf0c2003d602e1fe698cd8490', 'message': 'Transform instance-live_migration_abort notification\n\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 22, 'created': '2017-07-04 07:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83a52817455a81c948ca01e27cd35989cd2ebdb1', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 23, 'created': '2017-07-04 09:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b81d76611013c4ddc0b2d4f5adde13a8f6a3c7ee', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 24, 'created': '2017-07-04 14:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/458c339709d23cf3f8338c310c8df6ed4b6d5694', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 25, 'created': '2017-07-05 10:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36f8a44e2b71f94334de4f250fe2dc61d2c7f3a3', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 26, 'created': '2017-07-05 10:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51069b874d6860d465f59df3c4fe486f277371a3', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 27, 'created': '2017-07-26 09:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2178e615dde0bb1b8105a1a7090510781867352', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 28, 'created': '2017-07-26 09:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bdbca1f3a913de091ae31207e805ff3ed570880', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 29, 'created': '2017-07-26 12:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/368d11f9c982ed52af06eb226e1a5cd6ba4730c8', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-pike\n'}, {'number': 30, 'created': '2017-08-30 11:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e504b1881074e90ba9afe49790b4109baa0b7e8', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 31, 'created': '2017-11-06 13:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f23ad2d3709869f99ee4033c6a35caf14371fee1', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 32, 'created': '2017-11-06 15:05:36.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/notifications/objects/instance.py', 'doc/notification_samples/instance-live_migration_abort-start.json', 'doc/notification_samples/instance-live_migration_abort-end.json', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4b61240f7d2da655ee6d61d18bc1e9cc39a4699', 'message': 'Transform instance-live_migration_abort notification\n\nCo-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>\nChange-Id: I27608f60dd5f8458e476286c6991c47dba7852b1\nImplements: bp versioned-notification-transformation-queens\n'}]",39,420453,b4b61240f7d2da655ee6d61d18bc1e9cc39a4699,317,31,32,21239,,,0,"Transform instance-live_migration_abort notification

Co-Authored-By: Gábor Antal <antal@inf.u-szeged.hu>
Change-Id: I27608f60dd5f8458e476286c6991c47dba7852b1
Implements: bp versioned-notification-transformation-queens
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/420453/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'doc/notification_samples/instance-migration-abort-end.json', 'nova/notifications/objects/instance.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/instance-migration-abort-start.json', 'nova/compute/manager.py']",7,94983ea2c62040a2396cd70abc281edec55539d6,bp/versioned-notification-transformation-queens," compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.LIVE_MIGRATION_ABORT, phase=fields.NotificationPhase.START) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.LIVE_MIGRATION_ABORT, phase=fields.NotificationPhase.END)",,36,3
openstack%2Fpython-tripleoclient~master~I2fa498cc2273df2783de378e67a7c39c80d0678e,openstack/python-tripleoclient,master,I2fa498cc2273df2783de378e67a7c39c80d0678e,Remove defaults from namespace and prefix for container images,ABANDONED,2017-11-06 20:06:35.000000000,2017-11-06 20:09:23.000000000,,[{'_account_id': 13039}],"[{'number': 1, 'created': '2017-11-06 20:06:35.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/overcloud_image/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8729c7c454d58cb636a51b46aba6dbba7d047c7b', 'message': 'Remove defaults from namespace and prefix for container images\n\ntripleo-common provides the defaults now, so let the defaults\nbe specified in one place instead of multiple different locations\n\nChange-Id: I2fa498cc2273df2783de378e67a7c39c80d0678e\nResolves: #1730487\n'}]",0,518101,8729c7c454d58cb636a51b46aba6dbba7d047c7b,2,1,1,16282,,,0,"Remove defaults from namespace and prefix for container images

tripleo-common provides the defaults now, so let the defaults
be specified in one place instead of multiple different locations

Change-Id: I2fa498cc2273df2783de378e67a7c39c80d0678e
Resolves: #1730487
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/518101/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/overcloud_image/test_container_image.py']",2,8729c7c454d58cb636a51b46aba6dbba7d047c7b,bug/1730487," name_prefix='', namespace='',"," name_prefix='centos-binary-', namespace='docker.io/tripleoupstream',",5,8
openstack%2Ftrove~master~Id7c7b5d2986a38aadf03e1398ac32b068a28f48d,openstack/trove,master,Id7c7b5d2986a38aadf03e1398ac32b068a28f48d,[install-guide] Make changes in editing trove-taskmanager.conf,ABANDONED,2016-12-31 11:00:14.000000000,2017-11-06 19:57:58.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 9664}, {'_account_id': 23326}]","[{'number': 1, 'created': '2016-12-31 11:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b40202c3ddca5cc8c27c2fd93fa3f87c52086068', 'message': 'Make corrections when editing the trove-taskmanager.conf in Installation Guide for Database Service\n\nChange-Id: Id7c7b5d2986a38aadf03e1398ac32b068a28f48d\nCloses-Bug: #1653242\n'}, {'number': 2, 'created': '2016-12-31 13:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bfd5c947d3792d6f37254a6fa6d423ddd0c65cd5', 'message': '[install-guide] Make corrections in editing trove-taskmanager.conf\n\nURL: http://docs.openstack.org/project-install-guide/database/draft/install-rdo.html\nIN the 5th step of ""Install and configure components"", it describes:""And finally, if using Nova Network...""\n\nThe correct description shoud be:""And finally, if using Neutron Network...""\n\nChange-Id: Id7c7b5d2986a38aadf03e1398ac32b068a28f48d\nCloses-Bug: #1653242\n'}, {'number': 3, 'created': '2017-01-03 02:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/83bb0305bf09416146ea9a773fa73cf235dfc292', 'message': '[install-guide] Make changes in editing trove-taskmanager.conf\n\nURL: http://docs.openstack.org/project-install-guide/database/draft/install-rdo.html\n\nMake changes in the 5th step of ""Install and configure components"", for reasons that:\n\n1.According to the context, there is a spelling error: ""And finally, if using Nova Network...""\nshoud be ""And finally, if using Neutron Network..."". But I removed the related for reson 2.\n\n2.I don\'t think it\'s necessary to config ""network_label_regex"" in the install guide for it\'s \nnot so critical. Just keep its default value and let the ones to do it using their real network\nlabel or "".*"". It seems that trove.conf does like this. And,there is no more nova-network support\nin Ocata.\n\n3.I remove the sentence ""Include ConfigDrive settings..."" for it\'s repeated with the configration\ndescription ""# Inject configuration into guest via ConfigDrive"".\n\nChange-Id: Id7c7b5d2986a38aadf03e1398ac32b068a28f48d\nCloses-Bug: #1653242\n'}, {'number': 4, 'created': '2017-01-03 06:51:32.000000000', 'files': ['install-guide/source/common_configure.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/798b184745e7cd3efc6b45166d1626ce78ac867d', 'message': '[install-guide] Make changes in editing trove-taskmanager.conf\n\nURL: http://docs.openstack.org/project-install-guide/database/draft/install-rdo.html\n\nMake changes in the 5th step of ""Install and configure components"", for reasons that:\n\n1.According to the context, there is a spelling error: ""And finally, if using Nova Network...""\nshoud be ""And finally, if using Neutron Network..."". But I removed the related for reson 2.\n\n2.I don\'t think it\'s necessary to config ""network_label_regex"" in the install guide for it\'s\nnot so critical. Just keep its default value and let the ones to do it using their real network\nlabel or "".*"". It seems that trove.conf does like this. And,there is no more nova-network support\nin Ocata.\n\n3.I remove the sentence ""Include ConfigDrive settings..."" for it\'s repeated with the configration\ndescription ""# Inject configuration into guest via ConfigDrive"".\n\nChange-Id: Id7c7b5d2986a38aadf03e1398ac32b068a28f48d\nCloses-Bug: #1653242\n'}]",0,415937,798b184745e7cd3efc6b45166d1626ce78ac867d,18,4,4,23326,,,0,"[install-guide] Make changes in editing trove-taskmanager.conf

URL: http://docs.openstack.org/project-install-guide/database/draft/install-rdo.html

Make changes in the 5th step of ""Install and configure components"", for reasons that:

1.According to the context, there is a spelling error: ""And finally, if using Nova Network...""
shoud be ""And finally, if using Neutron Network..."". But I removed the related for reson 2.

2.I don't think it's necessary to config ""network_label_regex"" in the install guide for it's
not so critical. Just keep its default value and let the ones to do it using their real network
label or "".*"". It seems that trove.conf does like this. And,there is no more nova-network support
in Ocata.

3.I remove the sentence ""Include ConfigDrive settings..."" for it's repeated with the configration
description ""# Inject configuration into guest via ConfigDrive"".

Change-Id: Id7c7b5d2986a38aadf03e1398ac32b068a28f48d
Closes-Bug: #1653242
",git fetch https://review.opendev.org/openstack/trove refs/changes/37/415937/2 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/common_configure.txt'],1,b40202c3ddca5cc8c27c2fd93fa3f87c52086068,bug/1653242," into the Guest VM. And finally, if using Neutron Network, set the # Set these if using Neutron Network"," into the Guest VM. And finally, if using Nova Network, set the # Set these if using Neutron Networking",2,2
openstack%2Ftrove~master~I8ad87f58f864738f4619194bc34c3ae35a426519,openstack/trove,master,I8ad87f58f864738f4619194bc34c3ae35a426519,Image page not found,ABANDONED,2017-04-28 08:25:07.000000000,2017-11-06 19:56:03.000000000,,"[{'_account_id': 3}, {'_account_id': 8289}, {'_account_id': 9664}]","[{'number': 1, 'created': '2017-04-28 08:25:07.000000000', 'files': ['doc/source/dev/guest_cloud_init.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/c2397f39d5322b1c9a40ae4944ec341d27fedab4', 'message': 'Image page not found\n\nUbuntu Cloud Archive <\nhttps://cloud-images.ubuntu.com/trusty/20160816> can\nnot be found anymore, use\nhttps://cloud-images.ubuntu.com/trusty/current instead.\n\nChange-Id: I8ad87f58f864738f4619194bc34c3ae35a426519\n'}]",0,460872,c2397f39d5322b1c9a40ae4944ec341d27fedab4,5,3,1,8289,,,0,"Image page not found

Ubuntu Cloud Archive <
https://cloud-images.ubuntu.com/trusty/20160816> can
not be found anymore, use
https://cloud-images.ubuntu.com/trusty/current instead.

Change-Id: I8ad87f58f864738f4619194bc34c3ae35a426519
",git fetch https://review.opendev.org/openstack/trove refs/changes/72/460872/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/guest_cloud_init.rst'],1,c2397f39d5322b1c9a40ae4944ec341d27fedab4,fix-url-for-dev-doc,* Visit the `Ubuntu Cloud Archive <https://cloud-images.ubuntu.com/trusty/current>`_ and download ``trusty-server-cloudimg-amd64-disk1.img``.,* Visit the `Ubuntu Cloud Archive <https://cloud-images.ubuntu.com/trusty/20160816>`_ and download ``trusty-server-cloudimg-amd64-disk1.img``.,1,1
openstack%2Fkuryr-kubernetes~master~I61629b3054549f8c89d73a65188f711414c91937,openstack/kuryr-kubernetes,master,I61629b3054549f8c89d73a65188f711414c91937,Enable Neutron Metadata Agent in Tempest jobs,MERGED,2017-11-06 17:17:27.000000000,2017-11-06 19:46:17.000000000,2017-11-06 19:46:17.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 20229}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 17:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b03cbcd97c5fe1d2ff05ea0431e5181d8da504c9', 'message': 'Enable Neutron Metadata Agent in Tempest jobs\n\nNeutron Metadta Agent is responsible for providing cloud init with\nnetworking config, but also for injecting keys. Our Tempest gates were\nhaving this service disabled which resulted in VMs not getting correct\nkeypairs. This made them impossible to SSH into from Tempest tests.\n\nThis commit solves it by adding q-meta service to Tempest gates.\n\nChange-Id: I61629b3054549f8c89d73a65188f711414c91937\n'}, {'number': 2, 'created': '2017-11-06 18:13:45.000000000', 'files': ['playbooks/tempest-kuryr-kubernetes-base/run.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/db4b51442b93d2b0ce3b873ea05497976319075f', 'message': 'Enable Neutron Metadata Agent in Tempest jobs\n\nNeutron Metadta Agent and Nova Metadata API are responsible for\nproviding cloud init with networking config, but also for injecting\nkeys. Our Tempest gates were having those services disabled which\nresulted in VMs not getting correct keypairs. This made them impossible\nto SSH into from Tempest tests.\n\nThis commit solves it by adding q-meta and n-api-meta services to\nTempest gates.\n\nChange-Id: I61629b3054549f8c89d73a65188f711414c91937\n'}]",0,518034,db4b51442b93d2b0ce3b873ea05497976319075f,11,6,2,11600,,,0,"Enable Neutron Metadata Agent in Tempest jobs

Neutron Metadta Agent and Nova Metadata API are responsible for
providing cloud init with networking config, but also for injecting
keys. Our Tempest gates were having those services disabled which
resulted in VMs not getting correct keypairs. This made them impossible
to SSH into from Tempest tests.

This commit solves it by adding q-meta and n-api-meta services to
Tempest gates.

Change-Id: I61629b3054549f8c89d73a65188f711414c91937
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/34/518034/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tempest-kuryr-kubernetes-multinode/run.yaml', 'playbooks/tempest-kuryr-kubernetes-base/run.yaml']",2,b03cbcd97c5fe1d2ff05ea0431e5181d8da504c9,enable_q_meta, enable_service q-meta,,2,0
openstack%2Ftrove~master~I6ca2453cc95f300d3e1f6461858913a2c3989916,openstack/trove,master,I6ca2453cc95f300d3e1f6461858913a2c3989916,[WIP] Introduce Datastore Speficit API Validation,ABANDONED,2017-03-27 04:48:26.000000000,2017-11-06 19:43:47.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 14576}, {'_account_id': 19339}, {'_account_id': 20378}]","[{'number': 1, 'created': '2017-03-27 04:48:26.000000000', 'files': ['trove/tests/unittests/mysql/test_user_controller.py', 'trove/common/cfg.py', 'trove/extensions/common/service.py', 'trove/extensions/mysql/common.py', 'trove/instance/service.py', 'trove/tests/unittests/mysql/test_common.py', 'trove/extensions/mysql/service.py', 'trove/extensions/routes/mysql.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/06e4f627f21bd9a29dba2efc236429762ffa83ae', 'message': '[WIP] Introduce Datastore Speficit API Validation\n\nDocImpact\nImplements: blueprint datastore-specific-api-request-validation\nChange-Id: I6ca2453cc95f300d3e1f6461858913a2c3989916\n'}]",0,450078,06e4f627f21bd9a29dba2efc236429762ffa83ae,7,5,1,12758,,,0,"[WIP] Introduce Datastore Speficit API Validation

DocImpact
Implements: blueprint datastore-specific-api-request-validation
Change-Id: I6ca2453cc95f300d3e1f6461858913a2c3989916
",git fetch https://review.opendev.org/openstack/trove refs/changes/78/450078/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/mysql/test_user_controller.py', 'trove/common/cfg.py', 'trove/extensions/common/service.py', 'trove/extensions/mysql/common.py', 'trove/instance/service.py', 'trove/tests/unittests/mysql/test_common.py', 'trove/extensions/mysql/service.py', 'trove/extensions/routes/mysql.py']",8,06e4f627f21bd9a29dba2efc236429762ffa83ae,bp/datastore-specific-api-request-validation," common_service.SchemaController(), common_service.UserController(), common_service.UserAccessController(),","from trove.extensions.mysql import service as mysql_service mysql_service.SchemaController(), mysql_service.UserController(), mysql_service.UserAccessController(),",502,451
openstack%2Ftrove~master~I097f7faa9260c1cccbbf99a64dd4116e8bfc16c7,openstack/trove,master,I097f7faa9260c1cccbbf99a64dd4116e8bfc16c7,[api-ref] Fix some nits for docs of database instance API,ABANDONED,2017-03-20 11:02:52.000000000,2017-11-06 19:42:07.000000000,,"[{'_account_id': 3}, {'_account_id': 20378}, {'_account_id': 22694}]","[{'number': 1, 'created': '2017-03-20 11:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6fa9d500928616287c6b0db72cd45477ff5c544b', 'message': ""[api-ref] Fix some nits for docs of database instance API\n\nThere are some nits of database instance API docs,\nthis change including:\n1. correct (add/modify/delete) the parameters of 'create' api\n2. put the response codes to 'normal' and 'error' groups\n\nChange-Id: I097f7faa9260c1cccbbf99a64dd4116e8bfc16c7\nCloses-Bug: #1674250\n""}, {'number': 2, 'created': '2017-03-21 01:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9072798907159adff96c67d7de68b07f383bd112', 'message': ""[api-ref] Fix some nits for docs of database instance API\n\nThere are some nits of database instance API docs,\nthis change including:\n1. correct (add/modify/delete) the parameters of 'create' api\n2. put the response codes to 'normal' and 'error' groups\n\nChange-Id: I097f7faa9260c1cccbbf99a64dd4116e8bfc16c7\nCloses-Bug: #1674250\n""}, {'number': 3, 'created': '2017-04-26 06:34:50.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/db-detach-replica-request.json', 'api-ref/source/database-instances.inc'], 'web_link': 'https://opendev.org/openstack/trove/commit/226c00c16820bf531bf1da37bb58689d3ee1e52a', 'message': ""[api-ref] Fix some nits for docs of database instance API\n\nThere are some nits of database instance API docs,\nthis change including:\n1. correct (add/modify/delete) the parameters of 'create' api\n2. put the response codes to 'normal' and 'error' groups\n\nChange-Id: I097f7faa9260c1cccbbf99a64dd4116e8bfc16c7\nCloses-Bug: #1674250\n""}]",0,447451,226c00c16820bf531bf1da37bb58689d3ee1e52a,8,3,3,8289,,,0,"[api-ref] Fix some nits for docs of database instance API

There are some nits of database instance API docs,
this change including:
1. correct (add/modify/delete) the parameters of 'create' api
2. put the response codes to 'normal' and 'error' groups

Change-Id: I097f7faa9260c1cccbbf99a64dd4116e8bfc16c7
Closes-Bug: #1674250
",git fetch https://review.opendev.org/openstack/trove refs/changes/51/447451/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/db-detach-replica-request.json', 'api-ref/source/database-instances.inc']",3,6fa9d500928616287c6b0db72cd45477ff5c544b,bug/1674250,"Normal response codes: 202 Error response codes: 413, 405, 404, 403, 401, 400, 422, 503, 500, 501Error response codes: 413, 405, 404, 403, 401, 400, 422, 503, 500, 501Normal response codes: 202 Error response codes: 413, 415, 405, 404, 403, 401, 400, 422, 503, 500, 501 - instance: instance - configuration: configurationNormal response codes: 202 Error response codes: 413, 415, 405, 404, 403, 401, 400, 422, 503, 500, 501 - instance: instanceNormal response codes: 202 Error response codes: 413, 415, 405, 404, 403, 401, 400, 422, 503, 500, 501 - instance: instance - replica_of: replica_in_detachError response codes: 413, 405, 404, 403, 401, 400, 422, 503, 500, 501 - instance: instance - name: database_instance_name - availability_zone: availability_zone - region_name: region_name - modules: modules - databases: databases - flavorRef: flavorRef - configuration: configuration_in_create - replica_count: replica_count - locality: locality - replica_of: replica_of - volume: volume - volume.size: size - volume.type: type - users: users - users.name: user_name - users.password: password - users.databases: databases - restorePoint: restorePoint - restorePoint.backupRef: backupRef - datastore: datastore - datastore.version: datastore_version - datastore.type: datastore_type - nics: nics - nics.port-id: port_id - nics.net-id: network_id - nics.v4-fixed-ip: v4_fixed_ip - instance: instance - status: status - tenant_id: tenant_id - region: region_in_responseError response codes: 413, 405, 404, 403, 401, 400, 422, 503, 500, 501Error response codes: 413, 405, 404, 403, 401, 400, 422, 503, 500, 501","Error response codes:202,413,405,404,403,401,400,422,503,500,501, Error response codes:413,405,404,403,401,400,422,503,500,501, Error response codes:202,413,415,405,404,403,401,400,422,503,500,501, - configuration: configuration Error response codes:202,413,415,405,404,403,401,400,422,503,500,501, - configuration: configuration Error response codes:202,413,415,405,404,403,401,400,422,503,500,501, - replica_of: replica_of - slave_of: slave_of Error response codes:413,405,404,403,401,400,422,503,500,501, - users: users - password: password - datastore_version: datastore_version - name: name - flavorRef: flavorRef - characterSet: characterSet - replica_count: replica_count - instance: instance - collate: collate - databases: databases - datastore: datastore - configuration: configuration - type: type - replica_of: replica_of - size: size - characterSet: characterSet - instance: instance Error response codes:413,405,404,403,401,400,422,503,500,501, Error response codes:413,405,404,403,401,400,422,503,500,501, ",158,172
openstack%2Fceilometer~master~Ia9910f6aec1b2cc8db99d8468e42b840b387130c,openstack/ceilometer,master,Ia9910f6aec1b2cc8db99d8468e42b840b387130c,Fix bug for ceilometer polling generates an exception,MERGED,2017-11-02 07:31:15.000000000,2017-11-06 19:39:42.000000000,2017-11-06 19:19:06.000000000,"[{'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 13229}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-11-02 07:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/70dab6d24e561569383202efcf5be86be5aff21d', 'message': 'Fix bug for ceilometer polling generates an exception\n\nWhen the ""cdrom"" device associated to the configdrive ,\nwhich no longer has a ""source"" element.\n\nIt is a normal and expected situation which shouldn\'t generate any logs.\n\nChange-Id: Ia9910f6aec1b2cc8db99d8468e42b840b387130c\nCloses-Bug: #1729506\n'}, {'number': 2, 'created': '2017-11-03 02:25:31.000000000', 'files': ['ceilometer/compute/virt/libvirt/inspector.py', 'ceilometer/tests/unit/compute/virt/libvirt/test_inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a141c6da5d5558b0be4b634015c4adbe815f6f28', 'message': 'Fix bug for ceilometer polling generates an exception\n\nWhen the ""cdrom"" device associated to the configdrive ,\nwhich no longer has a ""source"" element.\n\nIt is a normal and expected situation which shouldn\'t generate any logs.\n\nChange-Id: Ia9910f6aec1b2cc8db99d8468e42b840b387130c\nCloses-Bug: #1729506\n'}]",0,517191,a141c6da5d5558b0be4b634015c4adbe815f6f28,14,6,2,13229,,,0,"Fix bug for ceilometer polling generates an exception

When the ""cdrom"" device associated to the configdrive ,
which no longer has a ""source"" element.

It is a normal and expected situation which shouldn't generate any logs.

Change-Id: Ia9910f6aec1b2cc8db99d8468e42b840b387130c
Closes-Bug: #1729506
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/517191/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/virt/libvirt/inspector.py', 'ceilometer/tests/unit/compute/virt/libvirt/test_inspector.py']",2,70dab6d24e561569383202efcf5be86be5aff21d,bug/1729506," def test_inspect_disks_without_source_element(self): dom_xml = """""" <domain type='kvm'> <devices> <disk type='file' device='disk'> <driver name='qemu' type='qcow2' cache='none'/> <source file='/path/instance-00000001/disk'/> <target dev='vda' bus='virtio'/> <alias name='virtio-disk0'/> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </disk> </devices> </domain> """""" blockStatsFlags = {'wr_total_times': 91752302267, 'rd_operations': 6756, 'flush_total_times': 1310427331, 'rd_total_times': 29142253616, 'rd_bytes': 171460096, 'flush_operations': 746, 'wr_operations': 1437, 'wr_bytes': 13574656} domain = mock.Mock() domain.XMLDesc.return_value = dom_xml domain.info.return_value = (0, 0, 0, 2, 999999) domain.blockStats.return_value = (1, 2, 3, 4, -1) domain.blockStatsFlags.return_value = blockStatsFlags conn = mock.Mock() conn.lookupByUUIDString.return_value = domain with mock.patch('ceilometer.compute.virt.libvirt.utils.' 'refresh_libvirt_connection', return_value=conn): disks = list(self.inspector.inspect_disks(self.instance, None)) self.assertEqual(0, len(disks)) ",,39,1
openstack%2Ftrove~master~I1479d76995c8d81cb0a94b49c0dd39e4ef8c2730,openstack/trove,master,I1479d76995c8d81cb0a94b49c0dd39e4ef8c2730,DNM: see failures with strict mode,ABANDONED,2017-05-23 09:14:53.000000000,2017-11-06 19:38:46.000000000,,"[{'_account_id': 3}, {'_account_id': 7102}]","[{'number': 1, 'created': '2017-05-23 09:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d3d63c9239d05d9e9765fcf61a49d056a37a017b', 'message': 'DNM: see failures with strict mode\n\nChange-Id: I1479d76995c8d81cb0a94b49c0dd39e4ef8c2730\n'}, {'number': 2, 'created': '2017-05-31 08:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6629a98c1029890f5e0481fac2a0c3c87ba0e15d', 'message': 'DNM: see failures with strict mode\n\nChange-Id: I1479d76995c8d81cb0a94b49c0dd39e4ef8c2730\n'}, {'number': 3, 'created': '2017-06-02 08:04:07.000000000', 'files': ['trove/common/cfg.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c1dfadec7cfcfcf4301328e6a56c8000f35e5096', 'message': 'DNM: see failures with strict mode\n\nChange-Id: I1479d76995c8d81cb0a94b49c0dd39e4ef8c2730\n'}]",0,467092,c1dfadec7cfcfcf4301328e6a56c8000f35e5096,7,2,3,6593,,,0,"DNM: see failures with strict mode

Change-Id: I1479d76995c8d81cb0a94b49c0dd39e4ef8c2730
",git fetch https://review.opendev.org/openstack/trove refs/changes/92/467092/3 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/cfg.py'],1,d3d63c9239d05d9e9765fcf61a49d056a37a017b,," default='STRICT_ALL_TABLES',"," default='TRADITIONAL',",1,1
openstack%2Ftrove~master~I9cf71b10ea715719169927f5b9ad04cd25967f77,openstack/trove,master,I9cf71b10ea715719169927f5b9ad04cd25967f77,Use LOG instead of logger,ABANDONED,2017-03-01 04:21:26.000000000,2017-11-06 19:37:53.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 18602}, {'_account_id': 20378}, {'_account_id': 22694}, {'_account_id': 25374}]","[{'number': 1, 'created': '2017-03-01 04:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/083f158ebeab83839c4b12c6cfd4224bef143d58', 'message': 'Use LOG instead of logger\n\nIt seems that the current H904 and T101 will only check the LOG.\nand do not check the logger.. So I recommend modifying all logger\nto LOG , so that hacking rules can check them.Now this problem\nis occur under trove/db/sqlalchemy directory,I think this is a\ndirectory that requires hacking checks.\n\nChange-Id: I9cf71b10ea715719169927f5b9ad04cd25967f77\n'}, {'number': 2, 'created': '2017-03-07 02:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/037e75e4cb58bf3843ddb155d9b7d27f13085eb7', 'message': 'Use LOG instead of logger\n\nIt seems that the current H904 and T101 will only check the LOG.\nand do not check the logger.. So I recommend modifying all logger\nto LOG , so that hacking rules can check them.Now this problem\nis occur under trove/db/sqlalchemy directory,I think this is a\ndirectory that requires hacking checks.\n\nChange-Id: I9cf71b10ea715719169927f5b9ad04cd25967f77\n'}, {'number': 3, 'created': '2017-06-06 02:29:29.000000000', 'files': ['trove/db/sqlalchemy/migrate_repo/versions/028_recreate_agent_heartbeat.py', 'trove/db/sqlalchemy/migration.py', 'trove/db/sqlalchemy/migrate_repo/versions/039_region.py', 'trove/db/sqlalchemy/migrate_repo/versions/025_add_service_statuses_indexes.py', 'trove/db/sqlalchemy/migrate_repo/schema.py', 'trove/db/sqlalchemy/migrate_repo/versions/023_add_instance_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/026_datastore_versions_unique_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/024_add_backup_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/042_add_cluster_configuration_id.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6185d9f60b2c1ccd3468284a30a6714d58a1a8ca', 'message': 'Use LOG instead of logger\n\nIt seems that the current H904 and T101 will only check the LOG.\nand do not check the logger.. So I recommend modifying all logger\nto LOG , so that hacking rules can check them.Now this problem\nis occur under trove/db/sqlalchemy directory,I think this is a\ndirectory that requires hacking checks.\n\nRelated-Bug: #1642552\nChange-Id: I9cf71b10ea715719169927f5b9ad04cd25967f77\n'}]",12,439377,6185d9f60b2c1ccd3468284a30a6714d58a1a8ca,29,6,3,22694,,,0,"Use LOG instead of logger

It seems that the current H904 and T101 will only check the LOG.
and do not check the logger.. So I recommend modifying all logger
to LOG , so that hacking rules can check them.Now this problem
is occur under trove/db/sqlalchemy directory,I think this is a
directory that requires hacking checks.

Related-Bug: #1642552
Change-Id: I9cf71b10ea715719169927f5b9ad04cd25967f77
",git fetch https://review.opendev.org/openstack/trove refs/changes/77/439377/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/db/sqlalchemy/migrate_repo/versions/028_recreate_agent_heartbeat.py', 'trove/db/sqlalchemy/migrate_repo/versions/039_region.py', 'trove/db/sqlalchemy/migration.py', 'trove/db/sqlalchemy/migrate_repo/versions/025_add_service_statuses_indexes.py', 'trove/db/sqlalchemy/migrate_repo/schema.py', 'trove/db/sqlalchemy/migrate_repo/versions/023_add_instance_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/026_datastore_versions_unique_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/024_add_backup_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/042_add_cluster_configuration_id.py']",9,083f158ebeab83839c4b12c6cfd4224bef143d58,logger-to-LOG,LOG = logging.getLogger('trove.db.sqlalchemy.migrate_repo.schema'),logger = logging.getLogger('trove.db.sqlalchemy.migrate_repo.schema'),24,21
openstack%2Fnova~master~I30296fc82f7a29c713137aedc95502c8379af7e1,openstack/nova,master,I30296fc82f7a29c713137aedc95502c8379af7e1,Parse granular resources/traits from extra_specs,MERGED,2017-10-25 17:52:53.000000000,2017-11-06 19:17:20.000000000,2017-11-06 19:06:13.000000000,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 6125}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 16898}, {'_account_id': 17920}, {'_account_id': 17922}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-25 17:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c0b360416109ae5ef972001a6c37c63dac452ab', 'message': 'Process granular resources/traits in extra_specs\n\nThis change introduces\nnova.scheduler.utils._process_extra_specs_granular, which parses and\nvalidates granular resource and trait specifications out of an\nextra_specs dictionary per the spec [1] and produces a dict of a form\nthat will be passed to the scheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 2, 'created': '2017-10-25 17:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b39ae3701dc08775c41b99f39176546053867018', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces\nnova.scheduler.utils._process_extra_specs_granular, which parses and\nvalidates granular resource and trait specifications out of an\nextra_specs dictionary per the spec [1] and produces a dict of a form\nthat will be passed to the scheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 3, 'created': '2017-10-25 22:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa440fe957b69a1a173051e7348f708cee7134af', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces\nnova.scheduler.utils._process_extra_specs_granular, which parses and\nvalidates granular resource and trait specifications out of an\nextra_specs dictionary per the spec [1] and produces a dict of a form\nthat will be passed to the scheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 4, 'created': '2017-10-26 13:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c81208643ddd1c58655d718efada0c8d9dafebed', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces\nnova.scheduler.utils._process_extra_specs_granular, which parses and\nvalidates granular resource and trait specifications out of an\nextra_specs dictionary per the spec [1] and produces a dict of a form\nthat will be passed to the scheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 5, 'created': '2017-10-26 21:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e72df4115f12a49adbe37f15b794828b5f2575e4', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces\nnova.scheduler.utils._process_extra_specs_granular, which parses and\nvalidates granular resource and trait specifications out of an\nextra_specs dictionary per the spec [1] and produces a dict of a form\nthat will be passed to the scheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 6, 'created': '2017-10-27 17:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c9eb74fd946b65259f304c5af3fc45f000f3e4e', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 7, 'created': '2017-10-27 22:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b3cb609d40dfcf1304cb2720fc43653b94d73f3', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 8, 'created': '2017-10-30 20:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02d24e13cc8073c4aa0b0d22c38c2c9026e8f001', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 9, 'created': '2017-10-30 23:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cedbc36859c2a8ad71dea5c4cf21f84154d5841', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 10, 'created': '2017-10-31 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69d6af59b93b20c15f7dec57319a62215fc171bc', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 11, 'created': '2017-11-02 18:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/549ef958e9b388aae474a17b28c6588e9a918e9d', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 12, 'created': '2017-11-02 20:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb1375436e4e0c9dd2517d9abc252c10bd3f84b', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}, {'number': 13, 'created': '2017-11-03 13:26:48.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/487c597a51e3b941ec78d211c209cb0bce2e093b', 'message': 'Parse granular resources/traits from extra_specs\n\nThis change introduces nova.scheduler.utils.ResourceRequest and its\nfactory method, from_extra_specs, which parses and validates granular\nresource and trait specifications out of an extra_specs dictionary per\nthe spec [1].  The ResourceRequest object will be passed to the\nscheduler later in this series.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors\nblueprint: granular-resource-requests\n\nChange-Id: I30296fc82f7a29c713137aedc95502c8379af7e1\n'}]",76,515151,487c597a51e3b941ec78d211c209cb0bce2e093b,203,22,13,14070,,,0,"Parse granular resources/traits from extra_specs

This change introduces nova.scheduler.utils.ResourceRequest and its
factory method, from_extra_specs, which parses and validates granular
resource and trait specifications out of an extra_specs dictionary per
the spec [1].  The ResourceRequest object will be passed to the
scheduler later in this series.

[1] https://specs.openstack.org/openstack/nova-specs/specs/queens/approved/granular-resource-requests.html#syntax-in-flavors
blueprint: granular-resource-requests

Change-Id: I30296fc82f7a29c713137aedc95502c8379af7e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/515151/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",2,5c0b360416109ae5ef972001a6c37c63dac452ab,bp/granular-resource-requests," def test_process_extra_specs_granular(self): extra_specs = { 'resources:VCPU': '2', 'resources:MEMORY_MB': '2048', 'trait:HW_CPU_X86_AVX': 'required', # Key skipped because no colons 'nocolons': '42', 'trait:CUSTOM_MAGIC': 'required', # Resource skipped because invalid resource class name 'resources86:CUTSOM_MISSPELLED': '86', 'resources1:SRIOV_NET_VF': '1', # Resource skipped because non-int-able value 'resources86:CUSTOM_FOO': 'seven', # Resource skipped because negative value 'resources86:CUSTOM_NEGATIVE': '-7', 'resources1:IPV4_ADDRESS': '1', # Trait skipped because unsupported value 'trait86:CUSTOM_GOLD': 'preferred', 'trait1:CUSTOM_PHYSNET_NET1': 'required', # Trait skipped because invalid name 'trait86:CUTSOM_MISSPELLED': 'required', 'resources2:SRIOV_NET_VF': '1', 'resources2:IPV4_ADDRESS': '2', 'trait2:CUSTOM_PHYSNET_NET2': 'required', 'trait2:HW_NIC_ACCEL_SSL': 'required', 'resources3:DISK_GB': '5', } expected = { 'resources': { 'VCPU': 2, 'MEMORY_MB': 2048, }, 'required': { 'HW_CPU_X86_AVX', 'CUSTOM_MAGIC', }, 'resources1': { 'SRIOV_NET_VF': 1, 'IPV4_ADDRESS': 1, }, 'required1': { 'CUSTOM_PHYSNET_NET1', }, 'resources2': { 'SRIOV_NET_VF': 1, 'IPV4_ADDRESS': 2, }, 'required2': { 'CUSTOM_PHYSNET_NET2', 'HW_NIC_ACCEL_SSL', }, 'resources3': { 'DISK_GB': 5, }, } self.assertEqual(expected, utils._process_extra_specs_granular(extra_specs)) ",,192,0
openstack%2Ftrove~master~I1bb4930e4faa01598cc35da6d5c7479a0509ef82,openstack/trove,master,I1bb4930e4faa01598cc35da6d5c7479a0509ef82,Avoid force translation of Translatable Variables,ABANDONED,2017-05-09 05:51:26.000000000,2017-11-06 19:13:20.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 19930}, {'_account_id': 20378}, {'_account_id': 22623}, {'_account_id': 25720}, {'_account_id': 26072}]","[{'number': 1, 'created': '2017-05-09 05:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f34110da170fb391c3fa4f2c56e2a503edb000d4', 'message': 'Replaced pe.message with str(pe)\n\nFor logging the exception message: pe.message has been\ndeprecated. The preferred way is to call str(pe).\nMore details: https://www.python.org/dev/peps/pep-0352/\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 2, 'created': '2017-05-09 09:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/946eaaff8dfd94edf73b55347de6bf1787cc3e48', 'message': 'Replaced pe.message with str(pe)\n\nFor logging the exception message: pe.message has been\ndeprecated. The preferred way is to call str(pe).\nMore details: https://www.python.org/dev/peps/pep-0352/\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 3, 'created': '2017-06-08 05:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7ed1b5804d0350d989da5f8bcc78240f4cfc26ee', 'message': 'Replaced pe.message with six.text_type(pe)\n\nFor logging the exception message: pe.message has been\ndeprecated. The preferred way is to call six.text_type(pe).\nMore details: https://pythonhosted.org/six/#six.text_type\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 4, 'created': '2017-06-08 06:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8778247e8283200cd5c928ffc1ca1c60feb38b2e', 'message': 'Replaced pe.message with six.text_type(pe)\n\nFor logging the exception message: pe.message has been\ndeprecated. The preferred way is to call six.text_type(pe).\nMore details: https://pythonhosted.org/six/#six.text_type\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 5, 'created': '2017-06-08 06:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f03a093b6c574d2d8ed7c733ed00a89825c576bf', 'message': 'Replaced pe.message with six.text_type(pe)\n\nFor logging the exception message: pe.message has been\ndeprecated. The preferred way is to call six.text_type(pe).\nMore details: https://pythonhosted.org/six/#six.text_type\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 6, 'created': '2017-06-08 06:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/25f35adb1ddbcf0245f9c94064f5297268176224', 'message': 'Replaced pe.message with six.text_type(pe)\n\nFor logging the exception message: pe.message has been\ndeprecated. The preferred way is to call six.text_type(pe).\nMore details: https://pythonhosted.org/six/#six.text_type\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 7, 'created': '2017-06-08 07:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6af9e0fe515890ad484c1518c33bdf2ea5f59f9b', 'message': 'Replaced pe.message with six.text_type(pe)\n\nFor logging the exception message: pe.message has been\ndeprecated. The preferred way is to call six.text_type(pe).\nMore details: https://pythonhosted.org/six/#six.text_type\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 8, 'created': '2017-06-08 08:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/32c415f1f202b143a201140d88a869a2994fbcb7', 'message': 'Avoid force translation of Translatable Variables\n\nFor logging the exception message: pe.message has been\ndeprecated. And translation should not be forced by use of\nstr(), unicode(), or six.text_type() on a message being used with a format string.\nMore details: https://docs.openstack.org/developer/oslo.i18n/guidelines.html\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}, {'number': 9, 'created': '2017-06-09 04:33:52.000000000', 'files': ['trove/guestagent/datastore/experimental/couchdb/service.py', 'trove/guestagent/datastore/experimental/db2/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c2f4b32a51ddfa5693c193da081fc617ead8dadc', 'message': 'Avoid force translation of Translatable Variables\n\nFor logging the exception message: pe.message has been\ndeprecated. And translation should not be forced by use of\nstr(), unicode(), or six.text_type() on a message being used with a format string.\nMore details: https://docs.openstack.org/developer/oslo.i18n/guidelines.html\n\nChange-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82\n'}]",11,463469,c2f4b32a51ddfa5693c193da081fc617ead8dadc,31,7,9,25571,,,0,"Avoid force translation of Translatable Variables

For logging the exception message: pe.message has been
deprecated. And translation should not be forced by use of
str(), unicode(), or six.text_type() on a message being used with a format string.
More details: https://docs.openstack.org/developer/oslo.i18n/guidelines.html

Change-Id: I1bb4930e4faa01598cc35da6d5c7479a0509ef82
",git fetch https://review.opendev.org/openstack/trove refs/changes/69/463469/9 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/experimental/couchdb/service.py', 'trove/guestagent/datastore/experimental/db2/service.py']",2,f34110da170fb391c3fa4f2c56e2a503edb000d4,463469, str(pe)), pe.message),2,2
openstack%2Ftrove~master~I7e76f857c9a86321bc7423cfc0d0dd95501d9c37,openstack/trove,master,I7e76f857c9a86321bc7423cfc0d0dd95501d9c37,Fix html_last_updated_fmt for Python3.,ABANDONED,2017-06-09 05:45:31.000000000,2017-11-06 19:12:16.000000000,,"[{'_account_id': 3}, {'_account_id': 13562}, {'_account_id': 19741}]","[{'number': 1, 'created': '2017-06-09 05:45:31.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/112a4f9e21eea8d20d0bd46c01812ae8f8cf7d1f', 'message': 'Fix html_last_updated_fmt for Python3.\n\nhtml_last_updated_fmt option is interpreted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: I7e76f857c9a86321bc7423cfc0d0dd95501d9c37\nCloses-Bug:#1693670\n'}]",0,472529,112a4f9e21eea8d20d0bd46c01812ae8f8cf7d1f,5,3,1,20184,,,0,"Fix html_last_updated_fmt for Python3.

html_last_updated_fmt option is interpreted as a
byte string in python3, causing Sphinx build to break.
This patch makes it utf-8 string.

Change-Id: I7e76f857c9a86321bc7423cfc0d0dd95501d9c37
Closes-Bug:#1693670
",git fetch https://review.opendev.org/openstack/trove refs/changes/29/472529/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,112a4f9e21eea8d20d0bd46c01812ae8f8cf7d1f,bug/1693670, html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8')," html_last_updated_fmt = subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0]",1,2
openstack%2Ftrove~master~I718fba565614da98105c9cc5a8795246d6f4aca4,openstack/trove,master,I718fba565614da98105c9cc5a8795246d6f4aca4,Fix html_last_updated_fmt for Python3,ABANDONED,2017-07-05 16:37:07.000000000,2017-11-06 19:09:04.000000000,,"[{'_account_id': 3}, {'_account_id': 20378}, {'_account_id': 26248}]","[{'number': 1, 'created': '2017-07-05 16:37:07.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/7dbfe8d4df56eb49e246db7e8457289dfecb594d', 'message': 'Fix html_last_updated_fmt for Python3\n\nhtml_last_updated_fmt option is interpreted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: I718fba565614da98105c9cc5a8795246d6f4aca4\n'}]",0,480669,7dbfe8d4df56eb49e246db7e8457289dfecb594d,6,3,1,26248,,,0,"Fix html_last_updated_fmt for Python3

html_last_updated_fmt option is interpreted as a
byte string in python3, causing Sphinx build to break.
This patch makes it utf-8 string.

Change-Id: I718fba565614da98105c9cc5a8795246d6f4aca4
",git fetch https://review.opendev.org/openstack/trove refs/changes/69/480669/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,7dbfe8d4df56eb49e246db7e8457289dfecb594d,html_last_updated_fmt, html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8')," html_last_updated_fmt = subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0]",1,2
openstack%2Fswift~master~I3c91bdff65f8aa06a72f6ad5ec00ee67890b8e61,openstack/swift,master,I3c91bdff65f8aa06a72f6ad5ec00ee67890b8e61,Increase connection timeout for object controller tests,MERGED,2017-11-06 12:05:53.000000000,2017-11-06 19:06:24.000000000,2017-11-06 19:06:24.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 16896}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 12:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8a19f310d074ef7ed7127e0017c8018083a9c3cb', 'message': 'Increase connection timeout for object controller tests\n\nIntermittent test failures due to timeout of *mocked*\nconnections have been reported, so increase the\nconnection timeout in the test app.\n\nCloses-Bug: #1730373\nChange-Id: I3c91bdff65f8aa06a72f6ad5ec00ee67890b8e61\n'}, {'number': 2, 'created': '2017-11-06 12:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dd76f8def2703d84fbf14fbcb886ff1cb93f060b', 'message': 'Increase connection timeout for object controller tests\n\nIntermittent test failures due to timeout of *mocked*\nconnections have been reported, so increase the\nconnection timeout in the test app.\n\nCloses-Bug: #1730373\nChange-Id: I3c91bdff65f8aa06a72f6ad5ec00ee67890b8e61\n'}, {'number': 3, 'created': '2017-11-06 17:11:52.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/53d92c18253355f15e3ca0fd07e13608b192dce8', 'message': 'Increase connection timeout for object controller tests\n\nIntermittent test failures due to timeout of *mocked*\nconnections have been reported, so increase the\nconnection timeout in the test app.\n\nCloses-Bug: #1730373\nChange-Id: I3c91bdff65f8aa06a72f6ad5ec00ee67890b8e61\n'}]",1,517933,53d92c18253355f15e3ca0fd07e13608b192dce8,14,5,3,7847,,,0,"Increase connection timeout for object controller tests

Intermittent test failures due to timeout of *mocked*
connections have been reported, so increase the
connection timeout in the test app.

Closes-Bug: #1730373
Change-Id: I3c91bdff65f8aa06a72f6ad5ec00ee67890b8e61
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/517933/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py']",2,8a19f310d074ef7ed7127e0017c8018083a9c3cb,bug/1730373," # increase connection timeout to avoid intermittent failures conf = {'conn_timeout': 5.0} conf, FakeMemcache(), account_ring=FakeRing(),"," None, FakeMemcache(), account_ring=FakeRing(),",5,2
openstack%2Fnova~master~Ic940faabd32c2c7e6673fccab6694c5eedab272f,openstack/nova,master,Ic940faabd32c2c7e6673fccab6694c5eedab272f,Granularize resources_from_{flavor|request_spec},MERGED,2017-10-25 22:24:04.000000000,2017-11-06 19:06:19.000000000,2017-11-06 19:06:19.000000000,"[{'_account_id': 7}, {'_account_id': 6125}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2017-10-25 22:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97bc785482c5842e15ade74ce42e0238e66df3fd', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\n_process_extra_specs_granular helper.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a multilevel dict including the\nnumbered groupings of both resources and required traits; and that new\nshape is now passed into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 2, 'created': '2017-10-26 13:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b64291a479fa144ea17ada85b49204da4ae65452', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\n_process_extra_specs_granular helper.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a multilevel dict including the\nnumbered groupings of both resources and required traits; and that new\nshape is now passed into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 3, 'created': '2017-10-26 21:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92d6bd9337556321e81c71895b220877ea9f1be9', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\n_process_extra_specs_granular helper.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a multilevel dict including the\nnumbered groupings of both resources and required traits; and that new\nshape is now passed into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 4, 'created': '2017-10-27 17:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cd3c413748d8d8e6127946d5f8f2527c10e4d4a', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 5, 'created': '2017-10-27 17:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c80f9c92a1403abd6d4514f4ab10085b9e183c45', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 6, 'created': '2017-10-27 22:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c09fb805ec6be26fb09144fd3e53d85535dff575', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 7, 'created': '2017-10-30 20:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51c1dda6fb11a59544b2aa556226efc57911299a', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 8, 'created': '2017-10-30 23:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8c4f3ad5f7bdc329a0956f14b75bd1c7cd839bf', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 9, 'created': '2017-10-31 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df02140ddec97992d264554166e2e1ee6cbc204d', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 10, 'created': '2017-11-02 18:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc4d98b4519c1dc32fe8fe19412c77546d7e8406', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 11, 'created': '2017-11-02 20:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd2f73a4b8e381eff50fc55e3a46bba41b00df84', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}, {'number': 12, 'created': '2017-11-03 13:26:48.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/78167bfae3e4a6f70a3bd288b184f519d2bebc93', 'message': ""Granularize resources_from_{flavor|request_spec}\n\nThis change set bases the extra_specs processing in\nresources_from_flavor and resources_from_request_spec on the new\nResourceRequest class and its from_extra_specs factory method.\n\nresources_from_flavor is used by consumers who assume the compute node\nis the one and only resource provider, so here we fold all the resources\ntogether, even if they're coming from multiple groupings in the\nextra_specs.  This will have to be fixed as soon as we have anything\nusing nested or shared RPs.\n\nresources_from_request_spec now produces a ResourceRequest object which\nis passed directly into the scheduler's get_allocation_candidates\nmethod.  However, get_allocation_candidates currently just extracts the\n(unnumbered) 'resources' dict out, resulting in precisely the\npre-existing behavior.  Later in the series, when GET\n/allocation_candidates is prepped to accept it, this will be changed to\nprocess the whole dict into the query string for GET\n/allocation_candidates.\n\n_process_extra_specs is no longer used, and is removed.\n\nblueprint: granular-resource-requests\n\nChange-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f\n""}]",31,515223,78167bfae3e4a6f70a3bd288b184f519d2bebc93,167,20,12,14070,,,0,"Granularize resources_from_{flavor|request_spec}

This change set bases the extra_specs processing in
resources_from_flavor and resources_from_request_spec on the new
ResourceRequest class and its from_extra_specs factory method.

resources_from_flavor is used by consumers who assume the compute node
is the one and only resource provider, so here we fold all the resources
together, even if they're coming from multiple groupings in the
extra_specs.  This will have to be fixed as soon as we have anything
using nested or shared RPs.

resources_from_request_spec now produces a ResourceRequest object which
is passed directly into the scheduler's get_allocation_candidates
method.  However, get_allocation_candidates currently just extracts the
(unnumbered) 'resources' dict out, resulting in precisely the
pre-existing behavior.  Later in the series, when GET
/allocation_candidates is prepped to accept it, this will be changed to
process the whole dict into the query string for GET
/allocation_candidates.

_process_extra_specs is no longer used, and is removed.

blueprint: granular-resource-requests

Change-Id: Ic940faabd32c2c7e6673fccab6694c5eedab272f
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/515223/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",4,97bc785482c5842e15ade74ce42e0238e66df3fd,bp/granular-resource-requests," :param resources: A dict of the form: { 'resources[$N]': { $RESOURCE_CLASS: $AMOUNT, ... }, ..., 'required[$N]': { $TRAIT_NAME, ... }, ... } # TODO(efried): For now, just use the (unnumbered) 'resources' part of # this dict. Once the GET /allocation_candidates API is prepped to # accept the whole shebang, join up all the resources and traits in the # query string. resources = resources.get('resources') "," :param resources: A dict, keyed by resource class name, of requested amounts of those resources",191,107
openstack%2Fswift~master~I98a37c0d451f4960b7a12f648e4405c6c6716808,openstack/swift,master,I98a37c0d451f4960b7a12f648e4405c6c6716808,Add checksum to object extended attributes,MERGED,2016-07-01 00:44:58.000000000,2017-11-06 19:06:09.000000000,2017-11-06 19:06:09.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 18838}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-07-01 00:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a573c3066285f9b0f6a52edbf6685637742fe5cd', 'message': ""Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don't have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we'll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn't match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn't support xattrs. However, since\nthe mock is keyed off of filename, there's lots of leakage between\ndifferent test runs. On a real FS, unlinking a file and then creating\na new one of the same name will also reset the xattrs; this isn't the\ncase with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n""}, {'number': 2, 'created': '2016-07-01 23:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2169f56437e51d4957adec1508cd0fe2a9a8df51', 'message': ""Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don't have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we'll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn't match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn't support xattrs. However, since\nthe mock is keyed off of filename, there's lots of leakage between\ndifferent test runs. On a real FS, unlinking a file and then creating\na new one of the same name will also reset the xattrs; this isn't the\ncase with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n""}, {'number': 3, 'created': '2016-10-31 17:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b439b9c49df8e10625ad34897958ee926146f320', 'message': ""Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don't have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we'll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn't match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn't support xattrs. However, since\nthe mock is keyed off of filename, there's lots of leakage between\ndifferent test runs. On a real FS, unlinking a file and then creating\na new one of the same name will also reset the xattrs; this isn't the\ncase with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n""}, {'number': 4, 'created': '2016-10-31 17:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d6d8c8b59c88a22050304b45230d93c955010ec', 'message': ""Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don't have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we'll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn't match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn't support xattrs. However, since\nthe mock is keyed off of filename, there's lots of leakage between\ndifferent test runs. On a real FS, unlinking a file and then creating\na new one of the same name will also reset the xattrs; this isn't the\ncase with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n""}, {'number': 5, 'created': '2016-10-31 20:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99afa04f184824a4fdd9398c2790fe2e52673f37', 'message': ""Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don't have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we'll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn't match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn't support xattrs. However, since\nthe mock is keyed off of filename, there's lots of leakage between\ndifferent test runs. On a real FS, unlinking a file and then creating\na new one of the same name will also reset the xattrs; this isn't the\ncase with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require /tmp to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack's CI system. Since\nwe were previously mocking out xattr, there wasn't a problem, but we\nalso weren't actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n""}, {'number': 6, 'created': '2016-11-08 00:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a886f4dfae08a8fad1ba67fecf2595d3f2530642', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of filename, there\'s lots of leakage between\ndifferent test runs. On a real FS, unlinking a file and then creating\na new one of the same name will also reset the xattrs; this isn\'t the\ncase with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 7, 'created': '2016-11-11 00:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/23ba29b41c13edf8e2f7bdc478de0b6e4ce7dc3d', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of filename, there\'s lots of leakage between\ndifferent test runs. On a real FS, unlinking a file and then creating\na new one of the same name will also reset the xattrs; this isn\'t the\ncase with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 8, 'created': '2016-11-11 01:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d07f889731ab0fa896b86166ed0d6e63229612b1', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 9, 'created': '2016-11-16 00:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1a3b7092181902103fbe9a864d08f65ff20d3a05', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 10, 'created': '2016-11-16 00:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8cf1e8f4721f562d4e80b49ab579032cfbf73f96', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 11, 'created': '2016-11-22 17:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/25d180a3800686227839eb15b1e2dcb24237169b', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 12, 'created': '2016-11-22 19:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0e988544f11a7b6c0a8607080072567cb9df93c9', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 13, 'created': '2016-11-30 19:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5fa8e0c9b1553d2b601d68b77620a2fc34149d4c', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 14, 'created': '2017-02-23 15:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/216d610d5e3f4ef41754f818c81f526a71112b88', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 15, 'created': '2017-02-24 16:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/93978e833d10514a58911d258f900bf20c464132', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 16, 'created': '2017-10-13 21:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3968428bd8fa73ceb8b1f3a9bd584b2fe86aabe9', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 17, 'created': '2017-10-13 23:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b7b1592aaea4f146296f65034b460faba0e87c10', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 18, 'created': '2017-10-16 19:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/388734ff40c68ddafa277272a9a17995dd907043', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 19, 'created': '2017-10-16 21:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/233bccd2b2ab9a6f9ca81d1c50ead7565c1482f0', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 20, 'created': '2017-10-17 18:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73ba85b072710cae6d1bd6d4e438ea375db487e6', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 21, 'created': '2017-10-18 23:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6eb79d7639ba813fa478dabe4e9bd6897bfa067a', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 22, 'created': '2017-10-20 00:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bed2cec60e1ea1fde796147529dbe30d750212bb', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\nThe changes to test_recon.py were necessary since it hard-coded /tmp\nand GZip was using the full path name in the resulting compressed\nfile. This meant that by changing the temprary working directory, the\nresulting md5sums changed. The full pathname being used was for Py26\ncompatibility, so I dropped that and updated the expected md5sum\nresults to match.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 23, 'created': '2017-10-20 18:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/62d75204d28eeed0029337c5e6ac3057b5a647ec', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 24, 'created': '2017-11-02 17:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9341800da14c6f218c7819898310b100e4b93db9', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}, {'number': 25, 'created': '2017-11-03 17:30:19.000000000', 'files': ['test/unit/cli/test_info.py', 'doc/source/development_saio.rst', 'test/unit/common/middleware/test_recon.py', 'test/functional/test_account.py', 'test/functional/tests.py', 'README.rst', 'test/unit/common/middleware/crypto/test_encryption.py', 'test/unit/common/test_manager.py', 'test/functional/test_versioned_writes.py', 'swift/common/exceptions.py', 'test/unit/obj/test_reconstructor.py', 'test/unit/obj/test_auditor.py', 'test/unit/cli/test_relinker.py', 'swift/common/manager.py', 'test/unit/obj/test_ssync.py', 'test/unit/proxy/test_sysmeta.py', 'doc/source/development_guidelines.rst', 'test/unit/common/test_utils.py', 'swift/obj/diskfile.py', 'test/unit/obj/test_ssync_receiver.py', 'test/unit/obj/test_ssync_sender.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_replicator.py', 'test/unit/common/test_linkat.py', 'test/unit/cli/test_ringbuilder.py', 'test/unit/obj/test_diskfile.py', 'test/functional/__init__.py', 'test/functional/test_object.py', 'test/functional/test_container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/728b4ba14008f59ffe64fd28bc061c12a0c64467', 'message': 'Add checksum to object extended attributes\n\nCurrently, our integrity checking for objects is pretty weak when it\ncomes to object metadata. If the extended attributes on a .data or\n.meta file get corrupted in such a way that we can still unpickle it,\nwe don\'t have anything that detects that.\n\nThis could be especially bad with encrypted etags; if the encrypted\netag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits\nflipped, then we\'ll cheerfully decrypt the cipherjunk into plainjunk,\nthen send it to the client. Net effect is that the client sees a GET\nresponse with an ETag that doesn\'t match the MD5 of the object *and*\nSwift has no way of detecting and quarantining this object.\n\nNote that, with an unencrypted object, if the ETag metadatum gets\nmangled, then the object will be quarantined by the object server or\nauditor, whichever notices first.\n\nAs part of this commit, I also ripped out some mocking of\ngetxattr/setxattr in tests. It appears to be there to allow unit tests\nto run on systems where /tmp doesn\'t support xattrs. However, since\nthe mock is keyed off of inode number and inode numbers get re-used,\nthere\'s lots of leakage between different test runs. On a real FS,\nunlinking a file and then creating a new one of the same name will\nalso reset the xattrs; this isn\'t the case with the mock.\n\nThe mock was pretty old; Ubuntu 12.04 and up all support xattrs in\n/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was\nadded in 2011; maybe it was to support Ubuntu Lucid Lynx?\n\nBonus: now you can pause a test with the debugger, inspect its files\nin /tmp, and actually see the xattrs along with the data.\n\nSince this patch now uses a real filesystem for testing filesystem\noperations, tests are skipped if the underlying filesystem does not\nsupport setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).\n\nReferences to ""/tmp"" have been replaced with calls to\ntempfile.gettempdir(). This will allow setting the TMPDIR envvar in\ntest setup and getting an XFS filesystem instead of ext4 or tmpfs.\n\nTHIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS\n\nWith this patch, every test environment will require TMPDIR to be\nusing a filesystem that supports at least 4k of extended attributes.\nNeither ext4 nor tempfs support this. XFS is recommended.\n\nSo why all the SkipTests? Why not simply raise an error? We still need\nthe tests to run on the base image for OpenStack\'s CI system. Since\nwe were previously mocking out xattr, there wasn\'t a problem, but we\nalso weren\'t actually testing anything. This patch adds functionality\nto validate xattr data, so we need to drop the mock.\n\n`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`\nso that functional tests can import it from the functional test\nnamespace.\n\nThe related OpenStack CI infrastructure changes are made in\nhttps://review.openstack.org/#/c/394600/.\n\nCo-Authored-By: John Dickinson <me@not.mn>\n\nChange-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808\n'}]",89,336323,728b4ba14008f59ffe64fd28bc061c12a0c64467,128,12,25,2622,,,0,"Add checksum to object extended attributes

Currently, our integrity checking for objects is pretty weak when it
comes to object metadata. If the extended attributes on a .data or
.meta file get corrupted in such a way that we can still unpickle it,
we don't have anything that detects that.

This could be especially bad with encrypted etags; if the encrypted
etag (X-Object-Sysmeta-Crypto-Etag or whatever it is) gets some bits
flipped, then we'll cheerfully decrypt the cipherjunk into plainjunk,
then send it to the client. Net effect is that the client sees a GET
response with an ETag that doesn't match the MD5 of the object *and*
Swift has no way of detecting and quarantining this object.

Note that, with an unencrypted object, if the ETag metadatum gets
mangled, then the object will be quarantined by the object server or
auditor, whichever notices first.

As part of this commit, I also ripped out some mocking of
getxattr/setxattr in tests. It appears to be there to allow unit tests
to run on systems where /tmp doesn't support xattrs. However, since
the mock is keyed off of inode number and inode numbers get re-used,
there's lots of leakage between different test runs. On a real FS,
unlinking a file and then creating a new one of the same name will
also reset the xattrs; this isn't the case with the mock.

The mock was pretty old; Ubuntu 12.04 and up all support xattrs in
/tmp, and recent Red Hat / CentOS releases do too. The xattr mock was
added in 2011; maybe it was to support Ubuntu Lucid Lynx?

Bonus: now you can pause a test with the debugger, inspect its files
in /tmp, and actually see the xattrs along with the data.

Since this patch now uses a real filesystem for testing filesystem
operations, tests are skipped if the underlying filesystem does not
support setting xattrs (eg tmpfs or more than 4k of xattrs on ext4).

References to ""/tmp"" have been replaced with calls to
tempfile.gettempdir(). This will allow setting the TMPDIR envvar in
test setup and getting an XFS filesystem instead of ext4 or tmpfs.

THIS PATCH SIGNIFICANTLY CHANGES TESTING ENVIRONMENTS

With this patch, every test environment will require TMPDIR to be
using a filesystem that supports at least 4k of extended attributes.
Neither ext4 nor tempfs support this. XFS is recommended.

So why all the SkipTests? Why not simply raise an error? We still need
the tests to run on the base image for OpenStack's CI system. Since
we were previously mocking out xattr, there wasn't a problem, but we
also weren't actually testing anything. This patch adds functionality
to validate xattr data, so we need to drop the mock.

`test.unit.skip_if_no_xattrs()` is also imported into `test.functional`
so that functional tests can import it from the functional test
namespace.

The related OpenStack CI infrastructure changes are made in
https://review.openstack.org/#/c/394600/.

Co-Authored-By: John Dickinson <me@not.mn>

Change-Id: I98a37c0d451f4960b7a12f648e4405c6c6716808
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/336323/16 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/obj/test_diskfile.py', 'swift/common/exceptions.py', 'swift/obj/diskfile.py', 'test/unit/obj/test_ssync_receiver.py']",5,a573c3066285f9b0f6a52edbf6685637742fe5cd,metacheck,, diskfile.getxattr = unit._getxattr diskfile.setxattr = unit._setxattr,58,48
openstack%2Fneutron~master~Ib8d3c4208d2eb44e3931d374a51b38f7bab05ca9,openstack/neutron,master,Ib8d3c4208d2eb44e3931d374a51b38f7bab05ca9,Harden the L3 HA code against failures,ABANDONED,2017-11-01 20:08:57.000000000,2017-11-06 19:05:57.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10267}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-01 20:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c97a8079ea7f24fd3d648a29ec8e1397f3d35722', 'message': ""Harden the L3 HA code against failures\n\nThere are some failure cases where we could call-into\nthe L3 HA code when it's data is not completely initialized,\nwhich can lead to nested exceptions.  Verify that ha_port\nand keepalived_manager elements are valid during deletion\nsince there is no need to do additional work if they are not.\n\nAlso changed _router_added() in the l3-agent code to not\ninitialize the router_info of a new router unless everything\nsucceeds.\n\nChange-Id: Ib8d3c4208d2eb44e3931d374a51b38f7bab05ca9\nRelated-bug: #1726370\n""}, {'number': 2, 'created': '2017-11-02 13:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49bc7327309375ef56eeb8cf4ae48e7f06dea8b6', 'message': ""Harden the L3 HA code against failures\n\nThere are some failure cases where we could call-into\nthe L3 HA code when it's data is not completely initialized,\nwhich can lead to nested exceptions.  Verify that ha_port\nand keepalived_manager elements are valid during deletion\nsince there is no need to do additional work if they are not.\n\nChange-Id: Ib8d3c4208d2eb44e3931d374a51b38f7bab05ca9\nRelated-bug: #1726370\n""}, {'number': 3, 'created': '2017-11-03 20:22:14.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8a5d641745737e163bb35437f7ceeaccee0a6d9', 'message': ""Harden the L3 HA code against failures\n\nThere are some failure cases where we could call-into\nthe L3 HA code when it's data is not completely initialized,\nwhich can lead to nested exceptions.  Verify that ha_port\nand keepalived_manager elements are valid during deletion\nsince there is no need to do additional work if they are not.\n\nChange-Id: Ib8d3c4208d2eb44e3931d374a51b38f7bab05ca9\nRelated-bug: #1726370\n""}]",13,517097,a8a5d641745737e163bb35437f7ceeaccee0a6d9,27,8,3,1131,,,0,"Harden the L3 HA code against failures

There are some failure cases where we could call-into
the L3 HA code when it's data is not completely initialized,
which can lead to nested exceptions.  Verify that ha_port
and keepalived_manager elements are valid during deletion
since there is no need to do additional work if they are not.

Change-Id: Ib8d3c4208d2eb44e3931d374a51b38f7bab05ca9
Related-bug: #1726370
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/517097/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_ha_router.py']",3,c97a8079ea7f24fd3d648a29ec8e1397f3d35722,bug/1726370, # need a port for destroy_state_change_monitor() to call PM code ri.ha_port = {'id': _uuid()} # need a port for destroy_state_change_monitor() to call PM code ri.ha_port = {'id': _uuid()},,13,3
openstack%2Ftrove~master~I55d12299e67ded4477e2e45b2f51cbf553749650,openstack/trove,master,I55d12299e67ded4477e2e45b2f51cbf553749650,Replaces uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2017-05-18 07:41:34.000000000,2017-11-06 19:04:40.000000000,,"[{'_account_id': 3}, {'_account_id': 10842}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-05-18 07:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7ce027421b7e03e0afe18f09af64bfe2248e96d8', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nChange-Id: I55d12299e67ded4477e2e45b2f51cbf553749650\nCloses-Bug: #1082248\n'}, {'number': 2, 'created': '2017-05-19 03:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a6cfee7a1b708ab5614d2f91e4f49bed7ac071e4', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nChange-Id: I55d12299e67ded4477e2e45b2f51cbf553749650\nCloses-Bug: #1082248\n'}, {'number': 3, 'created': '2017-05-19 05:58:52.000000000', 'files': ['trove/common/wsgi.py', 'trove/tests/unittests/common/test_remote.py', 'integration/tests/integration/tests/dns/concurrency.py', 'trove/tests/api/instances_mysql_down.py', 'trove/tests/unittests/secgroups/test_security_group.py', 'trove/tests/unittests/datastore/base.py', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/tests/unittests/cluster/test_vertica_cluster.py', 'trove/tests/unittests/instance/test_instance_status.py', 'trove/tests/api/configurations.py', 'trove/common/utils.py', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/unittests/guestagent/test_agent_heartbeats_models.py', 'trove/tests/unittests/cluster/test_mongodb_cluster.py', 'trove/tests/fakes/nova.py', 'trove/tests/unittests/mgmt/test_models.py', 'trove/tests/unittests/cluster/test_galera_cluster.py', 'trove/tests/unittests/cluster/test_redis_cluster.py', 'trove/tests/api/instances.py', 'trove/tests/examples/snippets.py', 'trove/guestagent/strategies/replication/mysql_base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f5f35ae5a74e8ea1e620992f77a6b0c1c3ed1b5f', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nChange-Id: I55d12299e67ded4477e2e45b2f51cbf553749650\nCloses-Bug: #1082248\n'}]",0,465854,f5f35ae5a74e8ea1e620992f77a6b0c1c3ed1b5f,9,3,3,17130,,,0,"Replaces uuid.uuid4 with uuidutils.generate_uuid()

Openstack common has a wrapper for generating uuids.
We should only use that function when generating uuids for consistency.

Change-Id: I55d12299e67ded4477e2e45b2f51cbf553749650
Closes-Bug: #1082248
",git fetch https://review.opendev.org/openstack/trove refs/changes/54/465854/3 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/wsgi.py', 'trove/tests/unittests/common/test_remote.py', 'integration/tests/integration/tests/dns/concurrency.py', 'trove/tests/api/instances_mysql_down.py', 'trove/tests/unittests/secgroups/test_security_group.py', 'trove/tests/unittests/datastore/base.py', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/tests/unittests/cluster/test_vertica_cluster.py', 'trove/tests/unittests/instance/test_instance_status.py', 'trove/tests/api/configurations.py', 'trove/common/utils.py', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/unittests/guestagent/test_agent_heartbeats_models.py', 'trove/tests/unittests/cluster/test_mongodb_cluster.py', 'trove/tests/fakes/nova.py', 'trove/tests/unittests/mgmt/test_models.py', 'trove/tests/unittests/cluster/test_galera_cluster.py', 'trove/tests/unittests/cluster/test_redis_cluster.py', 'trove/tests/api/instances.py', 'trove/tests/examples/snippets.py', 'trove/guestagent/strategies/replication/mysql_base.py']",23,7ce027421b7e03e0afe18f09af64bfe2248e96d8,bug/1082248,from oslo_utils import uuidutils name = 'slave_' + uuidutils.generate_uuid()[:8],import uuid name = 'slave_' + str(uuid.uuid4())[:8],109,114
openstack%2Ftrove~master~Id4b28ad5ffbe5309f9bad7de2efd434d11099f2f,openstack/trove,master,Id4b28ad5ffbe5309f9bad7de2efd434d11099f2f,Fix python2/unicode/string issue in mongodb/cluster,MERGED,2017-07-21 12:18:25.000000000,2017-11-06 19:01:38.000000000,2017-11-06 19:01:37.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 22818}, {'_account_id': 24223}, {'_account_id': 25113}]","[{'number': 1, 'created': '2017-07-21 12:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b8da057163709cc29bc4c310322e09e057b4c11a', 'message': 'Fix python2/unicode/string issue in mongodb/cluster\n\nTrying to grow a mongodb/cluster fails because there is an issue\ncomparing unicode and strings\n\nChange-Id: Id4b28ad5ffbe5309f9bad7de2efd434d11099f2f\nCloses-Bug: #1705412\n'}, {'number': 2, 'created': '2017-09-27 07:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9089dfa768f39c15122b60638946f82806ee8728', 'message': 'Fix python2/unicode/string issue in mongodb/cluster\n\nTrying to grow a mongodb/cluster fails because there is an issue\ncomparing unicode and strings\n\nChange-Id: Id4b28ad5ffbe5309f9bad7de2efd434d11099f2f\nCloses-Bug: #1705412\n'}, {'number': 3, 'created': '2017-10-24 03:38:45.000000000', 'files': ['trove/common/strategies/cluster/experimental/mongodb/api.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/9b390cc3ac450d46014668915d0e3c0c624b564e', 'message': 'Fix python2/unicode/string issue in mongodb/cluster\n\nTrying to grow a mongodb/cluster fails because there is an issue\ncomparing unicode and strings\n\nChange-Id: Id4b28ad5ffbe5309f9bad7de2efd434d11099f2f\nCloses-Bug: #1705412\n'}]",3,486118,9b390cc3ac450d46014668915d0e3c0c624b564e,24,8,3,24223,,,0,"Fix python2/unicode/string issue in mongodb/cluster

Trying to grow a mongodb/cluster fails because there is an issue
comparing unicode and strings

Change-Id: Id4b28ad5ffbe5309f9bad7de2efd434d11099f2f
Closes-Bug: #1705412
",git fetch https://review.opendev.org/openstack/trove refs/changes/18/486118/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/strategies/cluster/experimental/mongodb/api.py'],1,b8da057163709cc29bc4c310322e09e057b4c11a,bug/1705412, if valid_values and value[0].encode('utf-8') not in valid_values:, if valid_values and value not in valid_values:,1,1
openstack%2Ftrove~master~I0ce0eccb19acdb8b0a581f17f85fe63f72f48013,openstack/trove,master,I0ce0eccb19acdb8b0a581f17f85fe63f72f48013,Stop using deprecated 'message' attribute in Exception,ABANDONED,2017-07-07 11:07:28.000000000,2017-11-06 18:57:22.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 19930}, {'_account_id': 22623}, {'_account_id': 24925}]","[{'number': 1, 'created': '2017-07-07 11:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8603cd2e3f87b9bca4604fea066070e9f06d7d3d', 'message': ""Stop using deprecated 'message' attribute in Exception\n\nThe 'message' attribute has been deprecated and removed\nfrom Python3.\nFor more details, please check:\nhttps://www.python.org/dev/peps/pep-0352/\n\nChange-Id: I0ce0eccb19acdb8b0a581f17f85fe63f72f48013\n""}, {'number': 2, 'created': '2017-07-10 07:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8b36708e79fa2a9d6ce7d9ef6f7ec029094ef10b', 'message': ""Stop using deprecated 'message' attribute in Exception\n\nThe 'message' attribute has been deprecated and removed\nfrom Python3.\nFor more details, please check:\nhttps://www.python.org/dev/peps/pep-0352/\n\nChange-Id: I0ce0eccb19acdb8b0a581f17f85fe63f72f48013\n""}, {'number': 3, 'created': '2017-07-13 05:21:25.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/module/module_manager.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/22e3eff89fc33358b1fc4767a9177d1c95b512f2', 'message': ""Stop using deprecated 'message' attribute in Exception\n\nThe 'message' attribute has been deprecated and removed\nfrom Python3.\nFor more details, please check:\nhttps://www.python.org/dev/peps/pep-0352/\n\nChange-Id: I0ce0eccb19acdb8b0a581f17f85fe63f72f48013\n""}]",2,481579,22e3eff89fc33358b1fc4767a9177d1c95b512f2,15,5,3,24925,,,0,"Stop using deprecated 'message' attribute in Exception

The 'message' attribute has been deprecated and removed
from Python3.
For more details, please check:
https://www.python.org/dev/peps/pep-0352/

Change-Id: I0ce0eccb19acdb8b0a581f17f85fe63f72f48013
",git fetch https://review.opendev.org/openstack/trove refs/changes/79/481579/3 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/module/module_manager.py']",3,8603cd2e3f87b9bca4604fea066070e9f06d7d3d,message,import six message = six.text_type(ex), message = ex.message,11,9
openstack%2Ftrove~master~I2310f2fa85196f89055665e9d71f505c93e20440,openstack/trove,master,I2310f2fa85196f89055665e9d71f505c93e20440,Fix resize-instance bug,ABANDONED,2017-06-27 09:45:32.000000000,2017-11-06 18:53:45.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}]","[{'number': 1, 'created': '2017-06-27 09:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/706716e06f387091631b0060ef081d2e64d65531', 'message': ""Fix resize-instance bug\n\nFix configuration group setting and replica configuration setting don't\nsurvive resize-instance.The trove/guestagent/common/configuration.py:\nsave_configuration func remove the USER_GROUP, SYSTEM_PRE_USER_GROUP and\nSYSTEM_POST_USER_GROUP.\n\nThe save_configuration func save '_base_config_path', remove\nUSER_GROUP, SYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP will got\nsome bug, eg: configuration group setting don't survive resize-instance;\nreplica configuration setting don't survive resize-instance.\nCall resize-instance will missing the USER_GROUP,\nSYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP file.\n\nSo, I deleted the remove action, and test on mysql 5.5 & 5.6 is OK.\n\nChange-Id: I2310f2fa85196f89055665e9d71f505c93e20440\n""}, {'number': 2, 'created': '2017-06-27 09:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/cb83ba39dde4662888505c729724dd210818e274', 'message': ""Fix resize-instance bug\n\nCloses-Bug: 1654673\n\nFix configuration group setting and replica configuration setting don't\nsurvive resize-instance.The trove/guestagent/common/configuration.py:\nsave_configuration func remove the USER_GROUP, SYSTEM_PRE_USER_GROUP and\nSYSTEM_POST_USER_GROUP.\n\nThe save_configuration func save '_base_config_path', remove\nUSER_GROUP, SYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP will got\nsome bug, eg: configuration group setting don't survive resize-instance;\nreplica configuration setting don't survive resize-instance.\nCall resize-instance will missing the USER_GROUP,\nSYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP file.\n\nSo, I deleted the remove action, and test on mysql 5.5 & 5.6 is OK.\n\nChange-Id: I2310f2fa85196f89055665e9d71f505c93e20440""}, {'number': 3, 'created': '2017-06-27 09:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/730f8096f6ae282b3729e9ebfeeae2310102fce0', 'message': ""Fix resize-instance bug\n\nCloses-Bug: #1654673\n\nFix configuration group setting and replica configuration setting don't\nsurvive resize-instance.The trove/guestagent/common/configuration.py:\nsave_configuration func remove the USER_GROUP, SYSTEM_PRE_USER_GROUP and\nSYSTEM_POST_USER_GROUP.\n\nThe save_configuration func save '_base_config_path', remove\nUSER_GROUP, SYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP will got\nsome bug, eg: configuration group setting don't survive resize-instance;\nreplica configuration setting don't survive resize-instance.\nCall resize-instance will missing the USER_GROUP,\nSYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP file.\n\nSo, I deleted the remove action, and test on mysql 5.5 & 5.6 is OK.\n\nChange-Id: I2310f2fa85196f89055665e9d71f505c93e20440""}, {'number': 4, 'created': '2017-06-28 01:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0346f29a163566e8b8fd79e6aea9f2af9c8cd13b', 'message': ""Fix resize-instance bug\n\nFix configuration group setting and replica configuration setting don't\nsurvive resize-instance.The trove/guestagent/common/configuration.py:\nsave_configuration func remove the USER_GROUP, SYSTEM_PRE_USER_GROUP and\nSYSTEM_POST_USER_GROUP.\n\nThe save_configuration func save '_base_config_path', remove\nUSER_GROUP, SYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP will got\nsome bug, eg: configuration group setting don't survive resize-instance;\nreplica configuration setting don't survive resize-instance.\nCall resize-instance will missing the USER_GROUP,\nSYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP file.\n\nSo, I deleted the remove action, and test on mysql 5.5 & 5.6 is OK.\n\nCloses-Bug: #1654673\n\nChange-Id: I2310f2fa85196f89055665e9d71f505c93e20440""}, {'number': 5, 'created': '2017-06-29 03:49:16.000000000', 'files': ['trove/guestagent/common/configuration.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/fb0d7216cd6c24e8f0d03eeaee019e957f4ed40f', 'message': ""Fix resize-instance bug\n\nFix configuration group setting and replica configuration setting don't\nsurvive resize-instance.The trove/guestagent/common/configuration.py:\nsave_configuration func remove the USER_GROUP, SYSTEM_PRE_USER_GROUP and\nSYSTEM_POST_USER_GROUP.\n\nThe save_configuration func save '_base_config_path', remove\nUSER_GROUP, SYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP will got\nsome bug, eg: configuration group setting don't survive resize-instance;\nreplica configuration setting don't survive resize-instance.\nCall resize-instance will missing the USER_GROUP,\nSYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP file.\n\nSo, I deleted the remove action, and test on mysql 5.5 & 5.6 is OK.\n\nCloses-Bug: #1654673\n\nChange-Id: I2310f2fa85196f89055665e9d71f505c93e20440""}]",1,477856,fb0d7216cd6c24e8f0d03eeaee019e957f4ed40f,12,3,5,24617,,,0,"Fix resize-instance bug

Fix configuration group setting and replica configuration setting don't
survive resize-instance.The trove/guestagent/common/configuration.py:
save_configuration func remove the USER_GROUP, SYSTEM_PRE_USER_GROUP and
SYSTEM_POST_USER_GROUP.

The save_configuration func save '_base_config_path', remove
USER_GROUP, SYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP will got
some bug, eg: configuration group setting don't survive resize-instance;
replica configuration setting don't survive resize-instance.
Call resize-instance will missing the USER_GROUP,
SYSTEM_PRE_USER_GROUP and SYSTEM_POST_USER_GROUP file.

So, I deleted the remove action, and test on mysql 5.5 & 5.6 is OK.

Closes-Bug: #1654673

Change-Id: I2310f2fa85196f89055665e9d71f505c93e20440",git fetch https://review.opendev.org/openstack/trove refs/changes/56/477856/5 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/common/configuration.py'],1,706716e06f387091631b0060ef081d2e64d65531,bug/1654673,, self._override_strategy.remove(self.USER_GROUP) self._override_strategy.remove(self.SYSTEM_PRE_USER_GROUP) self._override_strategy.remove(self.SYSTEM_POST_USER_GROUP) ,0,4
openstack%2Ftrove~master~I8ec64dc763b1dbe48fc3dd7b73b4643bbe3b493e,openstack/trove,master,I8ec64dc763b1dbe48fc3dd7b73b4643bbe3b493e,Replace basestring with six.string_types,ABANDONED,2017-07-10 09:46:04.000000000,2017-11-06 18:45:35.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 22694}, {'_account_id': 25571}]","[{'number': 1, 'created': '2017-07-10 09:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e01f1edca3516190c58265cb3be710066f2df928', 'message': 'Replace basestring with six.string_types\n\nhttps://wiki.openstack.org/wiki/Python3\n\nChange-Id: I8ec64dc763b1dbe48fc3dd7b73b4643bbe3b493e\n'}, {'number': 2, 'created': '2017-07-10 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ba033de03b05fa58ebfa0a47c5162c56bd09f95e', 'message': 'Replace basestring with six.string_types\n\nhttps://wiki.openstack.org/wiki/Python3\n\nChange-Id: I8ec64dc763b1dbe48fc3dd7b73b4643bbe3b493e\n'}, {'number': 3, 'created': '2017-07-10 12:21:13.000000000', 'files': ['trove/tests/scenario/runners/configuration_runners.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/7519d88eb264315206b6a6399fecde55df2df0b2', 'message': 'Replace basestring with six.string_types\n\nhttps://wiki.openstack.org/wiki/Python3\n\nChange-Id: I8ec64dc763b1dbe48fc3dd7b73b4643bbe3b493e\n'}]",0,482078,7519d88eb264315206b6a6399fecde55df2df0b2,10,5,3,25005,,,0,"Replace basestring with six.string_types

https://wiki.openstack.org/wiki/Python3

Change-Id: I8ec64dc763b1dbe48fc3dd7b73b4643bbe3b493e
",git fetch https://review.opendev.org/openstack/trove refs/changes/78/482078/2 && git format-patch -1 --stdout FETCH_HEAD,['trove/tests/scenario/runners/configuration_runners.py'],1,e01f1edca3516190c58265cb3be710066f2df928,six,"import six configuration.has_field('name', six.string_types) configuration.has_field('description', six.string_types) configuration.has_field('datastore_name', six.string_types) configuration.has_field('datastore_version_name', six.string_types) check.has_field(""id"", six.string_types) check.has_field(""name"", six.string_types) check.has_field(""description"", six.string_types) check.has_field(""created"", six.string_types) check.has_field(""updated"", six.string_types) check.has_element(item_key, six.string_types)"," configuration.has_field('name', basestring) configuration.has_field('description', basestring) configuration.has_field('datastore_name', basestring) configuration.has_field('datastore_version_name', basestring) check.has_field(""id"", basestring) check.has_field(""name"", basestring) check.has_field(""description"", basestring) check.has_field(""created"", basestring) check.has_field(""updated"", basestring) check.has_element(item_key, basestring)",11,10
openstack%2Ftrove~master~I91c5f33d05c06b9d7f4df0aecb2f01c9b0c41f4f,openstack/trove,master,I91c5f33d05c06b9d7f4df0aecb2f01c9b0c41f4f,TrivialFix: Remove the unused import code,ABANDONED,2017-08-03 12:06:38.000000000,2017-11-06 18:39:06.000000000,,"[{'_account_id': 3}, {'_account_id': 20378}]","[{'number': 1, 'created': '2017-08-03 12:06:38.000000000', 'files': ['integration/tests/examples/examples/client.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3db5dea768730e886a12fb462752e32fa5138e11', 'message': 'TrivialFix: Remove the unused import code\n\nRemove some unused import code in /tests/examples/examples/client.py\n\nChange-Id: I91c5f33d05c06b9d7f4df0aecb2f01c9b0c41f4f\n'}]",0,490450,3db5dea768730e886a12fb462752e32fa5138e11,4,2,1,25067,,,0,"TrivialFix: Remove the unused import code

Remove some unused import code in /tests/examples/examples/client.py

Change-Id: I91c5f33d05c06b9d7f4df0aecb2f01c9b0c41f4f
",git fetch https://review.opendev.org/openstack/trove refs/changes/50/490450/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/tests/examples/examples/client.py'],1,3db5dea768730e886a12fb462752e32fa5138e11,unused_import,,import httplib2 import sys import time ,0,3
openstack%2Fironic-tempest-plugin~master~I1625128717c8a848c6d673314b09d0a6c9c96679,openstack/ironic-tempest-plugin,master,I1625128717c8a848c6d673314b09d0a6c9c96679,Script to extract the ironic_tempest_plugin/ directory,MERGED,2017-08-01 21:48:26.000000000,2017-11-06 18:17:53.000000000,2017-11-06 18:17:53.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 14760}, {'_account_id': 19593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-01 21:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/385f9eecb5fbb2d77b711c0c8d8d971b9a5ce193', 'message': 'WIP: Initial script to extract the ironic_tempest_plugin/ directory\n\nChange-Id: I1625128717c8a848c6d673314b09d0a6c9c96679\n'}, {'number': 2, 'created': '2017-08-01 22:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/17952719187a852969d86beee32454098e09bba6', 'message': ""Script to extract the ironic_tempest_plugin/ directory\n\nAdd a script to extract the ironic_tempest_plugin/ directory from the\nopenstack/ironic repository. Then cherry-pick all of those commits\ninto this repository.\n\nAlso make ironic_tempest_plugins/__init__.py an empty file so 'diff'\nwill be correct.\n\nChange-Id: I1625128717c8a848c6d673314b09d0a6c9c96679\n""}, {'number': 3, 'created': '2017-08-01 22:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/c63d477589bb80b36c605c8841a5d8793a1d9dcb', 'message': ""Script to extract the ironic_tempest_plugin/ directory\n\nAdd a script to extract the ironic_tempest_plugin/ directory from the\nopenstack/ironic repository. Then cherry-pick all of those commits\ninto this repository.\n\nAlso make ironic_tempest_plugins/__init__.py an empty file so 'diff'\nwill be correct.\n\nRemove the following files, so 'diff' will be correct:\n    ironic_tempest_plugin/tests/base.py\n    ironic_tempest_plugin/tests/test_ironic_tempest_plugin.py\n\nChange-Id: I1625128717c8a848c6d673314b09d0a6c9c96679\n""}, {'number': 4, 'created': '2017-08-01 22:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/3df613f7dbb4043cc96d81d84ce726102015c976', 'message': ""Script to extract the ironic_tempest_plugin/ directory\n\nAdd a script to extract the ironic_tempest_plugin/ directory from the\nopenstack/ironic repository. Then cherry-pick all of those commits\ninto this repository.\n\nAlso make ironic_tempest_plugins/__init__.py an empty file so 'diff'\nwill be correct.\n\nRemove the following files, so 'diff' will be correct:\n    ironic_tempest_plugin/tests/base.py\n    ironic_tempest_plugin/tests/test_ironic_tempest_plugin.py\n\nChange-Id: I1625128717c8a848c6d673314b09d0a6c9c96679\n""}, {'number': 5, 'created': '2017-08-02 16:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/12fe8b66788f6347d3f66561d7aa9eb346627b45', 'message': ""Script to extract the ironic_tempest_plugin/ directory\n\nAdd a script to extract the ironic_tempest_plugin/ directory from the\nopenstack/ironic repository. Then cherry-pick all of those commits\ninto this repository.\n\nAlso make ironic_tempest_plugins/__init__.py an empty file so 'diff'\nwill be correct.\n\nRemove the following files, so 'diff' will be correct:\n    ironic_tempest_plugin/tests/base.py\n    ironic_tempest_plugin/tests/test_ironic_tempest_plugin.py\n\nIgnore E129 errors in flake8, like we do in Ironic. As it will fail\npep8 when we import all the upcoming patches.\n\nChange-Id: I1625128717c8a848c6d673314b09d0a6c9c96679\n""}, {'number': 6, 'created': '2017-08-03 22:06:33.000000000', 'files': ['ironic_tempest_plugin/tests/base.py', 'ironic_tempest_plugin/tests/test_ironic_tempest_plugin.py', 'ironic_tempest_plugin/__init__.py', 'ironic_tempest_plugin/tests/__init__.py', 'tox.ini', 'tools/make-tempest-plugin-repo.sh'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d22378da76874a282a132af5d7fb4684ad091128', 'message': ""Script to extract the ironic_tempest_plugin/ directory\n\nAdd a script to extract the ironic_tempest_plugin/ directory from the\nopenstack/ironic repository. Then cherry-pick all of those commits\ninto this repository.\n\nAlso make ironic_tempest_plugins/__init__.py an empty file so 'diff'\nwill be correct.\n\nRemove the following files, so 'diff' will be correct:\n    ironic_tempest_plugin/tests/base.py\n    ironic_tempest_plugin/tests/test_ironic_tempest_plugin.py\n\nIgnore E129 errors in flake8, like we do in Ironic. As it will fail\npep8 when we import all the upcoming patches.\n\nChange-Id: I1625128717c8a848c6d673314b09d0a6c9c96679\n""}]",11,489762,d22378da76874a282a132af5d7fb4684ad091128,29,6,6,14760,,,0,"Script to extract the ironic_tempest_plugin/ directory

Add a script to extract the ironic_tempest_plugin/ directory from the
openstack/ironic repository. Then cherry-pick all of those commits
into this repository.

Also make ironic_tempest_plugins/__init__.py an empty file so 'diff'
will be correct.

Remove the following files, so 'diff' will be correct:
    ironic_tempest_plugin/tests/base.py
    ironic_tempest_plugin/tests/test_ironic_tempest_plugin.py

Ignore E129 errors in flake8, like we do in Ironic. As it will fail
pep8 when we import all the upcoming patches.

Change-Id: I1625128717c8a848c6d673314b09d0a6c9c96679
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/62/489762/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/make-tempest-plugin-repo.sh'],1,385f9eecb5fbb2d77b711c0c8d8d971b9a5ce193,goal-split-tempest-plugins,"#!/bin/bash set -u set -e # set -x BASE_DIR=$(cd $(dirname $0)/.. && pwd) IRONIC_DIR=$(cd ${BASE_DIR}/../ironic && pwd) BACKUP_DIR=${BASE_DIR}/copy-ironic_tempest_plugin/ TEMPEST_PLUGIN_DIR=${IRONIC_DIR}/ironic_tempest_plugin/ echo ""openstack/ironic-tempest-plugin repository location: $BASE_DIR"" echo ""openstack/ironic repository location: $IRONIC_DIR"" echo if [[ ! -d ${IRONIC_DIR}/.git/ ]]; then echo ""Error: The openstack/ironic git repository is not present at: ${IRONIC_DIR}"" exit 1 fi cd ${IRONIC_DIR} # Try to sync our repository to master echo ""Syncing ${IRONIC_DIR} to origin/master branch..."" git remote update && git reset --hard origin/master -- && git checkout -f master && git pull echo ""Erase all non git tracked files..."" git clean -f -x -d echo ""Make backup copy of original ironic_tempest_plugin/ directory ..."" rsync -aH --delete ${TEMPEST_PLUGIN_DIR} ${BACKUP_DIR} # Examples of the variables exported by '--index-filter' # GIT_AUTHOR_DATE=@1275026726 -0700 # GIT_AUTHOR_EMAIL=anotherjesse@gmail.com # GIT_AUTHOR_NAME=Jesse Andrews # GIT_COMMIT=07d272b2aad660682dc59f1ff038adeb10481210 # GIT_COMMITTER_DATE=@1275026726 -0700 # GIT_COMMITTER_EMAIL=anotherjesse@gmail.com # GIT_COMMITTER_NAME=Jesse Andrews # GIT_DIR=/home/jdoe/openstack/ironic/.git # GIT_INDEX_FILE=/home/jdoe/openstack/ironic/.git-rewrite/t/../index # GIT_WORK_TREE=. # Delete any previous runs rm -rf .git/refs/original echo echo ""Remove everything except ironic_tempest_plugin/ ..."" git filter-branch --prune-empty \ --index-filter 'git rm --cached -qr --ignore-unmatch -- . && git reset -q $GIT_COMMIT -- ironic_tempest_plugin' \ --prune-empty \ --tag-name-filter cat \ -- \ --all rm -rf .git/refs/original echo ""Remove empty merge commits..."" git filter-branch --prune-empty --parent-filter \ 'sed ""s/-p //g"" | xargs -r git show-branch --independent | sed ""s/\</-p /g""' echo ""Remove all the merge commits..."" for commit in $(git rev-list --merges master); do echo ""Removing merge commit: ${commit}"" git rebase ${commit}^ done echo ""Comparing content from backup copy with new processed copy..."" echo ""Comparing backup dir: ${BACKUP_DIR}"" echo ""To new ironic-tempest-plugin dir: ${TEMPEST_PLUGIN_DIR}"" echo ""We should have no output"" diff -Naur ${TEMPEST_PLUGIN_DIR} ${BACKUP_DIR} echo ""No differences. Yay! :)"" ",,76,0
openstack%2Fceilometer~master~I64cc4770a9598f1fdeca4f7476e8965651af4097,openstack/ceilometer,master,I64cc4770a9598f1fdeca4f7476e8965651af4097,devstack: Set an optimal processing queue,MERGED,2017-03-13 08:31:27.000000000,2017-11-06 18:02:13.000000000,2017-03-13 14:39:41.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-03-13 08:31:27.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f1bdf6751a503ee570ce114f9a31fdb2959a79d0', 'message': 'devstack: Set an optimal processing queue\n\nWe recommend to set pipeline_processing_queues with the\nsame number of workers agent the infra have.\nSo do it for devstack too.\n\nChange-Id: I64cc4770a9598f1fdeca4f7476e8965651af4097\n'}]",0,444757,f1bdf6751a503ee570ce114f9a31fdb2959a79d0,9,3,1,2813,,,0,"devstack: Set an optimal processing queue

We recommend to set pipeline_processing_queues with the
same number of workers agent the infra have.
So do it for devstack too.

Change-Id: I64cc4770a9598f1fdeca4f7476e8965651af4097
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/57/444757/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,f1bdf6751a503ee570ce114f9a31fdb2959a79d0,sileht/optimal-processing-queues, iniset $CEILOMETER_CONF pipeline_processing_queues $API_WORKERS,,1,0
openstack%2Ftrove~master~If92a3168319f862cbde8a01ec8fc4af85f2bebe9,openstack/trove,master,If92a3168319f862cbde8a01ec8fc4af85f2bebe9,Fix MariaDB backup/restore class hierarchy,NEW,2017-04-20 18:20:47.000000000,2017-11-06 17:51:02.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10068}, {'_account_id': 13562}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2017-04-20 18:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7577d3ab52a1c728fe11a0ae8730724d0df19a9c', 'message': ""Fix MariaDB backup/restore class hierarchy\n\nMariaDBInnoBackupExIncremental now inherits from\nmysql_impl.InnoBackupExIncremental, not MariaDBInnoBackupEx since this\nclass doesn't have the incremental command.\n\nChange-Id: If92a3168319f862cbde8a01ec8fc4af85f2bebe9\nCloses-Bug: #1679308\n""}, {'number': 2, 'created': '2017-04-25 21:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/10698893cdfa2c67c5899290db5efd9478301af8', 'message': ""Fix MariaDB backup/restore class hierarchy\n\nMariaDBInnoBackupExIncremental now inherits from\nmysql_impl.InnoBackupExIncremental, not MariaDBInnoBackupEx since this\nclass doesn't have the incremental command.\n\nChange-Id: If92a3168319f862cbde8a01ec8fc4af85f2bebe9\nCloses-Bug: #1679308\n""}, {'number': 3, 'created': '2017-04-25 23:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c18665606c8a3ce4da1f0b1f693dd15cf1e871a6', 'message': ""Fix MariaDB backup/restore class hierarchy\n\nMariaDBInnoBackupExIncremental now inherits from\nmysql_impl.InnoBackupExIncremental, not MariaDBInnoBackupEx since this\nclass doesn't have the incremental command.\n\nChange-Id: If92a3168319f862cbde8a01ec8fc4af85f2bebe9\nCloses-Bug: #1679308\n""}, {'number': 4, 'created': '2017-06-15 03:04:53.000000000', 'files': ['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/tests/unittests/guestagent/test_backups.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/135b92c8b4fa4a5ce581bd28c92494d06f404883', 'message': ""Fix MariaDB backup/restore class hierarchy\n\nMariaDBInnoBackupExIncremental now inherits from\nmysql_impl.InnoBackupExIncremental, not MariaDBInnoBackupEx since this\nclass doesn't have the incremental command.\n\nChange-Id: If92a3168319f862cbde8a01ec8fc4af85f2bebe9\nCloses-Bug: #1679308\n""}]",0,458609,135b92c8b4fa4a5ce581bd28c92494d06f404883,21,7,4,25793,,,0,"Fix MariaDB backup/restore class hierarchy

MariaDBInnoBackupExIncremental now inherits from
mysql_impl.InnoBackupExIncremental, not MariaDBInnoBackupEx since this
class doesn't have the incremental command.

Change-Id: If92a3168319f862cbde8a01ec8fc4af85f2bebe9
Closes-Bug: #1679308
",git fetch https://review.opendev.org/openstack/trove refs/changes/09/458609/4 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/strategies/backup/experimental/mariadb_impl.py', 'trove/guestagent/strategies/restore/experimental/mariadb_impl.py', 'trove/tests/unittests/guestagent/test_backups.py']",3,7577d3ab52a1c728fe11a0ae8730724d0df19a9c,bug/1679308,"BACKUP_MARIADB_CLS = (""trove.guestagent.strategies.backup."" ""experimental.mariadb_impl.MariaDBInnoBackupEx"") RESTORE_MARIADB_CLS = (""trove.guestagent.strategies.restore."" ""experimental.mariadb_impl.MariaDBInnoBackupEx"") BACKUP_MARIADB_INCR_CLS = (""trove.guestagent.strategies.backup."" ""experimental.mariadb_impl.MariaDBInnoBackupExIncremental"") RESTORE_MARIADB_INCR_CLS = (""trove.guestagent.strategies.restore."" ""experimental.mariadb_impl.MariaDBInnoBackupExIncremental"") def test_backup_mariadb_command(self): backupBase.BackupRunner.is_encrypted = False backupBase.BackupRunner.is_zipped = False RunnerClass = utils.import_class(BACKUP_MARIADB_CLS) bkup = RunnerClass(12345, extra_opts="""") self.assertEqual(XTRA_BACKUP, bkup.command) def test_restore_mariadb_command(self): restoreBase.RestoreRunner.is_zipped = False restoreBase.RestoreRunner.is_encrypted = False RunnerClass = utils.import_class(RESTORE_MARIADB_CLS) restr = RunnerClass(None, restore_location=""/var/lib/mysql/data"", location=""filename"", checksum=""md5"") self.assertEqual(XTRA_RESTORE, restr.restore_cmd) self.assertEqual(PREPARE, restr.prepare_cmd) def test_backup_mariadb_incremental_command(self): backupBase.BackupRunner.is_encrypted = False backupBase.BackupRunner.is_zipped = False RunnerClass = utils.import_class(BACKUP_MARIADB_INCR_CLS) opts = {'lsn': '54321', 'extra_opts': ''} expected = (XTRA_BACKUP_INCR % opts) bkup = RunnerClass(12345, extra_opts="""", lsn=""54321"") self.assertEqual(expected, bkup.command) def test_restore_mariadb_incremental_command(self): restoreBase.RestoreRunner.is_zipped = False restoreBase.RestoreRunner.is_encrypted = False RunnerClass = utils.import_class(RESTORE_MARIADB_INCR_CLS) restr = RunnerClass(None, restore_location=""/var/lib/mysql/data"", location=""filename"", checksum=""md5"") self.assertEqual(PREPARE, restr.prepare_cmd) expected = XTRA_INCR_PREPARE % {'incr': '--incremental-dir=/foo/bar/'} observed = restr._incremental_prepare_cmd('/foo/bar/') self.assertEqual(expected, observed) expected = XTRA_INCR_PREPARE % {'incr': ''} observed = restr._incremental_prepare_cmd(None) self.assertEqual(expected, observed)",,60,5
openstack%2Fpuppet-ceilometer~master~I626d50677255b9668ddec30131f6214f18d42fd7,openstack/puppet-ceilometer,master,I626d50677255b9668ddec30131f6214f18d42fd7,Remove deprecated collector classes,MERGED,2017-10-16 15:46:10.000000000,2017-11-06 17:41:51.000000000,2017-11-06 17:41:50.000000000,"[{'_account_id': 6924}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-16 15:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/fe3b63d401f0d32443b66b294531726bba6b4d50', 'message': 'Remove deprecated collector classes\n\nCollector has been deprecated in the previous release and is\ntargeted to be remvoed in Queens release. The code for this\nis already removed upstream[1]. Let drop this class now.\n\n[1] https://review.openstack.org/#/c/504244/\n\nChange-Id: I626d50677255b9668ddec30131f6214f18d42fd7\n'}, {'number': 2, 'created': '2017-10-16 18:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b947106352ec00175db557db2c228fb7f24de751', 'message': 'Remove deprecated collector classes\n\nCollector has been deprecated in the previous release and is\ntargeted to be remvoed in Queens release. The code for this\nis already removed upstream[1]. Let drop this class now.\n\n[1] https://review.openstack.org/#/c/504244/\n\nChange-Id: I626d50677255b9668ddec30131f6214f18d42fd7\n'}, {'number': 3, 'created': '2017-11-06 13:50:18.000000000', 'files': ['releasenotes/notes/remove-collector-9547e7929e1a139f.yaml', 'manifests/params.pp', 'spec/classes/ceilometer_collector_spec.rb', 'manifests/collector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/e2928d2d4c11d0c534f99f37d8e3dce8bf5223d4', 'message': 'Remove deprecated collector classes\n\nCollector has been deprecated in the previous release and is\ntargeted to be remvoed in Queens release. The code for this\nis already removed upstream[1]. Let drop this class now.\n\n[1] https://review.openstack.org/#/c/504244/\n\nChange-Id: I626d50677255b9668ddec30131f6214f18d42fd7\n'}]",0,512337,e2928d2d4c11d0c534f99f37d8e3dce8bf5223d4,13,4,3,6924,,,0,"Remove deprecated collector classes

Collector has been deprecated in the previous release and is
targeted to be remvoed in Queens release. The code for this
is already removed upstream[1]. Let drop this class now.

[1] https://review.openstack.org/#/c/504244/

Change-Id: I626d50677255b9668ddec30131f6214f18d42fd7
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/37/512337/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-collector-9547e7929e1a139f.yaml', 'manifests/params.pp', 'spec/classes/ceilometer_collector_spec.rb', 'manifests/collector.pp']",4,fe3b63d401f0d32443b66b294531726bba6b4d50,remove-collector,,"# == Class: ceilometer::params # # Installs the ceilometer collector service # # === Parameters: # # [*enabled*] # (Optional) Should the service be enabled. # Defaults to true. # # [*manage_service*] # (Optional) Whether the service should be managed by Puppet. # Defaults to true. # # [*package_ensure*] # (Optional) ensure state for package. # Defaults to 'present'. # # [*udp_address*] # (Optional) the ceilometer collector udp bind address. # Set it empty to disable the collector listener. # Defaults to '0.0.0.0'. # # [*udp_port*] # (Optional) the ceilometer collector udp bind port. # Defaults to '4952'. # # [*meter_dispatchers*] # (Optional) dispatcher driver(s) to process meter data. # Can be an array or a string. # Defaults to $::os_service_default. # # [*event_dispatchers*] # (Optional) dispatcher driver(s) to process event data. # Can be an array or a string. # Defaults to $::os_service_default. # # [*collector_workers*] # (Optional) Number of workers for collector service (integer value). # Defaults to $::os_service_default. # # DEPRECATED PARAMETERS # # [*meter_dispatcher*] # (Optional) dispatcher driver(s) to process meter data. # Can be an array or a string. # Defaults to undef. # # [*event_dispatcher*] # (Optional) dispatcher driver(s) to process event data. # Can be an array or a string. # Defaults to undef. # class ceilometer::collector ( $manage_service = true, $enabled = true, $package_ensure = 'present', $udp_address = '0.0.0.0', $udp_port = '4952', $collector_workers = $::os_service_default, $meter_dispatchers = $::os_service_default, $event_dispatchers = $::os_service_default, # DEPRECATED PARAMETERS $meter_dispatcher = undef, $event_dispatcher = undef, ) { include ::ceilometer::deps include ::ceilometer::params warning('This class is deprecated. Now the pipeline.yaml can be configured directly to send data eg: gnocchi://') # We accept udp_address to be set to empty instead of the usual undef to stay # close to the ""strange"" upstream interface. if (is_ip_address($udp_address) != true and $udp_address != '' ){ fail(""${udp_address} is not a valid ip and is not empty"") } if $meter_dispatcher { warning('The meter_dispatcher parameter is deprecated, please use meter_dispatchers instead.') $meter_dispatchers_real = $meter_dispatcher } else { $meter_dispatchers_real = $meter_dispatchers } if $event_dispatcher { warning('The event_dispatcher parameter is deprecated, please use event_dispatchers instead.') $event_dispatchers_real = $event_dispatcher } else { $event_dispatchers_real = $event_dispatchers } ceilometer_config { 'collector/udp_address': value => $udp_address; 'collector/udp_port': value => $udp_port; 'collector/workers': value => $collector_workers; 'DEFAULT/meter_dispatchers': value => any2array($meter_dispatchers_real); 'DEFAULT/event_dispatchers': value => any2array($event_dispatchers_real); } ensure_resource( 'package', [$::ceilometer::params::collector_package_name], { ensure => $package_ensure, tag => ['openstack', 'ceilometer-package'] } ) if $manage_service { if $enabled { $service_ensure = 'running' } else { $service_ensure = 'stopped' } } service { 'ceilometer-collector': ensure => $service_ensure, name => $::ceilometer::params::collector_service_name, enable => $enabled, hasstatus => true, hasrestart => true, tag => 'ceilometer-service' } } ",5,267
openstack%2Fnetworking-generic-switch~stable%2Fpike~I654609fec3c092bd9d06a2db26b41c5c27171dd7,openstack/networking-generic-switch,stable/pike,I654609fec3c092bd9d06a2db26b41c5c27171dd7,Set defaultbranch for pike,MERGED,2017-11-06 14:35:02.000000000,2017-11-06 17:33:13.000000000,2017-11-06 17:33:12.000000000,"[{'_account_id': 6618}, {'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 14:35:02.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/2fde2e98579a7cee40e162d72ed94cb651f93598', 'message': 'Set defaultbranch for pike\n\nChange-Id: I654609fec3c092bd9d06a2db26b41c5c27171dd7\n'}]",0,517999,2fde2e98579a7cee40e162d72ed94cb651f93598,7,3,1,12356,,,0,"Set defaultbranch for pike

Change-Id: I654609fec3c092bd9d06a2db26b41c5c27171dd7
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/99/517999/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2fde2e98579a7cee40e162d72ed94cb651f93598,upd-git-review,defaultbranch=stable/pike,,1,0
openstack%2Fnetworking-odl~master~I062ae3f7d74cb83258b4e1e5ce3769b7675d479a,openstack/networking-odl,master,I062ae3f7d74cb83258b4e1e5ce3769b7675d479a,Revert skip of test l3 test case,MERGED,2017-10-26 10:00:54.000000000,2017-11-06 17:29:24.000000000,2017-11-06 17:29:24.000000000,"[{'_account_id': 333}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-26 10:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4e7cbbffe8c38ea90bd4725011b23315be6434c3', 'message': 'Cleanup of UT\n\nhttps://review.openstack.org/#/c/514470 change in neutron cleanup\nuts, this patch adopts the changes introduced by neutron.\n\nChange-Id: I062ae3f7d74cb83258b4e1e5ce3769b7675d479a\n'}, {'number': 2, 'created': '2017-11-06 04:44:53.000000000', 'files': ['networking_odl/tests/unit/l3/test_l3_odl.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0512a500be161d99d854b77a89066e7179bc5683', 'message': 'Revert skip of test l3 test case\n\nChanges introduced by https://review.openstack.org/#/c/514470/\nbroke l3 v1 driver tests therefore those tests were being skipped.\n\nA revert for the same(https://review.openstack.org/#/c/515691/)\nhas been merged, now there is no need to skip test cases.\n\nChange-Id: I062ae3f7d74cb83258b4e1e5ce3769b7675d479a\n'}]",1,515345,0512a500be161d99d854b77a89066e7179bc5683,9,3,2,13912,,,0,"Revert skip of test l3 test case

Changes introduced by https://review.openstack.org/#/c/514470/
broke l3 v1 driver tests therefore those tests were being skipped.

A revert for the same(https://review.openstack.org/#/c/515691/)
has been merged, now there is no need to skip test cases.

Change-Id: I062ae3f7d74cb83258b4e1e5ce3769b7675d479a
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/45/515345/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/unit/l3/test_l3_odl.py'],1,4e7cbbffe8c38ea90bd4725011b23315be6434c3,fix_ut," constants.L3, l3.L3, '', allow_pagination=True, allow_sorting=True, ""network_id"": ""3c5bcddd-6af9-4e6b-9c3e-c153e521cab8""}","import testtools# TODO(mkolesni): Fix if you still care about V1, which is going to be removed @testtools.skip(""Broken, but we don't care since we're not supporting V1"") constants.L3, l3.RESOURCE_ATTRIBUTE_MAP, l3.L3, '', allow_pagination=True, allow_sorting=True, ""network_id"": ""3c5bcddd-6af9-4e6b-9c3e-c153e521cab8"", ""enable_snat"": True} self.assertEqual(True, router[""external_gateway_info""]['enable_snat'])",2,8
openstack%2Fos-brick~master~Ieb58826b28c62094c941fce10863c0a75fb4e8aa,openstack/os-brick,master,Ieb58826b28c62094c941fce10863c0a75fb4e8aa,Protect against race within os.path.realpath,MERGED,2017-09-26 19:22:22.000000000,2017-11-06 17:22:21.000000000,2017-10-17 16:00:45.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19852}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-09-26 19:22:22.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/de89635ab70b36852d638efd6e45d245217613cc', 'message': ""Protect against race within os.path.realpath\n\nOn iSCSI connections, when we are making sure that there no links remain\nlike /dev/disk/by-id/scsi-* we make several calls to os.path.realpath\nwhich normal behavior is:\n\n- If file path doesn't exist, returns the same file path\n- If file path exists, return the real path\n\nBut there is a third option, and that is when the file did exist but it\ndissapear right when the  call to os.readlink in posixpath:_joinrealpath\n\n   path, ok = _joinrealpath(path, os.readlink(newpath), seen)\n\nWhich ends up raising an exception such as:\n\n   OSError: [Errno 2] No such file or directory:\n            '/dev/disk/by-id/scsi-20024f40058540081'\n\nAnd because of this exception the detach will fail when it shouldn't.\n\nThis patch adds includes the call to os.path.realpath within a\ntry...except clause to prevent this race condition from unexpectely\nmaking the detach operation fail.\n\nChange-Id: Ieb58826b28c62094c941fce10863c0a75fb4e8aa\nCloses-Bug: #1719719\n""}]",2,507653,de89635ab70b36852d638efd6e45d245217613cc,44,18,1,9535,,,0,"Protect against race within os.path.realpath

On iSCSI connections, when we are making sure that there no links remain
like /dev/disk/by-id/scsi-* we make several calls to os.path.realpath
which normal behavior is:

- If file path doesn't exist, returns the same file path
- If file path exists, return the real path

But there is a third option, and that is when the file did exist but it
dissapear right when the  call to os.readlink in posixpath:_joinrealpath

   path, ok = _joinrealpath(path, os.readlink(newpath), seen)

Which ends up raising an exception such as:

   OSError: [Errno 2] No such file or directory:
            '/dev/disk/by-id/scsi-20024f40058540081'

And because of this exception the detach will fail when it shouldn't.

This patch adds includes the call to os.path.realpath within a
try...except clause to prevent this race condition from unexpectely
making the detach operation fail.

Change-Id: Ieb58826b28c62094c941fce10863c0a75fb4e8aa
Closes-Bug: #1719719
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/53/507653/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,de89635ab70b36852d638efd6e45d245217613cc,fix/realpath-race-condition, unlink = [] for link in links: try: if os.path.realpath(link) in devices: unlink.append(link) except OSError: # A race condition in Python's posixpath:realpath just occurred # so we can ignore it because the file was just removed between # a check if file exists and a call to os.readlink continue , unlink = [link for link in links if os.path.realpath(link) in devices],23,2
openstack%2Fopenstack-ansible-os_magnum~stable%2Fnewton~I6fa9290264618f903a49be83e001bb58efa9c2cc,openstack/openstack-ansible-os_magnum,stable/newton,I6fa9290264618f903a49be83e001bb58efa9c2cc,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:31:14.000000000,2017-11-06 17:09:18.000000000,2017-11-06 17:09:18.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:31:14.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/e533c1548ce89b49691ab88c380ce2e3faac3a3a', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I6fa9290264618f903a49be83e001bb58efa9c2cc\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517691,e533c1548ce89b49691ab88c380ce2e3faac3a3a,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I6fa9290264618f903a49be83e001bb58efa9c2cc
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/91/517691/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,e533c1548ce89b49691ab88c380ce2e3faac3a3a,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-os_tempest~stable%2Fnewton~Ibd6e8e002d96120cd7be99173673d1a1fd7e0d9b,openstack/openstack-ansible-os_tempest,stable/newton,Ibd6e8e002d96120cd7be99173673d1a1fd7e0d9b,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:32:14.000000000,2017-11-06 17:05:36.000000000,2017-11-06 17:05:36.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:32:14.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/38d1d1aa0c181254ad0a4eca19f10b6081285a78', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ibd6e8e002d96120cd7be99173673d1a1fd7e0d9b\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517697,38d1d1aa0c181254ad0a4eca19f10b6081285a78,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Ibd6e8e002d96120cd7be99173673d1a1fd7e0d9b
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/97/517697/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,38d1d1aa0c181254ad0a4eca19f10b6081285a78,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-os_nova~stable%2Fnewton~Ib9169c58577be3cf4159c69df7067ce4e32b7bfa,openstack/openstack-ansible-os_nova,stable/newton,Ib9169c58577be3cf4159c69df7067ce4e32b7bfa,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:31:38.000000000,2017-11-06 17:04:33.000000000,2017-11-06 17:04:33.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/47b8e2a61fcde89b495e2dee0836d54dfb374148', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ib9169c58577be3cf4159c69df7067ce4e32b7bfa\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 18:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/707709e91420cd7236e6227f2b375417a97ac22b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ib9169c58577be3cf4159c69df7067ce4e32b7bfa\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 3, 'created': '2017-11-03 18:49:57.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/87778470bd20dca457d397923fb3af64608222bb', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ib9169c58577be3cf4159c69df7067ce4e32b7bfa\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517694,87778470bd20dca457d397923fb3af64608222bb,9,3,3,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Ib9169c58577be3cf4159c69df7067ce4e32b7bfa
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/94/517694/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,47b8e2a61fcde89b495e2dee0836d54dfb374148,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:func_lxd] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_OVERRIDES={toxinidir}/tests/os_nova-overrides-lxd.yml commands = {[testenv:tests_clone]commands}",128,42
openstack%2Fopenstack-ansible-os_sahara~stable%2Fnewton~I32d25d979643786f2f2ae0056dd59b22c110d2e5,openstack/openstack-ansible-os_sahara,stable/newton,I32d25d979643786f2f2ae0056dd59b22c110d2e5,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:31:51.000000000,2017-11-06 16:47:57.000000000,2017-11-06 16:47:57.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:31:51.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/4344208a178c1c5269395c3f2135d33de6cb4823', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I32d25d979643786f2f2ae0056dd59b22c110d2e5\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517695,4344208a178c1c5269395c3f2135d33de6cb4823,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I32d25d979643786f2f2ae0056dd59b22c110d2e5
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/95/517695/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,4344208a178c1c5269395c3f2135d33de6cb4823,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-os_keystone~stable%2Fnewton~I216a2751f03b3750539c166c7aeae50614bd576d,openstack/openstack-ansible-os_keystone,stable/newton,I216a2751f03b3750539c166c7aeae50614bd576d,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:31:05.000000000,2017-11-06 16:46:43.000000000,2017-11-06 16:46:43.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/64451182cdab2b2c0467e8b1e6f91ff88bbefa65', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I216a2751f03b3750539c166c7aeae50614bd576d\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 19:14:51.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9ccf85466523ac8ceda97979db72b51ece37c973', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I216a2751f03b3750539c166c7aeae50614bd576d\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517690,9ccf85466523ac8ceda97979db72b51ece37c973,8,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I216a2751f03b3750539c166c7aeae50614bd576d
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/90/517690/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,64451182cdab2b2c0467e8b1e6f91ff88bbefa65,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:uw_apache] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_PARAMETERS=-vvv -e keystone_mod_wsgi_enabled=False commands = {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:uw_nginx] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_PARAMETERS=-vvv -e keystone_apache_enabled=False -e keystone_mod_wsgi_enabled=False commands = {[testenv:tests_clone]commands}",128,53
openstack%2Fopenstack-ansible-os_cinder~stable%2Fnewton~I867f20f840f7130ff2cb1ac5d6c3c1a2d0b3f6b7,openstack/openstack-ansible-os_cinder,stable/newton,I867f20f840f7130ff2cb1ac5d6c3c1a2d0b3f6b7,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:25:58.000000000,2017-11-06 16:44:44.000000000,2017-11-06 16:44:44.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/6ce4a40d5df95dcb73a91c3c978312bee1bf164e', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I867f20f840f7130ff2cb1ac5d6c3c1a2d0b3f6b7\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 18:27:02.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/ecab57238bd2fc6adefb688fb998b5b0092f8215', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I867f20f840f7130ff2cb1ac5d6c3c1a2d0b3f6b7\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517670,ecab57238bd2fc6adefb688fb998b5b0092f8215,8,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I867f20f840f7130ff2cb1ac5d6c3c1a2d0b3f6b7
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/70/517670/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tox.ini']",2,6ce4a40d5df95dcb73a91c3c978312bee1bf164e,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",25,31
openstack%2Fopenstack-ansible-os_horizon~stable%2Fnewton~I55d91f42a2785ef2a7609f71a809306caa827664,openstack/openstack-ansible-os_horizon,stable/newton,I55d91f42a2785ef2a7609f71a809306caa827664,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:30:47.000000000,2017-11-06 16:44:40.000000000,2017-11-06 16:44:40.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:30:47.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/406004ba491c303fad2212f5d863b4e01fb0583b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I55d91f42a2785ef2a7609f71a809306caa827664\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517688,406004ba491c303fad2212f5d863b4e01fb0583b,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I55d91f42a2785ef2a7609f71a809306caa827664
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/88/517688/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,406004ba491c303fad2212f5d863b4e01fb0583b,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fnewton~I684216bc38bd1f08175fe27fd84708dcbcfaf9d1,openstack/openstack-ansible-os_gnocchi,stable/newton,I684216bc38bd1f08175fe27fd84708dcbcfaf9d1,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:30:30.000000000,2017-11-06 16:44:11.000000000,2017-11-06 16:44:11.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:30:30.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/014d6ecb4acc5ce07a45e66ea4025debfb15ffc4', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I684216bc38bd1f08175fe27fd84708dcbcfaf9d1\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517686,014d6ecb4acc5ce07a45e66ea4025debfb15ffc4,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I684216bc38bd1f08175fe27fd84708dcbcfaf9d1
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/86/517686/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,014d6ecb4acc5ce07a45e66ea4025debfb15ffc4,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Ftripleo-heat-templates~master~I3102a8301e420782fda8ab1d3596bd881d056fcb,openstack/tripleo-heat-templates,master,I3102a8301e420782fda8ab1d3596bd881d056fcb,ironic upgrade: change ownership for ironic-dbsync.log,ABANDONED,2017-11-06 16:32:29.000000000,2017-11-06 16:43:02.000000000,,[],"[{'number': 1, 'created': '2017-11-06 16:32:29.000000000', 'files': ['puppet/services/ironic-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0509c73e4465251c472d06631758bbd453e3dfb4', 'message': 'ironic upgrade: change ownership for ironic-dbsync.log\n\nA change was done in puppet-ironic: https://review.openstack.org/#/c/457478/.\nIt breaks upgrades and minor updates, as it tries run ironic-dbsync as ""ironic""\nuser, while the existing logs are owned by root.\n\nThis change adds an upgrade task forcing the correct ownership.\n\nA similar change for undercloud: I325c30f49b765ef6413743491902e97735877321\n\nChange-Id: I3102a8301e420782fda8ab1d3596bd881d056fcb\n'}]",0,518027,0509c73e4465251c472d06631758bbd453e3dfb4,2,0,1,10239,,,0,"ironic upgrade: change ownership for ironic-dbsync.log

A change was done in puppet-ironic: https://review.openstack.org/#/c/457478/.
It breaks upgrades and minor updates, as it tries run ironic-dbsync as ""ironic""
user, while the existing logs are owned by root.

This change adds an upgrade task forcing the correct ownership.

A similar change for undercloud: I325c30f49b765ef6413743491902e97735877321

Change-Id: I3102a8301e420782fda8ab1d3596bd881d056fcb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/518027/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ironic-base.yaml'],1,0509c73e4465251c472d06631758bbd453e3dfb4,ironic-upgrade, upgrade_tasks: - name: Make sure ironic-dbsync.log has correct ACL tags: step1 file: path: /var/log/ironic/ironic-dbsync.log owner: ironic group: ironic,,7,0
openstack%2Fopenstack-ansible-os_aodh~stable%2Fnewton~I9faac7446b7ac200bbc28c9e3850e17f2d9a4855,openstack/openstack-ansible-os_aodh,stable/newton,I9faac7446b7ac200bbc28c9e3850e17f2d9a4855,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:30:06.000000000,2017-11-06 16:38:45.000000000,2017-11-06 16:38:45.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:30:06.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/465b64b1b42eb7b8ad02270ade63be1f2472abdf', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I9faac7446b7ac200bbc28c9e3850e17f2d9a4855\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517684,465b64b1b42eb7b8ad02270ade63be1f2472abdf,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I9faac7446b7ac200bbc28c9e3850e17f2d9a4855
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/84/517684/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,465b64b1b42eb7b8ad02270ade63be1f2472abdf,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-os_heat~stable%2Fnewton~I9cd6bba57b79bb205d5523346f037682aaaa13fb,openstack/openstack-ansible-os_heat,stable/newton,I9cd6bba57b79bb205d5523346f037682aaaa13fb,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:30:38.000000000,2017-11-06 16:36:47.000000000,2017-11-06 16:36:47.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:30:38.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/d37368c3544791a547d54c48c9f7c9d32763981c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I9cd6bba57b79bb205d5523346f037682aaaa13fb\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517687,d37368c3544791a547d54c48c9f7c9d32763981c,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I9cd6bba57b79bb205d5523346f037682aaaa13fb
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/87/517687/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,d37368c3544791a547d54c48c9f7c9d32763981c,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fnewton~I3ca61175ab3c0ceef5301710b0d4d2770ec676fc,openstack/openstack-ansible-rabbitmq_server,stable/newton,I3ca61175ab3c0ceef5301710b0d4d2770ec676fc,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:32:43.000000000,2017-11-06 16:36:08.000000000,2017-11-06 16:36:08.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:32:43.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c1549cb91f76a5f68756539f67abe5f03e80420b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I3ca61175ab3c0ceef5301710b0d4d2770ec676fc\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517700,c1549cb91f76a5f68756539f67abe5f03e80420b,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I3ca61175ab3c0ceef5301710b0d4d2770ec676fc
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/00/517700/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,c1549cb91f76a5f68756539f67abe5f03e80420b,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-galera_server~stable%2Fnewton~Ief9e0ace5a31dc44fb3fce2cf509606181ecb232,openstack/openstack-ansible-galera_server,stable/newton,Ief9e0ace5a31dc44fb3fce2cf509606181ecb232,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:28:53.000000000,2017-11-06 16:32:15.000000000,2017-11-06 16:32:15.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:28:53.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/91d463b9b54ed777738350b0540d0502bfb5ee20', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ief9e0ace5a31dc44fb3fce2cf509606181ecb232\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517675,91d463b9b54ed777738350b0540d0502bfb5ee20,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Ief9e0ace5a31dc44fb3fce2cf509606181ecb232
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/75/517675/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,91d463b9b54ed777738350b0540d0502bfb5ee20,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}[testenv:ssl] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_PARAMETERS=-vvv -e galera_use_ssl=True -e galera_user_ssl_ca_cert=""/tmp/self-signed-certs/galera-ca.crt"" -e galera_user_ssl_cert=""/tmp/self-signed-certs/galera.crt"" -e galera_user_ssl_key=""/tmp/self-signed-certs/galera.key"" commands = {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh""",128,40
openstack%2Fopenstack-ansible-repo_build~stable%2Fnewton~Id47ffca0020bf6c5349676944b9f957d8a00240b,openstack/openstack-ansible-repo_build,stable/newton,Id47ffca0020bf6c5349676944b9f957d8a00240b,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:32:51.000000000,2017-11-06 16:31:10.000000000,2017-11-06 16:31:10.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:32:51.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/cad99e680bc2c3f8df08124a8f02fd33add9fb2a', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id47ffca0020bf6c5349676944b9f957d8a00240b\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517701,cad99e680bc2c3f8df08124a8f02fd33add9fb2a,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Id47ffca0020bf6c5349676944b9f957d8a00240b
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/01/517701/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,cad99e680bc2c3f8df08124a8f02fd33add9fb2a,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fmanila~stable%2Fpike~Ia9226329035508c37ca499e6efbd2382502eb141,openstack/manila,stable/pike,Ia9226329035508c37ca499e6efbd2382502eb141,tempest: remove call to set_network_resources(),MERGED,2017-11-06 11:58:03.000000000,2017-11-06 16:27:50.000000000,2017-11-06 16:14:37.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 15831}, {'_account_id': 17780}, {'_account_id': 18883}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-11-06 11:58:03.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/699f0a7d2699d93b2177b163d2d614115b055407', 'message': ""tempest: remove call to set_network_resources()\n\nSince the merge of the stable interface for Tempest network_resources\n[0], a call within the Manila scenario tests was causing failures\naround the ordering of method calls in the set up of the test class.\nThis patch removes the call as currently it doesn't do anything and\nwill fix our scenario tests.\n\n[0] - I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n\nChange-Id: Ia9226329035508c37ca499e6efbd2382502eb141\nCloses-Bug: #1717562\n(cherry picked from commit c26bd6b10c608029a505d3473b0bf61e178deee7)\n""}]",0,517932,699f0a7d2699d93b2177b163d2d614115b055407,11,7,1,21698,,,0,"tempest: remove call to set_network_resources()

Since the merge of the stable interface for Tempest network_resources
[0], a call within the Manila scenario tests was causing failures
around the ordering of method calls in the set up of the test class.
This patch removes the call as currently it doesn't do anything and
will fix our scenario tests.

[0] - I4eab8f2a722b47edc20e4aab0ef453bec16842f3

Change-Id: Ia9226329035508c37ca499e6efbd2382502eb141
Closes-Bug: #1717562
(cherry picked from commit c26bd6b10c608029a505d3473b0bf61e178deee7)
",git fetch https://review.opendev.org/openstack/manila refs/changes/32/517932/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/scenario/manager_share.py'],1,699f0a7d2699d93b2177b163d2d614115b055407,bug/1717562-stable/pike,, cls.set_network_resources(),0,1
openstack%2Fopenstack-ansible-ops~stable%2Fnewton~I2b1ed08cf9045a84b45dc776464d888336608d0e,openstack/openstack-ansible-ops,stable/newton,I2b1ed08cf9045a84b45dc776464d888336608d0e,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:29:56.000000000,2017-11-06 16:21:03.000000000,2017-11-06 16:21:02.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/54ebb979a5d9041aa83aa524cf2812aefc46b750', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2b1ed08cf9045a84b45dc776464d888336608d0e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 19:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4cb47e57bf4268d2c0adcfd857baefb1b48d4559', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2b1ed08cf9045a84b45dc776464d888336608d0e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 3, 'created': '2017-11-03 19:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/70d5ebe72c369fea9ee1b58dd5e247de5479f9c8', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2b1ed08cf9045a84b45dc776464d888336608d0e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 4, 'created': '2017-11-03 19:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a95c758acd68d80991bbc7ea797612217c1e33d1', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2b1ed08cf9045a84b45dc776464d888336608d0e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 5, 'created': '2017-11-03 19:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/d148fb4a0419aa477d2a7a7398b815a1a0c22d48', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2b1ed08cf9045a84b45dc776464d888336608d0e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 6, 'created': '2017-11-03 19:46:22.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/10a02bed6d3b2323d3da8de06c9b8280de7a78f5', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2b1ed08cf9045a84b45dc776464d888336608d0e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517683,10a02bed6d3b2323d3da8de06c9b8280de7a78f5,15,3,6,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I2b1ed08cf9045a84b45dc776464d888336608d0e
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/83/517683/6 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tox.ini']",2,54ebb979a5d9041aa83aa524cf2812aefc46b750,zuul-git-sources-newton," PYTHONUNBUFFERED=1 ROLE_NAME=ops TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton [testenv:ansible] deps = {[testenv]deps} -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton -rhttp://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton [testenv:ansible-syntax] deps = {[testenv:ansible]deps} commands = bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/common/test-ansible-syntax.sh"" [testenv:ansible-lint] deps = {[testenv:ansible]deps} commands = bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/common/test-ansible-lint.sh"" [testenv:functional] deps = {[testenv:ansible]deps} commands = bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" deps = {[testenv:ansible]deps} {[testenv:ansible-lint]commands} {[testenv:ansible-syntax]commands} {[testenv:docs]commands}","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands}",60,28
openstack%2Fansible-hardening~master~If6f9a698a813db9aaf1eb4e10520a4c01cd00407,openstack/ansible-hardening,master,If6f9a698a813db9aaf1eb4e10520a4c01cd00407,Docs/Reno fixes,MERGED,2017-10-24 18:40:10.000000000,2017-11-06 16:21:02.000000000,2017-11-06 16:21:02.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22042}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-10-24 18:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/7194b85ece92432d4db7d19da55ae881c9daedac', 'message': 'Docs/Reno fixes\n\nThis patch fixes a ton of broken links, documentation, and reno errors.\n\nChange-Id: If6f9a698a813db9aaf1eb4e10520a4c01cd00407\n'}, {'number': 2, 'created': '2017-10-24 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/c3d2b5fffaf18f23b11d27ebdd2e36f930e996e9', 'message': 'Docs/Reno fixes\n\nThis patch fixes a ton of broken links, documentation, and reno errors.\n\nChange-Id: If6f9a698a813db9aaf1eb4e10520a4c01cd00407\n'}, {'number': 3, 'created': '2017-10-24 20:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/be2ef257f5e30c4b5693aa7fbc25aa1146e8e155', 'message': 'Docs/Reno fixes\n\nThis patch fixes a ton of broken links, documentation, and reno errors.\n\nChange-Id: If6f9a698a813db9aaf1eb4e10520a4c01cd00407\n'}, {'number': 4, 'created': '2017-10-24 21:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/df5088586f51dc6c5403120a83822979c0ba5667', 'message': 'Docs/Reno fixes\n\nThis patch fixes a ton of broken links, documentation, and reno errors.\n\nChange-Id: If6f9a698a813db9aaf1eb4e10520a4c01cd00407\n'}, {'number': 5, 'created': '2017-10-25 15:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/9496d5ac7941faec311e61ee9dcea13554d6721b', 'message': 'Docs/Reno fixes\n\nThis patch fixes a ton of broken links, documentation, and reno errors.\n\nDepends-On: If95de543d2a2a7ad22435900e7923fc942cdd297\nDepends-On: I07b04301629e3b2a176c210ed7989f8d699b7e8c\nChange-Id: If6f9a698a813db9aaf1eb4e10520a4c01cd00407\n'}, {'number': 6, 'created': '2017-10-25 17:00:35.000000000', 'files': ['doc/source/index.rst', 'doc/metadata/rhel7/V-71931.rst', 'doc/source/domains.rst', 'releasenotes/source/pike.rst', 'doc/metadata/rhel7/V-71863.rst', 'releasenotes/source/mitaka.rst', 'releasenotes/source/liberty.rst', 'doc/source/getting-started.rst', 'doc/metadata/rhel7/V-71927.rst', 'releasenotes/source/index.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/6061695c85ea823b89b7420865955843b65e4e01', 'message': 'Docs/Reno fixes\n\nThis patch fixes a ton of broken links, documentation, and reno errors.\n\nChange-Id: If6f9a698a813db9aaf1eb4e10520a4c01cd00407\n'}]",3,514790,6061695c85ea823b89b7420865955843b65e4e01,19,5,6,538,,,0,"Docs/Reno fixes

This patch fixes a ton of broken links, documentation, and reno errors.

Change-Id: If6f9a698a813db9aaf1eb4e10520a4c01cd00407
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/90/514790/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/metadata/rhel7/V-71931.rst', 'doc/source/domains.rst', 'doc/metadata/rhel7/V-71863.rst', 'doc/source/getting-started.rst', 'doc/metadata/rhel7/V-71927.rst', 'releasenotes/source/index.rst', 'releasenotes/source/conf.py']",8,7194b85ece92432d4db7d19da55ae881c9daedac,doc-fixes,description = ('The ansible-hardening Ansible role uses industry-standard ' 'security hardening guides to secure Linux hosts.') project = 'ansible-hardening'title = 'ansible-hardening Release Notes:',description = 'OpenStack-Ansible deploys OpenStack environments using Ansible.' project = 'OpenStack-Ansible'title = 'ansible-hardening Documentation:',18,18
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Fnewton~I49c1c7167c22227bf1e6db6e77b01dd23a8deae9,openstack/openstack-ansible-openstack_openrc,stable/newton,I49c1c7167c22227bf1e6db6e77b01dd23a8deae9,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:29:47.000000000,2017-11-06 16:19:22.000000000,2017-11-06 16:19:22.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/9bd6509e67135a746fd68cc7924f4e65dae21f2f', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I49c1c7167c22227bf1e6db6e77b01dd23a8deae9\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 19:19:04.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/674a442caface793767baddf14ca451e05db7cec', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I49c1c7167c22227bf1e6db6e77b01dd23a8deae9\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517682,674a442caface793767baddf14ca451e05db7cec,10,3,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I49c1c7167c22227bf1e6db6e77b01dd23a8deae9
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/82/517682/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,9bd6509e67135a746fd68cc7924f4e65dae21f2f,zuul-git-sources-newton," TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," TEST_IDEMPOTENCE=true[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",129,32
openstack%2Fmanila~stable%2Fpike~Ib83267ef75f91fb8f95af312d644ebe19c6307c9,openstack/manila,stable/pike,Ib83267ef75f91fb8f95af312d644ebe19c6307c9,Use generic user for both zuul v2 and v3,MERGED,2017-11-02 16:14:53.000000000,2017-11-06 16:16:25.000000000,2017-11-06 16:16:25.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-11-02 16:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d91840d2e1337e5e45eef08688cd358e4cde6d51', 'message': ""Use generic user for both zuul v2 and v3\n\nZuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.\nUsing $USER solves it for both cases.\n\nChange-Id: Ib83267ef75f91fb8f95af312d644ebe19c6307c9\n(cherry picked from commit d482b16ca31c79bb614a5d967511d7ec56e1723b)\n""}, {'number': 2, 'created': '2017-11-02 16:15:08.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'contrib/ci/common.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/14b17ebd31efae8b886ba95786836949751a5c39', 'message': ""Use generic user for both zuul v2 and v3\n\nZuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.\nUsing $USER solves it for both cases.\n\nChange-Id: Ib83267ef75f91fb8f95af312d644ebe19c6307c9\n(cherry picked from commit d482b16ca31c79bb614a5d967511d7ec56e1723b)\n""}]",0,517365,14b17ebd31efae8b886ba95786836949751a5c39,12,7,2,21698,,,0,"Use generic user for both zuul v2 and v3

Zuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.
Using $USER solves it for both cases.

Change-Id: Ib83267ef75f91fb8f95af312d644ebe19c6307c9
(cherry picked from commit d482b16ca31c79bb614a5d967511d7ec56e1723b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/517365/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/post_test_hook.sh', 'contrib/ci/common.sh']",2,d91840d2e1337e5e45eef08688cd358e4cde6d51,zuulv3-stable/pike, sudo chown $USER:stack $filename.gz sudo chown $USER:stack $dst_dirname, sudo chown jenkins:jenkins $filename.gz sudo chown jenkins:jenkins $dst_dirname,6,6
openstack%2Fpuppet-zaqar~master~I0a0d0ddf5704415745868d39d763df0e43a21a61,openstack/puppet-zaqar,master,I0a0d0ddf5704415745868d39d763df0e43a21a61,Fix typo in config options,MERGED,2017-11-06 08:59:21.000000000,2017-11-06 16:08:39.000000000,2017-11-06 14:33:15.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 08:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/feacb7a6b866be5a5b5f8bb5fa6e2ff2cb645146', 'message': 'Fix typo in config options\n\nSome drivers:transport:websocket options had dashes instead of\nunderscore which caused zaqar to ignore them.\n\nChange-Id: I0a0d0ddf5704415745868d39d763df0e43a21a61\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nRelated-Bug: #1727406\nCloses-Bug: #1730179\n'}, {'number': 2, 'created': '2017-11-06 09:01:20.000000000', 'files': ['spec/classes/zaqar_transport_websocket_spec.rb', 'manifests/transport/websocket.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/f68f5e92179c1f49726dca98796307ad3c8bb4fb', 'message': 'Fix typo in config options\n\nSome drivers:transport:websocket options had dashes instead of\nunderscore which caused zaqar to ignore them.\n\nChange-Id: I0a0d0ddf5704415745868d39d763df0e43a21a61\nCo-Authored-By: Thomas Hervé <therve@redhat.com>\nRelated-Bug: #1727406\nCloses-Bug: #1730179\n'}]",0,517889,f68f5e92179c1f49726dca98796307ad3c8bb4fb,11,5,2,13039,,,0,"Fix typo in config options

Some drivers:transport:websocket options had dashes instead of
underscore which caused zaqar to ignore them.

Change-Id: I0a0d0ddf5704415745868d39d763df0e43a21a61
Co-Authored-By: Thomas Hervé <therve@redhat.com>
Related-Bug: #1727406
Closes-Bug: #1730179
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/89/517889/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/transport/websocket.pp'],1,feacb7a6b866be5a5b5f8bb5fa6e2ff2cb645146,bug/1727406, 'drivers:transport:websocket/external_port': value => $external_port; 'drivers:transport:websocket/notification_bind': value => $notification_bind; 'drivers:transport:websocket/notification_port': value => $notification_port;, 'drivers:transport:websocket/external-port': value => $external_port; 'drivers:transport:websocket/notification-bind': value => $notification_bind; 'drivers:transport:websocket/notification-port': value => $notification_port;,3,3
openstack%2Fproject-config~master~Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30,openstack/project-config,master,Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30,Check release templates,MERGED,2017-11-03 18:09:29.000000000,2017-11-06 16:03:14.000000000,2017-11-06 16:03:14.000000000,"[{'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 18:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5a8ff166cdda82a186807c91fedc6d4aae224d1e', 'message': 'Check release templates\n\nThe releases repo does extensive checks on the release templates used,\nwe cannot repeat them here to avoid tight coupling with them.\n\nAdd a minimal check that checks that only one of the many release jobs\nis used.\n\nMake overall output a bit nicer.\n\nChange-Id: Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30\n'}, {'number': 2, 'created': '2017-11-03 18:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/538d22f1d3723943a995bbf74391e5f58c3b115c', 'message': 'Check release templates\n\nThe releases repo does extensive checks on the release templates used,\nwe cannot repeat them here to avoid tight coupling with them.\n\nAdd a minimal check that checks that only one of the many release jobs\nis used.\n\nMake overall output a bit nicer.\n\nChange-Id: Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30\n'}, {'number': 3, 'created': '2017-11-04 15:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/05602d1467589dc7ab329a4eeaac03f4edb5e91a', 'message': 'Check release templates\n\nThe releases repo does extensive checks on the release templates used,\nwe cannot repeat them here to avoid tight coupling with them.\n\nAdd a minimal check that checks that only one of the many release jobs\nis used.\n\nMake overall output a bit nicer.\n\nChange-Id: Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30\n'}, {'number': 4, 'created': '2017-11-04 15:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5de98a78e11e1dfd66224a50b1579c8a9092c2fd', 'message': 'Check release templates\n\nThe releases repo does extensive checks on the release templates used,\nwe cannot repeat them here to avoid tight coupling with them.\n\nAdd a minimal check that checks that only one of the many release jobs\nis used.\n\nMake overall output a bit nicer.\n\nChange-Id: Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30\n'}, {'number': 5, 'created': '2017-11-05 07:20:28.000000000', 'files': ['tools/zuul-projects-checks.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/27736fa52e6788920a6e9adac04c96dc3668f140', 'message': 'Check release templates\n\nThe releases repo does extensive checks on the release templates used,\nwe cannot repeat them here to avoid tight coupling with them.\n\nAdd a minimal check that checks that only one of the many release jobs\nis used.\n\nMake overall output a bit nicer.\n\nChange-Id: Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30\n'}]",5,517668,27736fa52e6788920a6e9adac04c96dc3668f140,20,5,5,6547,,,0,"Check release templates

The releases repo does extensive checks on the release templates used,
we cannot repeat them here to avoid tight coupling with them.

Add a minimal check that checks that only one of the many release jobs
is used.

Make overall output a bit nicer.

Change-Id: Ifc2ad1e819420b2cb41509b680cbb42e3ebf4d30
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/517668/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/zuul-projects-checks.py'],1,5a8ff166cdda82a186807c91fedc6d4aae224d1e,zuulv3-jobs," print(""ERROR: Project %s has no system-required template"" % if not errors: print(""... all fine."") print(""\nChecking project list for alphabetical order"") print("" ERROR: Wrong alphabetical order: %(last)s, %(current)s"" % if not errors: print(""... all fine."")def check_release_jobs(): """"""Minimal release job checks."""""" release_templates = [ 'release-openstack-server', 'publish-to-pypi', 'publish-to-pypi-neutron', 'publish-to-pypi-horizon', 'puppet-release-jobs', 'nodejs4-publish-to-npm', 'nodejs6-publish-to-npm', 'xstatic-publish-jobs' ] errors = False print(""\nChecking release jobs"") print(""======================"") for entry in projects: project = entry['project'] name = project['name'] found = [] for tmpl in project['templates']: if tmpl in release_templates: found.append(tmpl) if len(found) > 1: errors = True print("" ERROR: Found multiple release jobs for %s:"" % name) for x in found: print("" %s"" % x) print("" Use only one of them."") if not errors: print(""... all fine."") return errors errors = check_release_jobs()"," print(""Project %s has no system-required template"" % print(""Checking project list for alphabetical order"") print("" Wrong alphabetical order: %(last)s, %(current)s"" %",46,3
openstack%2Fopenstack-zuul-jobs~master~I75be5e0ec51dda73993d6c3a726b66ea735b3ccd,openstack/openstack-zuul-jobs,master,I75be5e0ec51dda73993d6c3a726b66ea735b3ccd,Remove unused python34 jobs,MERGED,2017-11-03 16:37:26.000000000,2017-11-06 16:01:49.000000000,2017-11-06 16:01:49.000000000,"[{'_account_id': 6133}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 16:37:26.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/00977e928a8305476aee78b05e26ab393945559f', 'message': 'Remove unused python34 jobs\n\nThe job and template are unused, remove them.\n\nChange-Id: I75be5e0ec51dda73993d6c3a726b66ea735b3ccd\n'}]",0,517652,00977e928a8305476aee78b05e26ab393945559f,7,3,1,6547,,,0,"Remove unused python34 jobs

The job and template are unused, remove them.

Change-Id: I75be5e0ec51dda73993d6c3a726b66ea735b3ccd
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/52/517652/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,00977e928a8305476aee78b05e26ab393945559f,zuulv3-jobs,, name: openstack-tox-py34 parent: openstack-tox description: | Run unit tests for an OpenStack project under cPython version 3.4. Uses tox with the ``py34`` environment. irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ vars: tox_envlist: py34 - job:,0,23
openstack%2Finstack-undercloud~master~I25e01f659bb3c2a592b5a76163fa118baa846f77,openstack/instack-undercloud,master,I25e01f659bb3c2a592b5a76163fa118baa846f77,Add one level of verbosity for memcached,MERGED,2017-10-27 07:35:48.000000000,2017-11-06 15:59:09.000000000,2017-10-28 03:33:05.000000000,"[{'_account_id': 3153}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-27 07:35:48.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0ef7d39fc67aeb105cfc8054c231a7b956266bc6', 'message': 'Add one level of verbosity for memcached\n\nThis allows us to get SOME logs for it. At least warnings and errors.\n\nChange-Id: I25e01f659bb3c2a592b5a76163fa118baa846f77\nRelated-Bug: #1720183\n'}]",0,515627,0ef7d39fc67aeb105cfc8054c231a7b956266bc6,11,5,1,10873,,,0,"Add one level of verbosity for memcached

This allows us to get SOME logs for it. At least warnings and errors.

Change-Id: I25e01f659bb3c2a592b5a76163fa118baa846f77
Related-Bug: #1720183
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/27/515627/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,0ef7d39fc67aeb105cfc8054c231a7b956266bc6,bug/1720183,memcached::verbosity: 'v',,1,0
openstack%2Fpython-troveclient~master~I30c2e698bd1ea90cc8fdf0dc5e3a5b087ca2bec2,openstack/python-troveclient,master,I30c2e698bd1ea90cc8fdf0dc5e3a5b087ca2bec2,"Fix ""trove module-instances"" command which don't work.",MERGED,2017-02-15 03:30:49.000000000,2017-11-06 15:26:21.000000000,2017-11-06 15:26:21.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 14257}, {'_account_id': 22348}, {'_account_id': 22818}, {'_account_id': 24575}]","[{'number': 1, 'created': '2017-02-15 03:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/507b35083619e726797b75bc9564e2d4285c5f2d', 'message': 'Fix ""trove module-instances"" command which don\'t work.\n\nThe ""trove module-instances"" command don\'t work.\n\ncat <<EOF>> myping.data\nmessage=Module.V1\nEOF\n\ntrove module-create myping ping myping.data\n\ntrove module-apply \\\n      7d95769f-1912-4e77-8b86-d9a4eb48cd2e \\\n\t  myping\ntrove module-instances myping\nERROR: Module with ID 7d95769f-1912-4e77-8b86-d9a4eb48cd2e could not be found.\n\nChange-Id: I30c2e698bd1ea90cc8fdf0dc5e3a5b087ca2bec2\nCloses-Bug: #1664472\n'}, {'number': 2, 'created': '2017-02-15 03:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/ee9da0f2e5a8ca105dc65338974a2fad0890ecc3', 'message': 'Fix ""trove module-instances"" command which don\'t work.\n\nThe ""trove module-instances"" command don\'t work.\n\ncat <<EOF>> myping.data\nmessage=Module.V1\nEOF\n\ntrove module-create myping ping myping.data\n\ntrove module-apply \\\n      7d95769f-1912-4e77-8b86-d9a4eb48cd2e \\\n\t  myping\ntrove module-instances myping\nERROR: Module with ID 7d95769f-1912-4e77-8b86-d9a4eb48cd2e \\\ncould not be found.\n\nChange-Id: I30c2e698bd1ea90cc8fdf0dc5e3a5b087ca2bec2\nCloses-Bug: #1664472\n'}, {'number': 3, 'created': '2017-02-15 03:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/e053977d6ef80f4fb17fee9cd9dafec70a84de59', 'message': 'Fix ""trove module-instances"" command which don\'t work.\n\nThe ""trove module-instances"" command don\'t work.\n\ncat <<EOF>> myping.data\nmessage=Module.V1\nEOF\n\ntrove module-create myping ping myping.data\n\ntrove module-apply \\\n      7d95769f-1912-4e77-8b86-d9a4eb48cd2e myping\ntrove module-instances myping\nERROR: Module with ID 7d95769f-1912-4e77-8b86-d9a4eb48cd2e \\\ncould not be found.\n\nChange-Id: I30c2e698bd1ea90cc8fdf0dc5e3a5b087ca2bec2\nCloses-Bug: #1664472\n'}, {'number': 4, 'created': '2017-11-06 08:51:52.000000000', 'files': ['troveclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/7e209a4c32a2e7ef9bdea9c72fba60bacd986897', 'message': 'Fix ""trove module-instances"" command which don\'t work.\n\nThe ""trove module-instances"" command don\'t work.\n\ncat <<EOF>> myping.data\nmessage=Module.V1\nEOF\n\ntrove module-create myping ping myping.data\n\ntrove module-apply \\\n      7d95769f-1912-4e77-8b86-d9a4eb48cd2e myping\ntrove module-instances myping\nERROR: Module with ID 7d95769f-1912-4e77-8b86-d9a4eb48cd2e \\\ncould not be found.\n\nChange-Id: I30c2e698bd1ea90cc8fdf0dc5e3a5b087ca2bec2\nCloses-Bug: #1664472\n'}]",0,434049,7e209a4c32a2e7ef9bdea9c72fba60bacd986897,34,7,4,24575,,,0,"Fix ""trove module-instances"" command which don't work.

The ""trove module-instances"" command don't work.

cat <<EOF>> myping.data
message=Module.V1
EOF

trove module-create myping ping myping.data

trove module-apply \
      7d95769f-1912-4e77-8b86-d9a4eb48cd2e myping
trove module-instances myping
ERROR: Module with ID 7d95769f-1912-4e77-8b86-d9a4eb48cd2e \
could not be found.

Change-Id: I30c2e698bd1ea90cc8fdf0dc5e3a5b087ca2bec2
Closes-Bug: #1664472
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/49/434049/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/v1/shell.py'],1,507b35083619e726797b75bc9564e2d4285c5f2d,bug/1664472," if not hasattr(instance, 'region'): setattr(instance, 'region', '')",,2,0
openstack%2Ftrove~master~Ia420aadf987bd63d807ab86a165498838b8408a1,openstack/trove,master,Ia420aadf987bd63d807ab86a165498838b8408a1,Move 'import api' out of module level,ABANDONED,2017-08-10 06:14:29.000000000,2017-11-06 15:25:30.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 16012}, {'_account_id': 22623}]","[{'number': 1, 'created': '2017-08-10 06:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e6a1c7592d866503cd4357f096605c7f06956e99', 'message': ""Move 'import api' out of module level\n\nIn trove-taskmanager/conductor, currently some module level variables[1]\nare initialized via importing modules before initializing oslo_config,\nso some config options[2] are not loaded.\n\nThis patch moves import statements which should not exist in module\nlevel to under startup()/main() method.\n\n[1] For example, trove/common/remote.py:create_nova_client\n[2] For example, [DEFAULT] remote_nova_client\n\nChange-Id: Ia420aadf987bd63d807ab86a165498838b8408a1\nCloses-Bug: #1709783\n""}, {'number': 2, 'created': '2017-08-12 04:55:23.000000000', 'files': ['trove/cmd/taskmanager.py', 'trove/cmd/conductor.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/194e2f48ca03eaf34d4512b01bff3813d76a8012', 'message': ""Move 'import api' out of module level\n\nIn trove-taskmanager/conductor, currently some module level variables[1]\nare initialized via importing modules before initializing oslo_config,\nso some config options[2] are not loaded.\n\nThis patch moves import statements which should not exist in module\nlevel to under startup()/main() method.\n\n[1] For example, trove/common/remote.py:create_nova_client\n[2] For example, [DEFAULT] remote_nova_client\n\nChange-Id: Ia420aadf987bd63d807ab86a165498838b8408a1\nCloses-Bug: #1709783\n""}]",0,492384,194e2f48ca03eaf34d4512b01bff3813d76a8012,11,5,2,16012,,,0,"Move 'import api' out of module level

In trove-taskmanager/conductor, currently some module level variables[1]
are initialized via importing modules before initializing oslo_config,
so some config options[2] are not loaded.

This patch moves import statements which should not exist in module
level to under startup()/main() method.

[1] For example, trove/common/remote.py:create_nova_client
[2] For example, [DEFAULT] remote_nova_client

Change-Id: Ia420aadf987bd63d807ab86a165498838b8408a1
Closes-Bug: #1709783
",git fetch https://review.opendev.org/openstack/trove refs/changes/84/492384/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/cmd/taskmanager.py', 'trove/cmd/conductor.py']",2,e6a1c7592d866503cd4357f096605c7f06956e99,bug/1709783, from trove.conductor import api as conductor_api,from trove.conductor import api as conductor_api,2,2
openstack%2Frally~stable%2F0.10~Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6,openstack/rally,stable/0.10,Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6,Fix showing deployment config in case of old format,MERGED,2017-11-06 12:41:37.000000000,2017-11-06 15:22:11.000000000,2017-11-06 15:22:11.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 12:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/22ca05c37645b7b1d3d11572b1e1cef7aa900991', 'message': 'Fix showing deployment config in case of old format\n\nThe original format of ExistingCloud deployment engine type supports\nonly openstack credentials and there were not key ""creds"". We need to\napply a compatibility workaround to support such deployment configs.\n\nChange-Id: Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6\n(cherry picked from commit 650618a60785d3a0ac908bb16d6f85db855bce65)\n'}, {'number': 2, 'created': '2017-11-06 12:41:47.000000000', 'files': ['rally/api.py', 'tests/unit/test_api.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/042002776ac2ae758c260ac0e87d0f12b750cd1f', 'message': 'Fix showing deployment config in case of old format\n\nThe original format of ExistingCloud deployment engine type supports\nonly openstack credentials and there were not key ""creds"". We need to\napply a compatibility workaround to support such deployment configs.\n\nChange-Id: Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6\n(cherry picked from commit 650618a60785d3a0ac908bb16d6f85db855bce65)\n'}]",0,517982,042002776ac2ae758c260ac0e87d0f12b750cd1f,8,3,2,9545,,,0,"Fix showing deployment config in case of old format

The original format of ExistingCloud deployment engine type supports
only openstack credentials and there were not key ""creds"". We need to
apply a compatibility workaround to support such deployment configs.

Change-Id: Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6
(cherry picked from commit 650618a60785d3a0ac908bb16d6f85db855bce65)
",git fetch https://review.opendev.org/openstack/rally refs/changes/82/517982/2 && git format-patch -1 --stdout FETCH_HEAD,"['rally/api.py', 'tests/unit/test_api.py']",2,22ca05c37645b7b1d3d11572b1e1cef7aa900991,fix_deployment-stable/0.10," origin_config = copy.deepcopy(self.deployment_config) self.assertEqual(origin_config[""creds""], ret[""config""]) @mock.patch(""rally.common.objects.deploy.db.deployment_get"") def test_get_deprecated_formats(self, mock_deployment_get): origin_config = copy.deepcopy(self.deployment_config) self.deployment_config.update( **self.deployment_config.pop(""creds"")[""openstack""]) deployment_id = ""aaaa-bbbb-cccc-dddd"" mock_deployment_get.return_value = self.deployment ret = self.deployment_inst.get(deployment=deployment_id) for key in self.deployment: self.assertIn(key, ret) if key != ""config"": self.assertEqual(self.deployment[key], ret[key]) origin_config.pop(""type"") self.assertEqual(origin_config[""creds""], ret[""config""])"," self.assertEqual(self.deployment_config[""creds""], ret[""config""])",26,1
openstack%2Frally~stable%2F0.10~I2277a80fde7e8a3b1c92c74a37ccdbdb77184086,openstack/rally,stable/0.10,I2277a80fde7e8a3b1c92c74a37ccdbdb77184086,Fix a elasticsearch request's bug,MERGED,2017-11-06 12:41:13.000000000,2017-11-06 15:22:10.000000000,2017-11-06 15:22:10.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-11-06 12:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fcacfd4e8549634ca89f0dbb5a093dd15283d13f', 'message': ""Fix a elasticsearch request's bug\n\nWhen use 5.* elasticsearch, http://locahost:9200/\ncan not send a right request, so we should remove\nthe last '/'\n\nChange-Id: I2277a80fde7e8a3b1c92c74a37ccdbdb77184086\n(cherry picked from commit ee9b5abb0220ba7a9bab9bd8d357e886bbbfe45c)\n""}, {'number': 2, 'created': '2017-11-06 12:41:21.000000000', 'files': ['rally/plugins/common/exporters/elastic/client.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/50bad66211e7250239977b91b264eefadf4d39b6', 'message': ""Fix a elasticsearch request's bug\n\nWhen use 5.* elasticsearch, http://locahost:9200/\ncan not send a right request, so we should remove\nthe last '/'\n\nChange-Id: I2277a80fde7e8a3b1c92c74a37ccdbdb77184086\n(cherry picked from commit ee9b5abb0220ba7a9bab9bd8d357e886bbbfe45c)\n""}]",0,517981,50bad66211e7250239977b91b264eefadf4d39b6,9,4,2,9545,,,0,"Fix a elasticsearch request's bug

When use 5.* elasticsearch, http://locahost:9200/
can not send a right request, so we should remove
the last '/'

Change-Id: I2277a80fde7e8a3b1c92c74a37ccdbdb77184086
(cherry picked from commit ee9b5abb0220ba7a9bab9bd8d357e886bbbfe45c)
",git fetch https://review.opendev.org/openstack/rally refs/changes/81/517981/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/common/exporters/elastic/client.py'],1,fcacfd4e8549634ca89f0dbb5a093dd15283d13f,fix_es-stable/0.10," self._url = url.rstrip(""/"") if url else ""http://localhost:9200"""," self._url = url or ""http://localhost:9200""",1,1
openstack%2Frally~stable%2F0.10~I0a262c5bcab0915dd2b78e6624748a87cee63b50,openstack/rally,stable/0.10,I0a262c5bcab0915dd2b78e6624748a87cee63b50,[cli] Suppress PyMySQL warnings,MERGED,2017-11-01 12:18:37.000000000,2017-11-06 15:20:35.000000000,2017-11-06 15:20:34.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-11-01 12:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ec8b3a6c968e7566b81994d358a42b36eea6832c', 'message': '[cli] Suppress PyMySQL warnings\n\nhttps://bitbucket.org/zzzeek/sqlalchemy/issues/4120/mysql-5720-warns-on-tx_isolation\n\nAlso, this patch includes another fix:\n\n     I1e462a4e081e8fbc49ff4a82dbdaa9a728d301ff\n\nChange-Id: I0a262c5bcab0915dd2b78e6624748a87cee63b50\n'}, {'number': 2, 'created': '2017-11-06 11:26:11.000000000', 'files': ['rally/cli/cliutils.py', 'devstack/features.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/fdaf0b39e04d444ef03ee78a6f1b93fc5d2d74b5', 'message': '[cli] Suppress PyMySQL warnings\n\nhttps://bitbucket.org/zzzeek/sqlalchemy/issues/4120/mysql-5720-warns-on-tx_isolation\n\nAlso, this patch includes another fix:\n\n     I1e462a4e081e8fbc49ff4a82dbdaa9a728d301ff\n\nChange-Id: I0a262c5bcab0915dd2b78e6624748a87cee63b50\n'}]",0,516973,fdaf0b39e04d444ef03ee78a6f1b93fc5d2d74b5,17,4,2,9545,,,0,"[cli] Suppress PyMySQL warnings

https://bitbucket.org/zzzeek/sqlalchemy/issues/4120/mysql-5720-warns-on-tx_isolation

Also, this patch includes another fix:

     I1e462a4e081e8fbc49ff4a82dbdaa9a728d301ff

Change-Id: I0a262c5bcab0915dd2b78e6624748a87cee63b50
",git fetch https://review.opendev.org/openstack/rally refs/changes/73/516973/2 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/cliutils.py', 'devstack/features.yaml']",2,ec8b3a6c968e7566b81994d358a42b36eea6832c,fixinig_0_10_0," ""0.10"": [default, ceilometer, glance, horizon, nova, placement, swift, cinder, keystone] # The value of ""default"" is the name of the ""trunk"" branch allowed: [master, ""0.9"", ""0.10""]"," # The value of """"default"" is the name of the ""trunk"" branch allowed: [master, 0.9]",23,3
openstack%2Fkolla~master~Icc5b8972e7eca01767cdc9321ee82d1fcde187d8,openstack/kolla,master,Icc5b8972e7eca01767cdc9321ee82d1fcde187d8,Fix CentOS 7 fluentd image,MERGED,2017-11-06 10:33:28.000000000,2017-11-06 15:19:47.000000000,2017-11-06 15:18:26.000000000,"[{'_account_id': 7981}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 16312}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2017-11-06 10:33:28.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4731f7a6da5031b8acc2c260427a3ee376cc3b3', 'message': 'Fix CentOS 7 fluentd image\n\nUse specific gem version for the plugins:\n - fluent-plugin-rewrite-tag-filter\n - fluent-plugin-elasticsearch\n\nChange-Id: Icc5b8972e7eca01767cdc9321ee82d1fcde187d8\nCloses-Bug: 1730346\n'}]",0,517907,f4731f7a6da5031b8acc2c260427a3ee376cc3b3,11,8,1,22954,,,0,"Fix CentOS 7 fluentd image

Use specific gem version for the plugins:
 - fluent-plugin-rewrite-tag-filter
 - fluent-plugin-elasticsearch

Change-Id: Icc5b8972e7eca01767cdc9321ee82d1fcde187d8
Closes-Bug: 1730346
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/517907/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,f4731f7a6da5031b8acc2c260427a3ee376cc3b3,bug/1730346, && gem install --minimal-deps activesupport:4.2.9 public_suffix:2.0.5 fluent-plugin-parser fluent-plugin-kubernetes_metadata_filter fluent-plugin-elasticsearch:1.10.2 fluent-plugin-grep fluent-plugin-grok-parser:0.3.1 fluent-plugin-rewrite-tag-filter:1.6.0 fluent-plugin-secure-forward \, && gem install --minimal-deps activesupport:4.2.9 public_suffix:2.0.5 fluent-plugin-parser fluent-plugin-kubernetes_metadata_filter fluent-plugin-elasticsearch fluent-plugin-grep fluent-plugin-grok-parser:0.3.1 fluent-plugin-rewrite-tag-filter fluent-plugin-secure-forward \,1,1
openstack%2Ftripleo-quickstart-extras~master~Ib92222c0688243e8a1d5e685b36ca0dbf8071c08,openstack/tripleo-quickstart-extras,master,Ib92222c0688243e8a1d5e685b36ca0dbf8071c08,Change the default undercloud flavor to large2 in rdocloud.yaml,ABANDONED,2017-10-23 10:21:05.000000000,2017-11-06 15:18:20.000000000,,"[{'_account_id': 9976}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-10-23 10:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8fef52e894c0f90eb3622b0d6d174d6744fa2fe1', 'message': 'Change the default undercloud flavor to xlarge in rdocloud.yaml\n\nThe rdocloud.yaml defines the undercloud flavor to be m1.large, which is\ntoo small for a regular deployment. This changes is to m1.xlarge.\n\nChange-Id: Ib92222c0688243e8a1d5e685b36ca0dbf8071c08\n'}, {'number': 2, 'created': '2017-10-23 10:44:56.000000000', 'files': ['config/environments/rdocloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b125de3fad76fc96d3e68e62586ba875d204ed63', 'message': 'Change the default undercloud flavor to large2 in rdocloud.yaml\n\nThe rdocloud.yaml defines the undercloud flavor to be m1.large, which is\ntoo small for a regular deployment. This changes is to m1.large2, which\nprovides 12G or RAM instead of 8G.\n\nChange-Id: Ib92222c0688243e8a1d5e685b36ca0dbf8071c08\n'}]",0,514228,b125de3fad76fc96d3e68e62586ba875d204ed63,12,5,2,10873,,,0,"Change the default undercloud flavor to large2 in rdocloud.yaml

The rdocloud.yaml defines the undercloud flavor to be m1.large, which is
too small for a regular deployment. This changes is to m1.large2, which
provides 12G or RAM instead of 8G.

Change-Id: Ib92222c0688243e8a1d5e685b36ca0dbf8071c08
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/28/514228/1 && git format-patch -1 --stdout FETCH_HEAD,['config/environments/rdocloud.yml'],1,8fef52e894c0f90eb3622b0d6d174d6744fa2fe1,large2-undercloud,undercloud_flavor: m1.xlarge,undercloud_flavor: m1.large,1,1
openstack%2Fopenstack-ansible-os_swift~stable%2Fpike~I42652318f128120b1ecec4781066c89ee9023636,openstack/openstack-ansible-os_swift,stable/pike,I42652318f128120b1ecec4781066c89ee9023636,Suppress rsync warnings w/command,MERGED,2017-09-06 13:48:36.000000000,2017-11-06 15:16:06.000000000,2017-11-06 15:16:06.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7233}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-06 13:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/b44309f3c8da92f7ce8b929664a5d0068bd3fe7e', 'message': 'Suppress rsync warnings w/command\n\nAnsible throws warnings when we use rsync with the command\nmodule. This patch suppresses those warnings.\n\nChange-Id: I42652318f128120b1ecec4781066c89ee9023636\n(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)\n'}, {'number': 2, 'created': '2017-10-19 18:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/e2b62aa0428413b22aaffc453cde29f3a333120b', 'message': 'Suppress rsync warnings w/command\n\nAnsible throws warnings when we use rsync with the command\nmodule. This patch suppresses those warnings.\n\nChange-Id: I42652318f128120b1ecec4781066c89ee9023636\n(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)\n'}, {'number': 3, 'created': '2017-10-20 17:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/ccb69fde1bebceb97216089d4f3310a5fefd50b5', 'message': 'Suppress rsync warnings w/command\n\nAnsible throws warnings when we use rsync with the command\nmodule. This patch suppresses those warnings.\n\nChange-Id: I42652318f128120b1ecec4781066c89ee9023636\n(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)\n'}, {'number': 4, 'created': '2017-10-23 19:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/20ee5233d74c08322181f737f2f0af3044085800', 'message': 'Suppress rsync warnings w/command\n\nAnsible throws warnings when we use rsync with the command\nmodule. This patch suppresses those warnings.\n\nChange-Id: I42652318f128120b1ecec4781066c89ee9023636\n(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)\n'}, {'number': 5, 'created': '2017-10-24 17:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/a7889497ccadb8df81442ce67bd7c0ce35ea12d5', 'message': 'Suppress rsync warnings w/command\n\nAnsible throws warnings when we use rsync with the command\nmodule. This patch suppresses those warnings.\n\nDepends-On: I3acc4436c8b70af097de188b9de2bb9f4e093a09\nChange-Id: I42652318f128120b1ecec4781066c89ee9023636\n(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)\n'}, {'number': 6, 'created': '2017-11-03 12:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/1fc263db5b8d0b6b595eefc3f5e6f8974d7edff4', 'message': 'Suppress rsync warnings w/command\n\nAnsible throws warnings when we use rsync with the command\nmodule. This patch suppresses those warnings.\n\nDepends-On: I3acc4436c8b70af097de188b9de2bb9f4e093a09\nChange-Id: I42652318f128120b1ecec4781066c89ee9023636\n(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)\n'}, {'number': 7, 'created': '2017-11-06 13:13:56.000000000', 'files': ['tasks/swift_rings_distribute.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/65a330b0bc96fb88b7b34082f40f47e432948f34', 'message': 'Suppress rsync warnings w/command\n\nAnsible throws warnings when we use rsync with the command\nmodule. This patch suppresses those warnings.\n\nDepends-On: I3acc4436c8b70af097de188b9de2bb9f4e093a09\nChange-Id: I42652318f128120b1ecec4781066c89ee9023636\n(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)\n'}]",0,501263,65a330b0bc96fb88b7b34082f40f47e432948f34,102,9,7,538,,,0,"Suppress rsync warnings w/command

Ansible throws warnings when we use rsync with the command
module. This patch suppresses those warnings.

Depends-On: I3acc4436c8b70af097de188b9de2bb9f4e093a09
Change-Id: I42652318f128120b1ecec4781066c89ee9023636
(cherry picked from commit 20801aa010f8914a9399b02508fc56188b111be2)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/63/501263/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/swift_rings_distribute.yml'],1,b44309f3c8da92f7ce8b929664a5d0068bd3fe7e,swift-command-warning, args: warn: no args: warn: no,,4,0
openstack%2Fopenstack-helm~master~I8e4a8d9e1d2098ef074c3d9503c5c81297f513a7,openstack/openstack-helm,master,I8e4a8d9e1d2098ef074c3d9503c5c81297f513a7,Update documentation,MERGED,2017-11-05 23:21:57.000000000,2017-11-06 15:01:17.000000000,2017-11-06 14:26:06.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-05 23:21:57.000000000', 'files': ['test-requirements.txt', 'doc/source/_static/.placeholder', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/470a90f24af9621d68b51fc2a34e6d80129211f5', 'message': 'Update documentation\n\nSince OSH is an official project and the documentation is published\nto docs.o.o, this patch set updates the conf.py to update the theme\nto be inline with other openstack projects.\n\nChange-Id: I8e4a8d9e1d2098ef074c3d9503c5c81297f513a7\n'}]",0,517833,470a90f24af9621d68b51fc2a34e6d80129211f5,10,4,1,20466,,,0,"Update documentation

Since OSH is an official project and the documentation is published
to docs.o.o, this patch set updates the conf.py to update the theme
to be inline with other openstack projects.

Change-Id: I8e4a8d9e1d2098ef074c3d9503c5c81297f513a7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/517833/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/_static/.placeholder', 'doc/source/conf.py']",3,470a90f24af9621d68b51fc2a34e6d80129211f5,fix-doc-pub," 'sphinx.ext.autodoc', 'openstackdocstheme', 'oslosphinx'# If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. show_authors = True # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' html_last_updated_fmt = '%Y-%m-%d %H:%M'# intersphinx_mapping = {'http://docs.python.org/': None}"," 'sphinx.ext.autodoc'on_rtd = os.environ.get('READTHEDOCS', None) == 'True' if not on_rtd: extensions.append('oslosphinx') #intersphinx_mapping = {'http://docs.python.org/': None}",22,7
openstack%2Fpuppet-ceilometer~master~I421a61dc31bd10fec0a10bf7e867001cf4dd3f02,openstack/puppet-ceilometer,master,I421a61dc31bd10fec0a10bf7e867001cf4dd3f02,Add support to set host param,MERGED,2017-10-03 13:44:42.000000000,2017-11-06 14:56:13.000000000,2017-11-03 23:53:18.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 6924}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-10-03 13:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/411dd76662ae2910633457342ea2ac7b69469b51', 'message': 'Add support to set host param\n\nLets epose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 2, 'created': '2017-10-03 14:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/826f258bd50ebe96f12c41d59ea955c0dcf40c17', 'message': 'Add support to set host param\n\nLets epose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 3, 'created': '2017-10-11 13:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/0a65a55ab83fa6780ce6647103271673918962e3', 'message': 'Add support to set host param\n\nLets epose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 4, 'created': '2017-10-13 03:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f85c373180e7622806b1f5c6cfe07feece1ae98a', 'message': 'Add support to set host param\n\nLets epose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 5, 'created': '2017-10-13 03:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/1b649c502e555f72b2ad3a1011ddd24af6e18166', 'message': 'Add support to set host param\n\nLets epose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 6, 'created': '2017-10-13 14:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8c89f229765e61903334482df21dc656ef078476', 'message': 'Add support to set host param\n\nLets expose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 7, 'created': '2017-10-16 16:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f9ce74548fa6265b56dcfa2c545e18ea8d38b9a6', 'message': 'Add support to set host param\n\nLets expose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 8, 'created': '2017-10-23 14:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/aabe9ffb23adc3f2402d12c96b8a6b4fe13e03c5', 'message': 'Add support to set host param\n\nLets expose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}, {'number': 9, 'created': '2017-11-01 20:52:00.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/set-ceilometer-host-1e3d3f9de3642cd0.yaml', 'spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/4a249ae38c62d2670a37990c7cb44abd77ae3aa4', 'message': 'Add support to set host param\n\nLets expose this param so we can override the host param in\nceilometer config. Without this, some metrics from nova wont\nmake it as in some cases the fqdn might not match hostname.\n\nPartial-bug: #1721054\n\nChange-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02\n'}]",0,509180,4a249ae38c62d2670a37990c7cb44abd77ae3aa4,32,7,9,6924,,,0,"Add support to set host param

Lets expose this param so we can override the host param in
ceilometer config. Without this, some metrics from nova wont
make it as in some cases the fqdn might not match hostname.

Partial-bug: #1721054

Change-Id: I421a61dc31bd10fec0a10bf7e867001cf4dd3f02
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/80/509180/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/set-ceilometer-host-1e3d3f9de3642cd0.yaml', 'spec/classes/ceilometer_init_spec.rb']",3,411dd76662ae2910633457342ea2ac7b69469b51,expose-host, :host => 'foo.domain' it 'configures host name' do is_expected.to contain_ceilometer_config('DEFAULT/host').with_value(params[:host]) end ,,18,0
openstack%2Fpuppet-ceilometer~master~I1463bbb34e62c7f4652e160e8beb7139fc7b595e,openstack/puppet-ceilometer,master,I1463bbb34e62c7f4652e160e8beb7139fc7b595e,Include cpu_l3_cache meter in polling,MERGED,2017-10-25 12:19:49.000000000,2017-11-06 14:51:57.000000000,2017-11-06 14:31:11.000000000,"[{'_account_id': 1004}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-25 12:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/faab8880fee8001796be72623c6ff7c0be3a3dfc', 'message': 'Include cpu_l3_cache meter in polling\n\nWe will need this for Cache Monitoring technology feature\nto work out of the box.\n\nChange-Id: I1463bbb34e62c7f4652e160e8beb7139fc7b595e\n'}, {'number': 2, 'created': '2017-11-01 20:52:19.000000000', 'files': ['releasenotes/notes/add-l3-cache-bb9e64e9a9337d6d.yaml', 'templates/polling.yaml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/4d168fb8ef73a96959117eff90e71f2a4983c3d9', 'message': 'Include cpu_l3_cache meter in polling\n\nWe will need this for Cache Monitoring technology feature\nto work out of the box.\n\nChange-Id: I1463bbb34e62c7f4652e160e8beb7139fc7b595e\n'}]",0,515040,4d168fb8ef73a96959117eff90e71f2a4983c3d9,13,4,2,6924,,,0,"Include cpu_l3_cache meter in polling

We will need this for Cache Monitoring technology feature
to work out of the box.

Change-Id: I1463bbb34e62c7f4652e160e8beb7139fc7b595e
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/40/515040/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-l3-cache-bb9e64e9a9337d6d.yaml', 'templates/polling.yaml.erb']",2,faab8880fee8001796be72623c6ff7c0be3a3dfc,add-l3-cache-meter, - cpu_l3_cache,,6,0
openstack%2Fneutron~stable%2Focata~I622993fc273121bfd051d2fd9c7811e2ae49a1d8,openstack/neutron,stable/ocata,I622993fc273121bfd051d2fd9c7811e2ae49a1d8,Fix port deletion when dns_integration is enabled,MERGED,2017-10-27 10:05:29.000000000,2017-11-06 14:50:49.000000000,2017-11-06 14:50:49.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-10-27 10:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab0b76b75f5bd3b808fcc3a40a0485af07e92b57', 'message': 'Fix port deletion when dns_integration is enabled\n\nThe records found in ip_allocations contain objects of type IPAddress,\nbut the external dns service expects them as string, so we need to\ninsert a conversion.\n\nConflicts:\n\tneutron/plugins/ml2/extensions/dns_integration.py\n\nChange-Id: I622993fc273121bfd051d2fd9c7811e2ae49a1d8\nCloses-Bug: 1714641\n(cherry picked from commit 77a596ab7c3f0015f71b4e8a359478141807d11e)\n'}, {'number': 2, 'created': '2017-11-06 11:12:33.000000000', 'files': ['neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'neutron/services/externaldns/drivers/designate/driver.py', 'neutron/plugins/ml2/extensions/dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd9deaf3a14f264df52002eb3f0aee6d232b62de', 'message': 'Fix port deletion when dns_integration is enabled\n\nThe records found in ip_allocations contain objects of type IPAddress,\nbut the external dns service expects them as string, so we need to\ninsert a conversion.\n\nConflicts:\n\tneutron/plugins/ml2/extensions/dns_integration.py\n\nChange-Id: I622993fc273121bfd051d2fd9c7811e2ae49a1d8\nCloses-Bug: 1714641\n(cherry picked from commit 77a596ab7c3f0015f71b4e8a359478141807d11e)\n'}]",0,515668,dd9deaf3a14f264df52002eb3f0aee6d232b62de,25,9,2,23804,,,0,"Fix port deletion when dns_integration is enabled

The records found in ip_allocations contain objects of type IPAddress,
but the external dns service expects them as string, so we need to
insert a conversion.

Conflicts:
	neutron/plugins/ml2/extensions/dns_integration.py

Change-Id: I622993fc273121bfd051d2fd9c7811e2ae49a1d8
Closes-Bug: 1714641
(cherry picked from commit 77a596ab7c3f0015f71b4e8a359478141807d11e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/515668/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'neutron/services/externaldns/drivers/designate/driver.py', 'neutron/plugins/ml2/extensions/dns_integration.py']",3,ab0b76b75f5bd3b808fcc3a40a0485af07e92b57,bug/1714641, records = [str(alloc['ip_address']) for alloc in ip_allocations], records = [alloc['ip_address'] for alloc in ip_allocations],6,6
openstack%2Fvitrage~master~I58c2efac826ffc910d9752182a999f40674fdd32,openstack/vitrage,master,I58c2efac826ffc910d9752182a999f40674fdd32,Updated from global requirements,MERGED,2017-11-03 01:14:15.000000000,2017-11-06 14:34:45.000000000,2017-11-06 14:34:45.000000000,"[{'_account_id': 19184}, {'_account_id': 21414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 01:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/17c29e05b14ddeaa50f8ad6d19d0fd90b0a3cf79', 'message': 'Updated from global requirements\n\nChange-Id: I58c2efac826ffc910d9752182a999f40674fdd32\n'}, {'number': 2, 'created': '2017-11-03 01:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0a918f3e7310e2592202ae66acd45aba642cd55c', 'message': 'Updated from global requirements\n\nChange-Id: I58c2efac826ffc910d9752182a999f40674fdd32\n'}, {'number': 3, 'created': '2017-11-03 14:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a438eb076f162ae3e6260bc0529124102649599b', 'message': 'Updated from global requirements\n\nChange-Id: I58c2efac826ffc910d9752182a999f40674fdd32\n'}, {'number': 4, 'created': '2017-11-03 18:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d251d340de91a1bcad7022ab292b387f6ab46e23', 'message': 'Updated from global requirements\n\nChange-Id: I58c2efac826ffc910d9752182a999f40674fdd32\n'}, {'number': 5, 'created': '2017-11-03 18:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/ca725fac9551f4ac67024d755461087a7b494d62', 'message': 'Updated from global requirements\n\nChange-Id: I58c2efac826ffc910d9752182a999f40674fdd32\n'}, {'number': 6, 'created': '2017-11-06 02:06:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9ecc2563e0f220af9fbb8986bed13208fde0b530', 'message': 'Updated from global requirements\n\nChange-Id: I58c2efac826ffc910d9752182a999f40674fdd32\n'}]",0,517506,9ecc2563e0f220af9fbb8986bed13208fde0b530,15,3,6,11131,,,0,"Updated from global requirements

Change-Id: I58c2efac826ffc910d9752182a999f40674fdd32
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/06/517506/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,17c29e05b14ddeaa50f8ad6d19d0fd90b0a3cf79,openstack/requirements,oslo.context>=2.19.2 # Apache-2.0,"oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",1,1
openstack%2Fvitrage~master~I5fd0639e8f7e3be031ca5ecb729d06a1b44487d2,openstack/vitrage,master,I5fd0639e8f7e3be031ca5ecb729d06a1b44487d2,enable global index,MERGED,2017-11-05 13:13:11.000000000,2017-11-06 14:34:44.000000000,2017-11-06 14:34:44.000000000,"[{'_account_id': 19134}, {'_account_id': 19184}, {'_account_id': 21414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 13:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/1f5453c2a01321f1b015f1f3e09820010a95247a', 'message': 'enable global index for admin\n\nchange the policy.json file to enable\nto see all stacks\n\nChange-Id: I5fd0639e8f7e3be031ca5ecb729d06a1b44487d2\n'}, {'number': 2, 'created': '2017-11-05 14:09:39.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c8e4500fc0518b5ca640d0e3f6875ede73b92502', 'message': 'enable global index\n\nchange the policy.json file to enable\nto see all stacks\n\nChange-Id: I5fd0639e8f7e3be031ca5ecb729d06a1b44487d2\n'}]",0,517822,c8e4500fc0518b5ca640d0e3f6875ede73b92502,11,4,2,19134,,,0,"enable global index

change the policy.json file to enable
to see all stacks

Change-Id: I5fd0639e8f7e3be031ca5ecb729d06a1b44487d2
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/22/517822/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,1f5453c2a01321f1b015f1f3e09820010a95247a,eyalb/devstack,"function modify_heat_global_index_policy_rule { if is_service_enabled heat; then local policy_file=$HEAT_CONF_DIR/policy.json # Allow 'admin' roles to list all stacks sed -i 's/""stacks:global_index"": ""rule:deny_everybody""/""stacks:global_index"": ""role:admin""/' $policy_file fi } # enable global index modify_heat_global_index_policy_rule",,10,0
openstack%2Fnetworking-generic-switch~master~Ic1afe601d88855eeba521bc5bc69eb7da8c37c9c,openstack/networking-generic-switch,master,Ic1afe601d88855eeba521bc5bc69eb7da8c37c9c,TST. DNM.,ABANDONED,2017-11-06 14:27:35.000000000,2017-11-06 14:27:58.000000000,,[],"[{'number': 1, 'created': '2017-11-06 14:27:35.000000000', 'files': ['networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/042d143f1399817b0e4efcb35f06c40a9b6dce3f', 'message': 'TST. DNM.\n\nStatus of CI for pike.\n\nChange-Id: Ic1afe601d88855eeba521bc5bc69eb7da8c37c9c\n'}]",0,517995,042d143f1399817b0e4efcb35f06c40a9b6dce3f,2,0,1,6618,,,0,"TST. DNM.

Status of CI for pike.

Change-Id: Ic1afe601d88855eeba521bc5bc69eb7da8c37c9c
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/95/517995/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_generic_switch/generic_switch_mech.py'],1,042d143f1399817b0e4efcb35f06c40a9b6dce3f,pike,# TST ,,2,0
openstack%2Fnetworking-generic-switch~master~Idb2d2a7dd0c1b78c387ffa2597af4435a9065f37,openstack/networking-generic-switch,master,Idb2d2a7dd0c1b78c387ffa2597af4435a9065f37,TST. Please. Ignore.,ABANDONED,2017-11-06 14:16:18.000000000,2017-11-06 14:24:14.000000000,,[],"[{'number': 1, 'created': '2017-11-06 14:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/18961173f804c225e0382a1ffe3c52544519bd01', 'message': 'TST. Please. Ignore.\n\nGetting an idea of CI for stable/pike.\n\nChange-Id: Idb2d2a7dd0c1b78c387ffa2597af4435a9065f37\n'}, {'number': 2, 'created': '2017-11-06 14:21:27.000000000', 'files': ['networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/3eaafd11f39d0943890cbe7260c2702025301805', 'message': 'TST. Please. Ignore.\n\nGetting an idea of CI for stable/pike.\n\nChange-Id: Idb2d2a7dd0c1b78c387ffa2597af4435a9065f37\n'}]",0,517991,3eaafd11f39d0943890cbe7260c2702025301805,3,0,2,6618,,,0,"TST. Please. Ignore.

Getting an idea of CI for stable/pike.

Change-Id: Idb2d2a7dd0c1b78c387ffa2597af4435a9065f37
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/91/517991/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_generic_switch/generic_switch_mech.py'],1,18961173f804c225e0382a1ffe3c52544519bd01,tst-ci,# TST ,,2,0
openstack%2Fopenstack-ansible-os_glance~stable%2Fnewton~I7d1505dc5a5def3cc07b282273661bd7731e3fca,openstack/openstack-ansible-os_glance,stable/newton,I7d1505dc5a5def3cc07b282273661bd7731e3fca,Used cached git sources and enable depends-on,MERGED,2017-11-03 16:34:21.000000000,2017-11-06 14:21:29.000000000,2017-11-06 14:21:29.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 16:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/e8af2190e90eb5423142ab291d98efbe738fe899', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I7d1505dc5a5def3cc07b282273661bd7731e3fca\nDepends-On: I2144070296ba418b0fd9f9c2c9c3147efb67dde4\n'}, {'number': 2, 'created': '2017-11-03 18:12:44.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/d89b7770947fc13bc50ab4dac2c0a349f9ad345d', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I7d1505dc5a5def3cc07b282273661bd7731e3fca\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517650,d89b7770947fc13bc50ab4dac2c0a349f9ad345d,15,4,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I7d1505dc5a5def3cc07b282273661bd7731e3fca
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/50/517650/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,e8af2190e90eb5423142ab291d98efbe738fe899,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fdevstack-plugin-amqp1~master~I4d08f6e30b542c1943a1c57f058d3695b082a8f0,openstack/devstack-plugin-amqp1,master,I4d08f6e30b542c1943a1c57f058d3695b082a8f0,Move project specific tests in repo,MERGED,2017-11-01 19:30:30.000000000,2017-11-06 14:18:44.000000000,2017-11-06 14:18:44.000000000,"[{'_account_id': 9796}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-01 19:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/3251146aee3ffebcd1d26f9d1f59a83f9ed32324', 'message': 'Move project specific tests in repo\n\nChange-Id: I4d08f6e30b542c1943a1c57f058d3695b082a8f0\n'}, {'number': 2, 'created': '2017-11-01 19:40:43.000000000', 'files': ['playbooks/devstack-plugin-amqp1-tempest-dsvm-full/run.yaml', 'playbooks/devstack-plugin-amqp1-tempest-dsvm-full/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/c17e7e87034e5945e8a35843f190b46d8d294260', 'message': 'Move project specific tests in repo\n\nChange-Id: I4d08f6e30b542c1943a1c57f058d3695b082a8f0\n'}]",0,517092,c17e7e87034e5945e8a35843f190b46d8d294260,9,3,2,8770,,,0,"Move project specific tests in repo

Change-Id: I4d08f6e30b542c1943a1c57f058d3695b082a8f0
",git fetch https://review.opendev.org/openstack/devstack-plugin-amqp1 refs/changes/92/517092/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack-plugin-amqp1-tempest-dsvm-full/run.yaml', 'playbooks/devstack-plugin-amqp1-tempest-dsvm-full/post.yaml', '.zuul.yaml']",3,3251146aee3ffebcd1d26f9d1f59a83f9ed32324,zuulv3-migration,- job: # TODO(kgiusti) this old test can be removed once ocata is no # longer supported At that point we only need the -hybrid and # -dual test cases name: devstack-plugin-amqp1-tempest-dsvm-full parent: legacy-dsvm-base run: playbooks/devstack-plugin-amqp1-tempest-dsvm-full/run.yaml post-run: playbooks/devstack-plugin-amqp1-tempest-dsvm-full/post.yaml timeout: 10800 required-projects: - openstack-infra/devstack-gate - openstack/devstack-plugin-amqp1 - openstack/tempest - project: name: openstack/devstack-plugin-amqp1 check: jobs: - devstack-plugin-amqp1-tempest-dsvm-full voting: false - oslo.messaging-src-dsvm-full-amqp1-hybrid: voting: false branches: ^(?!stable/ocata).*$ - oslo.messaging-src-dsvm-full-amqp1-dual-centos-7: voting: false branches: ^(?!stable/ocata).*$ ,,82,0
openstack%2Ftrove~master~I7b3a8c6b7c0a5b608309f116d0e6f09444a6e3ef,openstack/trove,master,I7b3a8c6b7c0a5b608309f116d0e6f09444a6e3ef,Remove unused variable,NEW,2017-03-01 09:44:59.000000000,2017-11-06 14:17:27.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 18603}, {'_account_id': 20378}]","[{'number': 1, 'created': '2017-03-01 09:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b3369d83f508492396aa4b56dcf71bcf4e3834b3', 'message': 'Remove unused parameter\n\nTrivialFix\n\nChange-Id: I7b3a8c6b7c0a5b608309f116d0e6f09444a6e3ef\n'}, {'number': 2, 'created': '2017-03-01 10:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/187142c0dc7ebab1a9930ab2e6af80a423c6ec8d', 'message': 'Remove unused variable\n\nTrivialFix\n\nChange-Id: I7b3a8c6b7c0a5b608309f116d0e6f09444a6e3ef\n'}, {'number': 3, 'created': '2017-03-22 15:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/dadd1b8b760b32e2b2ecf590b9e17192a2302d68', 'message': 'Remove unused variable\n\nInstead of items() use the values() method if the key value is not used.\n\nChange-Id: I7b3a8c6b7c0a5b608309f116d0e6f09444a6e3ef\n'}, {'number': 4, 'created': '2017-08-21 08:31:04.000000000', 'files': ['trove/common/extensions.py', 'trove/guestagent/datastore/experimental/db2/service.py', 'trove/versions.py', 'trove/guestagent/datastore/experimental/vertica/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/4b63870ecdb22398d79369c10350d53fc31e6196', 'message': 'Remove unused variable\n\nInstead of items() use the values() or keys() methods if the key or the value is not used.\n\nChange-Id: I7b3a8c6b7c0a5b608309f116d0e6f09444a6e3ef\n'}]",0,439497,4b63870ecdb22398d79369c10350d53fc31e6196,21,5,4,18603,,,0,"Remove unused variable

Instead of items() use the values() or keys() methods if the key or the value is not used.

Change-Id: I7b3a8c6b7c0a5b608309f116d0e6f09444a6e3ef
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/439497/4 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/extensions.py', 'trove/versions.py']",2,b3369d83f508492396aa4b56dcf71bcf4e3834b3,, for data in VERSIONS.values():," for key, data in VERSIONS.items():",5,5
openstack%2Fopenstack-ansible-os_ironic~stable%2Fnewton~I1e6432d31f9fcb2095ba857fa0f5e64647c35721,openstack/openstack-ansible-os_ironic,stable/newton,I1e6432d31f9fcb2095ba857fa0f5e64647c35721,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:30:55.000000000,2017-11-06 14:09:32.000000000,2017-11-06 14:09:32.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/a91d3ca5335342a052d07a241940f56453df46fc', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I1e6432d31f9fcb2095ba857fa0f5e64647c35721\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 19:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/a511ac2844653d515beec133b81ffa3be03b3b61', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I1e6432d31f9fcb2095ba857fa0f5e64647c35721\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 3, 'created': '2017-11-03 19:35:22.000000000', 'files': ['run_tests.sh', 'tests/ansible-role-requirements.yml', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/98adf3906bb7f5a5288346ec4e310a271624f4da', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I1e6432d31f9fcb2095ba857fa0f5e64647c35721\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517689,98adf3906bb7f5a5288346ec4e310a271624f4da,11,3,3,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I1e6432d31f9fcb2095ba857fa0f5e64647c35721
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/89/517689/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,a91d3ca5335342a052d07a241940f56453df46fc,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-manuals~master~I001e6048afa35229ce092065286af5c52f83387d,openstack/openstack-manuals,master,I001e6048afa35229ce092065286af5c52f83387d,Fix the redirect loop on /project-deploy-guide/,ABANDONED,2017-10-27 17:28:15.000000000,2017-11-06 14:03:40.000000000,,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 17:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/efca8e25693b131c1d5e7c38aeed91c2a304b2b3', 'message': 'Fix the redirect loop on /project-deploy-guide/\n\nChange-Id: I001e6048afa35229ce092065286af5c52f83387d\nRelated-Bug: #1727791\nRelated-Bug: #1727779\n'}, {'number': 2, 'created': '2017-10-27 17:30:20.000000000', 'files': ['www/pike/deploy/index.html', 'www/queens/deploy/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e63a3499989810466a0e2e40782bb8ee8c5914ae', 'message': 'Fix the redirect loop on /project-deploy-guide/\n\nDepends-On: Ibffe760b00d744ec2c5326b2dce3e84632816e5a\nChange-Id: I001e6048afa35229ce092065286af5c52f83387d\nRelated-Bug: #1727791\nRelated-Bug: #1727779\n'}]",0,515789,e63a3499989810466a0e2e40782bb8ee8c5914ae,7,4,2,19779,,,0,"Fix the redirect loop on /project-deploy-guide/

Depends-On: Ibffe760b00d744ec2c5326b2dce3e84632816e5a
Change-Id: I001e6048afa35229ce092065286af5c52f83387d
Related-Bug: #1727791
Related-Bug: #1727779
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/89/515789/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/pike/deploy/index.html', 'www/queens/deploy/index.html']",2,efca8e25693b131c1d5e7c38aeed91c2a304b2b3,bug/1727791," <p><a href=""/project-deploy-guide/{{project.name}}/{{SERIES}}/deploy/"">"," <p><a href=""/project-deploy-guide/{{project.name}}/{{SERIES}}/"">",2,2
openstack%2Fopenstack-zuul-jobs~master~I3b6a37d07ab80daa615f2a6f9e6bc1b4b10c92b3,openstack/openstack-zuul-jobs,master,I3b6a37d07ab80daa615f2a6f9e6bc1b4b10c92b3,Remove unused helm-infra jobs,MERGED,2017-11-03 11:36:00.000000000,2017-11-06 13:37:19.000000000,2017-11-06 13:37:19.000000000,"[{'_account_id': 6133}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 11:36:00.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-centos-7/post.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-fedora-26/run.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-centos-7/run.yaml', 'playbooks/legacy/openstack-helm-infra-nocluster-linter-ovs-rbd/post.yaml', 'playbooks/legacy/openstack-helm-infra-nocluster-linter-ovs-rbd/run.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-fedora-26/post.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd/post.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/69dedca573957a9bb33de88f1eb1a23df15bfb6d', 'message': 'Remove unused helm-infra jobs\n\nThese have been removed in I0a1a63d0615275cf6bb78a1b5f8fb8f380b411c5,\nremove them here as well since they are in-repo now.\n\nChange-Id: I3b6a37d07ab80daa615f2a6f9e6bc1b4b10c92b3\n'}]",0,517608,69dedca573957a9bb33de88f1eb1a23df15bfb6d,8,3,1,6547,,,0,"Remove unused helm-infra jobs

These have been removed in I0a1a63d0615275cf6bb78a1b5f8fb8f380b411c5,
remove them here as well since they are in-repo now.

Change-Id: I3b6a37d07ab80daa615f2a6f9e6bc1b4b10c92b3
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/517608/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-centos-7/post.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-fedora-26/run.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-centos-7/run.yaml', 'playbooks/legacy/openstack-helm-infra-nocluster-linter-ovs-rbd/post.yaml', 'playbooks/legacy/openstack-helm-infra-nocluster-linter-ovs-rbd/run.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd-fedora-26/post.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd/post.yaml', 'playbooks/legacy/openstack-helm-infra-aio-basic-ovs-rbd/run.yaml']",9,69dedca573957a9bb33de88f1eb1a23df15bfb6d,zuulv3-jobs,,"- hosts: all name: Autoconverted job legacy-openstack-helm-infra-aio-basic-ovs-rbd from old job gate-openstack-helm-infra-aio-basic-ovs-rbd-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x CLONEMAP=`mktemp` function cleanup { # In cases where zuul-cloner is aborted during a git # clone operation, git will remove the git work tree in # its cleanup. The work tree in these jobs is the # workspace directory, which means that subsequent # jenkins post-build actions can not run because the # workspace has been removed. # To reduce the likelihood of this having an impact, # recreate the workspace directory if needed mkdir -p $WORKSPACE rm -f $CLONEMAP } trap cleanup EXIT cat > $CLONEMAP << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF /usr/zuul-env/bin/zuul-cloner -m $CLONEMAP --cache-dir /opt/git \ git://git.openstack.org $ZUUL_PROJECT executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: /usr/local/jenkins/slave_scripts/install-distro-packages.sh chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export INTEGRATION=aio export INTEGRATION_TYPE=basic export SUB=-infra export SDN_PLUGIN=ovs export GLANCE=rbd export GATE_ENVIRONMENT=zuul TOOLKIT_TMP=$HOME/infra mkdir -p $TOOLKIT_TMP if [ ""$SUB"" != ""-infra"" ] ; then /usr/zuul-env/bin/zuul-cloner \ --cache-dir /opt/git \ --workspace $TOOLKIT_TMP \ git://git.openstack.org \ openstack/openstack-helm-infra fi tools/gate/setup_gate.sh ubuntu-xenial executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,370
openstack%2Fopenstack-zuul-jobs~master~I8d5a3471e7c6171848bddc9e35c0c63283d175a0,openstack/openstack-zuul-jobs,master,I8d5a3471e7c6171848bddc9e35c0c63283d175a0,Remove unused jobs,MERGED,2017-11-03 11:38:30.000000000,2017-11-06 13:37:18.000000000,2017-11-06 13:37:18.000000000,"[{'_account_id': 6133}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 11:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2b3980305173e6d1d7adc3d63ea276f97e1dde63', 'message': 'Remove obsolete legacy-pypi-both-upload\n\nThis job is not used anymore and has been migrated to native v3, remove\nit.\n\nChange-Id: I8d5a3471e7c6171848bddc9e35c0c63283d175a0\n'}, {'number': 2, 'created': '2017-11-03 18:30:15.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/pypi-both-upload/run.yaml', 'playbooks/legacy/rally-dsvm-fakevirt-ceilometer/run.yaml', 'playbooks/legacy/rally-dsvm-senlin-senlin/post.yaml', 'playbooks/legacy/puppet-syntax-3-centos-7/run.yaml', 'playbooks/legacy/rally-dsvm-fakevirt-ceilometer/post.yaml', 'playbooks/legacy/rally-dsvm-senlin-senlin/run.yaml', 'playbooks/legacy/ansible-func-ubuntu-trusty/post.yaml', 'playbooks/legacy/ansible-func-ubuntu-trusty/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e8f2b85d307dec23d71aa4623476e87c6aeecaf8', 'message': 'Remove unused jobs\n\nThe jobs legacy-ansible-func-ubuntu-trusty,\nlegacy-puppet-syntax-3-centos-7, legacy-rally-dsvm-fakevirt-ceilometer,\nlegacy-rally-dsvm-senlin-senlin, legacy-pypi-both-upload\nare unused, remove them.\n\nChange-Id: I8d5a3471e7c6171848bddc9e35c0c63283d175a0\n'}]",0,517609,e8f2b85d307dec23d71aa4623476e87c6aeecaf8,9,3,2,6547,,,0,"Remove unused jobs

The jobs legacy-ansible-func-ubuntu-trusty,
legacy-puppet-syntax-3-centos-7, legacy-rally-dsvm-fakevirt-ceilometer,
legacy-rally-dsvm-senlin-senlin, legacy-pypi-both-upload
are unused, remove them.

Change-Id: I8d5a3471e7c6171848bddc9e35c0c63283d175a0
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/09/517609/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/pypi-both-upload/run.yaml']",2,2b3980305173e6d1d7adc3d63ea276f97e1dde63,zuulv3-jobs,,"- hosts: all name: Autoconverted job legacy-pypi-both-upload from old job {name}-pypi-both-upload tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -x sudo rm -f /etc/sudoers.d/zuul # Prove that general sudo access is actually revoked ! sudo -n true executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x CLONEMAP=`mktemp` function cleanup { # In cases where zuul-cloner is aborted during a git # clone operation, git will remove the git work tree in # its cleanup. The work tree in these jobs is the # workspace directory, which means that subsequent # jenkins post-build actions can not run because the # workspace has been removed. # To reduce the likelihood of this having an impact, # recreate the workspace directory if needed mkdir -p $WORKSPACE rm -f $CLONEMAP } trap cleanup EXIT cat > $CLONEMAP << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF /usr/zuul-env/bin/zuul-cloner -m $CLONEMAP --cache-dir /opt/git \ git://git.openstack.org $ZUUL_PROJECT executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | # Note we upload the wheel first because pip prefers wheels # and there is a mirroring issue where sometimes the first # artifact uploaded is the only one you get. Since pip prefers # wheels it is best to make the wheel the one we get. /usr/local/jenkins/slave_scripts/pypi-wheel-upload.sh $ZUUL_SHORT_PROJECT_NAME tarballs.openstack.org /usr/local/jenkins/slave_scripts/pypi-tarball-upload.sh $ZUUL_SHORT_PROJECT_NAME tarballs.openstack.org chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,66
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fnewton~I591609ff9403d32cc180d594629216df82885f9e,openstack/openstack-ansible-lxc_container_create,stable/newton,I591609ff9403d32cc180d594629216df82885f9e,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:29:13.000000000,2017-11-06 13:32:42.000000000,2017-11-06 13:32:42.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:29:13.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/aac9135f6f1211d6c2083721ff5c08bdd2f2a30b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I591609ff9403d32cc180d594629216df82885f9e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517678,aac9135f6f1211d6c2083721ff5c08bdd2f2a30b,12,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I591609ff9403d32cc180d594629216df82885f9e
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/78/517678/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,aac9135f6f1211d6c2083721ff5c08bdd2f2a30b,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-os_neutron~stable%2Fnewton~Id86b2848125de1261f7bcbe39bee4674f32c3861,openstack/openstack-ansible-os_neutron,stable/newton,Id86b2848125de1261f7bcbe39bee4674f32c3861,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:31:29.000000000,2017-11-06 13:29:38.000000000,2017-11-06 13:29:38.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/892daa86d0b8e8918611f14082d0b3a4e0181bea', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id86b2848125de1261f7bcbe39bee4674f32c3861\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 18:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/47f5609c271f704ea3757620a01dc0da2d7c375e', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id86b2848125de1261f7bcbe39bee4674f32c3861\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 3, 'created': '2017-11-03 18:58:20.000000000', 'files': ['tests/test-calico-functional.yml', 'run_tests.sh', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml', 'tests/calico_inventory', 'tox.ini', 'zuul.d/jobs.yaml', 'tests/neutron-overrides-calico.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8e99f4b49687bc3003ec6ffb8d3facb6e0a81047', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nThe jobs are adjusted to match those present in the\nlast jobrun by jenkins as shown in:\nhttps://review.openstack.org/511309\n\nChange-Id: Id86b2848125de1261f7bcbe39bee4674f32c3861\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517692,8e99f4b49687bc3003ec6ffb8d3facb6e0a81047,11,4,3,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

The jobs are adjusted to match those present in the
last jobrun by jenkins as shown in:
https://review.openstack.org/511309

Change-Id: Id86b2848125de1261f7bcbe39bee4674f32c3861
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/92/517692/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,892daa86d0b8e8918611f14082d0b3a4e0181bea,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," ANSIBLE_INVENTORY={toxinidir}/tests/lxb_inventory[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:func_ovs] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_INVENTORY={toxinidir}/tests/ovs_inventory ANSIBLE_OVERRIDES={toxinidir}/tests/neutron-overrides-ovs.yml commands = {[testenv:tests_clone]commands} bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:calico] deps = {[testenv:ansible]deps} setenv = {[testenv]setenv} ANSIBLE_INVENTORY={toxinidir}/tests/calico_inventory ANSIBLE_OVERRIDES={toxinidir}/tests/neutron-overrides-calico.yml commands = {[testenv:tests_clone]commands}",128,56
openstack%2Fansible-hardening~master~I9ac64d7995223a20b956d0a1b83bd1a60e556c03,openstack/ansible-hardening,master,I9ac64d7995223a20b956d0a1b83bd1a60e556c03,Make check of package checksums configurable,MERGED,2017-10-27 07:58:09.000000000,2017-11-06 13:16:55.000000000,2017-11-06 13:16:55.000000000,"[{'_account_id': 167}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 07:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/099461607a5a810b5179782dd87161889a322aad', 'message': 'Make debsums check configurable\n\nChange-Id: I9ac64d7995223a20b956d0a1b83bd1a60e556c03\n'}, {'number': 2, 'created': '2017-11-02 07:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/093f86e2a82d18d53c2345811f3c6f456cf9d7b1', 'message': 'Make debsums check configurable\n\nChange-Id: I9ac64d7995223a20b956d0a1b83bd1a60e556c03\n'}, {'number': 3, 'created': '2017-11-02 08:01:55.000000000', 'files': ['releasenotes/notes/disable-check-of-package-checksums-by-default-3543840512c348d6.yaml', 'doc/metadata/rhel7/V-71855.rst', 'tasks/rhel7stig/zypper.yml', 'tasks/rhel7stig/rpm.yml', 'tasks/rhel7stig/apt.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/baa5db7768a284590d691b876f0c69e7650be70c', 'message': 'Make check of package checksums configurable\n\nChange-Id: I9ac64d7995223a20b956d0a1b83bd1a60e556c03\n'}]",0,515634,baa5db7768a284590d691b876f0c69e7650be70c,13,4,3,167,,,0,"Make check of package checksums configurable

Change-Id: I9ac64d7995223a20b956d0a1b83bd1a60e556c03
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/34/515634/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rhel7stig/apt.yml', 'defaults/main.yml']",2,099461607a5a810b5179782dd87161889a322aad,check-debsums,## DEB (apt) security_check_debsums: yes # V-71855 ,,8,0
openstack%2Fcharm-nova-cloud-controller~master~I6d7dac4f900f133a4d1ac64e431ffcb6b2cfd58e,openstack/charm-nova-cloud-controller,master,I6d7dac4f900f133a4d1ac64e431ffcb6b2cfd58e,Fix unit tests missing mocks,MERGED,2017-11-06 12:31:53.000000000,2017-11-06 13:04:42.000000000,2017-11-06 13:04:42.000000000,"[{'_account_id': 6737}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 12:31:53.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f42591849d709e8f1eb66f66529a15d6fccad72c', 'message': 'Fix unit tests missing mocks\n\nRunning the current unit tests you keep getting prompted\nfor root password because of a load of missing mocks.\nThis patch mocks out functions that there left unmocked\nin unit tests that were not actually testing them.\n\nChange-Id: I6d7dac4f900f133a4d1ac64e431ffcb6b2cfd58e\n'}]",0,517975,f42591849d709e8f1eb66f66529a15d6fccad72c,6,2,1,6737,,,0,"Fix unit tests missing mocks

Running the current unit tests you keep getting prompted
for root password because of a load of missing mocks.
This patch mocks out functions that there left unmocked
in unit tests that were not actually testing them.

Change-Id: I6d7dac4f900f133a4d1ac64e431ffcb6b2cfd58e
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/75/517975/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_nova_cc_hooks.py'],1,f42591849d709e8f1eb66f66529a15d6fccad72c,fixunittests," @patch.object(hooks, 'update_aws_compat_services') @patch.object(hooks, 'update_nova_consoleauth_config') mock_is_db_initialised, mock_update_nova_consoleauth_config, mock_update_aws_compat_services): self.assertTrue(mock_update_nova_consoleauth_config.called) self.assertTrue(mock_update_aws_compat_services.called) @patch.object(hooks, 'update_aws_compat_services') @patch.object(hooks, 'update_nova_consoleauth_config') mock_is_db_initialised, mock_update_nova_consoleauth_config, mock_update_aws_compat_services): self.assertTrue(mock_update_nova_consoleauth_config.called) self.assertTrue(mock_update_aws_compat_services.called) @patch.object(hooks, 'update_aws_compat_services') @patch.object(hooks, 'update_nova_consoleauth_config') mock_is_db_initialised, mock_update_nova_consoleauth_config, mock_update_aws_compat_services): self.assertTrue(mock_update_nova_consoleauth_config.called) self.assertTrue(mock_update_aws_compat_services.called) @patch.object(hooks, 'update_aws_compat_services') @patch.object(hooks, 'update_nova_consoleauth_config') mock_is_db_initialised, mock_update_nova_consoleauth_config, mock_update_aws_compat_services): self.assertTrue(mock_update_nova_consoleauth_config.called) self.assertTrue(mock_update_aws_compat_services.called) @patch.object(hooks, 'update_aws_compat_services') mock_is_db_initialised, mock_update_aws_compat_svcs): self.assertTrue(mock_update_aws_compat_svcs.called) ", mock_is_db_initialised): mock_is_db_initialised): mock_is_db_initialised): mock_is_db_initialised): mock_is_db_initialised):,33,5
openstack%2Fansible-hardening~stable%2Fnewton~I451c9282408bf999a573064f6e5a43b2ab6da765,openstack/ansible-hardening,stable/newton,I451c9282408bf999a573064f6e5a43b2ab6da765,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:28:20.000000000,2017-11-06 13:02:12.000000000,2017-11-06 13:02:11.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/7127dc5e554a13f29904a86ab4aca7fa06162f7c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I451c9282408bf999a573064f6e5a43b2ab6da765\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 18:31:13.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/f5772972c642341fe6aa0803fc6724db9fc3b61b', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I451c9282408bf999a573064f6e5a43b2ab6da765\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517671,f5772972c642341fe6aa0803fc6724db9fc3b61b,10,4,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I451c9282408bf999a573064f6e5a43b2ab6da765
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/71/517671/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,7127dc5e554a13f29904a86ab4aca7fa06162f7c,zuul-git-sources-newton," ROLE_NAME= TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," ROLE_NAME=ansible-hardening TEST_CHECK_MODE=true TEST_IDEMPOTENCE=trueallow-long-titles=1[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}setenv = {[testenv]setenv} # NOTE(odyssey4me): We have to skip V-38462 as openstack-infra are now # building images with apt config # Apt::Get::AllowUnauthenticated set to true. # NOTE(mhayden): Skipping V-38660 since openstack-infra has SNMP v1/2 in # the images. This can be added back in once # https://review.openstack.org/354819 merges. # NOTE(mhayden): Skipping V-38620 since chrony cannot start with ntpd # running in the gate images. ANSIBLE_PARAMETERS=--skip-tags V-38462,V-38660 -e security_enable_chrony=no {[testenv:tests_clone]commands}",130,46
openstack%2Fopenstack-ansible-repo_server~stable%2Fnewton~I2e013f7cdef93bd4f36fabf8d2d73d9431747d95,openstack/openstack-ansible-repo_server,stable/newton,I2e013f7cdef93bd4f36fabf8d2d73d9431747d95,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:32:59.000000000,2017-11-06 13:00:45.000000000,2017-11-06 13:00:45.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:32:59.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/f4822472e2bfe4ce282064bae5d1d213a10f8ef1', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2e013f7cdef93bd4f36fabf8d2d73d9431747d95\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517702,f4822472e2bfe4ce282064bae5d1d213a10f8ef1,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I2e013f7cdef93bd4f36fabf8d2d73d9431747d95
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/02/517702/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,f4822472e2bfe4ce282064bae5d1d213a10f8ef1,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fnewton~I394b9d9f806b500e4d7cec1bcc25a691ae52b594,openstack/openstack-ansible-lxc_hosts,stable/newton,I394b9d9f806b500e4d7cec1bcc25a691ae52b594,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:29:23.000000000,2017-11-06 12:59:56.000000000,2017-11-06 12:59:56.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:29:23.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/987ea87a267063cb32270a442802f1033d6eecbc', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I394b9d9f806b500e4d7cec1bcc25a691ae52b594\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517679,987ea87a267063cb32270a442802f1033d6eecbc,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I394b9d9f806b500e4d7cec1bcc25a691ae52b594
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/79/517679/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,987ea87a267063cb32270a442802f1033d6eecbc,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Fnewton~I820511bafda6a193d0452d306067f03f1a32400f,openstack/openstack-ansible-rsyslog_server,stable/newton,I820511bafda6a193d0452d306067f03f1a32400f,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:33:15.000000000,2017-11-06 12:58:30.000000000,2017-11-06 12:58:30.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:33:15.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/4e0bf2b0e234baa210f04b524bfb54e29b2f7e3d', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I820511bafda6a193d0452d306067f03f1a32400f\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517704,4e0bf2b0e234baa210f04b524bfb54e29b2f7e3d,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I820511bafda6a193d0452d306067f03f1a32400f
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/04/517704/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,4e0bf2b0e234baa210f04b524bfb54e29b2f7e3d,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-plugins~stable%2Fnewton~Id8a58b9457c46b5146bb820c288883927449c3ef,openstack/openstack-ansible-plugins,stable/newton,Id8a58b9457c46b5146bb820c288883927449c3ef,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:32:35.000000000,2017-11-06 12:58:04.000000000,2017-11-06 12:58:03.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-03 18:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/77cfe420728adf2584748d712f552d61e7c20e21', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id8a58b9457c46b5146bb820c288883927449c3ef\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 18:38:20.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/78a0a2e53c910935b1be20dcf9b49069bf83e0da', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id8a58b9457c46b5146bb820c288883927449c3ef\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517699,78a0a2e53c910935b1be20dcf9b49069bf83e0da,10,5,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Id8a58b9457c46b5146bb820c288883927449c3ef
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/99/517699/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,77cfe420728adf2584748d712f552d61e7c20e21,zuul-git-sources-newton," ROLE_NAME=plugins bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," ANSIBLE_ACTION_PLUGINS={toxinidir}/action ANSIBLE_CALLBACK_PLUGINS={toxinidir}/callback ANSIBLE_CONNECTION_PLUGINS={toxinidir}/connection ANSIBLE_FILTER_PLUGINS={toxinidir}/filter ANSIBLE_LOOKUP_PLUGINS={toxinidir}/lookup ANSIBLE_STRATEGY_PLUGINS={toxinidir}/strategy ANSIBLE_LIBRARY={toxinidir}/library[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",129,38
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fnewton~Ic90ee7aa774c813bf9414ebd563e04c222548eeb,openstack/openstack-ansible-rsyslog_client,stable/newton,Ic90ee7aa774c813bf9414ebd563e04c222548eeb,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:33:07.000000000,2017-11-06 12:56:47.000000000,2017-11-06 12:56:47.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:33:07.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/a6ad2517772e0319c8a6fa7251d742c352eb166c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ic90ee7aa774c813bf9414ebd563e04c222548eeb\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517703,a6ad2517772e0319c8a6fa7251d742c352eb166c,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Ic90ee7aa774c813bf9414ebd563e04c222548eeb
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/03/517703/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,a6ad2517772e0319c8a6fa7251d742c352eb166c,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Fnewton~Id463084683ffb6413434b3f5f61645066c9f6342,openstack/openstack-ansible-apt_package_pinning,stable/newton,Id463084683ffb6413434b3f5f61645066c9f6342,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:28:28.000000000,2017-11-06 12:56:40.000000000,2017-11-06 12:56:40.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/5f1e71d1b6b9844ddb61fe96621ea3e78feb233a', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id463084683ffb6413434b3f5f61645066c9f6342\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 18:29:45.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/f810507d0432942f3aba601a9b398dca11f86f18', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id463084683ffb6413434b3f5f61645066c9f6342\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517672,f810507d0432942f3aba601a9b398dca11f86f18,9,4,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Id463084683ffb6413434b3f5f61645066c9f6342
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/72/517672/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,5f1e71d1b6b9844ddb61fe96621ea3e78feb233a,zuul-git-sources-newton," TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," TEST_IDEMPOTENCE=true[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",129,32
openstack%2Fopenstack-ansible-pip_install~stable%2Fnewton~I250f39505831b7eb1269dfb8e54cc3186581e719,openstack/openstack-ansible-pip_install,stable/newton,I250f39505831b7eb1269dfb8e54cc3186581e719,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:32:26.000000000,2017-11-06 12:56:23.000000000,2017-11-06 12:56:23.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-03 18:32:26.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/6a1aa684ed9ccc514989f278b05d11f4ec3a2fd3', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I250f39505831b7eb1269dfb8e54cc3186581e719\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517698,6a1aa684ed9ccc514989f278b05d11f4ec3a2fd3,9,5,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I250f39505831b7eb1269dfb8e54cc3186581e719
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/98/517698/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,6a1aa684ed9ccc514989f278b05d11f4ec3a2fd3,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",127,31
openstack%2Fopenstack-ansible-ceph_client~stable%2Fnewton~Id8d513e191aeb11a61be1b124ee58bf4eabef17e,openstack/openstack-ansible-ceph_client,stable/newton,Id8d513e191aeb11a61be1b124ee58bf4eabef17e,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:28:36.000000000,2017-11-06 12:56:09.000000000,2017-11-06 12:56:09.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:28:36.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/fb8b357a0ca29d241d6d14a8dcc64707eeba55d4', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Id8d513e191aeb11a61be1b124ee58bf4eabef17e\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517673,fb8b357a0ca29d241d6d14a8dcc64707eeba55d4,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Id8d513e191aeb11a61be1b124ee58bf4eabef17e
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/73/517673/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,fb8b357a0ca29d241d6d14a8dcc64707eeba55d4,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-memcached_server~stable%2Fnewton~I05af3634118ca98784c6fda5dba56ed8755ea79f,openstack/openstack-ansible-memcached_server,stable/newton,I05af3634118ca98784c6fda5dba56ed8755ea79f,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:29:31.000000000,2017-11-06 12:56:06.000000000,2017-11-06 12:56:06.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:29:31.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/9e5e63a383843612dd1a434a4b9aa2235dca5766', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I05af3634118ca98784c6fda5dba56ed8755ea79f\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517680,9e5e63a383843612dd1a434a4b9aa2235dca5766,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I05af3634118ca98784c6fda5dba56ed8755ea79f
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/80/517680/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,9e5e63a383843612dd1a434a4b9aa2235dca5766,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fnewton~I490e3c6273b9887dd174b9726f6c2653713af86d,openstack/openstack-ansible-openstack_hosts,stable/newton,I490e3c6273b9887dd174b9726f6c2653713af86d,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:29:39.000000000,2017-11-06 12:55:50.000000000,2017-11-06 12:55:50.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:29:39.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/45c5797dc0b25858381a73a62cb49d0d1530d298', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I490e3c6273b9887dd174b9726f6c2653713af86d\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517681,45c5797dc0b25858381a73a62cb49d0d1530d298,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I490e3c6273b9887dd174b9726f6c2653713af86d
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/81/517681/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,45c5797dc0b25858381a73a62cb49d0d1530d298,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-galera_client~stable%2Fnewton~Ief866064f7bd270a542d67dbd6cd2a7dd2dc5f97,openstack/openstack-ansible-galera_client,stable/newton,Ief866064f7bd270a542d67dbd6cd2a7dd2dc5f97,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:28:44.000000000,2017-11-06 12:55:21.000000000,2017-11-06 12:55:20.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:28:44.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/ebe28e793505b397db398b3f90e4121fd1186fe8', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: Ief866064f7bd270a542d67dbd6cd2a7dd2dc5f97\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517674,ebe28e793505b397db398b3f90e4121fd1186fe8,8,4,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: Ief866064f7bd270a542d67dbd6cd2a7dd2dc5f97
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/74/517674/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,ebe28e793505b397db398b3f90e4121fd1186fe8,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",128,31
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fnewton~I2f31fb481e16d2e133d9e14a503c4e7a80fb1ae2,openstack/openstack-ansible-haproxy_server,stable/newton,I2f31fb481e16d2e133d9e14a503c4e7a80fb1ae2,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:29:01.000000000,2017-11-06 12:54:15.000000000,2017-11-06 12:54:15.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/8cd0a991f5394c83e83167d65d4f03501973c099', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2f31fb481e16d2e133d9e14a503c4e7a80fb1ae2\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}, {'number': 2, 'created': '2017-11-03 18:35:17.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/79151d4187b55ec066e43c5be115ff9726ad772c', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I2f31fb481e16d2e133d9e14a503c4e7a80fb1ae2\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517676,79151d4187b55ec066e43c5be115ff9726ad772c,9,4,2,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I2f31fb481e16d2e133d9e14a503c4e7a80fb1ae2
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/76/517676/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,8cd0a991f5394c83e83167d65d4f03501973c099,zuul-git-sources-newton," TEST_IDEMPOTENCE=false bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"""," TEST_IDEMPOTENCE=true[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",129,32
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fnewton~I309a1f1356192a031504e10cb7550e3fcd8592f0,openstack/openstack-ansible-os_ceilometer,stable/newton,I309a1f1356192a031504e10cb7550e3fcd8592f0,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:30:20.000000000,2017-11-06 12:51:44.000000000,2017-11-06 12:51:44.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-03 18:30:20.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/40fcd7516a421adb63c9c47cecc7a4536fe68c38', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nChange-Id: I309a1f1356192a031504e10cb7550e3fcd8592f0\nDepends-On: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517685,40fcd7516a421adb63c9c47cecc7a4536fe68c38,9,5,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Change-Id: I309a1f1356192a031504e10cb7550e3fcd8592f0
Depends-On: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/85/517685/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,40fcd7516a421adb63c9c47cecc7a4536fe68c38,zuul-git-sources-newton," bash -c ""{toxinidir}/tests/tests-repo-clone.sh""ignore=F403 bash -c ""{toxinidir}/tests/tests-repo-clone.sh""# The deps URL should be set to the appropriate git URL. # In the tests repo itself, the variable is uniquely set to # the toxinidir so that the role is able to test itself, but # the tox config is exactly the same as other repositories. # # The value for other repositories must be: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt # or for a stable branch: # http://git.openstack.org/cgit/openstack/openstack-ansible-tests/plain/test-ansible-deps.txt?h=stable/newton -rhttps://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=stable/newton bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""","[testenv:tests_clone] commands = bash -c ""if [ ! -d ""{toxinidir}/tests/common"" ]; then \ git clone -b stable/newton https://git.openstack.org/openstack/openstack-ansible-tests {toxinidir}/tests/common; \ fi"" {[testenv:tests_clone]commands}# H303 No wildcard (*) import. ignore=F403,H303 {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands} {[testenv:tests_clone]commands}",158,48
openstack%2Ftooz~master~I5f78f356123428fd9072d798d5cc81bd026b2424,openstack/tooz,master,I5f78f356123428fd9072d798d5cc81bd026b2424,Zuul: add file extension to playbook path,MERGED,2017-10-29 17:02:01.000000000,2017-11-06 12:48:46.000000000,2017-11-06 12:48:46.000000000,"[{'_account_id': 1669}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-29 17:02:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tooz/commit/c69235b073dd132e214ed8fdd74f47a2b50feab2', 'message': 'Zuul: add file extension to playbook path\n\nZuul now supports including the file extension on the playbook path\nand omitting the extension is now deprecrated.  Update references\nto include the extension.\n\nChange-Id: I5f78f356123428fd9072d798d5cc81bd026b2424\n'}]",0,516114,c69235b073dd132e214ed8fdd74f47a2b50feab2,7,3,1,1,,,0,"Zuul: add file extension to playbook path

Zuul now supports including the file extension on the playbook path
and omitting the extension is now deprecrated.  Update references
to include the extension.

Change-Id: I5f78f356123428fd9072d798d5cc81bd026b2424
",git fetch https://review.opendev.org/openstack/tooz refs/changes/14/516114/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c69235b073dd132e214ed8fdd74f47a2b50feab2,zuulv3-paths, run: playbooks/legacy/tooz-tox-py27-consul/run.yaml post-run: playbooks/legacy/tooz-tox-py27-consul/post.yaml run: playbooks/legacy/tooz-tox-py27-etcd/run.yaml post-run: playbooks/legacy/tooz-tox-py27-etcd/post.yaml run: playbooks/legacy/tooz-tox-py27-etcd3/run.yaml post-run: playbooks/legacy/tooz-tox-py27-etcd3/post.yaml run: playbooks/legacy/tooz-tox-py27-etcd3gw/run.yaml post-run: playbooks/legacy/tooz-tox-py27-etcd3gw/post.yaml run: playbooks/legacy/tooz-tox-py27-memcached/run.yaml post-run: playbooks/legacy/tooz-tox-py27-memcached/post.yaml run: playbooks/legacy/tooz-tox-py27-mysql/run.yaml post-run: playbooks/legacy/tooz-tox-py27-mysql/post.yaml run: playbooks/legacy/tooz-tox-py27-postgresql/run.yaml post-run: playbooks/legacy/tooz-tox-py27-postgresql/post.yaml run: playbooks/legacy/tooz-tox-py27-redis/run.yaml post-run: playbooks/legacy/tooz-tox-py27-redis/post.yaml run: playbooks/legacy/tooz-tox-py27-sentinel/run.yaml post-run: playbooks/legacy/tooz-tox-py27-sentinel/post.yaml run: playbooks/legacy/tooz-tox-py27-zookeeper/run.yaml post-run: playbooks/legacy/tooz-tox-py27-zookeeper/post.yaml run: playbooks/legacy/tooz-tox-py35-consul/run.yaml post-run: playbooks/legacy/tooz-tox-py35-consul/post.yaml run: playbooks/legacy/tooz-tox-py35-etcd/run.yaml post-run: playbooks/legacy/tooz-tox-py35-etcd/post.yaml run: playbooks/legacy/tooz-tox-py35-etcd3/run.yaml post-run: playbooks/legacy/tooz-tox-py35-etcd3/post.yaml run: playbooks/legacy/tooz-tox-py35-etcd3gw/run.yaml post-run: playbooks/legacy/tooz-tox-py35-etcd3gw/post.yaml run: playbooks/legacy/tooz-tox-py35-memcached/run.yaml post-run: playbooks/legacy/tooz-tox-py35-memcached/post.yaml run: playbooks/legacy/tooz-tox-py35-mysql/run.yaml post-run: playbooks/legacy/tooz-tox-py35-mysql/post.yaml run: playbooks/legacy/tooz-tox-py35-postgresql/run.yaml post-run: playbooks/legacy/tooz-tox-py35-postgresql/post.yaml run: playbooks/legacy/tooz-tox-py35-redis/run.yaml post-run: playbooks/legacy/tooz-tox-py35-redis/post.yaml run: playbooks/legacy/tooz-tox-py35-sentinel/run.yaml post-run: playbooks/legacy/tooz-tox-py35-sentinel/post.yaml run: playbooks/legacy/tooz-tox-py35-zookeeper/run.yaml post-run: playbooks/legacy/tooz-tox-py35-zookeeper/post.yaml, run: playbooks/legacy/tooz-tox-py27-consul/run post-run: playbooks/legacy/tooz-tox-py27-consul/post run: playbooks/legacy/tooz-tox-py27-etcd/run post-run: playbooks/legacy/tooz-tox-py27-etcd/post run: playbooks/legacy/tooz-tox-py27-etcd3/run post-run: playbooks/legacy/tooz-tox-py27-etcd3/post run: playbooks/legacy/tooz-tox-py27-etcd3gw/run post-run: playbooks/legacy/tooz-tox-py27-etcd3gw/post run: playbooks/legacy/tooz-tox-py27-memcached/run post-run: playbooks/legacy/tooz-tox-py27-memcached/post run: playbooks/legacy/tooz-tox-py27-mysql/run post-run: playbooks/legacy/tooz-tox-py27-mysql/post run: playbooks/legacy/tooz-tox-py27-postgresql/run post-run: playbooks/legacy/tooz-tox-py27-postgresql/post run: playbooks/legacy/tooz-tox-py27-redis/run post-run: playbooks/legacy/tooz-tox-py27-redis/post run: playbooks/legacy/tooz-tox-py27-sentinel/run post-run: playbooks/legacy/tooz-tox-py27-sentinel/post run: playbooks/legacy/tooz-tox-py27-zookeeper/run post-run: playbooks/legacy/tooz-tox-py27-zookeeper/post run: playbooks/legacy/tooz-tox-py35-consul/run post-run: playbooks/legacy/tooz-tox-py35-consul/post run: playbooks/legacy/tooz-tox-py35-etcd/run post-run: playbooks/legacy/tooz-tox-py35-etcd/post run: playbooks/legacy/tooz-tox-py35-etcd3/run post-run: playbooks/legacy/tooz-tox-py35-etcd3/post run: playbooks/legacy/tooz-tox-py35-etcd3gw/run post-run: playbooks/legacy/tooz-tox-py35-etcd3gw/post run: playbooks/legacy/tooz-tox-py35-memcached/run post-run: playbooks/legacy/tooz-tox-py35-memcached/post run: playbooks/legacy/tooz-tox-py35-mysql/run post-run: playbooks/legacy/tooz-tox-py35-mysql/post run: playbooks/legacy/tooz-tox-py35-postgresql/run post-run: playbooks/legacy/tooz-tox-py35-postgresql/post run: playbooks/legacy/tooz-tox-py35-redis/run post-run: playbooks/legacy/tooz-tox-py35-redis/post run: playbooks/legacy/tooz-tox-py35-sentinel/run post-run: playbooks/legacy/tooz-tox-py35-sentinel/post run: playbooks/legacy/tooz-tox-py35-zookeeper/run post-run: playbooks/legacy/tooz-tox-py35-zookeeper/post,40,40
openstack%2Frally~stable%2F0.10~I1e462a4e081e8fbc49ff4a82dbdaa9a728d301ff,openstack/rally,stable/0.10,I1e462a4e081e8fbc49ff4a82dbdaa9a728d301ff,Add 0.10 branch into feautures.yaml,ABANDONED,2017-10-27 09:53:36.000000000,2017-11-06 12:42:14.000000000,,"[{'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 09:53:36.000000000', 'files': ['devstack/features.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/84783437c03d600b2b0faa2fada4b7a5226a4ded', 'message': 'Add 0.10 branch into feautures.yaml\n\nChange-Id: I1e462a4e081e8fbc49ff4a82dbdaa9a728d301ff\n'}]",0,515665,84783437c03d600b2b0faa2fada4b7a5226a4ded,4,2,1,9545,,,0,"Add 0.10 branch into feautures.yaml

Change-Id: I1e462a4e081e8fbc49ff4a82dbdaa9a728d301ff
",git fetch https://review.opendev.org/openstack/rally refs/changes/65/515665/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/features.yaml'],1,84783437c03d600b2b0faa2fada4b7a5226a4ded,features-stable/0.10," ""0.10"": [default, ceilometer, glance, horizon, nova, placement, swift, cinder, keystone] # The value of ""default"" is the name of the ""trunk"" branch allowed: [master, ""0.9"", ""0.10""]"," # The value of """"default"" is the name of the ""trunk"" branch allowed: [master, 0.9]",3,2
openstack%2Frally~master~Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6,openstack/rally,master,Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6,Fix showing deployment config in case of old format,MERGED,2017-10-31 12:11:06.000000000,2017-11-06 12:41:37.000000000,2017-11-01 15:55:26.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}, {'_account_id': 26088}]","[{'number': 1, 'created': '2017-10-31 12:11:06.000000000', 'files': ['rally/api.py', 'tests/unit/test_api.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/650618a60785d3a0ac908bb16d6f85db855bce65', 'message': 'Fix showing deployment config in case of old format\n\nThe original format of ExistingCloud deployment engine type supports\nonly openstack credentials and there were not key ""creds"". We need to\napply a compatibility workaround to support such deployment configs.\n\nChange-Id: Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6\n'}]",0,516638,650618a60785d3a0ac908bb16d6f85db855bce65,10,4,1,9545,,,0,"Fix showing deployment config in case of old format

The original format of ExistingCloud deployment engine type supports
only openstack credentials and there were not key ""creds"". We need to
apply a compatibility workaround to support such deployment configs.

Change-Id: Ief44e015e3deb78f458b5fe698d70ad4ab8e47c6
",git fetch https://review.opendev.org/openstack/rally refs/changes/38/516638/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/api.py', 'tests/unit/test_api.py']",2,650618a60785d3a0ac908bb16d6f85db855bce65,fix_deployment," origin_config = copy.deepcopy(self.deployment_config) self.assertEqual(origin_config[""creds""], ret[""config""]) @mock.patch(""rally.common.objects.deploy.db.deployment_get"") def test_get_deprecated_formats(self, mock_deployment_get): origin_config = copy.deepcopy(self.deployment_config) self.deployment_config.update( **self.deployment_config.pop(""creds"")[""openstack""]) deployment_id = ""aaaa-bbbb-cccc-dddd"" mock_deployment_get.return_value = self.deployment ret = self.deployment_inst.get(deployment=deployment_id) for key in self.deployment: self.assertIn(key, ret) if key != ""config"": self.assertEqual(self.deployment[key], ret[key]) origin_config.pop(""type"") self.assertEqual(origin_config[""creds""], ret[""config""])"," self.assertEqual(self.deployment_config[""creds""], ret[""config""])",26,1
openstack%2Frally~master~I2277a80fde7e8a3b1c92c74a37ccdbdb77184086,openstack/rally,master,I2277a80fde7e8a3b1c92c74a37ccdbdb77184086,Fix a elasticsearch request's bug,MERGED,2017-10-29 04:31:53.000000000,2017-11-06 12:41:13.000000000,2017-11-01 05:12:34.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-29 04:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f20e3c8628d01e3d9431733c1cb00a3480ac6426', 'message': ""Fix a elasticsearch request's bug\n\nWhen use 5.* elasticsearch, http://locahost:9200/\ncan not send a right request, so we should remove\nthe last '/'\n\nChange-Id: I2277a80fde7e8a3b1c92c74a37ccdbdb77184086\n""}, {'number': 2, 'created': '2017-10-29 17:04:44.000000000', 'files': ['rally/plugins/common/exporters/elastic/client.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/ee9b5abb0220ba7a9bab9bd8d357e886bbbfe45c', 'message': ""Fix a elasticsearch request's bug\n\nWhen use 5.* elasticsearch, http://locahost:9200/\ncan not send a right request, so we should remove\nthe last '/'\n\nChange-Id: I2277a80fde7e8a3b1c92c74a37ccdbdb77184086\n""}]",0,516047,ee9b5abb0220ba7a9bab9bd8d357e886bbbfe45c,16,4,2,22960,,,0,"Fix a elasticsearch request's bug

When use 5.* elasticsearch, http://locahost:9200/
can not send a right request, so we should remove
the last '/'

Change-Id: I2277a80fde7e8a3b1c92c74a37ccdbdb77184086
",git fetch https://review.opendev.org/openstack/rally refs/changes/47/516047/2 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/common/exporters/elastic/client.py'],1,f20e3c8628d01e3d9431733c1cb00a3480ac6426,fix_es," self._url = url.rstrip(""/"") or ""http://localhost:9200"""," self._url = url or ""http://localhost:9200""",1,1
openstack%2Fneutron-dynamic-routing~master~I06ae0c42d983e88e1f38c501d5c85a7956f195ad,openstack/neutron-dynamic-routing,master,I06ae0c42d983e88e1f38c501d5c85a7956f195ad,Support 4-Byte AS Numbers,MERGED,2017-09-01 07:08:45.000000000,2017-11-06 12:33:33.000000000,2017-11-06 12:33:33.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 13252}, {'_account_id': 14605}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-01 07:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2f2ecdf1f598764944850839a5f80f26a91935fe', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 2, 'created': '2017-09-07 07:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/23938a8d497e18f9600a1bfa77350067ccc0f99b', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nAPIImpact: Support 4-byte AS Numbers\nDocImpact: allow users to set 4-byte AS numbers\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 3, 'created': '2017-09-13 17:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b85f4ef80b85d98a68b22a52c26f757ed96fe7e9', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 4, 'created': '2017-09-14 03:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2f4a2ecac9098493f50763b8abca48be9ecfd021', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 5, 'created': '2017-10-23 02:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0cad309938f97941270fb1f3be92ccc44c982e36', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 6, 'created': '2017-10-23 14:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c59658716eb1f0943cbd9379eb569efb5c5a58f1', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 7, 'created': '2017-10-29 23:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3777c5efbb71594b01485dc10e82838e1c7a4c29', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 8, 'created': '2017-11-02 08:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/68aed461f9b27443cef92e1957a1ad56717da4c5', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 9, 'created': '2017-11-05 22:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ba7771e5c04e8dd1d51f4dd5f0cfc87328dbba2b', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}, {'number': 10, 'created': '2017-11-06 09:39:34.000000000', 'files': ['neutron_dynamic_routing/tests/tempest/scenario/4byte_asn/test_4byte_asn.py', 'neutron_dynamic_routing/services/bgp/common/constants.py', 'neutron_dynamic_routing/tests/unit/services/bgp/driver/ryu/test_driver.py', 'neutron_dynamic_routing/extensions/bgp_4byte_asn.py', 'neutron_dynamic_routing/tests/unit/services/bgp/driver/test_utils.py', 'neutron_dynamic_routing/services/bgp/agent/driver/utils.py', 'neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions_negative.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'releasenotes/notes/support-4byte-asn-d89d7100c0890ebf.yaml', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/queens/contract/a589fdb5724c_change_size_of_as_number.py', 'neutron_dynamic_routing/tests/tempest/scenario/4byte_asn/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/972756f603f72a0026713d98a0d485eb0026094a', 'message': ""Support 4-Byte AS Numbers\n\nNow neutron_dynamic_routing supports 2 byte AS numbers only.\nThis patch expands AS numbers constraint so that it supports\n4 byte AS numbers. It expects that operators use asplain\nnotation to set AS numbers[1]. That's backward compatible with\nexisting 2 byte AS numbers.\n\n[1]: https://tools.ietf.org/html/rfc5396\n\nChange-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad\nCloses-Bug: #1573092\n""}]",10,499915,972756f603f72a0026713d98a0d485eb0026094a,44,7,10,7715,,,0,"Support 4-Byte AS Numbers

Now neutron_dynamic_routing supports 2 byte AS numbers only.
This patch expands AS numbers constraint so that it supports
4 byte AS numbers. It expects that operators use asplain
notation to set AS numbers[1]. That's backward compatible with
existing 2 byte AS numbers.

[1]: https://tools.ietf.org/html/rfc5396

Change-Id: I06ae0c42d983e88e1f38c501d5c85a7956f195ad
Closes-Bug: #1573092
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/15/499915/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions_negative.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/services/bgp/common/constants.py', 'neutron_dynamic_routing/tests/unit/services/bgp/driver/ryu/test_driver.py', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron_dynamic_routing/db/migration/alembic_migrations/versions/queens/contract/a589fdb5724c_change_size_of_as_number.py']",6,2f2ecdf1f598764944850839a5f80f26a91935fe,bug/1573092,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""change size of as number Revision ID: a589fdb5724c Revises: 4cf8bc3edb66 Create Date: 2017-08-31 13:50:28.324422 """""" # revision identifiers, used by Alembic. revision = 'a589fdb5724c' down_revision = '4cf8bc3edb66' from alembic import op import sqlalchemy as sa def upgrade(): op.alter_column('bgp_speakers', 'local_as', nullable=False, type_=sa.BigInteger()) op.alter_column('bgp_peers', 'remote_as', nullable=False, type_=sa.BigInteger()) ",,41,7
openstack%2Fneutron-dynamic-routing~master~Icc92e767d1d60e235a152490864ea4cd14c3ad53,openstack/neutron-dynamic-routing,master,Icc92e767d1d60e235a152490864ea4cd14c3ad53,Use FAULT_MAP from neutron-lib,MERGED,2017-11-04 23:29:54.000000000,2017-11-06 12:32:20.000000000,2017-11-06 12:32:20.000000000,"[{'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 8344}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 23:29:54.000000000', 'files': ['neutron_dynamic_routing/extensions/bgp_dragentscheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c576ffd48ddee929ab7e6a1d5694123d2a3c4256', 'message': 'Use FAULT_MAP from neutron-lib\n\nAccording to Ib051555ea8496ed7eec8ed30733c964012e31c32\n\nChange-Id: Icc92e767d1d60e235a152490864ea4cd14c3ad53\n'}]",0,517778,c576ffd48ddee929ab7e6a1d5694123d2a3c4256,7,4,1,748,,,0,"Use FAULT_MAP from neutron-lib

According to Ib051555ea8496ed7eec8ed30733c964012e31c32

Change-Id: Icc92e767d1d60e235a152490864ea4cd14c3ad53
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/78/517778/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/extensions/bgp_dragentscheduler.py'],1,c576ffd48ddee929ab7e6a1d5694123d2a3c4256,fmap,from neutron_lib.api import faults faults.FAULT_MAP) faults.FAULT_MAP),from neutron.api.v2 import base base.FAULT_MAP) base.FAULT_MAP),3,3
openstack%2Fkarbor~master~I6004b3705e5f7488e897154452a24af8694f38b6,openstack/karbor,master,I6004b3705e5f7488e897154452a24af8694f38b6,Add try catch exception for plan destory before quota reserve,MERGED,2017-11-06 07:08:14.000000000,2017-11-06 12:30:22.000000000,2017-11-06 12:30:22.000000000,"[{'_account_id': 17151}, {'_account_id': 21224}, {'_account_id': 22056}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 07:08:14.000000000', 'files': ['karbor/api/v1/plans.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/10de69e32dea3775faf8d911f980281a1a05e1e7', 'message': 'Add try catch exception for plan destory before quota reserve\n\nChange-Id: I6004b3705e5f7488e897154452a24af8694f38b6\nImplements: blueprint support-quotas-in-karbor\n'}]",0,517870,10de69e32dea3775faf8d911f980281a1a05e1e7,8,4,1,17151,,,0,"Add try catch exception for plan destory before quota reserve

Change-Id: I6004b3705e5f7488e897154452a24af8694f38b6
Implements: blueprint support-quotas-in-karbor
",git fetch https://review.opendev.org/openstack/karbor refs/changes/70/517870/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/api/v1/plans.py'],1,10de69e32dea3775faf8d911f980281a1a05e1e7,bp/support-quotas-in-karbor," try: plan.destroy() except Exception: msg = _(""Failed to destroy a plan."") raise exc.HTTPServerError(reason=msg) else:", reservations = None plan.destroy() if reservations:,8,3
openstack%2Freleases~master~I06c0f82b96c4e20dcd06c7c6215072caedb22cad,openstack/releases,master,I06c0f82b96c4e20dcd06c7c6215072caedb22cad,"Add oslo releases for queens Nov 6, 2017",ABANDONED,2017-11-06 12:15:51.000000000,2017-11-06 12:22:26.000000000,,[],"[{'number': 1, 'created': '2017-11-06 12:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/621ea84d71f35d857c2832b7001c16fa03db6c2a', 'message': 'Add oslo releases for queens Nov 5, 2017\n\nChange-Id: I06c0f82b96c4e20dcd06c7c6215072caedb22cad\n'}, {'number': 2, 'created': '2017-11-06 12:17:45.000000000', 'files': ['deliverables/pike/oslo.policy.yaml', 'deliverables/pike/oslotest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/570fff25a1a3ecf518d77c1f103ea9c9ceb63e0d', 'message': 'Add oslo releases for queens Nov 6, 2017\n\nChange-Id: I06c0f82b96c4e20dcd06c7c6215072caedb22cad\n'}]",0,517936,570fff25a1a3ecf518d77c1f103ea9c9ceb63e0d,3,0,2,9796,,,0,"Add oslo releases for queens Nov 6, 2017

Change-Id: I06c0f82b96c4e20dcd06c7c6215072caedb22cad
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/517936/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/oslo.policy.yaml', 'deliverables/pike/oslotest.yaml']",2,621ea84d71f35d857c2832b7001c16fa03db6c2a,queens, - projects: - hash: aea2b5cfd6442195f7ee479e21664631825af924 repo: openstack/oslotest version: 3.0.0 highlights: > Remove module oslotest.mockpatch,,10,0
openstack%2Fopenstack-ansible-tests~stable%2Fnewton~I2abda86df19980c963e3cb176db2f877ba9a312b,openstack/openstack-ansible-tests,stable/newton,I2abda86df19980c963e3cb176db2f877ba9a312b,Used cached git sources and enable depends-on,MERGED,2017-11-03 18:09:52.000000000,2017-11-06 12:19:59.000000000,2017-11-06 12:19:59.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:09:52.000000000', 'files': ['run_tests.sh', 'get-ansible-role-requirements.yml', 'tests/tests-repo-clone.sh', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f1593fc1fd753e19b0e68abae7abbf3c2ed730b5', 'message': 'Used cached git sources and enable depends-on\n\nMany, many patches have gone into the master branch to\nenable the use of depends-on for role tests and to make\nuse of the git clones put into place by zuul. This patch\nensures that this functionality is now available for this\nbranch too.\n\nThe primary benefit for doing this would be to make use\nof the cached git clones provided by zuul to improve test\nreliability.\n\nThe secondary benefit would be to have the ability to\nuse depends-on to test patches together.\n\nHowever, this will come at the cost of requiring a tox\nconfiguration change, and the implementation of the\ntests/tests-repo-clone.sh and run_tests.sh scripts\nacross all repositories.\n\nRequired repositories which do not have a newton branch\nare removed from the job definition.\n\nChange-Id: I2abda86df19980c963e3cb176db2f877ba9a312b\n'}]",0,517669,f1593fc1fd753e19b0e68abae7abbf3c2ed730b5,7,3,1,6816,,,0,"Used cached git sources and enable depends-on

Many, many patches have gone into the master branch to
enable the use of depends-on for role tests and to make
use of the git clones put into place by zuul. This patch
ensures that this functionality is now available for this
branch too.

The primary benefit for doing this would be to make use
of the cached git clones provided by zuul to improve test
reliability.

The secondary benefit would be to have the ability to
use depends-on to test patches together.

However, this will come at the cost of requiring a tox
configuration change, and the implementation of the
tests/tests-repo-clone.sh and run_tests.sh scripts
across all repositories.

Required repositories which do not have a newton branch
are removed from the job definition.

Change-Id: I2abda86df19980c963e3cb176db2f877ba9a312b
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/69/517669/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'get-ansible-role-requirements.yml', 'tests/tests-repo-clone.sh', 'tox.ini', 'zuul.d/jobs.yaml']",5,f1593fc1fd753e19b0e68abae7abbf3c2ed730b5,zuul-git-sources-newton,, - name: openstack/openstack-ansible-os_barbican - name: openstack/openstack-ansible-os_designate - name: openstack/openstack-ansible-os_octavia - name: openstack/openstack-ansible-os_trove - name: openstack/openstack-ansible-os_barbican - name: openstack/openstack-ansible-os_designate - name: openstack/openstack-ansible-os_octavia - name: openstack/openstack-ansible-os_trove,312,65
openstack%2Fceilometer~stable%2Fpike~I5d9231ab8ad3fafa5b5177954b6e473eca659638,openstack/ceilometer,stable/pike,I5d9231ab8ad3fafa5b5177954b6e473eca659638,Remove direct publisher since it is deprecated,MERGED,2017-11-02 06:55:40.000000000,2017-11-06 11:58:13.000000000,2017-11-06 11:58:12.000000000,"[{'_account_id': 1669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 06:55:40.000000000', 'files': ['doc/source/admin/telemetry-data-pipelines.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d14636899d439646d3eb9360fa643ad7dee68c8c', 'message': 'Remove direct publisher since it is deprecated\n\nRemove direct publisher from example since it is deprecated.\n\nChange-Id: I5d9231ab8ad3fafa5b5177954b6e473eca659638\nCloses-Bug: #1728014\n(cherry picked from commit d137189c3642bd9ea836bea9e22d318bde2489b0)\n'}]",0,517182,d14636899d439646d3eb9360fa643ad7dee68c8c,6,2,1,23913,,,0,"Remove direct publisher since it is deprecated

Remove direct publisher from example since it is deprecated.

Change-Id: I5d9231ab8ad3fafa5b5177954b6e473eca659638
Closes-Bug: #1728014
(cherry picked from commit d137189c3642bd9ea836bea9e22d318bde2489b0)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/82/517182/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/telemetry-data-pipelines.rst'],1,d14636899d439646d3eb9360fa643ad7dee68c8c,bug/1728014-stable/pike,, - direct://?dispatcher=http,0,1
openstack%2Fmanila~master~Ia9226329035508c37ca499e6efbd2382502eb141,openstack/manila,master,Ia9226329035508c37ca499e6efbd2382502eb141,tempest: remove call to set_network_resources(),MERGED,2017-09-15 19:56:21.000000000,2017-11-06 11:58:03.000000000,2017-09-18 01:03:15.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-09-15 19:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/413f7a8f100fd1718b70ffb69d421f292531cbf5', 'message': ""Remove call to set_network_resources()\n\nA call within the scenario tests was causing failures around the\nordering of method calls in the set up of the test class. This patch\nremoves the call as currently it doesn't do anything and will fix our\nscenario tests.\n\nChange-Id: Ia9226329035508c37ca499e6efbd2382502eb141\nCloses-Bug: #1717562\n""}, {'number': 2, 'created': '2017-09-15 20:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ad965631bee58512aed24320a0cb17037bbc675f', 'message': ""tempest: remove call to set_network_resources()\n\nSince the merge of the stable interface for Tempest network_resources\n[0], a call within the Manila scenario tests was causing failures\naround the ordering of method calls in the set up of the test class.\nThis patch removes the call as currently it doesn't do anything and\nwill fix our scenario tests.\n\n[0] - I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n\nChange-Id: Ia9226329035508c37ca499e6efbd2382502eb141\nCloses-Bug: #1717562\n""}, {'number': 3, 'created': '2017-09-17 01:20:15.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c26bd6b10c608029a505d3473b0bf61e178deee7', 'message': ""tempest: remove call to set_network_resources()\n\nSince the merge of the stable interface for Tempest network_resources\n[0], a call within the Manila scenario tests was causing failures\naround the ordering of method calls in the set up of the test class.\nThis patch removes the call as currently it doesn't do anything and\nwill fix our scenario tests.\n\n[0] - I4eab8f2a722b47edc20e4aab0ef453bec16842f3\n\nChange-Id: Ia9226329035508c37ca499e6efbd2382502eb141\nCloses-Bug: #1717562\n""}]",3,504504,c26bd6b10c608029a505d3473b0bf61e178deee7,50,12,3,17780,,,0,"tempest: remove call to set_network_resources()

Since the merge of the stable interface for Tempest network_resources
[0], a call within the Manila scenario tests was causing failures
around the ordering of method calls in the set up of the test class.
This patch removes the call as currently it doesn't do anything and
will fix our scenario tests.

[0] - I4eab8f2a722b47edc20e4aab0ef453bec16842f3

Change-Id: Ia9226329035508c37ca499e6efbd2382502eb141
Closes-Bug: #1717562
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/504504/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/scenario/manager_share.py', 'releasenotes/notes/bug-1717562-fix-manila-scenario-tests-24c9d40ec10f3aeb.yaml']",2,413f7a8f100fd1718b70ffb69d421f292531cbf5,bug/1717562,--- fixes: - Remove call from Manila scenario test class set up that will cause a failure having to do with ordering of set up methods. ,,5,1
openstack%2Fzaqar~master~I342cd212b6a2ae7d5014e5e49b02a02f21afd9cc,openstack/zaqar,master,I342cd212b6a2ae7d5014e5e49b02a02f21afd9cc,Remove the remaining flavor tuple in test_put_auto_get_capabilities test,MERGED,2017-11-05 08:16:09.000000000,2017-11-06 11:56:25.000000000,2017-11-06 11:56:25.000000000,"[{'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 08:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/77f8d01b594276ff02b8508752f7f2a3b6ae3d23', 'message': 'Remove the remaining flavor\ttuple in test_put_auto_get_capabilities test\n\nThere is a remaining flavor tuple after test_put_auto_get_capabilities test.\nIf zaqar.tests.unit.transport.wsgi.v2_0.test_flavors.\nTestFlavorsMongoDB is excuted again after the excution of zaqar.tests.unit.\ntransport.wsgi.v2_0.test_flavors.TestFlavorsMongoDB, there are many fails,\nfor example:\nzaqar.tests.unit.transport.wsgi.v2_0.test_flavors.TestFlavorsMongoDB.\ntest_listing_works\nFile ""zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py"", line 314,\nin test_listing_works_with_limit,\nFile ""zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py"", line 291,\nin _listing_test\ntesttools.matchers._impl.MismatchError: 0 != 1\n\nChange-Id: I342cd212b6a2ae7d5014e5e49b02a02f21afd9cc\n'}, {'number': 2, 'created': '2017-11-05 08:18:40.000000000', 'files': ['zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9d15d948f722cda7bc0cbfa876544b6fde271fc1', 'message': 'Remove the remaining flavor tuple in test_put_auto_get_capabilities test\n\nThere is a remaining flavor tuple after test_put_auto_get_capabilities\ntest. If zaqar.tests.unit.transport.wsgi.v2_0.test_flavors.\nTestFlavorsMongoDB is excuted again after the excution of zaqar.tests.\nunit.transport.wsgi.v2_0.test_flavors.TestFlavorsMongoDB,\nthere are many fails. for example:\nzaqar.tests.unit.transport.wsgi.v2_0.test_flavors.TestFlavorsMongoDB.\ntest_listing_works\nFile ""zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py"", line 314,\nin test_listing_works_with_limit,\nFile ""zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py"", line 291,\nin _listing_test\ntesttools.matchers._impl.MismatchError: 0 != 1\n\nChange-Id: I342cd212b6a2ae7d5014e5e49b02a02f21afd9cc\n'}]",0,517812,9d15d948f722cda7bc0cbfa876544b6fde271fc1,15,3,2,22484,,,0,"Remove the remaining flavor tuple in test_put_auto_get_capabilities test

There is a remaining flavor tuple after test_put_auto_get_capabilities
test. If zaqar.tests.unit.transport.wsgi.v2_0.test_flavors.
TestFlavorsMongoDB is excuted again after the excution of zaqar.tests.
unit.transport.wsgi.v2_0.test_flavors.TestFlavorsMongoDB,
there are many fails. for example:
zaqar.tests.unit.transport.wsgi.v2_0.test_flavors.TestFlavorsMongoDB.
test_listing_works
File ""zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py"", line 314,
in test_listing_works_with_limit,
File ""zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py"", line 291,
in _listing_test
testtools.matchers._impl.MismatchError: 0 != 1

Change-Id: I342cd212b6a2ae7d5014e5e49b02a02f21afd9cc
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/12/517812/2 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/tests/unit/transport/wsgi/v2_0/test_flavors.py'],1,77f8d01b594276ff02b8508752f7f2a3b6ae3d23,bug/gengchc," # NOTE(gengchc2): Delete it, otherwise exist garbage flavor. self.simulate_delete(path)",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb,openstack/tripleo-heat-templates,stable/pike,Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb,cinder: switch CinderCronDbPurgeUser to 'cinder',MERGED,2017-11-02 19:11:34.000000000,2017-11-06 11:50:51.000000000,2017-11-06 11:50:51.000000000,"[{'_account_id': 3153}, {'_account_id': 9061}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 19:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93479e147a964457d88ae1e77318d2fca5a927e4', 'message': ""cinder: switch CinderCronDbPurgeUser to 'cinder'\n\n... and not 'keystone' or it fails.\n\nChange-Id: Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb\nCloses-Bug: #1729352\n(cherry picked from commit b99a240ccc4f262ee7626518087784eb92b0152f)\n""}, {'number': 2, 'created': '2017-11-02 21:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/999915371006844ce450b63f3af0356c13d4c5c5', 'message': ""cinder: switch CinderCronDbPurgeUser to 'cinder'\n\n... and not 'keystone' or it fails.\n\nChange-Id: Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb\nCloses-Bug: #1729352\n(cherry picked from commit b99a240ccc4f262ee7626518087784eb92b0152f)\n""}, {'number': 3, 'created': '2017-11-05 02:44:27.000000000', 'files': ['puppet/services/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d8b3c4ed61a441ab1b44683d82b080ce4db988e', 'message': ""cinder: switch CinderCronDbPurgeUser to 'cinder'\n\n... and not 'keystone' or it fails.\n\nChange-Id: Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb\nCloses-Bug: #1729352\n(cherry picked from commit b99a240ccc4f262ee7626518087784eb92b0152f)\n""}]",0,517412,7d8b3c4ed61a441ab1b44683d82b080ce4db988e,28,6,3,3153,,,0,"cinder: switch CinderCronDbPurgeUser to 'cinder'

... and not 'keystone' or it fails.

Change-Id: Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb
Closes-Bug: #1729352
(cherry picked from commit b99a240ccc4f262ee7626518087784eb92b0152f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/517412/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/cinder-base.yaml'],1,93479e147a964457d88ae1e77318d2fca5a927e4,bug/1729352-stable/pike, default: 'cinder', default: 'keystone',1,1
openstack%2Fpuppet-neutron~stable%2Fnewton~I0d1bd5c8b67131223df2744ff711ffc697a07de0,openstack/puppet-neutron,stable/newton,I0d1bd5c8b67131223df2744ff711ffc697a07de0,Deprecated supported_pci_vendor_devs which is removed in neutron,ABANDONED,2017-11-06 10:55:24.000000000,2017-11-06 11:43:20.000000000,,[{'_account_id': 18575}],"[{'number': 1, 'created': '2017-11-06 10:55:24.000000000', 'files': ['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp', 'releasenotes/notes/deprecate_pci_vendor_devs-35e3f57e2e25ae8f.yaml', 'spec/defines/neutron_plugins_ml2_mechdriver_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b2a5ea79bf3d707c55d7c8814e908aaa950e938e', 'message': 'Deprecated supported_pci_vendor_devs which is removed in neutron\n\nParameter supported_pci_vendor_devs has no effect in neutron as\nit has been removed in Ocata. This patch is deprecating this\nparameter and will be removed in future release.\nNeutron commit - https://review.openstack.org/#/c/391911/\n\nChange-Id: I0d1bd5c8b67131223df2744ff711ffc697a07de0\n'}]",0,517911,b2a5ea79bf3d707c55d7c8814e908aaa950e938e,2,1,1,10034,,,0,"Deprecated supported_pci_vendor_devs which is removed in neutron

Parameter supported_pci_vendor_devs has no effect in neutron as
it has been removed in Ocata. This patch is deprecating this
parameter and will be removed in future release.
Neutron commit - https://review.openstack.org/#/c/391911/

Change-Id: I0d1bd5c8b67131223df2744ff711ffc697a07de0
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/11/517911/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp', 'releasenotes/notes/deprecate_pci_vendor_devs-35e3f57e2e25ae8f.yaml', 'spec/defines/neutron_plugins_ml2_mechdriver_spec.rb']",4,b2a5ea79bf3d707c55d7c8814e908aaa950e938e,,,"require 'spec_helper' describe 'neutron::plugins::ml2::mech_driver' do let :title do 'mech_driver' end let :params do { :name => 'sriovnicswitch', :supported_pci_vendor_devs => '8086:10ed', } end describe 'provide sriov configuration for Debian' do let :facts do @default_facts.merge({ :osfamily => 'Debian' }) end it 'configures supported_pci_vendor_devs' do is_expected.to contain_neutron_plugin_sriov('ml2_sriov/supported_pci_vendor_devs').with_value('8086:10ed') end it 'adds ml2_conf_sriov.ini to neutron_server' do is_expected.to contain_file_line('DAEMON_ARGS').with( :path => '/etc/default/neutron-server', :line => 'DAEMON_ARGS=""$DAEMON_ARGS --config-file /etc/neutron/plugins/ml2/ml2_conf_sriov.ini""', ) end end describe 'provide sriov configuration for Redhat' do let :facts do @default_facts.merge({ :osfamily => 'RedHat' }) end it 'configures supported_pci_vendor_devs' do is_expected.to contain_neutron_plugin_sriov('ml2_sriov/supported_pci_vendor_devs').with_value('8086:10ed') end it 'creates symbolic link for ml2_conf_sriov.ini config.d directory' do is_expected.to contain_file('/etc/neutron/conf.d/neutron-server/ml2_conf_sriov.conf').with( :ensure => 'link', :target => '/etc/neutron/plugins/ml2/ml2_conf_sriov.ini' ) end end end ",15,72
openstack%2Fnetworking-bagpipe~master~I639a1d21f394845be762584c9fbbcd45fad02513,openstack/networking-bagpipe,master,I639a1d21f394845be762584c9fbbcd45fad02513,Migration of Agent Extension to Neutron-lib,MERGED,2017-10-11 04:04:08.000000000,2017-11-06 11:37:46.000000000,2017-11-06 11:37:46.000000000,"[{'_account_id': 3}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-11 04:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/49bbf8bb9d2ae9a3995d30de407731554d820564', 'message': 'Migration of Agent Extension to Neutron-lib\n\nThe agent extensions code has migrated to neutron-lib.\nThis change reflects that migration.\n\nChange-Id: I639a1d21f394845be762584c9fbbcd45fad02513\n'}, {'number': 2, 'created': '2017-11-06 08:35:52.000000000', 'files': ['networking_bagpipe/agent/bgpvpn/agent_extension.py', 'networking_bagpipe/agent/bagpipe_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1c9be661b2a102184f1430177cc23513cd2b3af8', 'message': 'Migration of Agent Extension to Neutron-lib\n\nThe agent extensions code has migrated to neutron-lib.\nThis change reflects that migration.\n\nChange-Id: I639a1d21f394845be762584c9fbbcd45fad02513\n'}]",0,511123,1c9be661b2a102184f1430177cc23513cd2b3af8,10,3,2,17776,,,0,"Migration of Agent Extension to Neutron-lib

The agent extensions code has migrated to neutron-lib.
This change reflects that migration.

Change-Id: I639a1d21f394845be762584c9fbbcd45fad02513
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/23/511123/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/agent/bgpvpn/agent_extension.py', '.stestr/format', '.stestr/times.dbm.bak', '.stestr/times.dbm.dir', '.stestr/failing', '.stestr/0', 'networking_bagpipe/agent/bagpipe_linuxbridge_neutron_agent.py', '.stestr/next-stream', '.stestr/times.dbm.dat']",9,49bbf8bb9d2ae9a3995d30de407731554d820564,,,,1671,4
openstack%2Fcinder~stable%2Fpike~I11c0932c546d8edd0e6009c4e2668f50ac2008c1,openstack/cinder,stable/pike,I11c0932c546d8edd0e6009c4e2668f50ac2008c1,VMAX doc - add manage and unmanage section,ABANDONED,2017-10-31 16:19:33.000000000,2017-11-06 11:33:14.000000000,,"[{'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 25033}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-31 16:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e9448d3dc7d9ca6b3236aeacde2a22b2a75911b', 'message': 'VMAX doc - add manage and unmanage section\n\nAdding manage and unmanage section\n\nChange-Id: I11c0932c546d8edd0e6009c4e2668f50ac2008c1\nCloses-Bug: #1729013\n'}, {'number': 2, 'created': '2017-11-01 09:19:15.000000000', 'files': ['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/efe21a9050b117e2fe64285a75c449ac8b3108ab', 'message': 'VMAX doc - add manage and unmanage section\n\nAdding manage and unmanage section\n\nChange-Id: I11c0932c546d8edd0e6009c4e2668f50ac2008c1\nCloses-Bug: #1729013\n'}]",2,516731,efe21a9050b117e2fe64285a75c449ac8b3108ab,28,14,2,12670,,,0,"VMAX doc - add manage and unmanage section

Adding manage and unmanage section

Change-Id: I11c0932c546d8edd0e6009c4e2668f50ac2008c1
Closes-Bug: #1729013
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/516731/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'],1,4e9448d3dc7d9ca6b3236aeacde2a22b2a75911b,bug/1729013," Manage and Unmanage Volumes ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Managing volumes in OpenStack is the process whereby a volume which exists on the storage device is imported into OpenStack to be made available for use in the OpenStack environment. For a volume to be valid for managing into OpenStack, the following prerequisites must be met: - The volume exists in a Cinder managed pool - The volume is not part of a Masking View - The volume is not part of an SRDF relationship - The volume is configured as a TDEV (thin device) - The volume is set to FBA emulation For a volume to exist in a Cinder managed pool, it must reside in in the same Storage Resource Pool (SRP) as the backend which is configured for use in OpenStack. Specifying the pool correctly can be entered manually as it follows the same format: .. code-block:: console Pool format: <service_level>+<workload_type>+<srp>+<array_id> Pool example 1: Diamond+DSS+SRP_1+111111111111 Pool example 2: Diamond+SRP_1+111111111111 .. table:: **Pool values** +----------------+-------------------------------------------------------------+ | Key | Value | +================+=============================================================+ | service_level | The service level of the volume to be managed | +----------------+-------------------------------------------------------------+ | workload | The workload of the volume to be managed | +----------------+-------------------------------------------------------------+ | SRP | The Storage Resource Pool configured for use by the backend | +----------------+-------------------------------------------------------------+ | array_id | The VMAX serial number (12 digit numerical) | +----------------+-------------------------------------------------------------+ Manage Volumes -------------- With your pool name defined you can now manage the volume into OpenStack, this is possible with the CLI command Cinder manage. The bootable parameter is optional in the command, if the volume to be managed into OpenStack is not bootable leave this parameter out. OpenStack will also determine the size of the value when it is managed so there is no need to specify the volume size. Command format: .. code-block:: console $ cinder manage --name <new_volume_name> --volume-type <vmax_vol_type> \ --availability-zone <av_zone> <--bootable> <host> <identifier> Command Example: .. code-block:: console $ cinder manage --name vmax_managed_volume --volume-type VMAX_ISCSI_DIAMOND \ --availability-zone nova demo@VMAX_ISCSI_DIAMOND#Diamond+SRP_1+111111111111 031D8 After the above command has been run, the volume will be available for use in the same way as any other OpenStack VMAX volume. .. note:: An unmanaged volume with a prefix of 'OS-' in its identifier name cannot be managed into OpenStack, as this is a reserved keyword for managed volumes. If the identifier name has this prefix, an exception will be thrown by the VMAX driver on a manage operation. Managing Volumes with Replication Enabled ----------------------------------------- Whilst it is not possible to manage volumes into OpenStack that are part of a SRDF relationship, it is possible to manage a volume into OpenStack and enable replication at the same time. This is done by having a replication enabled VMAX volume type (for more information see section Volume Replication & SRDF/S) during the manage volume process you specify the replication volume type as the chosen volume type. Once managed, replication will be enabled for that volume. Unmanage Volume --------------- Unmanaging a volume is not the same as deleting a volume. When a volume is deleted from OpenStack, it is also deleted from the VMAX at the same time. Unmanaging a volume is the process whereby a volume is removed from OpenStack but it remains for further use on the VMAX. The volume can also be managed back into OpenStack at a later date using the process discussed in the previous section. Unmanaging volume is carried out using the Cinder unmanage CLI command: Command format: .. code-block:: console $ cinder unmanage <volume_name/volume_id> Command example: .. code-block:: console $ cinder unmanage vmax_test_vol Once unmanaged from OpenStack, the volume can still be retrieved using its device ID or OpenStack volume ID. Within Unisphere you will also notice that the 'OS-' prefix has been removed, this is another visual indication that the volume is no longer managed by OpenStack.",,121,0
openstack%2Fsecurity-doc~master~I7b15d81dc7620271fd0079fe9a78dbce50a3438e,openstack/security-doc,master,I7b15d81dc7620271fd0079fe9a78dbce50a3438e,Add keystone checklist: verify fernet is used over uuid,MERGED,2017-11-06 06:38:14.000000000,2017-11-06 11:16:06.000000000,2017-11-06 11:16:06.000000000,"[{'_account_id': 7063}, {'_account_id': 11397}, {'_account_id': 17765}, {'_account_id': 17893}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 06:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/b9fe5178090d52f9a200913958f7e07761159534', 'message': 'Add keystone checklist: verify fernet is used over uuid\n\nChange-Id: I7b15d81dc7620271fd0079fe9a78dbce50a3438e\nCloses-bug: #1702928\n'}, {'number': 2, 'created': '2017-11-06 06:53:39.000000000', 'files': ['security-guide/source/identity/checklist.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/72c521c43080818635bc6680a6ab23bfca0aeec3', 'message': 'Add keystone checklist: verify fernet is used over uuid\n\nChange-Id: I7b15d81dc7620271fd0079fe9a78dbce50a3438e\nCloses-bug: #1702928\n'}]",0,517864,72c521c43080818635bc6680a6ab23bfca0aeec3,9,5,2,21797,,,0,"Add keystone checklist: verify fernet is used over uuid

Change-Id: I7b15d81dc7620271fd0079fe9a78dbce50a3438e
Closes-bug: #1702928
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/64/517864/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/identity/checklist.rst'],1,b9fe5178090d52f9a200913958f7e07761159534,bug/1702928, Check-Identity-08: Use fernet as token provider in ``/etc/keystone/keystone.conf`` ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack Identity service provides ``uuid`` and ``fernet`` as token providers. The ``uuid`` tokens must be persisted and is considered as insecure. **Pass:** If value of parameter ``provider`` under ``[token]`` section in ``/etc/keystone/keystone.conf`` is set to fernet. **Fail:** If value of parameter ``provider`` under ``[token]`` section is set to uuid.,,12,0
openstack%2Fsecurity-doc~master~Ibc57d31c1c913f13de57c83a1c1972556218d98b,openstack/security-doc,master,Ibc57d31c1c913f13de57c83a1c1972556218d98b,Add Link to OSSN wiki instead of Launchpad Page,MERGED,2017-11-06 09:02:10.000000000,2017-11-06 11:15:47.000000000,2017-11-06 11:15:47.000000000,"[{'_account_id': 7063}, {'_account_id': 17765}, {'_account_id': 17893}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 09:02:10.000000000', 'files': ['security-guide/source/management/continuous-systems-management.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/cfd1ded440644abe1bd899850a8a3a72e4dac916', 'message': 'Add Link to OSSN wiki instead of Launchpad Page\n\nChange-Id: Ibc57d31c1c913f13de57c83a1c1972556218d98b\nCloses-bug: #1703080\n'}]",0,517890,cfd1ded440644abe1bd899850a8a3a72e4dac916,7,4,1,21797,,,0,"Add Link to OSSN wiki instead of Launchpad Page

Change-Id: Ibc57d31c1c913f13de57c83a1c1972556218d98b
Closes-bug: #1703080
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/90/517890/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/management/continuous-systems-management.rst'],1,cfd1ded440644abe1bd899850a8a3a72e4dac916,bug/1703080, Security Notes are archived at https://wiki.openstack.org/wiki/OSSN, Security Notes are archived at https://launchpad.net/ossn/,1,1
openstack%2Fnetworking-ovn~master~If91f0a37214eba8d6c40058842cecf8200be4190,openstack/networking-ovn,master,If91f0a37214eba8d6c40058842cecf8200be4190,Add database maintenance mechanism (starting with networks),ABANDONED,2017-09-13 15:14:50.000000000,2017-11-06 11:13:37.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-09-13 15:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d4e8856522366231fff0a226336bccff65ef0802', 'message': 'Add database maintenance mechanism (starting with networks)\n\nThis patch is introducing the maintenance mechanism for the database\nconsistency work.\n\nThe mechanism uses futurist [0] for running the two periodic tasks:\n``check_for_incosistencies`` and ``cleanup_old_locks``.\n\nThe ``check_for_incosistencies`` task will compare the\n""ovn_revision_numbers"" table with the Neutron\'s ""standardattributes""\ntable and check if there\'s any difference between the revision numbers.\nIf there\'re incosistencies it will the try to get a lock on that object\n(introduced on previous patches) and sync that resource with the latest\nin neutron. A OVSDB lock is used for this task as well to guarantee that\nonly one check is running in the entirely cluster.\n\nThe ``cleanup_old_locks`` task just clean up the locking table removing\nlocks that haven\'t been acquired for a certain period of time\n(defaulting to 10 minutes).\n\nThe maintenance mechanism runs on its own OVN worker [1] so the OVSDB\nlock doesn\'t conflict with the OVSDB monitor one.\n\nCurrently in this patch, only the ``network`` resource is being\naddressed to keep it small and easy to review. New resources will be\nadded on subsequently patches.\n\nThe ``update_network`` method in OVNClient was updated to make the\n""original_network"" parameter optional. The reason is because at the time\nwe are sync\'ing it with the lastest version in the neutron database the\nmaintenance task won\'t have the ""original_network"" at hand. To keep it\nsimple, if that parameter is not passed to the ""update_network"" method\nthe whole resource will be updated skipping any comparison between the\noriginal and the new.\n\n[0] https://github.com/openstack/futurist/\n\n[1]\nhttps://docs.openstack.org/networking-ovn/latest/contributor/design/ovn_worker.html\n\nChange-Id: If91f0a37214eba8d6c40058842cecf8200be4190\n'}, {'number': 2, 'created': '2017-09-14 08:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3a97c83c126a2d485b9093e7ebdb8589ea31d533', 'message': 'Add database maintenance mechanism (starting with networks)\n\nThis patch is introducing the maintenance mechanism for the database\nconsistency work.\n\nThe mechanism uses futurist [0] for running the two periodic tasks:\n``check_for_incosistencies`` and ``cleanup_old_locks``.\n\nThe ``check_for_incosistencies`` task will compare the\n""ovn_revision_numbers"" table with the Neutron\'s ""standardattributes""\ntable and check if there\'s any difference between the revision numbers.\nIf there\'re incosistencies it will the try to get a lock on that object\n(introduced on previous patches) and sync that resource with the latest\nin neutron. A OVSDB lock is used for this task as well to guarantee that\nonly one check is running in the entirely cluster.\n\nThe ``cleanup_old_locks`` task just clean up the locking table removing\nlocks that haven\'t been acquired for a certain period of time\n(defaulting to 10 minutes).\n\nThe maintenance mechanism runs on its own OVN worker [1] so the OVSDB\nlock doesn\'t conflict with the OVSDB monitor one.\n\nCurrently in this patch, only the ``network`` resource is being\naddressed to keep it small and easy to review. New resources will be\nadded on subsequently patches.\n\nThe ``update_network`` method in OVNClient was updated to make the\n""original_network"" parameter optional. The reason is because at the time\nwe are sync\'ing it with the lastest version in the neutron database the\nmaintenance task won\'t have the ""original_network"" at hand. To keep it\nsimple, if that parameter is not passed to the ""update_network"" method\nthe whole resource will be updated skipping any comparison between the\noriginal and the new.\n\n[0] https://github.com/openstack/futurist/\n\n[1]\nhttps://docs.openstack.org/networking-ovn/latest/contributor/design/ovn_worker.html\n\nChange-Id: If91f0a37214eba8d6c40058842cecf8200be4190\n'}, {'number': 3, 'created': '2017-09-14 11:19:03.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/db/test_maintenance.py', 'requirements.txt', 'networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/86af429e3ae7e3e9a2c3507c7ac5d2bc7369ff30', 'message': 'Add database maintenance mechanism (starting with networks)\n\nThis patch is introducing the maintenance mechanism for the database\nconsistency work.\n\nThe mechanism uses futurist [0] for running the two periodic tasks:\n``check_for_incosistencies`` and ``cleanup_old_locks``.\n\nThe ``check_for_incosistencies`` task will compare the\n""ovn_revision_numbers"" table with the Neutron\'s ""standardattributes""\ntable and check if there\'s any difference between the revision numbers.\nIf there\'re incosistencies it will the try to get a lock on that object\n(introduced on previous patches) and sync that resource with the latest\nin neutron. A OVSDB lock is used for this task as well to guarantee that\nonly one check is running in the entirely cluster.\n\nThe ``cleanup_old_locks`` task just clean up the locking table removing\nlocks that haven\'t been acquired for a certain period of time\n(defaulting to 10 minutes).\n\nThe maintenance mechanism runs on its own OVN worker [1] so the OVSDB\nlock doesn\'t conflict with the OVSDB monitor one.\n\nCurrently in this patch, only the ``network`` resource is being\naddressed to keep it small and easy to review. New resources will be\nadded on subsequently patches.\n\nThe ``update_network`` method in OVNClient was updated to make the\n""original_network"" parameter optional. The reason is because at the time\nwe are sync\'ing it with the lastest version in the neutron database the\nmaintenance task won\'t have the ""original_network"" at hand. To keep it\nsimple, if that parameter is not passed to the ""update_network"" method\nthe whole resource will be updated skipping any comparison between the\noriginal and the new.\n\n[0] https://github.com/openstack/futurist/\n\n[1]\nhttps://docs.openstack.org/networking-ovn/latest/contributor/design/ovn_worker.html\n\nChange-Id: If91f0a37214eba8d6c40058842cecf8200be4190\n'}]",0,503705,86af429e3ae7e3e9a2c3507c7ac5d2bc7369ff30,8,1,3,6773,,,0,"Add database maintenance mechanism (starting with networks)

This patch is introducing the maintenance mechanism for the database
consistency work.

The mechanism uses futurist [0] for running the two periodic tasks:
``check_for_incosistencies`` and ``cleanup_old_locks``.

The ``check_for_incosistencies`` task will compare the
""ovn_revision_numbers"" table with the Neutron's ""standardattributes""
table and check if there's any difference between the revision numbers.
If there're incosistencies it will the try to get a lock on that object
(introduced on previous patches) and sync that resource with the latest
in neutron. A OVSDB lock is used for this task as well to guarantee that
only one check is running in the entirely cluster.

The ``cleanup_old_locks`` task just clean up the locking table removing
locks that haven't been acquired for a certain period of time
(defaulting to 10 minutes).

The maintenance mechanism runs on its own OVN worker [1] so the OVSDB
lock doesn't conflict with the OVSDB monitor one.

Currently in this patch, only the ``network`` resource is being
addressed to keep it small and easy to review. New resources will be
added on subsequently patches.

The ``update_network`` method in OVNClient was updated to make the
""original_network"" parameter optional. The reason is because at the time
we are sync'ing it with the lastest version in the neutron database the
maintenance task won't have the ""original_network"" at hand. To keep it
simple, if that parameter is not passed to the ""update_network"" method
the whole resource will be updated skipping any comparison between the
original and the new.

[0] https://github.com/openstack/futurist/

[1]
https://docs.openstack.org/networking-ovn/latest/contributor/design/ovn_worker.html

Change-Id: If91f0a37214eba8d6c40058842cecf8200be4190
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/05/503705/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/db/test_maintenance.py', 'requirements.txt', 'networking_ovn/common/maintenance.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py']",9,d4e8856522366231fff0a226336bccff65ef0802,bug/1605089-db_consistency, create_network_calls = [mock.call(net['net'])," create_network_calls = [mock.call(net['net'], None, None)",388,28
openstack%2Fnetworking-ovn~master~I2f0e1f13c0bc7d5114e407e2ef41d7ba2f643ae0,openstack/networking-ovn,master,I2f0e1f13c0bc7d5114e407e2ef41d7ba2f643ae0,Save network's revision number,ABANDONED,2017-09-13 15:14:50.000000000,2017-11-06 11:13:26.000000000,,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-09-13 15:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/dbcfdfd3a94153c5b215fa6aa1815fdd230ae6ba', 'message': 'Save network\'s revision number\n\nThis patch creates a new database table called ""ovn_revision_numbers""\nwhich is responsible for keeping track of the OVN\'s resources revision\nnumbers (to later be compared with the Neutron\'s standardattribute\ntable).\n\nA RevisionManager mechanism was introduced and integrated with the\nlocking mechanism so the revision number can be bumped before the lock\nis released (if no exception has been raised). It\'s also used to compare\nthe object\'s revision number with the number in the database so, old\nconflicting changes can be discarded. The integration looks like:\n\n  with db_lock.acquire(<UUID>, <Type>) as lock:\n      lock.init_revision_manager(<Object>)\n      <code>\n\nOR\n\n  with db_lock.acquire(<UUID>, <Type>) as lock:\n      lock.init_revision_manager(<Object>)\n      if lock.is_revision_older():\n          # Discard change and don\'t bump the revision number\n          lock.bump_revision = False\n      \t  return\n      <code>\n\nIf the ""<code>"" executes successfully (no exception is raised) then the\nrevision number for that object will be bumped at the end of the context\nmanager execution body (before the lock is released).\n\nThe revision number is also being saved in the ""external_ids"" field\nin OVSDB.\n\nAs the first line of this commit says, this patch is only covering the\nnetworks resources, other resources will be added later.\n\nPartial-Bug: #1605089\nChange-Id: I2f0e1f13c0bc7d5114e407e2ef41d7ba2f643ae0\n'}, {'number': 2, 'created': '2017-09-14 08:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fdc900cb19f7ec8cf53d6f5dd9232ecd51a6c40b', 'message': 'Save network\'s revision number\n\nThis patch creates a new database table called ""ovn_revision_numbers""\nwhich is responsible for keeping track of the OVN\'s resources revision\nnumbers (to later be compared with the Neutron\'s standardattribute\ntable).\n\nA RevisionManager mechanism was introduced and integrated with the\nlocking mechanism so the revision number can be bumped before the lock\nis released (if no exception has been raised). It\'s also used to compare\nthe object\'s revision number with the number in the database so, old\nconflicting changes can be discarded. The integration looks like:\n\n  with db_lock.acquire(<UUID>, <Type>) as lock:\n      lock.init_revision_manager(<Object>)\n      <code>\n\nOR\n\n  with db_lock.acquire(<UUID>, <Type>) as lock:\n      lock.init_revision_manager(<Object>)\n      if lock.is_revision_older():\n          # Discard change and don\'t bump the revision number\n          lock.bump_revision = False\n      \t  return\n      <code>\n\nIf the ""<code>"" executes successfully (no exception is raised) then the\nrevision number for that object will be bumped at the end of the context\nmanager execution body (before the lock is released).\n\nThe revision number is also being saved in the ""external_ids"" field\nin OVSDB.\n\nAs the first line of this commit says, this patch is only covering the\nnetworks resources, other resources will be added later.\n\nPartial-Bug: #1605089\nChange-Id: I2f0e1f13c0bc7d5114e407e2ef41d7ba2f643ae0\n'}, {'number': 3, 'created': '2017-09-14 11:19:03.000000000', 'files': ['networking_ovn/common/utils.py', 'networking_ovn/db/migration/alembic_migrations/versions/queens/expand/f48286668608_add_ovn_revision_numbers_table.py', 'networking_ovn/tests/unit/db/test_revision.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/unit/db/base.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/db/models.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/db/lock.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/db/revision.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/811f37fb5ed1dd0ca99ce17541affa8c29cb4d45', 'message': 'Save network\'s revision number\n\nThis patch creates a new database table called ""ovn_revision_numbers""\nwhich is responsible for keeping track of the OVN\'s resources revision\nnumbers (to later be compared with the Neutron\'s standardattribute\ntable).\n\nA RevisionManager mechanism was introduced and integrated with the\nlocking mechanism so the revision number can be bumped before the lock\nis released (if no exception has been raised). It\'s also used to compare\nthe object\'s revision number with the number in the database so, old\nconflicting changes can be discarded. The integration looks like:\n\n  with db_lock.acquire(<UUID>, <Type>) as lock:\n      lock.init_revision_manager(<Object>)\n      <code>\n\nOR\n\n  with db_lock.acquire(<UUID>, <Type>) as lock:\n      lock.init_revision_manager(<Object>)\n      if lock.is_revision_older():\n          # Discard change and don\'t bump the revision number\n          lock.bump_revision = False\n      \t  return\n      <code>\n\nIf the ""<code>"" executes successfully (no exception is raised) then the\nrevision number for that object will be bumped at the end of the context\nmanager execution body (before the lock is released).\n\nThe revision number is also being saved in the ""external_ids"" field\nin OVSDB.\n\nAs the first line of this commit says, this patch is only covering the\nnetworks resources, other resources will be added later.\n\nPartial-Bug: #1605089\nChange-Id: I2f0e1f13c0bc7d5114e407e2ef41d7ba2f643ae0\n'}]",7,503704,811f37fb5ed1dd0ca99ce17541affa8c29cb4d45,11,3,3,6773,,,0,"Save network's revision number

This patch creates a new database table called ""ovn_revision_numbers""
which is responsible for keeping track of the OVN's resources revision
numbers (to later be compared with the Neutron's standardattribute
table).

A RevisionManager mechanism was introduced and integrated with the
locking mechanism so the revision number can be bumped before the lock
is released (if no exception has been raised). It's also used to compare
the object's revision number with the number in the database so, old
conflicting changes can be discarded. The integration looks like:

  with db_lock.acquire(<UUID>, <Type>) as lock:
      lock.init_revision_manager(<Object>)
      <code>

OR

  with db_lock.acquire(<UUID>, <Type>) as lock:
      lock.init_revision_manager(<Object>)
      if lock.is_revision_older():
          # Discard change and don't bump the revision number
          lock.bump_revision = False
      	  return
      <code>

If the ""<code>"" executes successfully (no exception is raised) then the
revision number for that object will be bumped at the end of the context
manager execution body (before the lock is released).

The revision number is also being saved in the ""external_ids"" field
in OVSDB.

As the first line of this commit says, this patch is only covering the
networks resources, other resources will be added later.

Partial-Bug: #1605089
Change-Id: I2f0e1f13c0bc7d5114e407e2ef41d7ba2f643ae0
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/503704/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'networking_ovn/db/migration/alembic_migrations/versions/queens/expand/f48286668608_add_ovn_revision_numbers_table.py', 'networking_ovn/tests/unit/db/test_revision.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/unit/db/base.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/db/models.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/db/lock.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/db/revision.py']",16,dbcfdfd3a94153c5b215fa6aa1815fdd230ae6ba,bug/1605089-db_consistency,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.db import standard_attr from neutron_lib.db import api as db_api from oslo_db import api as oslo_db_api from oslo_log import log from sqlalchemy.orm import exc from networking_ovn.common import constants as ovn_const from networking_ovn.common import exceptions as ovn_exc from networking_ovn.db import models LOG = log.getLogger(__name__) STD_ATTR_MAP = standard_attr.get_standard_attr_resource_model_map() class RevisionManager(object): def __init__(self, resource_uuid, resource_type, revision_number): self.resource_uuid = resource_uuid self.resource_type = resource_type self.revision_number = revision_number def is_revision_older(self): """"""Check if the resource's revision number is older. Check if the resource's revision number is older than the one in the database (if present). """""" session = db_api.get_reader_session() with session.begin(): try: session.query(models.OVNRevisionNumbers).filter( models.OVNRevisionNumbers.resource_uuid == self.resource_uuid, models.OVNRevisionNumbers.revision_number > self.revision_number).one() return True except exc.NoResultFound: return False def bump_revision(self): """"""Bump the resource revision number."""""" bump_revision(self.resource_uuid, self.resource_type, self.revision_number) @oslo_db_api.wrap_db_retry( max_retries=ovn_const.DB_MAX_RETRIES, retry_interval=ovn_const.DB_INITIAL_RETRY_INTERVAL, max_retry_interval=ovn_const.DB_MAX_RETRY_INTERVAL, inc_retry_interval=True, retry_on_deadlock=True) def bump_revision(resource_uuid, resource_type, revision_number): session = db_api.get_writer_session() with session.begin(): std_attr_id = _get_standard_attr_id( session, resource_uuid, resource_type) row = session.merge(models.OVNRevisionNumbers( standard_attr_id=std_attr_id, resource_uuid=resource_uuid)) if revision_number < row.revision_number: return row.revision_number = revision_number session.merge(row) LOG.info('Successfully bumped revision number for resource ' '%(res_uuid)s to %(rev_num)d', {'res_uuid': resource_uuid, 'rev_num': revision_number}) def _get_standard_attr_id(session, resource_uuid, resource_type): try: row = session.query(STD_ATTR_MAP[resource_type]).filter_by( id=resource_uuid).one() return row.standard_attr_id except exc.NoResultFound: raise ovn_exc.StandardAttributeIDNotFound( resource_uuid=resource_uuid) @oslo_db_api.wrap_db_retry( max_retries=ovn_const.DB_MAX_RETRIES, retry_interval=ovn_const.DB_INITIAL_RETRY_INTERVAL, max_retry_interval=ovn_const.DB_MAX_RETRY_INTERVAL, inc_retry_interval=True, retry_on_deadlock=True) def create_initial_revision(resource_uuid, resource_type, session=None, revision_number=-1): subtransactions = True if session is None: session = db_api.get_writer_session() subtransactions = False with session.begin(subtransactions=subtransactions): std_attr_id = _get_standard_attr_id( session, resource_uuid, resource_type) row = models.OVNRevisionNumbers( resource_uuid=resource_uuid, resource_type=resource_type, standard_attr_id=std_attr_id, revision_number=revision_number) session.add(row) ",,429,55
openstack%2Fnetworking-ovn~master~Ic7e95becd63c6bbffa60c0fed77525274e2e5b43,openstack/networking-ovn,master,Ic7e95becd63c6bbffa60c0fed77525274e2e5b43,Add database locking mechanism,ABANDONED,2017-09-13 15:14:50.000000000,2017-11-06 11:13:19.000000000,,"[{'_account_id': 3}, {'_account_id': 6773}]","[{'number': 1, 'created': '2017-09-13 15:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4035287721ef930788b2787c526fd63e0b94ce21', 'message': 'Add database locking mechanism\n\nThis patch is introducing a new locking mechanism for basic atomicity\nwhen dealing with conflicting requests trying to modify the same\nresource.\n\nThe usage is quite straight forward, the resource UUID and type is passed\nas a parameter to the acquire() method and when more than one acquire()\nis invoked using the same resource UUID only 1 worker will acquire the\nlock, the rest will wait. For example:\n\n  with db_lock.acquire(<UUID>, <TYPE>):\n      # protected\n\nA TTL mechanism is also present, if for whatever reason a worker that\nacquired a lock crashes mid-operation the lock will be broken by other\nrequests after a timeout. The timeout can be configured via the\n[ovn]/db_lock_ttl configuration option.\n\nThe resources affected by this patch are:\n\n - ML2: Networks, Ports, Subnets, Security Groups and Security Group\n Rules.\n - L3: Routers, Router Interfaces and Floating IPs.\n\nPartial-Bug: #1605089\nChange-Id: Ic7e95becd63c6bbffa60c0fed77525274e2e5b43\n'}, {'number': 2, 'created': '2017-09-14 08:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/273e4f522f72b187eb037927ce02c9abd3033d91', 'message': 'Add database locking mechanism\n\nThis patch is introducing a new locking mechanism for basic atomicity\nwhen dealing with conflicting requests trying to modify the same\nresource.\n\nThe usage is quite straight forward, the resource UUID and type is passed\nas a parameter to the acquire() method and when more than one acquire()\nis invoked using the same resource UUID only 1 worker will acquire the\nlock, the rest will wait. For example:\n\n  with db_lock.acquire(<UUID>, <TYPE>):\n      # protected\n\nA TTL mechanism is also present, if for whatever reason a worker that\nacquired a lock crashes mid-operation the lock will be broken by other\nrequests after a timeout. The timeout can be configured via the\n[ovn]/db_lock_ttl configuration option.\n\nThe resources affected by this patch are:\n\n - ML2: Networks, Ports, Subnets, Security Groups and Security Group\n Rules.\n - L3: Routers, Router Interfaces and Floating IPs.\n\nPartial-Bug: #1605089\nChange-Id: Ic7e95becd63c6bbffa60c0fed77525274e2e5b43\n'}, {'number': 3, 'created': '2017-09-14 11:19:03.000000000', 'files': ['networking_ovn/db/migration/alembic_migrations/versions/queens/expand/9a50bdf0c677_add_ovn_db_locks_table.py', 'networking_ovn/l3/l3_ovn.py', 'networking_ovn/tests/unit/db/base.py', 'networking_ovn/tests/unit/db/test_lock.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/db/models.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_ovn/common/config.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/db/lock.py', 'networking_ovn/tests/unit/db/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ce969337c5c22ac9aef4af50a5ce85a7f19035b2', 'message': 'Add database locking mechanism\n\nThis patch is introducing a new locking mechanism for basic atomicity\nwhen dealing with conflicting requests trying to modify the same\nresource.\n\nThe usage is quite straight forward, the resource UUID and type is passed\nas a parameter to the acquire() method and when more than one acquire()\nis invoked using the same resource UUID only 1 worker will acquire the\nlock, the rest will wait. For example:\n\n  with db_lock.acquire(<UUID>, <TYPE>):\n      # protected\n\nA TTL mechanism is also present, if for whatever reason a worker that\nacquired a lock crashes mid-operation the lock will be broken by other\nrequests after a timeout. The timeout can be configured via the\n[ovn]/db_lock_ttl configuration option.\n\nThe resources affected by this patch are:\n\n - ML2: Networks, Ports, Subnets, Security Groups and Security Group\n Rules.\n - L3: Routers, Router Interfaces and Floating IPs.\n\nPartial-Bug: #1605089\nChange-Id: Ic7e95becd63c6bbffa60c0fed77525274e2e5b43\n'}]",0,503703,ce969337c5c22ac9aef4af50a5ce85a7f19035b2,8,2,3,6773,,,0,"Add database locking mechanism

This patch is introducing a new locking mechanism for basic atomicity
when dealing with conflicting requests trying to modify the same
resource.

The usage is quite straight forward, the resource UUID and type is passed
as a parameter to the acquire() method and when more than one acquire()
is invoked using the same resource UUID only 1 worker will acquire the
lock, the rest will wait. For example:

  with db_lock.acquire(<UUID>, <TYPE>):
      # protected

A TTL mechanism is also present, if for whatever reason a worker that
acquired a lock crashes mid-operation the lock will be broken by other
requests after a timeout. The timeout can be configured via the
[ovn]/db_lock_ttl configuration option.

The resources affected by this patch are:

 - ML2: Networks, Ports, Subnets, Security Groups and Security Group
 Rules.
 - L3: Routers, Router Interfaces and Floating IPs.

Partial-Bug: #1605089
Change-Id: Ic7e95becd63c6bbffa60c0fed77525274e2e5b43
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/03/503703/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/db/migration/alembic_migrations/versions/queens/expand/9a50bdf0c677_add_ovn_db_locks_table.py', 'networking_ovn/l3/l3_ovn.py', 'networking_ovn/tests/unit/db/base.py', 'networking_ovn/tests/unit/db/test_lock.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/db/models.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_ovn/common/config.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/db/lock.py', 'networking_ovn/tests/unit/db/__init__.py']",13,4035287721ef930788b2787c526fd63e0b94ce21,bug/1605089-db_consistency,,,674,212
openstack%2Fironic~master~I089d4a903227ba7d1c9bb42e9ab0b6ea977cf26e,openstack/ironic,master,I089d4a903227ba7d1c9bb42e9ab0b6ea977cf26e,Run integration jobs when requirements change,ABANDONED,2017-11-03 15:13:15.000000000,2017-11-06 11:00:02.000000000,,"[{'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 12356}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 15:13:15.000000000', 'files': ['zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b80d8f8534aeb882247af6f1184ce2ad5c4b440d', 'message': 'Run integration jobs when requirements change\n\nChange-Id: I089d4a903227ba7d1c9bb42e9ab0b6ea977cf26e\n'}]",0,517640,b80d8f8534aeb882247af6f1184ce2ad5c4b440d,12,7,1,12356,,,0,"Run integration jobs when requirements change

Change-Id: I089d4a903227ba7d1c9bb42e9ab0b6ea977cf26e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/517640/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/legacy-ironic-jobs.yaml'],1,b80d8f8534aeb882247af6f1184ce2ad5c4b440d,run-jobs-on-reqs-change, - ^test-requirements.txt$ - ^test-requirements.txt$, - ^(test-|)requirements.txt$ - ^(test-|)requirements.txt$,2,2
openstack%2Fcharm-ceilometer-agent~master~I1d6cb06433f70a2c0225cafb77f3a2cbbfe703b7,openstack/charm-ceilometer-agent,master,I1d6cb06433f70a2c0225cafb77f3a2cbbfe703b7,Fix test_303 for pre-mitaka,MERGED,2017-11-01 16:15:50.000000000,2017-11-06 10:17:04.000000000,2017-11-06 10:17:04.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-01 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/737dccbc741f6f37e1717c83257923574216be85', 'message': 'Fix test_303 for pre-mitaka\n\ntest_303_nova_ceilometer_config_check_endpoint was recently\nintroduced but it expects ceilometer-polling aganet to be present\nwhich it is not on pre-liberty releases. This change fixes that\nassumption and updates the expected keyword for earlier releases.\n\nChange-Id: I1d6cb06433f70a2c0225cafb77f3a2cbbfe703b7\nCloses-Bug: #1729346\n'}, {'number': 2, 'created': '2017-11-01 16:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/ea878df287042befec82d0c399a81bd32097d0fb', 'message': 'Fix test_303 for pre-mitaka\n\ntest_303_nova_ceilometer_config_check_endpoint was recently\nintroduced but it expects ceilometer-polling aganet to be present\nwhich it is not on pre-liberty releases. This change fixes that\nassumption and updates the expected keyword for earlier releases.\n\nChange-Id: I1d6cb06433f70a2c0225cafb77f3a2cbbfe703b7\nCloses-Bug: #1729346\n'}, {'number': 3, 'created': '2017-11-02 09:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/dc541c13fe0d264934ba32cc2742ab17626ff2e6', 'message': 'Fix test_303 for pre-mitaka\n\ntest_303_nova_ceilometer_config_check_endpoint was recently\nintroduced but it expects ceilometer-polling aganet to be present\nwhich it is not on pre-liberty releases. This change fixes that\nassumption and updates the expected keyword for earlier releases.\n\nChange-Id: I1d6cb06433f70a2c0225cafb77f3a2cbbfe703b7\nCloses-Bug: #1729346\n'}, {'number': 4, 'created': '2017-11-03 07:56:10.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/904aa0d6049938f65c8a48738dc9318bb194f994', 'message': 'Fix test_303 for pre-mitaka\n\ntest_303_nova_ceilometer_config_check_endpoint was recently\nintroduced but it expects ceilometer-polling aganet to be present\nwhich it is not on pre-liberty releases. This change fixes that\nassumption and updates the expected keyword for earlier releases.\n\nChange-Id: I1d6cb06433f70a2c0225cafb77f3a2cbbfe703b7\nCloses-Bug: #1729346\n'}]",0,517030,904aa0d6049938f65c8a48738dc9318bb194f994,25,4,4,12549,,,0,"Fix test_303 for pre-mitaka

test_303_nova_ceilometer_config_check_endpoint was recently
introduced but it expects ceilometer-polling aganet to be present
which it is not on pre-liberty releases. This change fixes that
assumption and updates the expected keyword for earlier releases.

Change-Id: I1d6cb06433f70a2c0225cafb77f3a2cbbfe703b7
Closes-Bug: #1729346
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/30/517030/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,737dccbc741f6f37e1717c83257923574216be85,bug/1729346, if self._get_openstack_release() >= self.trusty_liberty: service = 'ceilometer-polling' else: service = 'ceilometer-agent-compute' if self._get_openstack_release() >= self.trusty_mitaka: expected_alternate['service_credentials'] = {'interface': 'internalURL'} else: expected_alternate['service_credentials'] = {'interface': 'internal'}," 'service_credentials': { 'interface': 'internalURL' }, service = 'ceilometer-polling'",8,4
openstack%2Fneutron~master~I3ad8d6e7b8f103867ee277078d03f3a01c20ac0d,openstack/neutron,master,I3ad8d6e7b8f103867ee277078d03f3a01c20ac0d,Fullstack: init trunk agent's driver only when necessary,MERGED,2017-11-03 10:18:26.000000000,2017-11-06 10:02:37.000000000,2017-11-04 00:25:05.000000000,"[{'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 10:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/477b938cef174160b38d43dbdf6d54b96cc1e0bd', 'message': 'Fullstack: init trunk agent\'s driver only when necessary\n\nTrunk driver is not needed to be initialized when ""trunk""\nservice plugin is not enabled.\nOn production environments it\'s not possible to base on\n""service_plugins"" config option on L2 agent\'s side so this\ndriver is initialized always.\nIt cause problems on fullstack tests becasue there is race\ncondition between different ovs agents which consumes events\nfrom Openvswitch monitor.\nOn fullstack tests however we can assume that agent\'s and server\'s\nconfig are in sync so trunk driver can be initialized only if\n""trunk"" service plugin is enabled on server side.\n\nChange-Id: I3ad8d6e7b8f103867ee277078d03f3a01c20ac0d\nCloses-Bug: #1687709\n'}, {'number': 2, 'created': '2017-11-03 16:49:27.000000000', 'files': ['neutron/tests/fullstack/resources/process.py', 'neutron/tests/fullstack/test_trunk.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/cmd/ovs_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/806cf71eb5af34359f8bc0c6b740752e53cf854f', 'message': 'Fullstack: init trunk agent\'s driver only when necessary\n\nTrunk driver is not needed to be initialized when ""trunk""\nservice plugin is not enabled.\nOn production environments it\'s not possible to base on\n""service_plugins"" config option on L2 agent\'s side so this\ndriver is initialized always.\nIt cause problems on fullstack tests becasue there is race\ncondition between different ovs agents which consumes events\nfrom Openvswitch monitor.\nOn fullstack tests however we can assume that agent\'s and server\'s\nconfig are in sync so trunk driver can be initialized only if\n""trunk"" service plugin is enabled on server side.\n\nChange-Id: I3ad8d6e7b8f103867ee277078d03f3a01c20ac0d\nCloses-Bug: #1687709\n'}]",11,517598,806cf71eb5af34359f8bc0c6b740752e53cf854f,19,6,2,11975,,,0,"Fullstack: init trunk agent's driver only when necessary

Trunk driver is not needed to be initialized when ""trunk""
service plugin is not enabled.
On production environments it's not possible to base on
""service_plugins"" config option on L2 agent's side so this
driver is initialized always.
It cause problems on fullstack tests becasue there is race
condition between different ovs agents which consumes events
from Openvswitch monitor.
On fullstack tests however we can assume that agent's and server's
config are in sync so trunk driver can be initialized only if
""trunk"" service plugin is enabled on server side.

Change-Id: I3ad8d6e7b8f103867ee277078d03f3a01c20ac0d
Closes-Bug: #1687709
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/517598/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/resources/process.py', 'neutron/tests/fullstack/test_trunk.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/cmd/ovs_agent.py']",4,477b938cef174160b38d43dbdf6d54b96cc1e0bd,bug/1687709,"#!/usr/bin/env python # Copyright 2017 OVH SAS # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sys from oslo_config import cfg from neutron.services.trunk.drivers.openvswitch.agent \ import driver as trunk_driver from neutron.tests.common.agents import ovs_agent def monkeypatch_init_handler(): original_handler = trunk_driver.init_handler def new_init_handler(resource, event, trigger, payload=None): # make this setup conditional based on server-side capabilities # for fullstack tests we can assume that server-side and agent-side # conf are in sync if ""trunk"" not in cfg.CONF.service_plugins: return original_handler(resource, event, trigger, payload) trunk_driver.init_handler = new_init_handler def main(): monkeypatch_init_handler() ovs_agent.main() if __name__ == ""__main__"": sys.exit(main()) ",,48,3
openstack%2Fcinder~master~I5a7e361236398ce51fcc8d095d4cd3c7249c812d,openstack/cinder,master,I5a7e361236398ce51fcc8d095d4cd3c7249c812d,HPE 3PAR: Adding driver capability,ABANDONED,2017-06-14 09:05:42.000000000,2017-11-06 09:48:53.000000000,,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21407}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-06-14 09:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4e6e9b38ed350ab93c3a2a09161980cdbbb2273', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 2, 'created': '2017-06-14 09:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c5fb9ee460076abe9e6b72c2b83b561dc9f3bb8', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 3, 'created': '2017-06-14 12:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/165511341345e35388b08face41636acabd89c35', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 4, 'created': '2017-06-21 11:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fad567d81c3e7fe11a5648de2660efe207c0e4ed', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 5, 'created': '2017-06-22 10:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ecf36cacea3cc1b211ab65f82f9023a51b29045', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 6, 'created': '2017-06-27 13:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4530bb4216a4c57bfabe06fa174507918912f0d1', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nDocImpact\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 7, 'created': '2017-06-29 09:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02c35e882424f09ab79f122834ac31179673e14f', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nDocImpact\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 8, 'created': '2017-07-12 09:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69f98ef61d34478fc24798a2b05a2e2c707c9ec8', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nDocImpact\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 9, 'created': '2017-07-19 08:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbbcd10625baff8cce24c6eae59d2cf5204ab3f2', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nDocImpact\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}, {'number': 10, 'created': '2017-07-24 05:45:13.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py', 'releasenotes/notes/3par-get-capability-ccf553bbeaa7308a.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/459785a29a0073ec086a1e65035f7ba09e63025e', 'message': 'HPE 3PAR: Adding driver capability\n\nAdded 3par capability which can be used\nfor setting properties of volume type.\n\nDocImpact\nChange-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d\n'}]",2,474122,459785a29a0073ec086a1e65035f7ba09e63025e,250,51,10,21407,,,0,"HPE 3PAR: Adding driver capability

Added 3par capability which can be used
for setting properties of volume type.

DocImpact
Change-Id: I5a7e361236398ce51fcc8d095d4cd3c7249c812d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/474122/10 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_base.py'],1,c4e6e9b38ed350ab93c3a2a09161980cdbbb2273,capability," @utils.trace def _init_vendor_properties(self): """"""Create a dictionary of vendor unique properties. This method creates a dictionary of vendor unique properties and returns both created dictionary and vendor name. Returned vendor name is used to check for name of vendor unique properties. - Vendor name shouldn't include colon(:) because of the separator and it is automatically replaced by underscore(_). ex. abc:d -> abc_d - Vendor prefix is equal to vendor name. ex. abcd - Vendor unique properties must start with vendor prefix + ':'. ex. abcd:maxIOPS Each backend driver needs to override this method to expose its own properties using _set_property() like this: self._set_property( properties, ""vendorPrefix:specific_property"", ""Title of property"", _(""Description of property""), ""type"") : return dictionary of vendor unique properties : return vendor name prefix: hpe3par --> HPE 3par """""" properties = {} self._set_property( properties, ""hpe3par:snap_cpg"", ""Snap CPG Extra-specs"", _(""Specifies the Snap CPG for a volume type. It overrides the "" ""hpe3par_cpg_snap setting. Defaults to the hpe3par_cpg_snap "" ""setting in the cinder.conf file. If hpe3par_cpg_snap is not set "" ""set, it defaults to the hpe3par_cpg setting.""), ""string"") self._set_property( properties, ""hpe3par:persona"", ""Host Persona Extra-specs"", _(""Specifies the host persona property for a volume type. It "" ""overrides the hpe3par_cpg_snap setting. Defaults to the "" ""hpe3par_cpg_snap setting in the cinder.conf file. "" ""If hpe3par_cpg_snap is not set "" ""set, it defaults to the hpe3par_cpg setting.""), ""string"", enum=self.valid_persona_values, default=""2—Generic-ALUA"") self._set_property( properties, ""hpe3par:vvs"", ""Virtual Volume Set Extra-specs"", _(""The virtual volume set name that has been set up by the "" ""administrator that would have predefined QoS rules "" ""associated with it. If you specify extra_specs "" ""hpe3par:vvs, the qos_specs minIOPS, maxIOPS, minBWS, "" ""and maxBWS settings are ignored.""), ""string"") self._set_property( properties, ""hpe3par:flash_cache"", ""Flash cache Extra-specs"", _(""Enables Flash cache setting for a volume type""), ""boolean"", default=False) self._set_property( properties, ""hpe3par:provisioning"", ""Storage Provisioning Extra-specs"", _(""Specifies the provisioning for a volume type""), ""string"", enum=[""thin"", ""dedup"", ""full""], default=""thin"") self._set_property( properties, ""hpe3par:compression"", ""Storage Provisioning Extra-specs"", _(""Enables compression for a volume type""), ""boolean"", default=False) self._set_property( properties, ""replication_enabled"", ""Volume Replication Extra-specs"", _(""The valid value is: <is> True "" ""If True, the volume is to be replicated, if supported, "" ""by the backend driver. If the option is not specified or "" ""False, then replication is not enabled. This option is "" ""required to enable replication""), ""string"", default=False) # ###### QoS Settings ###### # self._set_property( properties, ""minIOPS"", ""Minimum IOPS QoS"", ""Storage Provisioning Extra-specs"", _(""Sets the QoS, I/O issue count minimum goal. "" ""If not specified, there is no limit on I/O issue count.""), ""integer"") self._set_property( properties, ""maxIOPS"", ""Maximum IOPS QoS"", ""Storage Provisioning Extra-specs"", _(""Sets the QoS, I/O issue count rate limit. "" ""If not specified, there is no limit on I/O issue count.""), ""integer"") self._set_property( properties, ""minBWS"", ""Minimum Bandwidth QoS"", _(""Sets the QoS, I/O issue bandwidth minimum goal. "" ""If not specified, there is no limit on "" ""I/O issue bandwidth rate.""), ""integer"") self._set_property( properties, ""maxBWS"", ""Maximum Bandwidth QoS"", _(""Sets the QoS, I/O issue bandwidth rate limit. "" ""If notspecified, there is no limit on I/O issue "" ""bandwidth rate.""), ""integer"") self._set_property( properties, ""latency"", ""Latency QoS"", _(""Sets the latency goal in milliseconds.""), ""integer"") self._set_property( properties, ""priority"", ""Priority QoS"", _(""Sets the priority of the QoS rule over other rules.""), ""string"", enum=[""low"", ""normal"", ""high""], default=""normal"")",,157,0
openstack%2Fproject-config~master~Ie38137d5c6ef523c4411e9a83a5bda3902afa717,openstack/project-config,master,Ie38137d5c6ef523c4411e9a83a5bda3902afa717,[networking-odl] Adding dependencies for periodic,ABANDONED,2017-11-06 09:28:41.000000000,2017-11-06 09:43:46.000000000,,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 09:28:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b1fd86f9c209f96a1628fa4a3f7b459978b4733a', 'message': '[networking-odl] Adding dependencies for periodic\n\nPeriodic jobs where added automatically by a script run by infra,\nhowever they were missing dependencies. This patch adds those\ndependencies.\n\nChange-Id: Ie38137d5c6ef523c4411e9a83a5bda3902afa717\n'}]",0,517896,b1fd86f9c209f96a1628fa4a3f7b459978b4733a,3,4,1,26507,,,0,"[networking-odl] Adding dependencies for periodic

Periodic jobs where added automatically by a script run by infra,
however they were missing dependencies. This patch adds those
dependencies.

Change-Id: Ie38137d5c6ef523c4411e9a83a5bda3902afa717
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/517896/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,b1fd86f9c209f96a1628fa4a3f7b459978b4733a,change/migrate_networking_odl_to_zuulv3, periodic-stable: jobs: - legacy-periodic-docs-newton: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - legacy-periodic-python27-newton: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - legacy-periodic-docs-ocata: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - legacy-periodic-python27-ocata: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - legacy-periodic-docs-pike: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - legacy-periodic-python27-pike: required-projects: - openstack/ceilometer - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn ,,51,0
openstack%2Fmistral-lib~stable%2Fpike~I5ea09c3c79df5a43b06194a48f7425a15a1b23cf,openstack/mistral-lib,stable/pike,I5ea09c3c79df5a43b06194a48f7425a15a1b23cf,Add deprecated context parameters to the new security context,MERGED,2017-11-06 09:05:58.000000000,2017-11-06 09:29:00.000000000,2017-11-06 09:29:00.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 09:05:58.000000000', 'files': ['mistral_lib/actions/context.py', 'mistral_lib/tests/actions/test_context.py', 'mistral_lib/tests/actions/test_base.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/90457d594a091a0f8dfa0f25f2308cb22c9842b8', 'message': 'Add deprecated context parameters to the new security context\n\nIn the recent parameter migration, a number of parameters were\nincorrectly deprecated. They were not redirected to the new location\ncorrectly and would cause an error.\n\nChange-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf\nCloses-Bug: #1728081\n(cherry picked from commit e195c6d90fee0dc6b0435efd9aec6b383923cd88)\n'}]",0,517892,90457d594a091a0f8dfa0f25f2308cb22c9842b8,6,2,1,9712,,,0,"Add deprecated context parameters to the new security context

In the recent parameter migration, a number of parameters were
incorrectly deprecated. They were not redirected to the new location
correctly and would cause an error.

Change-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf
Closes-Bug: #1728081
(cherry picked from commit e195c6d90fee0dc6b0435efd9aec6b383923cd88)
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/92/517892/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_lib/actions/context.py', 'mistral_lib/tests/actions/test_context.py', 'mistral_lib/tests/actions/test_base.py']",3,90457d594a091a0f8dfa0f25f2308cb22c9842b8,bug/1718353-stable/pike,from mistral_lib.actions import context def test_run_empty_context(self): ctx = context.ActionContext() result = action.run(ctx) assert result == ctx," def test_run(self): context = {""name"": ""test""} result = action.run(context) assert result == context",80,5
openstack%2Fneutron-fwaas~master~I28ee59e23cfa166743c01ee9e342777ed05d02a1,openstack/neutron-fwaas,master,I28ee59e23cfa166743c01ee9e342777ed05d02a1,Optimize the link address,ABANDONED,2017-11-06 08:07:10.000000000,2017-11-06 09:26:45.000000000,,[],"[{'number': 1, 'created': '2017-11-06 08:07:10.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/37e11647a33905abd63a1eb90d6a9cd1fa79f4bc', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\nChange-Id: I28ee59e23cfa166743c01ee9e342777ed05d02a1\n'}]",0,517881,37e11647a33905abd63a1eb90d6a9cd1fa79f4bc,2,0,1,23958,,,0,"Optimize the link address

Use https instead of http to ensure the safety without containing our
account/password information
Change-Id: I28ee59e23cfa166743c01ee9e342777ed05d02a1
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/81/517881/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,37e11647a33905abd63a1eb90d6a9cd1fa79f4bc,fix-https,# solution from: https://bugs.python.org/issue15881#msg170215,# solution from: http://bugs.python.org/issue15881#msg170215,1,1
openstack%2Fneutron-lbaas~master~I8c774fc909b3fddd6130f19ff65a21ff38795728,openstack/neutron-lbaas,master,I8c774fc909b3fddd6130f19ff65a21ff38795728,Optimize the link address,ABANDONED,2017-11-06 07:37:41.000000000,2017-11-06 09:26:08.000000000,,"[{'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 23958}]","[{'number': 1, 'created': '2017-11-06 07:37:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/909ce03e732797bd7c7c8c315b64a2b3b362e68a', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\nChange-Id: I8c774fc909b3fddd6130f19ff65a21ff38795728\n'}]",0,517875,909ce03e732797bd7c7c8c315b64a2b3b362e68a,7,4,1,23958,,,0,"Optimize the link address

Use https instead of http to ensure the safety without containing our
account/password information
Change-Id: I8c774fc909b3fddd6130f19ff65a21ff38795728
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/75/517875/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,909ce03e732797bd7c7c8c315b64a2b3b362e68a,fix-https,home-page = https://www.openstack.org/,home-page = http://www.openstack.org/,1,1
openstack%2Fnetworking-generic-switch~master~Iaff023c7013482b98e69d23b4240a7cf3880f49b,openstack/networking-generic-switch,master,Iaff023c7013482b98e69d23b4240a7cf3880f49b,Fix various typos in devstack scripts,MERGED,2017-11-05 20:35:31.000000000,2017-11-06 09:24:13.000000000,2017-11-06 09:24:13.000000000,"[{'_account_id': 14525}, {'_account_id': 22348}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-05 20:35:31.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/dfee8641a06f56bbf93261fdc4f6dda055614aeb', 'message': 'Fix various typos in devstack scripts\n\nChange-Id: Iaff023c7013482b98e69d23b4240a7cf3880f49b\n'}]",0,517830,dfee8641a06f56bbf93261fdc4f6dda055614aeb,7,3,1,7080,,,0,"Fix various typos in devstack scripts

Change-Id: Iaff023c7013482b98e69d23b4240a7cf3880f49b
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/30/517830/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,dfee8641a06f56bbf93261fdc4f6dda055614aeb,," echo_summary ""Installing Generic_switch ML2"" echo_summary ""Configuring Generic_switch ML2"""," echo_summary ""Installing Generic_swtich ML2"" echo_summary ""Configuring Generic_swtich Ml2""",2,2
openstack%2Fceilometer~master~I338782ffd90b5f4aaf62512eb1449860b2dc90f5,openstack/ceilometer,master,I338782ffd90b5f4aaf62512eb1449860b2dc90f5,Clarify that there is only one polling agent,MERGED,2017-11-01 18:31:39.000000000,2017-11-06 09:18:07.000000000,2017-11-06 09:18:07.000000000,"[{'_account_id': 6537}, {'_account_id': 20223}, {'_account_id': 22348}, {'_account_id': 22752}, {'_account_id': 23913}, {'_account_id': 26159}, {'_account_id': 26576}, {'_account_id': 26679}]","[{'number': 1, 'created': '2017-11-01 18:31:39.000000000', 'files': ['doc/source/install/get_started.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1d66a0cecfb76c5e9a169bb74af8a734087822b5', 'message': 'Clarify that there is only one polling agent\n\nMention in install/get_started.rst that the compute polling agent\nand the central polling agent are actually the same program,\nrunning in different polling namespaces.\n\nChange-Id: I338782ffd90b5f4aaf62512eb1449860b2dc90f5\nCloses-Bug: #1728212\n'}]",3,517074,1d66a0cecfb76c5e9a169bb74af8a734087822b5,13,8,1,23913,,,0,"Clarify that there is only one polling agent

Mention in install/get_started.rst that the compute polling agent
and the central polling agent are actually the same program,
running in different polling namespaces.

Change-Id: I338782ffd90b5f4aaf62512eb1449860b2dc90f5
Closes-Bug: #1728212
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/74/517074/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/get_started.rst'],1,1d66a0cecfb76c5e9a169bb74af8a734087822b5,bug/1728212, statistics. This is actually the polling agent ``ceilometer-polling`` running with parameter ``--polling-namespace compute``. Multiple agents can be started to scale service horizontally. This is actually the polling agent ``ceilometer-polling`` running with parameter ``--polling-namespace central``., statistics. Multiple agents can be started to scale service horizontally.,5,2
openstack%2Fkolla-ansible~master~I9c83736fbe8b97bf4490efd51d558e4f664ae11e,openstack/kolla-ansible,master,I9c83736fbe8b97bf4490efd51d558e4f664ae11e,"fix ""es_heap_size"" value.",ABANDONED,2017-11-06 06:47:39.000000000,2017-11-06 09:17:47.000000000,,"[{'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 26553}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-06 06:47:39.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e17e0b0797dffa5f9b4640a9f35743355c0d42a0', 'message': 'fix ""es_heap_size"" value.\n\nThe setup is too small. If you are using this old heap memory configuration, your cluster may soon be problematic.\n\nChange-Id: I9c83736fbe8b97bf4490efd51d558e4f664ae11e\n'}]",1,517865,e17e0b0797dffa5f9b4640a9f35743355c0d42a0,7,5,1,26576,,,0,"fix ""es_heap_size"" value.

The setup is too small. If you are using this old heap memory configuration, your cluster may soon be problematic.

Change-Id: I9c83736fbe8b97bf4490efd51d558e4f664ae11e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/517865/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,e17e0b0797dffa5f9b4640a9f35743355c0d42a0,fix/all.yml,"es_heap_size: ""10G""","es_heap_size: ""1G""",1,1
openstack%2Fpython-glanceclient~master~I9893b85f284843e6515bcc017f0c51a51970d3ce,openstack/python-glanceclient,master,I9893b85f284843e6515bcc017f0c51a51970d3ce,Use generic user for both zuul v2 and v3,ABANDONED,2017-10-17 06:54:39.000000000,2017-11-06 09:15:22.000000000,,"[{'_account_id': 19554}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-17 06:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/8d5f6a9420d5616224add90ae8a7a2aef1ff086a', 'message': ""Use generic user for both zuul v2 and v3\n\nZuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.\nUsing $USER solves it for both cases.\n\nChange-Id: I9893b85f284843e6515bcc017f0c51a51970d3ce\n""}, {'number': 2, 'created': '2017-10-17 07:25:49.000000000', 'files': ['glanceclient/tests/functional/hooks/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/4712100c58d38efd116dd27e604b819e25caabdf', 'message': ""Use generic user for both zuul v2 and v3\n\nZuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.\nUsing $USER solves it for both cases.\n\nChange-Id: I9893b85f284843e6515bcc017f0c51a51970d3ce\n""}]",4,512504,4712100c58d38efd116dd27e604b819e25caabdf,11,4,2,19554,,,0,"Use generic user for both zuul v2 and v3

Zuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.
Using $USER solves it for both cases.

Change-Id: I9893b85f284843e6515bcc017f0c51a51970d3ce
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/04/512504/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/tests/functional/hooks/post_test_hook.sh'],1,8d5f6a9420d5616224add90ae8a7a2aef1ff086a,zuulv3,sudo chown -R $USER:stack $GLANCECLIENT_DIR,sudo chown -R jenkins:stack $GLANCECLIENT_DIR,1,1
openstack%2Frpm-packaging~stable%2Focata~Iee1463cce53c20c9540d3fb77e40fe6323e3e6f1,openstack/rpm-packaging,stable/ocata,Iee1463cce53c20c9540d3fb77e40fe6323e3e6f1,Add patch to fix crash on monasca-api missing quoting,MERGED,2017-11-04 04:49:59.000000000,2017-11-06 09:07:29.000000000,2017-11-06 09:07:29.000000000,"[{'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-04 04:49:59.000000000', 'files': ['openstack/monasca-api/0001-Fix-InfluxDB-repository-list_dimension_values-to-sup.patch', 'openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/624e22685e7d43d7b8793d780a27bafa09780569', 'message': 'Add patch to fix crash on monasca-api missing quoting\n\nChange-Id: Iee1463cce53c20c9540d3fb77e40fe6323e3e6f1\n'}]",0,517740,624e22685e7d43d7b8793d780a27bafa09780569,9,5,1,6593,,,0,"Add patch to fix crash on monasca-api missing quoting

Change-Id: Iee1463cce53c20c9540d3fb77e40fe6323e3e6f1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/40/517740/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/monasca-api/0001-Fix-InfluxDB-repository-list_dimension_values-to-sup.patch', 'openstack/monasca-api/monasca-api.spec.j2']",2,624e22685e7d43d7b8793d780a27bafa09780569,,# https://review.openstack.org/#/c/517739/ Patch1: 0001-Fix-InfluxDB-repository-list_dimension_values-to-sup.patch%autosetup -p1 -n %{component}-{{ upstream_version }},%autosetup -n %{component}-{{ upstream_version }},62,2
openstack%2Fmistral-lib~master~I5ea09c3c79df5a43b06194a48f7425a15a1b23cf,openstack/mistral-lib,master,I5ea09c3c79df5a43b06194a48f7425a15a1b23cf,Add deprecated context parameters to the new security context,MERGED,2017-10-27 15:43:31.000000000,2017-11-06 09:05:58.000000000,2017-11-06 08:48:56.000000000,"[{'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19206}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 15:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/78880049ce522bb85a9b5d0f2b7c1a4e813d5f3d', 'message': 'Add deprecated context parameters to the new security context\n\nIn the recent parameter migration, a number of parameters were\nincorrectly deprecated. They were not redirected to the new location\ncorrectly and would cause an error.\n\nChange-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf\nCloses-Bug: #1728081\n'}, {'number': 2, 'created': '2017-10-30 08:35:30.000000000', 'files': ['mistral_lib/actions/context.py', 'mistral_lib/tests/actions/test_context.py', 'mistral_lib/tests/actions/test_base.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/e195c6d90fee0dc6b0435efd9aec6b383923cd88', 'message': 'Add deprecated context parameters to the new security context\n\nIn the recent parameter migration, a number of parameters were\nincorrectly deprecated. They were not redirected to the new location\ncorrectly and would cause an error.\n\nChange-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf\nCloses-Bug: #1728081\n'}]",1,515749,e195c6d90fee0dc6b0435efd9aec6b383923cd88,15,10,2,9712,,,0,"Add deprecated context parameters to the new security context

In the recent parameter migration, a number of parameters were
incorrectly deprecated. They were not redirected to the new location
correctly and would cause an error.

Change-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf
Closes-Bug: #1728081
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/49/515749/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_lib/actions/context.py', 'mistral_lib/tests/actions/test_context.py', 'mistral_lib/tests/actions/test_base.py']",3,78880049ce522bb85a9b5d0f2b7c1a4e813d5f3d,bug/1718353,from mistral_lib.actions import context def test_run_empty_context(self): ctx = context.ActionContext() result = action.run(ctx) assert result == ctx," def test_run(self): context = {""name"": ""test""} result = action.run(context) assert result == context",80,5
openstack%2Fopenstack-ansible~master~I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15,openstack/openstack-ansible,master,I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15,docs: add a decision help,MERGED,2017-09-14 15:41:27.000000000,2017-11-06 08:52:55.000000000,2017-10-30 16:01:22.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 10607}, {'_account_id': 11303}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-14 15:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f9d2a1cb428214ef78a897b2dabfe58887c3ddf', 'message': 'docs: add a decision help\n\nThere are a lot of different approaches to deploy OpenStack to your\nenvironment. Namely Puppet, Chef, Helm, Juju, Fuel, TripleO, Kolla\nand probably more. The designated OpenStack operators would benefit\nfrom high-level decision help when and when not to chose openstack-\nansible. This does not imply that one project is ""better"" than the\nothers.\nThis change adds a few bullet points to the docs which might help\ndesignated operators to make their decision, because switching that\ndecision when the OpenStack cloud is in production might not be that\neasy.\n\nChange-Id: I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15\n'}, {'number': 2, 'created': '2017-09-14 17:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0c018a087d556bfc8f9275979189adc0a48b0d41', 'message': 'docs: add a decision help\n\nThere are a lot of different approaches to deploy OpenStack to your\nenvironment. Namely Puppet, Chef, Helm, Juju, Fuel, TripleO, Kolla\nand probably more. The designated OpenStack operators would benefit\nfrom high-level decision help when and when not to chose openstack-\nansible. This does not imply that one project is ""better"" than the\nothers.\nThis change adds a few bullet points to the docs which might help\ndesignated operators to make their decision, because switching that\ndecision when the OpenStack cloud is in production might not be that\neasy.\n\nChange-Id: I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15\n'}, {'number': 3, 'created': '2017-10-10 14:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a5aba6b5807b942fa6227070bc119a512cabe0e0', 'message': 'docs: add a decision help\n\nThere are a lot of different approaches to deploy OpenStack to your\nenvironment. Namely Puppet, Chef, Helm, Juju, Fuel, TripleO, Kolla\nand probably more. The designated OpenStack operators would benefit\nfrom high-level decision help when and when not to chose openstack-\nansible. This does not imply that one project is ""better"" than the\nothers.\nThis change adds a few bullet points to the docs which might help\ndesignated operators to make their decision, because switching that\ndecision when the OpenStack cloud is in production might not be that\neasy.\n\nChange-Id: I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15\n'}, {'number': 4, 'created': '2017-10-18 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce92f892874abc6a39aeae69055f91fdb986f7a3', 'message': 'docs: add a decision help\n\nThere are a lot of different approaches to deploy OpenStack to your\nenvironment. Namely Puppet, Chef, Helm, Juju, Fuel, TripleO, Kolla\nand probably more. The designated OpenStack operators would benefit\nfrom high-level decision help when and when not to chose openstack-\nansible. This does not imply that one project is ""better"" than the\nothers.\nThis change adds a few bullet points to the docs which might help\ndesignated operators to make their decision, because switching that\ndecision when the OpenStack cloud is in production might not be that\neasy.\n\nChange-Id: I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15\n'}, {'number': 5, 'created': '2017-10-30 15:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f94c6b1a7cb52ed9155bde6e2591a811fc7bfc5', 'message': 'docs: add a decision help\n\nThere are a lot of different approaches to deploy OpenStack to your\nenvironment. Namely Puppet, Chef, Helm, Juju, Fuel, TripleO, Kolla\nand probably more. The designated OpenStack operators would benefit\nfrom high-level decision help when and when not to chose openstack-\nansible. This does not imply that one project is ""better"" than the\nothers.\nThis change adds a few bullet points to the docs which might help\ndesignated operators to make their decision, because switching that\ndecision when the OpenStack cloud is in production might not be that\neasy.\n\nChange-Id: I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15\n'}, {'number': 6, 'created': '2017-10-30 15:14:10.000000000', 'files': ['deploy-guide/source/overview-osa.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c3ce03873798cd4e71b3fdd4ee9a2eae4bf59d7c', 'message': 'docs: add a decision help\n\nThere are a lot of different approaches to deploy OpenStack to your\nenvironment. Namely Puppet, Chef, Helm, Juju, Fuel, TripleO, Kolla\nand probably more. The designated OpenStack operators would benefit\nfrom high-level decision help when and when not to chose openstack-\nansible. This does not imply that one project is ""better"" than the\nothers.\nThis change adds a few bullet points to the docs which might help\ndesignated operators to make their decision, because switching that\ndecision when the OpenStack cloud is in production might not be that\neasy.\n\nChange-Id: I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15\n'}]",46,504088,c3ce03873798cd4e71b3fdd4ee9a2eae4bf59d7c,34,8,6,11303,,,0,"docs: add a decision help

There are a lot of different approaches to deploy OpenStack to your
environment. Namely Puppet, Chef, Helm, Juju, Fuel, TripleO, Kolla
and probably more. The designated OpenStack operators would benefit
from high-level decision help when and when not to chose openstack-
ansible. This does not imply that one project is ""better"" than the
others.
This change adds a few bullet points to the docs which might help
designated operators to make their decision, because switching that
decision when the OpenStack cloud is in production might not be that
easy.

Change-Id: I26e1b22010f56b1fb6eda7a02f9f31f79c3adc15
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/88/504088/3 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/overview-osa.rst'],1,5f9d2a1cb428214ef78a897b2dabfe58887c3ddf,docs/why-osa,"Why chose OpenStack-Ansible? ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * supports the major Linux distributions Ubuntu, CentOS, SUSE (in progress) * offers automation for upgrades between major OpenStack releases * uses sane configuration defaults but can be adapted to many situations * the learning curve of Ansible is low * you can re-use your Ansible knowledge by using Ansible modules for OpenStack http://docs.ansible.com/ansible/latest/list_of_cloud_modules.html#openstack When **not** to chose OpenStack-Ansible? ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * You already have deep knowledge of other IaC efforts (Puppet, Chef, ...) * You have a strategy which is bound to one distribution only and their OpenStack deployment tool * You don't need the configurability of your cloud setup ",,19,0
openstack%2Fmistral-lib~master~I049cf7312c58d83e9405aaa36a6961cca006cb16,openstack/mistral-lib,master,I049cf7312c58d83e9405aaa36a6961cca006cb16,Rename task_id to task_execution_id,MERGED,2017-10-24 13:37:51.000000000,2017-11-06 08:52:16.000000000,2017-11-06 08:52:16.000000000,"[{'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7065}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19206}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-24 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/a1294c69ebbc1a4bce230702c5a769bf78095d0b', 'message': ""Rename task_id to task_execution_id\n\nThe previous name isn't consistent and it is confusing, tasks don't have\nan ID, but the execution for a task does.\n\nChange-Id: I049cf7312c58d83e9405aaa36a6961cca006cb16\nRelated-Bug: #1718353\n""}, {'number': 2, 'created': '2017-10-27 07:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/27e6a3b5d0d40d3b1600b585617b4e913b1ffa9d', 'message': ""Rename task_id to task_execution_id\n\nThe previous name isn't consistent and it is confusing, tasks don't have\nan ID, but the execution for a task does.\n\nRelated-Bug: #1718353\nChange-Id: I049cf7312c58d83e9405aaa36a6961cca006cb16\n""}, {'number': 3, 'created': '2017-10-27 15:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/68cd1893aabbf7b8e7699c67d561a978b77b7b58', 'message': ""Rename task_id to task_execution_id\n\nThe previous name isn't consistent and it is confusing, tasks don't have\nan ID, but the execution for a task does.\n\nRelated-Bug: #1718353\nChange-Id: I049cf7312c58d83e9405aaa36a6961cca006cb16\n""}, {'number': 4, 'created': '2017-10-30 08:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/7bf0053c3b11da9f31f1eb3722ca0f8998ec7896', 'message': ""Rename task_id to task_execution_id\n\nThe previous name isn't consistent and it is confusing, tasks don't have\nan ID, but the execution for a task does.\n\nRelated-Bug: #1718353\nChange-Id: I049cf7312c58d83e9405aaa36a6961cca006cb16\n""}, {'number': 5, 'created': '2017-10-30 09:50:25.000000000', 'files': ['releasenotes/notes/rename-task-id-to-task-execution-id-f17d671fcef0127a.yaml', 'mistral_lib/actions/context.py', 'mistral_lib/tests/actions/test_context.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/40e593bd2016b623ce509a3db24965997422eed2', 'message': ""Rename task_id to task_execution_id\n\nThe previous name isn't consistent and it is confusing, tasks don't have\nan ID, but the execution for a task does.\n\nRelated-Bug: #1718353\nChange-Id: I049cf7312c58d83e9405aaa36a6961cca006cb16\n""}]",0,514675,40e593bd2016b623ce509a3db24965997422eed2,18,11,5,9712,,,0,"Rename task_id to task_execution_id

The previous name isn't consistent and it is confusing, tasks don't have
an ID, but the execution for a task does.

Related-Bug: #1718353
Change-Id: I049cf7312c58d83e9405aaa36a6961cca006cb16
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/75/514675/5 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_lib/actions/context.py', 'releasenotes/notes/rename-task-id-to-task-execution-id-f17d671fcef0127a.yaml']",2,a1294c69ebbc1a4bce230702c5a769bf78095d0b,bug/1718353,--- deprecations: - | The attribute `context.execution.task_id` has been renamed to `context.execution.task_execution_id`. ,,23,3
openstack%2Fproject-config~master~Id2cb1a433c66bb190708d0e82f9a45ad69c3a5b9,openstack/project-config,master,Id2cb1a433c66bb190708d0e82f9a45ad69c3a5b9,Add new repo for tripleo-common tempest plugin,MERGED,2017-11-03 08:38:35.000000000,2017-11-06 08:51:16.000000000,2017-11-06 08:51:16.000000000,"[{'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 08:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2288833714411cee41d022fd77fb657f4bdb1e19', 'message': 'Add new repo for tripleo-common tempest plugin\n\nThis repo is for a new tempest plugin which is being created as per the\nQueens goal[1] to move tempest plugins into their own repo.\n\n[1]: https://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html\n\nChange-Id: Id2cb1a433c66bb190708d0e82f9a45ad69c3a5b9\n'}, {'number': 2, 'created': '2017-11-03 09:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aed009bffa0b3cbda316e9b6d5a95e9132409e6a', 'message': 'Add new repo for tripleo-common tempest plugin\n\nThis repo is for a new tempest plugin which is being created as per the\nQueens goal[1] to move tempest plugins into their own repo.\n\n[1]: https://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html\n\nChange-Id: Id2cb1a433c66bb190708d0e82f9a45ad69c3a5b9\n'}, {'number': 3, 'created': '2017-11-03 13:51:02.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/233e4180d7f03de489509803e01d9f925cc95297', 'message': 'Add new repo for tripleo-common tempest plugin\n\nThis repo is for a new tempest plugin which is being created as per the\nQueens goal[1] to move tempest plugins into their own repo.\n\n[1]: https://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html\n\nNeeded-By: Ibaaf80c0757732b55f30bd3e516bd068c490ab0c\nChange-Id: Id2cb1a433c66bb190708d0e82f9a45ad69c3a5b9\n'}]",0,517577,233e4180d7f03de489509803e01d9f925cc95297,15,5,3,9712,,,0,"Add new repo for tripleo-common tempest plugin

This repo is for a new tempest plugin which is being created as per the
Queens goal[1] to move tempest plugins into their own repo.

[1]: https://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html

Needed-By: Ibaaf80c0757732b55f30bd3e516bd068c490ab0c
Change-Id: Id2cb1a433c66bb190708d0e82f9a45ad69c3a5b9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/517577/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,2288833714411cee41d022fd77fb657f4bdb1e19,goal-split-tempest-plugins, - openstack/tripleo-common-tempest-plugin,,16,0
openstack%2Fproject-config~master~I4be1ea94e023d36327a0ca19f07b6af3cbec59a0,openstack/project-config,master,I4be1ea94e023d36327a0ca19f07b6af3cbec59a0,Create a repo for CloudKitty tempest plugin,MERGED,2017-10-31 13:27:33.000000000,2017-11-06 08:51:15.000000000,2017-11-06 08:51:15.000000000,"[{'_account_id': 2376}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2017-10-31 13:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ee80f1f2e7eafe52475ca76e4b6f159f38b6afc7', 'message': 'Create a repo for CloudKitty tempest plugin\n\nCurrently, there is a tempest plugin under development for CloudKitty. As\n""Split Tempest Plugins into Separate Repos/Projects"" is a goal for Queens,\nwe need a new repository.\n\nChange-Id: I4be1ea94e023d36327a0ca19f07b6af3cbec59a0\n'}, {'number': 2, 'created': '2017-10-31 13:46:20.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/579819b74438171b958507a6e5121711c53c569f', 'message': 'Create a repo for CloudKitty tempest plugin\n\nCurrently, there is a tempest plugin under development for CloudKitty. As\n""Split Tempest Plugins into Separate Repos/Projects"" is a goal for Queens,\nwe need a new repository.\n\nNeeded-By: Ie4396ee9a204fd9607e1ec65481be9fd4194b2ca\nChange-Id: I4be1ea94e023d36327a0ca19f07b6af3cbec59a0\n'}]",0,516673,579819b74438171b958507a6e5121711c53c569f,12,5,2,23060,,,0,"Create a repo for CloudKitty tempest plugin

Currently, there is a tempest plugin under development for CloudKitty. As
""Split Tempest Plugins into Separate Repos/Projects"" is a goal for Queens,
we need a new repository.

Needed-By: Ie4396ee9a204fd9607e1ec65481be9fd4194b2ca
Change-Id: I4be1ea94e023d36327a0ca19f07b6af3cbec59a0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/516673/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,ee80f1f2e7eafe52475ca76e4b6f159f38b6afc7,new-project, - openstack/cloudkitty-tempest-plugin,,8,0
openstack%2Fproject-config~master~I45371a167016cd22e1c4a80775aaf4cea469d35b,openstack/project-config,master,I45371a167016cd22e1c4a80775aaf4cea469d35b,Create new repo cinder tempest plugin,MERGED,2017-07-22 12:26:12.000000000,2017-11-06 08:48:39.000000000,2017-11-06 08:48:39.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 4162}, {'_account_id': 4523}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 24596}]","[{'number': 1, 'created': '2017-07-22 12:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e65b2e6843053107f9fdc74b9f7b4378497bc613', 'message': 'Create new repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\n\nThis imports from a temporary github repo that preserves the history of\nthe plugin and additionally applies the openstack cookiecutter to it.\n\nChange-Id: I45371a167016cd22e1c4a80775aaf4cea469d35b\nImplements: blueprint goal-split-tempest-plugin\nNeeded-By: I2b0d3c4a80cdc9c38226f125c16a0c98c18f524d\n'}, {'number': 2, 'created': '2017-07-28 06:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a4881405d75626e788267046aaccae792cbb0f4b', 'message': 'Create new repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\n\nThis imports from a temporary github repo that preserves the history of\nthe plugin and additionally applies the openstack cookiecutter to it.\n\nChange-Id: I45371a167016cd22e1c4a80775aaf4cea469d35b\nImplements: blueprint goal-split-tempest-plugin\nNeeded-By: I2b0d3c4a80cdc9c38226f125c16a0c98c18f524d\n'}, {'number': 3, 'created': '2017-10-20 13:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9e90a2ac628a0104fec74d7f10d0f976f4ad1bc2', 'message': 'Create new repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\n\nThis imports from a temporary github repo that preserves the history of\nthe plugin and additionally applies the openstack cookiecutter to it.\n\nChange-Id: I45371a167016cd22e1c4a80775aaf4cea469d35b\nImplements: blueprint goal-split-tempest-plugin\nNeeded-By: I2b0d3c4a80cdc9c38226f125c16a0c98c18f524d\n'}, {'number': 4, 'created': '2017-10-27 18:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef9deaa35552ea239ed304b72ae3d4209aaab833', 'message': 'Create new repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\n\nThis imports from a temporary github repo that preserves the history of\nthe plugin and additionally applies the openstack cookiecutter to it.\n\nChange-Id: I45371a167016cd22e1c4a80775aaf4cea469d35b\nPartial-Implements: blueprint goal-split-tempest-plugin\nNeeded-By: I2b0d3c4a80cdc9c38226f125c16a0c98c18f524d\n'}, {'number': 5, 'created': '2017-10-29 16:36:49.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/353d2aca888ff85792610e26dbcc5f227dcc21f1', 'message': 'Create new repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\n\nThis imports from a temporary github repo that preserves the history of\nthe plugin and additionally applies the openstack cookiecutter to it.\n\nChange-Id: I45371a167016cd22e1c4a80775aaf4cea469d35b\nPartial-Implements: blueprint goal-split-tempest-plugin\nNeeded-By: I2b0d3c4a80cdc9c38226f125c16a0c98c18f524d\n'}]",3,486303,353d2aca888ff85792610e26dbcc5f227dcc21f1,34,12,5,22259,,,0,"Create new repo cinder tempest plugin

As part of Queens Goal ""Split Tempest Plugins into Separate
Repos/Projects"",the cinder tempest plugin needs to be split
into a separate project.

This imports from a temporary github repo that preserves the history of
the plugin and additionally applies the openstack cookiecutter to it.

Change-Id: I45371a167016cd22e1c4a80775aaf4cea469d35b
Partial-Implements: blueprint goal-split-tempest-plugin
Needed-By: I2b0d3c4a80cdc9c38226f125c16a0c98c18f524d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/486303/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,e65b2e6843053107f9fdc74b9f7b4378497bc613,goal-split-tempest-plugins, - name: openstack/cinder-tempest-plugin template: - name: merge-check check: - gate-cinder-tempest-plugin-pep8-ubuntu-xenial - gate-cinder-tempest-plugin-python27-ubuntu-xenial gate: - gate-cinder-tempest-plugin-pep8-ubuntu-xenial - gate-cinder-tempest-plugin-python27-ubuntu-xenial ,,21,0
openstack%2Fopenstack-zuul-jobs~master~Ib5c29b7c77e787b592862d771517d9a357a07f22,openstack/openstack-zuul-jobs,master,Ib5c29b7c77e787b592862d771517d9a357a07f22,Remove legacy python-ironic-inspector-client jobs,MERGED,2017-10-31 21:23:30.000000000,2017-11-06 08:45:12.000000000,2017-11-06 08:45:12.000000000,"[{'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-31 21:23:30.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-python-ironic-inspector-client/run.yaml', 'playbooks/legacy/python-ironic-inspector-client-tox-func/run.yaml', 'playbooks/legacy/python-ironic-inspector-client-tox-func/post.yaml', 'playbooks/legacy/tempest-dsvm-python-ironic-inspector-client/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/102f5a55f0d73fe4f17af1d278a1ce4f5c69cf78', 'message': 'Remove legacy python-ironic-inspector-client jobs\n\nThe legacy python-ironic-inspector-client jobs have been moved to\nthe python-ironic-inspector-client repo. This patch removes them\nfrom this repo.\n\nDepends-On: I0f82251dc785d56a99de1a43d2ce910bf63ee125\nChange-Id: Ib5c29b7c77e787b592862d771517d9a357a07f22\n'}]",0,516791,102f5a55f0d73fe4f17af1d278a1ce4f5c69cf78,8,3,1,6618,,,0,"Remove legacy python-ironic-inspector-client jobs

The legacy python-ironic-inspector-client jobs have been moved to
the python-ironic-inspector-client repo. This patch removes them
from this repo.

Depends-On: I0f82251dc785d56a99de1a43d2ce910bf63ee125
Change-Id: Ib5c29b7c77e787b592862d771517d9a357a07f22
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/91/516791/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-python-ironic-inspector-client/run.yaml', 'playbooks/legacy/python-ironic-inspector-client-tox-func/run.yaml', 'playbooks/legacy/python-ironic-inspector-client-tox-func/post.yaml', 'playbooks/legacy/tempest-dsvm-python-ironic-inspector-client/post.yaml']",5,102f5a55f0d73fe4f17af1d278a1ce4f5c69cf78,remove-ironicinspectorclient,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,401
openstack%2Fos-vif~master~I4b270e39641061e949e250710063bae90645ffc5,openstack/os-vif,master,I4b270e39641061e949e250710063bae90645ffc5,[WIP] Add Open vSwitch patch port,ABANDONED,2017-07-19 14:57:07.000000000,2017-11-06 08:40:56.000000000,,"[{'_account_id': 3}, {'_account_id': 7730}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-07-19 14:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e832268737d94fe4169d405b1740326ba78380e3', 'message': 'Add Open vSwitch patch port\n\nAdded OVS patch port VIF type. A pair of patch ports act like a patch\ncable between two logical bridges in OVS. This VIF type contains the\nname of the patch port in one of the bridges and the peer port name\nin the linked bridge.\n\nPartial-Bug: #1666927\nChange-Id: I4b270e39641061e949e250710063bae90645ffc5\n'}, {'number': 2, 'created': '2017-09-22 10:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2b2aa4278f7061b3365b74ae6e4aca974274952f', 'message': 'Add Open vSwitch patch port\n\nAdded OVS patch port VIF type. A pair of patch ports act like a patch\ncable between two logical bridges in OVS. This VIF type contains the\nname of the patch port in one of the bridges and the peer port name\nin the linked bridge.\n\nPartial-Bug: #1666927\nChange-Id: I4b270e39641061e949e250710063bae90645ffc5\n'}, {'number': 3, 'created': '2017-10-10 16:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a3560943c581f066a0da5116ceb5d89be88bf845', 'message': 'Add Open vSwitch patch port\n\nAdded OVS patch port VIF type. A pair of patch ports act like a patch\ncable between two logical bridges in OVS. This VIF type contains the\nname of the patch port in one of the bridges and the peer port name\nin the linked bridge.\n\nPartial-Bug: #1666927\nChange-Id: I4b270e39641061e949e250710063bae90645ffc5\n'}, {'number': 4, 'created': '2017-10-11 13:09:28.000000000', 'files': ['os_vif/objects/vif.py', 'os_vif/tests/unit/test_objects.py', 'doc/source/user/vif-types.rst', 'releasenotes/notes/add-vif-ovs-patch-port-ccb4899dfba21ebc.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/de02f4258677712937c22ba3d399d1d2135c9574', 'message': '[WIP] Add Open vSwitch patch port\n\nAdded OVS patch port VIF type. A pair of patch ports act like a patch\ncable between two logical bridges in OVS. This VIF type contains the\nname of the patch port in one of the bridges and the peer port name\nin the linked bridge.\n\nPartial-Bug: #1666927\nChange-Id: I4b270e39641061e949e250710063bae90645ffc5\n'}]",2,485228,de02f4258677712937c22ba3d399d1d2135c9574,17,6,4,16688,,,0,"[WIP] Add Open vSwitch patch port

Added OVS patch port VIF type. A pair of patch ports act like a patch
cable between two logical bridges in OVS. This VIF type contains the
name of the patch port in one of the bridges and the peer port name
in the linked bridge.

Partial-Bug: #1666927
Change-Id: I4b270e39641061e949e250710063bae90645ffc5
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/28/485228/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/objects/vif.py', 'doc/source/user/vif-types.rst', 'releasenotes/notes/add-vif-ovs-patch-port-ccb4899dfba21ebc.yaml', 'os_vif/tests/unit/test_vif.py']",4,e832268737d94fe4169d405b1740326ba78380e3,bug/1666927," def test_vif_ovs_patch_port(self): self._test_vif(objects.vif.VIFVethPair, vif_name=""patch01"", peer=""patch02"") 'VIFOpenVSwitchPatchPort': '1.0-12097a6f45da6015a24b10fe8b909fe9',",,35,0
openstack%2Fos-vif~master~I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4,openstack/os-vif,master,I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4,[WIP] Add Virtual Ethernet device pair,ABANDONED,2017-07-18 11:25:10.000000000,2017-11-06 08:40:53.000000000,,"[{'_account_id': 3}, {'_account_id': 7730}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-07-18 11:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/772ab937a4425af67d51e9463c4fab7f2e8ef1fd', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new port profile, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nCloses-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 2, 'created': '2017-07-18 11:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/1f2e7624062ad1270ed61cd09f17a48a07f29589', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new port profile, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nCloses-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 3, 'created': '2017-07-18 12:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/110d211a63267387f3030ff3f8fae24687de970d', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new port profile, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nCloses-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 4, 'created': '2017-07-18 12:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7582bbd9acc17d442f1412115349fa699103620c', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new port profile, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nCloses-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 5, 'created': '2017-07-19 14:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/57dbc51da16aa5bae53fa184acc6a88ab32c0588', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new VIF type, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nPartial-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 6, 'created': '2017-07-19 14:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4952b12d36079786d3d5589f0ed73d3af2f2acae', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new VIF type, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nPartial-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 7, 'created': '2017-07-19 14:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7f1d35fdfdb3dd38491f40a56085e459e847dd79', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new VIF type, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nPartial-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 8, 'created': '2017-09-22 10:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c80e175753d307d611f1446321ed208dc87d716d', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new VIF type, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nPartial-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 9, 'created': '2017-10-10 16:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/532df32ccb2cf76d3f7649440ab101d722cf7659', 'message': 'Add Virtual Ethernet device pair\n\nAdded a new VIF type, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nPartial-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}, {'number': 10, 'created': '2017-10-11 13:09:40.000000000', 'files': ['os_vif/objects/vif.py', 'os_vif/tests/unit/test_objects.py', 'releasenotes/notes/add-vif-veth-pair-c24475a0defb9561.yaml', 'doc/source/user/vif-types.rst', 'doc/source/reference/glossary.rst'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b1e7848069199a11df898bff41dd36c5ef356947', 'message': '[WIP] Add Virtual Ethernet device pair\n\nAdded a new VIF type, veth pair. This profile contains the names\nof both devices and the possible namespaces.\n\nPartial-Bug: #1666926\nChange-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4\n'}]",6,484726,b1e7848069199a11df898bff41dd36c5ef356947,25,6,10,16688,,,0,"[WIP] Add Virtual Ethernet device pair

Added a new VIF type, veth pair. This profile contains the names
of both devices and the possible namespaces.

Partial-Bug: #1666926
Change-Id: I3ae65e03e52dfd109e6fe2130620f8188f0fcbf4
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/26/484726/3 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/objects/vif.py', 'releasenotes/notes/add-vif-veth-pair-c24475a0defb9561.yaml', 'doc/source/user/vif-types.rst', 'os_vif/tests/unit/test_vif.py', 'doc/source/reference/glossary.rst']",5,772ab937a4425af67d51e9463c4fab7f2e8ef1fd,bug/1666926, Namespaces A namespace wraps a global system resource in an abstraction that makes it appear to the processes within the namespace that they have their own isolated instance of the global resource. Refer to the `Linux Programmer's manual`__ for more information. __ http://man7.org/linux/man-pages/man7/namespaces.7.html ,,56,0
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~I2e17754fc6b1e950d672fbbeb4eaeb27428b5ce3,openstack/openstack-ansible-os_nova,stable/ocata,I2e17754fc6b1e950d672fbbeb4eaeb27428b5ce3,Set the nova-lxd test to voting,MERGED,2017-11-03 18:50:51.000000000,2017-11-06 08:26:33.000000000,2017-11-06 08:26:33.000000000,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-11-03 18:50:51.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c4a79a4699813d2f5edd1602b17fba7768035887', 'message': 'Set the nova-lxd test to voting\n\nChange-Id: I2e17754fc6b1e950d672fbbeb4eaeb27428b5ce3\n(cherry picked from commit 214f20b2540a76365826f68b4ccbb28e04812c03)\n'}]",0,517706,c4a79a4699813d2f5edd1602b17fba7768035887,7,3,1,6816,,,0,"Set the nova-lxd test to voting

Change-Id: I2e17754fc6b1e950d672fbbeb4eaeb27428b5ce3
(cherry picked from commit 214f20b2540a76365826f68b4ccbb28e04812c03)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/06/517706/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c4a79a4699813d2f5edd1602b17fba7768035887,nova-lxd-test-fix-stable/pike-stable/ocata,, voting: false,0,1
openstack%2Fnova~master~I54806fe43257528fbec7d44c841ee4abb14c9dff,openstack/nova,master,I54806fe43257528fbec7d44c841ee4abb14c9dff,Clean up allocations if instance deleted during build,MERGED,2017-11-05 23:34:27.000000000,2017-11-06 07:41:13.000000000,2017-11-06 05:34:47.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-05 23:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e637ae5b5c7a2f0bda89fbbd8c6b74de2cb1968', 'message': 'WIP: Clean up allocations if instance deleted during build\n\nRelated-Bug: #679750\nChange-Id: I54806fe43257528fbec7d44c841ee4abb14c9dff\n'}, {'number': 2, 'created': '2017-11-06 01:43:24.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57a3af6921dea72b3b2972f66e089578331dbb63', 'message': 'Clean up allocations if instance deleted during build\n\nWhen we notice that an instance was deleted after scheduling, we punt on\ninstance creation. When that happens, the scheduler will have created\nallocations already so we need to delete those to avoid leaking resources.\n\nRelated-Bug: #1679750\nChange-Id: I54806fe43257528fbec7d44c841ee4abb14c9dff\n'}]",2,517836,57a3af6921dea72b3b2972f66e089578331dbb63,34,15,2,4393,,,0,"Clean up allocations if instance deleted during build

When we notice that an instance was deleted after scheduling, we punt on
instance creation. When that happens, the scheduler will have created
allocations already so we need to delete those to avoid leaking resources.

Related-Bug: #1679750
Change-Id: I54806fe43257528fbec7d44c841ee4abb14c9dff
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/517836/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,7e637ae5b5c7a2f0bda89fbbd8c6b74de2cb1968,bug/1729371, rc = self.scheduler_client.reportclient rc.delete_allocation_for_instance(instance.uuid),,2,0
openstack%2Fkarbor~master~I630b501445608dfa5c67ce7fdb7afa3a594d4294,openstack/karbor,master,I630b501445608dfa5c67ce7fdb7afa3a594d4294,Add API controller for the quotas of Karbor,MERGED,2017-11-02 07:55:10.000000000,2017-11-06 07:10:00.000000000,2017-11-03 08:44:20.000000000,"[{'_account_id': 17151}, {'_account_id': 21224}, {'_account_id': 22056}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 07:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5851e025442ce7ffb7796e484a699190be15d39a', 'message': 'Add API controller for the quotas of Karbor\n\nThe quota API is intorduced to karbor using manila protect\nas a reference.\n\nChange-Id: I630b501445608dfa5c67ce7fdb7afa3a594d4294\nImplements: blueprint support-quotas-in-karbor\n'}, {'number': 2, 'created': '2017-11-02 12:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/da6cfafda25b173e976b18e408dc59f6c158c11d', 'message': 'Add API controller for the quotas of Karbor\n\nThe quota API is intorduced to karbor using manila protect\nas a reference.\n\nChange-Id: I630b501445608dfa5c67ce7fdb7afa3a594d4294\nImplements: blueprint support-quotas-in-karbor\n'}, {'number': 3, 'created': '2017-11-03 01:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/99b92bf3f33e16b0cc10cbf2417433ad6e160089', 'message': 'Add API controller for the quotas of Karbor\n\nThe quota API is intorduced to karbor using manila protect\nas a reference.\n\nChange-Id: I630b501445608dfa5c67ce7fdb7afa3a594d4294\nImplements: blueprint support-quotas-in-karbor\n'}, {'number': 4, 'created': '2017-11-03 03:51:38.000000000', 'files': ['karbor/api/v1/router.py', 'karbor/tests/unit/api/v1/test_quotas.py', 'karbor/tests/unit/api/v1/test_quota_classes.py', 'karbor/api/v1/quota_classes.py', 'karbor/api/v1/plans.py', 'karbor/policies/__init__.py', 'karbor/quota.py', 'karbor/db/api.py', 'karbor/policies/quotas.py', 'karbor/policies/quota_classes.py', 'karbor/api/v1/quotas.py', 'karbor/db/sqlalchemy/api.py', 'karbor/exception.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/94847956089059dc6da3e61da8c1d0d41bdeded0', 'message': 'Add API controller for the quotas of Karbor\n\nThe quota API is intorduced to karbor using manila protect\nas a reference.\n\nChange-Id: I630b501445608dfa5c67ce7fdb7afa3a594d4294\nImplements: blueprint support-quotas-in-karbor\n'}]",18,517198,94847956089059dc6da3e61da8c1d0d41bdeded0,23,4,4,17151,,,0,"Add API controller for the quotas of Karbor

The quota API is intorduced to karbor using manila protect
as a reference.

Change-Id: I630b501445608dfa5c67ce7fdb7afa3a594d4294
Implements: blueprint support-quotas-in-karbor
",git fetch https://review.opendev.org/openstack/karbor refs/changes/98/517198/4 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/api/v1/router.py', 'karbor/tests/unit/api/v1/test_quotas.py', 'karbor/tests/unit/api/v1/test_quota_classes.py', 'karbor/api/v1/quota_classes.py', 'karbor/api/v1/plans.py', 'karbor/policies/__init__.py', 'karbor/quota.py', 'karbor/db/api.py', 'karbor/policies/quotas.py', 'karbor/policies/quota_classes.py', 'karbor/api/v1/quotas.py', 'karbor/db/sqlalchemy/api.py', 'karbor/exception.py']",13,5851e025442ce7ffb7796e484a699190be15d39a,bp/support-quotas-in-karbor," class InvalidQuotaValue(Invalid): message = _(""Change would make usage less than 0 for the following "" ""resources: %(unders)s."") class QuotaError(KarborException): message = _(""Quota exceeded: code=%(code)s"") code = 413 headers = {'Retry-After': '0'} safe = True class PlanLimitExceeded(QuotaError): message = _(""Maximum number of plans allowed (%(allowed)d) exceeded"") class UnexpectedOverQuota(QuotaError): message = _(""Unexpected over quota on %(name)s."")",,1486,4
openstack%2Ftrove~master~I11afc91c1ea57c20818b5f37e57f8e547ed3ae1e,openstack/trove,master,I11afc91c1ea57c20818b5f37e57f8e547ed3ae1e,Use get_rpc_transport instead of get_transport,MERGED,2017-06-07 08:32:23.000000000,2017-11-06 07:09:27.000000000,2017-11-06 07:09:27.000000000,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22818}, {'_account_id': 25571}]","[{'number': 1, 'created': '2017-06-07 08:32:23.000000000', 'files': ['trove/rpc.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/44d44b03f032820423ce9fdfd96872395fc1b25a', 'message': 'Use get_rpc_transport instead of get_transport\n\nWith the added get_rpc_transport() function in oslo.messaging [1]\nand the recent version bump of oslo.messaging to 5.24.2, we can\nsafely replace get_transport() with get_rpc_transport() which is much\ncleaner.\n\n[1] https://review.openstack.org/#/c/454194/\n\nChange-Id: I11afc91c1ea57c20818b5f37e57f8e547ed3ae1e\n'}]",0,471635,44d44b03f032820423ce9fdfd96872395fc1b25a,16,7,1,25571,,,0,"Use get_rpc_transport instead of get_transport

With the added get_rpc_transport() function in oslo.messaging [1]
and the recent version bump of oslo.messaging to 5.24.2, we can
safely replace get_transport() with get_rpc_transport() which is much
cleaner.

[1] https://review.openstack.org/#/c/454194/

Change-Id: I11afc91c1ea57c20818b5f37e57f8e547ed3ae1e
",git fetch https://review.opendev.org/openstack/trove refs/changes/35/471635/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/rpc.py'],1,44d44b03f032820423ce9fdfd96872395fc1b25a,," TRANSPORT = messaging.get_rpc_transport(conf, allowed_remote_exmods=exmods)"," TRANSPORT = messaging.get_transport(conf, allowed_remote_exmods=exmods)",2,2
openstack%2Fzaqar~master~I01c84887a5ddcb76bb36f01fb8f52625decd7be1,openstack/zaqar,master,I01c84887a5ddcb76bb36f01fb8f52625decd7be1,Reduce swiftclient logging,MERGED,2017-11-03 14:41:33.000000000,2017-11-06 06:55:06.000000000,2017-11-06 06:55:06.000000000,"[{'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2017-11-03 14:41:33.000000000', 'files': ['zaqar/storage/swift/driver.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4e5f6fd588bf8342264b96b2a37cc75bb654f386', 'message': 'Reduce swiftclient logging\n\nWhen zaqar is not in debug, set swiftclient logging to WARNING, to\nremove spurious INFO logs containing 404, which can happen quite often\nwhen dealing with lazily created subscription containers.\n\nChange-Id: I01c84887a5ddcb76bb36f01fb8f52625decd7be1\n'}]",0,517634,4e5f6fd588bf8342264b96b2a37cc75bb654f386,8,4,1,7385,,,0,"Reduce swiftclient logging

When zaqar is not in debug, set swiftclient logging to WARNING, to
remove spurious INFO logs containing 404, which can happen quite often
when dealing with lazily created subscription containers.

Change-Id: I01c84887a5ddcb76bb36f01fb8f52625decd7be1
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/34/517634/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/storage/swift/driver.py'],1,4e5f6fd588bf8342264b96b2a37cc75bb654f386,swift-404,"import loggingfrom oslo_log import log as oslo_loggingLOG = oslo_logging.getLogger(__name__) if not self.conf.debug: # Reduce swiftclient logging, in particular to remove 404s logging.getLogger(""swiftclient"").setLevel(logging.WARNING)",from oslo_log import log as loggingLOG = logging.getLogger(__name__),6,2
openstack%2Fzaqar~master~I2c061cd9df440a19391dbd678df57036e03eaad4,openstack/zaqar,master,I2c061cd9df440a19391dbd678df57036e03eaad4,Register default subscription policies in code,MERGED,2017-10-17 08:28:56.000000000,2017-11-06 06:39:11.000000000,2017-11-06 06:39:11.000000000,"[{'_account_id': 15054}, {'_account_id': 19930}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2017-10-17 08:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/520b39fb79dcc44eab8598fb0c5d2e4e727c5d7a', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 2, 'created': '2017-10-18 01:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/02cacf0512f568748de3ddc41d22a966c5508aaa', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 3, 'created': '2017-10-18 01:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e6239510675d77bd9d6db5925511acf5cf77e001', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 4, 'created': '2017-10-18 01:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/778ab0d5e64cf0200abcef6de9f60460df775b7f', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 5, 'created': '2017-10-18 01:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ef134339d7ccb5ccb3cdc821910a8497c14a799a', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 6, 'created': '2017-10-18 09:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9dcce1dd45ded89da24ac51b0d87fe7dc696f2fc', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 7, 'created': '2017-10-18 15:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/beb2b4c192ff344793f108c300fd74e9e54a2789', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 8, 'created': '2017-10-19 06:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4cb21ab73ad55496a6fee010ed5d4117ce44bec8', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 9, 'created': '2017-10-19 06:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/bb1e4af36d255ee5befc978dccac440bf7b17365', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 10, 'created': '2017-11-02 06:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f70dc43dffdfa60c4f378388bba7ba9fa511c5ef', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 11, 'created': '2017-11-02 06:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/15f91572a7e9f9e8df85c6de5f38b6d57040daee', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 12, 'created': '2017-11-02 06:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/da12a936fb75a8bd241d2a842af35f7637afbf3f', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 13, 'created': '2017-11-02 06:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/fbf348215d3818034eba71e711675ad06998e244', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 14, 'created': '2017-11-02 06:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6062e8a8b9738de07c858fed316e7a93a3d510e7', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 15, 'created': '2017-11-02 06:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/08604497c0b7d11e938717697eb0015710e804f1', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 16, 'created': '2017-11-02 06:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/b7d3d5f7f3583ff23d497b093092c6fe77bedc59', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 17, 'created': '2017-11-02 06:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c5a52e88c08a71e3d89e339bdf344d96e69a3ef7', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 18, 'created': '2017-11-02 06:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/936d2550222682d1b3522584791a87a5a23e1f33', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 19, 'created': '2017-11-02 06:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a3b8dfbd29950d9eb2b8ef054d4430051cd5f8a1', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 20, 'created': '2017-11-02 06:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e91bbfd00eec911dfeddafba492b57af1fbe5bdc', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 21, 'created': '2017-11-02 06:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/3e31257cfb9251201634944c71fc35edfb206a87', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 22, 'created': '2017-11-02 06:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9ea63fcfa571165b59fb9b31d2b1687ab102d880', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 23, 'created': '2017-11-02 08:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/24c52d86b6126068b1b69e5f712863943d66eaee', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 24, 'created': '2017-11-03 00:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d1379b3c2c4d55758f257af9e5489f5f4fc6450d', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 25, 'created': '2017-11-03 14:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/3577b866cf7494b350da7b1219aea20e8357d746', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 26, 'created': '2017-11-03 14:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f90282a224ac8453cbf9b0e49bd4f345d457a453', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 27, 'created': '2017-11-03 14:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7f308f46ac677529c1e05a1560c199f38ba975e6', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 28, 'created': '2017-11-03 14:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f8b866ebd65755485625b9ff528cb4c61d35e811', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 29, 'created': '2017-11-03 14:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ad32d49847661a5fbaf7a7a9c0e0b2624f90dfad', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 30, 'created': '2017-11-03 15:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/88515003ae3df1cdeca52d8e6a2bbb4c09a893f2', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}, {'number': 31, 'created': '2017-11-03 15:05:41.000000000', 'files': ['zaqar/tests/etc/policy.json', 'zaqar/common/policies/subscription.py', 'etc/policy.json.sample', 'zaqar/common/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/2caa94d5832ce6a4a2bc7e26bb23be43b6c7e6e8', 'message': 'Register default subscription policies in code\n\nThis commit uses the existing policy-in-code module to move all\ndefault policies for subscription into code. This commit also adds\nhelpful documetation about each API those policies protect,\nwhich will be generated in sample policy files.\n\nChange-Id: I2c061cd9df440a19391dbd678df57036e03eaad4\nImplement: blueprint policy-and-docs-in-code\n'}]",3,512537,2caa94d5832ce6a4a2bc7e26bb23be43b6c7e6e8,62,5,31,22484,,,0,"Register default subscription policies in code

This commit uses the existing policy-in-code module to move all
default policies for subscription into code. This commit also adds
helpful documetation about each API those policies protect,
which will be generated in sample policy files.

Change-Id: I2c061cd9df440a19391dbd678df57036e03eaad4
Implement: blueprint policy-and-docs-in-code
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/37/512537/6 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/common/policies/subscription.py', 'zaqar/common/policies/__init__.py']",2,520b39fb79dcc44eab8598fb0c5d2e4e727c5d7a,policy-and-docs-in-code,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import itertools from zaqar.common.policies import base from zaqar.common.policies import claims from zaqar.common.policies import messages from zaqar.common.policies import queues from zaqar.common.policies import subscription def list_rules(): return itertools.chain( base.list_rules(), queues.list_rules(), messages.list_rules(), claims.list_rules(), subscription.list_rules() ) ",,121,0
openstack%2Fshade~master~I4949a0baee08534f1b4822cb26793b2316c87333,openstack/shade,master,I4949a0baee08534f1b4822cb26793b2316c87333,Support filtering servers in list_servers using arbitrary parameters,MERGED,2017-09-25 01:26:19.000000000,2017-11-06 06:34:21.000000000,2017-11-06 06:34:21.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 10338}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-25 01:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/6f5e86196211939d82c0c7a162e07daeda13f5f5', 'message': ""Support filtering servers in list_servers using arbitrary parameters\n\nAny parameter recognized by Nova API server can now be used, such as\n'changes-since', 'deleted', etc., without having to define it in Shade.\n\nChange-Id: I4949a0baee08534f1b4822cb26793b2316c87333\n""}, {'number': 2, 'created': '2017-09-25 12:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/b461ea0ed5dcc345dfd13aa423ca41a05aa0951e', 'message': ""Support filtering servers in list_servers using arbitrary parameters\n\nAny parameter recognized by Nova API server can now be used, such as\n'changes-since', 'deleted', etc., without having to define it in Shade.\n\nChange-Id: I4949a0baee08534f1b4822cb26793b2316c87333\n""}, {'number': 3, 'created': '2017-09-25 15:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/97a65efaafb23ed23fc327024800cfb123d28bdc', 'message': ""Support filtering servers in list_servers using arbitrary parameters\n\nAny parameter recognized by Nova API server can now be used, such as\n'changes-since', 'deleted', etc., without having to define it in Shade.\n\nChange-Id: I4949a0baee08534f1b4822cb26793b2316c87333\n""}, {'number': 4, 'created': '2017-09-25 15:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/6070fedaad0cc827519815cebf54fa81ca038ab3', 'message': ""Support filtering servers in list_servers using arbitrary parameters\n\nAny parameter recognized by Nova API server can now be used, such as\n'changes-since', 'deleted', etc., without having to define it in Shade.\n\nChange-Id: I4949a0baee08534f1b4822cb26793b2316c87333\n""}, {'number': 5, 'created': '2017-09-25 19:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/6e759f482294d153c6b0ef3c297fecd7f842d05b', 'message': ""Support filtering servers in list_servers using arbitrary parameters\n\nAny parameter recognized by Nova API server can now be used, such as\n'changes-since', 'deleted', etc., without having to define it in Shade.\n\nChange-Id: I4949a0baee08534f1b4822cb26793b2316c87333\n""}, {'number': 6, 'created': '2017-10-20 17:35:06.000000000', 'files': ['shade/tests/unit/test_shade.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/ff9f7d793586e8bca3f25d76ac2eaae52ce1ee00', 'message': ""Support filtering servers in list_servers using arbitrary parameters\n\nAny parameter recognized by Nova API server can now be used, such as\n'changes-since', 'deleted', etc., without having to define it in Shade.\n\nChange-Id: I4949a0baee08534f1b4822cb26793b2316c87333\n""}]",1,506969,ff9f7d793586e8bca3f25d76ac2eaae52ce1ee00,31,5,6,10338,,,0,"Support filtering servers in list_servers using arbitrary parameters

Any parameter recognized by Nova API server can now be used, such as
'changes-since', 'deleted', etc., without having to define it in Shade.

Change-Id: I4949a0baee08534f1b4822cb26793b2316c87333
",git fetch https://review.opendev.org/openstack/shade refs/changes/69/506969/6 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,6f5e86196211939d82c0c7a162e07daeda13f5f5,enhanced-list," def list_servers(self, detailed=False, all_projects=False, bare=False, params=None): :param params: Additional query parameters passed to the API server. bare=bare, params=params) def _list_servers(self, detailed=False, all_projects=False, bare=False, params=None): params = params or {}"," def list_servers(self, detailed=False, all_projects=False, bare=False): bare=bare) def _list_servers(self, detailed=False, all_projects=False, bare=False): params = {}",6,4
openstack%2Fshade~master~I0253ecc6411426e554c08010186c72394a318268,openstack/shade,master,I0253ecc6411426e554c08010186c72394a318268,Fix regression for list_router_interfaces,MERGED,2017-10-30 10:38:48.000000000,2017-11-06 06:31:34.000000000,2017-11-06 06:31:34.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 10:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5ea501f1e391c270573f09b36ac3ba5974b79034', 'message': 'Fix regression for list_router_interfaces\n\nA filter for router ports was introduced in [1] that only works when\nNeutron HA is disabled. We need a different filter value in the HA case.\n\n[1] I7fb5add36af09cc22084c8c034bf9f3cd0fbb442\n\nChange-Id: I0253ecc6411426e554c08010186c72394a318268\nStory: 2001265\nTask: 5799\n'}, {'number': 2, 'created': '2017-10-30 15:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/d83ce67f87e910071730f9f037e35c7d36a98acc', 'message': 'Fix regression for list_router_interfaces\n\nA filter for router ports was introduced in [1] that only works when\nNeutron HA is disabled. We need a different filter value in the HA case.\n\n[1] I7fb5add36af09cc22084c8c034bf9f3cd0fbb442\n\nChange-Id: I0253ecc6411426e554c08010186c72394a318268\nStory: 2001265\nTask: 5799\n'}, {'number': 3, 'created': '2017-10-30 16:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/bf7543c1622b302c30a03d3a5a36002c902375cc', 'message': 'Fix regression for list_router_interfaces\n\nA filter for router ports was introduced in [1] that only works when\nNeutron HA is disabled. We need a different filter value in the HA case.\n\n[1] I7fb5add36af09cc22084c8c034bf9f3cd0fbb442\n\nChange-Id: I0253ecc6411426e554c08010186c72394a318268\nStory: 2001265\nTask: 5799\n'}, {'number': 4, 'created': '2017-11-02 10:10:24.000000000', 'files': ['shade/tests/unit/test_router.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/e4fb68662753546f29ab054754d13bc94b661525', 'message': 'Fix regression for list_router_interfaces\n\nA filter for router ports was introduced in [1] that only works when\nNeutron DVR and HA are disabled. We need different filter values in the\nDVR or HA case.\n\n[1] I7fb5add36af09cc22084c8c034bf9f3cd0fbb442\n\nChange-Id: I0253ecc6411426e554c08010186c72394a318268\nStory: 2001265\nTask: 5799\n'}]",0,516247,e4fb68662753546f29ab054754d13bc94b661525,15,3,4,13252,,,0,"Fix regression for list_router_interfaces

A filter for router ports was introduced in [1] that only works when
Neutron DVR and HA are disabled. We need different filter values in the
DVR or HA case.

[1] I7fb5add36af09cc22084c8c034bf9f3cd0fbb442

Change-Id: I0253ecc6411426e554c08010186c72394a318268
Story: 2001265
Task: 5799
",git fetch https://review.opendev.org/openstack/shade refs/changes/47/516247/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,5ea501f1e391c270573f09b36ac3ba5974b79034,fix-router-interfaces," 'device_id': router['id'], 'device_owner': 'network:router_interface'}) + self.search_ports(filters={ 'device_id': router['id'], 'device_owner': 'network:ha_router_replicated_interface'})"," 'device_id': router['id'], 'device_owner': 'network:router_interface'})",5,2
openstack%2Fzaqar~master~Iab3e71d7ee13b8294379c3c10a537dc5628498cd,openstack/zaqar,master,Iab3e71d7ee13b8294379c3c10a537dc5628498cd,Use generic user for both zuul v2 and v3,MERGED,2017-10-27 08:07:56.000000000,2017-11-06 06:22:36.000000000,2017-11-06 06:22:36.000000000,"[{'_account_id': 8846}, {'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-27 08:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/86e2b8913b31950c12113882d004cf25ae10f299', 'message': ""Use generic user for both zuul v2 and v3\n\nZuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.\nUsing $USER solves it for both cases.\n\nChange-Id: Iab3e71d7ee13b8294379c3c10a537dc5628498cd\n""}, {'number': 2, 'created': '2017-10-30 01:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7337f3a1c672cea5a71af4b5a16bb27553aa52ad', 'message': ""Use generic user for both zuul v2 and v3\n\nZuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.\nUsing $USER solves it for both cases.\n\nChange-Id: Iab3e71d7ee13b8294379c3c10a537dc5628498cd\n""}, {'number': 3, 'created': '2017-11-06 01:51:35.000000000', 'files': ['devstack/gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f908a80bf0ec9d034bf4d25dca80e1e50b52a6e2', 'message': ""Use generic user for both zuul v2 and v3\n\nZuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.\nUsing $USER solves it for both cases.\n\nChange-Id: Iab3e71d7ee13b8294379c3c10a537dc5628498cd\n""}]",0,515639,f908a80bf0ec9d034bf4d25dca80e1e50b52a6e2,11,4,3,25254,,,0,"Use generic user for both zuul v2 and v3

Zuul v2 uses 'jenkins' as user, but Zuul v3 uses 'zuul'.
Using $USER solves it for both cases.

Change-Id: Iab3e71d7ee13b8294379c3c10a537dc5628498cd
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/39/515639/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/gate/post_test_hook.sh'],1,86e2b8913b31950c12113882d004cf25ae10f299,zuulv3, sudo chown $USER:$USER $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz, sudo chown jenkins:jenkins $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz,1,1
openstack%2Fnova~master~I4482ac2ecf8e07c197fd24c520b7f11fd5a10945,openstack/nova,master,I4482ac2ecf8e07c197fd24c520b7f11fd5a10945,Avoid deleting allocations for instances being built,MERGED,2017-11-01 15:19:52.000000000,2017-11-06 05:32:51.000000000,2017-11-06 05:32:51.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2017-11-01 15:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e70d9af2359d77ed34b16667457dbb2dbefe976c', 'message': 'WIP Avoid deleting allocations for instances being built\n\nChange-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945\n'}, {'number': 2, 'created': '2017-11-01 15:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae201671cb20f52fbfe5f77f1a844c9b73362ae1', 'message': ""Avoid deleting allocations for instances being built\n\nThe resource tracker's _remove_deleted_instances_allocations() assumes that\nInstanceNotFound means that an instance was deleted. That's not quite accurate,\nas we would also see that in the window between creating allocations and actually\ncreating the instance in the cell database. So, the code now will kill\nallocations for those instances before they are created.\n\nThis change makes us look up the instance with read_deleted=yes, and if we find\nit with deleted=True, then we do the allocation removal. This does mean that\nsomeone running a full DB archive at the instant an instance is deleted in some\nway that didn't result in allocation removal as well could leak those. However,\nwe can log that (unlikely) situation.\n\nCloses-Bug: #1729371\n\nChange-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945\n""}, {'number': 3, 'created': '2017-11-01 18:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5044b615c7882209c6e8169331d9e319e7e5c80d', 'message': ""Avoid deleting allocations for instances being built\n\nThe resource tracker's _remove_deleted_instances_allocations() assumes that\nInstanceNotFound means that an instance was deleted. That's not quite accurate,\nas we would also see that in the window between creating allocations and actually\ncreating the instance in the cell database. So, the code now will kill\nallocations for those instances before they are created.\n\nThis change makes us look up the instance with read_deleted=yes, and if we find\nit with deleted=True, then we do the allocation removal. This does mean that\nsomeone running a full DB archive at the instant an instance is deleted in some\nway that didn't result in allocation removal as well could leak those. However,\nwe can log that (unlikely) situation.\n\nCloses-Bug: #1729371\n\nChange-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945\n""}, {'number': 4, 'created': '2017-11-05 23:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/456147d57d9bad0657f35fa07cd7f8e3801125b9', 'message': ""Avoid deleting allocations for instances being built\n\nThe resource tracker's _remove_deleted_instances_allocations() assumes that\nInstanceNotFound means that an instance was deleted. That's not quite accurate,\nas we would also see that in the window between creating allocations and actually\ncreating the instance in the cell database. So, the code now will kill\nallocations for those instances before they are created.\n\nThis change makes us look up the instance with read_deleted=yes, and if we find\nit with deleted=True, then we do the allocation removal. This does mean that\nsomeone running a full DB archive at the instant an instance is deleted in some\nway that didn't result in allocation removal as well could leak those. However,\nwe can log that (unlikely) situation.\n\nCloses-Bug: #1729371\n\nChange-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945\n""}, {'number': 5, 'created': '2017-11-06 01:43:24.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d176175db456e4a312eed37ed4f5adcc06292fd5', 'message': ""Avoid deleting allocations for instances being built\n\nThe resource tracker's _remove_deleted_instances_allocations() assumes that\nInstanceNotFound means that an instance was deleted. That's not quite accurate,\nas we would also see that in the window between creating allocations and actually\ncreating the instance in the cell database. So, the code now will kill\nallocations for those instances before they are created.\n\nThis change makes us look up the instance with read_deleted=yes, and if we find\nit with deleted=True, then we do the allocation removal. This does mean that\nsomeone running a full DB archive at the instant an instance is deleted in some\nway that didn't result in allocation removal as well could leak those. However,\nwe can log that (unlikely) situation.\n\nCloses-Bug: #1729371\n\nChange-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945\n""}]",11,517009,d176175db456e4a312eed37ed4f5adcc06292fd5,76,15,5,4393,,,0,"Avoid deleting allocations for instances being built

The resource tracker's _remove_deleted_instances_allocations() assumes that
InstanceNotFound means that an instance was deleted. That's not quite accurate,
as we would also see that in the window between creating allocations and actually
creating the instance in the cell database. So, the code now will kill
allocations for those instances before they are created.

This change makes us look up the instance with read_deleted=yes, and if we find
it with deleted=True, then we do the allocation removal. This does mean that
someone running a full DB archive at the instant an instance is deleted in some
way that didn't result in allocation removal as well could leak those. However,
we can log that (unlikely) situation.

Closes-Bug: #1729371

Change-Id: I4482ac2ecf8e07c197fd24c520b7f11fd5a10945
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/517009/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,e70d9af2359d77ed34b16667457dbb2dbefe976c,bug/1729371," read_deleted_context = context.elevated(read_deleted='yes') instance = objects.Instance.get_by_uuid(read_deleted_context, instance_uuid, # The instance isn't even in the database. Either the scheduler # _just_ created an allocation for it and we're racing with the # creation in the cell database, or the instance was deleted # and fully archived before we got a chance to run this. The # former is far more likely than the latter. Avoid deleting # allocations for a building instance here. LOG.warning(""Instance %(uuid)s has allocations against this "" ""compute host but is not found in the database."", instance_uuid) continue if instance.deleted:"," instance = objects.Instance.get_by_uuid(context, instance_uuid,",14,1
openstack%2Fnova~stable%2Fpike~Icb418f2be575bb2ba82756fdeb67b24a28950746,openstack/nova,stable/pike,Icb418f2be575bb2ba82756fdeb67b24a28950746,Set group_members when converting to legacy request spec,MERGED,2017-10-05 12:51:28.000000000,2017-11-06 05:28:56.000000000,2017-10-07 05:37:15.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-05 12:51:28.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d288132dca7cc76dfc6679eda17bb8fcc62577de', 'message': 'Set group_members when converting to legacy request spec\n\nIn Pike we converted the affinity filter code to use the RequestSpec\nobject instead of legacy dicts. The filter used to populate server\ngroup info in the filter_properties and the conversion removed that.\nHowever, in the conductor, we are still converting RequestSpec back\nand forth between object and primitive, and there is a mismatch\nbetween the keys being set/get in filter_properties. So during a\nreschedule with a server group, we hit an exception\n""\'NoneType\' object is not iterable"" in the RequestSpec.from_primitives\nmethod and the reschedule fails.\n\nThis adds \'group_members\' to the _to_legacy_group_info method to set\nthe key.\n\nCloses-Bug: #1719730\n\nChange-Id: Icb418f2be575bb2ba82756fdeb67b24a28950746\n(cherry picked from commit 9d6632a67d91fb3c5145c14ac38011e919d6d8c0)\n'}]",0,509766,d288132dca7cc76dfc6679eda17bb8fcc62577de,18,10,1,6873,,,0,"Set group_members when converting to legacy request spec

In Pike we converted the affinity filter code to use the RequestSpec
object instead of legacy dicts. The filter used to populate server
group info in the filter_properties and the conversion removed that.
However, in the conductor, we are still converting RequestSpec back
and forth between object and primitive, and there is a mismatch
between the keys being set/get in filter_properties. So during a
reschedule with a server group, we hit an exception
""'NoneType' object is not iterable"" in the RequestSpec.from_primitives
method and the reschedule fails.

This adds 'group_members' to the _to_legacy_group_info method to set
the key.

Closes-Bug: #1719730

Change-Id: Icb418f2be575bb2ba82756fdeb67b24a28950746
(cherry picked from commit 9d6632a67d91fb3c5145c14ac38011e919d6d8c0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/509766/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/unit/objects/test_request_spec.py']",3,d288132dca7cc76dfc6679eda17bb8fcc62577de,bug/1719730-stable/pike," policies=['affinity'], members=['inst1', 'inst2']), 'group_members': set(['inst1', 'inst2']),"," policies=['affinity']),",122,2
openstack%2Fpython-mistralclient~master~I3b964e349dd6843ceb022264abe451a1b407786b,openstack/python-mistralclient,master,I3b964e349dd6843ceb022264abe451a1b407786b,Support no_auth mode in mistral client,MERGED,2017-11-04 11:27:39.000000000,2017-11-06 05:20:49.000000000,2017-11-06 05:20:49.000000000,"[{'_account_id': 6732}, {'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 11:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/bb42f259a6fbf03fe5350a5dc553a7323c6a7d52', 'message': ""Support no_auth mode in mistral client\n\nNow it is impossible to send requests without authentication.\nThis patch allows to disable it if user doesn't provide auth_url\nto the client.\n\nChange-Id: I3b964e349dd6843ceb022264abe451a1b407786b\nCloses-bug: #1730067\n""}, {'number': 2, 'created': '2017-11-04 11:38:00.000000000', 'files': ['mistralclient/tests/unit/test_client.py', 'mistralclient/api/v2/client.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/aa65b57816bd29e31355b8cecc9b20d10b0aa307', 'message': ""Support no_auth mode in mistral client\n\nNow it is impossible to send requests without authentication.\nThis patch allows to disable it if user doesn't provide auth_url\nto the client.\n\nChange-Id: I3b964e349dd6843ceb022264abe451a1b407786b\nCloses-bug: #1730067\n""}]",0,517753,aa65b57816bd29e31355b8cecc9b20d10b0aa307,9,4,2,11391,,,0,"Support no_auth mode in mistral client

Now it is impossible to send requests without authentication.
This patch allows to disable it if user doesn't provide auth_url
to the client.

Change-Id: I3b964e349dd6843ceb022264abe451a1b407786b
Closes-bug: #1730067
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/53/517753/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/tests/unit/test_client.py', 'mistralclient/api/v2/client.py']",2,bb42f259a6fbf03fe5350a5dc553a7323c6a7d52,bug/1730067," # If auth url was provided then we perform an authentication, otherwise # just ignore this step if req.get('auth_url'): auth_handler = auth.get_auth_handler(auth_type) auth_response = auth_handler.authenticate(req, session=session) else: auth_response = {}"," auth_handler = auth.get_auth_handler(auth_type) auth_response = auth_handler.authenticate(req, session=session) or {}",26,2
openstack%2Fsahara~master~I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081,openstack/sahara,master,I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081,Incorrect indent Sahara Installation Guide in sahara,MERGED,2017-11-02 09:06:28.000000000,2017-11-06 05:18:34.000000000,2017-11-06 05:18:34.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 22689}, {'_account_id': 23078}]","[{'number': 1, 'created': '2017-11-02 09:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5739c28ee0e8532bb0d6409359e0665cf21d9bd0', 'message': 'Incorrect indent Sahara Installation Guide in sahara\n\nIncorrect indent Sahara Installation Guide in sahara cause wrong\nfront format.\nhttps://docs.openstack.org/sahara/latest/install/installation-guide.html\nCloses-Bug:#1729530\n\nChange-Id: I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081\n'}, {'number': 2, 'created': '2017-11-03 08:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0fbab747955e6b6ece7f2c2775931f40b08dd048', 'message': 'Incorrect indent Sahara Installation Guide in sahara\n\nIncorrect indent Sahara Installation Guide in sahara cause wrong\nfront format.\nChange-Id: I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081\n'}, {'number': 3, 'created': '2017-11-03 08:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3edfcb9fbd902f5b65cfb7c47b140caff9084ab6', 'message': 'Incorrect indent Sahara Installation Guide in sahara\n\nIncorrect indent Sahara Installation Guide in sahara cause wrong\nfront format.\nChange-Id: I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081\n'}, {'number': 4, 'created': '2017-11-03 10:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5e3d038a0e9ee3f243d11268d70084ea225491d1', 'message': 'Incorrect indent Sahara Installation Guide in sahara\n\nIncorrect indent Sahara Installation Guide in sahara cause wrong\nfront format.\nChange-Id: I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081\n'}, {'number': 5, 'created': '2017-11-06 02:43:00.000000000', 'files': ['doc/source/contributor/dashboard-dev-environment-guide.rst', 'doc/source/user/dashboard-user-guide.rst', 'doc/source/user/cdh-plugin.rst', 'doc/source/user/sahara-on-ironic.rst', 'doc/source/user/spark-plugin.rst', 'doc/source/contributor/how-to-build-oozie.rst', 'doc/source/user/vanilla-plugin.rst', 'doc/source/contributor/launchpad.rst', 'doc/source/admin/advanced-configuration-guide.rst', 'doc/source/user/edp.rst', 'doc/source/install/installation-guide.rst', 'doc/source/user/vanilla-imagebuilder.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/b94140e92ee0cd256a3aac4d36395eceb966c66d', 'message': 'Incorrect indent Sahara Installation Guide in sahara\n\nIncorrect indent Sahara Installation Guide in sahara cause wrong\nfront format.\nCloses-Bug:#1729530\nChange-Id: I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081\n'}]",0,517216,b94140e92ee0cd256a3aac4d36395eceb966c66d,19,4,5,17645,,,0,"Incorrect indent Sahara Installation Guide in sahara

Incorrect indent Sahara Installation Guide in sahara cause wrong
front format.
Closes-Bug:#1729530
Change-Id: I419cd7dbcf9d7f7dadda5d4c7ebf75af64ef2081
",git fetch https://review.opendev.org/openstack/sahara refs/changes/16/517216/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation-guide.rst'],1,5739c28ee0e8532bb0d6409359e0665cf21d9bd0,fix-indent,"For Fedora:For CentOS:This will install a python virtual environment into ``sahara-venv`` directory in your current working directory. This command does not require super user privileges and can be executed in any directory where the current user has write permissions.Note that ``sahara-master.tar.gz`` contains the latest changes and might not be stable at the moment. We recommend browsing `<http://tarballs.openstack.org/sahara/>`_ and selecting the latest stable release. For installation just execute (where replace the 'release' word with release name, e.g. 'mitaka'):For example, you can get Sahara Mitaka release by executing:Make any necessary changes to ``sahara-venv/etc/sahara.conf``. For details see :doc:`Sahara Configuration Guide <../admin/configuration-guide>`"," For Fedora: For CentOS: This will install a python virtual environment into ``sahara-venv`` directory in your current working directory. This command does not require super user privileges and can be executed in any directory where the current user has write permissions. Note that ``sahara-master.tar.gz`` contains the latest changes and might not be stable at the moment. We recommend browsing `<http://tarballs.openstack.org/sahara/>`_ and selecting the latest stable release. For installation just execute (where replace the 'release' word with release name, e.g. 'mitaka'): For example, you can get Sahara Mitaka release by executing: Make any necessary changes to ``sahara-venv/etc/sahara.conf``. For details see :doc:`Sahara Configuration Guide <../admin/configuration-guide>`",15,15
openstack%2Fpython-saharaclient~master~If795b21bacf497d7198c9d33f6da70873d5c8ede,openstack/python-saharaclient,master,If795b21bacf497d7198c9d33f6da70873d5c8ede,Add export of node group templates to CLI,MERGED,2017-07-24 18:47:17.000000000,2017-11-06 05:18:33.000000000,2017-11-06 05:18:33.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8871}, {'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22689}, {'_account_id': 23078}, {'_account_id': 25351}]","[{'number': 1, 'created': '2017-07-24 18:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/32ee6a4ca67c15c4e1e9c9865e806add6b59f4a2', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 2, 'created': '2017-07-24 18:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/89e302cac1689ce62b2a4015443f806a100c870c', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 3, 'created': '2017-07-25 13:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/eb64ed7715a2e713b0c54ed9fc569a8cb8265f1c', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 4, 'created': '2017-07-25 15:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/4c38326e097755c921f00f7d865a2256043bc6bc', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 5, 'created': '2017-07-25 21:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/25be51d3dd0e5aceb212e837ef7b592a09132fc3', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 6, 'created': '2017-07-26 13:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/02a9650f10b5bbbda842f0ddc4eaaf8d2e2723e5', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 7, 'created': '2017-08-31 21:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/bf9b97b9ac30332e127b0cb5add5806bc7c1f7eb', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 8, 'created': '2017-09-01 20:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/1bffbd1838f05831c7e3ef35d6d57630626b162a', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 9, 'created': '2017-09-15 02:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/1ed497629a7fd0cb314b079d307bd526c71dce57', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 10, 'created': '2017-09-15 03:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/11e6b0104705218f56c29b7b8c5d60feeeec3b72', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 11, 'created': '2017-11-01 23:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/c8118366769e88d671f54ded1137420482e3f9b8', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}, {'number': 12, 'created': '2017-11-01 23:26:28.000000000', 'files': ['saharaclient/osc/v1/node_group_templates.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/9b9ff62e1891b7ca31aad2f5cf5043fc729027df', 'message': ""Add export of node group templates to CLI\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df\n\nThis change adds command\n'dataprocessing node group template export'\nto OpenStack CLI.\n\nChange-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede\n""}]",13,486721,9b9ff62e1891b7ca31aad2f5cf5043fc729027df,61,9,12,25351,,,0,"Add export of node group templates to CLI

Partially-Implements: bp portable-node-group-and-cluster-templates

Depends-On: I33c3b6daa5b9e2be218a84efdb6113a4ce9a86df

This change adds command
'dataprocessing node group template export'
to OpenStack CLI.

Change-Id: If795b21bacf497d7198c9d33f6da70873d5c8ede
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/21/486721/8 && git format-patch -1 --stdout FETCH_HEAD,"['saharaclient/osc/v1/node_group_templates.py', 'setup.cfg']",2,32ee6a4ca67c15c4e1e9c9865e806add6b59f4a2,bp/portable-node-group-and-cluster-templates, dataprocessing_node_group_template_export = saharaclient.osc.v1.node_group_templates:ExportNodeGroupTemplate,,27,0
openstack%2Fpython-saharaclient~master~I027169ace70929318990a4225d456bf1cf8a83b2,openstack/python-saharaclient,master,I027169ace70929318990a4225d456bf1cf8a83b2,Add export of cluster templates,MERGED,2017-08-28 16:35:54.000000000,2017-11-06 05:18:32.000000000,2017-11-06 05:18:32.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22689}, {'_account_id': 23078}, {'_account_id': 25351}]","[{'number': 1, 'created': '2017-08-28 16:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/2e92328f5c9ec47b3a1ff02ed0d9818229a0c241', 'message': ""Add export of cluster templates\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}, {'number': 2, 'created': '2017-08-28 19:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/6c2836f6eb79c525aa317d117e084e73f6b5434d', 'message': ""Add export of cluster templates\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}, {'number': 3, 'created': '2017-08-30 19:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/a1f8b909f14a39d139b3a78646c69ec6164ac2a7', 'message': ""Add export of cluster templates\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}, {'number': 4, 'created': '2017-08-31 21:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/82d979052bd3bac6020f9d719bf36d9a71f9f2ec', 'message': ""Add export of cluster templates\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}, {'number': 5, 'created': '2017-09-01 21:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/f13e14b3c0572cca1ea465c4db5f8459bb0e557e', 'message': ""Add export of cluster templates\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}, {'number': 6, 'created': '2017-09-15 02:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/3c78741f4c10297bcfa7aee2eedb56108488b839', 'message': ""Add export of cluster templates\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}, {'number': 7, 'created': '2017-09-15 03:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/9bdde8e2b719bec4c55883afcc3d9f8b712731e4', 'message': ""Add export of cluster templates\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}, {'number': 8, 'created': '2017-11-01 23:19:58.000000000', 'files': ['saharaclient/osc/v1/cluster_templates.py', 'setup.cfg', 'saharaclient/api/cluster_templates.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/4b840b31dc78947a79437a09c9d8426fb37b8060', 'message': ""Add export of cluster templates\n\nPartially-Implements: bp portable-node-group-and-cluster-templates\n\nDepends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31\n\nThis change adds command\n'dataprocessing cluster template export'\nto OpenStack CLI.\n\nChange-Id: I027169ace70929318990a4225d456bf1cf8a83b2\n""}]",15,498520,4b840b31dc78947a79437a09c9d8426fb37b8060,49,8,8,25351,,,0,"Add export of cluster templates

Partially-Implements: bp portable-node-group-and-cluster-templates

Depends-On: Ib5a2df4013840050b8034bcefd68040f508d0b31

This change adds command
'dataprocessing cluster template export'
to OpenStack CLI.

Change-Id: I027169ace70929318990a4225d456bf1cf8a83b2
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/20/498520/8 && git format-patch -1 --stdout FETCH_HEAD,"['saharaclient/osc/v1/cluster_templates.py', 'setup.cfg', 'saharaclient/api/cluster_templates.py']",3,2e92328f5c9ec47b3a1ff02ed0d9818229a0c241,bp/portable-node-group-and-cluster-templates," def export(self, cluster_template_id): """"""Export a Cluster Template."""""" return self._get('/cluster-templates/%s/export' % cluster_template_id)",,40,0
openstack%2Ftripleo-heat-templates~master~I192ea99105bd188554d45a6e4290bb33d1f08ff1,openstack/tripleo-heat-templates,master,I192ea99105bd188554d45a6e4290bb33d1f08ff1,Speed up deployment by reusing facts,MERGED,2017-10-25 07:32:44.000000000,2017-11-06 05:09:24.000000000,2017-11-06 05:09:24.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 9061}, {'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 13039}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-25 07:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/939fcff08abbb4c1bee020396f1aeeda9d8470f8', 'message': 'Speed up deployment by reusing facts\n\nThe overcloud deployment playbook consists of several plays. Facts\ngathered in a single playbook persist between plays, but by default\neach play gathers facts from involved nodes before applying any\nroles/tasks. That resulted in gathering facts many times.\n\nThis commit changes the deployment playbook so that we gather facts\nonce at the beginning, and then reuse them for subsequent plays.\n\nChange-Id: I192ea99105bd188554d45a6e4290bb33d1f08ff1\n'}, {'number': 2, 'created': '2017-11-02 10:42:40.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42b92efba31779246496161fe2f2228db5b28265', 'message': ""Speed up deployment by reusing facts\n\nThe overcloud deployment playbook consists of several plays. Facts\ngathered in a single playbook persist between plays, but by default\neach play gathers facts from involved nodes before applying any\nroles/tasks. That resulted in gathering facts many times.\n\nThis commit changes the deployment playbook so that we gather facts\nonce at the beginning, and then reuse them for subsequent plays.\n\nAlso any_errors_fatal is added to make sure that when one host fails,\nsubsequent tasks aren't attempted on the other hosts either.\n\nChange-Id: I192ea99105bd188554d45a6e4290bb33d1f08ff1\n""}]",6,514945,42b92efba31779246496161fe2f2228db5b28265,28,12,2,8042,,,0,"Speed up deployment by reusing facts

The overcloud deployment playbook consists of several plays. Facts
gathered in a single playbook persist between plays, but by default
each play gathers facts from involved nodes before applying any
roles/tasks. That resulted in gathering facts many times.

This commit changes the deployment playbook so that we gather facts
once at the beginning, and then reuse them for subsequent plays.

Also any_errors_fatal is added to make sure that when one host fails,
subsequent tasks aren't attempted on the other hosts either.

Change-Id: I192ea99105bd188554d45a6e4290bb33d1f08ff1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/514945/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,939fcff08abbb4c1bee020396f1aeeda9d8470f8,facts-speedup, - hosts: undercloud:overcloud name: Gather facts gather_facts: yes gather_facts: no gather_facts: no gather_facts: no gather_facts: no gather_facts: no,,8,0
openstack%2Ftripleo-common~stable%2Fpike~I14d5ef226808e8bf2e983b74c9918ea4d61a4aa1,openstack/tripleo-common,stable/pike,I14d5ef226808e8bf2e983b74c9918ea4d61a4aa1,Add retry loop for docker pull,MERGED,2017-11-02 13:31:42.000000000,2017-11-06 05:08:57.000000000,2017-11-06 05:08:57.000000000,"[{'_account_id': 360}, {'_account_id': 4571}, {'_account_id': 8042}, {'_account_id': 13039}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 13:31:42.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9fd6390777b8bcb8f2591ed31540c8c2d9d831e', 'message': 'Add retry loop for docker pull\n\nThe prepare command also needs a retry loop for docker pull in order to\naccommodate with the not so infrequent I/O failures.\n\nChange-Id: I14d5ef226808e8bf2e983b74c9918ea4d61a4aa1\nRelated-Bug: #1715136\n(cherry picked from commit 2ff0842fcb27af43903d1738bff26bec558c966a)\n'}]",0,517305,b9fd6390777b8bcb8f2591ed31540c8c2d9d831e,23,8,1,8042,,,0,"Add retry loop for docker pull

The prepare command also needs a retry loop for docker pull in order to
accommodate with the not so infrequent I/O failures.

Change-Id: I14d5ef226808e8bf2e983b74c9918ea4d61a4aa1
Related-Bug: #1715136
(cherry picked from commit 2ff0842fcb27af43903d1738bff26bec558c966a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/517305/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,b9fd6390777b8bcb8f2591ed31540c8c2d9d831e,bug/1715136-stable/pike,"import time self._pull_retry(dockerc, repo, tag=tag) self.logger.warning('docker pull failed: %s' % status['error']) return 1 return 0 def _pull_retry(self, dockerc, image, tag=None): retval = -1 count = 0 while retval != 0: if count >= 5: raise ImageUploaderException('Could not pull image %s' % image) count += 1 retval = self._pull(dockerc, image, tag) if retval != 0: time.sleep(3) self.logger.warning('retrying pulling image: %s' % image) self._pull_retry(dockerc, image) self._pull_retry(dockerc, versioned_image)"," self._pull(dockerc, repo, tag=tag) raise ImageUploaderException('Could not pull image: %s' % status['error']) self._pull(dockerc, image) self._pull(dockerc, versioned_image)",50,21
openstack%2Fneutron~master~Ice5a31d4995304150de45bb6364ab979943814cb,openstack/neutron,master,Ice5a31d4995304150de45bb6364ab979943814cb,[Do not review] test DVR+HA multinode job,ABANDONED,2016-10-07 17:20:29.000000000,2017-11-06 05:02:14.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10267}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2016-10-07 17:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ded8779d02f153aa6c8191c87d3341b952a53a37', 'message': '[Do not review] test DVR+HA multinode job\n\nDepends-On: I48c86f94098f1501f0e7f90a265dda7e81440eb0\nDepends-On: I370643277a3b23e7f47e413cf880daa9af1eb831\nDepends-On: I4e08a97158dc4538c6f021c049c6e60fb7293459\nChange-Id: Ice5a31d4995304150de45bb6364ab979943814cb\n'}, {'number': 2, 'created': '2017-01-16 15:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40da65e0fb53e83f09ed046f5f9487ccbe2f88a0', 'message': '[Do not review] test DVR+HA multinode job\n\nDepends-On: I4e08a97158dc4538c6f021c049c6e60fb7293459\nChange-Id: Ice5a31d4995304150de45bb6364ab979943814cb\n'}, {'number': 3, 'created': '2017-01-18 06:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffb30e561ff2976925becf54c221df2c8931bea0', 'message': '[Do not review] test DVR+HA multinode job\n\nDepends-On: I4e08a97158dc4538c6f021c049c6e60fb7293459\nChange-Id: Ice5a31d4995304150de45bb6364ab979943814cb\n'}, {'number': 4, 'created': '2017-07-20 08:47:32.000000000', 'files': ['neutron/wsgi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d71ef2b8e165f44185a711d3efa8b2a5f8b250df', 'message': '[Do not review] test DVR+HA multinode job\n\nChange-Id: Ice5a31d4995304150de45bb6364ab979943814cb\n'}]",0,383833,d71ef2b8e165f44185a711d3efa8b2a5f8b250df,67,11,4,10267,,,0,"[Do not review] test DVR+HA multinode job

Change-Id: Ice5a31d4995304150de45bb6364ab979943814cb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/383833/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py'],1,ded8779d02f153aa6c8191c87d3341b952a53a37,(detached, # test,,1,0
openstack%2Foslo.messaging~master~I5359f9f1096f5e4cce9d359db813a3749a0b9c64,openstack/oslo.messaging,master,I5359f9f1096f5e4cce9d359db813a3749a0b9c64,Remove stable/newton from zuul settings,MERGED,2017-10-30 06:05:47.000000000,2017-11-06 04:59:17.000000000,2017-11-06 04:59:16.000000000,"[{'_account_id': 1297}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6486}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 7491}, {'_account_id': 8601}, {'_account_id': 8770}, {'_account_id': 9107}, {'_account_id': 9796}, {'_account_id': 13290}, {'_account_id': 20523}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 06:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/243e744255d9f2026bd5afe28e74a65ccbcb8216', 'message': 'Remove stable/newton from zuul settings\n\nstable/newton branch is EOL now, remove relevant settings from zuul.\n\nChange-Id: I5359f9f1096f5e4cce9d359db813a3749a0b9c64\n'}, {'number': 2, 'created': '2017-10-30 06:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/deb6b2d6b819a73673fdc126a820e016d4265c1a', 'message': 'Remove stable/newton from zuul settings\n\nstable/newton branch is EOL now, remove relevant settings from zuul.\n\nChange-Id: I5359f9f1096f5e4cce9d359db813a3749a0b9c64\n'}, {'number': 3, 'created': '2017-10-31 03:25:16.000000000', 'files': ['playbooks/oslo.messaging-telemetry-dsvm-integration-rabbit/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-pika/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-zmq/run.yaml', '.zuul.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-amqp1/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-kafka/run.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a89317ab75e8218a16a040330e43a4c0436ad3c5', 'message': 'Remove stable/newton from zuul settings\n\nstable/newton branch is EOL now, remove relevant settings from zuul.\n\nChange-Id: I5359f9f1096f5e4cce9d359db813a3749a0b9c64\n'}]",2,516185,a89317ab75e8218a16a040330e43a4c0436ad3c5,21,19,3,21797,,,0,"Remove stable/newton from zuul settings

stable/newton branch is EOL now, remove relevant settings from zuul.

Change-Id: I5359f9f1096f5e4cce9d359db813a3749a0b9c64
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/85/516185/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/oslo.messaging-telemetry-dsvm-integration-rabbit/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-pika/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-zmq/run.yaml', '.zuul.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-amqp1/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-kafka/run.yaml']",6,243e744255d9f2026bd5afe28e74a65ccbcb8216,zuul, export DEVSTACK_GATE_TEMPEST=1," if [ ""$ZUUL_BRANCH"" == ""stable/newton"" ] ; then export DEVSTACK_GATE_TEMPEST=0 else export DEVSTACK_GATE_TEMPEST=1 fi ""stable/newton"") export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin gnocchi git://git.openstack.org/openstack/gnocchi"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin panko git://git.openstack.org/openstack/panko"" export OVERRIDE_GNOCCHI_PROJECT_BRANCH=""stable/3.0"" export PROJECTS=""openstack/panko $PROJECTS openstack/gnocchi"" ;;",8,70
openstack%2Ftripleo-heat-templates~master~If48bd6a69209da556cc75ece035b341eb59f41a9,openstack/tripleo-heat-templates,master,If48bd6a69209da556cc75ece035b341eb59f41a9,Added a new role definition for SR-IOV Compute role,MERGED,2017-09-08 08:48:03.000000000,2017-11-06 04:48:30.000000000,2017-11-04 08:45:33.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-08 08:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fbcc375eacae0f95c11bb5c91579940ebd2f836', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been addeed.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}, {'number': 2, 'created': '2017-09-08 08:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3391145cc3ec0924f1a5e845bf1b590ffd682568', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been added.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}, {'number': 3, 'created': '2017-09-13 06:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92022735cde01456b69251e078b44b1adcadcdc2', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been added.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}, {'number': 4, 'created': '2017-09-19 06:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed5eabff63c95082cef20032f144e9e0ff3f8341', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been added. This also removes the\nSR_IOV services from the default compute so that compute and compute\nsriov can co-exist in the same cluster.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}, {'number': 5, 'created': '2017-09-20 05:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1a4fcbaaedc075c16771873f1ef5bece1707eca', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been added. This also removes the\nSR_IOV services from the default compute so that compute and compute\nsriov can co-exist in the same cluster.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}, {'number': 6, 'created': '2017-09-20 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/554ca5c01d02180100d7b934ce03dfff220933e0', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been added. This also removes the\nSR_IOV services from the default compute so that compute and compute\nsriov can co-exist in the same cluster.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}, {'number': 7, 'created': '2017-09-21 08:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55c0d729a9c937080c8560e77e7d3aaa86f216ee', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been added. This also removes the\nSR_IOV services from the default compute so that compute and compute\nsriov can co-exist in the same cluster.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}, {'number': 8, 'created': '2017-10-25 09:46:54.000000000', 'files': ['roles/ComputeHCI.yaml', 'releasenotes/notes/sriov-role-1ef30615048239c7.yaml', 'roles/ComputeSriov.yaml', 'roles_data.yaml', 'roles/Compute.yaml', 'roles/README.rst', 'environments/hyperconverged-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/739b05f52818028106fd1574be03a66a14c11153', 'message': 'Added a new role definition for SR-IOV Compute role\n\nIn order to support the role generation command, a new role for\nhosting SR-IOV workloads has been added. This also removes the\nSR_IOV services from the default compute so that compute and compute\nsriov can co-exist in the same cluster.\nCloses-Bug: #1715829\n\nChange-Id: If48bd6a69209da556cc75ece035b341eb59f41a9\n'}]",3,501999,739b05f52818028106fd1574be03a66a14c11153,75,8,8,18575,,,0,"Added a new role definition for SR-IOV Compute role

In order to support the role generation command, a new role for
hosting SR-IOV workloads has been added. This also removes the
SR_IOV services from the default compute so that compute and compute
sriov can co-exist in the same cluster.
Closes-Bug: #1715829

Change-Id: If48bd6a69209da556cc75ece035b341eb59f41a9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/501999/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeSriov.yaml', 'roles/README.rst']",2,5fbcc375eacae0f95c11bb5c91579940ebd2f836,bug/1715829, ComputeSriov,,46,0
openstack%2Fopenstack-helm~master~I33ccc39cd84fab3b537ad93970c21cf9065044e9,openstack/openstack-helm,master,I33ccc39cd84fab3b537ad93970c21cf9065044e9,Docs: true-up to recent changes,MERGED,2017-11-06 00:52:14.000000000,2017-11-06 04:30:22.000000000,2017-11-06 03:54:18.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-06 00:52:14.000000000', 'files': ['doc/source/install/ext-dns-fqdn.rst', 'README.rst', 'doc/source/devref/upgrades.rst', 'doc/source/devref/images.rst', 'dns-helper/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec86066a195cd6a7eef79e68a5b4fa5faf42cdc8', 'message': ""Docs: true-up to recent changes\n\nA few doc edits so that they're in sync with the OSH\nmission statement, helm-toolkit conventions,\nand project doc location.\n\nChange-Id: I33ccc39cd84fab3b537ad93970c21cf9065044e9\n""}]",0,517840,ec86066a195cd6a7eef79e68a5b4fa5faf42cdc8,12,5,1,22477,,,0,"Docs: true-up to recent changes

A few doc edits so that they're in sync with the OSH
mission statement, helm-toolkit conventions,
and project doc location.

Change-Id: I33ccc39cd84fab3b537ad93970c21cf9065044e9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/517840/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/ext-dns-fqdn.rst', 'README.rst', 'doc/source/devref/upgrades.rst', 'doc/source/devref/images.rst', 'dns-helper/Chart.yaml']",5,ec86066a195cd6a7eef79e68a5b4fa5faf42cdc8,doc-updates,home: https://docs.openstack.org/openstack-helm,home: http://openstack-helm.readthedocs.io,27,26
openstack%2Fpython-openstackclient~master~I74d16563ce2236a7c899f5994f1dab43ace02138,openstack/python-openstackclient,master,I74d16563ce2236a7c899f5994f1dab43ace02138,Display Network QoS rule type details,MERGED,2017-09-07 20:37:16.000000000,2017-11-06 04:04:54.000000000,2017-11-06 04:04:54.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 6482}, {'_account_id': 8276}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-07 20:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a2e7f56addc02edce29381a570dffed87b0cff8a', 'message': 'Add getting of QoS rule type details\n\nNeutron API now supports getting details of supported\nQoS rule type.\nThis patch adds support for this feature to OpenStack client.\n\nChange-Id: I74d16563ce2236a7c899f5994f1dab43ace02138\nDepends-On: I448b5d4f8e4ef42eafe50d9d6c63d0be666f98fc\nRelated-Bug: #1686035\n'}, {'number': 2, 'created': '2017-09-29 20:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/de2e45130d2181c9052c058cab350dd0143c4766', 'message': 'Add getting of QoS rule type details\n\nNeutron API now supports getting details of supported\nQoS rule type.\nThis patch adds support for this feature to OpenStack client.\n\nChange-Id: I74d16563ce2236a7c899f5994f1dab43ace02138\nDepends-On: I448b5d4f8e4ef42eafe50d9d6c63d0be666f98fc\nRelated-Bug: #1686035\n'}, {'number': 3, 'created': '2017-10-26 09:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/65ecc6606964963dbb50e70f0535b74a0b7cadea', 'message': 'Add getting of QoS rule type details\n\nNeutron API now supports getting details of supported\nQoS rule type.\nThis patch adds support for this feature to OpenStack client.\n\nChange-Id: I74d16563ce2236a7c899f5994f1dab43ace02138\nDepends-On: I448b5d4f8e4ef42eafe50d9d6c63d0be666f98fc\nRelated-Bug: #1686035\n'}, {'number': 4, 'created': '2017-11-02 20:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/83dc1a1d1197d14cb9d76f163dad2eaff9e1f754', 'message': 'Display Network QoS rule type details\n\nNeutron API now supports getting details of supported\nQoS rule type.\nThis patch adds support for this feature to OpenStack client.\n\nChange-Id: I74d16563ce2236a7c899f5994f1dab43ace02138\nDepends-On: I448b5d4f8e4ef42eafe50d9d6c63d0be666f98fc\nRelated-Bug: #1686035\n'}, {'number': 5, 'created': '2017-11-05 23:57:59.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_network_qos_rule_type.py', 'openstackclient/tests/functional/network/v2/test_network_qos_rule_type.py', 'releasenotes/notes/add-network-qos-rule-type-show-57a714a1d428726e.yaml', 'doc/source/cli/command-objects/network-qos-rule-type.rst', 'openstackclient/network/v2/network_qos_rule_type.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/07f0c7aa55920d65035124c9e8bfe8452356c811', 'message': 'Display Network QoS rule type details\n\nNeutron API now supports getting details of supported\nQoS rule type.\nThis patch adds support for this feature to OpenStack client.\n\nChange-Id: I74d16563ce2236a7c899f5994f1dab43ace02138\nDepends-On: I448b5d4f8e4ef42eafe50d9d6c63d0be666f98fc\nRelated-Bug: #1686035\n'}]",6,501868,07f0c7aa55920d65035124c9e8bfe8452356c811,36,10,5,11975,,,0,"Display Network QoS rule type details

Neutron API now supports getting details of supported
QoS rule type.
This patch adds support for this feature to OpenStack client.

Change-Id: I74d16563ce2236a7c899f5994f1dab43ace02138
Depends-On: I448b5d4f8e4ef42eafe50d9d6c63d0be666f98fc
Related-Bug: #1686035
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/68/501868/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_network_qos_rule_type.py', 'openstackclient/network/v2/network_qos_rule_type.py', 'setup.cfg']",3,a2e7f56addc02edce29381a570dffed87b0cff8a,bug/1686035, network_qos_rule_type_show = openstackclient.network.v2.network_qos_rule_type:ShowNetworkQosRuleType,,87,0
openstack%2Fnova~master~Icfbe3566d8cb82e6878ab4097ed747b18fd5e28a,openstack/nova,master,Icfbe3566d8cb82e6878ab4097ed747b18fd5e28a,Move contrail vif plugging to privsep.,MERGED,2017-10-27 20:42:35.000000000,2017-11-06 03:56:26.000000000,2017-11-06 03:56:26.000000000,"[{'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6125}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-27 20:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc40777d895d172837829266ef439e9d790525b8', 'message': 'Move control vif plugging to privsep.\n\nThe same pattern as the others, except with a generated command line.\n\nChange-Id: Icfbe3566d8cb82e6878ab4097ed747b18fd5e28a\nblueprint: hurrah-for-privsep\n'}, {'number': 2, 'created': '2017-10-27 20:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c23d4f39e29c668ff2c47e2a84a5fb12d10180da', 'message': 'Move contrail vif plugging to privsep.\n\nThe same pattern as the others, except with a generated command line.\n\nChange-Id: Icfbe3566d8cb82e6878ab4097ed747b18fd5e28a\nblueprint: hurrah-for-privsep\n'}, {'number': 3, 'created': '2017-11-02 04:13:15.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'etc/nova/rootwrap.d/compute.filters', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b757451796ec9998d302849d1dc8b166d4d7bff', 'message': 'Move contrail vif plugging to privsep.\n\nThe same pattern as the others, except with a generated command line.\n\nChange-Id: Icfbe3566d8cb82e6878ab4097ed747b18fd5e28a\nblueprint: hurrah-for-privsep\n'}]",1,515916,2b757451796ec9998d302849d1dc8b166d4d7bff,43,16,3,2271,,,0,"Move contrail vif plugging to privsep.

The same pattern as the others, except with a generated command line.

Change-Id: Icfbe3566d8cb82e6878ab4097ed747b18fd5e28a
blueprint: hurrah-for-privsep
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/515916/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'etc/nova/rootwrap.d/compute.filters', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml']",4,dc40777d895d172837829266ef439e9d790525b8,bp/hurrah-for-privsep, configuration: blkid; cat; chown; cryptsetup; dd; ebrctl; ifc_ctl; kpartx; vrouter-port-control; and xend., configuration: blkid; cat; chown; cryptsetup; dd; ebrctl; ifc_ctlkpartx; and xend.,24,16
openstack%2Fnova~master~I2e6508e1885a0d2336afc36eb13e0af1f4569cf1,openstack/nova,master,I2e6508e1885a0d2336afc36eb13e0af1f4569cf1,Move plumgrid vif plugging to privsep.,MERGED,2017-10-26 09:46:06.000000000,2017-11-06 03:56:20.000000000,2017-11-06 03:56:20.000000000,"[{'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6125}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-26 09:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae82c9a3f7b6ba4ae8b60dcb7351dbf9028dab08', 'message': 'Move plumgrid vif plugging to privsep.\n\nThe same pattern as other VIFs.\n\nChange-Id: I2e6508e1885a0d2336afc36eb13e0af1f4569cf1\nblueprint: hurrah-for-privsep\n'}, {'number': 2, 'created': '2017-10-27 20:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e6e9ac79326ef566ded485b03f73de204f374a1', 'message': 'Move plumgrid vif plugging to privsep.\n\nThe same pattern as other VIFs.\n\nChange-Id: I2e6508e1885a0d2336afc36eb13e0af1f4569cf1\nblueprint: hurrah-for-privsep\n'}, {'number': 3, 'created': '2017-10-27 20:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95b0a8f0e1a7cb1d7cbef4cd8d9529e3698b53b4', 'message': 'Move plumgrid vif plugging to privsep.\n\nThe same pattern as other VIFs.\n\nChange-Id: I2e6508e1885a0d2336afc36eb13e0af1f4569cf1\nblueprint: hurrah-for-privsep\n'}, {'number': 4, 'created': '2017-11-02 04:13:15.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/541415933b5d46885ad17090deee243634a37c8f', 'message': 'Move plumgrid vif plugging to privsep.\n\nThe same pattern as other VIFs.\n\nChange-Id: I2e6508e1885a0d2336afc36eb13e0af1f4569cf1\nblueprint: hurrah-for-privsep\n'}]",2,515336,541415933b5d46885ad17090deee243634a37c8f,56,18,4,2271,,,0,"Move plumgrid vif plugging to privsep.

The same pattern as other VIFs.

Change-Id: I2e6508e1885a0d2336afc36eb13e0af1f4569cf1
blueprint: hurrah-for-privsep
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/515336/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml']",4,ae82c9a3f7b6ba4ae8b60dcb7351dbf9028dab08,bp/hurrah-for-privsep, configuration: blkid; cat; chown; cryptsetup; dd; ebrctl; ifc_ctlkpartx; losetup; lvcreate; lvremove; lvs; mkdir; mm-ctl; mount; nova-idmapshift; ploop; prl_disk_tool; qemu-nbd; readlink; shred; tee; touch; umount; vgs;, configuration: blkid; cat; chown; cryptsetup; dd; ebrctl; kpartx; losetup; lvcreate; lvremove; lvs; mkdir; mm-ctl; mount; nova-idmapshift; ploop; prl_disk_tool; qemu-nbd; readlink; shred; tee; touch; umount; vgs;,33,30
openstack%2Fnova~master~I672534691a94a0ac294410ea12dd4ba2c327c0e0,openstack/nova,master,I672534691a94a0ac294410ea12dd4ba2c327c0e0,Move midonet vif plugging to privsep.,MERGED,2017-10-25 20:19:06.000000000,2017-11-06 03:50:36.000000000,2017-11-06 03:50:36.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-25 20:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1eed8ee30fa1507f31a5ddf47ce110cefee11be', 'message': 'Move midonet vif plugging to privsep.\n\nThe same as the mellanox example, but for midonet.\n\nDisturbingly midonet appears to not have unit tests either, but\nagain I feel that correcting that is outside the scope of the privsep\nblueprint.\n\nChange-Id: I672534691a94a0ac294410ea12dd4ba2c327c0e0\n'}, {'number': 2, 'created': '2017-10-26 09:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32795798f277e8bb09ef281da3c361edbb84b60a', 'message': 'Move midonet vif plugging to privsep.\n\nThe same as the mellanox example, but for midonet.\n\nDisturbingly midonet appears to not have unit tests either, but\nagain I feel that correcting that is outside the scope of the privsep\nblueprint.\n\nChange-Id: I672534691a94a0ac294410ea12dd4ba2c327c0e0\nblueprint: hurrah-for-privsep\n'}, {'number': 3, 'created': '2017-10-27 20:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a52f4246e42d9273c6601a33d8feb9f4719b4985', 'message': 'Move midonet vif plugging to privsep.\n\nThe same as the mellanox example, but for midonet.\n\nDisturbingly midonet appears to not have unit tests either, but\nagain I feel that correcting that is outside the scope of the privsep\nblueprint.\n\nChange-Id: I672534691a94a0ac294410ea12dd4ba2c327c0e0\nblueprint: hurrah-for-privsep\n'}, {'number': 4, 'created': '2017-11-02 04:13:15.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'etc/nova/rootwrap.d/compute.filters', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9610d62fa59ea9a53ebcc618a879f9c6af0d8ad', 'message': 'Move midonet vif plugging to privsep.\n\nThe same as the mellanox example, but for midonet.\n\nDisturbingly midonet appears to not have unit tests either, but\nagain I feel that correcting that is outside the scope of the privsep\nblueprint.\n\nChange-Id: I672534691a94a0ac294410ea12dd4ba2c327c0e0\nblueprint: hurrah-for-privsep\n'}]",1,515198,c9610d62fa59ea9a53ebcc618a879f9c6af0d8ad,60,16,4,2271,,,0,"Move midonet vif plugging to privsep.

The same as the mellanox example, but for midonet.

Disturbingly midonet appears to not have unit tests either, but
again I feel that correcting that is outside the scope of the privsep
blueprint.

Change-Id: I672534691a94a0ac294410ea12dd4ba2c327c0e0
blueprint: hurrah-for-privsep
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/515198/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'etc/nova/rootwrap.d/compute.filters', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml']",4,d1eed8ee30fa1507f31a5ddf47ce110cefee11be,bp/hurrah-for-privsep, lvcreate; lvremove; lvs; mkdir; mm-ctl; mount; nova-idmapshift; ploop;, lvcreate; lvremove; lvs; mkdir; mount; nova-idmapshift; ploop;,13,8
openstack%2Fnova~master~I323399643c9978a115fdc1213876da2d85dcd8db,openstack/nova,master,I323399643c9978a115fdc1213876da2d85dcd8db,Move infiniband vif plugging to privsep.,MERGED,2017-10-25 20:19:06.000000000,2017-11-06 03:49:51.000000000,2017-11-06 03:49:51.000000000,"[{'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6125}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-25 20:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bf4bfa86cc297ad8dbfa4f616ed8519e0d0b948', 'message': ""Move infiniband vif plugging to privsep.\n\nThis code isn't well labelled, but I am pretty sure it is for\nMellanox Infifiband VIFs. Same pattern as the others.\n\nAs best as I can see these methods had no test coverage, but I think\nthat's outside the scope of the current privsep work to fix.\n\nChange-Id: I323399643c9978a115fdc1213876da2d85dcd8db\n""}, {'number': 2, 'created': '2017-10-26 09:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fa8fee991e2a244ba00c1bb7ea1b6e2459d0c4f', 'message': ""Move infiniband vif plugging to privsep.\n\nThis code isn't well labelled, but I am pretty sure it is for\nMellanox Infifiband VIFs. Same pattern as the others.\n\nAs best as I can see these methods had no test coverage, but I think\nthat's outside the scope of the current privsep work to fix.\n\nChange-Id: I323399643c9978a115fdc1213876da2d85dcd8db\nblueprint: hurrah-for-privsep\n""}, {'number': 3, 'created': '2017-10-27 20:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49079f9057567c457baab7878c52a3448b3dd806', 'message': ""Move infiniband vif plugging to privsep.\n\nThis code isn't well labelled, but I am pretty sure it is for\nMellanox Infifiband VIFs. Same pattern as the others.\n\nAs best as I can see these methods had no test coverage, but I think\nthat's outside the scope of the current privsep work to fix.\n\nChange-Id: I323399643c9978a115fdc1213876da2d85dcd8db\nblueprint: hurrah-for-privsep\n""}, {'number': 4, 'created': '2017-11-02 04:13:15.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'etc/nova/rootwrap.d/compute.filters', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c961741e03a0e08f7c39f508afcc9267be0ee7f', 'message': ""Move infiniband vif plugging to privsep.\n\nThis code isn't well labelled, but I am pretty sure it is for\nMellanox Infifiband VIFs. Same pattern as the others.\n\nAs best as I can see these methods had no test coverage, but I think\nthat's outside the scope of the current privsep work to fix.\n\nChange-Id: I323399643c9978a115fdc1213876da2d85dcd8db\nblueprint: hurrah-for-privsep\n""}]",1,515197,0c961741e03a0e08f7c39f508afcc9267be0ee7f,78,19,4,2271,,,0,"Move infiniband vif plugging to privsep.

This code isn't well labelled, but I am pretty sure it is for
Mellanox Infifiband VIFs. Same pattern as the others.

As best as I can see these methods had no test coverage, but I think
that's outside the scope of the current privsep work to fix.

Change-Id: I323399643c9978a115fdc1213876da2d85dcd8db
blueprint: hurrah-for-privsep
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/515197/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'etc/nova/rootwrap.d/compute.filters', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml']",4,7bf4bfa86cc297ad8dbfa4f616ed8519e0d0b948,bp/hurrah-for-privsep, configuration: blkid; cat; chown; cryptsetup; dd; ebrctl; kpartx; losetup;, configuration: blkid; cat; chown; cryptsetup; dd; kpartx; losetup;,18,9
openstack%2Fwatcher~master~I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1,openstack/watcher,master,I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1,Added tempest test for workload_balance,ABANDONED,2016-11-03 14:55:01.000000000,2017-11-06 03:46:17.000000000,,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 15949}, {'_account_id': 17638}, {'_account_id': 18971}, {'_account_id': 21361}, {'_account_id': 22775}]","[{'number': 1, 'created': '2016-11-03 14:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/41d7a50075df1630930b62c2db64ca75b9cdbaf1', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 2, 'created': '2016-11-03 16:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f15a4c4361cea1c1fa860aebb2ce0cc1eb1ad3c4', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 3, 'created': '2016-11-04 09:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b9d22b7e8c3569b9415bee7f1e02cd61e60dc7e3', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 4, 'created': '2016-11-09 05:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f417876833c6770a94c956485d662d016fa45d13', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\nAdd localization changes in LOG\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 5, 'created': '2016-11-09 06:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/33e25670ffc89aef3a9c00f13b589a91c7bedc3c', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\nAdd localization changes in LOG\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 6, 'created': '2017-01-12 16:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/16aa080dcf1cc87a9507a33d45a19fd93e12dea5', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 7, 'created': '2017-01-13 14:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/636aeb6efc5cc2ec9779f298793e4161b45db6f8', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 8, 'created': '2017-01-31 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/a0becd3ee474369cd3bcae9098b873ef6481aa91', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}, {'number': 9, 'created': '2017-01-31 16:47:45.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/test_execute_workload_balancing.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/09969a7c0f9dbeaa3b34034245555a56ab47b27a', 'message': 'Added tempest test for workload_balance\n\nIn this changeset, I added a tempest test that is in charge of\nexecuting the workload_balance strategy.\n\nChange-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1\n'}]",0,393356,09969a7c0f9dbeaa3b34034245555a56ab47b27a,29,7,9,18971,,,0,"Added tempest test for workload_balance

In this changeset, I added a tempest test that is in charge of
executing the workload_balance strategy.

Change-Id: I9fe8e7798245c2dbc9b0aacb72276b7eef6782e1
",git fetch https://review.opendev.org/openstack/watcher refs/changes/56/393356/8 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/strategy/strategies/workload_balance.py', 'watcher_tempest_plugin/tests/scenario/test_execute_workload_balancing.py']",2,41d7a50075df1630930b62c2db64ca75b9cdbaf1,detached/workload-balance-tempest," def test_execute_workload_balance(self): """"""Execute an action plan using the workload_balance strategy"""""" self.addCleanup(self.rollback_compute_nodes_status) instances = self._create_one_instance_per_host() self._pack_all_created_instances_on_one_host(instances) self._wait_for_measurements( ""cpu_util"", [inst['id'] for inst in instances]) _, goal = self.client.show_goal(self.GOAL) _, strategy = self.client.show_strategy(""workload_balance"") _, audit_template = self.create_audit_template( goal['uuid'], strategy=strategy['uuid']) _, audit = self.create_audit(audit_template['uuid']) try: self.assertTrue(test.call_until_true( func=functools.partial( self.has_audit_succeeded, audit['uuid']), duration=600, sleep_for=2 )) except ValueError: self.fail(""The audit has failed!"") _, action_plans = self.client.list_action_plans( audit_uuid=audit['uuid']) action_plan = action_plans['action_plans'][0] _, action_plan = self.client.show_action_plan(action_plan['uuid']) _, action_list = self.client.list_actions( action_plan_uuid=action_plan[""uuid""])",,33,2
openstack%2Fproject-config~master~I7f11fd844a32673eb69d1b31771b9e9778f8381f,openstack/project-config,master,I7f11fd844a32673eb69d1b31771b9e9778f8381f,Remove legacy jobs in Tacker,ABANDONED,2017-10-09 02:33:38.000000000,2017-11-06 03:26:52.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19741}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-10-09 02:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6fa9ffb581e9bde992c514682fe192c687a86971', 'message': 'Remove legacy jobs in Tacker\n\nDepends-On: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\nNeeded-By: Id135056931b89aadb4edbfaa103a724544953ac1\n\nChange-Id: I7f11fd844a32673eb69d1b31771b9e9778f8381f\nPartial-Implements: blueprint migrate-to-zuulv3\n'}, {'number': 2, 'created': '2017-10-09 06:19:39.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/038bb35c21cc9ec39c085e189d72c16b1151ce1a', 'message': 'Remove legacy jobs in Tacker\n\nDepends-On: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\nNeeded-By: Id135056931b89aadb4edbfaa103a724544953ac1\n\nChange-Id: I7f11fd844a32673eb69d1b31771b9e9778f8381f\nPartial-Implements: blueprint migrate-to-zuulv3\n'}]",2,510395,038bb35c21cc9ec39c085e189d72c16b1151ce1a,10,5,2,22582,,,0,"Remove legacy jobs in Tacker

Depends-On: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42
Needed-By: Id135056931b89aadb4edbfaa103a724544953ac1

Change-Id: I7f11fd844a32673eb69d1b31771b9e9778f8381f
Partial-Implements: blueprint migrate-to-zuulv3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/510395/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,6fa9ffb581e9bde992c514682fe192c687a86971,bp/migrate-to-zuulv3,, check: jobs: - legacy-tacker-dsvm-functional: voting: false - legacy-tripleo-ci-centos-7-scenario001-multinode-oooq-puppet: voting: false irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$,0,14
openstack%2Fopenstack-zuul-jobs~master~Id135056931b89aadb4edbfaa103a724544953ac1,openstack/openstack-zuul-jobs,master,Id135056931b89aadb4edbfaa103a724544953ac1,Remove legacy jobs in Tacker,ABANDONED,2017-10-09 02:33:31.000000000,2017-11-06 03:23:33.000000000,,"[{'_account_id': 19741}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-09 02:33:31.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tacker-dsvm-functional/post.yaml', 'playbooks/legacy/tacker-dsvm-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0277e99ba095b5887e3ec903a22c13cf82517820', 'message': 'Remove legacy jobs in Tacker\n\nDepends-On: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42\nDepends-On: I7f11fd844a32673eb69d1b31771b9e9778f8381f\n\nChange-Id: Id135056931b89aadb4edbfaa103a724544953ac1\nPartial-Implements: blueprint migrate-to-zuulv3\n'}]",0,510394,0277e99ba095b5887e3ec903a22c13cf82517820,3,2,1,22582,,,0,"Remove legacy jobs in Tacker

Depends-On: I77eb1d9383a8d324d47c136ee28a0e8f68ce8a42
Depends-On: I7f11fd844a32673eb69d1b31771b9e9778f8381f

Change-Id: Id135056931b89aadb4edbfaa103a724544953ac1
Partial-Implements: blueprint migrate-to-zuulv3
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/94/510394/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tacker-dsvm-functional/post.yaml', 'playbooks/legacy/tacker-dsvm-functional/run.yaml']",3,0277e99ba095b5887e3ec903a22c13cf82517820,bp/migrate-to-zuulv3,,"- hosts: all name: Autoconverted job legacy-tacker-dsvm-functional from old job gate-tacker-dsvm-functional-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] SFC_UPDATE_OVS=False enable_plugin heat git://git.openstack.org/openstack/heat enable_plugin aodh git://git.openstack.org/openstack/aodh enable_plugin ceilometer https://git.openstack.org/openstack/ceilometer enable_plugin networking-sfc http://git.trystack.cn/openstack/networking-sfc enable_plugin mistral git://git.openstack.org/openstack/mistral enable_plugin barbican git://git.openstack.org/openstack/barbican enable_plugin tacker git://git.openstack.org/openstack/tacker EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_HORIZON=1 export DEVSTACK_GATE_TEMPEST=0 export BRANCH_OVERRIDE=default export PROJECTS=""openstack/tacker $PROJECTS"" export PROJECTS=""openstack/tacker-horizon $PROJECTS"" export PROJECTS=""openstack/python-tackerclient $PROJECTS"" export PROJECTS=""openstack/heat $PROJECTS"" export PROJECTS=""openstack/aodh $PROJECTS"" export PROJECTS=""openstack/ceilometer $PROJECTS"" export PROJECTS=""openstack/networking-sfc $PROJECTS"" export PROJECTS=""openstack/mistral $PROJECTS"" export PROJECTS=""openstack/mistral-dashboard $PROJECTS"" export PROJECTS=""openstack/python-mistralclient $PROJECTS"" export PROJECTS=""openstack/barbican $PROJECTS"" export PROJECTS=""openstack/python-barbicanclient $PROJECTS"" if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi function post_test_hook { bash -xe $BASE/new/tacker/tacker/tests/contrib/post_test_hook.sh dsvm-functional } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,182
openstack%2Fswift~feature%2Fs3api~I87cf4285d1d79aa86f690faa32f4b86076080f7a,openstack/swift,feature/s3api,I87cf4285d1d79aa86f690faa32f4b86076080f7a,Merge remote-tracking branch 'remotes/origin/master' into merge-master,MERGED,2017-11-05 23:48:30.000000000,2017-11-06 03:15:49.000000000,2017-11-06 03:15:49.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 23:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/76917dfb1dcc509ca9fa181639f37c50ade0434a', 'message': ""Merge remote-tracking branch 'remotes/origin/master' into merge-master\n\nChange-Id: I87cf4285d1d79aa86f690faa32f4b86076080f7a\n""}]",0,517838,76917dfb1dcc509ca9fa181639f37c50ade0434a,7,2,1,4608,,,0,"Merge remote-tracking branch 'remotes/origin/master' into merge-master

Change-Id: I87cf4285d1d79aa86f690faa32f4b86076080f7a
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/517838/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,76917dfb1dcc509ca9fa181639f37c50ade0434a,merge-master,,,0,0
openstack%2Frequirements~stable%2Fpike~Id457e649fb5428f79c2377771698af2348f815e5,openstack/requirements,stable/pike,Id457e649fb5428f79c2377771698af2348f815e5,update constraint for tripleo-common to new release 7.6.3,MERGED,2017-11-03 20:39:22.000000000,2017-11-06 03:15:46.000000000,2017-11-06 03:15:46.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 20:39:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/21c112c47107d68f3fe2d9d6cd95192baa7a1e70', 'message': 'update constraint for tripleo-common to new release 7.6.3\n\nChange-Id: Id457e649fb5428f79c2377771698af2348f815e5\nmeta:version: 7.6.3\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I71514d3ee2e75c6bf32c06e67fdfa15d5aff6a51\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+1: Jon Schlueter <jschluet@redhat.com>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,517724,21c112c47107d68f3fe2d9d6cd95192baa7a1e70,7,3,1,11131,,,0,"update constraint for tripleo-common to new release 7.6.3

Change-Id: Id457e649fb5428f79c2377771698af2348f815e5
meta:version: 7.6.3
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I71514d3ee2e75c6bf32c06e67fdfa15d5aff6a51
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+1: Jon Schlueter <jschluet@redhat.com>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/517724/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,21c112c47107d68f3fe2d9d6cd95192baa7a1e70,new-release,tripleo-common===7.6.3,tripleo-common===7.6.2,1,1
openstack%2Frequirements~stable%2Fpike~Ieb78e0ad5722aa97dd5aa031763b049b64a8fcc3,openstack/requirements,stable/pike,Ieb78e0ad5722aa97dd5aa031763b049b64a8fcc3,update constraint for instack-undercloud to new release 7.4.3,MERGED,2017-11-03 20:32:57.000000000,2017-11-06 03:15:45.000000000,2017-11-06 03:15:45.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 20:32:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a39d2585b9ea114c71e2addc4007b52d57382037', 'message': 'update constraint for instack-undercloud to new release 7.4.3\n\nChange-Id: Ieb78e0ad5722aa97dd5aa031763b049b64a8fcc3\nmeta:version: 7.4.3\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I71514d3ee2e75c6bf32c06e67fdfa15d5aff6a51\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+1: Jon Schlueter <jschluet@redhat.com>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,517721,a39d2585b9ea114c71e2addc4007b52d57382037,7,3,1,11131,,,0,"update constraint for instack-undercloud to new release 7.4.3

Change-Id: Ieb78e0ad5722aa97dd5aa031763b049b64a8fcc3
meta:version: 7.4.3
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I71514d3ee2e75c6bf32c06e67fdfa15d5aff6a51
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+1: Jon Schlueter <jschluet@redhat.com>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/517721/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a39d2585b9ea114c71e2addc4007b52d57382037,new-release,instack-undercloud===7.4.3,instack-undercloud===7.4.2,1,1
openstack%2Frequirements~stable%2Fpike~I410366e92b80d5d12f52e5af499ad528b8ab2ac3,openstack/requirements,stable/pike,I410366e92b80d5d12f52e5af499ad528b8ab2ac3,update constraint for paunch to new release 1.5.1,MERGED,2017-11-03 20:26:37.000000000,2017-11-06 03:15:44.000000000,2017-11-06 03:15:44.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 20:26:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/75a79c9709a2c252f5bed3d2e395dcce1c345ac4', 'message': 'update constraint for paunch to new release 1.5.1\n\nChange-Id: I410366e92b80d5d12f52e5af499ad528b8ab2ac3\nmeta:version: 1.5.1\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I71514d3ee2e75c6bf32c06e67fdfa15d5aff6a51\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+1: Jon Schlueter <jschluet@redhat.com>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,517720,75a79c9709a2c252f5bed3d2e395dcce1c345ac4,7,3,1,11131,,,0,"update constraint for paunch to new release 1.5.1

Change-Id: I410366e92b80d5d12f52e5af499ad528b8ab2ac3
meta:version: 1.5.1
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I71514d3ee2e75c6bf32c06e67fdfa15d5aff6a51
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+1: Jon Schlueter <jschluet@redhat.com>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/517720/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,75a79c9709a2c252f5bed3d2e395dcce1c345ac4,new-release,paunch===1.5.1,paunch===1.5.0,1,1
openstack%2Frequirements~stable%2Fpike~Iccbf1b4a477aaf06e5f718ae35118e2823d85fd9,openstack/requirements,stable/pike,Iccbf1b4a477aaf06e5f718ae35118e2823d85fd9,update constraint for python-zunclient to new release 0.4.1,MERGED,2017-11-03 18:57:13.000000000,2017-11-06 03:15:44.000000000,2017-11-06 03:15:44.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 18:57:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f337ee51b4eceec4ec508b06192523e9106153e7', 'message': 'update constraint for python-zunclient to new release 0.4.1\n\nChange-Id: Iccbf1b4a477aaf06e5f718ae35118e2823d85fd9\nmeta:version: 0.4.1\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hongbin Lu <hongbin034@gmail.com>\nmeta:release:Commit: Hongbin Lu <hongbin034@gmail.com>\nmeta:release:Change-Id: I10923fded4663af45582988231451960ee243465\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,517708,f337ee51b4eceec4ec508b06192523e9106153e7,7,3,1,11131,,,0,"update constraint for python-zunclient to new release 0.4.1

Change-Id: Iccbf1b4a477aaf06e5f718ae35118e2823d85fd9
meta:version: 0.4.1
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hongbin Lu <hongbin034@gmail.com>
meta:release:Commit: Hongbin Lu <hongbin034@gmail.com>
meta:release:Change-Id: I10923fded4663af45582988231451960ee243465
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/517708/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f337ee51b4eceec4ec508b06192523e9106153e7,new-release,python-zunclient===0.4.1,python-zunclient===0.4.0,1,1
openstack%2Frequirements~stable%2Fpike~I76c3df63f114e53e406260f7afbdacd9d277f6a0,openstack/requirements,stable/pike,I76c3df63f114e53e406260f7afbdacd9d277f6a0,update constraint for python-mistralclient to new release 3.1.4,MERGED,2017-11-02 23:57:17.000000000,2017-11-06 03:15:43.000000000,2017-11-06 03:15:43.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 23:57:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/33198398619929d3db57d2be9cefc43ff0d71054', 'message': 'update constraint for python-mistralclient to new release 3.1.4\n\nChange-Id: I76c3df63f114e53e406260f7afbdacd9d277f6a0\nmeta:version: 3.1.4\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: Ibfb1d7c4ca0f3ea8a7f0c91a37a54147a550fa19\nmeta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>\nmeta:release:Code-Review+1: Moshe Elisha <moshe.elisha@nokia.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,517458,33198398619929d3db57d2be9cefc43ff0d71054,9,3,1,11131,,,0,"update constraint for python-mistralclient to new release 3.1.4

Change-Id: I76c3df63f114e53e406260f7afbdacd9d277f6a0
meta:version: 3.1.4
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: Ibfb1d7c4ca0f3ea8a7f0c91a37a54147a550fa19
meta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>
meta:release:Code-Review+1: Moshe Elisha <moshe.elisha@nokia.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/517458/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,33198398619929d3db57d2be9cefc43ff0d71054,new-release,python-mistralclient===3.1.4,python-mistralclient===3.1.3,1,1
openstack%2Fwatcher~master~I691bd81b1b9933211faa336b1ac49aa5a1a7bf17,openstack/watcher,master,I691bd81b1b9933211faa336b1ac49aa5a1a7bf17,Updated from global requirements,MERGED,2017-11-03 01:14:53.000000000,2017-11-06 02:51:25.000000000,2017-11-06 02:51:25.000000000,"[{'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 01:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/82494fab0ec3559f504c31bc7da51786bc8b7e68', 'message': 'Updated from global requirements\n\nChange-Id: I691bd81b1b9933211faa336b1ac49aa5a1a7bf17\n'}, {'number': 2, 'created': '2017-11-03 01:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9cbe63cd96979c00dc55e5dcf4cdbf9a9148a1ee', 'message': 'Updated from global requirements\n\nChange-Id: I691bd81b1b9933211faa336b1ac49aa5a1a7bf17\n'}, {'number': 3, 'created': '2017-11-03 14:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1721b9a97e456ada273b12556a374f45c532d0b4', 'message': 'Updated from global requirements\n\nChange-Id: I691bd81b1b9933211faa336b1ac49aa5a1a7bf17\n'}, {'number': 4, 'created': '2017-11-03 18:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e0f46d66d27d53318446f2f63cde6c6b5694000c', 'message': 'Updated from global requirements\n\nChange-Id: I691bd81b1b9933211faa336b1ac49aa5a1a7bf17\n'}, {'number': 5, 'created': '2017-11-03 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0971fb1f1cda3110229ddaa968eba46ca5a1494d', 'message': 'Updated from global requirements\n\nChange-Id: I691bd81b1b9933211faa336b1ac49aa5a1a7bf17\n'}, {'number': 6, 'created': '2017-11-06 02:07:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/watcher/commit/6c29df11ca88c833ecc1ee2e707b700a34032d83', 'message': 'Updated from global requirements\n\nChange-Id: I691bd81b1b9933211faa336b1ac49aa5a1a7bf17\n'}]",0,517508,6c29df11ca88c833ecc1ee2e707b700a34032d83,16,3,6,11131,,,0,"Updated from global requirements

Change-Id: I691bd81b1b9933211faa336b1ac49aa5a1a7bf17
",git fetch https://review.opendev.org/openstack/watcher refs/changes/08/517508/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,82494fab0ec3559f504c31bc7da51786bc8b7e68,openstack/requirements,oslo.context>=2.19.2 # Apache-2.0,"oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",1,1
openstack%2Fblazar~master~I71af8e3764b26bf3b370dfce3295ff7106f92c76,openstack/blazar,master,I71af8e3764b26bf3b370dfce3295ff7106f92c76,Updated from global requirements,MERGED,2017-11-03 00:42:05.000000000,2017-11-06 02:47:14.000000000,2017-11-06 02:47:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-11-03 00:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0cf706e64811d25ed597bf86ff287825e450266a', 'message': 'Updated from global requirements\n\nChange-Id: I71af8e3764b26bf3b370dfce3295ff7106f92c76\n'}, {'number': 2, 'created': '2017-11-03 13:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/745d1afd9b57cf1c4e9f4cd9a08373e88996112e', 'message': 'Updated from global requirements\n\nChange-Id: I71af8e3764b26bf3b370dfce3295ff7106f92c76\n'}, {'number': 3, 'created': '2017-11-03 17:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/36b22e3189924e619e764da574b0ae91e4951334', 'message': 'Updated from global requirements\n\nChange-Id: I71af8e3764b26bf3b370dfce3295ff7106f92c76\n'}, {'number': 4, 'created': '2017-11-03 17:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4b108ccdfe10030319ca7ecf8c8c0f1fd7a8b1d9', 'message': 'Updated from global requirements\n\nChange-Id: I71af8e3764b26bf3b370dfce3295ff7106f92c76\n'}, {'number': 5, 'created': '2017-11-06 01:40:54.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar/commit/ad2b377db4be755938eebe303deda27a18899799', 'message': 'Updated from global requirements\n\nChange-Id: I71af8e3764b26bf3b370dfce3295ff7106f92c76\n'}]",0,517462,ad2b377db4be755938eebe303deda27a18899799,15,3,5,11131,,,0,"Updated from global requirements

Change-Id: I71af8e3764b26bf3b370dfce3295ff7106f92c76
",git fetch https://review.opendev.org/openstack/blazar refs/changes/62/517462/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0cf706e64811d25ed597bf86ff287825e450266a,openstack/requirements,oslo.context>=2.19.2 # Apache-2.0,"oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",1,1
openstack%2Fvitrage~master~I5c9368a662b4aade42b3259a640fcdeeb836294e,openstack/vitrage,master,I5c9368a662b4aade42b3259a640fcdeeb836294e,fix some bugs in Aodh datasource,ABANDONED,2017-10-30 03:31:30.000000000,2017-11-06 02:18:18.000000000,,"[{'_account_id': 18783}, {'_account_id': 19134}, {'_account_id': 19853}, {'_account_id': 21414}, {'_account_id': 22348}, {'_account_id': 26095}]","[{'number': 1, 'created': '2017-10-30 03:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/4b1ca3a5d73ec1dfd9dbb257daf14266fb061923', 'message': 'fix some bugs in Aodh datasource\n\nChange-Id: I5c9368a662b4aade42b3259a640fcdeeb836294e\nSigned-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>\n'}, {'number': 2, 'created': '2017-10-30 05:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/ab0e7a719a85170de48d3f750e354ea4e2c0c5a8', 'message': 'fix some bugs in Aodh datasource\n\nChange-Id: I5c9368a662b4aade42b3259a640fcdeeb836294e\nSigned-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>\n'}, {'number': 3, 'created': '2017-10-30 10:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/1e865c12cdbb307b1be0d5bfe351b1f941d12433', 'message': 'fix some bugs in Aodh datasource\n\nChange-Id: I5c9368a662b4aade42b3259a640fcdeeb836294e\nSigned-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>\n'}, {'number': 4, 'created': '2017-10-30 10:20:39.000000000', 'files': ['vitrage/tests/unit/datasources/aodh/test_aodh_driver.py', 'vitrage/datasources/aodh/properties.py', 'vitrage/datasources/aodh/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a3f5523068591dfe18b8708683e0e0e0fade9dcd', 'message': ""fix some bugs in Aodh datasource\n\n1. When Vitrage receive Aodh alarm state change notification,\nit alaways raise the error: 'dict' object has no attribute 'encode'.\nWe don't need to encode the state.\n\n2. Move converting 'STATE_TIMESTAMP' property from threshold alarm\n  and gnocchi alarm to common\n\nChange-Id: I5c9368a662b4aade42b3259a640fcdeeb836294e\nSigned-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>\n""}]",7,516173,a3f5523068591dfe18b8708683e0e0e0fade9dcd,18,6,4,18783,,,0,"fix some bugs in Aodh datasource

1. When Vitrage receive Aodh alarm state change notification,
it alaways raise the error: 'dict' object has no attribute 'encode'.
We don't need to encode the state.

2. Move converting 'STATE_TIMESTAMP' property from threshold alarm
  and gnocchi alarm to common

Change-Id: I5c9368a662b4aade42b3259a640fcdeeb836294e
Signed-off-by: dongwenjuan <dong.wenjuan@zte.com.cn>
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/73/516173/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/aodh/properties.py', 'vitrage/datasources/aodh/driver.py']",2,4b1ca3a5d73ec1dfd9dbb257daf14266fb061923,," AodhProps.USER_ID: event[AodhProps.USER_ID] def _convert_threshold_alarm_event(cls, rule): return { AodhProps.RESOURCE_ID: _parse_query(rule, AodhProps.RESOURCE_ID) def _convert_gnocchi_resources_threshold_alarm_event(cls, rule): return { AodhProps.RESOURCE_ID: _parse_query(rule, AodhProps.RESOURCE_ID) AodhProps.TYPE: alarm_info[AodhProps.TYPE], AodhProps.STATE_TIMESTAMP: alarm_info[AodhProps.STATE_TIMESTAMP], AodhProps.STATE_REASON: alarm_info[AodhProps.STATE_REASON] cls._convert_threshold_alarm_event(alarm_rule)) cls._convert_gnocchi_resources_threshold_alarm_event(alarm_rule))"," def _convert_threshold_alarm_event(cls, event): rule = event[AodhProps.DETAIL][AodhProps.RULE] return { AodhProps.RESOURCE_ID: _parse_query(rule, AodhProps.RESOURCE_ID), AodhProps.STATE_TIMESTAMP: event[AodhProps.STATE_TIMESTAMP] def _convert_gnocchi_resources_threshold_alarm_event(cls, event): return { AodhProps.RESOURCE_ID: event.get( AodhProps.DETAIL, {}).get(AodhProps.RULE, {}).get(AodhProps.RESOURCE_ID), AodhProps.STATE_TIMESTAMP: event.get(AodhProps.DETAIL, {}).get(AodhProps.STATE_TIMESTAMP) AodhProps.TYPE: alarm_info[AodhProps.TYPE] cls._convert_threshold_alarm_event(event)) cls._convert_gnocchi_resources_threshold(event))",12,14
openstack%2Fpython-monascaclient~master~I20a09fe5b68d4d921726b5a2798f0ad05025d1c3,openstack/python-monascaclient,master,I20a09fe5b68d4d921726b5a2798f0ad05025d1c3,Redundant alias in import statement,ABANDONED,2017-10-19 07:27:19.000000000,2017-11-06 01:52:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-10-19 07:27:19.000000000', 'files': ['monascaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/5e83fcbdc6a20f40280699a6ea5c026fc6424446', 'message': 'Redundant alias in import statement\n\nChange-Id: I20a09fe5b68d4d921726b5a2798f0ad05025d1c3\n'}]",0,513289,5e83fcbdc6a20f40280699a6ea5c026fc6424446,5,2,1,25254,,,0,"Redundant alias in import statement

Change-Id: I20a09fe5b68d4d921726b5a2798f0ad05025d1c3
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/89/513289/1 && git format-patch -1 --stdout FETCH_HEAD,['monascaclient/shell.py'],1,5e83fcbdc6a20f40280699a6ea5c026fc6424446,,from osc_lib import utils,from osc_lib import utils as utils,1,1
openstack%2Fsearchlight-ui~master~I9935c9b65df62e26cc443060a03526dd9900afd1,openstack/searchlight-ui,master,I9935c9b65df62e26cc443060a03526dd9900afd1,Cleanup test-requirements,ABANDONED,2017-09-26 06:33:52.000000000,2017-11-06 01:52:30.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-09-26 06:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/f805458966d4bc6f271e1073a79311debc9836f9', 'message': 'Cleanup test-requirements\n\npython-subunit is not used directly anywhere\nand it is dependency of both testrepository\nand os-testr\n(probably was used by some tox wrapper script before)\n\nChange-Id: I9935c9b65df62e26cc443060a03526dd9900afd1\n'}, {'number': 2, 'created': '2017-10-10 08:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/cc4b22933e9be6f948a82bfcf195b4df3f720821', 'message': 'Cleanup test-requirements\n\npython-subunit is not used directly anywhere\nand it is dependency of both testrepository\nand os-testr\n(probably was used by some tox wrapper script before)\n\nChange-Id: I9935c9b65df62e26cc443060a03526dd9900afd1\n'}, {'number': 3, 'created': '2017-10-30 01:10:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/8ec1864c08dda0554b430102423259f3db433a0c', 'message': 'Cleanup test-requirements\n\npython-subunit is not used directly anywhere\nand it is dependency of both testrepository\nand os-testr\n(probably was used by some tox wrapper script before)\n\nChange-Id: I9935c9b65df62e26cc443060a03526dd9900afd1\n'}]",0,507367,8ec1864c08dda0554b430102423259f3db433a0c,9,3,3,25254,,,0,"Cleanup test-requirements

python-subunit is not used directly anywhere
and it is dependency of both testrepository
and os-testr
(probably was used by some tox wrapper script before)

Change-Id: I9935c9b65df62e26cc443060a03526dd9900afd1
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/67/507367/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f805458966d4bc6f271e1073a79311debc9836f9,update-requirements,,python-subunit>=0.0.18 # Apache-2.0/BSD,0,1
openstack%2Ftrove~master~I38897d819c6f89da9278a108b7d95dfdaa27955e,openstack/trove,master,I38897d819c6f89da9278a108b7d95dfdaa27955e,"When creating cluster, make sure router and config instance choose the same network as the member instance",ABANDONED,2017-09-08 08:43:30.000000000,2017-11-06 01:40:04.000000000,,"[{'_account_id': 3}, {'_account_id': 10068}, {'_account_id': 12860}, {'_account_id': 13562}]","[{'number': 1, 'created': '2017-09-08 08:43:30.000000000', 'files': ['trove/common/strategies/cluster/experimental/mongodb/api.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0552d1210c0111c16f6ffc3fc4a9af3b2ce1b9a7', 'message': ' When creating cluster, make sure router and config instance choose the same network as the member instance\n\nChange-Id: I38897d819c6f89da9278a108b7d95dfdaa27955e\n'}]",1,501997,0552d1210c0111c16f6ffc3fc4a9af3b2ce1b9a7,6,4,1,26311,,,0," When creating cluster, make sure router and config instance choose the same network as the member instance

Change-Id: I38897d819c6f89da9278a108b7d95dfdaa27955e
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/501997/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/strategies/cluster/experimental/mongodb/api.py'],1,0552d1210c0111c16f6ffc3fc4a9af3b2ce1b9a7,," nics=nics[i], nics=nics[i],"," nics=None, nics=None,",2,2
openstack%2Frequirements~master~Ic253f68f9911c49f5ef056ac75e199c660d2f5a4,openstack/requirements,master,Ic253f68f9911c49f5ef056ac75e199c660d2f5a4,update constraint for oslo.config to new release 5.0.0,MERGED,2017-10-30 18:37:41.000000000,2017-11-06 01:32:07.000000000,2017-11-06 01:32:07.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 18:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6a52fe9465b61d4fa554d3b8e1269b958d1d6cb3', 'message': 'update constraint for oslo.config to new release 5.0.0\n\nChange-Id: Ic253f68f9911c49f5ef056ac75e199c660d2f5a4\nmeta:version: 5.0.0\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Change-Id: I370d208e98c52228fdd1a358124cff88abc4e287\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 2, 'created': '2017-10-31 10:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad0333fed889940081d32914f02300cac198be17', 'message': 'update constraint for oslo.config to new release 5.0.0\n\nChange-Id: Ic253f68f9911c49f5ef056ac75e199c660d2f5a4\nmeta:version: 5.0.0\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Change-Id: I370d208e98c52228fdd1a358124cff88abc4e287\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 3, 'created': '2017-11-04 01:39:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3bf26cbccfd5a45ed90bcf449a7752da302479ee', 'message': 'update constraint for oslo.config to new release 5.0.0\n\nChange-Id: Ic253f68f9911c49f5ef056ac75e199c660d2f5a4\nmeta:version: 5.0.0\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Change-Id: I370d208e98c52228fdd1a358124cff88abc4e287\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,516419,3bf26cbccfd5a45ed90bcf449a7752da302479ee,26,4,3,11131,,,0,"update constraint for oslo.config to new release 5.0.0

Change-Id: Ic253f68f9911c49f5ef056ac75e199c660d2f5a4
meta:version: 5.0.0
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>
meta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>
meta:release:Change-Id: I370d208e98c52228fdd1a358124cff88abc4e287
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/516419/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6a52fe9465b61d4fa554d3b8e1269b958d1d6cb3,new-release,oslo.config===5.0.0,oslo.config===4.13.2,1,1
openstack%2Fneutron~master~I4eb4a53c52155da4abcf724885339df2afecdfaf,openstack/neutron,master,I4eb4a53c52155da4abcf724885339df2afecdfaf,Update link to stable branch policy page,MERGED,2017-11-05 10:28:55.000000000,2017-11-06 01:14:24.000000000,2017-11-06 01:14:24.000000000,"[{'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 10:28:55.000000000', 'files': ['doc/source/contributor/policies/bugs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8121eab3568fae68b8590178ade7ccbf295316d', 'message': 'Update link to stable branch policy page\n\nOn docs bugs policies page link to page which\ndescribes OpenStack stable branch policy is updated to\ncorrect page.\n\nChange-Id: I4eb4a53c52155da4abcf724885339df2afecdfaf\n'}]",0,517815,d8121eab3568fae68b8590178ade7ccbf295316d,7,6,1,11975,,,0,"Update link to stable branch policy page

On docs bugs policies page link to page which
describes OpenStack stable branch policy is updated to
correct page.

Change-Id: I4eb4a53c52155da4abcf724885339df2afecdfaf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/517815/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/bugs.rst'],1,d8121eab3568fae68b8590178ade7ccbf295316d,update_contributor_guide, to follow the `stable branch policy <http://docs.openstack.org/project-team-guide/stable-branches.html>`_, to follow the `stable branch policy <https://wiki.openstack.org/wiki/StableBranch#Stable_branch_policy>`_,1,1
openstack%2Fopenstack-ansible~master~I2f6518bdd45278146fc7c3846d406b72a6800183,openstack/openstack-ansible,master,I2f6518bdd45278146fc7c3846d406b72a6800183,Using --option ARGUMENT,MERGED,2017-10-30 10:22:26.000000000,2017-11-06 01:12:34.000000000,2017-11-06 01:12:34.000000000,"[{'_account_id': 290}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 22255}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 10:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/94d22a619ba052ffdbf4d20f4a5fc4384b1176b3', 'message': 'Using --option ARGUMENT\n\nThe OpenStack CLI commands support both --option ARGUMENT and --option=ARGUMENT.\nIn technical publications, use --option ARGUMENT.[1]\n\n[1]https://docs.openstack.org/doc-contrib-guide/writing-style/code-conventions.html\n\nChange-Id: I2f6518bdd45278146fc7c3846d406b72a6800183\n'}, {'number': 2, 'created': '2017-11-04 02:48:44.000000000', 'files': ['doc/source/admin/openstack-operations/managing-instances.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bbfb9d3339428965b50e9b414177aa5ef6252836', 'message': 'Using --option ARGUMENT\n\nThe OpenStack CLI commands support both --option ARGUMENT and --option=ARGUMENT.\nIn technical publications, use --option ARGUMENT.[1]\n\n[1]https://docs.openstack.org/doc-contrib-guide/writing-style/code-conventions.html\n\nChange-Id: I2f6518bdd45278146fc7c3846d406b72a6800183\n'}]",0,516240,bbfb9d3339428965b50e9b414177aa5ef6252836,14,6,2,22255,,,0,"Using --option ARGUMENT

The OpenStack CLI commands support both --option ARGUMENT and --option=ARGUMENT.
In technical publications, use --option ARGUMENT.[1]

[1]https://docs.openstack.org/doc-contrib-guide/writing-style/code-conventions.html

Change-Id: I2f6518bdd45278146fc7c3846d406b72a6800183
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/516240/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/openstack-operations/managing-instances.rst'],1,94d22a619ba052ffdbf4d20f4a5fc4384b1176b3,fixdocs, $ openstack server create --image precise-image --flavor 2 --key-name example-key example-instance, $ openstack server create --image precise-image --flavor=2 --key-name example-key example-instance,1,1
openstack%2Fpython-troveclient~master~I540614c953a0da5c0a9c7f050489bc329089608c,openstack/python-troveclient,master,I540614c953a0da5c0a9c7f050489bc329089608c,Show error message on configuration-parameter-show,NEW,2016-09-05 04:27:50.000000000,2017-11-06 01:02:38.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 12758}, {'_account_id': 13562}, {'_account_id': 14257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-09-05 04:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/79bdaa935278f853f8eb44c06ea979196f5c104e', 'message': 'Show error message on configuration-parameter-show\n\nThis change fixes configuration-paramter-show to raise\nappropriate error message if --datastore or\n--datastore_verions is missing.\n\nCloses-Bug: #1363065\nChange-Id: I540614c953a0da5c0a9c7f050489bc329089608c\n'}, {'number': 2, 'created': '2017-10-02 07:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/ac7a2b11a6598c00a6259a1f33b47b7f337089a5', 'message': 'Show error message on configuration-parameter-show\n\nThis change fixes configuration-paramter-show to raise\nappropriate error message if --datastore or\n--datastore_verions is missing.\n\nCo-Authored-By: Mahito Ogura <m.ogura@ntt.com>\nCloses-Bug: #1363065\nChange-Id: I540614c953a0da5c0a9c7f050489bc329089608c\n'}, {'number': 3, 'created': '2017-10-03 00:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/9ef07b676f2d34f0a8e08f7d4cb44057d1fe4015', 'message': 'Show error message on configuration-parameter-show\n\nThis change fixes configuration-paramter-show to raise\nappropriate error message if --datastore or\n--datastore_verions is missing.\n\nCo-Authored-By: Mahito Ogura <m.ogura@ntt.com>\nCloses-Bug: #1363065\nChange-Id: I540614c953a0da5c0a9c7f050489bc329089608c\n'}, {'number': 4, 'created': '2017-10-10 05:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/6246719f1db31e44eb6cf204e9834df3816825c3', 'message': 'Show error message on configuration-parameter-show\n\nThis change fixes configuration-paramter-show to raise\nappropriate error message if --datastore or\n--datastore_verions is missing.\n\nCo-Authored-By: Mahito Ogura <m.ogura@ntt.com>\nCloses-Bug: #1363065\nChange-Id: I540614c953a0da5c0a9c7f050489bc329089608c\n'}, {'number': 5, 'created': '2017-10-10 06:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/4712d8e0b24372afaa411d31c5abf01ca8ba58ca', 'message': 'Show error message on configuration-parameter-show\n\nThis change fixes configuration-paramter-show to raise\nappropriate error message if --datastore or\n--datastore_verions is missing.\n\nCo-Authored-By: Mahito Ogura <m.ogura@ntt.com>\nCloses-Bug: #1363065\nChange-Id: I540614c953a0da5c0a9c7f050489bc329089608c\n'}, {'number': 6, 'created': '2017-10-16 06:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/2e5f2d9515c32bddfce2acac023f0d694c468897', 'message': 'Show error message on configuration-parameter-show\n\nThis change fixes configuration-paramter-show to raise\nappropriate error message if --datastore or\n--datastore_verions is missing.\n\nCo-Authored-By: Mahito Ogura <m.ogura@ntt.com>\nCloses-Bug: #1363065\nChange-Id: I540614c953a0da5c0a9c7f050489bc329089608c\n'}, {'number': 7, 'created': '2017-10-30 09:06:04.000000000', 'files': ['troveclient/tests/test_v1_shell.py', 'troveclient/v1/shell.py', 'troveclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/063360cfe2f6f4c7683d133ff6ff086f72b4cf2c', 'message': 'Show error message on configuration-parameter-show\n\nThis change fixes configuration-paramter-show to raise\nappropriate error message if --datastore or\n--datastore_verions is missing.\n\nCo-Authored-By: Mahito Ogura <m.ogura@ntt.com>\nCloses-Bug: #1363065\nChange-Id: I540614c953a0da5c0a9c7f050489bc329089608c\n'}]",4,365434,063360cfe2f6f4c7683d133ff6ff086f72b4cf2c,34,7,7,12758,,,0,"Show error message on configuration-parameter-show

This change fixes configuration-paramter-show to raise
appropriate error message if --datastore or
--datastore_verions is missing.

Co-Authored-By: Mahito Ogura <m.ogura@ntt.com>
Closes-Bug: #1363065
Change-Id: I540614c953a0da5c0a9c7f050489bc329089608c
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/34/365434/7 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/tests/test_v1_shell.py', 'troveclient/v1/shell.py']",2,79bdaa935278f853f8eb44c06ea979196f5c104e,bug/1363065," else: raise exceptions.ValidationError( ""The datastore name or ID is required to show the information "" ""on a configuration parameter"" )",,13,0
openstack%2Fpython-openstackclient~master~Idb4a27f2c8edf48909ef010e3c7a1a5c0c16efc5,openstack/python-openstackclient,master,Idb4a27f2c8edf48909ef010e3c7a1a5c0c16efc5,Rehome test units lib,MERGED,2017-11-02 12:45:29.000000000,2017-11-06 00:48:32.000000000,2017-11-06 00:48:32.000000000,"[{'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 12:45:29.000000000', 'files': ['openstackclient/tests/unit/common/test_command.py', 'openstackclient/tests/unit/common/test_parseractions.py', 'openstackclient/tests/unit/common/test_logs.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a4d56e615dd743cfb14e4334367973119bf7c70b', 'message': 'Rehome test units lib\n\nRehoming deprecated libs for the ones provided in osc-lib.\n\nChange-Id: Idb4a27f2c8edf48909ef010e3c7a1a5c0c16efc5\n'}]",0,517293,a4d56e615dd743cfb14e4334367973119bf7c70b,7,3,1,26880,,,0,"Rehome test units lib

Rehoming deprecated libs for the ones provided in osc-lib.

Change-Id: Idb4a27f2c8edf48909ef010e3c7a1a5c0c16efc5
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/93/517293/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_command.py', 'openstackclient/tests/unit/common/test_parseractions.py', 'openstackclient/tests/unit/common/test_logs.py']",3,a4d56e615dd743cfb14e4334367973119bf7c70b,units-lib-rehome,from osc_lib import logs ,from openstackclient.common import logs,5,3
openstack%2Fwatcher~master~Ia8b7f36a8a2965bc8ec2243a10556592926297b2,openstack/watcher,master,Ia8b7f36a8a2965bc8ec2243a10556592926297b2,"add name for audit, update audit notifications",MERGED,2017-06-23 02:50:12.000000000,2017-11-06 00:11:16.000000000,2017-11-06 00:11:16.000000000,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}]","[{'number': 1, 'created': '2017-06-23 02:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/22d15fb81c27642ce03e46265a28e67797be1368', 'message': 'add name for audit\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 2, 'created': '2017-06-23 03:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/cf56548a0b2359b0dd17bbb3ccb54d58f62684b5', 'message': 'add name for audit\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 3, 'created': '2017-06-28 07:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/10be5f58abe0eec46979abc42e32db3f5296231d', 'message': 'add name for audit\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 4, 'created': '2017-06-28 08:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/59a8fe3535e4e1dc22b783614ea818dbd568502b', 'message': 'add name for audit, update audit notifications\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 5, 'created': '2017-07-19 08:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6ef783074c4a810eb58f1092a86da5373f858c91', 'message': 'add name for audit, update audit notifications\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 6, 'created': '2017-07-19 08:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/2aecd526a09e7c544034f493165776d035a7b841', 'message': 'add name for audit, update audit notifications\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 7, 'created': '2017-10-16 07:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/37fada9add569f560bbabb6bea6cbfde3e5dc7cf', 'message': 'add name for audit, update audit notifications\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 8, 'created': '2017-10-30 08:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/fcefb925769214f5b6a1e09a18505b5ee631f051', 'message': 'add name for audit, update audit notifications\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}, {'number': 9, 'created': '2017-11-01 02:40:02.000000000', 'files': ['doc/notification_samples/action_plan-execution-error.json', 'watcher/tests/notifications/test_audit_notification.py', 'doc/notification_samples/audit-strategy-error.json', 'watcher/tests/notifications/test_action_plan_notification.py', 'doc/notification_samples/action_plan-update.json', 'doc/notification_samples/audit-update.json', 'doc/notification_samples/action_plan-execution-end.json', 'watcher/notifications/audit.py', 'doc/notification_samples/audit-planner-end.json', 'doc/notification_samples/audit-strategy-end.json', 'doc/notification_samples/audit-delete.json', 'doc/notification_samples/audit-create.json', 'doc/notification_samples/audit-strategy-start.json', 'doc/notification_samples/action_plan-delete.json', 'doc/notification_samples/audit-planner-start.json', 'doc/notification_samples/audit-planner-error.json', 'doc/notification_samples/action_plan-create.json', 'watcher/tests/notifications/test_notification.py', 'doc/notification_samples/action_plan-execution-start.json'], 'web_link': 'https://opendev.org/openstack/watcher/commit/907cc2df16af12d868531d86b92d96e1e7c35450', 'message': 'add name for audit, update audit notifications\n\nupgrade notifications\n\nChange-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2\nImplements:blueprint add-name-for-audit\n'}]",4,476752,907cc2df16af12d868531d86b92d96e1e7c35450,27,11,9,24501,,,0,"add name for audit, update audit notifications

upgrade notifications

Change-Id: Ia8b7f36a8a2965bc8ec2243a10556592926297b2
Implements:blueprint add-name-for-audit
",git fetch https://review.opendev.org/openstack/watcher refs/changes/52/476752/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/notification_samples/action_plan-execution-error.json', 'doc/notification_samples/audit-strategy-error.json', 'doc/notification_samples/action_plan-update.json', 'doc/notification_samples/audit-update.json', 'doc/notification_samples/action_plan-execution-end.json', 'doc/notification_samples/audit-planner-end.json', 'doc/notification_samples/audit-strategy-end.json', 'doc/notification_samples/audit-delete.json', 'doc/notification_samples/audit-create.json', 'doc/notification_samples/audit-strategy-start.json', 'doc/notification_samples/action_plan-delete.json', 'doc/notification_samples/audit-planner-start.json', 'doc/notification_samples/audit-planner-error.json', 'doc/notification_samples/action_plan-create.json', 'doc/notification_samples/action_plan-execution-start.json']",15,22d15fb81c27642ce03e46265a28e67797be1368,bp/add-name-for-audit," ""name"": ""my_audit"",",,15,0
openstack%2Foslo.log~master~Ia46a7e569b875cd75fec652dfe8a4d73661dfda8,openstack/oslo.log,master,Ia46a7e569b875cd75fec652dfe8a4d73661dfda8,only show error_summary for warning and error messages,MERGED,2017-06-27 21:16:17.000000000,2017-11-05 23:26:53.000000000,2017-07-05 11:33:13.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 9796}, {'_account_id': 14070}, {'_account_id': 14758}]","[{'number': 1, 'created': '2017-06-27 21:16:17.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/formatters.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/97e9a79fe2c321db4f3a0926d03de08cea4af0c4', 'message': 'only show error_summary for warning and error messages\n\nFurther reduce the clutter from error_summary by only including it when\nthe log message will be emitted for the warning level or above.\n\nChange-Id: Ia46a7e569b875cd75fec652dfe8a4d73661dfda8\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",3,478285,97e9a79fe2c321db4f3a0926d03de08cea4af0c4,12,5,1,2472,,,0,"only show error_summary for warning and error messages

Further reduce the clutter from error_summary by only including it when
the log message will be emitted for the warning level or above.

Change-Id: Ia46a7e569b875cd75fec652dfe8a4d73661dfda8
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/85/478285/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/formatters.py', 'oslo_log/tests/unit/test_log.py']",2,97e9a79fe2c321db4f3a0926d03de08cea4af0c4,no-error-summary-for-info," self.log.warning('testing', context=ctxt) self.log.warning('testing', context=local_context) self.log.warning(message, context=ctxt) self.log.warning(message, context=ctxt) self.log.warning(message, context=ctxt)"," self.log.info('testing', context=ctxt) self.log.info('testing', context=local_context) self.log.info(message, context=ctxt) self.log.info(message, context=ctxt) self.log.info(message, context=ctxt)",8,8
openstack%2Ftripleo-heat-templates~stable%2Fnewton~Ib5689acae66baf63ecccbc3b1c0b96684781b863,openstack/tripleo-heat-templates,stable/newton,Ib5689acae66baf63ecccbc3b1c0b96684781b863,FQDN validation,MERGED,2017-11-02 22:04:32.000000000,2017-11-05 22:51:11.000000000,2017-11-05 22:51:11.000000000,"[{'_account_id': 9061}, {'_account_id': 14985}, {'_account_id': 19736}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-02 22:04:32.000000000', 'files': ['validation-scripts/all-nodes.sh', 'all-nodes-validation.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e9e3e104e6503f680aef815ae4447af661982b7', 'message': 'FQDN validation\n\nAdds optional validation to ensure FQDN set by Nova matches /etc/hosts\nas created by overcloud heat configuration.\n\nConsistent FQDN requires the nova parameter [Default]/dhcp_domain to\nmatch the CloudDomain tht parameter.\n\nThis validation is disabled by default.\n\nChange-Id: Ib5689acae66baf63ecccbc3b1c0b96684781b863\n(cherry picked from commit bae2d113938b9bb22d4c291ae312d2299187f72b)\nPartial-Bug: #1581472\n'}]",0,517446,6e9e3e104e6503f680aef815ae4447af661982b7,14,5,1,3153,,,0,"FQDN validation

Adds optional validation to ensure FQDN set by Nova matches /etc/hosts
as created by overcloud heat configuration.

Consistent FQDN requires the nova parameter [Default]/dhcp_domain to
match the CloudDomain tht parameter.

This validation is disabled by default.

Change-Id: Ib5689acae66baf63ecccbc3b1c0b96684781b863
(cherry picked from commit bae2d113938b9bb22d4c291ae312d2299187f72b)
Partial-Bug: #1581472
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/517446/1 && git format-patch -1 --stdout FETCH_HEAD,"['validation-scripts/all-nodes.sh', 'all-nodes-validation.yaml']",2,6e9e3e104e6503f680aef815ae4447af661982b7,bug/1581472-stable/newton, ValidateFqdn: default: false description: Optional validation to ensure FQDN as set by Nova matches the name set in /etc/hosts. type: boolean - name: validate_fqdn default: {get_param: ValidateFqdn},,24,0
openstack%2Foctavia-dashboard~master~I264069c49451f63e0d46bca8d7689b576d1d436e,openstack/octavia-dashboard,master,I264069c49451f63e0d46bca8d7689b576d1d436e,Add created-at and updated-at to all detail pages,MERGED,2017-10-19 06:56:07.000000000,2017-11-05 22:26:14.000000000,2017-11-05 22:26:14.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-19 06:56:07.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/detail.html', 'octavia_dashboard/locale/id/LC_MESSAGES/djangojs.po', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/listeners/detail.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/ab9b6e8537b2339825adf6cff75a0d94a83fe914', 'message': 'Add created-at and updated-at to all detail pages\n\nChange-Id: I264069c49451f63e0d46bca8d7689b576d1d436e\nStory: 1713845\nTask: 5446\n'}]",0,513281,ab9b6e8537b2339825adf6cff75a0d94a83fe914,7,3,1,2245,,,0,"Add created-at and updated-at to all detail pages

Change-Id: I264069c49451f63e0d46bca8d7689b576d1d436e
Story: 1713845
Task: 5446
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/81/513281/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/detail.html', 'octavia_dashboard/locale/id/LC_MESSAGES/djangojs.po', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/listeners/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/detail.html']",6,ab9b6e8537b2339825adf6cff75a0d94a83fe914,story/1713845, <dt translate>Created At</dt> <dd>{$ ::ctrl.pool.created_at $}</dd> <dt translate>Updated At</dt> <dd>{$ ::ctrl.pool.updated_at $}</dd>,,26,0
openstack%2Fproject-config~master~I0f82251dc785d56a99de1a43d2ce910bf63ee125,openstack/project-config,master,I0f82251dc785d56a99de1a43d2ce910bf63ee125,Remove legacy python-ironic-inspector-client jobs,MERGED,2017-10-31 21:19:06.000000000,2017-11-05 18:44:29.000000000,2017-11-05 18:44:29.000000000,"[{'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-31 21:19:06.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/be2fffd64ab2a4639fce25c6d5d12dee5a9a2d73', 'message': 'Remove legacy python-ironic-inspector-client jobs\n\nThe legacy python-ironic-inspector-client jobs are removed from this\nrepo, since they are defined in the python-ironic-inspector-client\nrepo.\n\nDepends-On: I3c24ee14dd90146caa2435a811ba0c811557504f\nChange-Id: I0f82251dc785d56a99de1a43d2ce910bf63ee125\n'}]",0,516789,be2fffd64ab2a4639fce25c6d5d12dee5a9a2d73,8,3,1,6618,,,0,"Remove legacy python-ironic-inspector-client jobs

The legacy python-ironic-inspector-client jobs are removed from this
repo, since they are defined in the python-ironic-inspector-client
repo.

Depends-On: I3c24ee14dd90146caa2435a811ba0c811557504f
Change-Id: I0f82251dc785d56a99de1a43d2ce910bf63ee125
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/516789/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,be2fffd64ab2a4639fce25c6d5d12dee5a9a2d73,remove-inspect-client-jobs,, check: jobs: - legacy-python-ironic-inspector-client-tox-func: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - legacy-tempest-dsvm-python-ironic-inspector-client: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ gate: jobs: - legacy-python-ironic-inspector-client-tox-func: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - legacy-tempest-dsvm-python-ironic-inspector-client: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$,0,28
openstack%2Finstack-undercloud~stable%2Fpike~If4d97e5069ca678edbcd2270a75f6faf67364420,openstack/instack-undercloud,stable/pike,If4d97e5069ca678edbcd2270a75f6faf67364420,Only enable keystone notifications if telemetry is enabled,MERGED,2017-11-02 14:21:00.000000000,2017-11-05 18:33:54.000000000,2017-11-05 18:33:54.000000000,"[{'_account_id': 6924}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 14:21:00.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/f919a35757c8210508f9243a301a50a09af02fc7', 'message': ""Only enable keystone notifications if telemetry is enabled\n\nThis will get rid of the unnecessary notifications that were being\nproduced and help with the undercloud's memory consumption.\n\nChange-Id: If4d97e5069ca678edbcd2270a75f6faf67364420\nCloses-Bug: #1729293\n(cherry picked from commit d60cd845022679f70c382f355bd59f5007210e17)\n""}]",0,517324,f919a35757c8210508f9243a301a50a09af02fc7,16,6,1,10873,,,0,"Only enable keystone notifications if telemetry is enabled

This will get rid of the unnecessary notifications that were being
produced and help with the undercloud's memory consumption.

Change-Id: If4d97e5069ca678edbcd2270a75f6faf67364420
Closes-Bug: #1729293
(cherry picked from commit d60cd845022679f70c382f355bd59f5007210e17)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/24/517324/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,f919a35757c8210508f9243a301a50a09af02fc7,bug/1729293-stable/pike,"if str2bool(hiera('enable_telemetry', false)) { $notification_topics = ['notifications'] } else { $notification_topics = [] } notification_topics => $notification_topics,",,7,0
openstack%2Fpuppet-tripleo~stable%2Fnewton~If070ce88d3c1ecb68fd6a38960b6e402c2c4457b,openstack/puppet-tripleo,stable/newton,If070ce88d3c1ecb68fd6a38960b6e402c2c4457b,Release 5.6.6 (newton),MERGED,2017-11-05 04:25:48.000000000,2017-11-05 15:50:18.000000000,2017-11-05 15:50:18.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-05 04:25:48.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bb5a6eac57d0bf796c80475350c5783c7ccad99b', 'message': 'Release 5.6.6 (newton)\n\nChange-Id: If070ce88d3c1ecb68fd6a38960b6e402c2c4457b\n'}]",0,517793,bb5a6eac57d0bf796c80475350c5783c7ccad99b,8,4,1,3153,,,0,"Release 5.6.6 (newton)

Change-Id: If070ce88d3c1ecb68fd6a38960b6e402c2c4457b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/93/517793/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,bb5a6eac57d0bf796c80475350c5783c7ccad99b,tripleo/newton," ""version"": ""5.6.6"","," ""version"": ""5.6.5"",",1,1
openstack%2Ftripleo-heat-templates~master~Ia588e5ec8880da1df95a33696b5b8c9e72ac49e2,openstack/tripleo-heat-templates,master,Ia588e5ec8880da1df95a33696b5b8c9e72ac49e2,docker: Run mistral-db-manage populate at step 5,MERGED,2017-10-30 18:35:16.000000000,2017-11-05 15:50:17.000000000,2017-11-05 15:50:16.000000000,"[{'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 10239}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-30 18:35:16.000000000', 'files': ['docker/services/mistral-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a78166e1ea9f6febdc296939bffa8e90061b463f', 'message': 'docker: Run mistral-db-manage populate at step 5\n\nThis resolves issues in loading some of Mistral openstack\nactions which appears to require endpoints to be running first\nbefore fake clients can be initialized properly.\n\nChange-Id: Ia588e5ec8880da1df95a33696b5b8c9e72ac49e2\nCloses-bug: #1728682\n'}]",0,516418,a78166e1ea9f6febdc296939bffa8e90061b463f,30,7,1,360,,,0,"docker: Run mistral-db-manage populate at step 5

This resolves issues in loading some of Mistral openstack
actions which appears to require endpoints to be running first
before fake clients can be initialized properly.

Change-Id: Ia588e5ec8880da1df95a33696b5b8c9e72ac49e2
Closes-bug: #1728682
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/516418/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/mistral-api.yaml'],1,a78166e1ea9f6febdc296939bffa8e90061b463f,bug/1728682," step_5: mistral_db_populate: start_order: 1 image: *mistral_api_image net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/mistral/etc/mistral/:/etc/mistral/:ro - /var/log/containers/mistral:/var/log/mistral # NOTE: dprince this requires that we install openstack-tripleo-common into # the Mistral API image so that we get tripleo* actions command: ""/usr/bin/bootstrap_host_exec mistral_api su mistral -s /bin/bash -c 'mistral-db-manage --config-file /etc/mistral/mistral.conf populate'"""," mistral_db_populate: start_order: 1 image: *mistral_api_image net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/mistral/etc/mistral/:/etc/mistral/:ro - /var/log/containers/mistral:/var/log/mistral # NOTE: dprince this requires that we install openstack-tripleo-common into # the Mistral API image so that we get tripleo* actions command: ""/usr/bin/bootstrap_host_exec mistral_api su mistral -s /bin/bash -c 'mistral-db-manage --config-file /etc/mistral/mistral.conf populate'""",17,16
openstack%2Ftacker~master~I2d1c4795b1a591831a12535d2f048a13258f4913,openstack/tacker,master,I2d1c4795b1a591831a12535d2f048a13258f4913,Move to zuul3 jobs,MERGED,2017-10-28 08:21:19.000000000,2017-11-05 14:31:32.000000000,2017-11-05 14:31:32.000000000,"[{'_account_id': 2874}, {'_account_id': 6547}, {'_account_id': 12455}, {'_account_id': 17645}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2017-10-28 08:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3a7815422a739986e2e79f30eb646f5f1e86c3fe', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 2, 'created': '2017-10-28 08:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/487de3aec170ffc02481450265ab2fd110432eb6', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 3, 'created': '2017-10-28 08:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6c2969a618015ebdf8598bf6d7cee8b082ad387c', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 4, 'created': '2017-10-28 14:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e4ea3dde7331cb1d226b4bd6dcd944201812bb5', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 5, 'created': '2017-10-29 01:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e53e28e02583f8ee8bbe5df726471a91a179864', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 6, 'created': '2017-10-29 09:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1e00cdc33252e0c9562d2ecde11515776de3f534', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 7, 'created': '2017-10-29 14:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/92728a1e7ea29b0dced9662ec6a9b9bf8f7cc1f5', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 8, 'created': '2017-10-30 03:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1da2f615ed1f95b50933cfe42225b801fab2587a', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 9, 'created': '2017-10-30 09:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/60f8009bfa62fbfd98f7d7880e7f3c34f5d4453e', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 10, 'created': '2017-10-31 00:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/617c0991cc2298110aaf04cf6f5f7d79cd93cf92', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 11, 'created': '2017-10-31 03:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5e581e7c0491510a6d7b05dff25196d5aac3d900', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 12, 'created': '2017-10-31 03:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c7219a1a3b860a5a970c412357b7e20a0dc56bb2', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 13, 'created': '2017-10-31 06:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/70686b6cedc7f180b4eeee9c1ecdfcf47e4c9b1f', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 14, 'created': '2017-10-31 16:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/33852f09954eca94c3e31bd3270ddd508b5775a4', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 15, 'created': '2017-11-01 00:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/abd2732ca80aa480cf867b1ec9ef812468f9736b', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 16, 'created': '2017-11-01 08:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/24570c2221cda738a3efa6b6b87c7aeefa66bc4e', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 17, 'created': '2017-11-01 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e497da50e29d782de51ecd799fcd63e7bd560056', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 18, 'created': '2017-11-02 05:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/916090ace555c81c3342d8c4c737ee770810a3f8', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 19, 'created': '2017-11-02 08:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9dceda369aa6aa50f7f209d75268853f66d1ffba', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 20, 'created': '2017-11-02 14:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/73979dd63b2752ec95f43403f10f111bc7496e55', 'message': 'Move to zuul3 jobs\n\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 21, 'created': '2017-11-02 16:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bf8c2168c9e8c735ee0a4c4dab0595cad03a4596', 'message': 'Move to zuul3 jobs\n\nhttps://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nCo-Authored-By: Duong Ha-Quang <duonghq@vn.fujitsu.com>\nCo-Authored-By: yong sheng gong <gong.yongsheng@99cloud.net>\n\nCloses-bug: #1729632\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 22, 'created': '2017-11-02 16:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/14053fee35795e56f3ca5051a000d4566c20dd18', 'message': 'Move to zuul3 jobs\n\nhttps://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nCo-Authored-By: Duong Ha-Quang <duonghq@vn.fujitsu.com>\nCo-Authored-By: yong sheng gong <gong.yongsheng@99cloud.net>\n\nCloses-bug: #1729632\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 23, 'created': '2017-11-03 00:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/06bac48cccb02ff9fbb0717775f0fbe690ff5db4', 'message': 'Move to zuul3 jobs\n\nhttps://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nCo-Authored-By: Duong Ha-Quang <duonghq@vn.fujitsu.com>\nCo-Authored-By: yong sheng gong <gong.yongsheng@99cloud.net>\n\nCloses-bug: #1729632\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}, {'number': 24, 'created': '2017-11-04 11:09:54.000000000', 'files': ['playbooks/devstack/pre.yaml', 'devstack/lib/tacker', 'roles/setup-default-vim/tasks/main.yaml', '.zuul.yaml', 'playbooks/devstack/run.yaml', 'devstack/plugin.sh', 'tools/test-setup-default-vim.sh', 'roles/devstack-config/tasks/main.yaml', 'tox.ini', 'playbooks/devstack/post.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/9af2b71e07a2e1b062c0b85e5390dbb9d0608bdb', 'message': 'Move to zuul3 jobs\n\nhttps://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nCo-Authored-By: Duong Ha-Quang <duonghq@vn.fujitsu.com>\nCo-Authored-By: yong sheng gong <gong.yongsheng@99cloud.net>\n\nCloses-bug: #1729632\nChange-Id: I2d1c4795b1a591831a12535d2f048a13258f4913\n'}]",1,516004,9af2b71e07a2e1b062c0b85e5390dbb9d0608bdb,59,7,24,2874,,,0,"Move to zuul3 jobs

https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Co-Authored-By: Duong Ha-Quang <duonghq@vn.fujitsu.com>
Co-Authored-By: yong sheng gong <gong.yongsheng@99cloud.net>

Closes-bug: #1729632
Change-Id: I2d1c4795b1a591831a12535d2f048a13258f4913
",git fetch https://review.opendev.org/openstack/tacker refs/changes/04/516004/24 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/pre.yaml', '.zuul.yaml', 'playbooks/devstack/run.yaml', 'tox.ini', 'playbooks/devstack/post.yaml']",5,3a7815422a739986e2e79f30eb646f5f1e86c3fe,bug/1729632,- hosts: all roles: - fetch-tox-output - fetch-stestr-output ,,63,0
openstack%2Fvitrage-dashboard~master~I92b84008065722044c79544d3340a468bc4f8449,openstack/vitrage-dashboard,master,I92b84008065722044c79544d3340a468bc4f8449,resourceType: undefined in RCA graph fixed,MERGED,2017-11-05 12:30:08.000000000,2017-11-05 12:46:25.000000000,2017-11-05 12:46:25.000000000,"[{'_account_id': 19140}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 12:30:08.000000000', 'files': ['vitrage_dashboard/dashboard/static/dashboard/project/entities/entities.controller.js', 'vitrage_dashboard/dashboard/static/dashboard/project/components/rca/rootCauseAnalysisGraph.directive.js'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/b4b164006dc6370c4542a316ade7c06a9906324c', 'message': 'resourceType: undefined in RCA graph fixed\n\nChange-Id: I92b84008065722044c79544d3340a468bc4f8449\n'}]",0,517819,b4b164006dc6370c4542a316ade7c06a9906324c,6,2,1,19140,,,0,"resourceType: undefined in RCA graph fixed

Change-Id: I92b84008065722044c79544d3340a468bc4f8449
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/19/517819/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage_dashboard/dashboard/static/dashboard/project/entities/entities.controller.js', 'vitrage_dashboard/dashboard/static/dashboard/project/components/rca/rootCauseAnalysisGraph.directive.js']",2,b4b164006dc6370c4542a316ade7c06a9906324c,bugfix/rca_graph_resource_type_fix," .module('horizon.dashboard.project.vitrage') .directive('hzRootCauseAnalysisGraph', hzRootCauseAnalysisGraph); var directive = { link: link, templateUrl: STATIC_URL + 'dashboard/project/components/rca/rootCauseAnalysisGraph.html', restrict: 'E' return directive; function link(scope, element, attr, ctrl) { scope.STATIC_URL = STATIC_URL; var lastSelectedNode = {id: """", value: """"}; function setSelected(u) { if (lastSelectedNode.id != """" && lastSelectedNode.id != u) { lastSelectedNode.value.label = replaceAll(lastSelectedNode.value.label, ""color: #ffffff"", ""color: #44575e;""); lastSelectedNode.value.label = replaceAll(lastSelectedNode.value.label, '#FFFFFF"" class=""fa fa-thumb-tack', '#44575e"" class=""fa fa-thumb-tack'); g.setNode(lastSelectedNode.id, { labelType: ""html"", label: lastSelectedNode.value.label, rx: 26, ry: 26, padding: 0, class: replaceAll(lastSelectedNode.value.class, "" selectedNode"", """") }); } lastSelectedNode = {id: u, value: g._nodes[u]}; var temp = g._nodes[u]; if (temp) { temp.label = temp.label.replace(""background: #ffffff;"", ""background: #000000""); temp.label = replaceAll(temp.label, ""color: #44575e;"", ""color: #ffffff""); temp.label = replaceAll(temp.label, '#44575e"" class=""fa fa-thumb-tack', '#FFFFFF"" class=""fa fa-thumb-tack'); g.setNode(u, { labelType: ""html"", label: temp.label, rx: 26, ry: 26, padding: 0, class: temp.class + "" selectedNode out"" }); scope.selected = getSelectedObject(u); inner.call(render, g); } } var replaceAll = function (str, strSearch, strReplaceWith) { var strRes = str.replace(new RegExp(strSearch, ""g""), strReplaceWith); return strRes; }; function getSelectedObject(alertId) { for (var i = 0; i < scope.data.nodes.length; i++) { if (scope.data.nodes[i].id == alertId) { return scope.data.nodes[i]; } } } function cleanGraph() { var nodes = g.nodes(); var edges = g.edges(); for (var i = 0; i < nodes.length; i++) { g.removeNode(nodes[i]); } for (var j = 0; j < edges.length; j++) { g.removeEdge(edges[j]); } } function createGraph() { draw(scope.data, true); } // Set up zoom support var svg = d3.select(""#root-cause-analysis-graph""), inner = svg.select(""g""), zoom = d3.behavior.zoom().scaleExtent([0.1, 2]).on(""zoom"", function () { inner.attr(""transform"", ""translate("" + d3.event.translate + "")"" + ""scale("" + d3.event.scale + "")""); }); svg.call(zoom); var render = new dagreD3.render(); // Left-to-right layout var g = new dagreD3.graphlib.Graph(); g.setGraph({ nodesep: 70, ranksep: 50, rankdir: ""UD"",//UD up and down , RL right to left marginx: 20, marginy: 20 function draw(data, newGraph) { if (newGraph) { angular.forEach(data.nodes, function (key, value) { var className = "" clickable""; var alertName = key.name, // CPU load alertCategory = key.vitrage_category, // ALARM alertInfo = key.info || '', // WARNING - 15min load 1.66 at 32 CPUs alertResourceId = key.vitrage_resource_id, // host-0 alertResourceName = key.vitrage_resource_name ? key.vitrage_resource_name : '', // host-0 alertResourceType = key.vitrage_resource_type ? key.vitrage_resource_type : '', // nova.host alertSeverity = key.severity, //WARNING alertOperationalSeverity = key.vitrage_operational_severity ? key.vitrage_operational_severity.toUpperCase() : key.vitrage_operational_severity, //WARNING alertState = key.state ? key.state.toUpperCase() : key.state, //Active alertTimeStamp = $filter('date')(key.update_timestamp, 'MM/dd/yyyy h:mma'), //2015-12-01T12:46:41Z alertType = key.vitrage_type, //nagios alertVitrageId = key.vitrage_id; var html = ''; html += '<div style=""padding: 10px; text-shadow: none; width: 378px; height: 115px; color: #44575e; clear:both""'; html += '>'; switch (alertState + '_' + alertOperationalSeverity) { case 'ACTIVE_CRITICAL': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_red_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_WARNING': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_yellow_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_SEVERE': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_orange_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_N/A': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_gray_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_OK': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_green_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_CRITICAL': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_red_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_WARNING': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_yellow_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_SEVERE': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_orange_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_N/A': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_gray_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_OK': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_green_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; default: html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_yellow_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; } html += '<div style=""height: 90px; width: 2px; background: #656a70; float: left; margin: 5px 10px 0px 3px;""></div>'; html += '<div>'; html += '<div style=""line-height: 2em; padding-left: 10px;text-align: left"">'; html += '<div style=""font-weight: 600; font-size: 20px; color: #44575e; width:262px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"" title=""' + alertName + '"">' + alertName + '</div>'; html += '<span style=""font-weight: 400; color: #44575e;"">' + alertResourceType + '</span>'; html += '<div>'; html += '<span style=""font-weight: 600; color: #44575e;"">Resource ID:</span>'; html += '<span style=""font-weight: 400; padding-left: 5px; color: #44575e;"">' + alertResourceId + '</span>'; html += '</div>'; html += '<div>'; html += '<span style=""font-weight: 600; color: #44575e;"">Type:</span>'; html += '<span style=""font-weight: 400; padding-left: 5px; color: #44575e;"">' + alertType + '</span>'; html += '</div>'; html += '<div style=""font-weight: 400; color: #44575e; width:262px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"">' + alertInfo + '</div>'; html += '<div style=""font-weight: 400; color: #44575e;"">' + alertTimeStamp + ' | ' + alertState + ' | ' + alertSeverity; if (key.id == data.inspected_index) { html += '<span style=""float: right""><i title=""Root cause analysis relative to this alert"" style=""font-size: 27px; color: #FFFFFF"" class=""fa fa-thumb-tack""></i></span>'; } html += '</div>'; html += '</div></div></div>'; g.setNode(value, { labelType: ""html"", label: html, rx: 26, ry: 26, padding: 0, class: className }); }); angular.forEach(data.links, function (key, value) { g.setEdge(key.source, key.target, { label: """", width: 20 }); }); inner.call(render, g); //inner.selectAll("".clickable:not(.update)"").on(""click"", function(d) { // setSelected(d); //}); setSelected(data.inspected_index); } var verticesLength = data.nodes.length; // Zoom and scale to fit var zoomScale = zoom.scale(); var graphWidth = g.graph().width + 80; var graphHeight = g.graph().height + 40; var width = parseInt(svg.style(""width"").replace(/px/, """")); var height = parseInt(svg.style(""height"").replace(/px/, """")); zoomScale = Math.min(width / graphWidth, height / graphHeight) if (verticesLength < 3) { zoomScale /= 2; } else if (verticesLength < 5) { zoomScale /= 1.5; } var translate = [(width / 2) - ((graphWidth * zoomScale) / 2), (height / 2) - ((graphHeight * zoomScale) / 2)]; zoom.translate(translate); zoom.scale(zoomScale); zoom.event(d3.select(""#root-cause-analysis-graph svg"")); } function centerGraph(newGraph) { cleanGraph(); draw(scope.data, newGraph); } scope.$watch(""data"", function (newValue, oldValue) { if (scope.data) { createGraph(true); } scope.onCenterGraph = function () { centerGraph(false); }; }"," .module('horizon.dashboard.project.vitrage') .directive('hzRootCauseAnalysisGraph', hzRootCauseAnalysisGraph); var directive = { link: link, templateUrl: STATIC_URL + 'dashboard/project/components/rca/rootCauseAnalysisGraph.html', restrict: 'E' }; return directive; function link(scope, element, attr, ctrl) { scope.STATIC_URL = STATIC_URL; var lastSelectedNode = {id:"""",value:""""}; function setSelected(u) { if (lastSelectedNode.id != """" && lastSelectedNode.id != u){ lastSelectedNode.value.label = replaceAll(lastSelectedNode.value.label, ""color: #ffffff"", ""color: #44575e;""); lastSelectedNode.value.label = replaceAll(lastSelectedNode.value.label, '#FFFFFF"" class=""fa fa-thumb-tack', '#44575e"" class=""fa fa-thumb-tack'); g.setNode(lastSelectedNode.id, { labelType: ""html"", label: lastSelectedNode.value.label, rx: 26, ry: 26, padding: 0, class: replaceAll(lastSelectedNode.value.class, "" selectedNode"","""") }); } lastSelectedNode = {id:u, value:g._nodes[u]}; var temp = g._nodes[u]; if (temp) { temp.label = temp.label.replace(""background: #ffffff;"", ""background: #000000""); temp.label = replaceAll(temp.label, ""color: #44575e;"", ""color: #ffffff""); temp.label = replaceAll(temp.label, '#44575e"" class=""fa fa-thumb-tack', '#FFFFFF"" class=""fa fa-thumb-tack'); g.setNode(u, { labelType: ""html"", label: temp.label, rx: 26, ry: 26, padding: 0, class: temp.class + "" selectedNode out"" }); scope.selected = getSelectedObject(u); inner.call(render, g); } } var replaceAll = function (str, strSearch, strReplaceWith) { var strRes = str.replace(new RegExp(strSearch, ""g""), strReplaceWith); return strRes; function getSelectedObject(alertId) { for (var i=0; i < scope.data.nodes.length; i++) { if (scope.data.nodes[i].id == alertId) { return scope.data.nodes[i]; } } } function cleanGraph() { var nodes = g.nodes(); var edges = g.edges(); for (var i = 0; i < nodes.length; i++) { g.removeNode(nodes[i]); } for (var j = 0; j < edges.length; j++) { g.removeEdge(edges[j]); } } function createGraph() { draw(scope.data,true); } // Set up zoom support var svg = d3.select(""#root-cause-analysis-graph""), inner = svg.select(""g""), zoom = d3.behavior.zoom().scaleExtent([0.1, 2]).on(""zoom"", function () { inner.attr(""transform"", ""translate("" + d3.event.translate + "")"" + ""scale("" + d3.event.scale + "")""); }); svg.call(zoom); var render = new dagreD3.render(); // Left-to-right layout var g = new dagreD3.graphlib.Graph(); g.setGraph({ nodesep: 70, ranksep: 50, rankdir: ""UD"",//UD up and down , RL right to left marginx: 20, marginy: 20 }); function draw(data,newGraph) { if (newGraph) { angular.forEach(data.nodes, function(key, value) { var className = "" clickable""; var alertName = key.name, // CPU load alertCategory = key.vitrage_category, // ALARM alertInfo = key.info || '', // WARNING - 15min load 1.66 at 32 CPUs alertResourceId = key.vitrage_resource_id, // host-0 alertResourceName = key.resource_name, // host-0 alertResourceType = key.resource_type, // nova.host alertSeverity = key.severity, //WARNING alertOperationalSeverity = key.vitrage_operational_severity ? key.vitrage_operational_severity.toUpperCase() : key.vitrage_operational_severity, //WARNING alertState = key.state ? key.state.toUpperCase() : key.state, //Active alertTimeStamp = $filter('date')(key.update_timestamp, 'MM/dd/yyyy h:mma'), //2015-12-01T12:46:41Z alertType = key.vitrage_type, //nagios alertVitrageId = key.vitrage_id; var html = ''; html += '<div style=""padding: 10px; text-shadow: none; width: 378px; height: 115px; color: #44575e; clear:both""'; html += '>'; switch (alertState + '_' + alertOperationalSeverity) { case 'ACTIVE_CRITICAL': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_red_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_WARNING': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_yellow_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_SEVERE': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_orange_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_N/A': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_gray_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'ACTIVE_OK': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_green_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_CRITICAL': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_red_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_WARNING': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_yellow_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_SEVERE': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_orange_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_N/A': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_gray_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; case 'INACTIVE_OK': html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_green_off.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; default: html += '<img src=""' + STATIC_URL + 'dashboard/project/assets/bell_yellow_on.svg"" style=""width: 80px; height: 80px; padding-top: 10px;float: left;"">'; break; } html += '<div style=""height: 90px; width: 2px; background: #656a70; float: left; margin: 5px 10px 0px 3px;""></div>'; html += '<div>'; html += '<div style=""line-height: 2em; padding-left: 10px;text-align: left"">'; html += '<div style=""font-weight: 600; font-size: 20px; color: #44575e; width:262px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"" title=""' + alertName + '"">' + alertName + '</div>'; html += '<span style=""font-weight: 400; color: #44575e;"">' + alertResourceType + '</span>'; html += '<div>'; html += '<span style=""font-weight: 600; color: #44575e;"">Resource ID:</span>'; html += '<span style=""font-weight: 400; padding-left: 5px; color: #44575e;"">' + alertResourceId + '</span>'; html += '</div>'; html += '<div>'; html += '<span style=""font-weight: 600; color: #44575e;"">Type:</span>'; html += '<span style=""font-weight: 400; padding-left: 5px; color: #44575e;"">' + alertType + '</span>'; html += '</div>'; html += '<div style=""font-weight: 400; color: #44575e; width:262px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"">' + alertInfo + '</div>'; html += '<div style=""font-weight: 400; color: #44575e;"">' + alertTimeStamp + ' | ' + alertState + ' | ' + alertSeverity; if (key.id == data.inspected_index) { html += '<span style=""float: right""><i title=""Root cause analysis relative to this alert"" style=""font-size: 27px; color: #FFFFFF"" class=""fa fa-thumb-tack""></i></span>'; } html += '</div>'; html += '</div></div></div>'; g.setNode(value, { labelType: ""html"", label: html, rx: 26, ry: 26, padding: 0, class: className }); angular.forEach(data.links, function(key, value) { g.setEdge(key.source, key.target, { label: """", width: 20 }); inner.call(render, g); //inner.selectAll("".clickable:not(.update)"").on(""click"", function(d) { // setSelected(d); //}); setSelected(data.inspected_index); } var verticesLength = data.nodes.length; // Zoom and scale to fit var zoomScale = zoom.scale(); var graphWidth = g.graph().width + 80; var graphHeight = g.graph().height + 40; var width = parseInt(svg.style(""width"").replace(/px/, """")); var height = parseInt(svg.style(""height"").replace(/px/, """")); zoomScale = Math.min(width / graphWidth, height / graphHeight) if (verticesLength < 3) { zoomScale /= 2; } else if (verticesLength < 5) { zoomScale /= 1.5; } var translate = [(width / 2) - ((graphWidth * zoomScale) / 2), (height / 2) - ((graphHeight * zoomScale) / 2)]; zoom.translate(translate); zoom.scale(zoomScale); zoom.event(d3.select(""#root-cause-analysis-graph svg"")); } function centerGraph(newGraph) { cleanGraph(); draw(scope.data,newGraph); } scope.$watch(""data"", function (newValue, oldValue) { if (scope.data) { createGraph(true); } }); scope.onCenterGraph = function() { centerGraph(false); }; }",227,227
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ie87b327fe7981d905f8762d3944a0e950dbd0bfa,openstack/tripleo-heat-templates,stable/pike,Ie87b327fe7981d905f8762d3944a0e950dbd0bfa,Fix iptables rules override bug in clustercheck docker service,MERGED,2017-11-03 08:37:34.000000000,2017-11-05 12:41:26.000000000,2017-11-05 12:41:26.000000000,"[{'_account_id': 3153}, {'_account_id': 13039}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-03 08:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a64fb243af7c426d0088df5d49dd54305c6f679f', 'message': ""Fix iptables rules override bug in clustercheck docker service\n\nWhen deploying a composable HA overcloud with a database role split off\nto separate nodes we could observe a deployment failure due to galera\nnever starting up properly.\n\nThe reason for this was that instead of having the firewall rules for\nthe galera bundle applied (i.e. those with the extra control-port for\nthe bundle), we would see the firewall rules for the BM galera service.\nE.g. we would see the following on the host:\n\ntripleo.mysql.firewall_rules: {\n  104 mysql galera: {\n    dport: [ 873, 3306, 4444, 4567, 4568, 9200 ]\n\nInstead of the correct mysq bundle firewall rules:\ntripleo.mysql.firewall_rules:\n  104 mysql galera-bundle:\n    dport: [ 873, 3123, 3306, 4444, 4567, 4568, 9200 ]\n\nThe reason for this is the following piece of code in\nhttps://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/clustercheck.yaml#L62:\n...\n  MysqlPuppetBase:\n    type: ../../../puppet/services/pacemaker/database/mysql.yaml\n    properties:\n      EndpointMap: {get_param: EndpointMap}\n      ServiceData: {get_param: ServiceData}\n      ServiceNetMap: {get_param: ServiceNetMap}\n      DefaultPasswords: {get_param: DefaultPasswords}\n      RoleName: {get_param: RoleName}\n      RoleParameters: {get_param: RoleParameters}\n\noutputs:\n  role_data:\n    description: Containerized service clustercheck using composable services.\n    value:\n      service_name: clustercheck\n      config_settings: {get_attr: [MysqlPuppetBase, role_data, config_settings]}\nlogging_source: {get_attr: [MysqlPuppetBase, role_data, logging_source]}\n...\n\nDepending on the ordering of the clustercheck service within the role\n(before or after the mysql service), the above code will override the\ntripleo.mysql.firewall_rules with the wrong rules because we derive from\npuppet/services/... which contain the BM firewall rules.\n\nLet's just switch to derive from the docker service so we do not risk\ngetting the wrong firewall rules during the map_merge.\n\nTested this change successfully on a composable HA with split-off DB\nnodes.\n\nChange-Id: Ie87b327fe7981d905f8762d3944a0e950dbd0bfa\nCloses-Bug: #1728918\n(cherry picked from commit 3df6a4204a85b119cd67ccf176d5b72f9e550da6)\n""}, {'number': 2, 'created': '2017-11-04 05:23:55.000000000', 'files': ['docker/services/pacemaker/clustercheck.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba80b2bec5bcfc638c670debf11a98bd491ec996', 'message': ""Fix iptables rules override bug in clustercheck docker service\n\nWhen deploying a composable HA overcloud with a database role split off\nto separate nodes we could observe a deployment failure due to galera\nnever starting up properly.\n\nThe reason for this was that instead of having the firewall rules for\nthe galera bundle applied (i.e. those with the extra control-port for\nthe bundle), we would see the firewall rules for the BM galera service.\nE.g. we would see the following on the host:\n\ntripleo.mysql.firewall_rules: {\n  104 mysql galera: {\n    dport: [ 873, 3306, 4444, 4567, 4568, 9200 ]\n\nInstead of the correct mysq bundle firewall rules:\ntripleo.mysql.firewall_rules:\n  104 mysql galera-bundle:\n    dport: [ 873, 3123, 3306, 4444, 4567, 4568, 9200 ]\n\nThe reason for this is the following piece of code in\nhttps://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/clustercheck.yaml#L62:\n...\n  MysqlPuppetBase:\n    type: ../../../puppet/services/pacemaker/database/mysql.yaml\n    properties:\n      EndpointMap: {get_param: EndpointMap}\n      ServiceData: {get_param: ServiceData}\n      ServiceNetMap: {get_param: ServiceNetMap}\n      DefaultPasswords: {get_param: DefaultPasswords}\n      RoleName: {get_param: RoleName}\n      RoleParameters: {get_param: RoleParameters}\n\noutputs:\n  role_data:\n    description: Containerized service clustercheck using composable services.\n    value:\n      service_name: clustercheck\n      config_settings: {get_attr: [MysqlPuppetBase, role_data, config_settings]}\nlogging_source: {get_attr: [MysqlPuppetBase, role_data, logging_source]}\n...\n\nDepending on the ordering of the clustercheck service within the role\n(before or after the mysql service), the above code will override the\ntripleo.mysql.firewall_rules with the wrong rules because we derive from\npuppet/services/... which contain the BM firewall rules.\n\nLet's just switch to derive from the docker service so we do not risk\ngetting the wrong firewall rules during the map_merge.\n\nTested this change successfully on a composable HA with split-off DB\nnodes.\n\nChange-Id: Ie87b327fe7981d905f8762d3944a0e950dbd0bfa\nCloses-Bug: #1728918\n(cherry picked from commit 3df6a4204a85b119cd67ccf176d5b72f9e550da6)\n""}]",0,517576,ba80b2bec5bcfc638c670debf11a98bd491ec996,16,6,2,20778,,,0,"Fix iptables rules override bug in clustercheck docker service

When deploying a composable HA overcloud with a database role split off
to separate nodes we could observe a deployment failure due to galera
never starting up properly.

The reason for this was that instead of having the firewall rules for
the galera bundle applied (i.e. those with the extra control-port for
the bundle), we would see the firewall rules for the BM galera service.
E.g. we would see the following on the host:

tripleo.mysql.firewall_rules: {
  104 mysql galera: {
    dport: [ 873, 3306, 4444, 4567, 4568, 9200 ]

Instead of the correct mysq bundle firewall rules:
tripleo.mysql.firewall_rules:
  104 mysql galera-bundle:
    dport: [ 873, 3123, 3306, 4444, 4567, 4568, 9200 ]

The reason for this is the following piece of code in
https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/clustercheck.yaml#L62:
...
  MysqlPuppetBase:
    type: ../../../puppet/services/pacemaker/database/mysql.yaml
    properties:
      EndpointMap: {get_param: EndpointMap}
      ServiceData: {get_param: ServiceData}
      ServiceNetMap: {get_param: ServiceNetMap}
      DefaultPasswords: {get_param: DefaultPasswords}
      RoleName: {get_param: RoleName}
      RoleParameters: {get_param: RoleParameters}

outputs:
  role_data:
    description: Containerized service clustercheck using composable services.
    value:
      service_name: clustercheck
      config_settings: {get_attr: [MysqlPuppetBase, role_data, config_settings]}
logging_source: {get_attr: [MysqlPuppetBase, role_data, logging_source]}
...

Depending on the ordering of the clustercheck service within the role
(before or after the mysql service), the above code will override the
tripleo.mysql.firewall_rules with the wrong rules because we derive from
puppet/services/... which contain the BM firewall rules.

Let's just switch to derive from the docker service so we do not risk
getting the wrong firewall rules during the map_merge.

Tested this change successfully on a composable HA with split-off DB
nodes.

Change-Id: Ie87b327fe7981d905f8762d3944a0e950dbd0bfa
Closes-Bug: #1728918
(cherry picked from commit 3df6a4204a85b119cd67ccf176d5b72f9e550da6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/517576/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/clustercheck.yaml'],1,a64fb243af7c426d0088df5d49dd54305c6f679f,bug/1728918-stable/pike,# We import from the corresponding docker service because otherwise we risk # rewriting the tripleo.mysql.firewall_rules key with the baremetal firewall # rules (see LP#1728918) MysqlPuppetBase: type: ../../../docker/services/pacemaker/database/mysql.yaml, MysqlPuppetBase: type: ../../../puppet/services/pacemaker/database/mysql.yaml,4,1
openstack%2Ftripleo-heat-templates~stable%2Fpike~I4dcac1528c10f698338383445e27c8a613f9bcd9,openstack/tripleo-heat-templates,stable/pike,I4dcac1528c10f698338383445e27c8a613f9bcd9,"RHSM: when using proxy, test its connectivity first",MERGED,2017-11-02 21:49:00.000000000,2017-11-05 12:41:24.000000000,2017-11-05 12:41:24.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 21:49:00.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration', 'releasenotes/notes/rhsm_proxy_verify-548f104c97cf5f90.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b1739c5ebf677ba12ad53a6b11785471e5f52b5', 'message': 'RHSM: when using proxy, test its connectivity first\n\nWhen using RHSM with a proxy, we want to make sure the proxy can be\nreached. This patch verify that a tcp socket can be open from the client\nto the proxy.\n\nThis patch also does a bit of refactoring:\n- --retry-delay 10 --max-time 30 is now used in a parameter everytime we\n  use curl.\n- proxy options are now used everytime curl is used, even for detecting\n  which version of Satellite is running, now we use proxy options.\n\nCo-Authored-By: Vincent S. Cojot <vincent@cojot.name>\nChange-Id: I4dcac1528c10f698338383445e27c8a613f9bcd9\nCloses-Bug: #1724970\n(cherry picked from commit f4e46f4b3ddac3f536a3a1955c91447e8b26ffca)\n'}]",0,517443,1b1739c5ebf677ba12ad53a6b11785471e5f52b5,10,4,1,19743,,,0,"RHSM: when using proxy, test its connectivity first

When using RHSM with a proxy, we want to make sure the proxy can be
reached. This patch verify that a tcp socket can be open from the client
to the proxy.

This patch also does a bit of refactoring:
- --retry-delay 10 --max-time 30 is now used in a parameter everytime we
  use curl.
- proxy options are now used everytime curl is used, even for detecting
  which version of Satellite is running, now we use proxy options.

Co-Authored-By: Vincent S. Cojot <vincent@cojot.name>
Change-Id: I4dcac1528c10f698338383445e27c8a613f9bcd9
Closes-Bug: #1724970
(cherry picked from commit f4e46f4b3ddac3f536a3a1955c91447e8b26ffca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/517443/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration', 'releasenotes/notes/rhsm_proxy_verify-548f104c97cf5f90.yaml']",2,1b1739c5ebf677ba12ad53a6b11785471e5f52b5,bug/1724970-stable/pike,"--- features: - | When using RHSM proxy, TripleO will now verify that the proxy can be reached otherwise we'll stop early and not try to subscribe nodes. ",,37,6
openstack%2Ftripleo-heat-templates~stable%2Focata~Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb,openstack/tripleo-heat-templates,stable/ocata,Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb,cinder: switch CinderCronDbPurgeUser to 'cinder',MERGED,2017-11-02 19:11:47.000000000,2017-11-05 12:41:23.000000000,2017-11-05 12:41:23.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 19:11:47.000000000', 'files': ['puppet/services/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/602b50f84654619dbd22a06870137c2b758bd237', 'message': ""cinder: switch CinderCronDbPurgeUser to 'cinder'\n\n... and not 'keystone' or it fails.\n\nChange-Id: Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb\nCloses-Bug: #1729352\n(cherry picked from commit b99a240ccc4f262ee7626518087784eb92b0152f)\n""}]",0,517413,602b50f84654619dbd22a06870137c2b758bd237,13,4,1,3153,,,0,"cinder: switch CinderCronDbPurgeUser to 'cinder'

... and not 'keystone' or it fails.

Change-Id: Iee4161ec9d8c7a84997ab24ddd234353f3a81dfb
Closes-Bug: #1729352
(cherry picked from commit b99a240ccc4f262ee7626518087784eb92b0152f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/517413/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/cinder-base.yaml'],1,602b50f84654619dbd22a06870137c2b758bd237,bug/1729352-stable/ocata, default: 'cinder', default: 'keystone',1,1
openstack%2Ftripleo-heat-templates~stable%2Focata~I4dcac1528c10f698338383445e27c8a613f9bcd9,openstack/tripleo-heat-templates,stable/ocata,I4dcac1528c10f698338383445e27c8a613f9bcd9,"RHSM: when using proxy, test its connectivity first",MERGED,2017-11-02 22:26:37.000000000,2017-11-05 12:41:18.000000000,2017-11-05 12:41:18.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 22:26:37.000000000', 'files': ['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration', 'releasenotes/notes/rhsm_proxy_verify-548f104c97cf5f90.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5c62813a67b94d84158ab5e12c94e2369279ccd', 'message': 'RHSM: when using proxy, test its connectivity first\n\nWhen using RHSM with a proxy, we want to make sure the proxy can be\nreached. This patch verify that a tcp socket can be open from the client\nto the proxy.\n\nThis patch also does a bit of refactoring:\n- --retry-delay 10 --max-time 30 is now used in a parameter everytime we\n  use curl.\n- proxy options are now used everytime curl is used, even for detecting\n  which version of Satellite is running, now we use proxy options.\n\nCo-Authored-By: Vincent S. Cojot <vincent@cojot.name>\nChange-Id: I4dcac1528c10f698338383445e27c8a613f9bcd9\nCloses-Bug: #1724970\n(cherry picked from commit f4e46f4b3ddac3f536a3a1955c91447e8b26ffca)\n'}]",0,517448,d5c62813a67b94d84158ab5e12c94e2369279ccd,9,4,1,3153,,,0,"RHSM: when using proxy, test its connectivity first

When using RHSM with a proxy, we want to make sure the proxy can be
reached. This patch verify that a tcp socket can be open from the client
to the proxy.

This patch also does a bit of refactoring:
- --retry-delay 10 --max-time 30 is now used in a parameter everytime we
  use curl.
- proxy options are now used everytime curl is used, even for detecting
  which version of Satellite is running, now we use proxy options.

Co-Authored-By: Vincent S. Cojot <vincent@cojot.name>
Change-Id: I4dcac1528c10f698338383445e27c8a613f9bcd9
Closes-Bug: #1724970
(cherry picked from commit f4e46f4b3ddac3f536a3a1955c91447e8b26ffca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/517448/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/pre_deploy/rhel-registration/scripts/rhel-registration', 'releasenotes/notes/rhsm_proxy_verify-548f104c97cf5f90.yaml']",2,d5c62813a67b94d84158ab5e12c94e2369279ccd,bug/1724970,"--- features: - | When using RHSM proxy, TripleO will now verify that the proxy can be reached otherwise we'll stop early and not try to subscribe nodes. ",,37,6
openstack%2Ftricircle~master~Iefa6810c48cbbc6171a8e02ea19429c8bdb2e366,openstack/tricircle,master,Iefa6810c48cbbc6171a8e02ea19429c8bdb2e366,[Urgent] fix sfc test,MERGED,2017-11-05 03:12:34.000000000,2017-11-05 11:51:55.000000000,2017-11-05 11:51:55.000000000,"[{'_account_id': 11819}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 03:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/0ae613912f731189c121236fd960b211a2e09f06', 'message': '[Urgent] fix sfc test\n\n1. What is the problem\nBoth unit test and smoke test for sfc feature fail because changes\nin neutron and networking-sfc project.\n\n2. What is the solution for the problem\n(1) Modify sfc unit test to correctly construct object model.\n(2) Temporarily disable sfc smoke test because of a sfc bug[1].\n\n3. What features need to be implemented to the Tricircle to\nrealize the solution\nN/A\n\n[1] https://bugs.launchpad.net/networking-sfc/+bug/1730076\n\nChange-Id: Iefa6810c48cbbc6171a8e02ea19429c8bdb2e366\n'}, {'number': 2, 'created': '2017-11-05 04:12:53.000000000', 'files': ['tricircle/tempestplugin/smoke_test.sh', 'tricircle/tests/unit/network/test_central_sfc_plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/06e990cea0997aa0ddf727cffe1d7ceefcba8457', 'message': '[Urgent] fix sfc test\n\n1. What is the problem\nBoth unit test and smoke test for sfc feature fail because changes\nin neutron and networking-sfc project.\n\n2. What is the solution for the problem\n(1) Modify sfc unit test to correctly construct object model.\n(2) Temporarily disable sfc smoke test because of a sfc bug[1].\n\n3. What features need to be implemented to the Tricircle to\nrealize the solution\nN/A\n\n[1] https://bugs.launchpad.net/networking-sfc/+bug/1730076\n\nChange-Id: Iefa6810c48cbbc6171a8e02ea19429c8bdb2e366\n'}]",0,517785,06e990cea0997aa0ddf727cffe1d7ceefcba8457,8,2,2,12076,,,0,"[Urgent] fix sfc test

1. What is the problem
Both unit test and smoke test for sfc feature fail because changes
in neutron and networking-sfc project.

2. What is the solution for the problem
(1) Modify sfc unit test to correctly construct object model.
(2) Temporarily disable sfc smoke test because of a sfc bug[1].

3. What features need to be implemented to the Tricircle to
realize the solution
N/A

[1] https://bugs.launchpad.net/networking-sfc/+bug/1730076

Change-Id: Iefa6810c48cbbc6171a8e02ea19429c8bdb2e366
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/85/517785/1 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/tempestplugin/smoke_test.sh', 'tricircle/tests/unit/network/test_central_sfc_plugin.py']",2,0ae613912f731189c121236fd960b211a2e09f06,fix-sfc-test," 'service_function_parameters': { ""weight"": 1, ""correlation"": DotDict({'value': 'null'})}, 'service_function_parameters': { ""weight"": 1, ""correlation"": DotDict({'value': 'null'})}, t_client = FakeClient() b_client = FakeClient(pod_name) t_pps = [t_client.get_resource('port_pair', t_ctx, e) for e in t_pp_ids] if create_bottom: b_pps = [b_client.get_resource( 'port_pair', t_ctx, e) for e in b_pp_ids] ""port_pairs"": t_pps, ""port_pairs"": b_pps,"," 'service_function_parameters': {""weight"": 1, ""correlation"": None}, 'service_function_parameters': {""weight"": 1, ""correlation"": None}, ""port_pairs"": t_pp_ids, ""port_pairs"": b_pp_ids,",20,10
openstack%2Fnetworking-odl~master~I59c079dac39f53cda8570ebde55d0b4d69f08c3e,openstack/networking-odl,master,I59c079dac39f53cda8570ebde55d0b4d69f08c3e,Add Documentation for Dependency Validations,ABANDONED,2017-01-26 22:44:15.000000000,2017-11-05 11:18:50.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 7921}]","[{'number': 1, 'created': '2017-01-26 22:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/536efa0aec6b1029d19add386d557dde143fd9c6', 'message': 'Add Documentation for Dependency Validations\n\nAdding documentation for developers to adding dependency\nvalidation for v2 drivers.\n\nChange-Id: I59c079dac39f53cda8570ebde55d0b4d69f08c3e\n'}, {'number': 2, 'created': '2017-01-26 22:45:37.000000000', 'files': ['doc/source/devref/dependency_validations.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e428059a030f4672bba5c8879445ac23c42445b6', 'message': 'Add Documentation for Dependency Validations\n\nAdding documentation for developers to guide adding dependency\nvalidation for v2 drivers.\n\nChange-Id: I59c079dac39f53cda8570ebde55d0b4d69f08c3e\n'}]",7,425960,e428059a030f4672bba5c8879445ac23c42445b6,7,5,2,17120,,,0,"Add Documentation for Dependency Validations

Adding documentation for developers to guide adding dependency
validation for v2 drivers.

Change-Id: I59c079dac39f53cda8570ebde55d0b4d69f08c3e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/60/425960/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/dependency_validations.rst'],1,536efa0aec6b1029d19add386d557dde143fd9c6,,"Dependency Validation ===================== Overview -------- Dependency validation in networking-odl is a way to restrict invalid operations, based on dependency of completion, update or deletion of a resource operation on other operations. This concept was introduced along with v2 drivers in networking-odl. How to Add Dependency validations --------------------------------- For each resource which is enabled via V2 driver mechanism in networking-odl, an method, which will have logic for dependencies of operation should be added to networking-odl/journal/dependency_validations.py. There are two ways to register it, First, statically by growing the _VALIDATION_MAP. Second, by dynamically registering it via registor_validator method to _VALIDATION_MAP. Examples -------- Suppose a QoS Policy delete operation has depedency on policy update operation. Its because delete should not happen when update is pending and like wise update should not be triggered before create is completed. These cases for adding dependencies may vary from resource to resource, this is just an example to give basic idea to new developers. .. code-block:: Python def validate_quality_of_service_operation(session, row): """"""Validate QoS operations based on dependencies."""""" if row.operation in [odl_const.ODL_UPDATE, odl_const.ODL_DELETE]: status = _get_network_port_dependency(session, row.object_uuid) if not status: return False if row.operation == odl_const.ODL_UPDATE: # Check for pending or processing policy operations ops = db.check_for_pending_or_processing_ops( session, row.object_uuid, operation=[odl_const.ODL_CREATE, odl_const.ODL_DELETE]) if ops: return False return True Once validation method is defined it can be registered statically or dynamically. Registering Dependency validator statically:: In networking-odl/journal/dependency_validations.py, append a key value to dictionary named _VALIDATION_MAP where key will be resource name used for rest request and value would be name of validator method. Registering Dependency validator dynamically:: Whatever driver is written for intergration should register dependency validator method during initaliazation of that driver using register_validator method from networking-odl/journal/dependency_validations.py. ",,68,0
openstack%2Fnetworking-sfc~master~I9b199b2fb3c3fff75aa2fcd8cd69f40c031bc6b6,openstack/networking-sfc,master,I9b199b2fb3c3fff75aa2fcd8cd69f40c031bc6b6,Remove the port pair delete in port chain delete,ABANDONED,2017-03-15 14:17:16.000000000,2017-11-05 11:18:42.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5367}, {'_account_id': 7776}, {'_account_id': 7787}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 14037}, {'_account_id': 14605}, {'_account_id': 14744}]","[{'number': 1, 'created': '2017-03-15 14:17:16.000000000', 'files': ['networking_sfc/services/sfc/drivers/ovs/driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/6ae77041a4f4f1d9fd29ab0522c3dcb512cd349f', 'message': 'Remove the port pair delete in port chain delete\n\nRemoved the port-pair-details delete call in OVS driver in port-chain\ndelete path.\n\nChange-Id: I9b199b2fb3c3fff75aa2fcd8cd69f40c031bc6b6\nCloses-Bug: #1673078\n'}]",2,445979,6ae77041a4f4f1d9fd29ab0522c3dcb512cd349f,7,11,1,14744,,,0,"Remove the port pair delete in port chain delete

Removed the port-pair-details delete call in OVS driver in port-chain
delete path.

Change-Id: I9b199b2fb3c3fff75aa2fcd8cd69f40c031bc6b6
Closes-Bug: #1673078
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/79/445979/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/services/sfc/drivers/ovs/driver.py'],1,6ae77041a4f4f1d9fd29ab0522c3dcb512cd349f,bug/1673078, # self.delete_port_pair_detail(pd['id']), self.delete_port_pair_detail(pd['id']),1,1
openstack%2Fneutron~stable%2Focata~Ia70360d664d5efd4154c0eb843143f1567785d59,openstack/neutron,stable/ocata,Ia70360d664d5efd4154c0eb843143f1567785d59,Fix trunk subport scenario test,ABANDONED,2017-03-15 14:28:46.000000000,2017-11-05 11:18:33.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 14571}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-15 14:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa314543efb8eb5c9c4e6f17a31449a3159902df', 'message': ""Fix trunk subport scenario test\n\nThis test wasn't allowing ping before asserting\nthat ping should work. It only passes in the OVS\nscenario because the job is configuring to use the\nhybrid iptables driver which does not filter vlan-aware-vms\non OVS.\n\nConflicts:\n\tneutron/tests/tempest/scenario/test_trunk.py\n\nCloses-Bug: #1669372\nChange-Id: Ia70360d664d5efd4154c0eb843143f1567785d59\n(cherry picked from commit ed5fc12ab7ed5404c3eba49874e68b0adde33b67)\n""}, {'number': 2, 'created': '2017-03-20 16:40:38.000000000', 'files': ['neutron/tests/tempest/scenario/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00c857b2ba2074e913a05321a9dfbcb23063b49e', 'message': ""Fix trunk subport scenario test\n\nThis test wasn't allowing ping before asserting\nthat ping should work. It only passes in the OVS\nscenario because the job is configuring to use the\nhybrid iptables driver which does not filter vlan-aware-vms\non OVS.\n\nConflicts:\n\tneutron/tests/tempest/scenario/test_trunk.py\n\nCloses-Bug: #1669372\nChange-Id: Ia70360d664d5efd4154c0eb843143f1567785d59\n(cherry picked from commit ed5fc12ab7ed5404c3eba49874e68b0adde33b67)\n""}]",0,445986,00c857b2ba2074e913a05321a9dfbcb23063b49e,23,10,2,8655,,,0,"Fix trunk subport scenario test

This test wasn't allowing ping before asserting
that ping should work. It only passes in the OVS
scenario because the job is configuring to use the
hybrid iptables driver which does not filter vlan-aware-vms
on OVS.

Conflicts:
	neutron/tests/tempest/scenario/test_trunk.py

Closes-Bug: #1669372
Change-Id: Ia70360d664d5efd4154c0eb843143f1567785d59
(cherry picked from commit ed5fc12ab7ed5404c3eba49874e68b0adde33b67)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/445986/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/scenario/test_trunk.py'],1,fa314543efb8eb5c9c4e6f17a31449a3159902df,bug/1669372,"from tempest.lib.common import ssh server_ssh_client = ssh.Client( pkey=self.keypair['private_key']) # Ping from server1 to server2 via VLAN interface should fail because # we haven't allowed ICMP self.check_remote_connectivity( servers[0]['ssh_client'], servers[1]['subport']['fixed_ips'][0]['ip_address'], should_succeed=False ) # allow intra-securitygroup traffic self.client.create_security_group_rule( security_group_id=self.secgroup['security_group']['id'], direction='ingress', ethertype='IPv4', protocol='icmp', remote_group_id=self.secgroup['security_group']['id']) self.check_remote_connectivity( servers[0]['ssh_client'], servers[1]['subport']['fixed_ips'][0]['ip_address'], should_succeed=True )","from tempest.common.utils.linux import remote_client server_ssh_client = remote_client.RemoteClient( pkey=self.keypair['private_key'], server=server) # Ping from server1 to server2 via VLAN interface servers[0]['ssh_client'].ping_host( servers[1]['subport']['fixed_ips'][0]['ip_address'])",20,7
openstack%2Fneutron~master~I853f3c0cc6caf8444bd04bd33c71ea2a3d52825f,openstack/neutron,master,I853f3c0cc6caf8444bd04bd33c71ea2a3d52825f,Keep event sequence in network deletion,ABANDONED,2017-03-22 23:08:09.000000000,2017-11-05 11:18:25.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 6671}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8976}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10499}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 22220}]","[{'number': 1, 'created': '2017-03-22 23:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49b466ef663be51680f66a9257de029de22df730', 'message': ""Keep the reverse sequence in deletion network according to network creation\n\nthe current network deletion code doesn't follow the sequence as the\nnetwork creation, the deletion should follow the reverse sequence\n(like the operations push and pop in a stack) to release related\nresources.\nFor example:\nIn the network creation function _create_network_db:\nit create network segment first,\nthen mechanism_manager.create_network_precommit.\nIn the network deletion function delete_network:\nit send related deletion events of resources.NETWORK\nin the following order:\n  events.BEFORE_DELETE-> events.PRECOMMIT_DELETE\n-> events.AFTER_DELETE\nwhen notified the event events.PRECOMMIT_DELETE,\nmechanism_manager.delete_network_precommit was triggered,\nhowever delete_segment was triggered either on the same event\nevents.PRECOMMIT_DELETE(current implementation) or on the prior event\nevents.BEFORE_DELETE (in the fix\nhttps://review.openstack.org/#/c/429441/8/neutron/services/segments/db.py).\n\nChange-Id: I853f3c0cc6caf8444bd04bd33c71ea2a3d52825f\nCloses-bug: 1674840\n""}, {'number': 2, 'created': '2017-03-22 23:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b841e5547fe67bc3643c43f8e2297087f97634d3', 'message': ""Keep the reverse sequence in deletion network according to network creation\n\nthe current network deletion code doesn't follow the sequence as the\nnetwork creation, the deletion should follow the reverse sequence\n(like the operations push and pop in a stack) to release related\nresources.\nFor example:\nIn the network creation function _create_network_db:\nit create network segment first,\nthen mechanism_manager.create_network_precommit.\nIn the network deletion function delete_network:\nit send related deletion events of resources.NETWORK\nin the following order:\n  events.BEFORE_DELETE-> events.PRECOMMIT_DELETE\n-> events.AFTER_DELETE\nwhen notified the event events.PRECOMMIT_DELETE,\nmechanism_manager.delete_network_precommit was triggered,\nhowever delete_segment was triggered either on the same event\nevents.PRECOMMIT_DELETE(current implementation) or on the prior event\nevents.BEFORE_DELETE (in the fix\nhttps://review.openstack.org/#/c/429441/8/neutron/services/segments/db.py).\n\nChange-Id: I853f3c0cc6caf8444bd04bd33c71ea2a3d52825f\nCloses-bug: 1674840\n""}, {'number': 3, 'created': '2017-03-23 18:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52d35d4bcca0d9cc70b825deea51fafbcccae655', 'message': ""Keep event sequence in network deletion\n\nThe current network deletion code doesn't follow the sequence as the\nnetwork creation, the deletion should follow the reverse sequence\n(like the operations push and pop in a stack) to release related\nresources.\nFor example:\nIn the network creation function _create_network_db:\nit create network segment first,\nthen mechanism_manager.create_network_precommit.\nIn the network deletion function delete_network:\nit send related deletion events of resources.NETWORK\nin the following order:\n  events.BEFORE_DELETE-> events.PRECOMMIT_DELETE\n-> events.AFTER_DELETE\nwhen notified the event events.PRECOMMIT_DELETE,\nmechanism_manager.delete_network_precommit was triggered,\nhowever delete_segment was triggered either on the same event\nevents.PRECOMMIT_DELETE(current implementation) or on the prior event\nevents.BEFORE_DELETE (in the fix\nhttps://review.openstack.org/#/c/429441/8/neutron/services/segments/db.py).\n\nCloses-bug: 1674840\n\nChange-Id: I853f3c0cc6caf8444bd04bd33c71ea2a3d52825f\n""}, {'number': 4, 'created': '2017-03-27 18:58:30.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/callbacks/events.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/642f2d1776f28da09b9966ae902a0de27a971712', 'message': ""Keep event sequence in network deletion\n\nThe current network deletion code doesn't follow the sequence as the\nnetwork creation, the deletion should follow the reverse sequence\n(like the operations push and pop in a stack) to release related\nresources.\nFor example:\nIn the network creation function _create_network_db:\nit create network segment first,\nthen mechanism_manager.create_network_precommit.\nIn the network deletion function delete_network:\nit send related deletion events of resources.NETWORK\nin the following order:\n  events.BEFORE_DELETE-> events.PRECOMMIT_DELETE\n-> events.AFTER_DELETE\nwhen notified the event events.PRECOMMIT_DELETE,\nmechanism_manager.delete_network_precommit was triggered,\nhowever delete_segment was triggered either on the same event\nevents.PRECOMMIT_DELETE(current implementation) or on the prior event\nevents.BEFORE_DELETE (in the fix\nhttps://review.openstack.org/#/c/429441/8/neutron/services/segments/db.py).\n\nCloses-bug: 1674840\n\nChange-Id: I853f3c0cc6caf8444bd04bd33c71ea2a3d52825f\n""}]",5,448822,642f2d1776f28da09b9966ae902a0de27a971712,49,18,4,10499,,,0,"Keep event sequence in network deletion

The current network deletion code doesn't follow the sequence as the
network creation, the deletion should follow the reverse sequence
(like the operations push and pop in a stack) to release related
resources.
For example:
In the network creation function _create_network_db:
it create network segment first,
then mechanism_manager.create_network_precommit.
In the network deletion function delete_network:
it send related deletion events of resources.NETWORK
in the following order:
  events.BEFORE_DELETE-> events.PRECOMMIT_DELETE
-> events.AFTER_DELETE
when notified the event events.PRECOMMIT_DELETE,
mechanism_manager.delete_network_precommit was triggered,
however delete_segment was triggered either on the same event
events.PRECOMMIT_DELETE(current implementation) or on the prior event
events.BEFORE_DELETE (in the fix
https://review.openstack.org/#/c/429441/8/neutron/services/segments/db.py).

Closes-bug: 1674840

Change-Id: I853f3c0cc6caf8444bd04bd33c71ea2a3d52825f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/448822/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/callbacks/events.py', 'neutron/plugins/ml2/plugin.py']",3,49b466ef663be51680f66a9257de029de22df730,bug/1674840,"# Copyright (c) 2013 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from eventlet import greenthread from neutron_lib.api import validators from neutron_lib import constants as const from neutron_lib import exceptions as exc from neutron_lib.plugins import directory from oslo_config import cfg from oslo_db import exception as os_db_exception from oslo_log import helpers as log_helpers from oslo_log import log from oslo_serialization import jsonutils from oslo_utils import excutils from oslo_utils import importutils from oslo_utils import uuidutils import sqlalchemy from sqlalchemy.orm import exc as sa_exc from neutron._i18n import _, _LE, _LI, _LW from neutron.agent import securitygroups_rpc as sg_rpc from neutron.api.rpc.agentnotifiers import dhcp_rpc_agent_api from neutron.api.rpc.handlers import dhcp_rpc from neutron.api.rpc.handlers import dvr_rpc from neutron.api.rpc.handlers import metadata_rpc from neutron.api.rpc.handlers import resources_rpc from neutron.api.rpc.handlers import securitygroups_rpc from neutron.api.v2 import attributes from neutron.callbacks import events from neutron.callbacks import exceptions from neutron.callbacks import registry from neutron.callbacks import resources from neutron.common import constants as n_const from neutron.common import rpc as n_rpc from neutron.common import topics from neutron.common import utils from neutron.db import _model_query as model_query from neutron.db import _resource_extend as resource_extend from neutron.db import _utils as db_utils from neutron.db import address_scope_db from neutron.db import agents_db from neutron.db import agentschedulers_db from neutron.db import allowedaddresspairs_db as addr_pair_db from neutron.db import api as db_api from neutron.db import db_base_plugin_v2 from neutron.db import dvr_mac_db from neutron.db import external_net_db from neutron.db import extradhcpopt_db from neutron.db.models import securitygroup as sg_models from neutron.db import models_v2 from neutron.db import provisioning_blocks from neutron.db.quota import driver # noqa from neutron.db import securitygroups_rpc_base as sg_db_rpc from neutron.db import segments_db from neutron.db import subnet_service_type_db_models as service_type_db from neutron.db import vlantransparent_db from neutron.extensions import allowedaddresspairs as addr_pair from neutron.extensions import availability_zone as az_ext from neutron.extensions import extra_dhcp_opt as edo_ext from neutron.extensions import multiprovidernet as mpnet from neutron.extensions import portbindings from neutron.extensions import portsecurity as psec from neutron.extensions import providernet as provider from neutron.extensions import vlantransparent from neutron.plugins.ml2.common import exceptions as ml2_exc from neutron.plugins.ml2 import config # noqa from neutron.plugins.ml2 import db from neutron.plugins.ml2 import driver_api as api from neutron.plugins.ml2 import driver_context from neutron.plugins.ml2.extensions import qos as qos_ext from neutron.plugins.ml2 import managers from neutron.plugins.ml2 import models from neutron.plugins.ml2 import ovo_rpc from neutron.plugins.ml2 import rpc from neutron.quota import resource_registry from neutron.services.qos import qos_consts from neutron.services.segments import plugin as segments_plugin LOG = log.getLogger(__name__) MAX_BIND_TRIES = 10 SERVICE_PLUGINS_REQUIRED_DRIVERS = { 'qos': [qos_ext.QOS_EXT_DRIVER_ALIAS] } @registry.has_registry_receivers class Ml2Plugin(db_base_plugin_v2.NeutronDbPluginV2, dvr_mac_db.DVRDbMixin, external_net_db.External_net_db_mixin, sg_db_rpc.SecurityGroupServerRpcMixin, agentschedulers_db.AZDhcpAgentSchedulerDbMixin, addr_pair_db.AllowedAddressPairsMixin, vlantransparent_db.Vlantransparent_db_mixin, extradhcpopt_db.ExtraDhcpOptMixin, address_scope_db.AddressScopeDbMixin, service_type_db.SubnetServiceTypeMixin): """"""Implement the Neutron L2 abstractions using modules. Ml2Plugin is a Neutron plugin based on separately extensible sets of network types and mechanisms for connecting to networks of those types. The network types and mechanisms are implemented as drivers loaded via Python entry points. Networks can be made up of multiple segments (not yet fully implemented). """""" # This attribute specifies whether the plugin supports or not # bulk/pagination/sorting operations. Name mangling is used in # order to ensure it is qualified by class __native_bulk_support = True __native_pagination_support = True __native_sorting_support = True # List of supported extensions _supported_extension_aliases = [""provider"", ""external-net"", ""binding"", ""quotas"", ""security-group"", ""agent"", ""dhcp_agent_scheduler"", ""multi-provider"", ""allowed-address-pairs"", ""extra_dhcp_opt"", ""subnet_allocation"", ""net-mtu"", ""vlan-transparent"", ""address-scope"", ""availability_zone"", ""network_availability_zone"", ""default-subnetpools"", ""subnet-service-types""] @property def supported_extension_aliases(self): if not hasattr(self, '_aliases'): aliases = self._supported_extension_aliases[:] aliases += self.extension_manager.extension_aliases() sg_rpc.disable_security_group_extension_by_config(aliases) vlantransparent.disable_extension_by_config(aliases) self._aliases = aliases return self._aliases @resource_registry.tracked_resources( network=models_v2.Network, port=models_v2.Port, subnet=models_v2.Subnet, subnetpool=models_v2.SubnetPool, security_group=sg_models.SecurityGroup, security_group_rule=sg_models.SecurityGroupRule) def __init__(self): # First load drivers, then initialize DB, then initialize drivers self.type_manager = managers.TypeManager() self.extension_manager = managers.ExtensionManager() self.mechanism_manager = managers.MechanismManager() super(Ml2Plugin, self).__init__() self.type_manager.initialize() self.extension_manager.initialize() self.mechanism_manager.initialize() self._setup_dhcp() self._start_rpc_notifiers() self.add_agent_status_check_worker(self.agent_health_check) self.add_workers(self.mechanism_manager.get_workers()) self._verify_service_plugins_requirements() LOG.info(_LI(""Modular L2 Plugin initialization complete"")) def _setup_rpc(self): """"""Initialize components to support agent communication."""""" self.endpoints = [ rpc.RpcCallbacks(self.notifier, self.type_manager), securitygroups_rpc.SecurityGroupServerRpcCallback(), dvr_rpc.DVRServerRpcCallback(), dhcp_rpc.DhcpRpcCallback(), agents_db.AgentExtRpcCallback(), metadata_rpc.MetadataRpcCallback(), resources_rpc.ResourcesPullRpcCallback() ] def _setup_dhcp(self): """"""Initialize components to support DHCP."""""" self.network_scheduler = importutils.import_object( cfg.CONF.network_scheduler_driver ) self.add_periodic_dhcp_agent_status_check() def _verify_service_plugins_requirements(self): for service_plugin in cfg.CONF.service_plugins: extension_drivers = SERVICE_PLUGINS_REQUIRED_DRIVERS.get( service_plugin, [] ) for extension_driver in extension_drivers: if extension_driver not in self.extension_manager.names(): raise ml2_exc.ExtensionDriverNotFound( driver=extension_driver, service_plugin=service_plugin ) @registry.receives(resources.PORT, [provisioning_blocks.PROVISIONING_COMPLETE]) def _port_provisioned(self, rtype, event, trigger, context, object_id, **kwargs): port_id = object_id port = db.get_port(context, port_id) if not port or not port.port_binding: LOG.debug(""Port %s was deleted so its status cannot be updated."", port_id) return if port.port_binding.vif_type in (portbindings.VIF_TYPE_BINDING_FAILED, portbindings.VIF_TYPE_UNBOUND): # NOTE(kevinbenton): we hit here when a port is created without # a host ID and the dhcp agent notifies that its wiring is done LOG.debug(""Port %s cannot update to ACTIVE because it "" ""is not bound."", port_id) return else: # port is bound, but we have to check for new provisioning blocks # one last time to detect the case where we were triggered by an # unbound port and the port became bound with new provisioning # blocks before 'get_port' was called above if provisioning_blocks.is_object_blocked(context, port_id, resources.PORT): LOG.debug(""Port %s had new provisioning blocks added so it "" ""will not transition to active."", port_id) return self.update_port_status(context, port_id, const.PORT_STATUS_ACTIVE) @log_helpers.log_method_call def _start_rpc_notifiers(self): """"""Initialize RPC notifiers for agents."""""" self.ovo_notifier = ovo_rpc.OVOServerRpcInterface() self.notifier = rpc.AgentNotifierApi(topics.AGENT) self.agent_notifiers[const.AGENT_TYPE_DHCP] = ( dhcp_rpc_agent_api.DhcpAgentNotifyAPI() ) @log_helpers.log_method_call def start_rpc_listeners(self): """"""Start the RPC loop to let the plugin communicate with agents."""""" self._setup_rpc() self.topic = topics.PLUGIN self.conn = n_rpc.create_connection() self.conn.create_consumer(self.topic, self.endpoints, fanout=False) self.conn.create_consumer( topics.SERVER_RESOURCE_VERSIONS, [resources_rpc.ResourcesPushToServerRpcCallback()], fanout=True) # process state reports despite dedicated rpc workers self.conn.create_consumer(topics.REPORTS, [agents_db.AgentExtRpcCallback()], fanout=False) return self.conn.consume_in_threads() def start_rpc_state_reports_listener(self): self.conn_reports = n_rpc.create_connection() self.conn_reports.create_consumer(topics.REPORTS, [agents_db.AgentExtRpcCallback()], fanout=False) return self.conn_reports.consume_in_threads() def _filter_nets_provider(self, context, networks, filters): return [network for network in networks if self.type_manager.network_matches_filters(network, filters) ] def _check_mac_update_allowed(self, orig_port, port, binding): unplugged_types = (portbindings.VIF_TYPE_BINDING_FAILED, portbindings.VIF_TYPE_UNBOUND) new_mac = port.get('mac_address') mac_change = (new_mac is not None and orig_port['mac_address'] != new_mac) if (mac_change and binding.vif_type not in unplugged_types): raise exc.PortBound(port_id=orig_port['id'], vif_type=binding.vif_type, old_mac=orig_port['mac_address'], new_mac=port['mac_address']) return mac_change def _process_port_binding(self, mech_context, attrs): plugin_context = mech_context._plugin_context binding = mech_context._binding port = mech_context.current port_id = port['id'] changes = False host = const.ATTR_NOT_SPECIFIED if attrs and portbindings.HOST_ID in attrs: host = attrs.get(portbindings.HOST_ID) or '' original_host = binding.host if (validators.is_attr_set(host) and original_host != host): binding.host = host changes = True vnic_type = attrs and attrs.get(portbindings.VNIC_TYPE) if (validators.is_attr_set(vnic_type) and binding.vnic_type != vnic_type): binding.vnic_type = vnic_type changes = True # treat None as clear of profile. profile = None if attrs and portbindings.PROFILE in attrs: profile = attrs.get(portbindings.PROFILE) or {} if profile not in (None, const.ATTR_NOT_SPECIFIED, self._get_profile(binding)): binding.profile = jsonutils.dumps(profile) if len(binding.profile) > models.BINDING_PROFILE_LEN: msg = _(""binding:profile value too large"") raise exc.InvalidInput(error_message=msg) changes = True # Unbind the port if needed. if changes: binding.vif_type = portbindings.VIF_TYPE_UNBOUND binding.vif_details = '' db.clear_binding_levels(plugin_context, port_id, original_host) mech_context._clear_binding_levels() port['status'] = const.PORT_STATUS_DOWN super(Ml2Plugin, self).update_port( mech_context._plugin_context, port_id, {attributes.PORT: {'status': const.PORT_STATUS_DOWN}}) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: binding.vif_type = portbindings.VIF_TYPE_UNBOUND binding.vif_details = '' db.clear_binding_levels(plugin_context, port_id, original_host) mech_context._clear_binding_levels() binding.host = '' self._update_port_dict_binding(port, binding) return changes @db_api.retry_db_errors def _bind_port_if_needed(self, context, allow_notify=False, need_notify=False): for count in range(1, MAX_BIND_TRIES + 1): if count > 1: # yield for binding retries so that we give other threads a # chance to do their work greenthread.sleep(0) # multiple attempts shouldn't happen very often so we log each # attempt after the 1st. LOG.info(_LI(""Attempt %(count)s to bind port %(port)s""), {'count': count, 'port': context.current['id']}) bind_context, need_notify, try_again = self._attempt_binding( context, need_notify) if count == MAX_BIND_TRIES or not try_again: if self._should_bind_port(context): # At this point, we attempted to bind a port and reached # its final binding state. Binding either succeeded or # exhausted all attempts, thus no need to try again. # Now, the port and its binding state should be committed. context, need_notify, try_again = ( self._commit_port_binding(context, bind_context, need_notify, try_again)) else: context = bind_context if not try_again: if allow_notify and need_notify: self._notify_port_updated(context) return context LOG.error(_LE(""Failed to commit binding results for %(port)s "" ""after %(max)s tries""), {'port': context.current['id'], 'max': MAX_BIND_TRIES}) return context def _should_bind_port(self, context): return (context._binding.host and context._binding.vif_type in (portbindings.VIF_TYPE_UNBOUND, portbindings.VIF_TYPE_BINDING_FAILED)) def _attempt_binding(self, context, need_notify): try_again = False if self._should_bind_port(context): bind_context = self._bind_port(context) if bind_context.vif_type != portbindings.VIF_TYPE_BINDING_FAILED: # Binding succeeded. Suggest notifying of successful binding. need_notify = True else: # Current attempt binding failed, try to bind again. try_again = True context = bind_context return context, need_notify, try_again def _bind_port(self, orig_context): # Construct a new PortContext from the one from the previous # transaction. port = orig_context.current orig_binding = orig_context._binding new_binding = models.PortBinding( host=orig_binding.host, vnic_type=orig_binding.vnic_type, profile=orig_binding.profile, vif_type=portbindings.VIF_TYPE_UNBOUND, vif_details='' ) self._update_port_dict_binding(port, new_binding) new_context = driver_context.PortContext( self, orig_context._plugin_context, port, orig_context.network.current, new_binding, None, original_port=orig_context.original) # Attempt to bind the port and return the context with the # result. self.mechanism_manager.bind_port(new_context) return new_context def _commit_port_binding(self, orig_context, bind_context, need_notify, try_again): port_id = orig_context.current['id'] plugin_context = orig_context._plugin_context orig_binding = orig_context._binding new_binding = bind_context._binding # After we've attempted to bind the port, we begin a # transaction, get the current port state, and decide whether # to commit the binding results. with plugin_context.session.begin(subtransactions=True): # Get the current port state and build a new PortContext # reflecting this state as original state for subsequent # mechanism driver update_port_*commit() calls. try: port_db = self._get_port(plugin_context, port_id) cur_binding = port_db.port_binding except exc.PortNotFound: port_db, cur_binding = None, None if not port_db or not cur_binding: # The port has been deleted concurrently, so just # return the unbound result from the initial # transaction that completed before the deletion. LOG.debug(""Port %s has been deleted concurrently"", port_id) return orig_context, False, False # Since the mechanism driver bind_port() calls must be made # outside a DB transaction locking the port state, it is # possible (but unlikely) that the port's state could change # concurrently while these calls are being made. If another # thread or process succeeds in binding the port before this # thread commits its results, the already committed results are # used. If attributes such as binding:host_id, binding:profile, # or binding:vnic_type are updated concurrently, the try_again # flag is returned to indicate that the commit was unsuccessful. oport = self._make_port_dict(port_db) port = self._make_port_dict(port_db) network = bind_context.network.current if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: # REVISIT(rkukura): The PortBinding instance from the # ml2_port_bindings table, returned as cur_binding # from port_db.port_binding above, is # currently not used for DVR distributed ports, and is # replaced here with the DistributedPortBinding instance from # the ml2_distributed_port_bindings table specific to the host # on which the distributed port is being bound. It # would be possible to optimize this code to avoid # fetching the PortBinding instance in the DVR case, # and even to avoid creating the unused entry in the # ml2_port_bindings table. But the upcoming resolution # for bug 1367391 will eliminate the # ml2_distributed_port_bindings table, use the # ml2_port_bindings table to store non-host-specific # fields for both distributed and non-distributed # ports, and introduce a new ml2_port_binding_hosts # table for the fields that need to be host-specific # in the distributed case. Since the PortBinding # instance will then be needed, it does not make sense # to optimize this code to avoid fetching it. cur_binding = db.get_distributed_port_binding_by_host( plugin_context, port_id, orig_binding.host) cur_context = driver_context.PortContext( self, plugin_context, port, network, cur_binding, None, original_port=oport) # Commit our binding results only if port has not been # successfully bound concurrently by another thread or # process and no binding inputs have been changed. commit = ((cur_binding.vif_type in [portbindings.VIF_TYPE_UNBOUND, portbindings.VIF_TYPE_BINDING_FAILED]) and orig_binding.host == cur_binding.host and orig_binding.vnic_type == cur_binding.vnic_type and orig_binding.profile == cur_binding.profile) if commit: # Update the port's binding state with our binding # results. cur_binding.vif_type = new_binding.vif_type cur_binding.vif_details = new_binding.vif_details db.clear_binding_levels(plugin_context, port_id, cur_binding.host) db.set_binding_levels(plugin_context, bind_context._binding_levels) cur_context._binding_levels = bind_context._binding_levels # Update PortContext's port dictionary to reflect the # updated binding state. self._update_port_dict_binding(port, cur_binding) # Update the port status if requested by the bound driver. if (bind_context._binding_levels and bind_context._new_port_status): port_db.status = bind_context._new_port_status port['status'] = bind_context._new_port_status # Call the mechanism driver precommit methods, commit # the results, and call the postcommit methods. self.mechanism_manager.update_port_precommit(cur_context) if commit: # Continue, using the port state as of the transaction that # just finished, whether that transaction committed new # results or discovered concurrent port state changes. # Also, Trigger notification for successful binding commit. kwargs = { 'context': plugin_context, 'port': port, 'mac_address_updated': False, 'original_port': oport, } registry.notify(resources.PORT, events.AFTER_UPDATE, self, **kwargs) self.mechanism_manager.update_port_postcommit(cur_context) need_notify = True try_again = False else: try_again = True return cur_context, need_notify, try_again def _update_port_dict_binding(self, port, binding): port[portbindings.VNIC_TYPE] = binding.vnic_type port[portbindings.PROFILE] = self._get_profile(binding) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: port[portbindings.HOST_ID] = '' port[portbindings.VIF_TYPE] = portbindings.VIF_TYPE_DISTRIBUTED port[portbindings.VIF_DETAILS] = {} else: port[portbindings.HOST_ID] = binding.host port[portbindings.VIF_TYPE] = binding.vif_type port[portbindings.VIF_DETAILS] = self._get_vif_details(binding) def _get_vif_details(self, binding): if binding.vif_details: try: return jsonutils.loads(binding.vif_details) except Exception: LOG.error(_LE(""Serialized vif_details DB value '%(value)s' "" ""for port %(port)s is invalid""), {'value': binding.vif_details, 'port': binding.port_id}) return {} def _get_profile(self, binding): if binding.profile: try: return jsonutils.loads(binding.profile) except Exception: LOG.error(_LE(""Serialized profile DB value '%(value)s' for "" ""port %(port)s is invalid""), {'value': binding.profile, 'port': binding.port_id}) return {} def _ml2_extend_port_dict_binding(self, port_res, port_db): # None when called during unit tests for other plugins. if port_db.port_binding: self._update_port_dict_binding(port_res, port_db.port_binding) resource_extend.register_funcs( attributes.PORTS, ['_ml2_extend_port_dict_binding']) # ML2's resource extend functions allow extension drivers that extend # attributes for the resources to add those attributes to the result. resource_extend.register_funcs( attributes.NETWORKS, ['_ml2_md_extend_network_dict']) resource_extend.register_funcs( attributes.PORTS, ['_ml2_md_extend_port_dict']) resource_extend.register_funcs( attributes.SUBNETS, ['_ml2_md_extend_subnet_dict']) def _ml2_md_extend_network_dict(self, result, netdb): session = sqlalchemy.inspect(netdb).session self.extension_manager.extend_network_dict(session, netdb, result) def _ml2_md_extend_port_dict(self, result, portdb): session = sqlalchemy.inspect(portdb).session self.extension_manager.extend_port_dict(session, portdb, result) def _ml2_md_extend_subnet_dict(self, result, subnetdb): session = sqlalchemy.inspect(subnetdb).session self.extension_manager.extend_subnet_dict(session, subnetdb, result) # Note - The following hook methods have ""ml2"" in their names so # that they are not called twice during unit tests due to global # registration of hooks in portbindings_db.py used by other # plugins. def _ml2_port_result_filter_hook(self, query, filters): values = filters and filters.get(portbindings.HOST_ID, []) if not values: return query bind_criteria = models.PortBinding.host.in_(values) return query.filter(models_v2.Port.port_binding.has(bind_criteria)) model_query.register_hook( models_v2.Port, ""ml2_port_bindings"", None, None, '_ml2_port_result_filter_hook') def _notify_port_updated(self, mech_context): port = mech_context.current segment = mech_context.bottom_bound_segment if not segment: # REVISIT(rkukura): This should notify agent to unplug port network = mech_context.network.current LOG.debug(""In _notify_port_updated(), no bound segment for "" ""port %(port_id)s on network %(network_id)s"", {'port_id': port['id'], 'network_id': network['id']}) return self.notifier.port_update(mech_context._plugin_context, port, segment[api.NETWORK_TYPE], segment[api.SEGMENTATION_ID], segment[api.PHYSICAL_NETWORK]) def _delete_objects(self, context, resource, objects): delete_op = getattr(self, 'delete_%s' % resource) for obj in objects: try: delete_op(context, obj['result']['id']) except KeyError: LOG.exception(_LE(""Could not find %s to delete.""), resource) except Exception: LOG.exception(_LE(""Could not delete %(res)s %(id)s.""), {'res': resource, 'id': obj['result']['id']}) def _create_bulk_ml2(self, resource, context, request_items): objects = [] collection = ""%ss"" % resource items = request_items[collection] with context.session.begin(subtransactions=True): obj_creator = getattr(self, '_create_%s_db' % resource) for item in items: try: attrs = item[resource] result, mech_context = obj_creator(context, item) objects.append({'mech_context': mech_context, 'result': result, 'attributes': attrs}) except Exception as e: with excutils.save_and_reraise_exception(): utils.attach_exc_details( e, _LE(""An exception occurred while creating "" ""the %(resource)s:%(item)s""), {'resource': resource, 'item': item}) postcommit_op = getattr(self.mechanism_manager, 'create_%s_postcommit' % resource) for obj in objects: try: postcommit_op(obj['mech_context']) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): resource_ids = [res['result']['id'] for res in objects] LOG.exception(_LE(""mechanism_manager.create_%(res)s"" ""_postcommit failed for %(res)s: "" ""'%(failed_id)s'. Deleting "" ""%(res)ss %(resource_ids)s""), {'res': resource, 'failed_id': obj['result']['id'], 'resource_ids': ', '.join(resource_ids)}) self._delete_objects(context, resource, objects) return objects def _get_network_mtu(self, network): mtus = [] try: segments = network[mpnet.SEGMENTS] except KeyError: segments = [network] for s in segments: segment_type = s[provider.NETWORK_TYPE] try: type_driver = self.type_manager.drivers[segment_type].obj except KeyError: # NOTE(ihrachys) This can happen when type driver is not loaded # for an existing segment, or simply when the network has no # segments at the specific time this is computed. # In the former case, while it's probably an indication of # a bad setup, it's better to be safe than sorry here. Also, # several unit tests use non-existent driver types that may # trigger the exception here. if segment_type and s[provider.SEGMENTATION_ID]: LOG.warning( _LW(""Failed to determine MTU for segment "" ""%(segment_type)s:%(segment_id)s; network "" ""%(network_id)s MTU calculation may be not "" ""accurate""), { 'segment_type': segment_type, 'segment_id': s[provider.SEGMENTATION_ID], 'network_id': network['id'], } ) else: mtu = type_driver.get_mtu(s[provider.PHYSICAL_NETWORK]) # Some drivers, like 'local', may return None; the assumption # then is that for the segment type, MTU has no meaning or # unlimited, and so we should then ignore those values. if mtu: mtus.append(mtu) return min(mtus) if mtus else 0 def _create_network_db(self, context, network): net_data = network[attributes.NETWORK] tenant_id = net_data['tenant_id'] session = context.session with session.begin(subtransactions=True): net_db = self.create_network_db(context, network) result = self._make_network_dict(net_db, process_extensions=False, context=context) self.extension_manager.process_create_network(context, net_data, result) self._process_l3_create(context, result, net_data) net_data['id'] = result['id'] self.type_manager.create_network_segments(context, net_data, tenant_id) self.type_manager.extend_network_dict_provider(context, result) # Update the transparent vlan if configured if utils.is_extension_supported(self, 'vlan-transparent'): vlt = vlantransparent.get_vlan_transparent(net_data) net_db['vlan_transparent'] = vlt result['vlan_transparent'] = vlt mech_context = driver_context.NetworkContext(self, context, result) self.mechanism_manager.create_network_precommit(mech_context) result[api.MTU] = self._get_network_mtu(result) if az_ext.AZ_HINTS in net_data: self.validate_availability_zones(context, 'network', net_data[az_ext.AZ_HINTS]) az_hints = az_ext.convert_az_list_to_string( net_data[az_ext.AZ_HINTS]) net_db[az_ext.AZ_HINTS] = az_hints result[az_ext.AZ_HINTS] = az_hints self._apply_dict_extend_functions('networks', result, net_db) return result, mech_context @utils.transaction_guard @db_api.retry_if_session_inactive() def create_network(self, context, network): self._ensure_default_security_group(context, network['network']['tenant_id']) result, mech_context = self._create_network_db(context, network) kwargs = {'context': context, 'network': result} registry.notify(resources.NETWORK, events.AFTER_CREATE, self, **kwargs) try: self.mechanism_manager.create_network_postcommit(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager.create_network_postcommit "" ""failed, deleting network '%s'""), result['id']) self.delete_network(context, result['id']) return result @utils.transaction_guard @db_api.retry_if_session_inactive() def create_network_bulk(self, context, networks): tenants = {n['network']['tenant_id'] for n in networks['networks']} map(lambda t: self._ensure_default_security_group(context, t), tenants) objects = self._create_bulk_ml2(attributes.NETWORK, context, networks) return [obj['result'] for obj in objects] @utils.transaction_guard @db_api.retry_if_session_inactive() def update_network(self, context, id, network): net_data = network[attributes.NETWORK] provider._raise_if_updates_provider_attributes(net_data) session = context.session with session.begin(subtransactions=True): original_network = super(Ml2Plugin, self).get_network(context, id) updated_network = super(Ml2Plugin, self).update_network(context, id, network) self.extension_manager.process_update_network(context, net_data, updated_network) self._process_l3_update(context, updated_network, net_data) self.type_manager.extend_network_dict_provider(context, updated_network) updated_network = self.get_network(context, id) kwargs = {'context': context, 'network': updated_network, 'original_network': original_network} registry.notify( resources.NETWORK, events.PRECOMMIT_UPDATE, self, **kwargs) # TODO(QoS): Move out to the extension framework somehow. need_network_update_notify = ( qos_consts.QOS_POLICY_ID in net_data and original_network[qos_consts.QOS_POLICY_ID] != updated_network[qos_consts.QOS_POLICY_ID]) mech_context = driver_context.NetworkContext( self, context, updated_network, original_network=original_network) self.mechanism_manager.update_network_precommit(mech_context) # TODO(apech) - handle errors raised by update_network, potentially # by re-calling update_network with the previous attributes. For # now the error is propagated to the caller, which is expected to # either undo/retry the operation or delete the resource. kwargs = {'context': context, 'network': updated_network, 'original_network': original_network} registry.notify(resources.NETWORK, events.AFTER_UPDATE, self, **kwargs) self.mechanism_manager.update_network_postcommit(mech_context) if need_network_update_notify: self.notifier.network_update(context, updated_network) return updated_network @db_api.retry_if_session_inactive() def get_network(self, context, id, fields=None): session = context.session with session.begin(subtransactions=True): result = super(Ml2Plugin, self).get_network(context, id, None) self.type_manager.extend_network_dict_provider(context, result) result[api.MTU] = self._get_network_mtu(result) return db_utils.resource_fields(result, fields) @db_api.retry_if_session_inactive() def get_networks(self, context, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): session = context.session with session.begin(subtransactions=True): nets = super(Ml2Plugin, self).get_networks(context, filters, None, sorts, limit, marker, page_reverse) self.type_manager.extend_networks_dict_provider(context, nets) nets = self._filter_nets_provider(context, nets, filters) for net in nets: net[api.MTU] = self._get_network_mtu(net) return [db_utils.resource_fields(net, fields) for net in nets] @utils.transaction_guard def delete_network(self, context, id): # the only purpose of this override is to protect this from being # called inside of a transaction. return super(Ml2Plugin, self).delete_network(context, id) @registry.receives(resources.NETWORK, [events.PRECOMMIT_DELETE]) def _network_delete_precommit_handler(self, rtype, event, trigger, context, network_id, **kwargs): network = self.get_network(context, network_id) mech_context = driver_context.NetworkContext(self, context, network) # TODO(kevinbenton): move this mech context into something like # a 'delete context' so it's not polluting the real context object setattr(context, '_mech_context', mech_context) self.mechanism_manager.delete_network_precommit( mech_context) registry.notify(resources.SEGMENT, events.DELETE, self, context=context, network_id=network_id) @registry.receives(resources.NETWORK, [events.AFTER_DELETE]) def _network_delete_after_delete_handler(self, rtype, event, trigger, context, network, **kwargs): try: self.mechanism_manager.delete_network_postcommit( context._mech_context) except ml2_exc.MechanismDriverError: # TODO(apech) - One or more mechanism driver failed to # delete the network. Ideally we'd notify the caller of # the fact that an error occurred. LOG.error(_LE(""mechanism_manager.delete_network_postcommit"" "" failed"")) self.notifier.network_delete(context, network['id']) def _create_subnet_db(self, context, subnet): session = context.session with session.begin(subtransactions=True): result, net_db, ipam_sub = self._create_subnet_precommit( context, subnet) self.extension_manager.process_create_subnet( context, subnet[attributes.SUBNET], result) network = self._make_network_dict(net_db, context=context) self.type_manager.extend_network_dict_provider(context, network) network[api.MTU] = self._get_network_mtu(network) mech_context = driver_context.SubnetContext(self, context, result, network) self.mechanism_manager.create_subnet_precommit(mech_context) # db base plugin post commit ops self._create_subnet_postcommit(context, result, net_db, ipam_sub) return result, mech_context @utils.transaction_guard @db_api.retry_if_session_inactive() def create_subnet(self, context, subnet): result, mech_context = self._create_subnet_db(context, subnet) kwargs = {'context': context, 'subnet': result} registry.notify(resources.SUBNET, events.AFTER_CREATE, self, **kwargs) try: self.mechanism_manager.create_subnet_postcommit(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager.create_subnet_postcommit "" ""failed, deleting subnet '%s'""), result['id']) self.delete_subnet(context, result['id']) return result @utils.transaction_guard @db_api.retry_if_session_inactive() def create_subnet_bulk(self, context, subnets): objects = self._create_bulk_ml2(attributes.SUBNET, context, subnets) return [obj['result'] for obj in objects] @utils.transaction_guard @db_api.retry_if_session_inactive() def update_subnet(self, context, id, subnet): session = context.session with session.begin(subtransactions=True): original_subnet = self.get_subnet(context, id) updated_subnet = self._update_subnet_precommit( context, id, subnet) self.extension_manager.process_update_subnet( context, subnet[attributes.SUBNET], updated_subnet) updated_subnet = self.get_subnet(context, id) mech_context = driver_context.SubnetContext( self, context, updated_subnet, network=None, original_subnet=original_subnet) self.mechanism_manager.update_subnet_precommit(mech_context) self._update_subnet_postcommit(context, original_subnet, updated_subnet) # TODO(apech) - handle errors raised by update_subnet, potentially # by re-calling update_subnet with the previous attributes. For # now the error is propagated to the caller, which is expected to # either undo/retry the operation or delete the resource. kwargs = {'context': context, 'subnet': updated_subnet, 'original_subnet': original_subnet} registry.notify(resources.SUBNET, events.AFTER_UPDATE, self, **kwargs) self.mechanism_manager.update_subnet_postcommit(mech_context) return updated_subnet @utils.transaction_guard def delete_subnet(self, context, id): # the only purpose of this override is to protect this from being # called inside of a transaction. return super(Ml2Plugin, self).delete_subnet(context, id) @registry.receives(resources.SUBNET, [events.PRECOMMIT_DELETE]) def _subnet_delete_precommit_handler(self, rtype, event, trigger, context, subnet_id, **kwargs): record = self._get_subnet(context, subnet_id) subnet = self._make_subnet_dict(record, context=context) network = self.get_network(context, subnet['network_id']) mech_context = driver_context.SubnetContext(self, context, subnet, network) # TODO(kevinbenton): move this mech context into something like # a 'delete context' so it's not polluting the real context object setattr(context, '_mech_context', mech_context) self.mechanism_manager.delete_subnet_precommit(mech_context) @registry.receives(resources.SUBNET, [events.AFTER_DELETE]) def _subnet_delete_after_delete_handler(self, rtype, event, trigger, context, subnet, **kwargs): try: self.mechanism_manager.delete_subnet_postcommit( context._mech_context) except ml2_exc.MechanismDriverError: # TODO(apech) - One or more mechanism driver failed to # delete the subnet. Ideally we'd notify the caller of # the fact that an error occurred. LOG.error(_LE(""mechanism_manager.delete_subnet_postcommit failed"")) # TODO(yalei) - will be simplified after security group and address pair be # converted to ext driver too. def _portsec_ext_port_create_processing(self, context, port_data, port): attrs = port[attributes.PORT] port_security = ((port_data.get(psec.PORTSECURITY) is None) or port_data[psec.PORTSECURITY]) # allowed address pair checks if self._check_update_has_allowed_address_pairs(port): if not port_security: raise addr_pair.AddressPairAndPortSecurityRequired() else: # remove ATTR_NOT_SPECIFIED attrs[addr_pair.ADDRESS_PAIRS] = [] if port_security: self._ensure_default_security_group_on_port(context, port) elif self._check_update_has_security_groups(port): raise psec.PortSecurityAndIPRequiredForSecurityGroups() def _setup_dhcp_agent_provisioning_component(self, context, port): subnet_ids = [f['subnet_id'] for f in port['fixed_ips']] if (db.is_dhcp_active_on_any_subnet(context, subnet_ids) and any(self.get_configuration_dict(a).get('notifies_port_ready') for a in self.get_dhcp_agents_hosting_networks( context, [port['network_id']]))): # at least one of the agents will tell us when the dhcp config # is ready so we setup a provisioning component to prevent the # port from going ACTIVE until a dhcp_ready_on_port # notification is received. provisioning_blocks.add_provisioning_component( context, port['id'], resources.PORT, provisioning_blocks.DHCP_ENTITY) else: provisioning_blocks.remove_provisioning_component( context, port['id'], resources.PORT, provisioning_blocks.DHCP_ENTITY) def _create_port_db(self, context, port): attrs = port[attributes.PORT] if not attrs.get('status'): attrs['status'] = const.PORT_STATUS_DOWN # NOTE(kevinbenton): triggered outside of transaction since it # emits 'AFTER' events if it creates. self._ensure_default_security_group(context, attrs['tenant_id']) session = context.session with session.begin(subtransactions=True): dhcp_opts = attrs.get(edo_ext.EXTRADHCPOPTS, []) port_db = self.create_port_db(context, port) result = self._make_port_dict(port_db, process_extensions=False) self.extension_manager.process_create_port(context, attrs, result) self._portsec_ext_port_create_processing(context, result, port) # sgids must be got after portsec checked with security group sgids = self._get_security_groups_on_port(context, port) self._process_port_create_security_group(context, result, sgids) network = self.get_network(context, result['network_id']) binding = db.add_port_binding(context, result['id']) mech_context = driver_context.PortContext(self, context, result, network, binding, None) self._process_port_binding(mech_context, attrs) result[addr_pair.ADDRESS_PAIRS] = ( self._process_create_allowed_address_pairs( context, result, attrs.get(addr_pair.ADDRESS_PAIRS))) self._process_port_create_extra_dhcp_opts(context, result, dhcp_opts) kwargs = {'context': context, 'port': result} registry.notify( resources.PORT, events.PRECOMMIT_CREATE, self, **kwargs) self.mechanism_manager.create_port_precommit(mech_context) self._setup_dhcp_agent_provisioning_component(context, result) self._apply_dict_extend_functions('ports', result, port_db) return result, mech_context @utils.transaction_guard @db_api.retry_if_session_inactive() def create_port(self, context, port): result, mech_context = self._create_port_db(context, port) # notify any plugin that is interested in port create events kwargs = {'context': context, 'port': result} registry.notify(resources.PORT, events.AFTER_CREATE, self, **kwargs) try: self.mechanism_manager.create_port_postcommit(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager.create_port_postcommit "" ""failed, deleting port '%s'""), result['id']) self.delete_port(context, result['id'], l3_port_check=False) # REVISIT(rkukura): Is there any point in calling this before # a binding has been successfully established? self.notify_security_groups_member_updated(context, result) try: bound_context = self._bind_port_if_needed(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""_bind_port_if_needed "" ""failed, deleting port '%s'""), result['id']) self.delete_port(context, result['id'], l3_port_check=False) return bound_context.current @utils.transaction_guard @db_api.retry_if_session_inactive() def create_port_bulk(self, context, ports): objects = self._create_bulk_ml2(attributes.PORT, context, ports) # REVISIT(rkukura): Is there any point in calling this before # a binding has been successfully established? results = [obj['result'] for obj in objects] self.notify_security_groups_member_updated_bulk(context, results) for obj in objects: attrs = obj['attributes'] if attrs and attrs.get(portbindings.HOST_ID): kwargs = {'context': context, 'port': obj['result']} registry.notify( resources.PORT, events.AFTER_CREATE, self, **kwargs) try: for obj in objects: obj['bound_context'] = self._bind_port_if_needed( obj['mech_context']) return [obj['bound_context'].current for obj in objects] except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): resource_ids = [res['result']['id'] for res in objects] LOG.error(_LE(""_bind_port_if_needed failed. "" ""Deleting all ports from create bulk '%s'""), resource_ids) self._delete_objects(context, attributes.PORT, objects) # TODO(yalei) - will be simplified after security group and address pair be # converted to ext driver too. def _portsec_ext_port_update_processing(self, updated_port, context, port, id): port_security = ((updated_port.get(psec.PORTSECURITY) is None) or updated_port[psec.PORTSECURITY]) if port_security: return # check the address-pairs if self._check_update_has_allowed_address_pairs(port): # has address pairs in request raise addr_pair.AddressPairAndPortSecurityRequired() elif (not self._check_update_deletes_allowed_address_pairs(port)): # not a request for deleting the address-pairs updated_port[addr_pair.ADDRESS_PAIRS] = ( self.get_allowed_address_pairs(context, id)) # check if address pairs has been in db, if address pairs could # be put in extension driver, we can refine here. if updated_port[addr_pair.ADDRESS_PAIRS]: raise addr_pair.AddressPairAndPortSecurityRequired() # checks if security groups were updated adding/modifying # security groups, port security is set if self._check_update_has_security_groups(port): raise psec.PortSecurityAndIPRequiredForSecurityGroups() elif (not self._check_update_deletes_security_groups(port)): # Update did not have security groups passed in. Check # that port does not have any security groups already on it. filters = {'port_id': [id]} security_groups = ( super(Ml2Plugin, self)._get_port_security_group_bindings( context, filters) ) if security_groups: raise psec.PortSecurityPortHasSecurityGroup() @utils.transaction_guard @db_api.retry_if_session_inactive() def update_port(self, context, id, port): attrs = port[attributes.PORT] need_port_update_notify = False session = context.session bound_mech_contexts = [] with session.begin(subtransactions=True): port_db = self._get_port(context, id) binding = port_db.port_binding if not binding: raise exc.PortNotFound(port_id=id) mac_address_updated = self._check_mac_update_allowed( port_db, attrs, binding) need_port_update_notify |= mac_address_updated original_port = self._make_port_dict(port_db) updated_port = super(Ml2Plugin, self).update_port(context, id, port) self.extension_manager.process_update_port(context, attrs, updated_port) self._portsec_ext_port_update_processing(updated_port, context, port, id) if (psec.PORTSECURITY in attrs) and ( original_port[psec.PORTSECURITY] != updated_port[psec.PORTSECURITY]): need_port_update_notify = True # TODO(QoS): Move out to the extension framework somehow. # Follow https://review.openstack.org/#/c/169223 for a solution. if (qos_consts.QOS_POLICY_ID in attrs and original_port[qos_consts.QOS_POLICY_ID] != updated_port[qos_consts.QOS_POLICY_ID]): need_port_update_notify = True if addr_pair.ADDRESS_PAIRS in attrs: need_port_update_notify |= ( self.update_address_pairs_on_port(context, id, port, original_port, updated_port)) need_port_update_notify |= self.update_security_group_on_port( context, id, port, original_port, updated_port) network = self.get_network(context, original_port['network_id']) need_port_update_notify |= self._update_extra_dhcp_opts_on_port( context, id, port, updated_port) levels = db.get_binding_levels(context, id, binding.host) # one of the operations above may have altered the model call # _make_port_dict again to ensure latest state is reflected so mech # drivers, callback handlers, and the API caller see latest state. # We expire here to reflect changed relationships on the obj. # Repeatable read will ensure we still get the state from this # transaction in spite of concurrent updates/deletes. context.session.expire(port_db) updated_port.update(self._make_port_dict(port_db)) mech_context = driver_context.PortContext( self, context, updated_port, network, binding, levels, original_port=original_port) need_port_update_notify |= self._process_port_binding( mech_context, attrs) kwargs = { 'context': context, 'port': updated_port, 'original_port': original_port, } registry.notify( resources.PORT, events.PRECOMMIT_UPDATE, self, **kwargs) # For DVR router interface ports we need to retrieve the # DVRPortbinding context instead of the normal port context. # The normal Portbinding context does not have the status # of the ports that are required by the l2pop to process the # postcommit events. # NOTE:Sometimes during the update_port call, the DVR router # interface port may not have the port binding, so we cannot # create a generic bindinglist that will address both the # DVR and non-DVR cases here. # TODO(Swami): This code need to be revisited. if port_db['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: dist_binding_list = db.get_distributed_port_bindings(context, id) for dist_binding in dist_binding_list: levels = db.get_binding_levels(context, id, dist_binding.host) dist_mech_context = driver_context.PortContext( self, context, updated_port, network, dist_binding, levels, original_port=original_port) self.mechanism_manager.update_port_precommit( dist_mech_context) bound_mech_contexts.append(dist_mech_context) else: self.mechanism_manager.update_port_precommit(mech_context) self._setup_dhcp_agent_provisioning_component( context, updated_port) bound_mech_contexts.append(mech_context) # Notifications must be sent after the above transaction is complete kwargs = { 'context': context, 'port': updated_port, 'mac_address_updated': mac_address_updated, 'original_port': original_port, } registry.notify(resources.PORT, events.AFTER_UPDATE, self, **kwargs) # Note that DVR Interface ports will have bindings on # multiple hosts, and so will have multiple mech_contexts, # while other ports typically have just one. # Since bound_mech_contexts has both the DVR and non-DVR # contexts we can manage just with a single for loop. try: for mech_context in bound_mech_contexts: self.mechanism_manager.update_port_postcommit( mech_context) except ml2_exc.MechanismDriverError: LOG.error(_LE(""mechanism_manager.update_port_postcommit "" ""failed for port %s""), id) self.check_and_notify_security_group_member_changed( context, original_port, updated_port) need_port_update_notify |= self.is_security_group_member_updated( context, original_port, updated_port) if original_port['admin_state_up'] != updated_port['admin_state_up']: need_port_update_notify = True # NOTE: In the case of DVR ports, the port-binding is done after # router scheduling when sync_routers is called and so this call # below may not be required for DVR routed interfaces. But still # since we don't have the mech_context for the DVR router interfaces # at certain times, we just pass the port-context and return it, so # that we don't disturb other methods that are expecting a return # value. bound_context = self._bind_port_if_needed( mech_context, allow_notify=True, need_notify=need_port_update_notify) return bound_context.current def _process_distributed_port_binding(self, mech_context, context, attrs): plugin_context = mech_context._plugin_context binding = mech_context._binding port = mech_context.current port_id = port['id'] if binding.vif_type != portbindings.VIF_TYPE_UNBOUND: binding.vif_details = '' binding.vif_type = portbindings.VIF_TYPE_UNBOUND if binding.host: db.clear_binding_levels(plugin_context, port_id, binding.host) binding.host = '' self._update_port_dict_binding(port, binding) binding.host = attrs and attrs.get(portbindings.HOST_ID) binding.router_id = attrs and attrs.get('device_id') @utils.transaction_guard @db_api.retry_if_session_inactive() def update_distributed_port_binding(self, context, id, port): attrs = port[attributes.PORT] host = attrs and attrs.get(portbindings.HOST_ID) host_set = validators.is_attr_set(host) if not host_set: LOG.error(_LE(""No Host supplied to bind DVR Port %s""), id) return session = context.session binding = db.get_distributed_port_binding_by_host(context, id, host) device_id = attrs and attrs.get('device_id') router_id = binding and binding.get('router_id') update_required = (not binding or binding.vif_type == portbindings.VIF_TYPE_BINDING_FAILED or router_id != device_id) if update_required: try: with session.begin(subtransactions=True): orig_port = self.get_port(context, id) if not binding: binding = db.ensure_distributed_port_binding( context, id, host, router_id=device_id) network = self.get_network(context, orig_port['network_id']) levels = db.get_binding_levels(context, id, host) mech_context = driver_context.PortContext(self, context, orig_port, network, binding, levels, original_port=orig_port) self._process_distributed_port_binding( mech_context, context, attrs) except (os_db_exception.DBReferenceError, exc.PortNotFound): LOG.debug(""DVR Port %s has been deleted concurrently"", id) return self._bind_port_if_needed(mech_context) def _pre_delete_port(self, context, port_id, port_check): """"""Do some preliminary operations before deleting the port."""""" LOG.debug(""Deleting port %s"", port_id) try: # notify interested parties of imminent port deletion; # a failure here prevents the operation from happening kwargs = { 'context': context, 'port_id': port_id, 'port_check': port_check } registry.notify( resources.PORT, events.BEFORE_DELETE, self, **kwargs) except exceptions.CallbackFailure as e: # NOTE(armax): preserve old check's behavior if len(e.errors) == 1: raise e.errors[0].error raise exc.ServicePortInUse(port_id=port_id, reason=e) @utils.transaction_guard @db_api.retry_if_session_inactive() def delete_port(self, context, id, l3_port_check=True): self._pre_delete_port(context, id, l3_port_check) # TODO(armax): get rid of the l3 dependency in the with block router_ids = [] l3plugin = directory.get_plugin(const.L3) session = context.session with session.begin(subtransactions=True): try: port_db = self._get_port(context, id) binding = port_db.port_binding except exc.PortNotFound: LOG.debug(""The port '%s' was deleted"", id) return port = self._make_port_dict(port_db) network = self.get_network(context, port['network_id']) bound_mech_contexts = [] device_owner = port['device_owner'] if device_owner == const.DEVICE_OWNER_DVR_INTERFACE: bindings = db.get_distributed_port_bindings(context, id) for bind in bindings: levels = db.get_binding_levels(context, id, bind.host) mech_context = driver_context.PortContext( self, context, port, network, bind, levels) self.mechanism_manager.delete_port_precommit(mech_context) bound_mech_contexts.append(mech_context) else: levels = db.get_binding_levels(context, id, binding.host) mech_context = driver_context.PortContext( self, context, port, network, binding, levels) self.mechanism_manager.delete_port_precommit(mech_context) bound_mech_contexts.append(mech_context) if l3plugin: router_ids = l3plugin.disassociate_floatingips( context, id, do_notify=False) LOG.debug(""Calling delete_port for %(port_id)s owned by %(owner)s"", {""port_id"": id, ""owner"": device_owner}) super(Ml2Plugin, self).delete_port(context, id) self._post_delete_port( context, port, router_ids, bound_mech_contexts) def _post_delete_port( self, context, port, router_ids, bound_mech_contexts): kwargs = { 'context': context, 'port': port, 'router_ids': router_ids, } registry.notify(resources.PORT, events.AFTER_DELETE, self, **kwargs) try: # Note that DVR Interface ports will have bindings on # multiple hosts, and so will have multiple mech_contexts, # while other ports typically have just one. for mech_context in bound_mech_contexts: self.mechanism_manager.delete_port_postcommit(mech_context) except ml2_exc.MechanismDriverError: # TODO(apech) - One or more mechanism driver failed to # delete the port. Ideally we'd notify the caller of the # fact that an error occurred. LOG.error(_LE(""mechanism_manager.delete_port_postcommit failed for"" "" port %s""), port['id']) self.notifier.port_delete(context, port['id']) self.notify_security_groups_member_updated(context, port) @utils.transaction_guard @db_api.retry_if_session_inactive(context_var_name='plugin_context') def get_bound_port_context(self, plugin_context, port_id, host=None, cached_networks=None): session = plugin_context.session with session.begin(subtransactions=True): try: port_db = (session.query(models_v2.Port). enable_eagerloads(False). filter(models_v2.Port.id.startswith(port_id)). one()) except sa_exc.NoResultFound: LOG.info(_LI(""No ports have port_id starting with %s""), port_id) return except sa_exc.MultipleResultsFound: LOG.error(_LE(""Multiple ports have port_id starting with %s""), port_id) return port = self._make_port_dict(port_db) network = (cached_networks or {}).get(port['network_id']) if not network: network = self.get_network(plugin_context, port['network_id']) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: binding = db.get_distributed_port_binding_by_host( plugin_context, port['id'], host) if not binding: LOG.error(_LE(""Binding info for DVR port %s not found""), port_id) return None levels = db.get_binding_levels(plugin_context, port_db.id, host) port_context = driver_context.PortContext( self, plugin_context, port, network, binding, levels) else: # since eager loads are disabled in port_db query # related attribute port_binding could disappear in # concurrent port deletion. # It's not an error condition. binding = port_db.port_binding if not binding: LOG.info(_LI(""Binding info for port %s was not found, "" ""it might have been deleted already.""), port_id) return levels = db.get_binding_levels(plugin_context, port_db.id, port_db.port_binding.host) port_context = driver_context.PortContext( self, plugin_context, port, network, binding, levels) return self._bind_port_if_needed(port_context) @utils.transaction_guard @db_api.retry_if_session_inactive() def update_port_status(self, context, port_id, status, host=None, network=None): """""" Returns port_id (non-truncated uuid) if the port exists. Otherwise returns None. network can be passed in to avoid another get_network call if one was already performed by the caller. """""" updated = False session = context.session with session.begin(subtransactions=True): port = db.get_port(context, port_id) if not port: LOG.debug(""Port %(port)s update to %(val)s by agent not found"", {'port': port_id, 'val': status}) return None if (port.status != status and port['device_owner'] != const.DEVICE_OWNER_DVR_INTERFACE): original_port = self._make_port_dict(port) port.status = status # explicit flush before _make_port_dict to ensure extensions # listening for db events can modify the port if necessary context.session.flush() updated_port = self._make_port_dict(port) levels = db.get_binding_levels(context, port.id, port.port_binding.host) mech_context = driver_context.PortContext( self, context, updated_port, network, port.port_binding, levels, original_port=original_port) self.mechanism_manager.update_port_precommit(mech_context) updated = True elif port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: binding = db.get_distributed_port_binding_by_host( context, port['id'], host) if not binding: return binding['status'] = status binding.update(binding) updated = True if (updated and port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE): with session.begin(subtransactions=True): port = db.get_port(context, port_id) if not port: LOG.warning(_LW(""Port %s not found during update""), port_id) return original_port = self._make_port_dict(port) network = network or self.get_network( context, original_port['network_id']) port.status = db.generate_distributed_port_status(context, port['id']) updated_port = self._make_port_dict(port) levels = db.get_binding_levels(context, port_id, host) mech_context = (driver_context.PortContext( self, context, updated_port, network, binding, levels, original_port=original_port)) self.mechanism_manager.update_port_precommit(mech_context) if updated: self.mechanism_manager.update_port_postcommit(mech_context) kwargs = {'context': context, 'port': mech_context.current, 'original_port': original_port} if status == const.PORT_STATUS_ACTIVE: # NOTE(kevinbenton): this kwarg was carried over from # the RPC handler that used to call this. it's not clear # who uses it so maybe it can be removed. added in commit # 3f3874717c07e2b469ea6c6fd52bcb4da7b380c7 kwargs['update_device_up'] = True registry.notify(resources.PORT, events.AFTER_UPDATE, self, **kwargs) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: db.delete_distributed_port_binding_if_stale(context, binding) return port['id'] @db_api.retry_if_session_inactive() def port_bound_to_host(self, context, port_id, host): if not host: return port = db.get_port(context, port_id) if not port: LOG.debug(""No Port match for: %s"", port_id) return if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: bindings = db.get_distributed_port_bindings(context, port_id) for b in bindings: if b.host == host: return port LOG.debug(""No binding found for DVR port %s"", port['id']) return else: port_host = db.get_port_binding_host(context, port_id) return port if (port_host == host) else None @db_api.retry_if_session_inactive() def get_ports_from_devices(self, context, devices): port_ids_to_devices = dict( (self._device_to_port_id(context, device), device) for device in devices) port_ids = list(port_ids_to_devices.keys()) ports = db.get_ports_and_sgs(context, port_ids) for port in ports: # map back to original requested id port_id = next((port_id for port_id in port_ids if port['id'].startswith(port_id)), None) port['device'] = port_ids_to_devices.get(port_id) return ports @staticmethod def _device_to_port_id(context, device): # REVISIT(rkukura): Consider calling into MechanismDrivers to # process device names, or having MechanismDrivers supply list # of device prefixes to strip. for prefix in n_const.INTERFACE_PREFIXES: if device.startswith(prefix): return device[len(prefix):] # REVISIT(irenab): Consider calling into bound MD to # handle the get_device_details RPC if not uuidutils.is_uuid_like(device): port = db.get_port_from_device_mac(context, device) if port: return port.id return device def filter_hosts_with_network_access( self, context, network_id, candidate_hosts): segments = segments_db.get_network_segments(context, network_id) return self.mechanism_manager.filter_hosts_with_segment_access( context, segments, candidate_hosts, self.get_agents) def check_segment_for_agent(self, segment, agent): for mech_driver in self.mechanism_manager.ordered_mech_drivers: driver_agent_type = getattr(mech_driver.obj, 'agent_type', None) if driver_agent_type and driver_agent_type == agent['agent_type']: if mech_driver.obj.check_segment_for_agent(segment, agent): return True return False @registry.receives(resources.SEGMENT, (events.PRECOMMIT_CREATE, events.PRECOMMIT_DELETE, events.AFTER_CREATE, events.AFTER_DELETE)) def _handle_segment_change(self, rtype, event, trigger, context, segment): if (event == events.PRECOMMIT_CREATE and not isinstance(trigger, segments_plugin.Plugin)): # TODO(xiaohhui): Now, when create network, ml2 will reserve # segment and trigger this event handler. This event handler # will reserve segment again, which will lead to error as the # segment has already been reserved. This check could be removed # by unifying segment creation procedure. return network_id = segment.get('network_id') if event == events.PRECOMMIT_CREATE: updated_segment = self.type_manager.reserve_network_segment( context, segment) # The segmentation id might be from ML2 type driver, update it # in the original segment. segment[api.SEGMENTATION_ID] = updated_segment[api.SEGMENTATION_ID] elif event == events.PRECOMMIT_DELETE: self.type_manager.release_network_segment(context, segment) try: self._notify_mechanism_driver_for_segment_change( event, context, network_id) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager error occurred when "" ""handle event %(event)s for segment "" ""'%(segment)s'""), {'event': event, 'segment': segment['id']}) def _notify_mechanism_driver_for_segment_change(self, event, context, network_id): network_with_segments = self.get_network(context, network_id) mech_context = driver_context.NetworkContext( self, context, network_with_segments, original_network=network_with_segments) if (event == events.PRECOMMIT_CREATE or event == events.PRECOMMIT_DELETE): self.mechanism_manager.update_network_precommit(mech_context) elif event == events.AFTER_CREATE or event == events.AFTER_DELETE: self.mechanism_manager.update_network_postcommit(mech_context) ","# Copyright (c) 2013 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from eventlet import greenthread from neutron_lib.api import validators from neutron_lib import constants as const from neutron_lib import exceptions as exc from neutron_lib.plugins import directory from oslo_config import cfg from oslo_db import exception as os_db_exception from oslo_log import helpers as log_helpers from oslo_log import log from oslo_serialization import jsonutils from oslo_utils import excutils from oslo_utils import importutils from oslo_utils import uuidutils import sqlalchemy from sqlalchemy.orm import exc as sa_exc from neutron._i18n import _, _LE, _LI, _LW from neutron.agent import securitygroups_rpc as sg_rpc from neutron.api.rpc.agentnotifiers import dhcp_rpc_agent_api from neutron.api.rpc.handlers import dhcp_rpc from neutron.api.rpc.handlers import dvr_rpc from neutron.api.rpc.handlers import metadata_rpc from neutron.api.rpc.handlers import resources_rpc from neutron.api.rpc.handlers import securitygroups_rpc from neutron.api.v2 import attributes from neutron.callbacks import events from neutron.callbacks import exceptions from neutron.callbacks import registry from neutron.callbacks import resources from neutron.common import constants as n_const from neutron.common import rpc as n_rpc from neutron.common import topics from neutron.common import utils from neutron.db import _model_query as model_query from neutron.db import _resource_extend as resource_extend from neutron.db import _utils as db_utils from neutron.db import address_scope_db from neutron.db import agents_db from neutron.db import agentschedulers_db from neutron.db import allowedaddresspairs_db as addr_pair_db from neutron.db import api as db_api from neutron.db import db_base_plugin_v2 from neutron.db import dvr_mac_db from neutron.db import external_net_db from neutron.db import extradhcpopt_db from neutron.db.models import securitygroup as sg_models from neutron.db import models_v2 from neutron.db import provisioning_blocks from neutron.db.quota import driver # noqa from neutron.db import securitygroups_rpc_base as sg_db_rpc from neutron.db import segments_db from neutron.db import subnet_service_type_db_models as service_type_db from neutron.db import vlantransparent_db from neutron.extensions import allowedaddresspairs as addr_pair from neutron.extensions import availability_zone as az_ext from neutron.extensions import extra_dhcp_opt as edo_ext from neutron.extensions import multiprovidernet as mpnet from neutron.extensions import portbindings from neutron.extensions import portsecurity as psec from neutron.extensions import providernet as provider from neutron.extensions import vlantransparent from neutron.plugins.ml2.common import exceptions as ml2_exc from neutron.plugins.ml2 import config # noqa from neutron.plugins.ml2 import db from neutron.plugins.ml2 import driver_api as api from neutron.plugins.ml2 import driver_context from neutron.plugins.ml2.extensions import qos as qos_ext from neutron.plugins.ml2 import managers from neutron.plugins.ml2 import models from neutron.plugins.ml2 import ovo_rpc from neutron.plugins.ml2 import rpc from neutron.quota import resource_registry from neutron.services.qos import qos_consts from neutron.services.segments import plugin as segments_plugin LOG = log.getLogger(__name__) MAX_BIND_TRIES = 10 SERVICE_PLUGINS_REQUIRED_DRIVERS = { 'qos': [qos_ext.QOS_EXT_DRIVER_ALIAS] } @registry.has_registry_receivers class Ml2Plugin(db_base_plugin_v2.NeutronDbPluginV2, dvr_mac_db.DVRDbMixin, external_net_db.External_net_db_mixin, sg_db_rpc.SecurityGroupServerRpcMixin, agentschedulers_db.AZDhcpAgentSchedulerDbMixin, addr_pair_db.AllowedAddressPairsMixin, vlantransparent_db.Vlantransparent_db_mixin, extradhcpopt_db.ExtraDhcpOptMixin, address_scope_db.AddressScopeDbMixin, service_type_db.SubnetServiceTypeMixin): """"""Implement the Neutron L2 abstractions using modules. Ml2Plugin is a Neutron plugin based on separately extensible sets of network types and mechanisms for connecting to networks of those types. The network types and mechanisms are implemented as drivers loaded via Python entry points. Networks can be made up of multiple segments (not yet fully implemented). """""" # This attribute specifies whether the plugin supports or not # bulk/pagination/sorting operations. Name mangling is used in # order to ensure it is qualified by class __native_bulk_support = True __native_pagination_support = True __native_sorting_support = True # List of supported extensions _supported_extension_aliases = [""provider"", ""external-net"", ""binding"", ""quotas"", ""security-group"", ""agent"", ""dhcp_agent_scheduler"", ""multi-provider"", ""allowed-address-pairs"", ""extra_dhcp_opt"", ""subnet_allocation"", ""net-mtu"", ""vlan-transparent"", ""address-scope"", ""availability_zone"", ""network_availability_zone"", ""default-subnetpools"", ""subnet-service-types""] @property def supported_extension_aliases(self): if not hasattr(self, '_aliases'): aliases = self._supported_extension_aliases[:] aliases += self.extension_manager.extension_aliases() sg_rpc.disable_security_group_extension_by_config(aliases) vlantransparent.disable_extension_by_config(aliases) self._aliases = aliases return self._aliases @resource_registry.tracked_resources( network=models_v2.Network, port=models_v2.Port, subnet=models_v2.Subnet, subnetpool=models_v2.SubnetPool, security_group=sg_models.SecurityGroup, security_group_rule=sg_models.SecurityGroupRule) def __init__(self): # First load drivers, then initialize DB, then initialize drivers self.type_manager = managers.TypeManager() self.extension_manager = managers.ExtensionManager() self.mechanism_manager = managers.MechanismManager() super(Ml2Plugin, self).__init__() self.type_manager.initialize() self.extension_manager.initialize() self.mechanism_manager.initialize() self._setup_dhcp() self._start_rpc_notifiers() self.add_agent_status_check_worker(self.agent_health_check) self.add_workers(self.mechanism_manager.get_workers()) self._verify_service_plugins_requirements() LOG.info(_LI(""Modular L2 Plugin initialization complete"")) def _setup_rpc(self): """"""Initialize components to support agent communication."""""" self.endpoints = [ rpc.RpcCallbacks(self.notifier, self.type_manager), securitygroups_rpc.SecurityGroupServerRpcCallback(), dvr_rpc.DVRServerRpcCallback(), dhcp_rpc.DhcpRpcCallback(), agents_db.AgentExtRpcCallback(), metadata_rpc.MetadataRpcCallback(), resources_rpc.ResourcesPullRpcCallback() ] def _setup_dhcp(self): """"""Initialize components to support DHCP."""""" self.network_scheduler = importutils.import_object( cfg.CONF.network_scheduler_driver ) self.add_periodic_dhcp_agent_status_check() def _verify_service_plugins_requirements(self): for service_plugin in cfg.CONF.service_plugins: extension_drivers = SERVICE_PLUGINS_REQUIRED_DRIVERS.get( service_plugin, [] ) for extension_driver in extension_drivers: if extension_driver not in self.extension_manager.names(): raise ml2_exc.ExtensionDriverNotFound( driver=extension_driver, service_plugin=service_plugin ) @registry.receives(resources.PORT, [provisioning_blocks.PROVISIONING_COMPLETE]) def _port_provisioned(self, rtype, event, trigger, context, object_id, **kwargs): port_id = object_id port = db.get_port(context, port_id) if not port or not port.port_binding: LOG.debug(""Port %s was deleted so its status cannot be updated."", port_id) return if port.port_binding.vif_type in (portbindings.VIF_TYPE_BINDING_FAILED, portbindings.VIF_TYPE_UNBOUND): # NOTE(kevinbenton): we hit here when a port is created without # a host ID and the dhcp agent notifies that its wiring is done LOG.debug(""Port %s cannot update to ACTIVE because it "" ""is not bound."", port_id) return else: # port is bound, but we have to check for new provisioning blocks # one last time to detect the case where we were triggered by an # unbound port and the port became bound with new provisioning # blocks before 'get_port' was called above if provisioning_blocks.is_object_blocked(context, port_id, resources.PORT): LOG.debug(""Port %s had new provisioning blocks added so it "" ""will not transition to active."", port_id) return self.update_port_status(context, port_id, const.PORT_STATUS_ACTIVE) @log_helpers.log_method_call def _start_rpc_notifiers(self): """"""Initialize RPC notifiers for agents."""""" self.ovo_notifier = ovo_rpc.OVOServerRpcInterface() self.notifier = rpc.AgentNotifierApi(topics.AGENT) self.agent_notifiers[const.AGENT_TYPE_DHCP] = ( dhcp_rpc_agent_api.DhcpAgentNotifyAPI() ) @log_helpers.log_method_call def start_rpc_listeners(self): """"""Start the RPC loop to let the plugin communicate with agents."""""" self._setup_rpc() self.topic = topics.PLUGIN self.conn = n_rpc.create_connection() self.conn.create_consumer(self.topic, self.endpoints, fanout=False) self.conn.create_consumer( topics.SERVER_RESOURCE_VERSIONS, [resources_rpc.ResourcesPushToServerRpcCallback()], fanout=True) # process state reports despite dedicated rpc workers self.conn.create_consumer(topics.REPORTS, [agents_db.AgentExtRpcCallback()], fanout=False) return self.conn.consume_in_threads() def start_rpc_state_reports_listener(self): self.conn_reports = n_rpc.create_connection() self.conn_reports.create_consumer(topics.REPORTS, [agents_db.AgentExtRpcCallback()], fanout=False) return self.conn_reports.consume_in_threads() def _filter_nets_provider(self, context, networks, filters): return [network for network in networks if self.type_manager.network_matches_filters(network, filters) ] def _check_mac_update_allowed(self, orig_port, port, binding): unplugged_types = (portbindings.VIF_TYPE_BINDING_FAILED, portbindings.VIF_TYPE_UNBOUND) new_mac = port.get('mac_address') mac_change = (new_mac is not None and orig_port['mac_address'] != new_mac) if (mac_change and binding.vif_type not in unplugged_types): raise exc.PortBound(port_id=orig_port['id'], vif_type=binding.vif_type, old_mac=orig_port['mac_address'], new_mac=port['mac_address']) return mac_change def _process_port_binding(self, mech_context, attrs): plugin_context = mech_context._plugin_context binding = mech_context._binding port = mech_context.current port_id = port['id'] changes = False host = const.ATTR_NOT_SPECIFIED if attrs and portbindings.HOST_ID in attrs: host = attrs.get(portbindings.HOST_ID) or '' original_host = binding.host if (validators.is_attr_set(host) and original_host != host): binding.host = host changes = True vnic_type = attrs and attrs.get(portbindings.VNIC_TYPE) if (validators.is_attr_set(vnic_type) and binding.vnic_type != vnic_type): binding.vnic_type = vnic_type changes = True # treat None as clear of profile. profile = None if attrs and portbindings.PROFILE in attrs: profile = attrs.get(portbindings.PROFILE) or {} if profile not in (None, const.ATTR_NOT_SPECIFIED, self._get_profile(binding)): binding.profile = jsonutils.dumps(profile) if len(binding.profile) > models.BINDING_PROFILE_LEN: msg = _(""binding:profile value too large"") raise exc.InvalidInput(error_message=msg) changes = True # Unbind the port if needed. if changes: binding.vif_type = portbindings.VIF_TYPE_UNBOUND binding.vif_details = '' db.clear_binding_levels(plugin_context, port_id, original_host) mech_context._clear_binding_levels() port['status'] = const.PORT_STATUS_DOWN super(Ml2Plugin, self).update_port( mech_context._plugin_context, port_id, {attributes.PORT: {'status': const.PORT_STATUS_DOWN}}) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: binding.vif_type = portbindings.VIF_TYPE_UNBOUND binding.vif_details = '' db.clear_binding_levels(plugin_context, port_id, original_host) mech_context._clear_binding_levels() binding.host = '' self._update_port_dict_binding(port, binding) return changes @db_api.retry_db_errors def _bind_port_if_needed(self, context, allow_notify=False, need_notify=False): for count in range(1, MAX_BIND_TRIES + 1): if count > 1: # yield for binding retries so that we give other threads a # chance to do their work greenthread.sleep(0) # multiple attempts shouldn't happen very often so we log each # attempt after the 1st. LOG.info(_LI(""Attempt %(count)s to bind port %(port)s""), {'count': count, 'port': context.current['id']}) bind_context, need_notify, try_again = self._attempt_binding( context, need_notify) if count == MAX_BIND_TRIES or not try_again: if self._should_bind_port(context): # At this point, we attempted to bind a port and reached # its final binding state. Binding either succeeded or # exhausted all attempts, thus no need to try again. # Now, the port and its binding state should be committed. context, need_notify, try_again = ( self._commit_port_binding(context, bind_context, need_notify, try_again)) else: context = bind_context if not try_again: if allow_notify and need_notify: self._notify_port_updated(context) return context LOG.error(_LE(""Failed to commit binding results for %(port)s "" ""after %(max)s tries""), {'port': context.current['id'], 'max': MAX_BIND_TRIES}) return context def _should_bind_port(self, context): return (context._binding.host and context._binding.vif_type in (portbindings.VIF_TYPE_UNBOUND, portbindings.VIF_TYPE_BINDING_FAILED)) def _attempt_binding(self, context, need_notify): try_again = False if self._should_bind_port(context): bind_context = self._bind_port(context) if bind_context.vif_type != portbindings.VIF_TYPE_BINDING_FAILED: # Binding succeeded. Suggest notifying of successful binding. need_notify = True else: # Current attempt binding failed, try to bind again. try_again = True context = bind_context return context, need_notify, try_again def _bind_port(self, orig_context): # Construct a new PortContext from the one from the previous # transaction. port = orig_context.current orig_binding = orig_context._binding new_binding = models.PortBinding( host=orig_binding.host, vnic_type=orig_binding.vnic_type, profile=orig_binding.profile, vif_type=portbindings.VIF_TYPE_UNBOUND, vif_details='' ) self._update_port_dict_binding(port, new_binding) new_context = driver_context.PortContext( self, orig_context._plugin_context, port, orig_context.network.current, new_binding, None, original_port=orig_context.original) # Attempt to bind the port and return the context with the # result. self.mechanism_manager.bind_port(new_context) return new_context def _commit_port_binding(self, orig_context, bind_context, need_notify, try_again): port_id = orig_context.current['id'] plugin_context = orig_context._plugin_context orig_binding = orig_context._binding new_binding = bind_context._binding # After we've attempted to bind the port, we begin a # transaction, get the current port state, and decide whether # to commit the binding results. with plugin_context.session.begin(subtransactions=True): # Get the current port state and build a new PortContext # reflecting this state as original state for subsequent # mechanism driver update_port_*commit() calls. try: port_db = self._get_port(plugin_context, port_id) cur_binding = port_db.port_binding except exc.PortNotFound: port_db, cur_binding = None, None if not port_db or not cur_binding: # The port has been deleted concurrently, so just # return the unbound result from the initial # transaction that completed before the deletion. LOG.debug(""Port %s has been deleted concurrently"", port_id) return orig_context, False, False # Since the mechanism driver bind_port() calls must be made # outside a DB transaction locking the port state, it is # possible (but unlikely) that the port's state could change # concurrently while these calls are being made. If another # thread or process succeeds in binding the port before this # thread commits its results, the already committed results are # used. If attributes such as binding:host_id, binding:profile, # or binding:vnic_type are updated concurrently, the try_again # flag is returned to indicate that the commit was unsuccessful. oport = self._make_port_dict(port_db) port = self._make_port_dict(port_db) network = bind_context.network.current if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: # REVISIT(rkukura): The PortBinding instance from the # ml2_port_bindings table, returned as cur_binding # from port_db.port_binding above, is # currently not used for DVR distributed ports, and is # replaced here with the DistributedPortBinding instance from # the ml2_distributed_port_bindings table specific to the host # on which the distributed port is being bound. It # would be possible to optimize this code to avoid # fetching the PortBinding instance in the DVR case, # and even to avoid creating the unused entry in the # ml2_port_bindings table. But the upcoming resolution # for bug 1367391 will eliminate the # ml2_distributed_port_bindings table, use the # ml2_port_bindings table to store non-host-specific # fields for both distributed and non-distributed # ports, and introduce a new ml2_port_binding_hosts # table for the fields that need to be host-specific # in the distributed case. Since the PortBinding # instance will then be needed, it does not make sense # to optimize this code to avoid fetching it. cur_binding = db.get_distributed_port_binding_by_host( plugin_context, port_id, orig_binding.host) cur_context = driver_context.PortContext( self, plugin_context, port, network, cur_binding, None, original_port=oport) # Commit our binding results only if port has not been # successfully bound concurrently by another thread or # process and no binding inputs have been changed. commit = ((cur_binding.vif_type in [portbindings.VIF_TYPE_UNBOUND, portbindings.VIF_TYPE_BINDING_FAILED]) and orig_binding.host == cur_binding.host and orig_binding.vnic_type == cur_binding.vnic_type and orig_binding.profile == cur_binding.profile) if commit: # Update the port's binding state with our binding # results. cur_binding.vif_type = new_binding.vif_type cur_binding.vif_details = new_binding.vif_details db.clear_binding_levels(plugin_context, port_id, cur_binding.host) db.set_binding_levels(plugin_context, bind_context._binding_levels) cur_context._binding_levels = bind_context._binding_levels # Update PortContext's port dictionary to reflect the # updated binding state. self._update_port_dict_binding(port, cur_binding) # Update the port status if requested by the bound driver. if (bind_context._binding_levels and bind_context._new_port_status): port_db.status = bind_context._new_port_status port['status'] = bind_context._new_port_status # Call the mechanism driver precommit methods, commit # the results, and call the postcommit methods. self.mechanism_manager.update_port_precommit(cur_context) if commit: # Continue, using the port state as of the transaction that # just finished, whether that transaction committed new # results or discovered concurrent port state changes. # Also, Trigger notification for successful binding commit. kwargs = { 'context': plugin_context, 'port': port, 'mac_address_updated': False, 'original_port': oport, } registry.notify(resources.PORT, events.AFTER_UPDATE, self, **kwargs) self.mechanism_manager.update_port_postcommit(cur_context) need_notify = True try_again = False else: try_again = True return cur_context, need_notify, try_again def _update_port_dict_binding(self, port, binding): port[portbindings.VNIC_TYPE] = binding.vnic_type port[portbindings.PROFILE] = self._get_profile(binding) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: port[portbindings.HOST_ID] = '' port[portbindings.VIF_TYPE] = portbindings.VIF_TYPE_DISTRIBUTED port[portbindings.VIF_DETAILS] = {} else: port[portbindings.HOST_ID] = binding.host port[portbindings.VIF_TYPE] = binding.vif_type port[portbindings.VIF_DETAILS] = self._get_vif_details(binding) def _get_vif_details(self, binding): if binding.vif_details: try: return jsonutils.loads(binding.vif_details) except Exception: LOG.error(_LE(""Serialized vif_details DB value '%(value)s' "" ""for port %(port)s is invalid""), {'value': binding.vif_details, 'port': binding.port_id}) return {} def _get_profile(self, binding): if binding.profile: try: return jsonutils.loads(binding.profile) except Exception: LOG.error(_LE(""Serialized profile DB value '%(value)s' for "" ""port %(port)s is invalid""), {'value': binding.profile, 'port': binding.port_id}) return {} def _ml2_extend_port_dict_binding(self, port_res, port_db): # None when called during unit tests for other plugins. if port_db.port_binding: self._update_port_dict_binding(port_res, port_db.port_binding) resource_extend.register_funcs( attributes.PORTS, ['_ml2_extend_port_dict_binding']) # ML2's resource extend functions allow extension drivers that extend # attributes for the resources to add those attributes to the result. resource_extend.register_funcs( attributes.NETWORKS, ['_ml2_md_extend_network_dict']) resource_extend.register_funcs( attributes.PORTS, ['_ml2_md_extend_port_dict']) resource_extend.register_funcs( attributes.SUBNETS, ['_ml2_md_extend_subnet_dict']) def _ml2_md_extend_network_dict(self, result, netdb): session = sqlalchemy.inspect(netdb).session self.extension_manager.extend_network_dict(session, netdb, result) def _ml2_md_extend_port_dict(self, result, portdb): session = sqlalchemy.inspect(portdb).session self.extension_manager.extend_port_dict(session, portdb, result) def _ml2_md_extend_subnet_dict(self, result, subnetdb): session = sqlalchemy.inspect(subnetdb).session self.extension_manager.extend_subnet_dict(session, subnetdb, result) # Note - The following hook methods have ""ml2"" in their names so # that they are not called twice during unit tests due to global # registration of hooks in portbindings_db.py used by other # plugins. def _ml2_port_result_filter_hook(self, query, filters): values = filters and filters.get(portbindings.HOST_ID, []) if not values: return query bind_criteria = models.PortBinding.host.in_(values) return query.filter(models_v2.Port.port_binding.has(bind_criteria)) model_query.register_hook( models_v2.Port, ""ml2_port_bindings"", None, None, '_ml2_port_result_filter_hook') def _notify_port_updated(self, mech_context): port = mech_context.current segment = mech_context.bottom_bound_segment if not segment: # REVISIT(rkukura): This should notify agent to unplug port network = mech_context.network.current LOG.debug(""In _notify_port_updated(), no bound segment for "" ""port %(port_id)s on network %(network_id)s"", {'port_id': port['id'], 'network_id': network['id']}) return self.notifier.port_update(mech_context._plugin_context, port, segment[api.NETWORK_TYPE], segment[api.SEGMENTATION_ID], segment[api.PHYSICAL_NETWORK]) def _delete_objects(self, context, resource, objects): delete_op = getattr(self, 'delete_%s' % resource) for obj in objects: try: delete_op(context, obj['result']['id']) except KeyError: LOG.exception(_LE(""Could not find %s to delete.""), resource) except Exception: LOG.exception(_LE(""Could not delete %(res)s %(id)s.""), {'res': resource, 'id': obj['result']['id']}) def _create_bulk_ml2(self, resource, context, request_items): objects = [] collection = ""%ss"" % resource items = request_items[collection] with context.session.begin(subtransactions=True): obj_creator = getattr(self, '_create_%s_db' % resource) for item in items: try: attrs = item[resource] result, mech_context = obj_creator(context, item) objects.append({'mech_context': mech_context, 'result': result, 'attributes': attrs}) except Exception as e: with excutils.save_and_reraise_exception(): utils.attach_exc_details( e, _LE(""An exception occurred while creating "" ""the %(resource)s:%(item)s""), {'resource': resource, 'item': item}) postcommit_op = getattr(self.mechanism_manager, 'create_%s_postcommit' % resource) for obj in objects: try: postcommit_op(obj['mech_context']) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): resource_ids = [res['result']['id'] for res in objects] LOG.exception(_LE(""mechanism_manager.create_%(res)s"" ""_postcommit failed for %(res)s: "" ""'%(failed_id)s'. Deleting "" ""%(res)ss %(resource_ids)s""), {'res': resource, 'failed_id': obj['result']['id'], 'resource_ids': ', '.join(resource_ids)}) self._delete_objects(context, resource, objects) return objects def _get_network_mtu(self, network): mtus = [] try: segments = network[mpnet.SEGMENTS] except KeyError: segments = [network] for s in segments: segment_type = s[provider.NETWORK_TYPE] try: type_driver = self.type_manager.drivers[segment_type].obj except KeyError: # NOTE(ihrachys) This can happen when type driver is not loaded # for an existing segment, or simply when the network has no # segments at the specific time this is computed. # In the former case, while it's probably an indication of # a bad setup, it's better to be safe than sorry here. Also, # several unit tests use non-existent driver types that may # trigger the exception here. if segment_type and s[provider.SEGMENTATION_ID]: LOG.warning( _LW(""Failed to determine MTU for segment "" ""%(segment_type)s:%(segment_id)s; network "" ""%(network_id)s MTU calculation may be not "" ""accurate""), { 'segment_type': segment_type, 'segment_id': s[provider.SEGMENTATION_ID], 'network_id': network['id'], } ) else: mtu = type_driver.get_mtu(s[provider.PHYSICAL_NETWORK]) # Some drivers, like 'local', may return None; the assumption # then is that for the segment type, MTU has no meaning or # unlimited, and so we should then ignore those values. if mtu: mtus.append(mtu) return min(mtus) if mtus else 0 def _create_network_db(self, context, network): net_data = network[attributes.NETWORK] tenant_id = net_data['tenant_id'] session = context.session with session.begin(subtransactions=True): net_db = self.create_network_db(context, network) result = self._make_network_dict(net_db, process_extensions=False, context=context) self.extension_manager.process_create_network(context, net_data, result) self._process_l3_create(context, result, net_data) net_data['id'] = result['id'] self.type_manager.create_network_segments(context, net_data, tenant_id) self.type_manager.extend_network_dict_provider(context, result) # Update the transparent vlan if configured if utils.is_extension_supported(self, 'vlan-transparent'): vlt = vlantransparent.get_vlan_transparent(net_data) net_db['vlan_transparent'] = vlt result['vlan_transparent'] = vlt mech_context = driver_context.NetworkContext(self, context, result) self.mechanism_manager.create_network_precommit(mech_context) result[api.MTU] = self._get_network_mtu(result) if az_ext.AZ_HINTS in net_data: self.validate_availability_zones(context, 'network', net_data[az_ext.AZ_HINTS]) az_hints = az_ext.convert_az_list_to_string( net_data[az_ext.AZ_HINTS]) net_db[az_ext.AZ_HINTS] = az_hints result[az_ext.AZ_HINTS] = az_hints self._apply_dict_extend_functions('networks', result, net_db) return result, mech_context @utils.transaction_guard @db_api.retry_if_session_inactive() def create_network(self, context, network): self._ensure_default_security_group(context, network['network']['tenant_id']) result, mech_context = self._create_network_db(context, network) kwargs = {'context': context, 'network': result} registry.notify(resources.NETWORK, events.AFTER_CREATE, self, **kwargs) try: self.mechanism_manager.create_network_postcommit(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager.create_network_postcommit "" ""failed, deleting network '%s'""), result['id']) self.delete_network(context, result['id']) return result @utils.transaction_guard @db_api.retry_if_session_inactive() def create_network_bulk(self, context, networks): tenants = {n['network']['tenant_id'] for n in networks['networks']} map(lambda t: self._ensure_default_security_group(context, t), tenants) objects = self._create_bulk_ml2(attributes.NETWORK, context, networks) return [obj['result'] for obj in objects] @utils.transaction_guard @db_api.retry_if_session_inactive() def update_network(self, context, id, network): net_data = network[attributes.NETWORK] provider._raise_if_updates_provider_attributes(net_data) session = context.session with session.begin(subtransactions=True): original_network = super(Ml2Plugin, self).get_network(context, id) updated_network = super(Ml2Plugin, self).update_network(context, id, network) self.extension_manager.process_update_network(context, net_data, updated_network) self._process_l3_update(context, updated_network, net_data) self.type_manager.extend_network_dict_provider(context, updated_network) updated_network = self.get_network(context, id) kwargs = {'context': context, 'network': updated_network, 'original_network': original_network} registry.notify( resources.NETWORK, events.PRECOMMIT_UPDATE, self, **kwargs) # TODO(QoS): Move out to the extension framework somehow. need_network_update_notify = ( qos_consts.QOS_POLICY_ID in net_data and original_network[qos_consts.QOS_POLICY_ID] != updated_network[qos_consts.QOS_POLICY_ID]) mech_context = driver_context.NetworkContext( self, context, updated_network, original_network=original_network) self.mechanism_manager.update_network_precommit(mech_context) # TODO(apech) - handle errors raised by update_network, potentially # by re-calling update_network with the previous attributes. For # now the error is propagated to the caller, which is expected to # either undo/retry the operation or delete the resource. kwargs = {'context': context, 'network': updated_network, 'original_network': original_network} registry.notify(resources.NETWORK, events.AFTER_UPDATE, self, **kwargs) self.mechanism_manager.update_network_postcommit(mech_context) if need_network_update_notify: self.notifier.network_update(context, updated_network) return updated_network @db_api.retry_if_session_inactive() def get_network(self, context, id, fields=None): session = context.session with session.begin(subtransactions=True): result = super(Ml2Plugin, self).get_network(context, id, None) self.type_manager.extend_network_dict_provider(context, result) result[api.MTU] = self._get_network_mtu(result) return db_utils.resource_fields(result, fields) @db_api.retry_if_session_inactive() def get_networks(self, context, filters=None, fields=None, sorts=None, limit=None, marker=None, page_reverse=False): session = context.session with session.begin(subtransactions=True): nets = super(Ml2Plugin, self).get_networks(context, filters, None, sorts, limit, marker, page_reverse) self.type_manager.extend_networks_dict_provider(context, nets) nets = self._filter_nets_provider(context, nets, filters) for net in nets: net[api.MTU] = self._get_network_mtu(net) return [db_utils.resource_fields(net, fields) for net in nets] @utils.transaction_guard def delete_network(self, context, id): # the only purpose of this override is to protect this from being # called inside of a transaction. return super(Ml2Plugin, self).delete_network(context, id) @registry.receives(resources.NETWORK, [events.PRECOMMIT_DELETE]) def _network_delete_precommit_handler(self, rtype, event, trigger, context, network_id, **kwargs): network = self.get_network(context, network_id) mech_context = driver_context.NetworkContext(self, context, network) # TODO(kevinbenton): move this mech context into something like # a 'delete context' so it's not polluting the real context object setattr(context, '_mech_context', mech_context) self.mechanism_manager.delete_network_precommit( mech_context) @registry.receives(resources.NETWORK, [events.AFTER_DELETE]) def _network_delete_after_delete_handler(self, rtype, event, trigger, context, network, **kwargs): try: self.mechanism_manager.delete_network_postcommit( context._mech_context) except ml2_exc.MechanismDriverError: # TODO(apech) - One or more mechanism driver failed to # delete the network. Ideally we'd notify the caller of # the fact that an error occurred. LOG.error(_LE(""mechanism_manager.delete_network_postcommit"" "" failed"")) self.notifier.network_delete(context, network['id']) def _create_subnet_db(self, context, subnet): session = context.session with session.begin(subtransactions=True): result, net_db, ipam_sub = self._create_subnet_precommit( context, subnet) self.extension_manager.process_create_subnet( context, subnet[attributes.SUBNET], result) network = self._make_network_dict(net_db, context=context) self.type_manager.extend_network_dict_provider(context, network) network[api.MTU] = self._get_network_mtu(network) mech_context = driver_context.SubnetContext(self, context, result, network) self.mechanism_manager.create_subnet_precommit(mech_context) # db base plugin post commit ops self._create_subnet_postcommit(context, result, net_db, ipam_sub) return result, mech_context @utils.transaction_guard @db_api.retry_if_session_inactive() def create_subnet(self, context, subnet): result, mech_context = self._create_subnet_db(context, subnet) kwargs = {'context': context, 'subnet': result} registry.notify(resources.SUBNET, events.AFTER_CREATE, self, **kwargs) try: self.mechanism_manager.create_subnet_postcommit(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager.create_subnet_postcommit "" ""failed, deleting subnet '%s'""), result['id']) self.delete_subnet(context, result['id']) return result @utils.transaction_guard @db_api.retry_if_session_inactive() def create_subnet_bulk(self, context, subnets): objects = self._create_bulk_ml2(attributes.SUBNET, context, subnets) return [obj['result'] for obj in objects] @utils.transaction_guard @db_api.retry_if_session_inactive() def update_subnet(self, context, id, subnet): session = context.session with session.begin(subtransactions=True): original_subnet = self.get_subnet(context, id) updated_subnet = self._update_subnet_precommit( context, id, subnet) self.extension_manager.process_update_subnet( context, subnet[attributes.SUBNET], updated_subnet) updated_subnet = self.get_subnet(context, id) mech_context = driver_context.SubnetContext( self, context, updated_subnet, network=None, original_subnet=original_subnet) self.mechanism_manager.update_subnet_precommit(mech_context) self._update_subnet_postcommit(context, original_subnet, updated_subnet) # TODO(apech) - handle errors raised by update_subnet, potentially # by re-calling update_subnet with the previous attributes. For # now the error is propagated to the caller, which is expected to # either undo/retry the operation or delete the resource. kwargs = {'context': context, 'subnet': updated_subnet, 'original_subnet': original_subnet} registry.notify(resources.SUBNET, events.AFTER_UPDATE, self, **kwargs) self.mechanism_manager.update_subnet_postcommit(mech_context) return updated_subnet @utils.transaction_guard def delete_subnet(self, context, id): # the only purpose of this override is to protect this from being # called inside of a transaction. return super(Ml2Plugin, self).delete_subnet(context, id) @registry.receives(resources.SUBNET, [events.PRECOMMIT_DELETE]) def _subnet_delete_precommit_handler(self, rtype, event, trigger, context, subnet_id, **kwargs): record = self._get_subnet(context, subnet_id) subnet = self._make_subnet_dict(record, context=context) network = self.get_network(context, subnet['network_id']) mech_context = driver_context.SubnetContext(self, context, subnet, network) # TODO(kevinbenton): move this mech context into something like # a 'delete context' so it's not polluting the real context object setattr(context, '_mech_context', mech_context) self.mechanism_manager.delete_subnet_precommit(mech_context) @registry.receives(resources.SUBNET, [events.AFTER_DELETE]) def _subnet_delete_after_delete_handler(self, rtype, event, trigger, context, subnet, **kwargs): try: self.mechanism_manager.delete_subnet_postcommit( context._mech_context) except ml2_exc.MechanismDriverError: # TODO(apech) - One or more mechanism driver failed to # delete the subnet. Ideally we'd notify the caller of # the fact that an error occurred. LOG.error(_LE(""mechanism_manager.delete_subnet_postcommit failed"")) # TODO(yalei) - will be simplified after security group and address pair be # converted to ext driver too. def _portsec_ext_port_create_processing(self, context, port_data, port): attrs = port[attributes.PORT] port_security = ((port_data.get(psec.PORTSECURITY) is None) or port_data[psec.PORTSECURITY]) # allowed address pair checks if self._check_update_has_allowed_address_pairs(port): if not port_security: raise addr_pair.AddressPairAndPortSecurityRequired() else: # remove ATTR_NOT_SPECIFIED attrs[addr_pair.ADDRESS_PAIRS] = [] if port_security: self._ensure_default_security_group_on_port(context, port) elif self._check_update_has_security_groups(port): raise psec.PortSecurityAndIPRequiredForSecurityGroups() def _setup_dhcp_agent_provisioning_component(self, context, port): subnet_ids = [f['subnet_id'] for f in port['fixed_ips']] if (db.is_dhcp_active_on_any_subnet(context, subnet_ids) and any(self.get_configuration_dict(a).get('notifies_port_ready') for a in self.get_dhcp_agents_hosting_networks( context, [port['network_id']]))): # at least one of the agents will tell us when the dhcp config # is ready so we setup a provisioning component to prevent the # port from going ACTIVE until a dhcp_ready_on_port # notification is received. provisioning_blocks.add_provisioning_component( context, port['id'], resources.PORT, provisioning_blocks.DHCP_ENTITY) else: provisioning_blocks.remove_provisioning_component( context, port['id'], resources.PORT, provisioning_blocks.DHCP_ENTITY) def _create_port_db(self, context, port): attrs = port[attributes.PORT] if not attrs.get('status'): attrs['status'] = const.PORT_STATUS_DOWN # NOTE(kevinbenton): triggered outside of transaction since it # emits 'AFTER' events if it creates. self._ensure_default_security_group(context, attrs['tenant_id']) session = context.session with session.begin(subtransactions=True): dhcp_opts = attrs.get(edo_ext.EXTRADHCPOPTS, []) port_db = self.create_port_db(context, port) result = self._make_port_dict(port_db, process_extensions=False) self.extension_manager.process_create_port(context, attrs, result) self._portsec_ext_port_create_processing(context, result, port) # sgids must be got after portsec checked with security group sgids = self._get_security_groups_on_port(context, port) self._process_port_create_security_group(context, result, sgids) network = self.get_network(context, result['network_id']) binding = db.add_port_binding(context, result['id']) mech_context = driver_context.PortContext(self, context, result, network, binding, None) self._process_port_binding(mech_context, attrs) result[addr_pair.ADDRESS_PAIRS] = ( self._process_create_allowed_address_pairs( context, result, attrs.get(addr_pair.ADDRESS_PAIRS))) self._process_port_create_extra_dhcp_opts(context, result, dhcp_opts) kwargs = {'context': context, 'port': result} registry.notify( resources.PORT, events.PRECOMMIT_CREATE, self, **kwargs) self.mechanism_manager.create_port_precommit(mech_context) self._setup_dhcp_agent_provisioning_component(context, result) self._apply_dict_extend_functions('ports', result, port_db) return result, mech_context @utils.transaction_guard @db_api.retry_if_session_inactive() def create_port(self, context, port): result, mech_context = self._create_port_db(context, port) # notify any plugin that is interested in port create events kwargs = {'context': context, 'port': result} registry.notify(resources.PORT, events.AFTER_CREATE, self, **kwargs) try: self.mechanism_manager.create_port_postcommit(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager.create_port_postcommit "" ""failed, deleting port '%s'""), result['id']) self.delete_port(context, result['id'], l3_port_check=False) # REVISIT(rkukura): Is there any point in calling this before # a binding has been successfully established? self.notify_security_groups_member_updated(context, result) try: bound_context = self._bind_port_if_needed(mech_context) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""_bind_port_if_needed "" ""failed, deleting port '%s'""), result['id']) self.delete_port(context, result['id'], l3_port_check=False) return bound_context.current @utils.transaction_guard @db_api.retry_if_session_inactive() def create_port_bulk(self, context, ports): objects = self._create_bulk_ml2(attributes.PORT, context, ports) # REVISIT(rkukura): Is there any point in calling this before # a binding has been successfully established? results = [obj['result'] for obj in objects] self.notify_security_groups_member_updated_bulk(context, results) for obj in objects: attrs = obj['attributes'] if attrs and attrs.get(portbindings.HOST_ID): kwargs = {'context': context, 'port': obj['result']} registry.notify( resources.PORT, events.AFTER_CREATE, self, **kwargs) try: for obj in objects: obj['bound_context'] = self._bind_port_if_needed( obj['mech_context']) return [obj['bound_context'].current for obj in objects] except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): resource_ids = [res['result']['id'] for res in objects] LOG.error(_LE(""_bind_port_if_needed failed. "" ""Deleting all ports from create bulk '%s'""), resource_ids) self._delete_objects(context, attributes.PORT, objects) # TODO(yalei) - will be simplified after security group and address pair be # converted to ext driver too. def _portsec_ext_port_update_processing(self, updated_port, context, port, id): port_security = ((updated_port.get(psec.PORTSECURITY) is None) or updated_port[psec.PORTSECURITY]) if port_security: return # check the address-pairs if self._check_update_has_allowed_address_pairs(port): # has address pairs in request raise addr_pair.AddressPairAndPortSecurityRequired() elif (not self._check_update_deletes_allowed_address_pairs(port)): # not a request for deleting the address-pairs updated_port[addr_pair.ADDRESS_PAIRS] = ( self.get_allowed_address_pairs(context, id)) # check if address pairs has been in db, if address pairs could # be put in extension driver, we can refine here. if updated_port[addr_pair.ADDRESS_PAIRS]: raise addr_pair.AddressPairAndPortSecurityRequired() # checks if security groups were updated adding/modifying # security groups, port security is set if self._check_update_has_security_groups(port): raise psec.PortSecurityAndIPRequiredForSecurityGroups() elif (not self._check_update_deletes_security_groups(port)): # Update did not have security groups passed in. Check # that port does not have any security groups already on it. filters = {'port_id': [id]} security_groups = ( super(Ml2Plugin, self)._get_port_security_group_bindings( context, filters) ) if security_groups: raise psec.PortSecurityPortHasSecurityGroup() @utils.transaction_guard @db_api.retry_if_session_inactive() def update_port(self, context, id, port): attrs = port[attributes.PORT] need_port_update_notify = False session = context.session bound_mech_contexts = [] with session.begin(subtransactions=True): port_db = self._get_port(context, id) binding = port_db.port_binding if not binding: raise exc.PortNotFound(port_id=id) mac_address_updated = self._check_mac_update_allowed( port_db, attrs, binding) need_port_update_notify |= mac_address_updated original_port = self._make_port_dict(port_db) updated_port = super(Ml2Plugin, self).update_port(context, id, port) self.extension_manager.process_update_port(context, attrs, updated_port) self._portsec_ext_port_update_processing(updated_port, context, port, id) if (psec.PORTSECURITY in attrs) and ( original_port[psec.PORTSECURITY] != updated_port[psec.PORTSECURITY]): need_port_update_notify = True # TODO(QoS): Move out to the extension framework somehow. # Follow https://review.openstack.org/#/c/169223 for a solution. if (qos_consts.QOS_POLICY_ID in attrs and original_port[qos_consts.QOS_POLICY_ID] != updated_port[qos_consts.QOS_POLICY_ID]): need_port_update_notify = True if addr_pair.ADDRESS_PAIRS in attrs: need_port_update_notify |= ( self.update_address_pairs_on_port(context, id, port, original_port, updated_port)) need_port_update_notify |= self.update_security_group_on_port( context, id, port, original_port, updated_port) network = self.get_network(context, original_port['network_id']) need_port_update_notify |= self._update_extra_dhcp_opts_on_port( context, id, port, updated_port) levels = db.get_binding_levels(context, id, binding.host) # one of the operations above may have altered the model call # _make_port_dict again to ensure latest state is reflected so mech # drivers, callback handlers, and the API caller see latest state. # We expire here to reflect changed relationships on the obj. # Repeatable read will ensure we still get the state from this # transaction in spite of concurrent updates/deletes. context.session.expire(port_db) updated_port.update(self._make_port_dict(port_db)) mech_context = driver_context.PortContext( self, context, updated_port, network, binding, levels, original_port=original_port) need_port_update_notify |= self._process_port_binding( mech_context, attrs) kwargs = { 'context': context, 'port': updated_port, 'original_port': original_port, } registry.notify( resources.PORT, events.PRECOMMIT_UPDATE, self, **kwargs) # For DVR router interface ports we need to retrieve the # DVRPortbinding context instead of the normal port context. # The normal Portbinding context does not have the status # of the ports that are required by the l2pop to process the # postcommit events. # NOTE:Sometimes during the update_port call, the DVR router # interface port may not have the port binding, so we cannot # create a generic bindinglist that will address both the # DVR and non-DVR cases here. # TODO(Swami): This code need to be revisited. if port_db['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: dist_binding_list = db.get_distributed_port_bindings(context, id) for dist_binding in dist_binding_list: levels = db.get_binding_levels(context, id, dist_binding.host) dist_mech_context = driver_context.PortContext( self, context, updated_port, network, dist_binding, levels, original_port=original_port) self.mechanism_manager.update_port_precommit( dist_mech_context) bound_mech_contexts.append(dist_mech_context) else: self.mechanism_manager.update_port_precommit(mech_context) self._setup_dhcp_agent_provisioning_component( context, updated_port) bound_mech_contexts.append(mech_context) # Notifications must be sent after the above transaction is complete kwargs = { 'context': context, 'port': updated_port, 'mac_address_updated': mac_address_updated, 'original_port': original_port, } registry.notify(resources.PORT, events.AFTER_UPDATE, self, **kwargs) # Note that DVR Interface ports will have bindings on # multiple hosts, and so will have multiple mech_contexts, # while other ports typically have just one. # Since bound_mech_contexts has both the DVR and non-DVR # contexts we can manage just with a single for loop. try: for mech_context in bound_mech_contexts: self.mechanism_manager.update_port_postcommit( mech_context) except ml2_exc.MechanismDriverError: LOG.error(_LE(""mechanism_manager.update_port_postcommit "" ""failed for port %s""), id) self.check_and_notify_security_group_member_changed( context, original_port, updated_port) need_port_update_notify |= self.is_security_group_member_updated( context, original_port, updated_port) if original_port['admin_state_up'] != updated_port['admin_state_up']: need_port_update_notify = True # NOTE: In the case of DVR ports, the port-binding is done after # router scheduling when sync_routers is called and so this call # below may not be required for DVR routed interfaces. But still # since we don't have the mech_context for the DVR router interfaces # at certain times, we just pass the port-context and return it, so # that we don't disturb other methods that are expecting a return # value. bound_context = self._bind_port_if_needed( mech_context, allow_notify=True, need_notify=need_port_update_notify) return bound_context.current def _process_distributed_port_binding(self, mech_context, context, attrs): plugin_context = mech_context._plugin_context binding = mech_context._binding port = mech_context.current port_id = port['id'] if binding.vif_type != portbindings.VIF_TYPE_UNBOUND: binding.vif_details = '' binding.vif_type = portbindings.VIF_TYPE_UNBOUND if binding.host: db.clear_binding_levels(plugin_context, port_id, binding.host) binding.host = '' self._update_port_dict_binding(port, binding) binding.host = attrs and attrs.get(portbindings.HOST_ID) binding.router_id = attrs and attrs.get('device_id') @utils.transaction_guard @db_api.retry_if_session_inactive() def update_distributed_port_binding(self, context, id, port): attrs = port[attributes.PORT] host = attrs and attrs.get(portbindings.HOST_ID) host_set = validators.is_attr_set(host) if not host_set: LOG.error(_LE(""No Host supplied to bind DVR Port %s""), id) return session = context.session binding = db.get_distributed_port_binding_by_host(context, id, host) device_id = attrs and attrs.get('device_id') router_id = binding and binding.get('router_id') update_required = (not binding or binding.vif_type == portbindings.VIF_TYPE_BINDING_FAILED or router_id != device_id) if update_required: try: with session.begin(subtransactions=True): orig_port = self.get_port(context, id) if not binding: binding = db.ensure_distributed_port_binding( context, id, host, router_id=device_id) network = self.get_network(context, orig_port['network_id']) levels = db.get_binding_levels(context, id, host) mech_context = driver_context.PortContext(self, context, orig_port, network, binding, levels, original_port=orig_port) self._process_distributed_port_binding( mech_context, context, attrs) except (os_db_exception.DBReferenceError, exc.PortNotFound): LOG.debug(""DVR Port %s has been deleted concurrently"", id) return self._bind_port_if_needed(mech_context) def _pre_delete_port(self, context, port_id, port_check): """"""Do some preliminary operations before deleting the port."""""" LOG.debug(""Deleting port %s"", port_id) try: # notify interested parties of imminent port deletion; # a failure here prevents the operation from happening kwargs = { 'context': context, 'port_id': port_id, 'port_check': port_check } registry.notify( resources.PORT, events.BEFORE_DELETE, self, **kwargs) except exceptions.CallbackFailure as e: # NOTE(armax): preserve old check's behavior if len(e.errors) == 1: raise e.errors[0].error raise exc.ServicePortInUse(port_id=port_id, reason=e) @utils.transaction_guard @db_api.retry_if_session_inactive() def delete_port(self, context, id, l3_port_check=True): self._pre_delete_port(context, id, l3_port_check) # TODO(armax): get rid of the l3 dependency in the with block router_ids = [] l3plugin = directory.get_plugin(const.L3) session = context.session with session.begin(subtransactions=True): try: port_db = self._get_port(context, id) binding = port_db.port_binding except exc.PortNotFound: LOG.debug(""The port '%s' was deleted"", id) return port = self._make_port_dict(port_db) network = self.get_network(context, port['network_id']) bound_mech_contexts = [] device_owner = port['device_owner'] if device_owner == const.DEVICE_OWNER_DVR_INTERFACE: bindings = db.get_distributed_port_bindings(context, id) for bind in bindings: levels = db.get_binding_levels(context, id, bind.host) mech_context = driver_context.PortContext( self, context, port, network, bind, levels) self.mechanism_manager.delete_port_precommit(mech_context) bound_mech_contexts.append(mech_context) else: levels = db.get_binding_levels(context, id, binding.host) mech_context = driver_context.PortContext( self, context, port, network, binding, levels) self.mechanism_manager.delete_port_precommit(mech_context) bound_mech_contexts.append(mech_context) if l3plugin: router_ids = l3plugin.disassociate_floatingips( context, id, do_notify=False) LOG.debug(""Calling delete_port for %(port_id)s owned by %(owner)s"", {""port_id"": id, ""owner"": device_owner}) super(Ml2Plugin, self).delete_port(context, id) self._post_delete_port( context, port, router_ids, bound_mech_contexts) def _post_delete_port( self, context, port, router_ids, bound_mech_contexts): kwargs = { 'context': context, 'port': port, 'router_ids': router_ids, } registry.notify(resources.PORT, events.AFTER_DELETE, self, **kwargs) try: # Note that DVR Interface ports will have bindings on # multiple hosts, and so will have multiple mech_contexts, # while other ports typically have just one. for mech_context in bound_mech_contexts: self.mechanism_manager.delete_port_postcommit(mech_context) except ml2_exc.MechanismDriverError: # TODO(apech) - One or more mechanism driver failed to # delete the port. Ideally we'd notify the caller of the # fact that an error occurred. LOG.error(_LE(""mechanism_manager.delete_port_postcommit failed for"" "" port %s""), port['id']) self.notifier.port_delete(context, port['id']) self.notify_security_groups_member_updated(context, port) @utils.transaction_guard @db_api.retry_if_session_inactive(context_var_name='plugin_context') def get_bound_port_context(self, plugin_context, port_id, host=None, cached_networks=None): session = plugin_context.session with session.begin(subtransactions=True): try: port_db = (session.query(models_v2.Port). enable_eagerloads(False). filter(models_v2.Port.id.startswith(port_id)). one()) except sa_exc.NoResultFound: LOG.info(_LI(""No ports have port_id starting with %s""), port_id) return except sa_exc.MultipleResultsFound: LOG.error(_LE(""Multiple ports have port_id starting with %s""), port_id) return port = self._make_port_dict(port_db) network = (cached_networks or {}).get(port['network_id']) if not network: network = self.get_network(plugin_context, port['network_id']) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: binding = db.get_distributed_port_binding_by_host( plugin_context, port['id'], host) if not binding: LOG.error(_LE(""Binding info for DVR port %s not found""), port_id) return None levels = db.get_binding_levels(plugin_context, port_db.id, host) port_context = driver_context.PortContext( self, plugin_context, port, network, binding, levels) else: # since eager loads are disabled in port_db query # related attribute port_binding could disappear in # concurrent port deletion. # It's not an error condition. binding = port_db.port_binding if not binding: LOG.info(_LI(""Binding info for port %s was not found, "" ""it might have been deleted already.""), port_id) return levels = db.get_binding_levels(plugin_context, port_db.id, port_db.port_binding.host) port_context = driver_context.PortContext( self, plugin_context, port, network, binding, levels) return self._bind_port_if_needed(port_context) @utils.transaction_guard @db_api.retry_if_session_inactive() def update_port_status(self, context, port_id, status, host=None, network=None): """""" Returns port_id (non-truncated uuid) if the port exists. Otherwise returns None. network can be passed in to avoid another get_network call if one was already performed by the caller. """""" updated = False session = context.session with session.begin(subtransactions=True): port = db.get_port(context, port_id) if not port: LOG.debug(""Port %(port)s update to %(val)s by agent not found"", {'port': port_id, 'val': status}) return None if (port.status != status and port['device_owner'] != const.DEVICE_OWNER_DVR_INTERFACE): original_port = self._make_port_dict(port) port.status = status # explicit flush before _make_port_dict to ensure extensions # listening for db events can modify the port if necessary context.session.flush() updated_port = self._make_port_dict(port) levels = db.get_binding_levels(context, port.id, port.port_binding.host) mech_context = driver_context.PortContext( self, context, updated_port, network, port.port_binding, levels, original_port=original_port) self.mechanism_manager.update_port_precommit(mech_context) updated = True elif port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: binding = db.get_distributed_port_binding_by_host( context, port['id'], host) if not binding: return binding['status'] = status binding.update(binding) updated = True if (updated and port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE): with session.begin(subtransactions=True): port = db.get_port(context, port_id) if not port: LOG.warning(_LW(""Port %s not found during update""), port_id) return original_port = self._make_port_dict(port) network = network or self.get_network( context, original_port['network_id']) port.status = db.generate_distributed_port_status(context, port['id']) updated_port = self._make_port_dict(port) levels = db.get_binding_levels(context, port_id, host) mech_context = (driver_context.PortContext( self, context, updated_port, network, binding, levels, original_port=original_port)) self.mechanism_manager.update_port_precommit(mech_context) if updated: self.mechanism_manager.update_port_postcommit(mech_context) kwargs = {'context': context, 'port': mech_context.current, 'original_port': original_port} if status == const.PORT_STATUS_ACTIVE: # NOTE(kevinbenton): this kwarg was carried over from # the RPC handler that used to call this. it's not clear # who uses it so maybe it can be removed. added in commit # 3f3874717c07e2b469ea6c6fd52bcb4da7b380c7 kwargs['update_device_up'] = True registry.notify(resources.PORT, events.AFTER_UPDATE, self, **kwargs) if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: db.delete_distributed_port_binding_if_stale(context, binding) return port['id'] @db_api.retry_if_session_inactive() def port_bound_to_host(self, context, port_id, host): if not host: return port = db.get_port(context, port_id) if not port: LOG.debug(""No Port match for: %s"", port_id) return if port['device_owner'] == const.DEVICE_OWNER_DVR_INTERFACE: bindings = db.get_distributed_port_bindings(context, port_id) for b in bindings: if b.host == host: return port LOG.debug(""No binding found for DVR port %s"", port['id']) return else: port_host = db.get_port_binding_host(context, port_id) return port if (port_host == host) else None @db_api.retry_if_session_inactive() def get_ports_from_devices(self, context, devices): port_ids_to_devices = dict( (self._device_to_port_id(context, device), device) for device in devices) port_ids = list(port_ids_to_devices.keys()) ports = db.get_ports_and_sgs(context, port_ids) for port in ports: # map back to original requested id port_id = next((port_id for port_id in port_ids if port['id'].startswith(port_id)), None) port['device'] = port_ids_to_devices.get(port_id) return ports @staticmethod def _device_to_port_id(context, device): # REVISIT(rkukura): Consider calling into MechanismDrivers to # process device names, or having MechanismDrivers supply list # of device prefixes to strip. for prefix in n_const.INTERFACE_PREFIXES: if device.startswith(prefix): return device[len(prefix):] # REVISIT(irenab): Consider calling into bound MD to # handle the get_device_details RPC if not uuidutils.is_uuid_like(device): port = db.get_port_from_device_mac(context, device) if port: return port.id return device def filter_hosts_with_network_access( self, context, network_id, candidate_hosts): segments = segments_db.get_network_segments(context, network_id) return self.mechanism_manager.filter_hosts_with_segment_access( context, segments, candidate_hosts, self.get_agents) def check_segment_for_agent(self, segment, agent): for mech_driver in self.mechanism_manager.ordered_mech_drivers: driver_agent_type = getattr(mech_driver.obj, 'agent_type', None) if driver_agent_type and driver_agent_type == agent['agent_type']: if mech_driver.obj.check_segment_for_agent(segment, agent): return True return False @registry.receives(resources.SEGMENT, (events.PRECOMMIT_CREATE, events.PRECOMMIT_DELETE, events.AFTER_CREATE, events.AFTER_DELETE)) def _handle_segment_change(self, rtype, event, trigger, context, segment): if (event == events.PRECOMMIT_CREATE and not isinstance(trigger, segments_plugin.Plugin)): # TODO(xiaohhui): Now, when create network, ml2 will reserve # segment and trigger this event handler. This event handler # will reserve segment again, which will lead to error as the # segment has already been reserved. This check could be removed # by unifying segment creation procedure. return network_id = segment.get('network_id') if event == events.PRECOMMIT_CREATE: updated_segment = self.type_manager.reserve_network_segment( context, segment) # The segmentation id might be from ML2 type driver, update it # in the original segment. segment[api.SEGMENTATION_ID] = updated_segment[api.SEGMENTATION_ID] elif event == events.PRECOMMIT_DELETE: self.type_manager.release_network_segment(context, segment) try: self._notify_mechanism_driver_for_segment_change( event, context, network_id) except ml2_exc.MechanismDriverError: with excutils.save_and_reraise_exception(): LOG.error(_LE(""mechanism_manager error occurred when "" ""handle event %(event)s for segment "" ""'%(segment)s'""), {'event': event, 'segment': segment['id']}) def _notify_mechanism_driver_for_segment_change(self, event, context, network_id): network_with_segments = self.get_network(context, network_id) mech_context = driver_context.NetworkContext( self, context, network_with_segments, original_network=network_with_segments) if (event == events.PRECOMMIT_CREATE or event == events.PRECOMMIT_DELETE): self.mechanism_manager.update_network_precommit(mech_context) elif event == events.AFTER_CREATE or event == events.AFTER_DELETE: self.mechanism_manager.update_network_postcommit(mech_context)",2093,2088
openstack%2Fneutron~master~I05e9247e68e274a0d118f48dc1f494405809726e,openstack/neutron,master,I05e9247e68e274a0d118f48dc1f494405809726e,Add gw_port_id in return data when set router gateway port,ABANDONED,2016-07-22 10:22:14.000000000,2017-11-05 11:18:14.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 17776}, {'_account_id': 21511}, {'_account_id': 22016}, {'_account_id': 22524}]","[{'number': 1, 'created': '2016-07-22 10:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbb515b60c1a5bc355c1237ffe658f205354cbd1', 'message': 'Add gw_port_id in return data when set router gateway port\n\nChange-Id: I05e9247e68e274a0d118f48dc1f494405809726e\n'}, {'number': 2, 'created': '2016-08-26 01:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d0878437a03a531fa2c97e161a44296a112b2fd', 'message': 'Add gw_port_id in return data when set router gateway port\n\nThis column is defined in db code, but lost in API extension attributes file.\nneutron/db/l3_db.py\ndef _make_router_dict(self, router, fields=None, process_extensions=True):\n        ...\n        res.update({\n            EXTERNAL_GW_INFO: ext_gw_info,\n            \'gw_port_id\': router[\'gw_port_id\'],\n        })\n        ...\n        return self._fields(res, fields)\n\nThis method defines that return date should have column ""gw_port_id"".\nBut file ""neutron/extension/l3.py"" does\'t allow this column to pass, so the return data lacks column ""gw_port_id"".\nWhile,this column is very important for user.\n\nChange-Id: I05e9247e68e274a0d118f48dc1f494405809726e\nCloses-bug: #1605264\n'}, {'number': 3, 'created': '2016-09-26 07:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98689d39dc59546a0dcde1a2abb1b91ad9674f10', 'message': 'Add gw_port_id in return data when set router gateway port\n\nThis column is defined in db code, but lost in API extension attributes file.\nneutron/db/l3_db.py\ndef _make_router_dict(self, router, fields=None, process_extensions=True):\n        ...\n        res.update({\n            EXTERNAL_GW_INFO: ext_gw_info,\n            \'gw_port_id\': router[\'gw_port_id\'],\n        })\n        ...\n        return self._fields(res, fields)\n\nThis method defines that return date should have column ""gw_port_id"".\nBut file ""neutron/extension/l3.py"" does\'t allow this column to pass, so the return data lacks column ""gw_port_id"".\nWhile,this column is very important for user.\n\nChange-Id: I05e9247e68e274a0d118f48dc1f494405809726e\nCloses-bug: #1605264\n'}, {'number': 4, 'created': '2016-09-26 07:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61354cf515d958d0f034158c738dd144a1b626a2', 'message': 'Add gw_port_id in return data when set router gateway port\n\nThis column is defined in db code, but lost in API extension attributes file.\nneutron/db/l3_db.py\ndef _make_router_dict(self, router, fields=None, process_extensions=True):\n        ...\n        res.update({\n            EXTERNAL_GW_INFO: ext_gw_info,\n            \'gw_port_id\': router[\'gw_port_id\'],\n        })\n        ...\n        return self._fields(res, fields)\n\nThis method defines that return date should have column ""gw_port_id"".\nBut file ""neutron/extension/l3.py"" does\'t allow this column to pass, so the return data lacks column ""gw_port_id"".\nWhile,this column is very important for user.\n\nChange-Id: I05e9247e68e274a0d118f48dc1f494405809726e\nCloses-bug: #1605264\n'}, {'number': 5, 'created': '2016-11-10 11:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64cf68eee4bf1edc4668c42d0f4675ed78acea78', 'message': 'Add gw_port_id in return data when set router gateway port\n\nThis column is defined in db code, but lost in API extension\nattributes file.\n\nneutron/db/l3_db.py\ndef _make_router_dict(self, router, fields=None,\n    process_extensions=True):\n        ...\n        res.update({\n            EXTERNAL_GW_INFO: ext_gw_info,\n            \'gw_port_id\': router[\'gw_port_id\'],\n        })\n        ...\n        return self._fields(res, fields)\n\nThis method defines that return data should have column ""gw_port_id"".\nBut file ""neutron/extension/l3.py"" does\'t allow this column to pass,\nso the return data lacks column ""gw_port_id"".\nWhile,this column is very important for user.\n\nChange-Id: I05e9247e68e274a0d118f48dc1f494405809726e\nCloses-bug: #1605264\n'}, {'number': 6, 'created': '2016-11-10 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3437771ce1c43b0da13db6a5270c7b1defa8679a', 'message': 'Add gw_port_id in return data when set router gateway port\n\nThis column is defined in db code, but lost in API extension\nattributes file.\n\nThe method _make_router_dict() defines that return data should have\ncolumn ""gw_port_id"". But file ""neutron/extension/l3.py"" does\'t allow\nthis column to pass, so the return data lacks column ""gw_port_id"".\nWhile,this column is very important for user.\n\nChange-Id: I05e9247e68e274a0d118f48dc1f494405809726e\nCloses-bug: #1605264\n'}, {'number': 7, 'created': '2016-11-10 15:19:12.000000000', 'files': ['neutron/extensions/l3.py', 'neutron/tests/unit/extensions/test_l3.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/73d9b1b97e806d54585d85960fed746d3622c555', 'message': 'Add gw_port_id in return data when set router gateway port\n\nThis column is defined in db code, but lost in API extension\nattributes file.\n\nThe method _make_router_dict() in neutron/db/l3_db.py defines that\nreturn data should have column ""gw_port_id"".\nBut file ""neutron/extension/l3.py"" does\'t allow this column to pass,\nso the return data lacks column ""gw_port_id"".\nWhile,this column is very important for user.\n\nChange-Id: I05e9247e68e274a0d118f48dc1f494405809726e\nCloses-bug: #1605264\n'}]",10,345964,73d9b1b97e806d54585d85960fed746d3622c555,57,19,7,22016,,,0,"Add gw_port_id in return data when set router gateway port

This column is defined in db code, but lost in API extension
attributes file.

The method _make_router_dict() in neutron/db/l3_db.py defines that
return data should have column ""gw_port_id"".
But file ""neutron/extension/l3.py"" does't allow this column to pass,
so the return data lacks column ""gw_port_id"".
While,this column is very important for user.

Change-Id: I05e9247e68e274a0d118f48dc1f494405809726e
Closes-bug: #1605264
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/345964/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/l3.py'],1,dbb515b60c1a5bc355c1237ffe658f205354cbd1,bug/1605264," }}, 'gw_port_id': {'allow_post': False, 'allow_put': False, 'is_visible': True},", }},3,1
openstack%2Fneutron~master~Icfaeb40cda6acbcacba7efefd6a755d5758b1c02,openstack/neutron,master,Icfaeb40cda6acbcacba7efefd6a755d5758b1c02,Ensure that AFTER_INIT callback is called,ABANDONED,2016-12-07 10:47:57.000000000,2017-11-05 11:18:05.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8601}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 12024}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 24095}]","[{'number': 1, 'created': '2016-12-07 10:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/438aecdb4f76d79f7e51033314c620ab2197a6e2', 'message': 'Ensure that AFTER_INIT callback is called\n\nIf the api_workers is configured as 0 then the AFTER_INIT callback\nwas not invoked. This is problematic as one process is being run and\nall applications using this require that the callback be invoked.\n\nChange-Id: Icfaeb40cda6acbcacba7efefd6a755d5758b1c02\nCloses-bug: #1648046\n'}, {'number': 2, 'created': '2016-12-07 10:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d22f72e169a9d84b524d79adbe80c820d33bd0a', 'message': 'Ensure that AFTER_INIT callback is called\n\nIf the api_workers is configured as 0 then the AFTER_INIT callback\nwas not invoked. This is problematic as one process is being run and\nall applications using this require that the callback be invoked.\n\nIt is not clear why commit 483c5982c020ff21ceecf1d575c2d8fad2937d6e\nremoved this.\n\nChange-Id: Icfaeb40cda6acbcacba7efefd6a755d5758b1c02\nCloses-bug: #1648046\n'}, {'number': 3, 'created': '2016-12-15 15:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a506aecee26f63d2cff42ea5bbe223de39ce68e1', 'message': 'Ensure that AFTER_INIT callback is called\n\nIf the api_workers is configured as 0 then the AFTER_INIT callback\nwas not invoked. This is problematic as one process is being run and\nall applications using this require that the callback be invoked.\n\nIt is not clear why commit 483c5982c020ff21ceecf1d575c2d8fad2937d6e\nremoved this.\n\nChange-Id: Icfaeb40cda6acbcacba7efefd6a755d5758b1c02\nCloses-bug: #1648046\n'}, {'number': 4, 'created': '2016-12-22 09:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5846c2c5a9fa072a66fd48c7d23a5ca0a2cb7137', 'message': 'Ensure that AFTER_INIT callback is called\n\nIf the api_workers is configured as 0 then the AFTER_INIT callback\nwas not invoked. This is problematic as one process is being run and\nall applications using this require that the callback be invoked.\n\nIt is not clear why commit 483c5982c020ff21ceecf1d575c2d8fad2937d6e\nremoved this.\n\nChange-Id: Icfaeb40cda6acbcacba7efefd6a755d5758b1c02\nCloses-bug: #1648046\n'}, {'number': 5, 'created': '2016-12-22 12:04:38.000000000', 'files': ['neutron/worker.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b4af7a5e6873c89f478ae70c7539bc03cce1552', 'message': 'Ensure that AFTER_INIT callback is called\n\nIf the api_workers is configured as 0 then the AFTER_INIT callback\nwas not invoked. This is problematic as one process is being run and\nall applications using this require that the callback be invoked.\n\nIt is not clear why commit 483c5982c020ff21ceecf1d575c2d8fad2937d6e\nremoved this.\n\nChange-Id: Icfaeb40cda6acbcacba7efefd6a755d5758b1c02\nCloses-bug: #1648046\n'}]",3,408009,2b4af7a5e6873c89f478ae70c7539bc03cce1552,41,17,5,1653,,,0,"Ensure that AFTER_INIT callback is called

If the api_workers is configured as 0 then the AFTER_INIT callback
was not invoked. This is problematic as one process is being run and
all applications using this require that the callback be invoked.

It is not clear why commit 483c5982c020ff21ceecf1d575c2d8fad2937d6e
removed this.

Change-Id: Icfaeb40cda6acbcacba7efefd6a755d5758b1c02
Closes-bug: #1648046
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/408009/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/worker.py'],1,438aecdb4f76d79f7e51033314c620ab2197a6e2,after_init," registry.notify(resources.PROCESS, events.AFTER_INIT, self.start)"," if self.worker_process_count > 0: registry.notify(resources.PROCESS, events.AFTER_INIT, self.start)",1,2
openstack%2Fneutron~master~Iaf3a92f873e0f8bc99c222c75013fc1a8a827602,openstack/neutron,master,Iaf3a92f873e0f8bc99c222c75013fc1a8a827602,Adds support for binding a port to a local machine.,ABANDONED,2015-02-20 23:44:30.000000000,2017-11-05 11:17:56.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 9237}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-02-20 23:44:30.000000000', 'files': ['bin/neutron-local-port'], 'web_link': 'https://opendev.org/openstack/neutron/commit/632eee37370553fc6372777b4be7ac7509454777', 'message': 'Adds support for binding a port to a local machine.\n\nThis tool allows you to bind a port to a machine directly. For example, this is\nuseful if your tenant network is vxlan based, and you desire to attach a\nphysical storage node directly to a tenants vxlan.\n\nChange-Id: Iaf3a92f873e0f8bc99c222c75013fc1a8a827602\nImplements: blueprint host-port\n'}]",5,158003,632eee37370553fc6372777b4be7ac7509454777,28,19,1,9237,,,0,"Adds support for binding a port to a local machine.

This tool allows you to bind a port to a machine directly. For example, this is
useful if your tenant network is vxlan based, and you desire to attach a
physical storage node directly to a tenants vxlan.

Change-Id: Iaf3a92f873e0f8bc99c222c75013fc1a8a827602
Implements: blueprint host-port
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/158003/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/neutron-local-port'],1,632eee37370553fc6372777b4be7ac7509454777,bp/host-port,"#!/usr/bin/python # vim: tabstop=4 shiftwidth=4 softtabstop=4 # # Copyright 2013 New Dream Network, LLC (DreamHost) # Copyright 2014 Kevin Fox # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import os import sys import socket import eventlet import subprocess import neutronclient.neutron.client from neutron.openstack.common import importutils from neutronclient.common import exceptions from oslo.config import cfg from neutron.agent.common import config from neutron.agent.linux import interface from neutron.common import topics from neutron.openstack.common.rpc import service as rpc_service from neutron.openstack.common import service OPTS = [ cfg.StrOpt('port', default=None, help=_('Port ID to operate on')), cfg.StrOpt('action', default='bind', help=_('Action to perform. Either bind or unbind')), ] class Wrap(object): def __init__(self, id): self.id = id def main(): eventlet.monkey_patch() cfg.CONF.register_cli_opts(OPTS) cfg.CONF.register_opts(interface.OPTS) config.register_interface_driver_opts_helper(cfg.CONF) config.register_agent_state_opts_helper(cfg.CONF) config.register_root_helper(cfg.CONF) cfg.CONF(project='neutron') conf = cfg.CONF driver='neutron.agent.linux.interface.OVSInterfaceDriver' port = conf.port if port == None or port == '': print ""You must specify a port to operate on.\n"" sys.exit(-1) action = conf.action if action not in ('bind', 'unbind'): print ""Action must be either bind or unbind.\n"" sys.exit(-1) vif_driver = importutils.import_object(driver, conf) interface_name = vif_driver.get_device_name(Wrap(port)) client = neutronclient.neutron.client.Client('2.0', auth_url=os.environ['OS_AUTH_URL'], username=os.environ['OS_USERNAME'], tenant_name=os.environ['OS_TENANT_NAME'], password=os.environ['OS_PASSWORD']) try: port_info = client.show_port(port)['port'] except exceptions.PortNotFoundClient: print ""The requested port %s was not found"" %(port) sys.exit(-1) if port_info['binding:vif_type'] != 'unbound' and action == 'bind': print ""Can not bind an already bound port. (state %s != unbound)"" %(port_info['binding:vif_type']) sys.exit(-1) localhostname = socket.gethostname() if port_info['binding:host_id'] == '' and action == 'unbind': print ""Port not bound"" sys.exit(0) if port_info['binding:host_id'] != localhostname and action == 'unbind': print ""Can not unbind port. (port bound to a different host. %s != %s)"" %(port_info['binding:host_id'], localhostname) sys.exit(-1) if action == 'unbind': client.update_port(port, {'port': {'binding:host_id':'', 'device_owner':''}}) vif_driver.unplug(interface_name) else: fixed_ip = port_info['fixed_ips'][0] subnet = client.show_subnet(fixed_ip['subnet_id']) cidr = subnet['subnet']['cidr'] cidr_part = cidr.split('/')[1] fixed_ip_address = fixed_ip['ip_address'] vif_driver.plug( port_info['network_id'], port, interface_name, port_info['mac_address']) client.update_port(port, {'port': {'binding:host_id':localhostname, 'device_owner':'neutron:local_port'}}) cmd = [""ip"", ""addr"", ""add"", ""%s/%s"" %(fixed_ip_address, cidr_part), ""dev"", interface_name] subprocess.call(cmd) if __name__ == ""__main__"": main() ",,123,0
openstack%2Fneutron~master~I0e4b951c513ebf97f67e7a025f3e24cff8fa6e3c,openstack/neutron,master,I0e4b951c513ebf97f67e7a025f3e24cff8fa6e3c,Ensure network connection won't be interrupted after ovs-agent restarts.,ABANDONED,2016-04-14 10:22:43.000000000,2017-11-05 11:17:42.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 10386}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16034}, {'_account_id': 19726}, {'_account_id': 21410}]","[{'number': 1, 'created': '2016-04-14 10:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da5db9758421d90bd07338540ccd95d173094581', 'message': ""Ensure network connection won't be interrupted after ovs-agent restarts.\n\nAfter restarting neutron-openvswitch-agent, the tentant network\nconnection would be interrupted for a while.\n\nThe cause is that the flow is not added immediately in default table\n(table=0) of br-tun to resubmit to the right tunneling table before\nthe flow is removed by cleanup_stale_flows for its stale cookie.\n\nSolution:\nSubstituting rpc.cast with rpc.call in _notification_host to make\nsure that the flow won't be removed by cleanup_stale_flows before\nan fresh flow is installed.\n\nCloses-Bug: #1569795\nChange-Id: I0e4b951c513ebf97f67e7a025f3e24cff8fa6e3c\n""}, {'number': 2, 'created': '2016-04-15 07:25:53.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'releasenotes/notes/substituting-rpc.call-for-rpc.cast-in-l2populationagentnotifyapi-c5280408e132b305.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2301258d3ccf110f5ddfeea00f0f9ed3c2496b74', 'message': ""Ensure network connection won't be interrupted after ovs-agent restarts.\n\nAfter restarting neutron-openvswitch-agent, the tentant network\nconnection would be interrupted for a while.\n\nThe cause is that the flow is not added immediately in default table\n(table=0) of br-tun to resubmit to the right tunneling table before\nthe flow is removed by cleanup_stale_flows for its stale cookie.\n\nSolution:\nSubstituting rpc.call for rpc.cast in _notification_host to make\nsure that the flow won't be removed by cleanup_stale_flows before\nan fresh flow is installed.\n\nUpgradeImpact\nDocImpact: _notification_host in L2populationAgentNotifyAPI now\n           is a blocking operation.\n\nCloses-Bug: #1569795\nChange-Id: I0e4b951c513ebf97f67e7a025f3e24cff8fa6e3c\n""}]",2,305724,2301258d3ccf110f5ddfeea00f0f9ed3c2496b74,30,17,2,21410,,,0,"Ensure network connection won't be interrupted after ovs-agent restarts.

After restarting neutron-openvswitch-agent, the tentant network
connection would be interrupted for a while.

The cause is that the flow is not added immediately in default table
(table=0) of br-tun to resubmit to the right tunneling table before
the flow is removed by cleanup_stale_flows for its stale cookie.

Solution:
Substituting rpc.call for rpc.cast in _notification_host to make
sure that the flow won't be removed by cleanup_stale_flows before
an fresh flow is installed.

UpgradeImpact
DocImpact: _notification_host in L2populationAgentNotifyAPI now
           is a blocking operation.

Closes-Bug: #1569795
Change-Id: I0e4b951c513ebf97f67e7a025f3e24cff8fa6e3c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/305724/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/l2pop/rpc.py'],1,da5db9758421d90bd07338540ccd95d173094581,bug/1569795," cctxt.call(context, method, fdb_entries=fdb_entries)"," cctxt.cast(context, method, fdb_entries=fdb_entries)",1,1
openstack%2Fneutron~master~Ie1092b7023fe43bed79aca3353b960dab2288cb7,openstack/neutron,master,Ie1092b7023fe43bed79aca3353b960dab2288cb7,Integrate oslo.config validator,ABANDONED,2017-01-27 20:41:04.000000000,2017-11-05 11:17:34.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7037}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-01-27 20:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d2d3cf1acf053a505d061ba828d6a9f4fa65406', 'message': 'Integrate oslo.config validator\n\nAdds the oslo configuration file validator as a new entry point.\n\nChange-Id: Ie1092b7023fe43bed79aca3353b960dab2288cb7\nImplements: oslo-validator\n'}, {'number': 2, 'created': '2017-01-27 20:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aff0193944d84247ee262261bd4bfa4ce54a2280', 'message': 'Integrate oslo.config validator\n\nAdds the oslo configuration file validator as a new entry point.\n\nChange-Id: Ie1092b7023fe43bed79aca3353b960dab2288cb7\nImplements: oslo-validator\nDepends-On: I78d3621afda226f5968963ef408507234dfead4c\n'}, {'number': 3, 'created': '2017-01-27 20:48:35.000000000', 'files': ['tools/validate_config.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/64455f8e14e516729753b58a21b94dfe0a93cf77', 'message': 'Integrate oslo.config validator\n\nAdds the oslo configuration file validator as a new entry point.\n\nChange-Id: Ie1092b7023fe43bed79aca3353b960dab2288cb7\nDepends-On: I78d3621afda226f5968963ef408507234dfead4c\n'}]",0,426397,64455f8e14e516729753b58a21b94dfe0a93cf77,17,11,3,7037,,,0,"Integrate oslo.config validator

Adds the oslo configuration file validator as a new entry point.

Change-Id: Ie1092b7023fe43bed79aca3353b960dab2288cb7
Depends-On: I78d3621afda226f5968963ef408507234dfead4c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/426397/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/validate_config.py', 'setup.cfg']",2,2d2d3cf1acf053a505d061ba828d6a9f4fa65406,config-validator, neutron-config-check = neutron.tools.validate_config:main,,39,0
openstack%2Fneutron~master~I42c1abfcc2996edaf90ad5440c438191109791a6,openstack/neutron,master,I42c1abfcc2996edaf90ad5440c438191109791a6,[WIP] Creating a subnet without allocation pool,ABANDONED,2017-02-13 18:58:59.000000000,2017-11-05 11:17:25.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6635}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 22218}, {'_account_id': 22220}]","[{'number': 1, 'created': '2017-02-13 18:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7cda3ec48465f08272305d53bed1d152f3a9bb9', 'message': '[WIP] Creating a subnet without allocation pool\n\nThis patch implements an extension to create a subnet\nwithout an allocation pool, i.e., to have an option of\n\nPOST http://{{neutron_ip}}:9696/v2.0/subnets\nwith this in the body:\n\n  {""subnet"": {""allocation_pools"": []}}\n\nChange-Id: I42c1abfcc2996edaf90ad5440c438191109791a6\nCloses-Bug: #1616208\n'}, {'number': 2, 'created': '2017-02-14 21:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bb292f78264a1bb81da2660570f27fd08b01d34', 'message': '[WIP] Creating a subnet without allocation pool\n\nThis patch implements an extension to create a subnet\nwithout an allocation pool, i.e., to have an option of\n\nPOST http://{{neutron_ip}}:9696/v2.0/subnets\nwith this in the body:\n\n  {""subnet"": {""allocation_pools"": []}}\n\nChange-Id: I42c1abfcc2996edaf90ad5440c438191109791a6\nCloses-Bug: #1616208\n'}, {'number': 3, 'created': '2017-02-17 17:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c95f82cf8f1b6b8a283c1f66a1a3f9034f67d449', 'message': '[WIP] Creating a subnet without allocation pool\n\nThis patch implements an extension to create a subnet\nwithout an allocation pool, i.e., to have an option of\n\nPOST http://{{neutron_ip}}:9696/v2.0/subnets\nwith this in the body:\n\n  {""subnet"": {""allocation_pools"": []}}\n\nChange-Id: I42c1abfcc2996edaf90ad5440c438191109791a6\nCloses-Bug: #1616208\n'}, {'number': 4, 'created': '2017-02-17 20:23:45.000000000', 'files': ['neutron/extensions/subnetnoallocation.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5df3c7b39610441cae878ab4195bfed11da15bc9', 'message': '[WIP] Creating a subnet without allocation pool\n\nThis patch implements an extension to create a subnet\nwithout an allocation pool, i.e., to have an option of\n\nPOST http://{{neutron_ip}}:9696/v2.0/subnets\nwith this in the body:\n\n  {""subnet"": {""allocation_pools"": []}}\n\nChange-Id: I42c1abfcc2996edaf90ad5440c438191109791a6\nCloses-Bug: #1616208\n'}]",11,433234,5df3c7b39610441cae878ab4195bfed11da15bc9,57,17,4,22218,,,0,"[WIP] Creating a subnet without allocation pool

This patch implements an extension to create a subnet
without an allocation pool, i.e., to have an option of

POST http://{{neutron_ip}}:9696/v2.0/subnets
with this in the body:

  {""subnet"": {""allocation_pools"": []}}

Change-Id: I42c1abfcc2996edaf90ad5440c438191109791a6
Closes-Bug: #1616208
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/433234/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/subnetnoallocation.py', 'neutron/plugins/ml2/plugin.py']",2,c7cda3ec48465f08272305d53bed1d152f3a9bb9,bug/1616208," ""subnet-service-types"", ""subnet-no-allocation""]"," ""subnet-service-types""]",61,1
openstack%2Fneutron~master~I06150f3c94d33e4c2f59a487cc87c429856f45b7,openstack/neutron,master,I06150f3c94d33e4c2f59a487cc87c429856f45b7,Adding capability to get service provider metainfo,ABANDONED,2016-05-18 14:49:41.000000000,2017-11-05 11:17:16.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6951}, {'_account_id': 7715}, {'_account_id': 7776}, {'_account_id': 7787}, {'_account_id': 8446}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2016-05-18 14:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9422aee3655001d9aed43931e81c180e613acb5a', 'message': 'Adding capability to get service provider metainfo\n\nBefore flavors templating lands, there is a possibility\nto use flavors framework with metainfo defined for ServiceProfiles.\nThis patch allows to get metainfo of a specific ServiceProfile\nby supplying the flavor id and the FQN of the driver.\n\nThe intension is to get the metainfo from a service provider code\nonce the provider was choosen to serve the loadbalancer.\nService plugins will use this function when service provider\nrequests the loadbalancer metainfo.\n\nChange-Id: I06150f3c94d33e4c2f59a487cc87c429856f45b7\n'}, {'number': 2, 'created': '2016-06-02 13:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0359e3ae54eaaaa8b219d9533b8fc8a5ac2e568', 'message': 'Adding capability to get service provider metainfo\n\nBefore flavors templating lands, there is a possibility\nto use flavors framework with metainfo defined for ServiceProfiles.\nThis patch allows to get metainfo of a specific ServiceProfile\nby supplying the flavor id and the FQN of the driver.\n\nThe intention is to get the metainfo from a service provider code\nonce the provider was choosen to serve the loadbalancer.\nService plugins will use this function when service provider\nrequests the loadbalancer metainfo.\n\nUT added for the function\n\nChange-Id: I06150f3c94d33e4c2f59a487cc87c429856f45b7\n'}, {'number': 3, 'created': '2016-06-02 14:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bac48957ed24934db1df356ee0f4a89301a47716', 'message': 'Adding capability to get service provider metainfo\n\nBefore flavors templating lands, there is a possibility\nto use flavors framework with metainfo defined for ServiceProfiles.\nThis patch allows to get metainfo of a specific ServiceProfile\nby supplying the flavor id and the FQN of the driver.\n\nThe intention is to get the metainfo from a service provider code\nonce the provider was choosen to serve the loadbalancer.\nService plugins will use this function when service provider\nrequests the loadbalancer metainfo.\n\nUT added for the function\n\nChange-Id: I06150f3c94d33e4c2f59a487cc87c429856f45b7\n'}, {'number': 4, 'created': '2016-11-08 13:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00605235a5a55686885f604bedcb04581b92c5a0', 'message': 'Adding capability to get service provider metainfo\n\nBefore flavors templating lands, there is a possibility\nto use flavors framework with metainfo defined for ServiceProfiles.\nThis patch allows to get metainfo of a specific ServiceProfile\nby supplying the flavor id and the FQN of the driver.\n\nThe intention is to get the metainfo from a service provider code\nonce the provider was choosen to serve the loadbalancer.\nService plugins will use this function when service provider\nrequests the loadbalancer metainfo.\n\nUT added for the function\n\nChange-Id: I06150f3c94d33e4c2f59a487cc87c429856f45b7\n'}, {'number': 5, 'created': '2017-04-12 21:22:11.000000000', 'files': ['neutron/db/flavors_db.py', 'neutron/tests/unit/extensions/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/850da78ce5f7629ad7a56c06a8101608bcf2d8e9', 'message': 'Adding capability to get service provider metainfo\n\nBefore flavors templating lands, there is a possibility\nto use flavors framework with metainfo defined for ServiceProfiles.\nThis patch allows to get metainfo of a specific ServiceProfile\nby supplying the flavor id and the FQN of the driver.\n\nThe intention is to get the metainfo from a service provider code\nonce the provider was choosen to serve the loadbalancer.\nService plugins will use this function when service provider\nrequests the loadbalancer metainfo.\n\nUT added for the function\n\nChange-Id: I06150f3c94d33e4c2f59a487cc87c429856f45b7\n'}]",11,318153,850da78ce5f7629ad7a56c06a8101608bcf2d8e9,68,21,5,8446,,,0,"Adding capability to get service provider metainfo

Before flavors templating lands, there is a possibility
to use flavors framework with metainfo defined for ServiceProfiles.
This patch allows to get metainfo of a specific ServiceProfile
by supplying the flavor id and the FQN of the driver.

The intention is to get the metainfo from a service provider code
once the provider was choosen to serve the loadbalancer.
Service plugins will use this function when service provider
requests the loadbalancer metainfo.

UT added for the function

Change-Id: I06150f3c94d33e4c2f59a487cc87c429856f45b7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/318153/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/flavors_db.py'],1,9422aee3655001d9aed43931e81c180e613acb5a,meta-hack," # TODO(evgenyf) This func should be deleted once flavor templating lands def get_service_profile_metainfo(self, context, flavor_id, driver): """"""Get service profile metainfo for flavor and provider driver ."""""" metainfo = None with context.session.begin(subtransactions=True): srv_prof = context.session.query(FlavorServiceProfileBinding, ServiceProfile).\ join(FlavorServiceProfileBinding.service_profile).\ filter(FlavorServiceProfileBinding.flavor_id == flavor_id).\ filter(ServiceProfile.driver == driver).first() if not srv_prof: raise ext_flavors.ServiceProfileDriverNotFound( driver=driver) metainfo = srv_prof[1].metainfo return metainfo",,17,0
openstack%2Fneutron~master~I0df81b0011269fd2d13a1289110b6d1ece702924,openstack/neutron,master,I0df81b0011269fd2d13a1289110b6d1ece702924,Add validation for value of resource key,ABANDONED,2016-08-22 05:07:21.000000000,2017-11-05 11:17:07.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 13702}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17133}, {'_account_id': 17776}, {'_account_id': 20330}, {'_account_id': 20378}, {'_account_id': 21784}, {'_account_id': 22574}, {'_account_id': 22774}, {'_account_id': 25314}, {'_account_id': 25632}]","[{'number': 1, 'created': '2016-08-22 05:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bed5b953391b84fd6b8a8930689b3c6604b1c8d2', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 2, 'created': '2016-09-29 08:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a6661bdff341e751db2a33c06cb180408acd70b', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 3, 'created': '2016-09-29 08:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bddaf6ea5d0d9f8ea1274020e2b931547bc024f9', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 4, 'created': '2016-09-29 11:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47a6d06c209ff0cb583cf125e452c9f917080494', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 5, 'created': '2016-10-05 12:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1249c64ec6df0175cf9f6aa3e6b6d2e54dfcda0f', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 6, 'created': '2016-12-07 03:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06cf572282d3dd1352bd3f28458385892705473f', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 7, 'created': '2017-04-06 04:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63a8c4848a1f55e95331221c1d51231ec044e78d', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 8, 'created': '2017-04-06 15:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da4c2ca0a85977c126d8044c701f0a8e74012fce', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}, {'number': 9, 'created': '2017-04-16 14:53:51.000000000', 'files': ['neutron/tests/unit/api/v2/test_base.py', 'neutron/api/v2/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbc650e0779d9f635a161d7545a2340728ccb177', 'message': 'Add validation for value of resource key\n\nThis patch adds validation for value of resource key to\nensure the value is dictionary.\n\nChange-Id: I0df81b0011269fd2d13a1289110b6d1ece702924\nCloses-Bug: #1614022\n'}]",16,358401,fbc650e0779d9f635a161d7545a2340728ccb177,103,25,9,17133,,,0,"Add validation for value of resource key

This patch adds validation for value of resource key to
ensure the value is dictionary.

Change-Id: I0df81b0011269fd2d13a1289110b6d1ece702924
Closes-Bug: #1614022
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/358401/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/v2/test_base.py', 'neutron/api/v2/base.py']",2,bed5b953391b84fd6b8a8930689b3c6604b1c8d2,bug/1614022, msg = attributes._validate_dict(res_dict) if msg: raise webob.exc.HTTPBadRequest(msg),,11,0
openstack%2Fneutron~master~I66ff9ad265f98d562d3d7acfcc08903b7f015a79,openstack/neutron,master,I66ff9ad265f98d562d3d7acfcc08903b7f015a79,Add version constraint for haproxy in bindep,ABANDONED,2017-03-29 07:40:32.000000000,2017-11-05 11:16:55.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20330}, {'_account_id': 22220}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-03-29 07:40:32.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44dd0bd5a21b4842aa2b75650f26c382a6987401', 'message': ""Add version constraint for haproxy in bindep\n\nWe need haproxy >= 1.5.0 for metadata proxy since earlier versions\ndon't support writing to UNIX domain sockets as per its Changelog [0].\n\n2014/05/10 : 1.5-dev25\n- MEDIUM: unix: add preliminary support for connecting to servers over\n                UNIX sockets\n\n[0] https://www.haproxy.org/download/1.5/src/CHANGELOG\n\nChange-Id: I66ff9ad265f98d562d3d7acfcc08903b7f015a79\n""}]",0,451225,44dd0bd5a21b4842aa2b75650f26c382a6987401,27,16,1,23804,,,0,"Add version constraint for haproxy in bindep

We need haproxy >= 1.5.0 for metadata proxy since earlier versions
don't support writing to UNIX domain sockets as per its Changelog [0].

2014/05/10 : 1.5-dev25
- MEDIUM: unix: add preliminary support for connecting to servers over
                UNIX sockets

[0] https://www.haproxy.org/download/1.5/src/CHANGELOG

Change-Id: I66ff9ad265f98d562d3d7acfcc08903b7f015a79
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/451225/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,44dd0bd5a21b4842aa2b75650f26c382a6987401,,haproxy >=1.5.0,haproxy,1,1
openstack%2Fnetworking-midonet~stable%2Focata~Ic2f3000bfb5b696a58aedd59573b407d847e2cea,openstack/networking-midonet,stable/ocata,Ic2f3000bfb5b696a58aedd59573b407d847e2cea,DO NOT REVIEW CI TESTING,ABANDONED,2017-02-27 14:43:25.000000000,2017-11-05 11:15:16.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 19307}]","[{'number': 1, 'created': '2017-02-27 14:43:25.000000000', 'files': ['midonet/neutron/testci.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/63f187c32f2c52214bbc918c1142ab1b51a5a9ca', 'message': 'DO NOT REVIEW CI TESTING\n\nChange-Id: Ic2f3000bfb5b696a58aedd59573b407d847e2cea\n'}]",0,438519,63f187c32f2c52214bbc918c1142ab1b51a5a9ca,6,4,1,19307,,,0,"DO NOT REVIEW CI TESTING

Change-Id: Ic2f3000bfb5b696a58aedd59573b407d847e2cea
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/19/438519/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/testci.py'],1,63f187c32f2c52214bbc918c1142ab1b51a5a9ca,,,,0,0
openstack%2Fneutron~master~Ie63ac4b4d584ab4083afa7bcb3b71112578f6795,openstack/neutron,master,Ie63ac4b4d584ab4083afa7bcb3b71112578f6795,Reload port after commit in update_port,ABANDONED,2017-06-22 13:11:52.000000000,2017-11-05 11:15:07.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 10385}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20229}, {'_account_id': 20330}, {'_account_id': 23235}, {'_account_id': 23766}, {'_account_id': 26131}]","[{'number': 1, 'created': '2017-06-22 13:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efb6066bd4bc0de9386caf822ffbc4a3e93e48d8', 'message': ""Reload port after commit in update_port\n\nCommit hooks (e.g. update revision_number)  may have modified the port\nobject in the transaction. This change reloads the object when the\ntransaction exits. This way, port_update_postcommit sees the most\nup-to-date object.\n\nThis was discovered in the Dragonflow unit tests, where the port's\nrevision_number was greater than the one seen in port_update_postcommit.\n\nChange-Id: Ie63ac4b4d584ab4083afa7bcb3b71112578f6795\n""}, {'number': 2, 'created': '2017-06-25 11:27:40.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/58438f1de11f52d162de6c1eee85c48bd39487cc', 'message': ""Reload port after commit in update_port\n\nCommit hooks (e.g. update revision_number)  may have modified the port\nobject in the transaction. This change reloads the object when the\ntransaction exits. This way, port_update_postcommit sees the most\nup-to-date object.\n\nThis was discovered in the Dragonflow unit tests, where the port's\nrevision_number was greater than the one seen in port_update_postcommit.\n\nCloses-Bug: #1700351\nChange-Id: Ie63ac4b4d584ab4083afa7bcb3b71112578f6795\n""}]",5,476511,58438f1de11f52d162de6c1eee85c48bd39487cc,27,13,2,20229,,,0,"Reload port after commit in update_port

Commit hooks (e.g. update revision_number)  may have modified the port
object in the transaction. This change reloads the object when the
transaction exits. This way, port_update_postcommit sees the most
up-to-date object.

This was discovered in the Dragonflow unit tests, where the port's
revision_number was greater than the one seen in port_update_postcommit.

Closes-Bug: #1700351
Change-Id: Ie63ac4b4d584ab4083afa7bcb3b71112578f6795
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/476511/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,efb6066bd4bc0de9386caf822ffbc4a3e93e48d8,bug/1700351," # Commit hooks may have modified the port object. Reload it. port_db = self._get_port(context, id) updated_port.update(self._make_port_dict(port_db)) ",,4,0
openstack%2Fneutron~master~I5e5c6f16cce4035d9af1fddd6830fd81df80aaa2,openstack/neutron,master,I5e5c6f16cce4035d9af1fddd6830fd81df80aaa2,Fix NeutronDbObjectDuplicateEntry from provisioning_blocks,ABANDONED,2017-06-21 04:26:47.000000000,2017-11-05 11:14:57.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 13732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19178}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-06-21 04:26:47.000000000', 'files': ['neutron/db/provisioning_blocks.py', 'neutron/tests/unit/db/test_provisioning_blocks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0f527e419bcbb5a6485b42553e59005711e46c0', 'message': 'Fix NeutronDbObjectDuplicateEntry from provisioning_blocks\n\nWhen multi_process to invoke add_provisioning_component from\nprovisioning_blocks module, it maybe cause NeutronDbObjectDuplicateEntry\nexception. It should catch NeutronDbObjectDuplicateEntry exception for\nadd_provisioning_component method from provisioning_blocks module.\n\nRelated-Bug: #1699390\n\nChange-Id: I5e5c6f16cce4035d9af1fddd6830fd81df80aaa2\n'}]",6,475995,b0f527e419bcbb5a6485b42553e59005711e46c0,19,13,1,19178,,,0,"Fix NeutronDbObjectDuplicateEntry from provisioning_blocks

When multi_process to invoke add_provisioning_component from
provisioning_blocks module, it maybe cause NeutronDbObjectDuplicateEntry
exception. It should catch NeutronDbObjectDuplicateEntry exception for
add_provisioning_component method from provisioning_blocks module.

Related-Bug: #1699390

Change-Id: I5e5c6f16cce4035d9af1fddd6830fd81df80aaa2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/475995/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/provisioning_blocks.py', 'neutron/tests/unit/db/test_provisioning_blocks.py']",2,b0f527e419bcbb5a6485b42553e59005711e46c0,NeutronDbObjectDuplicateEntry-from-provisions-blocks,"from neutron.objects import base def test_adding_component_with_duplicate_exception(self): pb.add_provisioning_component(self.ctx, self.port.id, resources.PORT, 'entity1') with mock.patch.object(base.NeutronDbObject, 'objects_exist') as mock1: mock1.return_value = False pb.add_provisioning_component(self.ctx, self.port.id, resources.PORT, 'entity1') pb.provisioning_complete(self.ctx, self.port.id, resources.PORT, 'entity1') self.assertTrue(self.provisioned.called)",,22,2
openstack%2Fnetworking-odl~master~Ia97d882499bc30a548c5920df96561731712c2b8,openstack/networking-odl,master,Ia97d882499bc30a548c5920df96561731712c2b8,spec: rpc from odl to networking-odl,ABANDONED,2017-03-24 02:26:25.000000000,2017-11-05 11:14:48.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9361}, {'_account_id': 13912}, {'_account_id': 17120}, {'_account_id': 18429}, {'_account_id': 20208}]","[{'number': 1, 'created': '2017-03-24 02:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a34a4a120e5d2d2638ca5642f7d5da64b87c4fbc', 'message': 'rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 2, 'created': '2017-03-24 02:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bc623ede075c00b2c33c3865ca056ecb398748e2', 'message': 'rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 3, 'created': '2017-03-24 03:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1be7bf9ccb0fd45b3e714cd9f568ea2b5786027b', 'message': 'rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 4, 'created': '2017-03-24 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0aa15314366f8c5a3f501820068f3e591fbbeb97', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 5, 'created': '2017-05-30 21:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c1b71354b3f966c45b6c6adbb0303398f3f632bb', 'message': 'rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 6, 'created': '2017-05-30 22:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/42c7e9db2f9af5d58c2b08fe75d75c7f84758248', 'message': 'rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 7, 'created': '2017-06-10 00:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f25b60d4e24d4613b5eaf97ca2b10d8210d749c0', 'message': 'rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 8, 'created': '2017-06-16 08:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c95cbf0d857a78566d1287335941bb1209cea7fe', 'message': 'rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 9, 'created': '2017-06-16 08:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/17649cb102c24e53d583f96c2021512733be9a33', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 10, 'created': '2017-06-29 15:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0b9b790cd7a9bb4aaf3be2553566d928c69304e9', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 11, 'created': '2017-07-07 00:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ad86d97c135e74ea38a4a3d290d7d7756c2b7bf8', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 12, 'created': '2017-07-07 00:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d7bb5ebc2e871e9611151f1d82a8b2d9d30a5c52', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 13, 'created': '2017-07-11 01:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0b4ffc6b5c20bd5a61697cf41881b5597b275c5e', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 14, 'created': '2017-07-18 18:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1d7c3069f8a72bcc1e8b129cdf038983750e8207', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}, {'number': 15, 'created': '2017-07-19 16:59:39.000000000', 'files': ['doc/source/specs/openstack-rpc-from-odl.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/31b385e4402f981c0091845c828b7024d97e363e', 'message': 'spec: rpc from odl to networking-odl\n\nChange-Id: Ia97d882499bc30a548c5920df96561731712c2b8\n'}]",91,449402,31b385e4402f981c0091845c828b7024d97e363e,51,9,15,333,,,0,"spec: rpc from odl to networking-odl

Change-Id: Ia97d882499bc30a548c5920df96561731712c2b8
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/02/449402/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/openstack-rpc-from-odl.rst'],1,a34a4a120e5d2d2638ca5642f7d5da64b87c4fbc,spec-openstackrpc-from-odl,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== openstack RPC from ODL to networking-odl ======================================== https://blueprints.launchpad.net/networking-odl/+spec/openstack-rpc-from-odl Allow ODL(as client) to call RPC to networking-odl. ODL netvirt openstack supports DHCP server functionality and it wants to call create_dhcp_port for ip address for DHCP server similar to neutron dhcp agent. Problem Description =================== Now ODL openstack service provider is supporting more and more functionality. and it's starting to require closer communication between neutron server like neutron agent. Missing part is openstack rpc from ODL (as RPC client) to neutorn server(as RPC server). Use case to raise this spec is DHCP server. https://git.opendaylight.org/gerrit/#/c/52298/ netvirt openstack supports DHCP server and it needs dedicated IP address for DHCP server per network and wants to call create_dhcp_port() as neutron dhcp agent does. In the case of neutron dhcp agent(or any neutorn agent) is allowed to call rpc to neutron server to do house keeping work. The first user will be dhcp server module in ODL netvirt. Proposed Change =============== Introduce framework to allow ODL to call RPC to neutron. (@): newly to be implemented (#): new yang model +-----------------------------------------+ | Neutron | | | | neutron rpc interface | | ^ neutron callbacks. | | | neutron/api/handlers/*_rpc.py | | | class *Callback | | | | +-----|-----------------------------------+ | | networking-odl | | | | | | RPC call | | | multiplex based on topic | | | | | rpc dispatcher(@) | | subclass of oslo.messaging | | or something similar | | to call neutron rpc callbacks | | ^ | | | | | | +-----------------------|---------|-------+ | | | | websocket | | websocket notification | | RPC neutron-message-send | | neutron-message-reply (RPC call) | | (RPC return) | | | | +-----------------------|---------|-------+ | odl restconf | | | | websocket layer | | | | | | | +-----------------------|---------|-------+ | | | | | yang model:(#) | V | | notification: neutron-message-send | | rpc: neutron-message-reply | | | ^ | | | | | | +-----------------------|---------|-------+ | | | | | openstack RPC layer(@)| | | | mux/demux: | | | | assign message-id | | | | | | | +-----------------------|---------|-------+ | | | | |yang model:(#) | V | | rpc: neutron call: for actual client | | ^ | | | | +----------------------------|------------+ | | | | | | |actual RPC client(e.g. dhcp server) | | adapter function | +-----------------------------------------+ operation flow -------------- * start rpc call in actual component * call adapter function * adapter function assembles arguments and call neutron-call * openstack RPC layer ** assign message-id and assemble notification ** send notification, neutron-message-send to networking-odl over websocket * networking-odl rpc dispatcher layer ** dispatch rpc call to actual RPC callbacks * RPC callback processes rpccall and returns to rpc dipatcher * networking-odl rpc dispatcher layer: send neutron-message-reply over websocket * openstack RPC layer finds the caller with message-id and neutron-call returns * returns rpc call References ========== https://wiki.openstack.org/wiki/Oslo/Messaging https://docs.openstack.org/developer/oslo.messaging/ ",,125,0
openstack%2Fpython-neutronclient~master~I8744d2c32833490d57b1ab4e3acf1e94efdbe151,openstack/python-neutronclient,master,I8744d2c32833490d57b1ab4e3acf1e94efdbe151,Enable some off-by-default checks,ABANDONED,2017-07-14 09:48:05.000000000,2017-11-05 11:14:38.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 19930}, {'_account_id': 25073}, {'_account_id': 25720}]","[{'number': 1, 'created': '2017-07-14 09:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d421247073e4305ffeb294661b6845e276c8af33', 'message': ""Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Don't put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: I8744d2c32833490d57b1ab4e3acf1e94efdbe151\n""}, {'number': 2, 'created': '2017-07-17 00:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d30d88a878d3f84cce99ead0dcdf52f804af9b77', 'message': ""Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Don't put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: I8744d2c32833490d57b1ab4e3acf1e94efdbe151\n""}, {'number': 3, 'created': '2017-07-25 06:27:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1d1a4ef7ececb58dd2e6cd4dcafbb30308b50b91', 'message': ""Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Don't put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: I8744d2c32833490d57b1ab4e3acf1e94efdbe151\n""}]",1,483883,1d1a4ef7ececb58dd2e6cd4dcafbb30308b50b91,13,6,3,25073,,,0,"Enable some off-by-default checks

Some of the available checks are disabled by default, like:
[H106] Don't put vim configuration in source files
[H203] Use assertIs(Not)None to check for None

Change-Id: I8744d2c32833490d57b1ab4e3acf1e94efdbe151
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/83/483883/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d421247073e4305ffeb294661b6845e276c8af33,,"# H106: Don’ put vim configuration in source files # H203: Use assertIs(Not)None to check for Noneenable-extensions = H106,H203,H904",enable-extensions=H904,3,1
openstack%2Fnetworking-odl~master~I588e59a3514285df60d252d27664746375e8f705,openstack/networking-odl,master,I588e59a3514285df60d252d27664746375e8f705,Use https instead of http for links,ABANDONED,2017-03-21 01:54:01.000000000,2017-11-05 11:14:29.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 7921}, {'_account_id': 13912}, {'_account_id': 22104}]","[{'number': 1, 'created': '2017-03-21 01:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8d59aec3c2f93286f3f15a2e0d209e8ccb9cc305', 'message': 'Optimize the link address for fetching git code\n\nUse https instead of http to ensure the safety without containing our account/password information\n\nChange-Id: I588e59a3514285df60d252d27664746375e8f705\n'}, {'number': 2, 'created': '2017-03-21 01:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5e1eeceda02d4d5f904293a25aa2bac1456bb7b5', 'message': 'Optimize the link address for fetching git code\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\n\nChange-Id: I588e59a3514285df60d252d27664746375e8f705\n'}, {'number': 3, 'created': '2017-08-03 03:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/338e8723c01cf3c19ae45542e3e2fcac769c3d70', 'message': 'Optimize the link address for fetching git code\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\n\nChange-Id: I588e59a3514285df60d252d27664746375e8f705\n'}, {'number': 4, 'created': '2017-08-04 07:25:00.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/56dd20a3c04843d4b84059a12d6808e2425b2adb', 'message': 'Use https instead of http for links\n\nChange-Id: I588e59a3514285df60d252d27664746375e8f705\n'}]",4,447751,56dd20a3c04843d4b84059a12d6808e2425b2adb,19,7,4,22104,,,0,"Use https instead of http for links

Change-Id: I588e59a3514285df60d252d27664746375e8f705
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/51/447751/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,8d59aec3c2f93286f3f15a2e0d209e8ccb9cc305,447751,,,0,0
openstack%2Fneutron~stable%2Focata~I194e7f40db840d29af317ddc2e342a1409000151,openstack/neutron,stable/ocata,I194e7f40db840d29af317ddc2e342a1409000151,Use conjunction for security group rules with remote_group_id,ABANDONED,2017-08-03 10:15:26.000000000,2017-11-05 11:14:21.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 9200}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13717}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-03 10:15:26.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'doc/source/devref/openvswitch_firewall.rst', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7f1f314effa28c92d2b621f42bdc671e91fad79', 'message': 'Use conjunction for security group rules with remote_group_id\n\nPrior to this commit, the number of flows can be prohibitively large\nin some cases.\n\n(cherry-picked from I194e7f40db840d29af317ddc2e342a1409000151)\n\nCloses-bug: #1628819\nChange-Id: I194e7f40db840d29af317ddc2e342a1409000151\n'}]",0,490411,e7f1f314effa28c92d2b621f42bdc671e91fad79,9,9,1,13717,,,0,"Use conjunction for security group rules with remote_group_id

Prior to this commit, the number of flows can be prohibitively large
in some cases.

(cherry-picked from I194e7f40db840d29af317ddc2e342a1409000151)

Closes-bug: #1628819
Change-Id: I194e7f40db840d29af317ddc2e342a1409000151
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/490411/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'doc/source/devref/openvswitch_firewall.rst', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",5,e7f1f314effa28c92d2b621f42bdc671e91fad79,bug/1628819," def test_get_ethertype_filtered_addresses(self):class TestConjIdMap(base.BaseTestCase): def setUp(self): super(TestConjIdMap, self).setUp() self.conj_id_map = ovsfw.ConjIdMap() def test_get_conj_id(self): allocated = [] for direction in [firewall.EGRESS_DIRECTION, firewall.INGRESS_DIRECTION]: id_ = self.conj_id_map.get_conj_id( 'sg', 'remote', direction, constants.IPv4) allocated.append(id_) self.assertEqual(len(set(allocated)), 2) self.assertEqual(len(self.conj_id_map.id_map), 2) self.assertEqual(self.conj_id_map.get_conj_id( 'sg', 'remote', firewall.EGRESS_DIRECTION, constants.IPv4), allocated[0]) def test_get_conj_id_invalid(self): self.assertRaises(ValueError, self.conj_id_map.get_conj_id, 'sg', 'remote', 'invalid-direction', constants.IPv6) def test_delete_sg(self): test_data = [('sg1', 'sg1'), ('sg1', 'sg2')] ids = [] for sg_id, remote_sg_id in test_data: ids.append(self.conj_id_map.get_conj_id( sg_id, remote_sg_id, firewall.INGRESS_DIRECTION, constants.IPv6)) result = self.conj_id_map.delete_sg('sg1') self.assertIn(('sg1', ids[0]), result) self.assertIn(('sg2', ids[1]), result) self.assertEqual(len(self.conj_id_map.id_map), 0) reallocated = self.conj_id_map.get_conj_id( 'sg-foo', 'sg-foo', firewall.INGRESS_DIRECTION, constants.IPv6) self.assertIn(reallocated, ids) class TestConjIPFlowManager(base.BaseTestCase): def setUp(self): super(TestConjIPFlowManager, self).setUp() self.driver = mock.Mock() self.manager = ovsfw.ConjIPFlowManager(self.driver) self.vlan_tag = 100 self.conj_id = 10 def test_update_flows_for_vlan(self): remote_group = self.driver.sg_port_map.get_sg.return_value remote_group.get_ethertype_filtered_addresses.return_value = [ '10.22.3.4'] with mock.patch.object(self.manager.conj_id_map, 'get_conj_id') as get_conj_id_mock: get_conj_id_mock.return_value = self.conj_id self.manager.add(self.vlan_tag, 'sg', 'remote_id', firewall.INGRESS_DIRECTION, constants.IPv4) self.manager.update_flows_for_vlan(self.vlan_tag) self.assertEqual(self.driver._add_flow.call_args_list, [mock.call(actions='conjunction(10,1/2)', ct_state='+est-rel-rpl', dl_type=2048, nw_src='10.22.3.4/32', priority=70, reg_net=self.vlan_tag, table=82), mock.call(actions='conjunction(11,1/2)', ct_state='+new-est', dl_type=2048, nw_src='10.22.3.4/32', priority=70, reg_net=self.vlan_tag, table=82)]) def test_sg_removed(self): with mock.patch.object(self.manager.conj_id_map, 'get_conj_id') as get_id_mock, \ mock.patch.object(self.manager.conj_id_map, 'delete_sg') as delete_sg_mock: get_id_mock.return_value = self.conj_id delete_sg_mock.return_value = [('remote_id', self.conj_id)] self.manager.add(self.vlan_tag, 'sg', 'remote_id', firewall.INGRESS_DIRECTION, constants.IPv4) self.manager.flow_state[self.vlan_tag][( firewall.INGRESS_DIRECTION, constants.IPv4)] = { '10.22.3.4': [self.conj_id]} self.manager.sg_removed('sg') self.driver._add_flow.assert_not_called() self.driver.delete_flows_for_ip_addresses.assert_called_once_with( {'10.22.3.4'}, firewall.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) 'direction': firewall.EGRESS_DIRECTION}, {'ethertype': constants.IPv6, 'protocol': constants.PROTO_NAME_TCP, 'remote_group_id': 2, conj_id = self.firewall.conj_ip_manager.conj_id_map.get_conj_id( 2, 2, firewall.EGRESS_DIRECTION, constants.IPv6) filter_rules = [mock.call( table=ovs_consts.RULES_EGRESS_TABLE), mock.call( actions='conjunction({:d},2/2)'.format(conj_id), ct_state=ovsfw_consts.OF_STATE_ESTABLISHED_NOT_REPLY, dl_src=mock.ANY, dl_type=mock.ANY, nw_proto=6, priority=70, reg5=self.port_ofport, table=ovs_consts.RULES_EGRESS_TABLE)] self.mock_bridge.br.add_flow.assert_has_calls( filter_rules, any_order=True) self.assertIn(1, self.firewall.sg_to_delete) def test__cleanup_stale_sg(self): self._prepare_security_group() self.firewall.sg_to_delete = {1} with mock.patch.object(self.firewall.conj_ip_manager, 'sg_removed') as sg_removed_mock,\ mock.patch.object(self.firewall.sg_port_map, 'delete_sg') as delete_sg_mock: self.firewall._cleanup_stale_sg() sg_removed_mock.assert_called_once_with(1) delete_sg_mock.assert_called_once_with(1)"," def get_ethertype_filtered_addresses(self): def get_ethertype_filtered_addresses_with_excluded_addresses(self): addresses = self.sg.get_ethertype_filtered_addresses('type', [2, 3]) expected_addresses = [1, 4] self.assertEqual(expected_addresses, addresses) add_calls = self.mock_bridge.br.add_flow.call_args_list filter_rule = mock.call( table=ovs_consts.RULES_EGRESS_TABLE) self.assertIn(filter_rule, add_calls)",577,72
openstack%2Ftripleo-ci~master~I6caaed27f83e99270434f08bbbb6bc29002cfe3a,openstack/tripleo-ci,master,I6caaed27f83e99270434f08bbbb6bc29002cfe3a,"Don't replace /root/.ssh/authorized_keys, append to it",MERGED,2017-10-31 20:45:44.000000000,2017-11-05 09:54:49.000000000,2017-11-05 09:54:49.000000000,"[{'_account_id': 9061}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-31 20:45:44.000000000', 'files': ['toci_gate_test-oooq.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ed4e53b056dc8f65420dae45782ba4752802ae6d', 'message': ""Don't replace /root/.ssh/authorized_keys, append to it\n\n/root/.ssh/authorized_keys is set up by openstack-infra with keys\nallowing infra-root to login to the nodes during the execution of\na job if need be.\n\nLet's append that file rather than replace it.\n\nChange-Id: I6caaed27f83e99270434f08bbbb6bc29002cfe3a\n""}]",0,516785,ed4e53b056dc8f65420dae45782ba4752802ae6d,26,5,1,9061,,,0,"Don't replace /root/.ssh/authorized_keys, append to it

/root/.ssh/authorized_keys is set up by openstack-infra with keys
allowing infra-root to login to the nodes during the execution of
a job if need be.

Let's append that file rather than replace it.

Change-Id: I6caaed27f83e99270434f08bbbb6bc29002cfe3a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/516785/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test-oooq.sh'],1,ed4e53b056dc8f65420dae45782ba4752802ae6d,, cat $HOME/.ssh/id_rsa.pub >> $HOME/.ssh/authorized_keys cat $HOME/.ssh/authorized_keys | sudo tee -a /root/.ssh/authorized_keys, cat $HOME/.ssh/id_rsa.pub >> ${HOME}/.ssh/authorized_keys sudo cp ${HOME}/.ssh/authorized_keys /root/.ssh/,2,2
openstack%2Ftripleo-common~stable%2Fpike~Ie05bd113b8c20ee95aef82b07c63a9591baab98a,openstack/tripleo-common,stable/pike,Ie05bd113b8c20ee95aef82b07c63a9591baab98a,Fix typos in container_images_prepare failure task names,MERGED,2017-11-03 09:36:59.000000000,2017-11-05 09:47:49.000000000,2017-11-05 09:47:49.000000000,"[{'_account_id': 4571}, {'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-03 09:36:59.000000000', 'files': ['workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c6a986665568fbc458c3e725c1a31e0fcf8c8af3', 'message': 'Fix typos in container_images_prepare failure task names\n\nThe message tasks in case of failures should reference the task to\nprepare the container images itself. In the case of create_plan, it\nwould return a message for the wrong task, and in the case of\nupdate_plan I think it would fail altogether. This now references the\ncorrect task name.\n\nRelated-Bug: #1716778\nChange-Id: Ie05bd113b8c20ee95aef82b07c63a9591baab98a\n(cherry picked from commit 07f21db70c842d7c7d0ef6c3f6e4c3459c3c40a4)\n'}]",0,517590,c6a986665568fbc458c3e725c1a31e0fcf8c8af3,9,4,1,4978,,,0,"Fix typos in container_images_prepare failure task names

The message tasks in case of failures should reference the task to
prepare the container images itself. In the case of create_plan, it
would return a message for the wrong task, and in the case of
update_plan I think it would fail altogether. This now references the
correct task name.

Related-Bug: #1716778
Change-Id: Ie05bd113b8c20ee95aef82b07c63a9591baab98a
(cherry picked from commit 07f21db70c842d7c7d0ef6c3f6e4c3459c3c40a4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/517590/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/plan_management.yaml'],1,c6a986665568fbc458c3e725c1a31e0fcf8c8af3,bug/1716778, message: <% task(container_images_prepare).result %> message: <% task(container_images_prepare).result %>, message: <% task(create_plan).result %> message: <% task(create_plan).result %>,2,2
openstack%2Ftripleo-common~stable%2Fpike~Ibce7658468c1b3689a7481deb94dd43e1f3ead52,openstack/tripleo-common,stable/pike,Ibce7658468c1b3689a7481deb94dd43e1f3ead52,Action to always populate container image parameters,MERGED,2017-10-26 00:20:17.000000000,2017-11-05 09:47:48.000000000,2017-11-05 09:47:48.000000000,"[{'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-26 00:20:17.000000000', 'files': ['workbooks/plan_management.yaml', 'tripleo_common/constants.py', 'tripleo_common/actions/container_images.py', 'tripleo_common/tests/actions/test_container_images.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ae128f4978d4e86656a06ddc24fde3cd6f2797c2', 'message': 'Action to always populate container image parameters\n\nCurrently the UI cannot deploy with containers because the mandatory\ncontainer parameters are not set. Also a CLI will not deploy unless\npassed an environment generated by the ""images prepare"" call.\n\nThis change adds an action in the create_deployment_plan and\nupdate_deployment_plan workflows which does a container prepare with\nthe default options, so that the mandatory image parameters are always\npopulated with values which will work.\n\nChange-Id: Ibce7658468c1b3689a7481deb94dd43e1f3ead52\nCloses-Bug: #1716778\n(cherry picked from commit b7ddde426aa3594fad106b8d8a6910965bfa1c8d)\n'}]",2,515232,ae128f4978d4e86656a06ddc24fde3cd6f2797c2,9,3,1,4571,,,0,"Action to always populate container image parameters

Currently the UI cannot deploy with containers because the mandatory
container parameters are not set. Also a CLI will not deploy unless
passed an environment generated by the ""images prepare"" call.

This change adds an action in the create_deployment_plan and
update_deployment_plan workflows which does a container prepare with
the default options, so that the mandatory image parameters are always
populated with values which will work.

Change-Id: Ibce7658468c1b3689a7481deb94dd43e1f3ead52
Closes-Bug: #1716778
(cherry picked from commit b7ddde426aa3594fad106b8d8a6910965bfa1c8d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/515232/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'tripleo_common/constants.py', 'tripleo_common/actions/container_images.py', 'tripleo_common/tests/actions/test_container_images.py', 'setup.cfg']",5,ae128f4978d4e86656a06ddc24fde3cd6f2797c2,bug/1716778, tripleo.container_images.prepare = tripleo_common.actions.container_images:PrepareContainerImageEnv,,236,4
openstack%2Ftripleo-heat-templates~stable%2Focata~I3bc9940aeff4e290d83de95a7df294c11f061954,openstack/tripleo-heat-templates,stable/ocata,I3bc9940aeff4e290d83de95a7df294c11f061954,added level of indirection causes incorrect hiera config,MERGED,2017-11-01 20:32:49.000000000,2017-11-05 09:47:47.000000000,2017-11-05 09:47:47.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20751}, {'_account_id': 21977}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-01 20:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e515c6eb111a1ccb073e7a56aa7bdfa17e03eba', 'message': ""added level of indirection causes incorrect hiera config\n\n - until Newton this worked fine, however starting with Ocata, we\n   do not need the key 'mapped_data'\n - having it results in extra indirection in the dictionary in\n   neutron_bigswitch_data.json\n\nChange-Id: I3bc9940aeff4e290d83de95a7df294c11f061954\n(cherry picked from commit 485339129cee8f5d3223cf47858a5c9f79b0a8de)\n""}, {'number': 2, 'created': '2017-11-01 22:18:42.000000000', 'files': ['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72b33c9396fd6824c96e03d45ceb99b0cf6d1452', 'message': ""added level of indirection causes incorrect hiera config\n\n - until Newton this worked fine, however starting with Ocata, we\n   do not need the key 'mapped_data'\n - having it results in extra indirection in the dictionary in\n   neutron_bigswitch_data.json\n\nCloses-Bug: #1729453\n\nChange-Id: I3bc9940aeff4e290d83de95a7df294c11f061954\n(cherry picked from commit 485339129cee8f5d3223cf47858a5c9f79b0a8de)\n""}]",0,517104,72b33c9396fd6824c96e03d45ceb99b0cf6d1452,18,6,2,20751,,,0,"added level of indirection causes incorrect hiera config

 - until Newton this worked fine, however starting with Ocata, we
   do not need the key 'mapped_data'
 - having it results in extra indirection in the dictionary in
   neutron_bigswitch_data.json

Closes-Bug: #1729453

Change-Id: I3bc9940aeff4e290d83de95a7df294c11f061954
(cherry picked from commit 485339129cee8f5d3223cf47858a5c9f79b0a8de)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/517104/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml']",2,8e515c6eb111a1ccb073e7a56aa7bdfa17e03eba,osp131-stable/ocata, neutron::agents::bigswitch::agent_enabled: {get_input: neutron_enable_bigswitch_agent} neutron::agents::bigswitch::lldp_enabled: {get_input: neutron_enable_bigswitch_lldp} neutron::plugins::ml2::bigswitch::restproxy::servers: {get_input: restproxy_servers} neutron::plugins::ml2::bigswitch::restproxy::server_auth: {get_input: restproxy_server_auth} neutron::plugins::ml2::bigswitch::restproxy::auto_sync_on_failure: {get_input: restproxy_auto_sync_on_failure} neutron::plugins::ml2::bigswitch::restproxy::consistency_interval: {get_input: restproxy_consistency_interval} neutron::plugins::ml2::bigswitch::restproxy::neutron_id: {get_input: restproxy_neutron_id} neutron::plugins::ml2::bigswitch::restproxy::server_ssl: {get_input: restproxy_server_ssl} neutron::plugins::ml2::bigswitch::restproxy::ssl_cert_directory: {get_input: restproxy_ssl_cert_directory}, mapped_data: neutron::agents::bigswitch::agent_enabled: {get_input: neutron_enable_bigswitch_agent} neutron::agents::bigswitch::lldp_enabled: {get_input: neutron_enable_bigswitch_lldp} neutron::plugins::ml2::bigswitch::restproxy::servers: {get_input: restproxy_servers} neutron::plugins::ml2::bigswitch::restproxy::server_auth: {get_input: restproxy_server_auth} neutron::plugins::ml2::bigswitch::restproxy::auto_sync_on_failure: {get_input: restproxy_auto_sync_on_failure} neutron::plugins::ml2::bigswitch::restproxy::consistency_interval: {get_input: restproxy_consistency_interval} neutron::plugins::ml2::bigswitch::restproxy::neutron_id: {get_input: restproxy_neutron_id} neutron::plugins::ml2::bigswitch::restproxy::server_ssl: {get_input: restproxy_server_ssl} neutron::plugins::ml2::bigswitch::restproxy::ssl_cert_directory: {get_input: restproxy_ssl_cert_directory},19,21
openstack%2Ftripleo-heat-templates~stable%2Focata~Iacad25da044f2bac83ee5f577ddcd70650eb61e5,openstack/tripleo-heat-templates,stable/ocata,Iacad25da044f2bac83ee5f577ddcd70650eb61e5,Make nova patching parameters configurable in Nuage,MERGED,2017-10-12 20:23:58.000000000,2017-11-05 09:47:46.000000000,2017-11-05 09:47:46.000000000,"[{'_account_id': 3}, {'_account_id': 18343}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-12 20:23:58.000000000', 'files': ['puppet/services/neutron-plugin-ml2-nuage.yaml', 'environments/neutron-nuage-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fd64cf919f59338338f932e5a38439efa42ac6c', 'message': 'Make nova patching parameters configurable in Nuage\n\nNova patching parameters are available in nova.conf but are not\nconfigurable from tripleo-heat-templates. Exposing these parameters\nfrom Nuage composable services to make them configurable. It enables\nsetting the patching parameters in environment files. This change\ndepends on the addition of nova patching configuration parameters.\n\nChange-Id: Iacad25da044f2bac83ee5f577ddcd70650eb61e5\nDepends-On: I51ef3e19daff1d98cfe5c2c16475c16e6a3e3e0f\n(cherry picked from commit f0041153eca8d82bb7f72dc68676cab8448ef037)\n'}]",0,511566,0fd64cf919f59338338f932e5a38439efa42ac6c,13,5,1,18343,,,0,"Make nova patching parameters configurable in Nuage

Nova patching parameters are available in nova.conf but are not
configurable from tripleo-heat-templates. Exposing these parameters
from Nuage composable services to make them configurable. It enables
setting the patching parameters in environment files. This change
depends on the addition of nova patching configuration parameters.

Change-Id: Iacad25da044f2bac83ee5f577ddcd70650eb61e5
Depends-On: I51ef3e19daff1d98cfe5c2c16475c16e6a3e3e0f
(cherry picked from commit f0041153eca8d82bb7f72dc68676cab8448ef037)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/511566/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-plugin-ml2-nuage.yaml', 'environments/neutron-nuage-config.yaml']",2,0fd64cf919f59338338f932e5a38439efa42ac6c,, NovaPatchConfigMonkeyPatch: false NovaPatchConfigMonkeyPatchModules: '',,14,0
openstack%2Fcharm-swift-proxy~master~I2d5cca233d48022073b5975c06c3da2b1896d8d9,openstack/charm-swift-proxy,master,I2d5cca233d48022073b5975c06c3da2b1896d8d9,Add statsd logging support to the swift-proxy charm,MERGED,2017-11-03 05:25:48.000000000,2017-11-05 09:36:07.000000000,2017-11-05 09:36:07.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24099}]","[{'number': 1, 'created': '2017-11-03 05:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/231bfb8337841949ce51ea24b875af8a475551e6', 'message': ""Add statsd logging support to the swift-proxy charm\n\nBy default, statsd metrics can be sent by swift-proxy\nfor diagnostic and monitoring purposes, but are disabled\nby default. This change exposes charm config settings\nthat allow it to be enabled by setting 'statsd_host'\nto a non-empty value. 'statsd_port' and 'statsd_sample_rate'\nare also supported for changing the destination port\nand rate at which metrics are collected.\n\nCloses-Bug: #1729771\n\nChange-Id: I2d5cca233d48022073b5975c06c3da2b1896d8d9\n""}, {'number': 2, 'created': '2017-11-03 05:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/085174089cdddf49089c7d331af4e662e9b6d44d', 'message': ""Add statsd logging support to the swift-proxy charm\n\nBy default, statsd metrics can be sent by swift-proxy\nfor diagnostic and monitoring purposes, but are disabled\nby default. This change exposes charm config settings\nthat allow it to be enabled by setting 'statsd_host'\nto a non-empty value. 'statsd_port' and 'statsd_sample_rate'\nare also supported for changing the destination port\nand rate at which metrics are collected.\n\nCloses-Bug: #1729771\n\nChange-Id: I2d5cca233d48022073b5975c06c3da2b1896d8d9\n""}, {'number': 3, 'created': '2017-11-05 07:04:58.000000000', 'files': ['templates/mitaka/proxy-server.conf', 'templates/icehouse/proxy-server.conf', 'unit_tests/test_templates.py', 'config.yaml', 'templates/kilo/proxy-server.conf', 'templates/grizzly/proxy-server.conf', 'templates/havana/proxy-server.conf', 'lib/swift_context.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a11ff79fc7900879fa077e92c567341305964716', 'message': ""Add statsd logging support to the swift-proxy charm\n\nBy default, statsd metrics can be sent by swift-proxy\nfor diagnostic and monitoring purposes, but are disabled\nby default. This change exposes charm config settings\nthat allow it to be enabled by setting 'statsd_host'\nto a non-empty value. 'statsd_port' and 'statsd_sample_rate'\nare also supported for changing the destination port\nand rate at which metrics are collected.\n\nCloses-Bug: #1729771\n\nChange-Id: I2d5cca233d48022073b5975c06c3da2b1896d8d9\n""}]",1,517543,a11ff79fc7900879fa077e92c567341305964716,16,4,3,24099,,,0,"Add statsd logging support to the swift-proxy charm

By default, statsd metrics can be sent by swift-proxy
for diagnostic and monitoring purposes, but are disabled
by default. This change exposes charm config settings
that allow it to be enabled by setting 'statsd_host'
to a non-empty value. 'statsd_port' and 'statsd_sample_rate'
are also supported for changing the destination port
and rate at which metrics are collected.

Closes-Bug: #1729771

Change-Id: I2d5cca233d48022073b5975c06c3da2b1896d8d9
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/43/517543/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mitaka/proxy-server.conf', 'templates/icehouse/proxy-server.conf', 'unit_tests/test_templates.py', 'config.yaml', 'templates/kilo/proxy-server.conf', 'templates/grizzly/proxy-server.conf', 'templates/havana/proxy-server.conf', 'lib/swift_context.py']",8,231bfb8337841949ce51ea24b875af8a475551e6,bug/1729771," 'statsd_host': config('statsd-host'), 'statsd_port': config('statsd-port'), 'statsd_sample_rate': config('statsd-sample-rate')",,70,1
openstack%2Fsecurity-doc~master~Ie8848e71c348faee2a2b4b1c2883189982090356,openstack/security-doc,master,Ie8848e71c348faee2a2b4b1c2883189982090356,Imported Translations from Zanata,MERGED,2017-11-05 07:00:28.000000000,2017-11-05 08:50:19.000000000,2017-11-05 08:50:19.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 07:00:28.000000000', 'files': ['security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/9a77bde983abf39e161dc68af5b1200fb9c6ac7a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie8848e71c348faee2a2b4b1c2883189982090356\n'}]",0,517810,9a77bde983abf39e161dc68af5b1200fb9c6ac7a,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie8848e71c348faee2a2b4b1c2883189982090356
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/10/517810/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/locale/de/LC_MESSAGES/security-guide.po'],1,9a77bde983abf39e161dc68af5b1200fb9c6ac7a,zanata/translations,"""POT-Creation-Date: 2017-11-04 08:02+0000\n""""PO-Revision-Date: 2017-11-04 12:45+0000\n""""A network topology should be provided with highlights specifically calling "" ""out the data flows and bridging points between the security domains. Network "" ""ingress and egress points should be identified along with any OpenStack "" ""logical system boundaries. Multiple diagrams might be needed to provide "" ""complete visual coverage of the system. A network topology document should "" ""include virtual networks created on behalf of tenants by the system along "" ""with virtual machine instances and gateways created by OpenStack."" msgstr """" ""Eine Netzwerktopologie sollte mit Highlights versehen werden, die "" ""ausdrücklich die Datenströme und Brückenpunkte zwischen den "" ""Sicherheitsdomänen aufruft. Netzwerk-Eingangs- und Ausgangspunkte sollten "" ""mit allen offenen logischen Systemgrenzen identifiziert werden. Es können "" ""mehrere Diagramme benötigt werden, um eine vollständige visuelle Abdeckung "" ""des Systems zu gewährleisten. Ein Netzwerk-Topologie-Dokument sollte "" ""virtuelle Netzwerke enthalten, die im Auftrag von Tenants durch das System "" ""zusammen mit virtuellen Maschineninstanzen und Gateways erstellt wurden, die "" ""von OpenStack erstellt wurden."" msgid """"msgid ""Allows secure login to nodes and guest VMs"" msgstr ""Ermöglicht eine sichere Anmeldung an Knoten und Gast-VMs"" msgid ""An overview of all services running within the cloud infrastructure."" msgstr ""Eine Übersicht aller Dienste, die in der Cloud-Infrastruktur laufen."" ""Clouds without stringent compliance requirements for written documentation "" ""might benefit from having a Configuration Management Database (CMDB). CMDBs "" ""are normally used for hardware asset tracking and overall life-cycle "" ""management. By leveraging a CMDB, an organization can quickly identify cloud "" ""infrastructure hardware such as compute nodes, storage nodes, or network "" ""devices. A CMDB can assist in identifying assets that exist on the network "" ""which may have vulnerabilities due to inadequate maintenance, inadequate "" ""protection, or being displaced and forgotten. An OpenStack provisioning "" ""system can provide some basic CMDB functions if the underlying hardware "" ""supports the necessary auto-discovery features."" msgstr """" ""Clouds ohne strenge Compliance-Anforderungen für die schriftliche "" ""Dokumentation können von einer Configuration Management Database (CMDB) "" ""profitieren. CMDBs werden normalerweise für die Hardware-Asset-Tracking und "" ""das gesamte Life-Cycle-Management verwendet. Durch die Nutzung einer CMDB "" ""kann eine Organisation schnell Cloud-Infrastruktur-Hardware wie Compute-"" ""Knoten, Speicherknoten oder Netzwerkgeräte identifizieren. Ein CMDB kann bei "" ""der Identifizierung von Vermögenswerten, die im Netzwerk vorhanden sind, "" ""helfen, die aufgrund unzureichender Wartung, unzureichendem Schutz oder "" ""Verschiebung und Vergessen von Schwachstellen auftreten können. Ein "" ""OpenStack-Provisioning-System kann einige grundlegende CMDB-Funktionen "" ""bereitstellen, wenn die zugrunde liegende Hardware die notwendigen Auto-"" ""Discovery-Funktionen unterstützt."" msgid """"msgid """" ""Documentation should provide a general description of the OpenStack "" ""environment and cover all systems used (for example, production, "" ""development, or test). Documenting system components, networks, services, "" ""and software often provides the bird's-eye view needed to thoroughly cover "" ""and consider security concerns, attack vectors, and possible security domain "" ""bridging points. A system inventory may need to capture ephemeral resources "" ""such as virtual machines or virtual disk volumes that would otherwise be "" ""persistent resources in a traditional IT system."" msgstr """" ""Die Dokumentation sollte eine allgemeine Beschreibung der OpenStack-Umgebung "" ""geben und alle verwendeten Systeme (Produktion, Entwicklung, Test usw.) "" ""abdecken. Die Dokumentation von Systemkomponenten, Netzwerken, Diensten und "" ""Software bietet oft die Vogelperspektive, die erforderlich ist, um "" ""Sicherheitsbedenken, Angriffsvektoren und mögliche "" ""Sicherheitsüberbrückungspunkte sorgfältig abzudecken und zu berücksichtigen. "" ""Ein Systeminventory muss möglicherweise ephemeren Ressourcen wie virtuelle "" ""Maschinen oder virtuelle Datenträgerabbiler erfassen, die ansonsten "" ""persistente Ressourcen in einem herkömmlichen IT-System sein würden."" ""Each OpenStack deployment embraces a wide variety of technologies, spanning "" ""Linux distributions, database systems, messaging queues, OpenStack "" ""components themselves, access control policies, logging services, security "" ""monitoring tools, and much more. It should come as no surprise that the "" ""security issues involved are equally diverse, and their in-depth analysis "" ""would require several guides. We strive to find a balance, providing enough "" ""context to understand OpenStack security issues and their handling, and "" ""provide external references for further information. The guide could be read "" ""from start to finish or used like a reference."" msgstr """" ""Jede OpenStack-Implementierung umfasst eine Vielzahl von Technologien, die "" ""sich über Linux-Distributionen, Datenbanksysteme, Messaging-Warteschlangen, "" ""OpenStack-Komponenten selbst, Zugriffskontrollrichtlinien, "" ""Protokollierungsdienste, Sicherheitsüberwachungsinstrumente und vieles mehr "" ""erstrecken. Es sollte nicht überraschen, dass die Sicherheitsfragen "" ""gleichermaßen unterschiedlich sind, und ihre eingehende Analyse würde "" ""mehrere Guides erfordern. Wir sind bestrebt, ein Gleichgewicht zu finden, "" ""das genügend Kontext bietet, um OpenStack Sicherheitsprobleme und deren "" ""Handhabung zu verstehen und externe Referenzen für weitere Informationen zur "" ""Verfügung zu stellen. Der Leidfaden kann von Anfang bis Ende gelesen werden, "" ""oder auszugsweise wie eine Referenz."" msgid """"msgid """" ""Knowing information about organizational assets is typically a best "" ""practice. An assets table can assist with validating security requirements "" ""and help to maintain standard security components such as firewall "" ""configuration, service port conflicts, security remediation areas, and "" ""compliance. Additionally, the table can help to understand the relationship "" ""between OpenStack components. The table might include:"" msgstr """" ""Informationen über organisatorische Vermögenswerte zu kennen ist "" ""normalerweise eine beste Praxis. Eine Assettentabelle kann bei der "" ""Validierung von Sicherheitsanforderungen helfen und zur Aufrechterhaltung "" ""standardmäßiger Sicherheitskomponenten wie Firewallkonfiguration, "" ""Serviceportkonflikte, Sicherheitsmaßnahmen und Compliance beitragen. Darüber "" ""hinaus kann die Tabelle helfen, die Beziehung zwischen OpenStack-Komponenten "" ""zu verstehen. Die Tabelle könnte Folgendes enthalten:"" msgid ""Services, protocols, and ports"" msgstr ""Dienste, Protokolle und Ports"" msgid """" ""Services, protocols, and ports being utilized in the OpenStack deployment."" msgstr """" ""Dienste, Protokolle und Ports, die in der OpenStack Installation benutzt "" ""werden."" msgid """" ""Supporting components, such as load-balancers, reverse proxies, DNS, or DHCP "" ""services"" msgstr """" ""Unterstützungskomponenten wie Load-Balancer, Reverse Proxies, DNS oder DHCP "" ""Services"" ","""POT-Creation-Date: 2017-11-03 14:12+0000\n""""PO-Revision-Date: 2017-10-22 04:22+0000\n""",127,2
openstack%2Fnetworking-odl~stable%2Fpike~I5c0cf37152eaa88a99a67d206416315982dc1c23,openstack/networking-odl,stable/pike,I5c0cf37152eaa88a99a67d206416315982dc1c23,Correction in dependency calculation for port pair group,MERGED,2017-10-19 14:46:03.000000000,2017-11-05 07:38:09.000000000,2017-11-05 07:38:09.000000000,"[{'_account_id': 333}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 13912}, {'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 26507}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-19 14:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d028120b88dc39d018cb4fd55dbee7963b499317', 'message': 'Correction in dependency calculation for port pair group\n\nport_pair_group resource depends on port_pairs. As per current\nimplementation, it is assumed that list of port_pair(dict\nrepresenting port_pair) is present in port_pair_group dict,\nunder key ""port_pairs"". But list of port_pair ""id"" is received\nfrom database. It causes dependency calculations to fail.\n\nChange-Id: I5c0cf37152eaa88a99a67d206416315982dc1c23\nCloses-bug: #1721441\n(cherry picked from commit 4469bc3d829d97ad56d36f6cb41e3042bb3a3976)\n'}, {'number': 2, 'created': '2017-11-02 12:54:54.000000000', 'files': ['networking_odl/journal/dependency_validations.py', 'networking_odl/tests/unit/sfc/constants.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0022243a9ad40e8dee5c9488e7248d6e368ef3ac', 'message': 'Correction in dependency calculation for port pair group\n\nport_pair_group resource depends on port_pairs. As per current\nimplementation, it is assumed that list of port_pair(dict\nrepresenting port_pair) is present in port_pair_group dict,\nunder key ""port_pairs"". But list of port_pair ""id"" is received\nfrom database. It causes dependency calculations to fail.\n\nChange-Id: I5c0cf37152eaa88a99a67d206416315982dc1c23\nCloses-bug: #1721441\n(cherry picked from commit 4469bc3d829d97ad56d36f6cb41e3042bb3a3976)\n'}]",0,513408,0022243a9ad40e8dee5c9488e7248d6e368ef3ac,18,8,2,17280,,,0,"Correction in dependency calculation for port pair group

port_pair_group resource depends on port_pairs. As per current
implementation, it is assumed that list of port_pair(dict
representing port_pair) is present in port_pair_group dict,
under key ""port_pairs"". But list of port_pair ""id"" is received
from database. It causes dependency calculations to fail.

Change-Id: I5c0cf37152eaa88a99a67d206416315982dc1c23
Closes-bug: #1721441
(cherry picked from commit 4469bc3d829d97ad56d36f6cb41e3042bb3a3976)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/08/513408/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/journal/dependency_validations.py', 'networking_odl/tests/unit/sfc/constants.py']",2,d028120b88dc39d018cb4fd55dbee7963b499317,bug/1721441-stable/pike," ""port_pairs"": [""78dcd363-fc23-aeb6-f44b-56dc5e2fb3ae""]"," ""port_pairs"": [ {""id"": ""78dcd363-fc23-aeb6-f44b-56dc5e2fb3ae""} ]",2,5
openstack%2Fproject-config~master~If0a1e4a2967b35f10a467c9397697053caa23472,openstack/project-config,master,If0a1e4a2967b35f10a467c9397697053caa23472,Stop indexing peakmem and dstat logs,MERGED,2017-11-05 02:59:45.000000000,2017-11-05 06:42:47.000000000,2017-11-05 06:42:47.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-05 02:59:45.000000000', 'files': ['roles/submit-logstash-jobs/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3271b4c0d5be4c5b16814d594554cf44f71744b6', 'message': ""Stop indexing peakmem and dstat logs\n\nThese two log files are fairly large, don't support log levels and were\nmatching the new screen-.* logfile regex. This meant they were getting\nindexed when they weren't before the zuulv3 switch. Lets stop indexing\nthem while we get the logostash and elasticsearch stuff under control\nthen consider adding them back in more slowly and intentionally once\nthere.\n\nChange-Id: If0a1e4a2967b35f10a467c9397697053caa23472\n""}]",0,517784,3271b4c0d5be4c5b16814d594554cf44f71744b6,7,3,1,4146,,,0,"Stop indexing peakmem and dstat logs

These two log files are fairly large, don't support log levels and were
matching the new screen-.* logfile regex. This meant they were getting
indexed when they weren't before the zuulv3 switch. Lets stop indexing
them while we get the logostash and elasticsearch stuff under control
then consider adding them back in more slowly and intentionally once
there.

Change-Id: If0a1e4a2967b35f10a467c9397697053caa23472
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/517784/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/submit-logstash-jobs/defaults/main.yaml'],1,3271b4c0d5be4c5b16814d594554cf44f71744b6,screen-log-indexing, - name: screen-(?!(peakmem_tracker|dstat)).*\.txt, - name: screen-.*\.txt,1,1
openstack%2Fcharm-swift-storage~master~If1bf3ced8a9ed07af81f352eb0263659d147e3aa,openstack/charm-swift-storage,master,If1bf3ced8a9ed07af81f352eb0263659d147e3aa,Add statsd metrics support to the swift-storage charm,MERGED,2017-11-03 05:35:48.000000000,2017-11-05 05:27:08.000000000,2017-11-05 05:27:08.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24099}]","[{'number': 1, 'created': '2017-11-03 05:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/9a2a89269d0d4f9f0a9a57d999e8feba6dbbe044', 'message': ""Add statsd metrics support to the swift-storage charm\n\nBy default, statsd metrics can be sent by the swift account,\ncontainer and object storage services for diagnostic and\nmonitoring purposes, but are disabled by default. This change exposes\ncharm config settings that allow it to be enabled by setting\n'statsd_host' to a non-empty value. 'statsd_port' and\n'statsd_sample_rate' are also supported for changing the destination\nport and rate at which metrics are collected.\n\nCloses-Bug: #1729770\n\nChange-Id: If1bf3ced8a9ed07af81f352eb0263659d147e3aa\n""}, {'number': 2, 'created': '2017-11-03 06:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/bd38107b491f64b6ace5a95eb3eb4d1c64f854a7', 'message': ""Add statsd metrics support to the swift-storage charm\n\nBy default, statsd metrics can be sent by the swift account,\ncontainer and object storage services for diagnostic and\nmonitoring purposes, but are disabled by default. This change exposes\ncharm config settings that allow it to be enabled by setting\n'statsd_host' to a non-empty value. 'statsd_port' and\n'statsd_sample_rate' are also supported for changing the destination\nport and rate at which metrics are collected.\n\nCloses-Bug: #1729770\n\nChange-Id: If1bf3ced8a9ed07af81f352eb0263659d147e3aa\n""}, {'number': 3, 'created': '2017-11-05 04:24:21.000000000', 'files': ['templates/account-server.conf', 'unit_tests/test_swift_storage_context.py', 'unit_tests/test_templates.py', 'lib/swift_storage_context.py', 'config.yaml', 'templates/container-server.conf', 'templates/object-server.conf'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/0876b4fb73a9b0a06f514416af7f4fd70519b141', 'message': ""Add statsd metrics support to the swift-storage charm\n\nBy default, statsd metrics can be sent by the swift account,\ncontainer and object storage services for diagnostic and\nmonitoring purposes, but are disabled by default. This change exposes\ncharm config settings that allow it to be enabled by setting\n'statsd_host' to a non-empty value. 'statsd_port' and\n'statsd_sample_rate' are also supported for changing the destination\nport and rate at which metrics are collected.\n\nCloses-Bug: #1729770\n\nChange-Id: If1bf3ced8a9ed07af81f352eb0263659d147e3aa\n""}]",1,517545,0876b4fb73a9b0a06f514416af7f4fd70519b141,15,4,3,24099,,,0,"Add statsd metrics support to the swift-storage charm

By default, statsd metrics can be sent by the swift account,
container and object storage services for diagnostic and
monitoring purposes, but are disabled by default. This change exposes
charm config settings that allow it to be enabled by setting
'statsd_host' to a non-empty value. 'statsd_port' and
'statsd_sample_rate' are also supported for changing the destination
port and rate at which metrics are collected.

Closes-Bug: #1729770

Change-Id: If1bf3ced8a9ed07af81f352eb0263659d147e3aa
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/45/517545/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/account-server.conf', 'unit_tests/test_swift_storage_context.py', 'lib/swift_storage_context.py', 'unit_tests/test_templates.py', 'config.yaml', 'templates/container-server.conf', 'templates/object-server.conf']",7,9a2a89269d0d4f9f0a9a57d999e8feba6dbbe044,bug/1729770,{% if statsd_host %} log_statsd_host = {{ statsd_host }} log_statsd_port = {{ statsd_port }} log_statsd_default_sample_rate = {{ statsd_sample_rate }} {% endif %},,120,3
openstack%2Fdesignate~master~I922f2e4544de6eb3bddb134ccd87a3bafa5e6c08,openstack/designate,master,I922f2e4544de6eb3bddb134ccd87a3bafa5e6c08,Use oslo.context from_dict unmodified,MERGED,2017-10-10 20:45:55.000000000,2017-11-05 04:54:43.000000000,2017-11-05 04:54:43.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-10 20:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4abc6e2df04c7b472045ef551c5cc8c56add6be6', 'message': 'Use oslo.context from_dict unmodified\n\nWith the change to oslo.context in the depends-on, we no longer need\nto maintain an override for the from_dict function.  We only need\nto provide a list of additional keys in the appropriate class member.\n\nDepends-On: Ib143f8a5c129dbf6711800c4d87c8830a8aa3365\nChange-Id: I922f2e4544de6eb3bddb134ccd87a3bafa5e6c08\n'}, {'number': 2, 'created': '2017-10-19 21:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/121aa46ff3f7eba06b08d3b117902e1aff71d3b2', 'message': 'Use oslo.context from_dict unmodified\n\nWith the change to oslo.context in the depends-on, we no longer need\nto maintain an override for the from_dict function.  We only need\nto provide a list of additional keys in the appropriate class member.\n\nDepends-On: Ib143f8a5c129dbf6711800c4d87c8830a8aa3365\nChange-Id: I922f2e4544de6eb3bddb134ccd87a3bafa5e6c08\n'}, {'number': 3, 'created': '2017-11-05 02:32:14.000000000', 'files': ['designate/context.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/3db4f09b56c76569beee175eba5335cf1a58a60d', 'message': 'Use oslo.context from_dict unmodified\n\nWith the change to oslo.context in the depends-on, we no longer need\nto maintain an override for the from_dict function.  We only need\nto provide a list of additional keys in the appropriate class member.\n\nDepends-On: Ib143f8a5c129dbf6711800c4d87c8830a8aa3365\nChange-Id: I922f2e4544de6eb3bddb134ccd87a3bafa5e6c08\n'}]",0,511027,3db4f09b56c76569beee175eba5335cf1a58a60d,14,4,3,6928,,,0,"Use oslo.context from_dict unmodified

With the change to oslo.context in the depends-on, we no longer need
to maintain an override for the from_dict function.  We only need
to provide a list of additional keys in the appropriate class member.

Depends-On: Ib143f8a5c129dbf6711800c4d87c8830a8aa3365
Change-Id: I922f2e4544de6eb3bddb134ccd87a3bafa5e6c08
",git fetch https://review.opendev.org/openstack/designate refs/changes/27/511027/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/context.py'],1,4abc6e2df04c7b472045ef551c5cc8c56add6be6,from-dict-keys," _FROM_DICT_EXTRA_KEYS = [ 'original_tenant', 'service_catalog', 'all_tenants', 'abandon', 'edit_managed_records', 'tsigkey_id','hide_counts', 'client_addr', ]"," @classmethod def from_dict(cls, values): extra_keys = ['original_tenant', 'service_catalog', 'all_tenants', 'abandon', 'edit_managed_records', 'tsigkey_id', 'hide_counts', 'client_addr'] kwargs = {k: values[k] for k in extra_keys} return super(DesignateContext, cls).from_dict(values, **kwargs) ",4,8
openstack%2Fmagnum~master~I5fb024a9c320fddc1eb3df2b49a784e59861f821,openstack/magnum,master,I5fb024a9c320fddc1eb3df2b49a784e59861f821,Using --option ARGUMENT,MERGED,2017-10-30 10:17:27.000000000,2017-11-05 04:29:19.000000000,2017-11-05 04:29:19.000000000,"[{'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 10:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/156ceb55b5956060b07944dbcc1164a069bb5576', 'message': 'Using --option ARGUMENT\n\nThe OpenStack CLI commands support both --option ARGUMENT and --option=ARGUMENT.\nIn technical publications, use --option ARGUMENT.[1]\n\n[1]https://docs.openstack.org/doc-contrib-guide/writing-style/code-conventions.html\n\nChange-Id: I5fb024a9c320fddc1eb3df2b49a784e59861f821\n'}, {'number': 2, 'created': '2017-11-04 02:49:00.000000000', 'files': ['doc/source/admin/troubleshooting-guide.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9899aa1444c6e1bfff967c9500ad7572be80374f', 'message': 'Using --option ARGUMENT\n\nThe OpenStack CLI commands support both --option ARGUMENT and --option=ARGUMENT.\nIn technical publications, use --option ARGUMENT.[1]\n\n[1]https://docs.openstack.org/doc-contrib-guide/writing-style/code-conventions.html\n\nChange-Id: I5fb024a9c320fddc1eb3df2b49a784e59861f821\n'}]",0,516236,9899aa1444c6e1bfff967c9500ad7572be80374f,9,4,2,22255,,,0,"Using --option ARGUMENT

The OpenStack CLI commands support both --option ARGUMENT and --option=ARGUMENT.
In technical publications, use --option ARGUMENT.[1]

[1]https://docs.openstack.org/doc-contrib-guide/writing-style/code-conventions.html

Change-Id: I5fb024a9c320fddc1eb3df2b49a784e59861f821
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/516236/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/troubleshooting-guide.rst'],1,156ceb55b5956060b07944dbcc1164a069bb5576,fixdocs, openstack user create trustee_domain_admin --password secret \ --domain magnum openstack role add --user=trustee_domain_admin --user-domain magnum \ --domain magnum admin, openstack user create trustee_domain_admin --password=secret \ --domain=magnum openstack role add --user=trustee_domain_admin --user-domain magnum --domain=magnum admin,4,3
openstack%2Ftripleo-common~stable%2Focata~Idf0ed93c8247d872735a4b49f7a6390c71514430,openstack/tripleo-common,stable/ocata,Idf0ed93c8247d872735a4b49f7a6390c71514430,"Take wwn_with_extension into account, when configuring a boot device",MERGED,2017-10-10 10:04:11.000000000,2017-11-05 01:49:10.000000000,2017-11-05 01:49:10.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-10 10:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f9bf46906cf3a6bd3d4bd78c5951d9cf4aba879', 'message': 'Take wwn_with_extension into account, when configuring a boot device\n\nSometimes wwn is not enough to identify a device, and a vendor extension\nhas to be used. The wwn_with_extension field contains both, as it has\nto be tried first.\n\nChange-Id: Idf0ed93c8247d872735a4b49f7a6390c71514430\nCloses-Bug: #1720780\n(cherry picked from commit c68cf6b10e49d6f5fbbec761fccb1d7aca1368fe)\n'}, {'number': 2, 'created': '2017-10-11 10:25:25.000000000', 'files': ['tripleo_common/actions/baremetal.py', 'tripleo_common/tests/actions/test_baremetal.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7b93bc144532c804dfc465d13c3cb97c7d063377', 'message': 'Take wwn_with_extension into account, when configuring a boot device\n\nSometimes wwn is not enough to identify a device, and a vendor extension\nhas to be used. The wwn_with_extension field contains both, as it has\nto be tried first.\n\nChange-Id: Idf0ed93c8247d872735a4b49f7a6390c71514430\nCloses-Bug: #1720780\n(cherry picked from commit c68cf6b10e49d6f5fbbec761fccb1d7aca1368fe)\n'}]",0,510817,7b93bc144532c804dfc465d13c3cb97c7d063377,17,7,2,10239,,,0,"Take wwn_with_extension into account, when configuring a boot device

Sometimes wwn is not enough to identify a device, and a vendor extension
has to be used. The wwn_with_extension field contains both, as it has
to be tried first.

Change-Id: Idf0ed93c8247d872735a4b49f7a6390c71514430
Closes-Bug: #1720780
(cherry picked from commit c68cf6b10e49d6f5fbbec761fccb1d7aca1368fe)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/510817/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal.py', 'tripleo_common/tests/actions/test_baremetal.py']",2,9f9bf46906cf3a6bd3d4bd78c5951d9cf4aba879,bug/1720780-stable/ocata," def test_smallest_with_ext(self): self.disks[2]['wwn_with_extension'] = 'wwnext' action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn_with_extension': 'wwnext'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 4}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_largest_with_ext(self): self.disks[3]['wwn_with_extension'] = 'wwnext' action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='largest') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn_with_extension': 'wwnext'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 20}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) ",,31,1
openstack%2Ftripleo-heat-templates~master~I482f77443ed6255fb9f1b67241dd6260be574e7f,openstack/tripleo-heat-templates,master,I482f77443ed6255fb9f1b67241dd6260be574e7f,Make KeystoneURL versionless,MERGED,2017-10-26 10:10:43.000000000,2017-11-05 01:14:50.000000000,2017-11-05 01:14:50.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8866}, {'_account_id': 9712}, {'_account_id': 10873}, {'_account_id': 11589}, {'_account_id': 14985}, {'_account_id': 22136}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-26 10:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66d88e4d63e7e2f33d3413cfe150147a9dfdc209', 'message': 'Update the KeystoneURL to use v3\n\nChange-Id: I482f77443ed6255fb9f1b67241dd6260be574e7f\nCloses-Bug: #1727454\n'}, {'number': 2, 'created': '2017-10-26 10:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d15a631b18472fd013535648cad6084d918c611', 'message': 'Update the KeystoneURL to use v3\n\nThis output is used by tripleo-common to populate the overcloudrc file.\n\nCloses-Bug: #1727454\nChange-Id: I482f77443ed6255fb9f1b67241dd6260be574e7f\n'}, {'number': 3, 'created': '2017-10-26 10:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b0170c2cd38d66e2e4151780a3227fd026530e9', 'message': 'Update the KeystoneURL to use v3\n\nThis output is used by tripleo-common to populate the overcloudrc file.\n\nCloses-Bug: #1727454\nChange-Id: I482f77443ed6255fb9f1b67241dd6260be574e7f\n'}, {'number': 4, 'created': '2017-10-26 14:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4695a04ace1f22b71e8cc15ebf8fffc834c65e28', 'message': 'Make KeystoneURL versionless\n\nNow that Keystone v2 has been removed, we can update this to a versionless\npath. This output is used by tripleo-common to populate the overcloudrc file.\n\nCloses-Bug: #1727454\nChange-Id: I482f77443ed6255fb9f1b67241dd6260be574e7f\n'}, {'number': 5, 'created': '2017-11-03 07:57:30.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'network/endpoints/endpoint_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50a67e1b4b3d337ec02166967d49564c95c94b95', 'message': 'Make KeystoneURL versionless\n\nNow that Keystone v2 has been removed, we can update this to a versionless\npath. This output is used by tripleo-common to populate the overcloudrc file.\n\nCloses-Bug: #1727454\nChange-Id: I482f77443ed6255fb9f1b67241dd6260be574e7f\n'}]",0,515351,50a67e1b4b3d337ec02166967d49564c95c94b95,32,11,5,9712,,,0,"Make KeystoneURL versionless

Now that Keystone v2 has been removed, we can update this to a versionless
path. This output is used by tripleo-common to populate the overcloudrc file.

Closes-Bug: #1727454
Change-Id: I482f77443ed6255fb9f1b67241dd6260be574e7f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/515351/2 && git format-patch -1 --stdout FETCH_HEAD,['network/endpoints/endpoint_map.yaml'],1,66d88e4d63e7e2f33d3413cfe150147a9dfdc209,bug/1727454, path: /v3 path: /v3 path: /v3, path: /v2.0 path: /v2.0 path: /v2.0,3,3
openstack%2Fmurano~master~If0eeef8b025b1f3be863728a8def81d944873ac5,openstack/murano,master,If0eeef8b025b1f3be863728a8def81d944873ac5,Use secure path join,MERGED,2017-11-01 07:14:09.000000000,2017-11-05 01:07:39.000000000,2017-11-05 01:07:39.000000000,"[{'_account_id': 7226}, {'_account_id': 14107}, {'_account_id': 19853}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-11-01 07:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/97df93ffc88a83d2266569d3784bb81569e5e344', 'message': 'Use secure path join\n\nChange-Id: If0eeef8b025b1f3be863728a8def81d944873ac5\nCloses-bug: #1729214\n'}, {'number': 2, 'created': '2017-11-01 07:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ac47dd36fa5542d6cc2ddbda52847dbd0057e7af', 'message': 'Use secure path join\n\nChange-Id: If0eeef8b025b1f3be863728a8def81d944873ac5\nCloses-bug: #1729214\n'}, {'number': 3, 'created': '2017-11-01 14:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/27f4b79881311d1a9b040990890768c5040c2b78', 'message': 'Use secure path join\n\nChange-Id: If0eeef8b025b1f3be863728a8def81d944873ac5\nCloses-bug: #1729214\n'}, {'number': 4, 'created': '2017-11-01 14:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/4c1da5239eeaf8885bbd33fc9d4e38a9943fb54d', 'message': '[WiP] Use secure path join\n\nChange-Id: If0eeef8b025b1f3be863728a8def81d944873ac5\nCloses-bug: #1729214\n'}, {'number': 5, 'created': '2017-11-01 23:49:16.000000000', 'files': ['murano/packages/mpl_package.py', 'contrib/plugins/cloudify_plugin/murano_cloudify_plugin/cloudify_tosca_package.py', 'murano/packages/package_base.py', 'murano/packages/package.py', 'murano/packages/hot_package.py', 'murano/packages/load_utils.py', 'murano/common/helpers/path.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/6674e065da73198863cbfb26d6574eea6b56501c', 'message': 'Use secure path join\n\nChange-Id: If0eeef8b025b1f3be863728a8def81d944873ac5\nCloses-bug: #1729214\n'}]",2,516868,6674e065da73198863cbfb26d6574eea6b56501c,17,5,5,7226,,,0,"Use secure path join

Change-Id: If0eeef8b025b1f3be863728a8def81d944873ac5
Closes-bug: #1729214
",git fetch https://review.opendev.org/openstack/murano refs/changes/68/516868/5 && git format-patch -1 --stdout FETCH_HEAD,"['murano/packages/mpl_package.py', 'contrib/plugins/cloudify_plugin/murano_cloudify_plugin/cloudify_tosca_package.py', 'murano/packages/package_base.py', 'murano/packages/package.py', 'murano/packages/hot_package.py', 'murano/packages/load_utils.py', 'murano/common/helpers/path.py']",7,97df93ffc88a83d2266569d3784bb81569e5e344,bug/1729214,"# Copyright (c) 2017 Mirantis Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import os.path def secure_join(*parts): """"""Join pathname components ensuring that with each join the result is a subdirectory of the previous join"""""" new = prev = """" for part in parts: new = os.path.normpath(os.path.join(prev, part)) if len(new) <= len(prev) or prev != """" and not new.startswith(prev + os.path.sep): raise ValueError('path {0} is not allowed'.format(os.path.join(*parts))) prev = new return new ",,52,22
openstack%2Fdesignate~master~I9bc8d3ac8eb48078723a96d87e023d58b933b183,openstack/designate,master,I9bc8d3ac8eb48078723a96d87e023d58b933b183,Check for multi level tlds,MERGED,2017-10-12 14:53:28.000000000,2017-11-04 23:51:26.000000000,2017-11-04 23:51:26.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-10-12 14:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4d2f761863189757d6194e5f27e789c4b70a8b41', 'message': 'Check for multi level tlds\n\nPreviously we only checked for the last label of a TLD\nwhich does not work for `co.uk` or custom internal\nTLDs that deployers may use\n\nChange-Id: I9bc8d3ac8eb48078723a96d87e023d58b933b183\n'}, {'number': 2, 'created': '2017-10-12 16:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f35ab15630adb6387e2d60d34f2246d890fba7a0', 'message': 'Check for multi level tlds\n\nPreviously we only checked for the last label of a TLD\nwhich does not work for `co.uk` or custom internal\nTLDs that deployers may use\n\nChange-Id: I9bc8d3ac8eb48078723a96d87e023d58b933b183\n'}, {'number': 3, 'created': '2017-10-13 11:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/104b83bd73f19e6540661f3b664b407ecb378329', 'message': 'Check for multi level tlds\n\nPreviously we only checked for the last label of a TLD\nwhich does not work for `co.uk` or custom internal\nTLDs that deployers may use\n\nChange-Id: I9bc8d3ac8eb48078723a96d87e023d58b933b183\n'}, {'number': 4, 'created': '2017-10-17 14:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/60ce68e3c81a338ce6fd7b8d7fe801e164585a33', 'message': 'Check for multi level tlds\n\nPreviously we only checked for the last label of a TLD\nwhich does not work for `co.uk` or custom internal\nTLDs that deployers may use\n\nChange-Id: I9bc8d3ac8eb48078723a96d87e023d58b933b183\n'}, {'number': 5, 'created': '2017-10-17 16:37:18.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'contrib/public_suffix_list.dat', 'designate/central/service.py', 'designate/objects/tld.py', 'designate/manage/tlds.py', 'releasenotes/notes/multilevel-tlds-3dadd285fed82715.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/5d9f35fea6a8e48247391c4a6e0fa2787490a404', 'message': 'Check for multi level tlds\n\nPreviously we only checked for the last label of a TLD\nwhich does not work for `co.uk` or custom internal\nTLDs that deployers may use\n\nChange-Id: I9bc8d3ac8eb48078723a96d87e023d58b933b183\n'}]",2,511496,5d9f35fea6a8e48247391c4a6e0fa2787490a404,20,4,5,8099,,,0,"Check for multi level tlds

Previously we only checked for the last label of a TLD
which does not work for `co.uk` or custom internal
TLDs that deployers may use

Change-Id: I9bc8d3ac8eb48078723a96d87e023d58b933b183
",git fetch https://review.opendev.org/openstack/designate refs/changes/96/511496/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/objects/tld.py', 'devstack/upgrade/resources.sh', 'releasenotes/notes/multilevel-tlds-3dadd285fed82715.yaml']",4,4d2f761863189757d6194e5f27e789c4b70a8b41,fix-tlds,--- fixes: - | Check for multi level tlds Previously we only checked for the last label of a TLD which does not work for `co.uk` or custom internal TLDs that deployers may use ,,26,7
openstack%2Fdesignate~master~I6f205de181c8d117f46ee9f1d545484e81aefec5,openstack/designate,master,I6f205de181c8d117f46ee9f1d545484e81aefec5,Imported Translations from Zanata,MERGED,2017-10-31 07:22:35.000000000,2017-11-04 23:31:08.000000000,2017-11-04 23:31:08.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-31 07:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cfa11900e127f199684616c6b2ec9953bbe49600', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f205de181c8d117f46ee9f1d545484e81aefec5\n'}, {'number': 2, 'created': '2017-11-01 07:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0e6a9ac5a5d614511dc5038a6288c8fb1ad47507', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f205de181c8d117f46ee9f1d545484e81aefec5\n'}, {'number': 3, 'created': '2017-11-02 07:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fd694cb9e798fb5e76ae6c6c8b901cc0fe732353', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f205de181c8d117f46ee9f1d545484e81aefec5\n'}, {'number': 4, 'created': '2017-11-03 07:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bc70aaaf4cd4321bde20064c6cd6043b6bc1fbfa', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f205de181c8d117f46ee9f1d545484e81aefec5\n'}, {'number': 5, 'created': '2017-11-04 07:00:21.000000000', 'files': ['designate/locale/en_GB/LC_MESSAGES/designate.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/94f0ac732d21a2600f16943c1668f1aa4aa2e191', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f205de181c8d117f46ee9f1d545484e81aefec5\n'}]",0,516535,94f0ac732d21a2600f16943c1668f1aa4aa2e191,14,2,5,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6f205de181c8d117f46ee9f1d545484e81aefec5
",git fetch https://review.opendev.org/openstack/designate refs/changes/35/516535/5 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,cfa11900e127f199684616c6b2ec9953bbe49600,zanata/translations,"""Project-Id-Version: Designate Release Notes 6.0.0\n""""POT-Creation-Date: 2017-10-30 20:19+0000\n""""PO-Revision-Date: 2017-10-30 09:29+0000\n""msgid ""6.0.0.0b1-7"" msgstr ""6.0.0.0b1-7""","""Project-Id-Version: Designate Release Notes 5.0.1\n""""POT-Creation-Date: 2017-10-26 17:13+0000\n""""PO-Revision-Date: 2017-10-26 11:36+0000\n""msgid ""5.0.0-41"" msgstr ""5.0.0-41""",5,5
openstack%2Fdesignate~master~Ib2d8fcd01288a3237fda537d3652abe249f554b7,openstack/designate,master,Ib2d8fcd01288a3237fda537d3652abe249f554b7,Updated from global requirements,MERGED,2017-11-03 00:43:23.000000000,2017-11-04 23:31:07.000000000,2017-11-04 23:31:07.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 00:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a80a0e4526cb9f87ad81cb0417c22651882a59f7', 'message': 'Updated from global requirements\n\nChange-Id: Ib2d8fcd01288a3237fda537d3652abe249f554b7\n'}, {'number': 2, 'created': '2017-11-03 00:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d78b0dac99f578493a799fd433f8830086b33d8e', 'message': 'Updated from global requirements\n\nChange-Id: Ib2d8fcd01288a3237fda537d3652abe249f554b7\n'}, {'number': 3, 'created': '2017-11-03 13:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e10303482ef1f3961210640c53a4d8eb99967980', 'message': 'Updated from global requirements\n\nChange-Id: Ib2d8fcd01288a3237fda537d3652abe249f554b7\n'}, {'number': 4, 'created': '2017-11-03 17:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/169cc622ccee986f8a548c0c142509d971eca2d2', 'message': 'Updated from global requirements\n\nChange-Id: Ib2d8fcd01288a3237fda537d3652abe249f554b7\n'}, {'number': 5, 'created': '2017-11-03 17:47:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/6b28bd7cf684ab7f72cd29e454429e571b26b94a', 'message': 'Updated from global requirements\n\nChange-Id: Ib2d8fcd01288a3237fda537d3652abe249f554b7\n'}]",0,517467,6b28bd7cf684ab7f72cd29e454429e571b26b94a,12,2,5,11131,,,0,"Updated from global requirements

Change-Id: Ib2d8fcd01288a3237fda537d3652abe249f554b7
",git fetch https://review.opendev.org/openstack/designate refs/changes/67/517467/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a80a0e4526cb9f87ad81cb0417c22651882a59f7,openstack/requirements,oslo.context>=2.19.2 # Apache-2.0,"oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",1,1
openstack%2Ftraining-guides~master~I8a7e23cb9767dec2d20c0c79e605ff14f22601cd,openstack/training-guides,master,I8a7e23cb9767dec2d20c0c79e605ff14f22601cd,Correct Birthday,MERGED,2017-11-04 23:04:12.000000000,2017-11-04 23:19:13.000000000,2017-11-04 23:19:13.000000000,"[{'_account_id': 17765}, {'_account_id': 21723}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 23:04:12.000000000', 'files': ['doc/upstream-training/source/slides/howitsmade-events.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/42dc892cf745be0b2b9ffdd42560204cca085bbd', 'message': 'Correct Birthday\n\nUpdated for 2017\n\nChange-Id: I8a7e23cb9767dec2d20c0c79e605ff14f22601cd\n'}]",0,517777,42dc892cf745be0b2b9ffdd42560204cca085bbd,7,3,1,15993,,,0,"Correct Birthday

Updated for 2017

Change-Id: I8a7e23cb9767dec2d20c0c79e605ff14f22601cd
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/77/517777/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/slides/howitsmade-events.rst'],1,42dc892cf745be0b2b9ffdd42560204cca085bbd,birthday,- 2017 was 7th birthday of OpenStack,- 2016 was 6th birthday of OpenStack,1,1
openstack%2Fneutron-fwaas~master~Ic7fd592530c38a3d2e81e5c810bdde0b9fb2330a,openstack/neutron-fwaas,master,Ic7fd592530c38a3d2e81e5c810bdde0b9fb2330a,TEST FOR CI DO NOT REVIEW,ABANDONED,2016-02-29 14:03:40.000000000,2017-11-04 23:13:06.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 15330}]","[{'number': 1, 'created': '2016-02-29 14:03:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/94f197ecf174384426c106892d1eecc6d0ec70e7', 'message': 'TEST FOR CI DO NOT REVIEW\n\nChange-Id: Ic7fd592530c38a3d2e81e5c810bdde0b9fb2330a\n'}]",0,286059,94f197ecf174384426c106892d1eecc6d0ec70e7,27,4,1,6854,,,0,"TEST FOR CI DO NOT REVIEW

Change-Id: Ic7fd592530c38a3d2e81e5c810bdde0b9fb2330a
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/59/286059/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,94f197ecf174384426c106892d1eecc6d0ec70e7,ci-test, # test,,2,0
openstack%2Fneutron~master~Id78c26922c2052172f9c593fcad9e2bbdf2bdaa2,openstack/neutron,master,Id78c26922c2052172f9c593fcad9e2bbdf2bdaa2,This is the test of Openstack CI,ABANDONED,2016-10-03 07:29:20.000000000,2017-11-04 23:12:57.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 20671}]","[{'number': 1, 'created': '2016-10-03 07:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a730bee371f314729e94345e17037f8fd0a7b8ed', 'message': 'This is the test of Openstack CI\n\nPlease ignore this patch set.\n\nChange-Id: Id78c26922c2052172f9c593fcad9e2bbdf2bdaa2\n'}, {'number': 2, 'created': '2016-10-04 11:15:34.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c2c0936fcbdd9772aaf91af26e98af9d8745acb', 'message': 'This is the test of Openstack CI\n\nPlease ignore this patch set.\n\nChange-Id: Id78c26922c2052172f9c593fcad9e2bbdf2bdaa2\n'}]",0,380956,1c2c0936fcbdd9772aaf91af26e98af9d8745acb,23,10,2,20671,,,0,"This is the test of Openstack CI

Please ignore this patch set.

Change-Id: Id78c26922c2052172f9c593fcad9e2bbdf2bdaa2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/380956/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a730bee371f314729e94345e17037f8fd0a7b8ed,CI_Test," echo ""this is test from bin""",,1,0
openstack%2Fneutron~master~Ie696b6494498070b5f81fbe4fea40f3d48aa6161,openstack/neutron,master,Ie696b6494498070b5f81fbe4fea40f3d48aa6161,Add unit test in test_idlutils,ABANDONED,2016-10-21 03:20:42.000000000,2017-11-04 23:12:29.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 21784}, {'_account_id': 22574}]","[{'number': 1, 'created': '2016-10-21 03:20:42.000000000', 'files': ['neutron/tests/unit/agent/ovsdb/native/test_idlutils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a37de7f7d6cb207c2b290e19dad7027bbe05bc9', 'message': 'Add unit test in test_idlutils\n\nthis patch add a unit test about RowNotFound.\n\nChange-Id: Ie696b6494498070b5f81fbe4fea40f3d48aa6161\n'}]",0,389500,8a37de7f7d6cb207c2b290e19dad7027bbe05bc9,17,10,1,22574,,,0,"Add unit test in test_idlutils

this patch add a unit test about RowNotFound.

Change-Id: Ie696b6494498070b5f81fbe4fea40f3d48aa6161
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/389500/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/ovsdb/native/test_idlutils.py'],1,8a37de7f7d6cb207c2b290e19dad7027bbe05bc9,test_idlutils,"import functoolsfrom neutron_lib._i18n import _ def _raise(exc_class, **kwargs): raise exc_class(**kwargs) def _check_nexc(self, exc_class, expected_msg, **kwargs): raise_exc_class = functools.partial(_raise, exc_class) e = self.assertRaises(exc_class, raise_exc_class, **kwargs) self.assertEqual(expected_msg, str(e)) self.assertTrue(e.use_fatal_exceptions()) def test_row_not_found(self): self._check_nexc( idlutils.RowNotFound, _(""Cannot find table with column=match""), table='table', col='column', match='match')",,18,1
openstack%2Fneutron~master~Icb60a930eb2b354284c1877cab735b1545249ca4,openstack/neutron,master,Icb60a930eb2b354284c1877cab735b1545249ca4,WIP rework keepalived master state forfeit test,ABANDONED,2017-03-24 21:15:52.000000000,2017-11-04 23:12:18.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-24 21:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6ed0d2a8f4b1b459ec54fb98836e47aadb65064', 'message': 'WIP rework keepalived master state forfeit test\n\nChange-Id: Icb60a930eb2b354284c1877cab735b1545249ca4\n'}, {'number': 2, 'created': '2017-03-25 07:37:54.000000000', 'files': ['neutron/conf/agent/l3/ha.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b4c7bb27a29c63f99a792d7b5dc53a4a0e8271a', 'message': 'WIP rework keepalived master state forfeit test\n\nChange-Id: Icb60a930eb2b354284c1877cab735b1545249ca4\n'}]",5,449820,5b4c7bb27a29c63f99a792d7b5dc53a4a0e8271a,25,11,2,9656,,,0,"WIP rework keepalived master state forfeit test

Change-Id: Icb60a930eb2b354284c1877cab735b1545249ca4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/449820/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/agent/l3/ha.py', 'neutron/tests/fullstack/test_l3_agent.py']",2,f6ed0d2a8f4b1b459ec54fb98836e47aadb65064,bug/1647432,"import eventletfrom neutron.conf.agent.l3 import ha as ha_conf def _start_flip_detector(self, state_file): self.flipped = False def _check_for_no_flips(): while True: state = self._get_keepalived_state(state_file) if state != 'master': self.flipped = True break time.sleep(0.1) check_thread = eventlet.spawn(_check_for_no_flips) self.addCleanup(check_thread.kill) # create fake VMs vms = [ self._boot_fake_vm_in_network( host, tenant_id, network['id'], wait=False) # speed up the test by booting in parallel for i in range(10) ] for vm in vms: vm.block_until_boot() # start a thread that will detect a master to slave flip if occurred self._start_flip_detector(keepalived_state_file) # now bomb keepalived with SIGHUP per floatingip created vm_fips = {} for vm in vms: fip = self.safe_client.create_floatingip( tenant_id, ext_net['id'], vm.ip, vm.neutron_port['id']) vm_fips[vm] = fip # wait until all floatingips are up and working for vm, fip in vm_fips.items(): vm.block_until_ping(fip['floating_ip_address']) # wait a bit more for the cluster to settle time.sleep( # give time for the last throttler event to trigger... ha_conf._DEFAULT_HA_VRRP_ADVERT_INT * ha_router.THROTTLER_MULTIPLIER # ...and some more, just in case * 1.3) # check that the master hasn't flipped even once self.assertFalse(self.flipped)","from neutron.agent.common import utils as agent_utils # Create 10 fake VMs, each with a floating ip. Each floating ip # association should send a SIGHUP to the keepalived's parent process, # unless the Throttler works. vms = [self._boot_fake_vm_in_network(host, tenant_id, network['id'], wait=False) for i in range(10)] for vm in vms: self.safe_client.create_floatingip( tenant_id, ext_net['id'], vm.ip, vm.neutron_port['id']) # Check that the keepalived's state file has not changed and is still # master. This will indicate that the Throttler works. We want to check # for ha_vrrp_advert_int (the default is 2 seconds), plus a bit more. time_to_stop = (time.time() + (agent_utils.DEFAULT_THROTTLER_VALUE * ha_router.THROTTLER_MULTIPLIER * 1.3)) while True: if time.time() > time_to_stop: break self.assertEqual( ""master"", self._get_keepalived_state(keepalived_state_file))",50,22
openstack%2Fneutron~master~I488b7c689f5b6d352a76ce4e73c549f0e3b7fcdd,openstack/neutron,master,I488b7c689f5b6d352a76ce4e73c549f0e3b7fcdd,Adding a random lease_time value for dhcp-agent in large scale environment.,ABANDONED,2017-02-16 05:53:01.000000000,2017-11-04 23:12:09.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17821}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-02-16 05:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06a5b46c63f8ad94c3574817a3dcb8f0f487d0f4', 'message': 'Adding a random lease_time value for dhcp-agent in large scale environment.\n\nWe add a vary called dhcp_lease_random in conf file common.py,\nit is used for getting a random dhcp_lease value,\nand modify some old Errors of PEP8 in dhcp.py file.\n\nFixes Bug1652728\n\nChange-Id: I488b7c689f5b6d352a76ce4e73c549f0e3b7fcdd\n'}, {'number': 2, 'created': '2017-02-16 07:14:38.000000000', 'files': ['neutron/conf/common.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e140688fd67b913239878f2ee6c6e65600907491', 'message': 'Adding a random lease_time value for dhcp-agent in large scale environment.\n\nWe add a vary called dhcp_lease_random in conf file common.py,\nit is used for getting a random dhcp_lease value,\nand modify some old Errors of PEP8 in dhcp.py file.\n\nCloses-bug: #1652728\n\nChange-Id: I488b7c689f5b6d352a76ce4e73c549f0e3b7fcdd\n'}]",9,434663,e140688fd67b913239878f2ee6c6e65600907491,25,14,2,24240,,,0,"Adding a random lease_time value for dhcp-agent in large scale environment.

We add a vary called dhcp_lease_random in conf file common.py,
it is used for getting a random dhcp_lease value,
and modify some old Errors of PEP8 in dhcp.py file.

Closes-bug: #1652728

Change-Id: I488b7c689f5b6d352a76ce4e73c549f0e3b7fcdd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/434663/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/common.py', 'neutron/agent/linux/dhcp.py']",2,06a5b46c63f8ad94c3574817a3dcb8f0f487d0f4,Bug1652728," # random is the modulus of network id's first segment random = int(self.network.id.split('-')[0], 16) % \ self.conf.dhcp_lease_random lease = '%ss' % (self.conf.dhcp_lease_duration + random) log_dir) timestamp = int(time.time()) + self.conf.dhcp_lease_duration + \ int(self.network.id.split('-')[0], 16) % \ self.conf.dhcp_lease_random (port.mac_address, self._ID, client_id, name, ip_address)) subnets[alloc.subnet_id].gateway_ip == alloc.ip_address): isolated_subnets[alloc.subnet_id] = False subnet.cidr, gateway)) subnet.cidr, subnet.gateway_ip))"," lease = '%ss' % self.conf.dhcp_lease_duration log_dir) timestamp = int(time.time()) + self.conf.dhcp_lease_duration (port.mac_address, self._ID, client_id, name, ip_address)) subnets[alloc.subnet_id].gateway_ip == alloc.ip_address): isolated_subnets[alloc.subnet_id] = False subnet.cidr, gateway)) subnet.cidr, subnet.gateway_ip))",20,10
openstack%2Fnetworking-odl~master~I3ba7d0042745953d654f07a92366364780c3adf1,openstack/networking-odl,master,I3ba7d0042745953d654f07a92366364780c3adf1,Remove hearbeat sent to the neutron,ABANDONED,2017-04-03 07:54:34.000000000,2017-11-04 23:11:59.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 13912}]","[{'number': 1, 'created': '2017-04-03 07:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ea71048778b044582d85a9a153b36b356c4c5788', 'message': 'Remove hearbeat sent to the neutron\n\nNeutron require agents information for scheduling but ODL is agentless.\nThere is bug for the same in the neutron\n\nhttps://bugs.launchpad.net/neutron/+bug/1677496\n\nPTG Topic:  Neutron enhancement\n\nChange-Id: I3ba7d0042745953d654f07a92366364780c3adf1\nCloses-bug: #1674553\n'}, {'number': 2, 'created': '2017-04-04 11:25:58.000000000', 'files': ['networking_odl/ml2/pseudo_agentdb_binding.py', 'networking_odl/tests/unit/ml2/test_pseudo_agentdb_binding.py', 'networking_odl/tests/unit/common/test_websocket_client.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cef6f36db0a8c815bc122a7dedde0b07e9b6b28d', 'message': 'Remove hearbeat sent to the neutron\n\nNeutron require agents information for scheduling but ODL is agentless.\nThere is bug for the same in the neutron\n\nhttps://bugs.launchpad.net/neutron/+bug/1677496\n\nPTG Topic:  Neutron enhancement\n\nChange-Id: I3ba7d0042745953d654f07a92366364780c3adf1\nCloses-bug: #1674553\nDepends-On: Ia73d1f9d4def2497df987126d13422595cf4d7a0\n'}]",0,452625,cef6f36db0a8c815bc122a7dedde0b07e9b6b28d,10,4,2,13912,,,0,"Remove hearbeat sent to the neutron

Neutron require agents information for scheduling but ODL is agentless.
There is bug for the same in the neutron

https://bugs.launchpad.net/neutron/+bug/1677496

PTG Topic:  Neutron enhancement

Change-Id: I3ba7d0042745953d654f07a92366364780c3adf1
Closes-bug: #1674553
Depends-On: Ia73d1f9d4def2497df987126d13422595cf4d7a0
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/25/452625/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/ml2/pseudo_agentdb_binding.py', 'networking_odl/tests/unit/ml2/test_pseudo_agentdb_binding.py']",2,ea71048778b044582d85a9a153b36b356c4c5788,bug/1674553,," def test_update_agents_db(self): """"""test agent update."""""" self.mgr._update_agents_db( hostconfigs=self.sample_odl_hconfigs['hostconfigs']['hostconfig']) self.mgr.agents_db.create_or_update_agent.assert_called_once() def test_execute_no_exception(self): with mock.patch.object(pseudo_agentdb_binding, 'LOG') as mock_log: self.mgr._update_agents_db( self.sample_odl_hconfigs['hostconfigs']['hostconfig']) # Assert no exception happened self.assertFalse(mock_log.exception.called)",0,69
openstack%2Fneutron~master~I5e794ba4f40abfd8ca150dde8d811409f34dad13,openstack/neutron,master,I5e794ba4f40abfd8ca150dde8d811409f34dad13,[WIP] Testcase use pecan layer,ABANDONED,2016-11-16 06:19:31.000000000,2017-11-04 23:11:39.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20246}, {'_account_id': 20330}, {'_account_id': 22220}]","[{'number': 1, 'created': '2016-11-16 06:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c939b2570fcea4671303bb3efc521e9f21bac65c', 'message': 'Testcase use pecan layer\n\nThis patchset enables test cases to use pecan layer when\nwebframework=pecan in neutron.conf\n\nChange-Id: I5e794ba4f40abfd8ca150dde8d811409f34dad13\n'}, {'number': 2, 'created': '2016-11-16 06:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37fda48c4349955f771e581bbcc98522fc092a6e', 'message': 'Testcase use pecan layer\n\nThis patchset enables test cases to use pecan layer when\nwebframework=pecan in neutron.conf\n\nChange-Id: I5e794ba4f40abfd8ca150dde8d811409f34dad13\n'}, {'number': 3, 'created': '2016-11-16 06:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fa923a292cf092b517897532a6cc992ee2f4b74', 'message': 'Testcase use pecan layer\n\nThis patchset enables test cases to use pecan layer when\nwebframework=pecan in neutron.conf\n\nChange-Id: I5e794ba4f40abfd8ca150dde8d811409f34dad13\n'}, {'number': 4, 'created': '2016-11-16 17:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/034a43807c6bad1d061f1a46a6c322253d3c5211', 'message': '[WIP] Testcase use pecan layer\n\nThis patchset enables test cases to use pecan layer when\nwebframework=pecan in neutron.conf\n\nChange-Id: I5e794ba4f40abfd8ca150dde8d811409f34dad13\n'}, {'number': 5, 'created': '2017-03-03 01:11:48.000000000', 'files': ['neutron/tests/functional/pecan_wsgi/utils.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/pecan_wsgi/hooks/context.py', 'neutron/tests/unit/testlib_api.py', 'neutron/tests/functional/pecan_wsgi/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bb783946fdf9375bc64953b50978582e34413db', 'message': '[WIP] Testcase use pecan layer\n\nThis patchset enables test cases to use pecan layer when\nwebframework=pecan in neutron.conf\n\nChange-Id: I5e794ba4f40abfd8ca150dde8d811409f34dad13\n'}]",0,398118,6bb783946fdf9375bc64953b50978582e34413db,40,14,5,20246,,,0,"[WIP] Testcase use pecan layer

This patchset enables test cases to use pecan layer when
webframework=pecan in neutron.conf

Change-Id: I5e794ba4f40abfd8ca150dde8d811409f34dad13
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/398118/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/pecan_wsgi/app.py', 'neutron/tests/functional/pecan_wsgi/utils.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/pecan_wsgi/hooks/context.py', 'neutron/tests/unit/testlib_api.py', 'neutron/tests/functional/pecan_wsgi/config.py']",6,c939b2570fcea4671303bb3efc521e9f21bac65c,pecan-unit-test-override,," 400: '/error',",46,15
openstack%2Fneutron~master~I845da4b465a577c3b54f169b59b7aeb2f6a41030,openstack/neutron,master,I845da4b465a577c3b54f169b59b7aeb2f6a41030,add verification when narrowing allocation pool,ABANDONED,2017-03-09 03:15:39.000000000,2017-11-04 23:11:19.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6635}, {'_account_id': 10184}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20330}, {'_account_id': 23822}]","[{'number': 1, 'created': '2017-03-09 03:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04060b0ad558fd33b947757a40c8bc38f0dbed42', 'message': 'add verification when narrowing allocation pool\n\n1.problem\n    Now there are no verifications about narrowing allocation pool of subnet,\n    so there are some vms which have the ips in a subnet,\n    the ip of vm belong to the allocation pool of the subnet.\n    when we narrowed the range of allocation pool to ignore the ips of vm,\n    Now the operation can succeed.\n2.solution\n    The ipaddress of vm in ipallocation must belong to a ipallocationpools.\n    when narrowing the range of allocation pool.\n    we get the ipallocation from db verify the allocation poll with the vm ips\n    if not ,raise IPAllocationNotInAllocationPools.\n\nChange-Id: I845da4b465a577c3b54f169b59b7aeb2f6a41030\nCloses-Bug: #1634330\n'}, {'number': 2, 'created': '2017-03-09 03:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c58b84d9d2b14dd090460ec7fd406826c4b0b2bc', 'message': 'add verification when narrowing allocation pool\n\n1.problem\n    Now there are no verifications about narrowing allocation pool of subnet,\n    so there are some vms which have the ips in a subnet,\n    the ip of vm belong to the allocation pool of the subnet.\n    when we narrowed the range of allocation pool to ignore the ips of vm,\n    Now the operation can succeed.\n2.solution\n    The ipaddress of vm in ipallocation must belong to a ipallocationpools.\n    when narrowing the range of allocation pool.\n    we get the ipallocation from db verify the allocation poll with the vm ips\n    if not ,raise IPAllocationNotInAllocationPools.\n\nChange-Id: I845da4b465a577c3b54f169b59b7aeb2f6a41030\nCloses-Bug: #1634330\n'}, {'number': 3, 'created': '2017-03-09 05:18:53.000000000', 'files': ['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68d2852acd1afd20366123d8db024b16d68b27a3', 'message': 'add verification when narrowing allocation pool\n\n1.problem\n    Now there are no verifications about narrowing allocation pool of subnet,\n    so there are some vms which have the ips in a subnet,\n    the ip of vm belong to the allocation pool of the subnet.\n    when we narrowed the range of allocation pool to ignore the ips of vm,\n    Now the operation can succeed.\n2.solution\n    The ipaddress of vm in ipallocation must belong to a ipallocationpools.\n    when narrowing the range of allocation pool.\n    we get the ipallocation from db verify the allocation poll with the vm ips\n    if not ,raise IPAllocationNotInAllocationPools.\n\nChange-Id: I845da4b465a577c3b54f169b59b7aeb2f6a41030\nCloses-Bug: #1634330\n'}]",0,443400,68d2852acd1afd20366123d8db024b16d68b27a3,20,12,3,23822,,,0,"add verification when narrowing allocation pool

1.problem
    Now there are no verifications about narrowing allocation pool of subnet,
    so there are some vms which have the ips in a subnet,
    the ip of vm belong to the allocation pool of the subnet.
    when we narrowed the range of allocation pool to ignore the ips of vm,
    Now the operation can succeed.
2.solution
    The ipaddress of vm in ipallocation must belong to a ipallocationpools.
    when narrowing the range of allocation pool.
    we get the ipallocation from db verify the allocation poll with the vm ips
    if not ,raise IPAllocationNotInAllocationPools.

Change-Id: I845da4b465a577c3b54f169b59b7aeb2f6a41030
Closes-Bug: #1634330
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/443400/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/common/exceptions.py']",5,04060b0ad558fd33b947757a40c8bc38f0dbed42,bug/1634330,"class IPAllocationNotInAllocationPools(e.InUse): message = _(""IP Allocation %(allocation_ip)s is not in "" ""allocation pool %(allocation_pool)s."") ",,103,4
openstack%2Fneutron~master~I794b9898e4c7cc48f1a9b2bf319b6928468b0c48,openstack/neutron,master,I794b9898e4c7cc48f1a9b2bf319b6928468b0c48,Pluggable IPAM rollback mechanism is not robust,ABANDONED,2016-10-25 15:38:27.000000000,2017-11-04 23:11:05.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5170}, {'_account_id': 6635}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 12912}, {'_account_id': 12966}, {'_account_id': 13768}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16034}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2016-10-25 15:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e2016f1912a19a39223ac51eaed970d59ee17cd', 'message': 'Pluggable IPAM rollback mechanism is not robust\n\nPluggable IPAM retry mechanism is not robust. It catches only a very\nnarrow set of errors. Many other errors would not result in a rollback\nnotification to the external IPAM system.\n\nThis fix introduce sqlalchemy events based retry mechanism.\nAllocated and deallocated IPs saved in session info and used to rollback\nchanges at session rollback.\n\nChange-Id: I794b9898e4c7cc48f1a9b2bf319b6928468b0c48\nCloses-Bug: 1610483\n'}, {'number': 2, 'created': '2017-01-26 15:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d6f0e7c974878dcfdb83dadf4871f27bd4985e7', 'message': 'Pluggable IPAM rollback mechanism is not robust\n\nPluggable IPAM retry mechanism is not robust. It catches only a very\nnarrow set of errors. Many other errors would not result in a rollback\nnotification to the external IPAM system.\n\nThis fix introduce sqlalchemy events based retry mechanism.\nAllocated and deallocated IPs saved in session info and used to rollback\nchanges at session rollback.\n\nChange-Id: I794b9898e4c7cc48f1a9b2bf319b6928468b0c48\nCloses-Bug: 1610483\n'}, {'number': 3, 'created': '2017-01-27 18:06:43.000000000', 'files': ['neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a1366e380790ff8bc3d28f25da4e79c1049347e', 'message': 'Pluggable IPAM rollback mechanism is not robust\n\nPluggable IPAM retry mechanism is not robust. It catches only a very\nnarrow set of errors. Many other errors would not result in a rollback\nnotification to the external IPAM system.\n\nThis fix introduce sqlalchemy events based retry mechanism.\nAllocated and deallocated IPs saved in session info and used to rollback\nchanges at session rollback.\n\nChange-Id: I794b9898e4c7cc48f1a9b2bf319b6928468b0c48\nCloses-Bug: 1610483\n'}]",4,390594,0a1366e380790ff8bc3d28f25da4e79c1049347e,39,21,3,21198,,,0,"Pluggable IPAM rollback mechanism is not robust

Pluggable IPAM retry mechanism is not robust. It catches only a very
narrow set of errors. Many other errors would not result in a rollback
notification to the external IPAM system.

This fix introduce sqlalchemy events based retry mechanism.
Allocated and deallocated IPs saved in session info and used to rollback
changes at session rollback.

Change-Id: I794b9898e4c7cc48f1a9b2bf319b6928468b0c48
Closes-Bug: 1610483
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/390594/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py']",2,6e2016f1912a19a39223ac51eaed970d59ee17cd,bug/1610483,"from sqlalchemy.orm import create_session def _create_context_mock(self): session = create_session() session.begin() context = mock.Mock() context.session = session return context mocks['ipam']._ipam_deallocate_ips(self._create_context_mock(), mocks['driver'], mocks['ipam']._ipam_deallocate_ips(self._create_context_mock(), mocks['driver'], mock.ANY, ips) self._create_context_mock(), mocks['driver'], mocks['port'], ips) mocks['ipam']._ipam_allocate_ips(self._create_context_mock(), mocks['driver'], self._create_context_mock(), mocks['driver'], mocks['port'], ips) pool_mock, pool_mock.get_instance.return_value = mocks['driver'] context = self._create_context_mock() context, context.session.rollback() @mock.patch('neutron.ipam.driver.Pool') def test_allocate_multiple_ips_with_exception(self, pool_mock): self._test_allocate_multiple_ips_with_exception(pool_mock) @mock.patch('neutron.ipam.driver.Pool') def test_allocate_multiple_ips_with_exception_on_rollback(self, pool_mock): self._test_allocate_multiple_ips_with_exception(pool_mock, exc_on_deallocate=True) @mock.patch('neutron.ipam.driver.Pool') def test_deallocate_multiple_ips_with_exception(self, pool_mock): pool_mock.get_instance.return_value = mocks['driver'] context = self._create_context_mock() context, context.session.rollback() context = self._create_context_mock() context = self._create_context_mock() mocks['ipam'].allocate_ips_for_port_and_store( context, port_dict, port_id)","from neutron.db import models_v2 mocks['ipam']._ipam_deallocate_ips(mock.ANY, mocks['driver'], mocks['ipam']._ipam_deallocate_ips(mock.ANY, mocks['driver'], mock.ANY, ips) mock.ANY, mocks['driver'], mocks['port'], ips) mocks['ipam']._ipam_allocate_ips(mock.ANY, mocks['driver'], mock.ANY, mocks['driver'], mocks['port'], ips) mock.ANY, def test_allocate_multiple_ips_with_exception(self): self._test_allocate_multiple_ips_with_exception() def test_allocate_multiple_ips_with_exception_on_rollback(self): self._test_allocate_multiple_ips_with_exception(exc_on_deallocate=True) def test_deallocate_multiple_ips_with_exception(self): mock.ANY, context = mock.Mock() context = mock.Mock() mocks['ipam'].allocate_ips_for_port_and_store(context, port_dict, port_id) @mock.patch('neutron.ipam.driver.Pool') def test_update_db_subnet_new_pools_exception(self, pool_mock): context = mock.Mock() mocks = self._prepare_mocks_with_pool_mock(pool_mock) mocks['ipam'] = ipam_pluggable_backend.IpamPluggableBackend() new_port = {'fixed_ips': [{'ip_address': '192.168.1.20', 'subnet_id': 'some-id'}, {'ip_address': '192.168.1.50', 'subnet_id': 'some-id'}]} db_port = models_v2.Port(id='id', network_id='some-net-id') old_port = {'fixed_ips': [{'ip_address': '192.168.1.10', 'subnet_id': 'some-id'}, {'ip_address': '192.168.1.50', 'subnet_id': 'some-id'}]} changes = mocks['ipam'].Changes( add=[{'ip_address': '192.168.1.20', 'subnet_id': 'some-id'}], original=[{'ip_address': '192.168.1.50', 'subnet_id': 'some-id'}], remove=[{'ip_address': '192.168.1.10', 'subnet_id': 'some-id'}]) mocks['ipam']._delete_ip_allocation = mock.Mock() mocks['ipam']._make_port_dict = mock.Mock(return_value=old_port) mocks['ipam']._update_ips_for_port = mock.Mock(return_value=changes) mocks['ipam']._update_db_port = mock.Mock( side_effect=db_exc.DBDeadlock) # emulate raising exception on rollback actions mocks['ipam']._ipam_deallocate_ips = mock.Mock(side_effect=ValueError) mocks['ipam']._ipam_allocate_ips = mock.Mock(side_effect=ValueError) # Validate original exception (DBDeadlock) is not overridden by # exception raised on rollback (ValueError) self.assertRaises(db_exc.DBDeadlock, mocks['ipam'].update_port_with_ips, context, None, db_port, new_port, mock.Mock()) mocks['ipam']._ipam_deallocate_ips.assert_called_once_with( context, mocks['driver'], db_port, changes.add, revert_on_fail=False) mocks['ipam']._ipam_allocate_ips.assert_called_once_with( context, mocks['driver'], db_port, changes.remove, revert_on_fail=False) ",224,146
openstack%2Fneutron~master~I32e234963aa48ab51f6f06974c391c9dd90cb3b7,openstack/neutron,master,I32e234963aa48ab51f6f06974c391c9dd90cb3b7,Add ipv6 pd test case for tempest api test,ABANDONED,2017-03-27 17:44:17.000000000,2017-11-04 23:10:55.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 6635}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 12906}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 21784}, {'_account_id': 22220}]","[{'number': 1, 'created': '2017-03-27 17:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee5db14856c2a7a50ac58acf2878ebb69eeb2e94', 'message': 'Add ipv6 pd test case for tempest api test\n\nChange-Id: I32e234963aa48ab51f6f06974c391c9dd90cb3b7\n'}, {'number': 2, 'created': '2017-03-27 17:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/423c655a11bb1a0267d8da9cc2c0867c8dd84a14', 'message': 'Add ipv6 pd test case for tempest api test\n\nChange-Id: I32e234963aa48ab51f6f06974c391c9dd90cb3b7\n'}, {'number': 3, 'created': '2017-03-31 15:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09b38b97c8d11cfda3bcce6a388d88dca9021892', 'message': 'Add ipv6 pd test case for tempest api test\n\nChange-Id: I32e234963aa48ab51f6f06974c391c9dd90cb3b7\n'}, {'number': 4, 'created': '2017-03-31 15:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1fc1dfca1d03eec414985048bf71c06ec6329b9', 'message': 'Add ipv6 pd test case for tempest api test\n\nChange-Id: I32e234963aa48ab51f6f06974c391c9dd90cb3b7\n'}, {'number': 5, 'created': '2017-04-06 16:55:41.000000000', 'files': ['neutron/tests/tempest/scenario/test_ipv6_pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fffef61943e7dbe43cf0993800b8ec58935822eb', 'message': 'Add ipv6 pd test case for tempest api test\n\nChange-Id: I32e234963aa48ab51f6f06974c391c9dd90cb3b7\n'}]",23,450353,fffef61943e7dbe43cf0993800b8ec58935822eb,38,16,5,12906,,,0,"Add ipv6 pd test case for tempest api test

Change-Id: I32e234963aa48ab51f6f06974c391c9dd90cb3b7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/450353/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/api/test_dhcp_ipv6.py'],1,ee5db14856c2a7a50ac58acf2878ebb69eeb2e94,add-ipv6-test-tempet,"from tempest.common import waiters from tempest.lib.common import ssh from tempest.lib.common.utils import data_utilsfrom neutron.common import utilsfrom neutron.tests.tempest.scenario import constants as tempest_constants from neutron.tests.tempest.scenario import test_floatingipclass NetworksTestDHCPv6(base.BaseNetworkTest, test_floatingip.FloatingIpTestCasesMixin): cls.secgroup = cls.manager.network_client.create_security_group( name=data_utils.rand_name('secgroup-'))['security_group'] # these are for ipv6-pd testing cls.security_groups.append(cls.secgroup) cls.create_loginable_secgroup_rule(secgroup_id=cls.secgroup['id']) cls.create_pingable_secgroup_rule(secgroup_id=cls.secgroup['id']) cls._src_server = cls._create_server() @classmethod def _create_server_width_subnetwork( cls, subnet, create_floating_ip=True, network=None,): if network is None: network = cls.network ip_range = netaddr.IPRange(subnet[""allocation_pools""][0][""start""], subnet[""allocation_pools""][0][""end""]) port = cls.create_port( network, security_groups=[cls.secgroup['id']], fixed_ips=[{ 'subnet_id': subnet['id'], 'ip_address': netaddr.IPAddress(ip_range.last - 10).format() }]) if create_floating_ip: fip = cls.create_and_associate_floatingip(port['id']) else: fip = None server = cls.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=cls.keypair['name'], networks=[{'port': port['id']}])['server'] waiters.wait_for_server_status(cls.manager.servers_client, server['id'], tempest_constants.SERVER_STATUS_ACTIVE) return {'port': port, 'fip': fip, 'server': server} @decorators.idempotent_id('8abb182f-d701-4b30-b506-8be1a16fd1be') def test_dhcp_with_prefix_delegation(self): """"""When a subnetwork gets """""" if not CONF.network_feature_enabled.ipv6_pd_enabled: msg = ""IPv6 prefix delegation is not enabled"" raise self.__class__.cls.skipException(msg) kwargs = {'ip_version': 6, 'ipv6_ra_mode': 'slaac', 'ipv6_address_mode': 'slaac'} ipv6_pd_subnet = self.create_subnet(self.network, **kwargs) self.assertTrue(ipv6_pd_subnet['subnetpool_id'] == 'prefix_delegation') ipv6_pd_router = self.create_router( name='ipv6_pd_router', admin_state_up=True, ) self.addCleanup( self.delete_router, ipv6_pd_router['id']) self.create_router_interface( ipv6_pd_router['id'], ipv6_pd_subnet['id'] ) intf = self.create_router_interface( ipv6_pd_router['id'], ipv6_pd_subnet['id']) status_active = lambda: self.client.show_port( intf['port_id'])['port']['status'] == 'ACTIVE' utils.wait_until_true(status_active, exception=AssertionError) # assert the ip address prefix_config_value = ( CONF.network_feature_enabled.ipv6_pd_attributes['prefixs']) self.assertTrue( ipv6_pd_subnet[""allocation_pools""][0][""start""].startswith( prefix_config_value)) self.assertTrue( ipv6_pd_subnet[""allocation_pools""][0][""end""].startswith( prefix_config_value)) # ping the new server1 = self._src_server server1_ip = server1['fip']['floating_ip_address'] ssh_client = ssh.Client(server1_ip, CONF.validation.image_ssh_user, pkey=self.keypair['private_key']) dest_server_with_pd_fip = self._create_server_width_subnetwork( self.ipv6_pd_subnet) self.check_remote_connectivity( ssh_client, dest_server_with_pd_fip['fip']['floating_ip_address'])",class NetworksTestDHCPv6(base.BaseNetworkTest):,100,1
openstack%2Fpython-neutronclient~master~I98effff29de89ebfa9cda917702c8c85a0b618a5,openstack/python-neutronclient,master,I98effff29de89ebfa9cda917702c8c85a0b618a5,[WIP]Add support for additional protocols in FWaaS,ABANDONED,2017-03-02 11:16:24.000000000,2017-11-04 23:10:47.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}]","[{'number': 1, 'created': '2017-03-02 11:16:24.000000000', 'files': ['neutronclient/osc/v2/fwaas/firewallrule.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c9bd1c6c8b7336baa224063a8739623e649f7332', 'message': '[WIP]Add support for additional protocols in FWaaS\n\nAdd support for DCCP and SCTP protocol for packet filtering\nin FWaaS rules.\n\nChange-Id: I98effff29de89ebfa9cda917702c8c85a0b618a5\nDepends-On: #I312f7f572dab33bd56b0edf395e0e076d3203f5f\n'}]",0,440351,c9bd1c6c8b7336baa224063a8739623e649f7332,4,3,1,17776,,,0,"[WIP]Add support for additional protocols in FWaaS

Add support for DCCP and SCTP protocol for packet filtering
in FWaaS rules.

Change-Id: I98effff29de89ebfa9cda917702c8c85a0b618a5
Depends-On: #I312f7f572dab33bd56b0edf395e0e076d3203f5f
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/51/440351/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/osc/v2/fwaas/firewallrule.py'],1,c9bd1c6c8b7336baa224063a8739623e649f7332,add_additional_protocols_to_fwaas," choices=['tcp', 'udp', 'icmp', 'dccp', 'sctp', 'any'],"," choices=['tcp', 'udp', 'icmp', 'any'],",1,1
openstack%2Fneutron~master~I46560773ff1f837a9e7e0eff8e87a958f8d9bf48,openstack/neutron,master,I46560773ff1f837a9e7e0eff8e87a958f8d9bf48,Allow to users to set MTU for networks,ABANDONED,2017-04-13 15:18:18.000000000,2017-11-04 23:10:38.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15122}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 19690}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-13 15:18:18.000000000', 'files': ['neutron/api/v2/attributes.py', 'neutron/extensions/netmtu.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/47ba3e39e9e4174d95737dab5f460dbfeb34e8cc', 'message': 'Allow to users to set MTU for networks\n\nThe change will allow the users to modify the mtu value while\ncreating the network. It will also allow the MTU value to be\nwritable based on the type of physical network deployed.\n\nChange-Id: I46560773ff1f837a9e7e0eff8e87a958f8d9bf48\n'}]",1,456663,47ba3e39e9e4174d95737dab5f460dbfeb34e8cc,13,12,1,19690,,,0,"Allow to users to set MTU for networks

The change will allow the users to modify the mtu value while
creating the network. It will also allow the MTU value to be
writable based on the type of physical network deployed.

Change-Id: I46560773ff1f837a9e7e0eff8e87a958f8d9bf48
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/456663/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/v2/attributes.py', 'neutron/extensions/netmtu.py']",2,47ba3e39e9e4174d95737dab5f460dbfeb34e8cc,," MTU: {'allow_post': False, 'allow_put': True,"," MTU: {'allow_post': False, 'allow_put': False,",3,1
openstack%2Fneutron~master~Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6,openstack/neutron,master,Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6,Remove used ip which not in subnet pools,ABANDONED,2016-05-28 06:09:56.000000000,2017-11-04 23:10:27.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6635}, {'_account_id': 7448}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 11159}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 17776}, {'_account_id': 20000}, {'_account_id': 20076}, {'_account_id': 20082}, {'_account_id': 20123}, {'_account_id': 20146}, {'_account_id': 20251}, {'_account_id': 20254}, {'_account_id': 20256}, {'_account_id': 20257}, {'_account_id': 20330}, {'_account_id': 20566}, {'_account_id': 20787}, {'_account_id': 22019}, {'_account_id': 23288}, {'_account_id': 23310}]","[{'number': 1, 'created': '2016-05-28 06:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9598702b4c04e6ce48d38311e50fb6b7235c9f02', 'message': ""Remove gateway interface ip from used ips\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when subnet added into router,In fact, Before subnet added into the router ,'total_ips' of network does not contain 'gateway_ip'.\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 2, 'created': '2016-06-22 10:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/021025ee6f46ca0322b13f54bbdd385c5bd92574', 'message': ""Remove gateway interface ip from used ips\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 3, 'created': '2016-06-22 10:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20821ff6d659a2eef25d41d2d4751e9ed9d8539c', 'message': ""Remove gateway interface ip from used ips\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 4, 'created': '2016-06-22 13:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8c698dacf5ca2d5c56eb731aca814d4657f7935', 'message': ""Remove gateway interface ip from used ips\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 5, 'created': '2016-06-23 01:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff17c926d08715774e80fa5c3cf4e527346faf2b', 'message': ""Remove gateway interface ip from used ips\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 6, 'created': '2016-06-23 03:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da0770d4ee99c1ca5ec1a59e3653421616ef0881', 'message': ""Remove gateway interface ip from used ips\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 7, 'created': '2016-06-29 08:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e17e28da3a838e9c430649ab7048c10a4a6fd690', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 8, 'created': '2016-06-29 08:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa343ec147db1c1612273490857bfe37bab081ba', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 9, 'created': '2016-06-29 09:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ec9b33752d7af87963c14597704cfdbe284b37c', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 10, 'created': '2016-06-30 06:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/649c4c367df8b784a110e0bea6369bcad9be3c50', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 11, 'created': '2016-07-02 03:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f7a8234af34e82edf404d5be0126ab3f4267b4c', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 12, 'created': '2016-07-03 03:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a67c8d2ab81019dae2da6c0605493cd01abb52ed', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 13, 'created': '2016-07-03 07:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88f263ef36dab74bba4a6c513b0ffce5cc7f0d43', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 14, 'created': '2016-07-04 00:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfd904fb13f93c0ad94a9c0659a0312a98ef80e9', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 15, 'created': '2016-07-04 10:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adc5e0480a39cf5c67def11ba6200efe45f5fbcb', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 16, 'created': '2016-07-07 01:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d1c32bb2036005726da23606eca7b70c27a8a99', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 17, 'created': '2016-07-07 08:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aef70a6beb11e0acb2c3a8e6d66d39fabeb20568', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 18, 'created': '2016-07-12 01:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e852b8a13e7e09cf5d8586957d8203399eb63c19', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 19, 'created': '2016-07-12 08:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0fe8855674cfe3451a12693c2234ee4221d32b7', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 20, 'created': '2016-07-14 08:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d10f23aa7285898b29d51e1b1ccbd6031670139', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 21, 'created': '2016-07-25 11:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3f73b26f3ef7aab75b76cfd89efeb12b513df60', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 22, 'created': '2016-07-26 02:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1297215ea31d24dd034d517df4d175ff237ce4fc', 'message': ""Remove used ip which not in subnet pool from network used ip statistics\n\n'used_ips' field of 'net-ip-availability-list' command increased by 1 when\nsubnet added into router,In fact, Before subnet added into the router,\n'total_ips' of network does not contain 'gateway_ip'.so we will remove ip\nwhich not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 23, 'created': '2016-07-26 02:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7890dbb8c012b81bb44a7d31481f8a3bfe5d5b13', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 24, 'created': '2016-07-26 02:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43d33add4b7359c5d2580a7b3aa4f31b2d18ae82', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 25, 'created': '2016-07-28 03:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec958b336e83306e0dae0547ac40d1a352574c56', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 26, 'created': '2016-08-11 05:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cfc040309d1b26ebacc5babcd7856c45b82b532', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 27, 'created': '2016-08-11 05:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b52fe67925e1c5f8209fe833eea547794380c93b', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 28, 'created': '2016-08-12 07:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e8244ba18a7d5a094dfc56fef4ae007f2e0c206', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 29, 'created': '2016-08-15 06:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fe8baf7dfb985224c0bf216968af949b6dfed7b', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 30, 'created': '2016-08-16 00:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69f12fe80f6c11e04e8ccc66043821f79cffd3fe', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 31, 'created': '2016-08-16 10:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/974c339bb4123440bfdbc5d9f605667a809a9bd6', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 32, 'created': '2016-08-22 00:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46ba422e0788cd2f3257cb1b67dee4510d0b9fea', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 33, 'created': '2016-08-24 00:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/030210690896e0d97f89c9734cbfdd0d06fd183e', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 34, 'created': '2016-08-25 00:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37bc62567fba6c2e45c5b5bf5a7ce72f75ce6357', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 35, 'created': '2016-08-26 05:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b18f562b29c7b338cafa5e98171562060063e8a3', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 36, 'created': '2016-08-26 09:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c087ed6e7b00f0ac61e9813f4fe5bf82fb9e48c', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 37, 'created': '2016-08-27 05:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a960a8b05681812286ec734c66b2920d1a5a4912', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 38, 'created': '2016-08-28 06:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20501e5b1284d332ca4e63529c44e8089746978b', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 39, 'created': '2016-08-28 13:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c3048c75287917190196b718db0d9c63acc79fd', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 40, 'created': '2016-08-29 02:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07e831421db1eb172001ae923bbb45142988a0f0', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 41, 'created': '2016-08-29 11:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/caad21043998d055b26bf4df0b012ed9425c7b48', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 42, 'created': '2016-08-31 08:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1751c0748797ccfe9b37b6f726bd04d7fa1a2d3c', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 43, 'created': '2016-09-05 06:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87c6276534137de98ee45e271822518e358f8204', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 44, 'created': '2016-12-07 09:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7519980546104df5f3c6313678fca4f15dca2aa4', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 45, 'created': '2016-12-08 06:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd176dbce83248f61b6ac4a420e1671b80dc5095', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 46, 'created': '2016-12-09 03:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b22e6c02ca93f601d2a4ab448eb5d91c88b4497', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 47, 'created': '2016-12-12 10:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dea5f48072bae3a72e63e9699f14fab381882fb5', 'message': ""Remove used ip which not in subnet pool from network used ip\nstatistics\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 48, 'created': '2016-12-13 07:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2d8a4bc80d65d75879d12b3f11b8928184d6b78', 'message': ""Remove used ip which not in subnet pools from responses in command\n'net-ip-availability-list' and 'net-ip-availability-show'\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 49, 'created': '2016-12-13 07:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5a6631aa9d363288e7dec991c39c5b83b6c584f', 'message': ""Remove used ip which not in subnet pools from responses in command\n'net-ip-availability-list' or 'net-ip-availability-show'\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 50, 'created': '2016-12-14 01:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7956cb5ac69ab83d838f1c0a6401d1bd61939e9', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 51, 'created': '2016-12-15 00:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/910ceab342881712e6bf777026f1fd2fa9bc4c2c', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 52, 'created': '2016-12-16 00:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dde49ac25709ace8e7b8ad63d14c81aa424e018', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 53, 'created': '2016-12-19 00:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ceb675ab788ad75f7d512f49cebbb211bd287738', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 54, 'created': '2016-12-20 01:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b53c4abbc5b1262dbd5a77ed9c7c62a4edf1987f', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 55, 'created': '2017-01-02 02:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab296c89563253781182e684d0fa232ae55482c4', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 56, 'created': '2017-01-08 07:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbd9c2ad4f3f0d1ff307100c490205d9927cf4c5', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 57, 'created': '2017-01-18 00:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38234024fdd1cbb2d29e4e718987a29f607d9a49', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 58, 'created': '2017-02-02 06:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc5eea075e83b8b92a15a8f6a82dd997beb3512c', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}, {'number': 59, 'created': '2017-02-05 23:52:27.000000000', 'files': ['neutron/tests/unit/extensions/test_network_ip_availability.py', 'neutron/db/network_ip_availability_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/298bdb2f4887c16f636cbb87de4174adbf6f222a', 'message': ""Remove used ip which not in subnet pools\n\n'used_ips' field of 'net-ip-availability-list' command increased\nby 1 when subnet added into router,In fact, Before subnet added\ninto the router,'total_ips' of network does not contain\n'gateway_ip'.so we will remove ip which not in subnet pool\n\nChange-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6\nCloses-Bug: #1585907\n""}]",33,322387,298bdb2f4887c16f636cbb87de4174adbf6f222a,523,40,59,20076,,,0,"Remove used ip which not in subnet pools

'used_ips' field of 'net-ip-availability-list' command increased
by 1 when subnet added into router,In fact, Before subnet added
into the router,'total_ips' of network does not contain
'gateway_ip'.so we will remove ip which not in subnet pool

Change-Id: Iea7445c226a15c3e5a8ce1f22cd6d88bd1e1eac6
Closes-Bug: #1585907
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/322387/40 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/network_ip_availability_db.py'],1,9598702b4c04e6ce48d38311e50fb6b7235c9f02,bug/1585907,"from sqlalchemy import not_ query = query.outerjoin(mod.Port, mod.IPAllocation.port_id == mod.Port.id) query = cls._adjust_query_for_filters(query, filters) return cls._filter_gateway_interface(query) @classmethod def _filter_gateway_interface(cls, query): query = query.filter(not_(mod.Port.device_owner.contains( 'network:router_interface'))) return query"," return cls._adjust_query_for_filters(query, filters)",13,1
openstack%2Fneutron-fwaas~master~Icdefce39122f69b4336521b16a92a66789e275d1,openstack/neutron-fwaas,master,Icdefce39122f69b4336521b16a92a66789e275d1,[WIP] FWaaS v2 driver for L2 ports,ABANDONED,2016-08-26 10:41:49.000000000,2017-11-04 23:10:18.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5109}, {'_account_id': 6995}, {'_account_id': 7293}, {'_account_id': 7787}, {'_account_id': 11347}, {'_account_id': 13702}, {'_account_id': 13717}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 17177}]","[{'number': 1, 'created': '2016-08-26 10:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a146ecaf9c306bb3e307e1bc7955c0de881549e7', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 2, 'created': '2016-08-26 16:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b3fe8aa6641b2fd3bc118390e2f51e4e1185f33b', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 3, 'created': '2016-08-26 17:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4463e289c2ae35a35e34486dd821699115aeb5ab', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 4, 'created': '2016-08-27 06:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2ffd38e6e2dd97df0b8320b07f5fa8bbd69d7a42', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 5, 'created': '2017-01-26 16:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/336f4944c8e82de68042199bd656915ebf7a0d47', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 6, 'created': '2017-01-31 01:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7c127effe3cb0d5240ee04043c509b51c4144a57', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 7, 'created': '2017-02-01 06:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6b1297771868a0f66daf0fbf9a9dce2ca3fa3f91', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 8, 'created': '2017-02-26 05:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/896569909e559acc563887ae11e9b24a08e5edb9', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}, {'number': 9, 'created': '2017-02-26 08:30:02.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/drivers/linux/l2/test_iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/drivers/linux/l2/__init__.py', 'neutron_fwaas/services/firewall/drivers/linux/l2/iptables_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/drivers/linux/l2/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f9404985f1faeaa1b551a1e0fb1c3b1a1a43bf41', 'message': '[WIP] FWaaS v2 driver for L2 ports\n\nFWaaS v2 allows applying firewall policy on L2 ports.\nThis patch adds IPTables driver for L2 ports.\n\nPartial-Implements: blueprint fwaas-api-2.0\n\nCo-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>\n\nChange-Id: Icdefce39122f69b4336521b16a92a66789e275d1\n'}]",3,361071,f9404985f1faeaa1b551a1e0fb1c3b1a1a43bf41,27,12,9,5109,,,0,"[WIP] FWaaS v2 driver for L2 ports

FWaaS v2 allows applying firewall policy on L2 ports.
This patch adds IPTables driver for L2 ports.

Partial-Implements: blueprint fwaas-api-2.0

Co-Authored-By: Sarath Chandra Mekala <mekala.sarath@gmail.com>

Change-Id: Icdefce39122f69b4336521b16a92a66789e275d1
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/71/361071/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/drivers/linux/l2/iptables_fwaas_v2.py'],1,a146ecaf9c306bb3e307e1bc7955c0de881549e7,bp/fwaas-api-2,"# Copyright (c) 2016 # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.agent.linux import iptables_manager from neutron.agent.linux import utils as linux_utils from oslo_log import log as logging from neutron_fwaas._i18n import _LE from neutron_fwaas.extensions import firewall as fw_ext from neutron_fwaas.services.firewall.drivers import fwaas_base_v2 LOG = logging.getLogger(__name__) FWAAS_DRIVER_NAME = 'Fwaas iptables driver' FWAAS_DEFAULT_CHAIN = 'fwaas-default-policy' FWAAS_TO_IPTABLE_ACTION_MAP = {'allow': 'ACCEPT', 'deny': 'DROP', 'reject': 'REJECT'} INGRESS_DIRECTION = 'ingress' EGRESS_DIRECTION = 'egress' CHAIN_NAME_PREFIX = {INGRESS_DIRECTION: 'i', EGRESS_DIRECTION: 'o'} IPTABLES_DIR = {INGRESS_DIRECTION: '-o', EGRESS_DIRECTION: '-i'} IPV4 = 'ipv4' IPV6 = 'ipv6' IP_VER_TAG = {IPV4: 'v4', IPV6: 'v6'} VM_DEV_PREFIX = 'tap' MAX_INTF_NAME_LEN = 14 class IptablesFwaasDriver(fwaas_base_v2.FwaasDriverBase): """"""IPTables driver for Firewall As A Service. """""" def __init__(self): LOG.debug(""Initializing fwaas iptables driver"") self.pre_firewall = None self.ipt_mgr = iptables_manager.IptablesManager() self.if_prefix = VM_DEV_PREFIX def _get_intf_name(self, port_id): _name = ""%s%s"" % (self.if_prefix, port_id) return _name[:MAX_INTF_NAME_LEN] def create_firewall_group(self, agent_mode, apply_list, firewall): LOG.debug('Creating firewall %(fw_id)s for tenant %(tid)s', {'fw_id': firewall['id'], 'tid': firewall['tenant_id']}) try: if firewall['admin_state_up']: self._setup_firewall(agent_mode, apply_list, firewall) self._remove_conntrack_new_firewall(agent_mode, apply_list, firewall) self.pre_firewall = dict(firewall) else: self.apply_default_policy(agent_mode, apply_list, firewall) except (LookupError, RuntimeError): # catch known library exceptions and raise Fwaas generic exception LOG.exception(_LE(""Failed to create firewall: %s""), firewall['id']) raise fw_ext.FirewallInternalDriverError(driver=FWAAS_DRIVER_NAME) def delete_firewall_group(self, agent_mode, apply_list, firewall): LOG.debug('Deleting firewall %(fw_id)s for tenant %(tid)s', {'fw_id': firewall['id'], 'tid': firewall['tenant_id']}) fwid = firewall['id'] try: self._remove_chains(fwid) self._remove_default_chains() # apply the changes immediately (no defer in firewall path) self.ipt_mgr.defer_apply_off() self.pre_firewall = None except (LookupError, RuntimeError): # catch known library exceptions and raise Fwaas generic exception LOG.exception(_LE(""Failed to delete firewall: %s""), fwid) raise fw_ext.FirewallInternalDriverError(driver=FWAAS_DRIVER_NAME) def update_firewall_group(self, agent_mode, apply_list, firewall): LOG.debug('Updating firewall %(fw_id)s for tenant %(tid)s', {'fw_id': firewall['id'], 'tid': firewall['tenant_id']}) try: if firewall['admin_state_up']: if self.pre_firewall: self._remove_conntrack_updated_firewall(agent_mode, apply_list, self.pre_firewall, firewall) else: self._remove_conntrack_new_firewall(agent_mode, apply_list, firewall) self._setup_firewall(agent_mode, apply_list, firewall) else: self.apply_default_policy(agent_mode, apply_list, firewall) self.pre_firewall = dict(firewall) except (LookupError, RuntimeError): # catch known library exceptions and raise Fwaas generic exception LOG.exception(_LE(""Failed to update firewall: %s""), firewall['id']) raise fw_ext.FirewallInternalDriverError(driver=FWAAS_DRIVER_NAME) def apply_default_policy(self, agent_mode, apply_list, firewall): LOG.debug('Applying firewall %(fw_id)s for tenant %(tid)s', {'fw_id': firewall['id'], 'tid': firewall['tenant_id']}) fwid = firewall['id'] try: fw_ports = apply_list # the following only updates local memory; no hole in FW self._remove_chains(fwid) self._remove_default_chains() # create default 'DROP ALL' policy chain self._add_default_policy_chain_v4v6() self._enable_policy_chain(fwid, fw_ports) # apply the changes immediately (no defer in firewall path) self.ipt_mgr.defer_apply_off() except (LookupError, RuntimeError): # catch known library exceptions and raise Fwaas generic exception LOG.exception( _LE(""Failed to apply default policy on firewall: %s""), fwid) raise fw_ext.FirewallInternalDriverError(driver=FWAAS_DRIVER_NAME) def _setup_firewall(self, agent_mode, apply_list, firewall): fwid = firewall['id'] fw_ports = apply_list # the following only updates local memory; no hole in FW self._remove_chains(fwid) self._remove_default_chains() # create default 'DROP ALL' policy chain self._add_default_policy_chain_v4v6() # create chain based on configured policy self._setup_chains(firewall, fw_ports) # apply the changes immediately (no defer in firewall path) self.ipt_mgr.defer_apply_off() def _get_chain_name(self, fwid, ver, direction): return '%s%s%s' % (CHAIN_NAME_PREFIX[direction], IP_VER_TAG[ver], fwid) def _setup_chains(self, firewall, fw_ports): """"""Create Fwaas chain using the rules in the policy """""" egress_rule_list = firewall['egress_rule_list'] ingress_rule_list = firewall['ingress_rule_list'] fwid = firewall['id'] # default rules for invalid packets and established sessions invalid_rule = self._drop_invalid_packets_rule() est_rule = self._allow_established_rule() for ver in [IPV4, IPV6]: if ver == IPV4: table = self.ipt_mgr.ipv4['filter'] else: table = self.ipt_mgr.ipv6['filter'] ichain_name = self._get_chain_name(fwid, ver, INGRESS_DIRECTION) ochain_name = self._get_chain_name(fwid, ver, EGRESS_DIRECTION) for name in [ichain_name, ochain_name]: table.add_chain(name) table.add_rule(name, invalid_rule) table.add_rule(name, est_rule) for rule in ingress_rule_list: if not rule['enabled']: continue iptbl_rule = self._convert_fwaas_to_iptables_rule(rule) if rule['ip_version'] == 4: ver = IPV4 table = self.ipt_mgr.ipv4['filter'] else: ver = IPV6 table = self.ipt_mgr.ipv6['filter'] ichain_name = self._get_chain_name(fwid, ver, INGRESS_DIRECTION) table.add_rule(ichain_name, iptbl_rule) for rule in egress_rule_list: if not rule['enabled']: continue iptbl_rule = self._convert_fwaas_to_iptables_rule(rule) if rule['ip_version'] == 4: ver = IPV4 table = self.ipt_mgr.ipv4['filter'] else: ver = IPV6 table = self.ipt_mgr.ipv6['filter'] ochain_name = self._get_chain_name(fwid, ver, EGRESS_DIRECTION) table.add_rule(ochain_name, iptbl_rule) self._enable_policy_chain(fwid, fw_ports) def _find_changed_rules(self, pre_firewall, firewall): """"""Find the rules changed between the current firewall and the updating rule """""" changed_rules = [] for fw_rule_list in ['egress_rule_list', 'ingress_rule_list']: pre_fw_rules = pre_firewall[fw_rule_list] fw_rules = firewall[fw_rule_list] for pre_fw_rule in pre_fw_rules: for fw_rule in fw_rules: if (pre_fw_rule.get('id') == fw_rule.get('id') and pre_fw_rule != fw_rule): changed_rules.append(pre_fw_rule) changed_rules.append(fw_rule) return changed_rules def _find_removed_rules(self, pre_firewall, firewall): removed_rules = [] for fw_rule_list in ['egress_rule_list', 'ingress_rule_list']: pre_fw_rules = pre_firewall[fw_rule_list] fw_rules = firewall[fw_rule_list] fw_rule_ids = [fw_rule['id'] for fw_rule in fw_rules] removed_rules.extend([pre_fw_rule for pre_fw_rule in pre_fw_rules if pre_fw_rule['id'] not in fw_rule_ids]) return removed_rules def _find_new_rules(self, pre_firewall, firewall): return self._find_removed_rules(firewall, pre_firewall) def _get_conntrack_cmd_from_rule(self, rule=None): prefixcmd = ['ip', 'netns', 'exec'] + [self.ipt_mgr.namespace] cmd = ['conntrack', '-D'] if rule: conntrack_filter = self._get_conntrack_filter_from_rule(rule) exec_cmd = prefixcmd + cmd + conntrack_filter else: exec_cmd = prefixcmd + cmd return exec_cmd def _remove_conntrack_by_cmd(self, cmd): if cmd: try: linux_utils.execute(cmd, run_as_root=True, check_exit_code=True, extra_ok_codes=[1]) except RuntimeError: LOG.exception( _LE(""Failed execute conntrack command %s""), str(cmd)) def _remove_conntrack_new_firewall(self, agent_mode, apply_list, firewall): """"""Remove conntrack when create new firewall"""""" cmd = self._get_conntrack_cmd_from_rule() self._remove_conntrack_by_cmd(cmd) def _remove_conntrack_updated_firewall(self, agent_mode, apply_list, pre_firewall, firewall): """"""Remove conntrack when updated firewall"""""" ch_rules = self._find_changed_rules(pre_firewall, firewall) i_rules = self._find_new_rules(pre_firewall, firewall) r_rules = self._find_removed_rules(pre_firewall, firewall) removed_conntrack_rules_list = ch_rules + i_rules + r_rules for rule in removed_conntrack_rules_list: cmd = self._get_conntrack_cmd_from_rule(rule) self._remove_conntrack_by_cmd(cmd) def _get_conntrack_filter_from_rule(self, rule): """"""Get conntrack filter from rule. The key for get conntrack filter is protocol, destination_port and source_port. If we want to take more keys, add to the list. """""" conntrack_filter = [] keys = [['-p', 'protocol'], ['-f', 'ip_version'], ['--dport', 'destination_port'], ['--sport', 'source_port']] for key in keys: if rule.get(key[1]): if key[1] == 'ip_version': conntrack_filter.append(key[0]) conntrack_filter.append('ipv' + str(rule.get(key[1]))) else: conntrack_filter.append(key[0]) conntrack_filter.append(rule.get(key[1])) return conntrack_filter def _remove_default_chains(self): """"""Remove fwaas default policy chain."""""" self._remove_chain_by_name(IPV4, FWAAS_DEFAULT_CHAIN) self._remove_chain_by_name(IPV6, FWAAS_DEFAULT_CHAIN) def _remove_chains(self, fwid): """"""Remove fwaas policy chain."""""" for ver in [IPV4, IPV6]: for direction in [INGRESS_DIRECTION, EGRESS_DIRECTION]: chain_name = self._get_chain_name(fwid, ver, direction) self._remove_chain_by_name(ver, chain_name) def _add_default_policy_chain_v4v6(self): self.ipt_mgr.ipv4['filter'].add_chain(FWAAS_DEFAULT_CHAIN) self.ipt_mgr.ipv4['filter'].add_rule(FWAAS_DEFAULT_CHAIN, '-j DROP') self.ipt_mgr.ipv6['filter'].add_chain(FWAAS_DEFAULT_CHAIN) self.ipt_mgr.ipv6['filter'].add_rule(FWAAS_DEFAULT_CHAIN, '-j DROP') def _remove_chain_by_name(self, ver, chain_name): if ver == IPV4: self.ipt_mgr.ipv4['filter'].remove_chain(chain_name) else: self.ipt_mgr.ipv6['filter'].remove_chain(chain_name) def _add_rules_to_chain(self, ver, chain_name, rules): if ver == IPV4: table = self.ipt_mgr.ipv4['filter'] else: table = self.ipt_mgr.ipv6['filter'] for rule in rules: table.add_rule(chain_name, rule) def _enable_policy_chain(self, fwid, fw_ports): bname = iptables_manager.binary_name for (ver, tbl) in [(IPV4, self.ipt_mgr.ipv4['filter']), (IPV6, self.ipt_mgr.ipv6['filter'])]: for direction in [INGRESS_DIRECTION, EGRESS_DIRECTION]: chain_name = self._get_chain_name(fwid, ver, direction) chain_name = iptables_manager.get_chain_name(chain_name) if chain_name in tbl.chains: for fw_port in fw_ports: intf_name = self._get_intf_name(fw_port) jump_rule = ['%s %s -j %s-%s' % ( IPTABLES_DIR[direction], intf_name, bname, chain_name)] self._add_rules_to_chain(ver, 'FORWARD', jump_rule) # jump to DROP_ALL policy chain_name = iptables_manager.get_chain_name(FWAAS_DEFAULT_CHAIN) for fw_port in fw_ports: intf_name = self._get_intf_name(fw_port) jump_rule = ['-o %s -j %s-%s' % (intf_name, bname, chain_name)] self._add_rules_to_chain(IPV4, 'FORWARD', jump_rule) self._add_rules_to_chain(IPV6, 'FORWARD', jump_rule) # jump to DROP_ALL policy chain_name = iptables_manager.get_chain_name(FWAAS_DEFAULT_CHAIN) for fw_port in fw_ports: intf_name = self._get_intf_name(fw_port) jump_rule = ['-i %s -j %s-%s' % (intf_name, bname, chain_name)] self._add_rules_to_chain(IPV4, 'FORWARD', jump_rule) self._add_rules_to_chain(IPV6, 'FORWARD', jump_rule) def _convert_fwaas_to_iptables_rule(self, rule): action = FWAAS_TO_IPTABLE_ACTION_MAP[rule.get('action')] args = [self._protocol_arg(rule.get('protocol')), self._port_arg('dport', rule.get('protocol'), rule.get('destination_port')), self._port_arg('sport', rule.get('protocol'), rule.get('source_port')), self._ip_prefix_arg('s', rule.get('source_ip_address')), self._ip_prefix_arg('d', rule.get('destination_ip_address')), self._action_arg(action)] iptables_rule = ' '.join(args) return iptables_rule def _drop_invalid_packets_rule(self): return '-m state --state INVALID -j DROP' def _allow_established_rule(self): return '-m state --state ESTABLISHED,RELATED -j ACCEPT' def _action_arg(self, action): if action: return '-j %s' % action return '' def _protocol_arg(self, protocol): if protocol: return '-p %s' % protocol return '' def _port_arg(self, direction, protocol, port): if not (protocol in ['udp', 'tcp'] and port): return '' return '--%s %s' % (direction, port) def _ip_prefix_arg(self, direction, ip_prefix): if ip_prefix: return '-%s %s' % (direction, ip_prefix) return '' ",,395,0
openstack%2Fneutron~master~Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987,openstack/neutron,master,Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987,Enable test_fip_connection_for_address_scope,ABANDONED,2016-03-02 08:44:17.000000000,2017-11-04 23:10:06.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11159}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15443}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19726}, {'_account_id': 20330}]","[{'number': 1, 'created': '2016-03-02 08:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57f7d2df57f1941ba0e8f19fcb10bcdb0842a431', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable with code of Bug 1543885.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 2, 'created': '2016-03-02 14:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c4434bedd4cbc272138b2e012def8998cb74001', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 3, 'created': '2016-03-03 03:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c4c0caff0e7015da7f762968dc46815be908dc5', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 4, 'created': '2016-03-08 07:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75b8831d62de98e69f5935d1df3fd501fa41d15b', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 5, 'created': '2016-03-08 07:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b20b97f4a560d727f3d775c68456d30d84163f62', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 6, 'created': '2016-05-09 10:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41c2a43deece5db96033c2340fac25e8691cb9c8', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 7, 'created': '2016-05-09 13:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ab562dec6405b202121f3e158e9c3c9f535045f', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 9, 'created': '2017-04-12 20:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b08d6afb37d4443187270bb1d40fb4b411ec6f6', 'message': '[WIP]Test test_fip_connection_for_address_scope\n\nThis patch is to test if test_fip_connection_for_address_scope\nis stable.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}, {'number': 10, 'created': '2017-04-16 06:56:31.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/261418c3c9177d6387436c1d6ba3175c8538e111', 'message': 'Enable test_fip_connection_for_address_scope\n\nThe related bug has been fixed.\n\nChange-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987\nRelated-Bug: #1543885\n'}]",0,287040,261418c3c9177d6387436c1d6ba3175c8538e111,117,19,9,11159,,,0,"Enable test_fip_connection_for_address_scope

The related bug has been fixed.

Change-Id: Id90b7be72b3a3dcae7d78a10d4fb7de125c1d987
Related-Bug: #1543885
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/287040/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/test_dvr_router.py'],1,57f7d2df57f1941ba0e8f19fcb10bcdb0842a431,bug/1543885,,import testtools @testtools.skip('bug/1543885'),0,2
openstack%2Fneutron~master~Iaa7a82b4ab5027a24cda0a8cd08648d6032c3359,openstack/neutron,master,Iaa7a82b4ab5027a24cda0a8cd08648d6032c3359,DNM: IPv6 ICMP API hack,ABANDONED,2017-04-10 20:34:18.000000000,2017-11-04 23:09:45.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-10 20:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6ab5c87aea93459218dc4bac64c503f32fdf412', 'message': ""DNM: IPv6 ICMP API hack\n\nPossible change to how the security group API responds to\nduplicate IPv6 ICMP rules.  If exact protocol match - BOOM!\nIf 'ipv6-icmp' rule exists and call is 'icmp' or 'icmpv6',\nreturn exising rule.  Let's see if it can pass the tempest\ntests.\n\nChange-Id: Iaa7a82b4ab5027a24cda0a8cd08648d6032c3359\n""}, {'number': 2, 'created': '2017-04-13 15:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3563214a602c4687fe7aacf92878628d8bcb1f70', 'message': ""DNM: IPv6 ICMP API hack\n\nPossible change to how the security group API responds to\nduplicate IPv6 ICMP rules.  If exact protocol match - BOOM!\nIf 'ipv6-icmp' rule exists and call is 'icmp' or 'icmpv6',\nreturn exising rule.  Let's see if it can pass the tempest\ntests.\n\nChange-Id: Iaa7a82b4ab5027a24cda0a8cd08648d6032c3359\n""}, {'number': 3, 'created': '2017-04-17 15:57:40.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86599a700fdd1a449bd32b0cb16dbc26b288389e', 'message': ""DNM: IPv6 ICMP API hack\n\nPossible change to how the security group API responds to\nduplicate IPv6 ICMP rules.  If exact protocol match - BOOM!\nIf 'ipv6-icmp' rule exists and call is 'icmp' or 'icmpv6',\nreturn exising rule.  Let's see if it can pass the tempest\ntests.\n\nChange-Id: Iaa7a82b4ab5027a24cda0a8cd08648d6032c3359\n""}]",0,455444,86599a700fdd1a449bd32b0cb16dbc26b288389e,33,12,3,1131,,,0,"DNM: IPv6 ICMP API hack

Possible change to how the security group API responds to
duplicate IPv6 ICMP rules.  If exact protocol match - BOOM!
If 'ipv6-icmp' rule exists and call is 'icmp' or 'icmpv6',
return exising rule.  Let's see if it can pass the tempest
tests.

Change-Id: Iaa7a82b4ab5027a24cda0a8cd08648d6032c3359
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/455444/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/extensions/securitygroup.py']",3,f6ab5c87aea93459218dc4bac64c503f32fdf412,ipv6-icmp-api-hack,"class SecurityGroupICMPRuleExists(nexception.InUse): message = _(""Duplicate ICMP security group rule already exists, "" ""returning existing rule. Rule id is %(rule_id)s."") ",,36,5
openstack%2Fnetworking-sfc~master~Ie1801059e6a9227f7e488e304b99b60aefb82e48,openstack/networking-sfc,master,Ie1801059e6a9227f7e488e304b99b60aefb82e48,Remove SFC ovs driver db.py.,ABANDONED,2017-01-11 21:05:02.000000000,2017-11-04 23:09:34.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7776}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 14037}, {'_account_id': 19948}]","[{'number': 1, 'created': '2017-01-11 21:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/79f8b9fc96335cc90b550cddc66b81c08740a4e3', 'message': ""Remove SFC ovs driver db.py.\n\nThis would remove four tables in SFC neutron database:\n  sfc_path_port_associations\n  sfc_portpair_details\n  sfc_path_nodes\n  sfc_uuid_intid_associations\n\nBy removing those talbes, it would simplify the driver's operations and\nreduce any potential database complications, ultimately optimize the SFC\novs driver.\n\nChange-Id: Ie1801059e6a9227f7e488e304b99b60aefb82e48\n""}, {'number': 2, 'created': '2017-01-13 00:14:02.000000000', 'files': ['networking_sfc/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'networking_sfc/extensions/sfc.py', 'networking_sfc/services/sfc/drivers/ovs/driver.py', 'networking_sfc/services/sfc/drivers/ovs/rpc.py', 'networking_sfc/db/migration/alembic_migrations/versions/ocata/contract/c581bb31461a_remove_ovs_db.py', 'networking_sfc/db/migration/models/head.py', 'networking_sfc/extensions/flowclassifier.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/services/sfc/drivers/ovs/db.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'networking_sfc/services/sfc/agent/extensions/sfc.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/94c9c3bb3ebf390674d83edb8f285b22675a14a6', 'message': ""Remove SFC ovs driver db.py.\n\nThis would remove four tables in SFC neutron database:\n  sfc_path_port_associations\n  sfc_portpair_details\n  sfc_path_nodes\n  sfc_uuid_intid_associations\n\nBy removing those talbes, it would simplify the driver's operations and\nreduce any potential database complications, ultimately optimize the SFC\novs driver.\n\nChange-Id: Ie1801059e6a9227f7e488e304b99b60aefb82e48\n""}]",5,419130,94c9c3bb3ebf390674d83edb8f285b22675a14a6,10,8,2,14037,,,0,"Remove SFC ovs driver db.py.

This would remove four tables in SFC neutron database:
  sfc_path_port_associations
  sfc_portpair_details
  sfc_path_nodes
  sfc_uuid_intid_associations

By removing those talbes, it would simplify the driver's operations and
reduce any potential database complications, ultimately optimize the SFC
ovs driver.

Change-Id: Ie1801059e6a9227f7e488e304b99b60aefb82e48
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/30/419130/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'networking_sfc/db/migration/alembic_migrations/versions/ocata/contract/c581bb31461a_remove_ovs_db.py', 'networking_sfc/db/migration/models/head.py', 'networking_sfc/extensions/flowclassifier.py', 'networking_sfc/extensions/sfc.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/services/sfc/drivers/ovs/db.py', 'networking_sfc/services/sfc/drivers/ovs/driver.py', 'networking_sfc/services/sfc/drivers/ovs/rpc.py', 'networking_sfc/services/sfc/agent/extensions/sfc.py']",10,79f8b9fc96335cc90b550cddc66b81c08740a4e3,less_4_tables_submitted," return cctxt.call(context, 'update_flowrules_status', flowrules_status=flowrules_status) return cctxt.call(context, 'get_flowrules_by_host_portid', host=self.host, port_id=port_id) flows_list = self.sfc_plugin_rpc.get_flowrules_by_host_portid( context, port_id) self.sfc_driver.update_flow_rules(flow, flowrule_status) self.sfc_plugin_rpc.update_flowrules_status(context, flowrule_status)"," return cctxt.call( context, 'update_flowrules_status', flowrules_status=flowrules_status) return cctxt.call( context, 'get_flowrules_by_host_portid', host=self.host, port_id=port_id) flows_list = ( self.sfc_plugin_rpc.get_flowrules_by_host_portid( context, port_id ) ) self.sfc_driver.update_flow_rules( flow, flowrule_status) self.sfc_plugin_rpc.update_flowrules_status( context, flowrule_status)",802,1214
openstack%2Fnetworking-ovn~master~I1ea06a4fcff3ce940d89f985e57db9093d00dd5b,openstack/networking-ovn,master,I1ea06a4fcff3ce940d89f985e57db9093d00dd5b,DSCP marking,ABANDONED,2016-11-03 10:35:55.000000000,2017-11-04 23:09:23.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 6773}, {'_account_id': 7787}, {'_account_id': 8298}, {'_account_id': 8788}, {'_account_id': 10237}]","[{'number': 1, 'created': '2016-11-03 10:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/520fd63b15c79f79b33001e8bd87c97e3ec19093', 'message': 'WIP: DSCP Marking\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}, {'number': 2, 'created': '2016-11-04 13:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bddafefb35a0d3c66d214550c95f91629ff876a2', 'message': 'WIP: DSCP Marking\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}, {'number': 3, 'created': '2016-11-07 11:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cafb627b8275a948014c9a43324e282e185d6892', 'message': 'WIP: DSCP Marking\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}, {'number': 4, 'created': '2016-11-08 12:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7df541e81855969ed19701aea024a90d16afed78', 'message': 'WIP: DSCP Marking\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}, {'number': 5, 'created': '2016-11-09 11:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58a0c4caffe2572bb1379f225d54dc571ef43c9a', 'message': 'DSCP marking\n\nThis patch implements the support for DSCP qos rule on neutron netwokrs\nand ports.\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}, {'number': 6, 'created': '2016-11-09 11:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7803a5d54308938bd0eeedc55e2d3891eec8ec80', 'message': 'DSCP marking\n\nThis patch implements the support for DSCP qos rule on neutron netwokrs\nand ports.\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}, {'number': 7, 'created': '2016-12-09 12:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bba42989b408c51a5897d991c4133e5b01f77908', 'message': 'DSCP marking\n\nThis patch implements the support for DSCP qos rule on neutron netwokrs\nand ports.\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}, {'number': 8, 'created': '2016-12-28 10:34:45.000000000', 'files': ['networking_ovn/ml2/qos_driver.py', 'networking_ovn/tests/unit/ovsdb/test_commands.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/tests/unit/ml2/test_qos_driver.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/67af079ee0bf1b1f242e4051e412cf96fec78582', 'message': 'DSCP marking\n\nThis patch implements the support for DSCP qos rule on neutron netwokrs\nand ports.\n\nChange-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b\n'}]",6,393228,67af079ee0bf1b1f242e4051e412cf96fec78582,36,8,8,8298,,,0,"DSCP marking

This patch implements the support for DSCP qos rule on neutron netwokrs
and ports.

Change-Id: I1ea06a4fcff3ce940d89f985e57db9093d00dd5b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/28/393228/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/qos_driver.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovsdb/commands.py']",3,520fd63b15c79f79b33001e8bd87c97e3ec19093,dscp," class AddQoSMarkerCommand(commands.BaseCommand): def __init__(self, api, lswitch, lport, policy_id, rule_id, mark_value, direction=""from_lport""): super(AddQoSMarkerCommand, self).__init__(api) self.lswitch = lswitch self.lport = lport self.policy_id = policy_id self.columns = columns def run_idl(self, txn): try: lswitch = idlutils.row_by_value(self.api.idl, 'Logical_Switch', 'name', self.lswitch) except idlutils.RowNotFound: msg = _(""Logical Switch %s does not exist"") % self.lswitch raise RuntimeError(msg) row = txn.insert(self.api._tables['QoS']) row.match = ('inport==""%s""' % lport) if lport else ""1"" row.action = ""dscp=%d"" % mark_value row.direction = direction row.external_ids = {'neutron:lport': self.lport, 'neutron:policy_id': self.policy_id, 'neutron:rule_id': rule_id,} _addvalue_to_list(lswitch, 'qos_rules', row.uuid) class DelQoSMarkerCommand(commands.BaseCommand): def __init__(self, api, lswitch, lport, policy_id, rule_id, if_exists): super(DelQoSMarkerCommand, self).__init__(api) self.lswitch = lswitch self.lport = lport self.policy_id = policy_id self.if_exists = if_exists self.rule_id = rule_id def run_idl(self, txn): try: lswitch = idlutils.row_by_value(self.api.idl, 'Logical_Switch', 'name', self.lswitch) except idlutils.RowNotFound: if self.if_exists: return msg = _(""Logical Switch %s does not exist"") % self.lswitch raise RuntimeError(msg) rules_to_del = [] rules = getattr(lswitch, 'qos_rules', []) for rule in rules: ext_ids = getattr(rule, 'external_ids', {}) if ext_ids.get('neutron:lport') == self.lport and \ self.policy_id == ext_ids.get(""neutron:policy_id"") and \ self.rule_id == ext_ids.get(""neutron:rule_id""): rules_to_del.append(rule) for rule in rules_to_del: rule.delete() _updatevalues_in_list(lswitch, 'qos_rules', old_values=rules_to_del) class SyncDscpPolicyChangeCommand(commands.BaseCommand): def __init__(self, api, lswitch, lport, policy_id, rule_id, new_mark_value): super(UpdateQoSMarkerCommand, self).__init__(api) self.lswitch = lswitch self.lport = lport self.rule_id = rule_id self.policy_id = policy_id self.new_value = new_mark_value def run_idl(self, txn): try: lswitch = idlutils.row_by_value(self.api.idl, 'Logical_Switch', 'name', self.lswitch) except idlutils.RowNotFound: if self.if_exists: return msg = _(""Logical Switch %s does not exist"") % self.lswitch raise RuntimeError(msg) rules = getattr(lswitch, 'qos_rules', []) for rule in rules: ext_ids = getattr(rule, 'external_ids', {}) if ext_ids.get('neutron:lport') == self.lport and \ self.policy_id == ext_ids.get(""neutron:policy_id""): if not rule_id: # The dscp rule is deleted in the policy rule.delete() _updatevalues_in_list(lswitch, 'qos_rules', old_values=[rule]) return elif rule_id == ext_ids.get(""neutron:rule_id""): rule.action = ""dscp=%d"" % self.new_value return else: # This can never happen pass if not rule_id: return # There is a new dscp rule added to the policy row = txn.insert(self.api._tables['QoS']) row.match = ('inport==""%s""' % lport) if lport else ""1"" row.action = ""dscp=%d"" % mark_value row.direction = direction row.external_ids = {'neutron:lport': self.lport, 'neutron:policy_id': self.policy_id, 'neutron:rule_id': rule_id,} _addvalue_to_list(lswitch, 'qos_rules', row.uuid)",,200,0
openstack%2Fneutron~master~If9d7d08acb66e377be02fa53d7daf093154dabe1,openstack/neutron,master,If9d7d08acb66e377be02fa53d7daf093154dabe1,cloud-init failed when vm's vnic doesn't have security group,ABANDONED,2017-01-19 08:57:47.000000000,2017-11-04 23:09:11.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 20533}, {'_account_id': 23006}, {'_account_id': 24634}]","[{'number': 1, 'created': '2017-01-19 08:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85d2716b0e1995eab7e96f3a92a1e13fc48254d8', 'message': ""BugFIx: cloud-init failed when vm's vnic has not security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug:#1650486\n""}, {'number': 2, 'created': '2017-01-19 10:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41b259a4951d11db57407318551cfe493a45869b', 'message': ""BugFIx: cloud-init failed when vm's vnic has not security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug:#1650486\n""}, {'number': 3, 'created': '2017-01-19 12:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/daa3c417d2e18f88ee4c935c0f5d99d54af41e0e', 'message': ""BugFix: cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug: #1650486\n""}, {'number': 4, 'created': '2017-01-19 12:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/338f96d5feaf31b1c45e8a964f21cc946623e3f6', 'message': ""BugFix: cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug: #1650486\n""}, {'number': 5, 'created': '2017-01-19 13:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61dca05ca476eb6d7a92eb6e487ba53ea4cc2250', 'message': ""BugFix: cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug: #1650486\n""}, {'number': 6, 'created': '2017-01-20 05:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19c402190f6803fa75341d297565a4b08ed8cc5c', 'message': ""BugFix: cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug: #1650486\n""}, {'number': 7, 'created': '2017-01-20 08:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3827b630b95fdd0c434b01bb6a2004a3b4eed71', 'message': ""BugFix: cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug: #1650486\n""}, {'number': 8, 'created': '2017-01-20 08:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68ff9b433e211e0d7d23c43159ecf4dc4a039daf', 'message': ""BugFix: cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug: #1650486\n""}, {'number': 9, 'created': '2017-01-22 01:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de0b70b30f4c0ae5d97ce45c7b66e28644021a5a', 'message': ""BugFix: cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\nClose-Bug: #1650486\n""}, {'number': 10, 'created': '2017-01-22 02:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e863e421e6b9a247df08e7d9ed0ac8c42bc1b82f', 'message': ""cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\ncloses-bug: #1650486\n""}, {'number': 11, 'created': '2017-01-23 04:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6627dd71257881e7408f082bea3548ebc537448', 'message': ""cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\ncloses-bug: #1650486\n""}, {'number': 12, 'created': '2017-03-15 12:13:20.000000000', 'files': ['neutron/agent/linux/iptables_comments.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/083e3cc5f3effebc42c0d3edf1219ef00a01bd60', 'message': ""cloud-init failed when vm's vnic doesn't have security group\n\nVM will fail to get metadata with cloud-init timeout error\nif the VM's vnic does not have security group\n\nChange-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1\ncloses-bug: #1650486\n""}]",1,422478,083e3cc5f3effebc42c0d3edf1219ef00a01bd60,73,16,12,20533,,,0,"cloud-init failed when vm's vnic doesn't have security group

VM will fail to get metadata with cloud-init timeout error
if the VM's vnic does not have security group

Change-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1
closes-bug: #1650486
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/422478/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_comments.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",3,85d2716b0e1995eab7e96f3a92a1e13fc48254d8,bug/1650486,"import pdb '-p tcp -d 169.254.169.254/32 -m state --state NEW -j RETURN', comment=None), mock.call.add_rule( 'ofake_dev', calls.append(mock.call.add_rule( 'ofake_dev', '-p tcp -d 169.254.169.254/32 -m state --state NEW -j RETURN', comment=None)) '-p tcp -d 169.254.169.254/32 -m state --state NEW -j RETURN', comment=None), mock.call.add_rule( 'ofake_dev', '' '-p tcp -d 169.254.169.254/32 -m state --state NEW -j RETURN', comment=None), mock.call.add_rule( 'ofake_dev', '-p tcp -d 169.254.169.254/32 -m state --state NEW -j RETURN', comment=None), mock.call.add_rule( 'ofake_dev', '-p tcp -d 169.254.169.254/32 -m state --state NEW -j RETURN', comment=None), mock.call.add_rule( 'ofake_dev',",,34,1
openstack%2Fneutron~master~Ifbd2cdbd82bdd0488ceac322a1a0d4ddf9a0033b,openstack/neutron,master,Ifbd2cdbd82bdd0488ceac322a1a0d4ddf9a0033b,functional: Enable cutting connection test for iptables,ABANDONED,2017-05-04 15:50:20.000000000,2017-11-04 23:08:49.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-04 15:50:20.000000000', 'files': ['neutron/tests/functional/agent/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/858adc80d16f7e3fc88c1c48f4b607285f9bc689', 'message': 'functional: Enable cutting connection test for iptables\n\niptables should be fixed by Ie88237d3fe4807b712a7ec61eb932748c38952cc\nand the test should be passing now.\n\nChange-Id: Ifbd2cdbd82bdd0488ceac322a1a0d4ddf9a0033b\nRelated-bug: 1657260\n'}]",0,462614,858adc80d16f7e3fc88c1c48f4b607285f9bc689,8,8,1,8655,,,0,"functional: Enable cutting connection test for iptables

iptables should be fixed by Ie88237d3fe4807b712a7ec61eb932748c38952cc
and the test should be passing now.

Change-Id: Ifbd2cdbd82bdd0488ceac322a1a0d4ddf9a0033b
Related-bug: 1657260
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/462614/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_firewall.py'],1,858adc80d16f7e3fc88c1c48f4b607285f9bc689,bug/1657260,, @skip_if_firewall('iptables'),0,1
openstack%2Fnetworking-odl~master~I5234e67b32e8c22b5a8428c7002738dd58f3c7e3,openstack/networking-odl,master,I5234e67b32e8c22b5a8428c7002738dd58f3c7e3,WIP: initial draft of tap-as-a-service driver,ABANDONED,2016-12-28 04:13:32.000000000,2017-11-04 23:08:39.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 11347}, {'_account_id': 13912}, {'_account_id': 17776}, {'_account_id': 20208}]","[{'number': 1, 'created': '2016-12-28 04:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3bb64303ab0644392d8dd9c5afefe4af495ce57b', 'message': 'WIP: initial draft of tap-as-a-service driver\n\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}, {'number': 2, 'created': '2016-12-28 06:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e9f11873c5fcfbe5db309b76689d9dab71a1ca14', 'message': 'WIP: initial draft of tap-as-a-service driver\n\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}, {'number': 3, 'created': '2016-12-28 08:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a55775656a69c44f357b5ab593ac1851716a0e3e', 'message': 'WIP: initial draft of tap-as-a-service driver\n\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}, {'number': 4, 'created': '2017-03-03 08:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/72cc6263a2728528724ae0c0cf0e06bd103586b0', 'message': 'WIP: initial draft of tap-as-a-service driver\n\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}, {'number': 5, 'created': '2017-03-06 16:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/544be325c8e7ac19e626218cd716164ed33834d6', 'message': 'WIP: initial draft of tap-as-a-service driver\n\npartially-implements: blueprint odl-taas-driver\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}, {'number': 6, 'created': '2017-05-18 09:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/66895761193bd12aa3ed662348f13f3c791b4e36', 'message': 'WIP: initial draft of tap-as-a-service driver\n\npartially-implements: blueprint odl-taas-driver\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\nCo-Authored-By: Rajiv<rajiv.kumar@nectechnologies.in>\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}, {'number': 7, 'created': '2017-05-18 09:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/932d904429b984ebbe0695de647c7121eb6009d5', 'message': 'WIP: initial draft of tap-as-a-service driver\n\npartially-implements: blueprint odl-taas-driver\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\nCo-Authored-By: Rajiv<rajiv.kumar@nectechnologies.in>\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}, {'number': 8, 'created': '2017-05-22 03:22:25.000000000', 'files': ['tools/tox_install.sh', 'networking_odl/taas/service_drivers/taas_odl.py', 'networking_odl/taas/__init__.py', 'releasenotes/notes/taas-odl-v2-driver-060680f08fc40ab4.yaml', 'networking_odl/common/constants.py', 'devstack/README.rst', 'networking_odl/taas/service_drivers/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ac1197660867fa7afe87b26c62bc5c27e9af0d45', 'message': 'WIP: initial draft of tap-as-a-service driver\n\npartially-implements: blueprint odl-taas-driver\nCo-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>\nCo-Authored-By: Rajiv<rajiv.kumar@nectechnologies.in>\nChange-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3\n'}]",3,415334,ac1197660867fa7afe87b26c62bc5c27e9af0d45,32,7,8,11347,,,0,"WIP: initial draft of tap-as-a-service driver

partially-implements: blueprint odl-taas-driver
Co-Authored-By: Reedip<reedip.banerjee@nectechnologies.in>
Co-Authored-By: Rajiv<rajiv.kumar@nectechnologies.in>
Change-Id: I5234e67b32e8c22b5a8428c7002738dd58f3c7e3
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/34/415334/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/taas/service_drivers/taas_odl.py', 'networking_odl/taas/__init__.py', 'networking_odl/taas/service_drivers/__init__.py']",3,3bb64303ab0644392d8dd9c5afefe4af495ce57b,bp/odl-taas-driver,,,76,0
openstack%2Fnetworking-sfc~master~Ie545b1754ba6eef256d699c911f96c4543f2a9ee,openstack/networking-sfc,master,Ie545b1754ba6eef256d699c911f96c4543f2a9ee,"This is the fix for bug #1675289 ""hash algorithm is not set in group table"".",ABANDONED,2017-05-03 01:56:39.000000000,2017-11-04 23:08:19.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9396}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-05-03 01:56:39.000000000', 'files': ['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/609f618a00eb10f25166c536dcd17fccdf83b1a8', 'message': 'This is the fix for bug #1675289 ""hash algorithm is not set in group\ntable"".\n\nAdded selection_method=hash in add_group and mod_group.\n\nChange-Id: Ie545b1754ba6eef256d699c911f96c4543f2a9ee\nCloses-Bug: 1675289\n'}]",0,461953,609f618a00eb10f25166c536dcd17fccdf83b1a8,5,4,1,14037,,,0,"This is the fix for bug #1675289 ""hash algorithm is not set in group
table"".

Added selection_method=hash in add_group and mod_group.

Change-Id: Ie545b1754ba6eef256d699c911f96c4543f2a9ee
Closes-Bug: 1675289
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/53/461953/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py'],1,609f618a00eb10f25166c536dcd17fccdf83b1a8,bug/1675289," selection_method=""hash"", selection_method=""hash"", selection_method=""hash"", selection_method=""hash"",",,4,0
openstack%2Fneutron~master~I532051d2e65b62d10cd50cfd47af7919064ea8e5,openstack/neutron,master,I532051d2e65b62d10cd50cfd47af7919064ea8e5,[WIP] Initial draft for online data migrations,ABANDONED,2017-02-10 23:49:59.000000000,2017-11-04 23:08:09.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 748}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15518}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 17491}, {'_account_id': 20246}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-02-10 23:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e5503ce595844a3565b2747ab288cbd41de05d4', 'message': 'WIP Initial draft for online data migrations\n\nThis patch is the initial proposal for the implementation of online\ndata migration\n\nChange-Id: I532051d2e65b62d10cd50cfd47af7919064ea8e5\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 2, 'created': '2017-02-15 19:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9607d76196b28882f08a9a926d15e394f48f5a0', 'message': '[WIP] Initial draft for online data migrations\n\nThis patch is the initial proposal for the implementation of online\ndata migration\n\nChange-Id: I532051d2e65b62d10cd50cfd47af7919064ea8e5\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 3, 'created': '2017-04-27 21:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc97e9e7e4bf12ebfddc1ae77cb4ea00b150a373', 'message': '[WIP] Initial draft for online data migrations\n\nThis patch is the initial proposal for the implementation of online\ndata migration\n\nChange-Id: I532051d2e65b62d10cd50cfd47af7919064ea8e5\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 4, 'created': '2017-06-03 00:50:47.000000000', 'files': ['neutron/db/migration/online_migrations/sample_migration.py', 'neutron/db/migration/alembic_migrations/versions/__init__.py', 'neutron/db/migration/cli.py', 'neutron/tests/functional/db/test_migrations.py', 'neutron/db/migration/alembic_migrations/versions/newton/__init__.py', 'neutron/db/migration/online_migrations/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75b02efc3fe75f2a6fbe90d3794fa07b4c9bac06', 'message': '[WIP] Initial draft for online data migrations\n\nThis patch is the initial proposal for the implementation of online\ndata migration\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\nChange-Id: I532051d2e65b62d10cd50cfd47af7919064ea8e5\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}]",51,432494,75b02efc3fe75f2a6fbe90d3794fa07b4c9bac06,48,19,4,8726,,,0,"[WIP] Initial draft for online data migrations

This patch is the initial proposal for the implementation of online
data migration

Co-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>
Change-Id: I532051d2e65b62d10cd50cfd47af7919064ea8e5
Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/432494/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/__init__.py', 'neutron/db/migration/alembic_migrations/versions/newton/online/__init__.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/alembic_migrations/versions/newton/__init__.py']",4,1e5503ce595844a3565b2747ab288cbd41de05d4,bp/adopt-oslo-versioned-objects-for-db,,,125,0
openstack%2Fneutron-fwaas~master~Ib0d5c8fde63018ce6f304d406ff39ae854ef324d,openstack/neutron-fwaas,master,Ib0d5c8fde63018ce6f304d406ff39ae854ef324d,Fix scale issue in case of services_sync_needed V2,ABANDONED,2017-02-02 08:50:21.000000000,2017-11-04 23:08:00.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8157}, {'_account_id': 10850}]","[{'number': 1, 'created': '2017-02-02 08:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/baf8a6e1cd51386dcd96d60ca268bf55b05ad2fa', 'message': 'Fix scale issue in case of services_sync_needed V2\n\nCurrently, if a RPC timeout occurs during a AMQP call, a full\nfirewall sync is performed by L3 agent.\n\nFull sync process_services_sync actually works as bellow in V2:\n\n1. get_projects_with_firewall_groups RPC call is sent\n2. neutron server respond with ALL projects\n3. for each projects (even if project is not schedule on this L3 agent):\n   _retrieve firewall rules using RPC call get_firewall_groups_for_project\n\nThis process is really inefficient, it will just flood a neutron server\nprocess which is already fully busy (cf: RPC Timeout on the first call).\n\nThis patch return to get_projects_with_firewall_groups call\nonly projects with firewalls which are scheduled on this agent.\n\nChange-Id: Ib0d5c8fde63018ce6f304d406ff39ae854ef324d\nCloses-Bug: #1618244\n'}, {'number': 2, 'created': '2017-02-02 10:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fb6d110bc81f591bcc0518d552252d3ad6764967', 'message': 'Fix scale issue in case of services_sync_needed V2\n\nCurrently, if a RPC timeout occurs during a AMQP call, a full\nfirewall sync is performed by L3 agent.\n\nFull sync process_services_sync actually works as bellow in V2:\n\n1. get_projects_with_firewall_groups RPC call is sent\n2. neutron server respond with ALL projects\n3. for each projects (even if project is not schedule on this L3 agent):\n   _retrieve firewall rules using RPC call get_firewall_groups_for_project\n\nThis process is really inefficient, it will just flood a neutron server\nprocess which is already fully busy (cf: RPC Timeout on the first call).\n\nThis patch return to get_projects_with_firewall_groups call\nonly projects with firewalls which are scheduled on this agent.\n\nChange-Id: Ib0d5c8fde63018ce6f304d406ff39ae854ef324d\nCloses-Bug: #1618244\n'}, {'number': 3, 'created': '2017-03-02 17:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a7fa5723b1287d4fbe63868ca602ec6a5a27bd9c', 'message': 'Fix scale issue in case of services_sync_needed V2\n\nCurrently, if a RPC timeout occurs during a AMQP call, a full\nfirewall sync is performed by L2/L3 agent.\n\nFull sync process_services_sync actually works as bellow in V2:\n\n1. get_projects_with_firewall_groups RPC call is sent\n2. neutron server respond with ALL projects\n3. for each projects (even if project is not schedule on this agent):\n   _retrieve firewall rules using RPC call get_firewall_groups_for_project\n\nThis process is really inefficient, it will just flood a neutron server\nprocess which is already fully busy (cf: RPC Timeout on the first call).\n\nThis patch return to get_projects_with_firewall_groups call\nonly projects with firewalls which are scheduled on this agent.\n\nChange-Id: Ib0d5c8fde63018ce6f304d406ff39ae854ef324d\nCloses-Bug: #1618244\n'}, {'number': 4, 'created': '2017-03-02 19:20:38.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e2d194834196f46e366c8cde91860c9a4168b113', 'message': 'Fix scale issue in case of services_sync_needed V2\n\nCurrently, if a RPC timeout occurs during a AMQP call, a full\nfirewall sync is performed by L2/L3 agent.\n\nFull sync process_services_sync actually works as bellow in V2:\n\n1. get_projects_with_firewall_groups RPC call is sent\n2. neutron server respond with ALL projects\n3. for each projects (even if project is not schedule on this agent):\n   _retrieve firewall rules using RPC call get_firewall_groups_for_project\n\nThis process is really inefficient, it will just flood a neutron server\nprocess which is already fully busy (cf: RPC Timeout on the first call).\n\nThis patch return to get_projects_with_firewall_groups call\nonly projects with firewalls which are scheduled on this agent.\n\nChange-Id: Ib0d5c8fde63018ce6f304d406ff39ae854ef324d\nCloses-Bug: #1618244\n'}]",0,428034,e2d194834196f46e366c8cde91860c9a4168b113,14,4,4,8157,,,0,"Fix scale issue in case of services_sync_needed V2

Currently, if a RPC timeout occurs during a AMQP call, a full
firewall sync is performed by L2/L3 agent.

Full sync process_services_sync actually works as bellow in V2:

1. get_projects_with_firewall_groups RPC call is sent
2. neutron server respond with ALL projects
3. for each projects (even if project is not schedule on this agent):
   _retrieve firewall rules using RPC call get_firewall_groups_for_project

This process is really inefficient, it will just flood a neutron server
process which is already fully busy (cf: RPC Timeout on the first call).

This patch return to get_projects_with_firewall_groups call
only projects with firewalls which are scheduled on this agent.

Change-Id: Ib0d5c8fde63018ce6f304d406ff39ae854ef324d
Closes-Bug: #1618244
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/34/428034/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py']",2,baf8a6e1cd51386dcd96d60ca268bf55b05ad2fa,bug/1618224," host = kwargs['host'] fwg_project_list = self.plugin.get_firewall_projects_on_host(ctx, host)", fwg_list = self.plugin.get_firewall_groups(ctx) fwg_project_list = list(set(fwg['tenant_id'] for fwg in fwg_list)),13,2
openstack%2Fneutron-fwaas~master~I9bb6522b6c0833684bb1c8036c877b424a7e46a0,openstack/neutron-fwaas,master,I9bb6522b6c0833684bb1c8036c877b424a7e46a0,Optimize get_firewalls db implementation,ABANDONED,2017-03-03 08:16:38.000000000,2017-11-04 23:07:50.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8124}, {'_account_id': 13702}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-03-03 08:16:38.000000000', 'files': ['neutron_fwaas/services/firewall/fwaas_plugin.py', 'neutron_fwaas/db/firewall/firewall_router_insertion_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/09e59e394879761ed4fd9d0585b61f5dc1c827bb', 'message': 'Optimize get_firewalls db implementation\n\nCurrently get_firewalls[1] calls get_firewall_routers for each tenant\nfirewall which performs a db query to get firewall router-ids, we should\ninstead perform a unique db query to get router-ids for all firewalls\nfor performance reason.\n\nThis change optimizes get_firewalls[1] implementation by calling once\nthe new method get_all_firewall_routers instead of calling many times\nget_firewall_routers. It replaces many db queries by one db query to get\nrouter-ids for all firewalls.\n\n[1] neutron_fwaas.services.firewall.fwaas_plugin\n\nChange-Id: I9bb6522b6c0833684bb1c8036c877b424a7e46a0\n'}]",0,440976,09e59e394879761ed4fd9d0585b61f5dc1c827bb,7,5,1,8124,,,0,"Optimize get_firewalls db implementation

Currently get_firewalls[1] calls get_firewall_routers for each tenant
firewall which performs a db query to get firewall router-ids, we should
instead perform a unique db query to get router-ids for all firewalls
for performance reason.

This change optimizes get_firewalls[1] implementation by calling once
the new method get_all_firewall_routers instead of calling many times
get_firewall_routers. It replaces many db queries by one db query to get
router-ids for all firewalls.

[1] neutron_fwaas.services.firewall.fwaas_plugin

Change-Id: I9bb6522b6c0833684bb1c8036c877b424a7e46a0
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/76/440976/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/fwaas_plugin.py', 'neutron_fwaas/db/firewall/firewall_router_insertion_db.py']",2,09e59e394879761ed4fd9d0585b61f5dc1c827bb,,"import collections from neutron_fwaas.db.firewall import firewall_db def get_firewalls(self, context, filters=None, fields=None): fw_list = super(FirewallRouterInsertionDbMixin, self).get_firewalls( context, filters, fields) if not fields or 'router_ids' in fields: fws_rtrs = self.get_all_firewall_routers(context) for fw in fw_list: fw['router_ids'] = fws_rtrs.get(fw['id'], []) return fw_list def get_all_firewall_routers(self, context): """"""Gets all routers associated with all firewalls."""""" # NOTE(cby): stmt filters firewalls using context stmt = self._model_query(context, firewall_db.Firewall.id).subquery() query = context.session.query(FirewallRouterAssociation).join(stmt) fws_rtrs = collections.defaultdict(list) for fwa in query: fws_rtrs[fwa.fw_id].append(fwa.router_id) fws_rtrs = dict(fws_rtrs) LOG.debug(""get_all_firewall_routers(): fws_rtrs: %s"", fws_rtrs) return fws_rtrs ",,27,5
openstack%2Fneutron~master~I4e7e90d7100bcd2955e7bb014dfea758e7bb57a4,openstack/neutron,master,I4e7e90d7100bcd2955e7bb014dfea758e7bb57a4,Fix sfc class flow removed bug,ABANDONED,2017-05-08 06:24:32.000000000,2017-11-04 23:07:42.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19644}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-08 06:24:32.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a31e6fcdad83e9c7987bf711b77c692d02f9063e', 'message': ""Fix sfc class flow removed bug\n\nIn current realization, ext_manager's handle_port is before\n_bind_devices.\nWhen restart ovs-agent, sfc class flows (which added in sfc\next_manager) will be deleted by _bind_devices if the port's\nport_security is disabled (which can not distinguish sfc\nclass flows, delete all flows in table 0 of one port)\nThis patch move ext_manager.handle_port after _bind_devices.\n\nChange-Id: I4e7e90d7100bcd2955e7bb014dfea758e7bb57a4\nCloses-Bug: #1686883\n""}]",2,463252,a31e6fcdad83e9c7987bf711b77c692d02f9063e,11,8,1,19644,,,0,"Fix sfc class flow removed bug

In current realization, ext_manager's handle_port is before
_bind_devices.
When restart ovs-agent, sfc class flows (which added in sfc
ext_manager) will be deleted by _bind_devices if the port's
port_security is disabled (which can not distinguish sfc
class flows, delete all flows in table 0 of one port)
This patch move ext_manager.handle_port after _bind_devices.

Change-Id: I4e7e90d7100bcd2955e7bb014dfea758e7bb57a4
Closes-Bug: #1686883
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/463252/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,a31e6fcdad83e9c7987bf711b77c692d02f9063e,bug/1686883," extmgr_handle_devices = [] extmgr_handle_devices.append(details) failed_devices, extmgr_handle_devices) extmgr_handle_devices = [] failed_devices['added'], extmgr_handle_devices) = ( # Handle port in extmgr after _bind_devices to avoid flow deleted # by mistake for device in extmgr_handle_devices: self.ext_manager.handle_port(self.context, device) "," self.ext_manager.handle_port(self.context, details) failed_devices) failed_devices['added']) = (",11,3
openstack%2Fneutron~master~I50400879860c1acd9826a24e0354e333fe593ba1,openstack/neutron,master,I50400879860c1acd9826a24e0354e333fe593ba1,DO NOT MERGE,ABANDONED,2017-06-19 17:32:47.000000000,2017-11-04 23:07:24.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 8871}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-06-19 17:32:47.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a89cf9c0aa5064d9bd9e98f3dab14c169b920c9a', 'message': 'DO NOT MERGE\n\nSG fetch was done in ovo implementation to load rules\nwith db_obj, since it is no longer using sg.db_obj\nand sg still has rules so extra fetch can be removed.\n\nChange-Id: I50400879860c1acd9826a24e0354e333fe593ba1\n'}]",1,475468,a89cf9c0aa5064d9bd9e98f3dab14c169b920c9a,13,10,1,17120,,,0,"DO NOT MERGE

SG fetch was done in ovo implementation to load rules
with db_obj, since it is no longer using sg.db_obj
and sg still has rules so extra fetch can be removed.

Change-Id: I50400879860c1acd9826a24e0354e333fe593ba1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/475468/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,a89cf9c0aa5064d9bd9e98f3dab14c169b920c9a,,," # fetch sg from db to load the sg rules with sg model. sg = sg_obj.SecurityGroup.get_object(context, id=sg.id)",0,2
openstack%2Fnetworking-midonet~master~I81e6ceb7817b80522c27e151a3bc8d5ddcaa0d37,openstack/networking-midonet,master,I81e6ceb7817b80522c27e151a3bc8d5ddcaa0d37,Move custom plugin into separate classes,ABANDONED,2017-03-17 16:28:07.000000000,2017-11-04 23:07:15.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 8871}, {'_account_id': 11698}, {'_account_id': 19307}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-03-17 16:28:07.000000000', 'files': ['rally-jobs/plugins/network_plugin.py', 'rally-jobs/networking-midonet.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/067ea309c192d33db9525b68156f76e6a79fb37e', 'message': 'Move custom plugin into separate classes\n\nUpdates custom plugin to follow Rally Neutron class-based-scenarios.\n\nCloses-Bug: #1670577\n\nChange-Id: I81e6ceb7817b80522c27e151a3bc8d5ddcaa0d37\nSigned-off-by: Lucas Eznarriaga <lucas.ez@gmail.com>\n'}]",0,447054,067ea309c192d33db9525b68156f76e6a79fb37e,23,7,1,11698,,,0,"Move custom plugin into separate classes

Updates custom plugin to follow Rally Neutron class-based-scenarios.

Closes-Bug: #1670577

Change-Id: I81e6ceb7817b80522c27e151a3bc8d5ddcaa0d37
Signed-off-by: Lucas Eznarriaga <lucas.ez@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/54/447054/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/plugins/network_plugin.py', 'rally-jobs/networking-midonet.yaml']",2,067ea309c192d33db9525b68156f76e6a79fb37e,bug/1670577," NetworkPlugin.create_networks: - args: network_create_args: {} runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: users: tenants: 2 users_per_tenant: 2 quotas: neutron: network: -1 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 5}} failure_rate: max: 0 NetworkPlugin.create_ports: - args: network_create_args: {} port_create_args: {} ports_per_network: 2 runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: network: ""start_cidr"": ""1.0.0.0/16"" users: tenants: 2 users_per_tenant: 2 quotas: neutron: network: -1 port: -1 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 5}} failure_rate: max: 0 NetworkPlugin.create_routers: - args: network_create_args: {} router_create_args: {} routers_per_subnet: 2 port_create_args: {} runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: network: ""start_cidr"": ""1.0.0.0/8"" users: tenants: 2 users_per_tenant: 2 quotas: neutron: network: -1 subnet: -1 router: -1 port: -1 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 10}} failure_rate: max: 0 NetworkPlugin.create_subnets: - args: network_create_args: {} subnet_create_args: {} subnet_cidr_start: ""1.0.0.0/24"" subnets_per_network: 2 runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: network: {} users: tenants: 2 users_per_tenant: 2 quotas: neutron: network: -1 subnet: -1 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 5}} failure_rate: max: 0 NetworkPlugin.create_subnets_routers_interfaces: - args: network_create_args: {} subnet_create_args: {} subnet_cidr_start: ""1.0.0.0/24"" subnets_per_network: 2 router_create_args: {} runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: network: {} users: tenants: 2 users_per_tenant: 2 quotas: neutron: network: -1 subnet: -1 router: -1 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 60}} failure_rate: max: 0 MidonetRallyPlugin.create_midonet_router_port: - args: api: ""ports"" media_type: port: ""application/vnd.org.midonet.Port-v3+json"" router: ""application/vnd.org.midonet.Router-v3+json"" data: type: ""Router"" networkAddress: ""10.0.0.0"" networkLength: ""24"" no_of_ports: 2 runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: users: tenants: 2 users_per_tenant: 2 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 5}} failure_rate: max: 0 MidonetRallyPlugin.create_midonet_bridge: - args: api: ""bridges"" media_type: ""application/vnd.org.midonet.Bridge-v4+json"" no_of_bridges: 2 runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: users: tenants: 2 users_per_tenant: 2 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 5}} failure_rate: max: 0 MidonetRallyPlugin.create_midonet_router: - args: api: ""routers"" media_type: ""application/vnd.org.midonet.Router-v3+json"" no_of_routers: 2 runner: type: ""rps"" times: {{iterations_count or 100}} rps: {{rps_value or 1}} context: users: tenants: 2 users_per_tenant: 2 sla: max_seconds_per_iteration: {{max_secs_per_iteration or 5}} failure_rate: max: 0",,249,47
openstack%2Fneutron~master~I56e9519441f8d993c43f4b1f252a7828eaeb2908,openstack/neutron,master,I56e9519441f8d993c43f4b1f252a7828eaeb2908,Tempest: Helper function to have active VM that has configured FIP,ABANDONED,2017-05-23 11:05:14.000000000,2017-11-04 23:07:06.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4727}, {'_account_id': 7715}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 21302}]","[{'number': 1, 'created': '2017-05-23 11:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c72ddcf4e1c20190ac78e040503addfcdabfa1c', 'message': ""Tempest: Helper function to have active VM that has configured FIP\n\nAs most of scenario tests need to create VM and test connectivity\nto or from it, it's better to have one function that prepares VM\naccordingly (creates it, waits till it's up and configures FIP)\n\nChange-Id: I56e9519441f8d993c43f4b1f252a7828eaeb2908\n""}, {'number': 2, 'created': '2017-05-23 12:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88cdfc4793f3f563161b7818fab65abd3a5fe06b', 'message': ""Tempest: Helper function to have active VM that has configured FIP\n\nAs most of scenario tests need to create VM and test connectivity\nto or from it, it's better to have one function that prepares VM\naccordingly (creates it, waits till it's up and configures FIP)\n\nChange-Id: I56e9519441f8d993c43f4b1f252a7828eaeb2908\n""}, {'number': 3, 'created': '2017-05-23 21:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01cbe34a204fd58fba016287c3390cc98092b0a3', 'message': ""Tempest: Helper function to have active VM that has configured FIP\n\nAs most of scenario tests need to create VM and test connectivity\nto or from it, it's better to have one function that prepares VM\naccordingly (creates it, waits till it's up and configures FIP)\n\nChange-Id: I56e9519441f8d993c43f4b1f252a7828eaeb2908\n""}, {'number': 4, 'created': '2017-05-24 19:47:56.000000000', 'files': ['neutron/tests/tempest/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb5232175bce220ced135d1825bde864faa44aba', 'message': ""Tempest: Helper function to have active VM that has configured FIP\n\nAs most of scenario tests need to create VM and test connectivity\nto or from it, it's better to have one function that prepares VM\naccordingly (creates it, waits till it's up and configures FIP)\n\nChange-Id: I56e9519441f8d993c43f4b1f252a7828eaeb2908\n""}]",16,467125,bb5232175bce220ced135d1825bde864faa44aba,36,12,4,21302,,,0,"Tempest: Helper function to have active VM that has configured FIP

As most of scenario tests need to create VM and test connectivity
to or from it, it's better to have one function that prepares VM
accordingly (creates it, waits till it's up and configures FIP)

Change-Id: I56e9519441f8d993c43f4b1f252a7828eaeb2908
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/467125/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/scenario/base.py'],1,9c72ddcf4e1c20190ac78e040503addfcdabfa1c,create_server_with_fip," waiters.wait_for_server_termination, self.manager.servers_client, server['server']['id']) def create_server_wth_fip(self, security_groups, net_port): server = self.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=self.keypair['name'], networks=[net_port], security_groups=security_groups) waiters.wait_for_server_status(self.manager.servers_client, server['server']['id'], constants.SERVER_STATUS_ACTIVE) port = self.client.list_ports( network_id=self.network['id'], device_id=server['server']['id'])['ports'][0] self.fip = self.create_and_associate_floatingip(port['id']) return server['server'] "," waiters.wait_for_server_termination, self.manager.servers_client, server['server']['id'])",19,2
openstack%2Fneutron~master~I87485ca52549419cda57dc31efb0f1068853cd8e,openstack/neutron,master,I87485ca52549419cda57dc31efb0f1068853cd8e,Allow external subnets to be made visible via policy,ABANDONED,2017-06-21 11:24:35.000000000,2017-11-04 23:06:56.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 8976}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-06-21 11:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb94c913e700faa988e29137456b088a8ff203a3', 'message': 'POC for 1653932\n\nChange-Id: I87485ca52549419cda57dc31efb0f1068853cd8e\n'}, {'number': 2, 'created': '2017-06-23 02:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3c6d46ebbcca8e89a09a936fdc6ee307e2111cb', 'message': ""Allow external subnets to be made visible via policy\n\nThis adjusts the policy engine to support looking up fields\nof related resources for the 'field' rule type. This re-uses\nthe same logic that was introduced for the 'tenant_id' rule\ntype to lookup the tenant_id on the parent network.\n\nDocImpact: If an operator wants to make subnets on external\n           networks visible for regular users, he/she can now\n           adjust the policy.json policy on get_subnets to\n           include the rule 'or rule:external'.\nCloses-Bug: #1653932\nChange-Id: I87485ca52549419cda57dc31efb0f1068853cd8e\n""}, {'number': 3, 'created': '2017-06-23 09:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b048f5fd266e82d5137a313a13f3cb203a6e4f5e', 'message': ""Allow external subnets to be made visible via policy\n\nThis adjusts the policy engine to support looking up fields\nof related resources for the 'field' rule type. This re-uses\nthe same logic that was introduced for the 'tenant_id' rule\ntype to lookup the tenant_id on the parent network.\n\nDocImpact: If an operator wants to make subnets on external\n           networks visible for regular users, he/she can now\n           adjust the policy.json policy on get_subnets to\n           include the rule 'or rule:external'.\nCloses-Bug: #1653932\nChange-Id: I87485ca52549419cda57dc31efb0f1068853cd8e\n""}, {'number': 4, 'created': '2017-06-23 12:28:54.000000000', 'files': ['releasenotes/notes/external_subnet_policy_support-fb09828bc096bb73.yaml', 'neutron/db/external_net_db.py', 'neutron/policy.py', 'neutron/tests/unit/extensions/test_external_net.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0176610e0551efc8f38dfa971faeebef38d96480', 'message': ""Allow external subnets to be made visible via policy\n\nThis adjusts the policy engine to support looking up fields\nof related resources for the 'field' rule type. This re-uses\nthe same logic that was introduced for the 'tenant_id' rule\ntype to lookup the tenant_id on the parent network.\n\nDocImpact: If an operator wants to make subnets on external\n           networks visible for regular users, he/she can now\n           adjust the policy.json policy on get_subnets to\n           include the rule 'or rule:external'.\nCloses-Bug: #1653932\nChange-Id: I87485ca52549419cda57dc31efb0f1068853cd8e\n""}]",0,476094,0176610e0551efc8f38dfa971faeebef38d96480,31,10,4,7787,,,0,"Allow external subnets to be made visible via policy

This adjusts the policy engine to support looking up fields
of related resources for the 'field' rule type. This re-uses
the same logic that was introduced for the 'tenant_id' rule
type to lookup the tenant_id on the parent network.

DocImpact: If an operator wants to make subnets on external
           networks visible for regular users, he/she can now
           adjust the policy.json policy on get_subnets to
           include the rule 'or rule:external'.
Closes-Bug: #1653932
Change-Id: I87485ca52549419cda57dc31efb0f1068853cd8e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/476094/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/external_net_db.py', 'neutron/policy.py', 'etc/policy.json', 'neutron/tests/etc/policy.json', 'neutron/tests/unit/extensions/test_external_net.py']",5,bb94c913e700faa988e29137456b088a8ff203a3,bug/1653932," def test_subnet_and_net_visible_to_non_admin(self): with self.network(router__external=True) as net, \ self.subnet(network=net) as s: subs = self._list('subnets', neutron_context=context.Context('', 'noadmin')) self.assertEqual(subs['subnets'][0]['id'], s['subnet']['id']) ",,65,29
openstack%2Fnetworking-odl~master~Ic8f406a7eff5a91ea94f57306a59c7ecc70b3d1e,openstack/networking-odl,master,Ic8f406a7eff5a91ea94f57306a59c7ecc70b3d1e,Provide support for RPC calls from ODL to neutron,ABANDONED,2017-06-02 08:20:25.000000000,2017-11-04 23:06:47.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 17120}, {'_account_id': 20208}]","[{'number': 1, 'created': '2017-06-02 08:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/08d5cb18fa60088019c94824ea0e705f5cd37204', 'message': 'Provide support for RPC calls from ODL to neutron\n\nTo provide support for RPC calls from Opendaylight to neutron,\nframework has been added. A method has been added, which enables\nsubscription for streams to Opendaylight. User will be able to\nsubscripe for streams and these streams are handled by RPC calls\nto neutron. Support for this feature is being introduced at\nOpendaylight side as well.\n\nhttps://git.opendaylight.org/gerrit/#/c/53242/\nhttps://review.openstack.org/#/c/449402/\n\nChange-Id: Ic8f406a7eff5a91ea94f57306a59c7ecc70b3d1e\nPartially-Implements: blueprint openstack-rpc-from-odl\n'}, {'number': 2, 'created': '2017-06-22 05:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/59a9f092cb602f15d09b21aef552843892d0a1f4', 'message': 'Provide support for RPC calls from ODL to neutron\n\nTo provide support for RPC calls from Opendaylight to neutron,\nframework has been added. A method has been added, which enables\nsubscription for streams to Opendaylight. User will be able to\nsubscripe for streams and these streams are handled by RPC calls\nto neutron. Support for this feature is being introduced at\nOpendaylight side as well.\n\nhttps://git.opendaylight.org/gerrit/#/c/53242/\nhttps://review.openstack.org/#/c/449402/\n\nChange-Id: Ic8f406a7eff5a91ea94f57306a59c7ecc70b3d1e\nPartially-Implements: blueprint openstack-rpc-from-odl\n'}, {'number': 3, 'created': '2017-06-22 10:14:58.000000000', 'files': ['networking_odl/ml2/pseudo_agentdb_binding.py', 'networking_odl/common/rpc_forwarder.py', 'networking_odl/common/rpc_client.py', 'networking_odl/common/exceptions.py', 'networking_odl/common/websocket_client.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0661762489570b51d18b87ac2efda5bda984cb45', 'message': 'Provide support for RPC calls from ODL to neutron\n\nTo provide support for RPC calls from Opendaylight to neutron,\nframework has been added. A method has been added, which enables\nsubscription for streams to Opendaylight. User will be able to\nsubscripe for streams and these streams are handled by RPC calls\nto neutron. Support for this feature is being introduced at\nOpendaylight side as well.\n\nhttps://git.opendaylight.org/gerrit/#/c/53242/\nhttps://review.openstack.org/#/c/449402/\n\nChange-Id: Ic8f406a7eff5a91ea94f57306a59c7ecc70b3d1e\nPartially-Implements: blueprint openstack-rpc-from-odl\n'}]",7,470194,0661762489570b51d18b87ac2efda5bda984cb45,14,5,3,13912,,,0,"Provide support for RPC calls from ODL to neutron

To provide support for RPC calls from Opendaylight to neutron,
framework has been added. A method has been added, which enables
subscription for streams to Opendaylight. User will be able to
subscripe for streams and these streams are handled by RPC calls
to neutron. Support for this feature is being introduced at
Opendaylight side as well.

https://git.opendaylight.org/gerrit/#/c/53242/
https://review.openstack.org/#/c/449402/

Change-Id: Ic8f406a7eff5a91ea94f57306a59c7ecc70b3d1e
Partially-Implements: blueprint openstack-rpc-from-odl
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/94/470194/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/ml2/pseudo_agentdb_binding.py', 'networking_odl/common/rpc_forwarder.py', 'networking_odl/common/rpc_client.py', 'networking_odl/common/utils.py', 'networking_odl/common/websocket_client.py']",5,08d5cb18fa60088019c94824ea0e705f5cd37204,bp/openstack-rpc-from-odl,"from networking_odl.common import utils def start_websocket(path, datastore, scope, notification_processor, status_notifier): odl_url = utils.get_odl_url() odl_websocket_client = ( OpendaylightWebsocketClient.odl_create_websocket( odl_url, path, datastore, scope, notification_processor, status_notifier)) if odl_websocket_client is None: LOG.error(""Error starting websocket thread"") return odl_websocket_client",,163,22
openstack%2Fneutron~master~Ia15b7ed3d66f0759068fa6f9e7af55a883288204,openstack/neutron,master,Ia15b7ed3d66f0759068fa6f9e7af55a883288204,remove repeated setup_logging when neutron-server start,ABANDONED,2017-05-26 06:36:29.000000000,2017-11-04 23:06:37.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 23823}]","[{'number': 1, 'created': '2017-05-26 06:36:29.000000000', 'files': ['neutron/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b86d28ecc203b3388e641cb859bb7914f31d3977', 'message': 'remove repeated setup_logging when neutron-server start\n\nWhen neutron-server start, config.setup_logging() called twice.\n\nChange-Id: Ia15b7ed3d66f0759068fa6f9e7af55a883288204\nCloses-Bug: #1693691\n'}]",1,468280,b86d28ecc203b3388e641cb859bb7914f31d3977,13,9,1,23823,,,0,"remove repeated setup_logging when neutron-server start

When neutron-server start, config.setup_logging() called twice.

Change-Id: Ia15b7ed3d66f0759068fa6f9e7af55a883288204
Closes-Bug: #1693691
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/468280/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/service.py'],1,b86d28ecc203b3388e641cb859bb7914f31d3977,bug/1693691,, # Setup logging early config.setup_logging(),0,2
openstack%2Fneutron~master~I43ce8c4fbb9361054e8b89382fd482301f39ebd5,openstack/neutron,master,I43ce8c4fbb9361054e8b89382fd482301f39ebd5,[rally-jobs] use network context,ABANDONED,2016-09-14 10:38:35.000000000,2017-11-04 23:06:18.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-09-14 10:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/429caf4cb9c5c57f586e43c183cfa8a1fe329ad7', 'message': '[rally-jobs] use network context\n\nThere are bunch of scenarios where networks should exist to check in proper\nway specific entity. Currently, such scenarios were configured without\nnetwork context. It means that networks were created in iterations.\n\nThis patch moves creation of network and subnets to pre-step/setUp (context)\n\nChange-Id: I43ce8c4fbb9361054e8b89382fd482301f39ebd5\n'}, {'number': 2, 'created': '2016-09-14 14:48:07.000000000', 'files': ['rally-jobs/neutron-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39ce5bcce9e12aded2fd189c2ea80088a37a3ecc', 'message': '[rally-jobs] use network context\n\nThere are bunch of scenarios where networks should exist to check in proper\nway specific entity. Currently, such scenarios were configured without\nnetwork context. It means that networks were created in iterations.\n\nThis patch moves creation of network and subnets to pre-step/setUp (context)\n\nChange-Id: I43ce8c4fbb9361054e8b89382fd482301f39ebd5\n'}]",0,370017,39ce5bcce9e12aded2fd189c2ea80088a37a3ecc,23,11,2,9545,,,0,"[rally-jobs] use network context

There are bunch of scenarios where networks should exist to check in proper
way specific entity. Currently, such scenarios were configured without
network context. It means that networks were created in iterations.

This patch moves creation of network and subnets to pre-step/setUp (context)

Change-Id: I43ce8c4fbb9361054e8b89382fd482301f39ebd5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/370017/2 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/neutron-neutron.yaml'],1,429caf4cb9c5c57f586e43c183cfa8a1fe329ad7,rally-jobs," network: networks_per_tenant: 1 network_create_args: {} subnets_per_network: 1 start_cidr: ""10.2.0.0/24"" network: networks_per_tenant: 1 network_create_args: {} subnets_per_network: 2 start_cidr: ""1.1.0.0/30"" network: networks_per_tenant: 1 network_create_args: {} subnets_per_network: 1 start_cidr: ""1.1.0.0/30"" network: networks_per_tenant: 1 network_create_args: {} network: networks_per_tenant: 1 network_create_args: {} subnets_per_network: 2 start_cidr: ""1.1.0.0/30"" network: networks_per_tenant: 1 network_create_args: {} subnets_per_network: 1 start_cidr: ""1.1.0.0/30"" network: networks_per_tenant: 1 network_create_args: {} network: networks_per_tenant: 1 network_create_args: {} subnets_per_network: 2 start_cidr: ""1.1.0.0/30"" network: networks_per_tenant: 1 network_create_args: {} subnets_per_network: 1 start_cidr: ""1.1.0.0/30"""," network_create_args: subnet_create_args: subnet_cidr_start: ""1.1.0.0/30"" subnets_per_network: 2 network_create_args: network_create_args: {} network_create_args: {} subnet_create_args: {} subnet_cidr_start: ""1.1.0.0/30"" subnets_per_network: 2 network_create_args: {} network_create_args: {} subnet_create_args: {} network_create_args: {} subnet_create_args: {} subnet_cidr_start: ""1.1.0.0/30"" subnets_per_network: 2 network_create_args: {}",41,18
openstack%2Fneutron~master~Idfda936f6b635f389b1d521260d5c2edd20cd96f,openstack/neutron,master,Idfda936f6b635f389b1d521260d5c2edd20cd96f,Fix pyroute2 module warning,ABANDONED,2017-05-05 16:25:16.000000000,2017-11-04 23:06:08.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-05 16:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbe3750330e1293dcf016736843785147d08e675', 'message': ""Fix pyroute2 module warning\n\nNoticed this in a q-dhcp.log file:\n\n    WARNING pyroute2 [-] module pyroute2.ipdb.common\n    is deprecated, use pyroute2.ipdb.exceptions instead\n\nImport individual modules instead of 'pyroute2'.\n\nTrivialFix\n\nChange-Id: Idfda936f6b635f389b1d521260d5c2edd20cd96f\n""}, {'number': 2, 'created': '2017-05-05 19:33:58.000000000', 'files': ['neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21cdd15f47a2672a3d782b79187920f9e9db2778', 'message': ""Fix pyroute2 module warning\n\nNoticed this in a q-dhcp.log file:\n\n    WARNING pyroute2 [-] module pyroute2.ipdb.common\n    is deprecated, use pyroute2.ipdb.exceptions instead\n\nImport individual modules instead of 'pyroute2'.\n\nTrivialFix\n\nChange-Id: Idfda936f6b635f389b1d521260d5c2edd20cd96f\n""}]",0,462989,21cdd15f47a2672a3d782b79187920f9e9db2778,18,8,2,1131,,,0,"Fix pyroute2 module warning

Noticed this in a q-dhcp.log file:

    WARNING pyroute2 [-] module pyroute2.ipdb.common
    is deprecated, use pyroute2.ipdb.exceptions instead

Import individual modules instead of 'pyroute2'.

TrivialFix

Change-Id: Idfda936f6b635f389b1d521260d5c2edd20cd96f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/462989/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",2,bbe3750330e1293dcf016736843785147d08e675,pyroute2-ipdb-common,"from pyroute2.ipdb import main from pyroute2 import iproutefrom pyroute2.netns import nslink netns = nslink.NetNS(namespace, flags=0) if namespace else None with main.IPDB(nl=netns) as ipdb: return nslink.NetNS(namespace, flags=0) else: return iproute.IPRoute()","import pyroute2 netns = pyroute2.NetNS(namespace, flags=0) if namespace else None with pyroute2.IPDB(nl=netns) as ipdb: return pyroute2.NetNS(namespace, flags=0) else: return pyroute2.IPRoute()",20,17
openstack%2Fnetworking-odl~master~I53afe6c611beee0e1b45c7e2f8073b20d3e06f06,openstack/networking-odl,master,I53afe6c611beee0e1b45c7e2f8073b20d3e06f06,add test cases for security group,ABANDONED,2017-06-16 05:39:07.000000000,2017-11-04 23:05:58.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}]","[{'number': 1, 'created': '2017-06-16 05:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3b244a8b7c6771e1b65122c046dc9b4533bf6cad', 'message': 'add test cases for security group\n\nChange-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06\n'}, {'number': 2, 'created': '2017-06-16 05:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5321bb1be5f8e9bdce9ee07a99df44890d4ae298', 'message': 'add test cases for security group\n\nChange-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06\n'}, {'number': 3, 'created': '2017-06-19 21:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3c30ea46f2cb41fc34148885dd56290ec8d48086', 'message': 'add test cases for security group\n\nChange-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06\n'}, {'number': 4, 'created': '2017-06-20 01:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8f07e21dc0ebffa5fb25cccf3e8eb3ec161a4771', 'message': 'add test cases for security group\n\nChange-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06\n'}, {'number': 5, 'created': '2017-06-21 15:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/82416a20fe5d5164d684ba2778cba0a2f9444578', 'message': 'add test cases for security group\n\nChange-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06\n'}, {'number': 6, 'created': '2017-06-22 07:34:30.000000000', 'files': ['networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py', 'networking_odl/tests/unit/base_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/74217186f4e672b4c300a4892bfd8cb37003a1ca', 'message': 'add test cases for security group\n\nChange-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06\n'}]",2,474856,74217186f4e672b4c300a4892bfd8cb37003a1ca,15,4,6,333,,,0,"add test cases for security group

Change-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/56/474856/5 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py', 'networking_odl/tests/unit/base_v2.py']",2,3b244a8b7c6771e1b65122c046dc9b4533bf6cad,security-group-ovo," _mechanism_drivers = ['logger', 'opendaylight_v2'] ",,26,0
openstack%2Fpython-neutronclient~master~I62cbda54d155f8b24fd778b92524c92dd28e2e68,openstack/python-neutronclient,master,I62cbda54d155f8b24fd778b92524c92dd28e2e68,portbindings: Add support for portbindings extension,ABANDONED,2017-06-01 17:13:35.000000000,2017-11-04 23:05:49.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 13702}, {'_account_id': 15905}]","[{'number': 1, 'created': '2017-06-01 17:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/aa1dc719326603220409ed759bfedeb66a0c59da', 'message': 'portbindings: Add support for portbindings extension\n\nAdds OSC commands and bindings for portbindings extended API. Following\ncommands were added:\n""openstack port binding create"" to create a port binding.\n""openstack port binding show"" to get a port binding.\n""openstack port binding list"" to list port bindings.\n""openstack port binding set"" to update a port binding.\n""openstack port binding activate"" to activate an inactive port binding.\n""openstack port binding delete"" to delete a port binding.\n\nDocImpact: Openstackclient now supports CLIs to configure\n           portbindings resource via OSC plugin for neutronclient.\n\nRelated-bug: 1580880\n\nChange-Id: I62cbda54d155f8b24fd778b92524c92dd28e2e68\n'}, {'number': 2, 'created': '2017-06-01 17:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/9e1a18771ac5c41aa8fa3ec1b0fc644a169ae457', 'message': 'portbindings: Add support for portbindings extension\n\nAdds OSC commands and bindings for portbindings extended API. Following\ncommands were added:\n""openstack port binding create"" to create a port binding.\n""openstack port binding show"" to get a port binding.\n""openstack port binding list"" to list port bindings.\n""openstack port binding set"" to update a port binding.\n""openstack port binding activate"" to activate an inactive port binding.\n""openstack port binding delete"" to delete a port binding.\n\nDocImpact: Openstackclient now supports CLIs to configure\n           portbindings resource via OSC plugin for neutronclient.\n\nRelated-bug: 1580880\n\nChange-Id: I62cbda54d155f8b24fd778b92524c92dd28e2e68\n'}, {'number': 3, 'created': '2017-06-02 07:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/baf04821dc23da024a74ec1952c0fcdd5faccc10', 'message': 'portbindings: Add support for portbindings extension\n\nAdds OSC commands and bindings for portbindings extended API. Following\ncommands were added:\n""openstack port binding create"" to create a port binding.\n""openstack port binding show"" to get a port binding.\n""openstack port binding list"" to list port bindings.\n""openstack port binding set"" to update a port binding.\n""openstack port binding activate"" to activate an inactive port binding.\n""openstack port binding delete"" to delete a port binding.\n\nDocImpact: Openstackclient now supports CLIs to configure\n           portbindings resource via OSC plugin for neutronclient.\n\nRelated-bug: 1580880\n\nChange-Id: I62cbda54d155f8b24fd778b92524c92dd28e2e68\n'}, {'number': 4, 'created': '2017-06-02 07:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/43a83480c70f803713e3da544af62edb6211ebf7', 'message': 'portbindings: Add support for portbindings extension\n\nAdds OSC commands and bindings for portbindings extended API. Following\ncommands were added:\n""openstack port binding create"" to create a port binding.\n""openstack port binding show"" to get a port binding.\n""openstack port binding list"" to list port bindings.\n""openstack port binding set"" to update a port binding.\n""openstack port binding activate"" to activate an inactive port binding.\n""openstack port binding delete"" to delete a port binding.\n\nDocImpact: Openstackclient now supports CLIs to configure\n           portbindings resource via OSC plugin for neutronclient.\n\nRelated-bug: 1580880\n\nChange-Id: I62cbda54d155f8b24fd778b92524c92dd28e2e68\n'}, {'number': 5, 'created': '2017-06-08 13:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/0807da673b32f0590811cccc5ea8c2f3447cc1a2', 'message': 'portbindings: Add support for portbindings extension\n\nAdds OSC commands and bindings for portbindings extended API. Following\ncommands were added:\n""openstack port binding create"" to create a port binding.\n""openstack port binding show"" to get a port binding.\n""openstack port binding list"" to list port bindings.\n""openstack port binding set"" to update a port binding.\n""openstack port binding activate"" to activate an inactive port binding.\n""openstack port binding delete"" to delete a port binding.\n\nDocImpact: Openstackclient now supports CLIs to configure\n           portbindings resource via OSC plugin for neutronclient.\n\nRelated-bug: #1580880\n\nChange-Id: I62cbda54d155f8b24fd778b92524c92dd28e2e68\n'}, {'number': 6, 'created': '2017-06-12 14:29:48.000000000', 'files': ['neutronclient/tests/unit/osc/v2/portbindings/__init__.py', 'neutronclient/osc/v2/portbindings/__init__.py', 'neutronclient/v2_0/client.py', 'neutronclient/tests/unit/osc/v2/portbindings/test_port_bindings.py', 'releasenotes/notes/add-osc-portbindings-commands-c59203810e4c229d.yaml', 'neutronclient/osc/v2/portbindings/port_bindings.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/acd038fe1d93d03b34f02f97eedfcbceec3fce2f', 'message': 'portbindings: Add support for portbindings extension\n\nAdds OSC commands and bindings for portbindings extended API. Following\ncommands were added:\n""openstack port binding create"" to create a port binding.\n""openstack port binding show"" to get a port binding.\n""openstack port binding list"" to list port bindings.\n""openstack port binding set"" to update a port binding.\n""openstack port binding activate"" to activate an inactive port binding.\n""openstack port binding delete"" to delete a port binding.\n\nDocImpact: Openstackclient now supports CLIs to configure\n           portbindings resource via OSC plugin for neutronclient.\n\nRelated-bug: #1580880\n\nChange-Id: I62cbda54d155f8b24fd778b92524c92dd28e2e68\n'}]",58,469949,acd038fe1d93d03b34f02f97eedfcbceec3fce2f,24,6,6,8655,,,0,"portbindings: Add support for portbindings extension

Adds OSC commands and bindings for portbindings extended API. Following
commands were added:
""openstack port binding create"" to create a port binding.
""openstack port binding show"" to get a port binding.
""openstack port binding list"" to list port bindings.
""openstack port binding set"" to update a port binding.
""openstack port binding activate"" to activate an inactive port binding.
""openstack port binding delete"" to delete a port binding.

DocImpact: Openstackclient now supports CLIs to configure
           portbindings resource via OSC plugin for neutronclient.

Related-bug: #1580880

Change-Id: I62cbda54d155f8b24fd778b92524c92dd28e2e68
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/49/469949/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/osc/v2/portbindings/__init__.py', 'neutronclient/osc/v2/portbindings/__init__.py', 'neutronclient/v2_0/client.py', 'neutronclient/tests/unit/osc/v2/portbindings/test_port_bindings.py', 'releasenotes/notes/add-osc-portbindings-commands-c59203810e4c229d.yaml', 'neutronclient/osc/v2/portbindings/port_bindings.py', 'setup.cfg']",7,aa1dc719326603220409ed759bfedeb66a0c59da,bug/1580880, port_binding_create = neutronclient.osc.v2.portbindings.port_bindings:CreatePortBinding port_binding_list = neutronclient.osc.v2.portbindings.port_bindings:ListPortBindings port_binding_show = neutronclient.osc.v2.portbindings.port_bindings:ShowPortBinding port_binding_set = neutronclient.osc.v2.portbindings.port_bindings:SetPortBinding port_binding_activate = neutronclient.osc.v2.portbindings.port_bindings:ActivatePortBinding port_binding_delete = neutronclient.osc.v2.portbindings.port_bindings:DeletePortBinding ,,708,0
openstack%2Fneutron~master~Ib2cfa73e58e86b25fb73093fcd995397de234c40,openstack/neutron,master,Ib2cfa73e58e86b25fb73093fcd995397de234c40,Update neutron infra dashboard,ABANDONED,2017-06-30 04:31:51.000000000,2017-11-04 23:05:30.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-06-30 04:31:51.000000000', 'files': ['doc/source/dashboards/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/074bbbff4a319660d69bf5e5d123530549296fff', 'message': 'Update neutron infra dashboard\n\nSync with https://review.openstack.org/#/c/473683/3\n\nChange-Id: Ib2cfa73e58e86b25fb73093fcd995397de234c40\n'}]",0,479137,074bbbff4a319660d69bf5e5d123530549296fff,7,5,1,6854,,,0,"Update neutron infra dashboard

Sync with https://review.openstack.org/#/c/473683/3

Change-Id: Ib2cfa73e58e86b25fb73093fcd995397de234c40
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/479137/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dashboards/index.rst'],1,074bbbff4a319660d69bf5e5d123530549296fff,dashboards,- `Neutron Infra reviews <https://review.openstack.org/#/dashboard/?foreach=%28project%3Aopenstack%2Dinfra%2Fproject%2Dconfig+OR+project%3Aopenstack%2Dinfra%2Fdevstack%2Dgate%29+status%3Aopen+NOT+owner%3Aself+NOT+label%3AWorkflow%3C%3D%2D1+label%3AVerified%3E%3D1%2Cjenkins+NOT+label%3ACode%2DReview%3E%3D%2D2%2Cself&title=Neutron+Infra+Review+Inbox&Neutron+related+infra+reviews=%28message%3A%22neutron%22+OR+message%3A%22networking%2D%22+OR+%28comment%3A%22neutron%22+%28comment%3A%22liaison%22+OR+comment%3A%22liason%22%29%29%29>`_,- `Neutron Infra reviews <https://review.openstack.org/#/dashboard/?foreach=%28project%3Aopenstack%2Dinfra%2Fproject%2Dconfig+OR%0Aproject%3Aopenstack%2Dinfra%2Fdevstack%2Dgate%29+status%3Aopen+NOT+owner%3Aself+NOT+label%3AWorkflow%3C%3D%2D1+label%3AVerified%3E%3D1%2Cjenkins+NOT+label%3ACode%2DReview%3E%3D%2D2%2Cself&title=Neutron+Infra+Review+Inbox&Neutron+related+infra+reviews=%28message%3A%22neutron%22+OR+message%3A%22networking%2D%22%29>`_,1,1
openstack%2Fneutron~master~I0a269488855247309471eb7ed06a2388564e6101,openstack/neutron,master,I0a269488855247309471eb7ed06a2388564e6101,Devref: Describe the pecan wsgi layer,ABANDONED,2016-10-24 22:44:43.000000000,2017-11-04 23:05:20.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6951}, {'_account_id': 7787}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 18332}, {'_account_id': 20246}, {'_account_id': 22220}, {'_account_id': 22524}]","[{'number': 1, 'created': '2016-10-24 22:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67fd6703f80c77597d78ee0764cf02fc1c0e02a8', 'message': 'Devref: Describe the pecan wsgi layer\n\nAdds a Pecan Web Framework section to the api_layer devref page.  Also\nmodifies the current api_layer content to be the Legacy Web Framework.\n\nChange-Id: I0a269488855247309471eb7ed06a2388564e6101\n'}, {'number': 2, 'created': '2016-11-01 20:21:19.000000000', 'files': ['doc/source/devref/api_layer.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c2c5a264f8733b54ad9acf23728c8250ae762f9', 'message': 'Devref: Describe the pecan wsgi layer\n\nAdds a Pecan Web Framework section to the api_layer devref page.  Also\nmodifies the current api_layer content to be the Legacy Web Framework.\n\nChange-Id: I0a269488855247309471eb7ed06a2388564e6101\n'}]",40,390412,6c2c5a264f8733b54ad9acf23728c8250ae762f9,29,15,2,6951,,,0,"Devref: Describe the pecan wsgi layer

Adds a Pecan Web Framework section to the api_layer devref page.  Also
modifies the current api_layer content to be the Legacy Web Framework.

Change-Id: I0a269488855247309471eb7ed06a2388564e6101
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/390412/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/api_layer.rst'],1,67fd6703f80c77597d78ee0764cf02fc1c0e02a8,devref/pecan,"It defines the `Legacy Web Framework`_ and the `Pecan Web Framework`_. Legacy Web Framework -------------------- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Pecan Web Framework ------------------- Enable ~~~~~~ To enable pecan in neutron-server, just set the following option in the config: .. code-block:: ini [DEFAULT] web_framework = pecan To disable, just comment the option out or set it to ""legacy"". For example: .. code-block:: ini [DEFAULT] web_framework = legacy Startup ~~~~~~~ Neutron's WSGI server is started from the `server module`_ and if pecan is enabled, then the `pecan wsgi server <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/server/wsgi_pecan.py>`_ is started. This module is where the actual `Pecan app module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/app.py>`_ is retrieved from pecan and used to start the WSGI service. Similarily, if operators wanted to use another WSGI service, then the operator would just need to point their service to the setup_app function in the `Pecan app module`_. Upon application setup, the `Controllers`_ are setup, the `Hooks`_ are defined, the application created, the `Middleware`_ loaded, and the `Extensions`_ are loaded. Middleware ~~~~~~~~~~ The WSGI middleware for pecan is loaded with the _wrap_app function in the `Pecan app module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/app.py>`_. Currently, this is the only way to load in middleware for pecan, and there isn't an easily configurable pipeline like legacy has with `paste deploy <http://pythonpaste.org/deploy/>`_. However, there are plans to support paste deploy with pecan, but it is in the early stages. Controllers ~~~~~~~~~~~ Pecan uses controllers to determine what code should handle url paths. Neutron instructs pecan to use the RootController in the `root module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/controllers/root.py>`_ to handle the base neutron url (http://neutron-server-address:9696/). The RootController routes requests that include the /v2.0 path to the V2Controller in the `root module`_. From there, the controllers are determined by the NeutronManager in the `manager module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/manager.py>`_ and the _lookup method in each controller. Each collections resource (/networks, /subnets, /ports, etc) will most likely be handled by the CollectionsController in the `resource module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/controllers/resource.py>`_. Each item resource (/networks/{network_id}, /subnets/{subnet_id}, /ports/{port_id}, etc) will most likely be handled by the ItemController in the `resource module`_. An exception to this is for the quotas resource and extensions resource, which define their own special controllers in the `quota module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/controllers/quota.py>`_ and the `extensions module `extensions module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/controllers/extensions.py>`_, respectively. Hooks ~~~~~ Neutron pecan makes extensive use of pecan hooks. These hooks are used to do preprocessing and postprocessing of requests. Each hook defines either a before method, after method, or on_error method. More information about pecan hooks can be found on the `pecan hooks docs <http://pecan.readthedocs.io/en/latest/hooks.html>`_. Neutron pecan hooks are located in the `hooks package <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/hooks>`_. The following hooks are used by neutron pecan. ContextHook +++++++++++ Before '''''' Creates the context object that the neutron pecan controllers will eventually pass down to the plugins. It puts the context object into the pecan request's own context object under the key 'neutron_context'. They are not the same context, they are only similar in name. ExceptionTranslationHook ++++++++++++++++++++++++ On Error '''''''' Translates internal neutron exceptions into the HTTP exceptions. BodyValidationHook ++++++++++++++++++ Before '''''' On POSTs and PUTs, deserializes the body provided by the client and stores it in the pecan request context for use by hooks later in the pipeline. It will also validate that the body provided by the client follows the schema defined by the server, usually a RESOURCE_ATTRIBUTE_MAP. OwnershipValidationHook +++++++++++++++++++++++ Before '''''' On POSTs, validates that the resource being created has parent's that are owned by the project_id or tenant_id. QuotaEnforcementHook ++++++++++++++++++++ Before '''''' On POSTs, enforce quotas by determining whether the creation of the current resource would violate the quota and then saves the number of reservations for use by the after method. After ''''' Commits the reservations calculated by the before hook. NotifierHook ++++++++++++ Before '''''' Emits the standard 'object.(create|update|delete).start' notifications for all POSTs, PUTs, and DELETES. After ''''' Emits the standard 'object.(create|update|delete).end' notifications for all POSTs, PUTs, and DELETES and also notifies the callbacks for the BEFORE_RESPONSE event. QueryParametersHook +++++++++++++++++++ This hook needs to have a lower priority than the `PolicyHook`_ because it's after method depends on what the `PolicyHook`_ 's after method does. Before '''''' Processes the fields, filters, sorts, marker, limit, and page_reverse query parameters that the client passes in and stores them in the pecan request's context for the controller or the after method to use. After ''''' Sorts and paginates the response returned by the controller and injects the pagination links (next and prev). PolicyHook ++++++++++ Before '''''' Verifies that the resource and/or its attributes being modified (POSTs, PUTs, DELETEs) can do so by checking with the policy engine. After ''''' Filters the response to the client based on what the policy engine allows. Extensions ~~~~~~~~~~ Neutron pecan builds the core resource controllers and loads the extension resource controllers in the `startup module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/pecan_wsgi/startup.py>`_. First, it builds and stores in the NeutronManager the controllers for the core resources defined in the `router module <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/api/v2/router.py>`_. Next, it iterates through all enabled extensions and sets any pecan controllers that an extension defines. An extension can define its own pecan controllers by implementing the get_pecan_resources classmethod in the extension's class. An example of this is the `quotas extension <http://git.openstack.org/cgit/openstack/neutron/tree/neutron/extensions/quotasv2.py>`_. Next, it iterates through all enabled extensions and retrieves the list of ResourceExtensions returned by every extension's get_resources method. Then, it translates each one into a CollectionsController or an ItemController defined in the `Controllers`_ section and sets that controller to be the controller for it's particular resource and/or collection. This is later used by the _lookup method in each controller to grab the resource and/or collection's controller. Further Reading ~~~~~~~~~~~~~~~ `Pecan Documentation <http://pecan.readthedocs.io/en/latest/>`_",--------------------------------------,215,3
openstack%2Fneutron~master~I5e9088186da89e824fe9710742d8cdee31a76891,openstack/neutron,master,I5e9088186da89e824fe9710742d8cdee31a76891,Support unique labels for alembic branches,ABANDONED,2016-07-06 20:34:45.000000000,2017-11-04 23:05:10.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-07-06 20:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02da052f0be36cad464d49a2e90d8891ff5eac7b', 'message': 'Support unique labels for alembic branches\n\nWe plan to have all projects that integrate with Neutron use the same\nalembic environment (Neutron\'s) instead of having a separate alembic\nenv.py in each repo. This means that each project will need to label\ntheir contract and expand branches uniquely.\n\nWith this patch we add support for branch labels of the form\n  \'networking-foo-contract\'\n  \'networking-foo-expand\'\n\nWe also support the old labels (\'contract\' and \'expand\') with the\nintent of backporting this patch to Mitaka so that projects can be\nbackwards compatible when they update their alembic branch labels. A\nbest effort will be made to backport this patch to Liberty also.\n\nSupport has been removed for label names starting with a ""liberty_""\nprefix. Such labels temporarily existed during the Liberty cycle but\nhave now all been cleaned up.\n\nChange-Id: I5e9088186da89e824fe9710742d8cdee31a76891\nPartial-Bug: #1497830\n'}, {'number': 2, 'created': '2016-07-19 01:39:56.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/liberty/expand/354db87e3225_nsxv_vdr_metadata.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/autogen.py', 'neutron/tests/functional/db/test_migrations.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/30018084ec99_initial.py', 'neutron/tests/unit/db/test_migration.py', 'doc/source/devref/alembic_migrations.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa29858b21336c94bd2a308dc7f6858a426aab7c', 'message': 'Support unique labels for alembic branches\n\nWe plan to have all projects that integrate with Neutron use the same\nalembic environment (Neutron\'s) instead of having a separate alembic\nenv.py in each repo. This means that each project will need to label\ntheir contract and expand branches uniquely.\n\nWith this patch we add support for branch labels of the form\n  \'networking-foo-contract\'\n  \'networking-foo-expand\'\n\nWe also support the old labels (\'contract\' and \'expand\') with the\nintent of backporting this patch to Mitaka so that projects can be\nbackwards compatible when they update their alembic branch labels. A\nbest effort will be made to backport this patch to Liberty also.\n\nSupport has been removed for label names starting with a ""liberty_""\nprefix. Such labels temporarily existed during the Liberty cycle but\nhave now all been cleaned up.\n\nChange-Id: I5e9088186da89e824fe9710742d8cdee31a76891\nPartial-Bug: #1497830\n'}]",5,338543,fa29858b21336c94bd2a308dc7f6858a426aab7c,35,14,2,6524,,,0,"Support unique labels for alembic branches

We plan to have all projects that integrate with Neutron use the same
alembic environment (Neutron's) instead of having a separate alembic
env.py in each repo. This means that each project will need to label
their contract and expand branches uniquely.

With this patch we add support for branch labels of the form
  'networking-foo-contract'
  'networking-foo-expand'

We also support the old labels ('contract' and 'expand') with the
intent of backporting this patch to Mitaka so that projects can be
backwards compatible when they update their alembic branch labels. A
best effort will be made to backport this patch to Liberty also.

Support has been removed for label names starting with a ""liberty_""
prefix. Such labels temporarily existed during the Liberty cycle but
have now all been cleaned up.

Change-Id: I5e9088186da89e824fe9710742d8cdee31a76891
Partial-Bug: #1497830
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/338543/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/liberty/expand/354db87e3225_nsxv_vdr_metadata.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/autogen.py', 'neutron/tests/functional/db/test_migrations.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/30018084ec99_initial.py', 'neutron/tests/unit/db/test_migration.py', 'doc/source/devref/alembic_migrations.rst']",7,02da052f0be36cad464d49a2e90d8891ff5eac7b,bug/1497830,"Expand and Contract Branch Labeling ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Before the Newton release, neutron and each sub-project had its own alembic environment and each repo could re-use the labels ``contract`` and ``expand`` for their alembic branches. With the Newton release, all neutron sub-projects use neutron's alembic environment, and this requires globally unique branch labels. To be compatible with the Newton release of neutron, all projects must use unique alembic branch labels of the form ``<project>-contract`` and ``<project>-expand``. ",,222,97
openstack%2Fneutron~master~I0be96ea1e55f92c85539df0933e96c29a41ecf3d,openstack/neutron,master,I0be96ea1e55f92c85539df0933e96c29a41ecf3d,Replace support matrix ext with common library,ABANDONED,2017-07-06 22:01:52.000000000,2017-11-04 23:05:01.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 748}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-07-06 22:01:52.000000000', 'files': ['doc/source/feature_classification/general_feature_support_matrix.ini', 'test-requirements.txt', 'doc/source/ext/support_matrix.py', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8e9510240c6e19134d89aa4739d47dfed315ec4', 'message': 'Replace support matrix ext with common library\n\nThe code to general support matrix has now been pulled into a common\nlibrary. Use this instead of duplicating code in various projects that\nneed it.\n\nChange-Id: I0be96ea1e55f92c85539df0933e96c29a41ecf3d\nDepends-On: I3ecea5f6a8b8e6bcfbc34019a2d2652ada8c9c57\n'}]",0,481307,a8e9510240c6e19134d89aa4739d47dfed315ec4,10,9,1,170,,,0,"Replace support matrix ext with common library

The code to general support matrix has now been pulled into a common
library. Use this instead of duplicating code in various projects that
need it.

Change-Id: I0be96ea1e55f92c85539df0933e96c29a41ecf3d
Depends-On: I3ecea5f6a8b8e6bcfbc34019a2d2652ada8c9c57
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/481307/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/feature_classification/general_feature_support_matrix.ini', 'test-requirements.txt', 'doc/source/ext/support_matrix.py', 'doc/source/conf.py']",4,a8e9510240c6e19134d89aa4739d47dfed315ec4,support-matrix, 'sphinx_feature_classification.support_matrix'], 'support_matrix'],79,560
openstack%2Fneutron~master~I57204eca2f8b49c9634358f4bdc97ca0a6e73902,openstack/neutron,master,I57204eca2f8b49c9634358f4bdc97ca0a6e73902,Remove log translations,ABANDONED,2017-07-04 09:57:35.000000000,2017-11-04 23:04:42.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 25720}]","[{'number': 1, 'created': '2017-07-04 09:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/134b830f7bf06f79711158749dc88faa91ae7599', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use\nof the _LE, _LI, and _LW translation markers to simplify logging\nand to avoid confusion with new contributions\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/\n002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/\n113365.html\n\nChange-Id: I57204eca2f8b49c9634358f4bdc97ca0a6e73902\n'}, {'number': 2, 'created': '2017-07-04 11:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d17c941dbdaf519634adf09e7714bb8a781ee039', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use\nof the _LE, _LI, and _LW translation markers to simplify logging\nand to avoid confusion with new contributions\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/\n002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/\n113365.html\n\nChange-Id: I57204eca2f8b49c9634358f4bdc97ca0a6e73902\n'}, {'number': 3, 'created': '2017-07-12 06:23:25.000000000', 'files': ['neutron/common/utils.py', 'neutron/_i18n.py', 'neutron/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1a355ee808a8b083155f0617d88a912ae71ea80', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use\nof the _LE, _LI, and _LW translation markers to simplify logging\nand to avoid confusion with new contributions\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/\n002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/\n113365.html\n\nChange-Id: I57204eca2f8b49c9634358f4bdc97ca0a6e73902\n'}]",1,480106,f1a355ee808a8b083155f0617d88a912ae71ea80,22,10,3,25005,,,0,"Remove log translations

Log messages are no longer being translated. This removes all use
of the _LE, _LI, and _LW translation markers to simplify logging
and to avoid confusion with new contributions

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/
002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/
113365.html

Change-Id: I57204eca2f8b49c9634358f4bdc97ca0a6e73902
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/480106/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/_i18n.py'],1,134b830f7bf06f79711158749dc88faa91ae7599,log,,"# Translators for log levels. # # The abbreviated names are meant to reflect the usual use of a short # name like '_'. The ""L"" is for ""log"" and the other letter comes from # the level. _LI = _translators.log_info _LW = _translators.log_warning _LE = _translators.log_error _LC = _translators.log_critical ",0,10
openstack%2Fneutron~master~I29a8b91cc752785070f641d18e022e99714ea5b3,openstack/neutron,master,I29a8b91cc752785070f641d18e022e99714ea5b3,Speed process for generating iptables-restore cmd args,ABANDONED,2017-07-14 08:20:56.000000000,2017-11-04 23:04:34.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 15905}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 22435}]","[{'number': 1, 'created': '2017-07-14 08:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fa9bb9d7b4fc8d7c28c113e9e42113a02fb3f1e', 'message': 'Speed process for generating iptables-restore cmd args\n\nJust want to know if the changes can pass the test case\n\nChange-Id: I29a8b91cc752785070f641d18e022e99714ea5b3\nPartial-bug: #1630832\n'}, {'number': 2, 'created': '2017-07-17 02:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1234a76167fb8556d138e2855af49fd5cb9dbc24', 'message': 'Speed process for generating iptables-restore cmd args\n\nJust want to know if the changes can pass the test case\n\nChange-Id: I29a8b91cc752785070f641d18e022e99714ea5b3\nPartial-bug: #1630832\n'}, {'number': 3, 'created': '2017-07-17 09:22:42.000000000', 'files': ['neutron/agent/linux/iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcb32b357d022a2ffbf7e5d3adb84a94fa755697', 'message': 'Speed process for generating iptables-restore cmd args\n\nJust want to know if the changes can pass the test case\n\nChange-Id: I29a8b91cc752785070f641d18e022e99714ea5b3\nPartial-bug: #1630832\n'}]",0,483864,bcb32b357d022a2ffbf7e5d3adb84a94fa755697,25,10,3,22435,,,0,"Speed process for generating iptables-restore cmd args

Just want to know if the changes can pass the test case

Change-Id: I29a8b91cc752785070f641d18e022e99714ea5b3
Partial-bug: #1630832
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/483864/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/iptables_manager.py'],1,8fa9bb9d7b4fc8d7c28c113e9e42113a02fb3f1e,bug/1630832," for line in old_chain_rules: statements.append('-D %s %d' % (chain, old_index)) old_index = 1 for line in new_chain_rules: rule = line[3:].split(' ', 1)[-1] # rule inserted at this position statements.append('-I %s %d %s' % (chain, old_index, rule))"," for line in difflib.ndiff(old_chain_rules, new_chain_rules): if line.startswith('?'): # skip ? because that's a guide string for intraline differences continue elif line.startswith('-'): # line deleted statements.append('-D %s %d' % (chain, old_index)) # since we are removing a line from the old rules, we # backup the index by 1 old_index -= 1 elif line.startswith('+'): # line added # strip the chain name since we have to add it before the index rule = line[5:].split(' ', 1)[-1] # IptablesRule does not add trailing spaces for rules, so we # have to detect that here by making sure this chain isn't # referencing itself if rule == chain: rule = '' # rule inserted at this position statements.append('-I %s %d %s' % (chain, old_index, rule))",7,19
openstack%2Fneutron~master~Icdfcb84d5420609fd09cb9dd4db7d941f54843e5,openstack/neutron,master,Icdfcb84d5420609fd09cb9dd4db7d941f54843e5,DNM: Raise timeout for test_server,ABANDONED,2017-06-20 17:47:28.000000000,2017-11-04 23:04:25.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8655}, {'_account_id': 9107}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-06-20 17:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2994b9ff5d7df9881508dc32513c6578774d1d0e', 'message': ""DNM: Raise timeout for test_server\n\nThe test works as follows:\n - test process (T) spawns a child process (C), which is the service-like\n   process with one worker (W1)\n - this means the C spawns the W1\n - T sends SIGHUP to C, which sends SIGTERM to W1, reloads configuration\n   and spawns a new worker (W2)\n - every time worker is spawned, it writes to a file and T then checks\n   correct amount of bytes inside\n\nIn case test is run with Python 3, we never see data from W2. I was able\nto track it down to oslo.service project [1] that spawns a\ngreenthread in W1 when SIGTERM is received from C. In Python 3, it\ntakes up to a minute to start executing the new greenthread.\n\nThis patch is to prove increasing timeout fixes the issue. It doesn't\nsolve the root cause that is likely in eventlet or oslo.service.\n\nNOTE: It doesn't fix the test_restart_wsgi_on_sighup_multiple_workers\n      test.\n\n[1] https://git.openstack.org/cgit/openstack/oslo.service/tree/oslo_service/service.py?id=c6923290355f9db3e31a5abd79da482f90460119#n174\n\nChange-Id: Icdfcb84d5420609fd09cb9dd4db7d941f54843e5\n""}, {'number': 2, 'created': '2017-06-21 08:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/105629839c8434b02bc2908eee157e282b592ca2', 'message': ""DNM: Raise timeout for test_server\n\nThe test works as follows:\n - test process (T) spawns a child process (C), which is the service-like\n   process with one worker (W1)\n - this means the C spawns the W1\n - T sends SIGHUP to C, which sends SIGTERM to W1, reloads configuration\n   and spawns a new worker (W2)\n - every time worker is spawned, it writes to a file and T then checks\n   correct amount of bytes inside\n\nIn case test is run with Python 3, we never see data from W2. I was able\nto track it down to oslo.service project [1] that spawns a\ngreenthread in W1 when SIGTERM is received from C. In Python 3, it\ntakes up to a minute to start executing the new greenthread.\n\nThis patch is to prove increasing timeout fixes the issue. It doesn't\nsolve the root cause that is likely in eventlet or oslo.service.\n\nNOTE: It doesn't fix the test_restart_wsgi_on_sighup_multiple_workers\n      test.\n\n[1] https://git.openstack.org/cgit/openstack/oslo.service/tree/oslo_service/service.py?id=c6923290355f9db3e31a5abd79da482f90460119#n174\n\nChange-Id: Icdfcb84d5420609fd09cb9dd4db7d941f54843e5\n""}, {'number': 3, 'created': '2017-06-21 14:09:33.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3847148ebbec286f1bd19e1709840132cfb781a9', 'message': ""DNM: Raise timeout for test_server\n\nThe test works as follows:\n - test process (T) spawns a child process (C), which is the service-like\n   process with one worker (W1)\n - this means the C spawns the W1\n - T sends SIGHUP to C, which sends SIGTERM to W1, reloads configuration\n   and spawns a new worker (W2)\n - every time worker is spawned, it writes to a file and T then checks\n   correct amount of bytes inside\n\nIn case test is run with Python 3, we never see data from W2. I was able\nto track it down to oslo.service project [1] that spawns a\ngreenthread in W1 when SIGTERM is received from C. In Python 3, it\ntakes up to a minute to start executing the new greenthread.\n\nThis patch is to prove increasing timeout fixes the issue. It doesn't\nsolve the root cause that is likely in eventlet or oslo.service.\n\nNOTE: It doesn't fix the test_restart_wsgi_on_sighup_multiple_workers\n      test.\n\n[1] https://git.openstack.org/cgit/openstack/oslo.service/tree/oslo_service/service.py?id=c6923290355f9db3e31a5abd79da482f90460119#n174\n\nChange-Id: Icdfcb84d5420609fd09cb9dd4db7d941f54843e5\n""}]",0,475888,3847148ebbec286f1bd19e1709840132cfb781a9,32,9,3,8655,,,0,"DNM: Raise timeout for test_server

The test works as follows:
 - test process (T) spawns a child process (C), which is the service-like
   process with one worker (W1)
 - this means the C spawns the W1
 - T sends SIGHUP to C, which sends SIGTERM to W1, reloads configuration
   and spawns a new worker (W2)
 - every time worker is spawned, it writes to a file and T then checks
   correct amount of bytes inside

In case test is run with Python 3, we never see data from W2. I was able
to track it down to oslo.service project [1] that spawns a
greenthread in W1 when SIGTERM is received from C. In Python 3, it
takes up to a minute to start executing the new greenthread.

This patch is to prove increasing timeout fixes the issue. It doesn't
solve the root cause that is likely in eventlet or oslo.service.

NOTE: It doesn't fix the test_restart_wsgi_on_sighup_multiple_workers
      test.

[1] https://git.openstack.org/cgit/openstack/oslo.service/tree/oslo_service/service.py?id=c6923290355f9db3e31a5abd79da482f90460119#n174

Change-Id: Icdfcb84d5420609fd09cb9dd4db7d941f54843e5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/475888/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,2994b9ff5d7df9881508dc32513c6578774d1d0e,func-py3," condition, timeout=120, sleep=5,"," condition, timeout=5, sleep=0.1,",1,1
openstack%2Fneutron~master~Ieee7d1a33fc6228afd5ed3bf77b33cc72774d1e5,openstack/neutron,master,Ieee7d1a33fc6228afd5ed3bf77b33cc72774d1e5,Fix indent.,ABANDONED,2017-06-13 10:03:05.000000000,2017-11-04 23:04:16.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8871}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-06-13 10:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60e4e9ed83f0257522523dcaf94d4244715de312', 'message': 'Fix indent\n\nChange-Id: Ieee7d1a33fc6228afd5ed3bf77b33cc72774d1e5\n'}, {'number': 2, 'created': '2017-06-13 10:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea47b81c150591ed150bb2eb686f084db0900355', 'message': 'Fix indent\n\nChange-Id: Ieee7d1a33fc6228afd5ed3bf77b33cc72774d1e5\n'}, {'number': 3, 'created': '2017-06-23 07:44:04.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e49c4103eec7003bd611b386722cbe1720108bf', 'message': 'Fix indent.\n\nChange-Id: Ieee7d1a33fc6228afd5ed3bf77b33cc72774d1e5\n'}]",1,473769,7e49c4103eec7003bd611b386722cbe1720108bf,24,8,3,22016,,,0,"Fix indent.

Change-Id: Ieee7d1a33fc6228afd5ed3bf77b33cc72774d1e5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/473769/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,60e4e9ed83f0257522523dcaf94d4244715de312,, # TODO(nati) Refactor here when we have router insertion model, #TODO(nati) Refactor here when we have router insertion model,1,1
openstack%2Fnetworking-odl~master~Ie397e93583c9b872e848a8c4b5e686c5866ff72a,openstack/networking-odl,master,Ie397e93583c9b872e848a8c4b5e686c5866ff72a,Fix l3 v2 driver DB session issue.,ABANDONED,2017-05-22 05:02:11.000000000,2017-11-04 23:03:58.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 7921}, {'_account_id': 11347}, {'_account_id': 13912}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-05-22 05:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/23e5fad265fb2c116d57b4a17ea387fdf64d7a13', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 2, 'created': '2017-05-22 07:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d86c90c6ad3cdff627ef8946c998c9a0da2c8a62', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 3, 'created': '2017-05-23 08:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/87bb504e7811369c74c4a4b4ec5ed9bcc985613e', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 4, 'created': '2017-05-23 14:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cbe01b7eb9475a98cb8326f62b54a6103e941a3a', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 5, 'created': '2017-05-23 14:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/800c14fe477b76211df2a4ea174e5c0923b8ecf1', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 6, 'created': '2017-05-23 14:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/177ae554ef432106df6b7d3e24c73ac607bd3671', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 7, 'created': '2017-05-24 03:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5ce4fa8df8adabc0b6229996755767050161f3dd', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 8, 'created': '2017-05-24 08:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/51ebea5c46abd1f106b962196bfa5c403e535dc8', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 9, 'created': '2017-05-24 08:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/63a93b97349828ffe64d32940f27bc0120020882', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 10, 'created': '2017-05-25 02:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a0f0b03aade09d9308b615b397e26b90340229f4', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 11, 'created': '2017-05-25 02:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/32b8082169ac55ad3f0691938ee0bc1a123acea4', 'message': 'Do Not Review: test whether GUARD_TRANSACTION is gone\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 12, 'created': '2017-05-25 03:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d5aad814ca5250af58e56c71fab6be2c8556d7f2', 'message': 'Fix l3 v2 driver DB session issue.\n\nTry to adopt event notifications as much as possible.\nNeutron side may need some improvement, will adjust\naccordingly once that happens.\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}, {'number': 13, 'created': '2017-07-21 06:27:51.000000000', 'files': ['networking_odl/l3/l3_odl_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/99a5d181da917b861a474a2866dd6d18d723ca5c', 'message': 'Fix l3 v2 driver DB session issue.\n\nTry to adopt event notifications as much as possible.\nNeutron side may need some improvement, will adjust\naccordingly once that happens.\n\nChange-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a\n'}]",7,466589,99a5d181da917b861a474a2866dd6d18d723ca5c,30,8,13,11347,,,0,"Fix l3 v2 driver DB session issue.

Try to adopt event notifications as much as possible.
Neutron side may need some improvement, will adjust
accordingly once that happens.

Change-Id: Ie397e93583c9b872e848a8c4b5e686c5866ff72a
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/89/466589/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/l3/l3_odl_v2.py'],1,23e5fad265fb2c116d57b4a17ea387fdf64d7a13,fix-db-session," with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): # ODL detects router port by its owner, # no need to override [add|remove]_router_interface()"," session = db_api.get_session() with session.begin(subtransactions=True): session = db_api.get_session() with session.begin(subtransactions=True): session = db_api.get_session() with session.begin(subtransactions=True): session = db_api.get_session() with session.begin(subtransactions=True): session = db_api.get_session() with session.begin(subtransactions=True): session = db_api.get_session() with session.begin(subtransactions=True): @journal.call_thread_on_end def add_router_interface(self, context, router_id, interface_info): session = db_api.get_session() with session.begin(subtransactions=True): new_router = super( OpenDaylightL3RouterPlugin, self).add_router_interface( context, router_id, interface_info) return new_router @journal.call_thread_on_end def remove_router_interface(self, context, router_id, interface_info): session = db_api.get_session() with session.begin(subtransactions=True): new_router = super( OpenDaylightL3RouterPlugin, self).remove_router_interface( context, router_id, interface_info) return new_router",8,29
openstack%2Fneutron~master~I44a9608cffeb3d68e934961adca3f9c4015b2e0e,openstack/neutron,master,I44a9608cffeb3d68e934961adca3f9c4015b2e0e,L3: Minimum notifications necessary for MidoNet service provider,ABANDONED,2017-07-13 03:45:30.000000000,2017-11-04 23:03:50.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6598}, {'_account_id': 6854}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20229}, {'_account_id': 20330}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-07-13 03:45:30.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/47f030b9c5463cf3ae409bc42d3ed85bc977f063', 'message': 'L3: Minimum notifications necessary for MidoNet service provider\n\nRelated-Bug: #1643830\nChange-Id: I44a9608cffeb3d68e934961adca3f9c4015b2e0e\n'}]",1,483173,47f030b9c5463cf3ae409bc42d3ed85bc977f063,10,11,1,6854,,,0,"L3: Minimum notifications necessary for MidoNet service provider

Related-Bug: #1643830
Change-Id: I44a9608cffeb3d68e934961adca3f9c4015b2e0e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/483173/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,47f030b9c5463cf3ae409bc42d3ed85bc977f063,bug/1643830," router_interface_info = self._make_router_interface_info( router.id, port['tenant_id'], port['id'], port['network_id'], subnets[-1]['id'], [subnet['id'] for subnet in subnets]) interface_info=interface_info, router_interface_info=router_interface_info) return router_interface_info router_interface_info = self._make_router_interface_info( router_id, port['tenant_id'], port['id'], port['network_id'], subnets[0]['id'], [subnet['id'] for subnet in subnets]) interface_info=interface_info, router_interface_info=router_interface_info) return router_interface_info registry.notify(resources.FLOATING_IP, events.AFTER_CREATE, self._update_fip_assoc, floating_ip=floatingip_dict, **assoc_result) # NOTE(yamamoto): publish AFTER_UPDATE as well for compatibility. # A consumer who wants the new semantics can ignore this by # checking the lack of ""floating_ip"" argument. registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, **assoc_result) registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, floating_ip=floatingip_dict, **assoc_result) registry.notify(resources.FLOATING_IP, events.AFTER_DELETE, self._delete_floatingip, id=id)"," interface_info=interface_info) return self._make_router_interface_info( router.id, port['tenant_id'], port['id'], port['network_id'], subnets[-1]['id'], [subnet['id'] for subnet in subnets]) interface_info=interface_info) return self._make_router_interface_info(router_id, port['tenant_id'], port['id'], port['network_id'], subnets[0]['id'], [subnet['id'] for subnet in subnets]) registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, **assoc_result) registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, **assoc_result)",33,19
openstack%2Fnetworking-odl~master~I24e92fddc3c6fd59a55a57ab930692361fc95b2d,openstack/networking-odl,master,I24e92fddc3c6fd59a55a57ab930692361fc95b2d,[EXPERIMENTAL] Use minimal vpnservice karaf distribution,ABANDONED,2017-07-11 08:47:59.000000000,2017-11-04 23:03:42.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 7921}]","[{'number': 1, 'created': '2017-07-11 08:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/12be11fd20017cbf587ee0e7e35301be4baf8974', 'message': '[EXPERIMENTAL] Use minimal vpnservice karaf distribution\n\nChange-Id: I24e92fddc3c6fd59a55a57ab930692361fc95b2d\n'}, {'number': 2, 'created': '2017-07-11 10:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/63a3087674e10a0c3e0cfbfd808e9f3530336708', 'message': '[EXPERIMENTAL] Use minimal vpnservice karaf distribution\n\nChange-Id: I24e92fddc3c6fd59a55a57ab930692361fc95b2d\n'}, {'number': 3, 'created': '2017-07-11 10:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2bed39ff84ad0b6ec66fa75b7c204309d4f5e0f1', 'message': '[EXPERIMENTAL] Use minimal vpnservice karaf distribution\n\nChange-Id: I24e92fddc3c6fd59a55a57ab930692361fc95b2d\n'}, {'number': 4, 'created': '2017-07-11 11:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/39af92f02af167ba93fae69a103dfbf74e2ff06d', 'message': '[EXPERIMENTAL] Use minimal vpnservice karaf distribution\n\nChange-Id: I24e92fddc3c6fd59a55a57ab930692361fc95b2d\n'}, {'number': 5, 'created': '2017-07-24 15:50:18.000000000', 'files': ['devstack/pre_test_hook.sh', 'devstack/odl-releases/common', 'devstack/functions'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/35c89888fd70513af3cd372c47a802aee9e883ad', 'message': '[EXPERIMENTAL] Use minimal vpnservice karaf distribution\n\nChange-Id: I24e92fddc3c6fd59a55a57ab930692361fc95b2d\n'}]",0,482453,35c89888fd70513af3cd372c47a802aee9e883ad,16,4,5,7921,,,0,"[EXPERIMENTAL] Use minimal vpnservice karaf distribution

Change-Id: I24e92fddc3c6fd59a55a57ab930692361fc95b2d
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/53/482453/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/pre_test_hook.sh', 'devstack/odl-releases/common', 'devstack/functions']",3,12be11fd20017cbf587ee0e7e35301be4baf8974,gate-minimal-karaf," echo ""${NEXUSPATH:-${ODL_URL_PREFIX}/${ODL_URL_SNAPSHOT_REPOSITORY_PATH}/org/opendaylight/netvirt/vpnservice-karaf}"" export ODL_PKG=vpnservice-karaf-${BUNDLE_TIMESTAMP}.zip"," echo ""${NEXUSPATH:-${ODL_URL_PREFIX}/${ODL_URL_SNAPSHOT_REPOSITORY_PATH}/org/opendaylight/integration/distribution-karaf}"" export ODL_PKG=distribution-karaf-${BUNDLE_TIMESTAMP}.zip",6,6
openstack%2Fnetworking-ovn~master~Iddb3944da0c5cf5dc6275142882cf7e3a41c025b,openstack/networking-ovn,master,Iddb3944da0c5cf5dc6275142882cf7e3a41c025b,[doc] Add east-west traffic flows,ABANDONED,2016-07-16 17:30:13.000000000,2017-11-04 23:03:34.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 6773}, {'_account_id': 8410}, {'_account_id': 9515}, {'_account_id': 11682}, {'_account_id': 11952}]","[{'number': 1, 'created': '2016-07-16 17:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/562b28abfda80f917ac8302d275af2cb6189bd8b', 'message': 'Add east/west self-service flow text.\n\nFigures still need to be drawn, but this should form the framework\nfor those.\n\nChange-Id: Iddb3944da0c5cf5dc6275142882cf7e3a41c025b\n'}, {'number': 2, 'created': '2016-07-16 18:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58816971914ddf59e8fa2b4d087fc8c7ce12ccc6', 'message': 'Add east/west self-service flow text.\n\nFigures still need to be drawn, but this should form the framework\nfor those.\n\nChange-Id: Iddb3944da0c5cf5dc6275142882cf7e3a41c025b\n'}, {'number': 3, 'created': '2016-07-17 14:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d56e09553fda5b87721773988bab5c9d975b5925', 'message': 'Add text for some of the east/west packet flows.\n\nFigures still need to be drawn, but this should form the framework\nfor those. Having instances on two separate provider networks is\nstill a low priority todo.\n\nChange-Id: Iddb3944da0c5cf5dc6275142882cf7e3a41c025b\n'}, {'number': 4, 'created': '2016-07-17 14:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/26871de37afd551dfe4804e62dfddafd50ba60ee', 'message': '[doc] Add text for some of the east/west packet flows.\n\nFigures still need to be drawn, but this should form the framework\nfor those. Having instances on two separate provider networks is\nstill a low priority todo.\n\nChange-Id: Iddb3944da0c5cf5dc6275142882cf7e3a41c025b\n'}, {'number': 5, 'created': '2016-07-19 19:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/16e83d1b9df4a1ab427f9258182fbd1c8487a9a8', 'message': '[doc] Add text for some of the east/west packet flows.\n\nFigures still need to be drawn, but this should form the framework\nfor those. Having instances on two separate provider networks is\nstill a low priority todo.\n\nChange-Id: Iddb3944da0c5cf5dc6275142882cf7e3a41c025b\n'}, {'number': 6, 'created': '2016-07-29 20:16:30.000000000', 'files': ['doc/source/refarch/figures/trafficflow-ew2.graffle', 'doc/source/refarch/figures/trafficflow-ew2.svg', 'doc/source/refarch/figures/trafficflow-ew1.svg', 'doc/source/refarch/figures/trafficflow-ew1.graffle', 'doc/source/refarch/routers.rst', 'doc/source/refarch/figures/trafficflow-ew2.png', 'doc/source/refarch/figures/trafficflow-ew1.png', 'doc/source/refarch/figures/trafficflow-ew3.png', 'doc/source/refarch/figures/trafficflow-ew3.graffle', 'doc/source/refarch/figures/trafficflow-ew3.svg', 'doc/source/refarch/refarch.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6a80f42f5eb0728870192f8886f1a8958ce0b5f4', 'message': '[doc] Add east-west traffic flows\n\nAdd the following east-west traffic flows:\n\n1) Same provider network.\n2) Same self-service network.\n3) Different self-service networks.\n\nWill update (#) values in diagrams after text evolves.\n\nCo-Authored-By: Matt Kassawara <mkassawara@gmail.com>\nChange-Id: Iddb3944da0c5cf5dc6275142882cf7e3a41c025b\n'}]",0,343226,6a80f42f5eb0728870192f8886f1a8958ce0b5f4,29,9,6,11682,,,0,"[doc] Add east-west traffic flows

Add the following east-west traffic flows:

1) Same provider network.
2) Same self-service network.
3) Different self-service networks.

Will update (#) values in diagrams after text evolves.

Co-Authored-By: Matt Kassawara <mkassawara@gmail.com>
Change-Id: Iddb3944da0c5cf5dc6275142882cf7e3a41c025b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/26/343226/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/refarch/routers.rst', 'doc/source/refarch/refarch.rst']",2,562b28abfda80f917ac8302d275af2cb6189bd8b,add_l3_ew,"Traffic flows ------------- East-west for instances on the same self-service network ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Steps in how a packet gets from one instance to another instance on the same self-service network: #. A packet (with a destination mac address of the destination instance) enters the vswitch from the source instance, where it is tagged with the logical datapath and source logical port information. #. The ingress pipeline stages in the vswitch apply egress security rules to the packet, and lastly, tags the packet with the destination logical port information based on the desintation mac address of the packet. #. If the destination logical port is on the same compute node, the packet moves to the egress pipeline stages of the local vswitch. If the destination logical port is located on another compute node, the packet is sent (along with the metadata tags) via a GENEVE tunnel to the appropriate compute node. At the destination compute node, the packet and metadata tags are extracted from the tunnel and passed to the egress pipeline stages. #. The egress pipeline stages of the vswitch apply ingress security rules to the packet, and lastly, delivers the packet (without metadata tagging) to the destination instance. East-west for instances on different self-service networks ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Steps in how a packet gets from one instance to another instance on a different self-service network (assuming that there is a router connecting the two self-service netowrks): #. A packet (with a destination mac address of the default router, and an IP destination address of the destination instance) enters the vswitch tagged with with logical datapath and source logical port information. #. The ingress pipeline stages in the vswitch apply egress security rules to the packet, and lastly, assigns the local patch port of the logical router as the logical output port for the packet. #. Since the logical router is distributed, the packet is processed by the egress pipeline in the local compute node and the packet is delivered (without metadata tags) to the switch side of the patch port pair. #. The packet now re-enters the vswitch from the router side of the patch port pair and is tagged with source logical port and the logical datapath of the router. #. The ingress pipeline of the router processes the packet, storing the destination and source IP address as additional metadata information, replaces the source MAC address with that of the logical router, and replaces the destination MAC address with that of the destination instance. If the destination MAC address is not on the same compute node, then the logical output port is set to the tunnel port for the destination compute node. The packet passes to the egress pipeline for the logical router. #. The egress pipeline for the logical router processes the packet and outputs it (without metadata) to the router side of the patch port pair between the router and the second self-service network. #. The packet re-enters the ovs switch via the switch side of the second patch port pair at which point it is tagged with the logical datapath for the second self-service network and with a source port of the logical router. #. The switch now processes the packet as if it were coming from an instance on the second self-service network, following all the steps of the previous example. .. todo: When somebody gets around to them",.. todo: Add north-south when OVN gains support for it. Traffic flows ------------- East-west for instances on the same self-service network ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ East-west for instances on different self-service networks ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,88,15
openstack%2Fneutron~master~I628c8f41488995fe3fb872e77b7383c4b969d529,openstack/neutron,master,I628c8f41488995fe3fb872e77b7383c4b969d529,of_interface: Retry on ryu InvalidDatapath exception,ABANDONED,2017-03-14 05:54:30.000000000,2017-11-04 23:03:16.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9200}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-14 05:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90454a12a7a67550181ba3805c9b39d8d1f14829', 'message': 'of_interface: Retry on ryu InvalidDatapath exception\n\nopenflow connection is sometimes lost and the subsequent openflow\ncommand raises the exception.  Retrying should save such cases.\n\nChange-Id: I628c8f41488995fe3fb872e77b7383c4b969d529\nCloses-bug: #1672610\n'}, {'number': 2, 'created': '2017-03-15 05:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04edb4ef79abcec3ea23cf68de3274b6b88da555', 'message': 'of_interface: Retry on ryu InvalidDatapath exception\n\nopenflow connection is sometimes lost and the subsequent openflow\ncommand raises the exception.  Retrying should save such cases.\n\nChange-Id: I628c8f41488995fe3fb872e77b7383c4b969d529\nCloses-bug: #1672610\n'}, {'number': 3, 'created': '2017-03-16 02:27:33.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/fake_oflib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/727fe807139563d13a20ce72a4f611221fc6b139', 'message': 'of_interface: Retry on ryu InvalidDatapath exception\n\nopenflow connection is sometimes lost and the subsequent openflow\ncommand raises the exception.  Retrying should save such cases.\n\nChange-Id: I628c8f41488995fe3fb872e77b7383c4b969d529\nCloses-bug: #1672610\n'}]",6,445308,727fe807139563d13a20ce72a4f611221fc6b139,40,11,3,9200,,,0,"of_interface: Retry on ryu InvalidDatapath exception

openflow connection is sometimes lost and the subsequent openflow
command raises the exception.  Retrying should save such cases.

Change-Id: I628c8f41488995fe3fb872e77b7383c4b969d529
Closes-bug: #1672610
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/445308/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'],1,90454a12a7a67550181ba3805c9b39d8d1f14829,bug/1672610,"import ryu.app.ofctl.exceptionimport tenacity @tenacity.retry_if_exception_type(ryu.app.ofctl.exception.InvalidDatapath) def _send_msg_retry(self, msg, reply_cls, reply_multi): return ofctl_api.send_msg(self._app, msg, reply_cls, reply_multi) result = self._send_msg_retry(msg, reply_cls, reply_multi)"," result = ofctl_api.send_msg(self._app, msg, reply_cls, reply_multi)",7,1
openstack%2Fnetworking-odl~master~I9e9b0854374766b6d80ed685152743b9aa81cece,openstack/networking-odl,master,I9e9b0854374766b6d80ed685152743b9aa81cece,journal: teach odl_sync_event multi threading,ABANDONED,2017-05-02 04:33:03.000000000,2017-11-04 23:03:08.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 7921}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-05-02 04:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/70d3d97b36b64b539bfb32dca60f594be69a4249', 'message': 'journal: teach odl_sync_event multi threading\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 2, 'created': '2017-05-08 13:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/999ec9127ff4aaa49eaddf3334bb9d2c365fc43c', 'message': 'journal: teach odl_sync_event multi threading\n\njournal set_event should be aware of multi threading, i.e.\nthere can be many journal syncer threads.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 3, 'created': '2017-05-09 04:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3c74e29a120cbf11167dcdf0c6fbc7370412e2ed', 'message': 'journal: teach odl_sync_event multi threading\n\njournal set_event should be aware of multi threading, i.e.\nthere can be many journal syncer threads.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 4, 'created': '2017-05-19 01:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1108384d23594db786caa152b201dca18bc28951', 'message': 'journal: teach odl_sync_event multi threading\n\njournal set_event should be aware of multi threading, i.e.\nthere can be many journal syncer threads.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 5, 'created': '2017-06-24 17:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/44d5e210a332166e49f0ea35a6a97e1a3a7d01e2', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only also single timer is needed. consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 6, 'created': '2017-06-25 02:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0d6cddc462a01902d824389173447c88909d24a0', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only also single timer is needed. consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 7, 'created': '2017-07-18 02:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3f6a221722ed87b68effafe204884a1c3fbf059d', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only also single timer is needed. consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 8, 'created': '2017-07-18 06:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2f58374d1f214732cba8b02b59b5fdd7932be293', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only also single timer is needed. consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 9, 'created': '2017-07-21 00:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3e05e2d147fd01628f9e06e2c11e488d22718d3d', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only also single timer is needed. consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 10, 'created': '2017-07-25 15:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/654904329fab58186566ee16ffb676f3e58d4d3c', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only single timer is needed, consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 11, 'created': '2017-07-26 23:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cab66f08513be7ab60d2e47b0119f6e13fb4afe7', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only single timer is needed, consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 12, 'created': '2017-07-27 02:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a11a1f9787de55fddd5edb71771bb46ae9add01a', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only single timer is needed, consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}, {'number': 13, 'created': '2017-07-27 05:55:52.000000000', 'files': ['networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/journal/journal.py', 'networking_odl/tests/base.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/05358a99e71517de77f08877d6f936c631659f57', 'message': 'journal: teach odl_sync_event multi threading\n\nThere can be multiple instances of OpendaylightJournalThread.\nSo allow set_sync_event method to wake up any one of thread.\nSince only single timer is needed, consolidate timer\ninto single timer in order to avoid unnecessarily load rdbms.\n\nChange-Id: I9e9b0854374766b6d80ed685152743b9aa81cece\n'}]",6,461621,05358a99e71517de77f08877d6f936c631659f57,46,6,13,333,,,0,"journal: teach odl_sync_event multi threading

There can be multiple instances of OpendaylightJournalThread.
So allow set_sync_event method to wake up any one of thread.
Since only single timer is needed, consolidate timer
into single timer in order to avoid unnecessarily load rdbms.

Change-Id: I9e9b0854374766b6d80ed685152743b9aa81cece
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/21/461621/9 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/journal/journal.py'],1,70d3d97b36b64b539bfb32dca60f594be69a4249,bp/v2driver-activities-in-pike,"from oslo_service import service@service.Singleton class OpendaylightSyncEvent(object): def __init__(self): self._sync_timeout = cfg.CONF.ml2_odl.sync_timeout self._lock = threading.Lock() self._cond = threading.Condition(self._lock) self._awaken = False self._timer = None def _start_sync_timer(self, sync_timeout): self._timer = threading.Timer(sync_timeout, self.notify) self._timer.start() def notify(self): if not self._is_worker_process: # Prevent race when starting the timer with self._lock: self._timer.cancel() self._start_sync_timer() self._awaken = True self._cond.notify() return with self._lock: self._awaken = True # wake up only one thread in order to avoid thundering hurd self._cond.notify() def wait(self): with self._lock: while not self._awaken: self._cond.wait() self._awaken = False class OpendaylightJournalThread(object): """"""Thread worker for the Opendaylight Journal Database."""""" def __init__(self): self.client = client.OpenDaylightRestClient.create_client() self._max_retry_count = cfg.CONF.ml2_odl.retry_count self.__class__._sync_event = OpendaylightSyncEvent() self._odl_sync_thread = self.start_odl_sync_thread() self._sync_event.notify() self._sync_event.wait()","class OpendaylightJournalThread(object): """"""Thread worker for the Opendaylight Journal Database."""""" def __init__(self): self.client = client.OpenDaylightRestClient.create_client() self._odl_sync_timeout = cfg.CONF.ml2_odl.sync_timeout self._max_retry_count = cfg.CONF.ml2_odl.retry_count self.event = threading.Event() self.lock = threading.Lock() self._odl_sync_thread = self.start_odl_sync_thread() if not self._is_worker_process: # Prevent race when starting the timer with self.lock: self._timer.cancel() self._start_sync_timer() self.event.set() def _start_sync_timer(self): self._timer = threading.Timer(self._odl_sync_timeout, self.set_sync_event) self._timer.start() self.event.wait() self.event.clear()",44,21
openstack%2Fnetworking-odl~master~I8fe672b3d5aca9724c7e4805b598c0ee0b69315f,openstack/networking-odl,master,I8fe672b3d5aca9724c7e4805b598c0ee0b69315f,Pooling threads for journal processing,ABANDONED,2017-04-03 09:03:37.000000000,2017-11-04 23:02:59.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 7921}, {'_account_id': 13912}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-04-03 09:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c3867d7978d551158a4fbb5fc23142e40b97ee06', 'message': 'Providing support of threadpool\n\nTo provide support of thread pools, multiprocessing library is\nused. threadpool library is not support any longer.\n\nAccording to my current understanding, only single event object\nshould be enough. Because event is cleared as soon as it stops\nwaiting. After a period of time or by drivers it can be set again.\nThis event will be available to all the threads therefor if one\ncontext switch occurs then other thread will find even set(if set\ndue to above two reasons) and starts working on it. Therefore it\nshould be able to provide parallelism.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\nDepends-On: Ib226a5782acf62e909c4845e080c6c2f7d7958b2\nDepends-On: I1372bcc94760e062609ad0ffc65f830f4363dfd2\nDepends-On: I277e325f0d73ed688bf21640452198869c949660\n'}, {'number': 2, 'created': '2017-05-24 06:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/40421882b49bc6639802c2723f273e7ee7f51f5a', 'message': 'Providing support of threadpool\n\nTo provide support of thread pools, multiprocessing library is\nused. threadpool library is not support any longer.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\nDepends-On: Ib226a5782acf62e909c4845e080c6c2f7d7958b2\nDepends-On: I1372bcc94760e062609ad0ffc65f830f4363dfd2\nDepends-On: I277e325f0d73ed688bf21640452198869c949660\n'}, {'number': 3, 'created': '2017-05-29 06:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/67aaafc3c0761414e01754576f0a47d03f28ba1a', 'message': 'Providing support of threadpool\n\nTo provide support of thread pools, multiprocessing library is\nused. threadpool library is not support any longer.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n'}, {'number': 4, 'created': '2017-05-31 04:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/95856c83968fa1affba31578fa56205812786aa8', 'message': 'Providing support of threadpool\n\nTo provide support of thread pools, multiprocessing library is\nused. threadpool library is not support any longer.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n'}, {'number': 5, 'created': '2017-06-08 11:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4c21cfe94874568a572b75a5a3550b8c5bc474cf', 'message': 'Providing support of threadpool\n\nTo provide support of thread pools, multiprocessing library is\nused. threadpool library is not support any longer.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n'}, {'number': 6, 'created': '2017-06-24 17:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/91959b62f111aadc2c13e942ddfe798710c2494e', 'message': 'Providing support of threadpool\n\nTo provide support of thread pools, multiprocessing library is\nused. threadpool library is not support any longer.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n'}, {'number': 7, 'created': '2017-06-25 02:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0745c3ba2ffbb82158138a74cacb32215c64f93c', 'message': 'Providing support of threadpool\n\nTo provide support of thread pools, multiprocessing library is\nused. threadpool library is not support any longer.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n'}, {'number': 8, 'created': '2017-07-18 02:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1d08bd1498ba0dc6e0e724ea0722d497a5806472', 'message': ""Pooling threads for journal processing\n\nMake the number of journal threads configurable by pooling threads\nfor journal processing.\nThreadPoolExecutor uses Queue for thread pooling which isn't suitable\nfor this use case. condition variable and boolean variable is used.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n""}, {'number': 9, 'created': '2017-07-18 06:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/915fea8790388d785e13fde32f51ab760dbae0ff', 'message': ""Pooling threads for journal processing\n\nMake the number of journal threads configurable by pooling threads\nfor journal processing.\nThreadPoolExecutor uses Queue for thread pooling which isn't suitable\nfor this use case. condition variable and boolean variable is used.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n""}, {'number': 10, 'created': '2017-07-21 00:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/caaf367136c024c1fe4ece7c8fc90583fe86eb85', 'message': ""Pooling threads for journal processing\n\nMake the number of journal threads configurable by pooling threads\nfor journal processing.\nThreadPoolExecutor uses Queue for thread pooling which isn't suitable\nfor this use case. condition variable and boolean variable is used.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n""}, {'number': 11, 'created': '2017-07-25 15:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/84221208c9a22982efd13d450a1970123075ebfb', 'message': ""Pooling threads for journal processing\n\nMake the number of journal threads configurable by pooling threads\nfor journal processing.\nThreadPoolExecutor uses Queue for thread pooling which isn't suitable\nfor this use case. condition variable and boolean variable is used.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n""}, {'number': 12, 'created': '2017-07-26 23:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fd2aeed669899479f0bebccb0badc19b5b7cb67d', 'message': ""Pooling threads for journal processing\n\nMake the number of journal threads configurable by pooling threads\nfor journal processing.\nThreadPoolExecutor uses Queue for thread pooling which isn't suitable\nfor this use case. condition variable and boolean variable is used.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n""}, {'number': 13, 'created': '2017-07-27 02:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/77a1820721b3d7cbe2965c601f860370afb8a933', 'message': ""Pooling threads for journal processing\n\nMake the number of journal threads configurable by pooling threads\nfor journal processing.\nThreadPoolExecutor uses Queue for thread pooling which isn't suitable\nfor this use case. condition variable and boolean variable is used.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n""}, {'number': 14, 'created': '2017-07-27 05:55:52.000000000', 'files': ['networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/journal/journal.py', 'networking_odl/common/config.py', 'networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py', 'networking_odl/tests/base.py', 'releasenotes/notes/journal-threads-configurable-ac1910da17ced2ab.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/10a9e64d7fcd0bb92a67f0f92fe00077ca7f76ca', 'message': ""Pooling threads for journal processing\n\nMake the number of journal threads configurable by pooling threads\nfor journal processing.\nThreadPoolExecutor uses Queue for thread pooling which isn't suitable\nfor this use case. condition variable and boolean variable is used.\n\nChange-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f\nPartially-Implements: blueprint v2driver-activities-in-pike\n""}]",14,452647,10a9e64d7fcd0bb92a67f0f92fe00077ca7f76ca,58,6,14,13912,,,0,"Pooling threads for journal processing

Make the number of journal threads configurable by pooling threads
for journal processing.
ThreadPoolExecutor uses Queue for thread pooling which isn't suitable
for this use case. condition variable and boolean variable is used.

Change-Id: I8fe672b3d5aca9724c7e4805b598c0ee0b69315f
Partially-Implements: blueprint v2driver-activities-in-pike
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/47/452647/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/journal/journal.py', 'networking_odl/common/config.py']",2,c3867d7978d551158a4fbb5fc23142e40b97ee06,bp/v2driver-activities-in-pike," cfg.IntOpt('journal_threads', default=5, help=_(""Number of journal threads."")),",,5,4
openstack%2Fneutron-dynamic-routing~master~I518b62a8f7c271c14192a16297d3f2823e37d9b6,openstack/neutron-dynamic-routing,master,I518b62a8f7c271c14192a16297d3f2823e37d9b6,Authentication type for peers should be support to update.,ABANDONED,2017-05-24 09:29:15.000000000,2017-11-04 23:02:50.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 8344}, {'_account_id': 14605}, {'_account_id': 26018}]","[{'number': 1, 'created': '2017-05-24 09:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/65e82fbca091a4199e6fd748944038db65c2b87b', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 2, 'created': '2017-05-25 01:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ad4ef546f0f9418df28e0b5344e32998ab82b9f2', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 3, 'created': '2017-05-25 02:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/113490024b57b7d73cce6b612d813854468f859e', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 4, 'created': '2017-05-26 07:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d86faa4e4472ae1fc8d2f85f3dd20eb9a9fdc1c7', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 5, 'created': '2017-05-26 07:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/948cf1f2624b0f4ac1b7a8e76f608933710b29af', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 6, 'created': '2017-05-26 08:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f90f43f9288c7cd54cb6a66753669b83157ee492', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 7, 'created': '2017-05-27 08:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0f1f98de2932473d0dafedb8ba0c74f5210f6a1a', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 8, 'created': '2017-05-27 08:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/600833d6d2854f59cd643c6215efe5fbe557c058', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 9, 'created': '2017-06-02 06:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/24546ebd2b2148cf781cda0e2fbab27700ab5be8', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nBug #169512\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 10, 'created': '2017-06-02 08:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9a0ac6338c522df60297e79c105647e12d0d3962', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nBug #169512\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 11, 'created': '2017-06-08 00:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/518dd6a58b1c905890ff8dd74c311ad3c0d7f2f0', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nCloses-Bug: #169512\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 12, 'created': '2017-06-14 09:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a868683a2b355f8d95e9d511fa1c215a01644ef2', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nCloses-Bug: #169512\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 13, 'created': '2017-06-15 00:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0c6ffd9295c0f3740cbfeec57cd3d5c5077eea0c', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nCloses-Bug: #169512\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 14, 'created': '2017-06-15 02:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e397f588dd6f4df0f7a78947d97c7780bac500ca', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nCloses-Bug: #169512\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 15, 'created': '2017-06-15 05:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/cc75822af9cfa8e78cfcf7e3205601723141eaa7', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nCloses-Bug: #169512\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 16, 'created': '2017-06-23 00:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d1ba4f4f089ff84bce874c0c79a63552643d9ca5', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nCloses-Bug: #1695121\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\n'}, {'number': 17, 'created': '2017-07-12 00:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2f3451492bcc58b0d9fcc8c6cd1ee01fe1520919', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\nCloses-Bug: #1695121\n'}, {'number': 18, 'created': '2017-07-14 07:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8513d47a92f11670a4b4dc1ba49d632e9f0a53a2', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\nCloses-Bug: #1695121\n'}, {'number': 19, 'created': '2017-07-18 01:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/569bfcd9920145dee3e0fd9577e1134610a1a45d', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\nCloses-Bug: #1695121\n'}, {'number': 20, 'created': '2017-07-28 08:20:45.000000000', 'files': ['neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions_negative.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/extensions/bgp.py', 'doc/source/reference/index.rst', 'neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions.py', 'doc/source/cli/bgp-peer.rst', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py', 'neutron_dynamic_routing/tests/tempest/bgp_client.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/24d3152c90430f27c33fe164c09aedf3eb3562a7', 'message': 'Authentication type for peers should be support to update.\n\nWhen updating authentication type for this peer, it must delete\nand configure this peer with parameter ""auth-type"" again.\nIt is not reasonable for updating authentication type for in the way.\nIf updating authentication type for this peer, it should use the command\n""neutron bgp-peer-update"".\n\nChange-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6\nCloses-Bug: #1695121\n'}]",8,467547,24d3152c90430f27c33fe164c09aedf3eb3562a7,68,7,20,26018,,,0,"Authentication type for peers should be support to update.

When updating authentication type for this peer, it must delete
and configure this peer with parameter ""auth-type"" again.
It is not reasonable for updating authentication type for in the way.
If updating authentication type for this peer, it should use the command
""neutron bgp-peer-update"".

Change-Id: I518b62a8f7c271c14192a16297d3f2823e37d9b6
Closes-Bug: #1695121
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/47/467547/20 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/extensions/bgp.py', 'doc/source/design/command-lines.rst']",3,65e82fbca091a4199e6fd748944038db65c2b87b,bug/1695121," [--auth-type PEER_AUTH_TYPE]``--auth-type PEER_AUTH_TYPE`` Updated authentication algorithm. Supported algorithms:none, md5. repeat this option. ", repeat this option.,24,5
openstack%2Fneutron~master~I84d022f54077350a4533aa4edf87605d63c4117d,openstack/neutron,master,I84d022f54077350a4533aa4edf87605d63c4117d,Tempest: Adding test to check SCTP,ABANDONED,2017-03-02 15:40:02.000000000,2017-11-04 23:02:41.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 4727}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17823}, {'_account_id': 20330}, {'_account_id': 21302}]","[{'number': 1, 'created': '2017-03-02 15:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3d7a5cd5797cdf5200a2cd28afebb73f209868c', 'message': 'Tempest: Adding test to check SCTP\n\nPositive and negative tests for SCTP\n\nChange-Id: I84d022f54077350a4533aa4edf87605d63c4117d\n'}, {'number': 2, 'created': '2017-03-13 15:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/529df03ee18b20bdaf9c3ab5168bed41c1110ba0', 'message': 'Tempest: Adding test to check SCTP\n\nPositive and negative tests for SCTP\n\nChange-Id: I84d022f54077350a4533aa4edf87605d63c4117d\n'}, {'number': 3, 'created': '2017-03-14 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0218b1b82802839c41f7ce8fb52fd804fffefcf9', 'message': 'Tempest: Adding test to check SCTP\n\nPositive and negative tests for SCTP\n\nChange-Id: I84d022f54077350a4533aa4edf87605d63c4117d\n'}, {'number': 4, 'created': '2017-04-19 14:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e89a51c3a1a9ae7511bb164740995377fb037aed', 'message': 'Tempest: Adding test to check SCTP\n\nPositive and negative tests for SCTP\n\nChange-Id: I84d022f54077350a4533aa4edf87605d63c4117d\n'}, {'number': 5, 'created': '2017-04-20 08:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/294f8f15c5c4a5d01d7c72a62e61237ddb199315', 'message': 'Tempest: Adding test to check SCTP\n\nPositive and negative tests for SCTP\n\nChange-Id: I84d022f54077350a4533aa4edf87605d63c4117d\n'}, {'number': 6, 'created': '2017-04-20 11:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98ef061bf3a2027dd5269536ba865efdb35c1d55', 'message': 'Tempest: Adding test to check SCTP\n\nPositive and negative tests for SCTP\n\nChange-Id: I84d022f54077350a4533aa4edf87605d63c4117d\n'}, {'number': 7, 'created': '2017-04-20 13:03:10.000000000', 'files': ['neutron/tests/tempest/scenario/test_sctp.py', 'neutron/tests/tempest/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13fcff4bce16b74cf17587aa29ae5921bece7b91', 'message': 'Tempest: Adding test to check SCTP\n\nPositive and negative tests for SCTP\n\nChange-Id: I84d022f54077350a4533aa4edf87605d63c4117d\n'}]",28,440641,13fcff4bce16b74cf17587aa29ae5921bece7b91,64,18,7,21302,,,0,"Tempest: Adding test to check SCTP

Positive and negative tests for SCTP

Change-Id: I84d022f54077350a4533aa4edf87605d63c4117d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/440641/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/scenario/test_sctp.py'],1,f3d7a5cd5797cdf5200a2cd28afebb73f209868c,sctp_test,"# Copyright 2016 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common.utils.linux import remote_client from tempest.common import waiters from tempest.lib import exceptions from tempest import test from neutron.tests.tempest import config from neutron.tests.tempest.scenario import base from neutron.tests.tempest.scenario import constants CONF = config.CONF class NetworkSctpBasicTest(base.BaseTempestTestCase): credentials = ['primary'] force_tenant_isolation = False @test.idempotent_id('de07fe0a-e956-449e-b48b-8441c14cd52e') def test_basic_sctp(self): self.setup_network_and_server() self.check_connectivity(self.fip['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) self.server2 = self.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=self.keypair['name'], networks=[{'uuid': self.network['id']}], security_groups=[{'name': self.security_groups[0]['name']}]) waiters.wait_for_server_status(self.manager.servers_client, self.server2['server']['id'], constants.SERVER_STATUS_ACTIVE) port = self.client.list_ports(network_id=self.network['id'], device_id=self.server2['server']['id'] )['ports'][0] self.fip2 = self.create_and_associate_floatingip(port['id']) cmd1 = ""ncat --sctp %s 132 > /tmp/1"" % self.floating_ips[1][ 'fixed_ip_address'] cmd2 = ""echo sctp_check | ncat --sctp -l -p 132 > /dev/null &"" server_ssh_client = remote_client.RemoteClient( self.floating_ips[0]['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key'], server=self.server['server']) server_ssh_client2 = remote_client.RemoteClient( self.floating_ips[1]['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key'], server=self.server2['server']) self.assertRaises( exceptions.SSHExecCommandFailed, self._check_sctp_connectivity, server_ssh_client, server_ssh_client2, cmd1, cmd2) rulesets = [{'protocol': 132, 'direction': 'ingress', 'remote_ip_prefix': '0.0.0.0/0'}] self.create_secgroup_rules(rulesets, self.security_groups[0]['id']) self._check_sctp_connectivity(ssh_client1=server_ssh_client, ssh_client2=server_ssh_client2, cmd1=cmd1, cmd2=cmd2) def _check_sctp_connectivity(self, ssh_client1, ssh_client2, cmd1, cmd2, should_succeed=True): ssh_client2.exec_command(cmd2) ssh_client1.exec_command(cmd1) output = ssh_client1.exec_command('cat /tmp/1') if should_succeed: self.assertIn('sctp_check', output) else: self.assertNotIn('sctp_check', output) ",,83,0
openstack%2Fnetworking-odl~master~I9a76b4e74df1e8cf168df6da17528ec5d61c593c,openstack/networking-odl,master,I9a76b4e74df1e8cf168df6da17528ec5d61c593c,journal: reduce contention with get_oldest_pending_db_row_with_lock,ABANDONED,2017-07-28 19:09:13.000000000,2017-11-04 23:02:20.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 8871}]","[{'number': 1, 'created': '2017-07-28 19:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2d5e7a3b146f081ee631dd2390cc02d4e663c4bf', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}, {'number': 2, 'created': '2017-07-28 22:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8f3ace09900e93e87c25ce42ddc465e1dc7a4b98', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}, {'number': 3, 'created': '2017-07-29 01:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2b6c48bcf8618b7a1942faa4bb3fc1d58e9c4988', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}, {'number': 4, 'created': '2017-07-29 01:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fc3ccdbcdbe68c9f5e3d1acf628e0e135ef7b94b', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}, {'number': 5, 'created': '2017-07-29 02:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/feade487f0d3db372af289df16b07c923d0a4980', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}, {'number': 6, 'created': '2017-07-29 02:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6d60f74a6bfb78a0b63b4d765335a0dcefff0d6b', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}, {'number': 7, 'created': '2017-07-29 05:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/98dee24d281d7528ca3f5c721492d8eddab9d760', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}, {'number': 8, 'created': '2017-07-29 07:41:22.000000000', 'files': ['networking_odl/db/migration/alembic_migrations/versions/pike/expand/ee47a9f59a8a_add_owner_to_journal_table.py', 'networking_odl/db/db.py', 'networking_odl/tests/unit/db/test_db.py', 'networking_odl/db/models.py', 'networking_odl/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fcb73a2911c9310f46ce03591b0f93fdfa5c5afb', 'message': 'journal: reduce contention with get_oldest_pending_db_row_with_lock\n\noptimize get_oldest_pending_db_row_with_lock to reduce contention.\n\nChange-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c\n'}]",1,488573,fcb73a2911c9310f46ce03591b0f93fdfa5c5afb,15,4,8,333,,,0,"journal: reduce contention with get_oldest_pending_db_row_with_lock

optimize get_oldest_pending_db_row_with_lock to reduce contention.

Change-Id: I9a76b4e74df1e8cf168df6da17528ec5d61c593c
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/73/488573/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/db/migration/alembic_migrations/versions/pike/expand/ee47a9f59a8a_add_owner_to_journal_table.py', 'networking_odl/db/db.py', 'networking_odl/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_odl/db/models.py']",4,2d5e7a3b146f081ee631dd2390cc02d4e663c4bf,optimize-get_oldest_pending_db_row_with_lock,"from neutron_lib.db import constants as db_const owner = sa.Column(sa.String(db_const.UUID_FIELD_SIZE), nullable=True)",,59,6
openstack%2Fneutron~master~I1606d237cecf8ca7db55daf7bfe423598d5af3ae,openstack/neutron,master,I1606d237cecf8ca7db55daf7bfe423598d5af3ae,[WIP]Fix duplicated sg rules check for IPv6 ICMP,ABANDONED,2017-02-01 12:34:11.000000000,2017-11-04 23:01:51.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8556}, {'_account_id': 9200}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17776}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-02-01 12:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbff0c727ddd8d62cc40783a5e85805b9125c5cd', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCloses-Bug: #1582500\n\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 2, 'created': '2017-02-04 04:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f24bcab2f628ab3f9b0a0f49b6f3bb29469ab75', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCloses-Bug: #1582500\n\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 3, 'created': '2017-02-04 04:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7d10ec5617bac0d6563d5597e558ea8ea638f64', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 4, 'created': '2017-02-07 11:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffb38b62fe8b1615db9e7b99b8c411014e94e3a8', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 5, 'created': '2017-02-08 09:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9b6b0934a48383dffe7dcb2a8bad7532a64aafb', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 6, 'created': '2017-02-08 12:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3418a657ed477051234abe63e998eaa0099a649a', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 7, 'created': '2017-02-08 12:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d58259c43f6d899d144f421ab1de346d3093135a', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 8, 'created': '2017-02-08 12:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6bc2b97f3ac34e88dc285dc7b9a426142cc0c7a', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 9, 'created': '2017-03-20 08:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0ccc77a5aaef5b11ac64e1aa967d5f38d0ddffc', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 10, 'created': '2017-04-07 20:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/856c3a3f37d1b0e6976186ed66a3af20aa840115', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 11, 'created': '2017-04-10 15:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/315a7485cb834c69434ee459471cbd403c834bf8', 'message': 'Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCloses-Bug: #1582500\nDepends-On: I86ae394a0d5d31f00efa934ffa7c98b65c58e8e2\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}, {'number': 12, 'created': '2017-05-22 10:07:12.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/common/constants.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron/agent/linux/iptables_firewall.py', 'neutron/db/migration/alembic_migrations/versions/pike/contract/5ebcd269f660_de_duplicate_ipv6_icmp_sg_rules.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/151876e608c5c4f81866262cd79d95867abb17cc', 'message': '[WIP]Fix duplicated sg rules check for IPv6 ICMP\n\nICMP in IPv6 can be defined in multiple ways by the user\nbut need not be saved in the same manner. This patch\ntries to resolve the same.\n\nCo-Authored-By:lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By:Brian Haley <bhaley@redhat.com>\nCloses-Bug: #1582500\nDepends-On: I86ae394a0d5d31f00efa934ffa7c98b65c58e8e2\nChange-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae\n'}]",23,427670,151876e608c5c4f81866262cd79d95867abb17cc,127,20,12,17776,,,0,"[WIP]Fix duplicated sg rules check for IPv6 ICMP

ICMP in IPv6 can be defined in multiple ways by the user
but need not be saved in the same manner. This patch
tries to resolve the same.

Co-Authored-By:lzklibj <lzklibj@cn.ibm.com>
Co-Authored-By:Brian Haley <bhaley@redhat.com>
Closes-Bug: #1582500
Depends-On: I86ae394a0d5d31f00efa934ffa7c98b65c58e8e2
Change-Id: I1606d237cecf8ca7db55daf7bfe423598d5af3ae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/427670/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron/db/migration/alembic_migrations/versions/ocata/contract/2e086db97d13_foo.py']",3,cbff0c727ddd8d62cc40783a5e85805b9125c5cd,bug/1582500,"# Copyright 2017 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Keep ICMPv6 combinations consistent """""" #Revision ID: 2e086db97d13 #Revises: 5c85685d616d #Create Date: 2017-02-01 06:15:26.927078 # revision identifiers, used by Alembic. revision = '2e086db97d13' down_revision = '5c85685d616d' from alembic import op import sqlalchemy as sa from neutron.common import constants as n_const from neutron_lib import constants TABLE = 'securitygrouprules' TABLE_MODEL = sa.Table(TABLE, sa.Column('protocol', sa.String(length=40), nullable=True),) ICMP_IPv6_PROTOCOL_LIST = [constants.PROTO_NAME_ICMP, n_const.PROTO_NAME_IPV6_ICMP_LEGACY] def upgrade(): session = sa.orm.Session(bind=op.get_bind()) with session.begin(subtransactions=True): for row in session.query(TABLE_MODEL): session.execute( TABLE_MODEL.update().values( protocol=constants.PROTO_NAME_IPV6_ICMP).where( protocol in ICMP_IPv6_PROTOCOL_LIST)) session.commit() ",,58,1
openstack%2Fneutron~master~Ifc09faa4ca96c111f117d85a5144b50d1da00c3d,openstack/neutron,master,Ifc09faa4ca96c111f117d85a5144b50d1da00c3d,DNM testing devstack-gate,ABANDONED,2017-08-10 22:35:22.000000000,2017-11-04 23:01:40.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4146}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-10 22:35:22.000000000', 'files': ['neutron/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f00723d1989fa5442f0f532ff397ebcce9f269a', 'message': 'DNM testing devstack-gate\n\nTest change in devstack-gate that switches (pun intended) from OVS to\nlinux bridge for the infrastructure overlay network setup. This is\ndesireable as OVS comes from an odd repo in centos land.\n\nChange-Id: Ifc09faa4ca96c111f117d85a5144b50d1da00c3d\nDepends-On: I1854244eee857141b2aaf280cf3f4e33e687f421\n'}]",0,492705,8f00723d1989fa5442f0f532ff397ebcce9f269a,17,8,1,4146,,,0,"DNM testing devstack-gate

Test change in devstack-gate that switches (pun intended) from OVS to
linux bridge for the infrastructure overlay network setup. This is
desireable as OVS comes from an odd repo in centos land.

Change-Id: Ifc09faa4ca96c111f117d85a5144b50d1da00c3d
Depends-On: I1854244eee857141b2aaf280cf3f4e33e687f421
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/492705/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/__init__.py'],1,8f00723d1989fa5442f0f532ff397ebcce9f269a,test,# DNM just need jobs to run to test devstack-gate,,1,0
openstack%2Fneutron~master~I8b1ca5ba4ae0d11a82717ebb19bbc3739447096a,openstack/neutron,master,I8b1ca5ba4ae0d11a82717ebb19bbc3739447096a,DNR: Handle Intersecting SG Rules Closes-Bug: #1662571,ABANDONED,2017-04-13 12:29:15.000000000,2017-11-04 23:01:29.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-13 12:29:15.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34980c3b737ada0aaf8d1fb302909a52e2b77a76', 'message': 'DNR: Handle Intersecting SG Rules\nCloses-Bug: #1662571\n\nChange-Id: I8b1ca5ba4ae0d11a82717ebb19bbc3739447096a\n'}]",0,456591,34980c3b737ada0aaf8d1fb302909a52e2b77a76,12,11,1,17776,,,0,"DNR: Handle Intersecting SG Rules
Closes-Bug: #1662571

Change-Id: I8b1ca5ba4ae0d11a82717ebb19bbc3739447096a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/456591/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,34980c3b737ada0aaf8d1fb302909a52e2b77a76,bug/1662571," self._check_intersecting_port_ranges(context, rule_dict) def _check_intersecting_port_ranges(self, context, security_group_rule): filters = self._make_security_group_rule_filter_dict( security_group_rule) rule_dict = security_group_rule['security_group_rule'].copy() rule_dict.pop('description', None) fields = list(rule_dict.keys()) + ['id'] db_rules = self.get_security_group_rules(context, filters, fields=fields) res = {'port_range_min': rule_dict['port_range_min'], 'port_range_max': rule_dict['port_range_max']} for db_rule in db_rules: # DB's security rule can be updated if the new security rule # has all params matching except desc, id and min/max port_range # 4 intersecting points exist: # db_rule_min < sg_rule_min < db_rule_max # db_rule_min < sg_rule_max < db_rule_max # db_rule_max = sg_rule_min - 1 # db_rule_min = sg_rule_max + 1 # There is a possibility that multiple Security groups match, so # we just match with the first db_rule and close the loop. db_description = db_rule.pop('description', None) db_id = db_rule.pop('id') port_max = db_rule.pop('port_range_max', None) port_min = db_rule.pop('port_range_min', None) # Compare if content in both dicts for rest of the attributes # are same (ToDo) if res['port_range_min']: if res['port_range_min'] in range(port_min, port_max + 1): res['port_range_min'] = port_min elif res['port_range_min'] == port_max + 1: res['port_range_min'] = port_min if res['port_range_max']: if res['port_range_max'] in range(port_min, port_max + 1): res['port_range_max'] = port_max elif res['port_range_max'] == port_min - 1: res['port_range_max'] = port_max break return res ",,41,0
openstack%2Fneutron~master~I1828142a6d2d4f90c54f6db87d73e4c52bad7f73,openstack/neutron,master,I1828142a6d2d4f90c54f6db87d73e4c52bad7f73,Raising an exception when ovs-ofctl fails,ABANDONED,2017-07-12 15:01:16.000000000,2017-11-04 23:01:06.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9200}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20330}, {'_account_id': 23630}, {'_account_id': 25899}]","[{'number': 1, 'created': '2017-07-12 15:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10f99722f62a913ae4b98092116e78e513336f49', 'message': 'WIP Raising an exception when ovs-ofctl fails\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 2, 'created': '2017-07-12 15:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4254c5c67377af1921842f8b88736e9cab4f312', 'message': 'WIP Raising an exception when ovs-ofctl fails\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 3, 'created': '2017-07-17 08:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/408157050c213d5d921559c93a96e169af20fbe1', 'message': 'WIP Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 4, 'created': '2017-07-17 08:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e63d524a7d48652207841e7bbb3abe7aafb67640', 'message': 'WIP Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 5, 'created': '2017-07-17 08:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adf6f55ac958b1cb77b57a3f2b69eb6a346a50f9', 'message': 'WIP Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 6, 'created': '2017-07-17 14:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb51b0e0dab6060a1ade23555b8b998c8363f7ac', 'message': 'WIP Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 7, 'created': '2017-07-17 15:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/baa5bb7a642c0ba83327a844cbdc3dbd1111844f', 'message': 'WIP Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 8, 'created': '2017-07-25 08:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e803f4d9e7a34c2f1d0045ba06ab4f8715a097b', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 9, 'created': '2017-07-25 08:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adeff74d9b9acca977de3bbed7542be3cff44fa4', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 10, 'created': '2017-07-25 11:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/439689d5a5c334e3fc95adfc6726442627ef45f1', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 11, 'created': '2017-07-25 15:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47af1e6d8abe55221628bf5d83c4eda6b6b1adca', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 12, 'created': '2017-07-26 06:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df65c6a72a9be6d8d214e66898334be04c630cce', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 13, 'created': '2017-08-14 12:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7ea2abd1b9c268d955a401eb1681b5dd6759746', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 14, 'created': '2017-08-15 08:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fb18a9ea2f8378ec319eeb82eed426f3ba28fb2', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}, {'number': 15, 'created': '2017-08-15 08:43:50.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/agent/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c21595e1541dac23a0ac075469720a93edb74408', 'message': 'Raising an exception when ovs-ofctl fails\n\nrun_ofctl will raise an exception when the error message is\nunknown or when number of retries exceeded.\n\nChange-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73\nCloses-Bug: 1672607\n'}]",51,482996,c21595e1541dac23a0ac075469720a93edb74408,100,18,15,25899,,,0,"Raising an exception when ovs-ofctl fails

run_ofctl will raise an exception when the error message is
unknown or when number of retries exceeded.

Change-Id: I1828142a6d2d4f90c54f6db87d73e4c52bad7f73
Closes-Bug: 1672607
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/482996/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/agent/common/exceptions.py']",2,10f99722f62a913ae4b98092116e78e513336f49,bug/1672607,"# Copyright (c) 2013 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Exceptions used by neutron agent."""""" from neutron_lib import exceptions as e from neutron._i18n import _ class OVSOpenFlowCLIError(e.NeutronException): """"""Call to ovs-ofctl failed."""""" message = _(""Calling to ovs-ofctl failed. Error: %(errormsg)s"")",,27,1
openstack%2Fneutron~master~I2c40a637644fde3d4581615474d8d70d4dab6fe8,openstack/neutron,master,I2c40a637644fde3d4581615474d8d70d4dab6fe8,[WIP] Integration of Port OVO,ABANDONED,2016-12-16 10:22:07.000000000,2017-11-04 23:00:54.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17491}, {'_account_id': 20330}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-12-16 10:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7944398bf78fcb805a1976ba7b3c99f1d358ecb1', 'message': 'Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 2, 'created': '2016-12-19 08:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b7a6ddf38c43985fd2dd9b4da3153265737891f', 'message': 'Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 3, 'created': '2017-01-06 07:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa864610f2ccb5b691fd4d63dde5e2ec38c968ad', 'message': 'Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 4, 'created': '2017-02-07 09:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04bb723330d173743c61fd7bd8e39f78151bf562', 'message': 'Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 5, 'created': '2017-02-07 10:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8d7fc6fc6f2c84f09de3f49b2b9aa49fe4b0b50', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 6, 'created': '2017-02-13 04:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed61d48491cae9b588ee525cbfe5f9e1f167650d', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 7, 'created': '2017-02-13 09:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e514bb7914fab5a2203284f63515d322b2fbd439', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 8, 'created': '2017-02-16 09:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40dd5e9bb41319b9f94b79ae38d764160db85745', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO in neutron/db/db_base_plugin_v2.py\nand neutron/tests/unit/db/test_db_base_plugin_v2.py partially.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 9, 'created': '2017-02-17 09:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/473497f61e2ffc85a8b38c5f84f6a50c217b4a4f', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 10, 'created': '2017-02-20 07:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a93e4b2787c2c43db1f47b756134e0fc8d17046', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 11, 'created': '2017-02-21 05:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8b46e88f31109491bd8fdd84f306e5cd9cf3f57', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 12, 'created': '2017-02-21 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d8284ef999c131498dee99b034040e16a17fbd8', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 13, 'created': '2017-02-22 02:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60cf2e9e6701ebf4543eaf383677dd3c9059d5a3', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 14, 'created': '2017-02-22 06:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/377a5464c42c0543fa2c1cab404ae6fb671deb19', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 15, 'created': '2017-02-23 05:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0693bedd019719b90a2231378844b6ccf947437d', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 16, 'created': '2017-02-24 05:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/155e4bf33e4359f2fabe3dedc40e0504b6e85c7b', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 17, 'created': '2017-02-24 08:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60bd4148975f27762fd7959c809a10f1d4eecced', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 18, 'created': '2017-03-02 02:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb2b2ac895ec6f9d9d5f5f1ca1ee9ff547d7c6bb', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 19, 'created': '2017-03-07 07:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b43ed0221a4770bbd86cfa88ed191d0dcdbd1019', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 20, 'created': '2017-03-07 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e93dd7f6128bda567b0dbfb2abbb59c7aaea5a6', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 21, 'created': '2017-03-08 05:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30ef1a6bdaffc47421968d6dbe4c252c1b7346c3', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 22, 'created': '2017-03-10 02:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8694c7e7e1d4305bed909bb520ea8b1cbb270e54', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 23, 'created': '2017-03-13 00:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a166d8e57c84da1d3f170e8d38955d576b18358c', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 24, 'created': '2017-03-16 05:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fffbfee77a7954cfd9cab342d3150293f780a725', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 25, 'created': '2017-04-04 06:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c7a1c1f1ab8ebc390857f7253e6e51d0110fe4f', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 26, 'created': '2017-04-04 09:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e366338d96e525115400456b5548c2acb6b6f58d', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 27, 'created': '2017-04-14 04:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06ba261de24822a5a020a2d2be8e9d464b02cb64', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 28, 'created': '2017-05-16 07:51:27.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/l3_hamode_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ext_test.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/portsecurity_db_common.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/tests/unit/plugins/ml2/test_port_binding.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/objects/trunk.py', 'neutron/objects/base.py', 'neutron/db/l3_db.py', 'neutron/services/tag/tag_plugin.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/plugins/ml2/extensions/dns_integration.py', 'neutron/db/db_base_plugin_common.py', 'neutron/db/extradhcpopt_db.py', 'neutron/db/extraroute_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/dvr_mac_db.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/db/portbindings_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/98b8b59312ba1e941481c3e299e7649765b4d76a', 'message': '[WIP] Integration of Port OVO\n\nThis patch integrates Port OVO.\n\nChange-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}]",0,411741,98b8b59312ba1e941481c3e299e7649765b4d76a,262,15,28,17491,,,0,"[WIP] Integration of Port OVO

This patch integrates Port OVO.

Change-Id: I2c40a637644fde3d4581615474d8d70d4dab6fe8
Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/411741/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,7944398bf78fcb805a1976ba7b3c99f1d358ecb1,bp/adopt-oslo-versioned-objects-for-db,"from neutron.objects import ports as port_obj if port_data['tenant_id']: project_id = port_data['tenant_id'] try: del port_data['tenant_id'] except KeyError: pass port_data['project_id'] = project_id port_data['mac_address'] = netaddr.EUI(mac_address) obj_port = port_obj.Port(context, **port_data) return obj_port"," db_port = models_v2.Port(mac_address=mac_address, **port_data) context.session.add(db_port) return db_port",26,15
openstack%2Fneutron-fwaas~master~I434d1cd218487a64473fb7e91b37497b6469aa23,openstack/neutron-fwaas,master,I434d1cd218487a64473fb7e91b37497b6469aa23,Fix periodic py35 job failure,ABANDONED,2017-08-22 10:21:26.000000000,2017-11-04 23:00:45.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-08-22 10:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5034a0a60177fe2c081d04d0d3a56a9ef286b984', 'message': 'Fix periodic py35 job failure\n\n[1] shows the evidence of the periodic py35\njob failure. This patch fixes it.\n\n[1]: http://paste.openstack.org/show/619002/\n\nChange-Id: I434d1cd218487a64473fb7e91b37497b6469aa23\n'}, {'number': 2, 'created': '2017-08-22 10:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bfb5f8dece58764cafc94b841181b55a05b30f83', 'message': 'Fix periodic py35 job failure\n\n[1] shows the evidence of the periodic py35\njob failure. This patch fixes it.\n\n[1]: http://paste.openstack.org/show/619004/\n\nChange-Id: I434d1cd218487a64473fb7e91b37497b6469aa23\n'}, {'number': 3, 'created': '2017-08-22 11:03:02.000000000', 'files': ['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/efdd375fcd96342e43fdbc8ce7a9622baf428a70', 'message': 'Fix periodic py35 job failure\n\nThe periodic-neutron-fwaas-py35-with-neutron-lib-master fails\ndue to a mismatch between the expected and the actual error message.\nThis patch fixes it.\n\nCloses-Bug: #1712318\n\nChange-Id: I434d1cd218487a64473fb7e91b37497b6469aa23\n'}]",2,496190,efdd375fcd96342e43fdbc8ce7a9622baf428a70,8,4,3,17776,,,0,"Fix periodic py35 job failure

The periodic-neutron-fwaas-py35-with-neutron-lib-master fails
due to a mismatch between the expected and the actual error message.
This patch fixes it.

Closes-Bug: #1712318

Change-Id: I434d1cd218487a64473fb7e91b37497b6469aa23
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/90/496190/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py'],1,5034a0a60177fe2c081d04d0d3a56a9ef286b984,fix-periodic-py35-job-failure," ""{0} is already associated with firewall policy "" \"," ""{0} is already associated with firewallpolicy "" \",1,1
openstack%2Fnetworking-odl~master~I5042e05e53ee420e5c2e1562515ab2972481c430,openstack/networking-odl,master,I5042e05e53ee420e5c2e1562515ab2972481c430,db: remove unnecessary flush in create_pending_row,ABANDONED,2017-08-18 06:37:19.000000000,2017-11-04 23:00:34.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 17120}, {'_account_id': 26507}]","[{'number': 1, 'created': '2017-08-18 06:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7442e392dcf261c113fe4a9df2a9a8a462c7a3c2', 'message': 'db: remove unnecessary flush\n\nChange-Id: I5042e05e53ee420e5c2e1562515ab2972481c430\n'}, {'number': 2, 'created': '2017-08-18 07:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8d530032dafbe872477850349203ca8c7479496e', 'message': 'db: remove unnecessary flush\n\nThis exposes known l3 plugin bug as unit test failures.\n\nChange-Id: I5042e05e53ee420e5c2e1562515ab2972481c430\n'}, {'number': 3, 'created': '2017-08-18 15:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/421f13ef6ba8011be5ce86cc6a522a48e007a52c', 'message': 'db: remove unnecessary flush\n\nThis exposes known l3 plugin bug as unit test failures.\n\nChange-Id: I5042e05e53ee420e5c2e1562515ab2972481c430\n'}, {'number': 4, 'created': '2017-08-18 17:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0e79cc2a3ade0180de55aa1b75b941b7b507c71b', 'message': 'db: remove unnecessary flush\n\nThis exposes known l3 plugin bug as unit test failures.\n\nChange-Id: I5042e05e53ee420e5c2e1562515ab2972481c430\n'}, {'number': 5, 'created': '2017-08-23 20:33:20.000000000', 'files': ['networking_odl/db/db.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f5693ef46a243af7dc1199f22333f2ee982cb2ab', 'message': ""db: remove unnecessary flush in create_pending_row\n\nThe contract of create_pending_row is to be called within a db\ntransaction. (so is journal.recourd.) flush in it is work around to make\nunit tests work.\nAs tests were fixed by the previous patch, let's remove flush and add\nrun-time check for such a common mistake to prevent future breakage.\n\nThis exposes known l3 plugin bug as unit test failures.\nso it needs to be fixed first.\n\nChange-Id: I5042e05e53ee420e5c2e1562515ab2972481c430\n""}]",8,494966,f5693ef46a243af7dc1199f22333f2ee982cb2ab,14,5,5,333,,,0,"db: remove unnecessary flush in create_pending_row

The contract of create_pending_row is to be called within a db
transaction. (so is journal.recourd.) flush in it is work around to make
unit tests work.
As tests were fixed by the previous patch, let's remove flush and add
run-time check for such a common mistake to prevent future breakage.

This exposes known l3 plugin bug as unit test failures.
so it needs to be fixed first.

Change-Id: I5042e05e53ee420e5c2e1562515ab2972481c430
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/66/494966/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/db/db.py'],1,7442e392dcf261c113fe4a9df2a9a8a462c7a3c2,record-remove-flush,, # Keep session flush for unit tests. NOOP for L2/L3 events since calls are # made inside database session transaction with subtransactions=True. session.flush(),0,3
openstack%2Fneutron-fwaas~master~I6e4a360316ef159911b89901bc38508088f4da8f,openstack/neutron-fwaas,master,I6e4a360316ef159911b89901bc38508088f4da8f,Stop using CommonDbMixin,ABANDONED,2017-06-06 07:22:31.000000000,2017-11-04 23:00:14.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5367}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 15905}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-06-06 07:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/76de7280d2b1ffeda6a163e433b595284127c4ab', 'message': 'Stop using CommonDbMixin\n\nPost [1] , CommonDbMixin has been stopped being used,\nand in its place, model_query is being directly referenced..\n\n[1]: https://review.openstack.org/#/c/458982/2\nRelated-Blueprint: neutron-lib\n\nChange-Id: I6e4a360316ef159911b89901bc38508088f4da8f\n'}, {'number': 2, 'created': '2017-06-06 07:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a0af3e79af506f1e571af51fed523bb24ed507e6', 'message': 'Stop using CommonDbMixin\n\nPost [1] , CommonDbMixin has been stopped being used,\nand in its place, model_query is being directly referenced..\n\n[1]: https://review.openstack.org/#/c/458982/2\nRelated-Blueprint: neutron-lib\n\nChange-Id: I6e4a360316ef159911b89901bc38508088f4da8f\n'}, {'number': 3, 'created': '2017-06-06 16:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b8a2ebac392f329ef63591f131ed4e83cbbe903d', 'message': 'Stop using CommonDbMixin\n\nPost [1] , CommonDbMixin has been stopped being used,\nand in its place, model_query is being directly referenced..\n\n[1]: https://review.openstack.org/#/c/458982/2\nRelated-Blueprint: neutron-lib\n\nChange-Id: I6e4a360316ef159911b89901bc38508088f4da8f\n'}, {'number': 4, 'created': '2017-06-07 03:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7baed226a4c501ce630ffd2a72ee7a7b2fbed322', 'message': 'Stop using CommonDbMixin\n\nPost [1] , CommonDbMixin has been stopped being used,\nand in its place, model_query is being directly referenced..\n\n[1]: https://review.openstack.org/#/c/458982/2\nRelated-Blueprint: neutron-lib\n\nChange-Id: I6e4a360316ef159911b89901bc38508088f4da8f\n'}, {'number': 5, 'created': '2017-06-07 05:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/084d430331dec23120fc495c43990542b339ac01', 'message': 'Stop using CommonDbMixin\n\nPost [1], CommonDbMixin has been stopped being used,\nand in its place, model_query is being directly referenced.\n\n[1]: https://review.openstack.org/#/c/458982/2\nRelated-Blueprint: neutron-lib\n\nChange-Id: I6e4a360316ef159911b89901bc38508088f4da8f\n'}, {'number': 6, 'created': '2017-07-28 06:40:09.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/db/firewall/firewall_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/14d76af4faba18445982944f51cf16ab5c764faa', 'message': 'Stop using CommonDbMixin\n\nPost [1], CommonDbMixin has been stopped being used,\nand in its place, model_query is being directly referenced.\n\n[1]: https://review.openstack.org/#/c/458982/2\nRelated-Blueprint: neutron-lib\n\nChange-Id: I6e4a360316ef159911b89901bc38508088f4da8f\n'}]",15,471229,14d76af4faba18445982944f51cf16ab5c764faa,33,9,6,17776,,,0,"Stop using CommonDbMixin

Post [1], CommonDbMixin has been stopped being used,
and in its place, model_query is being directly referenced.

[1]: https://review.openstack.org/#/c/458982/2
Related-Blueprint: neutron-lib

Change-Id: I6e4a360316ef159911b89901bc38508088f4da8f
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/29/471229/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/db/firewall/firewall_db.py']",2,76de7280d2b1ffeda6a163e433b595284127c4ab,bp/neutron-lib,"from neutron.db import _model_query as model_query rules_in_db = model_query._get_collection_query(context, FirewallRule, return model_query.get_collection(context, Firewall, return model_query.get_collection_count(context, Firewall, return model_query.get_collection(context, FirewallPolicy, return model_query.get_collection_count(context, FirewallPolicy, return model_query.get_collection(context, FirewallRule, return model_query.get_collection_count(context, FirewallRule,"," rules_in_db = self._get_collection_query(context, FirewallRule, return self._get_collection(context, Firewall, return self._get_collection_count(context, Firewall, return self._get_collection(context, FirewallPolicy, return self._get_collection_count(context, FirewallPolicy, return self._get_collection(context, FirewallRule, return self._get_collection_count(context, FirewallRule,",18,16
openstack%2Fneutron~master~I1977f7ea199f041612c173865582d73e6bfcab07,openstack/neutron,master,I1977f7ea199f041612c173865582d73e6bfcab07,Remove unused variable,ABANDONED,2017-08-23 09:25:46.000000000,2017-11-04 23:00:02.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 18602}]","[{'number': 1, 'created': '2017-08-23 09:25:46.000000000', 'files': ['neutron/api/extensions.py', 'neutron/agent/linux/keepalived.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/380d6aaeb967180eeb2d60433eab31101940ad96', 'message': 'Remove unused variable\n\nInstead of items() use the values() method if the keys are not used.\n\nChange-Id: I1977f7ea199f041612c173865582d73e6bfcab07\n'}]",0,496575,380d6aaeb967180eeb2d60433eab31101940ad96,12,9,1,18603,,,0,"Remove unused variable

Instead of items() use the values() method if the keys are not used.

Change-Id: I1977f7ea199f041612c173865582d73e6bfcab07
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/496575/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/extensions.py', 'neutron/agent/linux/keepalived.py']",2,380d6aaeb967180eeb2d60433eab31101940ad96,, for instance in self.config.instances.values():," for key, instance in self.config.instances.items():",2,2
openstack%2Fnetworking-odl~master~I3c8a2e352f3306f7346112f895e762ee73fc3ab7,openstack/networking-odl,master,I3c8a2e352f3306f7346112f895e762ee73fc3ab7,Move l3 definition to neutron-lib,ABANDONED,2017-03-08 00:24:04.000000000,2017-11-04 22:59:41.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 13912}, {'_account_id': 17776}, {'_account_id': 26507}]","[{'number': 1, 'created': '2017-03-08 00:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/33e0a31f69f84281164a9eb857b594d69e598f2d', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 2, 'created': '2017-03-08 03:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/867278dffe7b5652b2b1910a81522d7131e20757', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 3, 'created': '2017-03-08 05:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7d2633c7871a853b1a37c9b561c42bf4a26b9b00', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 4, 'created': '2017-03-09 06:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/025d474caa8bdd73fbb3854afd03264f2a2b6bfd', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nDepends-On: If2e66e06b83e15ee2851ea2bc3b64ad366e675dd\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 5, 'created': '2017-03-17 05:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dc74b7975ae841a30a559c5149a97446077fa41b', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nDepends-On: If2e66e06b83e15ee2851ea2bc3b64ad366e675dd\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 6, 'created': '2017-04-21 05:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3c3db242f16991315903b4bfb8a8bff95d275137', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nDepends-On: If2e66e06b83e15ee2851ea2bc3b64ad366e675dd\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 7, 'created': '2017-04-21 09:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7733cb373ff5c98251b10611925919692a1ff5c4', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 8, 'created': '2017-04-28 03:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6cbdf8fa85b8b46816aad5d17b589152d36dbb0a', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 9, 'created': '2017-07-21 07:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c7d10a7810abfc319417b99df2e60e219a399d58', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 10, 'created': '2017-07-25 18:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b09ccb362038a094e5cef318731aeb45d39cde16', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}, {'number': 11, 'created': '2017-08-28 04:55:45.000000000', 'files': ['networking_odl/tests/unit/l3/test_l3_odl.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/299136b7818207747473e9546601cbb80602d748', 'message': 'Move l3 definition to neutron-lib\n\nNeutron-Lib now has the api definition for L3.\nThis patch tracks those changes and moves l3 definition\nto neutron-lib in networking-odl.\n\nPartially-implements: blueprint neutron-lib-adoption\nChange-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7\n'}]",8,442872,299136b7818207747473e9546601cbb80602d748,38,7,11,17776,,,0,"Move l3 definition to neutron-lib

Neutron-Lib now has the api definition for L3.
This patch tracks those changes and moves l3 definition
to neutron-lib in networking-odl.

Partially-implements: blueprint neutron-lib-adoption
Change-Id: I3c8a2e352f3306f7346112f895e762ee73fc3ab7
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/72/442872/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/unit/l3/test_l3_odl.py'],1,33e0a31f69f84281164a9eb857b594d69e598f2d,bp/neutron-lib-adoption,from neutron_lib.api.definitions import l3,from neutron.extensions import l3,1,1
openstack%2Fneutron~master~Ieeb868d959e487fb01d8ae67f853cb62b7c4b625,openstack/neutron,master,Ieeb868d959e487fb01d8ae67f853cb62b7c4b625,WIP: Add Tempest scenario test to address scopes extension,ABANDONED,2017-08-14 16:13:01.000000000,2017-11-04 22:59:32.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20378}]","[{'number': 1, 'created': '2017-08-14 16:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/202e14b8e3e00f3a764baeeba376a5170d844233', 'message': 'WIP: Add Tempest scenario test to address scopes extension\n\nScenario test creates two VMs on different networks from a shared\naddress scope, and verifies direct routing between the two via\nping. Creates a third VM outside of the address scope and verifies\nthat it is not reachable.\n\nCurrently, VMs can only be reached by floating IP address. Another\nVM in a shared address scope should be accessible by a fixed IP as\nwell. The admin Tempest role is required to create shared address\nscopes in this test.\n\nChange-Id: Ieeb868d959e487fb01d8ae67f853cb62b7c4b625\nPartial-Bug: #1701433\n'}, {'number': 2, 'created': '2017-08-17 21:06:23.000000000', 'files': ['neutron/tests/tempest/scenario/test_address_scopes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fe65c194436ac5b55ed8ec81a5cf58236d1ddf0', 'message': 'WIP: Add Tempest scenario test to address scopes extension\n\nScenario test creates two VMs on different networks from a shared\naddress scope, and verifies direct routing between the two via\nping. Creates a third VM outside of the address scope and verifies\nthat it is not reachable.\n\nCurrently, VMs can only be reached by floating IP address. Another\nVM in a shared address scope should be accessible by a fixed IP as\nwell. The admin Tempest role is required to create shared address\nscopes in this test.\n\nChange-Id: Ieeb868d959e487fb01d8ae67f853cb62b7c4b625\nPartial-Bug: #1701433\n'}]",10,493595,3fe65c194436ac5b55ed8ec81a5cf58236d1ddf0,15,8,2,26363,,,0,"WIP: Add Tempest scenario test to address scopes extension

Scenario test creates two VMs on different networks from a shared
address scope, and verifies direct routing between the two via
ping. Creates a third VM outside of the address scope and verifies
that it is not reachable.

Currently, VMs can only be reached by floating IP address. Another
VM in a shared address scope should be accessible by a fixed IP as
well. The admin Tempest role is required to create shared address
scopes in this test.

Change-Id: Ieeb868d959e487fb01d8ae67f853cb62b7c4b625
Partial-Bug: #1701433
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/493595/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/scenario/test_address_scopes.py'],1,202e14b8e3e00f3a764baeeba376a5170d844233,bug/1701433," import netaddr from oslo_log import log from neutron.tests.tempest import config from neutron.tests.tempest.scenario import base from neutron.tests.tempest.scenario import constants from neutron.tests.tempest.common import ssh from tempest.common import waiters from tempest.lib.common.utils import test_utils from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from tempest.scenario import manager from tempest import test import pdb CONF = config.CONF LOG = log.getLogger(__name__) class AddressScopeTest(base.BaseTempestTestCase): credentials = ['primary', 'admin'] @classmethod def resource_setup(cls): super(AddressScopeTest, cls).resource_setup() def _create_address_scope(self, address_scope, **kwargs): return self.create_address_scope(address_scope, is_admin=False, **kwargs) def create_instance(self, network=None, keypair=None): if network is None: network = self.network if keypair is None: keypair = self.create_keypair() port = self.create_port(network, security_groups=[self.secgroup['security_group']['id']]) server1 = self.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=keypair['name'], networks=[{'port': port['id']}]) waiters.wait_for_server_status(self.os_primary.servers_client, server1['server']['id'], constants.SERVER_STATUS_ACTIVE) server1['port'] = port server1['fip'] = self.create_and_associate_floatingip(server1['port']['id']) return server1 def test_network_connection(self): """""" Test connectivity of instances within a shared address scope. Steps: 1. Create an address scope and a subnet pool 2. Create 2 internal networks and subnets, one with subnet pool in (1) and one without 3. Make an external network and a subnet associated with the subnet pool in (1) 4. Attach subnets to a router 6. Boot instances and FIPs on all three networks 7. Verify the fixed IP of an instance within same address scope is pingable from external network 8. Verify fixed IP of instance outside of scope is not pingable from external network """""" address_scope_kwargs = {'ip_version': 4, 'shared': True} address_scope_ip4 = self._create_address_scope('scope-ip4', **address_scope_kwargs) subnetpool_kwargs = {'address_scope_id': address_scope_ip4['id'], 'shared': True, 'prefixes': ['203.0.113.0/24'], 'default_prefixlen': 24} subnetpool_ip4 = self.create_subnetpool('subnet-pool-ip4', **subnetpool_kwargs) self.network = self.create_network() subnet_kwargs = {'name': 'external-subnet', 'ip_version': 4, 'subnetpool_id': subnetpool_ip4['id'], 'cidr': netaddr.IPNetwork(subnetpool_ip4['prefixes'][0])} self.subnet = self.create_subnet(self.network) self.network1 = self.create_network() self.network2 = self.create_network() subnet1_kwargs = {'name': 'subnet-ip4-1', 'ip_version': 4, 'cidr': netaddr.IPNetwork('198.51.100.0/26')} self.subnet1 = self.create_subnet(self.network1, **subnet1_kwargs) subnet2_kwargs = {'subnetpool_id': subnetpool_ip4['id'], 'name': 'subnet-ip4-2', 'cidr': netaddr.IPNetwork(subnetpool_ip4['prefixes'][0]), 'ip_version': 4} self.subnet2 = self.create_subnet(self.network2, **subnet2_kwargs) self.network2['ipv4_address_scope'] = address_scope_ip4['id'] self.network2['subnets'].append(self.subnet2['id']) self.keypair = self.create_keypair() self.secgroup = self.os_primary.network_client.create_security_group(name=data_utils.rand_name('secgroup-')) # Enable pings and ssh self.security_groups.append(self.secgroup['security_group']) self.create_loginable_secgroup_rule(secgroup_id=self.secgroup['security_group']['id']) self.create_pingable_secgroup_rule(secgroup_id=self.secgroup['security_group']['id']) # Connect subnets to router router = self.create_router_by_client() self.create_router_interface(router['id'],self.subnet1['id']) self.create_router_interface(router['id'],self.subnet2['id']) self.create_router_interface(router['id'],self.subnet['id']) server1 = self.create_instance(self.network1, self.keypair) server2 = self.create_instance(self.network2, self.keypair) # Instance to ping other instances from server_src = self.create_instance(network=None,keypair=self.keypair) ssh_client = ssh.Client(server_src['fip']['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key']) # ping floating IPs self.check_remote_connectivity(ssh_client, server1['fip']['floating_ip_address']) self.check_remote_connectivity(ssh_client, server2['fip']['floating_ip_address']) # ping instance of matching address scope directly (should succeed) self.check_remote_connectivity(ssh_client, server2['port']['fixed_ips'][0]['ip_address'], should_succeed=False) #change to True - should succeed # ping instance of different address scope directly (should fail) self.check_remote_connectivity(ssh_client, server1['port']['fixed_ips'][0]['ip_address'], should_succeed=True) #change to False - should fail ",,137,0
openstack%2Fnetworking-ovn~master~I120f24063137735680def3c214426c4ce9240155,openstack/networking-ovn,master,I120f24063137735680def3c214426c4ce9240155,Rename networking-ovn metadata agent config file,ABANDONED,2017-08-16 14:11:12.000000000,2017-11-04 22:59:22.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 6773}, {'_account_id': 12024}]","[{'number': 1, 'created': '2017-08-16 14:11:12.000000000', 'files': ['etc/oslo-config-generator/metadata_agent.ini', 'devstack/lib/networking-ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7a67f0653e415dd52081a0d187c33d1460e281eb', 'message': ""Rename networking-ovn metadata agent config file\n\nThis patch renames the networking-ovn metadata agent configuration\nfile so that it doesn't create confusion with the neutron one from\n'metadata_agent.ini' to 'networking_ovn_metadata_agent.ini'.\n\nChange-Id: I120f24063137735680def3c214426c4ce9240155\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",0,494218,7a67f0653e415dd52081a0d187c33d1460e281eb,11,5,1,23804,,,0,"Rename networking-ovn metadata agent config file

This patch renames the networking-ovn metadata agent configuration
file so that it doesn't create confusion with the neutron one from
'metadata_agent.ini' to 'networking_ovn_metadata_agent.ini'.

Change-Id: I120f24063137735680def3c214426c4ce9240155
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/18/494218/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/oslo-config-generator/metadata_agent.ini', 'devstack/lib/networking-ovn']",2,7a67f0653e415dd52081a0d187c33d1460e281eb,,OVN_META_CONF=$NEUTRON_CONF_DIR/networking_ovn_metadata_agent.ini cp $NETWORKING_OVN_DIR/etc/networking_ovn_metadata_agent.ini.sample $OVN_META_CONF,OVN_META_CONF=$NEUTRON_CONF_DIR/metadata_agent.ini cp $NETWORKING_OVN_DIR/etc/metadata_agent.ini.sample $OVN_META_CONF,2,8
openstack%2Fneutron~master~I9f12248d12a5508d4888ef04a38221bd7146f345,openstack/neutron,master,I9f12248d12a5508d4888ef04a38221bd7146f345,DNM: Test ofproto-dpif OVS patch using untracked state,ABANDONED,2017-08-15 15:35:23.000000000,2017-11-04 22:59:11.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-15 15:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63c951d9138d5684da56df02715bbf98e000e2ba', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 2, 'created': '2017-08-16 06:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e2674e0118b9fd55d6fb64ae5bf5f5cb7fa90d5', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 3, 'created': '2017-08-16 08:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f5c8e95aea0f94cb6829cc9c1022845de24aac9', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 4, 'created': '2017-08-16 12:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad76ce07fbe756caeb7179582de4ac2811955440', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 5, 'created': '2017-08-25 08:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9bf12139169909b6a1835e2e4ebfb25f91913da', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 6, 'created': '2017-08-25 08:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e12d9b01db95978ccec37c5ac8f517cfa1b7a69', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 7, 'created': '2017-08-25 10:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e9f08a4b37d5a7f7de878420e64f4de2da267d2', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 8, 'created': '2017-08-25 11:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cbae8e07268373848f5805780b5aed455de5e82', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 9, 'created': '2017-08-25 11:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56f82b638d85d192ae55447b912e64be196d0a91', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 10, 'created': '2017-08-29 13:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c69f782420458e12cdd5b9cfce441db9fec0b7c', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}, {'number': 11, 'created': '2017-08-29 13:30:42.000000000', 'files': ['neutron/tests/contrib/gate_hook.sh', 'neutron/tests/contrib/0001-ofproto-dpif-Mark-packets-as-untracked-after-call-to.patch', 'devstack/plugin.sh', 'devstack/lib/ovs', 'neutron/tests/contrib/hooks/ovsfw'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fe2b9699d451ffc6d9fb7124d245810f9475a70', 'message': 'DNM: Test ofproto-dpif OVS patch using untracked state\n\nThere is gonna be a patch merged to OVS that changes a bit ct_states [1].\nThis patch just serves as a tester that ovs firewall is fine with this\nchange.\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html\n\nChange-Id: I9f12248d12a5508d4888ef04a38221bd7146f345\n'}]",2,493920,8fe2b9699d451ffc6d9fb7124d245810f9475a70,57,8,11,8655,,,0,"DNM: Test ofproto-dpif OVS patch using untracked state

There is gonna be a patch merged to OVS that changes a bit ct_states [1].
This patch just serves as a tester that ovs firewall is fine with this
change.

[1] https://mail.openvswitch.org/pipermail/ovs-dev/2017-August/337291.html

Change-Id: I9f12248d12a5508d4888ef04a38221bd7146f345
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/493920/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/contrib/gate_hook.sh', 'neutron/tests/contrib/0001-ofproto-dpif-Mark-packets-as-untracked-after-call-to.patch', 'devstack/lib/ovs']",3,63c951d9138d5684da56df02715bbf98e000e2ba,ovs-change, git am $DEST/neutron/neutron/tests/contrib/0001-ofproto-dpif-Mark-packets-as-untracked-after-call-to.patch ,,225,14
openstack%2Fnetworking-sfc~master~Ie1b96c596d55d7b51dc1aa57caa779df471aa72e,openstack/networking-sfc,master,Ie1b96c596d55d7b51dc1aa57caa779df471aa72e,Fix security group error in multinode tempest tests,ABANDONED,2017-03-21 04:50:14.000000000,2017-11-04 22:59:01.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 17540}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-03-21 04:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/64ce9c0f750103498aa6b2b2ccc52fe7a6f8fd72', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 2, 'created': '2017-03-21 07:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/3ed84f4d47275a1b57fe6a4d3bb0b701721e6b54', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 3, 'created': '2017-03-22 07:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f2f92ee6e0629a56ac04e8186345f6e15892b569', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 4, 'created': '2017-03-22 20:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/144b618356a30a185ddffb045a610054adcd3882', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 5, 'created': '2017-03-23 01:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8257ed9d71c74f8247111a5bb1b66193236a7b3d', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 6, 'created': '2017-03-23 05:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/2a57201d60c29c0ff1a93c1fcbd9494de4086871', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 7, 'created': '2017-03-24 03:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/24b8df56e409a3d1a5c31d8c7e6cd90d64332b30', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 8, 'created': '2017-03-24 05:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/fd8d7b335d4f949cdf21847e41d503ec8a4361d5', 'message': 'fix security group error in multinode tempest tests\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\n'}, {'number': 9, 'created': '2017-04-14 12:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5283ae7d73e516c5ad781d57290797fcf49172b6', 'message': 'Fix security group error in multinode tempest tests\n\nSimplify tempest tests exclusion list\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\nCloses-Bug: #1660700\n'}, {'number': 10, 'created': '2017-04-20 07:40:46.000000000', 'files': ['devstack/devstackgaterc', 'networking_sfc/tests/tempest_plugin/tests/scenario/test_sfc.py', 'networking_sfc/tests/tempest_plugin/tests/scenario/test_sfc_multinode.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/967bb80e212f7f922187e83d5a48f7fb16117536', 'message': 'Fix security group error in multinode tempest tests\n\nSimplify tempest tests exclusion list\n\nChange-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e\nCloses-Bug: #1660700\n'}]",1,447797,967bb80e212f7f922187e83d5a48f7fb16117536,46,7,10,17540,,,0,"Fix security group error in multinode tempest tests

Simplify tempest tests exclusion list

Change-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e
Closes-Bug: #1660700
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/97/447797/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/tests/tempest_plugin/tests/scenario/test_sfc_multinode.py'],1,64ce9c0f750103498aa6b2b2ccc52fe7a6f8fd72,bug/1660700, sec_group_rules_client=(, security_group_rules_client=(,1,1
openstack%2Fnetworking-odl~master~I6a6f185ac3aaae4efb99c985b7833c628d1d9722,openstack/networking-odl,master,I6a6f185ac3aaae4efb99c985b7833c628d1d9722,db: remove nonsense wrap_db_retry,ABANDONED,2017-08-29 22:15:27.000000000,2017-11-04 22:58:34.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 26507}]","[{'number': 1, 'created': '2017-08-29 22:15:27.000000000', 'files': ['networking_odl/db/db.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ad877e592d3b909c102d666760676b6657485487', 'message': ""db: remove nonsense wrap_db_retry\n\nwrap_db_retry only checks RetryRequest Exception.\nand we don't raise it. So it doesn't make sense to use it\nin db.py. Remove non-sense wrap_db_retry.\n\nChange-Id: I6a6f185ac3aaae4efb99c985b7833c628d1d9722\n""}]",0,498966,ad877e592d3b909c102d666760676b6657485487,9,4,1,333,,,0,"db: remove nonsense wrap_db_retry

wrap_db_retry only checks RetryRequest Exception.
and we don't raise it. So it doesn't make sense to use it
in db.py. Remove non-sense wrap_db_retry.

Change-Id: I6a6f185ac3aaae4efb99c985b7833c628d1d9722
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/66/498966/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/db/db.py'],1,ad877e592d3b909c102d666760676b6657485487,db-retry,from oslo_log import log as logging,from oslo_db import api as oslo_db_api from oslo_log import log as logging @oslo_db_api.wrap_db_retry(max_retries=db_api.MAX_RETRIES)@oslo_db_api.wrap_db_retry(max_retries=db_api.MAX_RETRIES)@oslo_db_api.wrap_db_retry(max_retries=db_api.MAX_RETRIES),1,6
openstack%2Fnetworking-odl~master~I0cbe8a23582204936e87ee9398e5e465feebac85,openstack/networking-odl,master,I0cbe8a23582204936e87ee9398e5e465feebac85,journal syncer: improve error handling of request to opendaylight,ABANDONED,2016-06-18 00:15:05.000000000,2017-11-04 22:58:25.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 7921}, {'_account_id': 8871}, {'_account_id': 10386}, {'_account_id': 13912}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22380}, {'_account_id': 26507}]","[{'number': 1, 'created': '2016-06-18 00:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a3572fb6321bc9bca1a766f63b09f76a124c28ee', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 2, 'created': '2016-06-18 04:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cdd80bd99ab25496fb15c9805fbac8d52a857de9', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 3, 'created': '2017-08-04 20:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e972affdb9e73fab793f4c7bec306841612418eb', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 4, 'created': '2017-08-07 17:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/355d9623b85329bb84789404a0fc9aaa9072bdd2', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 5, 'created': '2017-08-07 21:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e1c00209dc3bd7340d08c4207bfa2ab7fbc01485', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 6, 'created': '2017-08-07 22:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9b55c1cc567cd07689b4d5523b83b44fc984fbfb', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 7, 'created': '2017-08-07 22:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c2ab10aaeed41fa6437cdb12e3499bc1e942ca4c', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 8, 'created': '2017-08-07 22:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6b2ea81e13acc5593211706f058ceac0214c6be8', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 9, 'created': '2017-08-11 06:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fa36e00fac4b2eac1c46e8fce535634e0d554c85', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\n""}, {'number': 10, 'created': '2017-08-14 08:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/964c45cf4a8165c1a3ffecb0049b22042cbe9d8d', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\nCo-Authored-By: rajiv <rajiv.kumar@nectechnologies.in>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\nCloses-bug: #1708241\n""}, {'number': 11, 'created': '2017-08-14 12:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/28f5926234a4ecb69e120c5d698c530e4c5495b7', 'message': ""journal syncer: improve error handling of request to opendaylight[UT WIP]\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\nCo-Authored-By: rajiv <rajiv.kumar@nectechnologies.in>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\nCloses-bug: #1708241\n""}, {'number': 12, 'created': '2017-08-14 18:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/763b0d09fa9841e1e1fe299f483d7ef9409ce432', 'message': ""journal syncer: improve error handling of request to opendaylight[UT WIP]\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\nCo-Authored-By: rajiv <rajiv.kumar@nectechnologies.in>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\nCloses-bug: #1708241\n""}, {'number': 13, 'created': '2017-08-15 17:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4e92a0da04b0cbf4ba06a507faadfd69963fc6e0', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\nCo-Authored-By: rajiv <rajiv.kumar@nectechnologies.in>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\nCloses-bug: #1708241\n""}, {'number': 14, 'created': '2017-08-16 05:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/334a99ee4ac1126ab7745876f2706fbeee9bc3ed', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\nCo-Authored-By: rajiv <rajiv.kumar@nectechnologies.in>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\nCloses-bug: #1708241\n""}, {'number': 15, 'created': '2017-08-21 05:31:21.000000000', 'files': ['networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/journal/journal.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d55e02fac89e262931a599b25b3823ccc61101d2', 'message': ""journal syncer: improve error handling of request to opendaylight\n\nThis patch enhances error path of request to opendaylight.\n- handle timeout gracefully with the assumption that server is too busy\n  or network is unstable\n- handle 409(conflict) with POST(create) by falling back to PUT(update)\n  with the assumption that someone else already created it.\n- handle 404(not found) with PUT(update) by falling back to POST(create)\n- handle 404(not found) with DELETE by ignoring the error as it's\n  already deleted by someone else.\n\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\nCo-Authored-By: rajiv <rajiv.kumar@nectechnologies.in>\n\nChange-Id: I0cbe8a23582204936e87ee9398e5e465feebac85\nCloses-bug: #1708241\n""}]",67,331382,d55e02fac89e262931a599b25b3823ccc61101d2,66,11,15,333,,,0,"journal syncer: improve error handling of request to opendaylight

This patch enhances error path of request to opendaylight.
- handle timeout gracefully with the assumption that server is too busy
  or network is unstable
- handle 409(conflict) with POST(create) by falling back to PUT(update)
  with the assumption that someone else already created it.
- handle 404(not found) with PUT(update) by falling back to POST(create)
- handle 404(not found) with DELETE by ignoring the error as it's
  already deleted by someone else.

Co-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>
Co-Authored-By: rajiv <rajiv.kumar@nectechnologies.in>

Change-Id: I0cbe8a23582204936e87ee9398e5e465feebac85
Closes-bug: #1708241
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/82/331382/5 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/journal/journal.py'],1,a3572fb6321bc9bca1a766f63b09f76a124c28ee,improve-http-error-handle," def _log_and_make_row_pending(self, message, session, row): # Don't raise the retry count, just log an error LOG.error(_LE(message)) # Set row back to pending db.update_db_row_state(session, row, odl_const.PENDING) # Break our of the loop and retry with the next # timer interval def _log_and_update_retry(self, session, row, exception_): LOG.error(_LE(""Error syncing %(type)s %(operation)s,"" "" id %(uuid)s Error: %(error)s""), {'type': row.object_type, 'uuid': row.object_uuid, 'operation': row.operation, 'error': exception_.message}) db.update_pending_db_row_retry(session, row, self._row_retry_count) def _sendjson(self, method, urlpath, to_send, session, row): try: self.client.sendjson(method, urlpath, to_send) except exceptions.ConnectionError as e: msg = ""Cannot connect to the Opendaylight Controller"" self._log_and_make_row_pending(msg, session, row) return False except exceptions.Timeout as e: msg = ""Request timeouted to the Opendaylight Controller"" self._log_and_make_row_pending(msg, session, row) return False db.update_db_row_state(session, row, odl_const.COMPLETED) return True def _handle_http_error(self, method, urlpath, to_send, session, row, http_error): try: if method == 'post': if http_error.response.status_code == requests.codes.conflict: method = 'put' return self._sendjson(method, urlpath, to_send, session, row): elif method == 'put': if http_error.response.status_code == requests.codes.not_found: method = 'post' return self._sendjson(method, urlpath, to_send, session, row): elif method == 'delete' if http_error.response.status_code == requests.codes.not_found: db.update_db_row_state(session, row, odl_const.COMPLETED) except Exception as e: self._log_and_update_retry(session, row, e) else: self._log_and_update_retry(session, row, http_error) return True try: if not self._sendjson(method, urlpath, to_send, session, row): break except exceptions.HTTPError as e: if not self._handle_http_error(method, urlpath, to_send, session, row, e) break except Exception as e: self._log_and_update_retry(session, row, e)"," try: self.client.sendjson(method, urlpath, to_send) db.update_db_row_state(session, row, odl_const.COMPLETED) except exceptions.ConnectionError as e: # Don't raise the retry count, just log an error LOG.error(_LE(""Cannot connect to the Opendaylight Controller"")) # Set row back to pending db.update_db_row_state(session, row, odl_const.PENDING) # Break our of the loop and retry with the next # timer interval break except Exception as e: LOG.error(_LE(""Error syncing %(type)s %(operation)s,"" "" id %(uuid)s Error: %(error)s""), {'type': row.object_type, 'uuid': row.object_uuid, 'operation': row.operation, 'error': e.message}) db.update_pending_db_row_retry(session, row, self._row_retry_count)",63,19
openstack%2Fnetworking-odl~master~I37054b95095b8a4e64d8c680cd8837ab1862831e,openstack/networking-odl,master,I37054b95095b8a4e64d8c680cd8837ab1862831e,DNM: experiment delayed netvirt loading,ABANDONED,2017-09-06 17:58:43.000000000,2017-11-04 22:58:17.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}]","[{'number': 1, 'created': '2017-09-06 17:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/53b03b05529f350d115e262d0dacd9b69d53e2c9', 'message': 'DNM: experiment delayed netvirt loading\n\nChange-Id: I37054b95095b8a4e64d8c680cd8837ab1862831e\n'}, {'number': 2, 'created': '2017-09-07 21:16:45.000000000', 'files': ['devstack/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4a0b973fa5d7789138076dc5f08ed97fe1446db0', 'message': 'DNM: experiment delayed netvirt loading\n\nChange-Id: I37054b95095b8a4e64d8c680cd8837ab1862831e\n'}]",1,501365,4a0b973fa5d7789138076dc5f08ed97fe1446db0,8,3,2,17120,,,0,"DNM: experiment delayed netvirt loading

Change-Id: I37054b95095b8a4e64d8c680cd8837ab1862831e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/65/501365/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/pre_test_hook.sh'],1,53b03b05529f350d115e262d0dacd9b69d53e2c9,501365," if [[ ""$ODL_RELEASE_BASE"" =~ ""carbon"" ]]; then local OF_FEATURS=""odl-openflowjava-protocol"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-app-config-pusher"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-app-forwardingrules-manager"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-app-topology"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-flow-services"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-nsf-model"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-nxm-extensions"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-nxm-extensions"" OF_FEATURES=""$OF_FEATURES,odl-openflowplugin-southbound"" local OVSDB_FEATURES=""odl-ovsdb-hwvtepsouthbound"" OVSDB_FEATURES=""$OVSDB_FEATURES,odl-ovsdb-hwvtepsouthbound-api"" OVSDB_FEATURES=""$OVSDB_FEATURES,odl-ovsdb-library"" OVSDB_FEATURES=""$OVSDB_FEATURES,odl-ovsdb-southbound-api"" OVSDB_FEATURES=""$OVSDB_FEATURES,odl-ovsdb-southbound-impl"" export ODL_NETVIRT_KARAF_FEATURE=odl-neutron-service,$OF_FEATURES,$OVSDB_FEATURES,odl-restconf-all,odl-aaa-authn,odl-dlux-core,odl-mdsal-apidocs,odl-neutron-logger else export ODL_NETVIRT_KARAF_FEATURE=odl-neutron-service,odl-restconf-all,odl-aaa-authn,odl-dlux-core,odl-mdsal-apidocs,odl-netvirt-openstack,odl-neutron-logger fi ",,20,0
openstack%2Fneutron-fwaas~master~Id082ad63231feac433eb7d4abc8e5deb3a761808,openstack/neutron-fwaas,master,Id082ad63231feac433eb7d4abc8e5deb3a761808,Replace six.iteritems() with .items(),ABANDONED,2017-07-24 12:42:49.000000000,2017-11-04 22:57:59.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-07-24 12:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e0a3be791c0c4edbde34df0fb285b83c65de008f', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Id082ad63231feac433eb7d4abc8e5deb3a761808\n'}, {'number': 2, 'created': '2017-07-25 05:13:45.000000000', 'files': ['neutron_fwaas/tests/unit/db/firewall/test_firewall_db.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaasv2_extensions.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaas_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/049444f585dd39d96d173ae949f5a3c521a880ac', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Id082ad63231feac433eb7d4abc8e5deb3a761808\n'}]",0,486596,049444f585dd39d96d173ae949f5a3c521a880ac,8,3,2,21204,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3 as well. And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the
link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: Id082ad63231feac433eb7d4abc8e5deb3a761808
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/96/486596/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/db/firewall/test_firewall_db.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaasv2_extensions.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/tests/tempest_plugin/tests/api/test_fwaas_extensions.py']",6,e0a3be791c0c4edbde34df0fb285b83c65de008f,," for key, value in fw_rule['firewall_rule'].items(): for key, value in fw_policy.items(): for key, value in firewall.items():"," for key, value in six.iteritems(fw_rule['firewall_rule']): for key, value in six.iteritems(fw_policy): for key, value in six.iteritems(firewall):",56,56
openstack%2Fneutron-fwaas~master~I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd,openstack/neutron-fwaas,master,I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd,Move linux_utils to oslo_concurrency,ABANDONED,2017-03-07 15:59:48.000000000,2017-11-04 22:57:31.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 17776}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-03-07 15:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e8c13601d9964f9c7b1b403f7293922e56c931d5', 'message': 'Move linux_utils to oslo_concurrency\n\nDuring rehome to neutron_lib, we found that it is better\nto move execute() method to oslo_concurrency.\n\nChange-Id: I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd\nCo-Authored-By: Nate Johnston <nate_johnston@cable.comcast.com>\n'}, {'number': 2, 'created': '2017-03-09 08:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9c74d04ae94bc1ddf76b9422cf791fce384d9ba1', 'message': 'Move linux_utils to oslo_concurrency\n\nDuring rehome to neutron_lib, we found that it is better\nto move execute() method to oslo_concurrency.\n\nChange-Id: I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd\nCo-Authored-By: Nate Johnston <nate_johnston@cable.comcast.com>\n'}, {'number': 3, 'created': '2017-03-13 10:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b63e38fe1d3aed4eb3ba079bcd486e2195b544f4', 'message': 'Move linux_utils to oslo_concurrency\n\nDuring rehome to neutron_lib, we found that it is better\nto move execute() method to oslo_concurrency.\n\nChange-Id: I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd\nCo-Authored-By: Nate Johnston <nate_johnston@cable.comcast.com>\n'}, {'number': 4, 'created': '2017-08-21 09:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6dad4fa0b323fcdd48eda2b23ab2d4e9beb91659', 'message': 'Move linux_utils to oslo_concurrency\n\nDuring rehome to neutron_lib, we found that it is better\nto move execute() method to oslo_concurrency.\n\nChange-Id: I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd\nCo-Authored-By: Nate Johnston <nate_johnston@cable.comcast.com>\n'}, {'number': 5, 'created': '2017-08-21 10:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2c834e241c57228a693ea2ff62ffa5f7c3e51089', 'message': 'Move linux_utils to oslo_concurrency\n\nDuring rehome to neutron_lib, we found that it is better\nto move execute() method to oslo_concurrency.\n\nChange-Id: I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd\nCo-Authored-By: Nate Johnston <nate_johnston@cable.comcast.com>\n'}, {'number': 6, 'created': '2017-09-13 08:20:33.000000000', 'files': ['requirements.txt', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4c3f3b9595eefb30e06f4878d1273fd05de116df', 'message': 'Move linux_utils to oslo_concurrency\n\nDuring rehome to neutron_lib, we found that it is better\nto move execute() method to oslo_concurrency.\n\nChange-Id: I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd\nCo-Authored-By: Nate Johnston <nate_johnston@cable.comcast.com>\n'}]",1,442587,4c3f3b9595eefb30e06f4878d1273fd05de116df,17,5,6,17776,,,0,"Move linux_utils to oslo_concurrency

During rehome to neutron_lib, we found that it is better
to move execute() method to oslo_concurrency.

Change-Id: I36ebbc5fcc718a5cebc0bdd08fdd392b207bd7cd
Co-Authored-By: Nate Johnston <nate_johnston@cable.comcast.com>
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/87/442587/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas.py']",3,e8c13601d9964f9c7b1b403f7293922e56c931d5,move_to_oslo_utils,from oslo_concurrency import processutils as linux_utils,from neutron.agent.linux import utils as linux_utils,3,2
openstack%2Fneutron~master~Iee2fab0d3e7319e0ff041e6ea6867e13c2a84c0f,openstack/neutron,master,Iee2fab0d3e7319e0ff041e6ea6867e13c2a84c0f,DNM WIP nothing to see here,ABANDONED,2017-09-14 05:22:00.000000000,2017-11-04 22:57:13.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-14 05:22:00.000000000', 'files': ['neutron/tests/unit/objects/test_securitygroup.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_l3agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13d2de2766f1dd701ff0f2014adab69e7b72fb83', 'message': 'DNM WIP nothing to see here\n\nChange-Id: Iee2fab0d3e7319e0ff041e6ea6867e13c2a84c0f\n'}]",0,503955,13d2de2766f1dd701ff0f2014adab69e7b72fb83,4,3,1,9656,,,0,"DNM WIP nothing to see here

Change-Id: Iee2fab0d3e7319e0ff041e6ea6867e13c2a84c0f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/503955/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/test_securitygroup.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_l3agent.py']",3,13d2de2766f1dd701ff0f2014adab69e7b72fb83,bug/1717046," index = iter(range(1, 100))"," index = iter(range(1, len(self.objs) + 2))",13,19
openstack%2Fneutron~master~Ic46933fb8e7b59c1c31e1f79f93e707088f777f9,openstack/neutron,master,Ic46933fb8e7b59c1c31e1f79f93e707088f777f9,Add get segment vlan availability,ABANDONED,2017-06-27 06:43:25.000000000,2017-11-04 22:56:55.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-06-27 06:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12ffd23a68720cb071704bb99252c10b34b44bdb', 'message': 'Add get segment vlan availability\n\nIn private cloud, admin user need to know which VLAN ids are\navailable for the purpose of management, and this also helpful\nfor create VLAN provider network with specified VLAN id.\n\nTODO: UTs\n\nChange-Id: Ic46933fb8e7b59c1c31e1f79f93e707088f777f9\nCloses-Bug: #1698791\n'}, {'number': 2, 'created': '2017-09-12 14:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4c7adbfa4bfc2751009bfb68f4e031735c766f5', 'message': 'Add get segment vlan availability\n\nIn private cloud, admin user need to know which VLAN ids are\navailable for the purpose of management, and this also helpful\nfor create VLAN provider network with specified VLAN id.\n\nTODO: UTs\n\nChange-Id: Ic46933fb8e7b59c1c31e1f79f93e707088f777f9\nCloses-Bug: #1698791\n'}, {'number': 3, 'created': '2017-09-13 01:16:58.000000000', 'files': ['neutron/extensions/segment_vlan_availability.py', 'neutron/services/segment_vlan_availability/__init__.py', 'neutron/plugins/common/constants.py', 'neutron/services/segment_vlan_availability/plugin.py', 'setup.cfg', 'neutron/db/segment_vlan_availability_db.py', 'etc/policy.json', 'neutron/tests/etc/policy.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6966ccfcf8448543e381a4b0fa7f68c3be53b8c8', 'message': 'Add get segment vlan availability\n\nIn private cloud, admin user need to know which VLAN ids are\navailable for the purpose of management, and this also helpful\nfor create VLAN provider network with specified VLAN id.\n\nTODO: UTs\n\nChange-Id: Ic46933fb8e7b59c1c31e1f79f93e707088f777f9\nCloses-Bug: #1698791\n'}]",0,477777,6966ccfcf8448543e381a4b0fa7f68c3be53b8c8,27,12,3,12860,,,0,"Add get segment vlan availability

In private cloud, admin user need to know which VLAN ids are
available for the purpose of management, and this also helpful
for create VLAN provider network with specified VLAN id.

TODO: UTs

Change-Id: Ic46933fb8e7b59c1c31e1f79f93e707088f777f9
Closes-Bug: #1698791
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/477777/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/segment_vlan_availability.py', 'neutron/services/segment_vlan_availability/__init__.py', 'neutron/plugins/common/constants.py', 'neutron/services/segment_vlan_availability/plugin.py', 'setup.cfg', 'neutron/db/segment_vlan_availability_db.py', 'etc/policy.json', 'neutron/tests/etc/policy.json']",8,12ffd23a68720cb071704bb99252c10b34b44bdb,bug/1698791," ""delete_security_group_rule"": ""rule:admin_or_owner"", ""get_segment_vlan_availabilities"": ""rule:admin_only"""," ""delete_security_group_rule"": ""rule:admin_or_owner""",171,2
openstack%2Fneutron~master~I4337a0087cf22724fcae248135547960484e7216,openstack/neutron,master,I4337a0087cf22724fcae248135547960484e7216,"WIP Always sort/paginate, even if not native",ABANDONED,2017-09-14 17:07:18.000000000,2017-11-04 22:56:36.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-14 17:07:18.000000000', 'files': ['neutron/api/v2/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72d4597f1b8b3929c8370cb3a4673da175e89f41', 'message': 'WIP Always sort/paginate, even if not native\n\nDeprecate kwargs; APIImpact; test with a weird non-db core plugin;\nexpand commit message; add release note; add tests?\n\nChange-Id: I4337a0087cf22724fcae248135547960484e7216\n'}]",0,504128,72d4597f1b8b3929c8370cb3a4673da175e89f41,8,7,1,9656,,,0,"WIP Always sort/paginate, even if not native

Deprecate kwargs; APIImpact; test with a weird non-db core plugin;
expand commit message; add release note; add tests?

Change-Id: I4337a0087cf22724fcae248135547960484e7216
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/504128/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/v2/base.py'],1,72d4597f1b8b3929c8370cb3a4673da175e89f41,sort-paginate-all-things," allow_pagination=True, allow_sorting=True): # ignore consumers, always do pagination/sorting, even if not native self._allow_pagination = True self._allow_sorting = True"," allow_pagination=False, allow_sorting=False): self._allow_pagination = allow_pagination self._allow_sorting = allow_sorting",4,3
openstack%2Fnetworking-odl~stable%2Fpike~Id7a003b1640f401679986d8986ca401568e4f9d2,openstack/networking-odl,stable/pike,Id7a003b1640f401679986d8986ca401568e4f9d2,DNM: Pike gate health check,ABANDONED,2017-09-15 17:27:13.000000000,2017-11-04 22:56:26.000000000,,"[{'_account_id': 3}, {'_account_id': 748}]","[{'number': 1, 'created': '2017-09-15 17:27:13.000000000', 'files': ['networking_odl/common/config.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c464eb7291408a8f870c7f60e89675957e5e392b', 'message': 'DNM: Pike gate health check\n\nChange-Id: Id7a003b1640f401679986d8986ca401568e4f9d2\n'}]",0,504470,c464eb7291408a8f870c7f60e89675957e5e392b,3,2,1,17120,,,0,"DNM: Pike gate health check

Change-Id: Id7a003b1640f401679986d8986ca401568e4f9d2
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/70/504470/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/common/config.py'],1,c464eb7291408a8f870c7f60e89675957e5e392b,,,,1,0
openstack%2Fneutron~master~Ifb5b6da729d67d3798d7b593ddae5b5191a19f01,openstack/neutron,master,Ifb5b6da729d67d3798d7b593ddae5b5191a19f01,Support pagination/sorting for agents,ABANDONED,2017-09-15 19:48:10.000000000,2017-11-04 22:56:06.000000000,,"[{'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-15 19:48:10.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/extensions/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07c9df98a55c6726863686d0547d1fefa8ea12c0', 'message': 'Support pagination/sorting for agents\n\nChange-Id: Ifb5b6da729d67d3798d7b593ddae5b5191a19f01\ntodo: add api tests\n'}]",0,504503,07c9df98a55c6726863686d0547d1fefa8ea12c0,7,5,1,9656,,,0,"Support pagination/sorting for agents

Change-Id: Ifb5b6da729d67d3798d7b593ddae5b5191a19f01
todo: add api tests
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/504503/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/extensions/agent.py']",2,07c9df98a55c6726863686d0547d1fefa8ea12c0,sort-paginate-all-things," controller = base.create_resource( RESOURCE_NAME + 's', RESOURCE_NAME, plugin, params, allow_pagination=True, allow_sorting=True)"," controller = base.create_resource(RESOURCE_NAME + 's', RESOURCE_NAME, plugin, params )",11,6
openstack%2Fneutron~master~I4115c464b17a8c6fd8e29eb73ccb8e1a3d00cd8e,openstack/neutron,master,I4115c464b17a8c6fd8e29eb73ccb8e1a3d00cd8e,WIP Enable sorting and pagination for ip availability service plugin,ABANDONED,2017-09-15 20:43:00.000000000,2017-11-04 22:55:51.000000000,,"[{'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-15 20:43:00.000000000', 'files': ['neutron/services/network_ip_availability/plugin.py', 'neutron/extensions/network_ip_availability.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/477b638d68179c020797eeec2bce469c9d56e11e', 'message': ""WIP Enable sorting and pagination for ip availability service plugin\n\nUse non-native implementation since it's not a widely used feature.\nWhile at it, also stop claiming native bulk api support.\n\ntodo: add api tests\n\nChange-Id: I4115c464b17a8c6fd8e29eb73ccb8e1a3d00cd8e\n""}]",0,504512,477b638d68179c020797eeec2bce469c9d56e11e,7,5,1,9656,,,0,"WIP Enable sorting and pagination for ip availability service plugin

Use non-native implementation since it's not a widely used feature.
While at it, also stop claiming native bulk api support.

todo: add api tests

Change-Id: I4115c464b17a8c6fd8e29eb73ccb8e1a3d00cd8e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/504512/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/network_ip_availability/plugin.py', 'neutron/extensions/network_ip_availability.py']",2,477b638d68179c020797eeec2bce469c9d56e11e,sort-paginate-all-things," resource_attributes, allow_sorting=True, allow_pagination=True)", resource_attributes),6,1
openstack%2Fnetworking-midonet~master~I870d9afecaffd10b91f9e216d7b6ebccad769b47,openstack/networking-midonet,master,I870d9afecaffd10b91f9e216d7b6ebccad769b47,DO NOT MERGE: test l3 service provider,ABANDONED,2017-07-13 03:51:20.000000000,2017-11-04 22:55:37.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-07-13 03:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/58a034bc2f0520ee1c7275a75ed560f91e223dd0', 'message': 'DO NOT MERGE: test l3 service provider\n\nChange-Id: I870d9afecaffd10b91f9e216d7b6ebccad769b47\n'}, {'number': 2, 'created': '2017-07-13 06:12:31.000000000', 'files': ['devstack/ml2/functions', 'devstack/plugin.sh', 'devstack/ci/gate_hook.sh', 'devstack/midonet/functions'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/feab3c85a4e40b0067a7b9939dc6ab6ff2ad8dfd', 'message': 'DO NOT MERGE: test l3 service provider\n\nChange-Id: I870d9afecaffd10b91f9e216d7b6ebccad769b47\n'}]",0,483175,feab3c85a4e40b0067a7b9939dc6ab6ff2ad8dfd,7,5,2,6854,,,0,"DO NOT MERGE: test l3 service provider

Change-Id: I870d9afecaffd10b91f9e216d7b6ebccad769b47
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/75/483175/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ml2/functions', 'devstack/plugin.sh', 'devstack/ci/gate_hook.sh', 'devstack/midonet/functions']",4,58a034bc2f0520ee1c7275a75ed560f91e223dd0,l3-flavor, neutron_service_plugin_class_add router, neutron_service_plugin_class_add midonet_l3,7,6
openstack%2Fneutron~master~I5923860274f77b1fb55f7b323e88ccd14a34f387,openstack/neutron,master,I5923860274f77b1fb55f7b323e88ccd14a34f387,tests: regenerate test objects after locking some fields,ABANDONED,2017-09-13 22:29:49.000000000,2017-11-04 22:41:22.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8655}, {'_account_id': 9200}, {'_account_id': 9656}, {'_account_id': 15752}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-13 22:29:49.000000000', 'files': ['neutron/tests/unit/objects/test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e9f2fc5d808e80f888a7b7fbaf7dd6e2cf9b574', 'message': 'tests: regenerate test objects after locking some fields\n\nWe already have a unique guarantee for objects generated on setUp [1].\nBut after we update and lock fields to specific values, those\nconstraints may not be valid anymore.\n\nThis change makes the test framework to regenerate objects with new\nconstraints when a field is locked to a value.\n\nChange-Id: I5923860274f77b1fb55f7b323e88ccd14a34f387\nCloses-Bug: #1717046\n'}]",1,503854,9e9f2fc5d808e80f888a7b7fbaf7dd6e2cf9b574,8,7,1,9656,,,0,"tests: regenerate test objects after locking some fields

We already have a unique guarantee for objects generated on setUp [1].
But after we update and lock fields to specific values, those
constraints may not be valid anymore.

This change makes the test framework to regenerate objects with new
constraints when a field is locked to a value.

Change-Id: I5923860274f77b1fb55f7b323e88ccd14a34f387
Closes-Bug: #1717046
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/503854/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/objects/test_base.py'],1,9e9f2fc5d808e80f888a7b7fbaf7dd6e2cf9b574,bug/1717046," self._generate_db_objs() self.obj_registry = self.useFixture( fixture.VersionedObjectRegistryFixture()) self.obj_registry.register(FakeSmallNeutronObject) self.obj_registry.register(FakeWeirdKeySmallNeutronObject) self.obj_registry.register(FakeNeutronObjectMultipleForeignKeys) synthetic_obj_fields = self.get_random_db_fields( FakeSmallNeutronObject) self.model_map = { self._test_class.db_model: self.db_objs, ObjectFieldsModel: [ObjectFieldsModel(**synthetic_obj_fields)]} def _generate_db_objs(self): # new objects may now trigger duplicate errors, regenerate self._generate_db_objs()"," self.obj_registry = self.useFixture( fixture.VersionedObjectRegistryFixture()) self.obj_registry.register(FakeSmallNeutronObject) self.obj_registry.register(FakeWeirdKeySmallNeutronObject) self.obj_registry.register(FakeNeutronObjectMultipleForeignKeys) synthetic_obj_fields = self.get_random_db_fields( FakeSmallNeutronObject) self.model_map = { self._test_class.db_model: self.db_objs, ObjectFieldsModel: [ObjectFieldsModel(**synthetic_obj_fields)]}",15,10
openstack%2Fneutron~master~I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509,openstack/neutron,master,I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509,Add timeout to read data from socket in QoS test.,ABANDONED,2017-08-06 14:09:20.000000000,2017-11-04 22:40:13.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 7018}, {'_account_id': 7249}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 24791}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-06 14:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c95f31e5515ee2326d83addd07217058c847a030', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nCloses-Bug: #1662109\n'}, {'number': 2, 'created': '2017-08-08 16:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3af94da4d4b3a188b24ccb1548a4d24195c948a4', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nCloses-Bug: #1662109\n'}, {'number': 3, 'created': '2017-08-08 16:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c26b3a32e553f690c8687590b353f3a09cd1400', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nThis commit adds also some more logging on DEBUG level in QoS\nscenario test. It might help to debug this test in future.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nCloses-Bug: #1662109\n'}, {'number': 4, 'created': '2017-08-08 18:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88f79e44a05d5f4ee665ebce4987c1cdecaa8f5d', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nThis commit adds also some more logging on DEBUG level in QoS\nscenario test. It might help to debug this test in future.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nRelated-Bug: #1662109\n'}, {'number': 5, 'created': '2017-08-09 14:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b2eb1d3b6f61d3f866f29191edfb4875e3826e5', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nThis commit adds also some more logging on DEBUG level in QoS\nscenario test. It might help to debug this test in future.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nRelated-Bug: #1662109\n'}, {'number': 6, 'created': '2017-08-10 07:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ec80582c75091bc9dd97608e2d158d7a9b90297', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nThis commit adds also some more logging on DEBUG level in QoS\nscenario test. It might help to debug this test in future.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nRelated-Bug: #1662109\n'}, {'number': 7, 'created': '2017-08-10 17:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffc9d0f3330267f3db4902b0fd4f1869b07ce4d6', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nThis commit adds also some more logging on DEBUG level in QoS\nscenario test. It might help to debug this test in future.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nRelated-Bug: #1662109\n'}, {'number': 8, 'created': '2017-08-10 21:40:44.000000000', 'files': ['neutron/tests/tempest/scenario/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b667be3d6c73f5fda64d501596b7668f464c43d', 'message': 'Add timeout to read data from socket in QoS test.\n\nQoS scenario test is connecting to spawned instance and is trying to\nread data from it.\nIt looks that sometimes data is not read and connection ""hangs"".\nThis commit adds timeout to socket object and switch\nsocket.recv() operation from blocking to blocking with timeout.\n\nThis commit adds also some more logging on DEBUG level in QoS\nscenario test. It might help to debug this test in future.\n\nChange-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509\nRelated-Bug: #1662109\n'}]",15,491244,4b667be3d6c73f5fda64d501596b7668f464c43d,85,23,8,11975,,,0,"Add timeout to read data from socket in QoS test.

QoS scenario test is connecting to spawned instance and is trying to
read data from it.
It looks that sometimes data is not read and connection ""hangs"".
This commit adds timeout to socket object and switch
socket.recv() operation from blocking to blocking with timeout.

This commit adds also some more logging on DEBUG level in QoS
scenario test. It might help to debug this test in future.

Change-Id: I29bb8a173af8d6d6e7db4bf61e28a00de9b4b509
Related-Bug: #1662109
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/491244/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/scenario/test_qos.py'],1,c95f31e5515ee2326d83addd07217058c847a030,bug/1662109," # NOTE(slaweq): just in case if connection would ""hangs"" it will raise # timeout exception if any data will be returned after this small time client_socket.settimeout(5) try: data = client_socket.recv(QoSTest.BUFFER_SIZE) total_bytes_read += len(data) except socket.timeout: LOG.warning(""Socket timeout occurs during trying to read "" ""data from %(host)s:%(port)s. Already read "" ""%(total_bytes_read)s bytes of data."", {'host': host, 'port': port, 'total_bytes_read': total_bytes_read})", data = client_socket.recv(QoSTest.BUFFER_SIZE) total_bytes_read += len(data),13,2
openstack%2Fneutron-lib~master~Ia021a27b1c26e12a8ad5cfd55fe30c90a19147f5,openstack/neutron-lib,master,Ia021a27b1c26e12a8ad5cfd55fe30c90a19147f5,Add API Definition for Tap-as-a-Service,ABANDONED,2017-06-27 13:29:52.000000000,2017-11-04 22:38:51.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-06-27 13:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ccbf9489a897bd6aa176ee5a559a82e39891bd1b', 'message': 'Add API Definition for Tap-as-a-Service\n\nIn order to allow Tap-as-a-Service to be a part of\nNeutron stadium, the following patch adds the API Definition\nof Tap-as-a-Service.\n\nChange-Id: Ia021a27b1c26e12a8ad5cfd55fe30c90a19147f5\n'}, {'number': 2, 'created': '2017-08-10 06:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/66cc31be2f78d2ab19b2f23eba33db7f8c134123', 'message': 'Add API Definition for Tap-as-a-Service\n\nIn order to allow Tap-as-a-Service to be a part of\nNeutron stadium, the following patch adds the API Definition\nof Tap-as-a-Service.\n\nChange-Id: Ia021a27b1c26e12a8ad5cfd55fe30c90a19147f5\n'}, {'number': 3, 'created': '2017-09-20 09:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6669d591e9be0f152ae65fbf38cfa691c3d947a4', 'message': 'Add API Definition for Tap-as-a-Service\n\nIn order to allow Tap-as-a-Service to be a part of\nNeutron stadium[1], the following patch adds the API Definition\nof Tap-as-a-Service.\n\n[1]: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n\nChange-Id: Ia021a27b1c26e12a8ad5cfd55fe30c90a19147f5\n'}, {'number': 4, 'created': '2017-09-20 10:25:52.000000000', 'files': ['neutron_lib/tests/unit/api/definitions/test_tapservice.py', 'neutron_lib/api/definitions/constants.py', 'neutron_lib/exceptions/tap_as_a_service.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/tap_service.py', 'releasenotes/notes/taas_api_definition-2874e3cf60445be5.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4b0d126aa9e74e0309df8e4bbcb17ae90b0a12df', 'message': 'Add API Definition for Tap-as-a-Service\n\nIn order to allow Tap-as-a-Service to be a part of\nNeutron stadium[1], the following patch adds the API Definition\nof Tap-as-a-Service.\n\n[1]: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n\nChange-Id: Ia021a27b1c26e12a8ad5cfd55fe30c90a19147f5\n'}]",20,478155,4b0d126aa9e74e0309df8e4bbcb17ae90b0a12df,17,6,4,17776,,,0,"Add API Definition for Tap-as-a-Service

In order to allow Tap-as-a-Service to be a part of
Neutron stadium[1], the following patch adds the API Definition
of Tap-as-a-Service.

[1]: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba

Change-Id: Ia021a27b1c26e12a8ad5cfd55fe30c90a19147f5
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/55/478155/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/constants.py', 'neutron_lib/api/definitions/tap_service.py']",2,ccbf9489a897bd6aa176ee5a559a82e39891bd1b,,"# Copyright (C) NEC Technologies India Ltd. # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import constants as api_const # The alias of the extension. ALIAS = 'taas' # Whether or not this extension is simply signaling behavior to the user # or it actively modifies the attribute map. IS_SHIM_EXTENSION = False # Whether the extension is marking the adoption of standardattr model for # legacy resources, or introducing new standardattr attributes. False or # None if the standardattr model is adopted since the introduction of # resource extension. # If this is True, the alias for the extension should be prefixed with # 'standard-attr-'. IS_STANDARD_ATTR_EXTENSION = False # The name of the extension. NAME = 'Tap Service' # The description of the extension. DESCRIPTION = ""Provides support for Tap as a Service"" # A timestamp of when the extension was introduced. UPDATED_TIMESTAMP = ""2017-06-27T18:50:00-00:00"" # Base for the API calls API_PREFIX = '/taas' RESOURCE_ATTRIBUTE_MAP = { api_const.TAP_SERVICE: { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'required_by_policy': True, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'description': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'port_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True} }, api_const.TAP_FLOW: { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': None}, 'required_by_policy': True, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'description': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'tap_service_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'required_by_policy': True, 'is_visible': True}, 'source_port': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'required_by_policy': True, 'is_visible': True}, 'direction': {'allow_post': True, 'allow_put': False, 'validate': {'type:values': direction_enum}, 'is_visible': True}, 'status': {'allow_post': False, 'allow_put': False, 'is_visible': True} } } # The subresource attribute map for the extension. This extension has only # top level resources, not child resources, so this is set to an empty dict. SUB_RESOURCE_ATTRIBUTE_MAP = { } # The action map. ACTION_MAP = { } # The action status. ACTION_STATUS = { } # The list of required extensions. REQUIRED_EXTENSIONS = [ ] # The list of optional extensions. OPTIONAL_EXTENSIONS = [ ] ",,113,0
openstack%2Fneutron~master~I7cb77a668d988416b820a9bd955e8d8fae2cba89,openstack/neutron,master,I7cb77a668d988416b820a9bd955e8d8fae2cba89,wip: seg change alt,ABANDONED,2017-09-19 22:23:00.000000000,2017-11-04 22:38:23.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9732}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-19 22:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cfca77e03f32df8121ce9757560c321f86c644f', 'message': 'wip: seg change alt\n\nalt approach to I7c3c4654f183b317647a28d599a538fe460db68f\n\nChange-Id: I7cb77a668d988416b820a9bd955e8d8fae2cba89\n'}, {'number': 2, 'created': '2017-09-21 00:21:22.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/services/segments/db.py', 'neutron/db/models/segment.py', 'neutron/services/segments/plugin.py', 'neutron/plugins/ml2/db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fd6310418fff47bd8b5f5c33ae72313c87ffaf4', 'message': 'wip: seg change alt\n\nalt approach to I7c3c4654f183b317647a28d599a538fe460db68f\n\nChange-Id: I7cb77a668d988416b820a9bd955e8d8fae2cba89\n'}]",0,505429,1fd6310418fff47bd8b5f5c33ae72313c87ffaf4,8,4,2,7787,,,0,"wip: seg change alt

alt approach to I7c3c4654f183b317647a28d599a538fe460db68f

Change-Id: I7cb77a668d988416b820a9bd955e8d8fae2cba89
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/505429/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/segments/db.py'],1,7cfca77e03f32df8121ce9757560c321f86c644f,, events.PRECOMMIT_DELETE)," registry.notify(resources.SEGMENT, events.AFTER_CREATE, self, context=context, segment=new_segment) registry.notify(resources.SEGMENT, events.BEFORE_DELETE, self.delete_segment, context=context, segment=segment_dict, for_net_delete=for_net_delete) registry.notify(resources.SEGMENT, events.AFTER_DELETE, self.delete_segment, context=context, segment=segment_dict) events.BEFORE_DELETE)",1,10
openstack%2Fneutron~master~I0f7f7e55049e43bdd4f44f33c8eb86e6e7fed1bf,openstack/neutron,master,I0f7f7e55049e43bdd4f44f33c8eb86e6e7fed1bf,Deprecate string use in install_instructions,ABANDONED,2017-09-15 00:04:23.000000000,2017-11-04 22:37:52.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 8655}, {'_account_id': 9200}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-15 00:04:23.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e5d3d0e13f2e8e4fb7066ba06fd022bb61c51cb', 'message': 'Deprecate string use in install_instructions\n\nAs ovs-ofctl of_interface is no longer, we can encourage to directly\nuse Ryu classes as the instructions argument.\n\nChange-Id: I0f7f7e55049e43bdd4f44f33c8eb86e6e7fed1bf\nRelated-blueprint: ovs-ofctl-to-python\n'}]",3,504292,5e5d3d0e13f2e8e4fb7066ba06fd022bb61c51cb,7,6,1,9200,,,0,"Deprecate string use in install_instructions

As ovs-ofctl of_interface is no longer, we can encourage to directly
use Ryu classes as the instructions argument.

Change-Id: I0f7f7e55049e43bdd4f44f33c8eb86e6e7fed1bf
Related-blueprint: ovs-ofctl-to-python
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/504292/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'],1,5e5d3d0e13f2e8e4fb7066ba06fd022bb61c51cb,bp/ovs-ofctl-to-python,"import debtcollector# Warn only once INSTRUCTION_STR_WARNED = None if INSTRUCTION_STR_WARNED is None: INSTRUCTION_STR_WARNED = True debtcollector.deprecate( ""Use of string in install_instructions is "" ""deprecated"", version=""Queens"")"," # After the ofctl driver is removed, a deprecation warning # could be added here.",9,2
openstack%2Floci~master~If0e80285efb3721fe9dd318de62077dce00fcb5f,openstack/loci,master,If0e80285efb3721fe9dd318de62077dce00fcb5f,Small cleanup in bindep with python3,MERGED,2017-11-01 23:34:31.000000000,2017-11-04 22:36:48.000000000,2017-11-04 22:36:48.000000000,"[{'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-01 23:34:31.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/1f4e1e85f1022b4ccf6be01f8ed89bcc948723ab', 'message': 'Small cleanup in bindep with python3\n\nThe previous logic would install python-rbd3 into a glance container\nwhen with ceph enabled\n\nChange-Id: If0e80285efb3721fe9dd318de62077dce00fcb5f\n'}]",0,517132,1f4e1e85f1022b4ccf6be01f8ed89bcc948723ab,10,4,1,14119,,,0,"Small cleanup in bindep with python3

The previous logic would install python-rbd3 into a glance container
when with ceph enabled

Change-Id: If0e80285efb3721fe9dd318de62077dce00fcb5f
",git fetch https://review.opendev.org/openstack/loci refs/changes/32/517132/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1f4e1e85f1022b4ccf6be01f8ed89bcc948723ab,py3_cleanup,python-rbd [(ceph glance !python3)] python3-rbd [(ceph glance python3)],python-rbd [(ceph glance) !python3] python3-rbd [(ceph glance) python3],2,2
openstack%2Floci~master~I3965f62525d509e8811ed65c599d55b558ce39e4,openstack/loci,master,I3965f62525d509e8811ed65c599d55b558ce39e4,Build cassandra-driver with concurrency,MERGED,2017-10-22 19:15:46.000000000,2017-11-04 22:34:12.000000000,2017-11-04 22:34:12.000000000,"[{'_account_id': 7822}, {'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-22 19:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2da3ab6ef7e9343de432b44411496b81583fe067', 'message': 'Build cassandra-driver with concurrency\n\nThe cassandra driver is far and away the longest package we build. It\nnormally takes 3-4 minutes *after* all the other packages have built to\nfinish. The recommendation for this is to increase the build concurrency\nwith the variable above.\n\nChange-Id: I3965f62525d509e8811ed65c599d55b558ce39e4\n'}, {'number': 2, 'created': '2017-10-28 12:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/33cc909e40ce521c0bd7f1c979cb7878186bcc71', 'message': 'Build cassandra-driver with concurrency\n\nThe cassandra driver is far and away the longest package we build. It\nnormally takes 3-4 minutes *after* all the other packages have built to\nfinish. The recommendation for this is to increase the build concurrency\nwith the variable above.\n\nChange-Id: I3965f62525d509e8811ed65c599d55b558ce39e4\n'}, {'number': 3, 'created': '2017-10-31 22:54:10.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/a4991d77154276463491e6a1261b8403b0b52606', 'message': 'Build cassandra-driver with concurrency\n\nThe cassandra driver is far and away the longest package we build. It\nnormally takes 3-4 minutes *after* all the other packages have built to\nfinish. The recommendation for this is to increase the build concurrency\nwith the variable above.\n\nChange-Id: I3965f62525d509e8811ed65c599d55b558ce39e4\n'}]",0,514088,a4991d77154276463491e6a1261b8403b0b52606,14,5,3,14119,,,0,"Build cassandra-driver with concurrency

The cassandra driver is far and away the longest package we build. It
normally takes 3-4 minutes *after* all the other packages have built to
finish. The recommendation for this is to increase the build concurrency
with the variable above.

Change-Id: I3965f62525d509e8811ed65c599d55b558ce39e4
",git fetch https://review.opendev.org/openstack/loci refs/changes/88/514088/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,2da3ab6ef7e9343de432b44411496b81583fe067,cassandra, export CASS_DRIVER_BUILD_CONCURRENCY=8,,2,0
openstack%2Fneutron-specs~master~I4b7e1193242b7221b41ea4adfa050aa6b95b75ba,openstack/neutron-specs,master,I4b7e1193242b7221b41ea4adfa050aa6b95b75ba,Add report for Tap-as-a-Service,ABANDONED,2017-04-07 16:25:13.000000000,2017-11-04 22:10:47.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11578}, {'_account_id': 11674}, {'_account_id': 15905}, {'_account_id': 17776}, {'_account_id': 19350}, {'_account_id': 19388}]","[{'number': 1, 'created': '2017-04-07 16:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e4aba47b73f40cdf1e3ee7081585d7a0d4361a6f', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 2, 'created': '2017-04-07 16:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/11a8e4b1d391758c13dd79912d6852de6da83af9', 'message': 'WIP, DONT REVIEW Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nPlease, DO NOT REVIEW :)\nMUCH APPRECIATED\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 3, 'created': '2017-06-27 13:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0fc83342659f906effd3b8a4f7a3bf19a3a599a6', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 4, 'created': '2017-06-27 13:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9eaaf7c860f5f8a7c3d6e0bbd712c05b7cbd3ffd', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 5, 'created': '2017-06-27 13:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ad0830e59fb82ed61795f554c5fade120c089f0f', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 6, 'created': '2017-06-30 02:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/199f559f42c11fdeeec76b9ef0a8fcfe59afbb94', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 7, 'created': '2017-08-10 03:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7bcea278bc212d1f9b21c2a9e48ad5cbc4477901', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 8, 'created': '2017-08-19 05:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d878ce0f9a3b39384e7f33a1c836a2a735a2cd4f', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}, {'number': 9, 'created': '2017-09-20 09:25:47.000000000', 'files': ['specs/stadium/queens/tap-as-a-service.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1109e542e2782ae02f1cbd13f48e09b36207d73a', 'message': 'Add report for Tap-as-a-Service\n\nIn order for Tap-as-a-Service to be counted\nas a Neutron Stadium project, the following\npatch is published to track down the items\nrequired for the project to acheive the status.\n\nChange-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba\n'}]",41,454788,1109e542e2782ae02f1cbd13f48e09b36207d73a,32,11,9,17776,,,0,"Add report for Tap-as-a-Service

In order for Tap-as-a-Service to be counted
as a Neutron Stadium project, the following
patch is published to track down the items
required for the project to acheive the status.

Change-Id: I4b7e1193242b7221b41ea4adfa050aa6b95b75ba
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/88/454788/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stadium/pike/tap-as-a-service.rst'],1,e4aba47b73f40cdf1e3ee7081585d7a0d4361a6f,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= Neutron-fwaas Scorecard ======================= Neutron integration ------------------- .. _N0: * N0. Does the project use the Neutron REST API or rely on proprietary backends? Tap-as-a-service implements its own set of Neutron API extensions on top of the Neutron core framework. The API exposed has open source implementations, and it provides a pluggable mechanism for proprietary backends. .. _N1: * N1. Does the project integrate/use neutron-lib? Tap-as-a-Service does use library definitions from neutron-lib, though the API definition for Tap-as-a-Service has not yet been relocated to neutron-lib. A patch in neutron-lib would be posted for the same. .. _N2: * N2. Do project members actively contribute to help neutron-lib achieve its goal? Yes. For example: https://review.openstack.org/431813, https://review.openstack.org/398092 .. _N3: * N3. Do project members collaborate with the core team to enable subprojects to loosely integrate with the Neutron core platform by helping with the definition of modular interfaces? There is still work to be done for the same. .. _N4: * N4. How does the project provide networking services? Does it use modular interfaces as provided by the core platform? Yes. .. _N5: * N5. If the project provides new API extensions, have API extensions been discussed and accepted by the Neutron drivers team? Please provide links to API specs, if required. API spec which included members from the Neutron drivers team was merged in https://review.openstack.org/256210. Documentation ------------- .. _D1: * D1. Does the project have a doc tox target, functional and continuously working? Provide proof (links to logs.openstack.org). Yes. * https://github.com/openstack/tap-as-a-service/blob/master/tox.ini .. _D2: * D2. If the project provide API extensions, does the project have an api-ref tox target, functional and continously working? Provide proof (links to logs.openstack.org). Not at the time of writing the following document. .. _D3: * D3. Does the project have a releasenotes tox target, functional and continously working? Provide proof. No. .. _D4: * D4. Describe the types of documentation available: developer, end user, administrator, deployer. Documentation is one area which still needs a bit more focus. Continuous Integration ---------------------- .. _C1: * C1. Does the project have a Grafana dashboard showing historical trends of all the jobs available? Provide proof (links to grafana.openstack.org). No. .. _C2: * C2. Does the project have CI for unit coverage? Provide proof (links to logs.openstack.org) No. .. _C3: * C3. Does the project have CI for functional coverage? If so, does it include DB migration and sync validation? No. At the time of writing, the functional coverage was started but is pending at https://review.openstack.org/#/c/252366/ .. _C4: * C4. Does the project have CI for fullstack coverage? No. .. _C5: * C5. Does the project have CI for Tempest coverage? If so, specify nature (API and/or Scenario). The project has Tempest coverage tests, which include API tests. .. _C6: * C6. How does a project validate upgrades on a continuous basis? Does the project require or support CI for Grenade coverage? Currently, it doesnt require Grenade coverage or any upgrade support. .. _C7: * C7. Does the project provide multinode CI? No. .. _C8: * C8. Does the project support Python 3.x? Provide proof. Yes. * http://logs.openstack.org/55/289155/8/check/gate-tap-as-a-service-python35/15766fd/ Release footprint ----------------- .. _R1: * R1. Does the project adopt semver? To-Do .. _R2: * R2. Does the project have release deliverables? Provide proof as available in the `release repo <http://git.openstack.org/cgit/openstack/releases/tree/>`_. Not yet. .. _R3: * R3. Does the project use upper-constraints? Yes. * https://github.com/openstack/tap-as-a-service/blob/master/tox.ini#L10 .. _R4: * Does the project integrate with OpenStack Proposal Bot for requirements updates? Yes. Stable backports ---------------- .. _S1: * S1. Does the project have stable branches and/or tags? Provide history of backports. Yes, tags have been released for Newton and Ocata. Client library -------------- .. _L1: * L1. If the project requires a client library, how does it implement CLI and API bindings? API Definition need to be rehomed to neutron-lib. It is being migrated to OSC in https://review.openstack.org/449188. Scorecard --------- +---------------+ | Scorecard | +===============+ | N0_ | Y | +---------------+ | N1_ | Y | +---------------+ | N2_ | Y | +---------------+ | N3_ | N | +---------------+ | N4_ | Y | +---------------+ | N5_ | Y | +---------------+ | D1_ | Y | +---------------+ | D2_ | N | +---------------+ | D3_ | N | +---------------+ | D4_ | N | +---------------+ | C1_ | N | +---------------+ | C2_ | N | +---------------+ | C3_ | N | +---------------+ | C4_ | N | +---------------+ | C5_ | Y | +---------------+ | C6_ | Y | +---------------+ | C7_ | N | +---------------+ | C8_ | Y | +---------------+ | R1_ | N | +---------------+ | R2_ | N | +---------------+ | R3_ | Y | +---------------+ | R4_ | Y | +---------------+ | S1_ | Y | +-----+---------+ | L1_ | N | +-----+---------+ Final remarks ------------- There are a lot of things to be closed up, at this moment for Tap-as-a-Service to be counted as a part of Neutron Stadium as 10/22 items from the score card have been completed. ",,272,0
openstack%2Fneutron-fwaas~master~Ib8888cda096b9460716ad6fd0d4582d62e5c11b4,openstack/neutron-fwaas,master,Ib8888cda096b9460716ad6fd0d4582d62e5c11b4,Applying default firewall group,ABANDONED,2017-09-18 04:52:25.000000000,2017-11-04 22:10:38.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 13702}, {'_account_id': 13717}, {'_account_id': 15471}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-09-18 04:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b2bf48eea533c235d5b0b28499c09de1ead24b54', 'message': 'Applying default firewall group\n\nThis patch implements applying default firewall group on vm ports.\n\nChange-Id: Ib8888cda096b9460716ad6fd0d4582d62e5c11b4\nCo-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>\n'}, {'number': 2, 'created': '2017-09-18 04:58:17.000000000', 'files': ['neutron_fwaas/services/firewall/agents/l2/fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/agents/l2/test_fwaas_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/common/fwaas_constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b7a3b251fa68884ff7f3df13f36d84ba596f4144', 'message': 'Applying default firewall group\n\nThis patch implements applying default firewall group on vm ports.\n\nChange-Id: Ib8888cda096b9460716ad6fd0d4582d62e5c11b4\nCo-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>\n'}]",11,504847,b7a3b251fa68884ff7f3df13f36d84ba596f4144,18,6,2,15471,,,0,"Applying default firewall group

This patch implements applying default firewall group on vm ports.

Change-Id: Ib8888cda096b9460716ad6fd0d4582d62e5c11b4
Co-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/47/504847/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/agents/l2/fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/agents/l2/test_fwaas_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/common/fwaas_constants.py']",4,b2bf48eea533c235d5b0b28499c09de1ead24b54,bp/fwaas-api-2," # TODO(annp):Temporary defining for default_fwg, This will be remove after # default fwg has been merged DEFAULT_FWG = 'default' DEFAULT_FWP = 'default' DEFAULT_FWR = 'default'",,68,3
openstack%2Fneutron~master~I45a64dcacaa05cd13da838bc3981d78a93c94211,openstack/neutron,master,I45a64dcacaa05cd13da838bc3981d78a93c94211,use tx constraint in l3_db,ABANDONED,2017-09-14 20:17:33.000000000,2017-11-04 22:10:29.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7016}, {'_account_id': 7787}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-14 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57c17c5bc995317a1cdd173e4ff5e94a22f9f19b', 'message': 'use tx constraint in l3_db\n\nChange-Id: I45a64dcacaa05cd13da838bc3981d78a93c94211\n'}, {'number': 2, 'created': '2017-09-18 22:35:07.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/853508dc5d0ead697cc21749a336a409fefcb0ac', 'message': 'use tx constraint in l3_db\n\nChange-Id: I45a64dcacaa05cd13da838bc3981d78a93c94211\n'}]",0,504216,853508dc5d0ead697cc21749a336a409fefcb0ac,14,7,2,7787,,,0,"use tx constraint in l3_db

Change-Id: I45a64dcacaa05cd13da838bc3981d78a93c94211
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/504216/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,57c17c5bc995317a1cdd173e4ff5e94a22f9f19b,,"from oslo_utils import excutilsfrom neutron.services.revisions import revision_plugin for i in range(100): try: port = self._find_ipv6_router_port_by_network( context, router, subnet['network_id']) if port: fixed_ips = list(map(dict, port['port']['fixed_ips'])) fixed_ips.append(fixed_ip) context.set_transaction_constraint( 'port', port['port_id'], port['port']['revision_number']) return self._core_plugin.update_port(context, port['port_id'], {'port': {'fixed_ips': fixed_ips}}), [subnet], False except revision_plugin.RevisionNumberConstraintFailed: with excutils.save_and_reraise_exception(reraise=i >= 99): pass for i in range(100): try: try: p = self._core_plugin.get_port(context, p.id) except n_exc.PortNotFound: continue context.set_transaction_constraint( 'port', p['id'], p['revision_number']) port_subnets = [fip['subnet_id'] for fip in p['fixed_ips']] if subnet_id in port_subnets and len(port_subnets) > 1: # multiple prefix port - delete prefix from port fixed_ips = [dict(fip) for fip in p['fixed_ips'] if fip['subnet_id'] != subnet_id] self._core_plugin.update_port(context, p['id'], {'port': {'fixed_ips': fixed_ips}}) return (p, [subnet]) elif subnet_id in port_subnets: # only one subnet on port - delete the port self._core_plugin.delete_port(context, p['id'], l3_port_check=False) return (p, [subnet]) except revision_plugin.RevisionNumberConstraintFailed: with excutils.save_and_reraise_exception( reraise=i >= 99): pass"," port = self._find_ipv6_router_port_by_network(context, router, subnet['network_id']) if port: fixed_ips = list(map(dict, port['port']['fixed_ips'])) fixed_ips.append(fixed_ip) return self._core_plugin.update_port(context, port['port_id'], {'port': {'fixed_ips': fixed_ips}}), [subnet], False try: p = self._core_plugin.get_port(context, p.id) except n_exc.PortNotFound: continue port_subnets = [fip['subnet_id'] for fip in p['fixed_ips']] if subnet_id in port_subnets and len(port_subnets) > 1: # multiple prefix port - delete prefix from port fixed_ips = [dict(fip) for fip in p['fixed_ips'] if fip['subnet_id'] != subnet_id] self._core_plugin.update_port(context, p['id'], {'port': {'fixed_ips': fixed_ips}}) return (p, [subnet]) elif subnet_id in port_subnets: # only one subnet on port - delete the port self._core_plugin.delete_port(context, p['id'], l3_port_check=False) return (p, [subnet])",45,26
openstack%2Fneutron~master~I124ab1040d7e78c56da60ca273a413fb58f41578,openstack/neutron,master,I124ab1040d7e78c56da60ca273a413fb58f41578,Wire unit tests to Pecan,ABANDONED,2017-09-22 21:40:52.000000000,2017-11-04 22:10:21.000000000,,"[{'_account_id': 3}, {'_account_id': 748}]","[{'number': 1, 'created': '2017-09-22 21:40:52.000000000', 'files': ['neutron/tests/unit/extensions/test_quotasv2_detail.py', 'neutron/tests/unit/dummy_plugin.py', 'neutron/tests/unit/extensions/base.py', 'neutron/tests/unit/db/metering/test_metering_db.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_network_ip_availability.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/extensions/dummy.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/unit/extensions/test_tag.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/tests/unit/extensions/test_flavors.py', 'neutron/tests/unit/extensions/test_servicetype.py', 'neutron/tests/unit/api/test_extensions.py', 'neutron/tests/unit/extensions/test_quotasv2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3a8c32725787d2f9e219fb796ac4c219db91c22', 'message': 'Wire unit tests to Pecan\n\nChange-Id: I124ab1040d7e78c56da60ca273a413fb58f41578\n'}]",0,506789,e3a8c32725787d2f9e219fb796ac4c219db91c22,3,2,1,7787,,,0,"Wire unit tests to Pecan

Change-Id: I124ab1040d7e78c56da60ca273a413fb58f41578
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/506789/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_quotasv2_detail.py', 'neutron/tests/unit/dummy_plugin.py', 'neutron/tests/unit/extensions/base.py', 'neutron/tests/unit/db/metering/test_metering_db.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_network_ip_availability.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/extensions/dummy.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/tests/unit/extensions/test_tag.py', 'neutron/tests/unit/plugins/ml2/test_tracked_resources.py', 'neutron/tests/unit/extensions/test_flavors.py', 'neutron/tests/unit/extensions/test_servicetype.py', 'neutron/tests/unit/api/test_extensions.py', 'neutron/tests/unit/extensions/test_quotasv2.py']",15,e3a8c32725787d2f9e219fb796ac4c219db91c22,, self.api = webtest.TestApp(router.APIRouter()),"from neutron.common import config quota.QUOTAS = quota.QuotaEngine() self._plugin_patcher = mock.patch(TARGET_PLUGIN, autospec=True) self.plugin = self._plugin_patcher.start() self.plugin.return_value.supported_extension_aliases = ['quotas'] ext_mgr = extensions.PluginAwareExtensionManager.get_instance() app = config.load_paste_app('extensions_test_app') ext_middleware = extensions.ExtensionMiddleware(app, ext_mgr=ext_mgr) self.api = webtest.TestApp(ext_middleware) # Initialize the router for the core API in order to ensure core quota # resources are registered router.APIRouter()",119,215
openstack%2Fneutron~master~I9012b8762f26f2c70c6e00f7264f9ab552fe3b13,openstack/neutron,master,I9012b8762f26f2c70c6e00f7264f9ab552fe3b13,strip down resource.py,ABANDONED,2017-09-12 21:15:47.000000000,2017-11-04 22:10:12.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 7016}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-12 21:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33763051cc015c03ccc4ce75ee3ea3e39df8555b', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 2, 'created': '2017-09-13 04:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5010d91c0da908dd753ea6a8a1460300831bb7c4', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 3, 'created': '2017-09-13 13:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecd0c6f46671da4bfae62c29a7d2e4b4758ef913', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 4, 'created': '2017-09-13 22:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/243e8be0e091bd55c133eff45af0a3f1f02dda21', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 5, 'created': '2017-09-14 21:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/072449f9f29c27cf27aec1a902c52464f8f335dc', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 6, 'created': '2017-09-14 22:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04b0a7cf28929b6ab03655d6dcef6c76eaab7194', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 7, 'created': '2017-09-14 23:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aa17fa0671808ff2a9488c41bf1b1f5ac7b1dd9', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 8, 'created': '2017-09-15 18:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d511c6c877a63ef4991ec05c5b252657d232cde', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 9, 'created': '2017-09-15 19:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28b0ee8eec7e7e0d023d4c5493cf638a7a65ce2d', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 10, 'created': '2017-09-15 20:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b0c905ad3ce70cb30b1ef5c2291928c16828d4b', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 11, 'created': '2017-09-18 22:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a6bea7761ae5b6c27231ad5b443ef6864528c6c', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 12, 'created': '2017-09-19 23:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60e9c37902f363e8ee5db295aab3ee90e81086bd', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 13, 'created': '2017-09-20 23:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d547a3d3c61b695f92b9287168c5bf1f7b4fe259', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 14, 'created': '2017-09-21 23:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/737f342c84612e18047ee77f7136e0a4b565f2fc', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 15, 'created': '2017-09-22 19:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a00482799578153b38cf57a287f59c59a0af8e20', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}, {'number': 16, 'created': '2017-09-22 21:40:52.000000000', 'files': ['neutron/tests/unit/api/v2/test_resource.py', 'neutron/api/v2/resource.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6c009b7f26c5b7b8709d47eafe907b10b4d063c', 'message': 'strip down resource.py\n\nChange-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13\n'}]",2,503195,d6c009b7f26c5b7b8709d47eafe907b10b4d063c,69,9,16,7787,,,0,"strip down resource.py

Change-Id: I9012b8762f26f2c70c6e00f7264f9ab552fe3b13
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/503195/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/v2/resource.py'],1,33763051cc015c03ccc4ce75ee3ea3e39df8555b,, raise RuntimeError('dont call this') ,"from neutron.api import api_common from neutron.common import utils default_deserializers = {'application/json': wsgi.JSONDeserializer()} default_serializers = {'application/json': wsgi.JSONDictSerializer()} format_types = {'json': 'application/json'} default_deserializers.update(deserializers or {}) default_serializers.update(serializers or {}) deserializers = default_deserializers serializers = default_serializers faults = faults or {} route_args = request.environ.get('wsgiorg.routing_args') if route_args: args = route_args[1].copy() else: args = {} # NOTE(jkoelker) by now the controller is already found, remove # it from the args if it is in the matchdict args.pop('controller', None) fmt = args.pop('format', None) action = args.pop('action', None) content_type = format_types.get(fmt, request.best_match_content_type()) language = request.best_match_language() deserializer = deserializers.get(content_type) serializer = serializers.get(content_type) try: if request.body: args['body'] = deserializer.deserialize(request.body)['body'] # Routes library is dumb and cuts off everything after last dot (.) # as format. At the same time, it doesn't enforce format suffix, # which combined makes it impossible to pass a 'id' with dots # included (the last section after the last dot is lost). This is # important for some API extensions like tags where the id is # really a tag name that can contain special characters. # # To work around the Routes behaviour, we will attach the suffix # back to id if it's not one of supported formats (atm json only). # This of course won't work for the corner case of a tag name that # actually ends with '.json', but there seems to be no better way # to tackle it without breaking API backwards compatibility. if fmt is not None and fmt not in format_types: args['id'] = '.'.join([args['id'], fmt]) revision_number = api_common.check_request_for_revision_constraint( request) if revision_number is not None: request.context.set_transaction_constraint( controller._collection, args['id'], revision_number) method = getattr(controller, action) result = method(request=request, **args) except Exception as e: mapped_exc = api_common.convert_exception_to_http_exc(e, faults, language) if hasattr(mapped_exc, 'code') and 400 <= mapped_exc.code < 500: LOG.info('%(action)s failed (client error): %(exc)s', {'action': action, 'exc': mapped_exc}) else: LOG.exception('%(action)s failed: %(details)s', { 'action': action, 'details': utils.extract_exc_details(e), } ) raise mapped_exc status = action_status.get(action, 200) body = serializer.serialize(result) # NOTE(jkoelker) Comply with RFC2616 section 9.7 if status == 204: content_type = '' body = None return webob.Response(request=request, status=status, content_type=content_type, body=body)",1,80
openstack%2Fneutron~master~Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce,openstack/neutron,master,Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce,Pecan: Do not load legacy ExtensionMiddleware,ABANDONED,2017-03-02 20:57:12.000000000,2017-11-04 22:10:04.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-02 20:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9a517569605b35810cb126a9fc7ae07240e7563', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}, {'number': 2, 'created': '2017-04-13 00:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdd7c567ee91e42f5b3d5186ad927ee4bb5b44b0', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}, {'number': 3, 'created': '2017-04-13 00:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/befd48cd4c885b767562c937e7facfcba742bfca', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}, {'number': 4, 'created': '2017-04-13 03:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/899fdf2c1061270f6cfa4dbbb231d1ed879b7d40', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}, {'number': 5, 'created': '2017-04-16 04:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbef07733921cab0fe766b8e0bbd01faa57c979e', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}, {'number': 6, 'created': '2017-09-21 22:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43be42f2ad6995e22e4c999e8365433119006e30', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}, {'number': 7, 'created': '2017-09-22 18:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c37efbc18a0074650ea4c1752ab7ab43c767c18', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}, {'number': 8, 'created': '2017-09-22 21:40:52.000000000', 'files': ['releasenotes/notes/ExtensionMiddlewareDead-148d70f554cb36f1.yaml', 'neutron/api/extensions.py', 'etc/api-paste.ini', 'neutron/tests/etc/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7d96dc9f599337a1b0f990421120e0063caf8d8', 'message': 'Pecan: Do not load legacy ExtensionMiddleware\n\nIf pecan is enabled, then the extensions are already loaded via\ninitializing pecan code.  If the extension filter is specified in the\napi-paste.ini config then the ExtensionMiddleware will also be loaded\npossibly causing some odd errors when there are two different ways the\nextension resources are being routed to.\n\nThe side effect of this is that the extension filter being present in\nthe api-paste.ini has no bearing on whether extensions will be loaded or\nnot.  Extensions will always be loaded.\n\nChange-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce\n'}]",4,440806,b7d96dc9f599337a1b0f990421120e0063caf8d8,66,13,8,6951,,,0,"Pecan: Do not load legacy ExtensionMiddleware

If pecan is enabled, then the extensions are already loaded via
initializing pecan code.  If the extension filter is specified in the
api-paste.ini config then the ExtensionMiddleware will also be loaded
possibly causing some odd errors when there are two different ways the
extension resources are being routed to.

The side effect of this is that the extension filter being present in
the api-paste.ini has no bearing on whether extensions will be loaded or
not.  Extensions will always be loaded.

Change-Id: Ie2043e07831c24ac6bf7e544f96e4dfa1a208bce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/440806/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/extensions.py', 'neutron/tests/unit/api/test_extensions.py']",2,b9a517569605b35810cb126a9fc7ae07240e7563,bp/wsgi-pecan-switch," class TestPluginAwareExtensionMiddlewareFactory(base.BaseTestCase): def test_with_pecan(self): cfg.CONF.set_override('web_framework', 'pecan') callback = extensions.plugin_aware_extension_middleware_factory({}) fake_app = object() app = callback(fake_app) self.assertNotIsInstance(app, extensions.ExtensionMiddleware) self.assertEqual(fake_app, app) def test_with_legacy(self): cfg.CONF.set_override('web_framework', 'legacy') callback = extensions.plugin_aware_extension_middleware_factory({}) fake_app = object() app = callback(fake_app) self.assertIsInstance(app, extensions.ExtensionMiddleware) self.assertNotEqual(fake_app, app)",,23,0
openstack%2Fneutron~master~Id6fb0fb86c9d429149d84852d83699bbdd44ebfd,openstack/neutron,master,Id6fb0fb86c9d429149d84852d83699bbdd44ebfd,misc pecan body validation fixes,ABANDONED,2017-09-22 21:40:52.000000000,2017-11-04 22:09:56.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-22 21:40:52.000000000', 'files': ['neutron/pecan_wsgi/hooks/body_validation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75342db43e5c80045df103a717c6aa28e125cf6e', 'message': 'misc pecan body validation fixes\n\nChange-Id: Id6fb0fb86c9d429149d84852d83699bbdd44ebfd\n'}]",0,506790,75342db43e5c80045df103a717c6aa28e125cf6e,4,3,1,7787,,,0,"misc pecan body validation fixes

Change-Id: Id6fb0fb86c9d429149d84852d83699bbdd44ebfd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/506790/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/pecan_wsgi/hooks/body_validation.py'],1,75342db43e5c80045df103a717c6aa28e125cf6e,," state.request.context['request_data'] = {} json_data = jsonutils.loads(state.request.body.strip(""'\"""")) msg = _(""Body contains invalid data: %s"") % state.request.body if not resource: return"," if not resource: return json_data = jsonutils.loads(state.request.body) msg = _(""Body contains invalid data"")",5,4
openstack%2Fovsdbapp~master~I55f35f96a8baecf5c07bd835d62c59c9dca6727a,openstack/ovsdbapp,master,I55f35f96a8baecf5c07bd835d62c59c9dca6727a,Add 'override' option to Backend,ABANDONED,2017-09-17 14:03:20.000000000,2017-11-04 22:09:48.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5756}, {'_account_id': 10237}, {'_account_id': 20229}]","[{'number': 1, 'created': '2017-09-17 14:03:20.000000000', 'files': ['ovsdbapp/tests/unit/backend/test_ovs_idl.py', 'ovsdbapp/tests/functional/schema/open_vswitch/test_impl_idl.py', 'ovsdbapp/schema/ovn_southbound/impl_idl.py', 'ovsdbapp/backend/ovs_idl/__init__.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/aa24ef272c7bf38756f56fc1682cc92ec36cc7a1', 'message': ""Add 'override' option to Backend\n\nThis option allows to stop the current connection, delete it, and use\nthe new connection object.\n\nThis is useful if the OVSDB that is connected to changes address, or if\nwe want to connect to a different OVSDB.\n\nChange-Id: I55f35f96a8baecf5c07bd835d62c59c9dca6727a\n""}]",0,504774,aa24ef272c7bf38756f56fc1682cc92ec36cc7a1,7,5,1,20229,,,0,"Add 'override' option to Backend

This option allows to stop the current connection, delete it, and use
the new connection object.

This is useful if the OVSDB that is connected to changes address, or if
we want to connect to a different OVSDB.

Change-Id: I55f35f96a8baecf5c07bd835d62c59c9dca6727a
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/74/504774/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/tests/unit/backend/test_ovs_idl.py', 'ovsdbapp/tests/functional/schema/open_vswitch/test_impl_idl.py', 'ovsdbapp/schema/ovn_southbound/impl_idl.py', 'ovsdbapp/backend/ovs_idl/__init__.py']",4,aa24ef272c7bf38756f56fc1682cc92ec36cc7a1,connection-override," def __init__(self, connection, override=False): self.start_connection(connection, override) def start_connection(cls, connection, override=False): if override and cls.ovsdb_connection is not None: cls.ovsdb_connection.stop() cls.ovsdb_connection = None"," def __init__(self, connection): self.start_connection(connection) def start_connection(cls, connection):",17,7
openstack%2Fneutron~master~Ie91e9b102064dab7e4efa44b9aafa1d0a4bf739a,openstack/neutron,master,Ie91e9b102064dab7e4efa44b9aafa1d0a4bf739a,Fix gateway ignored if create subnet by subnetpool,ABANDONED,2017-09-26 05:38:33.000000000,2017-11-04 22:09:40.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9845}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-26 05:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45be50c839805550e794dbb5b1065a2dc0def80a', 'message': 'Fix gateway ignored if create subnet by subnetpool\n\nIf user create a subnet with subnetpool specified\nand no cidr specifed and no-gateway, then still a\ngatway will be created for this subnet.\nThe root cause is the gateway is None when no gateway\noption specifed or no-gateway specified, so add a flag\nto mark the gateway is spcified or not, when gateway\nis spcified and is None, set gateway is None, when\ngateway is not spcified and is None, created a gateway\nip for the subnet.\n\nCloses-Bug: 1714796\nChange-Id: Ie91e9b102064dab7e4efa44b9aafa1d0a4bf739a\n'}, {'number': 2, 'created': '2017-09-26 05:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/182569ae0ebaad797d2826b5bea352584ebea8d5', 'message': 'Fix gateway ignored if create subnet by subnetpool\n\nIf user create a subnet with subnetpool specified\nand no cidr specifed and no-gateway, then still a\ngatway will be created for this subnet.\nThe root cause is the gateway is None when no gateway\noption specifed or no-gateway specified, so add a flag\nto mark the gateway is spcified or not, when gateway\nis spcified and is None, set gateway is None, when\ngateway is not spcified and is None, created a gateway\nip for the subnet.\n\nCloses-Bug: 1716721\nChange-Id: Ie91e9b102064dab7e4efa44b9aafa1d0a4bf739a\n'}, {'number': 3, 'created': '2017-09-26 06:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e20625c51058269662683114e63a19f7f36964e4', 'message': 'Fix gateway ignored if create subnet by subnetpool\n\nIf user create a subnet with subnetpool specified\nand no cidr specifed and no-gateway, then still a\ngatway will be created for this subnet.\nThe root cause is the gateway is None when no gateway\noption specifed or no-gateway specified, so add a flag\nto mark the gateway is spcified or not, when gateway\nis spcified and is None, set gateway is None, when\ngateway is not spcified and is None, created a gateway\nip for the subnet.\n\nCloses-Bug: 1716721\nChange-Id: Ie91e9b102064dab7e4efa44b9aafa1d0a4bf739a\n'}, {'number': 4, 'created': '2017-09-26 06:26:33.000000000', 'files': ['neutron/ipam/requests.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/ipam/subnet_alloc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ff971462ba14493284183c992aaddf69fa53c86', 'message': 'Fix gateway ignored if create subnet by subnetpool\n\nIf user create a subnet with subnetpool specified\nand no cidr specifed and no-gateway, then still a\ngatway will be created for this subnet.\nThe root cause is the gateway is None when no gateway\noption specifed or no-gateway specified, so add a flag\nto mark the gateway is spcified or not, when gateway\nis spcified and is None, set gateway is None, when\ngateway is not spcified and is None, created a gateway\nip for the subnet.\n\nCloses-Bug: 1716721\nChange-Id: Ie91e9b102064dab7e4efa44b9aafa1d0a4bf739a\n'}]",0,507350,9ff971462ba14493284183c992aaddf69fa53c86,11,4,4,19956,,,0,"Fix gateway ignored if create subnet by subnetpool

If user create a subnet with subnetpool specified
and no cidr specifed and no-gateway, then still a
gatway will be created for this subnet.
The root cause is the gateway is None when no gateway
option specifed or no-gateway specified, so add a flag
to mark the gateway is spcified or not, when gateway
is spcified and is None, set gateway is None, when
gateway is not spcified and is None, created a gateway
ip for the subnet.

Closes-Bug: 1716721
Change-Id: Ie91e9b102064dab7e4efa44b9aafa1d0a4bf739a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/507350/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/ipam/requests.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/ipam/subnet_alloc.py']",3,45be50c839805550e794dbb5b1065a2dc0def80a,bug/1716721, if not gateway_ip and not request.gateway_specified:, if not gateway_ip:,13,3
openstack%2Fneutron~master~I9a579f4e3e566f2caffa54b02673c85bddcfccda,openstack/neutron,master,I9a579f4e3e566f2caffa54b02673c85bddcfccda,[WIP] Add os-vif network information to SimpleAgentMechanismDriverBase,ABANDONED,2017-09-26 16:13:57.000000000,2017-11-04 22:05:44.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-26 16:13:57.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aff167fe4e1bbf638cb1cbe934b1b3c6fe2c92c', 'message': '[WIP] Add os-vif network information to SimpleAgentMechanismDriverBase\n\nAdded method to create os-vif network object, to be added to VIF\ninformation object.\n\nThis is the first patch of a series to migrate to os-vif information\nmodel.\n\nblueprint os-vif-migration\n\nChange-Id: I9a579f4e3e566f2caffa54b02673c85bddcfccda\n'}]",0,507619,2aff167fe4e1bbf638cb1cbe934b1b3c6fe2c92c,4,3,1,16688,,,0,"[WIP] Add os-vif network information to SimpleAgentMechanismDriverBase

Added method to create os-vif network object, to be added to VIF
information object.

This is the first patch of a series to migrate to os-vif information
model.

blueprint os-vif-migration

Change-Id: I9a579f4e3e566f2caffa54b02673c85bddcfccda
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/507619/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/mech_agent.py'],1,2aff167fe4e1bbf638cb1cbe934b1b3c6fe2c92c,bp/os-vif-migration,"from os_vif import objects as osv_objects osv_objects.register_all() # RAH: poner aqui el trozo de codigo. def _neutron_to_osvif_subnets(self, segments): return None def _neutron_to_osvif_network(self, context, segment, agent): """"""Convert Neutron network object into os_vif object. :param context: PortContext instance describing the port :param segment: segment dictionary describing segment to bind :param agent: agents_db entry describing agent to bind :returns: os_vif.objects.network.Network instance. """""" network = context.current.network # NOTE(ralonsoh): only used in Linux Bridge; interface to create the # physical bridge on (`agent.interface_mappings` config parameter). bridge_interface = self.get_mappings(agent)[network['name']] # NOTE(ralonsoh): only used in OVS; name of the physical network # bridge (`agent.bridge_mappings` config parameter). bridge = bridge_interface osvif_net = osv_objects.network.Network( id=network['id'], bridge_interface=bridge_interface, subnets=self._neutron_to_osvif_subnets(network['segments'])) osvif_net.bridge = bridge osvif_net.label = network['name'] osvif_net.mtu = network['mtu'] # NOTE(ralonsoh): from [1], how to generate ""should_create_bridge"" # [1]https://github.com/openstack/nova/blob/16.0.1/nova/network/neutronv2/api.py#L2146 if context.vif_type == portbindings.VIF_TYPE_BRIDGE: osvif_net.should_provide_bridge = True if segment['network_type'] == portbindings.VIF_DETAILS_VLAN: osvif_net.should_provide_vlan = True osvif_net.vlan = segment['segmentation_id'] return osvif_net",,49,0
openstack%2Fneutron~master~I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58,openstack/neutron,master,I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58,"Moving network objects creation into ""resource_setup"" function.",ABANDONED,2017-02-14 13:04:38.000000000,2017-11-04 22:05:35.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 4727}, {'_account_id': 6579}, {'_account_id': 7715}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 14885}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18746}, {'_account_id': 20330}, {'_account_id': 21302}]","[{'number': 1, 'created': '2017-02-14 13:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d0ee443cea7df15a6958342c843aba790b9ed2e', 'message': 'Moving ""setup_network_and_server"" actions to ""resource_setup"" Function\n\nWe are creating needed resources in the ""resource_setup"" function,\nin stead of in ""setup_network_and_server"".\nThe tests are updated to create only test relevant objects.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 2, 'created': '2017-02-14 13:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/152679ab1a4ba94a391db59d75938e7cb2ca028e', 'message': 'Moving ""setup_network_and_server"" actions to ""resource_setup"" Function\n\nWe are creating needed resources in the ""resource_setup"" function,\nin stead of in ""setup_network_and_server"".\nThe tests are updated to create only test relevant objects.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 3, 'created': '2017-02-14 14:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc580fd7a1831b0854090cb6521d96601c86ea58', 'message': 'Moving ""setup_network_and_server"" actions to ""resource_setup"" Function\n\nWe are creating needed resources in the ""resource_setup"" function,\nin stead of in ""setup_network_and_server"".\nThe tests are updated to create only test relevant objects.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 4, 'created': '2017-02-28 17:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47c776efbbf7ed21db3a59c9a6a3d9acf1d5f0a6', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 5, 'created': '2017-03-02 15:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d18902de9f0f555289b0ca48559a0e17add6fe3', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 6, 'created': '2017-03-06 13:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/815d2555872b493a792bf0c3664836a617306e2c', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 7, 'created': '2017-03-07 07:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0dd4c57acaa1889d6dd457dc2e4745cf330ee804', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 8, 'created': '2017-03-07 07:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/869afd4dcd16ea20242e8e1c4055bfbfb0dafdcd', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 9, 'created': '2017-03-07 10:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7443fa70497afce2681fefc76aadb7c9669a0cb0', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 10, 'created': '2017-03-08 06:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e18b4447245bec3160a07f111d75bee36c3d36ba', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 11, 'created': '2017-03-08 15:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4e89bfacbdb67058e2a5c095ab144f204eeeb52', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario accroding to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 12, 'created': '2017-03-13 10:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c52b89efcf211460509be7a66d7e0a79bad6587f', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario according to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 13, 'created': '2017-03-13 11:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71fbfd2e95cbde7af83f67d2acdfaddc4962e1d2', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario according to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 14, 'created': '2017-03-13 13:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/050ee896df84c5ab513ade5cabedfb1870655f47', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario according to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}, {'number': 15, 'created': '2017-03-30 12:40:11.000000000', 'files': ['neutron/tests/tempest/scenario/test_qos.py', 'neutron/tests/tempest/scenario/test_basic.py', 'neutron/tests/tempest/scenario/test_dvr.py', 'neutron/tests/tempest/scenario/test_trunk.py', 'neutron/tests/tempest/scenario/base.py', 'neutron/tests/tempest/scenario/test_floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7524d2fb10fc973fb9ae2c2f5c4fd9952982320', 'message': 'Moving network objects creation into ""resource_setup"" function.\n\n1.Expanding ""resource_setup"" function in base.py to create the\nresources according to the given parameters instead of calling\nit in every test.\n2.Removing ""setup_network_and_server"" from base.py, as it is not\nneeded anymore.\n3.Changing all the tests in scenario according to those changes.\n4.Adding ""create_server_with_fip"" to base and using it in\ntest_basic, test_dvr, test_qos.\n\nChange-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58\n'}]",35,433637,a7524d2fb10fc973fb9ae2c2f5c4fd9952982320,113,22,15,18746,,,0,"Moving network objects creation into ""resource_setup"" function.

1.Expanding ""resource_setup"" function in base.py to create the
resources according to the given parameters instead of calling
it in every test.
2.Removing ""setup_network_and_server"" from base.py, as it is not
needed anymore.
3.Changing all the tests in scenario according to those changes.
4.Adding ""create_server_with_fip"" to base and using it in
test_basic, test_dvr, test_qos.

Change-Id: I03cc98b15f8f1ec3a5fa88fd1a785b7a9e24cb58
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/433637/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/scenario/test_basic.py', 'neutron/tests/tempest/scenario/base.py']",2,7d0ee443cea7df15a6958342c843aba790b9ed2e,Resource_setup_change," def resource_setup(cls,router=None, **kwargs): cls.network = cls.create_network() LOG.debug(""Created network %s"", cls.network['name']) cls.subnet = cls.create_subnet(cls.network) LOG.debug(""Created subnet %s"", cls.subnet['id']) secgroup = cls.manager.network_client.create_security_group( name=data_utils.rand_name('secgroup-')) LOG.debug(""Created security group %s"", secgroup['security_group']['name']) cls.security_groups.append(secgroup['security_group']) if not router: router = cls.create_router_by_client(**kwargs) cls.create_router_interface(router['id'], cls.subnet['id']) cls.keypair = cls.create_keypair() cls.create_loginable_secgroup_rule( secgroup_id=secgroup['security_group']['id']) cls.server = cls.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=cls.keypair['name'], networks=[{'uuid': cls.network['id']}], security_groups=[{'name': secgroup['security_group']['name']}]) waiters.wait_for_server_status(cls.manager.servers_client, cls.server['server']['id'], constants.SERVER_STATUS_ACTIVE) port = cls.client.list_ports(network_id=cls.network['id'], device_id=cls.server[ 'server']['id'])['ports'][0] cls.fip = cls.create_and_associate_floatingip(port['id'])"," def resource_setup(cls): @classmethod def setup_network_and_server(cls, router=None, **kwargs): """"""Create network resources and a server. Creating a network, subnet, router, keypair, security group and a server. """""" cls.network = cls.create_network() LOG.debug(""Created network %s"", cls.network['name']) cls.subnet = cls.create_subnet(cls.network) LOG.debug(""Created subnet %s"", cls.subnet['id']) secgroup = cls.manager.network_client.create_security_group( name=data_utils.rand_name('secgroup-')) LOG.debug(""Created security group %s"", secgroup['security_group']['name']) cls.security_groups.append(secgroup['security_group']) if not router: router = cls.create_router_by_client(**kwargs) cls.create_router_interface(router['id'], cls.subnet['id']) cls.keypair = cls.create_keypair() cls.create_loginable_secgroup_rule( secgroup_id=secgroup['security_group']['id']) cls.server = cls.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=cls.keypair['name'], networks=[{'uuid': cls.network['id']}], security_groups=[{'name': secgroup['security_group']['name']}]) waiters.wait_for_server_status(cls.manager.servers_client, cls.server['server']['id'], constants.SERVER_STATUS_ACTIVE) port = cls.client.list_ports(network_id=cls.network['id'], device_id=cls.server[ 'server']['id'])['ports'][0] cls.fip = cls.create_and_associate_floatingip(port['id'])",30,39
openstack%2Fcharm-designate~master~Ic1b35e33ba9b6f015b199c35ccff64d626c29582,openstack/charm-designate,master,Ic1b35e33ba9b6f015b199c35ccff64d626c29582,Add memcache as the coordinator backend,MERGED,2017-11-02 13:52:42.000000000,2017-11-04 20:13:01.000000000,2017-11-04 20:13:01.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 13:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/8a1518776198559c4aa4a78cb610c5f6c0883026', 'message': 'Add memcache as the coordinator backend\n\nBoth the zone and pool manager daemons require a coordination\nbackend to be configured when there is more than one worker. There\nis almost always more than one worker as the charm user a multiplier\nbased on the number of cpus to configure the number of workes.\n\nThis change adds the coordinator-memcached relation and makes is\ncompulsory for designate deployments.\n\nChange-Id: Ic1b35e33ba9b6f015b199c35ccff64d626c29582\n'}, {'number': 2, 'created': '2017-11-02 14:10:36.000000000', 'files': ['src/README.md', 'unit_tests/test_designate_handlers.py', 'src/lib/charm/openstack/designate.py', 'src/tests/basic_deployment.py', 'src/reactive/designate_handlers.py', 'src/metadata.yaml', 'src/templates/mitaka/designate.conf', 'tox.ini', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/9bee68d19d8e0d0f8be31dbacad50992b7d0d969', 'message': 'Add memcache as the coordinator backend\n\nBoth the zone and pool manager daemons require a coordination\nbackend to be configured when there is more than one worker. There\nis almost always more than one worker as the charm user a multiplier\nbased on the number of cpus to configure the number of workes.\n\nThis change adds the coordinator-memcached relation and makes is\ncompulsory for designate deployments.\n\nChange-Id: Ic1b35e33ba9b6f015b199c35ccff64d626c29582\n'}]",0,517313,9bee68d19d8e0d0f8be31dbacad50992b7d0d969,12,4,2,12549,,,0,"Add memcache as the coordinator backend

Both the zone and pool manager daemons require a coordination
backend to be configured when there is more than one worker. There
is almost always more than one worker as the charm user a multiplier
based on the number of cpus to configure the number of workes.

This change adds the coordinator-memcached relation and makes is
compulsory for designate deployments.

Change-Id: Ic1b35e33ba9b6f015b199c35ccff64d626c29582
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/13/517313/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/lib/charm/openstack/designate.py', 'src/tests/basic_deployment.py', 'src/reactive/designate_handlers.py', 'src/metadata.yaml', 'src/templates/mitaka/designate.conf', 'tox.ini', 'src/layer.yaml']",8,8a1518776198559c4aa4a78cb610c5f6c0883026,,"includes: ['layer:openstack-api', 'interface:bind-rndc', 'interface:hacluster', 'interface:openstack-ha', 'interface:memcache']","includes: ['layer:openstack-api', 'interface:bind-rndc', 'interface:hacluster', 'interface:openstack-ha']",17,6
openstack%2Fneutron~master~Iae2def10f480ab528b5867c5c0c9c0925ec275ec,openstack/neutron,master,Iae2def10f480ab528b5867c5c0c9c0925ec275ec,OVS Agent - retry connection to ovsdb,ABANDONED,2016-10-18 16:30:41.000000000,2017-11-04 20:04:44.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 6788}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 11159}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 19384}, {'_account_id': 20330}, {'_account_id': 23304}]","[{'number': 1, 'created': '2016-10-18 16:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/594d6c8b4e05a2ed10fa08371bea9310c2943110', 'message': 'prevents noa from exiting if ovsdb socket not yet created\n\nThis PS changes behavior of neutron-openvswitch-agent with regards\nto the check for openvswitch db socket. Original behavior was to\nexit which was causing issues in environment like kubernetes when\nthere is no way to ensure that ovsdb pod, which creates ovsdb socket\nget started before neutron-openvswitch-agent. New behavior introduced\nby this PS is to wait and check with 5 seconds interval for the\nsocket availablility.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nClosesBug: #1634123\n'}, {'number': 2, 'created': '2016-10-18 17:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b53f476965bb9691800e385c87225401c8ed0c1c', 'message': 'prevents noa from exiting if ovsdb socket not yet created\n\nThis PS changes behavior of neutron-openvswitch-agent with regards\nto the check for openvswitch db socket. Original behavior was to\nexit which was causing issues in environment like kubernetes when\nthere is no way to ensure that ovsdb pod, which creates ovsdb socket\nget started before neutron-openvswitch-agent. New behavior introduced\nby this PS is to wait and check with 5 seconds interval for the\nsocket availablility.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nClosesBug: #1634123\n'}, {'number': 3, 'created': '2016-10-18 23:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26f99a6f5b2ff4cdd42bf82c0ff9b93db824c3a1', 'message': 'prevents noa from exiting if ovsdb socket not yet created\n\nThis PS changes behavior of neutron-openvswitch-agent with regards\nto the check for openvswitch db socket. Original behavior was to\nexit which was causing issues in environment like kubernetes when\nthere is no way to ensure that ovsdb pod, which creates ovsdb socket\nget started before neutron-openvswitch-agent. New behavior introduced\nby this PS is to wait and check with 5 seconds interval for the\nsocket availablility.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nClosesBug: #1634123\n'}, {'number': 4, 'created': '2016-10-18 23:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b994f2956064520d1bec5697a709806d3f7bf38', 'message': 'prevents noa from exiting if ovsdb socket not yet created\n\nThis PS changes behavior of neutron-openvswitch-agent with regards\nto the check for openvswitch db socket. Original behavior was to\nexit which was causing issues in environment like kubernetes when\nthere is no way to ensure that ovsdb pod, which creates ovsdb socket\nget started before neutron-openvswitch-agent. New behavior introduced\nby this PS is to wait and check with 5 seconds interval for the\nsocket availablility.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nCloses-Bug: #1634123\n'}, {'number': 5, 'created': '2016-10-19 02:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4093924f6907696574baf3ecafb54f2bc218fffe', 'message': 'prevents noa from exiting if ovsdb socket not yet created\n\nThis PS changes behavior of neutron-openvswitch-agent with regards\nto the check for openvswitch db socket. Original behavior was to\nexit which was causing issues in environment like kubernetes when\nthere is no way to ensure that ovsdb pod, which creates ovsdb socket\nget started before neutron-openvswitch-agent. New behavior introduced\nby this PS is to wait and check with 5 seconds interval for the\nsocket availablility.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nCloses-Bug: #1634123\n'}, {'number': 6, 'created': '2016-10-19 12:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f157ecd44e955011062bb6a325f832b338bdb8b', 'message': 'prevents noa from exiting if ovsdb socket not yet created\n\nThis PS changes behavior of neutron-openvswitch-agent with regards\nto the check for openvswitch db socket. Original behavior was to\nexit which was causing issues in environment like kubernetes when\nthere is no way to ensure that ovsdb pod, which creates ovsdb socket\nget started before neutron-openvswitch-agent. New behavior introduced\nby this PS is to wait and check with 5 seconds interval for the\nsocket availablility.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nCloses-Bug: #1634123\n'}, {'number': 7, 'created': '2016-10-19 22:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff6b932437dee8563ef61c89117488cde4c7e537', 'message': 'noa retry connection to ovsdb\n\nIn environments like kubernetes, there is no way to ensure that\novsdb pod, which creates ovsdb socket, starts before\nneutron-openvswitch-agent. With this change, noa will retry to connect\nto ovsdb with 5 seconds interval until it succeeds.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nCloses-Bug: #1634123\n'}, {'number': 8, 'created': '2016-10-19 22:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1af5097a8e11a3fd581f2c7ff00c7fbf4389030c', 'message': 'noa retry connection to ovsdb\n\nIn environments like kubernetes, there is no way to ensure that\novsdb pod, which creates ovsdb socket, starts before\nneutron-openvswitch-agent. With this change, noa will retry to connect\nto ovsdb with 5 seconds interval until it succeeds.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nCloses-Bug: #1634123\n'}, {'number': 9, 'created': '2016-10-20 03:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7bf1c0125c29b58ff7df1cfaa9ef3c1f7a0ce56', 'message': 'noa retry connection to ovsdb\n\nIn environments like kubernetes, there is no way to ensure that\novsdb pod, which creates ovsdb socket, starts before\nneutron-openvswitch-agent. With this change, noa will retry to connect\nto ovsdb with 5 seconds interval until it succeeds.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nCloses-Bug: #1634123\n'}, {'number': 10, 'created': '2017-04-14 03:44:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f437b92c592c30c09388854e113335b7d981836', 'message': 'OVS Agent - retry connection to ovsdb\n\nIn environments like kubernetes, there is no way to ensure that\novsdb pod, which creates ovsdb socket, starts before\nneutron-openvswitch-agent. With this change, the OVS agent will retry\nto connect to ovsdb with exponential backoff up to 1 minute intervals\nuntil it succeeds.\n\nChange-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec\nCloses-Bug: #1634123\n'}]",23,388105,2f437b92c592c30c09388854e113335b7d981836,102,21,10,19384,,,0,"OVS Agent - retry connection to ovsdb

In environments like kubernetes, there is no way to ensure that
ovsdb pod, which creates ovsdb socket, starts before
neutron-openvswitch-agent. With this change, the OVS agent will retry
to connect to ovsdb with exponential backoff up to 1 minute intervals
until it succeeds.

Change-Id: Iae2def10f480ab528b5867c5c0c9c0925ec275ec
Closes-Bug: #1634123
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/388105/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,594d6c8b4e05a2ed10fa08371bea9310c2943110,bug/1634123,"def wait_ovsdb_socket(bridge_classes): while True: try: agent = OVSNeutronAgent(bridge_classes, cfg.CONF) capabilities.notify_init_event(n_const.AGENT_TYPE_OVS, agent) except (RuntimeError, ValueError) as e: LOG.warning(_LW(""%s Retrying in 5 seconds.""), e) time.sleep(5): else: LOG.info(_LI(""Connection to OVS database has been established"")) return wait_ovsdb_socket(bridge_classes)"," try: agent = OVSNeutronAgent(bridge_classes, cfg.CONF) capabilities.notify_init_event(n_const.AGENT_TYPE_OVS, agent) except (RuntimeError, ValueError) as e: LOG.error(_LE(""%s Agent terminated!""), e) sys.exit(1)",14,7
openstack%2Fneutron~master~I4af66e29fe73bf7cc0cca69d4242c065b4dd73a0,openstack/neutron,master,I4af66e29fe73bf7cc0cca69d4242c065b4dd73a0,Get metering traffic counter for DVR routers,ABANDONED,2017-07-24 05:56:30.000000000,2017-11-04 20:01:51.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-07-24 05:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94535bd136c846f4e3fd247f4ce404f12cae614d', 'message': 'Get metering traffic counter for DVR routers\n\nAlso return correct external device for IptablesManager of DVR\nrouters--SNAT namespace get qg and qrouter namespace get rfp.\n\nChange-Id: I4af66e29fe73bf7cc0cca69d4242c065b4dd73a0\n'}, {'number': 2, 'created': '2017-07-24 09:46:01.000000000', 'files': ['neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e1f338297dba72a9a6b9e2f07f8d21dd7d9425a', 'message': 'Get metering traffic counter for DVR routers\n\nAlso return correct external device for IptablesManager of DVR\nrouters--SNAT namespace get qg and qrouter namespace get rfp.\n\nChange-Id: I4af66e29fe73bf7cc0cca69d4242c065b4dd73a0\n'}]",1,486493,5e1f338297dba72a9a6b9e2f07f8d21dd7d9425a,18,9,2,19312,,,0,"Get metering traffic counter for DVR routers

Also return correct external device for IptablesManager of DVR
routers--SNAT namespace get qg and qrouter namespace get rfp.

Change-Id: I4af66e29fe73bf7cc0cca69d4242c065b4dd73a0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/486493/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py']",2,94535bd136c846f4e3fd247f4ce404f12cae614d,dvr-metering," def test_get_traffic_counters_with_dvr_routers(self): for r in TEST_DVR_ROUTER: rm = iptables_driver.RouterWithMetering(self.metering.conf, r) rm.metering_labels = {r['_metering_labels'][0]['id']: 'fake'} self.metering.routers[r['id']] = rm mocked_method = self.iptables_cls.return_value.get_traffic_counters mocked_method.side_effect = [{'pkts': 1, 'bytes': 64}, {'pkts': 2, 'bytes': 128}] counters = self.metering.get_traffic_counters(None, TEST_ROUTERS) expected_label_id = TEST_ROUTERS[0]['_metering_labels'][0]['id'] self.assertIn(expected_label_id, counters) self.assertEqual(3, counters[expected_label_id]['pkts']) self.assertEqual(192, counters[expected_label_id]['bytes'])",,50,15
openstack%2Fnetworking-bgpvpn~stable%2Fliberty~Icfb152a1484c409715f116922ea09aad6361fda3,openstack/networking-bgpvpn,stable/liberty,Icfb152a1484c409715f116922ea09aad6361fda3,Update .gitreview for stable/liberty,ABANDONED,2017-10-04 20:11:13.000000000,2017-11-04 20:00:18.000000000,,"[{'_account_id': 3}, {'_account_id': 748}]","[{'number': 1, 'created': '2017-10-04 20:11:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/edd65c4cea25d01f6d58b9c24d932aaca75e3989', 'message': 'Update .gitreview for stable/liberty\n\nChange-Id: Icfb152a1484c409715f116922ea09aad6361fda3\n'}]",0,509623,edd65c4cea25d01f6d58b9c24d932aaca75e3989,3,2,1,22816,,,0,"Update .gitreview for stable/liberty

Change-Id: Icfb152a1484c409715f116922ea09aad6361fda3
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/23/509623/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,edd65c4cea25d01f6d58b9c24d932aaca75e3989,create-liberty,defaultbranch=stable/liberty,,1,0
openstack%2Fnetworking-bgpvpn~stable%2Fmitaka~I536d66fdf2c9c1635dd81dedd101c8d2baaa8759,openstack/networking-bgpvpn,stable/mitaka,I536d66fdf2c9c1635dd81dedd101c8d2baaa8759,Update .gitreview for stable/mitaka,ABANDONED,2017-10-04 20:11:18.000000000,2017-11-04 19:59:35.000000000,,"[{'_account_id': 3}, {'_account_id': 748}]","[{'number': 1, 'created': '2017-10-04 20:11:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8f67923fb42c336f34891e8ff719df342aec1061', 'message': 'Update .gitreview for stable/mitaka\n\nChange-Id: I536d66fdf2c9c1635dd81dedd101c8d2baaa8759\n'}]",0,509624,8f67923fb42c336f34891e8ff719df342aec1061,3,2,1,22816,,,0,"Update .gitreview for stable/mitaka

Change-Id: I536d66fdf2c9c1635dd81dedd101c8d2baaa8759
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/24/509624/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8f67923fb42c336f34891e8ff719df342aec1061,create-mitaka,defaultbranch=stable/mitaka,,1,0
openstack%2Fneutron~master~Ia4be99fb4ce989f2d895bf036bc21cff18e07fb9,openstack/neutron,master,Ia4be99fb4ce989f2d895bf036bc21cff18e07fb9,Mark tests which uses shared network,ABANDONED,2017-02-23 14:30:59.000000000,2017-11-04 19:56:17.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-02-23 14:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a94efc0c7f17cf64ec41e6a0bb43fa2ecb902fc8', 'message': ""Mark tests which uses shared network\n\nAlso, avoid using shared network where i don't see\nany obvious reason to use it.\n\nPartial-Bug: #1662387\nChange-Id: Ia4be99fb4ce989f2d895bf036bc21cff18e07fb9\n""}, {'number': 2, 'created': '2017-02-23 14:33:10.000000000', 'files': ['neutron/tests/tempest/api/test_trunk.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/admin/test_extension_driver_port_security_admin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8da40a7adf2f53c33fb003c4d69eb8c0dd7a2f77', 'message': ""Mark tests which uses shared network\n\nAlso, avoid using shared network where i don't see\nany obvious reason to use it.\n\nPartial-Bug: #1662387\nChange-Id: Ia4be99fb4ce989f2d895bf036bc21cff18e07fb9\n""}]",3,437400,8da40a7adf2f53c33fb003c4d69eb8c0dd7a2f77,24,13,2,6854,,,0,"Mark tests which uses shared network

Also, avoid using shared network where i don't see
any obvious reason to use it.

Partial-Bug: #1662387
Change-Id: Ia4be99fb4ce989f2d895bf036bc21cff18e07fb9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/437400/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_trunk.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/admin/test_extension_driver_port_security_admin.py']",4,a94efc0c7f17cf64ec41e6a0bb43fa2ecb902fc8,bug/1662387," @test.attr(type=['negative', 'use-shared-network'])", @test.attr(type='negative'),37,9
openstack%2Fneutron~master~I3af78fcd21e50324fb994daace173df0e918d56a,openstack/neutron,master,I3af78fcd21e50324fb994daace173df0e918d56a,DO NOT MERGE: test shared network,ABANDONED,2017-04-28 00:03:38.000000000,2017-11-04 19:55:38.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-28 00:03:38.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05f211e1569f0027126bd895d5bba1e90a33f2c2', 'message': 'DO NOT MERGE: test shared network\n\njust to see how many tests can fail with a shared network\n\nRelated-Bug: #1662387\nChange-Id: I3af78fcd21e50324fb994daace173df0e918d56a\n'}]",0,460785,05f211e1569f0027126bd895d5bba1e90a33f2c2,10,9,1,6854,,,0,"DO NOT MERGE: test shared network

just to see how many tests can fail with a shared network

Related-Bug: #1662387
Change-Id: I3af78fcd21e50324fb994daace173df0e918d56a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/460785/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,05f211e1569f0027126bd895d5bba1e90a33f2c2,bug/1662387, test-config) openstack network create --share dummy-shared-network openstack subnet create --network dummy-shared-network --subnet-range 1.1.1.0/24 dummy-subnet ;;,,4,0
openstack%2Fneutron~master~I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216,openstack/neutron,master,I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216,Add disable-snat fields to auto allocated topology,ABANDONED,2017-04-18 02:41:43.000000000,2017-11-04 19:55:00.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 21439}, {'_account_id': 21950}]","[{'number': 1, 'created': '2017-04-18 02:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c14faaffe1004d19aed1d33941a9c54a29713c36', 'message': 'Add disable-snat fields to auto allocated topology\n\nCloses-Bug: #1664534\n\nChange-Id: I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216\nSigned-off-by: cheng <tangch318@gmail.com>\n'}, {'number': 2, 'created': '2017-04-18 05:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/336496074842c5e328655a232a022dba9b8bba2b', 'message': 'Add disable-snat fields to auto allocated topology\n\nCloses-Bug: #1664534\n\nChange-Id: I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216\nSigned-off-by: cheng <tangch318@gmail.com>\n'}, {'number': 3, 'created': '2017-04-18 09:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b92cbb0e50c4d902c529e380b94246655a3d1502', 'message': 'Add disable-snat fields to auto allocated topology\n\nCloses-Bug: #1664534\n\nChange-Id: I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216\nSigned-off-by: cheng <tangch318@gmail.com>\n'}, {'number': 4, 'created': '2017-04-20 08:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de9983f8fc497f132376da733d3dc47f50abd6c6', 'message': 'Add disable-snat fields to auto allocated topology\n\nCloses-Bug: #1664534\n\nChange-Id: I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216\nSigned-off-by: cheng <tangch318@gmail.com>\n'}, {'number': 5, 'created': '2017-04-21 08:54:04.000000000', 'files': ['neutron/services/auto_allocate/db.py', 'neutron/tests/tempest/api/test_auto_allocated_topology.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff7e42f3c81955512a47c76b1dad1fd6c58d5e39', 'message': 'Add disable-snat fields to auto allocated topology\n\nCloses-Bug: #1664534\n\nChange-Id: I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216\nSigned-off-by: cheng <tangch318@gmail.com>\n'}]",1,457433,ff7e42f3c81955512a47c76b1dad1fd6c58d5e39,41,10,5,21950,,,0,"Add disable-snat fields to auto allocated topology

Closes-Bug: #1664534

Change-Id: I41b0d7bc6f3a47f47ed5836a324bfc0ae44a8216
Signed-off-by: cheng <tangch318@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/457433/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/auto_allocate/db.py', 'neutron/tests/tempest/api/test_auto_allocated_topology.py']",2,c14faaffe1004d19aed1d33941a9c54a29713c36,bug/1664534," @decorators.idempotent_id('2824e6d0-4235-47d4-8c0f-3cba0d1a0b81') def test_get_allocated_net_topology_with_disable_snat(self): resources_before = self._count_topology_resources() self.assertEqual((0, 0, 0), resources_before) body = self.client.get_auto_allocated_topology(fields=""disable-snat"") topology = body['auto_allocated_topology'] self.assertIsNotNone(topology) self._add_topology_cleanup(self.client) network_id1 = topology['id'] self.assertIsNotNone(network_id1) network = self.client.show_network(topology['id'])['network'] self.assertTrue(network['admin_state_up']) resources_after1 = self._count_topology_resources() # One network, two subnets (v4 and v6) and one router self.assertEqual((1, self.num_subnetpools, 1), resources_after1) # Check route external-gateway is null up = {'admin_state_up': True} router = self.client.list_routers(**up)['routers'][0] self.assertEqual('null', router['external_gateway_info']) body = self.client.get_auto_allocated_topology() topology = body['auto_allocated_topology'] network_id2 = topology['id'] resources_after2 = self._count_topology_resources() # After the initial GET, the API should be idempotent self.assertEqual(network_id1, network_id2) self.assertEqual(resources_after1, resources_after2) ",,42,2
openstack%2Fnetworking-odl~master~I70418e37398cfc3b942c53eedb786f364c0eea5e,openstack/networking-odl,master,I70418e37398cfc3b942c53eedb786f364c0eea5e,journal: report stats on pending time,ABANDONED,2016-12-07 01:16:33.000000000,2017-11-04 19:52:17.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 7921}, {'_account_id': 13912}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-12-07 01:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a378f82b96d913518f6ebd022da4a49db2169320', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\n'}, {'number': 2, 'created': '2016-12-07 03:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a679afecc243a1ac573fd6a0e09d8946bef8ba2e', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\n'}, {'number': 3, 'created': '2016-12-07 04:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f893b9512e87d88634ecc89f35b290335534d7b8', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\n'}, {'number': 4, 'created': '2016-12-07 20:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/862ad1475b887a061a753efed2972dc1f5507a0d', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\n'}, {'number': 5, 'created': '2016-12-07 20:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/28d455de267783dfe34604e2d966136523fa21fb', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\n'}, {'number': 6, 'created': '2016-12-07 20:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d1dc8d58e7d1532440c3106c6f997706781312ab', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\n'}, {'number': 7, 'created': '2017-02-28 09:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2bbcac033187f4b4c271d84316d5c3c9f27d3309', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\nCo-Authored-By: Rajiv Kumar <rajiv.kumar@nectechnologies.in>\n'}, {'number': 8, 'created': '2017-03-01 17:05:00.000000000', 'files': ['networking_odl/journal/journal.py', 'networking_odl/cli/n-odl.py', 'networking_odl/tests/unit/journal/test_stats.py', 'networking_odl/journal/stats.py', 'releasenotes/notes/journal-stats-666c646bdd56431d.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4ba1d4cd07a67c60002510b1cbe1566383336d0d', 'message': 'journal: report stats on pending time\n\nFor debug on journal, time from entry creation to complete\nis one important indicator to show if journal entries are promptly\nprocessed or not. Report how many entries are pending periodically.\nAlso log entry when it takes too long to complete for debug.\n\nChange-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e\nCo-Authored-By: Rajiv Kumar <rajiv.kumar@nectechnologies.in>\n'}]",11,407784,4ba1d4cd07a67c60002510b1cbe1566383336d0d,29,7,8,333,,,0,"journal: report stats on pending time

For debug on journal, time from entry creation to complete
is one important indicator to show if journal entries are promptly
processed or not. Report how many entries are pending periodically.
Also log entry when it takes too long to complete for debug.

Change-Id: I70418e37398cfc3b942c53eedb786f364c0eea5e
Co-Authored-By: Rajiv Kumar <rajiv.kumar@nectechnologies.in>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/84/407784/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/journal/journal.py', 'networking_odl/journal/stats.py', 'releasenotes/notes/journal-stats-666c646bdd56431d.yaml', 'networking_odl/ml2/mech_driver_v2.py']",4,a378f82b96d913518f6ebd022da4a49db2169320,v2-driver-stats,from networking_odl.journal import stats journal_stats = stats.OpendaylightJournalStats() self._maintenance_thread.register_operation(journal_stats.report),,107,0
openstack%2Fneutron~master~I55922b5213009d61caa2174a87e6500cb54e0560,openstack/neutron,master,I55922b5213009d61caa2174a87e6500cb54e0560,Add support for IPv4 LLA,ABANDONED,2017-05-05 11:50:25.000000000,2017-11-04 19:51:43.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-05 11:50:25.000000000', 'files': ['neutron/common/constants.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17f9a2c9e7d7d00cb58ac4a46d8899a1d9dc6335', 'message': 'Add support for IPv4 LLA\n\nThere are certain workloads that require the ability\nto define IPv4 Link Local addresses dynamically,\nas defined in RFC3927.\n\nThis adds the support for IPv4 link-local addresses.\n\nChange-Id: I55922b5213009d61caa2174a87e6500cb54e0560\nCloses-Bug: #1649581\n'}]",0,462920,17f9a2c9e7d7d00cb58ac4a46d8899a1d9dc6335,12,11,1,18640,,,0,"Add support for IPv4 LLA

There are certain workloads that require the ability
to define IPv4 Link Local addresses dynamically,
as defined in RFC3927.

This adds the support for IPv4 link-local addresses.

Change-Id: I55922b5213009d61caa2174a87e6500cb54e0560
Closes-Bug: #1649581
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/462920/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,17f9a2c9e7d7d00cb58ac4a46d8899a1d9dc6335,bug/1649581," self.assertIn(('00:00:00:00:00:01', '192.168.0.1'), self.port.allowed_pairs_v4) self.assertIn(('00:00:00:00:00:00', '169.254.0.0/16'), self.port.allowed_pairs_v4)"," self.assertEqual({('00:00:00:00:00:01', '192.168.0.1')}, self.port.allowed_pairs_v4)",8,2
openstack%2Fnetworking-midonet~master~I1314f946a0a3aabedfa34e51e4b6591fd6841b9c,openstack/networking-midonet,master,I1314f946a0a3aabedfa34e51e4b6591fd6841b9c,DO NOT MERGE: try to reproduce a race with slow delete_port,ABANDONED,2017-06-07 06:39:20.000000000,2017-11-04 19:44:27.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}]","[{'number': 1, 'created': '2017-06-07 06:39:20.000000000', 'files': ['midonet/neutron/client/api.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/377d0c3fac4c12d9ffdee214c85c89a6975c1525', 'message': 'DO NOT MERGE: try to reproduce a race with slow delete_port\n\nChange-Id: I1314f946a0a3aabedfa34e51e4b6591fd6841b9c\n'}]",0,471599,377d0c3fac4c12d9ffdee214c85c89a6975c1525,6,3,1,6854,,,0,"DO NOT MERGE: try to reproduce a race with slow delete_port

Change-Id: I1314f946a0a3aabedfa34e51e4b6591fd6841b9c
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/99/471599/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/client/api.py'],1,377d0c3fac4c12d9ffdee214c85c89a6975c1525,test-race, import time time.sleep(5),,2,0
openstack%2Fnetworking-midonet~master~Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9,openstack/networking-midonet,master,Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9,DNM/R: tracking for fwaas patch,ABANDONED,2017-03-09 05:25:26.000000000,2017-11-04 19:43:42.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 13702}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-03-09 05:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/fe02707ef7f428fe271ae5eddc8f5c99ecee8b54', 'message': 'DO NOT MERGE/REVIEW: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: I68cbf7403a17ddba49cc5943fb110c1d772e8834\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 2, 'created': '2017-06-07 23:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/19eb04d24393a92ac534bbcabcedde67db123521', 'message': 'DO NOT MERGE/REVIEW: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: I54ead7d5bff3a0b353fd4407d3c060bb6a7b8700\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 3, 'created': '2017-06-13 05:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/acd8e227924e13a70b3b86a6ed16b385e1b2ce84', 'message': 'DO NOT MERGE/REVIEW: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: Ie791509ffc86dbb0d10238e040e5539503635a60\nDepends-On: I54ead7d5bff3a0b353fd4407d3c060bb6a7b8700\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 4, 'created': '2017-06-21 08:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/08bea391587a718a1fc016a85aca2cec3e58f38b', 'message': 'DNM/R: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: Ie791509ffc86dbb0d10238e040e5539503635a60\nDepends-On: I54ead7d5bff3a0b353fd4407d3c060bb6a7b8700\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 5, 'created': '2017-06-21 08:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5ff5ae41523656ebf8e9d144bbf3782589c7d45b', 'message': 'DNM/R: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: Ie791509ffc86dbb0d10238e040e5539503635a60\nDepends-On: I54ead7d5bff3a0b353fd4407d3c060bb6a7b8700\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 6, 'created': '2017-06-26 07:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c06d4d9c724bc443e3deab4009a795c7c1311774', 'message': 'DNM/R: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: Ie791509ffc86dbb0d10238e040e5539503635a60\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 7, 'created': '2017-06-26 09:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/60ff7ef5c95ca882fd39477e831c90613d45be2e', 'message': 'DNM/R: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: Ie791509ffc86dbb0d10238e040e5539503635a60\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 8, 'created': '2017-06-27 06:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8ef006c14db0eaf73f40eb755e89dccf5e62bfe7', 'message': 'DNM/R: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: Ie791509ffc86dbb0d10238e040e5539503635a60\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}, {'number': 9, 'created': '2017-06-29 11:33:40.000000000', 'files': ['midonet/neutron/test_fwaas.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bf8ff35e3f7fc65cdbd736fb7de5f1c8bb5e2805', 'message': 'DNM/R: tracking for fwaas patch\n\nTemporary solution for tracking fwaas.\n\nDepends-On: Ief048027c3cdf9733b6f96160f904efc4171865b\nChange-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9\n'}]",0,443416,bf8ff35e3f7fc65cdbd736fb7de5f1c8bb5e2805,37,5,9,13702,,,0,"DNM/R: tracking for fwaas patch

Temporary solution for tracking fwaas.

Depends-On: Ief048027c3cdf9733b6f96160f904efc4171865b
Change-Id: Ibb0b76e2298e16da073fc83668bff8aa3a5cd8e9
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/16/443416/3 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/test_fwaas.py'],1,fe02707ef7f428fe271ae5eddc8f5c99ecee8b54,set-service-name,,,0,0
openstack%2Fneutron~master~Ie7ae1b4fc6a19444d96e7d652e8a1bd46baed9d1,openstack/neutron,master,Ie7ae1b4fc6a19444d96e7d652e8a1bd46baed9d1,Subnet update should be validate against ports,ABANDONED,2017-07-09 22:29:05.000000000,2017-11-04 19:43:02.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 12947}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-07-09 22:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4efaaa027143040d8e1c8e1015515c657951e8b8', 'message': 'Subnet update should be validate against ports\n\nWhen a subnet is updated with modified allocation pools, existing\nports of the subnet should be validated. If there is a port\noutside of modified allocation pool, update should be failed.\n\nThis patchset accomplishes the same.\n\nChange-Id: Ie7ae1b4fc6a19444d96e7d652e8a1bd46baed9d1\nCloses-Bug: #1703254\n'}, {'number': 2, 'created': '2017-07-10 03:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07b40a89b187600d578f575df206014430d22ccf', 'message': 'Subnet update should be validate against ports\n\nWhen a subnet is updated with modified allocation pools, existing\nports of the subnet should be validated. If there is a port\noutside of modified allocation pool, update should be failed.\n\nThis patchset accomplishes the same.\n\nChange-Id: Ie7ae1b4fc6a19444d96e7d652e8a1bd46baed9d1\nCloses-Bug: #1703254\n'}, {'number': 3, 'created': '2017-07-11 16:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1f63bf308752c40abced085762ef69147b793de', 'message': 'Subnet update should be validate against ports\n\nWhen a subnet is updated with modified allocation pools, existing\nports of the subnet should be validated. If there is a port\noutside of modified allocation pool, update should be failed.\n\nThis patchset accomplishes the same.\n\nChange-Id: Ie7ae1b4fc6a19444d96e7d652e8a1bd46baed9d1\nCloses-Bug: #1703254\n'}, {'number': 4, 'created': '2017-07-17 12:43:41.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b2e97bf349f7785dd47c40a871142cda81b1f71', 'message': 'Subnet update should be validate against ports\n\nWhen a subnet is updated with modified allocation pools, existing\nports of the subnet should be validated. If there is a port\noutside of modified allocation pool, update should be failed.\n\nThis patchset accomplishes the same.\n\nChange-Id: Ie7ae1b4fc6a19444d96e7d652e8a1bd46baed9d1\nCloses-Bug: #1703254\n'}]",38,481967,5b2e97bf349f7785dd47c40a871142cda81b1f71,49,13,4,12947,,,0,"Subnet update should be validate against ports

When a subnet is updated with modified allocation pools, existing
ports of the subnet should be validated. If there is a port
outside of modified allocation pool, update should be failed.

This patchset accomplishes the same.

Change-Id: Ie7ae1b4fc6a19444d96e7d652e8a1bd46baed9d1
Closes-Bug: #1703254
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/481967/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,4efaaa027143040d8e1c8e1015515c657951e8b8,bug/1703254," if (s.get('id')): ips = [] ipnotinrange = None filters = {'fixed_ips': {'subnet_id': [s['id']]}} ports = self.get_ports(context, filters=filters) for port in ports: for fixedip in port['fixed_ips']: ips.append(fixedip['ip_address']) # if any of ip in ips is not found in any s['alocation_pools'] # raise error and do not allow subnet update ipfound = False allocation_pools = s.get('allocation_pools') if allocation_pools and ips: range_pools = self.ipam.pools_to_ip_range(allocation_pools) for pool in range_pools: for ip in ips: # is ip in pool? if (ip in pool): ipfound = True break else: ipnotinrange = ip if not ipfound: data = {'ip': ipnotinrange} msg = _(""An existing port with fixed ip %(ip)s is not in "" ""updated allocation pools"") % data raise exc.InvalidInput(error_message=msg) ",,83,0
openstack%2Fnetworking-odl~master~I6b875a2873c9573c29566493be4a9c7f3d2153c2,openstack/networking-odl,master,I6b875a2873c9573c29566493be4a9c7f3d2153c2,Restructure dependency calculation,ABANDONED,2017-05-04 10:45:06.000000000,2017-11-04 18:57:04.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 7921}]","[{'number': 1, 'created': '2017-05-04 10:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/426d81cfce1675e5d10557b23886e19932884249', 'message': 'Restructure dependency calculation\n\nChange-Id: I6b875a2873c9573c29566493be4a9c7f3d2153c2\n'}, {'number': 2, 'created': '2017-05-10 08:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c3b2471406b5c65fc19024b9862bec589df3789d', 'message': 'Restructure dependency calculation\n\nCurrently there is a method for each resource to calculate\ndependency.\n\nAll the resources depends on the some set of resources\ntherefore a generic method is written, which takes resource to\nfind dependancy of, and type of resources on which it depends.\n\nResource ids are found from the given data, dependant resource ids\nare either direct attribute or nested dictionary therefor a simple\nloop can find out the ids.\n\nAdding a new dependancy is easy, we just need to update the list\nof depandant resource.\nChange-Id: I6b875a2873c9573c29566493be4a9c7f3d2153c2\n'}, {'number': 3, 'created': '2017-06-29 07:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5a6c59ad5f2fe8f21cc8d30f5a15340faa992714', 'message': 'Restructure dependency calculation\n\nCurrently there is a method for each resource to calculate\ndependency.\n\nAll the resources depends on the some set of resources\ntherefore a generic method is written, which takes resource to\nfind dependancy of, and type of resources on which it depends.\n\nResource ids are found from the given data, dependant resource ids\nare either direct attribute or nested dictionary therefor a simple\nloop can find out the ids.\n\nAdding a new dependancy is easy, we just need to update the list\nof depandant resource.\nChange-Id: I6b875a2873c9573c29566493be4a9c7f3d2153c2\n'}, {'number': 4, 'created': '2017-08-01 04:29:21.000000000', 'files': ['networking_odl/journal/dependency_validations.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a8d5a520fa455dc7b1f35f88b943717678d6c4a9', 'message': 'Restructure dependency calculation\n\nCurrently there is a method for each resource to calculate\ndependency.\n\nAll the resources depends on the some set of resources\ntherefore a generic method is written, which takes resource to\nfind dependancy of, and type of resources on which it depends.\n\nResource ids are found from the given data, dependant resource ids\nare either direct attribute or nested dictionary therefor a simple\nloop can find out the ids.\n\nAdding a new dependancy is easy, we just need to update the list\nof depandant resource.\nChange-Id: I6b875a2873c9573c29566493be4a9c7f3d2153c2\n'}]",1,462492,a8d5a520fa455dc7b1f35f88b943717678d6c4a9,13,5,4,13912,,,0,"Restructure dependency calculation

Currently there is a method for each resource to calculate
dependency.

All the resources depends on the some set of resources
therefore a generic method is written, which takes resource to
find dependancy of, and type of resources on which it depends.

Resource ids are found from the given data, dependant resource ids
are either direct attribute or nested dictionary therefor a simple
loop can find out the ids.

Adding a new dependancy is easy, we just need to update the list
of depandant resource.
Change-Id: I6b875a2873c9573c29566493be4a9c7f3d2153c2
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/92/462492/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/journal/dependency_validations.py'],1,426d81cfce1675e5d10557b23886e19932884249,restructure_dep,"_CREATE_OR_UPDATE_DEPS = { odl_const.ODL_NETWORK: [['qos_policy_id']], odl_const.ODL_SUBNET: [['network_id']], odl_const.ODL_PORT: [['fixed_ips', 'subnet_id'], ['network_id'], ['qos_policy_id']], odl_const.ODL_ROUTER: [['gw_port_id']], odl_const.ODL_FLOATINGIP: [['floating_network_id'], ['port_id'], ['router_id']], odl_const.ODL_TRUNK: [['sub_ports', 'port_id'], ['port_id']], odl_const.ODL_L2GATEWAY_CONNECTION: [['network_id'], ['gateway_id']], odl_const.ODL_SFC_PORT_PAIR: [['ingress'], ['egress']], odl_const.ODL_SFC_PORT_PAIR_GROUP: [['id', 'port_pairs']], odl_const.ODL_SFC_PORT_CHAIN: [['id', 'port_pair_groups'], ['id', 'flow_classifiers']], odl_const.ODL_BGPVPN: [['networks'], ['routers']], } def _get_resource_id(dep, data): for d in dep: if not data: data = [] break data = data[0].get(d) if isinstance(data, list) else data.get(d) return (data if isinstance(data, list) else [data]) def _generate_deps(row): deps = _CREATE_OR_UPDATE_DEPS.get(row.object_type, []) dep_ids = [] for dep in deps: dep_ids.extend(_get_resource_id(dep, row.data)) return dep_ids object_ids = _generate_deps(row) if object_ids is not None: return _no_older_operations(session, object_ids, row)","def _generate_subnet_deps(data): return data['network_id'] def _generate_port_deps(data): object_ids = [fixed_ip['subnet_id'] for fixed_ip in data['fixed_ips']] object_ids.append(data['network_id']) qos_policy_id = data.get('qos_policy_id') if qos_policy_id is not None: object_ids.append(qos_policy_id) return object_ids def _generate_network_deps(data): return data.get('qos_policy_id') def _generate_router_deps(data): return data['gw_port_id'] def _generate_floatingip_deps(data): object_ids = [] network_id = data.get('floating_network_id') if network_id is not None: object_ids.append(network_id) port_id = data.get('port_id') if port_id is not None: object_ids.append(port_id) router_id = data.get('router_id') if router_id is not None: object_ids.append(router_id) return object_ids def _generate_trunk_deps(data): portids = [subport['port_id'] for subport in data['sub_ports']] portids.append(data['port_id']) return portids def _generate_l2gateway_connection_deps(data): object_ids = [] network_id = data.get('network_id') if network_id is not None: object_ids.append(network_id) gateway_id = data.get('gateway_id') if gateway_id is not None: object_ids.append(gateway_id) return object_ids def _generate_sfc_port_pair_deps(data): object_ids = [] ingress_port = data.get('ingress') if ingress_port is not None: object_ids.append(ingress_port) egress_port = data.get('egress') if egress_port is not None: object_ids.append(egress_port) return object_ids def _generate_sfc_port_pair_group_deps(data): port_pairs = [port_pair['id'] for port_pair in data['port_pairs']] return port_pairs def _generate_sfc_port_chain_deps(data): object_ids = [port_pair_group['id'] for port_pair_group in data['port_pair_groups']] flow_classifiers = [flow_classifier['id'] for flow_classifier in data['flow_classifiers']] object_ids.extend(flow_classifiers) return object_ids def _generate_bgpvpn_deps(data): object_ids = [] network_ids = data.get('networks') if network_ids is not None: object_ids.extend(network_ids) router_ids = data.get('routers') if router_ids is not None: object_ids.extend(router_ids) return object_ids _CREATE_OR_UPDATE_DEP_GENERATOR = { odl_const.ODL_NETWORK: _generate_network_deps, odl_const.ODL_SUBNET: _generate_subnet_deps, odl_const.ODL_PORT: _generate_port_deps, odl_const.ODL_ROUTER: _generate_router_deps, odl_const.ODL_FLOATINGIP: _generate_floatingip_deps, odl_const.ODL_TRUNK: _generate_trunk_deps, odl_const.ODL_L2GATEWAY_CONNECTION: _generate_l2gateway_connection_deps, odl_const.ODL_SFC_PORT_PAIR: _generate_sfc_port_pair_deps, odl_const.ODL_SFC_PORT_PAIR_GROUP: _generate_sfc_port_pair_group_deps, odl_const.ODL_SFC_PORT_CHAIN: _generate_sfc_port_chain_deps, odl_const.ODL_BGPVPN: _generate_bgpvpn_deps, } # Validate dependencies if there are any to validate. dep_generator = _CREATE_OR_UPDATE_DEP_GENERATOR.get(row.object_type) if dep_generator is not None: object_ids = dep_generator(row.data) if object_ids is not None: return _no_older_operations(session, object_ids, row)",36,115
openstack%2Fneutron-specs~master~Id395d20e7fc86ec765ab8bebea21443ffc47f816,openstack/neutron-specs,master,Id395d20e7fc86ec765ab8bebea21443ffc47f816,Neutron address-groups,ABANDONED,2016-10-30 12:20:30.000000000,2017-11-04 18:56:33.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5367}, {'_account_id': 7787}, {'_account_id': 23379}]","[{'number': 1, 'created': '2016-10-30 12:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/be0ee60536671e4d1af1cc3ab18e1ae178b8936e', 'message': 'Neutron address-groups\n\nA blueprint spec for RFE 1592028\n\nChange-Id: Id395d20e7fc86ec765ab8bebea21443ffc47f816\n'}, {'number': 2, 'created': '2016-11-02 11:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5a7dd3e64169741a4c724c5a955b7bb601231fb9', 'message': 'Neutron address-groups\n\nblueprint address-groups\n\nChange-Id: Id395d20e7fc86ec765ab8bebea21443ffc47f816\n'}, {'number': 3, 'created': '2016-11-14 15:11:55.000000000', 'files': ['specs/ocata/address-group.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f446c9ddd84d8614c0cac4d68e5442d83fe0a03b', 'message': 'Neutron address-groups\n\nblueprint neutron-address-groups\n\nChange-Id: Id395d20e7fc86ec765ab8bebea21443ffc47f816\n'}]",12,391654,f446c9ddd84d8614c0cac4d68e5442d83fe0a03b,17,5,3,9423,,,0,"Neutron address-groups

blueprint neutron-address-groups

Change-Id: Id395d20e7fc86ec765ab8bebea21443ffc47f816
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/54/391654/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/address-group.rst'],1,be0ee60536671e4d1af1cc3ab18e1ae178b8936e,bp/spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ IP Address Group ================ RFE: https://bugs.launchpad.net/neutron/+bug/1592028 In this blueprint we proposes a new Neutron user API that allows CRUD operations to defines a new type of a Neutron resource - ""address-group"", a collection of IP address prefixes (CIDR blocks). One place where this resource will comes handy is in a security-group-rule definition, to match on a set of remote endpoints. For certain use-cases, the limitation to denote only one IP CIDR block per rule, makes the process of maintaining security-group-rules cumbersome, address-groups will serve as a flexible and user friendly alternative to the existing 'remote-ip-prefix' option which is currently supported by the security-group-rule API. Although the use-case this spec is trying to address is security-group API related, it is important to note that the address-group objects may be used as a generic Neutron resource and utilized by other features (e.g - FWaaS). Problem Description =================== Neutron security-groups API is being used to define and manage network access rules that are applied on specific OpenStack instances/ports. These rules are also responsible for the ability of the instance to communicate with external services, which are not provisioned by OpenStack. In order to define a security-group rule that targets a specific external service endpoint, the user must specify the endpoint IP address as the rule 'remote-ip-prefix'. However, in some use cases, there are multiple endpoints which the service may be accessed from, and these endpoints may reside in an non-contiguous address space. For such cases, one security-group rule is not enough, and the user is required to create one rule for each endpoint, denoting it in the 'remote-ip-prefix' field of the rule. For example, to allow communication from OS instances to a remote endpoints (192.168.1.21 and 192.168.1.22) over port 389, one may define the following security-group rules: .. code:: $ neutron security-group-rule-create --direction egress --remote-ip-prefix 192.168.1.0/32 --protocol udp --port-range-min 389 --port-range-max 389 $ neutron security-group-rule-create --direction egress --remote-ip-prefix 192.168.22.0/32 --protocol udp --port-range-min 389 --port-range-max 389 For an admin whose responsibility is to maintain the availability of these services for OpenStack instances, it could become a very tedious task: * Whenever a service endpoint is added/removed, admin must create/delete a security-group rule. * As security-groups are not shared between tenants, each rule addition/removal is done numerous times as the number of tenants. Proposed Change =============== The usability issue described in previous section, can be resolved by adopting a new API, which allows the user to create and maintain IP prefixes collections. The user then could use an instance of this resource (""address-group"") and denote it as part of the security-group rule definition, for example: .. code:: $ neutron address-group-create --shared true --cidr 192.168.1.0/24 --cidr 192.168.22.0/24 ActiveDirectoryDomainControllers $ neutron security-group-rule-create --direction egress --remote-address-group ActiveDirectoryDomainControllers --protocol udp --port-range-min 389 --port-range-max 389 This solves the usability issues: Whenever a new service is added or removed the admin will be required only to modify the address-group object, and the relevant security-groups-rules will be updated by the backend as a response for change in the address-group. Address groups instances could be created as ""shared"", which will allow them to be used across different tenants. Passing a 'remote-ip-prefix' value will still be supported by the security-group API, however, only one of the two ('remote-ip-prefix' or 'remote-address-group') may be specified for a given rule. An address group may contain only IP prefixes of the same IP version. REST API -------- .. csv-table:: :header: Field,Type,Access,Default Value,Validation Conversion,Description name,string,""RW, admin or owner"",'""""',Human-readable name of the resource. description,string,""RW, admin or owner"",'""""',string,Human-readable description for the resource ip_version,integer,""R, admin or owner"",'""""',None, IP version cidrs,list of string,""RW, admin or owner"",[],list of IP prefixes,List of IP CIDR blocks shared,boolean,""admin only"",false,boolean,Indicates whether this address-group is shared across all tenants Show address-group. .. code:: GET /v2.0/address-groups/{address_group_id} Update address-group. .. code:: PUT /v2.0/address-groups/{address_group_id} Delete an address-group. .. code:: DELETE /v2.0/address-groups/{address_group_id} Create an address-group. .. code:: POST /v2.0/address-groups/ List address-groups. .. code:: GET /v2.0/address-groups Example of a JSON request to create an address-group and use it in a security-group rule: .. code:: POST /v2.0/address-groups { ""address_group"": { ""name"": ""ActiveDirectoryDomainControllers"", ""description"": """", ""shared"": true, ""cidrs"": [""192.168.10.0/24"", ""192.168.13.0/24""] } } POST/v2.0/security-group-rules { ""security_group_rule"": { ""security_group_id"": ""85cc3048-abc3-43cc-89b3-377341426ac5"", ""direction"": ""egress"", ""remote_address_group"": ""ab0c1543-a6af-5123-01e3-bf390e5482af"" } } Data Model Impact ----------------- Change in DB table 'securitygrouprules': * New column 'remote_address_group', may contain a UUID value or null New DB table 'address_groups': * id: uuid, primary-key * name: string * description: string * ip_version: integer * cidrs: list of string * project_id: uuid * shared: boolean New DB table 'address_group_cidrs': * address_group_id: uuid, primary-key (fk) * cidr: string, primary-key Performance Impact ------------------ N/A Other Deployer Impact --------------------- N/A Developer Impact ---------------- N/A Alternatives ------------ N/A Implementation ============== Assignee(s) ----------- Primary assignee: Roey Chen Work Items ---------- * REST API - extension. * DB Model & DB migration script * CLI support (OSC + python-neutronclient) * Refrence implementation based on IpTables * Testing * Documentation Testing ======= * API tests will be added. Documentation Impact ==================== User Documentation ------------------ User documentation should be updated with information about the new feature. Developer Documentation ----------------------- N/A References ========== ",,234,0
openstack%2Fopenstack-zuul-jobs~master~I9f4de6d1e222bc358c7008fec1835328de3249a2,openstack/openstack-zuul-jobs,master,I9f4de6d1e222bc358c7008fec1835328de3249a2,Remove legacy networking-sfc jobs,MERGED,2017-11-02 10:33:03.000000000,2017-11-04 15:23:22.000000000,2017-11-04 15:23:22.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 10:33:03.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-sfc/post.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc/post.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-sfc/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc/run.yaml', 'playbooks/legacy/networking-sfc-functional-dsvm/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc-multinode/run.yaml', 'playbooks/legacy/networking-sfc-functional-dsvm/post.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc-multinode/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/aa76d78a993c12dcf8bf94ee48190bfc6a706ef8', 'message': 'Remove legacy networking-sfc jobs\n\nThese have been migrated in-repo in:\nIaf6f8cc1eba9a75adbc824ec80d14519b4665642\n\nChange-Id: I9f4de6d1e222bc358c7008fec1835328de3249a2\nDepends-On: Ic28f2f86b3eb0c2a3c4e1c1d99449379446104a0\n'}]",0,517249,aa76d78a993c12dcf8bf94ee48190bfc6a706ef8,8,3,1,21798,,,0,"Remove legacy networking-sfc jobs

These have been migrated in-repo in:
Iaf6f8cc1eba9a75adbc824ec80d14519b4665642

Change-Id: I9f4de6d1e222bc358c7008fec1835328de3249a2
Depends-On: Ic28f2f86b3eb0c2a3c4e1c1d99449379446104a0
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/49/517249/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-sfc/post.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc/post.yaml', 'playbooks/legacy/networking-sfc-functional-dsvm/run.yaml', 'playbooks/legacy/periodic-tempest-dsvm-networking-sfc/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc-multinode/run.yaml', 'playbooks/legacy/networking-sfc-functional-dsvm/post.yaml', 'playbooks/legacy/tempest-dsvm-networking-sfc-multinode/post.yaml']",9,aa76d78a993c12dcf8bf94ee48190bfc6a706ef8,networking-sfc,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,503
openstack%2Fproject-config~master~Ic28f2f86b3eb0c2a3c4e1c1d99449379446104a0,openstack/project-config,master,Ic28f2f86b3eb0c2a3c4e1c1d99449379446104a0,Remove legacy networking-sfc jobs,MERGED,2017-11-02 10:33:03.000000000,2017-11-04 15:11:13.000000000,2017-11-04 15:11:13.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-02 10:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2e0626cde02b2743912cc8b4adc0e649110aa93f', 'message': 'Remove legacy networking-sfc jobs\n\nThese have been migrated in-repo in:\nIaf6f8cc1eba9a75adbc824ec80d14519b4665642\n\nChange-Id: Ic28f2f86b3eb0c2a3c4e1c1d99449379446104a0\nNeeded-By: I9f4de6d1e222bc358c7008fec1835328de3249a2\n'}, {'number': 2, 'created': '2017-11-02 12:12:58.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/17a13f07b625c8213eef097eb422c54ac16da35a', 'message': 'Remove legacy networking-sfc jobs\n\nThese have been migrated in-repo in:\nIaf6f8cc1eba9a75adbc824ec80d14519b4665642\n\nChange-Id: Ic28f2f86b3eb0c2a3c4e1c1d99449379446104a0\nNeeded-By: I9f4de6d1e222bc358c7008fec1835328de3249a2\n'}]",2,517250,17a13f07b625c8213eef097eb422c54ac16da35a,11,4,2,21798,,,0,"Remove legacy networking-sfc jobs

These have been migrated in-repo in:
Iaf6f8cc1eba9a75adbc824ec80d14519b4665642

Change-Id: Ic28f2f86b3eb0c2a3c4e1c1d99449379446104a0
Needed-By: I9f4de6d1e222bc358c7008fec1835328de3249a2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/517250/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,2e0626cde02b2743912cc8b4adc0e649110aa93f,networking-sfc,, name: openstack/networking-sfc templates: - system-required - openstack-python-jobs-neutron - publish-openstack-sphinx-docs-neutron - check-requirements - openstack-python35-jobs-neutron - periodic-jobs-with-neutron-lib-master - release-notes-jobs-neutron - publish-to-pypi-neutron check: jobs: - legacy-networking-sfc-functional-dsvm - legacy-tempest-dsvm-networking-sfc: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-tempest-dsvm-networking-sfc-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ gate: jobs: - legacy-networking-sfc-functional-dsvm - legacy-tempest-dsvm-networking-sfc: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ periodic: jobs: - legacy-periodic-tempest-dsvm-networking-sfc: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - project:,0,37
openstack%2Fkeystonemiddleware~master~I2a031b4a114da146f720eed4d28666a00a2a7dc0,openstack/keystonemiddleware,master,I2a031b4a114da146f720eed4d28666a00a2a7dc0,Updated from global requirements,MERGED,2017-11-03 00:48:04.000000000,2017-11-04 14:14:50.000000000,2017-11-04 14:14:50.000000000,"[{'_account_id': 17860}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 00:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6aefb7d9f76044bf52563422d4452a099fe3da3e', 'message': 'Updated from global requirements\n\nChange-Id: I2a031b4a114da146f720eed4d28666a00a2a7dc0\n'}, {'number': 2, 'created': '2017-11-03 00:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b4576e7316f87d3c014f8ebbf42f3a123d068d20', 'message': 'Updated from global requirements\n\nChange-Id: I2a031b4a114da146f720eed4d28666a00a2a7dc0\n'}, {'number': 3, 'created': '2017-11-03 13:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/13d9fbbb32b5fdf435e15bf8ba7872ecd44e5d5f', 'message': 'Updated from global requirements\n\nChange-Id: I2a031b4a114da146f720eed4d28666a00a2a7dc0\n'}, {'number': 4, 'created': '2017-11-03 17:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a251bf2febf5735b77ae6cb2e7fdcdd3ca08a4ee', 'message': 'Updated from global requirements\n\nChange-Id: I2a031b4a114da146f720eed4d28666a00a2a7dc0\n'}, {'number': 5, 'created': '2017-11-03 17:51:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c7bdfffbc6589eec706f71b582b40b4cc12342b5', 'message': 'Updated from global requirements\n\nChange-Id: I2a031b4a114da146f720eed4d28666a00a2a7dc0\n'}]",0,517477,c7bdfffbc6589eec706f71b582b40b4cc12342b5,12,2,5,11131,,,0,"Updated from global requirements

Change-Id: I2a031b4a114da146f720eed4d28666a00a2a7dc0
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/77/517477/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6aefb7d9f76044bf52563422d4452a099fe3da3e,openstack/requirements,oslo.context>=2.19.2 # Apache-2.0,"oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",1,1
openstack%2Fnetworking-powervm~master~I3e0c5e6ddae7165122c9efba23ce0d9bdcb26c7a,openstack/networking-powervm,master,I3e0c5e6ddae7165122c9efba23ce0d9bdcb26c7a,Removes unnecessary utf-8 encoding,MERGED,2017-07-10 10:21:00.000000000,2017-11-04 13:12:49.000000000,2017-11-04 13:12:49.000000000,"[{'_account_id': 3}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-10 10:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/b921020cb613c5dd5c6896be8e8341390a13c782', 'message': 'Removes unnecessary utf-8 encoding\n\nThis patches removes unnecessary utf-8\nencoding in doc/source/conf.py\n\nChange-Id: I3e0c5e6ddae7165122c9efba23ce0d9bdcb26c7a\n'}, {'number': 2, 'created': '2017-07-10 12:06:05.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/29f5a8b49eb5372f8f32cf3cd6cfb479c0619645', 'message': 'Removes unnecessary utf-8 encoding\n\nThis patches removes unnecessary utf-8\nencoding in doc/source/conf.py\n\nChange-Id: I3e0c5e6ddae7165122c9efba23ce0d9bdcb26c7a\n'}]",0,482086,29f5a8b49eb5372f8f32cf3cd6cfb479c0619645,12,5,2,26271,,,0,"Removes unnecessary utf-8 encoding

This patches removes unnecessary utf-8
encoding in doc/source/conf.py

Change-Id: I3e0c5e6ddae7165122c9efba23ce0d9bdcb26c7a
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/86/482086/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,b921020cb613c5dd5c6896be8e8341390a13c782,power,,# -*- coding: utf-8 -*-,0,1
openstack%2Fnetworking-powervm~master~Ic0f48e5c4659ceeb05fb878eddc2b3670290009a,openstack/networking-powervm,master,Ic0f48e5c4659ceeb05fb878eddc2b3670290009a,use ml2 driver api from neutron-lib,MERGED,2017-10-25 19:02:38.000000000,2017-11-04 13:12:43.000000000,2017-11-04 13:12:43.000000000,"[{'_account_id': 5367}, {'_account_id': 10608}, {'_account_id': 12947}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-25 19:02:38.000000000', 'files': ['networking_powervm/plugins/ml2/drivers/mech_pvm_sea.py', 'networking_powervm/plugins/ml2/drivers/mech_pvm_base.py', 'networking_powervm/tests/unit/plugins/ml2/drivers/test_mech_pvm.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/c7db1294eb1986884af149e66b08f2fd6b6355a9', 'message': ""use ml2 driver api from neutron-lib\n\nThe ml2 plugin driver API was rehomed into neutron-lib with commit\nIfc829953ef4d5859c3475903965dc08aba42fd9c and the API was shimmed in\nneutron with I86a10091b55d1123e8d16f16155e0312bb10e54c. In prep for\nneutron consumption Ice49572e217eeaf820e48d40f2251d08766490b5 this\npatch switches over to lib's version of the respective code.\n\nChange-Id: Ic0f48e5c4659ceeb05fb878eddc2b3670290009a\n""}]",0,515176,c7db1294eb1986884af149e66b08f2fd6b6355a9,9,7,1,5367,,,0,"use ml2 driver api from neutron-lib

The ml2 plugin driver API was rehomed into neutron-lib with commit
Ifc829953ef4d5859c3475903965dc08aba42fd9c and the API was shimmed in
neutron with I86a10091b55d1123e8d16f16155e0312bb10e54c. In prep for
neutron consumption Ice49572e217eeaf820e48d40f2251d08766490b5 this
patch switches over to lib's version of the respective code.

Change-Id: Ic0f48e5c4659ceeb05fb878eddc2b3670290009a
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/76/515176/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_powervm/plugins/ml2/drivers/mech_pvm_sea.py', 'networking_powervm/plugins/ml2/drivers/mech_pvm_base.py', 'networking_powervm/tests/unit/plugins/ml2/drivers/test_mech_pvm.py']",3,c7db1294eb1986884af149e66b08f2fd6b6355a9,use-lib-ml2-driverapi,from neutron_lib.plugins.ml2 import api ,from neutron.plugins.ml2 import driver_api as api ,4,4
openstack%2Fkeystone~master~I450245120adf3184808386ba2c669080f2b23d1b,openstack/keystone,master,I450245120adf3184808386ba2c669080f2b23d1b,Remove v2 token value model,MERGED,2017-10-24 07:56:37.000000000,2017-11-04 12:51:50.000000000,2017-11-04 12:51:50.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-24 07:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/63decde8fe856de18463352201e02c3d4d2b8a62', 'message': 'Remove v2 token value model\n\nSince v2.0 apis had been removed, this functionality was only used\nwith v2 token and no longer needed.\n\nChange-Id: I450245120adf3184808386ba2c669080f2b23d1b\n'}, {'number': 2, 'created': '2017-10-24 09:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8ff2a34bfb332fa8b0b446af09c01df89b77d1b1', 'message': 'Remove v2 token value model\n\nSince v2.0 apis had been removed, this functionality was only used\nwith v2 token and no longer needed.\n\nChange-Id: I450245120adf3184808386ba2c669080f2b23d1b\n'}, {'number': 3, 'created': '2017-10-25 03:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/622958a21c621e6f968024048f16e18a23c14463', 'message': 'Remove v2 token value model\n\nSince v2.0 apis had been removed, this functionality was only used\nwith v2 token and no longer needed.\n\nChange-Id: I450245120adf3184808386ba2c669080f2b23d1b\n'}, {'number': 4, 'created': '2017-10-26 08:09:42.000000000', 'files': ['keystone/models/revoke_model.py', 'keystone/token/provider.py', 'keystone/models/token_model.py', 'keystone/tests/unit/token/test_backends.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/64fdb179210f2ab1a66dadc0e145a27e0ef8fca8', 'message': 'Remove v2 token value model\n\nSince v2.0 apis had been removed, this functionality was only used\nwith v2 token and no longer needed.\n\nChange-Id: I450245120adf3184808386ba2c669080f2b23d1b\n'}]",0,514554,64fdb179210f2ab1a66dadc0e145a27e0ef8fca8,20,7,4,17645,,,0,"Remove v2 token value model

Since v2.0 apis had been removed, this functionality was only used
with v2 token and no longer needed.

Change-Id: I450245120adf3184808386ba2c669080f2b23d1b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/514554/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/models/revoke_model.py', 'keystone/token/provider.py', 'keystone/models/token_model.py']",3,63decde8fe856de18463352201e02c3d4d2b8a62,bp/removed-as-of-queens,"VERSIONS = frozenset([V3]) """"""An in-memory representation that unifies v3 tokens.""""""","V2 = 'v2.0'VERSIONS = frozenset([V2, V3]) """"""An in-memory representation that unifies v2 and v3 tokens.""""""",2,63
openstack%2Fironic~master~I31d2df5ce774bff123e6c8d7ca7736f24472b67f,openstack/ironic,master,I31d2df5ce774bff123e6c8d7ca7736f24472b67f,Remove check if enabled for OneViewInspect,ABANDONED,2017-07-21 18:20:30.000000000,2017-11-04 12:25:32.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14675}, {'_account_id': 17998}, {'_account_id': 19072}, {'_account_id': 19339}, {'_account_id': 20123}, {'_account_id': 22970}]","[{'number': 1, 'created': '2017-07-21 18:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1d91c71e7796eb398cdc4ba6c7e7d3eea2875d9', 'message': 'Remove check if enabled for OneViewInspect\n\nSince the Inspector already checks if inspect is enabled,\nthe OneView drivers dont need to do this when creating\nOneViewInspect.\n\nChange-Id: I31d2df5ce774bff123e6c8d7ca7736f24472b67f\n'}, {'number': 2, 'created': '2017-07-24 14:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d99280d043fecbbe49329e8fb1c4339301124e6', 'message': 'Remove check if enabled for OneViewInspect\n\nSince the Inspector already checks if inspect is enabled,\nthe OneView drivers dont need to do this when creating\nOneViewInspect.\n\nChange-Id: I31d2df5ce774bff123e6c8d7ca7736f24472b67f\n'}, {'number': 3, 'created': '2017-07-24 15:07:11.000000000', 'files': ['ironic/drivers/oneview.py', 'ironic/tests/unit/drivers/test_oneview.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fbed6c507e250bbb204d643b90baa2a4e309775', 'message': 'Remove check if enabled for OneViewInspect\n\nWith the dynamic drivers based on hardware types, OneView\ndrivers don\'t need to call Inspector.create_if_enabled when\ncreating OneViewInspect. To enable it will be necessary to\nuse ""enabled_inspect_interfaces"" instead.\n\nChange-Id: I31d2df5ce774bff123e6c8d7ca7736f24472b67f\n'}]",3,486192,4fbed6c507e250bbb204d643b90baa2a4e309775,23,11,3,14675,,,0,"Remove check if enabled for OneViewInspect

With the dynamic drivers based on hardware types, OneView
drivers don't need to call Inspector.create_if_enabled when
creating OneViewInspect. To enable it will be necessary to
use ""enabled_inspect_interfaces"" instead.

Change-Id: I31d2df5ce774bff123e6c8d7ca7736f24472b67f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/486192/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/oneview.py', 'ironic/tests/unit/drivers/test_oneview.py']",2,a1d91c71e7796eb398cdc4ba6c7e7d3eea2875d9,bug/1705544,"from ironic.drivers.modules.oneview import inspect self.assertIsInstance(driver.inspect, inspect.OneViewInspect) self.assertIsInstance(driver.inspect, inspect.OneViewInspect)",,5,4
openstack%2Fkeystone~master~Id0503bc0610cff5fb635cd021088658bc06aef26,openstack/keystone,master,Id0503bc0610cff5fb635cd021088658bc06aef26,Remove ensure_default_domain_exists,MERGED,2017-10-19 18:41:20.000000000,2017-11-04 11:06:30.000000000,2017-11-04 11:06:30.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 17645}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26311}]","[{'number': 1, 'created': '2017-10-19 18:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b52a09d77b2bcb50a4d579897589d5ecd6fe1665', 'message': 'Remove ensure_default_domain_exists\n\nWith the removal of the V2.0 API in Queens, this functionality\nwas only used with the v2 API and can now be removed. Also removed\nthe associated tests.\n\nChange-Id: Id0503bc0610cff5fb635cd021088658bc06aef26\n'}, {'number': 2, 'created': '2017-11-01 05:08:21.000000000', 'files': ['keystone/resource/core.py', 'keystone/tests/unit/resource/test_core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e2295edab8be06362cc57474b5685a7eeb86bab2', 'message': 'Remove ensure_default_domain_exists\n\nWith the removal of the V2.0 API in Queens, this functionality\nwas only used with the v2 resource controller and can now be\nremoved. Also removed the associated tests.\n\nChange-Id: Id0503bc0610cff5fb635cd021088658bc06aef26\n'}]",0,513474,e2295edab8be06362cc57474b5685a7eeb86bab2,16,8,2,21420,,,0,"Remove ensure_default_domain_exists

With the removal of the V2.0 API in Queens, this functionality
was only used with the v2 resource controller and can now be
removed. Also removed the associated tests.

Change-Id: Id0503bc0610cff5fb635cd021088658bc06aef26
",git fetch https://review.opendev.org/openstack/keystone refs/changes/74/513474/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/resource/core.py', 'keystone/tests/unit/resource/test_core.py']",2,b52a09d77b2bcb50a4d579897589d5ecd6fe1665,bp/removed-as-of-queens,,"import fixtures def test_ensure_default_domain_exists(self): # When there's no default domain, ensure_default_domain_exists creates # it. # First make sure there's no default domain. self.assertRaises( exception.DomainNotFound, self.resource_api.get_domain, CONF.identity.default_domain_id) self.resource_api.ensure_default_domain_exists() default_domain = self.resource_api.get_domain( CONF.identity.default_domain_id) expected_domain = { 'id': CONF.identity.default_domain_id, 'name': 'Default', 'enabled': True, 'description': 'Domain created automatically to support V2.0 ' 'operations.', } self.assertEqual(expected_domain, default_domain) def test_ensure_default_domain_exists_already_exists(self): # When there's already a default domain, ensure_default_domain_exists # doesn't do anything. name = uuid.uuid4().hex description = uuid.uuid4().hex domain_attrs = { 'id': CONF.identity.default_domain_id, 'name': name, 'description': description, } self.resource_api.create_domain(CONF.identity.default_domain_id, domain_attrs) self.resource_api.ensure_default_domain_exists() default_domain = self.resource_api.get_domain( CONF.identity.default_domain_id) expected_domain = { 'id': CONF.identity.default_domain_id, 'name': name, 'enabled': True, 'description': description, } self.assertEqual(expected_domain, default_domain) def test_ensure_default_domain_exists_fails(self): # When there's an unexpected exception creating domain it's passed on. self.useFixture(fixtures.MockPatchObject( self.resource_api, 'create_domain', side_effect=exception.UnexpectedError)) self.assertRaises(exception.UnexpectedError, self.resource_api.ensure_default_domain_exists) ",0,87
openstack%2Fkeystone~master~Ic78d7842d7b3c36c2eb9cd74a3bd04b837af77c0,openstack/keystone,master,Ic78d7842d7b3c36c2eb9cd74a3bd04b837af77c0,Change url in middleware test to v3,MERGED,2017-10-19 20:13:43.000000000,2017-11-04 10:51:42.000000000,2017-11-04 10:51:42.000000000,"[{'_account_id': 5046}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-19 20:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d1603df33bcb322a180f67af6c2b61419b6ff11', 'message': 'Remove middleware test for v2.0 tokens\n\nThis change removes a single unit test for matching\nnormalized URLS for /v2.0/tokens and /v2.0/tokens/.\n\nChange-Id: Ic78d7842d7b3c36c2eb9cd74a3bd04b837af77c0\n'}, {'number': 2, 'created': '2017-10-20 20:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/489f85752700b04d55552e26e25a98e73c3c8380', 'message': 'Change url in middleware test to v3\n\nThis changes the url for checking normalized URLS with middleware from\nv2.0 urls to v3.\n\nChange-Id: Ic78d7842d7b3c36c2eb9cd74a3bd04b837af77c0\n'}, {'number': 3, 'created': '2017-11-01 05:09:32.000000000', 'files': ['keystone/tests/unit/test_url_middleware.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/aaccc5bd583bce0e8e1e84ade349162976f64c1c', 'message': 'Change url in middleware test to v3\n\nThis changes the url for checking normalized URLS with middleware from\nv2.0 urls to v3.\n\nChange-Id: Ic78d7842d7b3c36c2eb9cd74a3bd04b837af77c0\n'}]",2,513491,aaccc5bd583bce0e8e1e84ade349162976f64c1c,15,7,3,21420,,,0,"Change url in middleware test to v3

This changes the url for checking normalized URLS with middleware from
v2.0 urls to v3.

Change-Id: Ic78d7842d7b3c36c2eb9cd74a3bd04b837af77c0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/513491/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_url_middleware.py'],1,0d1603df33bcb322a180f67af6c2b61419b6ff11,test-refactor,," def test_trailing_slash_normalization(self): """"""Test /v2.0/tokens and /v2.0/tokens/ normalized URLs match."""""" req1 = webob.Request.blank('/v2.0/tokens') req2 = webob.Request.blank('/v2.0/tokens/') self.middleware(req1.environ, self.start_fake_response) self.middleware(req2.environ, self.start_fake_response) self.assertEqual(req1.path_url, req2.path_url) self.assertEqual('http://localhost/v2.0/tokens', req1.path_url) ",0,9
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ia857350ac451fc1bda6659d85019962d3a9d5617,openstack/tripleo-heat-templates,stable/pike,Ia857350ac451fc1bda6659d85019962d3a9d5617,mysql: expose IPv6 configuration to mysql puppet modules,MERGED,2017-10-16 07:58:16.000000000,2017-11-04 08:38:40.000000000,2017-11-04 08:38:40.000000000,"[{'_account_id': 10873}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-16 07:58:16.000000000', 'files': ['environments/network-isolation-v6.j2.yaml', 'puppet/services/database/mysql.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34c286a9abf72f91b4ce005c3b1ee0472fb22567', 'message': 'mysql: expose IPv6 configuration to mysql puppet modules\n\nWhen deploying on IPv6 networks, set a hiera key that can be consumed\nby puppet modules to configure MySQL or Galera appropriately.\n\nCurrently, this is required for configuring SST encryption in Galera\nwhen Internal TLS is enabled [1].\n\n[1] I1d6ee8febb596b3ab9dcde3a85a028ee99b2798c\n\nChange-Id: Ia857350ac451fc1bda6659d85019962d3a9d5617\nPartial-Bug: #1719885\n(cherry picked from commit ff0a0dd987f4bcb997b271572ff0c901ed71d99b)\n'}]",0,512203,34c286a9abf72f91b4ce005c3b1ee0472fb22567,32,6,1,20778,,,0,"mysql: expose IPv6 configuration to mysql puppet modules

When deploying on IPv6 networks, set a hiera key that can be consumed
by puppet modules to configure MySQL or Galera appropriately.

Currently, this is required for configuring SST encryption in Galera
when Internal TLS is enabled [1].

[1] I1d6ee8febb596b3ab9dcde3a85a028ee99b2798c

Change-Id: Ia857350ac451fc1bda6659d85019962d3a9d5617
Partial-Bug: #1719885
(cherry picked from commit ff0a0dd987f4bcb997b271572ff0c901ed71d99b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/512203/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/network-isolation-v6.j2.yaml', 'puppet/services/database/mysql.yaml']",2,34c286a9abf72f91b4ce005c3b1ee0472fb22567,bug/1719885-stable/pike, MysqlIPv6: default: false description: Enable IPv6 in MySQL type: boolean mysql_ipv6: {get_param: MysqlIPv6},,8,0
openstack%2Fsenlin~master~I9db003c0ef967484d00d26a66b83edd325716487,openstack/senlin,master,I9db003c0ef967484d00d26a66b83edd325716487,Zuul: add file extension to playbook path,MERGED,2017-10-29 06:17:17.000000000,2017-11-04 08:37:47.000000000,2017-11-04 08:37:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 23401}]","[{'number': 1, 'created': '2017-10-29 06:17:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/4f9fac6d43e4de71b9338e73d1dc099280d539ae', 'message': 'Zuul: add file extension to playbook path\n\nZuul now supports including the file extension on the playbook path\nand omitting the extension is now deprecrated.  Update references\nto include the extension.\n\nChange-Id: I9db003c0ef967484d00d26a66b83edd325716487\n'}]",0,516058,4f9fac6d43e4de71b9338e73d1dc099280d539ae,7,3,1,1,,,0,"Zuul: add file extension to playbook path

Zuul now supports including the file extension on the playbook path
and omitting the extension is now deprecrated.  Update references
to include the extension.

Change-Id: I9db003c0ef967484d00d26a66b83edd325716487
",git fetch https://review.opendev.org/openstack/senlin refs/changes/58/516058/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f9fac6d43e4de71b9338e73d1dc099280d539ae,zuulv3-paths, run: playbooks/legacy/senlin-dsvm-tempest-py27-api/run.yaml post-run: playbooks/legacy/senlin-dsvm-tempest-py27-api/post.yaml run: playbooks/legacy/senlin-dsvm-tempest-py27-functional/run.yaml post-run: playbooks/legacy/senlin-dsvm-tempest-py27-functional/post.yaml run: playbooks/legacy/senlin-dsvm-tempest-py27-integration/run.yaml post-run: playbooks/legacy/senlin-dsvm-tempest-py27-integration/post.yaml run: playbooks/legacy/senlin-dsvm-tempest-py35-api/run.yaml post-run: playbooks/legacy/senlin-dsvm-tempest-py35-api/post.yaml run: playbooks/legacy/senlin-dsvm-tempest-py35-functional/run.yaml post-run: playbooks/legacy/senlin-dsvm-tempest-py35-functional/post.yaml run: playbooks/legacy/senlin-dsvm-tempest-py35-integration/run.yaml post-run: playbooks/legacy/senlin-dsvm-tempest-py35-integration/post.yaml run: playbooks/legacy/rally-dsvm-senlin-senlin/run.yaml post-run: playbooks/legacy/rally-dsvm-senlin-senlin/post.yaml, run: playbooks/legacy/senlin-dsvm-tempest-py27-api/run post-run: playbooks/legacy/senlin-dsvm-tempest-py27-api/post run: playbooks/legacy/senlin-dsvm-tempest-py27-functional/run post-run: playbooks/legacy/senlin-dsvm-tempest-py27-functional/post run: playbooks/legacy/senlin-dsvm-tempest-py27-integration/run post-run: playbooks/legacy/senlin-dsvm-tempest-py27-integration/post run: playbooks/legacy/senlin-dsvm-tempest-py35-api/run post-run: playbooks/legacy/senlin-dsvm-tempest-py35-api/post run: playbooks/legacy/senlin-dsvm-tempest-py35-functional/run post-run: playbooks/legacy/senlin-dsvm-tempest-py35-functional/post run: playbooks/legacy/senlin-dsvm-tempest-py35-integration/run post-run: playbooks/legacy/senlin-dsvm-tempest-py35-integration/post run: playbooks/legacy/rally-dsvm-senlin-senlin/run post-run: playbooks/legacy/rally-dsvm-senlin-senlin/post,14,14
openstack%2Fneutron~master~I028fa26e7565b008c6344c8046b6f50faf92741e,openstack/neutron,master,I028fa26e7565b008c6344c8046b6f50faf92741e,Add prefix for all trunk bridges and ports,ABANDONED,2017-10-24 10:02:13.000000000,2017-11-04 08:23:36.000000000,,"[{'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 21020}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-24 10:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30c1baabcba8eef6c44b89c5f39808097c97f627', 'message': ""Add prefix for all trunk bridges and ports\n\nIt's new config option for trunk drivers which allows to\nconfigure common prefix for all trunk ports, subports and\nbridges.\nIt is used for Openvswitch trunk driver.\nIt is useful e.g for testing purpose, like fullstack tests.\n\nChange-Id: I028fa26e7565b008c6344c8046b6f50faf92741e\nCloses-Bug: #1687709\n""}, {'number': 2, 'created': '2017-10-25 09:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2d276bba1c56c54bfe1b49fba214e722b1c3065', 'message': ""Add prefix for all trunk bridges and ports\n\nIt's new config option for trunk drivers which allows to\nconfigure common prefix for all trunk ports, subports and\nbridges.\nIt is used for Openvswitch trunk driver and only for testing purpose.\nThis option shoudn't be changed from it's default value on production\ncode.\n\nChange-Id: I028fa26e7565b008c6344c8046b6f50faf92741e\nCloses-Bug: #1687709\n""}, {'number': 3, 'created': '2017-10-27 14:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1df411f338024533bb21a15163bb9c351ca78e0b', 'message': ""Add prefix for all trunk bridges and ports\n\nIt's new config option for trunk drivers which allows to\nconfigure common prefix for all trunk ports, subports and\nbridges.\nIt is used for Openvswitch trunk driver and only for testing purpose.\nThis option shoudn't be changed from it's default value on production\ncode.\n\nChange-Id: I028fa26e7565b008c6344c8046b6f50faf92741e\nCloses-Bug: #1687709\n""}, {'number': 4, 'created': '2017-10-30 13:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c702da4bdee2ce55f1107708ae7e39802bccfe9', 'message': ""Add prefix for all trunk bridges and ports\n\nIt's new config option for trunk drivers which allows to\nconfigure common prefix for all trunk ports, subports and\nbridges.\nIt is used for Openvswitch trunk driver and only for testing purpose.\nThis option shoudn't be changed from it's default value on production\ncode.\n\nChange-Id: I028fa26e7565b008c6344c8046b6f50faf92741e\nCloses-Bug: #1687709\n""}, {'number': 5, 'created': '2017-10-31 22:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c059123566bcbaf256f9434a8534f53b8ffe896', 'message': ""Add prefix for all trunk bridges and ports\n\nIt's new config option for trunk drivers which allows to\nconfigure common prefix for all trunk ports, subports and\nbridges.\nIt is used for Openvswitch trunk driver and only for testing purpose.\nThis option shoudn't be changed from it's default value on production\ncode.\n\nChange-Id: I028fa26e7565b008c6344c8046b6f50faf92741e\nCloses-Bug: #1687709\n""}, {'number': 6, 'created': '2017-11-01 08:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38f83aee40d3143264eaad4d857a80fd199c6c5f', 'message': ""Add prefix for all trunk bridges and ports\n\nIt's new config option for trunk drivers which allows to\nconfigure common prefix for all trunk ports, subports and\nbridges.\nIt is used for Openvswitch trunk driver and only for testing purpose.\nThis option shoudn't be changed from it's default value on production\ncode.\n\nChange-Id: I028fa26e7565b008c6344c8046b6f50faf92741e\nCloses-Bug: #1687709\n""}, {'number': 7, 'created': '2017-11-01 22:22:58.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/services/trunk/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/test_driver.py', 'neutron/tests/fullstack/test_trunk.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/conf/services/trunk.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/services/trunk/drivers/openvswitch/utils.py', 'neutron/services/trunk/drivers/openvswitch/agent/trunk_manager.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad6e893669de30f10c7a66b0fd36b3b32297a5b6', 'message': ""Add prefix for all trunk bridges and ports\n\nIt's new config option for trunk drivers which allows to\nconfigure common prefix for all trunk ports, subports and\nbridges.\nIt is used for Openvswitch trunk driver and only for testing purpose.\nThis option shoudn't be changed from it's default value on production\ncode.\n\nChange-Id: I028fa26e7565b008c6344c8046b6f50faf92741e\nCloses-Bug: #1687709\n""}]",64,514586,ad6e893669de30f10c7a66b0fd36b3b32297a5b6,75,11,7,11975,,,0,"Add prefix for all trunk bridges and ports

It's new config option for trunk drivers which allows to
configure common prefix for all trunk ports, subports and
bridges.
It is used for Openvswitch trunk driver and only for testing purpose.
This option shoudn't be changed from it's default value on production
code.

Change-Id: I028fa26e7565b008c6344c8046b6f50faf92741e
Closes-Bug: #1687709
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/514586/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/drivers/openvswitch/utils.py', 'neutron/tests/fullstack/test_trunk.py', 'neutron/services/trunk/drivers/openvswitch/agent/trunk_manager.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/conf/services/trunk.py', 'neutron/services/trunk/drivers/base.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py']",8,30c1baabcba8eef6c44b89c5f39808097c97f627,bug/1687709,"from oslo_config import cfg prefix = ""%s%s"" % (cfg.CONF.trunk.prefix, t_const.TRUNK_BR_PREFIX) return port_name.startswith(prefix) return port_name.startswith(tman.SubPort.dev_prefix()) return (is_trunk_bridge(port_name) or port_name.startswith( tman.TrunkParentPort.dev_prefix()) or port_name.startswith( tman.SubPort.dev_prefix()))"," return port_name.startswith(t_const.TRUNK_BR_PREFIX) return port_name.startswith(tman.SubPort.DEV_PREFIX) return is_trunk_bridge(port_name) or port_name[:2] in ( tman.TrunkParentPort.DEV_PREFIX, tman.SubPort.DEV_PREFIX)",70,12
openstack%2Fmistral~stable%2Fpike~I04a0e7e7a2b8d37346c1aadfad8d7a6b972abcbe,openstack/mistral,stable/pike,I04a0e7e7a2b8d37346c1aadfad8d7a6b972abcbe,'all' parameter breaks task context,MERGED,2017-11-03 11:12:37.000000000,2017-11-04 08:22:08.000000000,2017-11-04 08:22:08.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 11:12:37.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/tests/unit/engine/test_join.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/57b92c5055bea2730e3583742137f9727ac95499', 'message': ""'all' parameter breaks task context\n\nThe previous context of task is injected in the current task when contains 'all' operation.\nFor example, the expression function 'task' no longer works.\n\nChange-Id: I04a0e7e7a2b8d37346c1aadfad8d7a6b972abcbe\nCloses-Bug: 1705394\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n(cherry picked from commit b205e21310eab5d05849a085435751819e618903)\n""}]",0,517604,57b92c5055bea2730e3583742137f9727ac95499,7,3,1,27008,,,0,"'all' parameter breaks task context

The previous context of task is injected in the current task when contains 'all' operation.
For example, the expression function 'task' no longer works.

Change-Id: I04a0e7e7a2b8d37346c1aadfad8d7a6b972abcbe
Closes-Bug: 1705394
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
(cherry picked from commit b205e21310eab5d05849a085435751819e618903)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/04/517604/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/tests/unit/engine/test_join.py']",2,57b92c5055bea2730e3583742137f9727ac95499,bug/1705394-stable/pike," def test_join_saving_task_context_with_all(self): workflow = """"""--- version: '2.0' test_workflow: type: direct tasks: task1: action: std.echo output='task1' on-success: - task2 publish: result: <% task().result %> task2: action: std.echo output='task2' join: all publish: result: <% task().result %> """""" wf_service.create_workflows(workflow) wf_ex = self.engine.start_workflow('test_workflow', '', {}) self.await_workflow_success(wf_ex.id) with db_api.transaction(): wf_ex = db_api.get_workflow_execution(wf_ex.id) tasks = wf_ex.task_executions for task in tasks: task_result = task.published[""result""] self.assertEqual(task.name, task_result, ""The result of task must equal own name"")",,43,2
openstack%2Ftripleo-heat-templates~master~I1c0251be58535d59fe0ec157cb9acaba209e8732,openstack/tripleo-heat-templates,master,I1c0251be58535d59fe0ec157cb9acaba209e8732,Allow installing multiple-node Kubernetes,MERGED,2017-10-24 16:00:25.000000000,2017-11-04 08:08:41.000000000,2017-11-04 08:08:40.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-24 16:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/856002c84a6ba0bc14741aca5ad4d892dffd27eb', 'message': ""Allow installing multiple-node Kubernetes\n\nBy setting loadbalancer_apiserver_localhost to false we tell the\nkubelets to register with 1st master rather than assuming there's an\nAPI proxy running on each host.\n\nAlso Kubespray expects a specific format of inventory because it tries\nto enforce that hostname matches the invenotry name of the node. This\npreviously resulted in incorrect hostnames being set.\n\nChange-Id: I1c0251be58535d59fe0ec157cb9acaba209e8732\n""}, {'number': 2, 'created': '2017-10-26 15:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2bcc8dd9df0974caeeb297acf2e0de174be2b93a', 'message': ""Allow installing multiple-node Kubernetes\n\nBy setting loadbalancer_apiserver_localhost to false we tell the\nkubelets to register with 1st master rather than assuming there's an\nAPI proxy running on each host.\n\nAlso Kubespray expects a specific format of inventory because it tries\nto enforce that hostname matches the invenotry name of the node. This\npreviously resulted in incorrect hostnames being set.\n\nAnd we also open the necessary firewall ports to allow the cluster to\ncommunicate.\n\nChange-Id: I1c0251be58535d59fe0ec157cb9acaba209e8732\n""}, {'number': 3, 'created': '2017-11-01 09:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/427b242e8d3372f7cf7fb18082ef3974eb684e53', 'message': ""Allow installing multiple-node Kubernetes\n\nBy setting loadbalancer_apiserver_localhost to false we tell the\nkubelets to register with 1st master rather than assuming there's an\nAPI proxy running on each host.\n\nAlso Kubespray expects a specific format of inventory because it tries\nto enforce that hostname matches the invenotry name of the node. This\npreviously resulted in incorrect hostnames being set.\n\nAnd we also open the necessary firewall ports to allow the cluster to\ncommunicate.\n\nChange-Id: I1c0251be58535d59fe0ec157cb9acaba209e8732\n""}, {'number': 4, 'created': '2017-11-01 15:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a98776a3195f499b856b09966ec2ab61958d0768', 'message': ""Allow installing multiple-node Kubernetes\n\nBy setting loadbalancer_apiserver_localhost to false we tell the\nkubelets to register with 1st master rather than assuming there's an\nAPI proxy running on each host.\n\nAlso Kubespray expects a specific format of inventory because it tries\nto enforce that hostname matches the invenotry name of the node. This\npreviously resulted in incorrect hostnames being set.\n\nAnd we also open the necessary firewall ports to allow the cluster to\ncommunicate.\n\nChange-Id: I1c0251be58535d59fe0ec157cb9acaba209e8732\n""}, {'number': 5, 'created': '2017-11-02 11:07:31.000000000', 'files': ['extraconfig/services/kubernetes-master.yaml', 'extraconfig/services/kubernetes-worker.yaml', 'ci/environments/scenario006-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a314d1b546535d2dfeca08e35cb3865b1e8846c0', 'message': ""Allow installing multiple-node Kubernetes\n\nBy setting loadbalancer_apiserver_localhost to false we tell the\nkubelets to register with 1st master rather than assuming there's an\nAPI proxy running on each host.\n\nAlso Kubespray expects a specific format of inventory because it tries\nto enforce that hostname matches the invenotry name of the node. This\npreviously resulted in incorrect hostnames being set.\n\nAnd we also open the necessary firewall ports to allow the cluster to\ncommunicate.\n\nChange-Id: I1c0251be58535d59fe0ec157cb9acaba209e8732\n""}]",4,514730,a314d1b546535d2dfeca08e35cb3865b1e8846c0,51,9,5,8042,,,0,"Allow installing multiple-node Kubernetes

By setting loadbalancer_apiserver_localhost to false we tell the
kubelets to register with 1st master rather than assuming there's an
API proxy running on each host.

Also Kubespray expects a specific format of inventory because it tries
to enforce that hostname matches the invenotry name of the node. This
previously resulted in incorrect hostnames being set.

And we also open the necessary firewall ports to allow the cluster to
communicate.

Change-Id: I1c0251be58535d59fe0ec157cb9acaba209e8732
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/514730/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/kubernetes-master.yaml'],1,856002c84a6ba0bc14741aca5ad4d892dffd27eb,kubespray7, {{ hostvars.raw_get(host)['ansible_hostname'] }}: ansible_host: {{ hostvars.raw_get(host)['ansible_host'] | default(host) }} {{ hostvars.raw_get(host)['ansible_hostname'] }}: ansible_host: {{ hostvars.raw_get(host)['ansible_host'] | default(host) }} loadbalancer_apiserver_localhost: false, {{host}}: {{host}}:,5,2
openstack%2Fopenstack-manuals~master~I4a3f9bb0c85a67d3b937ea171525bebdaa2d8782,openstack/openstack-manuals,master,I4a3f9bb0c85a67d3b937ea171525bebdaa2d8782,Imported Translations from Zanata,MERGED,2017-11-04 06:56:24.000000000,2017-11-04 08:04:09.000000000,2017-11-04 08:04:09.000000000,"[{'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 06:56:24.000000000', 'files': ['doc/common/source/locale/ru/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8760a0e85ffe640f72da0451cb1555b8b42d305b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4a3f9bb0c85a67d3b937ea171525bebdaa2d8782\n'}]",0,517747,8760a0e85ffe640f72da0451cb1555b8b42d305b,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4a3f9bb0c85a67d3b937ea171525bebdaa2d8782
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/47/517747/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/source/locale/ru/LC_MESSAGES/common.po'],1,8760a0e85ffe640f72da0451cb1555b8b42d305b,zanata/translations,"# Ilya Alekseyev <ilyaalekseyev@acm.org>, 2017. #zanata""POT-Creation-Date: 2017-11-03 14:21+0000\n""""PO-Revision-Date: 2017-11-03 12:44+0000\n"" ""Last-Translator: Ilya Alekseyev <ilyaalekseyev@acm.org>\n""msgid """" ""For the available OpenStack documentation, see `docs.openstack.org <https://"" ""docs.openstack.org>`_."" msgstr """" ""Для просмотра доступной документации по OpenStack перейдите по ссылке `docs."" ""openstack.org <https://docs.openstack.org>`_."" msgid ""The following book explains how to use the command-line clients:"" msgstr ""Книга объясняющая использование клиентов командной строки:"" ""The following guides explain how to install an OpenStack cloud and its "" ""associated components:"" msgstr """" ""Следующие руководства объясняют как установить облако OpenStack и связанные "" ""с ним компоненты:"" msgid """"msgid ""`API Guide <https://developer.openstack.org/api-guide/quick-start/>`_"" msgstr """" ""`Руководство по API <https://developer.openstack.org/api-guide/quick-start/"" "">`_"" msgid ""`Administrator Guide <https://docs.openstack.org/admin-guide/>`_"" msgstr """" ""`Руководство администратора <https://docs.openstack.org/admin-guide/>`_"" msgid ""`Architecture Design Guide <https://docs.openstack.org/arch-design/>`_"" msgstr """" ""`Руководство по проектированию архитектуры <https://docs.openstack.org/arch-"" ""design/>`_"" msgid """" ""`Command-Line Interface Reference <https://docs.openstack.org/cli-reference/"" "">`_"" msgstr """" ""`Справка по интерфейсу командной строки <https://docs.openstack.org/cli-"" ""reference/>`_"" msgid """" ""`Configuration Reference <https://docs.openstack.org/pike/configuration/>`_"" msgstr """" ""`Справка по настройке <https://docs.openstack.org/pike/configuration/>`_"" msgid """" ""`Documentation Contributor Guide <https://docs.openstack.org/doc-contrib-"" ""guide/>`_"" msgstr """" ""`Руководство разработчика документации <https://docs.openstack.org/doc-"" ""contrib-guide/>`_"" msgid ""`High Availability Guide <https://docs.openstack.org/ha-guide/>`_"" msgstr """" ""`Руководство по высокой доступности <https://docs.openstack.org/ha-guide/>`_"" msgid ""`Networking Guide <https://docs.openstack.org/neutron/latest/admin/>`_"" msgstr """" ""`Руководство по сетевым компонентам <https://docs.openstack.org/neutron/"" ""latest/admin/>`_"" msgid """" ""`OpenStack Pike Installation Guides <https://docs.openstack.org/pike/install/"" "">`_"" msgstr """" ""`Руководство по установке OpenStack Pike <https://docs.openstack.org/pike/"" ""install/>`_"" msgid ""`Security Guide <https://docs.openstack.org/security-guide/>`_"" msgstr """" ""`Руководство по безопасности <https://docs.openstack.org/security-guide/>`_"" msgid """" ""`Virtual Machine Image Guide <https://docs.openstack.org/image-guide/>`_"" msgstr """" ""`Руководство по образам виртуальных машин <https://docs.openstack.org/image-"" ""guide/>`_"" ","""POT-Creation-Date: 2017-09-25 02:58+0000\n""""PO-Revision-Date: 2017-01-22 10:22+0000\n"" ""Last-Translator: Thomas Vysokos <thomas.vysokos@hivemind.agency>\n""",80,3
openstack%2Fsecurity-doc~master~I880871c083f7de93eb94c9e589b46fc2a04218e2,openstack/security-doc,master,I880871c083f7de93eb94c9e589b46fc2a04218e2,Imported Translations from Zanata,MERGED,2017-11-04 07:02:26.000000000,2017-11-04 07:56:10.000000000,2017-11-04 07:56:10.000000000,"[{'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 07:02:26.000000000', 'files': ['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/3236f8ee3783d2e0db112ce5e85ff40fc981021c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I880871c083f7de93eb94c9e589b46fc2a04218e2\n'}]",0,517748,3236f8ee3783d2e0db112ce5e85ff40fc981021c,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I880871c083f7de93eb94c9e589b46fc2a04218e2
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/48/517748/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po']",4,3236f8ee3783d2e0db112ce5e85ff40fc981021c,zanata/translations,"""POT-Creation-Date: 2017-11-03 14:12+0000\n""","""POT-Creation-Date: 2017-11-02 08:19+0000\n""""A hybrid cloud is defined by NIST as a composition of two or more distinct "" ""cloud infrastructures, such as private, community, or public, that remain "" ""unique entities, but are bound together by standardized or proprietary "" ""technology that enables data and application portability, such as cloud "" ""bursting for load balancing between clouds. For example an online retailer "" ""may have their advertising and catalogue presented on a public cloud that "" ""allows for elastic provisioning. This would enable them to handle seasonal "" ""loads in a flexible, cost-effective fashion. Once a customer begins to "" ""process their order, they are transferred to the more secure private cloud "" ""back end that is PCI compliant."" msgstr """" ""Eine Hybrid-Cloud wird von NIST als Komposition von zwei oder mehr "" ""verschiedenen Cloud-Infrastrukturen definiert, wie z.B. Private, Community "" ""oder Public, die eindeutige Entitäten bleiben, aber durch eine "" ""standardisierte oder proprietäre Technologie miteinander verbunden sind, die "" ""Daten- und Anwendungsportabilität ermöglicht Cloud Bursting für "" ""Lastausgleich zwischen Clouds. Zum Beispiel kann ein Online-Händler seine "" ""Werbung und Katalog auf einer öffentlichen Cloud präsentieren, die eine "" ""elastische Bereitstellung ermöglicht. Dies würde es ihm ermöglichen, "" ""saisonale Lasten in einer flexiblen, kostengünstigen Weise zu behandeln. "" ""Sobald ein Kunde beginnt, seine Bestellung zu verarbeiten, werden sie auf "" ""das sicherere private Cloud-Backend übertragen, das PCI-konform ist."" msgid """"""A network topology should be provided with highlights specifically calling "" ""out the data flows and bridging points between the security domains. Network "" ""ingress and egress points should be identified along with any OpenStack "" ""logical system boundaries. Multiple diagrams may be needed to provide "" ""complete visual coverage of the system. A network topology document should "" ""include virtual networks created on behalf of tenants by the system along "" ""with virtual machine instances and gateways created by OpenStack."" msgstr """" ""Eine Netzwerktopologie sollte mit Highlights versehen werden, die "" ""ausdrücklich die Datenströme und Brückenpunkte zwischen den "" ""Sicherheitsdomänen aufruft. Netzwerk-Eingangs- und Ausgangspunkte sollten "" ""mit allen offenen logischen Systemgrenzen identifiziert werden. Es können "" ""mehrere Diagramme benötigt werden, um eine vollständige visuelle Abdeckung "" ""des Systems zu gewährleisten. Ein Netzwerk-Topologie-Dokument sollte "" ""virtuelle Netzwerke enthalten, die im Auftrag von Tenants durch das System "" ""zusammen mit virtuellen Maschineninstanzen und Gateways erstellt wurden, die "" ""von OpenStack erstellt wurden."" msgid """"""According to NIST, a public cloud is one in which the infrastructure is open "" ""to the general public for consumption. OpenStack public clouds are typically "" ""run by a :term:`service provider` and can be consumed by individuals, "" ""corporations, or any paying customer. A public cloud provider may expose a "" ""full set of features such as software-defined networking, block storage, in "" ""addition to multiple instance types. Due to the nature of public clouds, "" ""they are exposed to a higher degree of risk. As a consumer of a public cloud "" ""you should validate that your selected provider has the necessary "" ""certifications, attestations, and other regulatory considerations. As a "" ""public cloud provider, depending on your target customers, you may be "" ""subject to one or more regulations. Additionally, even if not required to "" ""meet regulatory requirements, a provider should ensure tenant isolation as "" ""well as protecting management infrastructure from external attacks."" msgstr """" ""Nach NIST ist eine public Cloud eine, in der die Infrastruktur für die "" ""Öffentlichkeit für den Konsum offen ist. OpenStack Public Clouds werden in "" ""der Regel von einem :term:`service provider` betrieben und können von "" ""Einzelpersonen, Unternehmen oder einem zahlenden Kunden verbraucht werden. "" ""Ein öffentlicher Cloud-Provider kann neben mehreren Instanztypen einen "" ""vollständigen Satz von Features wie Software-definierten Netzwerken, "" ""Blockspeicher, anbieten. Aufgrund der Natur der öffentlichen Clouds sind sie "" ""einem höheren Risiko ausgesetzt. Als Verbraucher einer öffentlichen Cloud "" ""sollten Sie bestätigen, dass Ihr ausgewählter Anbieter über die notwendigen "" ""Zertifizierungen, Bescheinigungen und sonstigen regulatorischen Erwägungen "" ""verfügt. Als öffentlicher Cloud-Anbieter, je nach Zielkunden, können Sie "" ""einer oder mehreren Vorschriften unterliegen. Darüber hinaus, auch wenn "" ""nicht erforderlich, um regulatorische Anforderungen zu erfüllen, sollte ein "" ""Anbieter die Tenant Isolation sowie Schutz der Management-Infrastruktur von "" ""externen Angriffen zu gewährleisten."" msgid """"""As most management commands flow through the message queuing system, it is a "" ""primary security concern for any OpenStack deployment. Message queuing "" ""security is discussed in detail later in this guide."" msgstr """" ""Da die meisten Managementbefehle durch das Message-Warteschlangen-System "" ""fließen, ist es ein primäres Sicherheitsinteresse für jede OpenStack-"" ""Bereitstellung. Die Message-Warteschlangen-Sicherheit wird später in diesem "" ""Handbuch ausführlich besprochen."" msgid """"""At the opposite end of the spectrum is the private cloud. As NIST defines "" ""it, a private cloud is provisioned for exclusive use by a single "" ""organization comprising multiple consumers, such as business units. It may "" ""be owned, managed, and operated by the organization, a third-party, or some "" ""combination of them, and it may exist on or off premises. Private cloud use "" ""cases are diverse, as such, their individual security concerns vary."" msgstr """" ""Am entgegengesetzten Ende des Spektrums ist die private Cloud. Wie NIST es "" ""definiert, wird eine private Cloud für die ausschließliche Verwendung durch "" ""eine einzelne Organisation mit mehreren Verbrauchern, wie z. B. "" ""Geschäftseinheiten, bereitgestellt. Sie kann im Besitz der Organisation "" ""liegen, von ihr verwaltet und betrieben werdenn, einem Dritten oder eine "" ""Kombination von beiden, und es kann in- oder außerhalb der Räumlichkeiten "" ""existieren. Private Cloud Use Cases sind vielfältig und ihre individuellen "" ""Sicherheitsbedenken variieren."" msgid """"""Clouds without stringent compliance requirements for written documentation "" ""might benefit from having a Configuration Management Database (CMDB). CMDBs "" ""are normally used for hardware asset tracking and overall life-cycle "" ""management. By leveraging a CMDB, an organization can quickly identify cloud "" ""infrastructure hardware such as compute nodes, storage nodes, or network "" ""devices. A CMDB can assist in identifying assets that exist on the network "" ""which may have vulnerabilities due to inadequate maintenance, inadequate "" ""protection or being displaced and forgotten. An OpenStack provisioning "" ""system can provide some basic CMDB functions if the underlying hardware "" ""supports the necessary auto-discovery features."" msgstr """" ""Clouds ohne strenge Compliance-Anforderungen für die schriftliche "" ""Dokumentation können von einer Configuration Management Database (CMDB) "" ""profitieren. CMDBs werden normalerweise für die Hardware-Asset-Tracking und "" ""das gesamte Life-Cycle-Management verwendet. Durch die Nutzung einer CMDB "" ""kann eine Organisation schnell Cloud-Infrastruktur-Hardware wie Compute-"" ""Knoten, Speicherknoten oder Netzwerkgeräte identifizieren. Ein CMDB kann bei "" ""der Identifizierung von Vermögenswerten, die im Netzwerk vorhanden sind, "" ""helfen, die aufgrund unzureichender Wartung, unzureichendem Schutz oder "" ""Verschiebung und Vergessen von Schwachstellen auftreten können. Ein "" ""OpenStack-Provisioning-System kann einige grundlegende CMDB-Funktionen "" ""bereitstellen, wenn die zugrunde liegende Hardware die notwendigen Auto-"" ""Discovery-Funktionen unterstützt."" msgid """"msgid """" ""Documentation should provide a general description of the OpenStack "" ""environment and cover all systems used (production, development, test, "" ""etc.). Documenting system components, networks, services, and software often "" ""provides the bird's-eye view needed to thoroughly cover and consider "" ""security concerns, attack vectors and possible security domain bridging "" ""points. A system inventory may need to capture ephemeral resources such as "" ""virtual machines or virtual disk volumes that would otherwise be persistent "" ""resources in a traditional IT system."" msgstr """" ""Die Dokumentation sollte eine allgemeine Beschreibung der OpenStack-Umgebung "" ""geben und alle verwendeten Systeme (Produktion, Entwicklung, Test usw.) "" ""abdecken. Die Dokumentation von Systemkomponenten, Netzwerken, Diensten und "" ""Software bietet oft die Vogelperspektive, die erforderlich ist, um "" ""Sicherheitsbedenken, Angriffsvektoren und mögliche "" ""Sicherheitsüberbrückungspunkte sorgfältig abzudecken und zu berücksichtigen. "" ""Ein Systeminventory muss möglicherweise ephemeren Ressourcen wie virtuelle "" ""Maschinen oder virtuelle Datenträgervolumina erfassen, die ansonsten "" ""persistente Ressourcen in einem herkömmlichen IT-System sein würden."" ""Each OpenStack deployment embraces a wide variety of technologies, spanning "" ""Linux distributions, database systems, messaging queues, OpenStack "" ""components themselves, access control policies, logging services, security "" ""monitoring tools, and much more. It should come as no surprise that the "" ""security issues involved are equally diverse, and their in-depth analysis "" ""would require several guides. We strive to find a balance, providing enough "" ""context to understand OpenStack security issues and their handling, and "" ""provide external references for further information. The guide could be read "" ""from start to finish or sampled as necessary like a reference."" msgstr """" ""Jede OpenStack-Implementierung umfasst eine Vielzahl von Technologien, die "" ""sich über Linux-Distributionen, Datenbanksysteme, Messaging-Warteschlangen, "" ""OpenStack-Komponenten selbst, Zugriffskontrollrichtlinien, "" ""Protokollierungsdienste, Sicherheitsüberwachungsinstrumente und vieles mehr "" ""erstrecken. Es sollte nicht überraschen, dass die Sicherheitsfragen "" ""gleichermaßen unterschiedlich sind, und ihre eingehende Analyse würde "" ""mehrere Guides erfordern. Wir sind bestrebt, ein Gleichgewicht zu finden, "" ""das genügend Kontext bietet, um OpenStack Sicherheitsprobleme und deren "" ""Handhabung zu verstehen und externe Referenzen für weitere Informationen zur "" ""Verfügung zu stellen. Der Leidfaden kann von Anfang bis Ende gelesen werden, "" ""oder auszugsweise wie eine Referenz."" msgid """"""For the purposes of this document, we treat community and hybrid similarly, "" ""dealing explicitly only with the extremes of public and private clouds from "" ""a security perspective. Your security measures depend where your deployment "" ""falls upon the private public continuum."" msgstr """" ""Für die Zwecke dieses Dokuments behandeln wir Community und Hybrid in "" ""ähnlicher Weise und handeln explizit nur mit den Extremen der öffentlichen "" ""und privaten Cloudn aus einer Perspektive der Sicherheit. Ihre "" ""Sicherheitsmaßnahmen hängen davon ab, wo Ihr Einsatz auf das private "" ""öffentliche Kontinuum fällt."" msgid """"""It is important to understand that object storage differs from traditional "" ""file system storage. It is best used for static data such as media files "" ""(MP3s, images, videos), virtual machine images, and backup files."" msgstr """" ""Es ist wichtig zu verstehen, dass die Objektspeicherung vom traditionellen "" ""Dateisystemspeicher abweicht. Es wird am besten für statische Daten wie "" ""Mediendateien (MP3s, Bilder, Videos), virtuelle Maschinenabbilder und Backup-"" ""Dateien verwendet."" msgid """"msgid """" ""Knowing information about organizational assets is typically a best "" ""practice, therefore it is beneficial to create a table which contains "" ""information regarding the service, protocols and ports being utilized in the "" ""OpenStack deployment. The table can be created from information derived from "" ""a CMDB or can be constructed manually. The table can be customized to "" ""include an overview of all services running within the cloud infrastructure. "" ""The level of detail contained in this type of table can be beneficial as the "" ""information can immediately inform, guide, and assist with validating "" ""security requirements. Standard security components such as firewall "" ""configuration, service port conflicts, security remediation areas, and "" ""compliance become easier to maintain when concise information is available. "" ""An example of this type of table is provided below:"" msgstr """" ""Die Kenntnis von Informationen über organisatorische Vermögenswerte ist in "" ""der Regel eine bewährte Praxis, daher ist es vorteilhaft, eine Tabelle zu "" ""erstellen, die Informationen über den Dienst, Protokolle und Ports enthält, "" ""die in der OpenStack-Bereitstellung verwendet werden. Die Tabelle kann aus "" ""Informationen erstellt werden, die von einer CMDB abgeleitet werden oder "" ""kann manuell konstruiert werden. Die Tabelle kann angepasst werden, um eine "" ""Übersicht aller Dienste zu enthalten, die innerhalb der Cloud-Infrastruktur "" ""laufen. Die Detailstufe, die in dieser Art von Tabelle enthalten ist, kann "" ""von Vorteil sein, da die Informationen die Validierung von "" ""Sicherheitsanforderungen sofort informieren, begleiten und unterstützen "" ""können. Standard-Sicherheitskomponenten wie Firewall-Konfiguration, Service-"" ""Port-Konflikte, Sicherheits-Sanierungsbereiche und Compliance werden "" ""einfacher zu pflegen, wenn prägnante Informationen verfügbar sind. Ein "" ""Beispiel für diese Art von Tabelle ist unten angegeben:"" msgid """" ""NIST defines a community cloud as one whose infrastructure is provisioned "" ""for the exclusive use by a specific community of consumers from "" ""organizations that have shared concerns. For example, mission, security "" ""requirements, policy, and compliance considerations. It may be owned, "" ""managed, and operated by one or more of the organizations in the community, "" ""a third-party, or some combination of them, and it may exist on or off "" ""premises."" msgstr """" ""NIST definiert eine Community-Cloud als eine, deren Infrastruktur für die "" ""ausschließliche Verwendung durch eine bestimmte Gemeinschaft von "" ""Verbrauchern von Organisationen, die gemeinsame Interessen haben, "" ""bereitgestellt wird. Zum Beispiel Mission, Sicherheitsanforderungen, "" ""Richtlinien und Compliance-Überlegungen. Es kann im Besitz von einer oder "" ""mehreren der Organisationen in der Gemeinde liegen, verwaltet und betrieben "" ""werden, einem Dritten oder eine Kombination von beiden, und es kann auf oder "" ""außerhalb der Räumlichkeiten existieren."" msgid """" ""Object security should focus on access control and encryption of data in "" ""transit and at rest. Other concerns may relate to system abuse, illegal or "" ""malicious content storage, and cross authentication attack vectors."" msgstr """" ""Objektsicherheit sollte sich auf die Zugriffskontrolle und die "" ""Verschlüsselung von Daten im Transit und in Ruhe konzentrieren. Andere "" ""Bedenken können sich auf Systemmissbrauch, illegale oder böswillige Inhalte "" ""speichern und Cross-Authentifizierungs-Angriffsvektoren kreuzen."" msgid """" ""OpenStack :term:`Compute service (nova)` provides services to support the "" ""management of virtual machine instances at scale, instances that host multi-"" ""tiered applications, dev/test environments, \""Big Data\"" crunching Hadoop "" ""clusters, and/or high performance computing."" msgstr """" ""OpenStack :term:`Compute service (nova)` bietet Dienste zur Unterstützung "" ""der Verwaltung von virtuellen Maschineninstanzen im Wachstum, Instanzen, die "" ""mehrstufige Anwendungen, dev/Testumgebungen, \""Big Data\"" fressende Hadoop-"" ""Cluster und/oder high performance computing."" ""OpenStack Networking allows cloud tenants to manage their guest network "" ""configurations. Security concerns with the networking service include "" ""network traffic isolation, availability, integrity and confidentiality."" msgstr """" ""OpenStack Networking ermöglicht es Cloud-Tenants, ihre Gast-Netzwerk-"" ""Konfigurationen zu verwalten. Um die Sicherheit kümmert sich der Netzwerk-"" ""Service incl. Netzwerkverkehr Isolation, Verfügbarkeit, Integrität und "" ""Vertraulichkeit."" msgid """"""OpenStack is a key enabler in adoption of cloud technology and has several "" ""common deployment use cases. These are commonly known as Public, Private, "" ""and Hybrid models. The following sections use the National Institute of "" ""Standards and Technology (NIST) `definition of cloud <http://nvlpubs.nist."" ""gov/nistpubs/Legacy/SP/nistspecialpublication800-145.pdf>`__ to introduce "" ""these different types of cloud as they apply to OpenStack."" msgstr """" ""OpenStack ist ein wichtiger Enabler bei der Einführung von Cloud-Technologie "" ""und hat mehrere verbreitete Anwendungsfälle. Diese sind allgemein bekannt "" ""als Public, Private und Hybrid Modelle. Die folgenden Abschnitte verwenden "" ""das Nationale Institut für Normen und Technologie (NIST) ` Definition von "" ""Cloud <http://nvlpubs.nist.gov/nistpubs/Legacy/SP/"" ""nistspecialpublication800-145.pdf>`__, um diese verschiedenen Arten von "" ""Cloud vorzustellen, wie sie für OpenStack gelten."" msgid """"msgid """" ""OpenStack relies on messaging for internal communication between several of "" ""its services. By default, OpenStack uses message queues based on the :term:"" ""`AMQP <Advanced Message Queuing Protocol (AMQP)>`. Similar to most OpenStack "" ""services, it supports pluggable components. Today the implementation back "" ""end could be RabbitMQ, Qpid, or ZeroMQ."" msgstr """" ""OpenStack setzt auf Messaging für interne Kommunikation zwischen mehreren "" ""seiner Dienste. Standardmäßig verwendet OpenStack Nachrichtenwarteschlangen "" ""basierend auf :term:`AMQP <Advanced Message Queuing Protocol (AMQP)>`. "" ""Ähnlich wie bei den meisten OpenStack-Diensten unterstützt es steckbare "" ""Komponenten. Heute könnte das Implementierungsende Ende RabbitMQ, Qpid oder "" ""ZeroMQ sein."" msgid """" ""Referencing a table of services, protocols and ports can help in "" ""understanding the relationship between OpenStack components. It is highly "" ""recommended that OpenStack deployments have information similar to this on "" ""record."" msgstr """" ""Das Verweisen auf eine Tabelle von Diensten, Protokollen und Ports kann beim "" ""Verständnis der Beziehung zwischen OpenStack-Komponenten helfen. Es wird "" ""dringend empfohlen, dass OpenStack-Bereitstellungen so ähnliche "" ""Informationen wie auf dem Datensatz haben."" msgid """" ""Security concerns here pertain to trust in authentication, management of "" ""authorization tokens, and secure communication."" msgstr """" ""Sicherheitsbedenken betreffen Vertrauen in die Authentifizierung, Verwaltung "" ""von Berechtigungsmarken und sichere Kommunikation."" msgid ""Services, protocols and ports"" msgstr ""Dienstleistungen, Protokolle und Ports"" msgid """" ""Several of the components use databases though it is not explicitly called "" ""out. Securing the access to the databases and their contents is yet another "" ""security concern, and consequently discussed in more detail later in this "" ""guide."" msgstr """" ""Mehrere der Komponenten verwenden Datenbanken, obwohl sie nicht explizit "" ""aufgerufen werden. Die Sicherung des Zugangs zu den Datenbanken und deren "" ""Inhalt ist ein weiteres Sicherheitsrisiko und wurde daher später in diesem "" ""Leitfaden näher erläutert."" msgid """" ""Supporting components, such as load-balancers, reverse proxies, DNS or DHCP "" ""services"" msgstr """" ""Unterstützungskomponenten wie Load-Balancer, Reverse Proxies, DNS oder DHCP "" ""Services"" ""The :term:`Shared File Systems service (manila)` provides a set of services "" ""for management of shared file systems in a multi-tenant cloud environment, "" ""similar to how OpenStack provides for block-based storage management through "" ""the OpenStack Block Storage service project. With the Shared File Systems "" ""service, you can create a remote file system, mount the file system on your "" ""instances, and then read and write data from your instances to and from your "" ""file system."" msgstr """" ""Der :term:` Shared File Systems Service (Manila)` bietet eine Reihe von "" ""Diensten für das Management von gemeinsam genutzten Dateisystemen in einer "" ""Multi-Tenant-Cloud-Umgebung, ähnlich wie OpenStack für das blockbasierte "" ""Storage-Management über das OpenStack Block Storage Service-Projekt sorgt . "" ""Mit dem Dienst Shared File Systems können Sie ein Remote-Dateisystem "" ""erstellen, das Dateisystem auf Ihren Instanzen installieren und dann Daten "" ""von Ihren Instanzen zu und von Ihrem Dateisystem lesen und schreiben kann."" msgid """"""The Compute service facilitates this management through an abstraction layer "" ""that interfaces with supported hypervisors, which we address later on in "" ""more detail."" msgstr """" ""Der Compute-Service erleichtert dieses Management durch eine "" ""Abstraktionsschicht, die mit unterstützten Hypervisoren übereinstimmt, auf "" ""die wir später noch näher eingehen."" msgid """"""The OpenStack :term:`Dashboard (horizon)` provides a web-based interface for "" ""both cloud administrators and cloud tenants. Through this interface "" ""administrators and tenants can provision, manage, and monitor cloud "" ""resources. Horizon is commonly deployed in a public facing manner with all "" ""the usual security concerns of public web portals."" msgstr """" ""Der OpenStack :term:Dashboard (Horizon) bietet eine webbasierte "" ""Schnittstelle für Cloud-Administratoren und Cloud-Tenants. Durch diese "" ""Schnittstelle können Administratoren und Tenants Cloud-Ressourcen "" ""bereitstellen, verwalten und überwachen. Horizon wird häufig in einer "" ""öffentlich gemachten Weise mit allen üblichen Sicherheitsrisiko von "" ""öffentlichen Webportalen eingesetzt."" msgid """"""The OpenStack :term:`Image service (glance)` provides disk image management "" ""services. The Image service provides image discovery, registration, and "" ""delivery services to the Compute service, as needed."" msgstr """" ""Der OpenStack :term:`Image Service (glance)` bietet Disk Image Management "" ""Services an. Der Image-Service bietet nach Bedarf Abbildfindung, "" ""Registrierung und Zustelldienste an den Compute-Service."" msgid """" ""The OpenStack :term:`Networking service <Networking service (neutron)>` "" ""(neutron, previously called quantum) provides various networking services to "" ""cloud users (tenants) such as IP address management, DNS, DHCP, load "" ""balancing, and security groups (network access rules, like firewall "" ""policies). It provides a framework for software defined networking (SDN) "" ""that allows for pluggable integration with various networking solutions."" msgstr """" ""Der OpenStack :term:`Networking service <Networking service (neutron)>` "" ""(Neutron, früher Quantum genannt) bietet Cloud-Nutzern (Tenants) "" ""verschiedeneNetzwerkdienste wie IP-Adressverwaltung, DNS, DHCP, Load "" ""Balancing und Sicherheitsgruppen (Netzwerkzugriffsregeln wie Firewall-"" ""Richtlinien).Es bietet einen Rahmen für Software-definierte Vernetzung "" ""(SDN), die eine steckbare Integration mit verschiedenen Netzwerklösungen "" ""ermöglicht."" msgid """" ""The OpenStack :term:`Object Storage service (swift)` provides support for "" ""storing and retrieving arbitrary data in the cloud. The Object Storage "" ""service provides both a native API and an Amazon Web Services S3 compatible "" ""API. The service provides a high degree of resiliency through data "" ""replication and can handle petabytes of data."" msgstr """" ""Der OpenStack :term:`Object Storage service (swift)` bietet Unterstützung "" ""für das Speichern und Abrufen von beliebigen Daten in der Cloud. Der Object "" ""Storage Service bietet sowohl eine native API als auch eine Amazon Web "" ""Services S3 kompatible API. Der Service bietet ein hohes Maß an Resilienz "" ""durch Datenreplikation und kann mit Petabyte Daten verarbeiten."" msgid """"""The nodes that run the cloud related services such as the OpenStack Identity "" ""service, the message queuing service, storage, networking, and other "" ""services required to support the operation of the cloud."" msgstr """" ""Die Knoten, die die Cloud-bezogenen Dienste wie den OpenStack Identity-"" ""Dienst, den Nachrichtenwarteschlangendienst, die Speicherung, die Vernetzung "" ""und andere Dienste ausführen, die erforderlich sind, um den Betrieb der "" ""Cloud zu unterstützen."" msgid """"""The security of Compute is critical for an OpenStack deployment. Hardening "" ""techniques should include support for strong instance isolation, secure "" ""communication between Compute sub-components, and resiliency of public-"" ""facing API endpoints."" msgstr """" ""Die Sicherheit von Compute ist für eine OpenStack-Implementierung "" ""entscheidend. Härtungstechniken sollten Unterstützung für eine starke "" ""Instanzisolation, eine sichere Kommunikation zwischen Compute-Subkomponenten "" ""und eine Resilienz von öffentlich zugänglichen API-Endpunkten beinhalten."" msgid """"""We briefly introduce the kinds of clouds: private, public, and hybrid before "" ""presenting an overview of the OpenStack components and their related "" ""security concerns in the remainder of the chapter."" msgstr """" ""Wir stellen kurz die Arten von Cloudn vor: privat, öffentlich und hybride, "" ""bevor wir einen Überblick über die OpenStack-Komponenten und deren damit "" ""zusammenhängende Sicherheitsbedenken im weiteren Verlauf des Kapitels "" ""präsentieren."" msgid """"msgid ""allows secure login to nodes and guest VMs"" msgstr ""ermöglicht eine sichere Anmeldung an Knoten und Gast-VMs"" ",271,1347
openstack%2Fnova~master~Ia6b7b48778ef27cf5e3b0651a0ff5fc4a4990f00,openstack/nova,master,Ia6b7b48778ef27cf5e3b0651a0ff5fc4a4990f00,Updated from global requirements,MERGED,2017-11-03 00:56:29.000000000,2017-11-04 06:56:14.000000000,2017-11-03 15:31:04.000000000,"[{'_account_id': 679}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-03 00:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fff892f84e3a116aeb36763ee8cfdce53770616f', 'message': 'Updated from global requirements\n\nChange-Id: Ia6b7b48778ef27cf5e3b0651a0ff5fc4a4990f00\n'}, {'number': 2, 'created': '2017-11-03 01:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9770b74399f456a00d0d70bdb5463281c686160d', 'message': 'Updated from global requirements\n\nChange-Id: Ia6b7b48778ef27cf5e3b0651a0ff5fc4a4990f00\n'}, {'number': 3, 'created': '2017-11-03 13:49:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/eeb0ed38f5329d8ee0d55e49cc1d66d267c16079', 'message': 'Updated from global requirements\n\nChange-Id: Ia6b7b48778ef27cf5e3b0651a0ff5fc4a4990f00\n'}]",0,517489,eeb0ed38f5329d8ee0d55e49cc1d66d267c16079,30,13,3,11131,,,0,"Updated from global requirements

Change-Id: Ia6b7b48778ef27cf5e3b0651a0ff5fc4a4990f00
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/517489/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,fff892f84e3a116aeb36763ee8cfdce53770616f,openstack/requirements,oslo.context>=2.19.2 # Apache-2.0,"oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",1,1
openstack%2Fsenlin~master~Ia8933b3b65e0d6552958943f4175a4d5ad51010a,openstack/senlin,master,Ia8933b3b65e0d6552958943f4175a4d5ad51010a,Updated from global requirements,MERGED,2017-11-03 01:10:31.000000000,2017-11-04 06:34:54.000000000,2017-11-04 06:34:54.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 23401}]","[{'number': 1, 'created': '2017-11-03 01:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/81bf55ac4540c5b581b5b048341f4a060e274155', 'message': 'Updated from global requirements\n\nChange-Id: Ia8933b3b65e0d6552958943f4175a4d5ad51010a\n'}, {'number': 2, 'created': '2017-11-03 01:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/aefb9c16707f864b02720423d450199736cfbd50', 'message': 'Updated from global requirements\n\nChange-Id: Ia8933b3b65e0d6552958943f4175a4d5ad51010a\n'}, {'number': 3, 'created': '2017-11-03 14:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/6a029ede0182429af24f619abb3f4ae0fa1c24dd', 'message': 'Updated from global requirements\n\nChange-Id: Ia8933b3b65e0d6552958943f4175a4d5ad51010a\n'}, {'number': 4, 'created': '2017-11-03 18:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a2b2176134b61a88004fba501e52593a6fc90d0a', 'message': 'Updated from global requirements\n\nChange-Id: Ia8933b3b65e0d6552958943f4175a4d5ad51010a\n'}, {'number': 5, 'created': '2017-11-03 18:09:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b0f71002567952681c3cf01b648091bcd9799ade', 'message': 'Updated from global requirements\n\nChange-Id: Ia8933b3b65e0d6552958943f4175a4d5ad51010a\n'}]",0,517502,b0f71002567952681c3cf01b648091bcd9799ade,13,3,5,11131,,,0,"Updated from global requirements

Change-Id: Ia8933b3b65e0d6552958943f4175a4d5ad51010a
",git fetch https://review.opendev.org/openstack/senlin refs/changes/02/517502/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,81bf55ac4540c5b581b5b048341f4a060e274155,openstack/requirements,openstacksdk>=0.9.19 # Apache-2.0oslo.context>=2.19.2 # Apache-2.0,"openstacksdk>=0.9.18 # Apache-2.0oslo.context!=2.19.1,>=2.14.0 # Apache-2.0",2,2
openstack%2Fadjutant~master~I748b5036d40a32441f8953741fa68f61cd1f2aad,openstack/adjutant,master,I748b5036d40a32441f8953741fa68f61cd1f2aad,Add link to Read the Docs for project doc,MERGED,2017-11-04 06:07:36.000000000,2017-11-04 06:21:52.000000000,2017-11-04 06:21:52.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-04 06:07:36.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/bfef179935410fefa4637edce7b776f54ce3ba2c', 'message': 'Add link to Read the Docs for project doc\n\nChange-Id: I748b5036d40a32441f8953741fa68f61cd1f2aad\n'}]",0,517744,bfef179935410fefa4637edce7b776f54ce3ba2c,6,2,1,10420,,,0,"Add link to Read the Docs for project doc

Change-Id: I748b5036d40a32441f8953741fa68f61cd1f2aad
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/44/517744/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,bfef179935410fefa4637edce7b776f54ce3ba2c,new/documentation,Documentation can be found at: https://adjutant.readthedocs.io/ ,,2,0
openstack%2Ftripleo-common~master~Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d,openstack/tripleo-common,master,Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d,Only generate keystone v3 enabled overcloudrc's,MERGED,2017-10-30 13:34:18.000000000,2017-11-04 06:09:22.000000000,2017-11-04 06:09:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7065}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-30 13:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d563c492729e8a167aa782f9b5ef442156e15f4', 'message': ""Only generatre keystone v3 enabled overcloudrc's\n\nThe keystone v2.0 overcloudrc is not useful anymore, since keystone\nalready removed support for it. This commit doesn't remove overcloudrc,\nbut instead it makes it have the same contents as overcloudrc.v3.\n\nChange-Id: Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d\n""}, {'number': 2, 'created': '2017-10-30 13:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2689c75a0bd361cd9d6aef05efcf3f6bf41ef135', 'message': ""Only generatre keystone v3 enabled overcloudrc's\n\nThe keystone v2.0 overcloudrc is not useful anymore, since keystone\nalready removed support for it. This commit doesn't remove overcloudrc,\nbut instead it makes it have the same contents as overcloudrc.v3.\n\nChange-Id: Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d\n""}, {'number': 3, 'created': '2017-10-30 13:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b55b428079b5393a6dc973292e6a16d525f6c8a9', 'message': ""Only generate keystone v3 enabled overcloudrc's\n\nThe keystone v2.0 overcloudrc is not useful anymore, since keystone\nalready removed support for it. This commit doesn't remove overcloudrc,\nbut instead it makes it have the same contents as overcloudrc.v3.\n\nChange-Id: Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d\n""}, {'number': 4, 'created': '2017-10-30 13:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a0526bcaa954adc5f36408498e66090a9c221136', 'message': ""Only generate keystone v3 enabled overcloudrc's\n\nThe keystone v2.0 overcloudrc is not useful anymore, since keystone\nalready removed support for it. This commit doesn't remove overcloudrc,\nbut instead it makes it have the same contents as overcloudrc.v3.\n\nChange-Id: Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d\n""}, {'number': 5, 'created': '2017-10-30 13:48:36.000000000', 'files': ['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py', 'releasenotes/notes/v3-only-overcloudrc-8439cfed2145341f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7011b33e3586fe48b1da1b161027676fd215f712', 'message': ""Only generate keystone v3 enabled overcloudrc's\n\nThe keystone v2.0 overcloudrc is not useful anymore, since keystone\nalready removed support for it. This commit doesn't remove overcloudrc,\nbut instead it makes it have the same contents as overcloudrc.v3.\n\nChange-Id: Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d\n""}]",1,516296,7011b33e3586fe48b1da1b161027676fd215f712,21,6,5,10873,,,0,"Only generate keystone v3 enabled overcloudrc's

The keystone v2.0 overcloudrc is not useful anymore, since keystone
already removed support for it. This commit doesn't remove overcloudrc,
but instead it makes it have the same contents as overcloudrc.v3.

Change-Id: Ia98856e092a378ffa90e0dbf2fc8cddd0b5aa58d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/516296/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/overcloudrc.py'],1,9d563c492729e8a167aa782f9b5ef442156e15f4,v3-only," 'OS_USER_DOMAIN_NAME': 'Default', 'OS_PROJECT_DOMAIN_NAME': 'Default', 'OS_AUTH_URL': overcloud_endpoint.replace('/v2.0', '') + '/v3', 'OS_IDENTITY_API_VERSION': '3', ""overcloudrc.v3"": overcloudrc"," 'OS_AUTH_URL': overcloud_endpoint, rc_params.update({ 'OS_AUTH_URL': overcloud_endpoint.replace('/v2.0', '') + '/v3', 'OS_USER_DOMAIN_NAME': 'Default', 'OS_PROJECT_DOMAIN_NAME': 'Default', 'OS_IDENTITY_API_VERSION': '3' }) overcloudrc_v3 = CLEAR_ENV for key, value in rc_params.items(): line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': value} overcloudrc_v3 = overcloudrc_v3 + line overcloudrc_v3 = overcloudrc_v3 + CLOUDPROMPT ""overcloudrc.v3"": overcloudrc_v3",5,15
openstack%2Ftripleo-heat-templates~master~I25d15aac6adfab1dfd11d558404930736aace977,openstack/tripleo-heat-templates,master,I25d15aac6adfab1dfd11d558404930736aace977,Enable keystone db sync to log to stdout,MERGED,2017-10-31 09:19:21.000000000,2017-11-04 06:09:16.000000000,2017-11-04 06:09:16.000000000,"[{'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-31 09:19:21.000000000', 'files': ['docker/services/logging/files/keystone.yaml', 'docker/services/logging/stdout/keystone.yaml', 'docker/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/543f8463e6969da2f93f47c270b49b21ad5d612e', 'message': 'Enable keystone db sync to log to stdout\n\nThis tells the db sync to use stdout instead of a specific log file\nwhen stdout logging is enabled\n\nbp logging-stdout-rsyslog\n\nDepends-On: Id9e8c641a6b00725d2f5c9623b05854a1b4e2af2\nChange-Id: I25d15aac6adfab1dfd11d558404930736aace977\n'}]",0,516564,543f8463e6969da2f93f47c270b49b21ad5d612e,11,6,1,10873,,,0,"Enable keystone db sync to log to stdout

This tells the db sync to use stdout instead of a specific log file
when stdout logging is enabled

bp logging-stdout-rsyslog

Depends-On: Id9e8c641a6b00725d2f5c9623b05854a1b4e2af2
Change-Id: I25d15aac6adfab1dfd11d558404930736aace977
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/516564/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/logging/files/keystone.yaml', 'docker/services/logging/stdout/keystone.yaml', 'docker/services/keystone.yaml']",3,543f8463e6969da2f93f47c270b49b21ad5d612e,bp/logging-stdout-rsyslog," list_concat: - - KOLLA_BOOTSTRAP=True - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS - {get_attr: [KeystoneLogging, environment]}", - KOLLA_BOOTSTRAP=True - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS,11,2
openstack%2Fnova~master~I720630155e9aa53e049e932b9722aaa4ff4247db,openstack/nova,master,I720630155e9aa53e049e932b9722aaa4ff4247db,placement: Parse granular resources & traits,MERGED,2017-10-22 21:10:49.000000000,2017-11-04 05:52:57.000000000,2017-11-03 17:52:00.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 6125}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-22 21:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98b57d7393ee506c81e24c6e6c305ee6764d60a0', 'message': 'WIP: Parse numbered & unnumbered resources & traits\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n'}, {'number': 2, 'created': '2017-10-23 22:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6d6ff622737a7f0ebf0b2fad00702f5d3b46615', 'message': ""Parse numbered & unnumbered resources & traits\n\nIn anticipation of accepting numbered groupings to placement's\nGET /allocation_candidates API, this change adds a util method to parse\na single traits list query parameter value; and another to parse an\nentire querystring into unnumbered and numbered resource & traits\ngroupings.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}, {'number': 3, 'created': '2017-10-24 14:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce694f8560123d199947a4c3f9dd4f54eec4e783', 'message': ""Parse numbered & unnumbered resources & traits\n\nIn anticipation of accepting numbered groupings to placement's\nGET /allocation_candidates API, this change adds a util method to parse\na single traits list query parameter value; and another to parse an\nentire querystring into unnumbered and numbered resource & traits\ngroupings.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}, {'number': 4, 'created': '2017-10-31 19:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d97262d72c51ef01d6dc60680ac477268ade645', 'message': 'placement: Parse granular resources & traits\n\nIn anticipation of accepting numbered groupings in placement\'s GET\n/allocation_candidates API, this change adds a util method to parse a\nsingle traits list query parameter value; and another to parse an entire\nquerystring into a list of ResourceGroup instances.  ResourceGroup is a\nnew util class representing a grouping of resources and required traits,\nalong with an attribute that indicates whether the requested resources\nand traits must come from the same resource provider (corresponding to a\n""numbered"" resource group in the query string) or from any RP in the\nsame tree or aggregate (the ""unnumbered"" group).\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n'}, {'number': 5, 'created': '2017-10-31 21:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98d7dc702a76da2f954d738d4df86112ba0dcadc', 'message': ""placement: Parse granular resources & traits\n\nIn anticipation of accepting numbered groupings in placement's GET\n/allocation_candidates API, this change adds a util method to parse a\nsingle traits list query parameter value; and another to parse an entire\nquerystring into a list of RequestGroup instances.  RequestGroup is a\nnew util class representing a grouping of requested resources and\nrequired traits, along with an attribute that indicates whether the\nrequested resources and traits must come from the same resource\nprovider.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}, {'number': 6, 'created': '2017-10-31 23:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c21a2cd2fc34a3fd6e9cf846f0dcb8b79aa288f', 'message': ""placement: Parse granular resources & traits\n\nIn anticipation of accepting numbered groupings in placement's GET\n/allocation_candidates API, this change adds a util method to parse a\nsingle traits list query parameter value; and another to parse an entire\nquerystring into a list of RequestGroup instances.  RequestGroup is a\nnew util class representing a grouping of requested resources and\nrequired traits, along with an attribute that indicates whether the\nrequested resources and traits must come from the same resource\nprovider.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}, {'number': 7, 'created': '2017-11-01 14:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13dbbe2d14e53ea3f26d390a7853f4f7753d8780', 'message': ""placement: Parse granular resources & traits\n\nIn anticipation of accepting numbered groupings in placement's GET\n/allocation_candidates API, this change adds a util method to parse a\nsingle traits list query parameter value; and another to parse an entire\nquerystring into a list of RequestGroup instances.  RequestGroup is a\nnew util class representing a grouping of requested resources and\nrequired traits, along with an attribute that indicates whether the\nrequested resources and traits must come from the same resource\nprovider.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}, {'number': 8, 'created': '2017-11-02 17:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e50ef260741ce6cccef980bcc7c4d3d20a07d54d', 'message': ""placement: Parse granular resources & traits\n\nIn anticipation of accepting numbered groupings in placement's GET\n/allocation_candidates API, this change adds a util method to parse a\nsingle traits list query parameter value; and another to parse an entire\nquerystring into a list of RequestGroup instances.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}, {'number': 9, 'created': '2017-11-02 20:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6efbabaf9eb1f28eb7cf761db2f7bde394c913', 'message': ""placement: Parse granular resources & traits\n\nIn anticipation of accepting numbered groupings in placement's GET\n/allocation_candidates API, this change adds a util method to parse a\nsingle traits list query parameter value; and another to parse an entire\nquerystring into a list of RequestGroup instances.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}, {'number': 10, 'created': '2017-11-03 12:21:32.000000000', 'files': ['nova/api/openstack/placement/util.py', 'nova/tests/unit/api/openstack/placement/test_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e7fcbd88d39d9d54a7aca23cfb0031fe9d675ef', 'message': ""placement: Parse granular resources & traits\n\nIn anticipation of accepting numbered groupings in placement's GET\n/allocation_candidates API, this change adds a util method to parse a\nsingle traits list query parameter value; and another to parse an entire\nquerystring into a list of RequestGroup instances.\n\nChange-Id: I720630155e9aa53e049e932b9722aaa4ff4247db\nblueprint: granular-resource-requests\n""}]",37,514091,8e7fcbd88d39d9d54a7aca23cfb0031fe9d675ef,142,19,10,14070,,,0,"placement: Parse granular resources & traits

In anticipation of accepting numbered groupings in placement's GET
/allocation_candidates API, this change adds a util method to parse a
single traits list query parameter value; and another to parse an entire
querystring into a list of RequestGroup instances.

Change-Id: I720630155e9aa53e049e932b9722aaa4ff4247db
blueprint: granular-resource-requests
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/514091/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/util.py'],1,98b57d7393ee506c81e24c6e6c305ee6764d60a0,bp/granular-resource-requests," def normalize_traits_qs_param(val): """"""Parse a traits query string parameter value. Note that this method doesn't know or care about the query parameter key, which may currently be of the form `required`, `required123`, etc., but which may someday also include `preferred`, etc. This method currently does no format validation of trait strings, other than to ensure they're not zero-length. :param val: A traits query parameter value: a comma-separated string of trait names. :return: A list of trait names. :raises `webob.exc.HTTPBadRequest` if the val parameter is not in the expected format. """""" ret = [substr.strip() for substr in val.split(',')] if not all(trait for trait in ret): msg = _('Malformed traits parameter. Expected query string parameter ' 'of the form: ?required=HW_CPU_X86_VMX,CUSTOM_MAGIC. ' 'Got: ""%s""') % val raise webob.exc.HTTPBadRequest(msg) return ret def parse_qs_resources_and_traits(qsdict): """"""Parse numbered resources and traits groupings out of a querystring dict. The input qsdict represents a query string of the form: ?resources=$RESOURCE_CLASS_NAME:$AMOUNT,$RESOURCE_CLASS_NAME:$AMOUNT &required=$TRAIT_NAME,$TRAIT_NAME &resources1=$RESOURCE_CLASS_NAME:$AMOUNT,RESOURCE_CLASS_NAME:$AMOUNT &required1=$TRAIT_NAME,$TRAIT_NAME &resources2=$RESOURCE_CLASS_NAME:$AMOUNT,RESOURCE_CLASS_NAME:$AMOUNT &required2=$TRAIT_NAME,$TRAIT_NAME The return is a dictionary with two keys, 'numbered' and 'unnumbered'. The value of the 'unnumbered' item is a single dict with keys 'resources' and 'required'. The value of the 'numbered' item is a list of such dicts. The value of a 'resources' item is a dict of the form: { resource_class: count, ... } The value of a 'required' item is a list of trait names: [ trait_name, trait_name, ... ] As an example, if qsdict represents the query string: ?resources=VCPU:2,MEMORY_MB:1024,DISK_GB=50 &required=HW_CPU_X86_VMX,CUSTOM_STORAGE_RAID &resources1=SRIOV_NET_VF:2 &required1=CUSTOM_PHYSNET_PUBLIC,CUSTOM_SWITCH_A &resources2=SRIOV_NET_VF:1 &required2=CUSTOM_PHYSNET_PRIVATE ...the return value will be: { 'unnumbered': { 'resources': { ""VCPU"": 2, ""MEMORY_MB"": 1024, ""DISK_GB"" 50, }, 'required': [ ""HW_CPU_X86_VMX"", ""CUSTOM_STORAGE_RAID"", ], }, 'numbered': [ { 'resources': { ""SRIOV_NET_VF"": 2, }, 'required': [ ""CUSTOM_PHYSNET_PUBLIC"", ""CUSTOM_SWITCH_A"", ], }, { 'resources': { ""SRIOV_NET_VF"": 1, }, 'required': [ ""CUSTOM_PHYSNET_PRIVATE"", ], } ], } :param qsdict: The MultiDict representing the querystring on a GET. :return: A dictionary of the form: { 'unnumbered': { 'resources': { resource_class: count, ... }, 'required': [ trait_name, ... ], }, 'numbered': [ { 'resources': { resource_class: count, ... }, 'required': [ trait_name, ... ], }, ... ], } """""" def get_suffix(key, prefix): return key[len(prefix):] ret = {'unnumbered': {}, 'numbered': []} # Temporary dict of the form: # { suffix: { 'resources': {...}, 'required': [...] } } by_suffix = {} for key, val in qsdict.items(): if key.startswith('resources'): suff = get_suffix(key, 'resources') res = normalize_resources_qs_param(val) if suff: by_suffix[suff]['resources'] = res else: ret['unnumbered']['resources'] = res elif key.startswith('required'): suff = get_suffix(key, 'resources') req = normalize_traits_qs_param(val) if suff: by_suffix[suff]['required'] = req else: ret['unnumbered']['required'] = req # Convert by_suffix into the 'numbered' list ret['numbered'] = list(by_suffix.values()) return ret",,133,0
openstack%2Fnova~master~I8a70347d06d032788d27d1af8967a65d530c15fe,openstack/nova,master,I8a70347d06d032788d27d1af8967a65d530c15fe,RequestGroup class for placement & consumers,MERGED,2017-11-02 16:12:51.000000000,2017-11-04 05:33:12.000000000,2017-11-03 17:38:54.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-02 16:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/202a0b77b907919c3d8a7c39dff4583f188edab3', 'message': 'RequestGroup class for placement & consumers\n\nThis change introduces a new module, nova.api.openstack.placement.lib,\nwith a class RequestGroup, which is to be used both by the placement API\ninternally (when parsing the querystring to GET /allocation_candidates)\nand nova (when parsing extra_specs and producing said querystring for\nsaid API).\n\nThe decision to put this into a placement-specific package is\ndeliberate: when placement gets split out, this should go with it, so it\ncan be imported by any placement API consumer.  In the meantime, we\naccept that it will feel a little weird for nova code to import from a\nplacement API package; but this should be the only module for which that\nhappens - i.e. any other ""shared"" classes/utils should go in this same\nmodule.\n\nChange-Id: I8a70347d06d032788d27d1af8967a65d530c15fe\nblueprint: granular-resource-requests\n'}, {'number': 2, 'created': '2017-11-03 12:21:32.000000000', 'files': ['nova/api/openstack/placement/lib.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b7168d60ea9473c507673c0a45aa60d1fab528d', 'message': 'RequestGroup class for placement & consumers\n\nThis change introduces a new module, nova.api.openstack.placement.lib,\nwith a class RequestGroup, which is to be used both by the placement API\ninternally (when parsing the querystring to GET /allocation_candidates)\nand nova (when parsing extra_specs and producing said querystring for\nsaid API).\n\nThe decision to put this into a placement-specific package is\ndeliberate: when placement gets split out, this should go with it, so it\ncan be imported by any placement API consumer.  In the meantime, we\naccept that it will feel a little weird for nova code to import from a\nplacement API package; but this should be the only module for which that\nhappens - i.e. any other ""shared"" classes/utils should go in this same\nmodule.\n\nChange-Id: I8a70347d06d032788d27d1af8967a65d530c15fe\nblueprint: granular-resource-requests\n'}]",3,517364,4b7168d60ea9473c507673c0a45aa60d1fab528d,46,17,2,14070,,,0,"RequestGroup class for placement & consumers

This change introduces a new module, nova.api.openstack.placement.lib,
with a class RequestGroup, which is to be used both by the placement API
internally (when parsing the querystring to GET /allocation_candidates)
and nova (when parsing extra_specs and producing said querystring for
said API).

The decision to put this into a placement-specific package is
deliberate: when placement gets split out, this should go with it, so it
can be imported by any placement API consumer.  In the meantime, we
accept that it will feel a little weird for nova code to import from a
placement API package; but this should be the only module for which that
happens - i.e. any other ""shared"" classes/utils should go in this same
module.

Change-Id: I8a70347d06d032788d27d1af8967a65d530c15fe
blueprint: granular-resource-requests
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/517364/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/lib.py'],1,202a0b77b907919c3d8a7c39dff4583f188edab3,bp/granular-resource-requests,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Symbols intended to be imported by both placement code and placement API consumers. When placement is separated out, this module should be part of a common library that both placement and its consumers can require."""""" class RequestGroup(object): def __init__(self, use_same_provider=True, resources=None, required_traits=None): """"""Create a grouping of resource and trait requests. :param use_same_provider: If True, (the default) this RequestGroup represents requests for resources and traits which must be satisfied by a single resource provider. If False, represents a request for resources and traits in any resource provider in the same tree, or a sharing provider. :param resources: A dict of { resource_class: amount, ... } :param required_traits: A set of { trait_name, ... } """""" self.use_same_provider = use_same_provider self.resources = resources or {} self.required_traits = required_traits or set() def __eq__(self, other): return vars(self) == vars(other) ",,37,0
openstack%2Ftrove~master~I9bb26163f926e6c199dedce3f1a5e2a4f6a0dfda,openstack/trove,master,I9bb26163f926e6c199dedce3f1a5e2a4f6a0dfda,Fix duplicate instancetask code.,ABANDONED,2017-11-04 05:14:02.000000000,2017-11-04 05:25:41.000000000,,[],"[{'number': 1, 'created': '2017-11-04 05:14:02.000000000', 'files': ['trove/instance/tasks.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/2187cb3af6a87cb97eedfee92c33a3799e74cf7d', 'message': 'Fix duplicate instancetask code.\n\nEach kind of instance task should have a unique code,\nBUILDING_ERROR_TIMEOUT_GA and BUILDING_ERROR_REPLICA has the same\ncode(0x54), UPGRADING_ERROR and UPGRADING = InstanceTask has the same\ncode(0x59).\n\nChange-Id: I9bb26163f926e6c199dedce3f1a5e2a4f6a0dfda\n'}]",0,517741,2187cb3af6a87cb97eedfee92c33a3799e74cf7d,2,0,1,22608,,,0,"Fix duplicate instancetask code.

Each kind of instance task should have a unique code,
BUILDING_ERROR_TIMEOUT_GA and BUILDING_ERROR_REPLICA has the same
code(0x54), UPGRADING_ERROR and UPGRADING = InstanceTask has the same
code(0x59).

Change-Id: I9bb26163f926e6c199dedce3f1a5e2a4f6a0dfda
",git fetch https://review.opendev.org/openstack/trove refs/changes/41/517741/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/instance/tasks.py'],1,2187cb3af6a87cb97eedfee92c33a3799e74cf7d,instancetask-duplication," UPGRADING = InstanceTask(0x0c, 'UPGRADING', 'Upgrading the instance.') BUILDING_ERROR_TIMEOUT_GA = InstanceTask(0x5a, 'ERROR', 'Build error: ' 'guestagent timeout.', is_error=True)"," BUILDING_ERROR_TIMEOUT_GA = InstanceTask(0x54, 'ERROR', 'Build error: ' 'guestagent timeout.', is_error=True) UPGRADING = InstanceTask(0x59, 'UPGRADING', 'Upgrading the instance.')",5,5
openstack%2Fpuppet-tripleo~master~I2764ca1674dcd5ecd7886233bb5e9795ee697be3,openstack/puppet-tripleo,master,I2764ca1674dcd5ecd7886233bb5e9795ee697be3,Certmonger: Only notify haproxy class if it's defined,MERGED,2017-11-01 16:03:17.000000000,2017-11-04 05:23:26.000000000,2017-11-03 18:32:16.000000000,"[{'_account_id': 6924}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-11-01 16:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/025ad3d138a70c290dc5d3556426afa7e1f6d4be', 'message': ""Certmonger: Only notify haproxy class if it's defined\n\nThe haproxy certmonger resource (which requests the HAProxy certs)\nexpected the haproxy puppet manifests to run alongside if we're using a\nlocal CA. This is no longer the case in containerized environments, e.g.\nthe containerized undercloud. This makes that optional.\n\nChange-Id: I2764ca1674dcd5ecd7886233bb5e9795ee697be3\n""}, {'number': 2, 'created': '2017-11-01 16:05:54.000000000', 'files': ['manifests/certmonger/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/abd7a9486d8fb5cad7f6f0b48a466597f1d1bf71', 'message': ""Certmonger: Only notify haproxy class if it's defined\n\nThe haproxy certmonger resource (which requests the HAProxy certs)\nexpected the haproxy puppet manifests to run alongside if we're using a\nlocal CA. This is no longer the case in containerized environments, e.g.\nthe containerized undercloud. This makes that optional.\n\nChange-Id: I2764ca1674dcd5ecd7886233bb5e9795ee697be3\n""}]",0,517023,abd7a9486d8fb5cad7f6f0b48a466597f1d1bf71,21,5,2,10873,,,0,"Certmonger: Only notify haproxy class if it's defined

The haproxy certmonger resource (which requests the HAProxy certs)
expected the haproxy puppet manifests to run alongside if we're using a
local CA. This is no longer the case in containerized environments, e.g.
the containerized undercloud. This makes that optional.

Change-Id: I2764ca1674dcd5ecd7886233bb5e9795ee697be3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/517023/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/haproxy.pp', 'manifests/profile/base/keystone.pp']",2,025ad3d138a70c290dc5d3556426afa7e1f6d4be,undercloud-containers-tls," $notification_topics = hiera_array('keystone_notifications', [])",,4,2
openstack%2Ftripleo-heat-templates~master~Ie2617dd9dba1c49f37e82448b6bf229d127ed46a,openstack/tripleo-heat-templates,master,Ie2617dd9dba1c49f37e82448b6bf229d127ed46a,mysql: Only set certificate specs if TLS everywhere is enabled,MERGED,2017-11-01 16:13:56.000000000,2017-11-04 05:23:07.000000000,2017-11-03 20:25:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-01 16:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c387eecf14405183d55e9055c49f6a18db8f205', 'message': 'mysql: Only set certificate specs if TLS everywhere is enabled\n\nThe conditional was missing.\n\nChange-Id: Ie2617dd9dba1c49f37e82448b6bf229d127ed46a\nCloses-Bug: #1729384\n'}, {'number': 2, 'created': '2017-11-01 16:17:46.000000000', 'files': ['puppet/services/database/mysql.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/410e062aa0d91b99c4493fac6940499cc02e4288', 'message': 'mysql: Only set certificate specs if TLS everywhere is enabled\n\nThe conditional was missing.\n\nChange-Id: Ie2617dd9dba1c49f37e82448b6bf229d127ed46a\nCloses-Bug: #1729384\n'}]",0,517029,410e062aa0d91b99c4493fac6940499cc02e4288,21,6,2,10873,,,0,"mysql: Only set certificate specs if TLS everywhere is enabled

The conditional was missing.

Change-Id: Ie2617dd9dba1c49f37e82448b6bf229d127ed46a
Closes-Bug: #1729384
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/517029/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/database/mysql.yaml'],1,4c387eecf14405183d55e9055c49f6a18db8f205,bug/1729384," - if: - internal_tls_enabled - generate_service_certificates: true tripleo::profile::base::database::mysql::certificate_specs: service_certificate: '/etc/pki/tls/certs/mysql.crt' service_key: '/etc/pki/tls/private/mysql.key' hostname: str_replace: dnsnames: - str_replace: template: ""%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} - str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} principal: str_replace: template: ""mysql/%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]}"," - generate_service_certificates: true tripleo::profile::base::database::mysql::certificate_specs: service_certificate: '/etc/pki/tls/certs/mysql.crt' service_key: '/etc/pki/tls/private/mysql.key' hostname: str_replace: template: ""%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} dnsnames: - str_replace: - str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} principal: str_replace: template: ""mysql/%{hiera('cloud_name_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]}",23,20
openstack%2Fadjutant~master~If347905aa14b77b5943f1a9de97f6e287b98ce95,openstack/adjutant,master,If347905aa14b77b5943f1a9de97f6e287b98ce95,Documentation and Api Reference,MERGED,2017-08-28 05:01:46.000000000,2017-11-04 05:23:04.000000000,2017-11-04 05:23:04.000000000,"[{'_account_id': 3}, {'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-28 05:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/bb28e2a393aa676846ee948eac17689ec5adb072', 'message': '[WIP] Documentation\n\n* moving some of the information from the README\n* Adding configuration examples\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}, {'number': 2, 'created': '2017-09-05 00:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/7cc502def10e148a31834046eb9f2d7c855fa9a7', 'message': '[WIP] Documentation\n\n* moving some of the information from the README\n* Adding configuration examples\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}, {'number': 3, 'created': '2017-09-10 21:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/ac2f7d162184f8de4e336baf6ce8a2ef3177ee16', 'message': '[WIP] Documentation and api-ref\n\n* API Reference and documentation as two seperate sphinx\n  document sets\n* Information from the Devstack guide and README moved over\n  to the new documentation\n* Configuration examples\n* Examples of building plugins\n* Both using the bootstrap template\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}, {'number': 4, 'created': '2017-09-11 05:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/9a047acd20fd00204ee440e007c9dd3bdcd7e992', 'message': 'Documentation and Api Reference\n\n* API Reference and documentation as two seperate sphinx\n  document sets\n* Information from the Devstack guide and README moved over\n  to the new documentation\n* Configuration examples\n* Examples of building plugins\n* Both use the new sphinx-catalystcloud-theme\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}, {'number': 5, 'created': '2017-09-15 02:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/db0476d1530cfc8d0410a54a50d429e9192c350f', 'message': 'Documentation and Api Reference\n\n* API Reference and documentation as two seperate sphinx\n  document sets\n* Information from the Devstack guide and README moved over\n  to the new documentation\n* Configuration examples\n* Examples of building plugins\n* Both use the new sphinx-catalystcloud-theme\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}, {'number': 6, 'created': '2017-11-04 03:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/99f34ab68084d8955927a8ecaffa02e8d62b299a', 'message': 'Documentation and Api Reference\n\n* API Reference and documentation as two seperate sphinx\n  document sets\n* Information from the Devstack guide and README moved over\n  to the new documentation\n* Configuration examples\n* Examples of building plugins\n* Both use the new sphinx-catalystcloud-theme\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}, {'number': 7, 'created': '2017-11-04 04:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/637e3ea23008b807719d6c28e301e2d522faff20', 'message': 'Documentation and Api Reference\n\n* API Reference and documentation as two seperate sphinx\n  document sets\n* Information from the Devstack guide and README moved over\n  to the new documentation\n* Configuration examples\n* Examples of building plugins\n* Both use the new sphinx-catalystcloud-theme\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}, {'number': 8, 'created': '2017-11-04 05:00:40.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/source/plugins.rst', 'api-ref/source/taskviews.inc', 'doc/source/devstack-guide.rst', 'api-ref/source/index.rst', 'test-requirements.txt', 'api-ref/source/admin-api.inc', 'doc/source/configuration.rst', 'api-ref/source/_static/fonts/.keep', 'api-ref/source/http-status.yaml', 'doc/source/_static/fonts/.keep', 'doc/source/conf.py', 'api-ref/_static/fonts/glyphicons-halflings-regular.ttf', 'README.md', 'api-ref/_static/fonts/glyphicons-halflings-regular.woff', 'doc/source/index.rst', 'DEVSTACK_GUIDE.md', 'adjutant/settings.py', 'api-ref/source/conf.py', 'api-ref/source/v1-api-reference.rst', 'conf/conf.yaml', 'doc/source/design.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/6cbf3fa7f75de4efa64f292de5ed5235d6055264', 'message': 'Documentation and Api Reference\n\n* API Reference and documentation as two seperate sphinx\n  document sets\n* Information from the Devstack guide and README moved over\n  to the new documentation\n* Configuration examples\n* Examples of building plugins\n* Both use the new sphinx-rtd-theme\n\nChange-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95\n'}]",0,498313,6cbf3fa7f75de4efa64f292de5ed5235d6055264,20,3,8,26263,,,0,"Documentation and Api Reference

* API Reference and documentation as two seperate sphinx
  document sets
* Information from the Devstack guide and README moved over
  to the new documentation
* Configuration examples
* Examples of building plugins
* Both use the new sphinx-rtd-theme

Change-Id: If347905aa14b77b5943f1a9de97f6e287b98ce95
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/13/498313/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/plugins.rst', 'doc/source/api-reference.rst', 'doc/source/index.rst', 'adjutant/settings.py', 'doc/source/configuration.rst', 'README.md']",6,bb28e2a393aa676846ee948eac17689ec5adb072,new/documentation,"For ease of integration with OpenStack, these endpoints are setup to work and partly mimic the way similar ones would work in Keystone. They work and use the TaskViews, with some special changes for certain required endpoints.","For ease of integration with OpenStack, these endpoints are setup to work and partly mimic the way similar ones would work in Keystone. They work and use the TaskViews, with some specical changes for certain required endpoints.",390,4
openstack%2Fi18n~master~I2bfa4c1ff7856b3a7040dbe0b52440d094d38d78,openstack/i18n,master,I2bfa4c1ff7856b3a7040dbe0b52440d094d38d78,Merge static team meeting information from wiki,MERGED,2017-11-03 12:18:09.000000000,2017-11-04 05:05:43.000000000,2017-11-04 05:05:43.000000000,"[{'_account_id': 841}, {'_account_id': 4978}, {'_account_id': 14482}, {'_account_id': 20854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-03 12:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/c78390637a61e5bff5aaa6c162deed27fedd42a5', 'message': 'Merge static team meeting information from wiki\n\nChange-Id: I2bfa4c1ff7856b3a7040dbe0b52440d094d38d78\n'}, {'number': 2, 'created': '2017-11-03 12:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/fa6957a55561046ad5c1b7501045f33f018361c8', 'message': 'Merge static team meeting information from wiki\n\nChange-Id: I2bfa4c1ff7856b3a7040dbe0b52440d094d38d78\n'}, {'number': 3, 'created': '2017-11-03 13:43:28.000000000', 'files': ['doc/source/i18n_team_meeting.rst'], 'web_link': 'https://opendev.org/openstack/i18n/commit/2b2f57fb5508e38864c319ebe4bf60cb62fb0909', 'message': 'Merge static team meeting information from wiki\n\nChange-Id: I2bfa4c1ff7856b3a7040dbe0b52440d094d38d78\n'}]",4,517616,2b2f57fb5508e38864c319ebe4bf60cb62fb0909,16,5,3,17765,,,0,"Merge static team meeting information from wiki

Change-Id: I2bfa4c1ff7856b3a7040dbe0b52440d094d38d78
",git fetch https://review.opendev.org/openstack/i18n refs/changes/16/517616/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/i18n_team_meeting.rst'],1,c78390637a61e5bff5aaa6c162deed27fedd42a5,,"* Every odd week: `13:00 UTC, Thursday <https://www.timeanddate.com/worldclock/fixedtime.html?hour=07&min=00&sec=0>`_ * Every even week: `07:00 UTC, Thursday <https://www.timeanddate.com/worldclock/fixedtime.html?hour=07&min=00&sec=0>`_ Odd and even values are calculated based on `ISO week numbers <https://www.timeanddate.com/date/weeknumber.html>`_.Usual agenda * Review of action items from the previous meeting * Translation activities with plans from language teams * Launchpad bugs and Gerrit reviews * Open discussion Handy links (always sort of on the agenda) * `Translation plan: <https://translate.openstack.org/>`_ * `Translation statistics: <http://stackalytics.com/?metric=translations>`_ * `Bug lists: <https://bugs.launchpad.net/openstack-i18n>`_ * `Open reviews in openstack/i18n: <https://review.openstack.org/#/q/status:open+project:openstack/i18n>`_ IRC web client -------------- If you are not familiar with IRC, please read `IRC Wiki Page <https://wiki.openstack.org/wiki/IRC>`_. You can simply use the web client for Freenode to come to `#openstack-i18n or #openstack-meeting channel: http://webchat.freenode.net/?channels=openstack-i18n,openstack-meeting`_. ","* Every odd week: 13:00 UTC, Thursday * Every even week: 07:00 UTC, Thursday Odd and even values are calculated based on ISO week numbers.",24,3
