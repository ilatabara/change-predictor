id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~master~I51bf25ce6ad53e9954e282599e9f293c7200ff48,openstack/neutron,master,I51bf25ce6ad53e9954e282599e9f293c7200ff48,Refactor securitygroup fullstack tests,ABANDONED,2018-05-21 10:21:29.000000000,2019-12-04 08:38:27.000000000,,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-21 10:21:29.000000000', 'files': ['neutron/tests/fullstack/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e88b51ee516b5ba00c90b39a8dec7edcbea282e', 'message': 'Refactor securitygroup fullstack tests\n\nCurrently, all securitygroup fullstack tests are located\nin one method, we can seperates into one scenario one test.\n\nChange-Id: I51bf25ce6ad53e9954e282599e9f293c7200ff48\nCloses-Bug: #1723912\n'}]",0,569771,7e88b51ee516b5ba00c90b39a8dec7edcbea282e,13,8,1,12860,,,0,"Refactor securitygroup fullstack tests

Currently, all securitygroup fullstack tests are located
in one method, we can seperates into one scenario one test.

Change-Id: I51bf25ce6ad53e9954e282599e9f293c7200ff48
Closes-Bug: #1723912
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/569771/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_securitygroup.py'],1,7e88b51ee516b5ba00c90b39a8dec7edcbea282e,bug/1723912," def test_port_security_disabled(self): """"""Check that traffic is allowed when port security is disabled"""""" vms, _, _, _, _ = self._create_resources( def test_remote_security_group(self): """"""Connection from outside of allowed security group is blocked"""""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.1.0.0/24' vms, ports, sgs, _, _ = self._create_resources( tenant_uuid, subnet_cidr) def test_same_security_group_permit_rule(self): """"""Check if connection from allowed security group is permitted"""""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.2.0.0/24' vms, ports, sgs, _, _ = self._create_resources( tenant_uuid, subnet_cidr) # Apply security groups to the ports for port, sg in zip(ports, self.index_to_sg): self.safe_client.client.update_port( port['id'], body={'port': {'port_security_enabled': True, 'security_groups': [sgs[sg]['id']]}}) def test_security_group_default_block_behavior(self): """"""Check if traffic not explicitly allowed (eg. ICMP) is blocked"""""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.3.0.0/24' vms, ports, sgs, network, index_to_host = self._create_resources( tenant_uuid, subnet_cidr) # Apply security groups to the ports for port, sg in zip(ports, self.index_to_sg): self.safe_client.client.update_port( port['id'], body={'port': {'port_security_enabled': True, 'security_groups': [sgs[sg]['id']]}}) def test_security_group_rule_update(self): """"""Check if a security group update takes effect"""""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.4.0.0/24' vms, ports, sgs, _, _ = self._create_resources( tenant_uuid, subnet_cidr) # Apply security groups to the ports for port, sg in zip(ports, self.index_to_sg): self.safe_client.client.update_port( port['id'], body={'port': {'port_security_enabled': True, 'security_groups': [sgs[sg]['id']]}}) def test_security_group_rule_update_for_remote(self): """"""Check if a remote security group member addition works"""""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.5.0.0/24' vms, ports, sgs, _, _ = self._create_resources( tenant_uuid, subnet_cidr) # Apply security groups to the ports for port, sg in zip(ports, self.index_to_sg): self.safe_client.client.update_port( port['id'], body={'port': {'port_security_enabled': True, 'security_groups': [sgs[sg]['id']]}}) self.safe_client.create_security_group_rule( def test_delete_security_group_rule(self): """"""Check if an established connection stops by deleting the supporting SG rule. """""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.6.0.0/24' vms, ports, sgs, network, index_to_host = self._create_resources( tenant_uuid, subnet_cidr) # Apply security groups to the ports for port, sg in zip(ports, self.index_to_sg): self.safe_client.client.update_port( port['id'], body={'port': {'port_security_enabled': True, 'security_groups': [sgs[sg]['id']]}}) rule = self.safe_client.create_security_group_rule( tenant_uuid, sgs[0]['id'], remote_group_id=sgs[1]['id'], direction='ingress', ethertype=constants.IPv4, protocol=constants.PROTO_NAME_TCP, port_range_min=3355, port_range_max=3355) self.client.delete_security_group_rule(rule['id']) def test_overlapping_remote_security_group_rule(self): """"""Check if multiple overlapping remote rules work"""""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.7.0.0/24' vms, ports, sgs, _, _ = self._create_resources( tenant_uuid, subnet_cidr) # Apply security groups to the ports for port, sg in zip(ports, self.index_to_sg): self.safe_client.client.update_port( port['id'], body={'port': {'port_security_enabled': True, 'security_groups': [sgs[sg]['id']]}}) def test_sctp_rule_support(self): """"""Check SCTP is supported by security group"""""" tenant_uuid = uuidutils.generate_uuid() subnet_cidr = '20.8.0.0/24' vms, ports, sgs, _, _ = self._create_resources( tenant_uuid, subnet_cidr) # Apply security groups to the ports for port, sg in zip(ports, self.index_to_sg): self.safe_client.client.update_port( port['id'], body={'port': {'port_security_enabled': True, 'security_groups': [sgs[sg]['id']]}}) def test_using_multiple_security_groups(self): def test_overlapping_mac_addresses(self): """"""Test two vms with same mac on the same host in different networks. """""" "," # NOTE(toshii): As a firewall_driver can interfere with others, # the recommended way to add test is to expand this method, not # adding another. def test_securitygroup(self): """"""Tests if a security group rules are working, by confirming that 0. traffic is allowed when port security is disabled, 1. connection from outside of allowed security group is blocked 2. connection from allowed security group is permitted 3. traffic not explicitly allowed (eg. ICMP) is blocked, 4. a security group update takes effect, 5. a remote security group member addition works, and 6. an established connection stops by deleting a SG rule. 7. multiple overlapping remote rules work, 8. test other protocol functionality by using SCTP protocol 9. test two vms with same mac on the same host in different networks 10. test using multiple security groups """""" vms, ports, sgs, network, index_to_host = self._create_resources( # 0. check that traffic is allowed when port security is disabled # 1. connection from outside of allowed security group is blocked # 2. check if connection from allowed security group is permitted # 3. check if traffic not explicitly allowed (eg. ICMP) is blocked # 4. check if a security group update takes effect # 5. check if a remote security group member addition works rule2 = self.safe_client.create_security_group_rule( # 6. check if an established connection stops by deleting # the supporting SG rule. self.client.delete_security_group_rule(rule2['id']) # 7. check if multiple overlapping remote rules work # 8. check SCTP is supported by security group # 9. test two vms with same mac on the same host in different networks self._test_overlapping_mac_addresses() # 10. Check using multiple security groups self._test_using_multiple_security_groups() def _test_using_multiple_security_groups(self): # NOTE: This can be used after refactor other tests to # one scenario one test. def _test_overlapping_mac_addresses(self):",133,41
openstack%2Fos-ken~master~I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d,openstack/os-ken,master,I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d,Update hacking version,ABANDONED,2019-03-06 14:14:13.000000000,2019-12-04 08:37:56.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-06 14:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/b0390525bd580d3122101eedaa4bbd278afe36bb', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d\n'}, {'number': 2, 'created': '2019-03-20 15:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/463243c97551dde587805fdbfb8c75530d277f36', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d\n'}, {'number': 3, 'created': '2019-04-18 08:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/35a3efbe4ff65bed35e38ca89db5e6c867497b0b', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d\n'}, {'number': 4, 'created': '2019-04-18 08:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/1c8e68696c02115cfc44eabc1a26110e7e4290d1', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d\n'}, {'number': 5, 'created': '2019-04-18 09:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/8f3d5074e9ab9d0d5fd90b302c1e5721d261ab06', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d\n'}, {'number': 6, 'created': '2019-10-10 13:51:12.000000000', 'files': ['os_ken/tests/unit/ofproto/test_parser.py', 'test-requirements.txt', 'os_ken/tests/unit/packet/test_bgp.py', 'os_ken/lib/packet/tcp.py', 'os_ken/controller/network.py', 'os_ken/tests/unit/packet/test_icmpv6.py', 'os_ken/tests/packet_data_generator3/gen.py', 'os_ken/tests/switch/tester.py', 'os_ken/lib/ofctl_v1_0.py', 'os_ken/base/app_manager.py', 'os_ken/tests/unit/packet/test_sctp.py', 'os_ken/lib/packet/dhcp6.py', 'os_ken/lib/ovs/bridge.py', 'os_ken/app/rest_firewall.py', 'os_ken/lib/ovs/vsctl.py', 'os_ken/app/rest_router.py', 'os_ken/lib/packet/lldp.py', 'os_ken/app/rest_qos.py', 'os_ken/lib/packet/ospf.py', 'os_ken/lib/ofctl_string.py', 'os_ken/ofproto/ofproto_v1_0_parser.py', 'os_ken/tests/unit/packet/test_slow.py', 'os_ken/lib/packet/udp.py', 'os_ken/tests/unit/packet/test_ipv6.py', 'os_ken/lib/packet/ipv6.py', 'os_ken/controller/dpset.py', 'os_ken/controller/ofp_handler.py', 'os_ken/lib/packet/bgp.py', 'os_ken/lib/igmplib.py', 'os_ken/lib/stplib.py', 'os_ken/app/ofctl/service.py', 'os_ken/controller/controller.py', 'os_ken/lib/packet/llc.py', 'os_ken/tests/unit/services/protocols/bgp/utils/test_bgp.py', 'os_ken/lib/packet/cfm.py', 'os_ken/lib/packet/packet.py', 'os_ken/lib/packet/bfd.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/1946c6f1ba524f65e0b83307c08a37c6e80282b4', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d\n'}]",1,641375,1946c6f1ba524f65e0b83307c08a37c6e80282b4,23,8,6,28614,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: I32a4c9a620ef5f8e1732c7bd3b5b4dd0517d5f6d
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/75/641375/6 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b0390525bd580d3122101eedaa4bbd278afe36bb,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking>=0.12.0,<0.13 # Apache-2.0",1,1
openstack%2Fneutron-vpnaas~stable%2Fqueens~I94339e013a6e710d77f72f4aa636b25d78182fbb,openstack/neutron-vpnaas,stable/queens,I94339e013a6e710d77f72f4aa636b25d78182fbb,Pin neutron version to stable/queens in unit test,ABANDONED,2018-06-25 17:44:10.000000000,2019-12-04 08:37:51.000000000,,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 9542}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-25 17:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0d808dfb5a470607064f2ad31b01ddb9aac6b495', 'message': 'Pin neutron to stable/queens in unit test\n\nthe stable/queens of neutron-vpnaas no longer works with master\nof neutron, running unit tests locally (w/o Zuul cloner) now fails.\n\nChange-Id: I94339e013a6e710d77f72f4aa636b25d78182fbb\n'}, {'number': 2, 'created': '2018-08-06 07:38:09.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/acc040968c40dc12979f91f2e696b5bd25f69d11', 'message': 'Pin neutron version to stable/queens in unit test\n\nthe stable/queens of neutron-vpnaas no longer works with master\nof neutron, running unit tests locally (w/o Zuul cloner) now fails.\n\nChange-Id: I94339e013a6e710d77f72f4aa636b25d78182fbb\n'}]",0,577883,acc040968c40dc12979f91f2e696b5bd25f69d11,18,6,2,9542,,,0,"Pin neutron version to stable/queens in unit test

the stable/queens of neutron-vpnaas no longer works with master
of neutron, running unit tests locally (w/o Zuul cloner) now fails.

Change-Id: I94339e013a6e710d77f72f4aa636b25d78182fbb
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/83/577883/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,0d808dfb5a470607064f2ad31b01ddb9aac6b495,neutron-version-in-tests,BRANCH_NAME=stable/queens,BRANCH_NAME=master,1,1
openstack%2Fneutron~master~Ieb343f5f44eae7bc20b5be0ac88046118a27dc1f,openstack/neutron,master,Ieb343f5f44eae7bc20b5be0ac88046118a27dc1f,Remove unused import statement.,ABANDONED,2019-10-11 06:19:03.000000000,2019-12-04 08:37:46.000000000,,"[{'_account_id': 841}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-11 06:19:03.000000000', 'files': ['neutron/plugins/ml2/drivers/agent/_common_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0048bc063186f7f08f87c75f985f2ed7e13a366', 'message': 'Remove unused import statement.\n\nChange-Id: Ieb343f5f44eae7bc20b5be0ac88046118a27dc1f\n'}]",1,688039,c0048bc063186f7f08f87c75f985f2ed7e13a366,8,7,1,30200,,,0,"Remove unused import statement.

Change-Id: Ieb343f5f44eae7bc20b5be0ac88046118a27dc1f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/688039/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/agent/_common_agent.py'],1,c0048bc063186f7f08f87c75f985f2ed7e13a366,,,from neutron.plugins.ml2.drivers.agent import config as cagt_config # noqa,0,1
openstack%2Fnetworking-midonet~stable%2Frocky~I48b056cd51edbcdc6369bf3447c1121196a8bf51,openstack/networking-midonet,stable/rocky,I48b056cd51edbcdc6369bf3447c1121196a8bf51,DO NOT MERGE: test a fwaas fix,ABANDONED,2019-10-08 01:47:20.000000000,2019-12-04 08:37:42.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 01:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d3fcbe90f0a2b06693f387431ec33170adb4e2d5', 'message': 'DO NOT MERGE: test a fwaas fix\n\nDepends-On: https://review.opendev.org/#/c/687085/\nChange-Id: I48b056cd51edbcdc6369bf3447c1121196a8bf51\n'}, {'number': 2, 'created': '2019-10-08 01:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/56995e7d701fb3f635235f573213f06e9237a519', 'message': 'DO NOT MERGE: test a fwaas fix\n\nDepends-On: https://review.opendev.org/#/c/687085/\nChange-Id: I48b056cd51edbcdc6369bf3447c1121196a8bf51\n'}, {'number': 3, 'created': '2019-10-08 03:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2afaad097643dfd5c7cd8aa42c9e758dffb3229d', 'message': 'DO NOT MERGE: test a fwaas fix\n\nDepends-On: https://review.opendev.org/#/c/687085/\nChange-Id: I48b056cd51edbcdc6369bf3447c1121196a8bf51\n'}, {'number': 4, 'created': '2019-10-08 13:07:20.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/def50e9b6e1729b24365d35c4c2714e06899aac1', 'message': 'DO NOT MERGE: test a fwaas fix\n\nDepends-On: https://review.opendev.org/#/c/687085/\nChange-Id: I48b056cd51edbcdc6369bf3447c1121196a8bf51\n'}]",0,687196,def50e9b6e1729b24365d35c4c2714e06899aac1,16,3,4,6854,,,0,"DO NOT MERGE: test a fwaas fix

Depends-On: https://review.opendev.org/#/c/687085/
Change-Id: I48b056cd51edbcdc6369bf3447c1121196a8bf51
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/96/687196/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d3fcbe90f0a2b06693f387431ec33170adb4e2d5,bindep-fallback, #test,,3,0
openstack%2Fneutron~master~Iaf5a5c0bb73de646267711afce4cd9ba46fe6c92,openstack/neutron,master,Iaf5a5c0bb73de646267711afce4cd9ba46fe6c92,Remove unused import statement.,ABANDONED,2019-10-10 01:07:06.000000000,2019-12-04 08:37:33.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30200}]","[{'number': 1, 'created': '2019-10-10 01:07:06.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2f088c482e1e0671881a784876597d1ff2aa24b', 'message': 'Remove unused import statement.\n\nChange-Id: Iaf5a5c0bb73de646267711afce4cd9ba46fe6c92\n'}]",2,687758,d2f088c482e1e0671881a784876597d1ff2aa24b,10,9,1,30200,,,0,"Remove unused import statement.

Change-Id: Iaf5a5c0bb73de646267711afce4cd9ba46fe6c92
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/687758/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,d2f088c482e1e0671881a784876597d1ff2aa24b,,,from neutron.db.quota import driver # noqa,0,1
openstack%2Fneutron-dynamic-routing~master~I94a443c92fe2317ba2591ae3a227ec8df82ec294,openstack/neutron-dynamic-routing,master,I94a443c92fe2317ba2591ae3a227ec8df82ec294,Remove tempest tests that have moved to neutron-tempest-plugin,MERGED,2019-11-19 15:24:17.000000000,2019-12-04 08:37:21.000000000,2019-12-02 21:11:32.000000000,"[{'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 15:24:17.000000000', 'files': ['neutron_dynamic_routing/tests/tempest/plugin.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/test_basic.py', '.zuul.yaml', 'neutron_dynamic_routing/tests/tempest/scenario/ipv4/__init__.py', 'neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions_negative.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/base.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/test_4byte_asn.py', 'neutron_dynamic_routing/tests/tempest/scenario/ipv6/__init__.py', 'neutron_dynamic_routing/tests/tempest/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/ipv6/test_ipv6.py', 'neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions.py', 'neutron_dynamic_routing/tests/tempest/scenario/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/base.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/README', 'neutron_dynamic_routing/tests/tempest/bgp_client.py', 'neutron_dynamic_routing/tests/tempest/api/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/base_test_proto.py', 'neutron_dynamic_routing/tests/tempest/scenario/ipv4/test_ipv4.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e760a49f677cf20e37b4c44b5d6e3c5508c0fb12', 'message': 'Remove tempest tests that have moved to neutron-tempest-plugin\n\nThis patch removes all tempest tests from neutron-dynamic-routing\nrepository as all of them are now moved to neutron-tempest-plugin repo.\nIt also removes all tempest job definitions which are now replaced by\njob neutron-tempest-plugin-dynamic-routing defined in\nneutron-tempest-plugin repo directly.\n\nChange-Id: I94a443c92fe2317ba2591ae3a227ec8df82ec294\n'}]",0,695014,e760a49f677cf20e37b4c44b5d6e3c5508c0fb12,14,5,1,13995,,,0,"Remove tempest tests that have moved to neutron-tempest-plugin

This patch removes all tempest tests from neutron-dynamic-routing
repository as all of them are now moved to neutron-tempest-plugin repo.
It also removes all tempest job definitions which are now replaced by
job neutron-tempest-plugin-dynamic-routing defined in
neutron-tempest-plugin repo directly.

Change-Id: I94a443c92fe2317ba2591ae3a227ec8df82ec294
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/14/695014/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/tests/tempest/plugin.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/test_basic.py', '.zuul.yaml', 'neutron_dynamic_routing/tests/tempest/scenario/ipv4/__init__.py', 'neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions_negative.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/base.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/test_4byte_asn.py', 'neutron_dynamic_routing/tests/tempest/scenario/ipv6/__init__.py', 'neutron_dynamic_routing/tests/tempest/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/ipv6/test_ipv6.py', 'neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions.py', 'neutron_dynamic_routing/tests/tempest/scenario/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/base.py', 'neutron_dynamic_routing/tests/tempest/scenario/basic/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/README', 'neutron_dynamic_routing/tests/tempest/bgp_client.py', 'neutron_dynamic_routing/tests/tempest/api/__init__.py', 'neutron_dynamic_routing/tests/tempest/scenario/base_test_proto.py', 'neutron_dynamic_routing/tests/tempest/scenario/ipv4/test_ipv4.py']",19,e760a49f677cf20e37b4c44b5d6e3c5508c0fb12,delete-tempest-tests,,"# Copyright (C) 2016 VA Linux Systems Japan K.K. # Copyright (C) 2016 Fumihiko Kakuma <kakuma at valinux co jp> # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.lib import decorators from neutron_dynamic_routing.tests.tempest.scenario import base from neutron_dynamic_routing.tests.tempest.scenario import base_test_proto as test_base # noqa from os_ken.tests.integrated.common import docker_base as ctn_base from os_ken.tests.integrated.common import quagga CONF = config.CONF class BgpSpeakerIpv4Test(test_base.BgpSpeakerProtoTestBase): RAS_MAX = 3 ip_version = 4 public_gw = '192.168.11.1' MyScope = base.Scope(name='my-scope') PNet = base.Net(name='', net='172.24.6.0', mask=24, cidr='172.24.6.0/24', router=None) PPool = base.Pool(name='test-pool-ext', prefixlen=PNet.mask, prefixes=[PNet.net + '/8']) PSubNet = base.SubNet(name='', cidr=PNet.cidr, mask=PNet.mask) TPool = base.Pool(name='tenant-test-pool', prefixlen=28, prefixes=['10.10.0.0/16']) L_AS = base.AS(asn='64512', router_id='192.168.0.2', adv_net='') ras_l = [ base.AS(asn='64522', router_id='192.168.0.12', adv_net='192.168.162.0/24'), base.AS(asn='64523', router_id='192.168.0.13', adv_net='192.168.163.0/24'), base.AS(asn='64524', router_id='192.168.0.14', adv_net='192.168.164.0/24') ] bgp_speaker_args = { 'local_as': L_AS.asn, 'ip_version': ip_version, 'name': 'my-bgp-speaker1', 'advertise_floating_ip_host_routes': True, 'advertise_tenant_networks': True } bgp_peer_args = [ {'remote_as': ras_l[0].asn, 'name': 'my-bgp-peer1', 'peer_ip': None, 'auth_type': 'none'}, {'remote_as': ras_l[1].asn, 'name': 'my-bgp-peer2', 'peer_ip': None, 'auth_type': 'none'}, {'remote_as': ras_l[2].asn, 'name': 'my-bgp-peer3', 'peer_ip': None, 'auth_type': 'none'} ] def setUp(self): super(BgpSpeakerIpv4Test, self).setUp() @classmethod def resource_setup_container(cls): cls.brdc = ctn_base.Bridge(name='br-docker-ipv4', subnet='192.168.11.0/24', start_ip='192.168.11.128', end_ip='192.168.11.254', self_ip=True, fixed_ip=cls.public_gw + '/24', br_type=base.BRIDGE_TYPE) cls.bridges.append(cls.brdc) # This is dummy container object for a dr service. # This keeps data which passes to a quagga container. cls.dr = ctn_base.BGPContainer(name='dr', asn=int(cls.L_AS.asn), router_id=cls.L_AS.router_id) cls.dr.set_addr_info(bridge='br-docker-ipv4', ipv4=cls.public_gw) # quagga container cls.dockerimg = ctn_base.DockerImage() cls.q_img = cls.dockerimg.create_quagga(check_exist=True) cls.images.append(cls.q_img) for i in range(cls.RAS_MAX): qg = quagga.QuaggaBGPContainer(name='q' + str(i + 1), asn=int(cls.ras_l[i].asn), router_id=cls.ras_l[i].router_id, ctn_image_name=cls.q_img) cls.containers.append(qg) cls.r_ass.append(qg) qg.add_route(cls.ras_l[i].adv_net) qg.run(wait=True) cls.r_as_ip.append(cls.brdc.addif(qg)) qg.add_peer(cls.dr, bridge=cls.brdc.name, peer_info={'passive': True}) cls.tnet_gen = cls.get_subnet(start='10.10.1.0', end='10.10.255.0', step=256) @decorators.idempotent_id('7f2acbc2-ff88-4a63-aa02-a2f9feb3f5b0') def test_check_neighbor_established(self): self._test_check_neighbor_established(self.ip_version) @decorators.idempotent_id('f32245fc-aeab-4244-acfa-3af9dd662e8d') def test_check_advertised_tenant_network(self): self._test_check_advertised_tenant_network(self.ip_version) @decorators.idempotent_id('a5c238de-b750-499c-aaa2-b44a057e9ed3') def test_check_advertised_multiple_tenant_network(self): self._test_check_advertised_multiple_tenant_network(self.ip_version) @decorators.idempotent_id('e4961cc1-0c47-4081-a896-caaa9342ca75') def test_check_neighbor_established_with_multiple_peers(self): self._test_check_neighbor_established_with_multiple_peers( self.ip_version) @decorators.idempotent_id('91971dfb-c129-4744-9fbb-ac4f9e8d56c0') def test_check_advertised_tenant_network_with_multiple_peers(self): self._test_check_advertised_tenant_network_with_multiple_peers( self.ip_version) ",2,1884
openstack%2Fnetworking-sfc~master~Ib886ffae0317f7d719ead76292f758a732e86521,openstack/networking-sfc,master,Ib886ffae0317f7d719ead76292f758a732e86521,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-08-01 08:59:56.000000000,2019-12-04 08:36:26.000000000,,"[{'_account_id': 11975}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-08-01 08:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/afb66c796127990641d5d4adc579577c02c96ea7', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ib886ffae0317f7d719ead76292f758a732e86521\n'}, {'number': 2, 'created': '2019-10-08 06:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ddf7da55d833ff0e3b58d8f381ab1704b90a4fe1', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ib886ffae0317f7d719ead76292f758a732e86521\n'}, {'number': 3, 'created': '2019-10-09 08:04:56.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/6fbc57589379d6cfb4acc9dc449adc27a90da1ea', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ib886ffae0317f7d719ead76292f758a732e86521\n'}]",0,673962,6fbc57589379d6cfb4acc9dc449adc27a90da1ea,11,4,3,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ib886ffae0317f7d719ead76292f758a732e86521
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/62/673962/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,afb66c796127990641d5d4adc579577c02c96ea7,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.5;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5;python_version>='3.4' # BSD",1,1
openstack%2Fneutron-dynamic-routing~master~I330689ff01c0e0a78d0c743f6aaf1d71ce7b0447,openstack/neutron-dynamic-routing,master,I330689ff01c0e0a78d0c743f6aaf1d71ce7b0447,Blacklist specific versions of sqlalchemy,ABANDONED,2019-06-20 15:50:14.000000000,2019-12-04 08:36:17.000000000,,"[{'_account_id': 4187}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 15:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0e0a3670fad12670f8501bfa383c5d82a563c6f2', 'message': 'Blacklist specific versions of sqlalchemy\n\nSqlachemy 1.3.0-2 introduced a reqgression regarding join\nambiguity [1]. This was fixed in version 1.3.3. This change\nblacklists the affected versions in the project requirements.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/4584\n\nChange-Id: I330689ff01c0e0a78d0c743f6aaf1d71ce7b0447\nCloses-Bug: 1833574\n'}, {'number': 2, 'created': '2019-06-20 18:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ee817d9e9bd124ca22b9cc4e8f5bec5725cd60fe', 'message': 'Blacklist specific versions of sqlalchemy\n\nSqlachemy 1.3.0-2 introduced a reqgression regarding join\nambiguity [1]. This was fixed in version 1.3.3. This change\nblacklists the affected versions in the project requirements.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/4584\n\nDepends-On: https://review.opendev.org/#/c/666654/\n\nChange-Id: I330689ff01c0e0a78d0c743f6aaf1d71ce7b0447\nCloses-Bug: 1833574\n'}, {'number': 3, 'created': '2019-10-18 15:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a1f2ac83f3d6834db8f52e811a1654778cd206a8', 'message': 'Blacklist specific versions of sqlalchemy\n\nSqlachemy 1.3.0-2 introduced a reqgression regarding join\nambiguity [1]. This was fixed in version 1.3.3. This change\nblacklists the affected versions in the project requirements.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/4584\n\nDepends-On: https://review.opendev.org/#/c/666654/\n\nChange-Id: I330689ff01c0e0a78d0c743f6aaf1d71ce7b0447\nCloses-Bug: 1833574\n'}, {'number': 4, 'created': '2019-10-18 15:48:10.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/4e95ee0e0b7df8841565a300e892992baccb84df', 'message': 'Blacklist specific versions of sqlalchemy\n\nSqlachemy 1.3.0-2 introduced a reqgression regarding join\nambiguity [1]. This was fixed in version 1.3.3. This change\nblacklists the affected versions in the project requirements.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/4584\n\nChange-Id: I330689ff01c0e0a78d0c743f6aaf1d71ce7b0447\nCloses-Bug: 1833574\n'}]",0,666619,4e95ee0e0b7df8841565a300e892992baccb84df,15,5,4,4187,,,0,"Blacklist specific versions of sqlalchemy

Sqlachemy 1.3.0-2 introduced a reqgression regarding join
ambiguity [1]. This was fixed in version 1.3.3. This change
blacklists the affected versions in the project requirements.

[1] https://github.com/sqlalchemy/sqlalchemy/issues/4584

Change-Id: I330689ff01c0e0a78d0c743f6aaf1d71ce7b0447
Closes-Bug: 1833574
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/19/666619/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0e0a3670fad12670f8501bfa383c5d82a563c6f2,bug/1833574,"SQLAlchemy>=1.2.0,!=1.3.0,!=1.3.1,!=1.3.2 # MIT",SQLAlchemy>=1.2.0 # MIT,1,1
openstack%2Fneutron~master~I83a4d2c0ed480da3d3aa6a46350b95fac8f4f415,openstack/neutron,master,I83a4d2c0ed480da3d3aa6a46350b95fac8f4f415,"Fixing lost QoS on interfaces after operation like: reboot hard, live migration..",ABANDONED,2019-09-25 04:34:31.000000000,2019-12-04 08:36:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 18051}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30922}]","[{'number': 1, 'created': '2019-09-25 04:34:31.000000000', 'files': ['neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/agent/l2/extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c38e58f5325c998ce32513cbe90eba9b7b0ab5a', 'message': ""Fixing lost QoS on interfaces after operation like: reboot hard, live migration..\n\nSometimes a vm gets its interface unset and reset too fast to be caught in\nan agent loop, and its QoS on it interfaces was lost and qos extension doesn't restore the qos.\n\nChange-Id: I83a4d2c0ed480da3d3aa6a46350b95fac8f4f415\nCloses-Bug: #1845161\n""}]",4,684457,5c38e58f5325c998ce32513cbe90eba9b7b0ab5a,14,12,1,30922,,,0,"Fixing lost QoS on interfaces after operation like: reboot hard, live migration..

Sometimes a vm gets its interface unset and reset too fast to be caught in
an agent loop, and its QoS on it interfaces was lost and qos extension doesn't restore the qos.

Change-Id: I83a4d2c0ed480da3d3aa6a46350b95fac8f4f415
Closes-Bug: #1845161
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/684457/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l2/extensions/test_qos.py', 'neutron/agent/l2/extensions/qos.py']",2,5c38e58f5325c998ce32513cbe90eba9b7b0ab5a,bug/1845161," if not self.policy_map.has_policy_changed(port, qos_policy_id): self.qos_driver.create(port, qos_policy) return "," if not self.policy_map.has_policy_changed(port, qos_policy_id): return ",6,4
openstack%2Fneutron-fwaas~master~I8a2fc0f3532bf40c68563b4afab6b4f1fe1f15fb,openstack/neutron-fwaas,master,I8a2fc0f3532bf40c68563b4afab6b4f1fe1f15fb,Use fwaas_v2_log constants from neutron-lib,ABANDONED,2019-10-19 13:52:09.000000000,2019-12-04 08:35:44.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 29157}]","[{'number': 1, 'created': '2019-10-19 13:52:09.000000000', 'files': ['neutron_fwaas/services/logapi/agents/l3/fwg_log.py', 'neutron_fwaas/services/logapi/fwg_validate.py', 'neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/services/logapi/constants.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bff5bc766372218748422b01b04dc7f535845367', 'message': ""Use fwaas_v2_log constants from neutron-lib\n\nThe fwaas_v2_log constants and 'FIREWALL_LOG_DRIVER_NAME' are\nremoved from neutron-fwaas, using them from neutron-lib instead.\n\nDepends-On: https://review.opendev.org/#/c/689623/\nChange-Id: I8a2fc0f3532bf40c68563b4afab6b4f1fe1f15fb\nCloses-bug: #1848851\n""}]",3,689624,bff5bc766372218748422b01b04dc7f535845367,6,11,1,29157,,,0,"Use fwaas_v2_log constants from neutron-lib

The fwaas_v2_log constants and 'FIREWALL_LOG_DRIVER_NAME' are
removed from neutron-fwaas, using them from neutron-lib instead.

Depends-On: https://review.opendev.org/#/c/689623/
Change-Id: I8a2fc0f3532bf40c68563b4afab6b4f1fe1f15fb
Closes-bug: #1848851
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/24/689624/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/logapi/agents/l3/fwg_log.py', 'neutron_fwaas/services/logapi/fwg_validate.py', 'neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/services/logapi/constants.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py']",6,bff5bc766372218748422b01b04dc7f535845367,bug/1848851,"SUPPORTED_LOGGING_TYPES = [log_const.FIREWALL_GROUP] DRIVER.register_rpc_methods(log_const.FIREWALL_GROUP, rpc_methods)","from neutron_fwaas.services.logapi import constants as fw_constSUPPORTED_LOGGING_TYPES = [fw_const.FIREWALL_GROUP] DRIVER.register_rpc_methods(fw_const.FIREWALL_GROUP, rpc_methods)",13,36
openstack%2Fneutron~master~Ia4b1906ebcdff4c0887a8480e18326cb59757241,openstack/neutron,master,Ia4b1906ebcdff4c0887a8480e18326cb59757241,[DNM] Testing code profiling,ABANDONED,2019-10-20 00:59:44.000000000,2019-12-04 08:35:29.000000000,,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-20 00:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1536fa443c2dc897ddfc277160495b4a803051a9', 'message': '[DNM] Testing code profiling\n\nTesting code profiling\n\nChange-Id: Ia4b1906ebcdff4c0887a8480e18326cb59757241\n'}, {'number': 2, 'created': '2019-10-20 01:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b0df0b7c791c6a38dea75e0f3fdf2ce9de04baa', 'message': '[DNM] Testing code profiling\n\nTesting code profiling\n\nChange-Id: Ia4b1906ebcdff4c0887a8480e18326cb59757241\n'}, {'number': 3, 'created': '2019-10-20 22:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab271fbf6f47ebdebd45b17ec7d6b6b3d8bed09d', 'message': '[DNM] Testing code profiling\n\nTesting code profiling\n\nChange-Id: Ia4b1906ebcdff4c0887a8480e18326cb59757241\n'}, {'number': 4, 'created': '2019-10-26 22:03:17.000000000', 'files': ['.zuul.yaml', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6dd2d218d4f295d40e83312a3769dfdbd74f6232', 'message': '[DNM] Testing code profiling\n\nTesting code profiling\n\nChange-Id: Ia4b1906ebcdff4c0887a8480e18326cb59757241\n'}]",0,689640,6dd2d218d4f295d40e83312a3769dfdbd74f6232,17,6,4,4694,,,0,"[DNM] Testing code profiling

Testing code profiling

Change-Id: Ia4b1906ebcdff4c0887a8480e18326cb59757241
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/689640/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,1536fa443c2dc897ddfc277160495b4a803051a9,profile-port-binding,from neutron.profiling import profiled_decorator @profiled_decorator.profile @profiled_decorator.profile @profiled_decorator.profile,,4,0
openstack%2Fneutron-vpnaas~master~I9d438e13c229d472b555b66f216ab0ca3447e34e,openstack/neutron-vpnaas,master,I9d438e13c229d472b555b66f216ab0ca3447e34e,NSSDB invocation fix for Libreswan v3.19 and later,ABANDONED,2017-08-18 11:55:40.000000000,2019-12-04 08:35:23.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 6681}, {'_account_id': 6854}, {'_account_id': 7293}, {'_account_id': 11975}, {'_account_id': 13294}, {'_account_id': 15905}, {'_account_id': 21781}, {'_account_id': 23822}]","[{'number': 1, 'created': '2017-08-18 11:55:40.000000000', 'files': ['neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ddd2d15077c6fbeba466d85c1dd121da1d85ff0b', 'message': 'NSSDB invocation fix for Libreswan v3.19 and later\n\nOn Jan 15, 2017 libreswan team released version 3.19 that introduced\na change that requires to specify the flag --nssdir for NSS DB location.\n\nThis change adds the missing --nssdir option in the Libreswan device driver\nand also ammends the test script to cover the change in the driver.\n\nChange-Id: I9d438e13c229d472b555b66f216ab0ca3447e34e\nCloses-Bug: #1711456\n'}]",0,495284,ddd2d15077c6fbeba466d85c1dd121da1d85ff0b,11,10,1,26689,,,0,"NSSDB invocation fix for Libreswan v3.19 and later

On Jan 15, 2017 libreswan team released version 3.19 that introduced
a change that requires to specify the flag --nssdir for NSS DB location.

This change adds the missing --nssdir option in the Libreswan device driver
and also ammends the test script to cover the change in the driver.

Change-Id: I9d438e13c229d472b555b66f216ab0ca3447e34e
Closes-Bug: #1711456
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/84/495284/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py']",2,ddd2d15077c6fbeba466d85c1dd121da1d85ff0b,bug/1711456," # Compatible with Libreswan v.3.19 and later try: self._execute([self.binary, 'checknss', '--nssdir', self.etc_dir]) except RuntimeError: self._execute([self.binary, 'initnss', '--nssdir', self.etc_dir])"," try: self._execute([self.binary, 'checknss', self.etc_dir]) except RuntimeError: self._execute([self.binary, 'initnss', self.etc_dir])",7,6
openstack%2Fneutron-fwaas~stable%2Frocky~I27cff5ba9986f30fa4c7ddb12db920300edd521b,openstack/neutron-fwaas,stable/rocky,I27cff5ba9986f30fa4c7ddb12db920300edd521b,ICMPv6 is not an available protocol when creating firewall rule,ABANDONED,2019-09-06 18:19:41.000000000,2019-12-04 08:35:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29157}, {'_account_id': 29377}]","[{'number': 1, 'created': '2019-09-06 18:19:41.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c6b61a817cffb0865cd8731308f4e33a44648579', 'message': 'ICMPv6 is not an available protocol when creating firewall rule\n\nWhen creating IPv6 firewall rule, the network protocol that can be\nselected is ICMP TCP UDP or null.\nBut in fact, ICMPv6 is the message control protocol we actually need\nfor the firewall rule whose ip-version = 6.\n\nThis patch fixes this bug with the following logic:\nWhen creating firewall rule whose ""ip-version = 6, protocol = ipv6-icmp""\n, we should consider that the ""icmp"" refers to ""ipv6-icmp"".\n\nCloses-Bug: #1799904\nChange-Id: I27cff5ba9986f30fa4c7ddb12db920300edd521b\n(cherry picked from commit fa48d16d694269b6b4245b90454448f8e9895ed8)\n'}]",0,680753,c6b61a817cffb0865cd8731308f4e33a44648579,10,8,1,1131,,,0,"ICMPv6 is not an available protocol when creating firewall rule

When creating IPv6 firewall rule, the network protocol that can be
selected is ICMP TCP UDP or null.
But in fact, ICMPv6 is the message control protocol we actually need
for the firewall rule whose ip-version = 6.

This patch fixes this bug with the following logic:
When creating firewall rule whose ""ip-version = 6, protocol = ipv6-icmp""
, we should consider that the ""icmp"" refers to ""ipv6-icmp"".

Closes-Bug: #1799904
Change-Id: I27cff5ba9986f30fa4c7ddb12db920300edd521b
(cherry picked from commit fa48d16d694269b6b4245b90454448f8e9895ed8)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/53/680753/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py']",2,c6b61a817cffb0865cd8731308f4e33a44648579,bug/1799904-stable/rocky," def _fake_rules_v6(self, fwid, apply_list): rule_list = [] rule1 = {'enabled': True, 'action': 'allow', 'ip_version': 6, 'protocol': 'icmp', 'destination_ip_address': '2001:db8::2', 'id': 'fake-fw-rule1'} ingress_chain = ('iv6%s' % fwid)[:11] egress_chain = ('ov6%s' % fwid)[:11] for router_info_inst, port_ids in apply_list: v6filter_inst = router_info_inst.iptables_manager.ipv6['filter'] v6filter_inst.chains.append(ingress_chain) v6filter_inst.chains.append(egress_chain) rule_list.append(rule1) return rule_list def _setup_firewall_with_rules_v6(self, func, router_count=1, distributed=False, distributed_mode=None): apply_list = self._fake_apply_list(router_count=router_count, distributed=distributed, distributed_mode=distributed_mode) rule_list = self._fake_rules_v6(FAKE_FW_ID, apply_list) firewall = self._fake_firewall(rule_list) if distributed: if distributed_mode == 'dvr_snat': if_prefix = 'sg-' if distributed_mode == 'dvr': if_prefix = 'rfp-' else: if_prefix = 'qr-' distributed_mode = 'legacy' func(distributed_mode, apply_list, firewall) binary_name = fwaas.iptables_manager.binary_name dropped = '%s-dropped' % binary_name accepted = '%s-accepted' % binary_name invalid_rule = '-m state --state INVALID -j %s' % dropped est_rule = '-m state --state RELATED,ESTABLISHED -j ACCEPT' rule1 = '-p ipv6-icmp -d 2001:db8::2/128 -j %s' % accepted ingress_chain = 'iv6%s' % firewall['id'] egress_chain = 'ov6%s' % firewall['id'] ipt_mgr_ichain = '%s-%s' % (binary_name, ingress_chain[:11]) ipt_mgr_echain = '%s-%s' % (binary_name, egress_chain[:11]) for router_info_inst, port_ids in apply_list: v6filter_inst = router_info_inst.iptables_manager.ipv6['filter'] calls = [mock.call.remove_chain('iv6fake-fw-uuid'), mock.call.remove_chain('ov6fake-fw-uuid'), mock.call.remove_chain('fwaas-default-policy'), mock.call.add_chain('fwaas-default-policy'), mock.call.add_rule( 'fwaas-default-policy', '-j %s' % dropped), mock.call.add_chain(ingress_chain), mock.call.add_rule(ingress_chain, invalid_rule), mock.call.add_rule(ingress_chain, est_rule), mock.call.add_chain(egress_chain), mock.call.add_rule(egress_chain, invalid_rule), mock.call.add_rule(egress_chain, est_rule), mock.call.add_rule(ingress_chain, rule1), mock.call.add_rule(egress_chain, rule1) ] for port in FAKE_PORT_IDS: intf_name = self._get_intf_name(if_prefix, port) calls.append(mock.call.add_rule('FORWARD', '-o %s -j %s' % (intf_name, ipt_mgr_ichain))) for port in FAKE_PORT_IDS: intf_name = self._get_intf_name(if_prefix, port) calls.append(mock.call.add_rule('FORWARD', '-i %s -j %s' % (intf_name, ipt_mgr_echain))) for direction in ['o', 'i']: for port_id in FAKE_PORT_IDS: intf_name = self._get_intf_name(if_prefix, port_id) calls.append(mock.call.add_rule('FORWARD', '-%s %s -j %s-fwaas-defau' % (direction, intf_name, binary_name))) v6filter_inst.assert_has_calls(calls) def test_create_firewall_group_with_rules_v6(self): self._setup_firewall_with_rules_v6(self.firewall.create_firewall_group) def test_update_firewall_group_with_rules_v6(self): self._setup_firewall_with_rules_v6(self.firewall.update_firewall_group) ",,110,13
openstack%2Fneutron-specs~master~I95a5f9f292c3cfb1b5ca04eab9db882304805614,openstack/neutron-specs,master,I95a5f9f292c3cfb1b5ca04eab9db882304805614,Make auto-allocated-topology work with any topology,ABANDONED,2017-07-27 19:30:57.000000000,2019-12-04 08:34:40.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}]","[{'number': 1, 'created': '2017-07-27 19:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e245cf6ae8d6330f9b4b8469a8a21ac968e183f4', 'message': 'WIP: make auto-allocated-topology work with any topology\n\nThis specs describes use cases and proposed approach to\nimplement the allocation of any kind of topology in Neutron.\n\nRelated-bug: 1690438\n\nChange-Id: I95a5f9f292c3cfb1b5ca04eab9db882304805614\n'}, {'number': 2, 'created': '2017-07-31 23:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f96f4016f25dfc60ff56cd9811cd58caa524586d', 'message': 'Make auto-allocated-topology work with any topology\n\nThis specs describes use cases and proposed approach to\nimplement the allocation of any kind of topology in Neutron.\n\nRelated-bug: 1690438\n\nChange-Id: I95a5f9f292c3cfb1b5ca04eab9db882304805614\n'}, {'number': 3, 'created': '2017-10-03 17:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3fdf9bcf76a4bfd53e0b9b3d21170fa474b8e4a5', 'message': 'Make auto-allocated-topology work with any topology\n\nThis specs describes use cases and proposed approach to\nimplement the allocation of any kind of topology in Neutron.\n\nRelated-bug: 1690438\n\nChange-Id: I95a5f9f292c3cfb1b5ca04eab9db882304805614\n'}, {'number': 4, 'created': '2017-10-13 00:23:05.000000000', 'files': ['specs/queens/any-auto-allocated-topology.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2e1502dd984d06993636d4e5cd44bf638fb4772c', 'message': 'Make auto-allocated-topology work with any topology\n\nThis specs describes use cases and proposed approach to\nimplement the allocation of any kind of topology in Neutron.\n\nRelated-bug: 1690438\n\nChange-Id: I95a5f9f292c3cfb1b5ca04eab9db882304805614\n'}]",9,488160,2e1502dd984d06993636d4e5cd44bf638fb4772c,15,5,4,748,,,0,"Make auto-allocated-topology work with any topology

This specs describes use cases and proposed approach to
implement the allocation of any kind of topology in Neutron.

Related-bug: 1690438

Change-Id: I95a5f9f292c3cfb1b5ca04eab9db882304805614
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/60/488160/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/any-auto-allocated-topology.rst'],1,e245cf6ae8d6330f9b4b8469a8a21ac968e183f4,bug/1690438,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Any auto-allocated-topology =========================== https://bugs.launchpad.net/neutron/+bug/1690438 The auto-allocated-topology feature is designed to automate the basic networking provisioning for OpenStack workloads: rather than letting cloud users handle networking setup steps themselves, nova and neutron coordinate the provisioning of networking resources during the VM boot process, thus making the networking setup transparent. This is currently limited to creating a specific logical topology that involves tenant networking interconnected to the external world via a router. Extensions such as routers and subnet pools are mandatory for this capability to work and this means that deployments that do not have such extensions miss out on a useful orchestration. Problem Description =================== * As admin, I would like to create a pool of neutron networks, as allowed by the neutron system, and mark them as available for 'auto-allocated-topology' consumption. * As admin, I would like to replenish the pool of neutron networks, if it gets exhausted. * As admin, I would like to assess the current capacity of the pool of neutron network resources alloted for auto-allocated-topology consumption. Proposed Change =============== * The admin creates, updates, and delete networks for auto-allocated-topology consumption with existing CLI/API tools. No new tool shall be provided to handle bulk operations. As such, networks can be added and or removed to the system according to the underlying system limitations. Networks will be admin owned. * The admin tags networks with a well-known tag, e.g. 'auto-allocatable'. * The allocation logic shall operate as follows: * The auto-allocate plugin looks up in this pool for an available network and picks one, if available. * The network is then shared via RBAC with the tenant. * If the pool is exhausted or does not exist, fall back on provisioning the topology, as usual. References ========== * https://www.openstack.org/videos/boston-2017/get-me-a-network-from-boot-to-woot * https://etherpad.openstack.org/p/pike-neutron-gman ",,61,0
openstack%2Fneutron-specs~master~I7e0083a57f0e456eacd1012dfebb57750869a497,openstack/neutron-specs,master,I7e0083a57f0e456eacd1012dfebb57750869a497,Enables MySQL Cluster Support for Neutron,ABANDONED,2017-03-15 18:32:26.000000000,2019-12-04 08:34:28.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 11816}, {'_account_id': 11975}, {'_account_id': 19283}]","[{'number': 1, 'created': '2017-03-15 18:32:26.000000000', 'files': ['specs/pike/mysql-cluster-support.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8e6523bccfa2611d75adabe00d109c2312365eda', 'message': 'Enables MySQL Cluster Support for Neutron\n\nDefines the specifications for implementing MySQL Cluster support\nfor Neutron.\n\nChange-Id: I7e0083a57f0e456eacd1012dfebb57750869a497\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}]",4,446111,8e6523bccfa2611d75adabe00d109c2312365eda,9,5,1,19283,,,0,"Enables MySQL Cluster Support for Neutron

Defines the specifications for implementing MySQL Cluster support
for Neutron.

Change-Id: I7e0083a57f0e456eacd1012dfebb57750869a497
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/11/446111/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/mysql-cluster-support.rst'],1,8e6523bccfa2611d75adabe00d109c2312365eda,bp/mysql-cluster-support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== MySQL Cluster Support for Neutron ==================================== Blueprint: https://blueprints.launchpad.net/neutron/+spec/mysql-cluster-support RFE: https://bugs.launchpad.net/neutron/+bug/1673210 OpenStack today uses the standard MySQL DB with the InnoDB engine as the back-bone of the core services. InnoDB is an active/passive database with limited high-availability and scale-out capabilities. MySQL Cluster is a variant of the MySQL Database that uses the NDB (Network Database) engine. This database is ideal for massive scale-out and has been used in the telecommunication industry extensively over the years. Key Benefits for MySQL Cluster: - 99.999% Availability - Shared Nothing Architecture, no points of failure - Synchronous Replication - Auto Sharding of Data - Auto Fail-over - Self-Healing - Max. of 255 nodes in cluster (48 data nodes, other nodes SQL/API) - SQL and API nodes scale-out horizontally via load balancing Key Benefits for OpenStack: - Highly-Available DB back-end - Massively scalable DB back-end - Reduced operational impact of planned or unplanned DB maintenance. - Reduced complexity compared to InnoDB clustering. - No shared storage or 3rd party clustering software required. Links to information on MySQL Cluster: Documentation: https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster.html MySQL Cluster Overview: https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-overview.html Features: https://www.mysql.com/products/cluster/features.html Limitations of MySQL Cluster: https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-limitations.html Problem Description =================== The following challenges exist for supporting MySQL Cluster today: - Table row length limited to 14k in NDB vs 65k in InnoDB - Hard-coding of SQL statements such as ""mysql_engine=InnoDB"" - Strict adherence to ordering of SQL operations for foreign keys, constraints, and indexes. - No support for Savepoints - No support for Nested transactions Proposed Change =============== - Enhance oslo.db to add the boolean configuration setting of mysql_enable_ndb so that operators can select either InnoDB or NDBCLUSTER to enable the correct logic in the SQL Alchemy and Alembic migration scripts. The plan is to target the database section of the cfg.CONF.database namespace for this option to make it available across all OpenStack services. - Patch SQL Alchemy and Alembic database migration scripts to have logic to modify table schemas and behavior to fit within the constraints of MySQL Cluster (NDB). For example, change the column size 255 char strings to something smaller for columns that only hold the state of a service component that consumes less than 10 or 20 characters. Or converting large string columns (i.e. over 1024 chars.) to TEXT to reduce the size of the row length. - Patch SQL Alchemy and Alembic database migration scripts to properly handle the ordering of operations against foreign keys, constraints, and indexes. - Patch service components to transparently work with any MySQL Cluster (NDB) changes. This includes database related api.py and model.py files for handling schema modifications or hard-coded use cases or features (savepoints and nested). - The initial patch set will address new deployments where the operator is setting up a new environment with a MySQL Cluster. A future phase will introduce a migration script to help operators migrate their database to MySQL Cluster. These changes will be validated and tested to ensure that: - Zero impact to functionality of APIs, CLIs, and service processes. - Zero impact on operators using MySQL InnoDB. - Minimal operator overhead for enabling NDB functionality. Alternatives ------------ Through the design, architecture, and implementation of these changes the following alternative approaches are being considered: - Creating a new NDB dialect for SQL Alchemy to enable the use of in-line substitutions of column definitions based on dialect. This could potentially reduce IF/THEN logic blocks. - Create a stub in oslo.db to enable ""with_variant"" functionality for table column changes. - Create a stub in oslo.db to transparently change any table create or update operations that include ""engine=InnoDB"" to ""engine=ndbcluster"". - Reducing the column sizes across service databases where appropriate and sensible. Doing this would impact both InnoDB and NDB use cases but reduce the amount of overhead in maintaining conditional logic. This could lead to better efficiency in not only the patches, but in the database structures. Some services like Cinder, Nova, and Neutron have already run into the 65k limit in InnoDB which has forced some columns to migrate to separate tables. Data model impact ----------------- When an operator configures Neutron to use MySQL Cluster (NDB), this will enable logic in the Alembic scripts to adjust the setting of the mysql_engine to NDBCLUSTER and will make the following data model changes to the following tables: - agents: agent_type -> String(128) binary -> String(128) topic -> String(128) configurations -> Text resource_versions -> Text - ml2_port_bindings: profile -> Text vif_details -> Text - ml2_dvr_port_bindings: profile -> Text vif_details -> Text - serviceprofiles: metainfo -> Text Performance Impact ------------------ The changes will have zero performance impact for operators using MySQL InnoDB. The changes will enable operators to use MySQL Cluster which has a scale-out architecture which will increase performance and availability. The architecture separates out the traditional MySQL daemon into a horizontally scalable API layer that can sit behind a load balancer. The NDB storage component scales out horizontally with locally attached storage and handles synchronous replication and transactions across the cluster. Other deployer impact --------------------- Deployers will see the ""mysql_enable_ndb"" setting in the database section of the neutron.conf file, which gets pulled-in from the oslo.db namespace. By default, this will be set to ""InnoDB"", even if the setting is not uncommented. If the deployer wishes to use MySQL Cluster, they will have to set this to ""NDBCLUSTER"" for the feature to be enabled. Developer impact ---------------- Future data model changes will have to take into account columns that exceed the 14k row limit in NDB and implement one of the following: - Logic to change the column type when using MySQL Cluster. - Modify the column type globally for InnoDB and NDB. - Shift the column to another table. Additionally, any table modifications that are done that do not follow the proper dropping and adding of foreign keys, constraints, and indexes will need to add the required steps to follow the strict behavior of MySQL Cluster. This is already done with many of the SQL Alchemy upgrades already, so it is not a new thing. Dependencies ============ #1564110 oslo.db needs a method for selecting mysql storage engine References ========== https://blueprints.launchpad.net/oslo.db/+spec/mysql-cluster-support ",,211,0
openstack%2Fnetworking-midonet~master~I121eb61319acc47585bff25a4f0548a623164b89,openstack/networking-midonet,master,I121eb61319acc47585bff25a4f0548a623164b89,"Revert ""Revert ""devstack: MIDONET_USE_PACKAGE=False""""",ABANDONED,2017-08-07 03:11:16.000000000,2019-12-04 08:34:12.000000000,,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-07 03:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5dd1f27e6eefb39eeabfb36fbfd16da14c10282a', 'message': 'Revert ""Revert ""devstack: MIDONET_USE_PACKAGE=False""""\n\nThis reverts commit 283b946dd4c6b1b41105a21effaec9ab315329ca.\n\nChange-Id: I121eb61319acc47585bff25a4f0548a623164b89\n'}, {'number': 2, 'created': '2017-10-13 10:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a8811bffe6e08b0df6fb218b840587878331dd0a', 'message': 'Revert ""Revert ""devstack: MIDONET_USE_PACKAGE=False""""\n\nThis reverts commit 283b946dd4c6b1b41105a21effaec9ab315329ca.\n\nChange-Id: I121eb61319acc47585bff25a4f0548a623164b89\n'}, {'number': 3, 'created': '2017-10-17 04:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b13e9ed0e4499de5ebe87a94800820679a0c0cd6', 'message': 'Revert ""Revert ""devstack: MIDONET_USE_PACKAGE=False""""\n\nThis reverts commit 283b946dd4c6b1b41105a21effaec9ab315329ca.\n\nChange-Id: I121eb61319acc47585bff25a4f0548a623164b89\n'}, {'number': 4, 'created': '2017-10-19 11:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/03ab36c7212dae1a90c4294a02ec115b1eeadf1f', 'message': 'Revert ""Revert ""devstack: MIDONET_USE_PACKAGE=False""""\n\nThis reverts commit 283b946dd4c6b1b41105a21effaec9ab315329ca.\n\nChange-Id: I121eb61319acc47585bff25a4f0548a623164b89\n'}, {'number': 5, 'created': '2017-10-20 00:11:13.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d8b2dc044efdfbd4ecd94329b090c17a8eb659b5', 'message': 'Revert ""Revert ""devstack: MIDONET_USE_PACKAGE=False""""\n\nThis reverts commit 283b946dd4c6b1b41105a21effaec9ab315329ca.\n\nChange-Id: I121eb61319acc47585bff25a4f0548a623164b89\n'}]",0,491320,d8b2dc044efdfbd4ecd94329b090c17a8eb659b5,16,5,5,6854,,,0,"Revert ""Revert ""devstack: MIDONET_USE_PACKAGE=False""""

This reverts commit 283b946dd4c6b1b41105a21effaec9ab315329ca.

Change-Id: I121eb61319acc47585bff25a4f0548a623164b89
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/20/491320/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,5dd1f27e6eefb39eeabfb36fbfd16da14c10282a,install-from-source,MIDONET_USE_PACKAGE=${MIDONET_USE_PACKAGE:-False},MIDONET_USE_PACKAGE=${MIDONET_USE_PACKAGE:-True},1,1
openstack%2Fnetworking-midonet~master~I7e5df4954863f290440e9dc9c822ab509d33355f,openstack/networking-midonet,master,I7e5df4954863f290440e9dc9c822ab509d33355f,WIP build midonet from source,ABANDONED,2017-10-17 04:36:31.000000000,2019-12-04 08:34:03.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-17 04:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/492d7b0470645cbe65c2913dd13bc82d777fe536', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 2, 'created': '2017-10-17 04:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/349821689c961c431f7622a45580a3f82564a1fd', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 3, 'created': '2017-10-17 04:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/803609e2710bbf35784f2818c5c215709dd31789', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 4, 'created': '2017-10-17 12:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/698870ce14418ac1b320be62deaeb01fd6c0c0c1', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 5, 'created': '2017-10-18 04:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/3bcf5955613ef73f523d2933d43c29bf555bc1f4', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 6, 'created': '2017-10-19 00:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7e1b80178e67c82a819cf6a99fe17aabd82aa1a9', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 7, 'created': '2017-10-19 06:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/66c54ace422b3ba9f8a90ffc627bc484377800aa', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 8, 'created': '2017-10-19 07:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/4ec6ca3ebff469cdd7b930ac3542c461c2c28320', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 9, 'created': '2017-10-19 11:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c991a18e63d4fba500df73e40f1ac4b9106f4f3e', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}, {'number': 10, 'created': '2017-10-20 00:11:13.000000000', 'files': ['devstack/midonet-pkg/configure_repo.sh', 'devstack/midonet-pkg/install_pkgs.sh', 'devstack/midonet-pkg/install_pkgs_centos.sh', 'devstack/midonet-pkg/install_db_pkgs_centos.sh', 'devstack/midonet-pkg/configure_repo_centos.sh', 'devstack/midonet-pkg/configure_db_repo.sh', 'devstack/ovs_base', 'devstack/midonet-pkg/install_db_pkgs.sh', 'devstack/plugin.sh', 'devstack/midonet-pkg/configure_db_repo_centos.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/74029895849f566d5d70d97a5802941b39266cc0', 'message': 'WIP build midonet from source\n\nChange-Id: I7e5df4954863f290440e9dc9c822ab509d33355f\n'}]",0,512478,74029895849f566d5d70d97a5802941b39266cc0,20,3,10,6854,,,0,"WIP build midonet from source

Change-Id: I7e5df4954863f290440e9dc9c822ab509d33355f
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/78/512478/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ovs_base', 'devstack/plugin.sh']",2,492d7b0470645cbe65c2913dd13bc82d777fe536,install-from-source," if [ ""$MIDONET_USE_PACKAGE"" = ""True"" ]; then # Install MidoNet packages. if [[ ""$OFFLINE"" != ""True"" ]]; then if is_ubuntu; then sudo $ABSOLUTE_PATH/midonet-pkg/configure_repo.sh \ $MIDONET_DEB_URI $MIDONET_DEB_SUITE $MIDONET_DEB_COMPONENT \ $MIDONET_USE_CASSANDRA sudo $ABSOLUTE_PATH/midonet-pkg/install_pkgs.sh \ $MIDONET_USE_CASSANDRA \ $PYTHON_PREFIX else sudo $ABSOLUTE_PATH/midonet-pkg/configure_repo_centos.sh \ $MIDONET_YUM_URI \ $MIDONET_USE_CASSANDRA sudo $ABSOLUTE_PATH/midonet-pkg/install_pkgs_centos.sh \ $MIDONET_USE_CASSANDRA \ $PYTHON_PREFIX fi else # Build MidoNet from source. # Midolman runtime dependencies install_package libreswan install_package quagga install_package haproxy install_package iproute if is_ubuntu; then source $ABSOLUTE_PATH/ovs_base _neutron_ovs_base_install_ubuntu_dkms fi # TODO(yamamoto): vpp # TODO(yamamoto): python, python-proctitle"," # Install MidoNet packages. # NOTE(yamamoto): Do this even if MIDONET_USE_PACKAGE=False, to pull # runtime dependencies like libreswan. # REVISIT(yamamoto): Consider to have a separate set of scripts # for dependencies. if [[ ""$OFFLINE"" != ""True"" ]]; then if is_ubuntu; then sudo $ABSOLUTE_PATH/midonet-pkg/configure_repo.sh \ $MIDONET_DEB_URI $MIDONET_DEB_SUITE $MIDONET_DEB_COMPONENT \ $MIDONET_USE_CASSANDRA sudo $ABSOLUTE_PATH/midonet-pkg/install_pkgs.sh \ $MIDONET_USE_CASSANDRA \ $PYTHON_PREFIX else sudo $ABSOLUTE_PATH/midonet-pkg/configure_repo_centos.sh \ $MIDONET_YUM_URI \ $MIDONET_USE_CASSANDRA sudo $ABSOLUTE_PATH/midonet-pkg/install_pkgs_centos.sh \ $MIDONET_USE_CASSANDRA \ $PYTHON_PREFIX fi if [ ""$MIDONET_USE_PACKAGE"" != ""True"" ]; then",47,22
openstack%2Fnetworking-midonet~master~If1cd47255d8d3a22b407caabdbc981e472e606c6,openstack/networking-midonet,master,If1cd47255d8d3a22b407caabdbc981e472e606c6,DO NOT MERGE: enable tempest.api.compute,ABANDONED,2017-11-24 03:53:53.000000000,2019-12-04 08:33:56.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-24 03:53:53.000000000', 'files': ['devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f2e0443e3bfa9ab27b10dcf68ec64fcd3c8ea7a9', 'message': 'DO NOT MERGE: enable tempest.api.compute\n\nI got a report some of them are failing.\n\nChange-Id: If1cd47255d8d3a22b407caabdbc981e472e606c6\n'}]",0,522700,f2e0443e3bfa9ab27b10dcf68ec64fcd3c8ea7a9,7,3,1,6854,,,0,"DO NOT MERGE: enable tempest.api.compute

I got a report some of them are failing.

Change-Id: If1cd47255d8d3a22b407caabdbc981e472e606c6
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/00/522700/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ci/gate_hook.sh'],1,f2e0443e3bfa9ab27b10dcf68ec64fcd3c8ea7a9,compute-tests,,"r=""$r|(?:tempest\.api\.compute\.(?!.*migration))""",0,1
openstack%2Fneutron-vpnaas~stable%2Focata~I98249d4c2522506e1faf98a1975a240e5cb0d3cb,openstack/neutron-vpnaas,stable/ocata,I98249d4c2522506e1faf98a1975a240e5cb0d3cb,TEST FOR CI DO NOT REVIEW,ABANDONED,2017-04-24 05:00:17.000000000,2019-12-04 08:33:44.000000000,,"[{'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 11975}]","[{'number': 1, 'created': '2017-04-24 05:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/4189586e69f88e81dcc226dda3ef3cf23c1ebe23', 'message': 'TEST FOR CI DO NOT REVIEW\n\nDepends-On: Ic7f7e3d44fb55c01bb0e2c90ea49547c76301a68\nDepends-On: I81e712503a20623bf43bd61c39f79efc306f8e9a\nDepends-On: I479ef1f88967e371d95dfbf583a4e2b813148c6d\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 2, 'created': '2017-05-24 17:43:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0873ec19dc2511583b241c59a1c05d3e44169571', 'message': 'TEST FOR CI DO NOT REVIEW\n\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}]",0,459165,0873ec19dc2511583b241c59a1c05d3e44169571,21,3,2,6854,,,0,"TEST FOR CI DO NOT REVIEW

Change-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/65/459165/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4189586e69f88e81dcc226dda3ef3cf23c1ebe23,ci-test, # hi,,2,0
openstack%2Fpython-neutronclient~master~I83c46d8acde36b8178fd6fb900c19d8260065011,openstack/python-neutronclient,master,I83c46d8acde36b8178fd6fb900c19d8260065011,Ike-policy's phase1_negotiation_mode support aggressive,ABANDONED,2017-06-30 02:18:31.000000000,2019-12-04 08:33:33.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 11975}, {'_account_id': 15905}, {'_account_id': 23822}]","[{'number': 1, 'created': '2017-06-30 02:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/9d00342e27c50821e569794f5104a0d336406b14', 'message': ""Ike-policy's phase1_negotiation_mode support aggressive\n\nIke-policy's phase1_negotiation_mode support aggressive\n\nChange-Id: I83c46d8acde36b8178fd6fb900c19d8260065011\nCloses-Bug: #1701413\n""}, {'number': 2, 'created': '2017-06-30 03:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/fd695ac70f41e9584c190cc73d46202674b8bebf', 'message': ""Ike-policy's phase1_negotiation_mode support aggressive\n\nIke-policy's phase1_negotiation_mode support aggressive\n\nChange-Id: I83c46d8acde36b8178fd6fb900c19d8260065011\nCloses-Bug: #1701413\n""}, {'number': 3, 'created': '2017-06-30 06:46:07.000000000', 'files': ['neutronclient/tests/unit/vpn/test_cli20_ikepolicy.py', 'neutronclient/neutron/v2_0/vpn/ikepolicy.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/8ddb74c92a25ef7b3b9dd9b5c813a17268000db3', 'message': ""Ike-policy's phase1_negotiation_mode support aggressive\n\nIke-policy's phase1_negotiation_mode support aggressive\n\nChange-Id: I83c46d8acde36b8178fd6fb900c19d8260065011\nCloses-Bug: #1701413\n""}]",1,479112,8ddb74c92a25ef7b3b9dd9b5c813a17268000db3,11,8,3,26150,,,0,"Ike-policy's phase1_negotiation_mode support aggressive

Ike-policy's phase1_negotiation_mode support aggressive

Change-Id: I83c46d8acde36b8178fd6fb900c19d8260065011
Closes-Bug: #1701413
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/12/479112/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/vpn/test_cli20_ikepolicy.py', 'neutronclient/neutron/v2_0/vpn/ikepolicy.py']",2,9d00342e27c50821e569794f5104a0d336406b14,bug/1701413," choices=['main', 'aggressive'],"," choices=['main'],",10,5
openstack%2Fneutron-vpnaas~master~I98249d4c2522506e1faf98a1975a240e5cb0d3cb,openstack/neutron-vpnaas,master,I98249d4c2522506e1faf98a1975a240e5cb0d3cb,TEST FOR CI DO NOT REVIEW,ABANDONED,2017-01-13 08:07:27.000000000,2019-12-04 08:33:17.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-01-13 08:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f425a3b6709b53090d9df0719152c83266e3051a', 'message': 'TEST FOR CI DO NOT REVIEW\n\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 2, 'created': '2017-01-30 00:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f913579e92175b2f82d520376b20ae6708ff094f', 'message': 'TEST FOR CI DO NOT REVIEW\n\nDepends-On: I38626690320c8c7844fe653baba27ff9315b1f17\nDepends-On: I81e712503a20623bf43bd61c39f79efc306f8e9a\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 3, 'created': '2017-02-01 00:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c11ca50e8eed53f3ce2e3fc0cb877b0818fe3ae1', 'message': 'TEST FOR CI DO NOT REVIEW\n\nDepends-On: I38626690320c8c7844fe653baba27ff9315b1f17\nDepends-On: I81e712503a20623bf43bd61c39f79efc306f8e9a\nDepends-On: Ie4ec6f610fe01603a190d477f52afe5d199a4e33\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 4, 'created': '2017-02-06 00:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ab0aa8cfb73e644b5169a3fa74c1e9e4912a14c5', 'message': 'TEST FOR CI DO NOT REVIEW\n\n//Depends-On: I38626690320c8c7844fe653baba27ff9315b1f17\n//Depends-On: I81e712503a20623bf43bd61c39f79efc306f8e9a\n//Depends-On: Ie4ec6f610fe01603a190d477f52afe5d199a4e33\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 5, 'created': '2017-02-06 23:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/bc08afe9ba441f06cab19882c65ff13138bf2d30', 'message': 'TEST FOR CI DO NOT REVIEW\n\nDepends-On: I38626690320c8c7844fe653baba27ff9315b1f17\nDepends-On: I81e712503a20623bf43bd61c39f79efc306f8e9a\nDepends-On: Ie4ec6f610fe01603a190d477f52afe5d199a4e33\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 6, 'created': '2017-02-09 04:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f1107088944f74043cc410abd4d6a665a1d21a0f', 'message': 'TEST FOR CI DO NOT REVIEW\n\nDepends-On: I38626690320c8c7844fe653baba27ff9315b1f17\nDepends-On: I81e712503a20623bf43bd61c39f79efc306f8e9a\nDepends-On: Ie4ec6f610fe01603a190d477f52afe5d199a4e33\nDepends-On: I479ef1f88967e371d95dfbf583a4e2b813148c6d\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 7, 'created': '2017-04-03 04:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/642c1f2b1ad4bc82dbf3bf3b22d5d5acaca4dce4', 'message': 'TEST FOR CI DO NOT REVIEW\n\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}, {'number': 8, 'created': '2018-10-25 07:26:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8c7ddc8c869456028da5e8686857e57be51e6d67', 'message': 'TEST FOR CI DO NOT REVIEW\n\nChange-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb\n'}]",0,419801,8c7ddc8c869456028da5e8686857e57be51e6d67,66,3,8,6854,,,0,"TEST FOR CI DO NOT REVIEW

Change-Id: I98249d4c2522506e1faf98a1975a240e5cb0d3cb
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/01/419801/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f425a3b6709b53090d9df0719152c83266e3051a,ci-test, # hi,,2,0
openstack%2Fnetworking-odl~master~I81299d025290656af19d9b55fa62b1e7422b1dd3,openstack/networking-odl,master,I81299d025290656af19d9b55fa62b1e7422b1dd3,Pass args and kwargs to the SBI revision resource resolver,ABANDONED,2018-06-20 13:21:59.000000000,2019-12-04 08:33:11.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-06-20 13:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/11efd2190b6fcbb90e508b0cb59ef80ca0ee9975', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 2, 'created': '2018-07-08 14:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7f30a6d88d719bc7e5a004d5ab9075177026561e', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 3, 'created': '2018-07-10 08:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0341407ae2044178b6c355919b5e74a8922ede9c', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 4, 'created': '2018-07-16 10:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/22e547355bd479c62d9fd8b0e67beab8c9925038', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 5, 'created': '2018-07-16 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8575d3adc78bd286eb69aa735fa2ffdb59de9d62', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 6, 'created': '2018-07-16 13:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4f13f7531c4156534ca12290c244e80aa1bb29ae', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 7, 'created': '2018-07-19 14:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ad3cf69e56c7f019d2d2b2e94df3e38ccb24ed25', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 8, 'created': '2018-07-23 12:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/79be95d8245a9b971800e2887c8e9cce7d600e3d', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 9, 'created': '2018-07-25 10:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b12a9ae2df8d4de0aafa8de36e0c1e5bf7ca61ee', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 10, 'created': '2018-07-26 07:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6a2d002f5bd165e99dced6a9f2ca360f29bd0dd9', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 11, 'created': '2018-07-26 07:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/af977da9ddaa10f296b32027f36fef073eb9e33d', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 12, 'created': '2018-07-26 07:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/90a5b80847fbf13cba64c2087b28faf32d534d17', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 13, 'created': '2018-08-14 08:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/107bb4c0e674e9aec591039004fb5e9a89d914bb', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 14, 'created': '2018-08-20 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3bfe9c6134cf80ac90ffa07dc6e3fe9e1282edd1', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 15, 'created': '2018-11-05 12:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/30dfdc94a63c26560d447f257b3ee6328d8bb9d2', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 16, 'created': '2018-11-07 10:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bd32e67dbbc7af326c4479e9ba3c9bb0d5ec6989', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}, {'number': 17, 'created': '2019-01-08 11:55:36.000000000', 'files': ['networking_odl/db/sbi/revision.py', 'networking_odl/tests/unit/db/sbi/test_revision.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8a2962da33877cbfa877d7023edc71e1644d1b06', 'message': 'Pass args and kwargs to the SBI revision resource resolver\n\nNot in every case we receive the information from the context. Because,\nof this we want to have flexibility so any non default resource resolver\nwill have the information to resolve the resource.\n\nThis patch adds args and kwargs to the resource resolver call.\n\nChange-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3\n'}]",0,576852,8a2962da33877cbfa877d7023edc71e1644d1b06,36,3,17,26507,,,0,"Pass args and kwargs to the SBI revision resource resolver

Not in every case we receive the information from the context. Because,
of this we want to have flexibility so any non default resource resolver
will have the information to resolve the resource.

This patch adds args and kwargs to the resource resolver call.

Change-Id: I81299d025290656af19d9b55fa62b1e7422b1dd3
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/52/576852/17 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/db/sbi/revision.py', 'networking_odl/tests/unit/db/sbi/test_revision.py']",2,11efd2190b6fcbb90e508b0cb59ef80ca0ee9975,bp/sbi-database-consistency," mock_res.assert_called_once_with(self.db_context, mock.DEFAULT, kw=mock.DEFAULT) resolver_mock.assert_called_once_with(self.db_context, mock.DEFAULT, kw=mock.DEFAULT)", mock_res.assert_called_once_with(self.db_context) resolver_mock.assert_called_once_with(self.db_context),13,9
openstack%2Fneutron~master~I82cf7b807cde4aca90dd31a2b5ead60a152c6e19,openstack/neutron,master,I82cf7b807cde4aca90dd31a2b5ead60a152c6e19,Expand the help text of of_interface config option,ABANDONED,2018-09-20 21:54:41.000000000,2019-12-04 08:33:02.000000000,,"[{'_account_id': 4694}, {'_account_id': 6062}, {'_account_id': 9200}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 30103}]","[{'number': 1, 'created': '2018-09-20 21:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7d75e9f6734831565704767191265b9ceeea133', 'message': 'Expand the help text of of_interface config option\n\n* Document the possible values of the of_interface option\n* Explain the packet loss behavior if chaning this option\n\nChange-Id: I82cf7b807cde4aca90dd31a2b5ead60a152c6e19\nRelated-Bug: #1793354\n'}, {'number': 2, 'created': '2018-09-20 22:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c801899241035c3ff3b657b38047bff9fc74a78', 'message': 'Expand the help text of of_interface config option\n\n* Document the possible values of the of_interface option\n* Explain the packet loss behavior if chaning this option\n\nChange-Id: I82cf7b807cde4aca90dd31a2b5ead60a152c6e19\nRelated-Bug: #1793354\n'}, {'number': 3, 'created': '2018-09-24 20:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/851466dc235fb5ba28641aeb1439b95f0d73c84c', 'message': 'Expand the help text of of_interface config option\n\n* Document the possible values of the of_interface option\n* Explain the packet loss behavior if chaning this option\n\nChange-Id: I82cf7b807cde4aca90dd31a2b5ead60a152c6e19\nRelated-Bug: #1793354\n'}, {'number': 4, 'created': '2018-09-25 14:36:23.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/235ba895b13c8b9974a4dcbc482fd7feaa0a9083', 'message': ""Expand the help text of of_interface config option\n\nExplain the packet loss behavior if chaning this option\nbetween 'native' and 'ovs-ofctl'\n\nChange-Id: I82cf7b807cde4aca90dd31a2b5ead60a152c6e19\nRelated-Bug: #1793354\n""}]",6,604228,235ba895b13c8b9974a4dcbc482fd7feaa0a9083,34,13,4,27654,,,0,"Expand the help text of of_interface config option

Explain the packet loss behavior if chaning this option
between 'native' and 'ovs-ofctl'

Change-Id: I82cf7b807cde4aca90dd31a2b5ead60a152c6e19
Related-Bug: #1793354
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/604228/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/plugins/ml2/drivers/ovs_conf.py'],1,b7d75e9f6734831565704767191265b9ceeea133,bug/1793354," help=_(""OpenFlow interface to use. This should be chosen from "" ""'ovs-ofctl' and 'native'. If nothing is specified "" ""in this option, the 'native' is used. NOTE: changing "" ""this option between 'native' and 'ovs-ofctl' will cause "" ""a short period of packet losses when ovs-agent is "" ""restarting."")),"," help=_(""OpenFlow interface to use."")),",6,1
openstack%2Fneutron-dynamic-routing~master~Id7e30f3245a3e9bd48860ffb270618362086dc32,openstack/neutron-dynamic-routing,master,Id7e30f3245a3e9bd48860ffb270618362086dc32,Add neutron-tempest-plugin for tempest plugin tests,ABANDONED,2019-02-19 07:55:59.000000000,2019-12-04 08:32:54.000000000,,"[{'_account_id': 4187}, {'_account_id': 5689}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 07:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a93a85732e8efac026ea16c5f04c8a15f9a3d4d4', 'message': 'Add neutron-tempest-plugin for tempest plugin tests\n\nThis commit adds neutron-tempest-plugin for the tempest plugin tests\ndependency.\n\nChange-Id: Id7e30f3245a3e9bd48860ffb270618362086dc32\n'}, {'number': 2, 'created': '2019-02-19 23:32:16.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b09e9da1f8551fe5d62ca69257c618aea6080c2b', 'message': 'Add neutron-tempest-plugin for tempest plugin tests\n\nThis commit adds neutron-tempest-plugin for the tempest plugin tests\ndependency.\n\nChange-Id: Id7e30f3245a3e9bd48860ffb270618362086dc32\n'}]",0,637718,b09e9da1f8551fe5d62ca69257c618aea6080c2b,17,5,2,5689,,,0,"Add neutron-tempest-plugin for tempest plugin tests

This commit adds neutron-tempest-plugin for the tempest plugin tests
dependency.

Change-Id: Id7e30f3245a3e9bd48860ffb270618362086dc32
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/18/637718/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a93a85732e8efac026ea16c5f04c8a15f9a3d4d4,tempest-sanity-gate,neutron-tempest-plugin>=0.2.0 # Apache-2.0,,1,0
openstack%2Fneutron~master~I43e8481d28ca47f6b5c26a3c058d62915adee0de,openstack/neutron,master,I43e8481d28ca47f6b5c26a3c058d62915adee0de,Modify action output to normal for fdb update,ABANDONED,2019-02-25 05:00:08.000000000,2019-12-04 08:32:45.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10518}, {'_account_id': 11975}, {'_account_id': 12408}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16011}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18480}, {'_account_id': 19956}, {'_account_id': 22132}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26286}, {'_account_id': 26297}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28329}, {'_account_id': 28722}, {'_account_id': 30103}, {'_account_id': 30156}, {'_account_id': 30243}, {'_account_id': 30388}]","[{'number': 1, 'created': '2019-02-25 05:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42700fc97d763e7b7667bd10fb4b268e393a7a73', 'message': ""ESFIX: Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork.If we modify action output to normal,when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 2, 'created': '2019-02-25 05:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c23f489bd94b666f0242c5723af259f8b9457975', 'message': ""ESFIX: Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork.If we modify action output to normal,when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 3, 'created': '2019-02-25 05:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17717f91e5cca24607fd3d9cde2987f56b28801d', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork.If we modify action output to normal,when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 4, 'created': '2019-02-25 05:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/239ba7c2064e5caf4b583a6627c6d28fe4331781', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 5, 'created': '2019-02-25 09:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2eabe7dddfa15786068794d88f62e47cd698115', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 6, 'created': '2019-02-26 02:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4a3b0146d7ad15ec491c3a9b6aa1709cf51af27', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 7, 'created': '2019-03-01 09:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1ad95a70aaac78ce1c3250187f0743d3ba19f74', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 8, 'created': '2019-03-01 09:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa6e189efb88ff44b72919f8018c33275a6447d5', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 9, 'created': '2019-03-22 07:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f4cc9e5d93538a6045b363477c89f67c33ea8d7', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 10, 'created': '2019-03-22 07:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/678c9e65e17ac53303f9045298dfba46b776d585', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 11, 'created': '2019-03-22 08:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b2d74fdd827afe54869d63e3647724bb34f8778', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 12, 'created': '2019-04-01 04:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c614b6234260be1b1f47c4bb8cb13258d26d58f5', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 13, 'created': '2019-04-01 06:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3e2b1b636380971708380d04a0896392ce5e5ff', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 14, 'created': '2019-04-01 12:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a90fe715ea22d132a2f638d0d4bf635f0eb7fea2', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 15, 'created': '2019-04-02 02:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b3398edf701c2f312f8d8efba9026b051f8c7b9', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 16, 'created': '2019-04-15 02:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59e0125c4bc0a92c18bd77517831c821b668c660', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 17, 'created': '2019-04-15 06:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd3b866d9b064c2ebbb9a0371cee68475e7b3908', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 18, 'created': '2019-04-15 06:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae316f0a66f4b3b499571b0ae97e141e2fe9c064', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 19, 'created': '2019-04-16 11:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/579ccd0ed8b6239c24ab55855f78c0a42d1ced22', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 20, 'created': '2019-04-17 11:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7bc167058cf5d4479d6583565f45a09d8521d54', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 21, 'created': '2019-04-23 03:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7da08decb193abb31b897d2c23c521c14932f30a', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 22, 'created': '2019-04-23 03:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f3733de7b5f0405ded34675663375adfb04b485', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 23, 'created': '2019-04-25 02:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f286c76c856d21d344ea7e4ad47996b9bb49de81', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 24, 'created': '2019-04-25 11:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db597e39ca827562b00409b21b24b030b04aa9f0', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 25, 'created': '2019-04-25 12:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86acea8f47856d27a29b5e4bdde427214d5106ff', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 26, 'created': '2019-04-27 04:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96612b33622ba2f7bb67ef846b645c5a1be6e65f', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 27, 'created': '2019-04-29 02:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8003844f8b429e01e079b281173fdb8ecf81dfe9', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 28, 'created': '2019-06-11 11:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/baaf70893a8dfa16059d0ccfdeb2cb50e0caac65', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 29, 'created': '2019-06-17 11:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b90bf0d99e4b838113f03b0179bb946d3f594d2', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}, {'number': 30, 'created': '2019-06-20 11:01:35.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/48307672a635731f9b697a92dd4c39cffae50e84', 'message': ""Modify action output to normal for fdb update\n\nThe original ingress openflow will use output to send\npackets to VM, but this way won't update the src mac into\nfdb, when packet comes out from vm, the packets won't know\nthe exact destination port, this will cause flood in one\nnetwork. If we modify action output to normal, when packets\ncome into VM, the src mac will be updated into fdb, and\nreturned packets will be sent to right port, no more flood.\n\nChange-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de\nCloses-Bug: 1732067\n""}]",25,639009,48307672a635731f9b697a92dd4c39cffae50e84,228,31,30,19956,,,0,"Modify action output to normal for fdb update

The original ingress openflow will use output to send
packets to VM, but this way won't update the src mac into
fdb, when packet comes out from vm, the packets won't know
the exact destination port, this will cause flood in one
network. If we modify action output to normal, when packets
come into VM, the src mac will be updated into fdb, and
returned packets will be sent to right port, no more flood.

Change-Id: I43e8481d28ca47f6b5c26a3c058d62915adee0de
Closes-Bug: 1732067
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/639009/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py']",2,42700fc97d763e7b7667bd10fb4b268e393a7a73,bug/1732067," flow_template['actions'] = ""normal"""," flow_template['actions'] = ""output:{:d}"".format(port.ofport)",5,5
openstack%2Fneutron~master~Ibe8a5fd543bc84db98593fde0cb1eee748964fe1,openstack/neutron,master,Ibe8a5fd543bc84db98593fde0cb1eee748964fe1,Adding check for IPv6 address in setup_controllers,ABANDONED,2019-10-18 20:31:09.000000000,2019-12-04 08:32:28.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-18 20:31:09.000000000', 'files': ['neutron/common/ipv6_utils.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/45688697a7067a12acf462c64ea9c08dffa4404a', 'message': 'Adding check for IPv6 address in setup_controllers\n\nIf it is IPv6 then adding [] to it before\ncreating the connection string.\n\nChange-Id: Ibe8a5fd543bc84db98593fde0cb1eee748964fe1\nCloses-Bug: #1846494\n'}]",0,689576,45688697a7067a12acf462c64ea9c08dffa4404a,6,5,1,26916,,,0,"Adding check for IPv6 address in setup_controllers

If it is IPv6 then adding [] to it before
creating the connection string.

Change-Id: Ibe8a5fd543bc84db98593fde0cb1eee748964fe1
Closes-Bug: #1846494
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/689576/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ipv6_utils.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py']",2,45688697a7067a12acf462c64ea9c08dffa4404a,bug/1846494,"from neutron.common import ipv6_utils url = ipv6_utils.valid_ipv6_url(conf.OVS.of_listen_address, conf.OVS.of_listen_port) controllers = [""tcp:"" + url]"," controllers = [ ""tcp:%(address)s:%(port)s"" % { ""address"": conf.OVS.of_listen_address, ""port"": conf.OVS.of_listen_port, } ]",6,8
openstack%2Fopenstack-ansible~master~I59bc3463334ef08bb544e1a6893d318360e622aa,openstack/openstack-ansible,master,I59bc3463334ef08bb544e1a6893d318360e622aa,Disable debian jobs on master branch,ABANDONED,2019-12-02 10:05:54.000000000,2019-12-04 08:25:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-02 10:05:54.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f1a0ec71488655bf79c677a0b4d59852b7be7c81', 'message': 'Disable debian jobs on master branch\n\nThese jobs are still using Debian Stretch, and this now fails because\nnova requires libvirt 4.0.0 and Stretch ships with version 3.\n\n""oslo_service.service nova.exception.InternalError: Nova requires\nlibvirt version 4.0.0 or greater.""\n\nChange-Id: I59bc3463334ef08bb544e1a6893d318360e622aa\n'}]",0,696848,f1a0ec71488655bf79c677a0b4d59852b7be7c81,3,1,1,25023,,,0,"Disable debian jobs on master branch

These jobs are still using Debian Stretch, and this now fails because
nova requires libvirt 4.0.0 and Stretch ships with version 3.

""oslo_service.service nova.exception.InternalError: Nova requires
libvirt version 4.0.0 or greater.""

Change-Id: I59bc3463334ef08bb544e1a6893d318360e622aa
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/48/696848/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,f1a0ec71488655bf79c677a0b4d59852b7be7c81,, # (NOTE)jrosser re-enable debian once buster jobs are working # - openstack-ansible-deploy-aio_lxc-debian-stable # (NOTE)jrosser re-enable debian once buster jobs are working # - openstack-ansible-deploy-aio_lxc-debian-stable # (NOTE)jrosser re-enable debian once buster jobs are working # - openstack-ansible-deploy-aio_metal-debian-stable # (NOTE)jrosser re-enable debian once buster jobs are working # - openstack-ansible-deploy-aio_metal-debian-stable # (NOTE)jrosser re-enable debian once buster jobs are working # - openstack-ansible-deploy-aio_telemetry_metal-debian-stable # (NOTE)jrosser re-enable debian once buster jobs are working # - openstack-ansible-deploy-aio_telemetry_metal-debian-stable - openstack-ansible-linters-ubuntu-bionic , - openstack-ansible-deploy-aio_lxc-debian-stable - openstack-ansible-deploy-aio_lxc-debian-stable - openstack-ansible-deploy-aio_metal-debian-stable - openstack-ansible-deploy-aio_metal-debian-stable - openstack-ansible-deploy-aio_telemetry_metal-debian-stable - openstack-ansible-deploy-aio_telemetry_metal-debian-stable - openstack-ansible-linters-ubuntu-bionic,13,7
openstack%2Fproject-config~master~I390444e1fe1d06148af3dce31fcd6890a5d34a63,openstack/project-config,master,I390444e1fe1d06148af3dce31fcd6890a5d34a63,Normalize projects.yaml,MERGED,2019-12-04 06:07:43.000000000,2019-12-04 07:47:29.000000000,2019-12-04 07:47:28.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 06:07:43.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e5fb240149e2f7aeaf5394905f0284eb135ecd7', 'message': 'Normalize projects.yaml\n\nChange-Id: I390444e1fe1d06148af3dce31fcd6890a5d34a63\n'}]",0,697231,1e5fb240149e2f7aeaf5394905f0284eb135ecd7,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I390444e1fe1d06148af3dce31fcd6890a5d34a63
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/697231/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,1e5fb240149e2f7aeaf5394905f0284eb135ecd7,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-cinder-backup-swift-proxy.git upstream: https://github.com/openstack-charmers/charm-interface-cinder-backup.git,0,2
openstack%2Ftripleo-ansible~master~I839d48cfa06544c0ee156d57f460348242a2056f,openstack/tripleo-ansible,master,I839d48cfa06544c0ee156d57f460348242a2056f,Add os_baremetal_node_info module for retrieving nodes info,MERGED,2019-11-18 11:29:21.000000000,2019-12-04 07:32:54.000000000,2019-12-04 07:32:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-18 11:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2796b1be577e0eb2f41c6482f88e8572db76cd08', 'message': 'Add os_ironic_info module for retrieving nodes info\n\nexample playbook:\n* for getting info about all nodes in maintenance:\n- os_ironic_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      is_maintenance: true\n\n* to get all manage nodes:\n- os_ironic_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      provision_state: manage\n\n* to get info about specific node:\n- os_ironic_info:\n    uuid: 6911e6d6-c2e0-41df-ad88-3e4ab014e24c\n    cloud: undercloud\n    auth: password\n\nChange-Id: I839d48cfa06544c0ee156d57f460348242a2056f\n'}, {'number': 2, 'created': '2019-11-20 21:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4cf757b7cfa9ac4c96c7d04beca07802591fc02', 'message': 'Add os_ironic_info module for retrieving nodes info\n\nexample playbook:\n* for getting info about all nodes in maintenance:\n- os_ironic_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      is_maintenance: true\n\n* to get all manage nodes:\n- os_ironic_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      provision_state: manage\n\n* to get info about specific node:\n- os_ironic_info:\n    uuid: 6911e6d6-c2e0-41df-ad88-3e4ab014e24c\n    cloud: undercloud\n    auth: password\n\nChange-Id: I839d48cfa06544c0ee156d57f460348242a2056f\n'}, {'number': 3, 'created': '2019-11-21 20:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b59bece97a0df8b1c5c964acaa98a788acf6a026', 'message': 'Add os_ironic_info module for retrieving nodes info\n\nexample playbook:\n* for getting info about all nodes in maintenance:\n- os_ironic_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      is_maintenance: true\n\n* to get all manage nodes:\n- os_ironic_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      provision_state: manage\n\n* to get info about specific node:\n- os_ironic_info:\n    uuid: 6911e6d6-c2e0-41df-ad88-3e4ab014e24c\n    cloud: undercloud\n    auth: password\n\nChange-Id: I839d48cfa06544c0ee156d57f460348242a2056f\n'}, {'number': 4, 'created': '2019-11-21 20:21:43.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_baremetal_node_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e63da71027d31f8774ae2ec50fb3bc165c5de8d', 'message': 'Add os_baremetal_node_info module for retrieving nodes info\n\nexample playbook:\n* for getting info about all nodes in maintenance:\n- os_baremetal_node_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      is_maintenance: true\n\n* to get all manage nodes:\n- os_baremetal_node_info:\n    cloud: undercloud\n    auth: password\n    filters:\n      provision_state: manage\n\n* to get info about specific node:\n- os_baremetal_node_info:\n    uuid: 6911e6d6-c2e0-41df-ad88-3e4ab014e24c\n    cloud: undercloud\n    auth: password\n\nChange-Id: I839d48cfa06544c0ee156d57f460348242a2056f\n'}]",15,694751,2e63da71027d31f8774ae2ec50fb3bc165c5de8d,23,9,4,10969,,,0,"Add os_baremetal_node_info module for retrieving nodes info

example playbook:
* for getting info about all nodes in maintenance:
- os_baremetal_node_info:
    cloud: undercloud
    auth: password
    filters:
      is_maintenance: true

* to get all manage nodes:
- os_baremetal_node_info:
    cloud: undercloud
    auth: password
    filters:
      provision_state: manage

* to get info about specific node:
- os_baremetal_node_info:
    uuid: 6911e6d6-c2e0-41df-ad88-3e4ab014e24c
    cloud: undercloud
    auth: password

Change-Id: I839d48cfa06544c0ee156d57f460348242a2056f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/694751/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_ironic_info.py'],1,2796b1be577e0eb2f41c6482f88e8572db76cd08,ironic_info,"#!/usr/bin/python # coding: utf-8 -*- # (c) 2019, Red Hat # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) from __future__ import absolute_import, division, print_function __metaclass__ = type ANSIBLE_METADATA = {'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community'} DOCUMENTATION = ''' --- module: os_ironic_info short_description: Show baremetal nodes of Ironic extends_documentation_fragment: openstack author: - ""Sagi Shnaidman (@sshnaidm)"" version_added: ""2.10"" description: - Requests Ironic for nodes info. options: mac: description: - unique mac address that is used to attempt to identify the host. uuid: description: - globally unique identifier (UUID) to identify the host. name: description: - unique name identifier to identify the host in Ironic. ironic_url: description: - If noauth mode is utilized, this is required to be set to the endpoint URL for the Ironic API. Use with ""auth"" and ""auth_type"" settings set to None. requirements: [""openstacksdk""] ''' RETURN = ''' baremetal_nodes: description: Dictionary of new facts representing discovered properties of the node.. returned: changed type: complex contains: ... # TBD ''' EXAMPLES = ''' # Invoke node inspection - os_ironic_info: name: ""testnode1"" - os_ironic_info: cloud: undercloud auth: password filters: is_maintenance: true ''' from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module def _choose_id_value(module): if module.params['uuid']: return module.params['uuid'] if module.params['name']: return module.params['name'] return None def main(): argument_spec = openstack_full_argument_spec( auth_type=dict(required=False), uuid=dict(required=False), name=dict(required=False), mac=dict(required=False), ironic_url=dict(required=False), filters=(dict(required=False, type=dict)), ) module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) if (module.params['auth_type'] in [None, 'None'] and module.params['ironic_url'] is None): module.fail_json(msg=""Authentication appears to be disabled, "" ""Please define an ironic_url parameter"") if (module.params['ironic_url'] and module.params['auth_type'] in [None, 'None']): module.params['auth'] = dict( endpoint=module.params['ironic_url'] ) sdk, cloud = openstack_cloud_from_module(module) try: if module.params['name'] or module.params['uuid']: result = cloud.get_machine(_choose_id_value(module)) elif module.params['mac']: result = cloud.get_machine_by_mac(module.params['mac']) else: result = list(cloud.baremetal.nodes(details=True, **module.params['filters'])) module.exit_json(changed=False, baremetal_nodes=result) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e)) if __name__ == ""__main__"": main() ",,117,0
openstack%2Fdiskimage-builder~master~I46e40fbe4408d4204056a27b182b21213f1176ff,openstack/diskimage-builder,master,I46e40fbe4408d4204056a27b182b21213f1176ff,Allow zypper repos to be overrideable,MERGED,2019-12-03 00:31:44.000000000,2019-12-04 06:17:04.000000000,2019-12-04 06:14:54.000000000,"[{'_account_id': 7118}, {'_account_id': 8482}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 00:31:44.000000000', 'files': ['diskimage_builder/elements/zypper-minimal/README.rst', 'diskimage_builder/elements/zypper-minimal/root.d/08-zypper-chroot'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ad67aa213b62ed4c0c6a9b665b3fa691ffb7b549', 'message': 'Allow zypper repos to be overrideable\n\nWithout this change, operating system elements that use the\nzypper-minimal element always must use download.opensuse.org as their\nrepository source. This change makes ZYPPER_REPOS overrideable, which\nallows the user to create custom operating system elements that can use\nprivate repositories as their source for base packages. For example,\nwith only this change, it is possible to create a sles-minimal element\nthat generates a SLE 15 SP1 image just by overriding DIB_ZYPPER_REPOS\nand DIB_OPENSUSE_PATTERNS.\n\nChange-Id: I46e40fbe4408d4204056a27b182b21213f1176ff\n'}]",4,696990,ad67aa213b62ed4c0c6a9b665b3fa691ffb7b549,13,5,1,8482,,,0,"Allow zypper repos to be overrideable

Without this change, operating system elements that use the
zypper-minimal element always must use download.opensuse.org as their
repository source. This change makes ZYPPER_REPOS overrideable, which
allows the user to create custom operating system elements that can use
private repositories as their source for base packages. For example,
with only this change, it is possible to create a sles-minimal element
that generates a SLE 15 SP1 image just by overriding DIB_ZYPPER_REPOS
and DIB_OPENSUSE_PATTERNS.

Change-Id: I46e40fbe4408d4204056a27b182b21213f1176ff
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/90/696990/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/zypper-minimal/README.rst', 'diskimage_builder/elements/zypper-minimal/root.d/08-zypper-chroot']",2,ad67aa213b62ed4c0c6a9b665b3fa691ffb7b549,zypper-sles,"ZYPPER_REPOS=${DIB_ZYPPER_REPOS:-''} if [ -z ""${ZYPPER_REPOS}"" ] ; then case ${DIB_RELEASE} in # Old Leap releases 42*) ZYPPER_REPOS=""update=>${DIB_DISTRIBUTION_MIRROR}/update/leap/${DIB_RELEASE}/oss/ "" ZYPPER_REPOS+=""oss=>${DIB_DISTRIBUTION_MIRROR}/distribution/leap/${DIB_RELEASE}/repo/oss/"" ZYPPER_INSTALL_SYSTEM_PYTHON=""python"" ;; # New Leap releases 15*) ZYPPER_REPOS=""update=>${DIB_DISTRIBUTION_MIRROR}/update/leap/${DIB_RELEASE}/oss/ "" ZYPPER_REPOS+=""oss=>${DIB_DISTRIBUTION_MIRROR}/distribution/leap/${DIB_RELEASE}/repo/oss/"" ;; # Tumbleweed tumbleweed) ZYPPER_REPOS=""update=>${DIB_DISTRIBUTION_MIRROR}/update/${DIB_RELEASE}/ "" ZYPPER_REPOS+=""oss=>${DIB_DISTRIBUTION_MIRROR}/${DIB_RELEASE}/repo/oss/"" ;; *) echo ""Unsupported openSUSE release: ${DIB_RELEASE}""; exit 1 ;; esac fi","case ${DIB_RELEASE} in # Old Leap releases 42*) ZYPPER_REPOS=""update=>${DIB_DISTRIBUTION_MIRROR}/update/leap/${DIB_RELEASE}/oss/ "" ZYPPER_REPOS+=""oss=>${DIB_DISTRIBUTION_MIRROR}/distribution/leap/${DIB_RELEASE}/repo/oss/"" ZYPPER_INSTALL_SYSTEM_PYTHON=""python"" ;; # New Leap releases 15*) ZYPPER_REPOS=""update=>${DIB_DISTRIBUTION_MIRROR}/update/leap/${DIB_RELEASE}/oss/ "" ZYPPER_REPOS+=""oss=>${DIB_DISTRIBUTION_MIRROR}/distribution/leap/${DIB_RELEASE}/repo/oss/"" ;; # Tumbleweed tumbleweed) ZYPPER_REPOS=""update=>${DIB_DISTRIBUTION_MIRROR}/update/${DIB_RELEASE}/ "" ZYPPER_REPOS+=""oss=>${DIB_DISTRIBUTION_MIRROR}/${DIB_RELEASE}/repo/oss/"" ;; *) echo ""Unsupported openSUSE release: ${DIB_RELEASE}""; exit 1 ;; esac",30,19
openstack%2Fnetworking-ovn~stable%2Ftrain~I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a,openstack/networking-ovn,stable/train,I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a,Added OSP16 & train to plugin spec.,MERGED,2019-11-28 13:11:52.000000000,2019-12-04 06:03:39.000000000,2019-12-04 06:02:20.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 13:11:52.000000000', 'files': ['plugin.spec'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6b0c5fa60bc0983f266628647945e2ded51344eb', 'message': 'Added OSP16 & train to plugin spec.\n\nChange-Id: I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a\n(cherry picked from commit b53b9aa65744b843d6f1de1b7d1b96f0adc33d56)\n'}]",0,696540,6b0c5fa60bc0983f266628647945e2ded51344eb,8,3,1,19118,,,0,"Added OSP16 & train to plugin spec.

Change-Id: I931ba4f7ca193b022ab00c1e3a78dead9bee9c4a
(cherry picked from commit b53b9aa65744b843d6f1de1b7d1b96f0adc33d56)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/40/696540/1 && git format-patch -1 --stdout FETCH_HEAD,['plugin.spec'],1,6b0c5fa60bc0983f266628647945e2ded51344eb,osp16_migration-stable/train," - ""16"" - train",,2,0
openstack%2Fhorizon~master~I3157aeaa916837b4f6258009dc643ab225e6ee17,openstack/horizon,master,I3157aeaa916837b4f6258009dc643ab225e6ee17,Add policy_rules to flavors dashboard,MERGED,2019-11-18 19:42:43.000000000,2019-12-04 05:38:51.000000000,2019-12-04 05:37:13.000000000,"[{'_account_id': 841}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-18 19:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/24756396bfbb70930c96fe17cfcd7598016a158a', 'message': 'Add policy_rules to flavors dashboard\n\nThis patch set adds in os_compute_api:os-flavor-manage policies in the\nappropriate dashboards.\n\nChange-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-11-19 15:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5a0b7abbc88c9ced585a480d88d056b629ae7d1c', 'message': 'Add policy_rules to flavors dashboard\n\nThis patch set adds in os_compute_api:os-flavor-manage policies in the\nappropriate dashboards.\n\nChange-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-11-21 14:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d73ffe47ef5452a334d019ae8975664ae12c6b88', 'message': 'Add policy_rules to flavors dashboard\n\nThis patch set adds in os_compute_api:os-flavor-manage policies in the\nappropriate dashboards.\n\nChange-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-11-27 00:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/089fa1b244255ed06ab13a2a9f4b3d67eb81db2f', 'message': 'Add policy_rules to flavors dashboard\n\nThis patch set adds in os_compute_api:os-flavor-manage policies in the\nappropriate dashboards.\n\nChange-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2019-12-02 23:45:07.000000000', 'files': ['openstack_dashboard/dashboards/admin/flavors/tables.py', 'releasenotes/notes/policy-rules-flavors-94f50aa168d8563b.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/140c22741e8dc463312374f5a5178071bbbe8e68', 'message': 'Add policy_rules to flavors dashboard\n\nThis patch set adds in os_compute_api:os-flavor-manage policies in the\nappropriate dashboards.\n\nChange-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,694837,140c22741e8dc463312374f5a5178071bbbe8e68,19,4,5,20466,,,0,"Add policy_rules to flavors dashboard

This patch set adds in os_compute_api:os-flavor-manage policies in the
appropriate dashboards.

Change-Id: I3157aeaa916837b4f6258009dc643ab225e6ee17
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/694837/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/flavors/tables.py'],1,24756396bfbb70930c96fe17cfcd7598016a158a,policy-rules/flavors," policy_rules = ((""compute"", ""os_compute_api:os-flavor-manage:delete""),) policy_rules = ((""compute"", ""os_compute_api:os-flavor-manage:create""),) policy_rules = ((""compute"", ""os_compute_api:os-flavor-manage:update""),)",,4,0
openstack%2Fneutron~master~I3d9beeaed104dcf12cfd97590b44c4003754b4e4,openstack/neutron,master,I3d9beeaed104dcf12cfd97590b44c4003754b4e4,Set ignore_basepython_conflict to true in tox.ini,MERGED,2019-11-28 12:47:46.000000000,2019-12-04 05:05:38.000000000,2019-12-04 05:03:58.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-28 12:47:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d296188c2e6ae3a77848ec47b1f88a0f74e03bcc', 'message': 'Set ignore_basepython_conflict to true in tox.ini\n\nSince dropping py2 support and adding a basepython setting to the global\ntox testenv, tox complains about a basepython mismatch when the\ninstalled python3 is python3.6 and the py37 environment is executed (or\nvice versa). Setting ignore_basepython_conflict = True will avoid this\nmessage and enforce the correct python version to be used.\n\nNeeds a bump in the minimum tox version supported.\n\nSee also [0].\n\n[0] https://review.opendev.org/582392\n\nChange-Id: I3d9beeaed104dcf12cfd97590b44c4003754b4e4\n'}]",0,696536,d296188c2e6ae3a77848ec47b1f88a0f74e03bcc,12,5,1,13252,,,0,"Set ignore_basepython_conflict to true in tox.ini

Since dropping py2 support and adding a basepython setting to the global
tox testenv, tox complains about a basepython mismatch when the
installed python3 is python3.6 and the py37 environment is executed (or
vice versa). Setting ignore_basepython_conflict = True will avoid this
message and enforce the correct python version to be used.

Needs a bump in the minimum tox version supported.

See also [0].

[0] https://review.opendev.org/582392

Change-Id: I3d9beeaed104dcf12cfd97590b44c4003754b4e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/696536/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d296188c2e6ae3a77848ec47b1f88a0f74e03bcc,fix-basepython-conflict,minversion = 3.1.0ignore_basepython_conflict = True,minversion = 2.3.2,2,1
openstack%2Fos-brick~stable%2Frocky~I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9,openstack/os-brick,stable/rocky,I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9,Fix FC scan too broad,MERGED,2019-12-03 16:46:17.000000000,2019-12-04 04:54:30.000000000,2019-12-04 04:53:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-12-03 16:46:17.000000000', 'files': ['releasenotes/notes/fix-fc-scan-too-broad-3c576e1846b7f05f.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/34a3ca23b3184e9b356877432d0f44c836705a70', 'message': 'Fix FC scan too broad\n\nAfter some changes to the FC connector we have introduced a regression\non the way we do the scans, and we end up scanning using wildcards even\nthough we shouldn\'t.\n\nThe targets in the ""initiator_target_map"" don\'t mean that they are all\nconnected, so we must take that into account.\n\nWith the current code, if we have the following connections:\n\nHBA host7 ---- SWITCH ---- port W (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port X (channel 0, target 3)\n\nHBA host8 ---- SWITCH ---- port Y (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port Z (channel 0, target 3)\n\nWe will end up with the following scans 8 scans for LUN L:\n\n\xa0\xa0- - L > host7\n\xa0\xa0- - L > host7\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\xa0\xa0- - L > host8\n\xa0\xa0- - L > host8\n\nWhich correspond to the responses from _get_hba_channel_scsi_target like\nthis:\n\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0port Y          port Z          port W          port X\n\xa0\xa0host7 ... [\'-\',\'-\',L]     [\'-\',\'-\',L]     [\'0\',\'2\',L]     [\'0\',\'3\',L]\n\xa0\xa0host8 ... [\'0\',\'2\',L]     [\'0\',\'3\',L]     [\'-\',\'-\',L]     [\'-\',\'-\',L]\n\nAnd we should only be doing 4 scans:\n\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\nMost storage arrays get their target ports automatically detected by the\nLinux FC initiator and sysfs gets populated with that information, but\nthere are some that don\'t.\n\nWe\'ll do a narrow scan using the channel, target, and LUN for the former\nand a wider scan for the latter.\n\nIf all paths to a former type of array were down on the system boot the\narray could look like it\'s of the latter type and make us bring us\nunwanted volumes into the system by doing a broad scan.\n\nTo prevent this from happening Cinder drivers can use the\n""enable_wildcard_scan"" key in the connection information to let us know\nthey don\'t want us to do broad scans even if no target ports are found\n(because they know the cause is there\'s no connection).\n\nClose-Bug: #1849504\nRelated-Bug: #1765000\nRelated-Bug: #1828440\nChange-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9\n(cherry picked from commit 708733e49598145eb8e898d486723dc3df00a52f)\n(cherry picked from commit c76b6dc514b8e17e1211e4a7465a7e2a635adea3)\n(cherry picked from commit 8933503041529978b9fd816e1788b1b0c343b540)\n'}]",0,697133,34a3ca23b3184e9b356877432d0f44c836705a70,14,10,1,9535,,,0,"Fix FC scan too broad

After some changes to the FC connector we have introduced a regression
on the way we do the scans, and we end up scanning using wildcards even
though we shouldn't.

The targets in the ""initiator_target_map"" don't mean that they are all
connected, so we must take that into account.

With the current code, if we have the following connections:

HBA host7 ---- SWITCH ---- port W (channel 0, target 2)
\--- SWITCH ---- port X (channel 0, target 3)

HBA host8 ---- SWITCH ---- port Y (channel 0, target 2)
\--- SWITCH ---- port Z (channel 0, target 3)

We will end up with the following scans 8 scans for LUN L:

- - L > host7
- - L > host7
0 2 L > host7
0 3 L > host7

0 2 L > host8
0 3 L > host8
- - L > host8
- - L > host8

Which correspond to the responses from _get_hba_channel_scsi_target like
this:

port Y          port Z          port W          port X
host7 ... ['-','-',L]     ['-','-',L]     ['0','2',L]     ['0','3',L]
host8 ... ['0','2',L]     ['0','3',L]     ['-','-',L]     ['-','-',L]

And we should only be doing 4 scans:

0 2 L > host7
0 3 L > host7
0 2 L > host8
0 3 L > host8

Most storage arrays get their target ports automatically detected by the
Linux FC initiator and sysfs gets populated with that information, but
there are some that don't.

We'll do a narrow scan using the channel, target, and LUN for the former
and a wider scan for the latter.

If all paths to a former type of array were down on the system boot the
array could look like it's of the latter type and make us bring us
unwanted volumes into the system by doing a broad scan.

To prevent this from happening Cinder drivers can use the
""enable_wildcard_scan"" key in the connection information to let us know
they don't want us to do broad scans even if no target ports are found
(because they know the cause is there's no connection).

Close-Bug: #1849504
Related-Bug: #1765000
Related-Bug: #1828440
Change-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9
(cherry picked from commit 708733e49598145eb8e898d486723dc3df00a52f)
(cherry picked from commit c76b6dc514b8e17e1211e4a7465a7e2a635adea3)
(cherry picked from commit 8933503041529978b9fd816e1788b1b0c343b540)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/33/697133/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/linuxfc.py', 'releasenotes/notes/fix-fc-scan-too-broad-3c576e1846b7f05f.yaml', 'os_brick/tests/initiator/test_linuxfc.py']",3,34a3ca23b3184e9b356877432d0f44c836705a70,bug/1849504," def test__get_hba_channel_scsi_target_lun_single_wwpn(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_with_initiator_target_map(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_with_initiator_target_map_none( self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_multiple_wwpn(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1], ['0', '2', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_multiple_wwpn_and_luns(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1], ['0', '2', 7]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_zone_manager(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_not_found(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) self.assertEqual(([], set()), res) def test__get_hba_channel_scsi_target_lun_exception(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) self.assertEqual(([], {1}), res) def test__get_hba_channel_scsi_target_lun_some_exception(self): execute_effects = [ ('/sys/class/fc_transport/target6:0:1/port_name\n', ''), Exception() ] expected_cmds = [ mock.call('grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), mock.call('grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), ] hbas, con_props = self.__get_rescan_info() with mock.patch.object(self.lfc, '_execute', side_effect=execute_effects) as execute_mock: res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) execute_mock.assert_has_calls(expected_cmds) expected = ([['0', '1', 1]], {1}) self.assertEqual(expected, res) get_chan_results = [([['2', '3', 1], ['4', '5', 1]], set()), ([['6', '7', 1]], set())] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', [[['2', '3', 1], ['4', '5', 1]], set()], [[['6', '7', 1]], set()], [[], {1}], mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', get_chan_results = [([['2', '3', 1], ['4', '5', 1]], set()), ([], {1})] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', def test_rescan_hosts_port_not_found(self): """"""Test when we don't find the target ports."""""" get_chan_results = [([], {1}), ([], {1})] with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', def test_rescan_hosts_port_not_found_driver_disables_wildcards(self): """"""Test when we don't find the target ports but driver forces scan."""""" get_chan_results = [([], {1}), ([], {1})] hbas, con_props = self.__get_rescan_info(zone_manager=True) con_props['enable_wildcard_scan'] = False with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', side_effect=get_chan_results), \ mock.patch.object(self.lfc, '_execute', side_effect=None) as execute_mock: self.lfc.rescan_hosts(hbas, con_props) execute_mock.assert_not_called() "," def test__get_hba_channel_scsi_target_single_wwpn(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map_none(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1], ['0', '2', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn_and_luns(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1], ['0', '2', 7]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_zone_manager(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_not_found(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) self.assertListEqual([], res) def test__get_hba_channel_scsi_target_exception(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) self.assertEqual(res, [['-', '-', 1]]) get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]]] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', [['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]], [['-', '-', 1]], mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['-', '-', 1]]] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', def test_rescan_hosts_wildcard(self): """"""Test when we don't have initiator map or target is single WWNN."""""" get_chan_results = [[['-', '-', 1]], [['-', '-', 1]]] with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target',",149,81
openstack%2Fneutron-fwaas~stable%2Ftrain~I54da9fe2fc47fa3f99de51df4da5a499a13699e3,openstack/neutron-fwaas,stable/train,I54da9fe2fc47fa3f99de51df4da5a499a13699e3,Switch neutron-tempest-plugin jobs to train branch,MERGED,2019-10-03 20:09:37.000000000,2019-12-04 04:28:26.000000000,2019-12-04 04:26:42.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 20:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fef50cd60a5984116b6101086eba30e89862d4eb', 'message': 'Switch neutron-tempest-plugin jobs to train branch\n\nDepends-On: https://review.opendev.org/#/c/685213/\nChange-Id: I54da9fe2fc47fa3f99de51df4da5a499a13699e3\n'}, {'number': 2, 'created': '2019-11-28 08:33:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3c3efef25173bf61d140c8e25007829f80483b19', 'message': 'Switch neutron-tempest-plugin jobs to train branch\n\nDepends-On: https://review.opendev.org/#/c/685213/\nChange-Id: I54da9fe2fc47fa3f99de51df4da5a499a13699e3\n'}]",0,686486,3c3efef25173bf61d140c8e25007829f80483b19,17,5,2,11975,,,0,"Switch neutron-tempest-plugin jobs to train branch

Depends-On: https://review.opendev.org/#/c/685213/
Change-Id: I54da9fe2fc47fa3f99de51df4da5a499a13699e3
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/86/686486/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fef50cd60a5984116b6101086eba30e89862d4eb,train-release, - neutron-tempest-plugin-fwaas-train - neutron-tempest-plugin-fwaas-train, - neutron-tempest-plugin-fwaas - neutron-tempest-plugin-fwaas,2,2
openstack%2Fneutron-fwaas~stable%2Ftrain~Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2,openstack/neutron-fwaas,stable/train,Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2,Add 'none' to L3AgentExtensionAPI due to API changes,MERGED,2019-11-28 08:33:09.000000000,2019-12-04 04:25:46.000000000,2019-12-04 04:24:41.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26970}]","[{'number': 1, 'created': '2019-11-28 08:33:09.000000000', 'files': ['neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/67b94c672c4a0bd4f5bceacdd0a4fc8dd629c577', 'message': ""Add 'none' to L3AgentExtensionAPI due to API changes\n\nL3AgentExtensionAPI now takes the new parameter 'router_factory'.\nThis API change breaks the test cases, so pass None to initialize\nthe class to aovid the failure.\n\nDepends-On: https://review.openstack.org/#/c/620349/\nChange-Id: Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2\n(cherry picked from commit 578b12f35e3d81f9885ebb631fc194d7e9b57a97)\n""}]",0,696474,67b94c672c4a0bd4f5bceacdd0a4fc8dd629c577,11,5,1,11975,,,0,"Add 'none' to L3AgentExtensionAPI due to API changes

L3AgentExtensionAPI now takes the new parameter 'router_factory'.
This API change breaks the test cases, so pass None to initialize
the class to aovid the failure.

Depends-On: https://review.openstack.org/#/c/620349/
Change-Id: Iaf3a8071eb6eec8c0c7240d1a0a5d057f7b152d2
(cherry picked from commit 578b12f35e3d81f9885ebb631fc194d7e9b57a97)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/74/696474/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py'],1,67b94c672c4a0bd4f5bceacdd0a4fc8dd629c577,," self.agent_api = l3_ext_api.L3AgentExtensionAPI({}, None)", self.agent_api = l3_ext_api.L3AgentExtensionAPI({}),1,1
openstack%2Foctavia~master~Ic15e4311ce244e71b65069359c6c08e49f6b8d00,openstack/octavia,master,Ic15e4311ce244e71b65069359c6c08e49f6b8d00,Transition member flows to use dicts,MERGED,2019-05-08 15:31:56.000000000,2019-12-04 04:25:03.000000000,2019-12-04 04:22:33.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-05-08 15:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2b73cf3e38a763910ea5846c0f5ddd9b260e372a', 'message': '[WIP] Transition member flows to use dicts\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 2, 'created': '2019-05-22 09:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d014794c914a40cf9f2351faeb31596c2abe0d7', 'message': '[WIP] Transition member flows to use dicts\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 3, 'created': '2019-05-22 12:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/de41e556f432f161cf268661366dcd7311c0cde5', 'message': '[WIP] Transition member flows to use dicts\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 4, 'created': '2019-05-24 13:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd55ce8fc7e66f7266f1b3ce36cd19ad554dbbdc', 'message': '[WIP] Transition member flows to use dicts\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 5, 'created': '2019-05-27 09:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/38a520a87cd8e765a2161ab4a1dcfb53876ac04c', 'message': '[WIP] Transition member flows to use dicts\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 6, 'created': '2019-05-27 13:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/009e6b80404985fe8f97f2be87dded6938a6c624', 'message': '[WIP] Transition member flows to use dicts\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 7, 'created': '2019-05-28 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2b27d5c5968c1384f86e3288715a3ad10621c7d', 'message': '[WIP] Transition member flows to use dicts\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 8, 'created': '2019-05-28 11:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/950587e79364e956c2482d9a8d93942987d1284a', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 9, 'created': '2019-05-28 12:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ddc6f2cb6486faf0fd8aacdda7e272e7a19b7cd', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 10, 'created': '2019-05-28 12:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/71d4cd0226b38b40e707d1c8ae4d422795f6e0db', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 11, 'created': '2019-05-30 07:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e8f1602dcf5ce5dcf1445aebf6459c3472686ac5', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 12, 'created': '2019-06-28 09:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b082e8b1d0d51ea5488b14319462cb1544790ef3', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 13, 'created': '2019-07-30 13:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a905ac135dd8cd9efc704145aa94547c9ae79143', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 14, 'created': '2019-08-28 10:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f18b9380a26984f2ca1b55e36a7d825868e9dec5', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 15, 'created': '2019-08-29 09:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9d1d99ed03cd717ddcf675cf8c52927ac1b1f8a', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 16, 'created': '2019-08-29 12:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fee082c8a129b8f18108f8e51394c033c7bef8cc', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 17, 'created': '2019-09-06 10:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/819975cd864b558bf51fe817e5804cecc9c83a19', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 18, 'created': '2019-09-11 06:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/041fde70a122a5629d8e76002ba6535752fb2696', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 19, 'created': '2019-09-12 10:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2dc6b7c2d98bbc14a5a0bbe85e98f0afb574c366', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 20, 'created': '2019-09-18 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ffc50055275a494b2edf8c2f9a81871a1f0f28be', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 21, 'created': '2019-09-20 14:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/781bc07af6dfe8a4ed36f01a9757e1e8e47972e5', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 22, 'created': '2019-09-27 13:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/deb600298e47d44cb203373b21f672a8e2485034', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 23, 'created': '2019-10-24 11:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b727a67125ae5cf25f60e606f3c03e88281c09e', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 24, 'created': '2019-10-29 07:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ad2007e8356a591621860aa1124b69fcb580dd4b', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 25, 'created': '2019-10-31 12:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27a39cf9630c45431c2b11d73c6a2702ea257b8c', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 26, 'created': '2019-11-18 19:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eba27608985c962c269bb9c63cfd76d6ec8d1d3c', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 27, 'created': '2019-11-18 20:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/297da9020144be4be3b02c668bdbc8c9fe72ba3e', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 28, 'created': '2019-11-27 17:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8379d534551408213402524b3a1860dd765062cc', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 29, 'created': '2019-11-28 17:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fcd514653e86777ee9e9fefbc9ce701ce6a666f0', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 30, 'created': '2019-11-29 02:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1853d4a83ccb2e92e91526ce7574dcf0b79c981e', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 31, 'created': '2019-12-02 23:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b44d90bd1e65cb72fece4ac241deec2e2d4a74be', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}, {'number': 32, 'created': '2019-12-03 22:00:59.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/controller/worker/v2/flows/member_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_member_flows.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6dc2b9a3e673100ee42af79d7a4af1f65bbd9ce', 'message': 'Transition member flows to use dicts\n\nThis patch converts the member flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00\nStory: 2005072\nTask: 30810\n'}]",6,657842,d6dc2b9a3e673100ee42af79d7a4af1f65bbd9ce,87,6,32,7249,,,0,"Transition member flows to use dicts

This patch converts the member flows to use the provider driver
data model.
It also stops storing sqlalchemy models in the flow storage in
preparation for enabling jobboard.

Change-Id: Ic15e4311ce244e71b65069359c6c08e49f6b8d00
Story: 2005072
Task: 30810
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/657842/24 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/tests/unit/controller/worker/tasks/test_database_tasks_quota.py', 'octavia/controller/worker/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/tasks/test_database_tasks.py', 'octavia/controller/worker/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/tasks/test_lifecycle_tasks.py', 'octavia/controller/worker/flows/member_flows.py', 'octavia/controller/worker/controller_worker.py']",8,2b73cf3e38a763910ea5846c0f5ddd9b260e372a,jobboard_dicts," member = member.to_dict(recurse=True) pool = member['pool'] listeners = pool['listeners'] load_balancer = pool['load_balancer'] member = member.to_dict(recurse=True) pool = member['pool'] listeners = pool['listeners'] load_balancer = pool['load_balancer'] old_members = [self._member_repo.get(db_apis.get_session(), id=mid).to_dict(recurse=True) new_members = [self._member_repo.get(db_apis.get_session(), id=mid).to_dict(recurse=True) (self._member_repo.get(db_apis.get_session(), id=m.get('id')).to_dict(recurse=True), m) pool = old_members[0]['pool'] elif new_members: pool = new_members[0]['pool'] else: pool = updated_members[0][0]['pool'] listeners = pool['listeners'] load_balancer = pool['load_balancer'] member = member.to_dict(recurse=True) pool = member['pool'] listeners = pool['listeners'] load_balancer = pool['load_balancer']"," pool = member.pool listeners = pool.listeners load_balancer = pool.load_balancer pool = member.pool listeners = pool.listeners load_balancer = pool.load_balancer old_members = [self._member_repo.get(db_apis.get_session(), id=mid) new_members = [self._member_repo.get(db_apis.get_session(), id=mid) (self._member_repo.get(db_apis.get_session(), id=m.get('id')), m) pool = old_members[0].pool elif new_members: pool = new_members[0].pool else: pool = updated_members[0][0].pool listeners = pool.listeners load_balancer = pool.load_balancer pool = member.pool listeners = pool.listeners load_balancer = pool.load_balancer",142,121
openstack%2Foctavia-lib~master~I6dcbe72328369089ed62330098b38f8d4029749c,openstack/octavia-lib,master,I6dcbe72328369089ed62330098b38f8d4029749c,Add availability_zone to the LoadBalancer model,MERGED,2019-11-18 01:28:30.000000000,2019-12-04 04:24:29.000000000,2019-12-04 04:22:37.000000000,"[{'_account_id': 1131}, {'_account_id': 3031}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-11-18 01:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/202b0641f69301dc060919d997b59df807d7b2ff', 'message': 'Add availability_zone attribute to the LoadBalancer model.\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 2, 'created': '2019-11-18 21:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b9b5e7836e68f7da5ed1735654ee2c9d7498fa74', 'message': 'Add availability_zone to the LoadBalancer model\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 3, 'created': '2019-11-18 22:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b7a5163b85e025216410622f6615c9a7ded1f2d7', 'message': 'Add availability_zone attribute to the LoadBalancer model.\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 4, 'created': '2019-11-18 22:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/684b5db65a15e01f0af6314c5c7c136f2dcba0e2', 'message': 'Add availability_zone to the LoadBalancer model\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 5, 'created': '2019-11-19 02:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/7e40cb87e466ab4bc274dab8329bb82e8da6cc78', 'message': 'Add availability_zone to the LoadBalancer model\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 6, 'created': '2019-11-19 03:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/12d55c01e198d011afbdc08ea5e769bb5e85d96b', 'message': 'Add availability_zone to the LoadBalancer model\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 7, 'created': '2019-11-19 03:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ecfc9ba620312561d33da85a7d04f8149a6eb797', 'message': 'Add availability_zone to the LoadBalancer model\n\nTemporarily make the tips jobs non-voting so we can merge this change\nthat relies on a change in the main repo.\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 8, 'created': '2019-11-19 03:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/d776e538634b7982b4b0534c4dbe7723a9dd838d', 'message': 'Add availability_zone to the LoadBalancer model\n\nTemporarily make the tips jobs non-voting so we can merge this change\nthat relies on a change in the main repo.\n\nDepends-On: https://review.opendev.org/#/c/693765/\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 9, 'created': '2019-11-19 03:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/1f0a484dc34d976692b3112d3019b4f6b4bfa0fd', 'message': 'Add availability_zone to the LoadBalancer model\n\nTemporarily make the tips jobs non-voting so we can merge this change\nthat relies on a change in the main repo.\n\nDepends-On: https://review.opendev.org/#/c/693765/\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 10, 'created': '2019-11-19 03:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ab9cc5d7f2fcd6fc3faca06df5545573c4d3cabe', 'message': 'Add availability_zone to the LoadBalancer model\n\nTemporarily make the tips jobs non-voting so we can merge this change\nthat relies on a change in the main repo.\n\nDepends-On: https://review.opendev.org/#/c/693765/\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 11, 'created': '2019-11-21 18:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/430d98db2ce7e9f41b50b012ab159211ebf1dd86', 'message': 'Add availability_zone to the LoadBalancer model\n\nTemporarily make the tips jobs non-voting so we can merge this change\nthat relies on a change in the main repo.\n\n\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 12, 'created': '2019-11-21 19:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/98e4ae53979e7c4c0022bdbe1872e7a07efb3690', 'message': 'Add availability_zone to the LoadBalancer model\n\nTemporarily make the tips jobs non-voting so we can merge this change\nthat relies on a change in the main repo.\n\nDepends-On: https://review.opendev.org/695553\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}, {'number': 13, 'created': '2019-11-21 19:41:53.000000000', 'files': ['octavia_lib/common/constants.py', 'releasenotes/notes/add-az-to-loadbalancer-1e87b46ba29101d3.yaml', 'zuul.d/projects.yaml', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/012d908b9c29bb0f8ec0241f40f472bb40e4e03b', 'message': 'Add availability_zone to the LoadBalancer model\n\nTemporarily make the tips jobs non-voting so we can merge this change\nthat relies on a change in the main repo.\n\nDepends-On: https://review.opendev.org/#/c/693765/\nChange-Id: I6dcbe72328369089ed62330098b38f8d4029749c\n'}]",4,694707,012d908b9c29bb0f8ec0241f40f472bb40e4e03b,40,6,13,3031,,,0,"Add availability_zone to the LoadBalancer model

Temporarily make the tips jobs non-voting so we can merge this change
that relies on a change in the main repo.

Depends-On: https://review.opendev.org/#/c/693765/
Change-Id: I6dcbe72328369089ed62330098b38f8d4029749c
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/07/694707/10 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-az-to-loadbalancer-1e87b46ba29101d3.yaml', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py']",3,202b0641f69301dc060919d997b59df807d7b2ff,octavia-availability-zones," vip_qos_policy_id=Unset, additional_vips=Unset, availability_zone=Unset): self.availability_zone = availability_zone"," vip_qos_policy_id=Unset, additional_vips=Unset):",16,5
openstack%2Foctavia~master~Id1131589862e4ff68105a50971aa7c67ca15a097,openstack/octavia,master,Id1131589862e4ff68105a50971aa7c67ca15a097,Convert pool flows to use dicts,MERGED,2019-06-14 13:08:32.000000000,2019-12-04 04:23:57.000000000,2019-12-04 04:22:29.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-06-14 13:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6ba7f3c19f2ac10d7be922f80bf6f528684ffc2d', 'message': '[WIP] Convert pool flows to use dicts\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\nStory: 2005072\nTask: 30809\n'}, {'number': 2, 'created': '2019-06-19 12:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/93a3b9121cab2b25a55dbe895b8ba52ea30cf5fd', 'message': '[WIP] Convert pool flows to use dicts\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\nStory: 2005072\nTask: 30809\n'}, {'number': 3, 'created': '2019-06-19 13:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/517993a4bcd3b0316cb8e34a6529237f5f6e115b', 'message': '[WIP] Convert pool flows to use dicts\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\nStory: 2005072\nTask: 30809\n'}, {'number': 4, 'created': '2019-06-20 12:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/417d21d2d2cfb5586d650d56e44ab97e59b3728d', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 5, 'created': '2019-06-28 08:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3646f0e115b5969efd19e8f110432e1e8ea07008', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 6, 'created': '2019-07-12 13:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c7319ab41ee7d14691ab0a68689aed7a3095000a', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 7, 'created': '2019-07-26 12:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2eed4763eff745f762e9f8eb76e974c2e53641c5', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 8, 'created': '2019-07-30 12:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a730f08c376eec535fb1b4ce731e1033ee51e53b', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 9, 'created': '2019-08-05 07:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/261c7ff00a01322920ea6d19c9fa7054c258d0e6', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 10, 'created': '2019-08-23 10:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c666aa68036d4c152f531852f9cda6ea846d4dd2', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 11, 'created': '2019-08-28 12:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/48c8c8137a78b50ddc1699cc205ede511216dbd8', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 12, 'created': '2019-08-28 13:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/35cdd705bbbc4526d27f02d0c13b5790f248daad', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 13, 'created': '2019-09-06 08:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f39fa771d43aa98a4b3e08f8af0d4b63c23b8a2', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 14, 'created': '2019-09-11 06:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d0a8f70e55ba038c3152c33a805f91d0c4f0c60f', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 15, 'created': '2019-09-12 10:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13941cd672837955381b413b5c6d64e3d231ff47', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 16, 'created': '2019-09-18 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01e1dd792896c3dd39fc625f676c13767ee6148e', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 17, 'created': '2019-09-20 14:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4a26820ab600ec3bd24360500f68bcf7fcc8b804', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 18, 'created': '2019-09-27 13:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b28c9e7210630f1a988bc9bc40c23f6cfaee373', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 19, 'created': '2019-10-24 11:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/71deb3c82c25d6a3bd817a91627db837707f3d69', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 20, 'created': '2019-10-29 07:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/04f3936cf6a28eecd19f5c3dab9f48f6f102724d', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 21, 'created': '2019-10-31 12:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/110aeb167ff6a953d864d06e2203eceb1e4e963f', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 22, 'created': '2019-11-18 20:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/719175cd2fcb8ca20a67682467d1653717545881', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 23, 'created': '2019-11-27 17:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/184d134571f00ad178cae6be9a8da3582422a768', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 24, 'created': '2019-11-28 17:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9853a97dce04e3ef91533d0ea2e98fa7f1432798', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 25, 'created': '2019-11-29 02:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/09e01e8f60509a57b18f1ad09542767587bc9f41', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 26, 'created': '2019-12-02 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c6cbc8b2643751385b937464961cec5e5ff4481', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}, {'number': 27, 'created': '2019-12-03 22:00:48.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/controller/worker/v2/flows/member_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_member_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_pool_flows.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/flows/health_monitor_flows.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/tests/unit/controller/worker/v2/flows/test_health_monitor_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9e74630a6c3ee31f072928e7cb56e8203f60012', 'message': 'Convert pool flows to use dicts\n\nStory: 2005072\nTask: 30809\n\nChange-Id: Id1131589862e4ff68105a50971aa7c67ca15a097\n'}]",28,665381,b9e74630a6c3ee31f072928e7cb56e8203f60012,77,6,27,7249,,,0,"Convert pool flows to use dicts

Story: 2005072
Task: 30809

Change-Id: Id1131589862e4ff68105a50971aa7c67ca15a097
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/665381/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/controller/queue/v2/endpoints.py']",7,6ba7f3c19f2ac10d7be922f80bf6f528684ffc2d,jobboard,"from octavia.controller.worker.v2 import controller_worker self.worker = controller_worker.ControllerWorker() def create_pool(self, context, pool): LOG.info('Creating pool \'%s\'...', pool.get('id')) self.worker.create_pool(pool) def update_pool(self, context, original_pool, pool_updates): LOG.info('Updating pool \'%s\'...', original_pool.get('id')) self.worker.update_pool(original_pool, pool_updates) def delete_pool(self, context, pool): LOG.info('Deleting pool \'%s\'...', pool.get('id')) self.worker.delete_pool(pool)","from stevedore import driver as stevedore_driver self.worker = stevedore_driver.DriverManager( namespace='octavia.plugins', name=CONF.octavia_plugins, invoke_on_load=True ).driver def create_pool(self, context, pool_id): LOG.info('Creating pool \'%s\'...', pool_id) self.worker.create_pool(pool_id) def update_pool(self, context, pool_id, pool_updates): LOG.info('Updating pool \'%s\'...', pool_id) self.worker.update_pool(pool_id, pool_updates) def delete_pool(self, context, pool_id): LOG.info('Deleting pool \'%s\'...', pool_id) self.worker.delete_pool(pool_id)",86,112
openstack%2Foctavia~master~Ic44019b8877f008e6d7a75ceed1b7fd958e051d0,openstack/octavia,master,Ic44019b8877f008e6d7a75ceed1b7fd958e051d0,Convert listener flows to use provider models,MERGED,2019-05-21 00:54:14.000000000,2019-12-04 04:13:40.000000000,2019-12-04 04:11:55.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 00:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01a9e3736cd85925dd3f827dfa11403edfe4ff31', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 2, 'created': '2019-05-21 18:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f592b1762fd0cbfd4873c43bea7f8609a099dfc0', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 3, 'created': '2019-05-21 18:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/875b08cb0691ba06d7182d813a0aac6b9e69c6c0', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 4, 'created': '2019-05-22 20:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/583b0e36de3c47086182ba9e60d38712c6bcdf39', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 5, 'created': '2019-05-22 21:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3e5602c818059b366869881a09b8181c51f8507', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 6, 'created': '2019-05-22 22:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a6f279bd0a0353a1cabed7f9ea1e93b57c1b9cfc', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 7, 'created': '2019-05-23 18:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8876bc9ee85bf848164ae864238780607d82997', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 8, 'created': '2019-05-25 00:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b36b37533c9afe643ed3a1e272c044cdf4dfb9b6', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 9, 'created': '2019-05-29 00:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d2c4cc3abb75ca4c6236e0cda977e29904c80a2', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 10, 'created': '2019-08-09 10:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/40d6d3a58f7646d04850ddf5f14d3425743905c5', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 11, 'created': '2019-08-22 11:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf2feebbd654e8c47cb463cf05d6c0ca23e9772b', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 12, 'created': '2019-08-28 12:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/36c67bf6194ffaf5b88e60e70f1dd59654537f89', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 13, 'created': '2019-09-11 06:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/00db7112706345202b5554c4479403efb0cb787d', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 14, 'created': '2019-09-12 10:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/458136c02046f3576c83c42a9d4f1faaf27faa03', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 15, 'created': '2019-09-18 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/31c26751c61e196a8c58497c4b7f80f0732bf74a', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 16, 'created': '2019-09-19 10:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/75952b1f778cfc704bfab87529b0701bd47b790c', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 17, 'created': '2019-09-20 10:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cfb9b49e0169dfd78b3f0a09b4f1e1d85f4de11f', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 18, 'created': '2019-09-27 13:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/75b20072059243b264931dd064c739b00028fc1b', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 19, 'created': '2019-10-24 08:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cedfc89f0f24cf8cb242b35cf4ec57db868441d5', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 20, 'created': '2019-10-24 08:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1db5c178458802ddf1e8e7062daa88878fa8fa0', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 21, 'created': '2019-10-29 07:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/73793feaab01072165b2a54b201301ca3e798a78', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 22, 'created': '2019-10-31 12:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6277c34a0fcfb9d77389358451ef42a50d049adc', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 23, 'created': '2019-11-18 20:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/291cf4d7040e9c364786abf1b1cb3546e56e7271', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 24, 'created': '2019-11-27 17:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/52ac1f8880632edf8e00e5101ab35d55358f1274', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 25, 'created': '2019-11-28 17:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cdda36d9c0543665c30399e801020b6364d92587', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 26, 'created': '2019-11-29 02:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5fcf24aacb30c875deaef9c4a2a05cec8048e5be', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 27, 'created': '2019-12-02 21:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e126ba70444f350c5f24de21db416841d9a72a5d', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 28, 'created': '2019-12-02 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6d6e2250d08e990957abe6acb6f6b56c4b7d4b3e', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}, {'number': 29, 'created': '2019-12-03 21:56:06.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7policy_flows.py', 'octavia/controller/worker/v2/flows/l7rule_flows.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/controller/worker/v2/flows/test_health_monitor_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_listener_flows.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/controller/worker/v2/flows/member_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_member_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_model_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/api/drivers/utils.py', 'octavia/controller/worker/v2/tasks/model_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_pool_flows.py', 'octavia/controller/worker/v2/flows/health_monitor_flows.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7rule_flows.py', 'octavia/controller/worker/v2/flows/l7policy_flows.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/controller/worker/v2/flows/listener_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f0abf8b7aa4d7713941bb5f899313d051dee656', 'message': 'Convert listener flows to use provider models\n\nThis patch converts the listener flows to use the provider driver\ndata model.\nIt also stops storing sqlalchemy models in the flow storage in\npreparation for enabling jobboard.\n\nChange-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0\nStory: 2005072\nTask: 30808\n'}]",71,660236,7f0abf8b7aa4d7713941bb5f899313d051dee656,86,5,29,11628,,,0,"Convert listener flows to use provider models

This patch converts the listener flows to use the provider driver
data model.
It also stops storing sqlalchemy models in the flow storage in
preparation for enabling jobboard.

Change-Id: Ic44019b8877f008e6d7a75ceed1b7fd958e051d0
Story: 2005072
Task: 30808
",git fetch https://review.opendev.org/openstack/octavia refs/changes/36/660236/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/controller/worker/v2/flows/l7rule_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_listener_flows.py', 'octavia/controller/worker/v2/flows/member_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver.py', 'octavia/controller/worker/v2/flows/health_monitor_flows.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/controller/worker/v2/flows/l7policy_flows.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/controller/worker/v2/flows/listener_flows.py']",30,01a9e3736cd85925dd3f827dfa11403edfe4ff31,jobboard, requires=constants.LISTENERS)) requires=constants.LISTENERS)) requires=constants.LISTENERS)) requires=constants.LISTENERS)) requires=constants.LISTENERS)) requires=constants.LISTENERS)) requires=constants.LISTENER)) requires=constants.LISTENER)) delete_listener_flow.add(database_tasks.MarkLBActiveInDBByListener( requires=constants.LISTENER)) requires=constants.LISTENER)) requires=constants.LISTENERS)) requires=constants.LISTENERS)) requires=constants.LISTENERS))," requires=[constants.LOADBALANCER, constants.LISTENERS])) requires=[constants.LOADBALANCER, constants.LISTENERS])) requires=constants.LOADBALANCER)) requires=[constants.LOADBALANCER, constants.LISTENERS])) requires=[constants.LOADBALANCER, constants.LISTENERS])) requires=constants.LOADBALANCER)) requires=[constants.LOADBALANCER, constants.LISTENER])) requires=constants.LOADBALANCER)) delete_listener_flow.add(database_tasks.MarkLBActiveInDB( requires=constants.LOADBALANCER)) requires=constants.LOADBALANCER)) requires=[constants.LOADBALANCER, constants.LISTENERS])) requires=[constants.LOADBALANCER, constants.LISTENERS])) requires=[constants.LOADBALANCER, constants.LISTENERS]))",369,291
openstack%2Ftripleo-ansible~stable%2Ftrain~I72e2c75ae19c6f41f2938cf165b598345b3796fc,openstack/tripleo-ansible,stable/train,I72e2c75ae19c6f41f2938cf165b598345b3796fc,Delete Octavia configuration leftovers,MERGED,2019-12-03 08:05:18.000000000,2019-12-04 04:12:14.000000000,2019-12-04 04:12:14.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 08:05:18.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7861edc3e8c10623a1101a60b523d1ac0ec3aa31', 'message': 'Delete Octavia configuration leftovers\n\nPost update and upgrade tasks added in Change-Id\nI32524f85ef6a0ca3e87fa9acc8c9e12776225717 do not run as expected.\nOctavia is an external deploy. Best way to handle config leftover files\nis with an Ansible task in the end of the external deploy.\n\nCloses-Bug: #1836074\nChange-Id: I72e2c75ae19c6f41f2938cf165b598345b3796fc\n(cherry picked from commit 5f14ff39fa4d024c84cc9afce35bd499ba6d7d81)\n'}]",0,697014,7861edc3e8c10623a1101a60b523d1ac0ec3aa31,21,5,1,6469,,,0,"Delete Octavia configuration leftovers

Post update and upgrade tasks added in Change-Id
I32524f85ef6a0ca3e87fa9acc8c9e12776225717 do not run as expected.
Octavia is an external deploy. Best way to handle config leftover files
is with an Ansible task in the end of the external deploy.

Closes-Bug: #1836074
Change-Id: I72e2c75ae19c6f41f2938cf165b598345b3796fc
(cherry picked from commit 5f14ff39fa4d024c84cc9afce35bd499ba6d7d81)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/697014/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'],1,7861edc3e8c10623a1101a60b523d1ac0ec3aa31,bug/1836074-stable/train," - name: remove directory /etc/octavia/conf.d/common (LP#1836074) file: path: ""{{ octavia_confd_prefix }}/etc/octavia/conf.d/common"" state: absent",,5,0
openstack%2Frequirements~master~I2a49dea72c49a2b5ed5fbe5e8e1a5e2e4be4ae92,openstack/requirements,master,I2a49dea72c49a2b5ed5fbe5e8e1a5e2e4be4ae92,Updated from generate-constraints,MERGED,2019-12-03 06:18:33.000000000,2019-12-04 03:45:47.000000000,2019-12-04 03:44:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 06:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3366f4305e14c8e4cd8d744ca88fc62ad24170ce', 'message': 'Updated from generate-constraints\n\nChange-Id: I2a49dea72c49a2b5ed5fbe5e8e1a5e2e4be4ae92\n'}, {'number': 2, 'created': '2019-12-03 06:39:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cd633415859d7ce00166e5bac0061a9d3923729a', 'message': 'Updated from generate-constraints\n\nChange-Id: I2a49dea72c49a2b5ed5fbe5e8e1a5e2e4be4ae92\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,697003,cd633415859d7ce00166e5bac0061a9d3923729a,17,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I2a49dea72c49a2b5ed5fbe5e8e1a5e2e4be4ae92
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/697003/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3366f4305e14c8e4cd8d744ca88fc62ad24170ce,openstack/requirements/constraints/noclob,ddt===1.2.2pypowervm===1.1.24pywbem===0.15.0PyYAML===5.2tinyrpc===1.0.4importlib-metadata===1.1.0boto3===1.10.30Sphinx===2.2.2;python_version=='3.4' Sphinx===2.2.2;python_version=='3.5' Sphinx===2.2.2;python_version=='3.6' Sphinx===2.2.2;python_version=='3.7'bottle===0.12.18botocore===1.13.30xattr===0.9.7,ddt===1.2.1pypowervm===1.1.23pywbem===0.14.6PyYAML===5.1.2tinyrpc===1.0.3importlib-metadata===1.0.0boto3===1.10.8Sphinx===2.2.1;python_version=='3.4' Sphinx===2.2.1;python_version=='3.5' Sphinx===2.2.1;python_version=='3.6' Sphinx===2.2.1;python_version=='3.7'bottle===0.12.17botocore===1.13.8xattr===0.9.6,14,14
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie8a9b50a4d19fa6b80cc725d1091d71eb4f205de,openstack/tripleo-heat-templates,stable/stein,Ie8a9b50a4d19fa6b80cc725d1091d71eb4f205de,[DNM] stein containers,ABANDONED,2019-12-02 03:37:41.000000000,2019-12-04 03:43:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 03:37:41.000000000', 'files': ['deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d2cb129297442d09cb8c505f408649f75ac19af', 'message': '[DNM] stein containers\n\nDepends-On: https://review.opendev.org/#/c/696811/\n\nChange-Id: Ie8a9b50a4d19fa6b80cc725d1091d71eb4f205de\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,696812,8d2cb129297442d09cb8c505f408649f75ac19af,4,2,1,12393,,,0,"[DNM] stein containers

Depends-On: https://review.opendev.org/#/c/696811/

Change-Id: Ie8a9b50a4d19fa6b80cc725d1091d71eb4f205de
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/696812/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-api-container-puppet.yaml'],1,8d2cb129297442d09cb8c505f408649f75ac19af,foobar,,,1,0
openstack%2Ftripleo-ci~master~I1de368b55c9c3f652af407ef6d91771f473e7fff,openstack/tripleo-ci,master,I1de368b55c9c3f652af407ef6d91771f473e7fff,[build-images]Disable codeready RHUI repo,ABANDONED,2019-12-02 14:03:43.000000000,2019-12-04 03:43:47.000000000,,"[{'_account_id': 1955}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 14:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09303512c1358da6918600518e95c69c0e1fa2e8', 'message': '[build-images]Make sure RHUI repos are enabled and listed\n\nIn order to avoid missing repo sync failure in during\nbuild images, it is necessary to make sure all the repo are\nenabled and working before copying the repo files to the DIB\nimages.\n\nIt helps to avoid the repo sync issue.\n\nCloses-Bug: #1854685\n\nChange-Id: I1de368b55c9c3f652af407ef6d91771f473e7fff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-12-03 01:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/86e06f375f490bbdd3d249e790f43bfe96ab1cdb', 'message': '[build-images]Make sure RHUI repos are enabled and listed\n\nIn order to avoid missing repo sync failure in during\nbuild images, it is necessary to make sure all the repo are\nenabled and working before copying the repo files to the DIB\nimages.\n\nIt helps to avoid the repo sync issue.\n\nCloses-Bug: #1854685\n\nChange-Id: I1de368b55c9c3f652af407ef6d91771f473e7fff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-12-03 05:09:46.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/802590fe5ca4316c32ca818cfe767797c727350a', 'message': '[build-images]Disable codeready RHUI repo\n\nCurrently new RHUI rpm brings codeready containers and it is\ngiving failed to sync issue and blocking the promotion.\n\nAs a temprory solution, we are disable it and also making sure\nthat it does not gets listed.\n\nRelated-Bug: #1854685\n\nChange-Id: I1de368b55c9c3f652af407ef6d91771f473e7fff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,696885,802590fe5ca4316c32ca818cfe767797c727350a,12,7,3,12393,,,0,"[build-images]Disable codeready RHUI repo

Currently new RHUI rpm brings codeready containers and it is
giving failed to sync issue and blocking the promotion.

As a temprory solution, we are disable it and also making sure
that it does not gets listed.

Related-Bug: #1854685

Change-Id: I1de368b55c9c3f652af407ef6d91771f473e7fff
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/696885/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,09303512c1358da6918600518e95c69c0e1fa2e8,build_images, - name: Make sure RHUI repo is enabled become: true command: dnf config-manager --enable rhui-* changed_when: true - name: Yum repos are getting listed become: true command: yum repolist changed_when: true ,,10,0
openstack%2Fwatcher~master~I0703a935fa6d9d61f62374dbd7afb09b1dfffd5c,openstack/watcher,master,I0703a935fa6d9d61f62374dbd7afb09b1dfffd5c,Add list datamodel microversion to api-ref,MERGED,2019-12-03 03:06:28.000000000,2019-12-04 03:09:01.000000000,2019-12-04 03:07:49.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-12-03 03:06:28.000000000', 'files': ['api-ref/source/watcher-api-v1-datamodel.inc'], 'web_link': 'https://opendev.org/openstack/watcher/commit/002ea535aef91ed4d1d463e86a0cd0c0f8a60e72', 'message': 'Add list datamodel microversion to api-ref\n\nChange-Id: I0703a935fa6d9d61f62374dbd7afb09b1dfffd5c\nRelated-Bug: #1854121\n'}]",0,696999,002ea535aef91ed4d1d463e86a0cd0c0f8a60e72,8,3,1,21692,,,0,"Add list datamodel microversion to api-ref

Change-Id: I0703a935fa6d9d61f62374dbd7afb09b1dfffd5c
Related-Bug: #1854121
",git fetch https://review.opendev.org/openstack/watcher refs/changes/99/696999/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/watcher-api-v1-datamodel.inc'],1,002ea535aef91ed4d1d463e86a0cd0c0f8a60e72,bug/1854121,".. versionadded:: 1.3 Error codes: 400,401,406","Error codes: 400,401",3,1
openstack%2Fheat-dashboard~stable%2Ftrain~I11b1e0c8eefa8d3eb23d98eb998e4b9fadc2141a,openstack/heat-dashboard,stable/train,I11b1e0c8eefa8d3eb23d98eb998e4b9fadc2141a,Imported Translations from Zanata,MERGED,2019-11-14 07:06:09.000000000,2019-12-04 03:07:17.000000000,2019-12-04 03:05:58.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 07:06:09.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'heat_dashboard/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/69acbb8fe5bb4f6dfd2c13ae5609dc9b242fe9fd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I11b1e0c8eefa8d3eb23d98eb998e4b9fadc2141a\n'}]",0,694206,69acbb8fe5bb4f6dfd2c13ae5609dc9b242fe9fd,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I11b1e0c8eefa8d3eb23d98eb998e4b9fadc2141a
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/06/694206/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'heat_dashboard/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po']",13,69acbb8fe5bb4f6dfd2c13ae5609dc9b242fe9fd,zanata/translations,,"# Surit Aryal <aryalsurit@gmail.com>, 2018. #zanata # Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: heat-dashboard\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-05-22 15:39+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-06-17 09:37+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""1.0.0"" msgstr "".."" msgid ""1.1.0"" msgstr "".."" msgid """" ""A panel for ``Template Generator`` is newly added. There is not specific "" ""installation process. After installing heat-dashboard, this panel will be "" ""displayed along with ``Stacks``, ``Resource Types`` and ``Template "" ""Versions``."" msgstr """" ""A panel for ``Template Generator`` is newly added. There is not specific "" ""installation process. After installing heat-dashboard, this panel will be "" ""displayed along with ``Stacks``, ``Resource Types`` and ``Template "" ""Versions``."" msgid ""Current Series Release Notes"" msgstr ""   "" msgid ""Heat Dashboard Release Notes"" msgstr ""Heat   "" msgid """" ""Heat support in OpenStack Dashboard is now split into a separated python "" ""package."" msgstr """" ""Heat support in OpenStack Dashboard is now split into a separated python "" ""package."" msgid """" ""Heat support in OpenStack Dashboard is now split into a separete package "" ""``heat-dashboard``. You need to install ``heat-dashboard`` after upgrading "" ""OpenStack Dashboard to Queens release and add ``enabled`` file for Heat "" ""Dashboard. For detail information, see https://docs.openstack.org/heat-"" ""dashboard/latest/."" msgstr """" ""Heat support in OpenStack Dashboard is now split into a separete package "" ""``heat-dashboard``. You need to install ``heat-dashboard`` after upgrading "" ""OpenStack Dashboard to Queens release and add ``enabled`` file for Heat "" ""Dashboard. For detail information, see https://docs.openstack.org/heat-"" ""dashboard/latest/."" msgid """" ""If you need to update your queens heat-dashboard to rocky, you must copy the "" ""latest enabled file (_1650_project_template_generator_panel.py) to horizon/"" ""openstack_dashboard/enabled directory again. The enabled file for template "" ""generator has been changed a lot in rocky and it does not have compatibility "" ""with queens heat-dashboard. The background of this change is that SCSS and "" ""xstatic modules are started to be used rather than CSS and embedded "" ""JavaScript copies to follow Horizons contribution rule. [`bug 1753919 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1753919>`__] [`bug 1755140 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1755140>`__] [`bug 1755308 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1755308>`__]"" msgstr """" ""If you need to update your queens heat-dashboard to rocky, you must copy the "" ""latest enabled file (_1650_project_template_generator_panel.py) to horizon/"" ""openstack_dashboard/enabled directory again. The enabled file for template "" ""generator has been changed a lot in rocky and it does not have compatibility "" ""with queens heat-dashboard. The background of this change is that SCSS and "" ""xstatic modules are started to be used rather than CSS and embedded "" ""JavaScript copies to follow Horizons contribution rule. [`bug 1753919 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1753919>`__] [`bug 1755140 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1755140>`__] [`bug 1755308 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1755308>`__]"" msgid ""New Features"" msgstr "" "" msgid ""Prelude"" msgstr """" msgid ""Queens Series Release Notes"" msgstr ""Queens   "" msgid ""Rocky Series Release Notes"" msgstr ""Rocky   "" msgid ""Stein Series Release Notes"" msgstr ""Stein   "" msgid ""Upgrade Notes"" msgstr "" "" ",11,921
openstack%2Fneutron~stable%2Fstein~I06036ce5fe15d91aa440dc340a70dd27ae078c53,openstack/neutron,stable/stein,I06036ce5fe15d91aa440dc340a70dd27ae078c53,[OVS FW] Clean port rules if port not found in ovsdb,MERGED,2019-12-03 08:13:37.000000000,2019-12-04 03:04:40.000000000,2019-12-04 03:03:01.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-03 08:13:37.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8958395145a13c7de4c9db9febb6bb73ec26b1d6', 'message': '[OVS FW] Clean port rules if port not found in ovsdb\n\nDuring e.g. migration or shelve of VM it may happend that\nport update event will be send to the ovs agent and in the almost\nthe same time, port will be removed from br-int.\nIn such case during update_port_filter method openvswitch firewall\ndriver will not find port in br-int, and it will do nothing with it.\nThat will lead to leftover rules for this port in br-int.\n\nSo this patch adds calling remove_port_filter() method if port was\nnot found in br-int. Just to be sure that there is no any leftovers\nfrom the port in br-int anymore.\n\nChange-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53\nCloses-Bug: #1850557\n(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)\n'}]",0,697018,8958395145a13c7de4c9db9febb6bb73ec26b1d6,14,6,1,11975,,,0,"[OVS FW] Clean port rules if port not found in ovsdb

During e.g. migration or shelve of VM it may happend that
port update event will be send to the ovs agent and in the almost
the same time, port will be removed from br-int.
In such case during update_port_filter method openvswitch firewall
driver will not find port in br-int, and it will do nothing with it.
That will lead to leftover rules for this port in br-int.

So this patch adds calling remove_port_filter() method if port was
not found in br-int. Just to be sure that there is no any leftovers
from the port in br-int anymore.

Change-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53
Closes-Bug: #1850557
(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/697018/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,8958395145a13c7de4c9db9febb6bb73ec26b1d6,bug/1850557-stable/stein," def test_update_port_filter_clean_when_port_not_found(self): """"""Check flows are cleaned if port is not found in the bridge."""""" port_dict = {'device': 'port-id', 'security_groups': [1]} self._prepare_security_group() self.firewall.prepare_port_filter(port_dict) self.mock_bridge.br.get_vif_port_by_id.return_value = None self.firewall.update_port_filter(port_dict) self.assertTrue(self.mock_bridge.br.delete_flows.called) ",,13,0
openstack%2Fheat-dashboard~master~I03372f9cfdd82dbf1935cb3d3b14e7bd125d5a66,openstack/heat-dashboard,master,I03372f9cfdd82dbf1935cb3d3b14e7bd125d5a66,Imported Translations from Zanata,MERGED,2019-11-15 07:15:04.000000000,2019-12-04 03:03:16.000000000,2019-12-04 03:01:44.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 07:15:04.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/2dd83638643a17be500f2856559eae86117ee66c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I03372f9cfdd82dbf1935cb3d3b14e7bd125d5a66\n'}]",0,694459,2dd83638643a17be500f2856559eae86117ee66c,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I03372f9cfdd82dbf1935cb3d3b14e7bd125d5a66
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/59/694459/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,2dd83638643a17be500f2856559eae86117ee66c,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-11-01 13:22+0000\n""""PO-Revision-Date: 2019-11-14 11:16+0000\n""msgid ""Rocky Series Release Notes"" msgstr ""Rocky Series Release Notes"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" ","""POT-Creation-Date: 2019-03-15 15:30+0000\n""""PO-Revision-Date: 2018-04-21 01:08+0000\n""",12,2
openstack%2Fheat-dashboard~master~Ia535a53f819012e52ea5516bc18788141d1855f2,openstack/heat-dashboard,master,Ia535a53f819012e52ea5516bc18788141d1855f2,Add release notes link in README,ABANDONED,2018-07-10 07:39:13.000000000,2019-12-04 02:57:05.000000000,,"[{'_account_id': 14320}, {'_account_id': 22348}, {'_account_id': 26693}]","[{'number': 1, 'created': '2018-07-10 07:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/c5ea54edd1d114dda911da50b0622ba034949013', 'message': 'Add release notes link in README\n\nChange-Id: Ia535a53f819012e52ea5516bc18788141d1855f2\n'}, {'number': 2, 'created': '2018-07-18 06:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/643661dafc7ed2e6b45fc5612c23c64d1619ff96', 'message': 'Add release notes link in README\n\nChange-Id: Ia535a53f819012e52ea5516bc18788141d1855f2\n'}, {'number': 3, 'created': '2018-07-19 07:47:35.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/96a096bcfa0a53d7485bbaef0b2c0cbd9e316901', 'message': 'Add release notes link in README\n\nChange-Id: Ia535a53f819012e52ea5516bc18788141d1855f2\n'}]",0,581234,96a096bcfa0a53d7485bbaef0b2c0cbd9e316901,10,3,3,28427,,,0,"Add release notes link in README

Change-Id: Ia535a53f819012e52ea5516bc18788141d1855f2
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/34/581234/3 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c5ea54edd1d114dda911da50b0622ba034949013,add_release_notes,* Release notes: https://docs.openstack.org/releasenotes/heat-dashboard/index.html,,1,0
openstack%2Fheat-dashboard~master~I7da9bbead6054dda356a8d5b7b7e6c92431da16d,openstack/heat-dashboard,master,I7da9bbead6054dda356a8d5b7b7e6c92431da16d,"Fix the misspelling of ""available""",ABANDONED,2019-01-22 03:18:23.000000000,2019-12-04 02:56:44.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 03:18:23.000000000', 'files': ['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/libs/angular-material.js'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/af9bcaf41ea9639a51fac94b2a3279b02abaffb2', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: I7da9bbead6054dda356a8d5b7b7e6c92431da16d\n'}]",0,632199,af9bcaf41ea9639a51fac94b2a3279b02abaffb2,4,2,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: I7da9bbead6054dda356a8d5b7b7e6c92431da16d
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/99/632199/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/libs/angular-material.js'],1,af9bcaf41ea9639a51fac94b2a3279b02abaffb2,," * and all of the parameters available within the `$mdPanel.create` method. * and all of the parameters available within the `$mdPanel.create` method.})(window, window.angular);;window.ngMaterial={version:{full: ""1.1.5""}}; "," * and all of the parameters avaialble within the `$mdPanel.create` method. * and all of the parameters avaialble within the `$mdPanel.create` method.})(window, window.angular);;window.ngMaterial={version:{full: ""1.1.5""}};",3,3
openstack%2Fneutron-lib~master~Ie0cccc5bd736b0302f956a7f01a9c16a8cc75200,openstack/neutron-lib,master,Ie0cccc5bd736b0302f956a7f01a9c16a8cc75200,Change the requirements for the subnet_dns_publish_fixed_ip extension,MERGED,2019-11-27 13:46:09.000000000,2019-12-04 02:20:00.000000000,2019-12-04 02:19:00.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 13:46:09.000000000', 'files': ['neutron_lib/api/definitions/subnet_dns_publish_fixed_ip.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7c352a65f4639d34b73c8500197a996ca4c582b4', 'message': 'Change the requirements for the subnet_dns_publish_fixed_ip extension\n\nDuring the implementation of the subnet_dns_publish_fixed_ip\nextension [0] it was noticed that it will be better to implement just\na single stack of dns_integration extensions instead of having the\noption of combining them flexibly. So we need to have the new extension\nrequire the top of the current stack instead of just the basic extension.\n\n[0] https://review.opendev.org/#/c/662409/\n\nChange-Id: Ie0cccc5bd736b0302f956a7f01a9c16a8cc75200\n'}]",0,696308,7c352a65f4639d34b73c8500197a996ca4c582b4,10,4,1,13252,,,0,"Change the requirements for the subnet_dns_publish_fixed_ip extension

During the implementation of the subnet_dns_publish_fixed_ip
extension [0] it was noticed that it will be better to implement just
a single stack of dns_integration extensions instead of having the
option of combining them flexibly. So we need to have the new extension
require the top of the current stack instead of just the basic extension.

[0] https://review.opendev.org/#/c/662409/

Change-Id: Ie0cccc5bd736b0302f956a7f01a9c16a8cc75200
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/08/696308/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/subnet_dns_publish_fixed_ip.py'],1,7c352a65f4639d34b73c8500197a996ca4c582b4,amend-subnet-dns-ext,"from neutron_lib.api.definitions import dns_domain_ports dns_domain_ports.ALIAS,","from neutron_lib.api.definitions import dns dns.ALIAS,",2,2
openstack%2Fopenstacksdk~master~Ic6e53d3aa10d48d56af2886e9dee59c52a9a2994,openstack/openstacksdk,master,Ic6e53d3aa10d48d56af2886e9dee59c52a9a2994,Update deps for tox venv target,MERGED,2019-12-03 20:11:08.000000000,2019-12-04 02:18:42.000000000,2019-12-04 02:17:27.000000000,"[{'_account_id': 2}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 20:11:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/800cbf7cfd1d71ce9da742b3b88f362c0c75f1c0', 'message': 'Update deps for tox venv target\n\nThis makes the venv target use all of the requirements files\nincluding docs/requirements so you can create a release note\nusing:\n\n  $ tox -e venv -- reno new <slug>\n\nChange-Id: Ic6e53d3aa10d48d56af2886e9dee59c52a9a2994\n'}]",0,697178,800cbf7cfd1d71ce9da742b3b88f362c0c75f1c0,13,4,1,6873,,,0,"Update deps for tox venv target

This makes the venv target use all of the requirements files
including docs/requirements so you can create a release note
using:

  $ tox -e venv -- reno new <slug>

Change-Id: Ic6e53d3aa10d48d56af2886e9dee59c52a9a2994
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/697178/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,800cbf7cfd1d71ce9da742b3b88f362c0c75f1c0,bp/ironic-tenant-filter,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,,5,0
openstack%2Fneutron~stable%2Frocky~I06036ce5fe15d91aa440dc340a70dd27ae078c53,openstack/neutron,stable/rocky,I06036ce5fe15d91aa440dc340a70dd27ae078c53,[OVS FW] Clean port rules if port not found in ovsdb,MERGED,2019-12-03 08:21:20.000000000,2019-12-04 02:03:15.000000000,2019-12-04 02:03:15.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-03 08:21:20.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/50a02ebc0699a0a4906fc10d15924cd059eab057', 'message': '[OVS FW] Clean port rules if port not found in ovsdb\n\nDuring e.g. migration or shelve of VM it may happend that\nport update event will be send to the ovs agent and in the almost\nthe same time, port will be removed from br-int.\nIn such case during update_port_filter method openvswitch firewall\ndriver will not find port in br-int, and it will do nothing with it.\nThat will lead to leftover rules for this port in br-int.\n\nSo this patch adds calling remove_port_filter() method if port was\nnot found in br-int. Just to be sure that there is no any leftovers\nfrom the port in br-int anymore.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53\nCloses-Bug: #1850557\n(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)\n'}]",0,697020,50a02ebc0699a0a4906fc10d15924cd059eab057,13,6,1,11975,,,0,"[OVS FW] Clean port rules if port not found in ovsdb

During e.g. migration or shelve of VM it may happend that
port update event will be send to the ovs agent and in the almost
the same time, port will be removed from br-int.
In such case during update_port_filter method openvswitch firewall
driver will not find port in br-int, and it will do nothing with it.
That will lead to leftover rules for this port in br-int.

So this patch adds calling remove_port_filter() method if port was
not found in br-int. Just to be sure that there is no any leftovers
from the port in br-int anymore.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53
Closes-Bug: #1850557
(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/697020/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,50a02ebc0699a0a4906fc10d15924cd059eab057,bug/1850557," def test_update_port_filter_clean_when_port_not_found(self): """"""Check flows are cleaned if port is not found in the bridge."""""" port_dict = {'device': 'port-id', 'security_groups': [1]} self._prepare_security_group() self.firewall.prepare_port_filter(port_dict) self.mock_bridge.br.get_vif_port_by_id.return_value = None self.firewall.update_port_filter(port_dict) self.assertTrue(self.mock_bridge.br.delete_flows.called) ",,13,0
openstack%2Fneutron~stable%2Fqueens~I06036ce5fe15d91aa440dc340a70dd27ae078c53,openstack/neutron,stable/queens,I06036ce5fe15d91aa440dc340a70dd27ae078c53,[OVS FW] Clean port rules if port not found in ovsdb,MERGED,2019-12-03 08:21:36.000000000,2019-12-04 01:58:42.000000000,2019-12-04 01:58:42.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-03 08:21:36.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef689b284c079fba497723fb779603aa99d8afff', 'message': '[OVS FW] Clean port rules if port not found in ovsdb\n\nDuring e.g. migration or shelve of VM it may happend that\nport update event will be send to the ovs agent and in the almost\nthe same time, port will be removed from br-int.\nIn such case during update_port_filter method openvswitch firewall\ndriver will not find port in br-int, and it will do nothing with it.\nThat will lead to leftover rules for this port in br-int.\n\nSo this patch adds calling remove_port_filter() method if port was\nnot found in br-int. Just to be sure that there is no any leftovers\nfrom the port in br-int anymore.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53\nCloses-Bug: #1850557\n(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)\n'}]",0,697021,ef689b284c079fba497723fb779603aa99d8afff,9,5,1,11975,,,0,"[OVS FW] Clean port rules if port not found in ovsdb

During e.g. migration or shelve of VM it may happend that
port update event will be send to the ovs agent and in the almost
the same time, port will be removed from br-int.
In such case during update_port_filter method openvswitch firewall
driver will not find port in br-int, and it will do nothing with it.
That will lead to leftover rules for this port in br-int.

So this patch adds calling remove_port_filter() method if port was
not found in br-int. Just to be sure that there is no any leftovers
from the port in br-int anymore.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53
Closes-Bug: #1850557
(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/697021/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,ef689b284c079fba497723fb779603aa99d8afff,bug/1850557-stable/queens," def test_update_port_filter_clean_when_port_not_found(self): """"""Check flows are cleaned if port is not found in the bridge."""""" port_dict = {'device': 'port-id', 'security_groups': [1]} self._prepare_security_group() self.firewall.prepare_port_filter(port_dict) self.mock_bridge.br.get_vif_port_by_id.return_value = None self.firewall.update_port_filter(port_dict) self.assertTrue(self.mock_bridge.br.delete_flows.called) ",,13,0
openstack%2Fadjutant~stable%2Ftrain~I1370af6bc375c4827ee79869fadc7a8a8744e9b7,openstack/adjutant,stable/train,I1370af6bc375c4827ee79869fadc7a8a8744e9b7,fix issue with iteritems still used in one place,MERGED,2019-12-04 00:23:39.000000000,2019-12-04 01:43:49.000000000,2019-12-04 01:42:26.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 00:23:39.000000000', 'files': ['adjutant/common/user_store.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/849efe8f680ed6b9332d0f1716d6534451db0182', 'message': 'fix issue with iteritems still used in one place\n\nCherry-picked from: d62eada1264f5f574394e3d6f1666a5f2d443f68\n\nChange-Id: I1370af6bc375c4827ee79869fadc7a8a8744e9b7\n'}]",0,697208,849efe8f680ed6b9332d0f1716d6534451db0182,7,2,1,10420,,,0,"fix issue with iteritems still used in one place

Cherry-picked from: d62eada1264f5f574394e3d6f1666a5f2d443f68

Change-Id: I1370af6bc375c4827ee79869fadc7a8a8744e9b7
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/08/697208/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/common/user_store.py'],1,849efe8f680ed6b9332d0f1716d6534451db0182,bug/iteritems-stable, for user in users.values():," for user_id, user in users.iteritems():",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iaf19e1550bd7a5286b8512596efd84cf14c78f32,openstack/tripleo-heat-templates,stable/train,Iaf19e1550bd7a5286b8512596efd84cf14c78f32,"Fix sed in run-os-net-config to only replace values, not keys",MERGED,2019-12-03 13:11:10.000000000,2019-12-04 01:41:40.000000000,2019-12-04 01:41:40.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 13:11:10.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bd8ecb5f4bee2885e57411c387c8bd3b71e5bda', 'message': 'Fix sed in run-os-net-config to only replace values, not keys\n\nThe sed in run-os-net-config.sh replaces all instances of bridge_name\nbut it should only replace values, not keys.\n\nChange-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32\nCloses-bug: #1854780\n(cherry picked from commit 858cc6c54f690058ce28b0832870df875a7923e9)\n'}]",0,697078,4bd8ecb5f4bee2885e57411c387c8bd3b71e5bda,13,4,1,13995,,,0,"Fix sed in run-os-net-config to only replace values, not keys

The sed in run-os-net-config.sh replaces all instances of bridge_name
but it should only replace values, not keys.

Change-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32
Closes-bug: #1854780
(cherry picked from commit 858cc6c54f690058ce28b0832870df875a7923e9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/697078/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,4bd8ecb5f4bee2885e57411c387c8bd3b71e5bda,fix-sed-stable/train," sed -i ""s/: \""bridge_name/: \""${bridge_name:-''}/"" /etc/os-net-config/config.json"," sed -i ""s/bridge_name/${bridge_name:-''}/"" /etc/os-net-config/config.json",1,1
openstack%2Fadjutant~stable%2Ftrain~I688879b92534a50987e8bf332a16e7bb9cea427c,openstack/adjutant,stable/train,I688879b92534a50987e8bf332a16e7bb9cea427c,Fix issue with lack of libssl in bindep,MERGED,2019-12-04 00:23:39.000000000,2019-12-04 01:33:53.000000000,2019-12-04 01:32:30.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 00:23:39.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/59d3d1773ff38d6a36248c946c9b958d9dffcc55', 'message': 'Fix issue with lack of libssl in bindep\n\nCherry-picked from: 6c0502d449ae1b2b1b199af3a988d916fa22fd53\n\nChange-Id: I688879b92534a50987e8bf332a16e7bb9cea427c\n'}]",0,697207,59d3d1773ff38d6a36248c946c9b958d9dffcc55,7,2,1,10420,,,0,"Fix issue with lack of libssl in bindep

Cherry-picked from: 6c0502d449ae1b2b1b199af3a988d916fa22fd53

Change-Id: I688879b92534a50987e8bf332a16e7bb9cea427c
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/07/697207/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,59d3d1773ff38d6a36248c946c9b958d9dffcc55,bug/iteritems-stable,libssl-dev [platform:dpkg] openssl-devel [platform:rpm] ,,3,0
openstack%2Fneutron~stable%2Fstein~I10588e73a9da7fdd43677f9247c176811dd68c62,openstack/neutron,stable/stein,I10588e73a9da7fdd43677f9247c176811dd68c62,Add more condition to check sg member exist,MERGED,2019-12-02 21:53:40.000000000,2019-12-04 01:32:57.000000000,2019-12-04 01:31:15.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 19956}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-02 21:53:40.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d82745b651b022bd32c8a740656f0d2b5f435906', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)\n""}]",0,696974,d82745b651b022bd32c8a740656f0d2b5f435906,17,7,1,13995,,,0,"Add more condition to check sg member exist

Only check sg object is not enough, we should also
check sg'ports is {} or not. Otherwise the old conjunction
will still exist.

Change-Id: I10588e73a9da7fdd43677f9247c176811dd68c62
Closes-Bug: #1854131
(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/696974/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,d82745b651b022bd32c8a740656f0d2b5f435906,bug/1854131-stable/stein," def test_update_flows_for_vlan_no_ports(self): remote_group = self.driver.sg_port_map.get_sg.return_value remote_group.ports = {} with mock.patch.object(self.manager.conj_id_map, 'get_conj_id') as get_conj_id_mock: get_conj_id_mock.return_value = self.conj_id self.manager.add(self.vlan_tag, 'sg', 'remote_id', constants.INGRESS_DIRECTION, constants.IPv4, 0) self.manager.update_flows_for_vlan(self.vlan_tag) self.assertFalse(remote_group.get_ethertype_filtered_addresses.called) self.assertFalse(self.driver._add_flow.called) ",,13,1
openstack%2Fgovernance~master~Ic9d6b7f128925ab891fe25eb9d26bcc2faa825d1,openstack/governance,master,Ic9d6b7f128925ab891fe25eb9d26bcc2faa825d1,Remove storage scope from Kuryr project mission,MERGED,2019-11-21 17:13:53.000000000,2019-12-04 01:21:55.000000000,2019-12-03 15:11:58.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 12404}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 17:13:53.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/f955dbd6ac58f11b342e930f56efebb41ab92745', 'message': 'Remove storage scope from Kuryr project mission\n\nAs described on the mailing list [1], currently the kuryr project does\nnot address any use case related to container storage. This commit\nmodifies its project mission to remove storage from its scope and only\nleaves networking there.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010408.html\n\nChange-Id: Ic9d6b7f128925ab891fe25eb9d26bcc2faa825d1\n'}]",0,695530,f955dbd6ac58f11b342e930f56efebb41ab92745,14,8,1,11600,,,0,"Remove storage scope from Kuryr project mission

As described on the mailing list [1], currently the kuryr project does
not address any use case related to container storage. This commit
modifies its project mission to remove storage from its scope and only
leaves networking there.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010408.html

Change-Id: Ic9d6b7f128925ab891fe25eb9d26bcc2faa825d1
",git fetch https://review.opendev.org/openstack/governance refs/changes/30/695530/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,f955dbd6ac58f11b342e930f56efebb41ab92745,project-update, Bridge between container framework networking models to OpenStack networking abstractions., Bridge between container framework networking and storage models to OpenStack networking and storage abstractions.,2,2
openstack%2Fopenstack-ansible~stable%2Frocky~I40e55671aed8df741e27ce8b2581b293a344afc0,openstack/openstack-ansible,stable/rocky,I40e55671aed8df741e27ce8b2581b293a344afc0,Adding missing tag for dynamic-address-fact task,MERGED,2019-11-21 20:41:01.000000000,2019-12-04 01:13:28.000000000,2019-12-04 01:13:28.000000000,"[{'_account_id': 14552}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-21 20:41:01.000000000', 'files': ['playbooks/common-playbooks/neutron.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/38255f4e94253c42b0cab2f0467462c343a6d0a3', 'message': 'Adding missing tag for dynamic-address-fact task\n\nCertain playbooks require dynamic facts at runtime and when\nusing tags like project-config, these tasks need to be called,\notherwise the template evaluation stops trying to resolve the facts.\n\nChange-Id: I40e55671aed8df741e27ce8b2581b293a344afc0\n(cherry picked from commit 096691d2ebfedfe5d66fd60f6a674bb69ae5e533)\n'}]",0,695573,38255f4e94253c42b0cab2f0467462c343a6d0a3,17,5,1,25023,,,0,"Adding missing tag for dynamic-address-fact task

Certain playbooks require dynamic facts at runtime and when
using tags like project-config, these tasks need to be called,
otherwise the template evaluation stops trying to resolve the facts.

Change-Id: I40e55671aed8df741e27ce8b2581b293a344afc0
(cherry picked from commit 096691d2ebfedfe5d66fd60f6a674bb69ae5e533)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/695573/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/common-playbooks/neutron.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml']",3,38255f4e94253c42b0cab2f0467462c343a6d0a3,, tags: - always,,6,0
openstack%2Fproject-config~master~I059abe662543d00f48f9dcf6f6eca67436330b2a,openstack/project-config,master,I059abe662543d00f48f9dcf6f6eca67436330b2a,Switch governance sites to AFS publishing,MERGED,2019-09-11 19:44:03.000000000,2019-12-04 01:05:26.000000000,2019-12-04 01:05:26.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 19:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ac0d8699e45efcd015f9f39c5c93aa3716a3a22e', 'message': 'Switch governance sites to AFS publishing\n\nMove from promoting to static.o.o for all the governance sites to\npublish via promote to AFS.\n\nChange-Id: I059abe662543d00f48f9dcf6f6eca67436330b2a\n'}, {'number': 2, 'created': '2019-09-29 09:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b732f6cfac24d614759c9cea9b0e490a8f90647a', 'message': 'Switch governance sites to AFS publishing\n\nMove from promoting to static.o.o for all the governance sites to\npublish via promote to AFS.\n\nStory: 681584\nChange-Id: I059abe662543d00f48f9dcf6f6eca67436330b2a\n'}, {'number': 3, 'created': '2019-09-29 09:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a8b1ba50bbec1c84c82be2ae9d4bd4b94fd994d7', 'message': 'Switch governance sites to AFS publishing\n\nMove from promoting to static.o.o for all the governance sites to\npublish via promote to AFS.\n\nStory: 2006598\nChange-Id: I059abe662543d00f48f9dcf6f6eca67436330b2a\n'}, {'number': 4, 'created': '2019-09-29 09:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/79f74ccd9d047c50624ca84e8101890e210fd2f7', 'message': 'Switch governance sites to AFS publishing\n\nMove from promoting to static.o.o for all the governance sites to\npublish via promote to AFS.\n\nStory: 2006598\nTask: 36854\nChange-Id: I059abe662543d00f48f9dcf6f6eca67436330b2a\n'}, {'number': 5, 'created': '2019-09-29 10:02:11.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/967c3ec274227a97c3807056cfc8cb13eb110d19', 'message': 'Switch governance sites to AFS publishing\n\nMove from promoting to static.o.o for all the governance sites to\npublish via promote to AFS.\n\nRename existing promote jobs to X-static and add them to all repos so\nthat we publish to both old and new location. The -static jobs can be\nremoved once everything works.\n\nAdd new promote jobs (reusing old name so that in-repo jobs work) for\nAFS publishing.\n\nStory: 2006598\nTask: 36854\nChange-Id: I059abe662543d00f48f9dcf6f6eca67436330b2a\n'}]",0,681583,967c3ec274227a97c3807056cfc8cb13eb110d19,18,3,5,6547,,,0,"Switch governance sites to AFS publishing

Move from promoting to static.o.o for all the governance sites to
publish via promote to AFS.

Rename existing promote jobs to X-static and add them to all repos so
that we publish to both old and new location. The -static jobs can be
removed once everything works.

Add new promote jobs (reusing old name so that in-repo jobs work) for
AFS publishing.

Story: 2006598
Task: 36854
Change-Id: I059abe662543d00f48f9dcf6f6eca67436330b2a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/681583/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ac0d8699e45efcd015f9f39c5c93aa3716a3a22e,static-services," parent: promote-tox-docs-site-base Promote content to governance.openstack.org/sigs. publish_site: ""governance/sigs"" parent: promote-tox-docs-site-base Promote content to governance.openstack.org/sigs. publish_site: ""governance/tc"" parent: promote-tox-docs-site-base Promote content to governance.openstack.org/uc. publish_site: ""governance/uc"" parent: promote-tox-docs-site-base Promote content to governance.openstack.org. publish_site: ""governance""", parent: base-promote-tox-docs-static Promote content to static.openstack.org to /srv/static/sigs static_target: sigs parent: base-promote-tox-docs-static Promote content to static.openstack.org to /srv/static/tc static_target: tc parent: base-promote-tox-docs-static Promote content to static.openstack.org to /srv/static/uc static_target: uc parent: base-promote-tox-docs-static Promote content to static.openstack.org to /srv/static/governance static_target: governance,12,12
openstack%2Fbarbican~master~Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c,openstack/barbican,master,Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c,Fix the barbicanclient installation not from source,MERGED,2019-10-22 16:18:06.000000000,2019-12-04 01:04:37.000000000,2019-12-04 01:03:31.000000000,"[{'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27954}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-10-22 16:18:06.000000000', 'files': ['devstack/lib/barbican', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/barbican/commit/646a0360b97d09146cb3b9a4d9bef927d074c239', 'message': 'Fix the barbicanclient installation not from source\n\n- follow the standard installation pattern for barbicanclient:\n  only clones if it is installed from source. This way it is\n  possible to install and test barbicanclient from pip\n  by default, additional jobs can simply add it\n  to required-projects;\n- define the repository metadata using the GIT* arrays.\n  They are also defined by stackrc, but they should be probably\n  removed from there;\n- remove the useless call of configure_barbicanclient (the same\n  steps are already performed by install_barbicanclient).\n  Going forward, configure_barbicanclient can be removed\n\nChange-Id: Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c\n'}]",0,690123,646a0360b97d09146cb3b9a4d9bef927d074c239,19,9,1,10459,,,0,"Fix the barbicanclient installation not from source

- follow the standard installation pattern for barbicanclient:
  only clones if it is installed from source. This way it is
  possible to install and test barbicanclient from pip
  by default, additional jobs can simply add it
  to required-projects;
- define the repository metadata using the GIT* arrays.
  They are also defined by stackrc, but they should be probably
  removed from there;
- remove the useless call of configure_barbicanclient (the same
  steps are already performed by install_barbicanclient).
  Going forward, configure_barbicanclient can be removed

Change-Id: Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c
",git fetch https://review.opendev.org/openstack/barbican refs/changes/23/690123/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/barbican', 'devstack/plugin.sh', 'devstack/settings']",3,646a0360b97d09146cb3b9a4d9bef927d074c239,barbicanclient-clean-installation,"# python barbican client library GITREPO[""python-barbicanclient""]=${BARBICANCLIENT_REPO:-${GIT_BASE}/openstack/python-barbicanclient.git} GITBRANCH[""python-barbicanclient""]=${BARBICANCLIENT_BRANCH:-$TARGET_BRANCH} GITDIR[""python-barbicanclient""]=$DEST/python-barbicanclient",BARBICANCLIENT_DIR=$DEST/python-barbicanclient# Set client library repository BARBICANCLIENT_REPO=${BARBICANCLIENT_REPO:-${GIT_BASE}/openstack/python-barbicanclient.git} BARBICANCLIENT_BRANCH=${BARBICANCLIENT_BRANCH:-master},9,8
openstack%2Fadjutant~master~If4f2ef018b6a9c5542c38e8b5722e561f4669bc1,openstack/adjutant,master,If4f2ef018b6a9c5542c38e8b5722e561f4669bc1,fix issue with iteritems still used in one place,MERGED,2019-12-04 00:13:37.000000000,2019-12-04 00:54:50.000000000,2019-12-04 00:52:53.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 00:13:37.000000000', 'files': ['adjutant/common/user_store.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d62eada1264f5f574394e3d6f1666a5f2d443f68', 'message': 'fix issue with iteritems still used in one place\n\nChange-Id: If4f2ef018b6a9c5542c38e8b5722e561f4669bc1\n'}]",0,697205,d62eada1264f5f574394e3d6f1666a5f2d443f68,7,2,1,10420,,,0,"fix issue with iteritems still used in one place

Change-Id: If4f2ef018b6a9c5542c38e8b5722e561f4669bc1
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/05/697205/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/common/user_store.py'],1,d62eada1264f5f574394e3d6f1666a5f2d443f68,bug/iteritems, for user in users.values():," for user_id, user in users.iteritems():",1,1
openstack%2Fadjutant~master~Ib2f410ccf8c8d955f5575255dc50e2cb27004e4f,openstack/adjutant,master,Ib2f410ccf8c8d955f5575255dc50e2cb27004e4f,Fix issue with lack of libssl in bindep,MERGED,2019-12-04 00:13:37.000000000,2019-12-04 00:53:50.000000000,2019-12-04 00:52:33.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 00:13:37.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/6c0502d449ae1b2b1b199af3a988d916fa22fd53', 'message': 'Fix issue with lack of libssl in bindep\n\nChange-Id: Ib2f410ccf8c8d955f5575255dc50e2cb27004e4f\n'}]",0,697204,6c0502d449ae1b2b1b199af3a988d916fa22fd53,7,2,1,10420,,,0,"Fix issue with lack of libssl in bindep

Change-Id: Ib2f410ccf8c8d955f5575255dc50e2cb27004e4f
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/04/697204/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6c0502d449ae1b2b1b199af3a988d916fa22fd53,bug/iteritems,libssl-dev [platform:dpkg] openssl-devel [platform:rpm] ,,3,0
openstack%2Ftripleo-quickstart-extras~master~Ied6b5f973b2350c4b958fd049667e17d95eda5fd,openstack/tripleo-quickstart-extras,master,Ied6b5f973b2350c4b958fd049667e17d95eda5fd,[Stein] Updated neutron related dns tests to skip list,MERGED,2019-12-03 10:11:28.000000000,2019-12-04 00:15:17.000000000,2019-12-04 00:15:17.000000000,"[{'_account_id': 6773}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-03 10:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc414bc6264811e9cc788cb86ddc0530ffedbfa2', 'message': '[Stein] Updated neutron related dns tests to skip list\n\nRecently dns-integrationg got enabled in stein, 3 skipped\ntests started failing and also leading to fail existing tempest\ntests.\n\nWe are currently putting it in skiplist to unblock the stein\npromotion.\n\nRelated-Bug: #1854899\n\nChange-Id: Ied6b5f973b2350c4b958fd049667e17d95eda5fd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-12-03 11:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8a10f2c2a906add06d38e05563edaf0308fa353b', 'message': '[Stein] Updated neutron related dns tests to skip list\n\nRecently dns-integrationg got enabled in stein, 3 skipped\ntests started failing.\n\nThese tests are currently skipped in master also and it needs\nto be fixed in master first then we can enable it.\n\nWe are currently putting it in skiplist to unblock the stein\npromotion.\n\nRelated-Bug: #1854899\n\nChange-Id: Ied6b5f973b2350c4b958fd049667e17d95eda5fd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-12-03 15:22:55.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_stein.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c2da1fb75f27ef3147160e9b961912e547101690', 'message': '[Stein] Updated neutron related dns tests to skip list\n\nRecently dns-integrationg got enabled in stein, 3 skipped\ntests started failing.\n\nThese tests are currently skipped in master also and it needs\nto be fixed in master first then we can enable it.\n\nWe are currently putting it in skiplist to unblock the stein\npromotion.\n\nRelated-Bug: #1854899\n\nChange-Id: Ied6b5f973b2350c4b958fd049667e17d95eda5fd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,697043,c2da1fb75f27ef3147160e9b961912e547101690,16,9,3,12393,,,0,"[Stein] Updated neutron related dns tests to skip list

Recently dns-integrationg got enabled in stein, 3 skipped
tests started failing.

These tests are currently skipped in master also and it needs
to be fixed in master first then we can enable it.

We are currently putting it in skiplist to unblock the stein
promotion.

Related-Bug: #1854899

Change-Id: Ied6b5f973b2350c4b958fd049667e17d95eda5fd
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/697043/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_stein.yml'],1,fc414bc6264811e9cc788cb86ddc0530ffedbfa2,dns_skip_list, - test: 'neutron_tempest_plugin.scenario.test_dns_integration.DNSIntegrationTests' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - test: 'neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_domain_and_name' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - test: 'neutron_tempest_plugin.api.test_revisions.TestRevisions.test_update_dns_domain_bumps_revision' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - test: 'tempest.api.network.admin.test_routers.RoutersAdminTest.test_create_router_with_snat_explicit' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690',,12,0
openstack%2Fadjutant~master~I964c027234b65f06354e1a2cd9528374d2f0b3f7,openstack/adjutant,master,I964c027234b65f06354e1a2cd9528374d2f0b3f7,Fix py3 issue with missed iteritems usage,ABANDONED,2019-12-03 22:25:53.000000000,2019-12-04 00:14:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-03 22:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d9a6d8ed39c2be1acac68ff3c6ddfa14a54f48bd', 'message': 'Fix py3 issue with missed iteritems usage\n\nChange-Id: I964c027234b65f06354e1a2cd9528374d2f0b3f7\n'}, {'number': 2, 'created': '2019-12-03 22:55:17.000000000', 'files': ['bindep.txt', 'adjutant/common/user_store.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/544e98325db9ccec539bac8d8565b5db90857359', 'message': 'Fix py3 issue with missed iteritems usage\n\nChange-Id: I964c027234b65f06354e1a2cd9528374d2f0b3f7\n'}]",0,697192,544e98325db9ccec539bac8d8565b5db90857359,5,1,2,10420,,,0,"Fix py3 issue with missed iteritems usage

Change-Id: I964c027234b65f06354e1a2cd9528374d2f0b3f7
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/92/697192/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/common/user_store.py'],1,d9a6d8ed39c2be1acac68ff3c6ddfa14a54f48bd,bug/iteritems, for user in users.values():," for user_id, user in users.iteritems():",1,1
openstack%2Fironic~master~I03eddde04211ceb6f0bd9438fafab34c515c4fa9,openstack/ironic,master,I03eddde04211ceb6f0bd9438fafab34c515c4fa9,Fix UEFI NVRAM collision in devstack,MERGED,2019-11-29 09:07:35.000000000,2019-12-04 00:13:01.000000000,2019-12-04 00:11:29.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-29 09:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4175a644d8ee5915a2fb1c7b21c9837d1bf59040', 'message': 'Fix UEFI NVRAM collision in devstack\n\nWhen configuring VMs in devstack booting in UEFI mode, make sure\nthat each libvirt domain has its own UEFI NVRAM store. Otherwise\nfunny things can happen ultimately leading to EFI shell popping\nup crying for help.\n\nChange-Id: I03eddde04211ceb6f0bd9438fafab34c515c4fa9\n'}, {'number': 2, 'created': '2019-12-02 13:06:54.000000000', 'files': ['devstack/tools/ironic/templates/vm.xml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/10abf8834c386941e6d7f4dd81563cfd2937911a', 'message': 'Fix UEFI NVRAM collision in devstack\n\nWhen configuring VMs in devstack booting in UEFI mode, make sure\nthat each libvirt domain has its own UEFI NVRAM store. Otherwise\nfunny things can happen ultimately leading to EFI shell popping\nup crying for help.\n\nChange-Id: I03eddde04211ceb6f0bd9438fafab34c515c4fa9\n'}]",2,696668,10abf8834c386941e6d7f4dd81563cfd2937911a,17,7,2,26340,,,0,"Fix UEFI NVRAM collision in devstack

When configuring VMs in devstack booting in UEFI mode, make sure
that each libvirt domain has its own UEFI NVRAM store. Otherwise
funny things can happen ultimately leading to EFI shell popping
up crying for help.

Change-Id: I03eddde04211ceb6f0bd9438fafab34c515c4fa9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/696668/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tools/ironic/templates/vm.xml'],1,4175a644d8ee5915a2fb1c7b21c9837d1bf59040,40-fix-uefi-nvram-collision, <nvram template='{{ uefi_nvram }}'>{{ uefi_nvram }}-{{ name }}</nvram>, {% if uefi_nvram %} <nvram>{{ uefi_nvram }}</nvram> {% endif %},1,3
openstack%2Fneutron~master~Ibb9c79771c48ccde564c39be9d781f3720802a2d,openstack/neutron,master,Ibb9c79771c48ccde564c39be9d781f3720802a2d,[OVN] Add hash ring methods,MERGED,2019-11-26 15:06:13.000000000,2019-12-03 23:40:37.000000000,2019-12-03 23:38:33.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-26 15:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c60c7d3928bd5577c2e20ccb9bf627ab00002bce', 'message': '[WIP] [OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartial-Bug: #TBD  (1828607 ??)\n'}, {'number': 2, 'created': '2019-11-26 16:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/494dfdd9f857ada2beca96a281d60e3f88b6524d', 'message': '[OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 3, 'created': '2019-11-27 10:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79873f3f80c525e27d984338cf6fc7a0457e51ac', 'message': '[OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 4, 'created': '2019-11-27 15:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5c354f3563d73b78dcfd5689469100a7874995b', 'message': '[OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 5, 'created': '2019-11-29 08:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff72387e2988d31a10af6725fd900b73679b168e', 'message': '[OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 6, 'created': '2019-11-29 12:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddeb2e5a6289882a168afc76a327fc359ca6b74c', 'message': '[OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 7, 'created': '2019-12-02 16:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc86dedd196aae7b98b4ac2024f8473e82667dc0', 'message': '[OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n  \nPrevious paths in networking-ovn tree:\n./networking_ovn/db/hash_ring.py -> ./neutron/db/ovn_hash_ring_db.py\n./networking_ovn/tests/unit/db/test_hash_ring.py -> \n./neutron/tests/unit/db/test_ovn_hash_ring_db.py\n\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 8, 'created': '2019-12-03 08:53:45.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/db/ovn_hash_ring_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d63da24a1392b3c101a28f55ea1bfec805424e62', 'message': '[OVN] Add hash ring methods\n\nOVNHashRing objects are used by OVN backend to register the nodes\ncontrolled. The methods implemented are:\n- add_node: including the group_name and optionally the node_uuid\n- remove_nodes_from_host: remove all nodes maching a hostname and\n  group_name\n- touch_nodes_from_host: update a OVNHashRing register timestamp,\n  filtering by hostname and group_name\n- touch_node: update a OVNHashRing register timestamp, filtering by\n  node_uuid\n- get_active_nodes: retrieve any active node (filtering timestamp),\n  group_name and hostname\n  \nPrevious paths in networking-ovn tree:\n./networking_ovn/db/hash_ring.py -> ./neutron/db/ovn_hash_ring_db.py\n./networking_ovn/tests/unit/db/test_hash_ring.py -> \n./neutron/tests/unit/db/test_ovn_hash_ring_db.py\n\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d\nPartially-Implements: blueprint neutron-ovn-merge\n'}]",3,696103,d63da24a1392b3c101a28f55ea1bfec805424e62,81,10,8,16688,,,0,"[OVN] Add hash ring methods

OVNHashRing objects are used by OVN backend to register the nodes
controlled. The methods implemented are:
- add_node: including the group_name and optionally the node_uuid
- remove_nodes_from_host: remove all nodes maching a hostname and
  group_name
- touch_nodes_from_host: update a OVNHashRing register timestamp,
  filtering by hostname and group_name
- touch_node: update a OVNHashRing register timestamp, filtering by
  node_uuid
- get_active_nodes: retrieve any active node (filtering timestamp),
  group_name and hostname
  
Previous paths in networking-ovn tree:
./networking_ovn/db/hash_ring.py -> ./neutron/db/ovn_hash_ring_db.py
./networking_ovn/tests/unit/db/test_hash_ring.py -> 
./neutron/tests/unit/db/test_ovn_hash_ring_db.py


Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ibb9c79771c48ccde564c39be9d781f3720802a2d
Partially-Implements: blueprint neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/696103/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/db/ovn_hash_ring_db.py']",2,c60c7d3928bd5577c2e20ccb9bf627ab00002bce,bp/neutron-ovn-merge,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime from neutron_lib.db import api as db_api from oslo_config import cfg from oslo_utils import timeutils from oslo_utils import uuidutils from neutron.db.models import ovn as ovn_models CONF = cfg.CONF # NOTE(ralonsoh): this was migrated from networking-ovn to neutron and should # be refactored to be integrated in a OVO. def add_node(context, group_name, node_uuid=None): if node_uuid is None: node_uuid = uuidutils.generate_uuid() with db_api.CONTEXT_WRITER.using(context): context.session.add(ovn_models.OVNHashRing( node_uuid=node_uuid, hostname=CONF.host, group_name=group_name)) return node_uuid def remove_nodes_from_host(context, group_name): with db_api.CONTEXT_WRITER.using(context): context.session.query(ovn_models.OVNHashRing).filter( ovn_models.OVNHashRing.hostname == CONF.host, ovn_models.OVNHashRing.group_name == group_name).delete() def _touch(context, **filter_args): with db_api.CONTEXT_WRITER.using(context): context.session.query(ovn_models.OVNHashRing).filter_by( **filter_args).update({'updated_at': timeutils.utcnow()}) def touch_nodes_from_host(context, group_name): _touch(context, hostname=CONF.host, group_name=group_name) def touch_node(context, node_uuid): _touch(context, node_uuid=node_uuid) def get_active_nodes(context, interval, group_name, from_host=False): limit = timeutils.utcnow() - datetime.timedelta(seconds=interval) with db_api.CONTEXT_READER.using(context): query = context.session.query(ovn_models.OVNHashRing).filter( ovn_models.OVNHashRing.updated_at >= limit, ovn_models.OVNHashRing.group_name == group_name) if from_host: query = query.filter_by(hostname=CONF.host) return query.all() ",,300,0
openstack%2Fansible-role-tripleo-modify-image~master~Id09059559b5c207ef6f604e4bb999528118ae096,openstack/ansible-role-tripleo-modify-image,master,Id09059559b5c207ef6f604e4bb999528118ae096,Mount /etc/pki during buildah yum update for RHUI,MERGED,2019-12-03 12:59:16.000000000,2019-12-03 23:27:23.000000000,2019-12-03 23:27:23.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-03 12:59:16.000000000', 'files': ['tasks/yum_update_buildah.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/2dd5a11c55f644ecf8426a51837813c16abcc2ef', 'message': 'Mount /etc/pki during buildah yum update for RHUI\n\nIn order to make sure RHUI repos works with in a container,\nPKI certs dirs needs to be mounted to container so that\nRHUI repo solves and download the content.\n\nRelated-Bug: #1854685\n\nChange-Id: Id09059559b5c207ef6f604e4bb999528118ae096\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,697074,2dd5a11c55f644ecf8426a51837813c16abcc2ef,17,7,1,12393,,,0,"Mount /etc/pki during buildah yum update for RHUI

In order to make sure RHUI repos works with in a container,
PKI certs dirs needs to be mounted to container so that
RHUI repo solves and download the content.

Related-Bug: #1854685

Change-Id: Id09059559b5c207ef6f604e4bb999528118ae096
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/74/697074/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/yum_update_buildah.yml'],1,2dd5a11c55f644ecf8426a51837813c16abcc2ef,rhui, --volume /etc/pki:/etc/pki --volume /etc/pki:/etc/pki,,2,0
openstack%2Fironic-lib~master~Ib77720c3223074e89705f019848e1e4d19ebfdba,openstack/ironic-lib,master,Ib77720c3223074e89705f019848e1e4d19ebfdba,mdns: support IPv6 addresses,MERGED,2019-11-05 15:04:28.000000000,2019-12-03 23:07:39.000000000,2019-12-03 23:06:29.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-05 15:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/10d72d68e9862a681cd4172531ef9381ac6019a8', 'message': '[WIP] mdns: support IPv6 addresses\n\nRequires zeroconf >= 0.24.0 and thus only works for Python 3.\n\nChange-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba\n'}, {'number': 2, 'created': '2019-11-11 12:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/1d1a87677d32642106f2d8f0784f294227fb9228', 'message': '[WIP] mdns: support IPv6 addresses\n\nRequires zeroconf >= 0.24.0 and thus only works for Python 3.\n\nChange-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba\n'}, {'number': 3, 'created': '2019-11-12 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/18bb3716d2985ebe929d7172cab3f8226ded3ae3', 'message': '[WIP] mdns: support IPv6 addresses\n\nRequires zeroconf >= 0.24.0 and thus only works for Python 3.\n\nChange-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba\n'}, {'number': 4, 'created': '2019-11-20 15:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/65b2e0d80fd387f4dd0f48db9c7dc0f4f058a30e', 'message': 'mdns: support IPv6 addresses\n\nRequires zeroconf >= 0.24.0 and thus only works for Python 3.\n\nDepends-On: https://review.opendev.org/695216\nChange-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba\n'}, {'number': 5, 'created': '2019-11-20 17:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/9a015b38e00f5035dee71e46d421f408321f151a', 'message': 'mdns: support IPv6 addresses\n\nRequires zeroconf >= 0.24.0 and thus only works for Python 3.\n\nDepends-On: https://review.opendev.org/695216\nChange-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba\n'}, {'number': 6, 'created': '2019-11-24 16:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/6b51fa7c89a1d307ff1157dc453f19e73972dd04', 'message': 'mdns: support IPv6 addresses\n\nRequires zeroconf >= 0.24.0 and thus only works for Python 3.\n\nChange-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba\n'}, {'number': 7, 'created': '2019-11-24 16:59:39.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/mdns.py', 'requirements.txt', 'ironic_lib/tests/test_mdns.py', 'ironic_lib/tests/test_utils.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/78249cc93f0a181924373d65e01e1c79e11cdd1a', 'message': 'mdns: support IPv6 addresses\n\nUpdates the zeroconf requirement to 0.24.0, breaking compatibility\nwith Python 2 (dropped in an earlier patch).\n\nChange-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba\n'}]",5,693026,78249cc93f0a181924373d65e01e1c79e11cdd1a,37,4,7,10239,,,0,"mdns: support IPv6 addresses

Updates the zeroconf requirement to 0.24.0, breaking compatibility
with Python 2 (dropped in an earlier patch).

Change-Id: Ib77720c3223074e89705f019848e1e4d19ebfdba
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/26/693026/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/mdns.py', 'ironic_lib/utils.py', 'requirements.txt', 'tox.ini']",4,10d72d68e9862a681cd4172531ef9381ac6019a8,mdns-v6,# -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},83,23
openstack%2Felection~master~I60c70c25268af323dd3749cdb93792f53132e31e,openstack/election,master,I60c70c25268af323dd3749cdb93792f53132e31e,Fix get_series_data,MERGED,2019-12-03 22:31:00.000000000,2019-12-03 23:05:17.000000000,2019-12-03 23:04:05.000000000,"[{'_account_id': 5263}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 22:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/4fce8e94feeb97e9851ddb68e5d3ac46bf13005f', 'message': 'Fix get_series_data\n\nA change merged in releases moved the series_data to a new\ndirectory.\n\nChange-Id: I60c70c25268af323dd3749cdb93792f53132e31e\n'}, {'number': 2, 'created': '2019-12-03 22:41:02.000000000', 'files': ['openstack_election/utils.py'], 'web_link': 'https://opendev.org/openstack/election/commit/d1d6c146e0d88cab619c016e0ae9f57afdbb095d', 'message': 'Fix get_series_data\n\nA change merged in releases moved the series_data to a new\ndirectory.\n\nChange-Id: I60c70c25268af323dd3749cdb93792f53132e31e\n'}]",1,697193,d1d6c146e0d88cab619c016e0ae9f57afdbb095d,11,3,2,16708,,,0,"Fix get_series_data

A change merged in releases moved the series_data to a new
directory.

Change-Id: I60c70c25268af323dd3749cdb93792f53132e31e
",git fetch https://review.opendev.org/openstack/election refs/changes/93/697193/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_election/utils.py'],1,4fce8e94feeb97e9851ddb68e5d3ac46bf13005f,fix_get_series_data," 'branch/master/data/series_status.yaml', verbose=99)", 'branch/master/deliverables/series_status.yaml'),2,1
openstack%2Fopenstack-helm-images~master~I38cea791f9bd6972139605d19ca2dc82ee37dbaf,openstack/openstack-helm-images,master,I38cea791f9bd6972139605d19ca2dc82ee37dbaf,Update source compile version for dpdk/ovs,MERGED,2019-11-19 20:25:50.000000000,2019-12-03 22:54:15.000000000,2019-12-03 22:52:09.000000000,"[{'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29220}, {'_account_id': 29668}]","[{'number': 1, 'created': '2019-11-19 20:25:50.000000000', 'files': ['openvswitch/Dockerfile.ubuntu_bionic-dpdk'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c200136f4412646d04b5b772bd111ea287a4cf26', 'message': 'Update source compile version for dpdk/ovs\n\nUpdate the bionic dpdk image to the following\novs 2.11.1\ndpdk 18.11.3\n\nChange-Id: I38cea791f9bd6972139605d19ca2dc82ee37dbaf\n'}]",2,695075,c200136f4412646d04b5b772bd111ea287a4cf26,14,7,1,18250,,,0,"Update source compile version for dpdk/ovs

Update the bionic dpdk image to the following
ovs 2.11.1
dpdk 18.11.3

Change-Id: I38cea791f9bd6972139605d19ca2dc82ee37dbaf
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/75/695075/1 && git format-patch -1 --stdout FETCH_HEAD,['openvswitch/Dockerfile.ubuntu_bionic-dpdk'],1,c200136f4412646d04b5b772bd111ea287a4cf26,ovs-dpdk-version-update,"ARG OVS_SRC_COMPILE_VERSION=""2.11.1"" ARG DPDK_SRC_COMPILE_VERSION=""18.11.3""","ARG OVS_SRC_COMPILE_VERSION="""" ARG DPDK_SRC_COMPILE_VERSION=""""",2,2
openstack%2Fopenstack-helm-infra~master~I9dd1cafd05e81f145d1eb8c916591203946bc8f1,openstack/openstack-helm-infra,master,I9dd1cafd05e81f145d1eb8c916591203946bc8f1,[ceph-client] Validate failure domain support for replica count per pool,MERGED,2019-11-28 03:31:33.000000000,2019-12-03 22:24:25.000000000,2019-12-03 22:23:07.000000000,"[{'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-11-28 03:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f9354f3df2916276e7f33f7ed774c57b426d070', 'message': ""[ceph-client] Validate failure domain support for replica count per pool\n\nEnsure each pool is configured with enough failure domains to\nsatisfy the pool's replica size requirements. If any pool does\nnot have enough failure domains to satisfy the pool's replica size,\nthen fail the ceph deployment.\n\nChange-Id: I9dd1cafd05e81f145d1eb8c916591203946bc8f1\n""}, {'number': 2, 'created': '2019-12-02 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1c93cdd83b31a62504acab92bf8c6f72478ae0d', 'message': ""[ceph-client] Validate failure domain support for replica count per pool\n\nEnsure each pool is configured with enough failure domains to\nsatisfy the pool's replica size requirements. If any pool does\nnot have enough failure domains to satisfy the pool's replica size,\nthen fail the ceph deployment.\n\nChange-Id: I9dd1cafd05e81f145d1eb8c916591203946bc8f1\n""}, {'number': 3, 'created': '2019-12-02 15:23:01.000000000', 'files': ['ceph-client/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/699ea1acbaf4eb1682539b2e8a0e2e594e333091', 'message': ""[ceph-client] Validate failure domain support for replica count per pool\n\nEnsure each pool is configured with enough failure domains to\nsatisfy the pool's replica size requirements. If any pool does\nnot have enough failure domains to satisfy the pool's replica size,\nthen fail the ceph deployment.\n\nChange-Id: I9dd1cafd05e81f145d1eb8c916591203946bc8f1\n""}]",4,696443,699ea1acbaf4eb1682539b2e8a0e2e594e333091,20,10,3,18511,,,0,"[ceph-client] Validate failure domain support for replica count per pool

Ensure each pool is configured with enough failure domains to
satisfy the pool's replica size requirements. If any pool does
not have enough failure domains to satisfy the pool's replica size,
then fail the ceph deployment.

Change-Id: I9dd1cafd05e81f145d1eb8c916591203946bc8f1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/696443/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/_helm-tests.sh.tpl'],1,0f9354f3df2916276e7f33f7ed774c57b426d070,,"function check_failure_domain_count_per_pool() { echo ""#### Start: Checking failure domain count per pool ####"" pools=$(ceph osd pool ls) for pool in `echo ${pools}` do crush_rule=$(ceph osd pool get ${pool} crush_rule | awk '{print $2}') bucket_type=$(ceph osd crush rule dump ${crush_rule} | grep '""type"":' | awk -F'""' 'NR==2 {print $4}') num_failure_domains=$(ceph osd tree | grep ${bucket_type} | wc -l) pool_replica_size=$(ceph osd pool get ${pool} size | awk '{print $2}') if [[ ${num_failure_domains} -ge ${pool_replica_size} ]]; then echo ""--> Info: Pool ${pool} is configured with enough failure domains ${num_failure_domains} to satisfy pool replica size ${pool_replica_size}"" else echo ""--> Error : Pool ${pool} is NOT configured with enough failure domains ${num_failure_domains} to satisfy pool replica size ${pool_replica_size}"" exit 1 fi done check_failure_domain_count_per_pool",,19,0
openstack%2Fopenstack-helm-infra~master~I5997b0994fc3aef9bd1b222c373cc3a013112566,openstack/openstack-helm-infra,master,I5997b0994fc3aef9bd1b222c373cc3a013112566,Create Chart to Deploy Apache Kafka,MERGED,2019-09-17 05:06:47.000000000,2019-12-03 22:06:20.000000000,2019-12-03 22:02:39.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-09-17 05:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3462d2ced69aa5664e303d059de830974ebfb1d4', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-09-17 13:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/055c7c740de8e71503f16d9192550db35884eda1', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-09-17 13:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc97d83fc9400bd2558038510d0868a2dbebbbcf', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-09-17 20:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3bb9409d518a82ed43ba0886b0326c7aa009e9b0', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-09-18 12:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e820e2a45cba32b79b0175202f2a2d153933a2d', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-09-18 13:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/042dfd14433480eed94f7ca838c9e4a6a9dd1923', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-09-18 20:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/267af7c934492ba1cc856ca8eb42f79d49cbadf8', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 8, 'created': '2019-09-25 15:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/66d5dee3247ca19fe5b826c55e88e87a5ec521da', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 9, 'created': '2019-09-25 17:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ed6e044778a35355eb919afcc4cefa0c87270d6', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 10, 'created': '2019-09-25 20:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c167dfd54dcdacaa0b2c69a5dc58c52c7f0118de', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 11, 'created': '2019-09-25 20:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49d958865dda22f3a551e3f7e1260967f8a745be', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 12, 'created': '2019-10-21 19:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c6a9173713a600f972f5e2de0c3c8b882334005', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 13, 'created': '2019-10-21 21:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/493a40e3e4d5c4d84ecbce4c46f1841c5380e33a', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 14, 'created': '2019-10-21 23:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db55017652586eca95f99f1b7c23b5b935e2ac60', 'message': 'DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n'}, {'number': 15, 'created': '2019-10-23 22:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/310b82c1b10f64b05ed7428d60960f2d6a62f9fb', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 16, 'created': '2019-10-23 22:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df1dacc51dfac324b2e4576bff02a16d5eeed405', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 17, 'created': '2019-10-23 23:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c36fc5fab1ef875ad1a78a707ec070d12e1b6455', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 18, 'created': '2019-10-24 18:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ebb34670ba6fc16f187d727b2be4d96dbb40b7fa', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 19, 'created': '2019-10-25 14:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ad22cfa811ef0b5a9503b1cfacce4ea3c41de21', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 20, 'created': '2019-10-25 14:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81ccc94177c52ac42b0b8ddab46979a536c285c1', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 21, 'created': '2019-10-25 18:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9cf6ba4587cf6f29b34b8e2e1b7af800ad0cc71', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 22, 'created': '2019-10-25 19:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be829b23d32eeeaec4d04a778eff79f9e148f80d', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 23, 'created': '2019-10-25 20:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f42d093c92769443dbb8099e24548d7cc857366d', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 24, 'created': '2019-10-28 15:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3f989958c6010b734bd9f05809580a627a1146ec', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 25, 'created': '2019-10-30 15:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/77498caf5b0da13ff7f3d356d75b0b08a9b55da6', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 26, 'created': '2019-10-30 15:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec0408071b79f5b0fdc2404409d85d1c5e581e55', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 27, 'created': '2019-10-30 17:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd9ac0f3518ee303d5e4e66c5a8015f78c3a9dd1', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 28, 'created': '2019-10-30 18:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c511281e00e81e0aa74432553b2614c4bdb002a', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 29, 'created': '2019-10-30 20:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9991ff5023895fe797fe2bba11c094ccc96a8c7', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 30, 'created': '2019-10-30 20:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/719a847133fd8e731833e3727a873ee84971ad82', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 31, 'created': '2019-10-30 21:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23829cda7b22d53e0aa7dcbdee47611d7e0d9ded', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 32, 'created': '2019-10-30 21:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82b0b0611d1bb91da3700bc8ca69b12131d1b037', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 33, 'created': '2019-10-31 17:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad7e7144d372922b259cc4246157786202f989c4', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 34, 'created': '2019-10-31 19:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c1926bcfed5d972e2d59e5cd751a74e50535307', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 35, 'created': '2019-10-31 21:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a51a586d0ce92b9a0ed8cecf4aaf3b9a71f3659', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 36, 'created': '2019-11-01 19:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e0e6138f3182f0f692592b7f60fbb8d4903680a', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 37, 'created': '2019-11-11 21:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04dc300c404278a4d718cf2302ecc42a05001fd6', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 38, 'created': '2019-11-11 21:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/debe37056db4d9759820fcb151260bae6c1eaeb1', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\n""}, {'number': 39, 'created': '2019-11-18 22:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8890944f9863ce8220b662fb7e683071514ba475', 'message': ""DNM/WIP: Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nAdditional files in tools/deployment/osh-infra-kafka are available\nto test the chart starting at index 500-kafka-create-topic.sh\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 40, 'created': '2019-11-19 14:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20d5414b6da9409e85db047aa4bd0efbc7cd2c62', 'message': ""Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nAdditional files in tools/deployment/osh-infra-kafka are available\nto test the chart starting at index 500-kafka-create-topic.sh\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 41, 'created': '2019-11-19 14:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/841dd5340cd379818465213f0c41f387db5ce5d4', 'message': ""Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nAdditional files in tools/deployment/osh-infra-kafka are available\nto test the chart starting at index 500-kafka-create-topic.sh\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 42, 'created': '2019-11-19 16:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f775fd307d9b9f42eeda7f5a5604ab0821604cb7', 'message': ""Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nAdditional files in tools/deployment/osh-infra-kafka are available\nto test the chart starting at index 500-kafka-create-topic.sh\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 43, 'created': '2019-11-20 21:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dfa42be1d2b4311ca1e8762f452bd4b73fece9ef', 'message': ""Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 44, 'created': '2019-11-20 21:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5dfaa93f1121413d8390238871944ceac361cbcb', 'message': ""Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 45, 'created': '2019-11-21 14:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b06072ec9dd2a917c9adb5bed489a4faf1592c4', 'message': ""Add kafka chart to osh-infra\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 46, 'created': '2019-11-21 17:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0981c525aeb5941a0564572d34258ebcb64a1e37', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 47, 'created': '2019-11-21 17:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b52dbbcd892284d2328781786a5a3f003aa09ad3', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 48, 'created': '2019-11-21 17:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a61769397697838d80d34ae3f66e8e04fd531cfa', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 49, 'created': '2019-11-22 14:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9ca2bc27fae08752ca772c14f862c2a7972af72', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 50, 'created': '2019-12-02 16:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4efe2dd087e50ea2a45718279cf0f9bcaf73159f', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 51, 'created': '2019-12-02 16:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a16f473b10d90657f3275f31ea092ae301ac1044', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Steven Wilkerson <sw5822@att.com>\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 52, 'created': '2019-12-03 16:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0686dde2cfb4c85a6964bc8cdcb9aeb7ae9941b3', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 53, 'created': '2019-12-03 16:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c0dcdbe21a10e69b0bdeed012f8119d12cc6108', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}, {'number': 54, 'created': '2019-12-03 17:37:59.000000000', 'files': ['kafka/templates/network_policy.yaml', 'kafka/templates/statefulset.yaml', 'tools/deployment/osh-infra-kafka/020-ceph.sh', 'tools/deployment/osh-infra-kafka/000-install-packages.sh', 'kafka/templates/bin/_helm-test.sh.tpl', 'fluentd/templates/deployment-fluentd.yaml', 'kafka/values.yaml', 'kafka/templates/monitoring/prometheus/configmap-bin.yaml', 'kafka/templates/monitoring/prometheus/service.yaml', 'kafka/templates/helm_test_pod.yaml', 'tools/deployment/osh-infra-kafka/005-deploy-k8s.sh', 'tools/deployment/osh-infra-kafka/010-ingress.sh', 'kafka/templates/service.yaml', 'kafka/templates/configmap-bin.yaml', 'kafka/templates/secret-kafka.yaml', 'fluentd/values.yaml', 'tools/deployment/osh-infra-kafka/050-kafka.sh', 'kafka/templates/service-discovery.yaml', 'tools/deployment/osh-infra-kafka/030-radosgw-osh-infra.sh', 'kafka/templates/ingress-kafka.yaml', 'tools/deployment/osh-infra-kafka/040-zookeeper.sh', 'kafka/templates/bin/_kafka-probe.sh.tpl', 'kafka/templates/service-ingress-kafka.yaml', 'kafka/templates/monitoring/prometheus/deployment.yaml', 'kafka/requirements.yaml', 'kafka/templates/job-image-repo-sync.yaml', 'kafka/templates/secret-ingress-tls.yaml', 'kafka/templates/bin/_kafka.sh.tpl', 'kafka/templates/monitoring/prometheus/network-policy.yaml', 'kafka/Chart.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'kafka/templates/monitoring/prometheus/bin/_kafka-exporter.sh.tpl', 'tools/deployment/osh-infra-kafka/025-ceph-ns-activate.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8f3d84ccc479922d4d587a68deee780ee545708', 'message': ""Create Chart to Deploy Apache Kafka\n\nThis proposes adding a kafka chart to osh-infra that aligns\nwith the design patterns laid out by the other charts in osh-infra\nand osh.\n\ndanielqsj's kafka-exporter image is leveraged to deploy a prometheus\nexporter for kafka alongside the main application if enabled in\nvalues.yaml\n\nChange-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566\nCo-Authored-By: Meghan Heisler <mh783g@att.com>\n""}]",23,682542,e8f3d84ccc479922d4d587a68deee780ee545708,121,5,54,30777,,,0,"Create Chart to Deploy Apache Kafka

This proposes adding a kafka chart to osh-infra that aligns
with the design patterns laid out by the other charts in osh-infra
and osh.

danielqsj's kafka-exporter image is leveraged to deploy a prometheus
exporter for kafka alongside the main application if enabled in
values.yaml

Change-Id: I5997b0994fc3aef9bd1b222c373cc3a013112566
Co-Authored-By: Meghan Heisler <mh783g@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/42/682542/1 && git format-patch -1 --stdout FETCH_HEAD,"['kafka/templates/network_policy.yaml', 'kafka/templates/statefulset.yaml', 'kafka/templates/service.yaml', 'kafka/templates/configmap-bin.yaml', 'kafka/templates/secret-kafka.yaml', 'kafka/templates/service-discovery.yaml', 'kafka/templates/ingress-kafka.yaml', 'kafka/templates/bin/_kafka-probe.sh.tpl', 'kafka/templates/service-ingress-kafka.yaml', 'kafka/values.yaml', 'kafka/requirements.yaml', 'kafka/templates/job-image-repo-sync.yaml', 'kafka/templates/secret-ingress-tls.yaml', 'kafka/templates/bin/_kafka.sh.tpl', 'kafka/Chart.yaml', 'tools/deployment/osh-infra-logging/090-kafka.sh']",16,3462d2ced69aa5664e303d059de830974ebfb1d4,kafka-test-squash,"#!/bin/bash # Copyright 2019 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Lint and package chart make kafka #NOTE: Deploy command helm upgrade --install kafka ./kafka \ --set pod.replicas.kafka=1 \ --namespace=osh-infra #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh osh-infra #NOTE: Validate Deployment info helm status kafka ",,847,0
openstack%2Fdiskimage-builder~master~I9ec5536ee72047c929a1ef6950ff4e9092842a4c,openstack/diskimage-builder,master,I9ec5536ee72047c929a1ef6950ff4e9092842a4c,Fix regex for mirror URL substitution,MERGED,2019-12-03 18:13:37.000000000,2019-12-03 21:58:39.000000000,2019-12-03 21:56:19.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 18:13:37.000000000', 'files': ['diskimage_builder/elements/fedora/pre-install.d/01-set-fedora-mirror', 'diskimage_builder/elements/epel/pre-install.d/05-rpm-epel-release', 'diskimage_builder/elements/centos7/pre-install.d/01-set-centos-mirror'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/670df3326d9989ccf6a5ef5a2431709ca577ad49', 'message': 'Fix regex for mirror URL substitution\n\nThe base URL of EPEL repository installed by the epel-release package in\nCentOS 8 at least now defaults to https.\n\nThe error seen when building an CentOS 8 image was:\n""Error: Cannot find a valid baseurl for repo: epel""\n\nThis patch fixes it so that it will always match regardless of being\nhttp or https.\n\nChange-Id: I9ec5536ee72047c929a1ef6950ff4e9092842a4c\n'}]",1,697147,670df3326d9989ccf6a5ef5a2431709ca577ad49,10,5,1,6469,,,0,"Fix regex for mirror URL substitution

The base URL of EPEL repository installed by the epel-release package in
CentOS 8 at least now defaults to https.

The error seen when building an CentOS 8 image was:
""Error: Cannot find a valid baseurl for repo: epel""

This patch fixes it so that it will always match regardless of being
http or https.

Change-Id: I9ec5536ee72047c929a1ef6950ff4e9092842a4c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/47/697147/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora/pre-install.d/01-set-fedora-mirror', 'diskimage_builder/elements/epel/pre-install.d/05-rpm-epel-release', 'diskimage_builder/elements/centos7/pre-install.d/01-set-centos-mirror']",3,670df3326d9989ccf6a5ef5a2431709ca577ad49,,"sed -e ""s|^#baseurl=http[s]*://mirror.centos.org/centos|baseurl=$DIB_DISTRIBUTION_MIRROR|;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Base.repo","sed -e ""s|^#baseurl=http://mirror.centos.org/centos|baseurl=$DIB_DISTRIBUTION_MIRROR|;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Base.repo",3,3
openstack%2Fdiskimage-builder~master~Ia5eff5e7b0709836278361b1b8daa788619eff75,openstack/diskimage-builder,master,Ia5eff5e7b0709836278361b1b8daa788619eff75,Fix login.defs config for tumbleweed,MERGED,2019-12-03 00:21:46.000000000,2019-12-03 21:57:43.000000000,2019-12-03 21:56:16.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 00:21:46.000000000', 'files': ['diskimage_builder/elements/zypper/install.d/01-login-defs'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4fb5a57b8a618027d39df8337d96a836016a186e', 'message': 'Fix login.defs config for tumbleweed\n\nOn openSUSE Tumbleweed, the login.defs config file was moved under\n/usr[1]. This change allows the login.defs config change to work for\nboth old and new locations.\n\n[1] https://build.opensuse.org/request/show/736424\n\nChange-Id: Ia5eff5e7b0709836278361b1b8daa788619eff75\n'}]",0,696989,4fb5a57b8a618027d39df8337d96a836016a186e,10,5,1,8482,,,0,"Fix login.defs config for tumbleweed

On openSUSE Tumbleweed, the login.defs config file was moved under
/usr[1]. This change allows the login.defs config change to work for
both old and new locations.

[1] https://build.opensuse.org/request/show/736424

Change-Id: Ia5eff5e7b0709836278361b1b8daa788619eff75
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/89/696989/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/zypper/install.d/01-login-defs'],1,4fb5a57b8a618027d39df8337d96a836016a186e,tumbleweed-shadow,"if [[ ${DIB_RELEASE} == tumbleweed ]] ; then login_defs=/usr/etc/login.defs else login_defs=/etc/login.defs fi sed -i -e ""s,^USERGROUPS_ENAB.*$,USERGROUPS_ENAB yes,"" $login_defs","sed -i -e ""s,^USERGROUPS_ENAB.*$,USERGROUPS_ENAB yes,"" /etc/login.defs",6,1
openstack%2Fcharm-rabbitmq-server~master~Ia03c2dd06abc0e16e830b7719d0362d62813e012,openstack/charm-rabbitmq-server,master,Ia03c2dd06abc0e16e830b7719d0362d62813e012,[WIP] Use getfqdn instead of gethostname for name of pid file,ABANDONED,2019-12-03 20:04:29.000000000,2019-12-03 21:56:44.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-12-03 20:04:29.000000000', 'files': ['hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/61b1351c559c5d6fec8d412d0b368b6139b748e7', 'message': ""[WIP] Use getfqdn instead of gethostname for name of pid file\n\nWhen using a manual provider, it is sometimes necessary to refer to\nhosts via their fqdn, rather than their hostname. When we get the name\nof the pid file for rabbitmq, we use socket.gethostname, which does\nnot always return the fqdn. Using socket.getfqdn instead should\nresolve the issue.\n\nWIP because I don't know whether or not things will behave well\noutside of the manual provider.\n\nChange-Id: Ia03c2dd06abc0e16e830b7719d0362d62813e012\nCloses-bug: 1854983\n""}]",0,697176,61b1351c559c5d6fec8d412d0b368b6139b748e7,6,3,1,26040,,,0,"[WIP] Use getfqdn instead of gethostname for name of pid file

When using a manual provider, it is sometimes necessary to refer to
hosts via their fqdn, rather than their hostname. When we get the name
of the pid file for rabbitmq, we use socket.gethostname, which does
not always return the fqdn. Using socket.getfqdn instead should
resolve the issue.

WIP because I don't know whether or not things will behave well
outside of the manual provider.

Change-Id: Ia03c2dd06abc0e16e830b7719d0362d62813e012
Closes-bug: 1854983
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/76/697176/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbit_utils.py'],1,61b1351c559c5d6fec8d412d0b368b6139b748e7,bug/1854983, + socket.getfqdn() + '.pid', + socket.gethostname() + '.pid',1,1
openstack%2Fdiskimage-builder~master~I034dcda94d765f236950ebcbee36789f5bdc515f,openstack/diskimage-builder,master,I034dcda94d765f236950ebcbee36789f5bdc515f,Break retry loop on success in dhcp-all-interfaces,MERGED,2019-12-02 12:15:42.000000000,2019-12-03 21:56:18.000000000,2019-12-03 21:56:18.000000000,"[{'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 10118}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-12-02 12:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1f08599343c8831217c2b647c50867338bdf7374', 'message': ""Break retry loop on success in dhcp-all-interfaces\n\nIf rdisc6 is available, a node using this element will loops until\nDIB_DHCP_TIMEOUT is reached because of a missing 'break' when rdisc6\nreturn code is 0.\nThis will mark the dhcp-interface@.service unit as failed (because it\nhas the same timeout) and not bring any network interface online.\n\nChange-Id: I034dcda94d765f236950ebcbee36789f5bdc515f\nCloses-Bug: #1854717\nSigned-off-by: Herv Rousseau <hroussea@cern.ch>\n""}, {'number': 2, 'created': '2019-12-02 14:51:42.000000000', 'files': ['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh', 'releasenotes/notes/fix_rdisc6_loop-32a308a97de99f0f.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b91e21243497cf2b36a5998e1b651443ca7f753e', 'message': ""Break retry loop on success in dhcp-all-interfaces\n\nIf rdisc6 is available, a node using this element will loops until\nDIB_DHCP_TIMEOUT is reached because of a missing 'break' when rdisc6\nreturn code is 0.\nThis will mark the dhcp-interface@.service unit as failed (because it\nhas the same timeout) and not bring any network interface online.\n\nChange-Id: I034dcda94d765f236950ebcbee36789f5bdc515f\nCloses-Bug: #1854717\nSigned-off-by: Herv Rousseau <hroussea@cern.ch>\n""}]",1,696873,b91e21243497cf2b36a5998e1b651443ca7f753e,16,8,2,31347,,,0,"Break retry loop on success in dhcp-all-interfaces

If rdisc6 is available, a node using this element will loops until
DIB_DHCP_TIMEOUT is reached because of a missing 'break' when rdisc6
return code is 0.
This will mark the dhcp-interface@.service unit as failed (because it
has the same timeout) and not bring any network interface online.

Change-Id: I034dcda94d765f236950ebcbee36789f5bdc515f
Closes-Bug: #1854717
Signed-off-by: Herv Rousseau <hroussea@cern.ch>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/73/696873/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh'],1,1f08599343c8831217c2b647c50867338bdf7374,bug/1854717, break,,1,0
openstack%2Fbarbican~master~I6aabb1463b001e81e1e6f7d44fb66e9b7ff3a251,openstack/barbican,master,I6aabb1463b001e81e1e6f7d44fb66e9b7ff3a251,Gate on py3,MERGED,2019-11-19 17:57:00.000000000,2019-12-03 21:48:29.000000000,2019-12-03 21:47:13.000000000,"[{'_account_id': 6732}, {'_account_id': 6873}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 10873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 17:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/56e11b83a926dc4d23179ddf413a9061a3b073d9', 'message': 'DNM: Test the gate on py3\n\nA local devstack test with\n\n  USE_PYTHON3=True\n  DEVSTACK_GATE_USE_PYTHON3=True\n\nand\n\n  PROJECTS=""openstack/barbican $PROJECTS""\n  enable_plugin barbican https://opendev.org/openstack/barbican\n\nblew up because uwsgi tried to run under py2.\n\nThe dep sets USE_PYTHON3 to True by default, which may or may not be\nsufficient to expose $problems, but let\'s see.\n\nDepends-On: https://review.opendev.org/649097\nChange-Id: I6aabb1463b001e81e1e6f7d44fb66e9b7ff3a251\n'}, {'number': 2, 'created': '2019-11-19 19:55:47.000000000', 'files': ['playbooks/legacy/grenade-devstack-barbican/run.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/13c32a0db3a88bfbcfd1d76217e6cba8d644f335', 'message': 'Gate on py3\n\nA local devstack test with\n\n  USE_PYTHON3=True\n  DEVSTACK_GATE_USE_PYTHON3=True\n\nand\n\n  PROJECTS=""openstack/barbican $PROJECTS""\n  enable_plugin barbican https://opendev.org/openstack/barbican\n\nblew up because uwsgi tried to run under py2.\n\nThe dep sets USE_PYTHON3 to True by default, which may or may not be\nsufficient to expose $problems, but let\'s see.\n\n[Later] We think the (legacy) grenade-devstack-barbican job was failing\nbecause it was trying to ""upgrade"" from py2 to py3 and running into\npackaging conflicts. This explicitly sets DEVSTACK_GATE_USE_PYTHON3=True\nin that job to resolve the problem.\n\nDepends-On: https://review.opendev.org/649097\nChange-Id: I6aabb1463b001e81e1e6f7d44fb66e9b7ff3a251\n'}]",1,695052,13c32a0db3a88bfbcfd1d76217e6cba8d644f335,29,9,2,14070,,,0,"Gate on py3

A local devstack test with

  USE_PYTHON3=True
  DEVSTACK_GATE_USE_PYTHON3=True

and

  PROJECTS=""openstack/barbican $PROJECTS""
  enable_plugin barbican https://opendev.org/openstack/barbican

blew up because uwsgi tried to run under py2.

The dep sets USE_PYTHON3 to True by default, which may or may not be
sufficient to expose $problems, but let's see.

[Later] We think the (legacy) grenade-devstack-barbican job was failing
because it was trying to ""upgrade"" from py2 to py3 and running into
packaging conflicts. This explicitly sets DEVSTACK_GATE_USE_PYTHON3=True
in that job to resolve the problem.

Depends-On: https://review.opendev.org/649097
Change-Id: I6aabb1463b001e81e1e6f7d44fb66e9b7ff3a251
",git fetch https://review.opendev.org/openstack/barbican refs/changes/52/695052/2 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,56e11b83a926dc4d23179ddf413a9061a3b073d9,drop-py27-support-devstack-default-py3,,,0,0
openstack%2Fdiskimage-builder~master~I38c76c0edee436f1e7dd0c9a868cea1e6ee3271d,openstack/diskimage-builder,master,I38c76c0edee436f1e7dd0c9a868cea1e6ee3271d,Make sure DIB_DEBUG_TRACE has a default value,MERGED,2019-12-03 07:26:14.000000000,2019-12-03 21:38:30.000000000,2019-12-03 21:37:19.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 10118}, {'_account_id': 11166}, {'_account_id': 11628}, {'_account_id': 12393}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 07:26:14.000000000', 'files': ['diskimage_builder/lib/dib-run-parts'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f9dcbd30cc24b30e910eaae95b750627eabbbab3', 'message': ""Make sure DIB_DEBUG_TRACE has a default value\n\nAfter the introduction of 'Add output for mis-configured element\nscripts' we started seeing CI failures in tripleo where\ninstack-undercloud is being used (rocky/queens):\n\n  /usr/lib/python2.7/site-packages/diskimage_builder/lib/dib-run-parts: line 108: DIB_DEBUG_TRACE: unbound variable\n  INFO: 2019-12-02 16:24:33,423 -- ############### End stdout/stderr logging ###############\n  ERROR: 2019-12-02 16:24:33,423 -- Hook FAILED.\n\nLet's make sure that by default the env variable is set\nto 0.\n\nChange-Id: I38c76c0edee436f1e7dd0c9a868cea1e6ee3271d\nCloses-Bug: #1854904\n""}]",4,697008,f9dcbd30cc24b30e910eaae95b750627eabbbab3,18,12,1,20172,,,0,"Make sure DIB_DEBUG_TRACE has a default value

After the introduction of 'Add output for mis-configured element
scripts' we started seeing CI failures in tripleo where
instack-undercloud is being used (rocky/queens):

  /usr/lib/python2.7/site-packages/diskimage_builder/lib/dib-run-parts: line 108: DIB_DEBUG_TRACE: unbound variable
  INFO: 2019-12-02 16:24:33,423 -- ############### End stdout/stderr logging ###############
  ERROR: 2019-12-02 16:24:33,423 -- Hook FAILED.

Let's make sure that by default the env variable is set
to 0.

Change-Id: I38c76c0edee436f1e7dd0c9a868cea1e6ee3271d
Closes-Bug: #1854904
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/08/697008/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/dib-run-parts'],1,f9dcbd30cc24b30e910eaae95b750627eabbbab3,fix_dib_debug_trace,DIB_DEBUG_TRACE=${DIB_DEBUG_TRACE:-0},,1,0
openstack%2Fopenstack-helm-infra~master~I6475ca980447591b5b691220eb841a2ab958e854,openstack/openstack-helm-infra,master,I6475ca980447591b5b691220eb841a2ab958e854,Nagios: Add support for arbitrary object definitions via overrides,MERGED,2019-10-30 16:51:48.000000000,2019-12-03 21:11:21.000000000,2019-12-03 21:09:55.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-30 16:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79e20070c30a76fbc6511aac3efc009a96370b7f', 'message': 'WIP: Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-30 17:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/125963a5ec3529b34e997ef96711e5a12b42557a', 'message': 'WIP: Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-10-30 18:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9861699cebb441179cf4e06eadf811b8db22e4fe', 'message': 'WIP: Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-11-04 14:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b82e0df2ae71736823d38cbf6a6d7937ed969b7e', 'message': 'WIP: Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-11-19 20:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/278b204e68c963730923fc4980cdf700b8e7da0f', 'message': 'WIP: Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-11-19 20:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3fab5a37211b90f16e0fe0b9bfd5215a088581d', 'message': 'Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-11-20 21:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c16b0c8add9ce87d04a269848a669c81321e5223', 'message': 'Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 8, 'created': '2019-11-21 12:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f32d289c5979abf6e157c75fba8ba933cc21c4df', 'message': 'Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 9, 'created': '2019-12-02 13:46:20.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/templates/configmap-etc.yaml', 'nagios/values.yaml', 'nagios/values_overrides/postgresql-objects.yaml', 'nagios/values_overrides/elasticsearch-objects.yaml', 'tools/deployment/common/nagios.sh', 'tools/deployment/osh-infra-monitoring/120-nagios.sh', 'nagios/values_overrides/openstack-objects.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f7790e45107f99ae9076342fdf64521325194ae', 'message': 'Nagios: Add support for arbitrary object definitions via overrides\n\nThis adds support for arbitrary object definitions via the conf\nkey in the Nagios chart. This allows for customizing the\ndefinitions required by different deployment targets instead of\nassuming all nagios deployments are monitoring and targeting the\nsame hosts and executing the same service checks and commands.\n\nThis also adds reference overrides to the chart for elasticsearch,\npostgresql, and openstack nagios objects that are deployed in the\nsingle and multinode jobs here\n\nChange-Id: I6475ca980447591b5b691220eb841a2ab958e854\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",2,692193,6f7790e45107f99ae9076342fdf64521325194ae,27,5,9,17591,,,0,"Nagios: Add support for arbitrary object definitions via overrides

This adds support for arbitrary object definitions via the conf
key in the Nagios chart. This allows for customizing the
definitions required by different deployment targets instead of
assuming all nagios deployments are monitoring and targeting the
same hosts and executing the same service checks and commands.

This also adds reference overrides to the chart for elasticsearch,
postgresql, and openstack nagios objects that are deployed in the
single and multinode jobs here

Change-Id: I6475ca980447591b5b691220eb841a2ab958e854
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/93/692193/9 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/configmap-etc.yaml', 'nagios/templates/deployment.yaml', 'nagios/values.yaml', 'nagios/values_overrides/postgresql-objects.yaml', 'nagios/values_overrides/elasticsearch-objects.yaml', 'tools/deployment/common/nagios.sh', 'tools/deployment/osh-infra-monitoring/120-nagios.sh', 'nagios/values_overrides/openstack-objects.yaml', 'tools/deployment/multinode/110-nagios.sh']",9,79e20070c30a76fbc6511aac3efc009a96370b7f,nagios-definition-update,../common/nagios,,959,930
openstack%2Fkuryr-kubernetes~master~Ic5f8cd287bbee959cba6091ce1a64791fba7c9b3,openstack/kuryr-kubernetes,master,Ic5f8cd287bbee959cba6091ce1a64791fba7c9b3,Switch to use Ubuntu Bionic Octavia Amphora,MERGED,2019-12-03 15:32:36.000000000,2019-12-03 20:52:27.000000000,2019-12-03 20:49:53.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-12-03 15:32:36.000000000', 'files': ['playbooks/get_amphora_tarball.yaml', '.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b5fdeeafaac2fb5d2c5818e06a81b01745ed922c', 'message': 'Switch to use Ubuntu Bionic Octavia Amphora\n\nIn Ia30435b3bb19acd1d2f9fe217251c393d4f7480e Octavia dropped Python 2\nsupport. This made some unsupported requirements to not be installed\nagainst Python 2. In our gates however we used CentOS 7 amphora, which\nonly have Python 2. This means the agent is exectued without some\ndependencies and fails.\n\nThis commit switches our gates to use Ubuntu Bionic Amphora.\n\nChange-Id: Ic5f8cd287bbee959cba6091ce1a64791fba7c9b3\n'}]",0,697114,b5fdeeafaac2fb5d2c5818e06a81b01745ed922c,7,4,1,11600,,,0,"Switch to use Ubuntu Bionic Octavia Amphora

In Ia30435b3bb19acd1d2f9fe217251c393d4f7480e Octavia dropped Python 2
support. This made some unsupported requirements to not be installed
against Python 2. In our gates however we used CentOS 7 amphora, which
only have Python 2. This means the agent is exectued without some
dependencies and fails.

This commit switches our gates to use Ubuntu Bionic Amphora.

Change-Id: Ic5f8cd287bbee959cba6091ce1a64791fba7c9b3
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/697114/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/get_amphora_tarball.yaml', '.zuul.d/octavia.yaml']",2,b5fdeeafaac2fb5d2c5818e06a81b01745ed922c,ubuntu-amphorae," OCTAVIA_AMP_IMAGE_FILE: ""/tmp/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2"" OCTAVIA_AMP_IMAGE_NAME: ""test-only-amphora-x64-haproxy-ubuntu-bionic"""," OCTAVIA_AMP_IMAGE_FILE: ""/tmp/test-only-amphora-x64-haproxy-centos-7.qcow2"" OCTAVIA_AMP_IMAGE_NAME: ""test-only-amphora-x64-haproxy-centos-7"" OCTAVIA_AMP_BASE_OS: centos OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID: 7",4,6
openstack%2Fopenstacksdk~master~I8ca5620be7ff5dd7b687fe0a2e3a3ce31ebd4cf2,openstack/openstacksdk,master,I8ca5620be7ff5dd7b687fe0a2e3a3ce31ebd4cf2,Fix .. note:: rendering in doc,MERGED,2019-12-03 19:36:35.000000000,2019-12-03 20:51:22.000000000,2019-12-03 20:49:23.000000000,"[{'_account_id': 2}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 19:36:35.000000000', 'files': ['doc/source/user/microversions.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/97375f21d049ec837792811e1befd57a26cba0da', 'message': 'Fix .. note:: rendering in doc\n\nMissing space in a .. note:: made it not render properly. Fixed.\n\nChange-Id: I8ca5620be7ff5dd7b687fe0a2e3a3ce31ebd4cf2\n'}]",0,697168,97375f21d049ec837792811e1befd57a26cba0da,8,3,1,14070,,,0,"Fix .. note:: rendering in doc

Missing space in a .. note:: made it not render properly. Fixed.

Change-Id: I8ca5620be7ff5dd7b687fe0a2e3a3ce31ebd4cf2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/68/697168/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/microversions.rst'],1,97375f21d049ec837792811e1befd57a26cba0da,doc-note-rendering, .. note::, ..note::,1,1
openstack%2Fproject-config~master~Ib1735aa0fa93cbf069e32e9400c89be8b591ac14,openstack/project-config,master,Ib1735aa0fa93cbf069e32e9400c89be8b591ac14,Add 'Review-Priority' for Neutron stadium repos,MERGED,2019-11-28 21:12:37.000000000,2019-12-03 20:33:12.000000000,2019-12-03 20:33:12.000000000,"[{'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-28 21:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b3da846a93869a305275f026f2ea000f8969ad82', 'message': ""Add 'Review-Priority' for Neutron stadium repos\n\nIn patch [1] we added review priority for Neutron repo. Now lets\ndo the same for stadium projects.\n\n[1] https://review.opendev.org/#/c/694095/\n\nChange-Id: Ib1735aa0fa93cbf069e32e9400c89be8b591ac14\n""}, {'number': 2, 'created': '2019-12-02 21:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f0359cea9afb744baab076b368b1cf614e9713b8', 'message': ""Add 'Review-Priority' for Neutron stadium repos\n\nIn patch [1] we added review priority for Neutron repo. Now lets\ndo the same for stadium projects.\n\n[1] https://review.opendev.org/#/c/694095/\n\nChange-Id: Ib1735aa0fa93cbf069e32e9400c89be8b591ac14\n""}, {'number': 3, 'created': '2019-12-03 08:09:56.000000000', 'files': ['gerrit/acls/openstack/networking-bgpvpn.config', 'gerrit/acls/openstack/neutron-lib.config', 'gerrit/acls/openstack/neutron-fwaas.config', 'gerrit/acls/openstack/networking-bagpipe.config', 'gerrit/acls/openstack/neutron-vpnaas-dashboard.config', 'gerrit/acls/openstack/neutron-dynamic-routing.config', 'gerrit/acls/openstack/neutron-fwaas-dashboard.config', 'gerrit/acls/openstack/networking-sfc.config', 'gerrit/acls/openstack/neutron-vpnaas.config', 'gerrit/acls/openstack/networking-odl.config', 'gerrit/acls/openstack/neutron-specs.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8a060c7172ba0fcb68a53e375829a97e00b170c7', 'message': ""Add 'Review-Priority' for Neutron stadium repos\n\nIn patch [1] we added review priority for Neutron repo. Now lets\ndo the same for stadium projects.\n\n[1] https://review.opendev.org/#/c/694095/\n\nChange-Id: Ib1735aa0fa93cbf069e32e9400c89be8b591ac14\n""}]",4,696628,8a060c7172ba0fcb68a53e375829a97e00b170c7,23,9,3,11975,,,0,"Add 'Review-Priority' for Neutron stadium repos

In patch [1] we added review priority for Neutron repo. Now lets
do the same for stadium projects.

[1] https://review.opendev.org/#/c/694095/

Change-Id: Ib1735aa0fa93cbf069e32e9400c89be8b591ac14
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/696628/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/networking-bgpvpn.config', 'gerrit/acls/openstack/neutron-fwaas.config', 'gerrit/acls/openstack/neutron-lib.config', 'gerrit/acls/openstack/networking-bagpipe.config', 'gerrit/acls/openstack/neutron-vpnaas-dashboard.config', 'gerrit/acls/openstack/neutron-dynamic-routing.config', 'gerrit/acls/openstack/neutron-fwaas-dashboard.config', 'gerrit/acls/openstack/networking-sfc.config', 'gerrit/acls/openstack/neutron-vpnaas.config', 'gerrit/acls/openstack/networking-odl.config', 'gerrit/acls/openstack/neutron-specs.config']",11,b3da846a93869a305275f026f2ea000f8969ad82,add-review-priority-for-neutron-stadium,"label-Review-Priority = -1..+2 group neutron-specs-core[label ""Review-Priority""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = AnyWithBlock value = -1 Branch Freeze value = 0 No Priority value = +1 Important Change value = +2 Gate Blocker Fix / Urgent Change ",,143,0
openstack%2Fironic~master~Iacc26bcebb16b8baec5cf03cf53b5e7a22ea0ea7,openstack/ironic,master,Iacc26bcebb16b8baec5cf03cf53b5e7a22ea0ea7,Add an ironic-inspector job with managed boot,MERGED,2019-11-26 15:55:20.000000000,2019-12-03 20:28:25.000000000,2019-12-03 20:25:11.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-26 15:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b37dce8d980f1145b49b7496daae6249cc89144', 'message': 'Add an ironic-inspector job with managed boot\n\nChange-Id: Iacc26bcebb16b8baec5cf03cf53b5e7a22ea0ea7\nDepends-On: https://review.opendev.org/#/c/688920/\n'}, {'number': 2, 'created': '2019-11-27 15:28:58.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/71c03410ae9529a08947f0a4a7bbfd1c78d7326c', 'message': 'Add an ironic-inspector job with managed boot\n\nChange-Id: Iacc26bcebb16b8baec5cf03cf53b5e7a22ea0ea7\nDepends-On: https://review.opendev.org/#/c/688920/\n'}]",0,696117,71c03410ae9529a08947f0a4a7bbfd1c78d7326c,32,8,2,10239,,,0,"Add an ironic-inspector job with managed boot

Change-Id: Iacc26bcebb16b8baec5cf03cf53b5e7a22ea0ea7
Depends-On: https://review.opendev.org/#/c/688920/
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/696117/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5b37dce8d980f1145b49b7496daae6249cc89144,story/1528920, - ironic-inspector-tempest-managed: voting: false,,2,0
openstack%2Fopenstack-helm-images~master~I42fcf7c8c74efdef0584a6051e133ef287fdc686,openstack/openstack-helm-images,master,I42fcf7c8c74efdef0584a6051e133ef287fdc686,Elasticsearch: Add elasticsearch python packages,MERGED,2019-12-03 17:22:21.000000000,2019-12-03 20:26:48.000000000,2019-12-03 20:23:54.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-12-03 17:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a48023312d4f8723c53b5096df4b2ace9c380d89', 'message': 'Elasticsearch: Add elasticsearch python packages\n\nThis updates the Elasticsearch 7.1.0 image to include the python\npackages to support python scripting to query Elasticsearch\ndirectly\n\nChange-Id: I42fcf7c8c74efdef0584a6051e133ef287fdc686\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-12-03 17:23:06.000000000', 'files': ['elasticsearch-s3/Dockerfile.7_1_0'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4cb2f0fcfc92208cfcfaa7a3af5ae172a83e5473', 'message': 'Elasticsearch: Add elasticsearch python packages\n\nThis updates the Elasticsearch 7.1.0 image to include the python\npackages to support python scripting to query Elasticsearch\ndirectly\n\nChange-Id: I42fcf7c8c74efdef0584a6051e133ef287fdc686\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,697141,4cb2f0fcfc92208cfcfaa7a3af5ae172a83e5473,9,3,2,17591,,,0,"Elasticsearch: Add elasticsearch python packages

This updates the Elasticsearch 7.1.0 image to include the python
packages to support python scripting to query Elasticsearch
directly

Change-Id: I42fcf7c8c74efdef0584a6051e133ef287fdc686
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/41/697141/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch-s3/Dockerfile.7_1_0'],1,a48023312d4f8723c53b5096df4b2ace9c380d89,elasticsearch-packages,RUN wget -O jq https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64; \ chmod +x ./jq ;\ cp jq /usr/bin ;\ yum -y update ;\ rm -rf /var/cache/yum ;\ curl https://bootstrap.pypa.io/get-pip.py -o /tmp/get-pip.py ;\ python /tmp/get-pip.py ;\ rm -f /tmp/get-pip.py ;\ pip install \ elasticsearch==7.1.0 \ elasticsearch-dsl==7.1.0; \ bin/elasticsearch-plugin install --batch repository-s3,RUN wget -O jq https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64 \ && chmod +x ./jq \ && cp jq /usr/bin RUN bin/elasticsearch-plugin install --batch repository-s3,12,5
openstack%2Fansible-role-tripleo-modify-image~master~I100639982b75c9d345269ba9bf10defb7e96d774,openstack/ansible-role-tripleo-modify-image,master,I100639982b75c9d345269ba9bf10defb7e96d774,Use length to avoid unsupported operations with '>',MERGED,2019-11-27 13:26:05.000000000,2019-12-03 20:19:07.000000000,2019-12-03 20:19:07.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 13:26:05.000000000', 'files': ['tasks/dev_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/970e479c48d5946ac5c3005f6a9945622d0a0f1c', 'message': ""Use length to avoid unsupported operations with '>'\n\nThe dev_install.yaml script breaks when running python 3 because of\nunsupported comparisions between 'AnsibleUnsafeText' and 'int' with the\n'>' operator.\n\nThis is very similar to a bug opened against ansible upstream [0]. We\ncan fix the issue by using length explicitly, which ensures we're\ncomparing integers to integers since we're dealing with a list.\n\n[0] https://github.com/ansible/ansible/issues/50388\n\nChange-Id: I100639982b75c9d345269ba9bf10defb7e96d774\n""}]",2,696303,970e479c48d5946ac5c3005f6a9945622d0a0f1c,20,6,1,5046,,,0,"Use length to avoid unsupported operations with '>'

The dev_install.yaml script breaks when running python 3 because of
unsupported comparisions between 'AnsibleUnsafeText' and 'int' with the
'>' operator.

This is very similar to a bug opened against ansible upstream [0]. We
can fix the issue by using length explicitly, which ensures we're
comparing integers to integers since we're dealing with a list.

[0] https://github.com/ansible/ansible/issues/50388

Change-Id: I100639982b75c9d345269ba9bf10defb7e96d774
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/03/696303/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/dev_install.yml'],1,970e479c48d5946ac5c3005f6a9945622d0a0f1c,, when: item | length > 0 when: item | length > 0, when: item > 0 when: item > 0,2,2
openstack%2Fnova~master~I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe,openstack/nova,master,I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe,Suppress policy deprecated warnings in tests,MERGED,2019-08-15 10:42:39.000000000,2019-12-03 20:18:38.000000000,2019-12-03 20:10:12.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-15 10:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c6e95883fca33b431e358bd75b43b0300896450', 'message': ""Add policy deprecation fixture and Suppress warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nThis commit also add the Policy Deprecation fixture which provide\nhe way to override the policy file with set of required policy\nrules. Each test will use this fixture to test whether deprecated\npolicy are working fine or not.\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 2, 'created': '2019-08-16 05:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e64e4d137319988c609edce666519622218a1395', 'message': ""Add policy deprecation fixture and Suppress warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nThis commit also add the Policy Deprecation fixture which provide\nhe way to override the policy file with set of required policy\nrules. Each test will use this fixture to test whether deprecated\npolicy are working fine or not.\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 3, 'created': '2019-08-16 05:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a24a2442be1c79af81ec4bfcde25fc33fdafdd8', 'message': ""Add policy deprecation fixture and Suppress warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version to 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id1\n\nThis commit also add the Policy Deprecation fixture which provide\nhe way to override the policy file with set of required policy\nrules. Each test will use this fixture to test whether deprecated\npolicy are working fine or not.\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 4, 'created': '2019-10-18 07:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7536507cd329e9520e935a2ba31e086495069c7', 'message': ""Add policy deprecation fixture and Suppress warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version to 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3\n\nThis commit also add the Policy Deprecation fixture which provide\nhe way to override the policy file with set of required policy\nrules. Each test will use this fixture to test whether deprecated\npolicy are working fine or not.\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 5, 'created': '2019-10-18 08:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97bb94976300ce1baf915b8865c0b1067dc1f56c', 'message': ""Add policy deprecation fixture and Suppress warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version to 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3\n\nThis commit also add the Policy Deprecation fixture which provide\nhe way to override the policy file with set of required policy\nrules. Each test will use this fixture to test whether deprecated\npolicy are working fine or not.\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 6, 'created': '2019-10-29 20:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf876aabb1ed17dc73ce3a3d099c9819ada29bd4', 'message': ""Add policy deprecation fixture and Suppress warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version to 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3\n\nThis commit also add the Policy Deprecation fixture which provide\nhe way to override the policy file with set of required policy\nrules. Each test will use this fixture to test whether deprecated\npolicy are working fine or not.\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 7, 'created': '2019-11-25 18:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a6d4c1ec87a25ba119454756b1e92fd7aac4c48', 'message': ""Suppress policy deprecated warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version tod 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 8, 'created': '2019-11-26 01:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64166f0e3e7397d80ddabb6f54ab42dde6b66943', 'message': ""Suppress policy deprecated warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version tod 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 9, 'created': '2019-11-26 01:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20297a64b8e8f1a4e74695b14c5b7971b83e1f6f', 'message': ""Suppress policy deprecated warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version tod 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}, {'number': 10, 'created': '2019-11-26 19:05:57.000000000', 'files': ['requirements.txt', 'nova/tests/unit/policy_fixture.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c96864e60b71743aa56c119d37a552e63df5d18', 'message': ""Suppress policy deprecated warnings in tests\n\nEvery unit tests init the policy via fixture[1] which will\nlog the deprecation warnings. As per our new policy defaults\nwork, we are going to deprecate almost all the policies due\nto their change in default value.\n\nLogging all the deprecation warning for every unit tests will\noverflow the log files and leads to error[2].\n\nOslo policy has a way to supress the deprecation warning for tests,\nso let's supress the deprecation warning for unti tests.\n\nThis will not be issue on production cloud as there are only\none time policy initialization.\n\nBump oslo.policy version tod 2.3.0 which includes the suppress warning\nflag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3\n\n[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53\n[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz\n\nChange-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe\n""}]",3,676670,5c96864e60b71743aa56c119d37a552e63df5d18,110,20,10,8556,,,0,"Suppress policy deprecated warnings in tests

Every unit tests init the policy via fixture[1] which will
log the deprecation warnings. As per our new policy defaults
work, we are going to deprecate almost all the policies due
to their change in default value.

Logging all the deprecation warning for every unit tests will
overflow the log files and leads to error[2].

Oslo policy has a way to supress the deprecation warning for tests,
so let's supress the deprecation warning for unti tests.

This will not be issue on production cloud as there are only
one time policy initialization.

Bump oslo.policy version tod 2.3.0 which includes the suppress warning
flag - https://docs.openstack.org/oslo.policy/latest/user/history.html#id3

[1] https://github.com/openstack/nova/blob/872a823d9a02f31e266882bfb499673c51fb4075/nova/tests/unit/policy_fixture.py#L53
[2] https://logs.opendev.org/80/648480/7/check/openstack-tox-py36/9289426/job-output.txt.gz

Change-Id: I10880e7c8fcf57494d7a01eb694bd3cf3f7d36fe
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/676670/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/tests/unit/policy_fixture.py', 'lower-constraints.txt']",3,0c6e95883fca33b431e358bd75b43b0300896450,bp/policy-defaults-refresh,oslo.policy==2.3.0,oslo.policy==1.38.0,43,2
openstack%2Fnova~master~I8e5a0683069b2f322cb059d6eb501d732d1bd851,openstack/nova,master,I8e5a0683069b2f322cb059d6eb501d732d1bd851,Add a way to exit early from a wait_for_instance_event(),MERGED,2019-11-25 21:41:33.000000000,2019-12-03 20:14:25.000000000,2019-12-03 20:09:53.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-25 21:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1172cc39b4627d2dcf6789b599733b5e91959c01', 'message': 'Add a way to exit early from a wait_for_instance_event()\n\nIn some situations, we may enter into a race-safe wait context for an\nexternal event and then determine within the context that the event\nwould have already fired or for some other reason waiting is not required.\nIn that case, this introduces a VirtAPI method to abort the wait for\nspecific events in a clean way.\n\nThis should be used sparingly and only in certain circumstances where\nit is clear that the event has already occurred. For example, if the\naction triggering the event was initiated outside of the wait context,\nwe can enter the wait context (establishing a waiting event to capture),\nand then poll once for completion of that thing. If incomplete, we will\nblock and wait on context exit as usual. If the thing we are waiting for\nhas already completed, then we can avoid the long wait by calling the\nearly-exit helper and avoid what would ultimately be a timeout and\nfailure.\n\nChange-Id: I8e5a0683069b2f322cb059d6eb501d732d1bd851\n'}, {'number': 2, 'created': '2019-11-26 17:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a9eda254c41fefaab48ac97f5f7be860b080be2', 'message': 'Add a way to exit early from a wait_for_instance_event()\n\nIn some situations, we may enter into a race-safe wait context for an\nexternal event and then determine within the context that the event\nwould have already fired or for some other reason waiting is not required.\nIn that case, this introduces a VirtAPI method to abort the wait for\nspecific events in a clean way.\n\nThis should be used sparingly and only in certain circumstances where\nit is clear that the event has already occurred. For example, if the\naction triggering the event was initiated outside of the wait context,\nwe can enter the wait context (establishing a waiting event to capture),\nand then poll once for completion of that thing. If incomplete, we will\nblock and wait on context exit as usual. If the thing we are waiting for\nhas already completed, then we can avoid the long wait by calling the\nearly-exit helper and avoid what would ultimately be a timeout and\nfailure.\n\nChange-Id: I8e5a0683069b2f322cb059d6eb501d732d1bd851\n'}, {'number': 3, 'created': '2019-11-26 18:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fae8e2eadc770bc59a71ef728df7b980458c257', 'message': 'Add a way to exit early from a wait_for_instance_event()\n\nIn some situations, we may enter into a race-safe wait context for an\nexternal event and then determine within the context that the event\nwould have already fired or for some other reason waiting is not required.\nIn that case, this introduces a VirtAPI method to abort the wait for\nspecific events in a clean way.\n\nThis should be used sparingly and only in certain circumstances where\nit is clear that the event has already occurred. For example, if the\naction triggering the event was initiated outside of the wait context,\nwe can enter the wait context (establishing a waiting event to capture),\nand then poll once for completion of that thing. If incomplete, we will\nblock and wait on context exit as usual. If the thing we are waiting for\nhas already completed, then we can avoid the long wait by calling the\nearly-exit helper and avoid what would ultimately be a timeout and\nfailure.\n\nChange-Id: I8e5a0683069b2f322cb059d6eb501d732d1bd851\n'}, {'number': 4, 'created': '2019-12-02 15:04:13.000000000', 'files': ['nova/virt/fake.py', 'nova/virt/virtapi.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_virtapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56d3cd7aa7f4d3be01fd2a5c10903fb548c49458', 'message': 'Add a way to exit early from a wait_for_instance_event()\n\nIn some situations, we may enter into a race-safe wait context for an\nexternal event and then determine within the context that the event\nwould have already fired or for some other reason waiting is not required.\nIn that case, this introduces a VirtAPI method to abort the wait for\nspecific events in a clean way.\n\nThis should be used sparingly and only in certain circumstances where\nit is clear that the event has already occurred. For example, if the\naction triggering the event was initiated outside of the wait context,\nwe can enter the wait context (establishing a waiting event to capture),\nand then poll once for completion of that thing. If incomplete, we will\nblock and wait on context exit as usual. If the thing we are waiting for\nhas already completed, then we can avoid the long wait by calling the\nearly-exit helper and avoid what would ultimately be a timeout and\nfailure.\n\nWe are specifically adding this to address the cyborg scenario as follows:\n\nOnce we select a host in the conductor for an instance build, we can call\nto cyborg to start the preparation (i.e. programming) of the device on the\ndestination host. This takes time, and by kicking it off early, we can\noverlap that process with other work we have to do. Because that will send\nan event upon completion, which will be routed to the compute, we will race\nto start the build process on the compute and begin the race-safe event\nwait in the compute manager. Instead of collapsing the window and waiting\nsynchronously, we can trigger it early, then start the wait in the compute\nlater, check for early completion *after* the wait has been set up, and then\nexit the wait early if we determine that the event had already been sent.\nThis allows us to be async with cyborg across two services while still being\nsafe in the critical region where we need to setup the wait before we rely\non the event being sent.\n\nChange-Id: I8e5a0683069b2f322cb059d6eb501d732d1bd851\n'}]",36,695985,56d3cd7aa7f4d3be01fd2a5c10903fb548c49458,60,14,4,4393,,,0,"Add a way to exit early from a wait_for_instance_event()

In some situations, we may enter into a race-safe wait context for an
external event and then determine within the context that the event
would have already fired or for some other reason waiting is not required.
In that case, this introduces a VirtAPI method to abort the wait for
specific events in a clean way.

This should be used sparingly and only in certain circumstances where
it is clear that the event has already occurred. For example, if the
action triggering the event was initiated outside of the wait context,
we can enter the wait context (establishing a waiting event to capture),
and then poll once for completion of that thing. If incomplete, we will
block and wait on context exit as usual. If the thing we are waiting for
has already completed, then we can avoid the long wait by calling the
early-exit helper and avoid what would ultimately be a timeout and
failure.

We are specifically adding this to address the cyborg scenario as follows:

Once we select a host in the conductor for an instance build, we can call
to cyborg to start the preparation (i.e. programming) of the device on the
destination host. This takes time, and by kicking it off early, we can
overlap that process with other work we have to do. Because that will send
an event upon completion, which will be routed to the compute, we will race
to start the build process on the compute and begin the race-safe event
wait in the compute manager. Instead of collapsing the window and waiting
synchronously, we can trigger it early, then start the wait in the compute
later, check for early completion *after* the wait has been set up, and then
exit the wait early if we determine that the event had already been sent.
This allows us to be async with cyborg across two services while still being
safe in the critical region where we need to setup the wait before we rely
on the event being sent.

Change-Id: I8e5a0683069b2f322cb059d6eb501d732d1bd851
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/695985/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/unit/compute/test_virtapi.py']",2,1172cc39b4627d2dcf6789b599733b5e91959c01,exit-wait-early," def test_wait_for_instance_event_exit_early(self): @mock.patch.object(self.virtapi._compute, '_event_waiter') def do_test(waiter): with self.virtapi.wait_for_instance_event('instance', [('foo', 'bar')]): self.virtapi.exit_wait_early([('foo', 'bar')]) waiter.assert_not_called() do_test() with self.virtapi.wait_for_instance_event('instance', [('foo', 'bar')]): self.virtapi.exit_wait_early([('foo', 'baz')]) ",,48,2
openstack%2Fnova~master~I4abbe30505a5e4ccba16027addd6d5f45066e31b,openstack/nova,master,I4abbe30505a5e4ccba16027addd6d5f45066e31b,docs: Clarify configuration steps for PF devices,MERGED,2019-11-15 11:46:01.000000000,2019-12-03 20:10:05.000000000,2019-12-03 20:10:04.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15907}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31296}]","[{'number': 1, 'created': '2019-11-15 11:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa1ead951f4d6aece44241198e879265b48f7bee', 'message': 'docs: Clarify configuration steps for PF devices\n\nDevices that report SR-IOV capabilities cannot be used without special\nconfiguration - namely, the addition of ""\'device_type\': \'type-PF\'"" to\nthe \'[pci] alias\' configuration option. Spell this out in the docs.\n\nChange-Id: I4abbe30505a5e4ccba16027addd6d5f45066e31b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-11-15 11:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e22def0b1342053c271f4e94be1f8b1669663df', 'message': 'docs: Clarify configuration steps for PF devices\n\nDevices that report SR-IOV capabilities cannot be used without special\nconfiguration - namely, the addition of ""\'device_type\': \'type-PF\'"" to\nthe \'[pci] alias\' configuration option. Spell this out in the docs.\n\nChange-Id: I4abbe30505a5e4ccba16027addd6d5f45066e31b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1852727\n'}, {'number': 3, 'created': '2019-12-02 16:32:59.000000000', 'files': ['nova/conf/pci.py', 'doc/source/admin/pci-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/810aafc5ec9a7d25b33cf6c137c47b117c91269a', 'message': 'docs: Clarify configuration steps for PF devices\n\nDevices that report SR-IOV capabilities cannot be used without special\nconfiguration - namely, the addition of ""\'device_type\': \'type-PF\'"" or\n""\'device_type\': \'type-VF\'"" to the \'[pci] alias\' configuration option.\nSpell this out in the docs.\n\nChange-Id: I4abbe30505a5e4ccba16027addd6d5f45066e31b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1852727\n'}]",11,694522,810aafc5ec9a7d25b33cf6c137c47b117c91269a,30,15,3,15334,,,0,"docs: Clarify configuration steps for PF devices

Devices that report SR-IOV capabilities cannot be used without special
configuration - namely, the addition of ""'device_type': 'type-PF'"" or
""'device_type': 'type-VF'"" to the '[pci] alias' configuration option.
Spell this out in the docs.

Change-Id: I4abbe30505a5e4ccba16027addd6d5f45066e31b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1852727
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/694522/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/pci.py', 'doc/source/admin/pci-passthrough.rst']",2,aa1ead951f4d6aece44241198e879265b48f7bee,bug/1852727,"option, which is a JSON-style configuration option that allows you to map a given device type, identified by the standard PCI ``vendor_id`` and (optional) ``product_id`` fields, to an arbitrary name or *alias*. This alias can then be used to request a PCI device using the ``pci_passthrough:alias=<alias>`` flavor extra spec, as discussed previously. As noted previously, our sample device has a vendor ID of ``0x8086`` and a product ID of ``0x154d``. However, it's important to note that this device also supports SR-IOV. This is important because the ``nova-compute`` service categorizes devices into one of three types, depending on the capabilities the devices report: ``type-PF`` The device supports SR-IOV and is the parent or root device. ``type-VF`` The device is a child device of a device that supports SR-IOV. ``type-PCI`` The device does not support SR-IOV. By default, devices corresponding to ``type-PF`` can be indexed by the ``nova-compute`` service, assuming they're whitelisted using the :oslo.config:option:`pci.passthrough_whitelist` option, but they will not be requestable using an alias as passing through a ``type-PF`` device will prevent the use of the child ``type-VF`` devices by other guests. Because our device is a ``type-PF`` device and we actually want to use this device rather than the VFs, we need to specifically state the device type, alongside the other fields, when configuring the :oslo.config:option:`pci.alias` configuration option. For example:If the device was simply a ``type-PCI`` device or was a ``type-VF`` device, the ``device_type`` field could be omitted. ","option. As noted previously, PCI devices are requested through flavor extra specs - specifically via the ``pci_passthrough:alias`` flavor extra spec - so this config option allows us to map a given type of device to a specific alias. For example, to map the sample PCI device to the alias ``a1``:",35,5
openstack%2Fnova~master~I4ea1d9a332d6585ce2c0d5a531fa3c4ad9c89482,openstack/nova,master,I4ea1d9a332d6585ce2c0d5a531fa3c4ad9c89482,docs: Change order of PCI configuration steps,MERGED,2019-11-15 11:46:01.000000000,2019-12-03 20:09:58.000000000,2019-12-03 20:09:57.000000000,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15907}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-15 11:46:01.000000000', 'files': ['doc/source/admin/pci-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/557728abaf0c822f2b1a5cdd4fb2e11e19d8ead7', 'message': 'docs: Change order of PCI configuration steps\n\nIt doesn\'t really make sense to describe the ""higher level""\nconfiguration steps necessary for PCI passthrough before describing\nthings like BIOS configuration. Simply switch the ordering.\n\nChange-Id: I4ea1d9a332d6585ce2c0d5a531fa3c4ad9c89482\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1852727\n'}]",2,694521,557728abaf0c822f2b1a5cdd4fb2e11e19d8ead7,13,9,1,15334,,,0,"docs: Change order of PCI configuration steps

It doesn't really make sense to describe the ""higher level""
configuration steps necessary for PCI passthrough before describing
things like BIOS configuration. Simply switch the ordering.

Change-Id: I4ea1d9a332d6585ce2c0d5a531fa3c4ad9c89482
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-Bug: #1852727
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/694521/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/pci-passthrough.rst'],1,557728abaf0c822f2b1a5cdd4fb2e11e19d8ead7,bug/1852727,"PCI devices are requested through flavor extra specs, specifically via the ``pci_passthrough:alias=<alias>`` flavor extra spec. This guide demonstrates how to enable PCI passthrough for a type of PCI device with a vendor ID of ``8086`` and a product ID of ``154d`` - an Intel X520 Network Adapter - by mapping them to the alias ``a1``. You should adjust the instructions for other devices with potentially different capabilities. For information on creating servers with SR-IOV network interfaces, refer to* IOMMU enabled on the host OS, e.g. by adding the ``intel_iommu=on`` orassuming our sample PCI device has a PCI address of ``41:00.0`` on each host:option. As noted previously, PCI devices are requested through flavor extra specs - specifically via the ``pci_passthrough:alias`` flavor extra spec - so this config option allows us to map a given type of device to a specific alias. For example, to map the sample PCI device to the alias ``a1``:.. important:: This option must also be configured on controller nodes. This is discussed later in this document. Configure ``nova-scheduler`` (Controller) ----------------------------------------- The :program:`nova-scheduler` service must be configured to enable the ``PciPassthroughFilter``. To do this, add this filter to the list of filters specified in :oslo.config:option:`filter_scheduler.enabled_filters` and set :oslo.config:option:`filter_scheduler.available_filters` to the default of ``nova.scheduler.filters.all_filters``. For example: .. code-block:: ini [filter_scheduler] enabled_filters = ...,PciPassthroughFilter available_filters = nova.scheduler.filters.all_filters Once done, restart the :program:`nova-scheduler` service. .. _pci-passthrough-alias: Configure ``nova-api`` (Controller) ----------------------------------- It is necessary to also configure the :oslo.config:option:`pci.alias` config option on the controller. This configuration should match the configuration found on the compute nodes. For example: .. code-block:: ini [pci] alias = { ""vendor_id"":""8086"", ""product_id"":""154d"", ""device_type"":""type-PF"", ""name"":""a1"" } Refer to :oslo.config:option:`pci.alias` for syntax information. Once configured, restart the :program:`nova-api` service. Configure a flavor (API) ------------------------ Once the alias has been configured, it can be used for an flavor extra spec. For example, to request two of the PCI devices referenced by alias ``a1``, run: .. code-block:: console $ openstack flavor set m1.large --property ""pci_passthrough:alias""=""a1:2"" For more information about the syntax for ``pci_passthrough:alias``, refer to :ref:`Flavors <extra-spec-pci-passthrough>`. "," For information on creating servers with virtual SR-IOV devices, refer toTo enable PCI passthrough, follow the steps below. .. note:: The PCI device with address ``0000:41:00.0``, the vendor ID of ``8086`` and the product ID of ``154d`` is used as an example. This will differ between environments. Configure ``nova-scheduler`` (Controller) ----------------------------------------- The :program:`nova-scheduler` service must be configured to enable the ``PciPassthroughFilter``. To do this, add this filter to the list of filters specified in :oslo.config:option:`filter_scheduler.enabled_filters` and set :oslo.config:option:`filter_scheduler.available_filters` to the default of ``nova.scheduler.filters.all_filters``. For example: .. code-block:: ini [filter_scheduler] enabled_filters = ...,PciPassthroughFilter available_filters = nova.scheduler.filters.all_filters Once done, restart the :program:`nova-scheduler` service. .. _pci-passthrough-alias: Configure ``nova-api`` (Controller) ----------------------------------- PCI devices are requested through flavor extra specs, specifically via the ``pci_passthrough:alias`` flavor extra spec. However, the aliases themselves must be configured. This done via the :oslo.config:option:`pci.alias` configuration option. For example, to configure a PCI alias ``a1`` to request a PCI device with a vendor ID of ``0x8086`` and a product ID of ``0x154d``: .. code-block:: ini [pci] alias = { ""vendor_id"":""8086"", ""product_id"":""154d"", ""device_type"":""type-PF"", ""name"":""a1"" } Refer to :oslo.config:option:`pci.alias` for syntax information. Once configured, restart the :program:`nova-api` service. .. important:: This option must also be configured on compute nodes. This is discussed later in this document. Configure a flavor (API) ------------------------ Once the alias has been configured, it can be used for an flavor extra spec. For example, to request two of the PCI devices referenced by alias ``a1``, run: .. code-block:: console $ openstack flavor set m1.large --property ""pci_passthrough:alias""=""a1:2"" For more information about the syntax for ``pci_passthrough:alias``, refer to :ref:`Flavors <extra-spec-pci-passthrough>`. * IOMMU enabled on the host OS, by adding the ``intel_iommu=on`` orto enable passthrough of a specific device using its address:option on the compute node too. This is required to allow resizes of guests with PCI devices. This should be identical to the alias configured :ref:`previously <pci-passthrough-alias>`. For example:",70,72
openstack%2Fneutron-tempest-plugin~master~If1414baa0847d325da65f79248656a725cfe930b,openstack/neutron-tempest-plugin,master,If1414baa0847d325da65f79248656a725cfe930b,Queens jobs will now be run with same version of plugin,MERGED,2019-11-13 11:50:57.000000000,2019-12-03 20:09:50.000000000,2019-12-03 20:09:50.000000000,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 11:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7842b7235e95bc84a7f43b8cdcd69a15f1d8d4ad', 'message': 'Queens jobs will now be run with same version of plugin\n\nAs was agreed during Shanghai PTG neutron-tempest-plugin jobs for queens\nbranch should always use tagged version of tempest and tempest-plugin\nand should be removed from check/gate queues for patches to master\nbranch.\n\nThis patch is doing exactly that.\n\nChange-Id: If1414baa0847d325da65f79248656a725cfe930b\n'}, {'number': 2, 'created': '2019-11-14 09:08:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a4962ec62808fc469eaad73b1408447d8e3bc7ec', 'message': 'Queens jobs will now be run with same version of plugin\n\nAs was agreed during Shanghai PTG neutron-tempest-plugin jobs for queens\nbranch should always use tagged version of tempest and tempest-plugin\nand should be removed from check/gate queues for patches to master\nbranch.\n\nThis patch is doing exactly that.\n\nChange-Id: If1414baa0847d325da65f79248656a725cfe930b\n'}]",0,694049,a4962ec62808fc469eaad73b1408447d8e3bc7ec,26,5,2,11975,,,0,"Queens jobs will now be run with same version of plugin

As was agreed during Shanghai PTG neutron-tempest-plugin jobs for queens
branch should always use tagged version of tempest and tempest-plugin
and should be removed from check/gate queues for patches to master
branch.

This patch is doing exactly that.

Change-Id: If1414baa0847d325da65f79248656a725cfe930b
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/49/694049/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7842b7235e95bc84a7f43b8cdcd69a15f1d8d4ad,freeze-neutron-tempest-plugin-version, required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin # TODO(slaweq): bump it to 0.7.0 when it will be releases override-checkout: 0.6.0 - openstack/tempest TEMPEST_BRANCH: queens-em required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin # TODO(slaweq): bump it to 0.7.0 when it will be releases override-checkout: 0.6.0 - openstack/tempest TEMPEST_BRANCH: queens-em required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin # TODO(slaweq): bump it to 0.7.0 when it will be releases override-checkout: 0.6.0 - openstack/tempest TEMPEST_BRANCH: queens-em required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin # TODO(slaweq): bump it to 0.7.0 when it will be releases override-checkout: 0.6.0 - openstack/tempest TEMPEST_BRANCH: queens-em required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin # TODO(slaweq): bump it to 0.7.0 when it will be releases override-checkout: 0.6.0 - openstack/tempest TEMPEST_BRANCH: queens-em, - neutron-tempest-plugin-jobs-queens,40,1
openstack%2Fneutron-tempest-plugin~master~I9ef4daa821342d7462121a8bbde217ff5e0d7e9a,openstack/neutron-tempest-plugin,master,I9ef4daa821342d7462121a8bbde217ff5e0d7e9a,Use python 3 on all nodes in multinode job,MERGED,2019-11-19 15:20:29.000000000,2019-12-03 20:09:47.000000000,2019-12-03 20:09:47.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 15:20:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/592ec9d397a02e1c0f9211dba6a7e91b483d1d8d', 'message': 'Use python 3 on all nodes in multinode job\n\nIn neutron-tempest-plugin-dvr-multinode-scenario we had the same problem\nas described in [1] for tempest multinode jobs. It was using python 3\non controller node but python 2 on all subnodes.\nThis patch changes that to use python3 on all nodes.\n\n[1] https://bugs.launchpad.net/tempest/+bug/1853004\n\nChange-Id: I9ef4daa821342d7462121a8bbde217ff5e0d7e9a\nRelated-Bug: #1853004\n'}]",0,695013,592ec9d397a02e1c0f9211dba6a7e91b483d1d8d,24,6,1,11975,,,0,"Use python 3 on all nodes in multinode job

In neutron-tempest-plugin-dvr-multinode-scenario we had the same problem
as described in [1] for tempest multinode jobs. It was using python 3
on controller node but python 2 on all subnodes.
This patch changes that to use python3 on all nodes.

[1] https://bugs.launchpad.net/tempest/+bug/1853004

Change-Id: I9ef4daa821342d7462121a8bbde217ff5e0d7e9a
Related-Bug: #1853004
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/13/695013/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,592ec9d397a02e1c0f9211dba6a7e91b483d1d8d,bug/1853004, devstack_localrc: USE_PYTHON3: true,,2,0
openstack%2Fheat~master~Id543f3522f9015eed23883a4b53774d610c5bf15,openstack/heat,master,Id543f3522f9015eed23883a4b53774d610c5bf15,Remove unused logging import,ABANDONED,2017-02-16 08:30:16.000000000,2019-12-03 20:08:47.000000000,,"[{'_account_id': 3}, {'_account_id': 12404}, {'_account_id': 17842}, {'_account_id': 19935}]","[{'number': 1, 'created': '2017-02-16 08:30:16.000000000', 'files': ['heat/engine/resources/openstack/heat/deployed_server.py', 'heat/cmd/all.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1b6389ee8245208a3cd0766042e44a9cd8d36314', 'message': 'Remove unused logging import\n\nChange-Id: Id543f3522f9015eed23883a4b53774d610c5bf15\n'}]",0,434729,1b6389ee8245208a3cd0766042e44a9cd8d36314,7,4,1,19935,,,0,"Remove unused logging import

Change-Id: Id543f3522f9015eed23883a4b53774d610c5bf15
",git fetch https://review.opendev.org/openstack/heat refs/changes/29/434729/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/deployed_server.py', 'heat/cmd/all.py']",2,1b6389ee8245208a3cd0766042e44a9cd8d36314,,,LOG = logging.getLogger('heat.all') ,0,5
openstack%2Fopenstack-ansible~stable%2Ftrain~I1b6b8a671ebc97340ef391a8467a0186c1035237,openstack/openstack-ansible,stable/train,I1b6b8a671ebc97340ef391a8467a0186c1035237,Bump SHAs for stable/train,MERGED,2019-12-01 13:40:08.000000000,2019-12-03 20:07:48.000000000,2019-12-03 20:05:36.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-12-01 13:40:08.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ceph_ceph_conf_overrides-7b3a09ac34f94a6b.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1eea5f8dae8c098970717977aaf8d8736ecf7e98', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I1b6b8a671ebc97340ef391a8467a0186c1035237\n'}]",0,696801,1eea5f8dae8c098970717977aaf8d8736ecf7e98,8,3,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: I1b6b8a671ebc97340ef391a8467a0186c1035237
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/696801/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ceph_ceph_conf_overrides-7b3a09ac34f94a6b.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",5,1eea5f8dae8c098970717977aaf8d8736ecf7e98,bump_osa, version: 1eb55298839332e3ecc4302b1ed63592fda7f458 version: ff61269489bc919a11ba2858098a88fa858c1a5c version: be36ddb6cd9a03d772239b9de0e9f6ea2249c945 version: 93d7ca8ef07e5ce512979da8853ff82d9ffbd5bb version: c1a93744d563edcb63599d87eb7e4310966e0899 version: 5403a68d951483abd97d75a95fcf1a647d1a4060 version: 48a9e1b6f658828b9b0c70f4fee2c0acbe727a5b version: c33ada3eec2f1cd10d16aed75766e09a833ebd45 version: 4619a475aff42d9801a088e842cb36e65f5f54d9 version: a3058a641a170ca895a4fc6fc0af39daa93da546 version: 71d1d86e0a32baa474bb7664327b224df09ae8d5 version: 1d9448767c9ffa3a3d317bee0463e614a98457f5 version: 8330de8cb6163d9ef2250f3855c87cebc3d621ed version: 062d298056fe8417774126a32aef48cc046810d4 version: cf4ad43ca84262ff26cde6a03a243472e9e5e06b version: e70dbc30074e718d0d8810bd581274eff44e9323 version: 1d055c0c0f4d4f94461d4427f24394f673565a80, version: bcc01356db1c94076fb986c88ed90b64d833623a version: faf60ddb53dd3d345ea3644f818805a3d356b104 version: 2eb65510149a1fe83d706bbfe761336ebc795903 version: 59da7636d67915d5294f5cd609f7c642df260c44 version: ddd55f0f1e40d14369579c1a415b4118a946959e version: 6a150661420a0d92dde28ab18fd201ef1835fcd8 version: 2c21a4c4c86369691bcf91d563b2b3e8d9f7d4ed version: 0cae2f05943c67bfcf559cd6325b548cfbed8c10 version: bb67a1c8c77aa4b8c609f0a02ba480e9cf101e32 version: a1f8a11ad0aa9921da59a0d3578b01b4f5ee586a version: e649dd6620bb25d041262f1893022394db0690e5 version: ab6e854f772c832132c8652e66015e8bda181a47 version: 25823d8e8268392c93320d2512bd3e4a6f8d3151 version: f5453d41032c927fd69daade10e722084591d86c version: a70e012d1cb88b0fbc59d49cc96eee2e410ba2e0 version: 454bcb828fd645ad5f43e48ee498ca974faca729 version: 54365389f816ec9285063a5d976c6d9ac350afa0,71,64
openstack%2Fcinderlib~master~If368f006b62c5133f6d671fcf4f4f8942d365ad8,openstack/cinderlib,master,If368f006b62c5133f6d671fcf4f4f8942d365ad8,Fix cloning metadata storage,MERGED,2019-10-22 15:11:17.000000000,2019-12-03 19:59:56.000000000,2019-12-03 19:56:07.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 15:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/78e068ea8165732aef4ab87fba1ccb2c0b5b6c06', 'message': 'Fix cloning source_volid\n\nWhen cloning volumes we are not properly storing the source volume id\nsince we use source_vol_id instead of source_volid.\n\nThis patch fixes this incorrect behavior.\n\nChange-Id: If368f006b62c5133f6d671fcf4f4f8942d365ad8\ncloses-Bug: #1849339\n'}, {'number': 2, 'created': '2019-10-25 13:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/c8f5fa2a76ce0b0e3300e1727d5a397496e484df', 'message': ""Fix cloning metadata storage\n\nWhen cloning volumes we are not properly storing the new volume's\nmetadata.\n\nFor one we don't store the source volume id because we use source_vol_id\ninstead of source_volid.\n\nThen we also don't properly store the new state, so when we clone an\nin-use volume our new volume will also be in-use.\n\nThis patch fixes the clone feature to work as expected.\n\nChange-Id: If368f006b62c5133f6d671fcf4f4f8942d365ad8\nCloses-Bug: #1849339\nCloses-Bug: #1849828\n""}, {'number': 3, 'created': '2019-10-25 13:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/1da8c8a12f08e3cb8e0714cf1eaa78ae66570f51', 'message': ""Fix cloning metadata storage\n\nWhen cloning volumes we are not properly storing the new volume's\nmetadata.\n\nFor one we don't store the source volume id because we use source_vol_id\ninstead of source_volid.\n\nThen we also don't properly store the new state, so when we clone an\nin-use volume our new volume will also be in-use.\n\nThis patch fixes the clone feature to work as expected.\n\nChange-Id: If368f006b62c5133f6d671fcf4f4f8942d365ad8\nCloses-Bug: #1849339\nCloses-Bug: #1849828\n""}, {'number': 4, 'created': '2019-10-29 11:19:53.000000000', 'files': ['cinderlib/objects.py', 'cinderlib/tests/unit/objects/test_volume.py', 'releasenotes/notes/fix-clone-28b18ddb420ff676.yaml', 'cinderlib/tests/functional/test_basic.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b76eae9ac565e57ef4a6404f963a5b0f87cdc314', 'message': ""Fix cloning metadata storage\n\nWhen cloning volumes we are not properly storing the new volume's\nmetadata.\n\nFor one we don't store the source volume id because we use source_vol_id\ninstead of source_volid.\n\nThen we also don't properly store the new state, so when we clone an\nin-use volume our new volume will also be in-use.\n\nThis patch fixes the clone feature to work as expected.\n\nChange-Id: If368f006b62c5133f6d671fcf4f4f8942d365ad8\nCloses-Bug: #1849339\nCloses-Bug: #1849828\n""}]",0,690101,b76eae9ac565e57ef4a6404f963a5b0f87cdc314,14,4,4,9535,,,0,"Fix cloning metadata storage

When cloning volumes we are not properly storing the new volume's
metadata.

For one we don't store the source volume id because we use source_vol_id
instead of source_volid.

Then we also don't properly store the new state, so when we clone an
in-use volume our new volume will also be in-use.

This patch fixes the clone feature to work as expected.

Change-Id: If368f006b62c5133f6d671fcf4f4f8942d365ad8
Closes-Bug: #1849339
Closes-Bug: #1849828
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/01/690101/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/objects.py', 'cinderlib/tests/unit/objects/test_volume.py', 'cinderlib/tests/functional/test_basic.py']",3,78e068ea8165732aef4ab87fba1ccb2c0b5b6c06,bug/1849339," self.assertEqual(vol.id, new_vol.source_volid)",,3,1
openstack%2Fcinder~master~I093a5c7483ed1fea2a317ed8197729a9b911061d,openstack/cinder,master,I093a5c7483ed1fea2a317ed8197729a9b911061d,Tests: Isolate rbd deferred deletion tests,MERGED,2019-11-20 16:42:57.000000000,2019-12-03 19:59:27.000000000,2019-12-03 19:56:09.000000000,"[{'_account_id': 4523}, {'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31305}]","[{'number': 1, 'created': '2019-11-20 16:42:57.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/552e82334b7b4c05129b123f657a674959460b0a', 'message': 'Tests: Isolate rbd deferred deletion tests\n\nOnly modify configuration for this test rather than\nmodifying configuration in a way that can affect other\ntests.\n\nChange-Id: I093a5c7483ed1fea2a317ed8197729a9b911061d\n'}]",0,695246,552e82334b7b4c05129b123f657a674959460b0a,40,32,1,4523,,,0,"Tests: Isolate rbd deferred deletion tests

Only modify configuration for this test rather than
modifying configuration in a way that can affect other
tests.

Change-Id: I093a5c7483ed1fea2a317ed8197729a9b911061d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/695246/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_rbd.py'],1,552e82334b7b4c05129b123f657a674959460b0a,," @staticmethod def _make_configuration(conf_in=None): cfg = mock.Mock(spec=conf.Configuration) cfg.image_conversion_dir = None cfg.rbd_cluster_name = 'nondefault' cfg.rbd_pool = 'rbd' cfg.rbd_ceph_conf = '/etc/ceph/my_ceph.conf' cfg.rbd_keyring_conf = '/etc/ceph/my_ceph.client.keyring' cfg.rbd_secret_uuid = None cfg.rbd_user = 'cinder' cfg.volume_backend_name = None cfg.volume_dd_blocksize = '1M' cfg.rbd_store_chunk_size = 4 cfg.rados_connection_retries = 3 cfg.rados_connection_interval = 5 cfg.backup_use_temp_snapshot = False cfg.enable_deferred_deletion = False if conf_in is not None: for k in conf_in: setattr(cfg, k, conf_in[k]) return cfg @staticmethod def _make_drv(conf_in): cfg = RBDTestCase._make_configuration(conf_in) mock_exec = mock.Mock(return_value=('', '')) drv = driver.RBDDriver(execute=mock_exec, configuration=cfg, rbd=mock.MagicMock()) drv.set_initialized() return drv self.cfg = self._make_configuration() drv = self._make_drv({'enable_deferred_deletion': True, 'deferred_deletion_delay': 0}) with mock.patch.object(drv, '_get_clone_info') as \ mock_get_clone_info: with mock.patch.object(drv, '_delete_backup_snaps') as \ drv.delete_volume(self.volume_a) drv.rbd.Image.return_value, drv.rbd.Image.return_value.list_snaps.assert_called_once_with() drv.rbd.Image.return_value) drv.rbd.Image.return_value.unprotect_snap.called) 1, drv.rbd.RBD.return_value.trash_move.call_count) drv = self._make_drv({'rados_connect_timeout': -1, 'enable_deferred_deletion': True, 'deferred_deletion_purge_interval': 1}) drv._start_periodic_tasks() self.assertTrue(drv.rbd.RBD.return_value.trash_list.called) self.assertFalse(drv.rbd.RBD.return_value.trash_remove.called) drv = self._make_drv({'enable_deferred_deletion': True}) with mock.patch.object(drv.rbd.RBD(), 'trash_list') as mock_trash_list: drv._trash_purge() 1, drv.rbd.RBD.return_value.trash_list.call_count) 1, drv.rbd.RBD.return_value.trash_remove.call_count) drv = self._make_drv({'enable_deferred_deletion': True}) with mock.patch.object(drv.rbd.RBD(), 'trash_list') as mock_trash_list: drv.rbd.RBD.return_value.trash_remove.side_effect = ( drv._trash_purge() 1, drv.rbd.RBD.return_value.trash_list.call_count) 1, drv.rbd.RBD.return_value.trash_remove.call_count) drv = self._make_drv({'enable_deferred_deletion': True, 'deferred_deletion_delay': 0}) with mock.patch.object(drv, '_get_clone_info', side_effect = _get_clone_info_return_values): drv.delete_volume(self.volume_a) 1, drv.rbd.RBD.return_value.trash_move.call_count) drv = self._make_drv({'enable_deferred_deletion': True, 'deferred_deletion_delay': 0}) with mock.patch.object(drv, '_get_clone_info', side_effect = _get_clone_info_return_values): drv.delete_volume(self.volume_a) 2, drv.rbd.RBD.return_value.trash_move.call_count)"," self.cfg = mock.Mock(spec=conf.Configuration) self.cfg.image_conversion_dir = None self.cfg.rbd_cluster_name = 'nondefault' self.cfg.rbd_pool = 'rbd' self.cfg.rbd_ceph_conf = '/etc/ceph/my_ceph.conf' self.cfg.rbd_keyring_conf = '/etc/ceph/my_ceph.client.keyring' self.cfg.rbd_secret_uuid = None self.cfg.rbd_user = 'cinder' self.cfg.volume_backend_name = None self.cfg.volume_dd_blocksize = '1M' self.cfg.rbd_store_chunk_size = 4 self.cfg.rados_connection_retries = 3 self.cfg.rados_connection_interval = 5 self.cfg.backup_use_temp_snapshot = False self.cfg.enable_deferred_deletion = False self.driver.rbd.Image.return_value.list_snaps.return_value = [] with mock.patch.object(self.driver, '_get_clone_info') as \ mock_get_clone_info: with mock.patch.object(self.driver, '_delete_backup_snaps') as \ self.cfg.enable_deferred_deletion = True self.cfg.deferred_deletion_delay = 0 self.driver.delete_volume(self.volume_a) self.mock_rbd.Image.return_value, (self.driver.rbd.Image.return_value .list_snaps.assert_called_once_with()) self.mock_rbd.Image.return_value) self.driver.rbd.Image.return_value.unprotect_snap.called) 1, self.driver.rbd.RBD.return_value.trash_move.call_count) self.cfg.rados_connect_timeout = -1 self.cfg.enable_deferred_deletion = True self.cfg.deferred_deletion_purge_interval = 1 self.driver._start_periodic_tasks() self.assertTrue(self.driver.rbd.RBD.return_value.trash_list.called) self.assertFalse(self.driver.rbd.RBD.return_value.trash_remove.called) with mock.patch.object(self.driver.rbd.RBD(), 'trash_list') as \ mock_trash_list: self.cfg.enable_deferred_deletion = True self.driver._trash_purge() 1, self.driver.rbd.RBD.return_value.trash_list.call_count) 1, self.driver.rbd.RBD.return_value.trash_remove.call_count) with mock.patch.object(self.driver.rbd.RBD(), 'trash_list') as \ mock_trash_list: self.mock_rbd.RBD.return_value.trash_remove.side_effect = ( self.cfg.enable_deferred_deletion = True self.driver._trash_purge() 1, self.driver.rbd.RBD.return_value.trash_list.call_count) 1, self.driver.rbd.RBD.return_value.trash_remove.call_count) with mock.patch.object(self.driver, '_get_clone_info', side_effect = _get_clone_info_return_values): self.cfg.enable_deferred_deletion = True self.cfg.deferred_deletion_delay = 0 self.driver.delete_volume(self.volume_a) 1, self.driver.rbd.RBD.return_value.trash_move.call_count) with mock.patch.object(self.driver, '_get_clone_info', side_effect = _get_clone_info_return_values): self.cfg.enable_deferred_deletion = True self.cfg.deferred_deletion_delay = 0 self.driver.delete_volume(self.volume_a) 2, self.driver.rbd.RBD.return_value.trash_move.call_count)",75,61
openstack%2Fopenstack-ansible~stable%2Fstein~Idf2299e0e3ee153540ccd33c0b2e36227f432cb5,openstack/openstack-ansible,stable/stein,Idf2299e0e3ee153540ccd33c0b2e36227f432cb5,Bump SHAs for stable/stein,MERGED,2019-12-01 13:40:03.000000000,2019-12-03 19:58:23.000000000,2019-12-03 19:56:24.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-12-01 13:40:03.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c0be9cd66fc0f69e0488e600d2279bcc9cd97772', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: Idf2299e0e3ee153540ccd33c0b2e36227f432cb5\n'}]",0,696800,c0be9cd66fc0f69e0488e600d2279bcc9cd97772,8,3,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: Idf2299e0e3ee153540ccd33c0b2e36227f432cb5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/696800/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,c0be9cd66fc0f69e0488e600d2279bcc9cd97772,bump_osa, version: 2d9ad40d0f2203010d126e3194c526dd7bfab89c version: ff61269489bc919a11ba2858098a88fa858c1a5c version: 1c7eba7da5b84eb255743ce3e41c498b3948ad03 version: 0e3aa057e3246d72051f4cad218233619fecdf8d version: d9fed6ebe0c376d0420fa666403b4731af4a6de2 version: e70dbc30074e718d0d8810bd581274eff44e9323 version: 4d004bd5f6ade99b12f146aeac3a072a7dc5466b, version: ae01cbc824c7cf8aa7eac054fde481dacc441b68 version: faf60ddb53dd3d345ea3644f818805a3d356b104 version: f14c2ac96f884160c4353d014f748576697825a0 version: 40865479aea35639143a026b744ab0e38d9cf20b version: 63718a4b3adac3668c7c3bc8f16d0ba988a9283c version: 454bcb828fd645ad5f43e48ee498ca974faca729 version: c6bc4c49762b9c81c58b1a3085a41a6420df72d0,56,56
openstack%2Fcinder~master~Ieb11e681bb6cc2db652cd567bc19811ad741ff33,openstack/cinder,master,Ieb11e681bb6cc2db652cd567bc19811ad741ff33,Removed unnecessary lines,MERGED,2019-11-28 21:08:10.000000000,2019-12-03 19:58:14.000000000,2019-12-03 19:56:04.000000000,"[{'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-28 21:08:10.000000000', 'files': ['cinder/objects/volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9359daa747999b23db1bd714c9a93627d2fd156d', 'message': 'Removed unnecessary lines\n\nThis patch removes redundant dict initialisations in volume object\n\nChange-Id: Ieb11e681bb6cc2db652cd567bc19811ad741ff33\n'}]",1,696627,9359daa747999b23db1bd714c9a93627d2fd156d,43,32,1,31106,,,0,"Removed unnecessary lines

This patch removes redundant dict initialisations in volume object

Change-Id: Ieb11e681bb6cc2db652cd567bc19811ad741ff33
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/696627/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/objects/volume.py'],1,9359daa747999b23db1bd714c9a93627d2fd156d,remove-lines-volume.py,, self._orig_metadata = {} self._orig_admin_metadata = {} self._orig_glance_metadata = {},0,3
openstack%2Fcinderlib~master~I7eade434b3d86e72678769f8ec929f66967d74e3,openstack/cinderlib,master,I7eade434b3d86e72678769f8ec929f66967d74e3,Fix LVM extend volume,MERGED,2019-11-15 12:16:47.000000000,2019-12-03 19:57:53.000000000,2019-12-03 19:56:05.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 12:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/2125eb9c14b011bcd9f3c3e10d30dd01a888bb3f', 'message': ""Fix LVM extend volume\n\nWhen we try to extend an attached LVM volume after retrieving the volume\nmetadata from the persistent storage we get a TargetUpdateFailed\nexception cause by exception AttributeError: 'DB' object has no\nattribute 'volume_attachment_get_all_by_volume_id'.\n\nThis is caused by the LVM driver checking volume_attachment which is not\npopulated, which triggers a lazy loading on the OVO which calls a method\nin the DB layer that is not available in our fake DB instance.\n\nThis patch resolves this by replacing the get_all_by_volume_id method in\nthe VolumeAttachmentList OVO.\n\nClose-Bug: #1852629\nChange-Id: I7eade434b3d86e72678769f8ec929f66967d74e3\n""}, {'number': 2, 'created': '2019-11-18 18:39:52.000000000', 'files': ['cinderlib/objects.py', 'cinderlib/tests/unit/objects/test_volume.py', 'releasenotes/notes/fix-lvm-extend-e46b0eadf1cd59ec.yaml', 'cinderlib/tests/unit/persistence/test_memory.py', 'cinderlib/persistence/base.py', 'cinderlib/tests/functional/test_basic.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b7f27bb9c40e5937661872f645291ea432886851', 'message': ""Fix LVM extend volume\n\nWhen we try to extend an attached LVM volume after retrieving the volume\nmetadata from the persistent storage we get a TargetUpdateFailed\nexception cause by exception AttributeError: 'DB' object has no\nattribute 'volume_attachment_get_all_by_volume_id'.\n\nThis is caused by the LVM driver checking volume_attachment which is not\npopulated, which triggers a lazy loading on the OVO which calls a method\nin the DB layer that is not available in our fake DB instance.\n\nThis patch resolves this by replacing the get_all_by_volume_id method in\nthe VolumeAttachmentList OVO.\n\nClose-Bug: #1852629\nChange-Id: I7eade434b3d86e72678769f8ec929f66967d74e3\n""}]",0,694524,b7f27bb9c40e5937661872f645291ea432886851,10,3,2,9535,,,0,"Fix LVM extend volume

When we try to extend an attached LVM volume after retrieving the volume
metadata from the persistent storage we get a TargetUpdateFailed
exception cause by exception AttributeError: 'DB' object has no
attribute 'volume_attachment_get_all_by_volume_id'.

This is caused by the LVM driver checking volume_attachment which is not
populated, which triggers a lazy loading on the OVO which calls a method
in the DB layer that is not available in our fake DB instance.

This patch resolves this by replacing the get_all_by_volume_id method in
the VolumeAttachmentList OVO.

Close-Bug: #1852629
Change-Id: I7eade434b3d86e72678769f8ec929f66967d74e3
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/24/694524/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/objects.py', 'cinderlib/tests/unit/objects/test_volume.py', 'releasenotes/notes/fix-lvm-extend-e46b0eadf1cd59ec.yaml', 'cinderlib/tests/unit/persistence/test_memory.py', 'cinderlib/persistence/base.py', 'cinderlib/tests/functional/test_basic.py']",6,2125eb9c14b011bcd9f3c3e10d30dd01a888bb3f,bug/1852629, # Retrieve the volume from the persistence storage to ensure lazy # loading works. Prevent regression after fixing bug #1852629 vol_from_db = self.backend.persistence.get_volumes(vol.id) vol_from_db.extend(new_size), vol.extend(new_size),97,9
openstack%2Fcinder~stable%2Fstein~I0c26c400f08d91c8c125c69e06e4c90302bcdbb1,openstack/cinder,stable/stein,I0c26c400f08d91c8c125c69e06e4c90302bcdbb1,Increase cpu limit for image conversion,MERGED,2019-11-09 08:34:38.000000000,2019-12-03 19:57:51.000000000,2019-12-03 19:56:02.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 20146}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-09 08:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f38aeb181b753ac3b2090e274f1cf7a505cd29c', 'message': 'Increase cpu limit for image conversion\n\nThe 8 second timeout is not always sufficient for\nlarge images.\n\nBump to 30s, which matches what Nova currently\nuses for this same limit.\n\nChange-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1\nCloses-Bug: #1705340\n'}, {'number': 3, 'created': '2019-11-25 19:04:24.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/186fb25d049a2136eb71f9fece81903450b22890', 'message': 'Increase cpu limit for image conversion\n\nThe 8 second timeout is not always sufficient for\nlarge images.\n\nBump to 30s, which matches what Nova currently\nuses for this same limit.\n\nChange-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1\nCloses-Bug: #1705340\n(cherry picked from commit 3566c5145ad676c7eb5952807f3ef1c44c142b74)\n(cherry picked from commit fa6f7d3d319647bee17ebc9a390ae26c14f3650f)\n'}]",0,693610,186fb25d049a2136eb71f9fece81903450b22890,54,21,2,30523,,,0,"Increase cpu limit for image conversion

The 8 second timeout is not always sufficient for
large images.

Bump to 30s, which matches what Nova currently
uses for this same limit.

Change-Id: I0c26c400f08d91c8c125c69e06e4c90302bcdbb1
Closes-Bug: #1705340
(cherry picked from commit 3566c5145ad676c7eb5952807f3ef1c44c142b74)
(cherry picked from commit fa6f7d3d319647bee17ebc9a390ae26c14f3650f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/693610/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,6f38aeb181b753ac3b2090e274f1cf7a505cd29c,," cpu_time=30,"," cpu_time=8,",1,1
openstack%2Fopenstack-helm-infra~master~Ifd80a8d122dcbe145315b37753a72e1309e1d210,openstack/openstack-helm-infra,master,Ifd80a8d122dcbe145315b37753a72e1309e1d210,Nagios: Disable Nagios page tours by default,MERGED,2019-06-27 17:04:03.000000000,2019-12-03 19:55:25.000000000,2019-12-03 19:54:13.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28618}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-06-27 17:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdb6c8a60620a11aabfc7fa69ef89f93bd6216fc', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-02 15:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/33ae4e642b672aebf975e9c6e5608a8162d22316', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-07-03 16:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/282919b68b93743ea96260538fe4494c06de089c', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-07-08 13:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb83b9497bfb0078d9af6a6cc15f6a69afba8de1', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-10-17 17:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86af5a9a787309f866cccefb14b353fb35b1396e', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-10-21 14:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41e1b43ad77846cb4ffec67bd426494d1d4fd3b5', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-11-11 07:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87ea8eb9f9e1d166cfe21ef4ecb5358ab155cf98', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 8, 'created': '2019-11-14 19:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/164ef525fe155aee812f9f13d672ed7c17d884b6', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 9, 'created': '2019-12-02 13:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/feafe0a300ac293cb19243416e68e37c732abd78', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 10, 'created': '2019-12-03 14:48:41.000000000', 'files': ['nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c4404ee4d60dad0b99017b88888fddd387388a3', 'message': 'Nagios: Disable Nagios page tours by default\n\nThis disables the Nagios page tours option. This option is enabled\nby default, which results in a youtube video being overlaid on\neach Nagios page.\n\nChange-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667989,6c4404ee4d60dad0b99017b88888fddd387388a3,32,8,10,17591,,,0,"Nagios: Disable Nagios page tours by default

This disables the Nagios page tours option. This option is enabled
by default, which results in a youtube video being overlaid on
each Nagios page.

Change-Id: Ifd80a8d122dcbe145315b37753a72e1309e1d210
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/667989/2 && git format-patch -1 --stdout FETCH_HEAD,['nagios/values.yaml'],1,cdb6c8a60620a11aabfc7fa69ef89f93bd6216fc,disable-nagios-page-tour, enable_page_tour=0,,1,0
openstack%2Fos-brick~stable%2Frocky~I7ca0bf5fac20a370097f1c39ce005a1b23814459,openstack/os-brick,stable/rocky,I7ca0bf5fac20a370097f1c39ce005a1b23814459,Handle None value 'inititator_target_map',MERGED,2019-11-28 11:18:45.000000000,2019-12-03 19:52:09.000000000,2019-12-03 19:52:08.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 14624}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-11-28 11:18:45.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a15ede0f06ba441b3480354fb01191cde7a358a3', 'message': ""Handle None value 'inititator_target_map'\n\nShould check not only if 'initiator_target_map' is in conn_props but\nalso its value is not None.\n\nChange-Id: I7ca0bf5fac20a370097f1c39ce005a1b23814459\nCloses-Bug: #1746218\n(cherry picked from commit 53877a95bc9f4d40315f876c076a7a32817ea904)\n""}]",0,696521,a15ede0f06ba441b3480354fb01191cde7a358a3,22,11,1,9535,,,0,"Handle None value 'inititator_target_map'

Should check not only if 'initiator_target_map' is in conn_props but
also its value is not None.

Change-Id: I7ca0bf5fac20a370097f1c39ce005a1b23814459
Closes-Bug: #1746218
(cherry picked from commit 53877a95bc9f4d40315f876c076a7a32817ea904)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/21/696521/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py']",3,a15ede0f06ba441b3480354fb01191cde7a358a3,bug/1746218," def test__get_hba_channel_scsi_target_with_initiator_target_map(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info(zone_manager=True) con_props['target_wwn'] = con_props['target_wwn'][0] con_props['targets'] = con_props['targets'][0:1] hbas[0]['port_name'] = '50014380186af83e' with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map_none(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info() con_props['target_wwn'] = con_props['target_wwn'][0] con_props['targets'] = con_props['targets'][0:1] con_props['initiator_target_map'] = None hbas[0]['port_name'] = '50014380186af83e' with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) ",,37,3
openstack%2Ftripleo-ansible~stable%2Ftrain~I2893b77bb1c7811fbdbf0426e0a09f80b2179f54,openstack/tripleo-ansible,stable/train,I2893b77bb1c7811fbdbf0426e0a09f80b2179f54,"Fix for Ansible playbook error, variable is undefined",MERGED,2019-12-02 21:39:08.000000000,2019-12-03 19:49:31.000000000,2019-12-03 03:03:52.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-12-02 21:39:08.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/fqdn.j2', 'tripleo_ansible/roles/tripleo-hieradata/templates/net_ip_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df9858fd890474f2452a1765c7c3a6ac9b436881', 'message': 'Fix for Ansible playbook error, variable is undefined\n\nThis fixes the variable is undefined problem when deploying minions.\n\nChange-Id: I2893b77bb1c7811fbdbf0426e0a09f80b2179f54\nCloses-Bug: #1837644\n(cherry picked from commit b3985983110b97948b4060ee888c27495558f809)\n'}]",1,696968,df9858fd890474f2452a1765c7c3a6ac9b436881,10,5,1,14985,,,0,"Fix for Ansible playbook error, variable is undefined

This fixes the variable is undefined problem when deploying minions.

Change-Id: I2893b77bb1c7811fbdbf0426e0a09f80b2179f54
Closes-Bug: #1837644
(cherry picked from commit b3985983110b97948b4060ee888c27495558f809)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/696968/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-hieradata/templates/fqdn.j2', 'tripleo_ansible/roles/tripleo-hieradata/templates/net_ip_map.j2']",2,df9858fd890474f2452a1765c7c3a6ac9b436881,bug/1837644-stable/train,{% if network_cidrs is defined and ((network ~ '_cidr') in network_cidrs) %},{% if network_cidrs and ((network ~ '_cidr') in network_cidrs) %},2,2
openstack%2Ftripleo-quickstart~master~Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4,openstack/tripleo-quickstart,master,Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4,Include job.add_repos to repo_setup,MERGED,2019-12-02 17:19:59.000000000,2019-12-03 19:38:28.000000000,2019-12-03 19:36:41.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 17:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aa2d9429678cf6b7ebf9515bb2dcd134c7b4063c', 'message': 'DNM: Testing job.add_repos\n\nChange-Id: Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4\n'}, {'number': 2, 'created': '2019-12-02 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bbe6968a147e0cf22acc80b72448220328f8312f', 'message': 'DNM: Testing job.add_repos\n\nChange-Id: Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4\n'}, {'number': 3, 'created': '2019-12-02 19:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b0b388a0ddd5ec943f1c9557e78d1ce059f9dbfb', 'message': 'DNM: Testing job.add_repos\n\nChange-Id: Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4\n'}, {'number': 4, 'created': '2019-12-02 19:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/30c35d1edf01617b1535c6b44bcfc0c016c86dee', 'message': 'Include job.add_repos to repo_setup\n\nAdditional repos can be defined at a job level.\nThis patch allows the repos defined in the zuul\njob to be added to the repo_setup role\nfunctionality.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1376\nChange-Id: Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4\n'}, {'number': 5, 'created': '2019-12-03 13:27:14.000000000', 'files': ['roles/repo-setup/templates/repo_setup.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/506531a5f5653d8ad0d4dba3012f344fcb320f7a', 'message': 'Include job.add_repos to repo_setup\n\nAdditional repos can be defined at a job level.\nThis patch allows the repos defined in the zuul\njob to be added to the repo_setup role\nfunctionality.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/1376\nChange-Id: Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4\n'}]",2,696933,506531a5f5653d8ad0d4dba3012f344fcb320f7a,20,9,5,9976,,,0,"Include job.add_repos to repo_setup

Additional repos can be defined at a job level.
This patch allows the repos defined in the zuul
job to be added to the repo_setup role
functionality.

Story: https://tree.taiga.io/project/tripleo-ci-board/us/1376
Change-Id: Idbdb57bbf9db6ce06f17d1f3d58d1f7df50601e4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/696933/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/tasks/main.yml'],1,aa2d9429678cf6b7ebf9515bb2dcd134c7b4063c,add-component-repo,"- set_fact: add_repos: ""{{ add_repos + job.add_repos }}"" cacheable: true when: job.add_repos is defined ",,5,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Iaf19e1550bd7a5286b8512596efd84cf14c78f32,openstack/tripleo-heat-templates,stable/queens,Iaf19e1550bd7a5286b8512596efd84cf14c78f32,"Fix sed in run-os-net-config to only replace values, not keys",MERGED,2019-12-03 13:24:22.000000000,2019-12-03 19:36:40.000000000,2019-12-03 19:36:40.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 13:24:22.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29d8b9364e79969047521c3ed55cd5b444c2238f', 'message': 'Fix sed in run-os-net-config to only replace values, not keys\n\nThe sed in run-os-net-config.sh replaces all instances of bridge_name\nbut it should only replace values, not keys.\n\nChange-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32\nCloses-bug: #1854780\n(cherry picked from commit 858cc6c54f690058ce28b0832870df875a7923e9)\n'}]",0,697083,29d8b9364e79969047521c3ed55cd5b444c2238f,8,4,1,13995,,,0,"Fix sed in run-os-net-config to only replace values, not keys

The sed in run-os-net-config.sh replaces all instances of bridge_name
but it should only replace values, not keys.

Change-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32
Closes-bug: #1854780
(cherry picked from commit 858cc6c54f690058ce28b0832870df875a7923e9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/697083/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,29d8b9364e79969047521c3ed55cd5b444c2238f,fix-sed-stable/queens," sed -i ""s/: \""bridge_name/: \""${bridge_name:-''}/"" /etc/os-net-config/config.json"," sed -i ""s/bridge_name/${bridge_name:-''}/"" /etc/os-net-config/config.json",1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iaf19e1550bd7a5286b8512596efd84cf14c78f32,openstack/tripleo-heat-templates,stable/stein,Iaf19e1550bd7a5286b8512596efd84cf14c78f32,"Fix sed in run-os-net-config to only replace values, not keys",MERGED,2019-12-03 13:11:21.000000000,2019-12-03 19:35:02.000000000,2019-12-03 19:35:02.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 13:11:21.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb9faedad5aa04a4abf3e589cf5f2f7def454ae6', 'message': 'Fix sed in run-os-net-config to only replace values, not keys\n\nThe sed in run-os-net-config.sh replaces all instances of bridge_name\nbut it should only replace values, not keys.\n\nChange-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32\nCloses-bug: #1854780\n(cherry picked from commit 858cc6c54f690058ce28b0832870df875a7923e9)\n'}]",0,697079,eb9faedad5aa04a4abf3e589cf5f2f7def454ae6,8,4,1,13995,,,0,"Fix sed in run-os-net-config to only replace values, not keys

The sed in run-os-net-config.sh replaces all instances of bridge_name
but it should only replace values, not keys.

Change-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32
Closes-bug: #1854780
(cherry picked from commit 858cc6c54f690058ce28b0832870df875a7923e9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/697079/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,eb9faedad5aa04a4abf3e589cf5f2f7def454ae6,fix-sed-stable/stein," sed -i ""s/: \""bridge_name/: \""${bridge_name:-''}/"" /etc/os-net-config/config.json"," sed -i ""s/bridge_name/${bridge_name:-''}/"" /etc/os-net-config/config.json",1,1
openstack%2Fopenstack-ansible-os_nova~master~I9656f9cf65f371a9640c387b5e5d815bf2062a5f,openstack/openstack-ansible-os_nova,master,I9656f9cf65f371a9640c387b5e5d815bf2062a5f,Readd some distro packages,MERGED,2019-12-02 17:15:26.000000000,2019-12-03 19:32:41.000000000,2019-12-03 18:45:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-02 17:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/fc85185bcac3929d130239e0ad85854b81214164', 'message': 'Readd some QEMU distro packages\n\nReturn required CentOS packages to build corret venv and\nto have virsh CLI tool installed.\n\nChange-Id: I9656f9cf65f371a9640c387b5e5d815bf2062a5f\n'}, {'number': 2, 'created': '2019-12-02 17:16:20.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/253a2ff610ccdd09952557747bbe5354676ccbec', 'message': 'Readd some distro packages\n\nReturn required CentOS packages to build corret venv and\nto have virsh CLI tool installed.\n\nChange-Id: I9656f9cf65f371a9640c387b5e5d815bf2062a5f\n'}]",0,696932,253a2ff610ccdd09952557747bbe5354676ccbec,13,4,2,28619,,,0,"Readd some distro packages

Return required CentOS packages to build corret venv and
to have virsh CLI tool installed.

Change-Id: I9656f9cf65f371a9640c387b5e5d815bf2062a5f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/32/696932/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,fc85185bcac3929d130239e0ad85854b81214164,osa-train, - systemd-devel - libvirt-client,,2,0
openstack%2Fheat~master~I8dda44f419cd35eb6aa6cdb6dedd3763be45bd3d,openstack/heat,master,I8dda44f419cd35eb6aa6cdb6dedd3763be45bd3d,add test files,ABANDONED,2018-12-28 08:53:56.000000000,2019-12-03 19:24:15.000000000,,"[{'_account_id': 4257}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-12-28 08:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9e43379e1db321055671f8df1e9dc6e6bf18bda9', 'message': 'Change tenant_id to project_id in octavia because octavia not accept tenant_id\n\nChange-Id: I8dda44f419cd35eb6aa6cdb6dedd3763be45bd3d\n'}, {'number': 2, 'created': '2018-12-28 11:44:53.000000000', 'files': ['heat/engine/resources/openstack/octavia/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ea3d382021410a554e7d45543c97e2dc9ee0c5b9', 'message': 'add test files\n\nChange-Id: I8dda44f419cd35eb6aa6cdb6dedd3763be45bd3d\n'}]",0,627615,ea3d382021410a554e7d45543c97e2dc9ee0c5b9,9,4,2,29734,,,0,"add test files

Change-Id: I8dda44f419cd35eb6aa6cdb6dedd3763be45bd3d
",git fetch https://review.opendev.org/openstack/heat refs/changes/15/627615/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/octavia/loadbalancer.py'],1,9e43379e1db321055671f8df1e9dc6e6bf18bda9,octavia_deprecated_property," ADMIN_STATE_UP, PROJECT_ID 'admin_state_up', 'project_id' PROJECT_ID: properties.Schema( _('The ID of the project who owns the Load Balancer. Only ' 'administrative users can specify a project ID other than '"," ADMIN_STATE_UP, TENANT_ID 'admin_state_up', 'tenant_id' TENANT_ID: properties.Schema( _('The ID of the tenant who owns the Load Balancer. Only ' 'administrative users can specify a tenant ID other than '",5,5
openstack%2Fheat~master~I190704679a5ee0f90c0839c839bca830d65e60fd,openstack/heat,master,I190704679a5ee0f90c0839c839bca830d65e60fd,Update mailinglist from dev to discuss,ABANDONED,2018-12-18 06:51:37.000000000,2019-12-03 19:23:16.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25067}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-12-18 06:51:37.000000000', 'files': ['contrib/heat_docker/setup.cfg', 'doc/source/developing_guides/pluginguide.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/a704f3d1cb4ad6ccbb819aa62761b3c74a3d8bd9', 'message': 'Update mailinglist from dev to discuss\n\nopenstack-dev was decomissioned this night in https://review.openstack.org/621258\nUpdate openstack-dev to openstack-discuss\n\nChange-Id: I190704679a5ee0f90c0839c839bca830d65e60fd\n'}]",0,625809,a704f3d1cb4ad6ccbb819aa62761b3c74a3d8bd9,7,4,1,25067,,,0,"Update mailinglist from dev to discuss

openstack-dev was decomissioned this night in https://review.openstack.org/621258
Update openstack-dev to openstack-discuss

Change-Id: I190704679a5ee0f90c0839c839bca830d65e60fd
",git fetch https://review.opendev.org/openstack/heat refs/changes/09/625809/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/heat_docker/setup.cfg', 'doc/source/developing_guides/pluginguide.rst']",2,a704f3d1cb4ad6ccbb819aa62761b3c74a3d8bd9,update_mailinglist,<mailto:openstack-discuss@lists.openstack.org>`_ mailing list to discuss the,<mailto:openstack-dev@lists.openstack.org>`_ mailing list to discuss the,2,2
openstack%2Fproject-config~master~I5673adce8f92994a17e8601f6a41a597f1ba7716,openstack/project-config,master,I5673adce8f92994a17e8601f6a41a597f1ba7716,Import openstacksdk and dib into zuul tenant,MERGED,2019-12-02 10:33:11.000000000,2019-12-03 19:22:46.000000000,2019-12-03 19:22:46.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 10:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8f4ffdfac75e68d0b4564497460db36d22b7d933', 'message': ""Import openstacksdk and dib into zuul tenant\n\nThis is a follow-on from I334edb00071031483f5a3e4b4715f773c0f261b1\n\nIn that change, we brought in the openstacksdk and dib projects into\nthe opendev tenant so jobs in https://review.opendev.org/696000 could\nuse them as required-projects.\n\nNow, in change https://review.opendev.org/696486 we wish to use these\njobs in zuul/nodepool.  It currently fails with a rather cryptic\n\n This change depends on a change with an invalid configuration.\n\nbut I believe it is because these required-projects are not available.\n\nNote this is not quite the same as\nI5696ceecbab8a8b7f95c023ebb3f422d8acf3575 which we reverted with\nI6d5e668bee9e37b96578f4f319db79fb30526682, since there we imported all\nthe jobs from openstacksdk, which led to 50+ errors about job\ndependencies missing.  This only imports the projects for\nrequired-projects.\n\nI have removed the diskimage-builder from the job import section,\nbecause I do not believe we use this any more.  This was when the\nnodepool functional tests were defined in dib, but they have moved to\nbe defined inside nodepool.  nodepool doesn't run any of the jobs\ndefined by diskimage-builder (in fact the opposite, dib runs the\nnodepool jobs).\n\nChange-Id: I5673adce8f92994a17e8601f6a41a597f1ba7716\n""}, {'number': 2, 'created': '2019-12-03 10:04:56.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d553ebad1e4bb2087014a347e803f93229957f8d', 'message': ""Import openstacksdk and dib into zuul tenant\n\nWe are working on having our docker container builds be able to\ninstall sibling packages.  To make nodepool jobs to build images with\ndib/openstacksdk as required-projects: we need to import them.\n\nI have removed the diskimage-builder from the full job import section,\nbecause I do not believe we use this any more.  This was when the\nnodepool functional tests were defined in dib, but they have moved to\nbe defined inside nodepool.  nodepool doesn't run any of the jobs\ndefined by diskimage-builder (in fact the opposite, dib runs the\nnodepool jobs).\n\nChange-Id: I5673adce8f92994a17e8601f6a41a597f1ba7716\n""}]",0,696859,d553ebad1e4bb2087014a347e803f93229957f8d,11,4,2,7118,,,0,"Import openstacksdk and dib into zuul tenant

We are working on having our docker container builds be able to
install sibling packages.  To make nodepool jobs to build images with
dib/openstacksdk as required-projects: we need to import them.

I have removed the diskimage-builder from the full job import section,
because I do not believe we use this any more.  This was when the
nodepool functional tests were defined in dib, but they have moved to
be defined inside nodepool.  nodepool doesn't run any of the jobs
defined by diskimage-builder (in fact the opposite, dib runs the
nodepool jobs).

Change-Id: I5673adce8f92994a17e8601f6a41a597f1ba7716
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/696859/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,8f4ffdfac75e68d0b4564497460db36d22b7d933,docker-siblings, - openstack/diskimage-builder - openstack/openstacksdk, - openstack/diskimage-builder,2,1
openstack%2Fheat~master~Iafaade038826e0442cdd0e2877095d0a1945f124,openstack/heat,master,Iafaade038826e0442cdd0e2877095d0a1945f124,Provide trust_id to subscription options,ABANDONED,2018-09-06 19:57:16.000000000,2019-12-03 19:21:48.000000000,,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-09-06 19:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bed0ee108facb6671346996735cc652ff9964e70', 'message': 'Provide trust_id to subscription options\n\nWithout providing trust_id, zaqar will try to use token from heat\nand generate trust for subscription.\nBut in ASG, token was generated by trust when perform auto scale.\nThis will case No Authorized error since trust should not generate\nanother trust.\n\nPassing trust_id (if any) into subscription options to zaqar will\nallow zaqar to reuse that trust_id instead of generate a new one.\n\nThis will change for both `OS::Zaqar::Subscription` and\n`OS::Zaqar::MistralTrigger`.\n\nChange-Id: Iafaade038826e0442cdd0e2877095d0a1945f124\nStory: #2003690\nTask: #26225\n'}, {'number': 2, 'created': '2019-02-02 18:45:20.000000000', 'files': ['heat/tests/openstack/zaqar/test_subscription.py', 'heat/engine/resources/openstack/zaqar/subscription.py', 'heat/scaling/scalingutil.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/47bfea12473b080ded1fccc607ade9e55f844659', 'message': 'Provide trust_id to subscription options\n\nWithout providing trust_id, zaqar will try to use token from heat\nand generate trust for subscription.\nBut in ASG, token was generated by trust when perform auto scale.\nThis will case No Authorized error since trust should not generate\nanother trust.\n\nPassing trust_id (if any) into subscription options to zaqar will\nallow zaqar to reuse that trust_id instead of generate a new one.\n\nThis will change for both `OS::Zaqar::Subscription` and\n`OS::Zaqar::MistralTrigger`.\n\nChange-Id: Iafaade038826e0442cdd0e2877095d0a1945f124\nStory: #2003690\nTask: #26225\n'}]",3,600541,47bfea12473b080ded1fccc607ade9e55f844659,12,5,2,12404,,,0,"Provide trust_id to subscription options

Without providing trust_id, zaqar will try to use token from heat
and generate trust for subscription.
But in ASG, token was generated by trust when perform auto scale.
This will case No Authorized error since trust should not generate
another trust.

Passing trust_id (if any) into subscription options to zaqar will
allow zaqar to reuse that trust_id instead of generate a new one.

This will change for both `OS::Zaqar::Subscription` and
`OS::Zaqar::MistralTrigger`.

Change-Id: Iafaade038826e0442cdd0e2877095d0a1945f124
Story: #2003690
Task: #26225
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/600541/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/zaqar/test_subscription.py', 'heat/engine/resources/openstack/zaqar/subscription.py', 'heat/scaling/scalingutil.py']",3,bed0ee108facb6671346996735cc652ff9964e70,story/2003690, from applying the given adjustment of the given adjustment-type. The, from applying the given adjustment of the given adjustment-type. The,55,13
openstack%2Fheat~master~I1949cbfde0a091facac594e6366758ec7002b508,openstack/heat,master,I1949cbfde0a091facac594e6366758ec7002b508,Remove -u root as mysql is executed with root user,ABANDONED,2018-08-20 00:53:21.000000000,2019-12-03 19:21:20.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-08-20 00:53:21.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/afeafe42d1872581e6d5e89540b483012c0819a7', 'message': 'Remove -u root as mysql is executed with root user\n\nAs openstack installation guides suggest to run mysql with root shell\nuser, mysql will not ask for password, so in\ncontroller-install-*.rst ""-u root -p"" is useless.\n\nChange-Id: I1949cbfde0a091facac594e6366758ec7002b508\nRelated-Bug: #1785025\n'}]",0,593460,afeafe42d1872581e6d5e89540b483012c0819a7,5,3,1,16523,,,0,"Remove -u root as mysql is executed with root user

As openstack installation guides suggest to run mysql with root shell
user, mysql will not ask for password, so in
controller-install-*.rst ""-u root -p"" is useless.

Change-Id: I1949cbfde0a091facac594e6366758ec7002b508
Related-Bug: #1785025
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/593460/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",3,afeafe42d1872581e6d5e89540b483012c0819a7,bug/1785025, # mysql, $ mysql -u root -p,3,3
openstack%2Fheat~master~I14dbdd2177f6c2ca7dcdf919954e3f931244bd83,openstack/heat,master,I14dbdd2177f6c2ca7dcdf919954e3f931244bd83,fix function list_stack_resources.,ABANDONED,2018-08-21 04:33:22.000000000,2019-12-03 19:20:10.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-08-21 04:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f66bc1b760701e654866c96f3b9174129f8d93af', 'message': 'fix function list_stack_resources,to make this\nfunction can distinguish the resource type like\n""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 2, 'created': '2018-08-21 05:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/591bdece5bccc4ec769121c6476652d570ea467d', 'message': 'fix function list_stack_resources,to make this\nfunction can distinguish the resource type like\n""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 3, 'created': '2018-08-21 05:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ff3a11df4211dca5702639a53705dbbc2ab6a768', 'message': 'fix function list_stack_resources,to make this function can distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 4, 'created': '2018-08-21 05:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9713948e26bd3b94e2d9abd966d23d0f2e5ce6f8', 'message': 'fix function list_stack_resources.\nThis comiit uses to make function list_stack_resource\ncan distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 5, 'created': '2018-08-21 05:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b127857f92f546e4d934600b9965d9b6d85c8fe8', 'message': 'fix function list_stack_resources.\nThis commit uses to make function list_stack_resource\ncan distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 6, 'created': '2018-09-04 07:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0d9265a0b329ba29e3ead15d8566e6d5d8164ba9', 'message': 'Closes-Bug: #2003621\nfix function list_stack_resources.\nThis commit uses to make function list_stack_resource\ncan distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 7, 'created': '2018-09-04 08:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c2507174552820fbc637a3be6d60efc3a5e47085', 'message': 'Story: #2003621\nTask: #25750\nfix function list_stack_resources.\nThis commit uses to make function list_stack_resource\ncan distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 8, 'created': '2018-09-04 08:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/91ad912ca79b829a6ab56787db9bad045f973ca6', 'message': 'fix function list_stack_resources.\nThis commit uses to make function list_stack_resource\ncan distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nStory: #2003621\nTask: #25750\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\n'}, {'number': 9, 'created': '2018-09-05 06:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8980f973054e84d4ef8baa44bfa9d1c36e29eab7', 'message': 'fix function list_stack_resources.\nThis commit uses to make function list_stack_resource\ncan distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\nStory: #2003dd621\nTask: #25750\n'}, {'number': 10, 'created': '2018-09-05 07:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c9bff3f14f3d57754a8a62171f77f1a0e1a6e397', 'message': 'fix function list_stack_resources.\nThis commit uses to fix function list_stack_resource, and then this function can distinguish the resource type like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\nStory: #2003dd621\nTask: #25750\n'}, {'number': 11, 'created': '2018-09-05 07:59:46.000000000', 'files': ['heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/10b80ff4248629ef21514cef3f891915de96328c', 'message': 'fix function list_stack_resources.\n\nThis commit uses to fix function list_stack_resource,\nand then this function can distinguish the resource type\nlike ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".\n\nChange-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83\nStory: #2003621\nTask: #25750\n'}]",1,594002,10b80ff4248629ef21514cef3f891915de96328c,18,4,11,26678,,,0,"fix function list_stack_resources.

This commit uses to fix function list_stack_resource,
and then this function can distinguish the resource type
like ""OS::Nova::Server"" and ""OS::Nova::ServerGroup"".

Change-Id: I14dbdd2177f6c2ca7dcdf919954e3f931244bd83
Story: #2003621
Task: #25750
",git fetch https://review.opendev.org/openstack/heat refs/changes/02/594002/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service.py'],1,f66bc1b760701e654866c96f3b9174129f8d93af,fix_filter_resource_list, if res_type != res.type():, if res_type not in res.type():,1,1
openstack%2Fheat~master~Ied24c948c07c182970957a40beae2c09a2e66a98,openstack/heat,master,Ied24c948c07c182970957a40beae2c09a2e66a98,Add release notes to readme.rst,ABANDONED,2018-08-15 07:44:32.000000000,2019-12-03 19:18:32.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27383}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-08-15 07:44:32.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/a7c576f9af2f1c77077598129abc268e2d9e129e', 'message': 'Add release notes to readme.rst\n\nChange-Id: Ied24c948c07c182970957a40beae2c09a2e66a98\n'}]",0,591942,a7c576f9af2f1c77077598129abc268e2d9e129e,7,4,1,27383,,,0,"Add release notes to readme.rst

Change-Id: Ied24c948c07c182970957a40beae2c09a2e66a98
",git fetch https://review.opendev.org/openstack/heat refs/changes/42/591942/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a7c576f9af2f1c77077598129abc268e2d9e129e,r_notes, Release notes ------------------------ * https://docs.openstack.org/releasenotes/heat/,,4,0
openstack%2Fheat~master~Ibadc5cc3c14544e97efe119a4b070134f4973918,openstack/heat,master,Ibadc5cc3c14544e97efe119a4b070134f4973918,add a representative tripleo check job,ABANDONED,2018-07-31 20:46:15.000000000,2019-12-03 19:17:49.000000000,,"[{'_account_id': 3153}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-07-31 20:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/191066e3dec6fad6c38aa4c7734794b09249d2b0', 'message': 'add a representative tripleo check job\n\nHeat is a major part of TripleO. Both\nprojects may benefit from a check job that\ntests the latest heat changes against TripleO.\n\nChange-Id: Ibadc5cc3c14544e97efe119a4b070134f4973918\n'}, {'number': 2, 'created': '2018-07-31 20:51:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/6a125f6a2a54ca6ca34fdd7398b82dd3b9a5f17f', 'message': 'add a representative tripleo check job\n\nHeat is a major part of TripleO. Both\nprojects may benefit from a check job that\ntests the latest heat changes against TripleO.\n\nRelated-Bug: #1784712\nChange-Id: Ibadc5cc3c14544e97efe119a4b070134f4973918\n'}]",3,587619,6a125f6a2a54ca6ca34fdd7398b82dd3b9a5f17f,10,8,2,9592,,,0,"add a representative tripleo check job

Heat is a major part of TripleO. Both
projects may benefit from a check job that
tests the latest heat changes against TripleO.

Related-Bug: #1784712
Change-Id: Ibadc5cc3c14544e97efe119a4b070134f4973918
",git fetch https://review.opendev.org/openstack/heat refs/changes/19/587619/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,191066e3dec6fad6c38aa4c7734794b09249d2b0,, - tripleo-ci-centos-7-scenario003-multinode-oooq-container,,1,0
openstack%2Foctavia~master~I468d9fdf8c9d0898f9e30f04ac233510a10a53fc,openstack/octavia,master,I468d9fdf8c9d0898f9e30f04ac233510a10a53fc,Availability Zone admin API,MERGED,2019-11-12 04:15:13.000000000,2019-12-03 19:16:27.000000000,2019-12-03 19:14:58.000000000,"[{'_account_id': 3031}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 04:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/04c8599db071e337b3b3f571239df55a328955b6', 'message': 'WIP: Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zone records\nfor use with upcoming functionality.\n\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 2, 'created': '2019-11-12 05:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/447596b0c0955811b4366034b4986fc0a24a41b7', 'message': 'WIP: Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zone records\nfor use with upcoming functionality.\n\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 3, 'created': '2019-11-13 02:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/30552c0eb8ebad54de5e768c1c5d882324919a44', 'message': 'WIP: Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zone records\nfor use with upcoming functionality. Works like flavors.\n\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 4, 'created': '2019-11-13 11:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8e8477e3dd1a76472d81ed68c30dfd4d88ea6a3', 'message': 'WIP: Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zone records\nfor use with upcoming functionality. Works like flavors.\n\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 5, 'created': '2019-11-13 13:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/865742da2318c66bff2ed5ebe2d04459eef620b1', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 6, 'created': '2019-11-13 16:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1c3c767a547529bbb38c7922b15c914202ef4e79', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 7, 'created': '2019-11-15 02:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa670584436c73f21c0ba216609f239fd0c3d772', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 8, 'created': '2019-11-16 08:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/29d055e6928ef14e5d570ec39a84ecaf91ab3c99', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 9, 'created': '2019-11-17 20:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f6603796f4fbc54dc63b324f1ad7f60ec113d86d', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 10, 'created': '2019-11-18 01:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56d2dd925dda2f1164af4322df9fe29f500ac78e', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 11, 'created': '2019-11-18 15:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/143935db129adbcd8debd28e7f603994b4daf4b7', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 12, 'created': '2019-11-18 15:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c71eb42c46c00df2a51ea285aa28eaefdfd8761', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 13, 'created': '2019-11-22 06:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/283a92d39e36959ff2546cdf9de64243cd181293', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 14, 'created': '2019-11-22 06:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ad34b788eb54bf9b58c2995cdda3c5895cd168c5', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}, {'number': 15, 'created': '2019-11-22 17:49:48.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/v2/examples/provider-availability-zone-capability-show-curl', 'octavia/db/base_models.py', 'api-ref/source/v2/examples/availabilityzone-show-response.json', 'api-ref/source/v2/availabilityzone.inc', 'octavia/tests/functional/api/test_root_controller.py', 'api-ref/source/v2/examples/availabilityzone-list-response.json', 'api-ref/source/v2/examples/availabilityzoneprofile-update-response.json', 'api-ref/source/v2/examples/availabilityzoneprofile-update-request.json', 'api-ref/source/v2/examples/provider-availability-zone-capability-show-response.json', 'octavia/common/constants.py', 'octavia/policies/availability_zone_profile.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'api-ref/source/v2/examples/availabilityzone-update-response.json', 'api-ref/source/v2/examples/availabilityzoneprofile-create-curl', 'api-ref/source/v2/examples/availabilityzone-create-response.json', 'octavia/api/v2/controllers/base.py', 'octavia/api/drivers/amphora_driver/availability_zone_schema.py', 'octavia/compute/drivers/noop_driver/driver.py', 'octavia/db/migration/alembic_migrations/versions/c761c8a71579_add_availability_zone_table.py', 'octavia/policies/flavor.py', 'octavia/api/v2/types/availability_zone_profile.py', 'octavia/compute/compute_base.py', 'octavia/db/models.py', 'api-ref/source/v2/examples/availabilityzoneprofile-create-response.json', 'api-ref/source/v2/examples/availabilityzoneprofile-update-curl', 'api-ref/source/v2/examples/availabilityzone-show-curl', 'api-ref/source/v2/index.rst', 'octavia/tests/functional/api/v2/test_flavors.py', 'api-ref/source/v2/examples/availabilityzone-list-curl', 'octavia/api/v2/types/provider.py', 'api-ref/source/v2/examples/availabilityzoneprofile-create-request.json', 'api-ref/source/v2/examples/availabilityzoneprofile-show-response.json', 'api-ref/source/v2/flavor.inc', 'octavia/tests/functional/db/test_repositories.py', 'api-ref/source/v2/flavorprofile.inc', 'octavia/common/data_models.py', 'octavia/tests/unit/api/v2/types/test_availability_zone_profiles.py', 'octavia/api/drivers/noop_driver/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'api-ref/source/v2/availabilityzoneprofile.inc', 'octavia/policies/provider_availability_zone.py', 'octavia/policies/provider_flavor.py', 'api-ref/source/v2/examples/availabilityzone-delete-curl', 'octavia/api/v2/controllers/availability_zones.py', 'api-ref/source/v2/examples/availabilityzoneprofile-list-curl', 'api-ref/source/v2/examples/availabilityzoneprofile-show-curl', 'octavia/api/v2/controllers/__init__.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/tests/functional/api/v2/base.py', 'api-ref/source/v2/examples/availabilityzone-update-curl', 'octavia/api/v2/types/availability_zones.py', 'octavia/tests/functional/api/v2/test_flavor_profiles.py', 'api-ref/source/v2/examples/availabilityzone-create-request.json', 'api-ref/source/v2/examples/availabilityzoneprofile-delete-curl', 'octavia/policies/flavor_profile.py', 'octavia/db/repositories.py', 'octavia/tests/unit/compute/drivers/test_compute_noop_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/policies/__init__.py', 'api-ref/source/v2/examples/availabilityzone-update-request.json', 'octavia/policies/availability_zone.py', 'releasenotes/notes/availability-zone-api-a28ff5e00bdcc69a.yaml', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/functional/api/v2/test_availability_zone_profiles.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'api-ref/source/v2/examples/availabilityzone-create-curl', 'octavia/api/v2/controllers/provider.py', 'octavia/api/v2/controllers/availability_zone_profiles.py', 'octavia/tests/unit/api/v2/types/test_availability_zones.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'api-ref/source/v2/examples/availabilityzoneprofile-list-response.json', 'octavia/tests/functional/db/base.py', 'octavia/api/root_controller.py', 'api-ref/source/v2/provider.inc', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8ae6bc3697434aa2c8676afbff3d4938676a35a5', 'message': 'Availability Zone admin API\n\nAdds the ability for admins to create/manage availability_zones\nand profiles for use with upcoming functionality. Works like flavors.\n\nDepends-On: https://review.opendev.org/#/c/694057/\nChange-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc\n'}]",50,693765,8ae6bc3697434aa2c8676afbff3d4938676a35a5,55,5,15,10273,,,0,"Availability Zone admin API

Adds the ability for admins to create/manage availability_zones
and profiles for use with upcoming functionality. Works like flavors.

Depends-On: https://review.opendev.org/#/c/694057/
Change-Id: I468d9fdf8c9d0898f9e30f04ac233510a10a53fc
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/693765/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/base_models.py', 'octavia/api/v2/controllers/availability_zones.py', 'octavia/db/models.py', 'octavia/api/v2/controllers/__init__.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/api/v2/types/availability_zone.py', 'octavia/common/data_models.py', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/api/root_controller.py', 'octavia/policies/__init__.py', 'octavia/policies/availability_zone.py', 'octavia/api/v2/controllers/base.py', 'octavia/db/migration/alembic_migrations/versions/c761c8a71579_add_availability_zone_table.py']",15,04c8599db071e337b3b3f571239df55a328955b6,octavia-availability-zones,"# Copyright 2017 Walmart Stores Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""add availability_zone table Revision ID: c761c8a71579 Revises: dcf88e59aae4 Create Date: 2019-11-11 18:53:15.428386 """""" from alembic import op import sqlalchemy as sa # revision identifiers, used by Alembic. revision = 'c761c8a71579' down_revision = 'dcf88e59aae4' def upgrade(): op.create_table( u'availability_zone', sa.Column(u'id', sa.String(36), nullable=False), sa.Column(u'name', sa.String(255), nullable=False), sa.Column(u'compute_zone', sa.String(255), nullable=False), sa.Column(u'management_network', sa.String(36), nullable=False), sa.PrimaryKeyConstraint(u'id'), sa.UniqueConstraint(u'name', name=u'uq_availability_zone_name')) ",,970,4
openstack%2Fheat~master~Ifcc9366d85efee5ea2bab2a134391e6614753a67,openstack/heat,master,Ifcc9366d85efee5ea2bab2a134391e6614753a67,Add release notes link in README,ABANDONED,2018-07-10 07:35:49.000000000,2019-12-03 19:14:08.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-07-10 07:35:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/a55c8d6a214fca45c73c912f347ececb281e0f5d', 'message': 'Add release notes link in README\n\nChange-Id: Ifcc9366d85efee5ea2bab2a134391e6614753a67\n'}]",0,581233,a55c8d6a214fca45c73c912f347ececb281e0f5d,5,3,1,28427,,,0,"Add release notes link in README

Change-Id: Ifcc9366d85efee5ea2bab2a134391e6614753a67
",git fetch https://review.opendev.org/openstack/heat refs/changes/33/581233/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a55c8d6a214fca45c73c912f347ececb281e0f5d,add_release_notes,* Release notes: https://docs.openstack.org/releasenotes/heat/,,1,0
openstack%2Fheat~master~I8561a0eb01550e6fee89d81ae71e763850592ef6,openstack/heat,master,I8561a0eb01550e6fee89d81ae71e763850592ef6,add release notes to README.rst,ABANDONED,2018-06-14 07:30:09.000000000,2019-12-03 19:12:12.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-06-14 07:30:09.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/61896e0fe0090b49ae4ed2e1578f773b22fdcf84', 'message': 'add release notes to README.rst\n\nChange-Id: I8561a0eb01550e6fee89d81ae71e763850592ef6\n'}]",0,575350,61896e0fe0090b49ae4ed2e1578f773b22fdcf84,5,3,1,27370,,,0,"add release notes to README.rst

Change-Id: I8561a0eb01550e6fee89d81ae71e763850592ef6
",git fetch https://review.opendev.org/openstack/heat refs/changes/50/575350/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,61896e0fe0090b49ae4ed2e1578f773b22fdcf84,6141,* Release notes: https://docs.openstack.org/releasenotes/heat/,,1,0
openstack%2Fheat~master~I9068db11450f52f9461567649fcff293423242d6,openstack/heat,master,I9068db11450f52f9461567649fcff293423242d6,Add value_specs to some Neutron resources,ABANDONED,2018-02-07 16:41:37.000000000,2019-12-03 19:08:51.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 24919}, {'_account_id': 27248}, {'_account_id': 27427}, {'_account_id': 27796}]","[{'number': 1, 'created': '2018-02-07 16:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/565aa74618c636d6d466a745534293742c96f607', 'message': '[WIP] Generalize value_specs in Neutron resources\n\nThe property `value_specs` is lifted from a few (seemingly) random\nNeutron resources to their base class. Only FloatingIP creates the\n`value_specs` property by itself for backwards compatibility.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 2, 'created': '2018-02-08 10:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cf250412827d20cdadafda63ca3d2286b18fb10a', 'message': '[WIP] Generalize value_specs in Neutron resources\n\nThe property `value_specs` is lifted from a few (seemingly) random\nNeutron resources to their base class. Only FloatingIP creates the\n`value_specs` property by itself for backwards compatibility.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 3, 'created': '2018-02-19 16:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/88052f2f7920ec194b013e982507a5cc43d3bdd5', 'message': 'Add value_specs to all Neutron resources\n\nThe property `value_specs` is currently only present in a few\n(seemingly) random Neutron resources. We add the `value_specs`\nproperty to all Neutron resources.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 4, 'created': '2018-02-19 17:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/61a3f613288cf1889d2b0aa15821ddd18dda0078', 'message': 'Add value_specs to all Neutron resources\n\nThe property `value_specs` is currently only present in a few\n(seemingly) random Neutron resources. We add the `value_specs`\nproperty to all Neutron resources.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 5, 'created': '2018-02-20 14:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92d8e7af4fb2007a6119bbbcb4bb3e8820137fdd', 'message': 'Add value_specs to all Neutron resources\n\nThe property `value_specs` is currently only present in a few Neutron\nresources. We add the `value_specs` property to all Neutron resources\nwhich are extended by the standard attribute extensions.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 6, 'created': '2018-02-20 14:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/459acd49d91cac0f514036aa0044ca3d3f931ddc', 'message': 'Add value_specs to all Neutron resources\n\nThe property `value_specs` is currently only present in a few\n(seemingly) random Neutron resources. We add the `value_specs`\nproperty to all Neutron resources.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 7, 'created': '2018-02-20 14:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0811cb8c442965ed402cd12f6322ab8eed4c71b0', 'message': 'Add value_specs to all Neutron resources\n\nThe property `value_specs` is currently only present in a few\n(seemingly) random Neutron resources. We add the `value_specs`\nproperty to all Neutron resources.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 8, 'created': '2018-02-20 14:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/83961ea148a4f37148df78d61db0649ed49ec9af', 'message': 'Add value_specs to all Neutron resources\n\nThe property `value_specs` is currently only present in a few\n(seemingly) random Neutron resources. We add the `value_specs`\nproperty to all Neutron resources.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 9, 'created': '2018-02-21 14:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7e26c6385adbc04aeb17675c8952897994e1c976', 'message': 'Add value_specs to all Neutron resources\n\nThe property `value_specs` is currently only present in a few\n(seemingly) random Neutron resources. We add the `value_specs`\nproperty to all Neutron resources which implement the standard\nattributes.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}, {'number': 10, 'created': '2018-03-02 11:58:23.000000000', 'files': ['heat/engine/resources/openstack/neutron/qos.py', 'heat/engine/resources/openstack/neutron/segment.py', 'heat/engine/resources/openstack/neutron/security_group_rule.py', 'heat/engine/resources/openstack/neutron/security_group.py', 'heat/engine/resources/openstack/neutron/trunk.py', 'heat/engine/resources/openstack/neutron/subnetpool.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/369c0204bb425aac9505c97bee7dcae26988a27e', 'message': 'Add value_specs to some Neutron resources\n\nThe property `value_specs` is currently only present in a few\n(seemingly) random Neutron resources. We add the `value_specs`\nproperty to all Neutron resources which implement the standard\nattributes.\n\nChange-Id: I9068db11450f52f9461567649fcff293423242d6\n'}]",2,541788,369c0204bb425aac9505c97bee7dcae26988a27e,37,8,10,27796,,,0,"Add value_specs to some Neutron resources

The property `value_specs` is currently only present in a few
(seemingly) random Neutron resources. We add the `value_specs`
property to all Neutron resources which implement the standard
attributes.

Change-Id: I9068db11450f52f9461567649fcff293423242d6
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/541788/9 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/quota.py', 'heat/engine/resources/openstack/neutron/neutron.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/neutron/floatingip.py', 'heat/engine/resources/openstack/neutron/net.py', 'heat/engine/resources/openstack/neutron/subnet.py', 'heat/engine/resources/openstack/neutron/port.py', 'heat/tests/openstack/neutron/test_neutron.py', 'heat/engine/resources/openstack/neutron/firewall.py', 'heat/tests/openstack/neutron/test_quota.py', 'heat/tests/openstack/neutron/lbaas/test_l7rule.py']",11,565aa74618c636d6d466a745534293742c96f607,value_specs," 'invert': False, 'value_specs': {},", 'invert': False,39,58
openstack%2Fheat~master~I5875b9b396bb4b07acbc428aa0f91a0d8ffc67a0,openstack/heat,master,I5875b9b396bb4b07acbc428aa0f91a0d8ffc67a0,Use with statement for file operation,ABANDONED,2018-01-18 14:01:49.000000000,2019-12-03 19:03:41.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-01-18 14:01:49.000000000', 'files': ['tools/cfn-json2yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/a0efa03459c9e4a5d883cecebe0e6393e72c3198', 'message': 'Use with statement for file operation\n\nChange-Id: I5875b9b396bb4b07acbc428aa0f91a0d8ffc67a0\n'}]",1,535334,a0efa03459c9e4a5d883cecebe0e6393e72c3198,6,4,1,6763,,,0,"Use with statement for file operation

Change-Id: I5875b9b396bb4b07acbc428aa0f91a0d8ffc67a0
",git fetch https://review.opendev.org/openstack/heat refs/changes/34/535334/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/cfn-json2yaml'],1,a0efa03459c9e4a5d883cecebe0e6393e72c3198,," with open(path, 'r') as f: print(template_format.convert_json_to_yaml(f.read())) with open(os.path.join(dirpath, path), 'r') as f: yml = template_format.convert_json_to_yaml(f.read()) with open(os.path.join(dirpath, yamlpath), 'w') as out: out.write(yml)"," f = open(path, 'r') print(template_format.convert_json_to_yaml(f.read())) f = open(os.path.join(dirpath, path), 'r') out = open(os.path.join(dirpath, yamlpath), 'w') yml = template_format.convert_json_to_yaml(f.read()) out.write(yml) out.close()",6,7
openstack%2Fheat~master~I5c50980326984f55c161380213c68234f5e0a8e8,openstack/heat,master,I5c50980326984f55c161380213c68234f5e0a8e8,Redirect the request,ABANDONED,2017-12-12 06:22:21.000000000,2019-12-03 19:02:22.000000000,,"[{'_account_id': 4257}, {'_account_id': 8289}, {'_account_id': 12404}, {'_account_id': 17842}, {'_account_id': 22348}, {'_account_id': 23037}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-12-12 06:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0678bb6576d685eb51f70f2350d455433c8d4ded', 'message': 'Redirect the request\n\nIf the response code is 302 and the location is not null.\n\nChange-Id: I5c50980326984f55c161380213c68234f5e0a8e8\n'}, {'number': 2, 'created': '2017-12-12 06:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/24d37368feaee906d288cdf88da1be9aebbbda34', 'message': 'Redirect the request\n\nIf the response code is 302 and the location is not null.\n\nCloses-Bug: #1695152\nChange-Id: I5c50980326984f55c161380213c68234f5e0a8e8\n'}, {'number': 3, 'created': '2017-12-12 10:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6391c59751b10588b6434dded5b728746b907894', 'message': 'Redirect the request\n\nIf the response code is 302 and the location is not null.\n\nCloses-Bug: #1695152\nChange-Id: I5c50980326984f55c161380213c68234f5e0a8e8\n'}, {'number': 4, 'created': '2018-01-05 09:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1fe0c02836ac47f38901719b9fbfd9b1b5963e2a', 'message': 'Redirect the request\n\nIf the response code is 302 and the location is not null.\n\nCloses-Bug: #1695152\nChange-Id: I5c50980326984f55c161380213c68234f5e0a8e8\n'}, {'number': 5, 'created': '2018-01-09 07:25:39.000000000', 'files': ['heat/api/openstack/__init__.py', 'heat/api/middleware/redirect.py', 'etc/heat/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/217812250cd9933fad3e12bd67cc67b1704b7a5d', 'message': 'Redirect the request\n\nIf the response code is 302 and the location is not null.\n\nCloses-Bug: #1695152\nChange-Id: I5c50980326984f55c161380213c68234f5e0a8e8\n'}]",6,527312,217812250cd9933fad3e12bd67cc67b1704b7a5d,22,7,5,17842,,,0,"Redirect the request

If the response code is 302 and the location is not null.

Closes-Bug: #1695152
Change-Id: I5c50980326984f55c161380213c68234f5e0a8e8
",git fetch https://review.opendev.org/openstack/heat refs/changes/12/527312/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/api/openstack/__init__.py', 'heat/api/middleware/redirect.py', 'etc/heat/api-paste.ini']",3,0678bb6576d685eb51f70f2350d455433c8d4ded,bug/1695152,pipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation osprofiler authurl authtoken context redirect apiv1apppipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authpassword context redirect apiv1apppipeline = cors request_id faultwrap versionnegotiation context custombackendauth redirect apiv1apppipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation noauth context redirect apiv1app [filter:redirect] paste.filter_factory = heat.common.wsgi:filter_factory heat.filter_factory = heat.api.openstack:redirect_filter,pipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation osprofiler authurl authtoken context apiv1apppipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authpassword context apiv1apppipeline = cors request_id faultwrap versionnegotiation context custombackendauth apiv1apppipeline = cors request_id faultwrap http_proxy_to_wsgi versionnegotiation noauth context apiv1app,59,4
openstack%2Fheat~master~Id46267464a9ce7c92349b3d6b857149c9a333e59,openstack/heat,master,Id46267464a9ce7c92349b3d6b857149c9a333e59,[Test][WIP]Test observed update,ABANDONED,2017-12-10 02:15:16.000000000,2019-12-03 19:01:17.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-12-10 02:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ec603ca5bf86c1047a987e0bd464b4d251a49f80', 'message': '[Test][WIP]Test observed update\n\nChange-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59\n'}, {'number': 2, 'created': '2017-12-10 13:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6c3ab0655f3d8a450048f0b180ea12020d69a262', 'message': '[Test][WIP]Test observed update\n\nDepends-On: I111ea7ffa43a46d2a6fe360fb0c20d672df5771c\nChange-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59\n'}, {'number': 3, 'created': '2017-12-11 06:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7b5de3d81109476dfa84c4229b9016603d79bb13', 'message': '[Test][WIP]Test observed update\n\nDepends-On: I111ea7ffa43a46d2a6fe360fb0c20d672df5771c\nChange-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59\n'}, {'number': 4, 'created': '2017-12-11 17:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c92a8db5ca928f1bd9e92b6d181ff169217eeb56', 'message': '[Test][WIP]Test observed update\n\nDepends-On: I111ea7ffa43a46d2a6fe360fb0c20d672df5771c\nChange-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59\n'}, {'number': 5, 'created': '2017-12-12 06:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fb2f3a245bc35c276d2cd83b6681209c7b79fb88', 'message': '[Test][WIP]Test observed update\n\nDepends-On: I111ea7ffa43a46d2a6fe360fb0c20d672df5771c\nChange-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59\n'}, {'number': 6, 'created': '2018-04-19 08:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/17a7ce1533e49f85dd447b876e3f9a8ef6cb2b22', 'message': '[Test][WIP]Test observed update\n\nDepends-On: I111ea7ffa43a46d2a6fe360fb0c20d672df5771c\nChange-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59\n'}, {'number': 7, 'created': '2018-07-13 06:21:22.000000000', 'files': ['heat/engine/resources/openstack/neutron/neutron.py', 'heat/common/config.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6b60122d94b7d29c32be58c66d0a58aff66d682f', 'message': '[Test][WIP]Test observed update\n\nChange-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59\n'}]",0,526883,6b60122d94b7d29c32be58c66d0a58aff66d682f,21,3,7,12404,,,0,"[Test][WIP]Test observed update

Change-Id: Id46267464a9ce7c92349b3d6b857149c9a333e59
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/526883/5 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/config.py'],1,ec603ca5bf86c1047a987e0bd464b4d251a49f80,test-observed-update," default=True,"," default=False,",1,1
openstack%2Fheat~master~Icfcf56285cecccc309572e8c671f2672aafc90be,openstack/heat,master,Icfcf56285cecccc309572e8c671f2672aafc90be,Store updated_at for all non-create actions for resource,ABANDONED,2017-10-08 17:04:21.000000000,2019-12-03 19:00:05.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27248}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-10-08 17:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/df4e0ad2ec1f40c3ce26b06743b5b7aeff3bd841', 'message': 'Store updated_at for all non-create actions for resource\n\nThis patch propose to store updated time to database when\nchanging any action states for resource (not including create)\nwhen we try to set status. This change affects both legacy and\nconvergence stack.\nRelated-Bug: #1669608\nRelated-Bug: #1653202\n\nChange-Id: Icfcf56285cecccc309572e8c671f2672aafc90be\n'}, {'number': 2, 'created': '2017-10-09 15:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0f63ce42a9b75d1e621b6ef5fe1a2e8d6fb12084', 'message': 'Store updated_at for all non-create actions for resource\n\nThis patch propose to store updated time to database when\nchanging any action states for resource (not including create)\nwhen we try to set status. This change affects both legacy and\nconvergence stack.\nRelated-Bug: #1669608\nRelated-Bug: #1653202\n\nChange-Id: Icfcf56285cecccc309572e8c671f2672aafc90be\n'}, {'number': 3, 'created': '2017-10-19 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/250113b6dd612fb506fe656fbd6a9b2e9703e61b', 'message': 'Store updated_at for all non-create actions for resource\n\nThis patch propose to store updated time to database when\nchanging any action states for resource (not including create)\nwhen we try to set status. This change affects both legacy and\nconvergence stack.\nRelated-Bug: #1669608\nRelated-Bug: #1653202\n\nChange-Id: Icfcf56285cecccc309572e8c671f2672aafc90be\n'}, {'number': 4, 'created': '2017-12-16 16:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d210acbfa34aad7280401efae363b8aab08f40b4', 'message': 'Store updated_at for all non-create actions for resource\n\nThis patch propose to store updated time to database when\nchanging any action states for resource (not including create)\nwhen we try to set status. This change affects both legacy and\nconvergence stack.\nRelated-Bug: #1669608\nRelated-Bug: #1653202\n\nChange-Id: Icfcf56285cecccc309572e8c671f2672aafc90be\n'}, {'number': 5, 'created': '2018-05-10 12:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6da53284a105e6e14fc262dd3c1aaefe3b155ed4', 'message': 'Store updated_at for all non-create actions for resource\n\nThis patch propose to store updated time to database when\nchanging any action states for resource (not including create)\nwhen we try to set status. This change affects both legacy and\nconvergence stack.\nStory: #1669608\nStory: #1653202\n\nChange-Id: Icfcf56285cecccc309572e8c671f2672aafc90be\n'}, {'number': 6, 'created': '2018-05-12 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9fec5b2e6f46ae9fc4dd251187edfa92e1856e43', 'message': 'Store updated_at for all non-create actions for resource\n\nThis patch propose to store updated time to database when\nchanging any action states for resource (not including create)\nwhen we try to set status. This change affects both legacy and\nconvergence stack.\nStory: #1669608\nStory: #1653202\n\nChange-Id: Icfcf56285cecccc309572e8c671f2672aafc90be\n'}, {'number': 7, 'created': '2018-08-05 09:13:26.000000000', 'files': ['releasenotes/notes/assign_updated_at_for_all_action-42a5b4985ef4d15c.yaml', 'heat/tests/aws/test_waitcondition.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/93545f67184a5e1c8aca43fc05d8488c67b0b3c4', 'message': 'Store updated_at for all non-create actions for resource\n\nThis patch propose to store updated time to database when\nchanging any action states for resource (not including create)\nwhen we try to set status. This change affects both legacy and\nconvergence stack.\nStory: #1669608\n\nStory: #1653202\nTask: #24262\n\nChange-Id: Icfcf56285cecccc309572e8c671f2672aafc90be\n'}]",4,510359,93545f67184a5e1c8aca43fc05d8488c67b0b3c4,41,8,7,12404,,,0,"Store updated_at for all non-create actions for resource

This patch propose to store updated time to database when
changing any action states for resource (not including create)
when we try to set status. This change affects both legacy and
convergence stack.
Story: #1669608

Story: #1653202
Task: #24262

Change-Id: Icfcf56285cecccc309572e8c671f2672aafc90be
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/510359/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/assign_updated_at_for_all_action-42a5b4985ef4d15c.yaml', 'heat/engine/resource.py', 'heat/tests/test_resource.py']",3,df4e0ad2ec1f40c3ce26b06743b5b7aeff3bd841,story/1653202,from oslo_utils import timeutils as oslo_timeutils res.updated_time = oslo_timeutils.utcnow(),import datetime res.updated_time = datetime.datetime.utcnow(),21,10
openstack%2Fheat~master~I3075de0aeacae3de5600fa112d15aa77b6dd4e4f,openstack/heat,master,I3075de0aeacae3de5600fa112d15aa77b6dd4e4f,Store updated_at for all non-create actions for stack,ABANDONED,2017-10-05 13:10:35.000000000,2019-12-03 18:59:35.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 7404}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-10-05 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/89a38697dfe98241489f966aeb68cd476240e7cc', 'message': ""Store updated_at for all actions state\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the resource/stack statu was setted.\nThis patch propose to store updated time to database when\nchanging any action states for resource or stack (including\ncreate) when we try to set status. This change affects both\nlegacy and convergence stack.\nPartial-Bug: #1669608\nCloses-Bug: #1653202\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 2, 'created': '2017-10-08 14:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/569f5668c52d71c68b8f3c854a2109885acf74ac', 'message': ""Store updated_at for all stack action states\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (including create) when we try to\nset status. This change affects both legacy and convergence\nstack.\nPartial-Bug: #1669608\nCloses-Bug: #1653202\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 3, 'created': '2017-10-08 17:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d0d08d0d3f5f89bd6bb033eadc7ca60389b2c512', 'message': ""Store updated_at for all non-create actions for stack\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (not including create) when we try\nto set status. This change affects both legacy and convergence\nstack.\nPartial-Bug: #1669608\nCloses-Bug: #1653202\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 4, 'created': '2017-10-09 15:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/405a3b7db32ee242b1ff48500e7826d535f4043f', 'message': ""Store updated_at for all non-create actions for stack\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (not including create) when we try\nto set status. This change affects both legacy and convergence\nstack.\nPartial-Bug: #1669608\nCloses-Bug: #1653202\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 5, 'created': '2017-10-19 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/34761a6c0fec01a1486e030f7ebfe341f1aa9108', 'message': ""Store updated_at for all non-create actions for stack\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (not including create) when we try\nto set status. This change affects both legacy and convergence\nstack.\nPartial-Bug: #1669608\nCloses-Bug: #1653202\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 6, 'created': '2017-12-16 16:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cda70021f6eb2e78bb373533f0e2d0cfdc1596c7', 'message': ""Store updated_at for all non-create actions for stack\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (not including create) when we try\nto set status. This change affects both legacy and convergence\nstack.\nPartial-Bug: #1669608\nCloses-Bug: #1653202\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 7, 'created': '2018-05-10 12:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/72de78612d777f0d5f5e5b31ba16fd367fd5a47f', 'message': ""Store updated_at for all non-create actions for stack\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (not including create) when we try\nto set status. This change affects both legacy and convergence\nstack.\nStory: #1653202\nTask: #17646\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 8, 'created': '2018-08-05 09:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c0896d32c92a71ddb959c4b86dcda0a20d16dbab', 'message': ""Store updated_at for all non-create actions for stack\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (not including create) when we try\nto set status. This change affects both legacy and convergence\nstack.\nStory: #1653202\nTask: #17646\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}, {'number': 9, 'created': '2018-08-05 09:13:26.000000000', 'files': ['releasenotes/notes/assign_updated_at_for_all_action-42a5b4985ef4d15c.yaml', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/tests/test_stack.py', 'heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/900f83459241bdcbd1bccd2e05f52089c5c02700', 'message': ""Store updated_at for all non-create actions for stack\n\nWe have some race conditions that we can't tell which state of\nactions are real. We needs more information for each action\nstates to know when exactly the stack statu was setted. This\npatch propose to store updated time to database when changing\nany action states for stack (not including create) when we try\nto set status. This change affects both legacy and convergence\nstack.\nStory: #1653202\nTask: #17646\n\nChange-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f\n""}]",7,509769,900f83459241bdcbd1bccd2e05f52089c5c02700,64,8,9,12404,,,0,"Store updated_at for all non-create actions for stack

We have some race conditions that we can't tell which state of
actions are real. We needs more information for each action
states to know when exactly the stack statu was setted. This
patch propose to store updated time to database when changing
any action states for stack (not including create) when we try
to set status. This change affects both legacy and convergence
stack.
Story: #1653202
Task: #17646

Change-Id: I3075de0aeacae3de5600fa112d15aa77b6dd4e4f
",git fetch https://review.opendev.org/openstack/heat refs/changes/69/509769/9 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/assign_updated_at_for_all_action-42a5b4985ef4d15c.yaml', 'heat/tests/test_convg_stack.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/tests/test_stack.py', 'heat/engine/stack.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py']",7,89a38697dfe98241489f966aeb68cd476240e7cc,story/1653202,from oslo_utils import timeutils as oslo_timeutils res.updated_time = oslo_timeutils.utcnow(),import datetime res.updated_time = datetime.datetime.utcnow(),54,22
openstack%2Fopenstack-ansible-haproxy_server~master~I2a1ce48f90c5f85b1238842f17ad2c9708333629,openstack/openstack-ansible-haproxy_server,master,I2a1ce48f90c5f85b1238842f17ad2c9708333629,Make log socket available to chrooted filesystem,MERGED,2019-11-29 16:52:57.000000000,2019-12-03 18:56:46.000000000,2019-12-03 13:46:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-29 16:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/480ed4c98f4ff4f4c68aee106ac2b3cf8e5f82a0', 'message': 'Make log socket available to chrooted filesystem\n\nHad an issue where HAProxy logs could not be found.\n\nThe /dev/log socket was not available to the chrooted filesystem.\nWe need to mount the socket and persist it.\n\nChange-Id: I2a1ce48f90c5f85b1238842f17ad2c9708333629\n'}, {'number': 2, 'created': '2019-12-02 12:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/0046bc78ee8b7449e331e2ac49cab9773f01e1e1', 'message': 'Make log socket available to chrooted filesystem\n\nHad an issue where HAProxy logs could not be found.\n\nThe /dev/log socket was not available to the chrooted filesystem.\nWe need to mount the socket and persist it.\n\nChange-Id: I2a1ce48f90c5f85b1238842f17ad2c9708333629\n'}, {'number': 3, 'created': '2019-12-02 13:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/87d81e923320033d8b2247b48b23c91af633422b', 'message': 'Make log socket available to chrooted filesystem\n\nHad an issue where HAProxy logs could not be found.\n\nThe /dev/log socket was not available to the chrooted filesystem.\nWe need to mount the socket and persist it.\n\nChange-Id: I2a1ce48f90c5f85b1238842f17ad2c9708333629\n'}, {'number': 4, 'created': '2019-12-02 14:03:35.000000000', 'files': ['tasks/haproxy_post_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/38f7ec04bcd7fefc0023092ab43e89779a88ab49', 'message': 'Make log socket available to chrooted filesystem\n\nHad an issue where HAProxy logs could not be found.\n\nThe /dev/log socket was not available to the chrooted filesystem.\nWe need to mount the socket and persist it.\n\nChange-Id: I2a1ce48f90c5f85b1238842f17ad2c9708333629\n'}]",0,696738,38f7ec04bcd7fefc0023092ab43e89779a88ab49,17,3,4,29865,,,0,"Make log socket available to chrooted filesystem

Had an issue where HAProxy logs could not be found.

The /dev/log socket was not available to the chrooted filesystem.
We need to mount the socket and persist it.

Change-Id: I2a1ce48f90c5f85b1238842f17ad2c9708333629
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/38/696738/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/haproxy_post_install.yml', 'defaults/main.yml']",2,480ed4c98f4ff4f4c68aee106ac2b3cf8e5f82a0,," # Make the log socket available to the chrooted filesystem haproxy_log_socket: ""/dev/log"" haproxy_log_mount_point: ""/var/lib/haproxy/dev/log""",,12,0
openstack%2Fheat~master~I0ba9dda8daf2efe71cc982611dee29c519f2cd8e,openstack/heat,master,I0ba9dda8daf2efe71cc982611dee29c519f2cd8e,Replace for_each keys before parsing,ABANDONED,2017-03-23 11:54:12.000000000,2019-12-03 18:54:42.000000000,,"[{'_account_id': 4257}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-03-23 11:54:12.000000000', 'files': ['heat/engine/hot/functions.py', 'heat/engine/conditions.py', 'heat/tests/test_hot.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/970a80a3a963db6e97d0ddf5dcb9ba0456ce378c', 'message': ""Replace for_each keys before parsing\n\nChange function 'repeat' to inherit Macro class,\nto replace for_each keys before parsing its args.\nThere is an example we have to fix:\n repeat:\n   template:\n     volume_id: {if: [<%boot%>, {get_resource: boot_vol},\n                      {get_resource: data_vol}]}\n     device_name: {if: [<%boot%>, 'vda', 'vdb']}\n   for_each:\n     <%boot%>: {get_param: boot_flag}\n\nCloses-Bug: #1675368\nChange-Id: I0ba9dda8daf2efe71cc982611dee29c519f2cd8e\n""}]",0,449098,970a80a3a963db6e97d0ddf5dcb9ba0456ce378c,9,5,1,8289,,,0,"Replace for_each keys before parsing

Change function 'repeat' to inherit Macro class,
to replace for_each keys before parsing its args.
There is an example we have to fix:
 repeat:
   template:
     volume_id: {if: [<%boot%>, {get_resource: boot_vol},
                      {get_resource: data_vol}]}
     device_name: {if: [<%boot%>, 'vda', 'vdb']}
   for_each:
     <%boot%>: {get_param: boot_flag}

Closes-Bug: #1675368
Change-Id: I0ba9dda8daf2efe71cc982611dee29c519f2cd8e
",git fetch https://review.opendev.org/openstack/heat refs/changes/98/449098/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/hot/functions.py', 'heat/engine/conditions.py', 'heat/tests/test_hot.py']",3,970a80a3a963db6e97d0ddf5dcb9ba0456ce378c,bug/1675368," tmpl.parse, None, snippet) repeat = self.stack.t.parse(self.stack, snippet)"," repeat = tmpl.parse(None, snippet) function.validate, repeat) repeat = self.stack.t.parse(self.stack, snippet)",27,29
openstack%2Fheat~master~I5ee5a03b610a98117e272e9246d3b73cc28e8f3d,openstack/heat,master,I5ee5a03b610a98117e272e9246d3b73cc28e8f3d,Pass 'region_name' with clients,ABANDONED,2017-03-15 04:47:40.000000000,2019-12-03 18:53:11.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7404}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-03-15 04:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1a5307aae7e873c13758534815bdf5ac71c7ee6b', 'message': ""Pass 'region_name' with clients\n\nPass 'region_name' with heat, monasca and senlin\nclients to support multi regions.\n\nChange-Id: I5ee5a03b610a98117e272e9246d3b73cc28e8f3d\nCloses-Bug: #1672668\n""}, {'number': 2, 'created': '2017-03-21 10:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1dbcb0cb4de22a6d2ae2779ebb6a258783d0d4f5', 'message': ""Pass 'region_name' with clients\n\nPass 'region_name' with heat and monasca\nclients to support multi regions.\n\nChange-Id: I5ee5a03b610a98117e272e9246d3b73cc28e8f3d\nCloses-Bug: #1672668\n""}, {'number': 3, 'created': '2017-11-14 06:32:40.000000000', 'files': ['heat/engine/clients/os/heat_plugin.py', 'heat/engine/clients/os/monasca.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8afe8423ea6a45d9cd4b5646e136c6d04b2ffa65', 'message': ""Pass 'region_name' with clients\n\nPass 'region_name' with heat and monasca\nclients to support multi regions.\n\nChange-Id: I5ee5a03b610a98117e272e9246d3b73cc28e8f3d\nCloses-Bug: #1672668\n""}]",4,445741,8afe8423ea6a45d9cd4b5646e136c6d04b2ffa65,14,8,3,8289,,,0,"Pass 'region_name' with clients

Pass 'region_name' with heat and monasca
clients to support multi regions.

Change-Id: I5ee5a03b610a98117e272e9246d3b73cc28e8f3d
Closes-Bug: #1672668
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/445741/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/heat_plugin.py', 'heat/engine/clients/os/monasca.py', 'heat/engine/clients/os/senlin.py']",3,1a5307aae7e873c13758534815bdf5ac71c7ee6b,bug/1672668, 'region_name': self._get_region_name(),,3,1
openstack%2Fheat~master~I0accd03e3d64f14d9401ab1fd0204a92df84903c,openstack/heat,master,I0accd03e3d64f14d9401ab1fd0204a92df84903c,Add stack v2 api router,ABANDONED,2017-02-27 08:45:07.000000000,2019-12-03 18:49:43.000000000,,"[{'_account_id': 4257}, {'_account_id': 8246}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-02-27 08:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6ab67d13d6fd9569c13ec3c1ac744beaa8787a1e', 'message': 'Add stack v2 api router\n\nThis patch adds heat api v2 for stack operations.\n\nChange-Id: I0accd03e3d64f14d9401ab1fd0204a92df84903c\nBlueprint: v2-api\n'}, {'number': 2, 'created': '2017-02-27 08:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7e21d984e0a21a827414138b272f51bcbdc8c0b7', 'message': 'Add stack v2 api router\n\nThis patch adds heat api v2 for stack operations.\n\nChange-Id: I0accd03e3d64f14d9401ab1fd0204a92df84903c\nBlueprint: v2-api\n'}, {'number': 3, 'created': '2017-02-28 07:13:46.000000000', 'files': ['heat/tests/api/openstack_v1/test_stacks.py', 'heat/api/openstack/v2/__init__.py', 'heat/api/openstack/views/views_common.py', 'heat/api/openstack/v2/util.py', 'heat/tests/api/openstack_v1/test_views_common.py', 'heat/api/openstack/v2/stacks.py', 'heat/api/openstack/controller_utils.py', 'heat/api/openstack/v1/software_deployments.py', 'heat/api/openstack/v1/stacks.py', 'heat/api/openstack/v1/util.py', 'heat/engine/service.py', 'heat/tests/api/openstack_v1/test_util.py', 'heat/api/openstack/v1/resources.py', 'heat/api/openstack/stack_utils.py', 'heat/api/openstack/views/__init__.py', 'heat/common/identifier.py', 'heat/tests/api/openstack_v1/test_views_stacks_view.py', 'heat/api/openstack/v1/events.py', 'heat/api/openstack/views/stacks_view.py', 'heat/api/openstack/v1/software_configs.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9c9db4748aeb13a1d23d42c287d2cdcfeffe97a9', 'message': 'Add stack v2 api router\n\nThis patch adds heat api v2 for stack operations.\nAlso refactor controller and utils for stack.\n\nChange-Id: I0accd03e3d64f14d9401ab1fd0204a92df84903c\nBlueprint: v2-api\n'}]",0,438372,9c9db4748aeb13a1d23d42c287d2cdcfeffe97a9,12,6,3,8289,,,0,"Add stack v2 api router

This patch adds heat api v2 for stack operations.
Also refactor controller and utils for stack.

Change-Id: I0accd03e3d64f14d9401ab1fd0204a92df84903c
Blueprint: v2-api
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/438372/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/api/openstack/v2/__init__.py', 'heat/api/openstack/v2/views/__init__.py', 'heat/api/openstack/v2/util.py', 'heat/api/openstack/v2/views/stacks_view.py', 'heat/api/openstack/v2/views/views_common.py', 'heat/common/identifier.py', 'heat/api/openstack/v2/stacks.py', 'heat/engine/service.py']",8,6ab67d13d6fd9569c13ec3c1ac744beaa8787a1e,bp/v2-api, name=identity.stack_id) if not identity.stack_name: identity.stack_name = s.name name=identity.stack_id)," name=identity.stack_name) if not cnxt.is_admin and cnxt.tenant_id not in ( identity.tenant, s.stack_user_project_id): # The DB API should not allow this, but sanity-check anyway.. raise exception.InvalidTenant(target=identity.tenant, actual=cnxt.tenant_id) name=identity.stack_name)",1240,8
openstack%2Fheat~master~Iee1397f4fb06f9eedf12e1a08cbbf15a6a8fadda,openstack/heat,master,Iee1397f4fb06f9eedf12e1a08cbbf15a6a8fadda,Remove the file encoding which is unnecessary,ABANDONED,2017-02-10 05:01:42.000000000,2019-12-03 18:48:40.000000000,,"[{'_account_id': 3}, {'_account_id': 12404}, {'_account_id': 27427}]","[{'number': 1, 'created': '2017-02-10 05:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/495ae37d06c9e75e12938eb643f46951af1de273', 'message': 'Remove the top line in annotation words\n\nChange-Id: Iee1397f4fb06f9eedf12e1a08cbbf15a6a8fadda\n'}, {'number': 2, 'created': '2017-02-11 01:19:42.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/83b5ee05990932468629c980bf8f2c95f9432f06', 'message': 'Remove the file encoding which is unnecessary\n\nBasically, the commit removes the file encoding - since jenkins is fine\nwith it, means it was really unnecessary and the change makes sense.\n\nChange-Id: Iee1397f4fb06f9eedf12e1a08cbbf15a6a8fadda\n'}]",0,431914,83b5ee05990932468629c980bf8f2c95f9432f06,7,3,2,21511,,,0,"Remove the file encoding which is unnecessary

Basically, the commit removes the file encoding - since jenkins is fine
with it, means it was really unnecessary and the change makes sense.

Change-Id: Iee1397f4fb06f9eedf12e1a08cbbf15a6a8fadda
",git fetch https://review.opendev.org/openstack/heat refs/changes/14/431914/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,495ae37d06c9e75e12938eb643f46951af1de273,,,# -*- coding: utf-8 -*-,9,14
openstack%2Ftripleo-heat-templates~master~I1be209a04f599d1d018e730c92f1fc8dd9bf884b,openstack/tripleo-heat-templates,master,I1be209a04f599d1d018e730c92f1fc8dd9bf884b,Convert firewall rules to use TripleO-Ansible,MERGED,2019-08-19 15:40:24.000000000,2019-12-03 18:43:01.000000000,2019-11-20 05:30:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-19 15:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e8f06a0e0c45c4938f65f4c452808f82ae6997b', 'message': '[WIP] Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-08-19 17:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1241b31372d9f96f54d2711dffd6a987d2913a2', 'message': '[WIP] Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-08-19 17:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19f61fca56f9891e7c7f8c5a3dbfc6d83f241ef9', 'message': '[WIP] Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-08-19 19:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13de9030ffa03b86fe5505f9c1387c9cfd9f4a17', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-08-19 21:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d60ce555e316f2c3ef6ea8e9954a566724bc5796', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-08-20 01:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f957156e3bd972ba40e4c2de771ee904e3e28e36', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-08-20 14:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f3b1ea042e2e5f306db22344336572dc4123fdf', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-08-21 01:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1b383bb79c34681b7f886c163932c4a60900127', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-08-21 12:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/349d28fecfe3726f35b26259e6d42e97d4c3015f', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-08-21 19:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df776eca5a68f09ff3bff48c3b38f30e22979d55', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2019-08-21 22:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88525b79231e98fe07f387ffced315649a7e5268', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2019-08-22 15:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1359176254ce59b87d674522a9bd94aed809f4d0', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2019-08-23 19:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16efcbb9dd416e3f139aad9e2f3ddcb473ac8a9d', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: I13dbdb2043ad216d1c89801c974508dd9b958cdc\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2019-08-25 03:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ab6357d599c88f51e4e43303cee909d062af087', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: I13dbdb2043ad216d1c89801c974508dd9b958cdc\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 15, 'created': '2019-09-04 01:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f8377a288c91caac195ea0163712ca72e86cf32', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: I13dbdb2043ad216d1c89801c974508dd9b958cdc\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2019-09-04 01:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a082b3df084b9511edec30c19e6b75715a35f0c4', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2019-09-04 20:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33ba7fa79ecc4c2ed697f6186237069cf66b35d0', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 18, 'created': '2019-09-05 02:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81886309b22d938cf05c80de39560c688b6c32b0', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ibe4bed6b27cb774dabc40e28a61032bc399c2eae\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 19, 'created': '2019-09-05 18:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95271cf4cc95f66630f874b9ff0a027bcdae1367', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 20, 'created': '2019-09-06 20:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ab3de48061ed674924319bb9956189b69e42c33', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 21, 'created': '2019-09-07 19:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c960420c5545968a871f9b9293039cc4c12e241f', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 22, 'created': '2019-09-24 13:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c00b977b22583d972846940b44021a8c9ab60b84', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 23, 'created': '2019-10-04 16:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c78deb7d98cfb958bc8e76f590a18f65dfabb591', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 24, 'created': '2019-10-24 06:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdb47758a1206a30e797a46fc8a6d367c8059845', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 25, 'created': '2019-10-24 07:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/604ec1779a7a13e4f466d626af0ef54e6635c840', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 26, 'created': '2019-10-30 22:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec3b320520205806594ef65a2b6b1557e1180c4f', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 27, 'created': '2019-11-07 02:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18e43aff2dbcf4e83471b563b7a2fd798a683107', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 28, 'created': '2019-11-07 07:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77c6eb4f96a5fb218f97fae9f48727b934c6663e', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 29, 'created': '2019-11-18 21:40:29.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/time/ptp-baremetal-puppet.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/rhsm/rhsm-baremetal-ansible.yaml', 'deployment/deprecated/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml', 'deployment/deprecated/kubernetes/kubernetes-master-baremetal-ansible.yaml', 'deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/database/mysql-base.yaml', 'deployment/image-serve/image-serve-baremetal-ansible.yaml', 'releasenotes/notes/tripleo-firewall-ansible-3928f04478a09668.yaml', 'deployment/neutron/neutron-compute-plugin-nuage.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/deprecated/docker/docker-registry-baremetal-ansible.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'common/services/role.role.j2.yaml', 'deployment/deprecated/kubernetes/kubernetes-worker-baremetal-ansible.yaml', 'deployment/skydive/skydive-analyzer-baremetal-ansible.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'ci/environments/multinode-core.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'deployment/ipsec/ipsec-baremetal-ansible.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50367fbe3563d34976deb377ed32b6f26aeca44f', 'message': 'Convert firewall rules to use TripleO-Ansible\n\nThis change converts our filewall deployment practice to use\nthe tripleo-ansible firewall role. This change creates a new\n""firewall_rules"" object which is queried using YAQL from the\n""FirewallRules"" resource.\n\nA new parameter has been added allowing users to input\nadditional firewall rules as needed. The new parameter is\n`ExtraFirewallRules` and will be merged on top of the YAQL\ninterface.\n\nDepends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed\nChange-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,677237,50367fbe3563d34976deb377ed32b6f26aeca44f,158,11,29,7353,,,0,"Convert firewall rules to use TripleO-Ansible

This change converts our filewall deployment practice to use
the tripleo-ansible firewall role. This change creates a new
""firewall_rules"" object which is queried using YAQL from the
""FirewallRules"" resource.

A new parameter has been added allowing users to input
additional firewall rules as needed. The new parameter is
`ExtraFirewallRules` and will be merged on top of the YAQL
interface.

Depends-On: Ie5d0f51d7efccd112847d3f1edf5fd9cdb1edeed
Change-Id: I1be209a04f599d1d018e730c92f1fc8dd9bf884b
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/677237/8 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/database/mysql-base.yaml', 'deployment/sshd/sshd-baremetal-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/deprecated/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'ci/environments/multinode-core.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",32,0e8f06a0e0c45c4938f65f4c452808f82ae6997b,THT2TA, firewall_rules: '128 aodh-api': dport: - 8042 - 13042, tripleo::aodh_api::firewall_rules: '128 aodh-api': dport: - 8042 - 13042,587,215
openstack%2Fheat~master~Ica0296ea2181698c9c6abd432c2e298889339e48,openstack/heat,master,Ica0296ea2181698c9c6abd432c2e298889339e48,Fix resume after check while resource is suspended,ABANDONED,2016-08-29 18:46:23.000000000,2019-12-03 18:37:43.000000000,,"[{'_account_id': 4257}, {'_account_id': 10068}, {'_account_id': 12404}, {'_account_id': 22785}]","[{'number': 1, 'created': '2016-08-29 18:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9dcabfebf8d238b1c224e1ee26e406a5f7b6120f', 'message': ""Fix resume after check while resource is suspended\n\nAdded a boolean to track a resource's resumable status.\nResource may resume only if it is resumable.\nAdded test cases for resuming a resource after check action.\nRemoved duplicate code from stack test cases.\n\nChange-Id: Ica0296ea2181698c9c6abd432c2e298889339e48\nCloses-Bug: #1506042\n""}, {'number': 2, 'created': '2016-08-29 19:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fdb31b628370b5d7d01d032b12ea31fe6c10271b', 'message': ""Fix resume after check while resource is suspended\n\nAdded a boolean to track a resource's resumable status.\nResource may resume only if it is resumable.\nAdded test cases for resuming a resource after check action.\nRemoved duplicate code from stack test cases.\n\nChange-Id: Ica0296ea2181698c9c6abd432c2e298889339e48\nCloses-Bug: #1506042\n""}, {'number': 3, 'created': '2016-08-30 14:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/06f505e46c621e69638948bc7fca5943f9b6b18b', 'message': ""Fix resume after check while resource is suspended\n\nAdded a boolean to track a resource's resumable status.\nResource may resume only if it is resumable.\nAdded test cases for resuming a resource after check action.\nRemoved duplicate code from stack test cases.\n\nChange-Id: Ica0296ea2181698c9c6abd432c2e298889339e48\nCloses-Bug: #1506042\n""}, {'number': 4, 'created': '2016-09-02 19:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eca401fcbe1a23216ed9afc381ccc7d124e3a0d5', 'message': ""Fix resume after check while resource is suspended\n\nAdded a boolean to track a resource's resumable status.\nResource may resume only if it is resumable.\nAdded test cases for resuming a resource after check action.\nRemoved duplicate code from stack test cases.\n\nChange-Id: Ica0296ea2181698c9c6abd432c2e298889339e48\nCloses-Bug: #1506042\n""}, {'number': 5, 'created': '2016-10-14 20:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/466259eb8336ef0f2c54923d9c4832a7b93efa50', 'message': ""Fix resume after check while resource is suspended\n\nAdded a boolean to track a resource's resumable status.\nResource may resume only if it is resumable.\nAdded test cases for resuming a resource after check action.\nRemoved duplicate code from stack test cases.\n\nChange-Id: Ica0296ea2181698c9c6abd432c2e298889339e48\nCloses-Bug: #1506042\n""}, {'number': 6, 'created': '2016-11-10 15:47:20.000000000', 'files': ['heat/tests/test_stack.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6dbb4f6ff69c9b15aca0468592044f8ca604c88e', 'message': ""Fix resume after check while resource is suspended\n\nAdded a boolean to track a resource's resumable status. Resource\nmay resume only if it is resumable. Removed duplicate code from\ntest cases.\n\nChange-Id: Ica0296ea2181698c9c6abd432c2e298889339e48\nCloses-Bug: #1506042\n""}]",1,362319,6dbb4f6ff69c9b15aca0468592044f8ca604c88e,21,4,6,22785,,,0,"Fix resume after check while resource is suspended

Added a boolean to track a resource's resumable status. Resource
may resume only if it is resumable. Removed duplicate code from
test cases.

Change-Id: Ica0296ea2181698c9c6abd432c2e298889339e48
Closes-Bug: #1506042
",git fetch https://review.opendev.org/openstack/heat refs/changes/19/362319/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_stack.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py']",3,9dcabfebf8d238b1c224e1ee26e406a5f7b6120f,bug/1506042," (res.RESUME, res.COMPLETE), (res.CHECK, res.FAILED), (res.CHECK, res.COMPLETE))]"," (res.RESUME, res.COMPLETE))]",88,68
openstack%2Fheat~master~I8cdd931c29118abde43d85cdc3854e5f8f6edf08,openstack/heat,master,I8cdd931c29118abde43d85cdc3854e5f8f6edf08,Add msg to log to exception constraint not found,ABANDONED,2016-06-23 08:55:37.000000000,2019-12-03 18:33:05.000000000,,"[{'_account_id': 4257}, {'_account_id': 12363}, {'_account_id': 12404}, {'_account_id': 27427}]","[{'number': 1, 'created': '2016-06-23 08:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bd23851d8944476ab62a05677b8832b5cbdc330d', 'message': ""Add msg to log to exception constraint not found\n\nWhen new custom constraint is added to Heat\nand you try to create resource, which uses property\nwith this constraint it usually fails with message:\nProperty error... does not validate... (constraint not found)\nwhich is not very informative. Because to resolve the\nproblem you need to reinstall Heat like:\n'python setup.py install' in Heat directory.\nI have added this info message to log so it would be\neasier to solve such common problem.\n\nChange-Id: I8cdd931c29118abde43d85cdc3854e5f8f6edf08\n""}, {'number': 2, 'created': '2017-07-31 15:32:59.000000000', 'files': ['heat/engine/constraints.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fa2e15bfec028a48fbe78224123be49d68963d83', 'message': ""Add msg to log to exception constraint not found\n\nWhen new custom constraint is added to Heat\nand you try to create resource, which uses property\nwith this constraint it usually fails with message:\nProperty error... does not validate... (constraint not found)\nwhich is not very informative. Because to resolve the\nproblem you need to reinstall Heat like:\n'python setup.py install' in Heat directory.\nI have added this info message to log so it would be\neasier to solve such common problem.\n\nChange-Id: I8cdd931c29118abde43d85cdc3854e5f8f6edf08\n""}]",2,333195,fa2e15bfec028a48fbe78224123be49d68963d83,10,4,2,20559,,,0,"Add msg to log to exception constraint not found

When new custom constraint is added to Heat
and you try to create resource, which uses property
with this constraint it usually fails with message:
Property error... does not validate... (constraint not found)
which is not very informative. Because to resolve the
problem you need to reinstall Heat like:
'python setup.py install' in Heat directory.
I have added this info message to log so it would be
easier to solve such common problem.

Change-Id: I8cdd931c29118abde43d85cdc3854e5f8f6edf08
",git fetch https://review.opendev.org/openstack/heat refs/changes/95/333195/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/constraints.py'],1,bd23851d8944476ab62a05677b8832b5cbdc330d,constr_log_warn," LOG.warning(_LW(""Most likely you need to reinstall Heat "" ""to resolve this problem.""))",,2,0
openstack%2Fpuppet-openstack-integration~master~Ia272d39f714a1eb8aa256f48634de9bf9ad85c4b,openstack/puppet-openstack-integration,master,Ia272d39f714a1eb8aa256f48634de9bf9ad85c4b,Updated from Puppet OpenStack modules constraints,MERGED,2019-12-03 06:24:47.000000000,2019-12-03 18:32:54.000000000,2019-12-03 18:32:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 06:24:47.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6087ece0fc9f5c2d77f1c05fa0662f27325c7533', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ia272d39f714a1eb8aa256f48634de9bf9ad85c4b\n'}]",0,697005,6087ece0fc9f5c2d77f1c05fa0662f27325c7533,14,5,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ia272d39f714a1eb8aa256f48634de9bf9ad85c4b
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/05/697005/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,6087ece0fc9f5c2d77f1c05fa0662f27325c7533,openstack/puppet/constraints, :ref => 'v10.0.0', :ref => 'v9.1.0',1,1
openstack%2Fheat~master~I8201b072608c5683257df28c0824e89a021a4bcb,openstack/heat,master,I8201b072608c5683257df28c0824e89a021a4bcb,Pass insecure and ca_certificate option for cfn transport,ABANDONED,2016-02-29 09:56:22.000000000,2019-12-03 18:31:28.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 27427}]","[{'number': 1, 'created': '2016-02-29 09:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6643a6639cc6246273637668b2338758350078d6', 'message': 'Pass insecure and ca_certificate option for cfn transport\n\nThis fix passes the insecure and ca_certificate option to the\nos-collect-config.conf for the cfn transport.\n\nChange-Id: I8201b072608c5683257df28c0824e89a021a4bcb\nCloses-Bug: #1482510\nDepends-On: I4f6262967ad346c6ff103cb359b02b81ef71573f\nDepends-On: b3572759bb9a12d65abbba521e48af0eb17ff396\nDepends-On: I0773f4e1db1a443d19f12f531fb88ca78e9d783d\n'}, {'number': 2, 'created': '2016-03-01 08:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed9b86a307e1918a8ba8cc40b3d9bb58cf408aaf', 'message': 'Pass insecure and ca_certificate option for cfn transport\n\nThis fix passes the insecure and ca_certificate option to the\nos-collect-config.conf for the cfn transport.\n\nChange-Id: I8201b072608c5683257df28c0824e89a021a4bcb\nCloses-Bug: #1482510\nDepends-On: I4f6262967ad346c6ff103cb359b02b81ef71573f\nDepends-On: b3572759bb9a12d65abbba521e48af0eb17ff396\nDepends-On: I0773f4e1db1a443d19f12f531fb88ca78e9d783d\n'}, {'number': 3, 'created': '2016-10-12 22:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/80688cca8961e38b00fd8b51973ed5dcacb4be00', 'message': 'Pass insecure and ca_certificate option for cfn transport\n\nThis fix passes the insecure and ca_certificate option to the\nos-collect-config.conf for the cfn transport.\n\nChange-Id: I8201b072608c5683257df28c0824e89a021a4bcb\nCloses-Bug: #1482510\nDepends-On: I4f6262967ad346c6ff103cb359b02b81ef71573f\nDepends-On: I0773f4e1db1a443d19f12f531fb88ca78e9d783d\n'}, {'number': 4, 'created': '2016-10-12 22:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6abeb3c38a4a72402fd5040d2f2e88e2e9eed3ad', 'message': 'Pass insecure and ca_certificate option for cfn transport\n\nThis fix passes the insecure and ca_certificate option to the\nos-collect-config.conf for the cfn transport.\n\nChange-Id: I8201b072608c5683257df28c0824e89a021a4bcb\nCloses-Bug: #1482510\nDepends-On: I4f6262967ad346c6ff103cb359b02b81ef71573f\nDepends-On: I0773f4e1db1a443d19f12f531fb88ca78e9d783d\n'}, {'number': 5, 'created': '2016-10-13 20:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2bf2c2dd149e31941d7998249e28db912d2993bf', 'message': 'Pass insecure and ca_certificate option for cfn transport\n\nThis fix passes the insecure and ca_certificate option to the\nos-collect-config.conf for the cfn transport.\n\nThe agent implementation is in changes\nI4f6262967ad346c6ff103cb359b02b81ef71573f and\nI0773f4e1db1a443d19f12f531fb88ca78e9d783d.\n\nChange-Id: I8201b072608c5683257df28c0824e89a021a4bcb\nCloses-Bug: #1482510\n'}, {'number': 6, 'created': '2017-03-15 01:38:43.000000000', 'files': ['heat/tests/openstack/nova/test_server.py', 'heat/engine/resources/server_base.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bb5cb0705232f7609581d6a218ee9575995a5462', 'message': 'Pass insecure and ca_certificate option for cfn transport\n\nThis fix passes the insecure and ca_certificate option to the\nos-collect-config.conf for the cfn transport.\nThe agent implementation is in changes\nI4f6262967ad346c6ff103cb359b02b81ef71573f and\nI0773f4e1db1a443d19f12f531fb88ca78e9d783d.\nCloses-Bug: #1482510\n\nChange-Id: I8201b072608c5683257df28c0824e89a021a4bcb\n'}]",1,285959,bb5cb0705232f7609581d6a218ee9575995a5462,18,3,6,11956,,,0,"Pass insecure and ca_certificate option for cfn transport

This fix passes the insecure and ca_certificate option to the
os-collect-config.conf for the cfn transport.
The agent implementation is in changes
I4f6262967ad346c6ff103cb359b02b81ef71573f and
I0773f4e1db1a443d19f12f531fb88ca78e9d783d.
Closes-Bug: #1482510

Change-Id: I8201b072608c5683257df28c0824e89a021a4bcb
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/285959/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/server.py'],1,6643a6639cc6246273637668b2338758350078d6,bug/1482510,"from heat.common import config ca_file = config.get_client_option('heat', 'ca_file') insecure = config.get_client_option('heat', 'insecure') 'path': '%s.Metadata' % self.name, 'ca_certificate': ca_file, 'insecure': insecure}})", 'path': '%s.Metadata' % self.name}}),6,1
openstack%2Fcinder~master~Ibbf04dedade6e85649ec702574ce51ce82fc8733,openstack/cinder,master,Ibbf04dedade6e85649ec702574ce51ce82fc8733,PowerMax Driver - retype attached replication fix,MERGED,2019-10-03 15:42:19.000000000,2019-12-03 18:25:49.000000000,2019-12-03 18:21:47.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31305}]","[{'number': 1, 'created': '2019-10-03 15:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/656ad96df14bb620922236135e81624316cdd1e2', 'message': 'PowerMax Driver - retype attached replication fix\n\nFixes for retyping attached volumes when moving from\nnon-replicated to replication enabled volume type.\nCases fixed:\n-Retype to metro replication with existing pairs.\n-Retype to non-replicated after retyping to metro.\n-Retype to asynchronous replication with existing pairs present.\n-Delete attached volume with asynchronous replication after\nattaching to an instance.\n\nChange-Id: Ibbf04dedade6e85649ec702574ce51ce82fc8733\n'}, {'number': 2, 'created': '2019-11-05 12:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/617a2629d0afcee334f35ae865ba311a3e92c7d7', 'message': 'PowerMax Driver - retype attached replication fix\n\nFixes for retyping attached volumes when moving from\nnon-replicated to replication enabled volume type.\nCases fixed:\n-Retype to metro replication with existing pairs.\n-Retype to non-replicated after retyping to metro.\n-Retype to asynchronous replication with existing pairs present.\n-Delete attached volume with asynchronous replication after\nattaching to an instance.\n\nChange-Id: Ibbf04dedade6e85649ec702574ce51ce82fc8733\nCloses-Bug: #1851371\n'}, {'number': 3, 'created': '2019-11-22 16:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9348a07dae00748fccc6bbfe0fcdc5287d42920f', 'message': 'PowerMax Driver - retype attached replication fix\n\nFixes for retyping attached volumes when moving from\nnon-replicated to replication enabled volume type.\nCases fixed:\n-Retype to metro replication with existing pairs.\n-Retype to non-replicated after retyping to metro.\n-Retype to asynchronous replication with existing pairs present.\n-Delete attached volume with asynchronous replication after\nattaching to an instance.\n\nChange-Id: Ibbf04dedade6e85649ec702574ce51ce82fc8733\nCloses-Bug: #1851371\n'}, {'number': 4, 'created': '2019-11-25 14:51:46.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/49b941b83a3db3f9f561590887e174742f50cc2b', 'message': 'PowerMax Driver - retype attached replication fix\n\nFixes for retyping attached volumes when moving from\nnon-replicated to replication enabled volume type.\nCases fixed:\n-Retype to metro replication with existing pairs.\n-Retype to non-replicated after retyping to metro.\n-Retype to asynchronous replication with existing pairs present.\n-Delete attached volume with asynchronous replication after\nattaching to an instance.\n\nChange-Id: Ibbf04dedade6e85649ec702574ce51ce82fc8733\nCloses-Bug: #1851371\n'}]",0,686429,49b941b83a3db3f9f561590887e174742f50cc2b,170,40,4,30165,,,0,"PowerMax Driver - retype attached replication fix

Fixes for retyping attached volumes when moving from
non-replicated to replication enabled volume type.
Cases fixed:
-Retype to metro replication with existing pairs.
-Retype to non-replicated after retyping to metro.
-Retype to asynchronous replication with existing pairs present.
-Delete attached volume with asynchronous replication after
attaching to an instance.

Change-Id: Ibbf04dedade6e85649ec702574ce51ce82fc8733
Closes-Bug: #1851371
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/686429/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",4,656ad96df14bb620922236135e81624316cdd1e2,bug/1851371, rep_extra_specs6 = deepcopy(rep_extra_specs3) rep_extra_specs6['target_array_model'] = 'PMAX2000',,126,42
openstack%2Fos-brick~stable%2Fqueens~I7ca0bf5fac20a370097f1c39ce005a1b23814459,openstack/os-brick,stable/queens,I7ca0bf5fac20a370097f1c39ce005a1b23814459,Handle None value 'inititator_target_map',MERGED,2019-11-27 18:32:38.000000000,2019-12-03 18:23:29.000000000,2019-12-03 18:23:28.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 14624}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-11-27 18:32:38.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c4e616e3a07009143ed8c840ec38b7c937180d07', 'message': ""Handle None value 'inititator_target_map'\n\nShould check not only if 'initiator_target_map' is in conn_props but\nalso its value is not None.\n\nChange-Id: I7ca0bf5fac20a370097f1c39ce005a1b23814459\nCloses-Bug: #1746218\n(cherry picked from commit 53877a95bc9f4d40315f876c076a7a32817ea904)\n""}]",0,696384,c4e616e3a07009143ed8c840ec38b7c937180d07,18,11,1,9535,,,0,"Handle None value 'inititator_target_map'

Should check not only if 'initiator_target_map' is in conn_props but
also its value is not None.

Change-Id: I7ca0bf5fac20a370097f1c39ce005a1b23814459
Closes-Bug: #1746218
(cherry picked from commit 53877a95bc9f4d40315f876c076a7a32817ea904)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/84/696384/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py']",3,c4e616e3a07009143ed8c840ec38b7c937180d07,bug/1849504," def test__get_hba_channel_scsi_target_with_initiator_target_map(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info(zone_manager=True) con_props['target_wwn'] = con_props['target_wwn'][0] con_props['targets'] = con_props['targets'][0:1] hbas[0]['port_name'] = '50014380186af83e' with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map_none(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info() con_props['target_wwn'] = con_props['target_wwn'][0] con_props['targets'] = con_props['targets'][0:1] con_props['initiator_target_map'] = None hbas[0]['port_name'] = '50014380186af83e' with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) ",,37,3
openstack%2Fpuppet-manila~stable%2Frocky~I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,openstack/puppet-manila,stable/rocky,I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,Configure service_instance_password as secret,MERGED,2019-12-02 02:53:35.000000000,2019-12-03 18:20:07.000000000,2019-12-03 18:20:07.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 02:53:35.000000000', 'files': ['manifests/service_instance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/b268d2028e2cd52cf63c3bbbf8e38f744fb8eed5', 'message': 'Configure service_instance_password as secret\n\nParameter service_instance_password should be configured as a secret.\n\nChange-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc\nCloses-Bug: #1854443\n(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)\n'}]",0,696806,b268d2028e2cd52cf63c3bbbf8e38f744fb8eed5,15,5,1,9414,,,0,"Configure service_instance_password as secret

Parameter service_instance_password should be configured as a secret.

Change-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc
Closes-Bug: #1854443
(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/06/696806/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service_instance.pp'],1,b268d2028e2cd52cf63c3bbbf8e38f744fb8eed5,bug/1854443-stable/rocky," ""${name}/service_instance_password"": value => $service_instance_password, secret => true;"," ""${name}/service_instance_password"": value => $service_instance_password;",1,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ia5a767491c2f297b396c5cc937c1495e4267a4e3,openstack/tripleo-upgrade,stable/queens,Ia5a767491c2f297b396c5cc937c1495e4267a4e3,Disable overcloud image validation,MERGED,2019-11-13 19:12:47.000000000,2019-12-03 18:08:47.000000000,2019-12-03 18:08:47.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c9f983dab86471ea15a8cdd1e91bb49ac66f788b', 'message': 'Disable overcloud image validation\n\nTo speed up CI and development process it would be better to disable\nthis script. CI will fail anyway even without this validation. Users\nwill be able to enable it if/when they decides to use tripleo-upgrade\nfor production upgrade.\n\nCloses-bug: #1844567\nChange-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3\n(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)\n(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)\n'}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/577803991772e41f39bd9d5c3904b4a21879cd89', 'message': 'Disable overcloud image validation\n\nTo speed up CI and development process it would be better to disable\nthis script. CI will fail anyway even without this validation. Users\nwill be able to enable it if/when they decides to use tripleo-upgrade\nfor production upgrade.\n\nCloses-bug: #1844567\nChange-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3\n(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)\n(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)\n'}, {'number': 3, 'created': '2019-11-22 09:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a64381d16c0aca5c6523dd27d0d9bfecdc23aab9', 'message': 'Disable overcloud image validation\n\nTo speed up CI and development process it would be better to disable\nthis script. CI will fail anyway even without this validation. Users\nwill be able to enable it if/when they decides to use tripleo-upgrade\nfor production upgrade.\n\nCloses-bug: #1844567\nChange-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3\n(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)\n(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)\n'}, {'number': 4, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/de62ec7c82613c842f5c82e0f2374764abc8c2f6', 'message': 'Disable overcloud image validation\n\nTo speed up CI and development process it would be better to disable\nthis script. CI will fail anyway even without this validation. Users\nwill be able to enable it if/when they decides to use tripleo-upgrade\nfor production upgrade.\n\nCloses-bug: #1844567\nChange-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3\n(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)\n(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)\n'}, {'number': 5, 'created': '2019-11-22 16:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e0a385670ffa1ab4ea87a74d95635cd140dd1f32', 'message': 'Disable overcloud image validation\n\nTo speed up CI and development process it would be better to disable\nthis script. CI will fail anyway even without this validation. Users\nwill be able to enable it if/when they decides to use tripleo-upgrade\nfor production upgrade.\n\nCloses-bug: #1844567\nChange-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3\n(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)\n(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)\n'}, {'number': 6, 'created': '2019-11-25 11:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/83f105f71eb87603719505cf3697ad513e0193e0', 'message': 'Disable overcloud image validation\n\nTo speed up CI and development process it would be better to disable\nthis script. CI will fail anyway even without this validation. Users\nwill be able to enable it if/when they decides to use tripleo-upgrade\nfor production upgrade.\n\nCloses-bug: #1844567\nChange-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3\n(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)\n(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)\n'}, {'number': 7, 'created': '2019-12-03 13:25:36.000000000', 'files': ['README.rst', 'tasks/update/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7d769026cefcd6edb782383d6a7d641e0e70f535', 'message': 'Disable overcloud image validation\n\nTo speed up CI and development process it would be better to disable\nthis script. CI will fail anyway even without this validation. Users\nwill be able to enable it if/when they decides to use tripleo-upgrade\nfor production upgrade.\n\nCloses-bug: #1844567\nChange-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3\n(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)\n(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)\n'}]",0,694154,7d769026cefcd6edb782383d6a7d641e0e70f535,18,3,7,11166,,,0,"Disable overcloud image validation

To speed up CI and development process it would be better to disable
this script. CI will fail anyway even without this validation. Users
will be able to enable it if/when they decides to use tripleo-upgrade
for production upgrade.

Closes-bug: #1844567
Change-Id: Ia5a767491c2f297b396c5cc937c1495e4267a4e3
(cherry picked from commit 72dd2c49e37db7ed014f297e3b7aad8dc22f60fe)
(cherry picked from commit 87639f0badbb5873f03d5c69ae75b0c828464f55)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/54/694154/3 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tasks/update/main.yml', 'defaults/main.yml']",3,c9f983dab86471ea15a8cdd1e91bb49ac66f788b,test,overcloud_images_validate: false,,6,1
openstack%2Fpaunch~stable%2Frocky~If129bbc1ff32941d06ff480f26870b10840591e0,openstack/paunch,stable/rocky,If129bbc1ff32941d06ff480f26870b10840591e0,Fix action Apply ignoring managed-by arg,MERGED,2019-11-29 09:49:29.000000000,2019-12-03 18:08:46.000000000,2019-12-03 18:08:46.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 09:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/2ae7e6dd6365201a6b9667dd3408e758c456c6ae', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 000a68b39312eb297bb7a2f91a5e4adfd840b5d3)\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-11-29 12:23:28.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'paunch/cmd.py', 'paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/965e3cfecb5d20bf1929adbe3f5ef5adc069705f', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 12ccf36b0e7f9b233b8b71a21fe24b241ecb639b)\n'}]",0,696675,965e3cfecb5d20bf1929adbe3f5ef5adc069705f,23,5,2,6926,,,0,"Fix action Apply ignoring managed-by arg

From the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the
action apply was ignoring the passed --managed-by values and was always
taking defaults ('paunch').

Fix this and provide no upgrade/update impact, which is for whatever
--managed-by value given to paunch, perform all checks and searches
also for that historically ""wrong"" value 'paunch':

* if a container needs to be (re)started by a new 'managed-by', make sure
  it can be found by the default 'paunch' value as well, then reset its
  managed-by to the desired value.

Closes-bug: #1853812

Change-Id: If129bbc1ff32941d06ff480f26870b10840591e0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 12ccf36b0e7f9b233b8b71a21fe24b241ecb639b)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/75/696675/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/cmd.py', 'paunch/runner.py']",2,2ae7e6dd6365201a6b9667dd3408e758c456c6ae,," results = cmd_stdout.split() if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch', '--format', fmt ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return set() results += cmd_stdout.split() return set(results) results = cmd_stdout.split() if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-q', '-a', '--filter', 'label=managed_by=paunch', '--filter', 'label=config_id=%s' % conf_id ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return [] results += cmd_stdout.split() return [c for c in results] results = cmd_stdout.split(""\n"") if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch' ] if conf_id: cmd.extend(( '--filter', 'label=config_id=%s' % conf_id )) cmd.extend(( '--format', '{{.Names}} %s' % fmt )) cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return results += cmd_stdout.split(""\n"") for line in results:"," if returncode != 0: return set() return set(cmd_stdout.split()) if returncode != 0: return [] return [c for c in cmd_stdout.split()] if returncode != 0: return for line in cmd_stdout.split(""\n""):",49,10
openstack%2Fpuppet-manila~stable%2Ftrain~I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,openstack/puppet-manila,stable/train,I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,Configure service_instance_password as secret,MERGED,2019-12-02 02:53:14.000000000,2019-12-03 18:07:09.000000000,2019-12-03 18:07:09.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 02:53:14.000000000', 'files': ['manifests/service_instance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/30b9a07dfd5f3bfb9a407dd3568bc88cad7b3b2b', 'message': 'Configure service_instance_password as secret\n\nParameter service_instance_password should be configured as a secret.\n\nChange-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc\nCloses-Bug: #1854443\n(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)\n'}]",0,696805,30b9a07dfd5f3bfb9a407dd3568bc88cad7b3b2b,15,5,1,9414,,,0,"Configure service_instance_password as secret

Parameter service_instance_password should be configured as a secret.

Change-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc
Closes-Bug: #1854443
(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/05/696805/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service_instance.pp'],1,30b9a07dfd5f3bfb9a407dd3568bc88cad7b3b2b,bug/1854443-stable/train," ""${name}/service_instance_password"": value => $service_instance_password, secret => true;"," ""${name}/service_instance_password"": value => $service_instance_password;",1,1
openstack%2Fsushy-tools~master~Ic848882acbd446effbdf9b761d4ac1025d24c324,openstack/sushy-tools,master,Ic848882acbd446effbdf9b761d4ac1025d24c324,Retain boot device selection upon boot image change,MERGED,2019-11-29 17:44:59.000000000,2019-12-03 18:02:13.000000000,2019-12-03 17:59:34.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-29 17:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/484699813b8e88ff62e89192849e1f0177283099', 'message': 'Retain boot device selection upon boot image change\n\nWhen changing boot image in libvirt domain, note current boot\ndevice and restore it if the image being changed resides on\nthe active boot device.\n\nPrior to this patch, as a side-effect of changing boot image,\nboot device selection could get reset.\n\nChange-Id: Ic848882acbd446effbdf9b761d4ac1025d24c324\n'}, {'number': 2, 'created': '2019-12-02 12:39:16.000000000', 'files': ['releasenotes/notes/fix-retain-boot-device-5ae02731d2a000d3.yaml', 'sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/907c3ad6d50ef7fc11bfb7f324c91f30016ba2ab', 'message': 'Retain boot device selection upon boot image change\n\nWhen changing boot image in libvirt domain, note current boot\ndevice and restore it if the image being changed resides on\nthe active boot device.\n\nPrior to this patch, as a side-effect of changing boot image,\nboot device selection could get reset.\n\nChange-Id: Ic848882acbd446effbdf9b761d4ac1025d24c324\n'}]",6,696752,907c3ad6d50ef7fc11bfb7f324c91f30016ba2ab,16,4,2,26340,,,0,"Retain boot device selection upon boot image change

When changing boot image in libvirt domain, note current boot
device and restore it if the image being changed resides on
the active boot device.

Prior to this patch, as a side-effect of changing boot image,
boot device selection could get reset.

Change-Id: Ic848882acbd446effbdf9b761d4ac1025d24c324
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/52/696752/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-retain-boot-device-5ae02731d2a000d3.yaml', 'sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py']",3,484699813b8e88ff62e89192849e1f0177283099,02-fix-set-boot-image," with mock.patch.object( self.test_driver, 'get_boot_device', return_value=None): self.test_driver.set_boot_image( self.uuid, 'Cd', '/tmp/image.iso') @mock.patch('libvirt.open', autospec=True) @mock.patch('libvirt.openReadOnly', autospec=True) def test_set_boot_image_restore_boot_device( self, libvirt_mock, libvirt_rw_mock): with open('sushy_tools/tests/unit/emulator/domain.xml', 'r') as f: data = f.read() conn_mock = libvirt_rw_mock.return_value domain_mock = conn_mock.lookupByUUID.return_value domain_mock.XMLDesc.return_value = data with mock.patch.object( self.test_driver, 'get_power_state', return_value='Off'): with mock.patch.object( self.test_driver, 'get_boot_device') as gbd_mock: with mock.patch.object( self.test_driver, 'set_boot_device') as sbd_mock: with mock.patch.object( self.test_driver, '_remove_boot_images'): with mock.patch.object( self.test_driver, '_add_boot_image'): gbd_mock.return_value = 'Cd' self.test_driver.set_boot_image( self.uuid, 'Cd', '/tmp/image.iso') gbd_mock.assert_called_once_with(self.uuid) sbd_mock.assert_called_once_with(self.uuid, 'Cd') "," self.test_driver.set_boot_image(self.uuid, 'Cd', '/tmp/image.iso')",49,2
openstack%2Fheat~master~Iaeb8fca80a3099c6b6d45579a10a1590c47d9aba,openstack/heat,master,Iaeb8fca80a3099c6b6d45579a10a1590c47d9aba,WIP template resource value,ABANDONED,2018-12-21 10:50:41.000000000,2019-12-03 17:56:37.000000000,,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-12-21 10:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6b03dc54f7b04d0f6e12b4e185a6a547d55878db', 'message': 'WIP template resource value\n\nThis an attempt at optimizing template resources which only build.\noutputs.\n\nChange-Id: Iaeb8fca80a3099c6b6d45579a10a1590c47d9aba\n'}, {'number': 2, 'created': '2018-12-21 15:08:37.000000000', 'files': ['heat/tests/test_provider_template.py', 'heat/engine/resources/template_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/60fd0a673f6cf1452d0189398e7e948d619a4117', 'message': 'WIP template resource value\n\nThis an attempt at optimizing template resources which only build.\noutputs.\n\nChange-Id: Iaeb8fca80a3099c6b6d45579a10a1590c47d9aba\n'}]",0,626870,60fd0a673f6cf1452d0189398e7e948d619a4117,11,6,2,7385,,,0,"WIP template resource value

This an attempt at optimizing template resources which only build.
outputs.

Change-Id: Iaeb8fca80a3099c6b6d45579a10a1590c47d9aba
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/626870/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_provider_template.py', 'heat/engine/resources/template_resource.py']",2,6b03dc54f7b04d0f6e12b4e185a6a547d55878db,resource-template-value,"from heat.engine import resource base_class = TemplateResource if not tmpl.get(tmpl.RESOURCES): base_class = TemplateResourceValue cls = type(name, (base_class,),class TemplateResourceValue(resource.Resource): """"""A TemplateResource without resources. In the case where we have a templat resource without resources, we can skip the stack creation and simply store the parameter and outputs as a single resource. """""" def handle_create(self): self.resource_id_set(self.physical_resource_name()) "," cls = type(name, (TemplateResource,),",37,1
openstack%2Fopenstack-ansible~stable%2Ftrain~I709adf406d8ffc493d632e0a8382938feb7c2d7c,openstack/openstack-ansible,stable/train,I709adf406d8ffc493d632e0a8382938feb7c2d7c,Change rabbitmq_package_state logic,MERGED,2019-11-20 15:43:14.000000000,2019-12-03 17:56:00.000000000,2019-12-03 17:53:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-20 15:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/058ce6e37ee1e806424678998fe318d111b62b94', 'message': ""Change rabbitmq_package_state logic\n\nThis patch sets dependency of rabbitmq_package_state from\nrabbitmq_upgrade flag. So when rabbitmq_upgrade is set to True, we need\npackages to be updated.\nWhen it's False, they should be left unchanged.\n\nDepends-On: https://review.opendev.org/693841\nChange-Id: I709adf406d8ffc493d632e0a8382938feb7c2d7c\n(cherry picked from commit 23c34a79a200c615af19abe8bc77ff87c2d10267)\n""}, {'number': 2, 'created': '2019-11-22 14:29:04.000000000', 'files': ['inventory/group_vars/rabbitmq_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65b5c8004348bc7f57d3fe2baf05e97292ee8ba8', 'message': ""Change rabbitmq_package_state logic\n\nThis patch sets dependency of rabbitmq_package_state from\nrabbitmq_upgrade flag. So when rabbitmq_upgrade is set to True, we need\npackages to be updated.\nWhen it's False, they should be left unchanged.\n\nChange-Id: I709adf406d8ffc493d632e0a8382938feb7c2d7c\n(cherry picked from commit 23c34a79a200c615af19abe8bc77ff87c2d10267)\n""}]",0,695223,65b5c8004348bc7f57d3fe2baf05e97292ee8ba8,22,4,2,25023,,,0,"Change rabbitmq_package_state logic

This patch sets dependency of rabbitmq_package_state from
rabbitmq_upgrade flag. So when rabbitmq_upgrade is set to True, we need
packages to be updated.
When it's False, they should be left unchanged.

Change-Id: I709adf406d8ffc493d632e0a8382938feb7c2d7c
(cherry picked from commit 23c34a79a200c615af19abe8bc77ff87c2d10267)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/23/695223/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/rabbitmq_all.yml'],1,058ce6e37ee1e806424678998fe318d111b62b94,osa-train,"rabbitmq_package_state: ""{{ rabbitmq_upgrade | default(False) | bool | ternary('latest', 'present') }}""","rabbitmq_package_state: ""{{ package_state }}""",1,1
openstack%2Fnetworking-bagpipe~master~I21b7d6311383eb6cf0b696295c0b2d152ac5d054,openstack/networking-bagpipe,master,I21b7d6311383eb6cf0b696295c0b2d152ac5d054,use object common_types from neutron-lib,MERGED,2019-06-11 19:02:59.000000000,2019-12-03 17:52:27.000000000,2019-12-03 17:49:46.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-11 19:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/a9d9320b147760dd6d2d73c9ea7fdd0b68f75a8e', 'message': 'use object common_types from neutron-lib\n\nSwitch over to neutron-lib for OVO common_types.\n\nChange-Id: I21b7d6311383eb6cf0b696295c0b2d152ac5d054\n'}, {'number': 2, 'created': '2019-07-08 20:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/eb1bf62bed6602a84551386535079bd9ee7b589e', 'message': 'use object common_types from neutron-lib\n\nSwitch over to neutron-lib for OVO common_types.\n\nDepends-On: https://review.opendev.org/#/c/664646/\n\nChange-Id: I21b7d6311383eb6cf0b696295c0b2d152ac5d054\n'}, {'number': 3, 'created': '2019-11-22 13:03:47.000000000', 'files': ['networking_bagpipe/objects/sfc.py', 'networking_bagpipe/objects/bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/410cbb01c1a6d7d392b1a1b322b14126aaf2be29', 'message': 'use object common_types from neutron-lib\n\nSwitch over to neutron-lib for OVO common_types.\n\nDepends-On: https://review.opendev.org/#/c/664646/\n\nChange-Id: I21b7d6311383eb6cf0b696295c0b2d152ac5d054\n'}]",0,664672,410cbb01c1a6d7d392b1a1b322b14126aaf2be29,22,7,3,5367,,,0,"use object common_types from neutron-lib

Switch over to neutron-lib for OVO common_types.

Depends-On: https://review.opendev.org/#/c/664646/

Change-Id: I21b7d6311383eb6cf0b696295c0b2d152ac5d054
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/72/664672/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/objects/sfc.py', 'networking_bagpipe/objects/bgpvpn.py']",2,a9d9320b147760dd6d2d73c9ea7fdd0b68f75a8e,bp/neutronlib-decouple-db,from neutron_lib.objects import common_types,from neutron.objects import common_types,2,2
openstack%2Fsushy-tools~master~I7b9d4ca23d5eb42b791c9399dbe03f921664569e,openstack/sushy-tools,master,I7b9d4ca23d5eb42b791c9399dbe03f921664569e,Bring libvirt domain down prior to any change,MERGED,2019-11-28 17:49:43.000000000,2019-12-03 17:52:10.000000000,2019-12-03 17:50:42.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-28 17:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/db91e0c15de9a45eb1e94fb06097096482a508a8', 'message': ""[WIP] Bring libvirt domain down prior to any change\n\nWhen Redfish emulator is running against libvirt virtualization\nbackend, any changes being done to domain are not applied for\nas long as the domain is up. This leads to two nuisances:\n\n- REST API is not really REST-ful meaning that successfully\n  applied change is not reflected in the document tree\n- Multiple changes done to live domain XML tree may override one\n  another because N-1 change done to a domain is not visible\n  to N's change\n\nThe solution offered by this patch has been discovered in the\nearly days of computers and has been used with great success ever\nafter - we will simply turn the domain off and on again whenever\nany change is about to be done to the domain.\n\nChange-Id: I7b9d4ca23d5eb42b791c9399dbe03f921664569e\n""}, {'number': 2, 'created': '2019-11-29 16:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6d4970d627145b0436cba19ca0d927dba590ba1d', 'message': ""Bring libvirt domain down prior to any change\n\nWhen Redfish emulator is running against libvirt virtualization\nbackend, any changes being done to domain are not applied for\nas long as the domain is up. This leads to two nuisances:\n\n- REST API is not really REST-ful meaning that successfully\n  applied change is not reflected in the document tree\n- Multiple changes done to live domain XML tree may override one\n  another because N-1 change done to a domain is not visible\n  to N's change\n\nThe solution offered by this patch has been discovered in the\nearly days of computers and has been used with great success ever\nafter - we will simply turn the domain off and on again for the\ntime a change is being done to the domain.\n\nChange-Id: I7b9d4ca23d5eb42b791c9399dbe03f921664569e\n""}, {'number': 3, 'created': '2019-12-02 12:27:06.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py', 'releasenotes/notes/fix-libvirt-statefulness-0a2a7812d79fdd25.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/564ae30f32af5eb6455854af377e18180253263e', 'message': ""Bring libvirt domain down prior to any change\n\nWhen Redfish emulator is running against libvirt virtualization\nbackend, any changes being done to domain are not applied for\nas long as the domain is up. This leads to two nuisances:\n\n- REST API is not really REST-ful meaning that successfully\n  applied change is not reflected in the document tree\n- Multiple changes done to live domain XML tree may override one\n  another because N-1 change done to a domain is not visible\n  to N's change\n\nThe solution offered by this patch has been discovered in the\nearly days of computers and has been used with great success ever\nafter - we will simply turn the domain off and on again for the\ntime a change is being done to the domain.\n\nChange-Id: I7b9d4ca23d5eb42b791c9399dbe03f921664569e\n""}]",2,696620,564ae30f32af5eb6455854af377e18180253263e,16,4,3,26340,,,0,"Bring libvirt domain down prior to any change

When Redfish emulator is running against libvirt virtualization
backend, any changes being done to domain are not applied for
as long as the domain is up. This leads to two nuisances:

- REST API is not really REST-ful meaning that successfully
  applied change is not reflected in the document tree
- Multiple changes done to live domain XML tree may override one
  another because N-1 change done to a domain is not visible
  to N's change

The solution offered by this patch has been discovered in the
early days of computers and has been used with great success ever
after - we will simply turn the domain off and on again for the
time a change is being done to the domain.

Change-Id: I7b9d4ca23d5eb42b791c9399dbe03f921664569e
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/20/696620/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/resources/systems/libvirtdriver.py'],1,db91e0c15de9a45eb1e94fb06097096482a508a8,01-add-power-cycle,"def power_cycle(wrapped): def wrapper(self, identity, *args, **kwargs): power_state = self.get_power_state(identity) if power_state == 'On': self.set_power_state(identity, 'ForceOff') try: return wrapped(self, identity, *args, **kwargs) finally: if power_state == 'On': self.set_power_state(identity, power_state) return wrapper @power_cycle @power_cycle @power_cycle @power_cycle",,21,0
openstack%2Fnetworking-ovn~master~I554d62265ecf0e890f9545d871afe85c0344f747,openstack/networking-ovn,master,I554d62265ecf0e890f9545d871afe85c0344f747,Remove escape characters from container command,MERGED,2019-10-10 17:39:29.000000000,2019-12-03 17:33:17.000000000,2019-11-14 15:01:33.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 8833}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 17:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/871021252a2c66437485b2eb548a7226942953ca', 'message': 'Remove escape characters from container command\n\nAnsible outputs JSON-encoded strings which does not work with\ncontainer clis (ex. docker). Write to a temp file instead.\n\nChange-Id: I554d62265ecf0e890f9545d871afe85c0344f747\n'}, {'number': 2, 'created': '2019-10-11 03:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cc97709fee9a6cbc6732ad16bbb8e8fe12c0c6bf', 'message': 'Remove escape characters from container command\n\nAnsible outputs JSON-encoded strings which does not work with\ncontainer clis (ex. docker). Write to a temp file instead.\n\nChange-Id: I554d62265ecf0e890f9545d871afe85c0344f747\nCloses-Bug: #1847707\n'}, {'number': 3, 'created': '2019-10-11 08:11:09.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/63243f6cb082631758a12e7f1f558784fae2abe6', 'message': 'Remove escape characters from container command\n\nAnsible outputs JSON-encoded strings which does not work with\ncontainer clis (ex. docker). Write to a temp file instead.\n\nChange-Id: I554d62265ecf0e890f9545d871afe85c0344f747\nCloses-Bug: #1847707\n'}]",2,687960,63243f6cb082631758a12e7f1f558784fae2abe6,18,8,3,8833,,,0,"Remove escape characters from container command

Ansible outputs JSON-encoded strings which does not work with
container clis (ex. docker). Write to a temp file instead.

Change-Id: I554d62265ecf0e890f9545d871afe85c0344f747
Closes-Bug: #1847707
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/60/687960/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,871021252a2c66437485b2eb548a7226942953ca,," f_cmd=""/tmp/container-cmd-{{ item.key }}.sh"" echo $cmd /cleanup.sh >> $f_cmd chmod a+x $f_cmd $f_cmd", $cmd /cleanup.sh,4,2
openstack%2Fironic-inspector~master~If8115f8d592e1b24b07ef52bcd703d10763c1f00,openstack/ironic-inspector,master,If8115f8d592e1b24b07ef52bcd703d10763c1f00,Stop trying to power off nodes if manage_boot is False,MERGED,2019-10-18 11:54:58.000000000,2019-12-03 17:16:22.000000000,2019-10-21 22:33:22.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-18 11:54:58.000000000', 'files': ['ironic_inspector/process.py', 'ironic_inspector/test/unit/test_process.py', 'releasenotes/notes/manage-boot-power-off-d8ed644f11659c38.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/85267e881c4aaa83511a247d28693600dc8ced94', 'message': ""Stop trying to power off nodes if manage_boot is False\n\nWhen manage_boot is False, we do not power on the machines on starting\nintrospection, nor do we power them off on aborting. We should not\npower off on finishing introspection either, let's leave it up to ironic.\n\nChange-Id: If8115f8d592e1b24b07ef52bcd703d10763c1f00\nStory: #1528920\n""}]",1,689433,85267e881c4aaa83511a247d28693600dc8ced94,17,5,1,10239,,,0,"Stop trying to power off nodes if manage_boot is False

When manage_boot is False, we do not power on the machines on starting
introspection, nor do we power them off on aborting. We should not
power off on finishing introspection either, let's leave it up to ironic.

Change-Id: If8115f8d592e1b24b07ef52bcd703d10763c1f00
Story: #1528920
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/33/689433/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/process.py', 'ironic_inspector/test/unit/test_process.py', 'releasenotes/notes/manage-boot-power-off-d8ed644f11659c38.yaml']",3,85267e881c4aaa83511a247d28693600dc8ced94,story/1528920,--- fixes: - | No longer tries to power off nodes after introspection if ``manage_boot`` is ``False``. ,,15,1
openstack%2Fpuppet-octavia~master~I4e8b8bf5340f64c262a4f6ac46e0fcf22c1e3bd1,openstack/puppet-octavia,master,I4e8b8bf5340f64c262a4f6ac46e0fcf22c1e3bd1,Remove extra line,MERGED,2019-12-03 06:52:37.000000000,2019-12-03 17:14:23.000000000,2019-12-03 17:14:22.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 06:52:37.000000000', 'files': ['manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d58dccda0711c0d003e8ef4071a321b270dce20c', 'message': 'Remove extra line\n\nChange-Id: I4e8b8bf5340f64c262a4f6ac46e0fcf22c1e3bd1\n'}]",0,697007,d58dccda0711c0d003e8ef4071a321b270dce20c,8,2,1,9414,,,0,"Remove extra line

Change-Id: I4e8b8bf5340f64c262a4f6ac46e0fcf22c1e3bd1
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/07/697007/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/controller.pp'],1,d58dccda0711c0d003e8ef4071a321b270dce20c,remove_extra_space,,,0,1
openstack%2Ftripleo-quickstart~master~Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b,openstack/tripleo-quickstart,master,Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b,Deploy the undercloud/overcloud containerized in newer versions,MERGED,2019-11-20 16:11:00.000000000,2019-12-03 17:11:39.000000000,2019-12-03 17:09:29.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-20 16:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e7869bbc1d4fdd122d437d4e61beaafd4e995595', 'message': 'Check - generate containers-prepare-parameter.yaml\n\nChange-Id: Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b\n'}, {'number': 2, 'created': '2019-11-20 16:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d99d0fae4c028412733f9d1fcfead011ac84c201', 'message': 'Generate containers-prepare-parameter.yaml\n\nWe upgrade from a containerized environment\nto a containerized environment.\n\nDepends-On: https://review.opendev.org/#/c/694300/\n\nChange-Id: Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b\n'}, {'number': 3, 'created': '2019-11-20 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1b199545967d28710470a214240e23dd56c60428', 'message': 'Generate containers-prepare-parameter.yaml\n\nWe upgrade from a containerized environment\nto a containerized environment.\n\nDepends-On: https://review.opendev.org/#/c/695242/\n\nChange-Id: Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b\n'}, {'number': 4, 'created': '2019-11-21 09:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f7e10388952964ea4d321468ee15a62233f1dbf8', 'message': 'Generate containers-prepare-parameter.yaml\n\nWe upgrade from a containerized environment\nto a containerized environment.\n\nChange-Id: Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b\n'}, {'number': 5, 'created': '2019-11-22 08:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6d8eabe3b33083a34775accf818623f9bf418d47', 'message': 'Generate containers-prepare-parameter.yaml\n\nWe upgrade from a containerized environment\nto a containerized environment.\n\nChange-Id: Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b\n'}, {'number': 6, 'created': '2019-11-29 09:09:23.000000000', 'files': ['config/general_config/featureset050.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/94f80c47cfa0f0d35c5cd617021086801f892f18', 'message': 'Deploy the undercloud/overcloud containerized in newer versions\n\nWe are missing to deploy the environment\nwith containers depending on the version, also the undercloud\nis with <20GB in the disk, and the free space validation fails.\n\nChange-Id: Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b\n'}]",4,695234,94f80c47cfa0f0d35c5cd617021086801f892f18,32,8,6,20775,,,0,"Deploy the undercloud/overcloud containerized in newer versions

We are missing to deploy the environment
with containers depending on the version, also the undercloud
is with <20GB in the disk, and the free space validation fails.

Change-Id: Ibcdfd71b9280615aedc4d59ef0c566c475f15d0b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/34/695234/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset050.yml'],1,e7869bbc1d4fdd122d437d4e61beaafd4e995595,,containerized_undercloud: true,containerized_undercloud: false,1,1
openstack%2Fpaunch~stable%2Fstein~If129bbc1ff32941d06ff480f26870b10840591e0,openstack/paunch,stable/stein,If129bbc1ff32941d06ff480f26870b10840591e0,Fix action Apply ignoring managed-by arg,MERGED,2019-11-29 09:48:35.000000000,2019-12-03 16:55:52.000000000,2019-12-03 16:53:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 09:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/759ad9894880847c1857f66cf51e1e616acb9698', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 000a68b39312eb297bb7a2f91a5e4adfd840b5d3)\n'}, {'number': 2, 'created': '2019-11-29 12:25:21.000000000', 'files': ['paunch/cmd.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/40aba310e8a6fe0c2d0d4bd9e6c437c4ede25ba8', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 12ccf36b0e7f9b233b8b71a21fe24b241ecb639b)\n'}]",0,696674,40aba310e8a6fe0c2d0d4bd9e6c437c4ede25ba8,19,5,2,6926,,,0,"Fix action Apply ignoring managed-by arg

From the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the
action apply was ignoring the passed --managed-by values and was always
taking defaults ('paunch').

Fix this and provide no upgrade/update impact, which is for whatever
--managed-by value given to paunch, perform all checks and searches
also for that historically ""wrong"" value 'paunch':

* if a container needs to be (re)started by a new 'managed-by', make sure
  it can be found by the default 'paunch' value as well, then reset its
  managed-by to the desired value.

Closes-bug: #1853812

Change-Id: If129bbc1ff32941d06ff480f26870b10840591e0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 12ccf36b0e7f9b233b8b71a21fe24b241ecb639b)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/74/696674/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/cmd.py', 'paunch/runner.py']",2,759ad9894880847c1857f66cf51e1e616acb9698,," results = cmd_stdout.split() if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch', '--format', fmt ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return set() results += cmd_stdout.split() return set(results) results = cmd_stdout.split() if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-q', '-a', '--filter', 'label=managed_by=paunch', '--filter', 'label=config_id=%s' % conf_id ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return [] results += cmd_stdout.split() return [c for c in results] results = cmd_stdout.split(""\n"") if returncode != 0 or not results or results == ['']: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch' ] if conf_id: cmd.extend(( '--filter', 'label=config_id=%s' % conf_id )) cmd.extend(( '--format', '{{.Names}} %s' % fmt )) cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return results += cmd_stdout.split(""\n"") for line in results:"," if returncode != 0: return set() return set(cmd_stdout.split()) if returncode != 0: return [] return [c for c in cmd_stdout.split()] if returncode != 0: return for line in cmd_stdout.split(""\n""):",49,10
openstack%2Fkolla~master~I85132bbace63c8b386f69ddb758a3b52e52c0ef0,openstack/kolla,master,I85132bbace63c8b386f69ddb758a3b52e52c0ef0,build: remove link to failed log before creating,MERGED,2018-10-23 15:02:17.000000000,2019-12-03 16:35:43.000000000,2018-10-29 13:55:35.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-10-23 15:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2a9fd7977e76ff743a2d51f5ffa5d4abc301d78a', 'message': 'build: remove link to failed log before creating\n\nKolla allows to create separate logs per image. It also makes very\nuseful symlinks to those builds which fail.\n\nBut it fails to do that on next builds:\n\nERROR:kolla.common.utils:aodh-base Failed with status: error\nTraceback (most recent call last):\n  File ""./tools/build.py"", line 40, in <module>\n    sys.exit(main())\n  File ""./tools/build.py"", line 30, in main\n    statuses = build.run_build()\n  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1333, in run_build\n    results = kolla.summary()\n  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1037, in summary\n    ""000_FAILED_%s.log"" % name))\nFileExistsError: [Errno 17] File exists: \'aodh-base.log\' -> \'logs/debian-source-buster/000_FAILED_aodh-base.log\'\n\nChange-Id: I85132bbace63c8b386f69ddb758a3b52e52c0ef0\n'}, {'number': 2, 'created': '2018-10-25 19:55:20.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5792c1d7b44737f1f39bb1a81b0c95207ad087ad', 'message': 'build: remove link to failed log before creating\n\nKolla allows to create separate logs per image. It also makes very\nuseful symlinks to those builds which fail.\n\nBut it fails to do that on next builds:\n\nERROR:kolla.common.utils:aodh-base Failed with status: error\nTraceback (most recent call last):\n  File ""./tools/build.py"", line 40, in <module>\n    sys.exit(main())\n  File ""./tools/build.py"", line 30, in main\n    statuses = build.run_build()\n  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1333, in run_build\n    results = kolla.summary()\n  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1037, in summary\n    ""000_FAILED_%s.log"" % name))\nFileExistsError: [Errno 17] File exists: \'aodh-base.log\' -> \'logs/debian-source-buster/000_FAILED_aodh-base.log\'\n\nChange-Id: I85132bbace63c8b386f69ddb758a3b52e52c0ef0\n'}]",0,612726,5792c1d7b44737f1f39bb1a81b0c95207ad087ad,15,3,2,24072,,,0,"build: remove link to failed log before creating

Kolla allows to create separate logs per image. It also makes very
useful symlinks to those builds which fail.

But it fails to do that on next builds:

ERROR:kolla.common.utils:aodh-base Failed with status: error
Traceback (most recent call last):
  File ""./tools/build.py"", line 40, in <module>
    sys.exit(main())
  File ""./tools/build.py"", line 30, in main
    statuses = build.run_build()
  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1333, in run_build
    results = kolla.summary()
  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1037, in summary
    ""000_FAILED_%s.log"" % name))
FileExistsError: [Errno 17] File exists: 'aodh-base.log' -> 'logs/debian-source-buster/000_FAILED_aodh-base.log'

Change-Id: I85132bbace63c8b386f69ddb758a3b52e52c0ef0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/612726/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,2a9fd7977e76ff743a2d51f5ffa5d4abc301d78a,612726," linkname = os.path.join(self.conf.logs_dir, ""000_FAILED_%s.log"" % name) try: os.lstat(linkname) os.remove(linkname) except OSError: pass os.symlink(""%s.log"" % name, linkname)"," os.symlink(""%s.log"" % name, os.path.join(self.conf.logs_dir, ""000_FAILED_%s.log"" % name))",9,3
openstack%2Ftripleo-heat-templates~master~Ie3627d427c03a7695abfdea1dbeeef67ce706bbf,openstack/tripleo-heat-templates,master,Ie3627d427c03a7695abfdea1dbeeef67ce706bbf,DNM - test virtlogd start,ABANDONED,2019-12-02 11:40:12.000000000,2019-12-03 16:32:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 11:40:12.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'ci/environments/multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4b822504ded10406b2efa7686d3429d7d89cb62', 'message': 'DNM - test virtlogd start\n\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nDepends-On: If728788293dd64622cf95da840b60e271197e9a0\nChange-Id: Ie3627d427c03a7695abfdea1dbeeef67ce706bbf\n'}]",0,696866,d4b822504ded10406b2efa7686d3429d7d89cb62,4,2,1,17216,,,0,"DNM - test virtlogd start

Depends-On: I313dc6233895f37fb7616aee730e5802c9aac3df
Depends-On: If728788293dd64622cf95da840b60e271197e9a0
Change-Id: Ie3627d427c03a7695abfdea1dbeeef67ce706bbf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/696866/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'ci/environments/multinode-containers.yaml']",3,d4b822504ded10406b2efa7686d3429d7d89cb62,virtlogd_start, EnablePaunch: False,,4,2
openstack%2Fos-net-config~stable%2Fstein~Ib4d40bac8e25600be97cdae3715c87449aad573b,openstack/os-net-config,stable/stein,Ib4d40bac8e25600be97cdae3715c87449aad573b,Using tempfile instead of fixed path in unit tests.,MERGED,2019-12-02 15:55:19.000000000,2019-12-03 16:28:23.000000000,2019-12-03 16:28:23.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 15:55:19.000000000', 'files': ['os_net_config/tests/test_sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fd4927708a2b0bedf48de712db652f03de04951e', 'message': 'Using tempfile instead of fixed path in unit tests.\n\nChange-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b\n(cherry picked from commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6)\n'}]",3,696905,fd4927708a2b0bedf48de712db652f03de04951e,13,8,1,18904,,,0,"Using tempfile instead of fixed path in unit tests.

Change-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b
(cherry picked from commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/05/696905/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_sriov_config.py'],1,fd4927708a2b0bedf48de712db652f03de04951e,test_issue-stable/stein,"import tempfile """"""Unit tests for methods defined in sriov_config.py"""""" tmpdir = tempfile.mkdtemp() self.stub_out('os_net_config.sriov_config._SYS_CLASS_NET', tmpdir) sriov_config._UDEV_RULE_FILE = '/tmp/' + rand + 'etc_udev_rules.d'\ '80-persistent-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/' + rand + 'sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/' + rand + 'etc_sysconfig_'\ 'allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/' + rand + 'sriov_config'\ if os.path.isfile(sriov_config._RESET_SRIOV_RULES_FILE): os.remove(sriov_config._RESET_SRIOV_RULES_FILE) if os.path.isfile(sriov_config._ALLOCATE_VFS_FILE): os.remove(sriov_config._ALLOCATE_VFS_FILE) if os.path.isfile(sriov_config._UDEV_LEGACY_RULE_FILE): os.remove(sriov_config._UDEV_LEGACY_RULE_FILE) """"""Test the numvfs setting for SR-IOV PF Test the udev rules created for legacy mode of SR-IOV PF """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: The ifup-local has the default content generated by puppet-tripleo """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: When os-net-config is run on fresh deployments, all these files will not exist. """""" """"""Test the cleanup of puppet-tripleo generated config file Usecase: When os-net-config is run first time after the deprecation of NeutronSriovNumVFs and ifup-local has contents other than invoking allocate_vfs. """""" """"""Test the numvfs config with valid arguments"""""" """"""Test the numvfs config with invalid arguments"""""" """"""Test the numvfs config while its already configured"""""" """"""Test configuration of SR-IOV VF settings"""""" ", sriov_config._SYS_CLASS_NET = '/tmp/sys_class_net' sriov_config._UDEV_RULE_FILE = '/tmp/etc_udev_rules.d_80-persistent'\ '-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/etc_udev_rules.d_'\ '70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/etc_udev_rules.d_'\ '70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/etc_sysconfig_allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/sriov_config_' + rand + \ os.mkdir(sriov_config._SYS_CLASS_NET),54,11
openstack%2Ftripleo-upgrade~stable%2Fqueens~I4754a085c6255f977142302d2bee135220056c4f,openstack/tripleo-upgrade,stable/queens,I4754a085c6255f977142302d2bee135220056c4f,[Documentation] Migrate the format.,MERGED,2019-11-13 19:12:47.000000000,2019-12-03 16:28:22.000000000,2019-12-03 16:28:22.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6d3e692bf5b1ea4212915dc3c55bcedffd7a01ad', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: I4754a085c6255f977142302d2bee135220056c4f\n(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)\n(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)\n'}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3eec4364b7dfb54c8e14abc48b9ac3ebf02efd0d', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: I4754a085c6255f977142302d2bee135220056c4f\n(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)\n(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)\n'}, {'number': 3, 'created': '2019-11-22 09:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dee6263663c6a2c493d02c5db3449da5276f30a2', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: I4754a085c6255f977142302d2bee135220056c4f\n(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)\n(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)\n'}, {'number': 4, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8661a0d66c92def5d143408620c60271f7c8d06a', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: I4754a085c6255f977142302d2bee135220056c4f\n(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)\n(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)\n'}, {'number': 5, 'created': '2019-11-22 16:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a4275f2756c4030cccee30cffa6139a59ce253a3', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: I4754a085c6255f977142302d2bee135220056c4f\n(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)\n(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)\n'}, {'number': 6, 'created': '2019-11-25 11:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/910459befb95ab291e9d0e09ce17a712b54fb01e', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: I4754a085c6255f977142302d2bee135220056c4f\n(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)\n(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)\n'}, {'number': 7, 'created': '2019-12-03 13:25:36.000000000', 'files': ['README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c0ae27e09e703bd331cd3fdaff62806e78967030', 'message': '[Documentation] Migrate the format.\n\nMoved the file to README.rst for consistency with other OpenStack\nproject documentation.\n\nChange-Id: I4754a085c6255f977142302d2bee135220056c4f\n(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)\n(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)\n'}]",0,694153,c0ae27e09e703bd331cd3fdaff62806e78967030,18,3,7,11166,,,0,"[Documentation] Migrate the format.

Moved the file to README.rst for consistency with other OpenStack
project documentation.

Change-Id: I4754a085c6255f977142302d2bee135220056c4f
(cherry picked from commit e3e97beb53cc70b9def7278864c6ad7840dcdafb)
(cherry picked from commit 4f1d4f792f7b52239f5532093cefd7f04ee2671a)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/53/694153/6 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'setup.cfg']",2,6d3e692bf5b1ea4212915dc3c55bcedffd7a01ad,test, README.rst, README.md,46,41
openstack%2Ftripleo-ci~master~I71d0f5ccaee1ef2ee1140e5787e54369a2a00810,openstack/tripleo-ci,master,I71d0f5ccaee1ef2ee1140e5787e54369a2a00810,"Revert ""Component promotion jobs should read a custom release cfg""",MERGED,2019-12-02 19:53:23.000000000,2019-12-03 16:28:21.000000000,2019-12-03 16:28:21.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 19:53:23.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e37355af90773350f12b3a4449bf7990b9b3f18', 'message': 'Revert ""Component promotion jobs should read a custom release cfg""\n\nThis reverts commit 846c0015e14c36ff03ecfe4c852adfc53790bc11.\n\nChange-Id: I71d0f5ccaee1ef2ee1140e5787e54369a2a00810\n'}]",0,696951,2e37355af90773350f12b3a4449bf7990b9b3f18,9,6,1,9976,,,0,"Revert ""Component promotion jobs should read a custom release cfg""

This reverts commit 846c0015e14c36ff03ecfe4c852adfc53790bc11.

Change-Id: I71d0f5ccaee1ef2ee1140e5787e54369a2a00810
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/696951/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,2e37355af90773350f12b3a4449bf7990b9b3f18,component-ci,,"{% if component_promotion is defined %} QUICKSTART_RELEASE=""component-{{ component_promotion }}-${QUICKSTART_RELEASE}"" {% else %}{% endif %}",0,5
openstack%2Fneutron~stable%2Fqueens~I10588e73a9da7fdd43677f9247c176811dd68c62,openstack/neutron,stable/queens,I10588e73a9da7fdd43677f9247c176811dd68c62,Add more condition to check sg member exist,MERGED,2019-12-02 21:54:22.000000000,2019-12-03 16:27:29.000000000,2019-12-03 16:27:29.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 19956}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-02 21:54:22.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5642453a8f50d112d9df39879fa27b1b70818e1', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)\n""}]",0,696977,a5642453a8f50d112d9df39879fa27b1b70818e1,11,6,1,13995,,,0,"Add more condition to check sg member exist

Only check sg object is not enough, we should also
check sg'ports is {} or not. Otherwise the old conjunction
will still exist.

Change-Id: I10588e73a9da7fdd43677f9247c176811dd68c62
Closes-Bug: #1854131
(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/696977/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,a5642453a8f50d112d9df39879fa27b1b70818e1,bug/1854131-stable/queens," def test_update_flows_for_vlan_no_ports(self): remote_group = self.driver.sg_port_map.get_sg.return_value remote_group.ports = {} with mock.patch.object(self.manager.conj_id_map, 'get_conj_id') as get_conj_id_mock: get_conj_id_mock.return_value = self.conj_id self.manager.add(self.vlan_tag, 'sg', 'remote_id', constants.INGRESS_DIRECTION, constants.IPv4, 0) self.manager.update_flows_for_vlan(self.vlan_tag) self.assertFalse(remote_group.get_ethertype_filtered_addresses.called) self.assertFalse(self.driver._add_flow.called) ",,13,1
openstack%2Fneutron~stable%2Frocky~I10588e73a9da7fdd43677f9247c176811dd68c62,openstack/neutron,stable/rocky,I10588e73a9da7fdd43677f9247c176811dd68c62,Add more condition to check sg member exist,MERGED,2019-12-02 21:54:12.000000000,2019-12-03 16:27:26.000000000,2019-12-03 16:27:26.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 19956}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-02 21:54:12.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed76c1573592b44df99f45c444e7135be1245046', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)\n""}]",0,696976,ed76c1573592b44df99f45c444e7135be1245046,9,6,1,13995,,,0,"Add more condition to check sg member exist

Only check sg object is not enough, we should also
check sg'ports is {} or not. Otherwise the old conjunction
will still exist.

Change-Id: I10588e73a9da7fdd43677f9247c176811dd68c62
Closes-Bug: #1854131
(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/696976/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,ed76c1573592b44df99f45c444e7135be1245046,bug/1854131-stable/rocky," def test_update_flows_for_vlan_no_ports(self): remote_group = self.driver.sg_port_map.get_sg.return_value remote_group.ports = {} with mock.patch.object(self.manager.conj_id_map, 'get_conj_id') as get_conj_id_mock: get_conj_id_mock.return_value = self.conj_id self.manager.add(self.vlan_tag, 'sg', 'remote_id', constants.INGRESS_DIRECTION, constants.IPv4, 0) self.manager.update_flows_for_vlan(self.vlan_tag) self.assertFalse(remote_group.get_ethertype_filtered_addresses.called) self.assertFalse(self.driver._add_flow.called) ",,13,1
openstack%2Fneutron~master~Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2,openstack/neutron,master,Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2,Serialize subnet creating depending on the network ID,MERGED,2019-11-19 18:32:09.000000000,2019-12-03 16:19:07.000000000,2019-12-03 16:16:28.000000000,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 24919}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-19 18:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b57dde0b328f0fc5c3f2e0ca28ab12ddb0495611', 'message': '[WIP] Serialize subnet creating depending on the network ID\n\nTODO\n\nChange-Id: Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2\nCloses-Bug: #1852777\n'}, {'number': 2, 'created': '2019-11-21 11:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cb93032bb5f7eb2fbf2668f48bab9004b03a3e5', 'message': '[WIP] Serialize subnet creating depending on the network ID\n\nTODO\n\nChange-Id: Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2\nCloses-Bug: #1852777\n'}, {'number': 3, 'created': '2019-11-21 14:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dca29a65ccab5097ea8fb09f367d3b85cbe97ef4', 'message': 'Serialize subnet creating depending on the network ID\n\nAdd a new DB table ""network_subnet_lock"". The primary key will be the\nnetwork_id. When a subnet is created, inside the write context during\nthe ""subnet"" object creation, a register in the mentioned table is\ncreated or updated. This will enforce the serialization of the ""subnet""\nregisters belonging to the same network, due to the write lock in the\nDB.\n\nThis will solve the problem of attending several ""subnet"" creation\nrequests, described in the related bug. If several subnets with the\nsame CIDR are processed in parallel, the implemented logic won\'t reject\nthem because any of them will not contain the information of each other.\n\nThis DB lock will also work in case of distributed servers because the\nlock is not enforced in the server logic but in the DB backend.\n\nChange-Id: Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2\nCloses-Bug: #1852777\n'}, {'number': 4, 'created': '2019-11-21 14:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e193e8921e0711551438f1385c7e458840ef2f22', 'message': 'Serialize subnet creating depending on the network ID\n\nAdd a new DB table ""network_subnet_lock"". The primary key will be the\nnetwork_id. When a subnet is created, inside the write context during\nthe ""subnet"" object creation, a register in the mentioned table is\ncreated or updated. This will enforce the serialization of the ""subnet""\nregisters belonging to the same network, due to the write lock in the\nDB.\n\nThis will solve the problem of attending several ""subnet"" creation\nrequests, described in the related bug. If several subnets with the\nsame CIDR are processed in parallel, the implemented logic won\'t reject\nthem because any of them will not contain the information of each other.\n\nThis DB lock will also work in case of distributed servers because the\nlock is not enforced in the server logic but in the DB backend.\n\nChange-Id: Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2\nCloses-Bug: #1852777\n'}, {'number': 5, 'created': '2019-12-02 17:19:17.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/ussuri/expand/a010322604bc_network_subnet_update_lock.py', 'neutron/objects/subnet.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/objects/test_subnet.py', 'neutron/db/models_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/397eb2a2febd234ba7246f40f950c3ed4202a3d5', 'message': 'Serialize subnet creating depending on the network ID\n\nAdd a new DB table ""network_subnet_lock"". The primary key will be the\nnetwork_id. When a subnet is created, inside the write context during\nthe ""subnet"" object creation, a register in the mentioned table is\ncreated or updated. This will enforce the serialization of the ""subnet""\nregisters belonging to the same network, due to the write lock in the\nDB.\n\nThis will solve the problem of attending several ""subnet"" creation\nrequests, described in the related bug. If several subnets with the\nsame CIDR are processed in parallel, the implemented logic won\'t reject\nthem because any of them will not contain the information of each other.\n\nThis DB lock will also work in case of distributed servers because the\nlock is not enforced in the server logic but in the DB backend.\n\nChange-Id: Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2\nCloses-Bug: #1852777\n'}]",0,695060,397eb2a2febd234ba7246f40f950c3ed4202a3d5,33,7,5,16688,,,0,"Serialize subnet creating depending on the network ID

Add a new DB table ""network_subnet_lock"". The primary key will be the
network_id. When a subnet is created, inside the write context during
the ""subnet"" object creation, a register in the mentioned table is
created or updated. This will enforce the serialization of the ""subnet""
registers belonging to the same network, due to the write lock in the
DB.

This will solve the problem of attending several ""subnet"" creation
requests, described in the related bug. If several subnets with the
same CIDR are processed in parallel, the implemented logic won't reject
them because any of them will not contain the information of each other.

This DB lock will also work in case of distributed servers because the
lock is not enforced in the server logic but in the DB backend.

Change-Id: Iecbb096e0b7e080a3e0299ea340f8b03e87ddfd2
Closes-Bug: #1852777
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/695060/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,b57dde0b328f0fc5c3f2e0ca28ab12ddb0495611,bug/1852777,"from oslo_concurrency import lockutils with lockutils.lock(network.id): subnet, ipam_subnet = self.ipam.allocate_subnet( context, network, subnet['subnet'], subnetpool_id) # TODO(ihrachys): make sqlalchemy refresh expired relationships getattr(network, 'subnets')"," subnet, ipam_subnet = self.ipam.allocate_subnet(context, network, subnet['subnet'], subnetpool_id) # TODO(ihrachys): make sqlalchemy refresh expired relationships getattr(network, 'subnets')",6,6
openstack%2Fneutron~stable%2Ftrain~I10588e73a9da7fdd43677f9247c176811dd68c62,openstack/neutron,stable/train,I10588e73a9da7fdd43677f9247c176811dd68c62,Add more condition to check sg member exist,MERGED,2019-12-02 21:54:00.000000000,2019-12-03 16:18:24.000000000,2019-12-03 16:16:31.000000000,"[{'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 19956}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-02 21:54:00.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf3f00f24a0ec0e595a0b4600afea7fa70184127', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)\n""}]",0,696975,cf3f00f24a0ec0e595a0b4600afea7fa70184127,14,7,1,13995,,,0,"Add more condition to check sg member exist

Only check sg object is not enough, we should also
check sg'ports is {} or not. Otherwise the old conjunction
will still exist.

Change-Id: I10588e73a9da7fdd43677f9247c176811dd68c62
Closes-Bug: #1854131
(cherry picked from commit 5cb0ff418a0794d060001a7313561c4cfb584d0e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/696975/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,cf3f00f24a0ec0e595a0b4600afea7fa70184127,bug/1854131-stable/train," def test_update_flows_for_vlan_no_ports(self): remote_group = self.driver.sg_port_map.get_sg.return_value remote_group.ports = {} with mock.patch.object(self.manager.conj_id_map, 'get_conj_id') as get_conj_id_mock: get_conj_id_mock.return_value = self.conj_id self.manager.add(self.vlan_tag, 'sg', 'remote_id', constants.INGRESS_DIRECTION, constants.IPv4, 0) self.manager.update_flows_for_vlan(self.vlan_tag) self.assertFalse(remote_group.get_ethertype_filtered_addresses.called) self.assertFalse(self.driver._add_flow.called) ",,13,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I4ccb230268b687fc546205af5c73c4a6fc110eae,openstack/tripleo-ansible,stable/train,I4ccb230268b687fc546205af5c73c4a6fc110eae,Ensure plugin path is correct,MERGED,2019-12-03 12:42:08.000000000,2019-12-03 16:15:34.000000000,2019-12-03 16:15:34.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 12:42:08.000000000', 'files': ['tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac5e614f1e1ba3467f6333e5426846ad1eb683e1', 'message': 'Ensure plugin path is correct\n\nUpdates the molecule plugin path for the ovs-dpdk and package\nroles. This is done to ensure the role works in all molecule\nbased test environments when the test env rc file is sourced.\n\nChange-Id: I4ccb230268b687fc546205af5c73c4a6fc110eae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3186edf00087cf94787cc1e6613d349811a71b52)\n'}]",0,697070,ac5e614f1e1ba3467f6333e5426846ad1eb683e1,7,3,1,18575,,,0,"Ensure plugin path is correct

Updates the molecule plugin path for the ovs-dpdk and package
roles. This is done to ensure the role works in all molecule
based test environments when the test env rc file is sourced.

Change-Id: I4ccb230268b687fc546205af5c73c4a6fc110eae
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 3186edf00087cf94787cc1e6613d349811a71b52)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/697070/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/molecule.yml']",7,ac5e614f1e1ba3467f6333e5426846ad1eb683e1,," ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH:-/usr/share/ansible/roles}:${HOME}/zuul-jobs/roles"" ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" ANSIBLE_FILTER_PLUGINS: ""${ANSIBLE_FILTER_PLUGINS:-/usr/share/ansible/plugins/filter}"" ANSIBLE_ACTION_PLUGINS: ""${ANSIBLE_ACTION_PLUGINS:-/usr/share/ansible/plugins/action}""",,24,0
openstack%2Ftripleo-ansible~master~Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c,openstack/tripleo-ansible,master,Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c,Introduce unit tests structure for tripleo-ansible filters,MERGED,2019-11-28 12:32:40.000000000,2019-12-03 16:10:19.000000000,2019-12-03 16:06:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 12:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5fad41abdffa525d939d275efc524bb0dd896e04', 'message': 'WIP - Unit tests structure for tripleo-ansible\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 2, 'created': '2019-11-28 12:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe6d0596dc42a0af84ecc5b11e76e05c964a8893', 'message': 'WIP - Unit tests structure for tripleo-ansible\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 3, 'created': '2019-11-28 12:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10f46e8b12f7365ab453e535333f313e6daec4f9', 'message': 'WIP - Unit tests structure for tripleo-ansible\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 4, 'created': '2019-11-28 12:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6d12225f684bd95ef896dd714bc9a14289d8964', 'message': 'WIP - Unit tests structure for tripleo-ansible\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 5, 'created': '2019-11-28 14:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f526e0ee23032835cd8c4f9d9f62a502b0db06f6', 'message': 'WIP - Unit tests structure for tripleo-ansible\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 6, 'created': '2019-11-28 20:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d649918c62e8798b55b80b5d5b72852ef15455b', 'message': 'WIP - Unit tests structure for tripleo-ansible\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 7, 'created': '2019-11-28 21:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e8acf12db0d5e340b460eb1086c46b47eac1d65', 'message': 'WIP - Unit tests structure for tripleo-ansible\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 8, 'created': '2019-12-02 22:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa47d9276874fea5beb0092989024ea949e4dfd1', 'message': 'Introduce unit tests structure for tripleo-ansible filters\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}, {'number': 9, 'created': '2019-12-02 22:26:16.000000000', 'files': ['.gitignore', 'tripleo_ansible/tests/plugins/filter/__init__.py', 'test-requirements.txt', 'tripleo_ansible/tests/__init__.py', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/tests/plugins/__init__.py', 'ansible-requirements.txt', 'zuul.d/layout.yaml', 'tox.ini', 'tripleo_ansible/tests/base.py', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f90a6d42b3f5a55d5269b2d88b30e6455f6b3287', 'message': 'Introduce unit tests structure for tripleo-ansible filters\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n'}]",21,696534,f90a6d42b3f5a55d5269b2d88b30e6455f6b3287,30,7,9,3153,,,0,"Introduce unit tests structure for tripleo-ansible filters

Change-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/696534/9 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', '.gitignore', 'test-requirements.txt', 'tripleo_ansible/tests/plugins/action/test_package.py', 'tripleo_ansible/tests/__init__.py', 'zuul.d/layout.yaml', 'tripleo_ansible/tests/plugins/action/__init__.py', 'tox.ini', 'tripleo_ansible/tests/base.py', '.stestr.conf']",10,5fad41abdffa525d939d275efc524bb0dd896e04,unit_tests,[DEFAULT] test_path=${TEST_PATH:-./tripleo_ansible/tests/} top_dir=./ ,,59,2
openstack%2Fos-net-config~master~Ib4d40bac8e25600be97cdae3715c87449aad573b,openstack/os-net-config,master,Ib4d40bac8e25600be97cdae3715c87449aad573b,Using tempfile instead of fixed path in unit tests.,MERGED,2019-11-25 05:42:19.000000000,2019-12-03 16:09:15.000000000,2019-11-29 18:12:31.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 05:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/51037fd4faa8221d0972becb5cceb54ec9ef776b', 'message': 'Using tempfile instead of fixed path in unit tests.\n\nChange-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b\n'}, {'number': 2, 'created': '2019-11-25 10:08:44.000000000', 'files': ['os_net_config/tests/test_sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3e938d82f57e89cc57596bbd8f5a87ba480149f6', 'message': 'Using tempfile instead of fixed path in unit tests.\n\nChange-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b\n'}]",1,695839,3e938d82f57e89cc57596bbd8f5a87ba480149f6,16,5,2,18904,,,0,"Using tempfile instead of fixed path in unit tests.

Change-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/39/695839/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_sriov_config.py'],1,51037fd4faa8221d0972becb5cceb54ec9ef776b,test_issue,"import tempfile """"""Unit tests for methods defined in sriov_config.py"""""" tmpdir = tempfile.mkdtemp() self.stub_out('os_net_config.sriov_config._SYS_CLASS_NET', tmpdir) sriov_config._UDEV_RULE_FILE = '/tmp/' + rand + 'etc_udev_rules.d'\ '80-persistent-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/' + rand + 'sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/' + rand + 'etc_sysconfig_'\ 'allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/' + rand + 'sriov_config'\ """"""Test the numvfs setting for SR-IOV PF Test the udev rules created for legacy mode of SR-IOV PF """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: The ifup-local has the default content generated by puppet-tripleo """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: When os-net-config is run on fresh deployments, all these files will not exist. """""" """"""Test the cleanup of puppet-tripleo generated config file Usecase: When os-net-config is run first time after the deprecation of NeutronSriovNumVFs and ifup-local has contents other than invoking allocate_vfs. """""" """"""Test the numvfs config with valid arguments"""""" """"""Test the numvfs config with invalid arguments"""""" """"""Test the numvfs config while its already configured"""""" """"""Test configuration of SR-IOV VF settings"""""" ", sriov_config._SYS_CLASS_NET = '/tmp/sys_class_net' sriov_config._UDEV_RULE_FILE = '/tmp/etc_udev_rules.d_80-persistent'\ '-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/etc_udev_rules.d_'\ '70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/etc_udev_rules.d_'\ '70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/etc_sysconfig_allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/sriov_config_' + rand + \ os.mkdir(sriov_config._SYS_CLASS_NET),48,11
openstack%2Fcharm-deployment-guide~master~I334332c9b4a4c5990e8b15c90add265efdb238ac,openstack/charm-deployment-guide,master,I334332c9b4a4c5990e8b15c90add265efdb238ac,Review deploy guide front page,MERGED,2019-11-29 00:12:25.000000000,2019-12-03 16:06:11.000000000,2019-12-03 16:05:00.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-11-29 00:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3d74893a84f8639e1f2673a1ef9db8e0d72b6283', 'message': 'Review deploy guide frontpage\n\nThis is the first of an intended comprehensive series\nof reviews for the deploy guide.\n\nChange-Id: I334332c9b4a4c5990e8b15c90add265efdb238ac\n'}, {'number': 2, 'created': '2019-11-29 08:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f202a4d6f9fd4346de996d0132e2e6246805b61a', 'message': 'Review deploy guide frontpage\n\nThis is the first of an intended comprehensive series\nof reviews for the deploy guide.\n\nChange-Id: I334332c9b4a4c5990e8b15c90add265efdb238ac\n'}, {'number': 3, 'created': '2019-12-01 15:51:22.000000000', 'files': ['deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/94a3d7dc4dd012a18a08318905a5f201ec857a18', 'message': 'Review deploy guide front page\n\nThis is the first of an intended comprehensive series\nof reviews for the deploy guide.\n\nChange-Id: I334332c9b4a4c5990e8b15c90add265efdb238ac\n'}]",0,696632,94a3d7dc4dd012a18a08318905a5f201ec857a18,12,3,3,30561,,,0,"Review deploy guide front page

This is the first of an intended comprehensive series
of reviews for the deploy guide.

Change-Id: I334332c9b4a4c5990e8b15c90add265efdb238ac
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/32/696632/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/index.rst'],1,3d74893a84f8639e1f2673a1ef9db8e0d72b6283,review-frontpage,"=================================-------- The main purpose of the OpenStack Charms Deployment Guide is to demonstrate how to build a multi-node OpenStack cloud with `MAAS`_, `Juju`_, and `OpenStack Charms`_. The guide also includes a wealth of information in the form of appendices. These cover a wide variety of subjects, such as an elaboration of a specific charm feature, how to upgrade an OpenStack cloud, or how to manage power events in a cloud. To help improve this guide you may `file an issue`_ or `submit a contribution`_. For OpenStack Charms project information, development guidelines, release notes, and release schedules, please refer to the `OpenStack Charm Guide`_. .. LINKS .. _MAAS: https://maas.io .. _Juju: https://jaas.ai .. _OpenStack Charms: https://docs.openstack.org/charm-guide .. _OpenStack Charm Guide: https://docs.openstack.org/charm-guide .. _file an issue: https://bugs.launchpad.net/charm-deployment-guide/+filebug .. _submit a contribution: https://opendev.org/openstack/charm-deployment-guide","++++++++ The purpose of this guide is to document the steps necessary to build a multi-node OpenStack cluster using `Juju <https://jaas.ai/>`__, `MAAS <https://maas.io/>`__, and `OpenStack Charms <https://docs.openstack.org/charm-guide/latest/>`__. Specific use cases and customization scenarios are documented in the appendices. For OpenStack Charms project information, development guidelines, release notes, and release schedules, please refer to the `charm guide <https://docs.openstack.org/charm-guide/latest/>`__.",23,10
openstack%2Fcinder~master~I6b5dd9385ad6789f9cea484ec8f9dbad5064abbc,openstack/cinder,master,I6b5dd9385ad6789f9cea484ec8f9dbad5064abbc,Fix small typo in releasenotes about iscsi_helper.,ABANDONED,2019-07-29 09:35:11.000000000,2019-12-03 15:56:19.000000000,,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-29 09:35:11.000000000', 'files': ['releasenotes/notes/rename-iscsi-target-config-options-24913d7452c4a58e.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b42a2eb6762a6a4d0a6602ac6f131aa0e5b80b0b', 'message': 'Fix small typo in releasenotes about iscsi_helper.\n\nChange-Id: I6b5dd9385ad6789f9cea484ec8f9dbad5064abbc\n'}]",0,673245,b42a2eb6762a6a4d0a6602ac6f131aa0e5b80b0b,29,27,1,30276,,,0,"Fix small typo in releasenotes about iscsi_helper.

Change-Id: I6b5dd9385ad6789f9cea484ec8f9dbad5064abbc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/673245/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/rename-iscsi-target-config-options-24913d7452c4a58e.yaml'],1,b42a2eb6762a6a4d0a6602ac6f131aa0e5b80b0b,," ``iscsi_ip_address``, ``iscsi_port``, ``iscsi_helper``,"," ``iscsi_ip_address``, ``iscsi_port``, ``target_helper``,",1,1
openstack%2Fnetworking-bagpipe~stable%2Fstein~Ie8d441b9d7669ec22236b2273d8e69a884751309,openstack/networking-bagpipe,stable/stein,Ie8d441b9d7669ec22236b2273d8e69a884751309,bagpipe-bgp: cleanly ignore RTC route of unsupported type,MERGED,2019-10-22 20:04:29.000000000,2019-12-03 15:52:02.000000000,2019-12-03 15:50:40.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 20:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/58afc99155c0c00ebf9998d27b5b3430aef4d0f9', 'message': 'bagpipe-bgp: cleanly ignore RTC route of unsupported type\n\nWhen a BGP peer advertises an RTC route (RFC4684) with\na route target of a type bagpipe-bgp does not support, we\nneed to ignore these cleanly, and not break and reset the\nBGP peering.\n\nNote that it is safe to plainly ignore such routes because,\nsince bagpipe-bgp does not support them, it will never need\nto propagate event for such RTs to a BGP peer.\n\nChange-Id: Ie8d441b9d7669ec22236b2273d8e69a884751309\n'}, {'number': 2, 'created': '2019-11-18 09:37:18.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/engine/__init__.py', 'networking_bagpipe/bagpipe_bgp/engine/worker.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c6211062d098e494e1b234e82af6657d47a5c2b1', 'message': 'bagpipe-bgp: cleanly ignore RTC route of unsupported type\n\nWhen a BGP peer advertises an RTC route (RFC4684) with\na route target of a type bagpipe-bgp does not support, we\nneed to ignore these cleanly, and not break and reset the\nBGP peering.\n\nNote that it is safe to plainly ignore such routes because,\nsince bagpipe-bgp does not support them, it will never need\nto propagate event for such RTs to a BGP peer.\n\nChange-Id: Ie8d441b9d7669ec22236b2273d8e69a884751309\n(cherry picked from commit f4113085b069683f851e475c8bc738ce4d7478b2)\n'}]",0,690396,c6211062d098e494e1b234e82af6657d47a5c2b1,19,6,2,12021,,,0,"bagpipe-bgp: cleanly ignore RTC route of unsupported type

When a BGP peer advertises an RTC route (RFC4684) with
a route target of a type bagpipe-bgp does not support, we
need to ignore these cleanly, and not break and reset the
BGP peering.

Note that it is safe to plainly ignore such routes because,
since bagpipe-bgp does not support them, it will never need
to propagate event for such RTs to a BGP peer.

Change-Id: Ie8d441b9d7669ec22236b2273d8e69a884751309
(cherry picked from commit f4113085b069683f851e475c8bc738ce4d7478b2)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/96/690396/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/bagpipe_bgp/engine/__init__.py', 'networking_bagpipe/bagpipe_bgp/engine/worker.py']",2,58afc99155c0c00ebf9998d27b5b3430aef4d0f9,bug/1848151-stable/stein," try: subobj = engine.Subscription(afi, safi, rt, self) LOG.info(""Subscribe: %s "", subobj) self.rtm.enqueue(subobj) except engine.UnsupportedRT as e: LOG.debug(""unsupported RT, ignoring (%s)"", e.rt) try: subobj = engine.Unsubscription(afi, safi, rt, self) LOG.info(""Unsubscribe: %s "", subobj) self.rtm.enqueue(subobj) except engine.UnsupportedRT as e: LOG.debug(""unsupported RT, ignoring (%s)"", e.rt)"," subobj = engine.Subscription(afi, safi, rt, self) LOG.info(""Subscribe: %s "", subobj) self.rtm.enqueue(subobj) subobj = engine.Unsubscription(afi, safi, rt, self) LOG.info(""Unsubscribe: %s "", subobj) self.rtm.enqueue(subobj)",21,8
openstack%2Ftripleo-upgrade~master~I97d66073e3ab0011752c08fc8b7d488e19337dd4,openstack/tripleo-upgrade,master,I97d66073e3ab0011752c08fc8b7d488e19337dd4,Change Upgrade Run Script Generation to Per Host,ABANDONED,2019-06-26 13:03:14.000000000,2019-12-03 15:51:49.000000000,,"[{'_account_id': 6816}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-26 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fd4d7ecd19e7230dbee721512dd3e2f0f74d9aee', 'message': 'Change Upgrade Run Script Generation to Per Host\n\nThe previous method of upgrading the overcloud nodes was per role.\nThis patch updates the script generation to use a previously added\nvariable that stores the hosts.\n\nChange-Id: I97d66073e3ab0011752c08fc8b7d488e19337dd4\n'}, {'number': 2, 'created': '2019-07-12 21:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/03fca50b9fa646f4973cbed5ea5f8f02c756f162', 'message': 'Change Upgrade Run Script Generation to Per Host\n\nThe previous method of upgrading the overcloud nodes was per role.\nThis patch updates the script generation to use a previously added\nvariable that stores the hosts.\n\nChange-Id: I97d66073e3ab0011752c08fc8b7d488e19337dd4\n'}, {'number': 3, 'created': '2019-07-15 15:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/36a6e104e46a57b62e94fa30488fc6a83c9d0199', 'message': 'Change Upgrade Run Script Generation to Per Host\n\nThe previous method of upgrading the overcloud nodes was per role.\nThis patch updates the script generation to use a previously added\nvariable that stores the hosts.\n\nChange-Id: I97d66073e3ab0011752c08fc8b7d488e19337dd4\n'}, {'number': 4, 'created': '2019-07-16 11:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a4c47cda5f51f9911bed5933e2b39852ec87997b', 'message': ""Change Upgrade Run Script Generation to Per Host\n\nThe previous method of upgrading the overcloud nodes was per role.\nThis patch updates the script generation to use a previously added\nvariable that stores the hosts.\n\nAlso, this patch changes the way oc_roles_hosts is created, leveraging\nthat oc_roles is already in the needed ordered ('Controller' always\ngoes first), we create the oc_roles_hosts variable content based\non that order.\n\nChange-Id: I97d66073e3ab0011752c08fc8b7d488e19337dd4\n""}, {'number': 5, 'created': '2019-08-23 21:40:10.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml', 'templates/overcloud_upgrade_run.sh.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3b32a3d66447aa2f296b96e94b0df4ea1c4541ed', 'message': 'Change Upgrade Run Script Generation to Per Host\n\nThe previous method of upgrading the overcloud nodes was per role.\nThis patch updates the script generation to use a previously added\nvariable that stores the hosts.\n\nAlso, this patch provides the means to order the hosts by role\npriority defined in the defaults.\n\nChange-Id: I97d66073e3ab0011752c08fc8b7d488e19337dd4\n'}]",6,667610,3b32a3d66447aa2f296b96e94b0df4ea1c4541ed,17,4,5,8532,,,0,"Change Upgrade Run Script Generation to Per Host

The previous method of upgrading the overcloud nodes was per role.
This patch updates the script generation to use a previously added
variable that stores the hosts.

Also, this patch provides the means to order the hosts by role
priority defined in the defaults.

Change-Id: I97d66073e3ab0011752c08fc8b7d488e19337dd4
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/10/667610/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_update_run.sh.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml']",2,fd4d7ecd19e7230dbee721512dd3e2f0f74d9aee,process-per-host," loop: ""{{ oc_roles_hosts|default(['all']) }}"""," loop: ""{{ oc_roles|default(['all']) }}""",3,3
openstack%2Fcharm-neutron-gateway~stable%2F19.10~I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262,openstack/charm-neutron-gateway,stable/19.10,I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262,Remove lbaas in OpenStack Train deployments,MERGED,2019-12-02 09:13:50.000000000,2019-12-03 15:50:22.000000000,2019-12-03 15:50:21.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-12-02 09:13:50.000000000', 'files': ['unit_tests/test_neutron_utils.py', 'hooks/neutron_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9dcdadfc89be91454bab08233dfbda865aeaf77b', 'message': 'Remove lbaas in OpenStack Train deployments\n\nThis patch removes completely any lbaas related service when upgrading\nto OpenStack Train.\n\nChange-Id: I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262\nCloses-Bug: #1853868\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n(cherry picked from commit 5c5d5911a0a50e45a9f1c07160bcf9fed9ff6afb)\n'}]",0,696836,9dcdadfc89be91454bab08233dfbda865aeaf77b,20,7,1,28014,,,0,"Remove lbaas in OpenStack Train deployments

This patch removes completely any lbaas related service when upgrading
to OpenStack Train.

Change-Id: I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262
Closes-Bug: #1853868
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
(cherry picked from commit 5c5d5911a0a50e45a9f1c07160bcf9fed9ff6afb)
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/36/696836/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_utils.py', 'hooks/neutron_utils.py']",2,9dcdadfc89be91454bab08233dfbda865aeaf77b,bug/1853868-stable/19.10," plugin = config('plugin') purge_packages_list = [] if cmp_os_source >= 'rocky': purge_packages_list.extend(PURGE_PACKAGES) if cmp_os_source >= 'train': purge_packages_list.append('python3-neutron-lbaas') if plugin in (OVS, OVS_ODL): purge_packages_list.append('neutron-lbaasv2-agent') return purge_packages_list", if cmp_os_source >= 'rocky': return PURGE_PACKAGES return [],39,2
openstack%2Ftripleo-upgrade~master~I5ddd8849bd5dfe6e8ff040ca344d31af7e75a8c7,openstack/tripleo-upgrade,master,I5ddd8849bd5dfe6e8ff040ca344d31af7e75a8c7,change vertion from 1.6 to 2.0,ABANDONED,2018-11-10 07:08:06.000000000,2019-12-03 15:37:33.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-10 07:08:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/555f61c0516b8ac4ce3b2ac202b6dad3fb2d0565', 'message': 'change vertion from 1.6 to 2.0\n\nChange-Id: I5ddd8849bd5dfe6e8ff040ca344d31af7e75a8c7\n'}]",0,617077,555f61c0516b8ac4ce3b2ac202b6dad3fb2d0565,4,2,1,27370,,,0,"change vertion from 1.6 to 2.0

Change-Id: I5ddd8849bd5dfe6e8ff040ca344d31af7e75a8c7
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/77/617077/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,555f61c0516b8ac4ce3b2ac202b6dad3fb2d0565,1110e,minversion = 2.0,minversion = 1.6,1,1
openstack%2Ftripleo-upgrade~master~I7094eb4be1d68e500f2c50b2ab457b2cce724fbd,openstack/tripleo-upgrade,master,I7094eb4be1d68e500f2c50b2ab457b2cce724fbd,Update min tox version to 2.0,ABANDONED,2018-11-02 05:14:41.000000000,2019-12-03 15:34:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 28956}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-02 05:14:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4106746f20aa2f6f411fe3051a247c7579991b53', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0. Update to\nreflect reality, which should help with local running of constraints\ntargets.\n\nChange-Id: I7094eb4be1d68e500f2c50b2ab457b2cce724fbd\n'}]",0,614985,4106746f20aa2f6f411fe3051a247c7579991b53,6,3,1,28174,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0. Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I7094eb4be1d68e500f2c50b2ab457b2cce724fbd
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/614985/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4106746f20aa2f6f411fe3051a247c7579991b53,min_tox_version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Ftripleo-upgrade~master~Ib9cf9f6fbc8603835be196a78b322edc9ac6543c,openstack/tripleo-upgrade,master,Ib9cf9f6fbc8603835be196a78b322edc9ac6543c,Don't enable SSL on undercloud during upgrade.,ABANDONED,2018-12-03 11:22:03.000000000,2019-12-03 15:33:06.000000000,,"[{'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 11:22:03.000000000', 'files': ['tasks/upgrade/no_auto_ssl.yml', 'tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a2f1b5a6080eccebd0c3f5f28edbcb8aaaba0090', 'message': ""Don't enable SSL on undercloud during upgrade.\n\nSSL on undercloud is default in Rocky so new ssl cert is generated\nduring undercloud upgrade.\nIMHO enabling ssl on undercloud should be requested explicitly.\n\nChange-Id: Ib9cf9f6fbc8603835be196a78b322edc9ac6543c\n""}]",0,621542,a2f1b5a6080eccebd0c3f5f28edbcb8aaaba0090,4,2,1,21537,,,0,"Don't enable SSL on undercloud during upgrade.

SSL on undercloud is default in Rocky so new ssl cert is generated
during undercloud upgrade.
IMHO enabling ssl on undercloud should be requested explicitly.

Change-Id: Ib9cf9f6fbc8603835be196a78b322edc9ac6543c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/42/621542/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/no_auto_ssl.yml', 'tasks/upgrade/main.yml']",2,a2f1b5a6080eccebd0c3f5f28edbcb8aaaba0090,uc-ssl-untouched, - name: don't enable ssl by default include: no_auto_ssl.yml ,,23,0
openstack%2Ftripleo-upgrade~master~Ibf336c4ecbf09a46e382585303bbe734b5e0511c,openstack/tripleo-upgrade,master,Ibf336c4ecbf09a46e382585303bbe734b5e0511c,Add timestamps to all log files,ABANDONED,2018-04-17 11:34:51.000000000,2019-12-03 15:32:10.000000000,,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-17 11:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a1fc0bb43376581a7deab5613ba8ec7e3236f240', 'message': 'Add timestamps to all log files\n\nConfronting concurrent events on different logs during debug is\ndifficult without timestamps.\nThis adds timestamps to almost all the logs created in the role.\n\nChange-Id: Ibf336c4ecbf09a46e382585303bbe734b5e0511c\nCloses-Bug: #1760722\n'}, {'number': 2, 'created': '2018-04-20 10:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8113fcf78a4d93332b50d3a3c35159eca59ebb0b', 'message': 'Add timestamps to all log files\n\nConfronting concurrent events on different logs during debug is\ndifficult without timestamps.\nThis adds timestamps to almost all the logs created in the role.\n\nChange-Id: Ibf336c4ecbf09a46e382585303bbe734b5e0511c\nCloses-Bug: #1760722\n'}, {'number': 3, 'created': '2018-04-23 23:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6ccfe668ae90271ada00afc10d000c321b80edad', 'message': 'Add timestamps to all log files\n\nConfronting concurrent events on different logs during debug is\ndifficult without timestamps.\nThis adds timestamps to almost all the logs created in the role.\n\nChange-Id: Ibf336c4ecbf09a46e382585303bbe734b5e0511c\nCloses-Bug: #1760722\n'}, {'number': 4, 'created': '2018-04-30 15:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bae29c8c86a063f93e6f0e9c8e67b964ac8fbaa5', 'message': 'Add timestamps to all log files\n\nConfronting concurrent events on different logs during debug is\ndifficult without timestamps.\nThis adds timestamps to almost all the logs created in the role.\n\nChange-Id: Ibf336c4ecbf09a46e382585303bbe734b5e0511c\nCloses-Bug: #1760722\n'}, {'number': 5, 'created': '2018-05-03 20:12:16.000000000', 'files': ['tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/update/overcloud_update_prepare.yml', 'templates/fast-forward-upgrade/ffu_upgrade_playbook_role.sh.j2', 'templates/fast-forward-upgrade/ffu_upgrade_playbook.sh.j2', 'templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'templates/node_upgrade.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/fast-forward-upgrade/ffu_upgrade_playbook_non_compute_role.sh.j2', 'tasks/fast-forward-upgrade/ffu_update_stack_outputs.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0afffc4010f18324b703f43562835725a03ba9fb', 'message': 'Add timestamps to all log files\n\nConfronting concurrent events on different logs during debug is\ndifficult without timestamps.\nThis adds timestamps to almost all the logs created in the role.\n\nChange-Id: Ibf336c4ecbf09a46e382585303bbe734b5e0511c\nCloses-Bug: #1760722\n'}]",17,561911,0afffc4010f18324b703f43562835725a03ba9fb,32,13,5,10022,,,0,"Add timestamps to all log files

Confronting concurrent events on different logs during debug is
difficult without timestamps.
This adds timestamps to almost all the logs created in the role.

Change-Id: Ibf336c4ecbf09a46e382585303bbe734b5e0511c
Closes-Bug: #1760722
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/11/561911/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/ffu_upgrade_ceph.yaml', 'tasks/update/overcloud_update_prepare.yml', 'templates/fast-forward-upgrade/ffu_upgrade_playbook_role.sh.j2', 'templates/fast-forward-upgrade/ffu_upgrade_playbook.sh.j2', 'templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'templates/node_upgrade.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/fast-forward-upgrade/ffu_upgrade_playbook_non_compute_role.sh.j2', 'tasks/fast-forward-upgrade/ffu_update_stack_outputs.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",16,a1fc0bb43376581a7deab5613ba8ec7e3236f240,bug/1760722," shell: ""bash {{ overcloud_upgrade_prepare_script }} 2>&1 {{ timestamper_cmd }} > {{ working_dir }}/overcloud_upgrade_prepare.log"" openstack stack failures list --long {{ overcloud_stack_name }} 2>&1 {{ timestamper_cmd }} | tee {{ working_dir}}/overcloud_failed_upgrade_prepare.log"," shell: ""bash {{ overcloud_upgrade_prepare_script }} &> {{ working_dir }}/overcloud_upgrade_prepare.log"" openstack stack failures list --long {{ overcloud_stack_name }} | tee {{ working_dir}}/overcloud_failed_upgrade_prepare.log",41,34
openstack%2Ftripleo-upgrade~master~I1a291e61c22de56383483182fe56613ea114cf3c,openstack/tripleo-upgrade,master,I1a291e61c22de56383483182fe56613ea114cf3c,WIP: Add overcloud instance http check during upgrade,ABANDONED,2018-02-23 00:21:23.000000000,2019-12-03 15:29:21.000000000,,"[{'_account_id': 6133}, {'_account_id': 10090}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 00:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/da1721f3b3ff86a5c4276c15cd2cf5a9840aae06', 'message': 'WIP: Add overcloud instance http check during upgrade\n\nChange-Id: I1a291e61c22de56383483182fe56613ea114cf3c\n'}, {'number': 2, 'created': '2018-03-08 17:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9fa24cb9c2560e96da1bf21d4ea8e365453460da', 'message': 'WIP: Add overcloud instance http check during upgrade\n\nChange-Id: I1a291e61c22de56383483182fe56613ea114cf3c\n'}, {'number': 3, 'created': '2018-03-08 17:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/01ca4fc5f7a0d013e86fb9789cbb7fb04344d539', 'message': 'WIP: Add overcloud instance http check during upgrade\n\nThe scope of this test is to do a more realistic overcloud workload\ncheck _during_ the upgrade process. This test runs queries the HTTP\nserver found at the first floating IP address and sets the maximum\ntime for this operation to 5s. After the upgrade step has finished\nthe test validates that there are no non-200 responses.\n\nChange-Id: I1a291e61c22de56383483182fe56613ea114cf3c\n'}, {'number': 4, 'created': '2018-03-08 17:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3e94de422cf3d79651b6f5325f2b03b2dcc85d63', 'message': 'WIP: Add overcloud instance http check during upgrade\n\nThe scope of this test is to do a more realistic overcloud workload\ncheck _during_ the upgrade process. This test queries the HTTP\nserver found at the first floating IP address and sets the maximum\ntime for this operation to 5s. After the upgrade step has finished\nthe test validates that there are no non-200 responses.\n\nChange-Id: I1a291e61c22de56383483182fe56613ea114cf3c\n'}, {'number': 5, 'created': '2018-03-15 19:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d804547c538a9b652f961fd226d498c97113910f', 'message': 'WIP: Add overcloud instance http check during upgrade\n\nThe scope of this test is to do a more realistic overcloud workload\ncheck _during_ the upgrade process. This test queries the HTTP\nserver found at the first floating IP address and sets the maximum\ntime for this operation to 5s. After the upgrade step has finished\nthe test validates that there are no non-200 responses.\n\nChange-Id: I1a291e61c22de56383483182fe56613ea114cf3c\n'}, {'number': 6, 'created': '2018-03-16 07:25:35.000000000', 'files': ['templates/fip_http_check_stop.sh.j2', 'tasks/common/fip_http_check_stop.yaml', 'tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'tasks/common/fip_http_check_start.yaml', 'templates/fip_http_check_start.sh.j2', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/edf08f369e8e8e74e8d99a24e7984d0f8d9aaa5b', 'message': 'WIP: Add overcloud instance http check during upgrade\n\nThe scope of this test is to do a more realistic overcloud workload\ncheck _during_ the upgrade process. This test queries the HTTP\nserver found at the first floating IP address and sets the maximum\ntime for this operation to 5s. After the upgrade step has finished\nthe test validates that there are no non-200 responses.\n\nChange-Id: I1a291e61c22de56383483182fe56613ea114cf3c\n'}]",8,547220,edf08f369e8e8e74e8d99a24e7984d0f8d9aaa5b,14,6,6,18851,,,0,"WIP: Add overcloud instance http check during upgrade

The scope of this test is to do a more realistic overcloud workload
check _during_ the upgrade process. This test queries the HTTP
server found at the first floating IP address and sets the maximum
time for this operation to 5s. After the upgrade step has finished
the test validates that there are no non-200 responses.

Change-Id: I1a291e61c22de56383483182fe56613ea114cf3c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/20/547220/6 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fip_http_check_stop.sh.j2', 'tasks/common/fip_http_check_stop.yaml', 'tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'tasks/common/fip_http_check_start.yaml', 'templates/fip_http_check_start.sh.j2', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",7,da1721f3b3ff86a5c4276c15cd2cf5a9840aae06,http_check_during_upgrade, - include: ../common/fip_http_check_start.yaml - include: ../common/fip_http_check_stop.yaml ,,40,0
openstack%2Frpm-packaging~master~I5f26a58eae5062d7d2df68119305794278cdb4d0,openstack/rpm-packaging,master,I5f26a58eae5062d7d2df68119305794278cdb4d0,monasca-agent now requires freezegun,MERGED,2019-12-03 13:19:47.000000000,2019-12-03 15:29:13.000000000,2019-12-03 15:29:13.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 22595}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 13:19:47.000000000', 'files': ['openstack/monasca-agent/monasca-agent.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1caa489aa71adca111b8ce2330f961b8f4039c16', 'message': 'monasca-agent now requires freezegun\n\nIt was added by Guang in Id95cc7115823f972e234417223ab5906b57447cc\n\nChange-Id: I5f26a58eae5062d7d2df68119305794278cdb4d0\n'}]",0,697080,1caa489aa71adca111b8ce2330f961b8f4039c16,12,6,1,6593,,,0,"monasca-agent now requires freezegun

It was added by Guang in Id95cc7115823f972e234417223ab5906b57447cc

Change-Id: I5f26a58eae5062d7d2df68119305794278cdb4d0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/697080/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-agent/monasca-agent.spec.j2'],1,1caa489aa71adca111b8ce2330f961b8f4039c16,remove-nova-console,BuildRequires: {{ py3('freezegun') }},,1,0
openstack%2Ftripleo-upgrade~stable%2Fpike~I4c40690877dcaa666617760d224fea6e23db965c,openstack/tripleo-upgrade,stable/pike,I4c40690877dcaa666617760d224fea6e23db965c,Bump cirros version to 0.4.0,ABANDONED,2019-10-30 09:27:27.000000000,2019-12-03 15:24:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-30 09:27:27.000000000', 'files': ['infrared_plugin/plugin.spec', 'defaults/main.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/15e07d8d85d5b7d32aa9fa188a6503523a1e4036', 'message': 'Bump cirros version to 0.4.0\n\nTo synchronize with other infrared components that use 0.4.0 already.\n\nChange-Id: I4c40690877dcaa666617760d224fea6e23db965c\n(cherry picked from commit 9602c30e98354c348363cf8c54571943a21ec61b)\n'}]",0,692089,15e07d8d85d5b7d32aa9fa188a6503523a1e4036,3,1,1,11090,,,0,"Bump cirros version to 0.4.0

To synchronize with other infrared components that use 0.4.0 already.

Change-Id: I4c40690877dcaa666617760d224fea6e23db965c
(cherry picked from commit 9602c30e98354c348363cf8c54571943a21ec61b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/89/692089/1 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/plugin.spec', 'defaults/main.yml', 'README.md']",3,15e07d8d85d5b7d32aa9fa188a6503523a1e4036,fix_cirror_pike," workload_image_url: ""https://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img"""," workload_image_url: ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img""",3,3
openstack%2Ftripleo-upgrade~master~I913d864b3a9f267aae61eb7f7c240bd9e6d11665,openstack/tripleo-upgrade,master,I913d864b3a9f267aae61eb7f7c240bd9e6d11665,DNM: Test upgrades.,ABANDONED,2018-07-16 06:30:09.000000000,2019-12-03 15:21:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-16 06:30:09.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4cefe6c7f1a4e0f3c13fa9d6c844d2bea39f1124', 'message': 'DNM: Test upgrades.\n\nDepends-On: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nChange-Id: I913d864b3a9f267aae61eb7f7c240bd9e6d11665\n'}]",0,582836,4cefe6c7f1a4e0f3c13fa9d6c844d2bea39f1124,4,2,1,26343,,,0,"DNM: Test upgrades.

Depends-On: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6
Change-Id: I913d864b3a9f267aae61eb7f7c240bd9e6d11665
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/36/582836/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,4cefe6c7f1a4e0f3c13fa9d6c844d2bea39f1124,,##,,1,0
openstack%2Ftripleo-upgrade~master~I6451f578bc89080e6d5f9959afa092d8d96e48c3,openstack/tripleo-upgrade,master,I6451f578bc89080e6d5f9959afa092d8d96e48c3,DNM: Check,ABANDONED,2019-10-07 12:29:59.000000000,2019-12-03 15:21:13.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 12:29:59.000000000', 'files': ['tasks/common/undercloud_reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/64db04f6a4ea60ed02580f830076f66460bf3d11', 'message': 'DNM: Check\n\nChange-Id: I6451f578bc89080e6d5f9959afa092d8d96e48c3\n'}]",0,687013,64db04f6a4ea60ed02580f830076f66460bf3d11,5,2,1,20775,,,0,"DNM: Check

Change-Id: I6451f578bc89080e6d5f9959afa092d8d96e48c3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/687013/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_reboot.yaml'],1,64db04f6a4ea60ed02580f830076f66460bf3d11,tripleo-upgrade-molecule, comand: ping -c1 {{ ansible_host }}, command: ping -c1 {{ ansible_host }},1,1
openstack%2Ftripleo-upgrade~master~I285e067d4dbcf0ae4852bea6f8b50dc2679ddb49,openstack/tripleo-upgrade,master,I285e067d4dbcf0ae4852bea6f8b50dc2679ddb49,DNM: Check,ABANDONED,2019-10-07 12:58:11.000000000,2019-12-03 15:21:07.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 12:58:11.000000000', 'files': ['tasks/common/undercloud_reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d68ad2e084082fcd8f1443929ebdede113bff5fd', 'message': 'DNM: Check\n\nChange-Id: I285e067d4dbcf0ae4852bea6f8b50dc2679ddb49\n'}]",0,687021,d68ad2e084082fcd8f1443929ebdede113bff5fd,5,2,1,20775,,,0,"DNM: Check

Change-Id: I285e067d4dbcf0ae4852bea6f8b50dc2679ddb49
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/687021/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_reboot.yaml'],1,d68ad2e084082fcd8f1443929ebdede113bff5fd,tripleo-upgrade-molecule, comand: ping -c1 {{ ansible_host }}, command: ping -c1 {{ ansible_host }},1,1
openstack%2Ftripleo-upgrade~master~I0a8ad71e347412583107539b87dfa157c9c88e96,openstack/tripleo-upgrade,master,I0a8ad71e347412583107539b87dfa157c9c88e96,DNM: Check,ABANDONED,2019-10-07 15:36:51.000000000,2019-12-03 15:21:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-07 15:36:51.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5deca5e94cfddb8a7ea828586d045c5b0c65b5c0', 'message': 'DNM: Check\n\nChange-Id: I0a8ad71e347412583107539b87dfa157c9c88e96\n'}]",0,687082,5deca5e94cfddb8a7ea828586d045c5b0c65b5c0,4,1,1,20775,,,0,"DNM: Check

Change-Id: I0a8ad71e347412583107539b87dfa157c9c88e96
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/82/687082/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,5deca5e94cfddb8a7ea828586d045c5b0c65b5c0,tripleo-upgrade-molecule, wen: ffu_upgrade_workarounds|bool, when: ffu_upgrade_workarounds|bool,1,1
openstack%2Ftripleo-upgrade~master~Ie323a22f304657de96625364e2d07cc7f8f19420,openstack/tripleo-upgrade,master,Ie323a22f304657de96625364e2d07cc7f8f19420,DNM: Check,ABANDONED,2019-10-07 15:45:14.000000000,2019-12-03 15:20:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-07 15:45:14.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fa9ed2dc199f34d858691f64741aa5959d937053', 'message': 'DNM: Check\n\nChange-Id: Ie323a22f304657de96625364e2d07cc7f8f19420\n'}]",0,687083,fa9ed2dc199f34d858691f64741aa5959d937053,4,1,1,20775,,,0,"DNM: Check

Change-Id: Ie323a22f304657de96625364e2d07cc7f8f19420
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/83/687083/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,fa9ed2dc199f34d858691f64741aa5959d937053,tripleo-upgrade-molecule, wen: ffu_upgrade_workarounds|bool, when: ffu_upgrade_workarounds|bool,1,1
openstack%2Fkuryr-kubernetes~master~Ibe7162d14109f9519f10aaf6a0ccccf071c9499d,openstack/kuryr-kubernetes,master,Ibe7162d14109f9519f10aaf6a0ccccf071c9499d,DNM: Testing if 8b6bb936d3 broke us,ABANDONED,2019-12-03 13:31:16.000000000,2019-12-03 15:18:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-03 13:31:16.000000000', 'files': ['cni_ds_init'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/726977c8bb22ade81b6462db9f6923744d55fd86', 'message': 'DNM: Testing if 8b6bb936d3 broke us\n\nChange-Id: Ibe7162d14109f9519f10aaf6a0ccccf071c9499d\nDepends-On: https://review.opendev.org/#/c/697084/\n'}]",0,697090,726977c8bb22ade81b6462db9f6923744d55fd86,3,1,1,11600,,,0,"DNM: Testing if 8b6bb936d3 broke us

Change-Id: Ibe7162d14109f9519f10aaf6a0ccccf071c9499d
Depends-On: https://review.opendev.org/#/c/697084/
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/90/697090/1 && git format-patch -1 --stdout FETCH_HEAD,['cni_ds_init'],1,726977c8bb22ade81b6462db9f6923744d55fd86,test-revert-8b6bb936d3,# 8b6bb936d3,,1,0
openstack%2Fkuryr-kubernetes~master~Ic0e7bd91cc5e2028cab59048f4870f769f7b2065,openstack/kuryr-kubernetes,master,Ic0e7bd91cc5e2028cab59048f4870f769f7b2065,DNM: Testing which Octavia commit broke us,ABANDONED,2019-12-03 13:30:20.000000000,2019-12-03 15:18:34.000000000,,[],"[{'number': 1, 'created': '2019-12-03 13:30:20.000000000', 'files': ['cni_ds_init'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/11fe7732d249eb53c4c39246beb8f4e1174cac29', 'message': 'DNM: Testing which Octavia commit broke us\n\nChange-Id: Ic0e7bd91cc5e2028cab59048f4870f769f7b2065\nDepends-On: https://review.opendev.org/#/c/697086/\n'}]",0,697089,11fe7732d249eb53c4c39246beb8f4e1174cac29,2,0,1,11600,,,0,"DNM: Testing which Octavia commit broke us

Change-Id: Ic0e7bd91cc5e2028cab59048f4870f769f7b2065
Depends-On: https://review.opendev.org/#/c/697086/
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/89/697089/1 && git format-patch -1 --stdout FETCH_HEAD,['cni_ds_init'],1,11fe7732d249eb53c4c39246beb8f4e1174cac29,test-revert-314b43af9a,# 314b43af9a,,1,0
openstack%2Foctavia~master~I3a61df475c1e270860c50216523b23a0162ebad9,openstack/octavia,master,I3a61df475c1e270860c50216523b23a0162ebad9,"DNM: Revert ""Use retry for AmphoraComputeConnectivityWait""",ABANDONED,2019-12-03 13:27:26.000000000,2019-12-03 15:18:28.000000000,,[],"[{'number': 1, 'created': '2019-12-03 13:27:26.000000000', 'files': ['octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/29e265789bb339ab9a3873e1f0f49d1ddb2d1734', 'message': 'DNM: Revert ""Use retry for AmphoraComputeConnectivityWait""\n\nThis reverts commit 314b43af9a57a698a66d46c11892380bff315166.\n\nPlease do not merge, I\'m just trying to figure out which one broke Kuryr\ngate.\n\nChange-Id: I3a61df475c1e270860c50216523b23a0162ebad9\n'}]",0,697086,29e265789bb339ab9a3873e1f0f49d1ddb2d1734,2,0,1,11600,,,0,"DNM: Revert ""Use retry for AmphoraComputeConnectivityWait""

This reverts commit 314b43af9a57a698a66d46c11892380bff315166.

Please do not merge, I'm just trying to figure out which one broke Kuryr
gate.

Change-Id: I3a61df475c1e270860c50216523b23a0162ebad9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/697086/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/amphorae/drivers/driver_base.py']",10,29e265789bb339ab9a3873e1f0f49d1ddb2d1734,revert-314b43af9a," def get_info(self, amphora):"," def get_info(self, amphora, raise_retry_exception=False): :param raise_retry_exception: Flag if outside task should be retried :type boolean: False by default",37,86
openstack%2Foctavia~master~Ie8ea3417b1b7fe82d88339ac63ccf0f8b365c085,openstack/octavia,master,Ie8ea3417b1b7fe82d88339ac63ccf0f8b365c085,"DNM: Revert ""Use 2048-bits keys for devstack certificates""",ABANDONED,2019-12-03 13:25:33.000000000,2019-12-03 15:18:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-03 13:25:33.000000000', 'files': ['bin/create_dual_intermediate_CA.sh', 'bin/create_single_CA_intermediate_CA.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/64d6af78df8cd6d1044d2469a14b60c85be22e70', 'message': 'DNM: Revert ""Use 2048-bits keys for devstack certificates""\n\nThis reverts commit 8b6bb936d377f110f7f684d845ec3bd8e76fec82.\n\nPlease do not merge, I\'m just trying to figure out which one causes\nKuryr gates issues.\n\nChange-Id: Ie8ea3417b1b7fe82d88339ac63ccf0f8b365c085\n'}]",0,697084,64d6af78df8cd6d1044d2469a14b60c85be22e70,3,1,1,11600,,,0,"DNM: Revert ""Use 2048-bits keys for devstack certificates""

This reverts commit 8b6bb936d377f110f7f684d845ec3bd8e76fec82.

Please do not merge, I'm just trying to figure out which one causes
Kuryr gates issues.

Change-Id: Ie8ea3417b1b7fe82d88339ac63ccf0f8b365c085
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/697084/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/create_dual_intermediate_CA.sh', 'bin/create_single_CA_intermediate_CA.sh']",2,64d6af78df8cd6d1044d2469a14b60c85be22e70,revert-8b6bb936d3,# Note: This uses short key lengths to save entropy in the test gates. # This is not recommended for deployment use! openssl genrsa -aes128 -out private/ca.key.pem -passout pass:not-secure-passphrase 1024# Note: This uses short key lengths to save entropy in the test gates. # This is not recommended for deployment use! openssl genrsa -aes128 -out intermediate_ca/private/intermediate.ca.key.pem -passout pass:not-secure-passphrase 1024# Note: This uses short key lengths to save entropy in the test gates. # This is not recommended for deployment use! openssl genrsa -aes128 -out intermediate_ca/private/controller.key.pem -passout pass:not-secure-passphrase 1024,openssl genrsa -aes128 -out private/ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/intermediate.ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/controller.key.pem -passout pass:not-secure-passphrase 2048,24,8
openstack%2Fproject-config~master~Ia5e5b0933e5b2e5b9865624a4bcb77ba7b2f3eac,openstack/project-config,master,Ia5e5b0933e5b2e5b9865624a4bcb77ba7b2f3eac,Add cinder backup swift proxy charm and cinder backup interface,MERGED,2019-11-29 15:29:32.000000000,2019-12-03 15:15:59.000000000,2019-12-03 15:15:59.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2019-11-29 15:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a6b226b2d71d7b6a1033e40f6cde5e8320d77115', 'message': 'Add cinder backup swift proxy charm and cinder backup interface\n\nChange-Id: Ia5e5b0933e5b2e5b9865624a4bcb77ba7b2f3eac\nNeeded-by: 8a01d2e99aa976ad2f6d529184834a86386d511b\n'}, {'number': 2, 'created': '2019-11-29 15:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c5c5595582875cec702f855af6adb01ecf49e903', 'message': 'Add cinder backup swift proxy charm and cinder backup interface\n\nNeeded-by: I8c1dc32ae71ad2261e0a676186458613cd7e151d\nChange-Id: Ia5e5b0933e5b2e5b9865624a4bcb77ba7b2f3eac\n'}, {'number': 3, 'created': '2019-11-29 15:37:29.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7f5e7f2ac5f7744b3ca11e57d101a82d3d8a1960', 'message': 'Add cinder backup swift proxy charm and cinder backup interface\n\nNeeded-by: I8c1dc32ae71ad2261e0a676186458613cd7e151d\nChange-Id: Ia5e5b0933e5b2e5b9865624a4bcb77ba7b2f3eac\n'}]",0,696722,7f5e7f2ac5f7744b3ca11e57d101a82d3d8a1960,18,5,3,22799,,,0,"Add cinder backup swift proxy charm and cinder backup interface

Needed-by: I8c1dc32ae71ad2261e0a676186458613cd7e151d
Change-Id: Ia5e5b0933e5b2e5b9865624a4bcb77ba7b2f3eac
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/696722/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,a6b226b2d71d7b6a1033e40f6cde5e8320d77115,project-update, - openstack/charm-cinder-backup-swift-proxy,,11,0
openstack%2Fgovernance~master~I0be1fcc9c5553cc06891a593b253e3aee4e8ebb8,openstack/governance,master,I0be1fcc9c5553cc06891a593b253e3aee4e8ebb8,Update base badges,MERGED,2019-11-25 14:12:06.000000000,2019-12-03 15:12:21.000000000,2019-12-03 15:07:49.000000000,"[{'_account_id': 1004}, {'_account_id': 8099}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-25 14:12:06.000000000', 'files': ['doc/source/_exts/badges.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/3e9b7f6b76e284e3eb448c49b196117db8069dee', 'message': 'Update base badges\n\nInstead of displaying a ""project official"" badge which does not mean\nmuch when you browse the project on opendev or GitHub, display an\n""openstack community project"" badge pointing to the project team list,\nand a ""cii best practices passing"" badge pointing to our CII results.\n\nFix a bug that prevented badges with spaces from being properly\ndisplayed.\n\nChange-Id: I0be1fcc9c5553cc06891a593b253e3aee4e8ebb8\n'}]",0,695908,3e9b7f6b76e284e3eb448c49b196117db8069dee,11,5,1,308,,,0,"Update base badges

Instead of displaying a ""project official"" badge which does not mean
much when you browse the project on opendev or GitHub, display an
""openstack community project"" badge pointing to the project team list,
and a ""cii best practices passing"" badge pointing to our CII results.

Fix a bug that prevented badges with spaces from being properly
displayed.

Change-Id: I0be1fcc9c5553cc06891a593b253e3aee4e8ebb8
",git fetch https://review.opendev.org/openstack/governance refs/changes/08/695908/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/badges.py'],1,3e9b7f6b76e284e3eb448c49b196117db8069dee,code-change," <g mask=""url('#round:{left_text}:{right_text}')""> fill=""url('#smooth:{left_text}:{right_text}')""/> _badge('openstack', 'community project', 'https://governance.openstack.org/tc/reference/projects/'), _badge('cii best practices', 'passing', 'https://bestpractices.coreinfrastructure.org/projects/246')"," <g mask=""url(#round:{left_text}:{right_text})""> fill=""url(#smooth:{left_text}:{right_text})""/> _badge('project', 'official')",6,3
openstack%2Ftripleo-quickstart~master~I4cea383a4c316f341ae92771b1238c9ce8c6b82b,openstack/tripleo-quickstart,master,I4cea383a4c316f341ae92771b1238c9ce8c6b82b,Do not merge: Test master with buildah 1.8,ABANDONED,2019-08-21 16:36:03.000000000,2019-12-03 15:12:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-21 16:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/37cf351f43d86dd61af10c15513b040c26031cbd', 'message': 'Do not merge: Test master with buildah 1.8\n\nDepends-On: https://review.opendev.org/674919\nChange-Id: I4cea383a4c316f341ae92771b1238c9ce8c6b82b\n'}, {'number': 2, 'created': '2019-08-21 16:37:20.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bcb979378095237fe766cd5dfb891422724c2ac4', 'message': 'Do not merge: Test master with buildah 1.8\n\nDepends-On: https://review.opendev.org/674919\nChange-Id: I4cea383a4c316f341ae92771b1238c9ce8c6b82b\n'}]",0,677785,bcb979378095237fe766cd5dfb891422724c2ac4,5,2,2,9061,,,0,"Do not merge: Test master with buildah 1.8

Depends-On: https://review.opendev.org/674919
Change-Id: I4cea383a4c316f341ae92771b1238c9ce8c6b82b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/85/677785/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml']",2,37cf351f43d86dd61af10c15513b040c26031cbd,, exclude: - buildah*1.10* exclude: - buildah*1.9*,,8,0
openstack%2Fopenstack-ansible~stable%2Fpike~I5254cc3aaba8979592fa30b88db49a5eeab30690,openstack/openstack-ansible,stable/pike,I5254cc3aaba8979592fa30b88db49a5eeab30690,Pin ARA to <1.0.0,ABANDONED,2019-05-24 14:43:23.000000000,2019-12-03 15:12:00.000000000,,"[{'_account_id': 290}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 14:43:23.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6209fe3df45dcdcc5accdaba542416e994939684', 'message': ""Pin ARA to <1.0.0\n\nARA 1.0 will be released in the near future and isn't backwards\ncompatible. Pin it so it doesn't break things unexpectedly.\n\nChange-Id: I5254cc3aaba8979592fa30b88db49a5eeab30690\n(cherry picked from commit 34ba3c5a50ba0a80cd2179cbd716baa488d82635)\n""}]",0,661311,6209fe3df45dcdcc5accdaba542416e994939684,6,2,1,9061,,,0,"Pin ARA to <1.0.0

ARA 1.0 will be released in the near future and isn't backwards
compatible. Pin it so it doesn't break things unexpectedly.

Change-Id: I5254cc3aaba8979592fa30b88db49a5eeab30690
(cherry picked from commit 34ba3c5a50ba0a80cd2179cbd716baa488d82635)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/661311/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,6209fe3df45dcdcc5accdaba542416e994939684,pin-ara-1.0," ${PIP_COMMAND} install --isolated ${PIP_OPTS} 'ara<1.0.0' ""${ANSIBLE_PACKAGE:-ansible}"""," ${PIP_COMMAND} install --isolated ${PIP_OPTS} ara==0.14.0 ""${ANSIBLE_PACKAGE:-ansible}""",1,1
openstack%2Fgovernance~master~I0200b500c4a89c6326d843b8628dfd87dc6eb778,openstack/governance,master,I0200b500c4a89c6326d843b8628dfd87dc6eb778,Retire neutron-interconnection from openstack/,MERGED,2019-11-15 08:52:39.000000000,2019-12-03 15:11:57.000000000,2019-12-03 15:11:57.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 7353}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 08:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/fd35addd84ea1cc1d285569910be9d72a6b1a90d', 'message': 'Rename neutron-interconnection from openstack/ to x/ namespace\n\nProject neutron-interconnection was officialy in Neutron stadium but as\nthere was no activity on this project for quite long time and project\nactually never got any real implementation done, during the Shanghai PTG\nwe decided to move it out of stadium to x/ namespace.\n\nAlso api-ref for this project is removed from neutron-lib with commit\n[1].\n\nProject rename patch is proposed at [2]\n\n[1] https://review.opendev.org/#/c/694466/\n[2] https://review.opendev.org/#/c/694478/\n\nDepends-On: https://review.opendev.org/#/c/694478/\nChange-Id: I0200b500c4a89c6326d843b8628dfd87dc6eb778\n'}, {'number': 2, 'created': '2019-11-15 09:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/de41220312c62bd70d240d078977874bd2068ae7', 'message': 'Rename neutron-interconnection from openstack/ to x/ namespace\n\nProject neutron-interconnection was officialy in Neutron stadium but as\nthere was no activity on this project for quite long time and project\nactually never got any real implementation done, during the Shanghai PTG\nwe decided to move it out of stadium to x/ namespace.\n\nAlso api-ref for this project is removed from neutron-lib with commit\n[1].\n\nProject rename patch is proposed at [2]\n\n[1] https://review.opendev.org/#/c/694466/\n[2] https://review.opendev.org/#/c/694478/\n\nDepends-On: https://review.opendev.org/#/c/694478/\nChange-Id: I0200b500c4a89c6326d843b8628dfd87dc6eb778\n'}, {'number': 3, 'created': '2019-11-15 09:37:38.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/bac3be754f6002003b3315f79b9156bb9949d31d', 'message': 'Retire neutron-interconnection from openstack/\n\nProject neutron-interconnection was officialy in Neutron stadium but as\nthere was no activity on this project for quite long time and project\nactually never got any real implementation done, during the Shanghai PTG\nwe decided to move it out of stadium to x/ namespace.\n\nAlso api-ref for this project is removed from neutron-lib with commit\n[1].\n\nProject rename patch is proposed at [2].\n\nPatch which adds README file to the exising project is available at [3].\n\n[1] https://review.opendev.org/694466/\n[2] https://review.opendev.org/694478/\n[3] https://review.opendev.org/694490/\n\nDepends-On: https://review.opendev.org/#/c/694478/\nChange-Id: I0200b500c4a89c6326d843b8628dfd87dc6eb778\n'}]",0,694480,bac3be754f6002003b3315f79b9156bb9949d31d,31,13,3,11975,,,0,"Retire neutron-interconnection from openstack/

Project neutron-interconnection was officialy in Neutron stadium but as
there was no activity on this project for quite long time and project
actually never got any real implementation done, during the Shanghai PTG
we decided to move it out of stadium to x/ namespace.

Also api-ref for this project is removed from neutron-lib with commit
[1].

Project rename patch is proposed at [2].

Patch which adds README file to the exising project is available at [3].

[1] https://review.opendev.org/694466/
[2] https://review.opendev.org/694478/
[3] https://review.opendev.org/694490/

Depends-On: https://review.opendev.org/#/c/694478/
Change-Id: I0200b500c4a89c6326d843b8628dfd87dc6eb778
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/694480/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,fd35addd84ea1cc1d285569910be9d72a6b1a90d,project-update,, neutron-interconnection: repos: - openstack/neutron-interconnection,0,3
openstack%2Fkolla-ansible~master~Ic002c0eb6fef532cf1cb508056627b2367ec3611,openstack/kolla-ansible,master,Ic002c0eb6fef532cf1cb508056627b2367ec3611,Do not merge: Test ara 1.0,ABANDONED,2019-03-27 01:00:14.000000000,2019-12-03 15:11:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-27 01:00:14.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43c510e9c60a5746fb743d579e5e0b1dcd8e824a', 'message': 'Do not merge: Test ara 1.0\n\nChange-Id: Ic002c0eb6fef532cf1cb508056627b2367ec3611\n'}]",0,647958,43c510e9c60a5746fb743d579e5e0b1dcd8e824a,3,1,1,9061,,,0,"Do not merge: Test ara 1.0

Change-Id: Ic002c0eb6fef532cf1cb508056627b2367ec3611
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/647958/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,43c510e9c60a5746fb743d579e5e0b1dcd8e824a,," sudo -H pip install -U ""ansible>=2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""cmd2<0.9.0"" ""git+https://opendev.org/openstack/ara@feature/1.0"" ara_location=$(python -m ara.plugins)callback_plugins = ${ara_location}/callback"," sudo -H pip install -U ""ansible>=2.4"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara"" ""cmd2<0.9.0"" ara_location=$(python -c ""import os,ara; print(os.path.dirname(ara.__file__))"")callback_plugins = ${ara_location}/plugins/callbacks",3,3
openstack%2Fopenstack-ansible~master~I2b10038ac23cdf791e2f45dbea71661378b71fe4,openstack/openstack-ansible,master,I2b10038ac23cdf791e2f45dbea71661378b71fe4,Do not merge: test ara 1.0,ABANDONED,2019-01-16 15:41:47.000000000,2019-12-03 15:11:12.000000000,,"[{'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-16 15:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/de647e1c52b34fb212325789039ce8545ff376e0', 'message': ""Do not merge: test ara 1.0\n\nThere is no expectation that this will merge in it's current state.\nThis is only used to test the upcoming release of ara 1.0.\n\nThis is only being tested against Ubuntu right now since the new backend\nis only compatible with py3 and we don't want to waste resources.\n\nChange-Id: I2b10038ac23cdf791e2f45dbea71661378b71fe4\n""}, {'number': 2, 'created': '2019-01-17 01:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/781216b238cb3213db23c79265e1317b7dfeeb29', 'message': ""Do not merge: test ara 1.0\n\nThere is no expectation that this will merge in it's current state.\nThis is only used to test the upcoming release of ara 1.0.\n\nThis is only being tested against Ubuntu right now since the new backend\nis only compatible with py3 and we don't want to waste resources.\n\nChange-Id: I2b10038ac23cdf791e2f45dbea71661378b71fe4\n""}, {'number': 3, 'created': '2019-01-17 02:10:08.000000000', 'files': ['scripts/scripts-library.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3724da209f28a7c71883f08b0f60a0addd6f9c7c', 'message': ""Do not merge: test ara 1.0\n\nThere is no expectation that this will merge in it's current state.\nThis is only used to test the upcoming release of ara 1.0.\n\nThis is only being tested against Ubuntu right now since the new backend\nis only compatible with py3 and we don't want to waste resources.\n\nChange-Id: I2b10038ac23cdf791e2f45dbea71661378b71fe4\n""}]",0,631262,3724da209f28a7c71883f08b0f60a0addd6f9c7c,10,2,3,9061,,,0,"Do not merge: test ara 1.0

There is no expectation that this will merge in it's current state.
This is only used to test the upcoming release of ara 1.0.

This is only being tested against Ubuntu right now since the new backend
is only compatible with py3 and we don't want to waste resources.

Change-Id: I2b10038ac23cdf791e2f45dbea71661378b71fe4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/631262/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/scripts-library.sh', 'zuul.d/project.yaml']",2,de647e1c52b34fb212325789039ce8545ff376e0,, check: jobs: - openstack-ansible-deploy-aio_metal-ubuntu-bionic, templates: - openstack-ansible-deploy-base-jobs - openstack-ansible-deploy-aio_lxc-jobs - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-ceph-jobs - openstack-ansible-deploy-distro_ceph-jobs - publish-openstack-docs-pti,10,44
openstack%2Fgovernance~master~I63da32c79e7738f2ae777ef5772d8ab7a1fc317f,openstack/governance,master,I63da32c79e7738f2ae777ef5772d8ab7a1fc317f,Add an OpenStack logo to the badge list,MERGED,2019-11-25 14:12:06.000000000,2019-12-03 15:10:29.000000000,2019-12-03 15:10:29.000000000,"[{'_account_id': 1004}, {'_account_id': 8099}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-25 14:12:06.000000000', 'files': ['doc/source/_exts/badges.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/981c20a7834db865e9f4da0258cd66225851b15b', 'message': 'Add an OpenStack logo to the badge list\n\nTake the opportunity to show an OpenStack logo in front of the\nbadges, since this is displayed on the rendered README for every\nOpenStack repository.\n\nChange-Id: I63da32c79e7738f2ae777ef5772d8ab7a1fc317f\n'}]",0,695910,981c20a7834db865e9f4da0258cd66225851b15b,10,5,1,308,,,0,"Add an OpenStack logo to the badge list

Take the opportunity to show an OpenStack logo in front of the
badges, since this is displayed on the rendered README for every
OpenStack repository.

Change-Id: I63da32c79e7738f2ae777ef5772d8ab7a1fc317f
",git fetch https://review.opendev.org/openstack/governance refs/changes/10/695910/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/badges.py'],1,981c20a7834db865e9f4da0258cd66225851b15b,code-change,"OPENSTACK_SVG = """"""<svg id=""Layer_1"" x=""0"" y=""0"" height=""20"" width=""20"" data-name=""Layer 1"" xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 209.67 180.35""><defs><style>.cls-1{opacity:0.98;}.cls-2{fill:#ed1944;}</style></defs><title>OpenStack_Logo_Mark</title><g class=""cls-1""><path class=""cls-2"" d=""M461.82,215.24h-150a17.17,17.17,0,0,0-17.12,17.12v40.35h41.61v-6.59a9.26,9.26,0,0,1,9.26-9.26h82.53a9.26,9.26,0,0,1,9.26,9.26v6.59H479V232.36A17.18,17.18,0,0,0,461.82,215.24Z"" transform=""translate(-294.67 -215.24)""/><path class=""cls-2"" d=""M437.33,344.72a9.27,9.27,0,0,1-9.26,9.26H345.54a9.27,9.27,0,0,1-9.26-9.26v-6.59H294.67v40.34a17.17,17.17,0,0,0,17.12,17.13h150A17.18,17.18,0,0,0,479,378.47V338.13H437.33Z"" transform=""translate(-294.67 -215.24)""/><rect class=""cls-2"" y=""69.37"" width=""41.62"" height=""41.62""/><rect class=""cls-2"" x=""142.66"" y=""69.37"" width=""41.62"" height=""41.62""/></g><path class=""cls-2"" d=""M504.33,386.39a9.2,9.2,0,1,0-9.2,9.21A9.21,9.21,0,0,0,504.33,386.39Zm-9.2,6.94a6.94,6.94,0,1,1,6.94-6.94A6.94,6.94,0,0,1,495.13,393.33Z"" transform=""translate(-294.67 -215.24)""/><path class=""cls-2"" d=""M498.58,384.72v-.05a2.88,2.88,0,0,0-.76-2.09,3.38,3.38,0,0,0-2.45-.86H492v9h1.86v-3H495l1.66,3h2.14l-1.92-3.35A2.72,2.72,0,0,0,498.58,384.72Zm-1.88.06a1.3,1.3,0,0,1-1.47,1.35h-1.38v-2.72h1.34c1,0,1.51.45,1.51,1.35Z"" transform=""translate(-294.67 -215.24)""/></svg>"""""" # Start a new line at x=25, after the openstack logo x = 25 yield OPENSTACK_SVG", # Start a new line x = 0,5,2
openstack%2Fgovernance~master~Ia116a46236ba2e8d8757d0191f0cf6432c81c600,openstack/governance,master,Ia116a46236ba2e8d8757d0191f0cf6432c81c600,Sort tag badges alphabetically,MERGED,2019-11-25 14:12:06.000000000,2019-12-03 15:10:29.000000000,2019-12-03 15:10:29.000000000,"[{'_account_id': 1004}, {'_account_id': 8099}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-25 14:12:06.000000000', 'files': ['doc/source/_exts/badges.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/d0fadd6f3b21dac121c8bf100673285d7ed4ca53', 'message': 'Sort tag badges alphabetically\n\nRather than sorting badges by size, sort them alphabetically.\n\nSince we can no longer rely on the last line having the largest badge,\nchange the column width calculation logic to actually look at all badges\nin a column, rather than look at it from the bottom.\n\nChange-Id: Ia116a46236ba2e8d8757d0191f0cf6432c81c600\n'}]",0,695909,d0fadd6f3b21dac121c8bf100673285d7ed4ca53,10,5,1,308,,,0,"Sort tag badges alphabetically

Rather than sorting badges by size, sort them alphabetically.

Since we can no longer rely on the last line having the largest badge,
change the column width calculation logic to actually look at all badges
in a column, rather than look at it from the bottom.

Change-Id: Ia116a46236ba2e8d8757d0191f0cf6432c81c600
",git fetch https://review.opendev.org/openstack/governance refs/changes/09/695909/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/badges.py'],1,d0fadd6f3b21dac121c8bf100673285d7ed4ca53,code-change," return sorted(badges, key=lambda b: b['left_text']+b['right_text']) # Arrange badges in NUM_COL columns, filling the rest with width=0 badges ziped = list(zip_longest(*(iter(base_badges + tag_badges),) * NUM_COL, fillvalue={'width': 0})) # Skip width=0 badges if badge['width'] == 0: # Column width is the width of the largest badge in column col_width = max(ziped, key=lambda s: s[col]['width'])[col]['width'] x += col_width + BADGE_SPACING"," return sorted(badges, key=lambda badge: badge['width']) # Arrange badges in NUM_COL columns, filling the rest with None ziped = list(zip_longest(*(iter(base_badges + tag_badges),) * NUM_COL)) # Skip None badges if badge is None: largest_badge = ziped[-1][col] if largest_badge is None: if len(ziped) > 1: largest_badge = ziped[-2][col] else: largest_badge = badge x += largest_badge['width'] + BADGE_SPACING",9,12
openstack%2Fgovernance~master~I4a0e4ac277c3dfef52a7949c7143f16f4e08e48b,openstack/governance,master,I4a0e4ac277c3dfef52a7949c7143f16f4e08e48b,Always place base badges first,MERGED,2019-11-25 14:12:06.000000000,2019-12-03 15:10:25.000000000,2019-12-03 15:07:48.000000000,"[{'_account_id': 1004}, {'_account_id': 8099}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-25 14:12:06.000000000', 'files': ['doc/source/_exts/badges.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/af14a1e3845bf8ee07f6e11e7ce17b9ef9c65a53', 'message': 'Always place base badges first\n\nThe ""project:official"" badge is currently placed first because it\nhappens to be the smallest one. Separate base badges from tag badges\nand always place them first.\n\nChange-Id: I4a0e4ac277c3dfef52a7949c7143f16f4e08e48b\n'}]",0,695907,af14a1e3845bf8ee07f6e11e7ce17b9ef9c65a53,11,5,1,308,,,0,"Always place base badges first

The ""project:official"" badge is currently placed first because it
happens to be the smallest one. Separate base badges from tag badges
and always place them first.

Change-Id: I4a0e4ac277c3dfef52a7949c7143f16f4e08e48b
",git fetch https://review.opendev.org/openstack/governance refs/changes/07/695907/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/badges.py'],1,af14a1e3845bf8ee07f6e11e7ce17b9ef9c65a53,code-change,"def _get_base_badges(): return [ _badge('project', 'official') ] def _get_tag_badges(tags): badges = [] return sorted(badges, key=lambda badge: badge['width']) def _organize_badges(base_badges, tag_badges): ziped = list(zip_longest(*(iter(base_badges + tag_badges),) * NUM_COL)) badges = _organize_badges(_get_base_badges(), _get_tag_badges(tags))","def _get_badges(tags): badges = [] badges.append(_badge('project', 'official')) return badges def _organize_badges(badges): sbadges = sorted(badges, key=lambda badge: badge['width']) ziped = list(zip_longest(*(iter(sbadges),) * NUM_COL)) badges = _organize_badges(_get_badges(tags))",12,8
openstack%2Ftripleo-heat-templates~master~I787edced7c14d04b2fe2342c4b3c830a329dbaf9,openstack/tripleo-heat-templates,master,I787edced7c14d04b2fe2342c4b3c830a329dbaf9,Add healthcheck for nova-virtlogd container,MERGED,2019-11-11 10:20:57.000000000,2019-12-03 15:09:15.000000000,2019-12-03 15:07:31.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-11-11 10:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a65197848baf590c7cdbe141c6adeaa03ce9557d', 'message': 'Add healthcheck for nova-virtlogd container\n\nThis change sets healthcheck command for nova-virtlogd container,\nwhich is added in tripleo-common repo in change [1].\n\n[1] I9c76855169448a125541c94d480a4afd49ff6d0e\n\nDepends-On: https://review.opendev.org/#/c/693674/\nChange-Id: I787edced7c14d04b2fe2342c4b3c830a329dbaf9\n'}, {'number': 2, 'created': '2019-11-20 11:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06b5d8d8ab5286f8871cf03f54a8891f18cfaa11', 'message': 'Add healthcheck for nova-virtlogd container\n\nThis change sets healthcheck command for nova-virtlogd container,\nwhich is added in tripleo-common repo in change [1].\n\n[1] I9c76855169448a125541c94d480a4afd49ff6d0e\n\nDepends-On: https://review.opendev.org/#/c/693674/\nChange-Id: I787edced7c14d04b2fe2342c4b3c830a329dbaf9\n'}, {'number': 3, 'created': '2019-11-21 07:01:56.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/730ae4a7843f39a828886f30498551ec7450683c', 'message': 'Add healthcheck for nova-virtlogd container\n\nThis change sets healthcheck command for nova-virtlogd container,\nwhich is added in tripleo-common repo in change [1].\n\n[1] I9c76855169448a125541c94d480a4afd49ff6d0e\n\nDepends-On: https://review.opendev.org/#/c/693674/\nChange-Id: I787edced7c14d04b2fe2342c4b3c830a329dbaf9\n'}]",4,693675,730ae4a7843f39a828886f30498551ec7450683c,18,11,3,20733,,,0,"Add healthcheck for nova-virtlogd container

This change sets healthcheck command for nova-virtlogd container,
which is added in tripleo-common repo in change [1].

[1] I9c76855169448a125541c94d480a4afd49ff6d0e

Depends-On: https://review.opendev.org/#/c/693674/
Change-Id: I787edced7c14d04b2fe2342c4b3c830a329dbaf9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/693675/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,a65197848baf590c7cdbe141c6adeaa03ce9557d,virtlogd_healthcheck, healthcheck: test: /openstack/healthcheck,,2,0
openstack%2Ftripleo-common~master~I9c76855169448a125541c94d480a4afd49ff6d0e,openstack/tripleo-common,master,I9c76855169448a125541c94d480a4afd49ff6d0e,Add healthcheck for nova-virtlogd container,MERGED,2019-11-11 10:16:50.000000000,2019-12-03 15:09:01.000000000,2019-11-22 02:02:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-11-11 10:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/80fb825c1e0a0beba1ac70ed3f2a17022bf3d7d0', 'message': 'Add healthcheck for nova-virtlogd container\n\nAdds healthcheck for nova-virtlogd container by\nchecking whether file /run/virtlogd.pid is open or not.\n\nChange-Id: I9c76855169448a125541c94d480a4afd49ff6d0e\n'}, {'number': 2, 'created': '2019-11-20 11:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c33c515365665acae3da97aa5e9908f6d171576a', 'message': 'Add healthcheck for nova-virtlogd container\n\nAdds healthcheck for nova-virtlogd container by\nchecking whether /var/run/libvirt/virtlogd-sock\nsocket is opened or not in virtlogd container.\n\nChange-Id: I9c76855169448a125541c94d480a4afd49ff6d0e\n'}, {'number': 3, 'created': '2019-11-21 06:57:48.000000000', 'files': ['healthcheck/nova-libvirt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cdbcf9ff75523c9a55d25271432ad215ab510bc4', 'message': 'Add healthcheck for nova-virtlogd container\n\nAdds healthcheck for nova-virtlogd container by\nchecking whether /var/run/libvirt/virtlogd-sock\nsocket is opened or not in virtlogd container.\n\nChange-Id: I9c76855169448a125541c94d480a4afd49ff6d0e\n'}]",2,693674,cdbcf9ff75523c9a55d25271432ad215ab510bc4,19,8,3,20733,,,0,"Add healthcheck for nova-virtlogd container

Adds healthcheck for nova-virtlogd container by
checking whether /var/run/libvirt/virtlogd-sock
socket is opened or not in virtlogd container.

Change-Id: I9c76855169448a125541c94d480a4afd49ff6d0e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/693674/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/nova-virtlogd'],1,80fb825c1e0a0beba1ac70ed3f2a17022bf3d7d0,virtlogd_healthcheck,#!/bin/bash lsof -o /run/virtlogd.pid echo $? ,,4,0
openstack%2Fos-brick~master~Ib9c8ebae7a6051e18538920139fecd123682a474,openstack/os-brick,master,Ib9c8ebae7a6051e18538920139fecd123682a474,iscsi: Add _get_device_link retry when waiting for /dev/disk/by-id/ to populate,MERGED,2019-11-21 20:05:16.000000000,2019-12-03 15:05:57.000000000,2019-12-03 15:03:41.000000000,"[{'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-11-21 20:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d4eee3765d866e23a9536d9128a8d09940f31779', 'message': 'WIP iscsi: Add retry when waiting for /dev/disk/by-id/ to populate\n\nFailures currently seen in CI suggest that some nodes are struggling to\npopulate this in time resulting in a complete retry of\n_connect_single_volume. We should instead just retry looking for the\nsymlink to hopefully give udev enough time to populate.\n\nChange-Id: Ib9c8ebae7a6051e18538920139fecd123682a474\nCloses-Bug: #1820007\n'}, {'number': 2, 'created': '2019-11-22 10:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b28b7303b7969e265f692610587c414459112c11', 'message': 'iscsi: Add _get_device_link retry when waiting for /dev/disk/by-id/ to populate\n\nBug #1820007 documents failures to find /dev/disk/by-id/ symlinks\nassociated with encrypted volumes both in real world and CI\nenvironments. These failures appear to be due to udev on these slow or\noverloaded hosts failing to populate the required /dev/disk/by-id/\nsymlinks in time after the iSCSI volume has been connected.\n\nThis change seeks to avoid such failures by simply decorating\n_get_device_link with the @utils.retry to hopefully allow udev time to\ncreate the required symlinks under /dev/disk/by-id/.\n\nCloses-Bug: #1820007\nChange-Id: Ib9c8ebae7a6051e18538920139fecd123682a474\n'}, {'number': 3, 'created': '2019-11-29 13:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fbb9a32e86cc45cbc088816cf45c211d1c664e79', 'message': 'iscsi: Add _get_device_link retry when waiting for /dev/disk/by-id/ to populate\n\nBug #1820007 documents failures to find /dev/disk/by-id/ symlinks\nassociated with encrypted volumes both in real world and CI\nenvironments. These failures appear to be due to udev on these slow or\noverloaded hosts failing to populate the required /dev/disk/by-id/\nsymlinks in time after the iSCSI volume has been connected.\n\nThis change seeks to avoid such failures by simply decorating\n_get_device_link with the @utils.retry to hopefully allow udev time to\ncreate the required symlinks under /dev/disk/by-id/.\n\nCloses-Bug: #1820007\nChange-Id: Ib9c8ebae7a6051e18538920139fecd123682a474\n'}, {'number': 4, 'created': '2019-11-29 16:23:30.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/331316827a60aa50ee26be08a06027525f5194ef', 'message': 'iscsi: Add _get_device_link retry when waiting for /dev/disk/by-id/ to populate\n\nBug #1820007 documents failures to find /dev/disk/by-id/ symlinks\nassociated with encrypted volumes both in real world and CI\nenvironments. These failures appear to be due to udev on these slow or\noverloaded hosts failing to populate the required /dev/disk/by-id/\nsymlinks in time after the iSCSI volume has been connected.\n\nThis change seeks to avoid such failures by simply decorating\n_get_device_link with the @utils.retry to hopefully allow udev time to\ncreate the required symlinks under /dev/disk/by-id/.\n\nCloses-Bug: #1820007\nChange-Id: Ib9c8ebae7a6051e18538920139fecd123682a474\n'}]",7,695564,331316827a60aa50ee26be08a06027525f5194ef,53,17,4,10135,,,0,"iscsi: Add _get_device_link retry when waiting for /dev/disk/by-id/ to populate

Bug #1820007 documents failures to find /dev/disk/by-id/ symlinks
associated with encrypted volumes both in real world and CI
environments. These failures appear to be due to udev on these slow or
overloaded hosts failing to populate the required /dev/disk/by-id/
symlinks in time after the iSCSI volume has been connected.

This change seeks to avoid such failures by simply decorating
_get_device_link with the @utils.retry to hopefully allow udev time to
create the required symlinks under /dev/disk/by-id/.

Closes-Bug: #1820007
Change-Id: Ib9c8ebae7a6051e18538920139fecd123682a474
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/64/695564/4 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/iscsi.py'],1,d4eee3765d866e23a9536d9128a8d09940f31779,, @utils.retry(exceptions=(exception.VolumeDeviceNotFound)),,1,0
openstack%2Fgovernance~master~I79fccd1221274bf6aa96f6c4c7404ebe10545660,openstack/governance,master,I79fccd1221274bf6aa96f6c4c7404ebe10545660,Clean up badge generation code,MERGED,2019-11-25 14:12:06.000000000,2019-12-03 15:05:34.000000000,2019-12-03 15:04:16.000000000,"[{'_account_id': 1004}, {'_account_id': 8099}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-25 14:12:06.000000000', 'files': ['doc/source/_exts/badges.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/fa9a3bddc31b5dfc225b385b7397f51647ea8ce6', 'message': 'Clean up badge generation code\n\nBefore making deeper changes, clean up existing code by:\n\n- introducing variables controlling number of columns, and spacing\n  between badges\n- renaming confusing function names and variables\n- adding a few comments\n- wrapping long lines\n\nChange-Id: I79fccd1221274bf6aa96f6c4c7404ebe10545660\n'}]",0,695906,fa9a3bddc31b5dfc225b385b7397f51647ea8ce6,12,5,1,308,,,0,"Clean up badge generation code

Before making deeper changes, clean up existing code by:

- introducing variables controlling number of columns, and spacing
  between badges
- renaming confusing function names and variables
- adding a few comments
- wrapping long lines

Change-Id: I79fccd1221274bf6aa96f6c4c7404ebe10545660
",git fetch https://review.opendev.org/openstack/governance refs/changes/06/695906/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/badges.py'],1,fa9a3bddc31b5dfc225b385b7397f51647ea8ce6,code-change,"NUM_COL = 4BADGE_SPACING = 4<svg contentScriptType=""text/ecmascript"" zoomAndPan=""magnify"" contentStyleType=""text/css"" height=""{height}"" width=""{width}"" preserveAspectRatio=""xMidYMid meet"" xmlns=""http://www.w3.org/2000/svg""FLAT_BADGE_TEMPLATE = """"""<svg id=""{left_text}:{right_text}"" width=""{width}"" height=""20"" x=""{svg_x}"" y=""{svg_y}""> <rect width=""{width}"" height=""20"" fill=""url(#smooth:{left_text}:{right_text})""/> <g fill=""#fff"" text-anchor=""middle"" font-family=""DejaVu Sans,Verdana,Geneva,sans-serif"" font-size=""11""> <text x=""{left_x}"" y=""15"" fill=""#010101"" fill-opacity="".3"">{left_text}</text> <text x=""{right_x}"" y=""15"" fill=""#010101"" fill-opacity="".3"">{right_text}</text>def _badge(left_text, right_text, link=None, colorscheme='brightgreen'):def _get_badges(tags): badges.append(_badge('project', 'official')) badges.append(_badge(group, tname, link, colorscheme='blue')) # Arrange badges in NUM_COL columns, filling the rest with None ziped = list(zip_longest(*(iter(sbadges),) * NUM_COL)) # Calculate x,y for each badge, leaving BADGE_SPACING between them for line, group in enumerate(ziped): # Start a new line x = 0 for col, badge in enumerate(group): # Skip None badges largest_badge = ziped[-1][col] if largest_badge is None: if len(ziped) > 1: largest_badge = ziped[-2][col] else: largest_badge = badge badge['svg_y'] = (20 + BADGE_SPACING) * line badge['svg_x'] = x x += largest_badge['width'] + BADGE_SPACING result[line].append(badge) svg_data = _badge('project', 'unofficial', colorscheme='red') badges = _organize_badges(_get_badges(tags)) filename = os.path.join(badges_dir, '%s.svg' % projects.slugify(repo_name)) with open(filename, 'w') as f: f.write(SVG_ROOT.format(height=root_height, width=root_width, svg=svg))","<svg contentScriptType=""text/ecmascript"" zoomAndPan=""magnify"" contentStyleType=""text/css"" height=""{height}"" width=""{width}"" preserveAspectRatio=""xMidYMid meet"" xmlns=""http://www.w3.org/2000/svg""FLAT_BADGE_TEMPLATE = """"""<svg id=""{left_text}:{right_text}"" width=""{width}"" height=""20"" x=""{svg_x}"" y=""{svg_y}""> <rect width=""{width}"" height=""20"" fill=""url(#smooth:{left_text}:{right_text})""/> <g fill=""#fff"" text-anchor=""middle"" font-family=""DejaVu Sans,Verdana,Geneva,sans-serif"" font-size=""11""> <text x=""{left_x}"" y=""15"" fill=""#010101"" fill-opacity="".3"">{left_text}</text> <text x=""{right_x}"" y=""15"" fill=""#010101"" fill-opacity="".3"">{right_text}</text>def _generate_badge(left_text, right_text, link=None, colorscheme='brightgreen'):def _generate_tag_badges(tags): badges.append(_generate_badge('project', 'official')) badges.append(_generate_badge(group, tname, link, colorscheme='blue')) # NOTE(flaper87): 4 is the number of columns ziped = list(zip_longest(*(iter(sbadges),) * 4)) for y, group in enumerate(ziped): col_x = 0 for x, badge in enumerate(group): # NOTE(flaper87): zip_longest fills the # empty slots with None. We don't care about # those. width_badge = ziped[-1][x] if width_badge is None: if len(ziped) > 1: width_badge = ziped[-2][x] else: width_badge = badge badge['svg_y'] = (20 + 4) * y # NOTE(flaper87): 3 is just an extra padding in case there are two badges # with the same width in the same row badge['svg_x'] = col_x col_x += width_badge['width'] + 3 result[y].append(badge) svg_data = _generate_badge('project', 'unofficial', colorscheme='red') badges = _organize_badges(_generate_tag_badges(tags)) filename = os.path.join(badges_dir, '%s.svg' % projects.slugify(repo_name)) with open(filename, 'w') as f: f.write(SVG_ROOT.format(height=root_height, width=root_width, svg=svg))",42,35
openstack%2Frpm-packaging~master~I18636220d69d779badaed09dc1f6ca0a237b52c0,openstack/rpm-packaging,master,I18636220d69d779badaed09dc1f6ca0a237b52c0,ironic-python-agent: fix generated config,MERGED,2019-12-03 10:28:02.000000000,2019-12-03 15:03:35.000000000,2019-12-03 15:03:34.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 22595}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-03 10:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/914dfb2d756fd6cde158f972de71c5cf06005c5f', 'message': 'ironic-python-agent: fix generated config\n\nThe sample configuration file has been removed from the git repo,\nso the target path now needs to be created beforehand.\n\nChange-Id: I18636220d69d779badaed09dc1f6ca0a237b52c0\n'}, {'number': 2, 'created': '2019-12-03 10:29:05.000000000', 'files': ['openstack/ironic-python-agent/ironic-python-agent.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/73d94fa6996d2b849bf2982702d2925bc8f782cc', 'message': 'ironic-python-agent: fix generated config\n\nThe sample configuration file has been removed from the git repo [1],\nso the target path now needs to be created beforehand.\n\n[1] https://review.opendev.org/#/c/696862/\n\nChange-Id: I18636220d69d779badaed09dc1f6ca0a237b52c0\n'}]",0,697051,73d94fa6996d2b849bf2982702d2925bc8f782cc,15,7,2,22595,,,0,"ironic-python-agent: fix generated config

The sample configuration file has been removed from the git repo [1],
so the target path now needs to be created beforehand.

[1] https://review.opendev.org/#/c/696862/

Change-Id: I18636220d69d779badaed09dc1f6ca0a237b52c0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/697051/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic-python-agent/ironic-python-agent.spec.j2'],1,914dfb2d756fd6cde158f972de71c5cf06005c5f,fix-ironic-python-agent,mkdir -p etc/ironic_python_agent,,1,0
openstack%2Fkolla~stable%2Ftrain~I31a372d801dace92950cd85b29b308431f78bbdb,openstack/kolla,stable/train,I31a372d801dace92950cd85b29b308431f78bbdb,Use ovn-ctl script to start OVN ovsdb-servers,MERGED,2019-11-15 05:33:26.000000000,2019-12-03 15:02:24.000000000,2019-12-03 15:00:03.000000000,"[{'_account_id': 10237}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-15 05:33:26.000000000', 'files': ['docker/ovn/ovn-base/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/extend_start.sh', 'docker/ovn/ovn-sb-db-server/start_sb_db_server.sh', 'docker/ovn/ovn-sb-db-server/extend_start.sh', 'docker/ovn/ovn-nb-db-server/Dockerfile.j2', 'docker/ovn/ovn-base/extend_start.sh', 'docker/ovn/ovn-sb-db-server/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/start_nb_db_server.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/03668df367d3ed2aa82f6310f746d958a8a15f7e', 'message': ""Use ovn-ctl script to start OVN ovsdb-servers\n\nUsing the ovn-ctl script to start the OVN ovsdb-server is the better\nway. This script is used to start and stop all OVN systemd services.\nThis script takes care of creating the database from the schema,\nupdating the database from the schema when the schema version gets\nupdated.\n\nThe present scripts - start_nb_db_server.sh and start_sb_db_server.sh\ndoesn't take care of schema updates.\n\nWith this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server\nto create the database from the schema.\n\nThis patch also deletes kolla_ovn_extend_start from the ovn-base image as it\nis not required.\n\nCloses-bug: 1850025\nChange-Id: I31a372d801dace92950cd85b29b308431f78bbdb\n(cherry picked from commit b8c8fa15edcf5336a1121155cdc880a35ccf161f)\n""}]",0,694453,03668df367d3ed2aa82f6310f746d958a8a15f7e,21,7,1,10237,,,0,"Use ovn-ctl script to start OVN ovsdb-servers

Using the ovn-ctl script to start the OVN ovsdb-server is the better
way. This script is used to start and stop all OVN systemd services.
This script takes care of creating the database from the schema,
updating the database from the schema when the schema version gets
updated.

The present scripts - start_nb_db_server.sh and start_sb_db_server.sh
doesn't take care of schema updates.

With this, we don't need extend_start.sh in ovn-nb-db-server/ovn-sb-db-server
to create the database from the schema.

This patch also deletes kolla_ovn_extend_start from the ovn-base image as it
is not required.

Closes-bug: 1850025
Change-Id: I31a372d801dace92950cd85b29b308431f78bbdb
(cherry picked from commit b8c8fa15edcf5336a1121155cdc880a35ccf161f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/694453/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ovn/ovn-base/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/extend_start.sh', 'docker/ovn/ovn-sb-db-server/start_sb_db_server.sh', 'docker/ovn/ovn-sb-db-server/extend_start.sh', 'docker/ovn/ovn-nb-db-server/Dockerfile.j2', 'docker/ovn/ovn-base/extend_start.sh', 'docker/ovn/ovn-sb-db-server/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/start_nb_db_server.sh']",8,03668df367d3ed2aa82f6310f746d958a8a15f7e,train,"# All the option passed to this script will be # passed to the ovn-ctl script. Please see the options # supported by ovn-ctl script - # https://github.com/ovn-org/ovn/blob/master/utilities/ovn-ctl args=$@ # Use ovn-ctl script to start ovn NB db server as it # takes care of creating the db file from the schema # file if the db file is not present. It also takes care # of updating the db file if the schema file is updated. # Check for the presence of ovn-ctl script in two locations. # If latest OVN is used (post split from openvswitch), # then the new location for the ovn-ctl script is # is - /usr/share/ovn/scripts/ovn-ctl. Otherwise it is # /usr/share/openvswitch/scripts/ovn-ctl. if [[ -f ""/usr/share/openvswitch/scripts/ovn-ctl"" ]]; then set /usr/share/openvswitch/scripts/ovn-ctl --no-monitor elif [[ -f ""/usr/share/ovn/scripts/ovn-ctl"" ]]; then set /usr/share/ovn/scripts/ovn-ctl --no-monitor else exit 1$@ $args run_nb_ovsdb",ovsdb_ip=$1 ovnnb_port=$2 if [ -e $ovnnb_port ]; then ovnnb_port=6641/usr/sbin/ovsdb-server /var/lib/openvswitch/ovnnb.db -vconsole:emer -vsyslog:err -vfile:info \ --remote=punix:/run/openvswitch/ovnnb_db.sock --remote=ptcp:$ovnnb_port:$ovsdb_ip \ --unixctl=/run/openvswitch/ovnnb_db.ctl --log-file=/var/log/kolla/openvswitch/ovsdb-server-nb.log,52,62
openstack%2Fpuppet-tripleo~master~I62edac42204b28d9a81789723b331c79aa3358a6,openstack/puppet-tripleo,master,I62edac42204b28d9a81789723b331c79aa3358a6,Fill sslProfile only when it is defined,MERGED,2019-11-12 09:24:36.000000000,2019-12-03 14:52:27.000000000,2019-11-14 06:22:03.000000000,"[{'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-12 09:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c6f36834a26235dfe788a189c9ab5ee1bd6814a2', 'message': 'Fill sslProfile only when it is defined\n\nCurrently when it is not defined the config contains sslProfile: undef which\nmakes nterior QDR communication malf`unctioning.\n\nChange-Id: I62edac42204b28d9a81789723b331c79aa3358a6\n'}, {'number': 2, 'created': '2019-11-12 13:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4fe5ee0efee00de92723c0c0a041dedf7ad6a808', 'message': 'Fill sslProfile only when it is defined\n\nCurrently when it is not defined the config contains sslProfile: undef which\nmakes nterior QDR communication malf`unctioning.\n\nChange-Id: I62edac42204b28d9a81789723b331c79aa3358a6\n'}, {'number': 3, 'created': '2019-11-12 19:49:10.000000000', 'files': ['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/profile/base/metrics/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b66ee38e82d26533a23f91795b671ce53c047f78', 'message': 'Fill sslProfile only when it is defined\n\nCurrently when it is not defined the config contains sslProfile: undef which\nmakes nterior QDR communication malf`unctioning.\n\nChange-Id: I62edac42204b28d9a81789723b331c79aa3358a6\n'}]",1,693794,b66ee38e82d26533a23f91795b671ce53c047f78,20,7,3,5241,,,0,"Fill sslProfile only when it is defined

Currently when it is not defined the config contains sslProfile: undef which
makes nterior QDR communication malf`unctioning.

Change-Id: I62edac42204b28d9a81789723b331c79aa3358a6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/693794/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/metrics/qdr.pp'],1,c6f36834a26235dfe788a189c9ab5ee1bd6814a2,qdr-mesh-fix," if ssl_internal_profile_name { $node_base = {'sslProfile' => $ssl_internal_profile_name} } else { $node_base = {} } $all_connectors = [merge($node_base, )] $edge_listener = merge($node_base, {'host' => $listener_addr, 'port' => '5668', 'role' => 'edge', 'authenticatePeer' => 'no', 'saslMechanisms' => 'ANONYMOUS'}) 'saslMechanisms' => 'ANONYMOUS'} $memo << merge($node_base, {'host' => $node, 'port' => '5667', 'role' => 'inter-router', 'verifyHostname' => false})"," $all_connectors = [ 'sslProfile' => $ssl_internal_profile_name} ] $edge_listener = {'host' => $listener_addr, 'port' => '5668', 'role' => 'edge', 'authenticatePeer' => 'no', 'saslMechanisms' => 'ANONYMOUS', 'sslProfile' => $ssl_internal_profile_name} 'saslMechanisms' => 'ANONYMOUS', 'sslProfile' => $ssl_internal_profile_name} $memo << {'host' => $node, 'port' => '5667', 'role' => 'inter-router', 'verifyHostname' => false, 'sslProfile' => $ssl_internal_profile_name}",20,16
openstack%2Fpuppet-tripleo~master~Ia865bef9daf5b7e92b1b8c3712113416c9c8c176,openstack/puppet-tripleo,master,Ia865bef9daf5b7e92b1b8c3712113416c9c8c176,Synchronize connection configuration for metrics,MERGED,2019-11-14 14:22:26.000000000,2019-12-03 14:52:15.000000000,2019-11-26 17:16:04.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30893}]","[{'number': 1, 'created': '2019-11-14 14:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6d3f3eb542765c690550b7d2ef682436bd79ff2e', 'message': 'Synchronize connection configuration for metrics\n\nCurrently there are cases when collectd is trying to connect to QDR\non different interface than QDR is listening for connections.\n\nThis patch makes sure that those services are always in sync.\n\nChange-Id: Ia865bef9daf5b7e92b1b8c3712113416c9c8c176\n'}, {'number': 2, 'created': '2019-11-14 19:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/987b9177f5fa628fe854cd196811dc7c5ce4b0ae', 'message': 'Synchronize connection configuration for metrics\n\nCurrently there are cases when collectd is trying to connect to QDR\non different interface than QDR is listening for connections.\n\nThis patch makes sure that those services are always in sync.\n\nChange-Id: Ia865bef9daf5b7e92b1b8c3712113416c9c8c176\n'}, {'number': 3, 'created': '2019-11-15 09:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0780b668b0439d7874455fa92050c9b2b09e824f', 'message': 'Synchronize connection configuration for metrics\n\nCurrently there are cases when collectd is trying to connect to QDR\non different interface than QDR is listening for connections.\n\nThis patch makes sure that those services are always in sync. And also\nis changing interior configuration to work based on IPs instead\nof hostnames.\n\nChange-Id: Ia865bef9daf5b7e92b1b8c3712113416c9c8c176\n'}, {'number': 4, 'created': '2019-11-21 11:15:21.000000000', 'files': ['manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0e0b5a10f50f24b889cf4bf3165328e6505f8417', 'message': 'Synchronize connection configuration for metrics\n\nCurrently there are cases when collectd is trying to connect to QDR\non different interface than QDR is listening for connections.\n\nThis patch makes sure that those services are always in sync. And also\nis changing interior configuration to work based on IPs instead\nof hostnames.\n\nChange-Id: Ia865bef9daf5b7e92b1b8c3712113416c9c8c176\n'}]",6,694307,0e0b5a10f50f24b889cf4bf3165328e6505f8417,32,7,4,5241,,,0,"Synchronize connection configuration for metrics

Currently there are cases when collectd is trying to connect to QDR
on different interface than QDR is listening for connections.

This patch makes sure that those services are always in sync. And also
is changing interior configuration to work based on IPs instead
of hostnames.

Change-Id: Ia865bef9daf5b7e92b1b8c3712113416c9c8c176
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/694307/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp']",2,6d3f3eb542765c690550b7d2ef682436bd79ff2e,qdr-mesh-fix,"# [*amqp_router_mode*] # (Optional) String. Mode in which the QDR service, to which collectd # should be connected, is running. # Defaults to hiera('tripleo::profile::base::metrics::qdr::router_mode', 'edge') # # [*amqp_listen_on_external*] # (Optional) Boolean. Whether QDR service, to which collectd should be connected, # is listening for connections on amqp_external_host rather than amqp_host. # Defaults to hiera('tripleo::profile::base::metrics::qdr::listen_on_external', false) # # [*amqp_external_host*] # (Optional) String. Host which QDR service, to which collectd should be connected, # is using for external connections. # Defaults to hiera('tripleo::profile::base::metrics::qdr::external_listener_addr', 'localhost') # $amqp_router_mode = hiera('tripleo::profile::base::metrics::qdr::router_mode', 'edge'), $amqp_listen_on_external = hiera('tripleo::profile::base::metrics::qdr::listen_on_external', false), $amqp_external_host = hiera('tripleo::profile::base::metrics::qdr::external_listener_addr', 'localhost'), if $amqp_listen_on_external and $amqp_router_mode == 'interior' { $listen_on = $amqp_external_host } else { $listen_on = $amqp_host } host => $listen_on,"," host => $amqp_host,",34,4
openstack%2Ftripleo-heat-templates~master~I6b5af0b5afcdec75fe239385922dc84fbbb8288c,openstack/tripleo-heat-templates,master,I6b5af0b5afcdec75fe239385922dc84fbbb8288c,Split QDR environment from collectd,MERGED,2019-11-12 10:35:04.000000000,2019-12-03 14:51:56.000000000,2019-11-26 17:16:09.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}]","[{'number': 1, 'created': '2019-11-12 10:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d19534526a49d7039ac8ce47a1ff4eeadeb9df0', 'message': 'Split QDR environment from collectd\n\nThis patch splits QDR configuration from shared environment files which enables\nflexibility to either run in edge mode only or in mesh mode.\n\nIt also adds separate environment file for ceilometer\n\nChange-Id: I6b5af0b5afcdec75fe239385922dc84fbbb8288c\n'}, {'number': 2, 'created': '2019-11-12 13:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2861d1ce970788ec293c7221d414c5e4a412637e', 'message': 'Split QDR environment from collectd\n\nThis patch splits QDR configuration from shared environment files which enables\nflexibility to either run in edge mode only or in mesh mode.\n\nIt also adds separate environment file for ceilometer\n\nChange-Id: I6b5af0b5afcdec75fe239385922dc84fbbb8288c\n'}, {'number': 3, 'created': '2019-11-14 16:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3411be1625e427f3fd02875f587f8cab68310464', 'message': 'Split QDR environment from collectd\n\nThis patch splits QDR configuration from shared environment files which enables\nflexibility to either run in edge mode only or in mesh mode.\n\nIt also adds separate environment file for ceilometer\n\nChange-Id: I6b5af0b5afcdec75fe239385922dc84fbbb8288c\n'}, {'number': 4, 'created': '2019-11-15 10:40:20.000000000', 'files': ['environments/metrics/qdr-edge-only.yaml', 'environments/metrics/collectd-write-qdr.yaml', 'environments/metrics/qdr-form-controller-mesh.yaml', 'environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ed8ab86dd1754cd9954df8b59dddd3498259e76', 'message': 'Split QDR environment from collectd\n\nThis patch splits QDR configuration from shared environment files which enables\nflexibility to either run in edge mode only or in mesh mode.\n\nIt also adds separate environment file for ceilometer and dynamic listener\nconfiguration for storage nodes for cases when storage nodes are not connected\nto internal network (which is a case for CephStorage nodes by default).\n\nChange-Id: I6b5af0b5afcdec75fe239385922dc84fbbb8288c\n'}]",8,693805,7ed8ab86dd1754cd9954df8b59dddd3498259e76,23,7,4,5241,,,0,"Split QDR environment from collectd

This patch splits QDR configuration from shared environment files which enables
flexibility to either run in edge mode only or in mesh mode.

It also adds separate environment file for ceilometer and dynamic listener
configuration for storage nodes for cases when storage nodes are not connected
to internal network (which is a case for CephStorage nodes by default).

Change-Id: I6b5af0b5afcdec75fe239385922dc84fbbb8288c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/693805/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/qdr-edge-only.yaml', 'environments/metrics/collectd-write-qdr.yaml', 'environments/metrics/qdr-form-controller-mesh.yaml', 'environments/metrics/ceilometer-write-qdr.yaml']",4,1d19534526a49d7039ac8ce47a1ff4eeadeb9df0,saf-environments,## This environment servers the purpose of enabling ceilometer to send metrics ## through QPID dispatch routers. resource_registry: OS::TripleO::Services::CeilometerAgentCentral: ../../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml OS::TripleO::Services::CeilometerAgentNotification: ../../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml OS::TripleO::Services::CeilometerAgentIpmi: ../../deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml OS::TripleO::Services::ComputeCeilometerAgent: ../../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml parameter_defaults: CeilometerQdrPublish: true ,,51,13
openstack%2Fneutron~master~Ic9819a27e3e72038b819ab2fe845c26fc63b26d5,openstack/neutron,master,Ic9819a27e3e72038b819ab2fe845c26fc63b26d5,use objects common_types from neutron-lib,MERGED,2019-06-11 17:44:31.000000000,2019-12-03 14:48:51.000000000,2019-12-03 14:46:07.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-06-11 17:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d296d8610ea2f9dbf64bae4a9a9e71648ec92c5b', 'message': 'use objects common_types from neutron-lib\n\nThis patch consumes the neutron-lib OVO common_types module by\nremoving it from neutron and switching imports over to use neutron-lib\ninstead.\n\nNeutronLibImpact\n\nChange-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5\n'}, {'number': 2, 'created': '2019-06-14 14:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/260f4de4676c06a0a7b1ff13ebf2548eb2fd6a63', 'message': 'use objects common_types from neutron-lib\n\nThis patch consumes the neutron-lib OVO common_types module by\nremoving it from neutron and switching imports over to use neutron-lib\ninstead.\n\nNeutronLibImpact\n\nChange-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5\n'}, {'number': 3, 'created': '2019-06-25 15:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e25daa2becb07e223278c0c18f1b0fc3a6a5357a', 'message': 'use objects common_types from neutron-lib\n\nThis patch consumes the neutron-lib OVO common_types module by\nremoving it from neutron and switching imports over to use neutron-lib\ninstead.\n\nNeutronLibImpact\n\nChange-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5\n'}, {'number': 4, 'created': '2019-07-08 20:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/977948d900b576b5505d2a26472b4911f814c0fd', 'message': 'use objects common_types from neutron-lib\n\nThis patch consumes the neutron-lib OVO common_types module by\nremoving it from neutron and switching imports over to use neutron-lib\ninstead.\n\nNeutronLibImpact\n\nChange-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5\n'}, {'number': 5, 'created': '2019-07-16 16:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c7c5e805b4ccb9327d3dd6853bad3083d70bc6c', 'message': 'use objects common_types from neutron-lib\n\nThis patch consumes the neutron-lib OVO common_types module by\nremoving it from neutron and switching imports over to use neutron-lib\ninstead.\n\nNeutronLibImpact\n\nChange-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5\n'}, {'number': 6, 'created': '2019-07-22 19:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea4f4a974d42b3b95214574d868490cb33169bf0', 'message': 'use objects common_types from neutron-lib\n\nThis patch consumes the neutron-lib OVO common_types module by\nremoving it from neutron and switching imports over to use neutron-lib\ninstead.\n\nNeutronLibImpact\n\nChange-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5\n'}, {'number': 7, 'created': '2019-11-26 14:35:29.000000000', 'files': ['neutron/objects/qos/binding.py', 'neutron/objects/securitygroup.py', 'neutron/objects/subnet.py', 'neutron/objects/network.py', 'neutron/objects/plugins/ml2/vlanallocation.py', 'neutron/objects/conntrack_helper.py', 'neutron/objects/network_segment_range.py', 'neutron/objects/extensions/port_security.py', 'neutron/tests/unit/objects/test_common_types.py', 'neutron/objects/servicetype.py', 'neutron/objects/l3_hamode.py', 'neutron/objects/qos/rule.py', 'neutron/objects/ports.py', 'neutron/objects/port/extensions/data_plane_status.py', 'neutron/objects/port/extensions/uplink_status_propagation.py', 'neutron/objects/qos/policy.py', 'neutron/objects/ipam.py', 'neutron/objects/logapi/logging_resource.py', 'neutron/objects/router.py', 'neutron/objects/address_scope.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/objects/quota.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_rbac_db.py', 'neutron/objects/flavor.py', 'neutron/objects/common_types.py', 'neutron/objects/metering.py', 'neutron/objects/port/extensions/extra_dhcp_opt.py', 'neutron/objects/auto_allocate.py', 'neutron/objects/floatingip.py', 'neutron/objects/l3agent.py', 'neutron/objects/trunk.py', 'neutron/objects/plugins/ml2/vxlanallocation.py', 'neutron/objects/port_forwarding.py', 'neutron/objects/agent.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/objects/qos/rule_type.py', 'neutron/objects/rbac.py', 'neutron/objects/subnetpool.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4972e246d972885e216d437eb192ef76e82e890', 'message': 'use objects common_types from neutron-lib\n\nThis patch consumes the neutron-lib OVO common_types module by\nremoving it from neutron and switching imports over to use neutron-lib\ninstead.\n\nNeutronLibImpact\n\nChange-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5\n'}]",0,664646,b4972e246d972885e216d437eb192ef76e82e890,77,13,7,5367,,,0,"use objects common_types from neutron-lib

This patch consumes the neutron-lib OVO common_types module by
removing it from neutron and switching imports over to use neutron-lib
instead.

NeutronLibImpact

Change-Id: Ic9819a27e3e72038b819ab2fe845c26fc63b26d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/664646/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/qos/binding.py', 'neutron/objects/securitygroup.py', 'neutron/objects/subnet.py', 'neutron/objects/network.py', 'neutron/objects/plugins/ml2/vlanallocation.py', 'neutron/objects/conntrack_helper.py', 'neutron/objects/network_segment_range.py', 'neutron/objects/extensions/port_security.py', 'neutron/tests/unit/objects/test_common_types.py', 'neutron/objects/servicetype.py', 'neutron/objects/l3_hamode.py', 'neutron/objects/qos/rule.py', 'neutron/objects/ports.py', 'neutron/objects/port/extensions/data_plane_status.py', 'neutron/objects/port/extensions/uplink_status_propagation.py', 'neutron/objects/qos/policy.py', 'neutron/objects/ipam.py', 'neutron/objects/logapi/logging_resource.py', 'neutron/objects/router.py', 'neutron/objects/address_scope.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/objects/quota.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_rbac_db.py', 'neutron/objects/flavor.py', 'neutron/objects/common_types.py', 'neutron/objects/metering.py', 'neutron/objects/port/extensions/extra_dhcp_opt.py', 'neutron/objects/auto_allocate.py', 'neutron/objects/floatingip.py', 'neutron/objects/l3agent.py', 'neutron/objects/trunk.py', 'neutron/objects/plugins/ml2/vxlanallocation.py', 'neutron/objects/port_forwarding.py', 'neutron/tests/unit/objects/extensions/test_standardattributes.py', 'neutron/objects/agent.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/objects/qos/rule_type.py', 'neutron/objects/rbac.py', 'neutron/objects/subnetpool.py']",40,d296d8610ea2f9dbf64bae4a9a9e71648ec92c5b,bp/neutronlib-decouple-db,from neutron_lib.objects import common_types,from neutron.objects import common_types,38,660
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~Ieaf0a645c449782318157be049f22ba000235183,openstack/puppet-openstack_spec_helper,stable/queens,Ieaf0a645c449782318157be049f22ba000235183,Pin oga to 2.15 for ruby <= 2.4.0,MERGED,2019-12-03 08:46:08.000000000,2019-12-03 14:35:10.000000000,2019-12-03 14:35:10.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 08:46:08.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/eaff5619da5eb5210762089489fa4c17c3660409', 'message': 'Pin oga to 2.15 for ruby <= 2.4.0\n\nFails since 3.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/697007/\n\nChange-Id: Ieaf0a645c449782318157be049f22ba000235183\nCloses-Bug: #1854905\n'}]",0,697028,eaff5619da5eb5210762089489fa4c17c3660409,7,3,1,9414,,,0,"Pin oga to 2.15 for ruby <= 2.4.0

Fails since 3.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/697007/

Change-Id: Ieaf0a645c449782318157be049f22ba000235183
Closes-Bug: #1854905
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/28/697028/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,eaff5619da5eb5210762089489fa4c17c3660409,bug/1854905," # NOTE(zhongshengping): Pin oga to 2.15 as 3.0 requires ruby >= 2.4.0 oga_version = RUBY_VERSION < '2.4.0' ? '~> 2.15' : '>= 2.15' spec.add_dependency 'oga', oga_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,openstack/puppet-openstack_spec_helper,stable/rocky,Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,Pin oga to 2.15 for ruby <= 2.4.0,MERGED,2019-12-03 08:42:37.000000000,2019-12-03 14:35:10.000000000,2019-12-03 14:35:10.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 08:42:37.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/eee2ee733c9f5296a6329aa043fbd837c4241f82', 'message': 'Pin oga to 2.15 for ruby <= 2.4.0\n\nFails since 3.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/697007/\n\nChange-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2\nCloses-Bug: #1854905\n'}]",0,697027,eee2ee733c9f5296a6329aa043fbd837c4241f82,7,3,1,9414,,,0,"Pin oga to 2.15 for ruby <= 2.4.0

Fails since 3.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/697007/

Change-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2
Closes-Bug: #1854905
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/27/697027/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,eee2ee733c9f5296a6329aa043fbd837c4241f82,bug/1854905-stable/rocky," # NOTE(zhongshengping): Pin oga to 2.15 as 3.0 requires ruby >= 2.4.0 oga_version = RUBY_VERSION < '2.4.0' ? '~> 2.15' : '>= 2.15' spec.add_dependency 'oga', oga_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,openstack/puppet-openstack_spec_helper,stable/stein,Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,Pin oga to 2.15 for ruby <= 2.4.0,MERGED,2019-12-03 08:42:12.000000000,2019-12-03 14:35:09.000000000,2019-12-03 14:35:09.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 08:42:12.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c129cbc2cc489367b69888eef5564a3c95b90882', 'message': 'Pin oga to 2.15 for ruby <= 2.4.0\n\nFails since 3.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/697007/\n\nChange-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2\nCloses-Bug: #1854905\n'}]",0,697026,c129cbc2cc489367b69888eef5564a3c95b90882,7,3,1,9414,,,0,"Pin oga to 2.15 for ruby <= 2.4.0

Fails since 3.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/697007/

Change-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2
Closes-Bug: #1854905
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/26/697026/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,c129cbc2cc489367b69888eef5564a3c95b90882,bug/1854905-stable/stein," # NOTE(zhongshengping): Pin oga to 2.15 as 3.0 requires ruby >= 2.4.0 oga_version = RUBY_VERSION < '2.4.0' ? '~> 2.15' : '>= 2.15' spec.add_dependency 'oga', oga_version ",,4,0
openstack%2Freleases~master~Id9bad7156ba308de20dfe839504b7b10d4b32953,openstack/releases,master,Id9bad7156ba308de20dfe839504b7b10d4b32953,Networking-ovn final release,ABANDONED,2019-12-02 09:49:13.000000000,2019-12-03 14:31:12.000000000,,"[{'_account_id': 308}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 09:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/af7ffb0abe19ca10728bedbdadacd743a983c3bd', 'message': 'Networking-ovn final release\n\nThe networking-ovn project code is now being merged into the Neutron\nrepository as part of this effort: https://review.opendev.org/#/c/658414/\n\nAll the required patches for a final release of networking-ovn is being\nmerged and the repository is now frozen.\n\nThis this patche is release the latest version (8.0.0) of\nnetworking-ovn.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: Id9bad7156ba308de20dfe839504b7b10d4b32953\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-12-02 10:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/013e62e287744ff8e0d27cd360532353eda01df3', 'message': 'Networking-ovn final release\n\nThe networking-ovn project code is now being merged into the Neutron\nrepository as part of this effort: https://review.opendev.org/#/c/658414/\n\nAll the required patches for a final release of networking-ovn is being\nmerged and the repository is now frozen.\n\nThis this patche is release the latest version (8.0.0) of\nnetworking-ovn.\n\nThis patch removes also networking-ovn from Ussuri deliverables as there\nwill be no networking-ovn release for Ussuri because all related\ncode will be already in neutron tree.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: Id9bad7156ba308de20dfe839504b7b10d4b32953\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-12-02 10:56:10.000000000', 'files': ['deliverables/ussuri/networking-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ce910884474676f2334aa99d3083d74bd574c2cf', 'message': 'Networking-ovn final release\n\nThe networking-ovn project code is now being merged into the Neutron\nrepository as part of this effort: https://review.opendev.org/#/c/658414/\n\nAll the required patches for a final release of networking-ovn is being\nmerged and the repository is now frozen.\n\nThis this patche is release the latest version (8.0.0) of\nnetworking-ovn.\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: Id9bad7156ba308de20dfe839504b7b10d4b32953\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,696840,ce910884474676f2334aa99d3083d74bd574c2cf,13,4,3,6773,,,0,"Networking-ovn final release

The networking-ovn project code is now being merged into the Neutron
repository as part of this effort: https://review.opendev.org/#/c/658414/

All the required patches for a final release of networking-ovn is being
merged and the repository is now frozen.

This this patche is release the latest version (8.0.0) of
networking-ovn.

Partially-Implements: blueprint neutron-ovn-merge
Change-Id: Id9bad7156ba308de20dfe839504b7b10d4b32953
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/696840/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/networking-ovn.yaml'],1,af7ffb0abe19ca10728bedbdadacd743a983c3bd,bp/neutron-ovn-merge,releases: - version: 8.0.0.0 projects: - repo: openstack/networking-ovn hash: 7c8bbd2942a58ccaff0a7040fd5247400144addd diff-start: 7.0.0,,6,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,openstack/puppet-openstack_spec_helper,stable/train,Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,Pin oga to 2.15 for ruby <= 2.4.0,MERGED,2019-12-03 08:41:54.000000000,2019-12-03 14:30:12.000000000,2019-12-03 14:30:12.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 08:41:54.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/0b7ef6513dbd3676cdba814977a98e8b339a9432', 'message': 'Pin oga to 2.15 for ruby <= 2.4.0\n\nFails since 3.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/697007/\n\nChange-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2\nCloses-Bug: #1854905\n'}]",0,697024,0b7ef6513dbd3676cdba814977a98e8b339a9432,7,3,1,9414,,,0,"Pin oga to 2.15 for ruby <= 2.4.0

Fails since 3.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/697007/

Change-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2
Closes-Bug: #1854905
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/24/697024/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,0b7ef6513dbd3676cdba814977a98e8b339a9432,bug/1854905-stable/train," # NOTE(zhongshengping): Pin oga to 2.15 as 3.0 requires ruby >= 2.4.0 oga_version = RUBY_VERSION < '2.4.0' ? '~> 2.15' : '>= 2.15' spec.add_dependency 'oga', oga_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~master~Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,openstack/puppet-openstack_spec_helper,master,Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2,Pin oga to 2.15 for ruby <= 2.4.0,MERGED,2019-12-03 07:40:41.000000000,2019-12-03 14:29:41.000000000,2019-12-03 14:29:41.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 07:40:41.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/3d7c3e25e7850ddbe7f27a77335a633ce63e0a7f', 'message': 'Pin oga to 2.15 for ruby <= 2.4.0\n\nFails since 3.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/697007/\n\nChange-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2\nCloses-Bug: #1854905\n'}]",0,697012,3d7c3e25e7850ddbe7f27a77335a633ce63e0a7f,11,5,1,9414,,,0,"Pin oga to 2.15 for ruby <= 2.4.0

Fails since 3.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/697007/

Change-Id: Id1e3a5c8ba792b643f1e326b82f035986f4e5cd2
Closes-Bug: #1854905
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/12/697012/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,3d7c3e25e7850ddbe7f27a77335a633ce63e0a7f,bug/1854905," # NOTE(zhongshengping): Pin oga to 2.15 as 3.0 requires ruby >= 2.4.0 oga_version = RUBY_VERSION < '2.4.0' ? '~> 2.15' : '>= 2.15' spec.add_dependency 'oga', oga_version ",,4,0
openstack%2Fcharm-guide~master~I5daa448ab22c2f56b1d1fcf62cee4a053a14f5d5,openstack/charm-guide,master,I5daa448ab22c2f56b1d1fcf62cee4a053a14f5d5,Add relnote fragment for new policyd charms,MERGED,2019-11-29 12:09:57.000000000,2019-12-03 14:28:42.000000000,2019-12-03 14:26:22.000000000,"[{'_account_id': 20634}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-11-29 12:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0a09cef3bbab1e48f0747111823e03c6af6d6e5c', 'message': 'Add relnote fragment for new policyd charms\n\nAdd release note fragment for policy.d support in openstack-dashboard\nand octavia charms.\n\nChange-Id: I5daa448ab22c2f56b1d1fcf62cee4a053a14f5d5\n'}, {'number': 2, 'created': '2019-12-02 11:47:34.000000000', 'files': ['doc/source/2002.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bf9c5d5c0b1e13c1a62bbd9579ff49ddfa9c26df', 'message': 'Add relnote fragment for new policyd charms\n\nAdd release note fragment for policy.d support in openstack-dashboard\nand octavia charms.\n\nChange-Id: I5daa448ab22c2f56b1d1fcf62cee4a053a14f5d5\n'}]",4,696690,bf9c5d5c0b1e13c1a62bbd9579ff49ddfa9c26df,15,5,2,20870,,,0,"Add relnote fragment for new policyd charms

Add release note fragment for policy.d support in openstack-dashboard
and octavia charms.

Change-Id: I5daa448ab22c2f56b1d1fcf62cee4a053a14f5d5
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/90/696690/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2002.rst'],1,0a09cef3bbab1e48f0747111823e03c6af6d6e5c,policy-overrides,.. _release_notes_20.02:The 20.02 OpenStack Charms release includes updates for the following charms.Policy Overrides ~~~~~~~~~~~~~~~~ The policy overrides feature provides operators with a mechanism to override policy defaults on a per-service basis. Policy defaults for an OpenStack service are defined via policy-in-code and/or via a default policy YAML file provided by the charm. The operator can use the new feature by providing a ZIP file consisting of at least one YAML file which contains policy rules that the service will observe when responding to API queries. This allows operators to selectively override the default policies of that service. The last release (19.10) introduced the feature for a number of charms. This release adds the following charms: * the openstack-dashboard (horizon) * octavia For further details consult appendix `Policy Overrides`_ in the `OpenStack Charms Deployment Guide`_. Please consult the README for each charm to determine exactly what is provided with respect to this feature. The 20.02 OpenStack Charms release updates the tech preview suite of charms,.. _release_notes_20.04:The 20.04 OpenStack Charms release includes updates for the following charms.The 20.04 OpenStack Charms release updates the tech preview suite of charms,28,3
openstack%2Fcharm-glance~master~I5e644ed8dba809fd1ad5d628f32ea64d31799e52,openstack/charm-glance,master,I5e644ed8dba809fd1ad5d628f32ea64d31799e52,Remove glance-registry in OpenStack Stein deployments,MERGED,2019-11-29 09:33:31.000000000,2019-12-03 14:28:36.000000000,2019-12-03 14:19:59.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-11-29 09:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/a61b90a216ea8841f4352bc4958093ebdc3dc05e', 'message': 'Remove glance-registry in OpenStack Stein deployments\n\nThis patch removes glance-registry service when upgrading to\nOpenStack Stein and later releases.\n\nChange-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2019-11-29 12:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b98aaf0b3e9c6d7da84fb30a7efc8fc550aef7ae', 'message': 'Remove glance-registry in OpenStack Stein deployments\n\nThis patch removes glance-registry service when upgrading to\nOpenStack Stein and later releases.\n\nChange-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2019-11-29 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/82a74d7ed2c155c38d232b046698308f8f888705', 'message': 'Remove glance-registry in OpenStack Stein deployments\n\nThis patch removes glance-registry service when upgrading to\nOpenStack Stein and later releases.\n\nSecond part of:\nChange-Id: Ie6d618582cd5063738a965d36e7d766633e1a607\n\nChange-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 4, 'created': '2019-11-29 13:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/a5cd90ca73a03863f550ef127ec7b30d0bba11bb', 'message': 'Remove glance-registry in OpenStack Stein deployments\n\nThis patch removes glance-registry service when upgrading to\nOpenStack Stein and later releases.\n\nSecond part of:\nChange-Id: Ie6d618582cd5063738a965d36e7d766633e1a607\n\nChange-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 5, 'created': '2019-11-30 18:05:42.000000000', 'files': ['hooks/glance_utils.py', 'templates/stein/glance-api.conf', 'actions/security_checklist.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/16abd4098576db84bbb92bd72127571527c02ae4', 'message': 'Remove glance-registry in OpenStack Stein deployments\n\nThis patch removes glance-registry service when upgrading to\nOpenStack Stein and later releases.\n\nSecond part of:\nChange-Id: Ie6d618582cd5063738a965d36e7d766633e1a607\n\nChange-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",4,696671,16abd4098576db84bbb92bd72127571527c02ae4,29,6,5,28014,,,0,"Remove glance-registry in OpenStack Stein deployments

This patch removes glance-registry service when upgrading to
OpenStack Stein and later releases.

Second part of:
Change-Id: Ie6d618582cd5063738a965d36e7d766633e1a607

Change-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/71/696671/4 && git format-patch -1 --stdout FETCH_HEAD,['hooks/glance_utils.py'],1,a61b90a216ea8841f4352bc4958093ebdc3dc05e,deprecate-registry, if CompareOpenStackReleases(os_release('glance')) >= 'stein': pkgs.append('glance-registry'),,2,0
openstack%2Fcookbook-openstack-common~master~If732a5e840a7080691097e429e692a18f5286db6,openstack/cookbook-openstack-common,master,If732a5e840a7080691097e429e692a18f5286db6,Updates for rocky,MERGED,2019-11-19 09:12:50.000000000,2019-12-03 14:26:39.000000000,2019-12-03 14:26:39.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 09:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/7dc1228695e5ddf46898bdcdd0acd9eb8b867c83', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: If732a5e840a7080691097e429e692a18f5286db6\n'}, {'number': 2, 'created': '2019-12-03 12:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/e254d2299ad6e2eaa40255bc4260f21e1a9e9a51', 'message': 'Updates for rocky\n\n- Replace git.openstack.org with opendev.org\n- Update some documentation\n- Move README.md to README.rst for better rendering\n- Drop obsolete bootstrap.sh script\n\nChange-Id: If732a5e840a7080691097e429e692a18f5286db6\n'}, {'number': 3, 'created': '2019-12-03 12:24:02.000000000', 'files': ['README.rst', 'bootstrap.sh', 'Rakefile', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/2569ac0f345f48a6719ffc93d46e75303540e7ce', 'message': 'Updates for rocky\n\n- Replace git.openstack.org with opendev.org\n- Update some documentation\n- Move README.md to README.rst for better rendering\n- Drop obsolete bootstrap.sh script\n\nChange-Id: If732a5e840a7080691097e429e692a18f5286db6\n'}]",0,694953,2569ac0f345f48a6719ffc93d46e75303540e7ce,11,3,3,27565,,,0,"Updates for rocky

- Replace git.openstack.org with opendev.org
- Update some documentation
- Move README.md to README.rst for better rendering
- Drop obsolete bootstrap.sh script

Change-Id: If732a5e840a7080691097e429e692a18f5286db6
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/53/694953/2 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap.sh'],1,7dc1228695e5ddf46898bdcdd0acd9eb8b867c83,694953, https://opendev.org \, https://git.openstack.org \,1,1
openstack%2Fcharm-guide~master~I62b5c24d33b34493553687f691fa4fa42c99ac31,openstack/charm-guide,master,I62b5c24d33b34493553687f691fa4fa42c99ac31,Add relnote on swift-proxy and policy.d overrides,MERGED,2019-11-29 13:11:59.000000000,2019-12-03 14:22:01.000000000,2019-12-03 14:20:26.000000000,"[{'_account_id': 20634}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-11-29 13:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/29c8c955204ed85655d9eb3e5f512af2d2746b70', 'message': ""Add relnote on swift-proxy and policy.d overrides\n\nEssentially, add a note that says: it's not implemented on Swift because\nit doesn't really fit the model.  However, glance and cinder both have\nsupport for policy.d overrides so it doesn't really matter.\n\nChange-Id: I62b5c24d33b34493553687f691fa4fa42c99ac31\n""}, {'number': 2, 'created': '2019-12-02 11:56:11.000000000', 'files': ['doc/source/2002.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/beb92f1e0cfec9bee0c1d9c9808fc02f1613d611', 'message': ""Add relnote on swift-proxy and policy.d overrides\n\nEssentially, add a note that says: it's not implemented on Swift because\nit doesn't really fit the model.  However, glance and cinder both have\nsupport for policy.d overrides so it doesn't really matter.\n\nChange-Id: I62b5c24d33b34493553687f691fa4fa42c99ac31\n""}]",12,696698,beb92f1e0cfec9bee0c1d9c9808fc02f1613d611,13,5,2,20870,,,0,"Add relnote on swift-proxy and policy.d overrides

Essentially, add a note that says: it's not implemented on Swift because
it doesn't really fit the model.  However, glance and cinder both have
support for policy.d overrides so it doesn't really matter.

Change-Id: I62b5c24d33b34493553687f691fa4fa42c99ac31
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/98/696698/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2002.rst'],1,29c8c955204ed85655d9eb3e5f512af2d2746b70,policy-overrides,"Swift-Proxy and Policy.d overrides ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The is no policy.d override mechanism available for Swift (and, therefore, the swift-proxy charm) as Swift does not use the ``oslo.policy`` library. Swift uses its own authentication system that connects with Keystone and validates according to Swifts own configuration files. The ``operator-roles`` configuration option allows the operator to control which Swift operator roles will be authenticated, as usual. See the `Swift Auth System`_ for further details. Note: both cinder and glance **do** have support for policy.d overrides and thus policy overrides can be implemented in practice. .. _Swift Auth system: https://docs.openstack.org/swift/latest/overview_auth.html",,15,0
openstack%2Fironic-python-agent~master~I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf,openstack/ironic-python-agent,master,I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf,Don't try to put a bootloader in place when bootable,MERGED,2019-08-29 20:25:40.000000000,2019-12-03 14:21:35.000000000,2019-11-05 18:15:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-29 20:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bf59fb35822d856dea042af2751ae172461ffab5', 'message': ""Don't try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we're not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n""}, {'number': 2, 'created': '2019-08-30 12:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8598ad6d97cfe6d9e21464f09794c2d31acce245', 'message': ""Don't try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we're not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n""}, {'number': 3, 'created': '2019-08-30 13:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9676cadbfd4c47f3b3bb3850be2beb96d582bcfd', 'message': ""Don't try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we're not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n""}, {'number': 4, 'created': '2019-08-30 14:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bcb57917b8e8791811a2ff026747b8efac959d3e', 'message': ""Don't try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we're not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n""}, {'number': 5, 'created': '2019-08-30 16:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cafa80b96a2c7152aa6f736218d8e675cac124d5', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nAlso adds a dependency on the ""file"" command from the\ncoreutils package.\n\nDepends-On: https://review.opendev.org/679478\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 6, 'created': '2019-08-30 18:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1ef5f240c4e30da5276cc286560e1ac12edca3fd', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nDepends-On: https://review.opendev.org/679478\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 7, 'created': '2019-09-04 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cc2b7e611310ab7f5203b2389d3131ef57b18427', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nDepends-On: https://review.opendev.org/679478\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 8, 'created': '2019-09-20 01:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/219492d15341db601a3417240dd8f386aad15ba1', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nDepends-On: https://review.opendev.org/679478\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 9, 'created': '2019-09-20 01:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/58b2d8d866ed4b311095a7c08ee15e1b984816ae', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nDepends-On: https://review.opendev.org/683262\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 10, 'created': '2019-10-11 21:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e3858f0822c97bb34065f0f2281387e5199abdf8', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nLooks at the boot sector data and if an executable is\nfound in the first 218 bytes, then it bypasses loading\na boot loader.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 11, 'created': '2019-10-14 20:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/33d0f9f309a0bc1e296260332f5bdda050480f5f', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nLooks at the boot sector data and if an executable is\nfound in the first 218 bytes, then it bypasses loading\na boot loader.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 12, 'created': '2019-10-15 15:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b94b3ca777b25297fc1cebc2bd2733cc7301089c', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nLooks at the boot sector data and if an executable is\nfound in the first 218 bytes, then it bypasses loading\na boot loader.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 13, 'created': '2019-10-17 23:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1b4920b115604125d7cab8d884d266f9993919da', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nLooks at the boot sector data and if an executable is\nfound in the first 218 bytes, then it bypasses loading\na boot loader.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 14, 'created': '2019-10-30 13:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ac7edac5b3ad1ddfd3b41cd818338664fab78baa', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nLooks at the boot sector data and if an executable is\nfound in the first 218 bytes, then it bypasses loading\na boot loader.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}, {'number': 15, 'created': '2019-11-01 13:58:55.000000000', 'files': ['bindep.txt', 'releasenotes/notes/skips-bootloader-install-35c463195aa61800.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9f8fa2853af00045118ccd44180e7053e6d027af', 'message': 'Don\'t try to put a bootloader in place when bootable\n\nLets not do silly things and if the disk looks bootable,\nand we\'re not trying to do UEFI, then let us assume the\nproper thing will occur upon power-up.\n\nLooks at the boot sector data and if an executable is\nfound in the first 218 bytes, then it bypasses loading\na boot loader.\n\nAlso adds a dependency on the ""file"" linux distribution\npackage.\n\nChange-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf\nStory: 2006474\nTask: 36410\n'}]",15,679333,9f8fa2853af00045118ccd44180e7053e6d027af,66,6,15,11655,,,0,"Don't try to put a bootloader in place when bootable

Lets not do silly things and if the disk looks bootable,
and we're not trying to do UEFI, then let us assume the
proper thing will occur upon power-up.

Looks at the boot sector data and if an executable is
found in the first 218 bytes, then it bypasses loading
a boot loader.

Also adds a dependency on the ""file"" linux distribution
package.

Change-Id: I11bc26670a08ee13174a43d7cd0f1ab9c1bd35cf
Story: 2006474
Task: 36410
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/33/679333/9 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,bf59fb35822d856dea042af2751ae172461ffab5,story/2006419,"def _is_bootloader_flagged(dev): try: stdout, stderr = utils.execute('parted', dev, '-s', '-m', '--', 'print') except OSError: return False lines = stdout.splitlines() for line in lines: partition = line.split(':') if len(partition) >= 7: if 'boot' in partition[6]: return True return False if (_is_bootloader_flagged(device) and not (efi_system_part_uuid or prep_boot_part_uuid)): return",,58,0
openstack%2Ftripleo-ansible~master~Iec36e5e20f4aae1d72e2ded2012ed365d44df7eb,openstack/tripleo-ansible,master,Iec36e5e20f4aae1d72e2ded2012ed365d44df7eb,Rename baremetal-introspection playbook,ABANDONED,2019-11-25 14:50:20.000000000,2019-12-03 14:16:11.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 14:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cacafb92e4cef1bc1a42c52084ea36eda6e8476', 'message': 'Rename undercloud-backup playbook\n\nThis change renames our workflow playbook to have the prefix\n""cli-"". This is being done so that we can easily identify\nplaybooks that are used in the cli client.\n\nChange-Id: Iec36e5e20f4aae1d72e2ded2012ed365d44df7eb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-11-25 14:50:52.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5f2b39740673f801e5762404734b164d5e0c5b2', 'message': 'Rename baremetal-introspection playbook\n\nThis change renames our workflow playbook to have the prefix\n""cli-"". This is being done so that we can easily identify\nplaybooks that are used in the cli client.\n\nChange-Id: Iec36e5e20f4aae1d72e2ded2012ed365d44df7eb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,695922,f5f2b39740673f801e5762404734b164d5e0c5b2,7,4,2,7353,,,0,"Rename baremetal-introspection playbook

This change renames our workflow playbook to have the prefix
""cli-"". This is being done so that we can easily identify
playbooks that are used in the cli client.

Change-Id: Iec36e5e20f4aae1d72e2ded2012ed365d44df7eb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/695922/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'],1,6cacafb92e4cef1bc1a42c52084ea36eda6e8476,mistral_to_ansible,,,0,0
openstack%2Ftripleo-ansible~master~Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8,openstack/tripleo-ansible,master,Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8,Baremetal Introspection Playbook,MERGED,2019-10-17 15:07:05.000000000,2019-12-03 13:47:11.000000000,2019-12-03 13:47:11.000000000,"[{'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-17 15:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0904940253f5c7f006a7adf15faa320a9cbb3e4', 'message': 'Baremetal Introspection\n\nAdd a Ansible playbook to take the place of the baremetal introspection\nworkflow in Mistral.\n\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 2, 'created': '2019-10-17 15:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/632f82d5caa38c30d8464195a92328c6a7918f2a', 'message': 'Baremetal Introspection\n\nAdd a Ansible playbook to take the place of the baremetal introspection\nworkflow in Mistral.\n\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 3, 'created': '2019-10-17 15:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77aba4e13d34c30ecf9b086bb992194c4b5f4e9e', 'message': 'Baremetal Introspection\n\nAdd a Ansible playbook to take the place of the baremetal introspection\nworkflow in Mistral.\n\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 4, 'created': '2019-10-18 09:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e3c6d5fe88e13862c3ee49d438621edbd1fccae', 'message': 'Baremetal Introspection\n\nAdd a Ansible playbook to take the place of the baremetal introspection\nworkflow in Mistral.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 5, 'created': '2019-10-18 09:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94616e9def2df29a26fb48ca7fd1db966fbe9a5b', 'message': 'Baremetal Introspection\n\nAdd a Ansible playbook to take the place of the baremetal introspection\nworkflow in Mistral.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 6, 'created': '2019-10-18 15:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bbbe5b15d932bd82284fc7a9124b2eb2aef50c18', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 7, 'created': '2019-10-18 15:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/932e4215b333a70c1d346cae06ab5780806cd505', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 8, 'created': '2019-10-21 14:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49e28d092f65018d88d4f11d44737da97564a730', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 9, 'created': '2019-10-21 15:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d052c3fd9678321046b9060f6e6ea37647510bd6', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 10, 'created': '2019-10-23 19:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b7e94473872e16a28ca55f7468f4a3710244d09', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 11, 'created': '2019-10-28 13:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e047a6785925982a9c43fba75dff99611f9f2096', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 12, 'created': '2019-10-29 13:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f98af5de9ab58691df47114eea4e8e148bbbf389', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 13, 'created': '2019-10-29 13:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/261eceb0a43e06daf0ff3d6be077c1222f066cc0', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 14, 'created': '2019-10-29 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63b9e8d0e9c4e8b704a55fd8c4a1887b0e4ac487', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 15, 'created': '2019-10-29 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f6186ecf827f7503f2111d941cd8c35115eec02', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 16, 'created': '2019-10-29 14:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/87dac0d9759f599deace9d62b696bac125774d71', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloude node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 17, 'created': '2019-10-30 16:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f2ab2feba901c58cfd1b4e2dd4a4fca90a9270f', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 18, 'created': '2019-11-21 18:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/808bff1e5e63c6142dfdb9e4b73ef3b8888e0027', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 19, 'created': '2019-11-21 20:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c7bbf4fc179f06f7050b6767daf30653b4f2c9a', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\n'}, {'number': 20, 'created': '2019-11-21 20:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92aa2c2d57d7028c87089110ad7deff92e8702b7', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 21, 'created': '2019-11-22 02:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf35501c59a15f8d10946ee12da56d475d974798', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\n\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 22, 'created': '2019-11-22 22:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0d9a941675aa4036deb783472dbda13a8fbcedf', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 23, 'created': '2019-11-25 13:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/594d86fd095ef90a6b84621a91063d78ecc79f86', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 24, 'created': '2019-11-25 16:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2daf272ad7c5b73312407bba6d6fd99ad6677d8a', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 25, 'created': '2019-12-02 22:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f7fa33e0acaf9fb41c12d8fe1ba1358fd6e3b43', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 26, 'created': '2019-12-02 22:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc1e2a171304337e4b0ad193819fe7af946533f4', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 27, 'created': '2019-12-02 22:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/565e022a9d9787de6ab3790b1dadce644c3a9398', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 28, 'created': '2019-12-03 06:31:24.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb337e7391554408b5463df7de8ea18244c7fb9f', 'message': 'Baremetal Introspection Playbook\n\nThis Ansible playbook provides a way of running a set of Ironic nodes through\nintrospection. It is intended to be used by the `openstack overcloud node\nintrospect` CLI command.\n\nRelated-Bug: #1835230\nCo-Author: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",49,689194,cb337e7391554408b5463df7de8ea18244c7fb9f,101,7,28,9712,,,0,"Baremetal Introspection Playbook

This Ansible playbook provides a way of running a set of Ironic nodes through
introspection. It is intended to be used by the `openstack overcloud node
introspect` CLI command.

Related-Bug: #1835230
Co-Author: Sagi Shnaidman <sshnaidm@redhat.com>
Change-Id: Iebfd92461f4132f148ac2d935b58d06e1f1ff3c8
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/689194/23 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_ansible/playbooks/baremetal-introspect.yaml', 'tripleo_ansible/ansible_plugins/modules/baremetal_introspection.py']",3,a0904940253f5c7f006a7adf15faa320a9cbb3e4,mistral_to_ansible,"#!/usr/bin/python # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from concurrent import futures import os from keystoneauth1.identity import generic from keystoneauth1 import session from ansible.module_utils.basic import AnsibleModule import ironic_inspector_client def introspect_nodes( module, introspection_client, node_uuids, concurrency=20, max_retries=2, node_timeout=1200 ): result = {} def introspect_node(node_uuid): retry_count = 0 module.log(""[INFO] Starting introspection %s (retry_count %s)"" % (node_uuid, retry_count)) while retry_count <= max_retries: introspection_client.introspect(node_uuid) node_result = introspection_client.wait_for_finish( [node_uuid], max_retries=int(node_timeout / 10) ) status = node_result[node_uuid] if status[""error""] is not None: retry_count += 1 module.log(""[ERROR] Introspection of node %s failed: %s"" % (node_uuid, status[""error""])) continue module.log(""[INFO] Finished introspection of node %s"" % node_uuid) return {""retries"": retry_count, ""status"":status} with futures.ThreadPoolExecutor(max_workers=concurrency) as executor: future_to_uuid = { executor.submit(introspect_node, node_uuid): node_uuid for node_uuid in node_uuids } for future in futures.as_completed(future_to_uuid): uuid = future_to_uuid[future] try: result[uuid] = future.result() except Exception as exc: module.log(""Unhandled error introspecting %s;\n%s"" % (uuid, str(exc))) result[uuid] = {""error"": str(exc)} return result def main(): module = AnsibleModule( argument_spec={ ""node_uuids"": {""type"": ""list""}, ""concurrency"": {""type"": ""int""}, ""max_retries"": {""type"": ""int""}, ""node_timeout"": {""type"": ""int""}, }, supports_check_mode=True, ) auth = generic.Password( auth_url=os.environ[""OS_AUTH_URL""], username=os.environ[""OS_USERNAME""], password=os.environ[""OS_PASSWORD""], project_name=os.environ[""OS_PROJECT_NAME""], project_domain_name=""Default"", user_domain_name=""Default"", ) sess = session.Session(auth=auth) client = ironic_inspector_client.ClientV1(session=sess) result = introspect_nodes( module, client, module.params[""node_uuids""], module.params[""concurrency""], module.params[""max_retries""], module.params[""node_timeout""], ) module.log(""[INFO] Introspection completed"") module.exit_json(msg=result) if __name__ == ""__main__"": main() ",,191,0
openstack%2Fos-net-config~stable%2Fqueens~Ibc5be431434870d8424bcc3e405daa3d4913308d,openstack/os-net-config,stable/queens,Ibc5be431434870d8424bcc3e405daa3d4913308d,Adding testcases for sriov_config,MERGED,2019-11-21 10:25:11.000000000,2019-12-03 13:39:23.000000000,2019-12-03 13:39:23.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-21 10:25:11.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/30ce7bee5e1e62356997f15c6f492e89f61cb3da', 'message': 'Adding testcases for sriov_config\n\nChange-Id: Ibc5be431434870d8424bcc3e405daa3d4913308d\n(cherry picked from commit 04bea45124473bc75b1d053c5062e08f9861fbe0)\n'}]",0,695388,30ce7bee5e1e62356997f15c6f492e89f61cb3da,18,5,1,18904,,,0,"Adding testcases for sriov_config

Change-Id: Ibc5be431434870d8424bcc3e405daa3d4913308d
(cherry picked from commit 04bea45124473bc75b1d053c5062e08f9861fbe0)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/88/695388/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,30ce7bee5e1e62356997f15c6f492e89f61cb3da,cleanup-stable/rocky-stable/queens,"_RESET_SRIOV_RULES_FILE = '/etc/udev/rules.d/70-tripleo-reset-sriov.rules' _ALLOCATE_VFS_FILE = '/etc/sysconfig/allocate_vfs' if os.path.exists(_RESET_SRIOV_RULES_FILE): os.remove(_RESET_SRIOV_RULES_FILE) if os.path.exists(_ALLOCATE_VFS_FILE): os.remove(_ALLOCATE_VFS_FILE)def udev_monitor_setup(): return observer def udev_monitor_start(observer): def udev_monitor_stop(observer): observer.stop() def configure_sriov_pf(execution_from_cli=False, restart_openvswitch=False): observer = udev_monitor_setup() udev_monitor_start(observer) udev_monitor_stop(observer) return 1"," if os.path.exists('/etc/udev/rules.d/70-tripleo-reset-sriov.rules'): os.remove('/etc/udev/rules.d/70-tripleo-reset-sriov.rules') if os.path.exists('/etc/sysconfig/allocate_vfs'): os.remove('/etc/sysconfig/allocate_vfs')def configure_sriov_pf(execution_from_cli=False, restart_openvswitch=False): observer.stop()",255,6
openstack%2Fcinder~master~I4da0c13b5b3f8174a30b8557f968d6b9e641b091,openstack/cinder,master,I4da0c13b5b3f8174a30b8557f968d6b9e641b091,Untyped to Default Volume Type,MERGED,2019-02-25 19:20:52.000000000,2019-12-03 13:38:51.000000000,2019-09-25 18:58:39.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 20813}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28743}, {'_account_id': 28801}, {'_account_id': 29627}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-02-25 19:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8eb49e230baeb7066eeca9e4b19d748fe111b2c4', 'message': 'Add migration for creating default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder deployment.\nAdmins can override the default type in cinder.conf\nIf no default type is specified in cinder.conf then default\nvolume type is used.\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 2, 'created': '2019-02-26 04:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9efcd1ffec6577a83fd560928c0dda284842b85', 'message': 'Add migration for creating default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder deployment.\nAdmins can override the default type in cinder.conf\nIf no default type is specified in cinder.conf then default\nvolume type is used.\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 3, 'created': '2019-02-26 05:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cad730c490288b63466beb678e5edd1b6249f5eb', 'message': 'Add migration for creating default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder deployment.\nAdmins can override the default type in cinder.conf\nIf no default type is specified in cinder.conf then default\nvolume type is used.\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 4, 'created': '2019-04-17 11:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b3444776da4d0dd427eb156280efde5c471d66a', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas 'default_vol_type'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to default_vol_type\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 5, 'created': '2019-04-24 10:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e9719a8a58b208c0b5bd552da498c86b361f25a', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas 'default_vol_type'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to default_vol_type\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 6, 'created': '2019-04-25 16:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d22f292fe2966f4c52380f3018c2f3f6b0b3739f', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas 'default_vol_type'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to default_vol_type\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 7, 'created': '2019-04-25 16:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47e89d7eec19f6fe02a40e61c0d647fb2719ddc8', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas 'default_vol_type'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to default_vol_type\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 8, 'created': '2019-05-02 22:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd6e13b6e8a651d5f8fbd16b1c45bde89fe07919', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas 'default_vol_type'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to default_vol_type\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 9, 'created': '2019-05-16 09:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dace8ed4b35ceb5bd95676328b9596816675d331', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 10, 'created': '2019-05-16 09:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b35987384aa43fb04f305f6c5380552ea74e72da', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas 'default_vol_type'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to default_vol_type\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 11, 'created': '2019-05-21 14:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c84aee5bb36d36c03afb48f946ee08eb40a4e7e4', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 12, 'created': '2019-05-22 10:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/246b8dce12e7c385dc08f94ad09227ebbe645f28', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 13, 'created': '2019-05-28 10:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f731fa7ecdb877986a30a37139b6c1bfe37db06f', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 14, 'created': '2019-06-03 05:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6d3b881244cb1a34affb0b366060ac7031e8345', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 15, 'created': '2019-06-14 11:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3b94e29b477dffb6c351379150cf1eece338342', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 16, 'created': '2019-06-15 04:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13192d8b3d1224c8ee07b63da7199114df6ecf74', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 17, 'created': '2019-06-17 13:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29d4e8250c6ca88ad0b898b3cdb1a13a5df883f0', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 18, 'created': '2019-06-18 05:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9211104e22100e4b53558c1aa6e8fbd242953490', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 19, 'created': '2019-06-24 11:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7db14aa2d45989db7a67aa9509e3c42e856e457e', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 20, 'created': '2019-06-25 06:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b99bded36b7e81b446b2e6dcb63d351342c959c2', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 21, 'created': '2019-06-25 06:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/338753434dd0873178d4dc54bb0b5f1c338823c5', 'message': ""WIP: Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 22, 'created': '2019-06-26 04:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4df66a1cde29b8453f01522663be73915fe2c32d', 'message': ""Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 23, 'created': '2019-07-15 17:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e98c8f5d938fb3e28d2830c782ae90edf8250b84', 'message': ""Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nDepends-On: If7816bf3deb37c526b86b0baed500bebe637bd40\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 24, 'created': '2019-08-08 09:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60cf4df6ebe1e4289ef9689d243132c2f2b6e5fc', 'message': ""Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nDepends-On: I8ed2f74c18aaaa8ee885054fc4af0faa89c04da7\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 25, 'created': '2019-08-08 10:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/539d54f338af1d49ed23f5487877aa8212ebcd01', 'message': ""Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 26, 'created': '2019-08-09 06:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19c3cf5feb3961a9c11acf71e31107eb5aa6f94e', 'message': ""Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 27, 'created': '2019-08-12 11:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67e27d225129459b67841be4cf51d58aff3bd9fc', 'message': ""Add migrations for default volume type\n\nThe patch adds the following functionality:\nA default volume type will be created during cinder DB migration.\nAdmins can override the default type in cinder.conf\nThe default value for 'default_volume_type' config will be set\nas '__DEFAULT__'\nThe default volume type cannot be deleted (so creating untyped\nvolumes is not possible)\nAdding online migrations to set volume type of all untyped volumes\nand snapshots to '__DEFAULT__'\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nPartial-Implements: blueprint untyped-volumes-default-volume-type\n""}, {'number': 28, 'created': '2019-08-30 11:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ec1b589319a475375c72b4cfa9191d69603ead1', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 29, 'created': '2019-08-30 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f30dcf7d22170beb4c9789fc63ffd58e8d1c95d2', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 30, 'created': '2019-09-04 18:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62cff656f809bd7602d3132b77527c83a1cbc4aa', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 31, 'created': '2019-09-04 18:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3ac2032d81a8fa2e195c2b3a0403c4015c91e3c', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 32, 'created': '2019-09-04 19:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e79b106d13dfbcb8ccbbdf44667eae0b12ce7fda', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 33, 'created': '2019-09-05 11:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc717278ebba1b8c93b3855352434b38d98550c2', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 34, 'created': '2019-09-05 11:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cee96d30e5b5d4850d20d95cd899f09284089399', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 35, 'created': '2019-09-09 05:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f1376fa218c67bc89a50b8e57f52ca7b8ff114d', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 36, 'created': '2019-09-11 19:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9243ba84d610316a531e1ae85ddab6251a6c84b', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 37, 'created': '2019-09-12 14:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd01d7bfeecc130ea60cf1e0c4dde09fd2c709e2', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 38, 'created': '2019-09-12 15:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/905a626441d24163db245b19cdd34af97e00b166', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 39, 'created': '2019-09-12 17:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c649d3d607ec16c85605eddcf10a4fa1aacc41f9', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\nA default volume type (``__DEFAULT__``) will be\ncreated during cinder DB migration.\nAdmins can override the default type in cinder.conf\nCreating a new volume without any type will be assigned the\n``__DEFAULT__`` type.\nThe default volume type cannot be deleted\nAll untyped volumes and snapshots will be migrated to the\n``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 40, 'created': '2019-09-20 05:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a19fea9ca2f7a5e957d82b7cbf4a2aad0d7e3f4f', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\n* A default volume type (``__DEFAULT__``) will be\n  created during cinder DB migration.\n* Admins can override the default type in cinder.conf\n* Creating a new volume without any type (and\n  `default_volume_type` option is unset in cinder.conf)\n  will be assigned the ``__DEFAULT__`` type.\n* The default volume type cannot be deleted\n* All untyped volumes and snapshots will be migrated to the\n  ``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}, {'number': 41, 'created': '2019-09-20 05:43:21.000000000', 'files': ['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/tests/unit/test_db_api.py', 'cinder/api/v3/volumes.py', 'cinder/tests/unit/attachments/test_attachments_api.py', 'cinder/tests/unit/api/contrib/test_volume_transfer.py', 'cinder/tests/unit/api/v3/test_volume_transfer.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/cmd/manage.py', 'cinder/tests/unit/volume/test_snapshot.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/api/v2/test_types.py', 'cinder/tests/unit/api/v2/test_volume_metadata.py', 'cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/db/sqlalchemy/migrate_repo/versions/132_create_default_volume_type.py', 'cinder/tests/unit/fake_constants.py', 'cinder/tests/unit/backup/drivers/test_backup_tsm.py', 'cinder/tests/unit/test_volume_transfer.py', 'cinder/tests/unit/group/test_groups_manager.py', 'cinder/exception.py', 'cinder/tests/unit/test_quota.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py', 'cinder/tests/unit/api/contrib/test_scheduler_hints.py', 'cinder/tests/unit/volume/test_connection.py', 'cinder/tests/unit/test_volume_types.py', 'api-ref/source/v3/samples/volume_type/volume-types-list-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-show-response.json.tpl', 'cinder/tests/unit/conf_fixture.py', 'cinder/db/api.py', 'cinder/tests/unit/api/v2/test_snapshot_metadata.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/test_cmd.py', 'cinder/test.py', 'cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/tests/unit/backup/drivers/test_backup_driver_base.py', 'cinder/api/contrib/types_manage.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/volume-update-response.json', 'cinder/tests/unit/volume/test_image.py', 'cinder/tests/functional/api_sample_tests/samples/volume_type/volume-types-list-response.json.tpl', 'cinder/tests/unit/api/contrib/test_consistencygroups.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-detailed-response.json.tpl', 'cinder/volume/volume_types.py', 'cinder/tests/unit/test_volume_glance_metadata.py', 'api-ref/source/v3/samples/volumes/volume-create-response.json', 'cinder/tests/unit/volume/test_volume.py', 'cinder/api/v2/volumes.py', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/objects/volume.py', 'cinder/tests/unit/api/v2/fakes.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_common.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/tests/unit/db/test_purge.py', 'cinder/tests/unit/api/contrib/test_volume_encryption_metadata.py', 'cinder/tests/unit/api/v2/test_volumes.py', 'cinder/tests/unit/api/v3/test_types.py', 'releasenotes/notes/untyped_to_default_type-0068e6bc8000986c.yaml', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'api-ref/source/v3/samples/volumes/volumes-list-detailed-response.json', 'cinder/tests/unit/volume/test_volume_usage_audit.py', 'cinder/tests/unit/volume/test_rpcapi.py', 'cinder/tests/unit/api/v3/test_snapshots.py', 'cinder/objects/snapshot.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta.py', 'api-ref/source/v3/samples/volumes/volume-show-response.json', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/volume-create-response.json.tpl', 'cinder/tests/unit/db/test_migrations.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a550ade303c839abc285d6926dc02a15b5c73ff0', 'message': 'Untyped to Default Volume Type\n\nThe patch adds the following functionality:\n* A default volume type (``__DEFAULT__``) will be\n  created during cinder DB migration.\n* Admins can override the default type in cinder.conf\n* Creating a new volume without any type (and\n  `default_volume_type` option is unset in cinder.conf)\n  will be assigned the ``__DEFAULT__`` type.\n* The default volume type cannot be deleted\n* All untyped volumes and snapshots will be migrated to the\n  ``__DEFAULT__`` type.\n\nChange-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091\nImplements: blueprint untyped-volumes-default-volume-type\n'}]",23,639180,a550ade303c839abc285d6926dc02a15b5c73ff0,747,54,41,27615,,,0,"Untyped to Default Volume Type

The patch adds the following functionality:
* A default volume type (``__DEFAULT__``) will be
  created during cinder DB migration.
* Admins can override the default type in cinder.conf
* Creating a new volume without any type (and
  `default_volume_type` option is unset in cinder.conf)
  will be assigned the ``__DEFAULT__`` type.
* The default volume type cannot be deleted
* All untyped volumes and snapshots will be migrated to the
  ``__DEFAULT__`` type.

Change-Id: I4da0c13b5b3f8174a30b8557f968d6b9e641b091
Implements: blueprint untyped-volumes-default-volume-type
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/639180/18 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/types_manage.py', 'cinder/volume/volume_types.py', 'cinder/exception.py', 'cinder/db/sqlalchemy/migrate_repo/versions/129_create_default_volume_type.py', 'cinder/tests/unit/db/test_migrations.py']",5,8eb49e230baeb7066eeca9e4b19d748fe111b2c4,bp/untyped-volumes-default-volume-type,"from cinder.volume import volume_types def _check_129(self, engine, data): """"""Test create default volume type."""""" vol_types = db_utils.get_table(engine, 'group_types') vtype = (vol_types.select(vol_types.c.name == volume_types.DEFAULT_VOLUME_TYPE) .execute().first()) self.assertIsNotNone(vtype) ",,78,5
openstack%2Fcinder~master~I1bf5bd3856009e92921cbbd7f91734e070d5e86f,openstack/cinder,master,I1bf5bd3856009e92921cbbd7f91734e070d5e86f,NEC Driver: Support revert to snapshot,MERGED,2019-08-07 10:29:24.000000000,2019-12-03 13:38:35.000000000,2019-09-25 15:53:34.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13111}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28403}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-07 10:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc15d48e561a8bdfbee072044c1a65fccb8210c2', 'message': 'NEC Driver: Support revert to snapshot\n\nAdding support to revert a volume to a snapshot in NEC driver.\nThis patch implements revert_to_snapshot().\n\nThis patch also deletes unused classes(class UnpairWaitForBackup,\nclass UnpairWaitForDDRBackup).\n\nChange-Id: I1bf5bd3856009e92921cbbd7f91734e070d5e86f\n'}, {'number': 2, 'created': '2019-09-04 09:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/654abb334e5dba44e50c974f2325cb8da9938d44', 'message': 'NEC Driver: Support revert to snapshot\n\nAdding support to revert a volume to a snapshot in NEC driver.\nThis patch implements revert_to_snapshot().\n\nThis patch also deletes unused classes(class UnpairWaitForBackup,\nclass UnpairWaitForDDRBackup).\n\nChange-Id: I1bf5bd3856009e92921cbbd7f91734e070d5e86f\n'}, {'number': 3, 'created': '2019-09-09 10:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41c9b91b2717ae91a1b838fc58a899b25859e875', 'message': 'NEC Driver: Support revert to snapshot\n\nAdding support to revert a volume to a snapshot in NEC driver.\nThis patch implements revert_to_snapshot().\n\nThis patch also deletes unused classes(class UnpairWaitForBackup,\nclass UnpairWaitForDDRBackup).\n\nChange-Id: I1bf5bd3856009e92921cbbd7f91734e070d5e86f\n'}, {'number': 4, 'created': '2019-09-11 12:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/12d35cba7539cf365e92d8d3be42f268b517db15', 'message': 'NEC Driver: Support revert to snapshot\n\nAdding support to revert a volume to a snapshot in NEC driver.\nThis patch implements revert_to_snapshot().\n\nThis patch also deletes unused classes(class UnpairWaitForBackup,\nclass UnpairWaitForDDRBackup).\n\nChange-Id: I1bf5bd3856009e92921cbbd7f91734e070d5e86f\n'}, {'number': 5, 'created': '2019-09-20 03:05:21.000000000', 'files': ['releasenotes/notes/nec-storage-assist-revert-to-sanpshot-58cddebfbf06d222.yaml', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume.py', 'cinder/volume/drivers/nec/volume_helper.py', 'doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6f4caabd32999c7f776c3814a36ca96146545e5', 'message': 'NEC Driver: Support revert to snapshot\n\nAdding support to revert a volume to a snapshot in NEC driver.\nThis patch implements revert_to_snapshot().\n\nThis patch also deletes unused classes(class UnpairWaitForBackup,\nclass UnpairWaitForDDRBackup).\n\nChange-Id: I1bf5bd3856009e92921cbbd7f91734e070d5e86f\n'}]",14,675083,a6f4caabd32999c7f776c3814a36ca96146545e5,227,46,5,28403,,,0,"NEC Driver: Support revert to snapshot

Adding support to revert a volume to a snapshot in NEC driver.
This patch implements revert_to_snapshot().

This patch also deletes unused classes(class UnpairWaitForBackup,
class UnpairWaitForDDRBackup).

Change-Id: I1bf5bd3856009e92921cbbd7f91734e070d5e86f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/675083/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/nec-storage-assist-revert-to-sanpshot-58cddebfbf06d222.yaml', 'cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py', 'doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst']",6,dc15d48e561a8bdfbee072044c1a65fccb8210c2,nec-storage-assist-revert-to-sanpshot,- Revert a volume to a snapshot.,,132,22
openstack%2Fcinder~master~Ibcd383e5ce559a4ae926e7e8f429bab3caa3ed0d,openstack/cinder,master,Ibcd383e5ce559a4ae926e7e8f429bab3caa3ed0d,Move the constants to constants.py (for Fujitsu driver),MERGED,2019-09-12 03:50:42.000000000,2019-12-03 13:38:29.000000000,2019-10-08 07:04:30.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13702}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26387}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-12 03:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5f04c1ef2c7b2a75a2891b6d60ec041608f8753', 'message': 'Move the constants to constants.py\n\nIn order to avoid a single giant commit, we will submit the community\ncode step by step.\nStep1Move the constants to constants.py.\n\nChange-Id: Ibcd383e5ce559a4ae926e7e8f429bab3caa3ed0d\n'}, {'number': 2, 'created': '2019-09-20 01:40:31.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/be99ddae2c8d716da766b2627034da152b2ee2c2', 'message': 'Move the constants to constants.py (for Fujitsu driver)\n\nIn order to avoid a single giant commit, we will submit the community\ncode step by step.\nStep1Move the constants to constants.py.\n\nChange-Id: Ibcd383e5ce559a4ae926e7e8f429bab3caa3ed0d\n'}]",8,681638,be99ddae2c8d716da766b2627034da152b2ee2c2,130,41,2,26387,,,0,"Move the constants to constants.py (for Fujitsu driver)

In order to avoid a single giant commit, we will submit the community
code step by step.
Step1Move the constants to constants.py.

Change-Id: Ibcd383e5ce559a4ae926e7e8f429bab3caa3ed0d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/681638/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",2,d5f04c1ef2c7b2a75a2891b6d60ec041608f8753,fujitsu-driver-update,"""""""Cinder Volume driver for Fujitsu ETERNUS DX S3 series."""""" from cinder.volume.drivers.fujitsu.eternus_dx import constants as CONSTANTS help='Config file for cinder eternus_dx volume driver.'), pooltype = CONSTANTS.RAIDGROUP else: pooltype = CONSTANTS.TPPOOL configservice = self._find_eternus_service(CONSTANTS.STOR_CONF) if rc == CONSTANTS.VOLUMENAME_IN_USE: # Element Name is in use 'pooltype': CONSTANTS.POOL_TYPE_dic[pooltype]}) 'FJ_Pool_Type': CONSTANTS.POOL_TYPE_dic[pooltype]} # Get replication service for CreateElementReplica. repservice = self._find_eternus_service(CONSTANTS.REPL) configservice = self._find_eternus_service(CONSTANTS.STOR_CONF) repservice = self._find_eternus_service(CONSTANTS.REPL) pooltype = CONSTANTS.RAIDGROUP else: pooltype = CONSTANTS.TPPOOL configservice = self._find_eternus_service(CONSTANTS.STOR_CONF) 'pooltype': CONSTANTS.POOL_TYPE_dic[pooltype]}) 'pooltype': CONSTANTS.POOL_TYPE_dic[pooltype]}) ret = CONSTANTS.VOL_PREFIX + six.text_type(volumename) if rc == CONSTANTS.DEVICE_IS_BUSY: errordesc = CONSTANTS.RETCODE_dic.get(six.text_type(rc), CONSTANTS.UNDEF_MSG) if cpsession_instance['CopyState'] == CONSTANTS.BROKEN: operation = CONSTANTS.OPERATION_dic.get(copytype, None) repservice = self._find_eternus_service(CONSTANTS.REPL) if rc == CONSTANTS.COPYSESSION_NOT_EXIST: elif rc == CONSTANTS.VOLUME_IS_BUSY: configservice = self._find_eternus_service(CONSTANTS.CTRL_CONF) if rc != 0 and rc != CONSTANTS.LUNAME_IN_USE: if rc != 0 and rc != CONSTANTS.LUNAME_IN_USE: configservice = self._find_eternus_service(CONSTANTS.CTRL_CONF) if rc == CONSTANTS.LUNAME_NOT_EXIST: if self.retries > CONSTANTS.JOB_RETRIES: timer.start(interval=CONSTANTS.JOB_INTERVAL_SEC).wait()",""""""" Cinder Volume driver for Fujitsu ETERNUS DX S3 series. """"""VOL_PREFIX = ""FJosv_"" RAIDGROUP = 2 TPPOOL = 5 SNAPOPC = 4 OPC = 5 RETURN_TO_RESOURCEPOOL = 19 DETACH = 8 INITIALIZED = 2 UNSYNCHRONIZED = 3 BROKEN = 5 PREPARED = 11 REPL = ""FUJITSU_ReplicationService"" STOR_CONF = ""FUJITSU_StorageConfigurationService"" CTRL_CONF = ""FUJITSU_ControllerConfigurationService"" STOR_HWID = ""FUJITSU_StorageHardwareIDManagementService"" UNDEF_MSG = 'Undefined Error!!' JOB_RETRIES = 60 JOB_INTERVAL_SEC = 10 # Error code keyword. VOLUME_IS_BUSY = 32786 DEVICE_IS_BUSY = 32787 VOLUMENAME_IN_USE = 32788 COPYSESSION_NOT_EXIST = 32793 LUNAME_IN_USE = 4102 LUNAME_NOT_EXIST = 4097 # Only for InvokeMethod(HidePaths). EC_REC = 3 help='config file for cinder eternus_dx volume driver'),POOL_TYPE_dic = { RAIDGROUP: 'RAID_GROUP', TPPOOL: 'Thinporvisioning_POOL', } OPERATION_dic = { SNAPOPC: RETURN_TO_RESOURCEPOOL, OPC: DETACH, EC_REC: DETACH, } RETCODE_dic = { '0': 'Success', '1': 'Method Not Supported', '4': 'Failed', '5': 'Invalid Parameter', '4096': 'Method Parameters Checked - Job Started', '4097': 'Size Not Supported', '4101': 'Target/initiator combination already exposed', '4102': 'Requested logical unit number in use', '32769': 'Maximum number of Logical Volume in a RAID group ' 'has been reached', '32770': 'Maximum number of Logical Volume in the storage device ' 'has been reached', '32771': 'Maximum number of registered Host WWN ' 'has been reached', '32772': 'Maximum number of affinity group has been reached', '32773': 'Maximum number of host affinity has been reached', '32785': 'The RAID group is in busy state', '32786': 'The Logical Volume is in busy state', '32787': 'The device is in busy state', '32788': 'Element Name is in use', '32792': 'No Copy License', '32793': 'Session is not exist', '32796': 'Quick Format Error', '32801': 'The CA port is in invalid setting', '32802': 'The Logical Volume is Mainframe volume', '32803': 'The RAID group is not operative', '32804': 'The Logical Volume is not operative', '32808': 'No Thin Provisioning License', '32809': 'The Logical Element is ODX volume', '32811': 'This operation cannot be performed to the NAS resources', '32812': 'This operation cannot be performed to the Storage Cluster ' 'resources', '32816': 'Fatal error generic', '35302': 'Invalid LogicalElement', '35304': 'LogicalElement state error', '35316': 'Multi-hop error', '35318': 'Maximum number of multi-hop has been reached', '35324': 'RAID is broken', '35331': 'Maximum number of session has been reached(per device)', '35333': 'Maximum number of session has been reached(per SourceElement)', '35334': 'Maximum number of session has been reached(per TargetElement)', '35335': 'Maximum number of Snapshot generation has been reached ' '(per SourceElement)', '35346': 'Copy table size is not setup', '35347': 'Copy table size is not enough', } pooltype = RAIDGROUP else: pooltype = TPPOOL configservice = self._find_eternus_service(STOR_CONF) if rc == VOLUMENAME_IN_USE: # Element Name is in use 'pooltype': POOL_TYPE_dic[pooltype]}) 'FJ_Pool_Type': POOL_TYPE_dic[pooltype]} # Get replicationservice for CreateElementReplica. repservice = self._find_eternus_service(REPL) configservice = self._find_eternus_service(STOR_CONF) repservice = self._find_eternus_service(REPL) pooltype = RAIDGROUP else: pooltype = TPPOOL configservice = self._find_eternus_service(STOR_CONF) 'pooltype': POOL_TYPE_dic[pooltype]}) 'pooltype': POOL_TYPE_dic[pooltype]}) ret = VOL_PREFIX + six.text_type(volumename) if rc == DEVICE_IS_BUSY: errordesc = RETCODE_dic.get(six.text_type(rc), UNDEF_MSG) if cpsession_instance['CopyState'] == BROKEN: operation = OPERATION_dic.get(copytype, None) repservice = self._find_eternus_service(REPL) if rc == COPYSESSION_NOT_EXIST: elif rc == VOLUME_IS_BUSY: configservice = self._find_eternus_service(CTRL_CONF) if rc != 0 and rc != LUNAME_IN_USE: if rc != 0 and rc != LUNAME_IN_USE: configservice = self._find_eternus_service(CTRL_CONF) if rc == LUNAME_NOT_EXIST: if self.retries > JOB_RETRIES: timer.start(interval=JOB_INTERVAL_SEC).wait()",149,121
openstack%2Fcinder~master~Iba3c5fa4db87641a84eb22a0fc93294dd55a3132,openstack/cinder,master,Iba3c5fa4db87641a84eb22a0fc93294dd55a3132,Make sure stale image metadata is not used,MERGED,2019-09-19 21:07:41.000000000,2019-12-03 13:38:23.000000000,2019-09-25 09:50:34.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-19 21:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f608693d22906d27149a85471bef58f142245f7', 'message': ""DNM: Add tests to illustrate the stale image metadata situation.\n\nMoves the problematic code to a private function so it's easier\nto test, and adds 'test_merge_volume_image_meta' which fails and\nillustrates the bug.\n\nCloses-bug: #1844725\n\nChange-Id: Iba3c5fa4db87641a84eb22a0fc93294dd55a3132\n""}, {'number': 2, 'created': '2019-09-20 13:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e1b0e15859e651f91b8c6c92ec1564f7ac31383', 'message': ""Make sure stale image metadata is not used\n\nWhen uploading a volume to an image, Cinder checks to see if there's\nany image metadata already present on the volume, and if so, it adds\nit to the image-create request so that Glance will persist these\nadditional properties on the new image.  If during upload preparation,\nCinder wants to add specific metadata to the new image (for example,\na new encryption key id), we need to ensure that the new value for\nthis property is preferred to a value in the volume_glance_metadata\ntable.\n\nCloses-bug: #1844725\n\nChange-Id: Iba3c5fa4db87641a84eb22a0fc93294dd55a3132\n""}, {'number': 3, 'created': '2019-09-21 12:50:24.000000000', 'files': ['cinder/tests/unit/volume/test_image.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecf7041adacde3764082de7fba5ae82f22d48309', 'message': ""Make sure stale image metadata is not used\n\nWhen uploading a volume to an image, Cinder checks to see if there's\nany image metadata already present on the volume, and if so, it adds\nit to the image-create request so that Glance will persist these\nadditional properties on the new image.  If during upload preparation,\nCinder wants to add specific metadata to the new image (for example,\na new encryption key id), we need to ensure that the new value for\nthis property is preferred to a value in the volume_glance_metadata\ntable.\n\nCloses-bug: #1844725\n\nChange-Id: Iba3c5fa4db87641a84eb22a0fc93294dd55a3132\n""}]",0,683235,ecf7041adacde3764082de7fba5ae82f22d48309,127,36,3,5314,,,0,"Make sure stale image metadata is not used

When uploading a volume to an image, Cinder checks to see if there's
any image metadata already present on the volume, and if so, it adds
it to the image-create request so that Glance will persist these
additional properties on the new image.  If during upload preparation,
Cinder wants to add specific metadata to the new image (for example,
a new encryption key id), we need to ensure that the new value for
this property is preferred to a value in the volume_glance_metadata
table.

Closes-bug: #1844725

Change-Id: Iba3c5fa4db87641a84eb22a0fc93294dd55a3132
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/683235/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_image.py', 'cinder/tests/unit/image/test_glance.py', 'cinder/volume/api.py']",3,5f608693d22906d27149a85471bef58f142245f7,bug/1844725," def _merge_volume_image_meta(self, context, volume, image_meta): """"""Merges the image metadata from volume into image_meta"""""" glance_core_props = CONF.glance_core_properties if glance_core_props: try: vol_img_metadata = self.get_volume_image_metadata( context, volume) custom_property_set = ( set(vol_img_metadata).difference(glance_core_props)) if custom_property_set: image_meta['properties'] = { custom_prop: vol_img_metadata[custom_prop] for custom_prop in custom_property_set} except exception.GlanceMetadataNotFound: # If volume is not created from image, No glance metadata # would be available for that volume in # volume glance metadata table pass self._merge_volume_image_meta(context, volume, metadata)"," glance_core_props = CONF.glance_core_properties if glance_core_props: try: vol_img_metadata = self.get_volume_image_metadata( context, volume) custom_property_set = ( set(vol_img_metadata).difference(glance_core_props)) if custom_property_set: metadata['properties'] = { custom_prop: vol_img_metadata[custom_prop] for custom_prop in custom_property_set} except exception.GlanceMetadataNotFound: # If volume is not created from image, No glance metadata # would be available for that volume in # volume glance metadata table pass ",91,19
openstack%2Fcinder~master~Id75d00f556466c15cd67cfc6e140cebd121959b9,openstack/cinder,master,Id75d00f556466c15cd67cfc6e140cebd121959b9,"Add ""deletion policy"" property to uploaded images",MERGED,2019-09-19 20:33:58.000000000,2019-12-03 13:38:17.000000000,2019-09-25 18:20:00.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-19 20:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/105ba99cbaac6f5ddc8aa7d6491d74b7f9e57339', 'message': 'Add ""deletion policy"" property to uploaded images\n\nCommit b190a39a to Glance (included in Train M-3) introduces a\noptional \'cinder_encryption_key_deletion_policy\' image property\nthat will cause Glance to attempt to delete the Barbican secret\nwhose id is the value of the \'cinder_encryption_key_id\' image\nproperty when such an image is deleted, as long as the value of\nthe deletion policy property is \'on_image_deletion\'.  So let\'s\ntake advantage of that.\n\nChange-Id: Id75d00f556466c15cd67cfc6e140cebd121959b9\n'}, {'number': 2, 'created': '2019-09-20 17:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9551799b06de855e4dec3fee901831ff5bc41072', 'message': 'Add ""deletion policy"" property to uploaded images\n\nCommit b190a39a to Glance (included in Train M-3) introduces a\noptional \'cinder_encryption_key_deletion_policy\' image property\nthat will cause Glance to attempt to delete the Barbican secret\nwhose id is the value of the \'cinder_encryption_key_id\' image\nproperty when such an image is deleted, as long as the value of\nthe deletion policy property is \'on_image_deletion\'.  So let\'s\ntake advantage of that.\n\nChange-Id: Id75d00f556466c15cd67cfc6e140cebd121959b9\n'}, {'number': 3, 'created': '2019-09-20 19:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c61bdf0aa9e9c935d036ec6cd3f085b47d140a6a', 'message': 'Add ""deletion policy"" property to uploaded images\n\nCommit b190a39a to Glance (included in Train M-3) introduces a\noptional \'cinder_encryption_key_deletion_policy\' image property\nthat will cause Glance to attempt to delete the Barbican secret\nwhose id is the value of the \'cinder_encryption_key_id\' image\nproperty when such an image is deleted, as long as the value of\nthe deletion policy property is \'on_image_deletion\'.  So let\'s\ntake advantage of that.\n\nChange-Id: Id75d00f556466c15cd67cfc6e140cebd121959b9\n'}, {'number': 4, 'created': '2019-09-21 01:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6216289990dda0e262863c740e53cbd49d2e2cd', 'message': 'Add ""deletion policy"" property to uploaded images\n\nCommit b190a39a to Glance (included in Train M-3) introduces a\noptional \'cinder_encryption_key_deletion_policy\' image property\nthat will cause Glance to attempt to delete the Barbican secret\nwhose id is the value of the \'cinder_encryption_key_id\' image\nproperty when such an image is deleted, as long as the value of\nthe deletion policy property is \'on_image_deletion\'.  So let\'s\ntake advantage of that.\n\nChange-Id: Id75d00f556466c15cd67cfc6e140cebd121959b9\n'}, {'number': 5, 'created': '2019-09-24 14:09:47.000000000', 'files': ['cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/827f954cbfa7d01f00256210ad90e98104e90f7d', 'message': 'Add ""deletion policy"" property to uploaded images\n\nCommit b190a39a to Glance (included in Train M-3) introduces a\noptional \'cinder_encryption_key_deletion_policy\' image property\nthat will cause Glance to attempt to delete the Barbican secret\nwhose id is the value of the \'cinder_encryption_key_id\' image\nproperty when such an image is deleted, as long as the value of\nthe deletion policy property is \'on_image_deletion\'.  So let\'s\ntake advantage of that.\n\nChange-Id: Id75d00f556466c15cd67cfc6e140cebd121959b9\n'}]",12,683228,827f954cbfa7d01f00256210ad90e98104e90f7d,135,39,5,5314,,,0,"Add ""deletion policy"" property to uploaded images

Commit b190a39a to Glance (included in Train M-3) introduces a
optional 'cinder_encryption_key_deletion_policy' image property
that will cause Glance to attempt to delete the Barbican secret
whose id is the value of the 'cinder_encryption_key_id' image
property when such an image is deleted, as long as the value of
the deletion policy property is 'on_image_deletion'.  So let's
take advantage of that.

Change-Id: Id75d00f556466c15cd67cfc6e140cebd121959b9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/683228/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/volume_actions.py'],1,105ba99cbaac6f5ddc8aa7d6491d74b7f9e57339,img-meta-cinder-key-delete, image_metadata['cinder_encryption_key_deletion_policy'] = \ 'on_image_deletion'," # TODO(eharney): Currently, there is no mechanism to remove # these keys, because Glance will not delete the key from # Barbican when the image is deleted.",2,3
openstack%2Fcinder~master~I920f958db1d48e52b548082d852c03f427a279ca,openstack/cinder,master,I920f958db1d48e52b548082d852c03f427a279ca,NetApp SolidFire: Fix replication,MERGED,2019-08-09 13:59:35.000000000,2019-12-03 13:38:12.000000000,2019-09-27 04:11:19.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30002}, {'_account_id': 30555}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-09 13:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/97f283ed1d5dd092b51fa283114de8f8fffa131c', 'message': 'NetApp SolidFire: Fix replication\n\nReplication on SolidFire does not work. This patch address several of\nthe problems currently found in this driver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\ndoes not load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n\nCloses-bug: #1834013\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\n'}, {'number': 2, 'created': '2019-08-19 17:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c16cc2f09d7fe214acd6cabc7e856f3604668775', 'message': 'NetApp SolidFire: Fix replication\n\nThis patch address several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\ndoes not load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n\nCloses-bug: #1834013\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\n'}, {'number': 3, 'created': '2019-09-19 18:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31ca4bfb133bc847fe46e873816049692e503554', 'message': ""NetApp SolidFire: Fix replication\n\nThis patch addresses several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\nfails to load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n - During Failback, the driver doesn't update iSCSI connection\ninfo to the secondary cluster nor the volume's replication status.\n\nCloses-bug: #1834013\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\nCo-Authored-By: Fernando Ferraz <sfernand@netapp.com>\nCo-Authored-By: Thiago Correa <thiago.correa@netapp.com>\n""}, {'number': 4, 'created': '2019-09-19 19:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5eef791b0ac280e7fc7fd22b7db5a7aa93bc1d2e', 'message': ""NetApp SolidFire: Fix replication\n\nThis patch addresses several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\nfails to load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n - During Failback, the driver doesn't update iSCSI connection\ninfo to the secondary cluster nor the volume's replication status.\n\nCloses-bug: #1834013\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\nCo-Authored-By: Fernando Ferraz <sfernand@netapp.com>\nCo-Authored-By: Thiago Correa <thiago.correa@netapp.com>\n""}, {'number': 5, 'created': '2019-09-20 15:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/489c7c3ddcaa7c0b4dbdd1435752328dab67c1ff', 'message': ""NetApp SolidFire: Fix replication\n\nThis patch addresses several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\nfails to load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n - During Failback, the driver doesn't update iSCSI connection\ninfo to the secondary cluster nor the volume's replication status.\n\nCloses-bug: #1834013\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\nCo-Authored-By: Fernando Ferraz <sfernand@netapp.com>\nCo-Authored-By: Thiago Correa <thiago.correa@netapp.com>\n""}, {'number': 6, 'created': '2019-09-20 18:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f62d3e8b729dbe9e708e95905ccf4e9cce2c2b6f', 'message': ""NetApp SolidFire: Fix replication\n\nThis patch addresses several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\nfails to load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n - During Failback, the driver doesn't update iSCSI connection\ninfo to the secondary cluster nor the volume's replication status.\n\nCloses-bug: #1834013\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\nCo-Authored-By: Fernando Ferraz <sfernand@netapp.com>\nCo-Authored-By: Thiago Correa <thiago.correa@netapp.com>\n""}, {'number': 7, 'created': '2019-09-20 19:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b57d50adcf521b1671203d5ca9383ff409838c4f', 'message': ""NetApp SolidFire: Fix replication\n\nThis patch addresses several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\nfails to load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n - During Failback, the driver doesn't update iSCSI connection\ninfo to the secondary cluster nor the volume's replication status.\n\nCloses-bug: #1834013\nCloses-bug: #1751932\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\nCo-Authored-By: Fernando Ferraz <sfernand@netapp.com>\nCo-Authored-By: Thiago Correa <thiago.correa@netapp.com>\n""}, {'number': 8, 'created': '2019-09-26 20:16:32.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/fix-solidfire-replication-dcb3e59b29950933.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/215d6b2b272847d695c5c5d17c9d387e123b1396', 'message': ""NetApp SolidFire: Fix replication\n\nThis patch addresses several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\nfails to load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n - During Failback, the driver doesn't update iSCSI connection\ninfo to the secondary cluster nor the volume's replication status.\n\nCloses-bug: #1834013\nCloses-bug: #1751932\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\nCo-Authored-By: Fernando Ferraz <sfernand@netapp.com>\nCo-Authored-By: Thiago Correa <thiago.correa@netapp.com>\n""}]",12,675630,215d6b2b272847d695c5c5d17c9d387e123b1396,196,43,8,29650,,,0,"NetApp SolidFire: Fix replication

This patch addresses several of the problems currently found in this
driver:

 - When creating a SolidFire volume with a volume type that has
replication enabled the replication_status of this volume was not
changing.
 - During initialization, if a cluster is already paired, the driver
fails to load.
 - Driver does not create volumes on the replication target on
several configurations. For example, if the volume is being
created from a snashot or from another volume, etc.
 - During Failback, the driver doesn't update iSCSI connection
info to the secondary cluster nor the volume's replication status.

Closes-bug: #1834013
Closes-bug: #1751932
Change-Id: I920f958db1d48e52b548082d852c03f427a279ca
Co-Authored-By: Fernando Ferraz <sfernand@netapp.com>
Co-Authored-By: Thiago Correa <thiago.correa@netapp.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/675630/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/fix-solidfire-replication-dcb3e59b29950933.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,97f283ed1d5dd092b51fa283114de8f8fffa131c,sf-replication,"from cinder.tests.unit.api import fakesfrom cinder.tests.unit import fake_volume vol_updates = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': 'fast', 'created_at': timeutils.utcnow(), 'attributes': {'uuid': '262b9ce2-a71a-4fbe-830c-c20c5596caea'}} ctx = context.get_admin_context() self.mock_volume = fake_volume.fake_volume_obj(ctx, **vol_updates) self.cluster_pairs = ( [{'uniqueID': 'lu9f', 'endpoint': {'passwd': 'admin', 'port': 443, 'url': 'https://192.168.139.102:443', 'svip': '10.10.8.134', 'mvip': '192.168.139.102', 'login': 'admin'}, 'name': 'AutoTest2-6AjG-FOR-TEST-ONLY', 'clusterPairID': 33, 'uuid': '9c499d4b-8fff-48b4-b875-27601d5d9889', 'svip': '10.10.23.2', 'mvipNodeID': 1, 'repCount': 1, 'encryptionAtRestState': 'disabled', 'attributes': {}, 'mvip': '192.168.139.102', 'ensemble': ['10.10.5.130'], 'svipNodeID': 1}]) self.mvip = '192.168.139.102' self.svip = '10.10.8.134' return {'result': {}, 'id': 1} updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx) testsnap_dict = {'project_id': 'testprjid', 'name': testvol.name, 'volume_size': testvol.size, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_id': testvol.id, 'volume_type_id': None, 'created_at': timeutils.utcnow(), 'provider_id': '8 99 None', 'volume': testvol} testsnap = fake_snapshot.fake_snapshot_obj(ctx, **testsnap_dict) 'prefix-testprjid'}]),\ mock.patch.object(sfv, '_retrieve_replication_settings', return_value=[""Async"", {}]),\ mock.patch.object(sfv, '_get_sf_volume', return_value={'volumeID': 33}): updates_vol_a = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} updates_vol_b = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates_vol_a) testvol_b = fake_volume.fake_volume_obj(ctx, **updates_vol_b) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_qos_setting') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') def test_extend_replicated_volume(self, mock_create_cluster_reference, mock_retrieve_replication_settings, mock_issue_api_request, mock_retrieve_qos_setting, mock_get_sf_volume, mock_get_sfaccount): mock_create_cluster_reference.return_value = { 'mvip': self.mvip, 'svip': self.svip} mock_retrieve_replication_settings.return_value = ""Async"" mock_retrieve_qos_setting.return_value = None self.fake_sfvol['volumePairs'] = [{'remoteVolumeID': 26}] mock_get_sf_volume.return_value = self.fake_sfvol mock_get_sfaccount.return_value = self.fake_sfaccount ctx = context.get_admin_context() utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': f_uuid, 'created_at': utc_now } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip mock_issue_api_request.reset_mock() updates = sfv.extend_volume(vol, vol.size + 10) self.assertIsNone(updates) modify_params = { 'volumeID': self.fake_sfvol['volumeID'], 'totalSize': int((vol.size + 10) * units.Gi), 'qos': None } modify_params2 = modify_params.copy() modify_params2['volumeID'] = 26 expected_calls = [ mock.call(""ModifyVolume"", modify_params, version='5.0'), mock.call(""ModifyVolume"", modify_params2, version='5.0', endpoint=self.cluster_pairs[0]['endpoint']) ] mock_issue_api_request.assert_has_calls(expected_calls) mock_create_cluster_reference.assert_called() mock_retrieve_replication_settings.assert_called_with(vol) mock_retrieve_qos_setting.assert_called_with(vol, vol.size + 10) mock_get_sf_volume.assert_called_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_sfaccount.assert_called_with(vol.project_id) updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) migrated, updates = sfv.retype(self.ctxt, testvol, type_ref, diff, host) self.assertTrue(migrated) self.assertEqual({}, updates) updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) migrated, updates = sfv.retype(self.ctxt, testvol, test_type, diff, host) self.assertTrue(migrated) self.assertEqual({}, updates) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_set_rep_by_volume_type') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') @mock.patch.object(solidfire.SolidFireDriver, '_disable_replication') @mock.patch.object(solidfire.SolidFireDriver, '_set_qos_by_volume_type') def test_retype_replicated(self, mock_set_qos_by_volume_type, mock_disable_replication, mock_replicate_volume, mock_get_default_volume_params, mock_retrieve_replication_settings, mock_set_rep_by_volume_type, mock_get_sf_volume, mock_get_sfaccount): all_mocks = locals() mock_get_sf_volume.return_value = None mock_get_sfaccount.return_value = self.fake_sfaccount mock_retrieve_replication_settings.return_value = 'Async' ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}, 'id': fakes.get_fake_uuid()} src_vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) fake_provider_id = ""%s %s %s"" % ( self.fake_sfvol['volumeID'], fakes.FAKE_UUID, self.cluster_pairs[0]['uuid']) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': src_vol_type, 'volume_type_id': src_vol_type.id, 'provider_id': fake_provider_id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) dst_vol_type = fake_volume.fake_volume_type_obj(ctx) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip self.assertRaises(exception.VolumeNotFound, sfv.retype, ctx, vol, dst_vol_type, None, None) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_sfaccount.reset_mock() mock_get_sf_volume.reset_mock() expected = {""key"": ""value""} mock_get_sf_volume.return_value = self.fake_sfvol mock_replicate_volume.return_value = expected mock_set_rep_by_volume_type.side_effect = [src_vol_type, dst_vol_type] retyped, updates = sfv.retype(ctx, vol, dst_vol_type, None, None) self.assertDictEqual(expected, updates) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_default_volume_params.assert_called() mock_disable_replication.assert_not_called() mock_replicate_volume.assert_called_once() mock_retrieve_replication_settings.assert_called_once() mock_set_qos_by_volume_type.assert_called_once() expected = {} for mk in all_mocks.values(): if isinstance(mk, mock.MagicMock): mk.reset_mock() mock_set_rep_by_volume_type.side_effect = [src_vol_type, None] retyped, updates = sfv.retype(ctx, vol, dst_vol_type, None, None) self.assertDictEqual(expected, updates) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_default_volume_params.assert_not_called() mock_disable_replication.assert_called_with(vol) mock_replicate_volume.assert_not_called() mock_retrieve_replication_settings.assert_not_called() mock_set_qos_by_volume_type.assert_called_once() updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') @mock.patch.object(solidfire.SolidFireDriver, '_get_model_info') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') def test_manage_existing_replicated_fail( self, mock_create_cluster_reference, mock_update_cluster_status, mock_get_model_info, mock_replicate_volume, mock_retrieve_replication_settings, mock_get_default_volume_params, mock_get_create_account, mock_issue_api_request): mock_retrieve_replication_settings.return_value = 'Async' mock_get_default_volume_params.return_value = {'totalSize': 50} mock_get_create_account.return_value = self.fake_sfaccount mock_replicate_volume.side_effect = solidfire.SolidFireAPIException ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}, 'id': fakes.get_fake_uuid()} vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) fake_provider_id = ""%s %s %s"" % ( self.fake_sfvol['volumeID'], fakes.FAKE_UUID, self.cluster_pairs[0]['uuid']) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': vol_type, 'volume_type_id': vol_type.id, 'provider_id': fake_provider_id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip external_ref = {} self.assertRaises(solidfire.SolidFireAPIException, sfv.manage_existing, vol, external_ref) self.fake_sfvol['volumePairs'] = [{'remoteVolumeID': 26}] mock_issue_api_request.return_value = { 'result': {'volumes': [self.fake_sfvol]}} external_ref = {'source-id': 6, 'name': 'new-being-managed'} self.assertRaises(solidfire.SolidFireDriverException, sfv.manage_existing, vol, external_ref) mock_get_default_volume_params.return_value = {'totalSize': 50} self.fake_sfvol['volumePairs'] = [] mock_issue_api_request.return_value = { 'result': {'volumes': [self.fake_sfvol]}} self.assertRaises(solidfire.SolidFireAPIException, sfv.manage_existing, vol, external_ref) modify_attributes = {'uuid': vol.id, 'is_clone': 'False', 'os_imported_at': utc_now + ""+00:00"", 'old_name': 'new-being-managed'} modify_params1 = {'volumeID': self.fake_sfvol['volumeID'], 'attributes': modify_attributes} modify_params2 = {'volumeID': self.fake_sfvol['volumeID'], 'attributes': self.fake_sfvol['attributes']} calls = [mock.call('ListActiveVolumes', {'startVolumeID': self.fake_sfvol['volumeID'], 'limit': 1}), mock.call('ModifyVolume', modify_params1, version='5.0'), mock.call('ModifyVolume', modify_params2, version='5.0')] mock_issue_api_request.assert_has_calls(calls) mock_get_model_info.assert_not_called() mock_create_cluster_reference.assert_called_once() mock_update_cluster_status.assert_called_once() mock_replicate_volume.assert_called() mock_retrieve_replication_settings.assert_called_with(vol) mock_get_default_volume_params.assert_called_with(vol) mock_get_create_account.assert_called_with(vol.project_id) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_set_rep_by_volume_type') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') @mock.patch.object(solidfire.SolidFireDriver, '_disable_replication') @mock.patch.object(solidfire.SolidFireDriver, '_set_qos_by_volume_type') def test_manage_existing_replicated( self, mock_set_qos_by_volume_type, mock_disable_replication, mock_replicate_volume, mock_get_default_volume_params, mock_retrieve_replication_settings, mock_set_rep_by_volume_type, mock_get_sf_volume, mock_get_sfaccount): mock_get_sf_volume.return_value = None mock_get_sfaccount.return_value = self.fake_sfaccount mock_retrieve_replication_settings.return_value = 'Async' ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}, 'id': fakes.get_fake_uuid()} src_vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) fake_provider_id = ""%s %s %s"" % ( self.fake_sfvol['volumeID'], fakes.FAKE_UUID, self.cluster_pairs[0]['uuid']) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': src_vol_type, 'volume_type_id': src_vol_type.id, 'provider_id': fake_provider_id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) dst_vol_type = fake_volume.fake_volume_type_obj(ctx) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip self.assertRaises(exception.VolumeNotFound, sfv.retype, ctx, vol, dst_vol_type, None, None) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_sfaccount.reset_mock() mock_get_sf_volume.reset_mock() expected = {""key"": ""value""} mock_get_sf_volume.return_value = self.fake_sfvol mock_replicate_volume.return_value = expected mock_set_rep_by_volume_type.side_effect = [src_vol_type, dst_vol_type] retyped, updates = sfv.retype(ctx, vol, dst_vol_type, None, None) self.assertDictEqual(expected, updates) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_default_volume_params.assert_called() mock_disable_replication.assert_not_called() mock_replicate_volume.assert_called_once() mock_retrieve_replication_settings.assert_called_once() mock_set_qos_by_volume_type.assert_called_once() mock_set_rep_by_volume_type.assert_called() @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) project_id, sf_vol_object = sfv.create_volume(testvol) def _fake_issue_api_req(method, params, version=0, endpoint=None): sfv.cluster_pairs = self.cluster_pairs self.assertEqual('Async', sfv._set_rep_by_volume_type( ctxt, type_id)) replication_status = fields.ReplicationStatus.ENABLED fake_vol = {'project_id': 1, 'volumeID': 1, 'size': 1} params = {'attributes': {}} sf_account = {'initiatorSecret': 'shhh', 'targetSecret': 'dont-tell'} model_update = {'provider_id': '1 2 xxxx'} sfv.cluster_pairs = self.cluster_pairs return_value=model_update): self.assertEqual({'replication_status': replication_status}, sfv._replicate_volume(fake_vol, params, sf_account, {})) return_value=None), \ @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_set_cluster_pairs') @mock.patch.object(solidfire.SolidFireDriver, '_snapshot_discovery') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_get_model_info') @mock.patch.object(solidfire.SolidFireDriver, '_update_attributes') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_set_cluster_pairs') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') def test_do_clone_volume_rep_disabled(self, mock_replicate_volume, mock_retrieve_replication_settings, mock_get_default_volume_params, mock_set_cluster_pairs, mock_update_cluster_status, mock_update_attributes, mock_get_model_info, mock_issue_api_request, mock_snapshot_discovery, mock_test_set_cluster_pairs, mock_get_create_account): all_mocks = locals() def reset_mocks(): for mk in all_mocks.values(): if isinstance(mk, mock.MagicMock): mk.reset_mock() sf_volume_params = {'volumeID': 1, 'snapshotID': 2, 'newSize': 3} mock_snapshot_discovery.return_value = (sf_volume_params, True, self.fake_sfvol) mock_get_create_account.return_value = self.fake_sfaccount ctx = context.get_admin_context() vol_fields = {'updated_at': timeutils.utcnow(), 'created_at': timeutils.utcnow()} src_vol = fake_volume.fake_volume_obj(ctx) dst_vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = False reset_mocks() mock_issue_api_request.return_value = { 'error': {'code': 000, 'name': 'DummyError', 'message': 'This is a fake error response'}, 'id': 1} self.assertRaises(solidfire.SolidFireAPIException, sfv._do_clone_volume, src_vol.id, dst_vol, sf_src_snap=self.fake_sfsnaps[0]) clone_vol_params = { 'snapshotID': self.fake_sfsnaps[0]['snapshotID'], 'volumeID': self.fake_sfsnaps[0]['volumeID'], 'newSize': dst_vol.size * units.Gi, 'name': '%(prefix)s%(id)s' % { 'prefix': self.configuration.sf_volume_prefix, 'id': dst_vol.id}, 'newAccountID': self.fake_sfaccount['accountID']} mock_get_create_account.assert_called_with(dst_vol.project_id) mock_issue_api_request.assert_called_once_with( 'CloneVolume', clone_vol_params, version='6.0') mock_test_set_cluster_pairs.assert_not_called() mock_update_attributes.assert_not_called() mock_get_model_info.assert_not_called() mock_snapshot_discovery.assert_not_called() reset_mocks() mock_issue_api_request.side_effect = self.fake_issue_api_request mock_get_default_volume_params.return_value = {} mock_get_model_info.return_value = None self.assertRaises(solidfire.SolidFireAPIException, sfv._do_clone_volume, src_vol.id, dst_vol, sf_src_snap=self.fake_sfsnaps[0]) mock_get_create_account.assert_called_with(dst_vol.project_id) calls = [mock.call('CloneVolume', clone_vol_params, version='6.0'), mock.call('ModifyVolume', {'volumeID': 6})] mock_issue_api_request.assert_has_calls(calls) mock_test_set_cluster_pairs.assert_not_called() mock_update_attributes.assert_not_called() mock_get_model_info.assert_called_once() mock_snapshot_discovery.assert_not_called() reset_mocks() mock_retrieve_replication_settings.return_value = 'Async' update = {'replication_status': fields.ReplicationStatus.ENABLED} mock_replicate_volume.side_effect = solidfire.SolidFireDriverException mock_update_attributes.return_value = {'result': {}, 'id': 1} mock_get_model_info.return_value = { 'provider_location': '1.1.1.1 iqn 0', 'provider_auth': 'CHAP stack-1-a60e2611875f40199931f2c76370d66b ' '2FE0CQ8J196R', 'provider_id': '%s %s cluster-id-01' % ( self.fake_sfvol['volumeID'], self.fake_sfaccount['accountID']) } data, account, updates = sfv._do_clone_volume( src_vol.id, dst_vol, sf_src_snap=self.fake_sfsnaps[0]) self.assertEqual({'result': {}, 'id': 1}, data) self.assertEqual(25, account['accountID']) self.assertEqual(self.fake_sfvol['volumeID'], int(updates['provider_id'].split()[0])) mock_get_create_account.assert_called_with(dst_vol.project_id) calls = [mock.call('CloneVolume', clone_vol_params, version='6.0'), mock.call('ModifyVolume', {'volumeID': 6})] mock_issue_api_request.assert_has_calls(calls) mock_test_set_cluster_pairs.assert_not_called() mock_update_attributes.assert_not_called() mock_get_model_info.assert_called_once() mock_snapshot_discovery.assert_not_called() @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_qos_setting') @mock.patch.object(solidfire.SolidFireDriver, '_extract_sf_attributes_from_extra_specs') def test_get_default_volume_params( self, mock_extract_sf_attributes_from_extra_specs, mock_retrieve_qos_setting, mock_get_create_account): mock_extract_sf_attributes_from_extra_specs.return_value = [{ 'key1': 'value1', 'key2': 'value2' }] mock_retrieve_qos_setting.return_value = None mock_get_create_account.return_value = self.fake_sfaccount ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}} vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': vol_type, 'volume_type_id': vol_type.id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) vol_name = '%s%s' % (self.configuration.sf_volume_prefix, vol.id) expected_attr = { 'uuid': vol.id, 'is_clone': False, 'created_at': utc_now + ""+00:00"", 'cinder-name': vol.get('display_name', """"), 'key1': 'value1', 'key2': 'value2', } expected_params = { 'name': vol_name, 'accountID': self.fake_sfaccount['accountID'], 'sliceCount': 1, 'totalSize': int(vol.size * units.Gi), 'enable512e': self.configuration.sf_emulate_512, 'attributes': expected_attr, 'qos': None } sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True params = sfv._get_default_volume_params(vol, False) self.assertDictEqual(expected_params, params) mock_extract_sf_attributes_from_extra_specs.assert_called() mock_retrieve_qos_setting.assert_called() mock_get_create_account.assert_called() @mock.patch.object(solidfire.SolidFireDriver, '_get_sfvol_by_cinder_vref') def test_disable_replication_fail(self, mock_get_sfvol_by_cinder_vref): self.fake_sfvol['volumePairs'] = [] mock_get_sfvol_by_cinder_vref.return_value = self.fake_sfvol ctx = context.get_admin_context() utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': f_uuid, 'created_at': utc_now } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs expected = {'replication_status': fields.ReplicationStatus.DISABLED} updates = sfv._disable_replication(vol) self.assertDictEqual(expected, updates) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfvol_by_cinder_vref') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') def test_disable_replication(self, mock_create_cluster_reference, mock_issue_api_request, mock_get_sfvol_by_cinder_vref): mock_create_cluster_reference.return_value = { 'mvip': self.mvip, 'svip': self.svip} self.fake_sfvol['volumePairs'] = [{""remoteVolumeID"": 26}] mock_get_sfvol_by_cinder_vref.return_value = self.fake_sfvol ctx = context.get_admin_context() utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': f_uuid, 'created_at': utc_now } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip expected = {'replication_status': fields.ReplicationStatus.DISABLED} mock_issue_api_request.reset_mock() updates = sfv._disable_replication(vol) self.assertDictEqual(expected, updates) expected = [ mock.call(""RemoveVolumePair"", {'volumeID': self.fake_sfvol['volumeID']}, '8.0'), mock.call(""RemoveVolumePair"", {'volumeID': 26}, '8.0', endpoint=sfv.cluster_pairs[0]['endpoint']), mock.call(""DeleteVolume"", {'volumeID': 26}, endpoint=sfv.cluster_pairs[0]['endpoint']), mock.call(""PurgeDeletedVolume"", {'volumeID': 26}, endpoint=sfv.cluster_pairs[0]['endpoint']) ] mock_issue_api_request.assert_has_calls(expected) mock_create_cluster_reference.assert_called() mock_get_sfvol_by_cinder_vref.assert_called() @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') @mock.patch.object(solidfire.SolidFireDriver, '_set_cluster_pairs') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_get_cluster_info') @mock.patch.object(solidfire.SolidFireDriver, '_map_sf_volumes') @mock.patch.object(solidfire.SolidFireDriver, '_failover_volume') @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_get_model_info') @mock.patch.object(solidfire.SolidFireDriver, '_get_remote_info_by_id') def test_failover_host(self, mock_get_remote_info_by_id, mock_get_model_info, mock_get_create_account, mock_failover_volume, mock_map_sf_volumes, mock_get_cluster_info, mock_update_cluster_status, mock_set_cluster_pairs, mock_create_cluster_reference, mock_issue_api_request): all_mocks = locals() def reset_mocks(): for mk in all_mocks.values(): if isinstance(mk, mock.MagicMock): mk.reset_mock() ctx = context.get_admin_context() vol_fields = {'updated_at': timeutils.utcnow(), 'created_at': timeutils.utcnow()} cinder_vols = [] sf_vols = [] for i in range(1, 6): vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sf_vol = self.fake_sfvol.copy() sf_vol['volumeID'] = i sf_vol['name'] = '%s%s' % (self.configuration.sf_volume_prefix, vol.id) sf_vol['access'] = 'replicationTarget' sf_vol['attributes'] = {'uuid': vol.id} sf_vol['cinder_id'] = vol.id sf_vols.append(sf_vol) cinder_vols.append(vol) mock_map_sf_volumes.return_value = sf_vols mock_create_cluster_reference.return_value = self.cluster_pairs[0] fake_replication_device = {'backend_id': 'fake', 'mvip': '0.0.0.0', 'login': 'fake_login', 'password': 'fake_pwd'} self.configuration.replication_device = [fake_replication_device] reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.InvalidReplicationTarget, sfv.failover_host, ctx, cinder_vols, 'default', None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': 'default'} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.ReplicationError, sfv.failover_host, ctx, cinder_vols, 'default', None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.InvalidReplicationTarget, sfv.failover_host, ctx, cinder_vols, secondary_id='not_fake_id', groups=None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) sfv.cluster_pairs = [None] self.assertRaises(exception.UnableToFailOver, sfv.failover_host, ctx, cinder_vols, secondary_id='fake', groups=None) mock_map_sf_volumes.assert_not_called() reset_mocks() mock_get_model_info.return_value = {} drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) sfv.cluster_pairs = self.cluster_pairs sfv.cluster_pairs[0]['backend_id'] = 'fake' sfv.replication_enabled = True cluster_id, updates, _ = sfv.failover_host( ctx, cinder_vols, secondary_id='fake', groups=None) self.assertEqual(5, len(updates)) for update in updates: self.assertEqual(fields.ReplicationStatus.FAILED_OVER, update['updates']['replication_status']) self.assertEqual('fake', cluster_id) mock_get_model_info.assert_called() mock_get_create_account.assert_called() mock_failover_volume.assert_called() mock_map_sf_volumes.assert_called() mock_get_cluster_info.assert_not_called() mock_update_cluster_status.assert_called() mock_set_cluster_pairs.assert_called() mock_create_cluster_reference.assert_called() mock_issue_api_request.assert_not_called() @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') def test_failover_volume(self, mock_update_cluster_status, mock_create_cluster_reference, mock_issue_api_request): mock_issue_api_request.return_value = self.fake_sfaccount sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv._failover_volume(self.fake_sfvol, self.cluster_pairs[0]) expected_params = {'volumeID': self.fake_sfvol['volumeID'], 'access': 'readWrite'} mock_issue_api_request.assert_called_once_with( ""ModifyVolume"", expected_params, endpoint=self.cluster_pairs[0]['endpoint']) mock_update_cluster_status.assert_called_once() mock_create_cluster_reference.assert_called_once()"," self.mock_volume = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': 'fast', 'created_at': timeutils.utcnow(), 'attributes': {'uuid': '262b9ce2-a71a-4fbe-830c-c20c5596caea'}} return testvol = {'project_id': 'testprjid', testvol = {'project_id': 'testprjid', testvol = {'project_id': 'testprjid', testsnap = {'project_id': 'testprjid', 'name': 'testvol', 'volume_size': 1, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow(), 'provider_id': '8 99 None'} 'prefix-testprjid'}]): testvol = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} testvol_b = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} testvol = {'project_id': 'testprjid', self.assertTrue(sfv.retype(self.ctxt, testvol, type_ref, diff, host)) testvol = {'project_id': 'testprjid', self.assertTrue(sfv.retype(self.ctxt, testvol, test_type, diff, host)) testvol = {'project_id': 'testprjid', testvol = {'project_id': 'testprjid', proj_id, sf_vol_object = sfv.create_volume(testvol) def _fake_issue_api_req(method, params, version=0): sfv.cluster_pairs = [{'cluster_id': 'fake-id', 'cluster_mvip': 'fake-mvip'}] self.assertEqual('fake-id', sfv._set_rep_by_volume_type( ctxt, type_id)['targets']['cluster_id']) sfv.cluster_pairs = ( [{'uniqueID': 'lu9f', 'endpoint': {'passwd': 'admin', 'port': 443, 'url': 'https://192.168.139.102:443', 'svip': '10.10.8.134', 'mvip': '192.168.139.102', 'login': 'admin'}, 'name': 'AutoTest2-6AjG-FOR-TEST-ONLY', 'clusterPairID': 33, 'uuid': '9c499d4b-8fff-48b4-b875-27601d5d9889', 'svip': '10.10.23.2', 'mvipNodeID': 1, 'repCount': 1, 'encryptionAtRestState': 'disabled', 'attributes': {}, 'mvip': '192.168.139.102', 'ensemble': ['10.10.5.130'], 'svipNodeID': 1}]) return_value={'provider_id': '1 2 xxxx'}): self.assertEqual({'provider_id': '1 2 xxxx'}, sfv._replicate_volume( {'project_id': 1, 'volumeID': 1}, {'attributes': {}}, {'initiatorSecret': 'shhh', 'targetSecret': 'dont-tell'}, {})) return_value=None),\",1276,321
openstack%2Fcinder~master~I04d20c0c59f8269663fb829319bea1087619d2e2,openstack/cinder,master,I04d20c0c59f8269663fb829319bea1087619d2e2,PowerMax Driver - Debug Metadata Fix,MERGED,2019-08-20 14:11:32.000000000,2019-12-03 13:37:54.000000000,2019-09-25 23:29:15.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30165}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-20 14:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41f9ab4598516ec990f2e164ee0b95ca2bd260cf', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\nenabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 2, 'created': '2019-08-23 11:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac441f45248a0c97ad8d632dc1f72bcddfa57562', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\nenabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 3, 'created': '2019-08-23 11:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02423997c9ba30f0cad96a47ef8b161ee1899b57', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\ndisabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 4, 'created': '2019-08-26 13:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d28db803696ce634a8c658b1605d0ca8be09fbff', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\ndisabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 5, 'created': '2019-08-29 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da7156b0543eb6ba61e6a9e112a79b2d85c52fb9', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\ndisabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 6, 'created': '2019-08-30 09:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d9f2f2b8cb21d60f0f9029efed1b0debe609cce', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\ndisabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 7, 'created': '2019-08-30 14:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d620bd7cd115e6d2f2b50dbccc6aacdd37a6fcd4', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\ndisabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 8, 'created': '2019-09-19 16:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61b1bed473443374787bc2edb5338bf904b493fe', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\ndisabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}, {'number': 9, 'created': '2019-09-20 11:35:20.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1eb128c821c257ab035518f34b7df269eaa7cdd', 'message': ""PowerMax Driver - Debug Metadata Fix\n\nThis submission addressess an issue whereby service level was\nnot returned on occassion, service level and workload are now\nreturned for all volumes in the metadata tables when debug\nmode is enabled. The compression attribute has also been\nstandardised to bring it in line with metadata set on\nvolumes. Both places now have the attribute 'compression\ndisabled'.\n\nChange-Id: I04d20c0c59f8269663fb829319bea1087619d2e2\n""}]",7,677473,f1eb128c821c257ab035518f34b7df269eaa7cdd,281,46,9,23601,,,0,"PowerMax Driver - Debug Metadata Fix

This submission addressess an issue whereby service level was
not returned on occassion, service level and workload are now
returned for all volumes in the metadata tables when debug
mode is enabled. The compression attribute has also been
standardised to bring it in line with metadata set on
volumes. Both places now have the attribute 'compression
disabled'.

Change-Id: I04d20c0c59f8269663fb829319bea1087619d2e2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/677473/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py']",6,41f9ab4598516ec990f2e164ee0b95ca2bd260cf,ci_failure_fix, - Debug metadata compression and service level info fix,,93,32
openstack%2Fcinder~master~I595b8017cb8116ff7e713692afdd92a11134066f,openstack/cinder,master,I595b8017cb8116ff7e713692afdd92a11134066f,Unity: Add replication support,MERGED,2019-01-28 08:16:11.000000000,2019-12-03 13:37:34.000000000,2019-09-26 06:18:55.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26114}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-28 08:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b148ec04d57b1b0d0762286ce20b4c3b2fe2658b', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 2, 'created': '2019-01-29 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a0aae69552ff7f0e77c1a25273050cc108ccf30', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 3, 'created': '2019-01-30 03:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d8dd23997fc1c38ce0f06747e059c2fc54c44e1', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 4, 'created': '2019-02-18 03:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06f3e2b5f749d955fbc16914ed5a653b1c9a489d', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 5, 'created': '2019-02-27 04:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd2d57c1af8ed8d7c87e6968f43b89c2e266c215', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 6, 'created': '2019-03-28 03:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ff542cb369ca6bb8ea5e00f494a7a0286fb70f9', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 7, 'created': '2019-04-08 06:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/714dcec4efb7ede12a2f41c7b9acab914564c9b8', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 8, 'created': '2019-06-12 02:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ec2294691023e2335855335f905a8d7ef361f71', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 9, 'created': '2019-06-13 01:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da1f8c581f97612cf307f347ef4a2b550e2cb329', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 10, 'created': '2019-06-27 05:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8a8d2df0c2e4446ede03d2897477d0ed6c3dca7', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 11, 'created': '2019-08-22 06:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/715e18518da8ea52e78c6f6c1ce677eefec3568c', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 12, 'created': '2019-08-26 06:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/587f0b3b9f08eadb22174a1fc5067b60f3fb5e93', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 13, 'created': '2019-09-19 02:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9bfec1d35c337e3137b1af05ca73a3b3f4cf2ae', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}, {'number': 14, 'created': '2019-09-19 06:31:16.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'releasenotes/notes/unity-replication-support-2ab121a5ea5a2ade.yaml', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_driver.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/fake_exception.py', 'cinder/volume/drivers/dell_emc/unity/replication.py', 'driver-requirements.txt', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ebcf5e2ca983e90ac29d2b50f2fe23eb82145e8', 'message': 'Unity: Add replication support\n\nAdd volume replication support for Dell EMC Unity driver.\n\nImplements: blueprint unity-replication-support\n\nChange-Id: I595b8017cb8116ff7e713692afdd92a11134066f\n'}]",34,633451,0ebcf5e2ca983e90ac29d2b50f2fe23eb82145e8,534,55,14,18742,,,0,"Unity: Add replication support

Add volume replication support for Dell EMC Unity driver.

Implements: blueprint unity-replication-support

Change-Id: I595b8017cb8116ff7e713692afdd92a11134066f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/633451/13 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'releasenotes/notes/unity-replication-support-2ab121a5ea5a2ade.yaml', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/fake_exception.py', 'cinder/volume/drivers/dell_emc/unity/replication.py', 'driver-requirements.txt', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst']",13,b148ec04d57b1b0d0762286ce20b4c3b2fe2658b,bp/unity-replication-support,"| storops | 1.1.0 or newer |- Volume replications.Volume replications ~~~~~~~~~~~~~~~~~~~ To enable volume replications, follow below steps: #. On Unisphere, configure remote system and interfaces for replications. The way could be different depending on the type of replications - sync or async. Refer to `Unity Replication White Paper <https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_ for more detail. #. Add `replication_device` to storage backend settings in `cinder.conf`, then restart Cinder Volume service. Example of `cinder.conf` for volume replications: .. code-block:: ini [unity-primary] san_ip = xxx.xxx.xxx.xxx ... replication_device = backend_id:unity-secondary,san_ip:yyy.yyy.yyy.yyy,san_password:****,max_time_out_of_sync:60 unity_delete_lun_in_replication = True - Only one `replication_device` can be configured for each primary backend. - Keys `backend_id`, `san_ip`, `san_password`, and `max_time_out_of_sync` are supported in `replication_device`, while `backend_id` and `san_ip` are required. - `san_password` uses the same one as primary backend's if it is omitted. - `max_time_out_of_sync` is the max time in minutes replications are out of sync. It must be equal or greater than `0`. `0` means sync replications of volumes will be created. Note that remote systems for sync replications need to be created on Unity first. `60` will be used if it is omitted. - `unity_delete_lun_in_replication` indicates the LUNs which are participating in replications will be force deleted or not. Use this option carefully because replications of LUNs will be deleted together with LUNs. By default, it is `False`. #. Create a volume type with property `replication_enabled='<is> True'`. .. code-block:: console $ openstack volume type create --property replication_enabled='<is> True' type-replication #. Any volumes with volume type of step #3 will failover to secondary backend after `failover_host` is executed. .. code-block:: console $ cinder failover-host --backend_id unity-secondary stein@unity-primary #. Later, they could be failed back. .. code-block:: console $ cinder failover-host --backend_id default stein@unity-primary ",| storops | 0.5.10 or newer |,1452,45
openstack%2Fcinder~master~I5485f7f935c43a920f9c065ab9cf5ca300fa002a,openstack/cinder,master,I5485f7f935c43a920f9c065ab9cf5ca300fa002a,Add doc page for accelerate image compression,MERGED,2019-09-18 03:31:12.000000000,2019-12-03 13:37:27.000000000,2019-10-01 19:12:12.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28948}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-18 03:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0486458cdc001b21b84b87b2dd398cb7df7b2165', 'message': 'Add doc page for accelerate image compression\n\nThe related code review:\nhttps://review.opendev.org/#/c/668825/\n\nChange-Id: I5485f7f935c43a920f9c065ab9cf5ca300fa002a\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 2, 'created': '2019-09-18 05:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/012745b720627f91dafb1137b40dfeb1f413d8be', 'message': 'Add doc page for accelerate image compression\n\nThe related code review:\nhttps://review.opendev.org/#/c/668825/\n\nChange-Id: I5485f7f935c43a920f9c065ab9cf5ca300fa002a\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 3, 'created': '2019-09-19 02:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b8b45350d086def7539e7952ffc765485b518ce', 'message': 'Add doc page for accelerate image compression\n\nThe related code review:\nhttps://review.opendev.org/#/c/668825/\n\nChange-Id: I5485f7f935c43a920f9c065ab9cf5ca300fa002a\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 4, 'created': '2019-09-19 04:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a88cbdeb780af4ee6fbf112aa5e0d6498fe00c19', 'message': 'Add doc page for accelerate image compression\n\nThe related code review:\nhttps://review.opendev.org/#/c/668825/\n\nChange-Id: I5485f7f935c43a920f9c065ab9cf5ca300fa002a\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 5, 'created': '2019-09-23 03:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2ab3b328224fec0b2d2811c1ecfe00f4524f9b3', 'message': 'Add doc page for accelerate image compression\n\nThe related code review:\nhttps://review.opendev.org/#/c/668825/\n\nChange-Id: I5485f7f935c43a920f9c065ab9cf5ca300fa002a\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 6, 'created': '2019-09-23 03:38:22.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/blockstorage-accelerate-image-compression.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbc583e4ba31f600b86b756d1259a9eedaecd0ec', 'message': 'Add doc page for accelerate image compression\n\nThe related code review:\nhttps://review.opendev.org/#/c/668825/\n\nChange-Id: I5485f7f935c43a920f9c065ab9cf5ca300fa002a\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}]",5,682780,fbc583e4ba31f600b86b756d1259a9eedaecd0ec,126,30,6,28948,,,0,"Add doc page for accelerate image compression

The related code review:
https://review.opendev.org/#/c/668825/

Change-Id: I5485f7f935c43a920f9c065ab9cf5ca300fa002a
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/682780/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/blockstorage-accelerate-image-compression.rst'],1,0486458cdc001b21b84b87b2dd398cb7df7b2165,,".. _accelerate_image_compression: ============================ Accelerate image compression ============================ A general framework to accommodate hardware compression accelerators for compression of volumes uploaded to the Image service (Glance) as images and decompression of compressed images used to create volumes is introduced in Train release. The only accelerator supported in this release is Intel QuickAssist Technology (QAT), which produces a compressed file in gzip format. Additionally, the framework provides software-based compression using GUNzip tool if a suitable hardware accelerator is not available. Because this software fallback could cause performance problems if the Cinder services are not deployed on sufficiently powerful nodes, the default setting is *not* to enable compression on image upload or download. The compressed image of a volume will be stored in the Image service (Glance) with the ``container_format`` image property of ``compressed``. See the `Image service documentation <https://docs.openstack.org/glance/latest>`_ for more information about this image container format. Configure image compression ~~~~~~~~~~~~~~~~~~~~~~~~~~~ To enable the image compression feature, set the following configuration option in the ``cinder.conf`` file: .. code-block:: ini allow_compression_on_image_upload = True By default it will be set to False, which means image compression is disabled. .. code-block:: ini compression_format = gzip This is to specify image compression format. The only supported format is ``gzip`` in Train release. System requirement ~~~~~~~~~~~~~~~~~~ In order to use this feature, there should be a hardware accelerator existing in system, otherwise no benefit will get from this feature. Regarding the two accelerators that supported, system should be configured as below: - ``Intel QuickAssist Technology(QAT)`` - This is the hardware accelerator from Intel. The driver of QAT should be installed, refer to `<https://01.org/intel-quickassist-technology>`. Also the compression library QATzip should be installed, refer to `<https://github.com/intel/QATzip>` - ``GUNzip`` - The related package of ``GUNzip`` should be installed and the command ``gzip`` should be available. This is used as fallback when hardware accelerator is not available. ",,59,0
openstack%2Fcinder~master~I243d1b47f3996ccdda977ef21b979fd3fc49a2f9,openstack/cinder,master,I243d1b47f3996ccdda977ef21b979fd3fc49a2f9,Delete unused key when rekeying volume,MERGED,2019-09-18 17:11:34.000000000,2019-12-03 13:37:09.000000000,2019-09-19 18:35:16.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-18 17:11:34.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f05d8e18acd25442bb8ece10d70f5a0e277240b', 'message': ""Delete unused key when rekeying volume\n\nThe new volume's encryption key that was cloned\nearlier in the volume creation process should be\ndelete after rekey succeeds, because it is no\nlonger used.\n\nChange-Id: I243d1b47f3996ccdda977ef21b979fd3fc49a2f9\nCloses-Bug: #1844556\n""}]",0,682947,5f05d8e18acd25442bb8ece10d70f5a0e277240b,43,36,1,4523,,,0,"Delete unused key when rekeying volume

The new volume's encryption key that was cloned
earlier in the volume creation process should be
delete after rekey succeeds, because it is no
longer used.

Change-Id: I243d1b47f3996ccdda977ef21b979fd3fc49a2f9
Closes-Bug: #1844556
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/682947/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/volume/test_volume.py']",2,5f05d8e18acd25442bb8ece10d70f5a0e277240b,bug/1844556," mock_del_enc_key.assert_called_once_with(mock.ANY, # context mock.ANY, # keymgr fake.ENCRYPTION_KEY2_ID) mock_del_enc_key.assert_not_called()", mock_del_enc_key.assert_not_called() ,12,3
openstack%2Fcinder~master~I8460f58d2ad95a6654cf4d6a6bb367f3c537536b,openstack/cinder,master,I8460f58d2ad95a6654cf4d6a6bb367f3c537536b,Leverage hw accelerator in image compression,MERGED,2019-07-03 08:34:10.000000000,2019-12-03 13:36:40.000000000,2019-09-19 18:22:23.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12860}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28948}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30648}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-07-03 08:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6265ca76514d27e64c8d6b542697f5dd9e182a6', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the format\ntransformation is done by software and the performance is not good.\n\nLeverage hardware accelerator to do the image conversion, so as to offload CPU,\nrelease CPU to do more common and complex thing. Professional hardware\naccelerator will get better performance and shorter conversion time than\nsoftware solution. Currently hardware accelerator is getting more popular and\nsome are integrated in server chipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of image format - 'gzip' which can be supported by\nmost of the hw accelerators.\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 2, 'created': '2019-07-31 09:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/005039b4ac6b976169ee732b46b4e75196938804', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the format\ntransformation is done by software and the performance is not good.\n\nLeverage hardware accelerator to do the image conversion, so as to offload CPU,\nrelease CPU to do more common and complex thing. Professional hardware\naccelerator will get better performance and shorter conversion time than\nsoftware solution. Currently hardware accelerator is getting more popular and\nsome are integrated in server chipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of image format - 'gzip' which can be supported by\nmost of the hw accelerators.\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 3, 'created': '2019-08-07 03:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ac93da34941ccf007fa1a423f187473982b4a9f', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the format\ntransformation is done by software and the performance is not good.\n\nLeverage hardware accelerator to do the image conversion, so as to offload CPU,\nrelease CPU to do more common and complex thing. Professional hardware\naccelerator will get better performance and shorter conversion time than\nsoftware solution. Currently hardware accelerator is getting more popular and\nsome are integrated in server chipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of image format - 'gzip' which can be supported by\nmost of the hw accelerators.\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Software accelerator 'gzip' fallback if hardware accelerator is not\navailable, which in this patch is the Intel QAT.\n\n5. Add command filter for command 'qzip' and 'gzip' in rootwrap.\n\n6. Unit tests for accelerators.\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 4, 'created': '2019-08-07 15:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c1f05f2bd2e55d158ac5defe0c8e53cde5db008', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the format\ntransformation is done by software and the performance is not good.\n\nLeverage hardware accelerator to do the image conversion, so as to offload CPU,\nrelease CPU to do more common and complex thing. Professional hardware\naccelerator will get better performance and shorter conversion time than\nsoftware solution. Currently hardware accelerator is getting more popular and\nsome are integrated in server chipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of image format - 'gzip' which can be supported by\nmost of the hw accelerators.\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Software accelerator 'gzip' fallback if hardware accelerator is not\navailable, which in this patch is the Intel QAT.\n\n5. Add command filter for command 'qzip' and 'gzip' in rootwrap.\n\n6. Unit tests for accelerators.\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 5, 'created': '2019-08-08 09:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/980cd968c03000efb130460195f7bcf5e47efefc', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 6, 'created': '2019-08-14 07:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d75f9368119114763faa94af172db9dd2ca59af7', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 7, 'created': '2019-08-26 01:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e34f6c568d3103bcf76767d33c2445f32225486d', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 8, 'created': '2019-08-26 03:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdc9a12e55166c817374da36f599138c3d6b3a0c', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\nDepends-On: https://review.opendev.org/#/c/652275/\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 9, 'created': '2019-09-03 09:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/074c750eb5948d53bc79ec404732fc11786305e8', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 10, 'created': '2019-09-10 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5803f696cccd5d6c4a057962296d85b3df91d549', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it.\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 11, 'created': '2019-09-11 06:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10c4dd8102ef2e7a2c20acf41a75729e9f83cac3', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. New configuration option 'allow_compression_on_image_upload' and\n'compression_format' added\n\n6. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 12, 'created': '2019-09-13 08:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d8e3adfbf0312a05ea2bb4e0ee3e941aa730091', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. New configuration option 'allow_compression_on_image_upload' and\n'compression_format' added\n\n6. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 13, 'created': '2019-09-15 12:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c99d3f82a062f83bd133800b5109c9629f9f2c4b', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Introduced a new type of container format - 'compressed'\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. New configuration option 'allow_compression_on_image_upload' and\n'compression_format' added\n\n6. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 14, 'created': '2019-09-17 05:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae8b9032ddbc2688a6d60aa95f1770747ab00c8a', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Uses the new image container_format 'compressed' introduced by Glance\nin the Train release\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. New configuration option 'allow_compression_on_image_upload' and\n'compression_format' added\n\n6. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 15, 'created': '2019-09-18 01:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3630e5fb8af4ddfee68c35f5a55897fc4d11fd7', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Uses the new image container_format 'compressed' introduced by Glance\nin the Train release\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. New configuration option 'allow_compression_on_image_upload' and\n'compression_format' added\n\n6. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}, {'number': 16, 'created': '2019-09-18 03:01:28.000000000', 'files': ['cinder/tests/unit/image/accelerators/__init__.py', 'cinder/common/config.py', 'releasenotes/notes/leverage-compression-accelerator-579c7032290cd1e9.yaml', 'cinder/tests/unit/image/accelerators/test_qat_gzip.py', 'cinder/image/accelerators/__init__.py', 'cinder/tests/unit/image/test_accelerator.py', 'cinder/opts.py', 'cinder/image/accelerators/qat.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/image/image_utils.py', 'cinder/image/accelerator.py', 'cinder/exception.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/image/accelerators/gzip.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9073f7591ec398c8825fc82f8dda630c4d8ad3f3', 'message': ""Leverage hw accelerator in image compression\n\nWhen trying to upload volume to glance as image, currently all the\nformat transformation is done by software and the performance is not\ngood.\n\nLeverage hardware accelerator to do the image compression, so as to\noffload CPU, release CPU to do more common and complex thing.\nProfessional hardware accelerator will get better performance and\nshorter conversion time than software solution. Currently hardware\naccelerator is getting more popular and some are integrated in server\nchipset by default.\n\nThis patch includes:\n\n1. Uses the new image container_format 'compressed' introduced by Glance\nin the Train release\n\n2. Implemented a simple framework: if there's an accelerator detected in\nsystem, then try to use it\n\n3. Supported Intel QAT as one of the accelerator\n\n4. Add command filter for command 'qzip' and 'gzip' in rootwrap\n\n5. New configuration option 'allow_compression_on_image_upload' and\n'compression_format' added\n\n6. Releasenote added\n\nChange-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b\nImplements: blueprint leverage-compression-accelerator\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n""}]",123,668825,9073f7591ec398c8825fc82f8dda630c4d8ad3f3,473,50,16,28948,,,0,"Leverage hw accelerator in image compression

When trying to upload volume to glance as image, currently all the
format transformation is done by software and the performance is not
good.

Leverage hardware accelerator to do the image compression, so as to
offload CPU, release CPU to do more common and complex thing.
Professional hardware accelerator will get better performance and
shorter conversion time than software solution. Currently hardware
accelerator is getting more popular and some are integrated in server
chipset by default.

This patch includes:

1. Uses the new image container_format 'compressed' introduced by Glance
in the Train release

2. Implemented a simple framework: if there's an accelerator detected in
system, then try to use it

3. Supported Intel QAT as one of the accelerator

4. Add command filter for command 'qzip' and 'gzip' in rootwrap

5. New configuration option 'allow_compression_on_image_upload' and
'compression_format' added

6. Releasenote added

Change-Id: I8460f58d2ad95a6654cf4d6a6bb367f3c537536b
Implements: blueprint leverage-compression-accelerator
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/668825/16 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/accelerators/qat.py', 'cinder/image/image_utils.py', 'cinder/image/accelerator.py', 'cinder/api/schemas/volume_actions.py', 'cinder/image/accelerators/__init__.py']",5,a6265ca76514d27e64c8d6b542697f5dd9e182a6,bp/leverage-compression-accelerator,,,229,12
openstack%2Fcinder~master~I61735e689baf407df17c6cc563a199b2cb0055e0,openstack/cinder,master,I61735e689baf407df17c6cc563a199b2cb0055e0,PowerMax Docs -  Short host and port group name changes,MERGED,2019-09-17 16:47:35.000000000,2019-12-03 13:36:23.000000000,2019-10-02 20:26:07.000000000,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-17 16:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d06a9f60e9a0f6b36ef585edf8fa50114e49900', 'message': 'PowerMax Docs -  Short host and port group name changes\n\nClarify in the PowerMax naming conventions section that if the short host\nexceeds 16 characters and the port group exceeds 12 characters,\nthen they must be shortened and still remain unique.\nThis is because these names are used in the creation of storage groups\nand masking view names which are limited to 64 characters.\n\nChange-Id: I61735e689baf407df17c6cc563a199b2cb0055e0\n'}, {'number': 2, 'created': '2019-09-26 17:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1b85b507d4d3cb1396e69be06689fe71a4714c9', 'message': 'PowerMax Docs -  Short host and port group name changes\n\nClarify in the PowerMax naming conventions section that if the short host\nexceeds 16 characters and the port group exceeds 12 characters,\nthen they must be shortened and still remain unique.\nThis is because these names are used in the creation of storage groups\nand masking view names which are limited to 64 characters.\n\nChange-Id: I61735e689baf407df17c6cc563a199b2cb0055e0\n'}, {'number': 3, 'created': '2019-09-26 17:55:18.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/17bd4c37ad48f89f7b1fbaeb8f1a2b38d27d4830', 'message': 'PowerMax Docs -  Short host and port group name changes\n\nClarify in the PowerMax naming conventions section that if the short host\nexceeds 16 characters and the port group exceeds 12 characters,\nthen they must be shortened and still remain unique.\nThis is because these names are used in the creation of storage groups\nand masking view names which are limited to 64 characters.\n\nChange-Id: I61735e689baf407df17c6cc563a199b2cb0055e0\n'}]",0,682696,17bd4c37ad48f89f7b1fbaeb8f1a2b38d27d4830,66,31,3,12670,,,0,"PowerMax Docs -  Short host and port group name changes

Clarify in the PowerMax naming conventions section that if the short host
exceeds 16 characters and the port group exceeds 12 characters,
then they must be shortened and still remain unique.
This is because these names are used in the creation of storage groups
and masking view names which are limited to 64 characters.

Change-Id: I61735e689baf407df17c6cc563a199b2cb0055e0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/682696/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,4d06a9f60e9a0f6b36ef585edf8fa50114e49900,name_conventions,".. note:: shortHostName will be altered using the following formula, if its length exceeds 16 characters. This is because the storage group and masking view names cannot exceed 64 characters: .. code-block:: text if len(shortHostName) > 16: md5_to_uuid = (hashlib.md5().update(shortHostName.encode('utf-8')).hexdigest() shortHostName = shortHostName[-6:] + md5_to_uuid if len(shortHostName) > 16: shortHostName = shortHostName[8:] + shortHostName[:8] .. note:: portgroup_name will be altered using the following formula, if its length exceeds 12 characters. This is because the storage group and masking view names cannot exceed 64 characters: .. code-block:: text if len(portgroup_name) > 12: md5_to_uuid = (hashlib.md5().update(portgroup_name.encode('utf-8')).hexdigest() portgroup_name = portgroup_name[-6:] + md5_to_uuid if len(portgroup_name) > 12: portgroup_name = portgroup_name[6:] + portgroup_name[:6] ",,29,0
openstack%2Fironic~stable%2Fstein~I968606a300bc43675d7bd07f73de37967ef80c26,openstack/ironic,stable/stein,I968606a300bc43675d7bd07f73de37967ef80c26,Add timeout when querying agent's command statuses,MERGED,2019-11-28 09:39:08.000000000,2019-12-03 13:35:26.000000000,2019-12-03 13:33:04.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-28 09:39:08.000000000', 'files': ['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a364ceb615d6ade13a4fc12ea32251fb343ee855', 'message': ""Add timeout when querying agent's command statuses\n\nOtherwise the node can get locked up for a significant amount of time.\nIt conforms to the behaviour of all other (POST) HTTP requests done to\nagent.\n\nStory: 2006946\nTask: 37626\nChange-Id: I968606a300bc43675d7bd07f73de37967ef80c26\n(cherry picked from commit 33a84d94eb4d495312e3ba750b194213737a8933)\n""}]",0,696484,a364ceb615d6ade13a4fc12ea32251fb343ee855,19,8,1,23851,,,0,"Add timeout when querying agent's command statuses

Otherwise the node can get locked up for a significant amount of time.
It conforms to the behaviour of all other (POST) HTTP requests done to
agent.

Story: 2006946
Task: 37626
Change-Id: I968606a300bc43675d7bd07f73de37967ef80c26
(cherry picked from commit 33a84d94eb4d495312e3ba750b194213737a8933)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/696484/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,a364ceb615d6ade13a4fc12ea32251fb343ee855,get-commands-status-timeout-stable/train-stable/stein,"from ironic import confCONF = conf.CONF agent_url = self.node.driver_internal_info.get('agent_url') mock_get.assert_called_once_with( '%(agent_url)s/%(api_version)s/commands' % { 'agent_url': agent_url, 'api_version': CONF.agent.agent_api_version}, timeout=CONF.agent.command_timeout)",,17,1
openstack%2Fkuryr-kubernetes~master~I6860a86a7dff5d0d3b598cdc16752f5dfc0e0e5d,openstack/kuryr-kubernetes,master,I6860a86a7dff5d0d3b598cdc16752f5dfc0e0e5d,DNM: Testing OpenShift gate fix,ABANDONED,2019-11-29 11:53:36.000000000,2019-12-03 13:28:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-29 11:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a1ed917d3909e3c1fc866c45e071ac7f7721dcc0', 'message': 'DNM: Testing OpenShift gate fix\n\nChange-Id: I6860a86a7dff5d0d3b598cdc16752f5dfc0e0e5d\nDepends-On: I10588e73a9da7fdd43677f9247c176811dd68c62\n'}, {'number': 2, 'created': '2019-11-29 11:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/039aa07cd4200b53a5a4fa67d2e8e7331733f84b', 'message': 'DNM: Testing OpenShift gate fix\n\nChange-Id: I6860a86a7dff5d0d3b598cdc16752f5dfc0e0e5d\nDepends-On: I10588e73a9da7fdd43677f9247c176811dd68c62\n'}, {'number': 3, 'created': '2019-12-02 15:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/532928eea57034ef28635937aef53183676d6a6f', 'message': 'DNM: Testing OpenShift gate fix\n\nChange-Id: I6860a86a7dff5d0d3b598cdc16752f5dfc0e0e5d\nDepends-On: I10588e73a9da7fdd43677f9247c176811dd68c62\n'}, {'number': 4, 'created': '2019-12-02 16:08:19.000000000', 'files': ['cni_ds_init'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3c2d9b0948352f3d221057e9151360fce3f7e9c7', 'message': 'DNM: Testing OpenShift gate fix\n\nChange-Id: I6860a86a7dff5d0d3b598cdc16752f5dfc0e0e5d\nDepends-On: I10588e73a9da7fdd43677f9247c176811dd68c62\n'}]",0,696688,3c2d9b0948352f3d221057e9151360fce3f7e9c7,7,1,4,11600,,,0,"DNM: Testing OpenShift gate fix

Change-Id: I6860a86a7dff5d0d3b598cdc16752f5dfc0e0e5d
Depends-On: I10588e73a9da7fdd43677f9247c176811dd68c62
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/696688/4 && git format-patch -1 --stdout FETCH_HEAD,['cni_ds_init'],1,a1ed917d3909e3c1fc866c45e071ac7f7721dcc0,upgrade-openshift,# Chrzszcz brzmi w trzcinie w Szczebrzeszynie.,,1,0
openstack%2Ftripleo-heat-templates~master~Iaf19e1550bd7a5286b8512596efd84cf14c78f32,openstack/tripleo-heat-templates,master,Iaf19e1550bd7a5286b8512596efd84cf14c78f32,"Fix sed in run-os-net-config to only replace values, not keys",MERGED,2019-12-02 15:21:10.000000000,2019-12-03 13:24:22.000000000,2019-12-03 01:01:14.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-12-02 15:21:10.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/858cc6c54f690058ce28b0832870df875a7923e9', 'message': 'Fix sed in run-os-net-config to only replace values, not keys\n\nThe sed in run-os-net-config.sh replaces all instances of bridge_name\nbut it should only replace values, not keys.\n\nChange-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32\nCloses-bug: #1854780\n'}]",2,696898,858cc6c54f690058ce28b0832870df875a7923e9,14,5,1,13995,,,0,"Fix sed in run-os-net-config to only replace values, not keys

The sed in run-os-net-config.sh replaces all instances of bridge_name
but it should only replace values, not keys.

Change-Id: Iaf19e1550bd7a5286b8512596efd84cf14c78f32
Closes-bug: #1854780
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/696898/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,858cc6c54f690058ce28b0832870df875a7923e9,fix-sed," sed -i ""s/: \""bridge_name/: \""${bridge_name:-''}/"" /etc/os-net-config/config.json"," sed -i ""s/bridge_name/${bridge_name:-''}/"" /etc/os-net-config/config.json",1,1
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Frocky~I47defcb18ac6b6059e22cd294e9461b69f015471,openstack/openstack-ansible-openstack_hosts,stable/rocky,I47defcb18ac6b6059e22cd294e9461b69f015471,Fix host kernel modules when using linux-hwe on ubuntu,MERGED,2019-11-29 15:13:46.000000000,2019-12-03 13:13:22.000000000,2019-12-03 13:13:22.000000000,"[{'_account_id': 13095}, {'_account_id': 22018}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25591}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-29 15:13:46.000000000', 'files': ['vars/ubuntu-18.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5f12ac06929dcbf1b9ae3d64f7cb97189483df36', 'message': 'Fix host kernel modules when using linux-hwe on ubuntu\n\nCurrently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0\nIn newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into\nnf_conntrack.\n\nThis fixes setup hosts playbook on systems that use linux-hwe\n\nChange-Id: I47defcb18ac6b6059e22cd294e9461b69f015471\n(cherry picked from commit 78db2a57da6a2aea9345fee1cea3a9915c2e65e5)\n'}]",0,696720,5f12ac06929dcbf1b9ae3d64f7cb97189483df36,14,6,1,13095,,,0,"Fix host kernel modules when using linux-hwe on ubuntu

Currently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0
In newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into
nf_conntrack.

This fixes setup hosts playbook on systems that use linux-hwe

Change-Id: I47defcb18ac6b6059e22cd294e9461b69f015471
(cherry picked from commit 78db2a57da6a2aea9345fee1cea3a9915c2e65e5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/20/696720/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,5f12ac06929dcbf1b9ae3d64f7cb97189483df36,," #NOTE: 4.19 kernel merged nf_conntrack_ipv{4,6} into nf_conntrack - name: ""{{ (hostvars[inventory_hostname]['ansible_kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv4', '') }}"" - name: ""{{ (hostvars[inventory_hostname]['ansible_kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv6', '') }}""", - name: nf_conntrack_ipv4 - name: nf_conntrack_ipv6,3,2
openstack%2Fironic-python-agent~master~I4795417aa649be75ba7162a8cf30eacbb88c7b5e,openstack/ironic-python-agent,master,I4795417aa649be75ba7162a8cf30eacbb88c7b5e,Stop using six library,MERGED,2019-11-28 16:15:28.000000000,2019-12-03 13:10:39.000000000,2019-12-03 13:09:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-28 16:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/23d40bc5dfd755b9b81aad68e453f28d095c181e', 'message': ""Stop using six library\n\nSince we're dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: I4795417aa649be75ba7162a8cf30eacbb88c7b5e\n""}, {'number': 2, 'created': '2019-11-28 18:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d165d369b0fe69c1371cc999b7ff9760406312b6', 'message': ""Stop using six library\n\nSince we're dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: I4795417aa649be75ba7162a8cf30eacbb88c7b5e\n""}, {'number': 3, 'created': '2019-11-29 08:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/00a715fc6379dc662661c1da2b62f60ef4680cca', 'message': ""Stop using six library\n\nSince we're dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: I4795417aa649be75ba7162a8cf30eacbb88c7b5e\n""}, {'number': 4, 'created': '2019-11-29 09:18:26.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_numa_inspector.py', 'lower-constraints.txt', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/api/controllers/v1/base.py', 'ironic_python_agent/tests/unit/hardware_managers/test_cna.py', 'ironic_python_agent/extensions/base.py', 'requirements.txt', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ca7a46b113c64edd87bfa7b9f56fdb97a0c96dd6', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: I4795417aa649be75ba7162a8cf30eacbb88c7b5e\n""}]",2,696609,ca7a46b113c64edd87bfa7b9f56fdb97a0c96dd6,19,5,4,23851,,,0,"Stop using six library

Since we've dropped support for Python 2.7, it's time to look at
the bright future that Python 3.x will bring and stop forcing
compatibility with older versions.
This patch removes the six library from requirements, not
looking back.

Change-Id: I4795417aa649be75ba7162a8cf30eacbb88c7b5e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/09/696609/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_numa_inspector.py', 'lower-constraints.txt', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/api/controllers/v1/base.py', 'ironic_python_agent/tests/unit/hardware_managers/test_cna.py', 'ironic_python_agent/extensions/base.py', 'requirements.txt', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",14,23d40bc5dfd755b9b81aad68e453f28d095c181e,goodbye-six,,"from six.moves.urllib import parsedef normalize(string): """"""Return a normalized string. Take a urlencoded value from Ironic and urldecode it. :param string: a urlencoded string :returns: a normalized version of passed in string """""" return parse.unquote(string).lower().strip() ",60,89
openstack%2Fironic-inspector~master~Ib7b83210a02b727d94dfa15bde43e7fee2e51531,openstack/ironic-inspector,master,Ib7b83210a02b727d94dfa15bde43e7fee2e51531,Create a job with boot and networking managed by ironic,MERGED,2019-10-16 12:47:34.000000000,2019-12-03 13:10:32.000000000,2019-12-03 13:07:39.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-16 12:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3bc7deb9505ce9f9dafbd990bc3fd68bfc9a6062', 'message': 'Switch one of the job to ironic-managed boot\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\n'}, {'number': 2, 'created': '2019-10-16 13:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/88378b438c94b7fa2ae0ed3c1ccdd8a5e529a78a', 'message': '[WIP] Switch one of the job to ironic-managed boot\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\n'}, {'number': 3, 'created': '2019-10-17 10:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c07edea5fb054f62fc14ad51f7de1f5de3001e25', 'message': '[WIP] Switch one of the job to ironic-managed boot\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\n'}, {'number': 4, 'created': '2019-10-17 12:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/827a12e742bd2df0d7028260c50a9c4c06dccee9', 'message': '[WIP] Switch one of the job to ironic-managed boot\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\n'}, {'number': 5, 'created': '2019-10-17 16:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5c6981b97f6e78ebb508837fa278f8b868dd60a1', 'message': '[WIP] Switch one of the job to ironic-managed boot\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\n'}, {'number': 6, 'created': '2019-10-18 11:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b25f9101d0ef0e99acb85b3401acf4271db8812d', 'message': '[WIP] Switch one of the job to ironic-managed boot\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\n'}, {'number': 7, 'created': '2019-10-18 15:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/84740d9a41a4eb8ab88b260db646d194fda9159d', 'message': '[WIP] Switch one of the job to ironic-managed boot\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\n'}, {'number': 8, 'created': '2019-10-21 14:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/927b676631a7a5f5bcd09e0addef407c5756c025', 'message': ""[WIP] Create a job with boot and networking managed by ironic\n\nThe Python 3 job is reused for this (we're disabling Python 2\nsupport soon anyway).\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\n""}, {'number': 9, 'created': '2019-10-22 09:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/417710de35864e4aaa4d3ac69d2631f5c4c193df', 'message': ""[WIP] Create a job with boot and networking managed by ironic\n\nThe Python 3 job is reused for this (we're disabling Python 2\nsupport soon anyway).\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\n""}, {'number': 10, 'created': '2019-10-23 11:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7dab07876c26cdc607830b1c3e6bc6d7e038ceb8', 'message': ""[WIP] Create a job with boot and networking managed by ironic\n\nThe Python 3 job is reused for this (we're disabling Python 2\nsupport soon anyway).\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\nTask: #37254\n""}, {'number': 11, 'created': '2019-10-23 13:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/10be26bfcc7a1855d17f8046e2985b46ccb7f76d', 'message': ""[WIP] Create a job with boot and networking managed by ironic\n\nThe Python 3 job is reused for this (we're disabling Python 2\nsupport soon anyway).\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\nTask: #37254\n""}, {'number': 12, 'created': '2019-10-23 15:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0cdd77ee5fbf1d9bf398f805c49a1f8ad16849d1', 'message': ""[WIP] Create a job with boot and networking managed by ironic\n\nThe Python 3 job is reused for this (we're disabling Python 2\nsupport soon anyway).\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\nTask: #37254\n""}, {'number': 13, 'created': '2019-10-28 09:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1e1ec469ce6883206a561568eb82560f2e7a4bdc', 'message': ""Create a job with boot and networking managed by ironic\n\nThe Python 3 job is reused for this (we're disabling Python 2\nsupport soon anyway).\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\nTask: #37254\n""}, {'number': 14, 'created': '2019-10-28 09:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/93e41703650ab153ea9950e103d78b137f0b5ce8', 'message': ""Create a job with boot and networking managed by ironic\n\nThe devstack plugin is updated to skip configuring PXE environment\nif managed mode is requested, so that only ironic's PXE environment\nis usable.\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\nTask: #37254\n""}, {'number': 15, 'created': '2019-10-28 12:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/eb855b6125d6c24fe02ce917ea56ed58884e1c8b', 'message': ""Create a job with boot and networking managed by ironic\n\nThe devstack plugin is updated to skip configuring PXE environment\nif managed mode is requested, so that only ironic's PXE environment\nis usable.\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\nTask: #37254\n""}, {'number': 16, 'created': '2019-10-28 15:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/14240e76f1d8b388bb348a193c7f1009f2b9eba2', 'message': ""Create a job with boot and networking managed by ironic\n\nThe devstack plugin is updated to skip configuring PXE environment\nif managed mode is requested, so that only ironic's PXE environment\nis usable.\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nDepends-On: https://review.opendev.org/689524\nStory: #1528920\nTask: #37254\n""}, {'number': 17, 'created': '2019-11-05 11:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b3fb529118385e2e75d9fa5bc5801ce43c3ab320', 'message': ""Create a job with boot and networking managed by ironic\n\nThe devstack plugin is updated to skip configuring PXE environment\nif managed mode is requested, so that only ironic's PXE environment\nis usable.\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/#/c/692982/\nStory: #1528920\nTask: #37254\n""}, {'number': 18, 'created': '2019-11-05 12:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e1a0593dc07f0dca73542ba400698046145c936c', 'message': ""Create a job with boot and networking managed by ironic\n\nThe devstack plugin is updated to skip configuring PXE environment\nif managed mode is requested, so that only ironic's PXE environment\nis usable.\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\nTask: #37254\n""}, {'number': 19, 'created': '2019-11-05 15:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3b05591e5c759a7a84558f1308f06ab9998a52ae', 'message': ""Create a job with boot and networking managed by ironic\n\nThe devstack plugin is updated to skip configuring PXE environment\nif managed mode is requested, so that only ironic's PXE environment\nis usable.\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nDepends-On: https://review.opendev.org/688720\nStory: #1528920\nTask: #37254\n""}, {'number': 20, 'created': '2019-12-02 11:08:52.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/project.yaml', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d1ab0a6b71a856bd62545031a7ab6a4a627125c4', 'message': ""Create a job with boot and networking managed by ironic\n\nThe devstack plugin is updated to skip configuring PXE environment\nif managed mode is requested, so that only ironic's PXE environment\nis usable.\n\nChange-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531\nStory: #1528920\nTask: #37254\n""}]",5,688920,d1ab0a6b71a856bd62545031a7ab6a4a627125c4,74,6,20,10239,,,0,"Create a job with boot and networking managed by ironic

The devstack plugin is updated to skip configuring PXE environment
if managed mode is requested, so that only ironic's PXE environment
is usable.

Change-Id: Ib7b83210a02b727d94dfa15bde43e7fee2e51531
Story: #1528920
Task: #37254
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/20/688920/20 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'zuul.d/ironic-inspector-jobs.yaml']",2,3bc7deb9505ce9f9dafbd990bc3fd68bfc9a6062,story/1528920/enable, IRONIC_INSPECTOR_MANAGED_BOOT: True,,6,0
openstack%2Ftripleo-upgrade~master~I2dea3ce979c3b2d01dc15dd63635efdc1378c15d,openstack/tripleo-upgrade,master,I2dea3ce979c3b2d01dc15dd63635efdc1378c15d,Fix the hieradata_override template,MERGED,2019-12-02 10:16:34.000000000,2019-12-03 12:52:42.000000000,2019-12-03 12:52:42.000000000,"[{'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 10:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/72e36f7819996233f6c20c7276eeba22ebe69de2', 'message': 'Fix the hieradata_override template\n\nCurrently when we generate hieradata_override\nwith glance_backend: file, the file is not\nformed correctly.\n\nChange-Id: I2dea3ce979c3b2d01dc15dd63635efdc1378c15d\n'}, {'number': 2, 'created': '2019-12-02 16:14:57.000000000', 'files': ['tasks/upgrade/configure_uc_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/622170a5de852f9944f7f1f7d22233703df70f8a', 'message': 'Fix the hieradata_override template\n\nCurrently when we generate hieradata_override\nwith glance_backend: file, the file is not\nformed correctly.\n\nChange-Id: I2dea3ce979c3b2d01dc15dd63635efdc1378c15d\n'}]",0,696854,622170a5de852f9944f7f1f7d22233703df70f8a,13,5,2,20775,,,0,"Fix the hieradata_override template

Currently when we generate hieradata_override
with glance_backend: file, the file is not
formed correctly.

Change-Id: I2dea3ce979c3b2d01dc15dd63635efdc1378c15d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/54/696854/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/configure_uc_containers.yml'],1,72e36f7819996233f6c20c7276eeba22ebe69de2,," - name: Create the hieradata_override file with the basic layout copy: dest: ""{{ undercloud_hiera }}"" content: | parameter_defaults: UndercloudExtraConfig: glance_backend: 'file' # This means that hieradata_override is empty"," - name: Create undercloud hiera file lineinfile: state: present create: true path: ""{{ undercloud_hiera }}"" regexp: '^glance_backend' line: ""glance_backend: 'file'""",8,7
openstack%2Ftripleo-upgrade~stable%2Fstein~I08abf241ee742622593e5c841db127fcf78c3d13,openstack/tripleo-upgrade,stable/stein,I08abf241ee742622593e5c841db127fcf78c3d13,Do not remove rhos-release if running leapp unsubscribed.,MERGED,2019-11-27 07:10:10.000000000,2019-12-03 12:52:42.000000000,2019-12-03 12:52:42.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 07:10:10.000000000', 'files': ['tasks/upgrade/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1230de6bc1d01eb5cecfa5475d750cbdf91faec0', 'message': ""Do not remove rhos-release if running leapp unsubscribed.\n\nThe option leapp_unsubscribed allows us to run the Leapp\nupgrade without need of a subscription (relies on external\nworkarounds and hacks). As it uses rhos-release underneath\nto provide with the RHEL8 repos, we can't get rid of rhos-\nrelease as we were doing when the node was subscribed.\n\nChange-Id: I08abf241ee742622593e5c841db127fcf78c3d13\n(cherry picked from commit b66686c706f1beb93d07e7ae929dc844fa2948af)\n(cherry picked from commit f7f709db298ddd75636f5d10b33d4b6af3e5af4e)\n""}]",0,696237,1230de6bc1d01eb5cecfa5475d750cbdf91faec0,7,5,1,26343,,,0,"Do not remove rhos-release if running leapp unsubscribed.

The option leapp_unsubscribed allows us to run the Leapp
upgrade without need of a subscription (relies on external
workarounds and hacks). As it uses rhos-release underneath
to provide with the RHEL8 repos, we can't get rid of rhos-
release as we were doing when the node was subscribed.

Change-Id: I08abf241ee742622593e5c841db127fcf78c3d13
(cherry picked from commit b66686c706f1beb93d07e7ae929dc844fa2948af)
(cherry picked from commit f7f709db298ddd75636f5d10b33d4b6af3e5af4e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/37/696237/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/undercloud_os_upgrade.yaml'],1,1230de6bc1d01eb5cecfa5475d750cbdf91faec0,, - not leapp_unsubscribed|bool,,1,0
openstack%2Ftripleo-quickstart-extras~master~I80d06cb66bdc725b70ecb5ef938026a36e793dcf,openstack/tripleo-quickstart-extras,master,I80d06cb66bdc725b70ecb5ef938026a36e793dcf,Fix indentation for the rendered launcher-playbook,MERGED,2019-11-26 14:07:37.000000000,2019-12-03 12:52:15.000000000,2019-12-03 12:52:15.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 14:07:37.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b3a0b8258e20d93d938c57bc62906e4afbff00ed', 'message': 'Fix indentation for the rendered launcher-playbook\n\nFix badly formatted job vars placement, e.g.:\n\n      - job:\n          name: foo-dlrn-hash-tag\n          parent: foo\n          vars:\n            mirror_fqdn: {{ mirror_path }}\n            ready_releases_file: |\n              #!/bin/env bash\n              export STANDALONE_TARGET_HASH=""bar""\n\n                        registry_login_enabled: false\n\nChange-Id: I80d06cb66bdc725b70ecb5ef938026a36e793dcf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,696091,b3a0b8258e20d93d938c57bc62906e4afbff00ed,18,7,1,6926,,,0,"Fix indentation for the rendered launcher-playbook

Fix badly formatted job vars placement, e.g.:

      - job:
          name: foo-dlrn-hash-tag
          parent: foo
          vars:
            mirror_fqdn: {{ mirror_path }}
            ready_releases_file: |
              #!/bin/env bash
              export STANDALONE_TARGET_HASH=""bar""

                        registry_login_enabled: false

Change-Id: I80d06cb66bdc725b70ecb5ef938026a36e793dcf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/696091/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'],1,b3a0b8258e20d93d938c57bc62906e4afbff00ed,, {% endif -%}, {% endif %},1,1
openstack%2Ftripleo-ansible~master~I4ccb230268b687fc546205af5c73c4a6fc110eae,openstack/tripleo-ansible,master,I4ccb230268b687fc546205af5c73c4a6fc110eae,Ensure plugin path is correct,MERGED,2019-10-29 16:34:36.000000000,2019-12-03 12:42:08.000000000,2019-10-30 00:05:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-29 16:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d6359bf8506b1983475cf11df10fdd8e93c00ee', 'message': 'Ensure plugin path is correct\n\nUpdates the molecule plugin path for the ovs-dpdk and package\nroles. This is done to ensure the role works in all molecule\nbased test environments when the test env rc file is sourced.\n\nChange-Id: I4ccb230268b687fc546205af5c73c4a6fc110eae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-10-29 16:50:01.000000000', 'files': ['tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3186edf00087cf94787cc1e6613d349811a71b52', 'message': 'Ensure plugin path is correct\n\nUpdates the molecule plugin path for the ovs-dpdk and package\nroles. This is done to ensure the role works in all molecule\nbased test environments when the test env rc file is sourced.\n\nChange-Id: I4ccb230268b687fc546205af5c73c4a6fc110eae\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,691912,3186edf00087cf94787cc1e6613d349811a71b52,19,5,2,7353,,,0,"Ensure plugin path is correct

Updates the molecule plugin path for the ovs-dpdk and package
roles. This is done to ensure the role works in all molecule
based test environments when the test env rc file is sourced.

Change-Id: I4ccb230268b687fc546205af5c73c4a6fc110eae
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/691912/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/molecule.yml']",6,9d6359bf8506b1983475cf11df10fdd8e93c00ee,," ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH:-/usr/share/ansible/roles}:${HOME}/zuul-jobs/roles"" ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" ANSIBLE_FILTER_PLUGINS: ""${ANSIBLE_FILTER_PLUGINS:-/usr/share/ansible/plugins/filter}"" ANSIBLE_ACTION_PLUGINS: ""${ANSIBLE_ACTION_PLUGINS:-/usr/share/ansible/plugins/action}""",,22,0
openstack%2Fvirtualbmc~master~Iff319bfedc2c20c139419bb625aa5de83de93538,openstack/virtualbmc,master,Iff319bfedc2c20c139419bb625aa5de83de93538,Stop using six library,MERGED,2019-12-02 16:49:58.000000000,2019-12-03 12:41:20.000000000,2019-12-03 12:39:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 16:49:58.000000000', 'files': ['virtualbmc/tests/unit/cmd/test_vbmc.py', 'virtualbmc/tests/unit/test_manager.py', 'virtualbmc/manager.py', 'requirements.txt', 'virtualbmc/tests/unit/test_config.py', 'lower-constraints.txt', 'virtualbmc/tests/unit/cmd/test_vbmcd.py', 'virtualbmc/config.py'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/26b7ff606372ef35279d8dc4926d5a4001e367f7', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: Iff319bfedc2c20c139419bb625aa5de83de93538\n""}]",0,696924,26b7ff606372ef35279d8dc4926d5a4001e367f7,8,3,1,23851,,,0,"Stop using six library

Since we've dropped support for Python 2.7, it's time to look at
the bright future that Python 3.x will bring and stop forcing
compatibility with older versions.
This patch removes the six library from requirements, not
looking back.

Change-Id: Iff319bfedc2c20c139419bb625aa5de83de93538
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/24/696924/1 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbmc/tests/unit/cmd/test_vbmc.py', 'virtualbmc/tests/unit/test_manager.py', 'virtualbmc/manager.py', 'requirements.txt', 'virtualbmc/tests/unit/test_config.py', 'lower-constraints.txt', 'virtualbmc/tests/unit/cmd/test_vbmcd.py', 'virtualbmc/config.py']",8,26b7ff606372ef35279d8dc4926d5a4001e367f7,goodbye-six,import configparser,from six.moves import configparser ,16,21
openstack%2Fcharm-glance-simplestreams-sync~master~I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2,openstack/charm-glance-simplestreams-sync,master,I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2,Add custom_properties config option,MERGED,2018-07-24 08:46:12.000000000,2019-12-03 12:38:20.000000000,2019-12-03 12:38:20.000000000,"[{'_account_id': 10068}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 29444}, {'_account_id': 30561}]","[{'number': 1, 'created': '2018-07-24 08:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/fa552b9a8a9fd9bfc373872c210ca22a77c3ecd2', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}, {'number': 2, 'created': '2019-07-18 15:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/5904c75eab65edf7720ee04fef505c0c71fd912e', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}, {'number': 3, 'created': '2019-07-18 21:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/2b7189a25abeb25308350fdcc71951e66ee8b264', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}, {'number': 4, 'created': '2019-08-17 03:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/ef97cd5ba0261fdbf079e4df98fc0205c02a588c', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}, {'number': 5, 'created': '2019-09-18 00:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/1b4dc8df501ec1ae62e4bdd117c045b3ebfb9059', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}, {'number': 6, 'created': '2019-10-18 20:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/1d62c158b08c871952a23a640f941f211783818d', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}, {'number': 7, 'created': '2019-11-15 21:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/028c4286f7835d31073e10e5038524f667df484a', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}, {'number': 8, 'created': '2019-12-02 18:35:32.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_hooks.py', 'config.yaml', 'files/glance-simplestreams-sync.py', 'templates/mirrors.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/0bf193dc854a4b563d8782a110f32b3be248db7c', 'message': 'Add custom_properties config option\n\nThis change add ""custom_properties"" configuration option which\nallows custom image properties to be added to glance.\n\nChange-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2\nCloses-Bug: #1783125\n'}]",8,585178,0bf193dc854a4b563d8782a110f32b3be248db7c,54,9,8,28744,,,0,"Add custom_properties config option

This change add ""custom_properties"" configuration option which
allows custom image properties to be added to glance.

Change-Id: I32d97c9f8026ac1aa16a2bc6cd134f26860c59b2
Closes-Bug: #1783125
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/78/585178/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'scripts/glance-simplestreams-sync.py', 'config.yaml', 'templates/mirrors.yaml']",4,fa552b9a8a9fd9bfc373872c210ca22a77c3ecd2,bug/1783125,{%- if custom_properties %} custom_properties: {{ custom_properties }} {% endif %},,43,1
openstack%2Fopenstack-ansible-os_murano~master~Iaf81d0c02738a65f1f1d54e77aabdb7b419c2360,openstack/openstack-ansible-os_murano,master,Iaf81d0c02738a65f1f1d54e77aabdb7b419c2360,Change upper constraints url,MERGED,2019-11-14 15:07:45.000000000,2019-12-03 12:31:28.000000000,2019-12-03 12:29:33.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 15:07:45.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/fa9f24a0f87025c9cf38d57dfa9f5185032daa1c', 'message': 'Change upper constraints url\n\nTo be consistent with other projects, we are changing upper constraints\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Iaf81d0c02738a65f1f1d54e77aabdb7b419c2360\n'}]",0,694324,fa9f24a0f87025c9cf38d57dfa9f5185032daa1c,20,5,1,28619,,,0,"Change upper constraints url

To be consistent with other projects, we are changing upper constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Iaf81d0c02738a65f1f1d54e77aabdb7b419c2360
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/24/694324/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,fa9f24a0f87025c9cf38d57dfa9f5185032daa1c,osa/opendev,"murano_upper_constraints_url: ""{{ requirements_git_url | default('https://releases.openstack.org/constraints/upper/' ~ requirements_git_install_branch | default('master')) }}""","murano_upper_constraints_url: ""{{ requirements_git_url | default('https://opendev.org/openstack/requirements/raw/' ~ requirements_git_install_branch | default('master') ~ '/upper-constraints.txt') }}""",1,1
openstack%2Fneutron~master~I34003b3c2f0ac23185d036c9e47dc1c8662d6ce7,openstack/neutron,master,I34003b3c2f0ac23185d036c9e47dc1c8662d6ce7,Add upgrade check for NIC Switch agent,MERGED,2019-11-18 12:32:48.000000000,2019-12-03 12:08:20.000000000,2019-12-03 12:06:09.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-11-18 12:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8168f8209171e5169be0716a05ddfe13aeda015e', 'message': 'Add upgrade check for NIC Switch agent\n\nThis commit adds an upgrade check for NIC switch agent\nalerting operators to ensure relevant hosts have kernel > 3.13.\n\nThis check is introduced due to recent cleanup in NIC switch\nagent code.\n\nAs of U release, Supported CentOS major was updated to 8 so it\nis not expected that any deployment will have hosts running\nkernel <= 3.13 since, however this is added as an extra precaution.\n\nThis check should be removed in 1-2 cycles. A TODO was added to\nreflect that.\n\nChange-Id: I34003b3c2f0ac23185d036c9e47dc1c8662d6ce7\nRelated-bug: #1841067\n'}, {'number': 2, 'created': '2019-11-18 18:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46fbaa0e54ec8515922f219e022a4957963c6f3c', 'message': 'Add upgrade check for NIC Switch agent\n\nThis commit adds an upgrade check for NIC switch agent\nalerting operators to ensure relevant hosts have kernel >= 3.13.\n\nThis check is introduced due to recent cleanup in NIC switch\nagent code.\n\nAs of U release, Supported CentOS major was updated to 8 so it\nis not expected that any deployment will have hosts running\nkernel < 3.13. This check is added as an extra precaution.\n\nThis check should be removed in 1-2 cycles. A TODO was added to\nreflect that.\n\nChange-Id: I34003b3c2f0ac23185d036c9e47dc1c8662d6ce7\nRelated-bug: #1841067\n'}, {'number': 3, 'created': '2019-11-21 16:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5606375da8b5e03ccc663879c4448ad0019b498f', 'message': 'Add upgrade check for NIC Switch agent\n\nThis commit adds an upgrade check for NIC switch agent\nalerting operators to ensure relevant hosts have kernel >= 3.13.\n\nThis check is introduced due to recent cleanup in NIC switch\nagent code.\n\nAs of U release, Supported CentOS major was updated to 8 so it\nis not expected that any deployment will have hosts running\nkernel < 3.13. This check is added as an extra precaution.\n\nThis check should be removed in 1-2 cycles. A TODO was added to\nreflect that.\n\nChange-Id: I34003b3c2f0ac23185d036c9e47dc1c8662d6ce7\nRelated-bug: #1841067\n'}, {'number': 4, 'created': '2019-12-01 10:42:16.000000000', 'files': ['neutron/cmd/upgrade_checks/checks.py', 'doc/source/cli/neutron-status.rst', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8b5afa41ec8ccda1ace6ebb85bf94c8a9ea829a', 'message': 'Add upgrade check for NIC Switch agent\n\nThis commit adds an upgrade check for NIC switch agent\nalerting operators to ensure relevant hosts have kernel >= 3.13.\n\nThis check is introduced due to recent cleanup in NIC switch\nagent code.\n\nAs of U release, Supported CentOS major was updated to 8 so it\nis not expected that any deployment will have hosts running\nkernel < 3.13. This check is added as an extra precaution.\n\nThis check should be removed in 1-2 cycles. A TODO was added to\nreflect that.\n\nChange-Id: I34003b3c2f0ac23185d036c9e47dc1c8662d6ce7\nRelated-bug: #1841067\n'}]",8,694757,a8b5afa41ec8ccda1ace6ebb85bf94c8a9ea829a,39,8,4,28714,,,0,"Add upgrade check for NIC Switch agent

This commit adds an upgrade check for NIC switch agent
alerting operators to ensure relevant hosts have kernel >= 3.13.

This check is introduced due to recent cleanup in NIC switch
agent code.

As of U release, Supported CentOS major was updated to 8 so it
is not expected that any deployment will have hosts running
kernel < 3.13. This check is added as an extra precaution.

This check should be removed in 1-2 cycles. A TODO was added to
reflect that.

Change-Id: I34003b3c2f0ac23185d036c9e47dc1c8662d6ce7
Related-bug: #1841067
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/694757/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/upgrade_checks/checks.py', 'doc/source/cli/neutron-status.rst', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py']",3,8168f8209171e5169be0716a05ddfe13aeda015e,bug/1841067," def test_nic_switch_agent_min_kernel_check_no_nic_switch_agents(self): with mock.patch.object(checks, ""get_nic_switch_agents"", return_value=[]): result = checks.CoreChecks.nic_switch_agent_min_kernel_check( mock.Mock()) self.assertEqual(Code.SUCCESS, result.code) def test_nic_switch_agent_min_kernel_check(self): agents = [ {'host': 'Host A'}, {'host': 'Host B'} ] with mock.patch.object(checks, ""get_nic_switch_agents"", return_value=agents): result = checks.CoreChecks.nic_switch_agent_min_kernel_check( mock.Mock()) self.assertEqual(Code.WARNING, result.code) self.assertIn('Host A', result.details) self.assertIn('Host B', result.details)",,66,3
openstack%2Fneutron-lib~master~I72addb21b7515d7120768c91e02660258959373e,openstack/neutron-lib,master,I72addb21b7515d7120768c91e02660258959373e,"add ""stateful-security-group"" api extension",MERGED,2019-11-26 11:55:44.000000000,2019-12-03 12:01:41.000000000,2019-12-03 12:00:22.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 24919}]","[{'number': 1, 'created': '2019-11-26 11:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/50da432695b6586730c76896851be68e7469c47b', 'message': 'Support for stateless security groups\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\nCloses-Bug: 1753466\n'}, {'number': 2, 'created': '2019-11-26 13:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/eb00990ad4b8822646f5a2c6a4b4c71cc93c5d65', 'message': 'Support for stateless security groups\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\nPartially Closes-Bug: 1753466\n'}, {'number': 3, 'created': '2019-11-26 13:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/92fc3f85d23e0906a65189d41e47e487ce71bd32', 'message': 'add security-group-stateful api extension\n\nThis patch adds security-group-stateful API extension as\na neutron-lib API definition.\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\nPartially Closes-Bug: 1753466\n'}, {'number': 4, 'created': '2019-11-26 14:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b16ad1de9baddcea7de44fe32dbfb1aa5734febc', 'message': 'add security-group-stateful api extension\n\nThis patch adds security-group-stateful API extension as\na neutron-lib API definition.\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\nPartially Closes-Bug: 1753466\n'}, {'number': 5, 'created': '2019-11-26 14:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8e4e9806a5fb30d1400437d2595836478eda9c96', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\nPartially Closes-Bug: 1753466\n'}, {'number': 6, 'created': '2019-11-26 17:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9caf2fcf39ff2623098a62131b4e36b3471159c4', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\nPartially Closes-Bug: 1753466\n'}, {'number': 7, 'created': '2019-11-27 09:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b7cd84f1f13a8a21c398131661f279cbf20a44e9', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nNeeded-By: https://review.opendev.org/572767\n\nPartial-Bug: #1753466\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\n'}, {'number': 8, 'created': '2019-11-27 13:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/18ebb61597b2b820fbf29ac3df704d6aa370ffd6', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nNeeded-By: https://review.opendev.org/572767\n\nPartial-Bug: #1753466\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\n'}, {'number': 9, 'created': '2019-11-27 16:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/193056044261534b079b0f5e6d0a14421518200f', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nNeeded-By: https://review.opendev.org/572767\n\nPartial-Bug: #1753466\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\n'}, {'number': 10, 'created': '2019-11-27 18:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8d6cb1025bb8754689b3d6df54f24377c340f557', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nNeeded-By: https://review.opendev.org/572767\n\nPartial-Bug: #1753466\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\n'}, {'number': 11, 'created': '2019-11-27 19:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2e4cb01c69495d4a9ea24abeb15bb0c3ffcb63ef', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nNeeded-By: https://review.opendev.org/572767\n\nPartial-Bug: #1753466\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\n'}, {'number': 12, 'created': '2019-11-28 13:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bbe49f6c4a91132a6c09388df9eaa4f41cde9636', 'message': 'add stateful-security-group api extension\n\nThis patch adds stateful-security-group API extension as\na neutron-lib API definition.\n\nNeeded-By: https://review.opendev.org/572767\n\nPartial-Bug: #1753466\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\n'}, {'number': 13, 'created': '2019-11-29 10:01:37.000000000', 'files': ['api-ref/source/v2/samples/security-groups/security-group-update-request.json', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/stateful_security_group.py', 'releasenotes/notes/stateful-security-group-a1ece5472f029dc1.yaml', 'api-ref/source/v2/samples/security-groups/security-group-show-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/security-groups/security-group-update-response.json', 'api-ref/source/v2/samples/security-groups/security-group-create-request.json', 'api-ref/source/v2/security-groups.inc', 'api-ref/source/v2/samples/security-groups/security-groups-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-create-response.json', 'neutron_lib/tests/unit/api/definitions/test_stateful_security_group.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f470973446e8ef9b25f5a038c4c6f1fbd854f7a2', 'message': 'add ""stateful-security-group"" api extension\n\ncommit adds ""stateful-security-group"" API extension to\nneutron-lib for implementing stateless security groups.\n\nNeeded-By: https://review.opendev.org/572767\n\nPartial-Bug: #1753466\n\nChange-Id: I72addb21b7515d7120768c91e02660258959373e\n'}]",12,696070,f470973446e8ef9b25f5a038c4c6f1fbd854f7a2,39,5,13,24919,,,0,"add ""stateful-security-group"" api extension

commit adds ""stateful-security-group"" API extension to
neutron-lib for implementing stateless security groups.

Needed-By: https://review.opendev.org/572767

Partial-Bug: #1753466

Change-Id: I72addb21b7515d7120768c91e02660258959373e
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/70/696070/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/security_group_stateful.py'],1,50da432695b6586730c76896851be68e7469c47b,bug/1753466,"# Copyright 2018 NOKIA # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import converters # The alias of the extension. ALIAS = 'security-group-stateful' IS_SHIM_EXTENSION = False IS_STANDARD_ATTR_EXTENSION = False # The name of the extension. NAME = 'Security group stateful' # The description of the extension. DESCRIPTION = ""Indicates if the security group is stateful or not"" # A timestamp of when the extension was introduced. UPDATED_TIMESTAMP = ""2019-11-26T09:00:00-00:00"" # The resource attribute map for the extension. RESOURCE_ATTRIBUTE_MAP = { 'security_groups': { 'stateful': {'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': True, 'convert_to': converters.convert_to_boolean} }} # The subresource attribute map for the extension. SUB_RESOURCE_ATTRIBUTE_MAP = { } # The action map. ACTION_MAP = { } # The action status. ACTION_STATUS = { } # The list of required extensions. REQUIRED_EXTENSIONS = [ ] # The list of optional extensions. OPTIONAL_EXTENSIONS = [ ] ",,61,0
openstack%2Fopenstack-ansible~stable%2Ftrain~I4cb832215247b0dd8427c1e85c39b519f78c8b5c,openstack/openstack-ansible,stable/train,I4cb832215247b0dd8427c1e85c39b519f78c8b5c,Add ceph-ansible filter plugins path to openstack-ansible.rc,MERGED,2019-11-22 14:57:15.000000000,2019-12-03 11:53:53.000000000,2019-12-03 11:52:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-22 14:57:15.000000000', 'files': ['scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/39dd066d50fa756149f7ee35d6211ea8c576f55d', 'message': 'Add ceph-ansible filter plugins path to openstack-ansible.rc\n\nEnsure that filters shipped with ceph ansible can be found when\nrunning the openstack-ansible wrapper.\n\nChange-Id: I4cb832215247b0dd8427c1e85c39b519f78c8b5c\n(cherry picked from commit b8cd59c5634a2f733d9724dc1e45bef0222b9778)\n'}]",0,695703,39dd066d50fa756149f7ee35d6211ea8c576f55d,17,4,1,25023,,,0,"Add ceph-ansible filter plugins path to openstack-ansible.rc

Ensure that filters shipped with ceph ansible can be found when
running the openstack-ansible wrapper.

Change-Id: I4cb832215247b0dd8427c1e85c39b519f78c8b5c
(cherry picked from commit b8cd59c5634a2f733d9724dc1e45bef0222b9778)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/695703/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,39dd066d50fa756149f7ee35d6211ea8c576f55d,osa-train,"export ANSIBLE_FILTER_PLUGINS=""${ANSIBLE_FILTER_PLUGINS:-/etc/ansible/roles/plugins/filter:/etc/ansible/roles/ceph-ansible/plugins/filter}""","export ANSIBLE_FILTER_PLUGINS=""${ANSIBLE_FILTER_PLUGINS:-/etc/ansible/roles/plugins/filter}""",1,1
openstack%2Fpython-mistralclient~master~I4b9c997f2e9969b050ac73af1d13e2eda7a29f18,openstack/python-mistralclient,master,I4b9c997f2e9969b050ac73af1d13e2eda7a29f18,Roots only option for executions-list,MERGED,2019-11-18 09:55:46.000000000,2019-12-03 11:33:27.000000000,2019-12-03 11:31:51.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-11-18 09:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/0c4979aa0575c9e94cb7191b7c97e77d60740146', 'message': 'Roots only option for executions-list\n\n* added an option to execution-list to return\n  root workflow executions only (--rootsonly).\n\nChange-Id: I4b9c997f2e9969b050ac73af1d13e2eda7a29f18\nCloses-Bug: #1796627\nDepends-On: I78fbf993519beb63ee9aef7058bdcb40f0a12ec3\n'}, {'number': 2, 'created': '2019-11-18 14:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/88f25d7c0a04018ad53256af15a2a1f9448dcaa0', 'message': 'Roots only option for executions-list\n\n* added an option to execution-list to return\n  root workflow executions only (--rootsonly).\n\nChange-Id: I4b9c997f2e9969b050ac73af1d13e2eda7a29f18\nCloses-Bug: #1796627\nDepends-On: I78fbf993519beb63ee9aef7058bdcb40f0a12ec3\n'}, {'number': 3, 'created': '2019-11-19 12:00:30.000000000', 'files': ['mistralclient/commands/v2/executions.py', 'mistralclient/tests/unit/v2/test_cli_executions.py', 'mistralclient/tests/functional/cli/v2/test_cli_v2.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/7cea381bfe6a5bd7213d2cd990ffbc34a8ba2273', 'message': 'Roots only option for executions-list\n\n* added an option to execution-list to return\n  root workflow executions only (--rootsonly).\n\nChange-Id: I4b9c997f2e9969b050ac73af1d13e2eda7a29f18\nCloses-Bug: #1796627\nDepends-On: I78fbf993519beb63ee9aef7058bdcb40f0a12ec3\n'}]",0,694737,7cea381bfe6a5bd7213d2cd990ffbc34a8ba2273,17,7,3,30755,,,0,"Roots only option for executions-list

* added an option to execution-list to return
  root workflow executions only (--rootsonly).

Change-Id: I4b9c997f2e9969b050ac73af1d13e2eda7a29f18
Closes-Bug: #1796627
Depends-On: I78fbf993519beb63ee9aef7058bdcb40f0a12ec3
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/37/694737/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/commands/v2/executions.py', 'mistralclient/tests/functional/cli/v2/test_cli_v2.py']",2,0c4979aa0575c9e94cb7191b7c97e77d60740146,bug/1796627," def test_executions_list_with_rootsonly(self): wrapping_wf = self.workflow_create(self.wf_wrapping_wf) wrapping_wf_ex = self.execution_create(wrapping_wf[-1]['Name']) wrapping_wf_ex_id = self.get_field_value(wrapping_wf_ex, 'ID') wf_execs = self.mistral_cli( True, 'execution-list', params=""--rootsonly"" ) self.assertEqual(1, len(wf_execs)) wf_exec = wf_execs[0] self.assertEqual(wrapping_wf_ex_id, wf_exec['Task Execution ID']) ",,24,0
openstack%2Ftripleo-heat-templates~master~I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d,openstack/tripleo-heat-templates,master,I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d,Use yaml.SafeLoader instead of yaml.FullLoader,MERGED,2019-12-02 14:15:24.000000000,2019-12-03 11:22:49.000000000,2019-12-03 10:13:37.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 14:15:24.000000000', 'files': ['tools/yaml-nic-config-2-script.py', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ade6c3b37e5716a88db6b189a4e8809cd9206218', 'message': ""Use yaml.SafeLoader instead of yaml.FullLoader\n\nBecause we don't need to use yaml.FullLoader, use yaml.SafeLoder\nso that we can keep compability with PyYAML < 5.1 .\n\nChange-Id: I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d\n""}]",0,696888,ade6c3b37e5716a88db6b189a4e8809cd9206218,10,4,1,9816,,,0,"Use yaml.SafeLoader instead of yaml.FullLoader

Because we don't need to use yaml.FullLoader, use yaml.SafeLoder
so that we can keep compability with PyYAML < 5.1 .

Change-Id: I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/696888/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/yaml-nic-config-2-script.py', 'tools/yaml-validate.py']",2,ade6c3b37e5716a88db6b189a4e8809cd9206218,pyyaml-compat," tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) roles_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) ceph_storage_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) cmpt_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) newtmp = yaml.load(newfile.read(), Loader=yaml.SafeLoader) tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) data_file = yaml.load(data_file.read(), Loader=yaml.SafeLoader) base_file = yaml.load(base_file.read(), Loader=yaml.SafeLoader)"," tpl = yaml.load(f.read(), Loader=yaml.FullLoader) tpl = yaml.load(f.read(), Loader=yaml.FullLoader) tpl = yaml.load(f.read(), Loader=yaml.FullLoader) roles_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) ceph_storage_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) cmpt_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) newtmp = yaml.load(newfile.read(), Loader=yaml.FullLoader) tpl = yaml.load(f.read(), Loader=yaml.FullLoader) data_file = yaml.load(data_file.read(), Loader=yaml.FullLoader) base_file = yaml.load(base_file.read(), Loader=yaml.FullLoader)",15,15
openstack%2Fnetworking-ovn~stable%2Ftrain~Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559,openstack/networking-ovn,stable/train,Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559,Initialize TLS prior to retrieving OVSDB schema,MERGED,2019-11-13 08:13:42.000000000,2019-12-03 11:17:14.000000000,2019-12-03 11:16:01.000000000,"[{'_account_id': 1131}, {'_account_id': 13686}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 08:13:42.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0ef9461c5b7b2a4220ea5c9deadf3d5b4515a8fd', 'message': 'Initialize TLS prior to retrieving OVSDB schema\n\nChange-Id: Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559\nCloses-Bug: #1847032\n(cherry picked from commit e349bfb14aeaa884e3d26dce7e09ffb96cc0ae73)\n'}]",0,694006,0ef9461c5b7b2a4220ea5c9deadf3d5b4515a8fd,8,4,1,24791,,,0,"Initialize TLS prior to retrieving OVSDB schema

Change-Id: Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559
Closes-Bug: #1847032
(cherry picked from commit e349bfb14aeaa884e3d26dce7e09ffb96cc0ae73)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/06/694006/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,0ef9461c5b7b2a4220ea5c9deadf3d5b4515a8fd,bug/1847032-stable/train, ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA),,1,0
openstack%2Fcharm-ceph-osd~master~Ic15a00ec773b80becdac8cd24bbfbb5490071d75,openstack/charm-ceph-osd,master,Ic15a00ec773b80becdac8cd24bbfbb5490071d75,Use realpath of devices in prepare_disks_and_activate,ABANDONED,2019-06-14 10:08:53.000000000,2019-12-03 11:16:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 10:08:53.000000000', 'files': ['hooks/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/b2448e7f6da63f6afe010e4bb55ebcf02c5232bf', 'message': 'Use realpath of devices in prepare_disks_and_activate\n\nChange-Id: Ic15a00ec773b80becdac8cd24bbfbb5490071d75\nCloses-Bug: #1832830\nSigned-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>\n'}]",0,665347,b2448e7f6da63f6afe010e4bb55ebcf02c5232bf,4,2,1,23650,,,0,"Use realpath of devices in prepare_disks_and_activate

Change-Id: Ic15a00ec773b80becdac8cd24bbfbb5490071d75
Closes-Bug: #1832830
Signed-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/47/665347/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,b2448e7f6da63f6afe010e4bb55ebcf02c5232bf,bug/1832830, # set ods-devices real scsi path devices = [os.path.realpath(dev) for dev in devices],,2,0
openstack%2Fcharm-ceph-osd~master~Ibb82bfd17c2113322c690d3392b61383ec9e25be,openstack/charm-ceph-osd,master,Ibb82bfd17c2113322c690d3392b61383ec9e25be,Use realpath of osd_journal_devices in list_disks action,ABANDONED,2019-06-06 10:23:43.000000000,2019-12-03 11:16:17.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:23:43.000000000', 'files': ['actions/list_disks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/5b04960a257bd66db18d52f174000640c020b830', 'message': 'Use realpath of osd_journal_devices in list_disks action\n\nChange-Id: Ibb82bfd17c2113322c690d3392b61383ec9e25be\nCloses-Bug: #1831871\nSigned-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>\n'}]",0,663587,5b04960a257bd66db18d52f174000640c020b830,4,2,1,23650,,,0,"Use realpath of osd_journal_devices in list_disks action

Change-Id: Ibb82bfd17c2113322c690d3392b61383ec9e25be
Closes-Bug: #1831871
Signed-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/87/663587/1 && git format-patch -1 --stdout FETCH_HEAD,['actions/list_disks.py'],1,5b04960a257bd66db18d52f174000640c020b830,bug/1831871,from os.path import realpath for dev in list(set(ceph.utils.unmounted_disks()) - set(realpath(d) for d in set(osd_journal))):, for dev in list(set(ceph.utils.unmounted_disks()) - set(osd_journal)):,3,1
openstack%2Fcharm-ceph-osd~master~I022ee079fe75d0a113ac2a6dd25f84a9d8fe4e55,openstack/charm-ceph-osd,master,I022ee079fe75d0a113ac2a6dd25f84a9d8fe4e55,Provide the real path of device for ceph to prepare,ABANDONED,2018-08-31 17:13:06.000000000,2019-12-03 11:15:51.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-31 17:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/f16fd3fdfe195871e3212d5b67ad30b58d1ad5ec', 'message': 'Provide the real path of device for ceph to prepare\n\nThis is a followup patch for the previous commits that are\naddressing issues with bcache based configuration.\n\nProviding dname path for ceph-disk is unsafe, the prepare command\nuses gdisk which breaks the dname symlinks.\n\nChange-Id: I022ee079fe75d0a113ac2a6dd25f84a9d8fe4e55\nCloses-Bug: 1790186\nSigned-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>\n'}, {'number': 2, 'created': '2018-08-31 17:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8483240b5f5e1b65b2f80a42143a1382d4c97fc8', 'message': 'Provide the real path of device for ceph to prepare\n\nThis is a followup patch for the previous commits that are\naddressing issues with bcache based configuration.\n\nProviding dname path for ceph-disk is unsafe, the prepare command\nuses gdisk which breaks the dname symlinks.\n\nChange-Id: I022ee079fe75d0a113ac2a6dd25f84a9d8fe4e55\nCloses-Bug: 1790186\nSigned-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>\n'}, {'number': 3, 'created': '2018-08-31 17:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/c938434d955d1bb6a15a023f785304bd95616dba', 'message': 'Provide the real path of device for ceph to prepare\n\nThis is a followup patch for the previous commits that are\naddressing issues with bcache based configuration.\n\nProviding dname path for ceph-disk is unsafe, the prepare command\nuses gdisk which breaks the dname symlinks.\n\nChange-Id: I022ee079fe75d0a113ac2a6dd25f84a9d8fe4e55\nCloses-Bug: 1790186\nSigned-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>\n'}, {'number': 4, 'created': '2018-09-10 14:27:21.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e60b021d6650af176470e799267ef9b7dd462492', 'message': 'Provide the real path of device for ceph to prepare\n\nThis is a followup patch for the previous commits that are\naddressing issues with bcache based configuration.\n\nProviding dname path for ceph-disk is unsafe, the prepare command\nuses gdisk which breaks the dname symlinks.\n\nChange-Id: I022ee079fe75d0a113ac2a6dd25f84a9d8fe4e55\nCloses-Bug: 1790186\nSigned-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>\n'}]",1,599033,e60b021d6650af176470e799267ef9b7dd462492,12,3,4,23650,,,0,"Provide the real path of device for ceph to prepare

This is a followup patch for the previous commits that are
addressing issues with bcache based configuration.

Providing dname path for ceph-disk is unsafe, the prepare command
uses gdisk which breaks the dname symlinks.

Change-Id: I022ee079fe75d0a113ac2a6dd25f84a9d8fe4e55
Closes-Bug: 1790186
Signed-off-by: Gabor Meszaros <gabor.meszaros@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/33/599033/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,f16fd3fdfe195871e3212d5b67ad30b58d1ad5ec,bug/1790186," cmd = _ceph_disk(cmd = _ceph_disk(os.path.realpath(dev),"," cmd = _ceph_disk(dev,",1,1
openstack%2Fopenstack-ansible-os_octavia~master~I55342afadea29a1a07fe50f30e0371b3367c3d7a,openstack/openstack-ansible-os_octavia,master,I55342afadea29a1a07fe50f30e0371b3367c3d7a,iptables save fix for centos 7,MERGED,2019-07-09 13:23:21.000000000,2019-12-03 11:13:41.000000000,2019-08-13 15:31:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-09 13:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8b5ce75217d5c060ab2725e3f8aa5f0c7ae27814', 'message': 'iptables save fix for centos 7\n\nCentos 7 use systemd, we cannot use service save iptables anymore.\niptables can be stopped and disabled so we just save rules in\n/etc/sysconfig/iptables with iptables-save\n\nChange-Id: I55342afadea29a1a07fe50f30e0371b3367c3d7a\nCloses-Bug: 1831175\n'}, {'number': 2, 'created': '2019-08-07 10:04:44.000000000', 'files': ['tasks/octavia_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7b421516799722490ddffed9ce7e9179dd5fe2cc', 'message': 'iptables save fix for centos 7\n\nCentos 7 use systemd, we cannot use service save iptables anymore.\niptables can be stopped and disabled so we just save rules in\n/etc/sysconfig/iptables with iptables-save\n\nChange-Id: I55342afadea29a1a07fe50f30e0371b3367c3d7a\nCloses-Bug: 1831175\n'}]",1,669870,7b421516799722490ddffed9ce7e9179dd5fe2cc,11,3,2,23182,,,0,"iptables save fix for centos 7

Centos 7 use systemd, we cannot use service save iptables anymore.
iptables can be stopped and disabled so we just save rules in
/etc/sysconfig/iptables with iptables-save

Change-Id: I55342afadea29a1a07fe50f30e0371b3367c3d7a
Closes-Bug: 1831175
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/70/669870/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_post_install.yml'],1,8b5ce75217d5c060ab2725e3f8aa5f0c7ae27814,bug/1831175," - name: configure iptables when: octavia_ip_tables_fw|bool block: # iptables module doesn't see empty string as a null value so this is the only # way to get a configurable rule definition in right now - name: iptables rules iptables: ""{{ item }}"" with_items: ""{{ octavia_iptables_rules }}"" # This is totally odd: If you run the commands via run-parts (as the script # in the distro does) they return 1; but do their job. If you run them # directly they work. Ignoring errors for now -- - name: save iptables rules (Ubuntu 16.04) command: netfilter-persistent save ignore_errors: yes when: - ansible_distribution == 'Ubuntu' - ansible_distribution_version == '16.04' - name: save iptables rules (CentOS & RHEL) command: service iptables save args: warn: False # since we use save service module doesn't apply when: - (ansible_distribution == 'CentOS' and ansible_distribution_version < '7') or ansible_distribution == 'Red Hat Enterprise Linux' - name: save iptables rules (CentOS) shell: iptables-save > /etc/sysconfig/iptables when: - ansible_distribution == 'CentOS' - ansible_distribution_version > '6' file: path: /etc/octavia/certs/ state: directory","# iptables module doesn't see empty string as a null value so this is the only # way to get a configurable rule definition in right now - name: iptables rules iptables: ""{{ item }}"" with_items: ""{{ octavia_iptables_rules }}"" when: octavia_ip_tables_fw|bool == true # This is totally odd: If you run the commands via run-parts (as the script # in the distro does) they return 1; but do their job. If you run them # directly they work. Ignoring errors for now -- - name: save iptables rules (Ubuntu 16.04) command: netfilter-persistent save ignore_errors: yes when: ansible_distribution == 'Ubuntu' and ansible_distribution_version == '16.04' - name: save iptables rules (CentOS & RHEL) command: service iptables save args: warn: False # since we use save service module doesn't apply when: ansible_distribution == 'CentOS' or ansible_distribution == 'Red Hat Enterprise Linux' file: path=/etc/octavia/certs/ state=directory",34,19
openstack%2Foslo.rootwrap~stable%2Frocky~Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563,openstack/oslo.rootwrap,stable/rocky,Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563,Run rootwrap with lower fd ulimit by default,MERGED,2018-10-25 17:39:23.000000000,2019-12-03 11:10:30.000000000,2019-12-03 11:08:08.000000000,"[{'_account_id': 308}, {'_account_id': 6593}, {'_account_id': 7016}, {'_account_id': 12898}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-25 17:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/c88c80d040a97660a834336690181916cfcc3ad2', 'message': 'Run rootwrap with lower fd ulimit by default\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large. With a soft limit of 1048576,\nbenchmark.py reports an overhead of ~ 400ms without this patch and 2ms\nwith the patch applied. This patch adds a configuration option and\nsets a more sensible default of 1024 file descriptor limit by default.\n\nCloses-Bug: 1796267\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n(cherry picked from commit c0a86998203315858721a7b2c8ab75fbf5cd51d9)\n'}, {'number': 2, 'created': '2018-12-19 12:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/d0b06624bb82253076af2b76753b22ed3a2e042d', 'message': 'Run rootwrap with lower fd ulimit by default\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large. With a soft limit of 1048576,\nbenchmark.py reports an overhead of ~ 400ms without this patch and 2ms\nwith the patch applied. This patch adds a configuration option and\nleaves it disabled for the stable/* backports to not change default\nbehavior.\n\nAlso includes Ben Nemec\'s release note entry, adjusted for the stable\nbackport. This is Ib29e96307caa39c21936f216d9aed7907e7a7331 for master.\n\nCloses-Bug: 1796267\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n(cherry picked from commit c0a86998203315858721a7b2c8ab75fbf5cd51d9)\n'}, {'number': 3, 'created': '2019-09-13 11:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/c338f2c5c79abd44be5da495ae980fe7aefe194d', 'message': 'Run rootwrap with lower fd ulimit by default\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large. With a soft limit of 1048576,\nbenchmark.py reports an overhead of ~ 400ms without this patch and 2ms\nwith the patch applied. This patch adds a configuration option and\nleaves it disabled for the stable/* backports to not change default\nbehavior.\n\nAlso includes Ben Nemec\'s release note entry, adjusted for the stable\nbackport. This is Ib29e96307caa39c21936f216d9aed7907e7a7331 for master.\n\nAlso includes I2391315f77718a3c9eb9fc8c03a6882237f33548 from master.\n\nAlso includes I3b481ddd14ae2b948270d715aad157cf3996def7 from master.\n\n(cherry picked from commit c0a86998203315858721a7b2c8ab75fbf5cd51d9)\n(cherry picked from commit 8f148f5e9e786d8a3922b0d5ae29bc54b8e8e1e9)\n(cherry picked from commit 5259c08c09eb3aeab64af928cddf84bc213594d3)\n\nCloses-Bug: 1796267\nCloses-Bug: #1804639\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}, {'number': 4, 'created': '2019-09-16 09:54:24.000000000', 'files': ['doc/source/user/usage.rst', 'etc/rootwrap.conf.sample', 'releasenotes/notes/file-descriptor-limit-e2b2a3033b9ef21e.yaml', 'oslo_rootwrap/wrapper.py', 'oslo_rootwrap/cmd.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/fdb32096ab1fafbacf116b722140b24f0e2cd834', 'message': 'Run rootwrap with lower fd ulimit by default\n\nOn Python 2.x, a subprocess.Popen() with close_fds=True will\nfork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),\nwhich thanks to Kernel PTI (Kaiser patches) is significantly slower\nin 2018 when the range is very large. With a soft limit of 1048576,\nbenchmark.py reports an overhead of ~ 400ms without this patch and 2ms\nwith the patch applied. This patch adds a configuration option and\nleaves it disabled for the stable/* backports to not change default\nbehavior.\n\nAlso includes Ben Nemec\'s release note entry, adjusted for the stable\nbackport. This is Ib29e96307caa39c21936f216d9aed7907e7a7331 for master.\n\nAlso includes I2391315f77718a3c9eb9fc8c03a6882237f33548 from master.\n\nAlso includes I3b481ddd14ae2b948270d715aad157cf3996def7 from master.\n\n(cherry picked from commit c0a86998203315858721a7b2c8ab75fbf5cd51d9)\n(cherry picked from commit 8f148f5e9e786d8a3922b0d5ae29bc54b8e8e1e9)\n(cherry picked from commit 5259c08c09eb3aeab64af928cddf84bc213594d3)\n\nCloses-Bug: 1796267\nCloses-Bug: #1804639\nChange-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563\n'}]",2,613387,fdb32096ab1fafbacf116b722140b24f0e2cd834,25,6,4,7016,,,0,"Run rootwrap with lower fd ulimit by default

On Python 2.x, a subprocess.Popen() with close_fds=True will
fork and then close filedescriptors range(3..os.sysconf(""SC_OPEN_MAX"")),
which thanks to Kernel PTI (Kaiser patches) is significantly slower
in 2018 when the range is very large. With a soft limit of 1048576,
benchmark.py reports an overhead of ~ 400ms without this patch and 2ms
with the patch applied. This patch adds a configuration option and
leaves it disabled for the stable/* backports to not change default
behavior.

Also includes Ben Nemec's release note entry, adjusted for the stable
backport. This is Ib29e96307caa39c21936f216d9aed7907e7a7331 for master.

Also includes I2391315f77718a3c9eb9fc8c03a6882237f33548 from master.

Also includes I3b481ddd14ae2b948270d715aad157cf3996def7 from master.

(cherry picked from commit c0a86998203315858721a7b2c8ab75fbf5cd51d9)
(cherry picked from commit 8f148f5e9e786d8a3922b0d5ae29bc54b8e8e1e9)
(cherry picked from commit 5259c08c09eb3aeab64af928cddf84bc213594d3)

Closes-Bug: 1796267
Closes-Bug: #1804639
Change-Id: Idd98c183eca3e2df8648fc0f37d27fe9cc6d0563
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/87/613387/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/usage.rst', 'etc/rootwrap.conf.sample', 'oslo_rootwrap/wrapper.py', 'oslo_rootwrap/cmd.py']",4,c88c80d040a97660a834336690181916cfcc3ad2,607951-stable/rocky,"import resourcefrom oslo_rootwrap import subprocessfrom six import moves # When use close_fds=True on Python 2.x, we spend significant time # in closing fds up to current soft ulimit, which could be large. # Lower our ulimit to a reasonable value to regain performance. fd_limits = resource.getrlimit(resource.RLIMIT_NOFILE) sensible_fd_limit = min(config.rlimit_nofile, fd_limits[0]) if (fd_limits[0] > sensible_fd_limit): # Unfortunately this inherits to our children, so allow them to # re-raise by passing through the hard limit unmodified resource.setrlimit( resource.RLIMIT_NOFILE, (sensible_fd_limit, fd_limits[1])) # This is set on import to the hard ulimit. if its defined we # already have imported it, so we need to update it to the new limit if (hasattr(subprocess, 'MAXFD') and subprocess.MAXFD > sensible_fd_limit): subprocess.MAXFD = sensible_fd_limit ",from six import moves ,37,2
openstack%2Fhorizon~master~I84f4da9c84d75c458b54bd456cbc7b92b303ba81,openstack/horizon,master,I84f4da9c84d75c458b54bd456cbc7b92b303ba81,Fix deleting port from port details page,MERGED,2019-11-29 18:59:47.000000000,2019-12-03 10:33:15.000000000,2019-12-02 19:35:15.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-29 18:59:47.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/ports/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/18020e30b67efa9e67d061c317804a6f800b74c7', 'message': 'Fix deleting port from port details page\n\nThis patch fixes ""Delete port"" button at the port details page:\nProject -> Network -> Networks -> <network name> -> Ports -> <port name>\n\nChange-Id: I84f4da9c84d75c458b54bd456cbc7b92b303ba81\nCloses-Bug: #1854514\n'}]",0,696755,18020e30b67efa9e67d061c317804a6f800b74c7,14,3,1,6914,,,0,"Fix deleting port from port details page

This patch fixes ""Delete port"" button at the port details page:
Project -> Network -> Networks -> <network name> -> Ports -> <port name>

Change-Id: I84f4da9c84d75c458b54bd456cbc7b92b303ba81
Closes-Bug: #1854514
",git fetch https://review.opendev.org/openstack/horizon refs/changes/55/696755/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/ports/views.py'],1,18020e30b67efa9e67d061c317804a6f800b74c7,bug/1854514," context[""url""] = reverse( 'horizon:project:networks:ports_tab', args=[port.network_id])"," context[""url""] = self.get_redirect_url()",2,1
openstack%2Fkolla-ansible~stable%2Frocky~Ide6a24e17b1f8ab6506aa5e53f70693706830418,openstack/kolla-ansible,stable/rocky,Ide6a24e17b1f8ab6506aa5e53f70693706830418,Use <project>_install_type instead of kolla_install_type,MERGED,2019-12-02 12:37:33.000000000,2019-12-03 10:23:20.000000000,2019-12-03 10:21:35.000000000,"[{'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-02 12:37:33.000000000', 'files': ['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/freezer/templates/wsgi-freezer-api.conf.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/vmtp/tasks/config.yml', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/wsgi-log-api.conf.j2', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/nova/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d12907be88695ace365ad5d08333b160e3614f8', 'message': ""Use <project>_install_type instead of kolla_install_type\n\nUse <project>_install_type instead of kolla_install_type\nto set python_path. For example, general kolla_install_type\nis 'binary', but user wants to deploy Horizon from 'source'.\nHorizon templates still use python_path=/usr/share/openstack-dashboard,\nit is wrong.\n\nConflicts:\n\tansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2\n\nChange-Id: Ide6a24e17b1f8ab6506aa5e53f70693706830418\nCloses-Bug: #1854735\n(cherry picked from commit 043943117d2e10d787da1db7e87cd69852fc6cd2)\n""}]",0,696876,8d12907be88695ace365ad5d08333b160e3614f8,9,5,1,15197,,,0,"Use <project>_install_type instead of kolla_install_type

Use <project>_install_type instead of kolla_install_type
to set python_path. For example, general kolla_install_type
is 'binary', but user wants to deploy Horizon from 'source'.
Horizon templates still use python_path=/usr/share/openstack-dashboard,
it is wrong.

Conflicts:
	ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2

Change-Id: Ide6a24e17b1f8ab6506aa5e53f70693706830418
Closes-Bug: #1854735
(cherry picked from commit 043943117d2e10d787da1db7e87cd69852fc6cd2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/696876/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/freezer/templates/wsgi-freezer-api.conf.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/vmtp/tasks/config.yml', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/wsgi-log-api.conf.j2', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/nova/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2', 'ansible/roles/vmtp/defaults/main.yml']",17,8d12907be88695ace365ad5d08333b160e3614f8,,"vmtp_install_type: ""{{ kolla_install_type }}"" vmtp_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ vmtp_install_type }}-vmtp""","vmtp_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kolla_install_type }}-vmtp""",27,24
openstack%2Fkolla-ansible~master~I9ce27d5f68f32ef59e245960e23336ae5c5db905,openstack/kolla-ansible,master,I9ce27d5f68f32ef59e245960e23336ae5c5db905,[Train] Fix Tacker config for the local Glance store,MERGED,2019-11-23 20:48:51.000000000,2019-12-03 10:23:02.000000000,2019-12-03 10:21:33.000000000,"[{'_account_id': 14826}, {'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-23 20:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e6cb18e04695f0d44cc96ccafb342f27f223e10', 'message': '[Train] Fix Tacker config for the local Glance store\n\nIt turned out the previous fix ([1]) was incomplete.\nAdditionally, it seems we have to limit Tacker server\nto one instance co-located with conductor.\n\n[1] https://review.opendev.org/684275\ncommit b96ade3cf01009d822f85744efee523127f2674c\n\nChange-Id: I9ce27d5f68f32ef59e245960e23336ae5c5db905\nCloses-bug: #1853715\nRelated-bug: #1845142\n'}, {'number': 2, 'created': '2019-11-24 09:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10d8224f6fec6c62290472d4771170157edb599e', 'message': '[Train] Fix Tacker config for the local Glance store\n\nIt turned out the previous fix ([1]) was incomplete.\nAdditionally, it seems we have to limit Tacker server\nto one instance co-located with conductor.\n\n[1] https://review.opendev.org/684275\ncommit b96ade3cf01009d822f85744efee523127f2674c\n\nChange-Id: I9ce27d5f68f32ef59e245960e23336ae5c5db905\nCloses-bug: #1853715\nRelated-bug: #1845142\n'}, {'number': 3, 'created': '2019-11-25 19:13:25.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'releasenotes/notes/tacker-train-3f3094b68fdf358e.yaml', 'ansible/roles/tacker/tasks/upgrade.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/tacker/templates/tacker-server.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5f9ea959092019aa44eb96224fd365b8025bba6', 'message': '[Train] Fix Tacker config for the local Glance store\n\nIt turned out the previous fix ([1]) was incomplete.\nAdditionally, it seems we have to limit Tacker server\nto one instance co-located with conductor.\n\n[1] https://review.opendev.org/684275\ncommit b96ade3cf01009d822f85744efee523127f2674c\n\nChange-Id: I9ce27d5f68f32ef59e245960e23336ae5c5db905\nCloses-bug: #1853715\nRelated-bug: #1845142\n'}]",4,695804,c5f9ea959092019aa44eb96224fd365b8025bba6,28,6,3,30491,,,0,"[Train] Fix Tacker config for the local Glance store

It turned out the previous fix ([1]) was incomplete.
Additionally, it seems we have to limit Tacker server
to one instance co-located with conductor.

[1] https://review.opendev.org/684275
commit b96ade3cf01009d822f85744efee523127f2674c

Change-Id: I9ce27d5f68f32ef59e245960e23336ae5c5db905
Closes-bug: #1853715
Related-bug: #1845142
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/695804/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'releasenotes/notes/tacker-train-3f3094b68fdf358e.yaml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/tacker/templates/tacker-server.json.j2']",6,8e6cb18e04695f0d44cc96ccafb342f27f223e10,bug/1853715," }, { ""path"": ""/var/lib/tacker/csar_files"", ""owner"": ""tacker:tacker""",,18,12
openstack%2Fnetworking-bagpipe~stable%2Fstein~Ifc1f2d4d6d622efe851c77bf0c4bddc34926c504,openstack/networking-bagpipe,stable/stein,Ifc1f2d4d6d622efe851c77bf0c4bddc34926c504,use python 2.7 for pep8 venv,MERGED,2019-11-29 16:42:27.000000000,2019-12-03 10:05:53.000000000,2019-12-03 10:04:05.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 16:42:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6140bbb09ba3aafd29c3e259cc8dd52469a51d10', 'message': 'use python 2.7 for pep8 venv\n\nThis seems required to avoid issues such as the following\nwhich started to popup when py3 became the default:\n\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/builder.py"", line 134, in file_build\n    module = self._data_build(data, modname, path)\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/builder.py"", line 177, in _data_build\n    module = rebuilder.visit_module(node, modname, node_file, package)\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 148, in visit_module\n    newnode.body = [self.visit(child, newnode) for child in node.body]\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 148, in <listcomp>\n    newnode.body = [self.visit(child, newnode) for child in node.body]\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit\n    return self._transform(visit_method(node, parent))\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 238, in visit_assign\n    newnode.value = self.visit(node.value, newnode)\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit\n    return self._transform(visit_method(node, parent))\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 329, in visit_callfunc\n    newnode.func = self.visit(node.func, newnode)\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit\n    return self._transform(visit_method(node, parent))\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 551, in visit_getattr\n    newnode.expr = self.visit(node.value, newnode)\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit\n    return self._transform(visit_method(node, parent))\n  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 331, in visit_callfunc\n    if node.starargs is not None:\nAttributeError: \'Call\' object has no attribute \'starargs\'\n\nIt seems reasonable to use python2.7 for such a job\nof a stable branch.\n\nChange-Id: Ifc1f2d4d6d622efe851c77bf0c4bddc34926c504\n'}]",2,696736,6140bbb09ba3aafd29c3e259cc8dd52469a51d10,9,4,1,12021,,,0,"use python 2.7 for pep8 venv

This seems required to avoid issues such as the following
which started to popup when py3 became the default:

  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/builder.py"", line 134, in file_build
    module = self._data_build(data, modname, path)
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/builder.py"", line 177, in _data_build
    module = rebuilder.visit_module(node, modname, node_file, package)
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 148, in visit_module
    newnode.body = [self.visit(child, newnode) for child in node.body]
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 148, in <listcomp>
    newnode.body = [self.visit(child, newnode) for child in node.body]
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit
    return self._transform(visit_method(node, parent))
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 238, in visit_assign
    newnode.value = self.visit(node.value, newnode)
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit
    return self._transform(visit_method(node, parent))
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 329, in visit_callfunc
    newnode.func = self.visit(node.func, newnode)
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit
    return self._transform(visit_method(node, parent))
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 551, in visit_getattr
    newnode.expr = self.visit(node.value, newnode)
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 161, in visit
    return self._transform(visit_method(node, parent))
  File ""/home/zuul/src/opendev.org/openstack/networking-bagpipe/.tox/pep8/lib/python3.6/site-packages/astroid/rebuilder.py"", line 331, in visit_callfunc
    if node.starargs is not None:
AttributeError: 'Call' object has no attribute 'starargs'

It seems reasonable to use python2.7 for such a job
of a stable branch.

Change-Id: Ifc1f2d4d6d622efe851c77bf0c4bddc34926c504
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/36/696736/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6140bbb09ba3aafd29c3e259cc8dd52469a51d10,,basepython = python2.7basepython = python2.7,,2,0
openstack%2Fneutron-specs~master~Id393b62ddfd3f9f010c7d7898a564a211b3405a4,openstack/neutron-specs,master,Id393b62ddfd3f9f010c7d7898a564a211b3405a4,Allow user to create default record on port creation from shared network,MERGED,2019-10-09 06:34:01.000000000,2019-12-03 09:56:42.000000000,2019-12-03 09:55:06.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11583}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27316}, {'_account_id': 30742}]","[{'number': 1, 'created': '2019-10-09 06:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6635dbd0c05fe74c8f8d466ad8d4721e00cfc49b', 'message': 'add RFE 1843218 spec\n\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 2, 'created': '2019-10-09 08:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9b0a86018cf53ff2617be6784eb45d334e321582', 'message': 'add RFE 1843218 spec\n\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 3, 'created': '2019-10-10 11:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bb66a3d71cf893e799797f07fcb766d7999cdf5e', 'message': 'add RFE 1843218 spec\n\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 4, 'created': '2019-10-10 11:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f5d3491c2634b265d492138db5f516d6b77dcc20', 'message': 'add RFE 1843218 spec\n\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 5, 'created': '2019-10-14 05:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1b4812d9e1b39e3170265ec76e2d6c134b468be2', 'message': 'add RFE 1843218 spec\n\nRelated-Bug: #1843218\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 6, 'created': '2019-10-14 05:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/760ab13bbf2da74eb1d6375c2afdc57d6482bd49', 'message': 'Allow user to create default record on port creation from shared network\n\nRelated-Bug: #1843218\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 7, 'created': '2019-10-18 05:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/127f2c02fd25d69fd7ba547d3a544004cb22b439', 'message': 'Allow user to create default record on port creation from shared network\n\nRelated-Bug: #1843218\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 8, 'created': '2019-10-18 05:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aa6050e5d772a61a393fbb33c409bf8e73b9f3c8', 'message': 'Allow user to create default record on port creation from shared network\n\nRelated-Bug: #1843218\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}, {'number': 9, 'created': '2019-10-18 06:04:35.000000000', 'files': ['specs/ussuri/placeholder.rst', 'specs/ussuri/allow-user-to-create-default-record-on-port-creation-from-shared-network.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f0963c1f0b0e9bd1ee587897eccd1d8c4ce4930b', 'message': 'Allow user to create default record on port creation from shared network\n\nRelated-Bug: #1843218\nChange-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4\n'}]",25,687458,f0963c1f0b0e9bd1ee587897eccd1d8c4ce4930b,33,12,9,30900,,,0,"Allow user to create default record on port creation from shared network

Related-Bug: #1843218
Change-Id: Id393b62ddfd3f9f010c7d7898a564a211b3405a4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/58/687458/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/allow-user-to-create-default-record-on-port-creation-from-shared-network.rst'],1,6635dbd0c05fe74c8f8d466ad8d4721e00cfc49b,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Allow user to create default record on port creation from shared network ====================== https://bugs.launchpad.net/neutron/+bug/1843218 As discussed in an the bug thread above, we could add the feature to allow a user to have default zone configured on a shared network. Problem Description ------------------- On Neutron, when dns ml2 plugin is enabled, each user can manage his own network, and configure a dns_domain to his network. But this feature doesn't work for a shared network which is managed by an administrative user. Proposed Change --------------- As described on the RFE, the idea is to let admin user to configure <tenantid>.defaultzone.com. as dns_domain on his network, to let users to have one defaultzone per user, and then be able to create records. :: $ source openrc_admin $ openstack network set --dns-domain ""<tenantid>.defaultzone.com."" shared $ source openrc_demo $ openstack zone create --email dnsmaster@defaultzone.com HisTenantId.defaultzone.com. $ openstack port create --dns-name myport port Further changes included: * Documentation: api-ref. * Unit tests. * Adapt neutron-lib * Adapt neutron dns_integration ml2 driver Planned Impact ~~~~~~~~~~~~ No impact expected on upgrades. No impact expected on configuration. References ---------- * RFE bug report of this spec: https://bugs.launchpad.net/neutron/+bug/1843218 * Neutron Drivers Meeting discussion about the feature validation : http://eavesdrop.openstack.org/meetings/neutron_drivers/2019/neutron_drivers.2019-10-04-14.00.log.html#l-171 ",,55,0
openstack%2Fcyborg-specs~master~I9b05d0a753a556e5839481fe6d03c38683d1ff69,openstack/cyborg-specs,master,I9b05d0a753a556e5839481fe6d03c38683d1ff69,Add Ussuri spec path in doc/index.rst,MERGED,2019-11-26 02:48:37.000000000,2019-12-03 09:33:53.000000000,2019-12-03 09:32:53.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-11-26 02:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/beb8723fffb01f64f18d5ea335540da4d778e1e0', 'message': 'Add Ussuri spec path in doc/index.rst\n\nChange-Id: I9b05d0a753a556e5839481fe6d03c38683d1ff69\n'}, {'number': 2, 'created': '2019-11-26 05:32:45.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/47193f74d50ed6a33b01ba2e8053ea9b7c304c38', 'message': 'Add Ussuri spec path in doc/index.rst\n\nChange-Id: I9b05d0a753a556e5839481fe6d03c38683d1ff69\n'}]",1,696011,47193f74d50ed6a33b01ba2e8053ea9b7c304c38,12,4,2,25738,,,0,"Add Ussuri spec path in doc/index.rst

Change-Id: I9b05d0a753a556e5839481fe6d03c38683d1ff69
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/11/696011/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,beb8723fffb01f64f18d5ea335540da4d778e1e0,, Ussuri ------ This section has a list of specs for the Ussuri release. .. toctree:: :maxdepth: 1 :glob: specs/ussuri/approved/*,,11,0
openstack%2Ftripleo-ansible~master~I06d929e1602ece966100a6913166910b9e301635,openstack/tripleo-ansible,master,I06d929e1602ece966100a6913166910b9e301635,Handle range in the cpu_mask conversion for DPDK cores,MERGED,2019-11-28 10:58:48.000000000,2019-12-03 09:24:15.000000000,2019-12-02 18:46:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-28 10:58:48.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/cpu_mask.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/709a11cbde41bbacbd45f556a7bce8a0abfd0643', 'message': 'Handle range in the cpu_mask conversion for DPDK cores\n\ncpu_mask filter plugin handles list of cores, extend it to\nsupport range of cores to convert to mask.\nCloses-Bug: #1854341\n\nChange-Id: I06d929e1602ece966100a6913166910b9e301635\n'}]",0,696497,709a11cbde41bbacbd45f556a7bce8a0abfd0643,11,5,1,18575,,,0,"Handle range in the cpu_mask conversion for DPDK cores

cpu_mask filter plugin handles list of cores, extend it to
support range of cores to convert to mask.
Closes-Bug: #1854341

Change-Id: I06d929e1602ece966100a6913166910b9e301635
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/696497/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/filter/cpu_mask.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/playbook.yml']",3,709a11cbde41bbacbd45f556a7bce8a0abfd0643,bug/1854341," tripleo_ovs_dpdk_pmd_core_list: ""1,13-15"" tripleo_ovs_dpdk_pmd_core_list: ""1,13-15"""," tripleo_ovs_dpdk_pmd_core_list: ""1,13"" tripleo_ovs_dpdk_pmd_core_list: ""1,13""",10,5
openstack%2Fpython-octaviaclient~master~Ia096d19678fd9cde1e97baae93d0dee7497820e6,openstack/python-octaviaclient,master,Ia096d19678fd9cde1e97baae93d0dee7497820e6,Add job for executing functional tests on CentOS 7,ABANDONED,2019-12-03 09:04:05.000000000,2019-12-03 09:16:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-03 09:04:05.000000000', 'files': ['zuul.d/devstack-jobs.yaml', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/cb647ae101aedd381cc80a35141a767d28410f15', 'message': 'Add job for executing functional tests on CentOS 7\n\nChange-Id: Ia096d19678fd9cde1e97baae93d0dee7497820e6\n'}]",0,697032,cb647ae101aedd381cc80a35141a767d28410f15,3,1,1,27329,,,0,"Add job for executing functional tests on CentOS 7

Change-Id: Ia096d19678fd9cde1e97baae93d0dee7497820e6
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/32/697032/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/devstack-jobs.yaml', 'zuul.d/projects.yaml']",2,cb647ae101aedd381cc80a35141a767d28410f15,devstack-ci, - octaviaclient-devstack-functional - octaviaclient-devstack-functional-centos7, - octaviaclient-functional,9,2
openstack%2Fdevstack~master~Ie0334f089e2c20b00db26fe865ad0db554f52c91,openstack/devstack,master,Ie0334f089e2c20b00db26fe865ad0db554f52c91,[DNM] Use temporary deps repos for centos8,ABANDONED,2019-12-02 19:23:35.000000000,2019-12-03 08:56:55.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 19:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5b8ad9fc5e68de593698a6239b8ce39e3c84c5bf', 'message': ""[DNM] Use temporary deps repos for centos8\n\nRDO is building required dependencies for CentOS8. Let's start testing\nthem with devstack.\n\nChange-Id: Ie0334f089e2c20b00db26fe865ad0db554f52c91\n""}, {'number': 2, 'created': '2019-12-02 19:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/936b874298657ceb002ce1b6e2792ecd3930190a', 'message': ""[DNM] Use temporary deps repos for centos8\n\nRDO is building required dependencies for CentOS8. Let's start testing\nthem with devstack.\n\nChange-Id: Ie0334f089e2c20b00db26fe865ad0db554f52c91\n""}, {'number': 3, 'created': '2019-12-02 20:01:59.000000000', 'files': ['tools/fixup_stuff.sh', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/41541361a58f99030f5188b5d6cc72435126fa75', 'message': ""[DNM] Use temporary deps repos for centos8\n\nRDO is building required dependencies for CentOS8. Let's start testing\nthem with devstack.\n\nChange-Id: Ie0334f089e2c20b00db26fe865ad0db554f52c91\n""}]",0,696945,41541361a58f99030f5188b5d6cc72435126fa75,8,2,3,16312,,,0,"[DNM] Use temporary deps repos for centos8

RDO is building required dependencies for CentOS8. Let's start testing
them with devstack.

Change-Id: Ie0334f089e2c20b00db26fe865ad0db554f52c91
",git fetch https://review.opendev.org/openstack/devstack refs/changes/45/696945/3 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,5b8ad9fc5e68de593698a6239b8ce39e3c84c5bf,centos-8,[rdo-deps-testing-el8] name=Repository with temporal dependencies for EL8 baseurl=https://copr-be.cloud.fedoraproject.org/results/@openstack-sig/centos8-deps/centos-stream-$basearch/ type=rpm-md skip_if_unavailable=True gpgcheck=1 gpgkey=https://copr-be.cloud.fedoraproject.org/results/@openstack-sig/centos8-deps/pubkey.gpg repo_gpgcheck=0 enabled=1 enabled_metadata=1 module_hotfixes=1 [virtualization-test-el8.0] name=Virtualization EL8.0 baseurl=http://38.145.34.66/test-el8/,[rdo-trunk] name=rdo-trunk baseurl=http://trunk.rdoproject.org/rhel8-master/deps/latest,15,3
openstack%2Ftripleo-heat-templates~master~I7039554097b90119fa5042afc6fefecc06392912,openstack/tripleo-heat-templates,master,I7039554097b90119fa5042afc6fefecc06392912,Add Keepalived VRRP parameters to Octavia,ABANDONED,2019-10-11 12:04:49.000000000,2019-12-03 08:52:24.000000000,,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-11 12:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a18f80aa0e818d0e8fa65ba5cafe902452a615bc', 'message': 'Add Keepalived VRRP parameters to Octavia\n\nDepends-On: https://review.opendev.org/#/c/688110/\n\nChange-Id: I7039554097b90119fa5042afc6fefecc06392912\n'}, {'number': 2, 'created': '2019-10-11 12:27:17.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/add-vrrp-keepalived-params-910581b9bcc6a472.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1dc8bb64016466191efce6d43f3eb78aa63b5793', 'message': 'Add Keepalived VRRP parameters to Octavia\n\nDepends-On: https://review.opendev.org/#/c/688110/\n\nChange-Id: I7039554097b90119fa5042afc6fefecc06392912\n'}]",2,688111,1dc8bb64016466191efce6d43f3eb78aa63b5793,16,8,2,6469,,,0,"Add Keepalived VRRP parameters to Octavia

Depends-On: https://review.opendev.org/#/c/688110/

Change-Id: I7039554097b90119fa5042afc6fefecc06392912
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/688111/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/add-vrrp-keepalived-params-910581b9bcc6a472.yaml']",2,a18f80aa0e818d0e8fa65ba5cafe902452a615bc,keepalived_vrrp,--- features: - Added Keepalived VRRP parameters to Octavia. ,,33,0
openstack%2Fproject-config~master~I7ebb65a22784e11f72bb44e49a0b5fb4072b85d8,openstack/project-config,master,I7ebb65a22784e11f72bb44e49a0b5fb4072b85d8,Remove contributor agreement from ACLs,ABANDONED,2019-11-27 16:55:04.000000000,2019-12-03 08:33:13.000000000,,"[{'_account_id': 6547}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 16:55:04.000000000', 'files': ['gerrit/acls/x/neutron-interconnection.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3c5b5e5f26f6b59bfa0c6b030822eaf26714d851', 'message': 'Remove contributor agreement from ACLs\n\nDue to project migration under ""x/"" namespace, no need to keep contributor\nagreement in ACLs.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: I7ebb65a22784e11f72bb44e49a0b5fb4072b85d8\n'}]",0,696360,3c5b5e5f26f6b59bfa0c6b030822eaf26714d851,5,3,1,19990,,,0,"Remove contributor agreement from ACLs

Due to project migration under ""x/"" namespace, no need to keep contributor
agreement in ACLs.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: I7ebb65a22784e11f72bb44e49a0b5fb4072b85d8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/696360/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/x/neutron-interconnection.config'],1,3c5b5e5f26f6b59bfa0c6b030822eaf26714d851,,,requireContributorAgreement = true,0,1
openstack%2Fneutron~master~I06036ce5fe15d91aa440dc340a70dd27ae078c53,openstack/neutron,master,I06036ce5fe15d91aa440dc340a70dd27ae078c53,[OVS FW] Clean port rules if port not found in ovsdb,MERGED,2019-12-01 10:42:37.000000000,2019-12-03 08:13:37.000000000,2019-12-02 18:59:05.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-01 10:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5582ba6067da290dde6c0634a7d467d53bbf4901', 'message': '[OVS FW] Clean port rules if port not found in ovsdb\n\nDuring e.g. migration or shelve of VM it may happend that\nport update event will be send to the ovs agent and in the almost\nthe same time, port will be removed from br-int.\nIn such case during update_port_filter method openvswitch firewall\ndriver will not find port in br-int, and it will do nothing with it.\nThat will lead to leftover rules for this port in br-int.\n\nSo this patch adds calling remove_port_filter() method if port was\nnot found in br-int. Just to be sure that there is no any leftovers\nfrom the port in br-int anymore.\n\nChange-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53\nCloses-Bug: #1850557\n'}, {'number': 2, 'created': '2019-12-02 11:23:03.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b01e0c2aa98866df9c25e20a66c02fccccdc7885', 'message': '[OVS FW] Clean port rules if port not found in ovsdb\n\nDuring e.g. migration or shelve of VM it may happend that\nport update event will be send to the ovs agent and in the almost\nthe same time, port will be removed from br-int.\nIn such case during update_port_filter method openvswitch firewall\ndriver will not find port in br-int, and it will do nothing with it.\nThat will lead to leftover rules for this port in br-int.\n\nSo this patch adds calling remove_port_filter() method if port was\nnot found in br-int. Just to be sure that there is no any leftovers\nfrom the port in br-int anymore.\n\nChange-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53\nCloses-Bug: #1850557\n'}]",3,696794,b01e0c2aa98866df9c25e20a66c02fccccdc7885,32,10,2,11975,,,0,"[OVS FW] Clean port rules if port not found in ovsdb

During e.g. migration or shelve of VM it may happend that
port update event will be send to the ovs agent and in the almost
the same time, port will be removed from br-int.
In such case during update_port_filter method openvswitch firewall
driver will not find port in br-int, and it will do nothing with it.
That will lead to leftover rules for this port in br-int.

So this patch adds calling remove_port_filter() method if port was
not found in br-int. Just to be sure that there is no any leftovers
from the port in br-int anymore.

Change-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53
Closes-Bug: #1850557
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/696794/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,5582ba6067da290dde6c0634a7d467d53bbf4901,bug/1850557," def test_update_port_filter_clean_when_port_not_found(self): """"""Check flows are cleaned if port is not found in the bridge."""""" port_dict = {'device': 'port-id', 'security_groups': [1]} self._prepare_security_group() self.firewall.prepare_port_filter(port_dict) self.mock_bridge.br.get_vif_port_by_id.return_value = None self.firewall.update_port_filter(port_dict) self.assertTrue(self.mock_bridge.br.delete_flows.called) ",,13,0
openstack%2Ftripleo-ansible~master~I72e2c75ae19c6f41f2938cf165b598345b3796fc,openstack/tripleo-ansible,master,I72e2c75ae19c6f41f2938cf165b598345b3796fc,Delete Octavia configuration leftovers,MERGED,2019-11-29 16:03:41.000000000,2019-12-03 08:05:18.000000000,2019-12-03 02:12:14.000000000,"[{'_account_id': 6469}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-29 16:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a5bc06a84410aef5c3dadc67dc02c9af89726f06', 'message': 'Delete deprecated configuration leftovers\n\nPost update and upgrade tasks added in Change-Id\nI32524f85ef6a0ca3e87fa9acc8c9e12776225717 do not run as expected.\nOctavia is an external deploy.\n\nCloses-Bug: #1836074\nChange-Id: I72e2c75ae19c6f41f2938cf165b598345b3796fc\n'}, {'number': 2, 'created': '2019-11-29 16:20:13.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f14ff39fa4d024c84cc9afce35bd499ba6d7d81', 'message': 'Delete Octavia configuration leftovers\n\nPost update and upgrade tasks added in Change-Id\nI32524f85ef6a0ca3e87fa9acc8c9e12776225717 do not run as expected.\nOctavia is an external deploy. Best way to handle config leftover files\nis with an Ansible task in the end of the external deploy.\n\nCloses-Bug: #1836074\nChange-Id: I72e2c75ae19c6f41f2938cf165b598345b3796fc\n'}]",3,696727,5f14ff39fa4d024c84cc9afce35bd499ba6d7d81,17,8,2,6469,,,0,"Delete Octavia configuration leftovers

Post update and upgrade tasks added in Change-Id
I32524f85ef6a0ca3e87fa9acc8c9e12776225717 do not run as expected.
Octavia is an external deploy. Best way to handle config leftover files
is with an Ansible task in the end of the external deploy.

Closes-Bug: #1836074
Change-Id: I72e2c75ae19c6f41f2938cf165b598345b3796fc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/696727/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'],1,a5bc06a84410aef5c3dadc67dc02c9af89726f06,bug/1836074," # Post deploy tasks (e.g. update/upgrade cleanups, etc) - name: remove directory /etc/octavia/conf.d/common (LP #1836074) file: path: ""{{ octavia_confd_prefix }}/etc/octavia/conf.d/common"" state: absent",,6,0
openstack%2Fkeystonemiddleware~master~I9cde8963333ea95b4ab05d9aea4d196ab4357763,openstack/keystonemiddleware,master,I9cde8963333ea95b4ab05d9aea4d196ab4357763,Change ec2 URLs to v3,MERGED,2019-08-24 18:28:24.000000000,2019-12-03 07:56:23.000000000,2019-12-03 07:54:18.000000000,"[{'_account_id': 1916}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-24 18:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/2b1ce5ab6b3feeb5bcde358b06890307d6bdc174', 'message': 'Change ec2 URLs to v3\n\nThis change modifies any URLs specifying v2.0 to v3. This is part\nof the effort to remove v2.0 functionality from keystonemiddleware.\n\nChange-Id: I9cde8963333ea95b4ab05d9aea4d196ab4357763\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n'}, {'number': 2, 'created': '2019-08-27 16:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/263ee131dda18f29130ed27a65c1e7b9b035e388', 'message': 'Change ec2 URLs to v3\n\nThis change modifies any URLs specifying v2.0 to v3. This is part\nof the effort to remove v2.0 functionality from keystonemiddleware.\n\nChange-Id: I9cde8963333ea95b4ab05d9aea4d196ab4357763\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n'}, {'number': 3, 'created': '2019-09-02 17:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/deca4191fd4531a6ab03c40b2831bb900073bb65', 'message': 'Change ec2 URLs to v3\n\nThis change modifies any URLs specifying v2.0 to v3. This is part\nof the effort to remove v2.0 functionality from keystonemiddleware.\n\nChange-Id: I9cde8963333ea95b4ab05d9aea4d196ab4357763\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n'}, {'number': 4, 'created': '2019-11-24 04:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7f7dc1a3e413a63e951a7eae0f8b7c438ccf7b40', 'message': 'Change ec2 URLs to v3\n\nThis change modifies any URLs specifying v2.0 to v3. This is part\nof the effort to remove v2.0 functionality from keystonemiddleware.\n\nChange-Id: I9cde8963333ea95b4ab05d9aea4d196ab4357763\nPartial-Bug: #1829453\nPartial-Bug: #1845539\n'}, {'number': 5, 'created': '2019-11-29 04:20:16.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'releasenotes/notes/ec2-v2-removal-6a886210cbc9d3e9.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/09a33cce89beddbb6cda71d19d96a06a2fbb12a3', 'message': 'Change ec2 URLs to v3\n\nThis change modifies any URLs specifying v2.0 to v3. This is part\nof the effort to remove v2.0 functionality from keystonemiddleware.\n\nChange-Id: I9cde8963333ea95b4ab05d9aea4d196ab4357763\nPartial-Bug: #1829453\nPartial-Bug: #1845539\n'}]",8,678386,09a33cce89beddbb6cda71d19d96a06a2fbb12a3,26,5,5,21420,,,0,"Change ec2 URLs to v3

This change modifies any URLs specifying v2.0 to v3. This is part
of the effort to remove v2.0 functionality from keystonemiddleware.

Change-Id: I9cde8963333ea95b4ab05d9aea4d196ab4357763
Partial-Bug: #1829453
Partial-Bug: #1845539
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/86/678386/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py']",2,2b1ce5ab6b3feeb5bcde358b06890307d6bdc174,bug/1829453," TEST_URL = '%s://%s:%d/v3/ec2tokens' % (TEST_PROTOCOL, TEST_HOST, TEST_PORT) 'POST', 'http://localhost:5000/v3/ec2tokens', 'POST', 'http://localhost:5000/v3/ec2tokens',"," TEST_URL = '%s://%s:%d/v2.0/ec2tokens' % (TEST_PROTOCOL, TEST_HOST, TEST_PORT) 'POST', 'http://localhost:5000/v2.0/ec2tokens', 'POST', 'http://localhost:5000/v2.0/ec2tokens',",6,6
openstack%2Fkeystonemiddleware~master~If47e90085d8a59c52fb23876dc329cd4f0b05ef0,openstack/keystonemiddleware,master,If47e90085d8a59c52fb23876dc329cd4f0b05ef0,Remove v2.0 functionality,MERGED,2019-07-08 15:35:54.000000000,2019-12-03 07:55:23.000000000,2019-12-03 07:54:17.000000000,"[{'_account_id': 1916}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-08 15:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b61cbce050d8b15a5ff90217f3d9e5fdb9a7da75', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 2, 'created': '2019-07-19 14:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e9f365b032c0dc14255efd012c4399274c5cd440', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 3, 'created': '2019-07-22 13:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d1ffa705c3417e0852f2b465dac57524f0de1747', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1829453\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 4, 'created': '2019-07-22 22:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/228eb102616257c22b62ef0e2e7ab3a42e676e20', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1829453\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 5, 'created': '2019-08-20 19:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1c75394ad3173b228e16f515c151d21460bbb6f4', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1829453\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 6, 'created': '2019-08-20 21:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/50121566c45778ef5f49a9dc14f228d98b33caa8', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1829453\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 7, 'created': '2019-08-21 16:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/988f88f94f6fa72f90554f6eae032313f04d2289', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 8, 'created': '2019-08-21 16:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/860d3d0d35e355191b1d85fe8eb55588faef5c63', 'message': 'Remove initial v2.0 functionality\n\nThis change removes some initial v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1829453\nPartial-Bug: #1777177\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 9, 'created': '2019-10-02 03:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/94cc7b6db912d716f269126c1520193d24416d32', 'message': 'Remove v2.0 functionality\n\nThis change removes v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1845539\nPartial-Bug: #1777177\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 10, 'created': '2019-11-24 04:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/8cbcdc9007328c2dd558333923df02afef294874', 'message': 'Remove v2.0 functionality\n\nThis change removes v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1845539\nPartial-Bug: #1777177\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}, {'number': 11, 'created': '2019-11-27 16:52:28.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/tests/unit/auth_token/test_user_auth_plugin.py', 'releasenotes/notes/removed-as-of-ussuri-4e1ea485ba8801c9.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a6a3edb80ead7fa1c4587d40461bd68e3f501fe7', 'message': 'Remove v2.0 functionality\n\nThis change removes v2.0 functionality from\nkeystonemiddleware, as well as associated tests.\n\nPartial-Bug: #1845539\nPartial-Bug: #1777177\n\nChange-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0\n'}]",24,669706,a6a3edb80ead7fa1c4587d40461bd68e3f501fe7,55,5,11,21420,,,0,"Remove v2.0 functionality

This change removes v2.0 functionality from
keystonemiddleware, as well as associated tests.

Partial-Bug: #1845539
Partial-Bug: #1777177

Change-Id: If47e90085d8a59c52fb23876dc329cd4f0b05ef0
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/06/669706/11 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/tests/unit/auth_token/test_user_auth_plugin.py']",3,b61cbce050d8b15a5ff90217f3d9e5fdb9a7da75,bug/1845539,,"class V2UserPluginTests(BaseUserPluginTests, base.BaseAuthTokenTestCase): def setUp(self): super(V2UserPluginTests, self).setUp() self.service_token = fixture.V2Token() self.service_token.set_scope() s = self.service_token.add_service('identity', name='keystone') s.add_endpoint(public=BASE_URI, admin=BASE_URI, internal=BASE_URI) self.configure_middleware(auth_type='v2password', auth_url='%s/v2.0/' % AUTH_URL, user_id=self.service_token.user_id, password=uuid.uuid4().hex, tenant_id=self.service_token.tenant_id) auth_discovery = fixture.DiscoveryList(href=AUTH_URL, v3=False) self.requests_mock.get(AUTH_URL, json=auth_discovery) base_discovery = fixture.DiscoveryList(href=BASE_URI, v3=False) self.requests_mock.get(BASE_URI, json=base_discovery) url = '%s/v2.0/tokens' % AUTH_URL self.requests_mock.post(url, json=self.service_token) def get_role_names(self, token): return [x['name'] for x in token['access']['user'].get('roles', [])] def get_token(self, service=False): token = fixture.V2Token() token.set_scope() token.add_role() if service: token.add_role('service') request_headers = {'X-Auth-Token': self.service_token.token_id} url = '%s/v2.0/tokens/%s' % (BASE_URI, token.token_id) self.requests_mock.get(url, request_headers=request_headers, json=token) return token.token_id, token def assertTokenDataEqual(self, token_id, token, token_data): super(V2UserPluginTests, self).assertTokenDataEqual(token_id, token, token_data) self.assertEqual(token.tenant_id, token_data.project_id) self.assertIsNone(token_data.user_domain_id) self.assertIsNone(token_data.project_domain_id) def test_trust_scope(self): token_id, token = self.get_token() token.set_trust() plugin = self.get_plugin(token_id) self.assertEqual(token.trust_id, plugin.user.trust_id) self.assertEqual(token.trustee_user_id, plugin.user.trustee_user_id) self.assertIsNone(plugin.user.trustor_user_id) ",8,366
openstack%2Fcyborg~master~If95d39e5c326d70e17a9649bd281514e2ccf9abe,openstack/cyborg,master,If95d39e5c326d70e17a9649bd281514e2ccf9abe,Set ARQ get_all return 423 when any ARQ for vm is not resolved,MERGED,2019-11-28 07:59:03.000000000,2019-12-03 07:53:35.000000000,2019-12-03 07:52:13.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 27458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-11-28 07:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b1a6a2de1d013fa3b0031a00d863615a377e8b89', 'message': '(WIP)Set ARQ get_all return 423 when any ARQ for vm is not resolved\n\nWhen nova or some user call ARQ get_all with url:\naccelerator/v2/accelerator_requests?instance=f0fbe76c-1923-4758-ae54-e57631c98711&bind_state=resolved\n\nIf any ARQ for this instance is not resolved, the return code should\nbe 423(Locked) which will alert the user that the current arq is\nbeing operated.\n\nChange-Id: If95d39e5c326d70e17a9649bd281514e2ccf9abe\n'}, {'number': 2, 'created': '2019-11-28 10:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6d0f5672dd3df9c2723df46e3792cf7325c70e76', 'message': 'Set ARQ get_all return 423 when any ARQ for vm is not resolved\n\nWhen nova or some user call ARQ get_all with url like:\naccelerator/v2/accelerator_requests?instance=f0fbe76c-1923-4758-ae54-e57631c98711&bind_state=resolved\n\nIf any ARQ for this instance is not resolved, the return code should\nbe 423(Locked) which will alert the user that the current arq is\nbeing operated.\n\nChange-Id: If95d39e5c326d70e17a9649bd281514e2ccf9abe\n'}, {'number': 3, 'created': '2019-12-03 02:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b168194fcfcc62bc12553cce43ec759a5c4ba4e0', 'message': 'Set ARQ get_all return 423 when any ARQ for vm is not resolved\n\nWhen nova or some user call ARQ get_all with url like:\naccelerator/v2/accelerator_requests?instance=f0fbe76c-1923-4758-ae54-e57631c98711&bind_state=resolved\n\nIf any ARQ for this instance is not resolved, the return code should\nbe 423(Locked) which will alert the user that the current arq is\nbeing operated.\n\nChange-Id: If95d39e5c326d70e17a9649bd281514e2ccf9abe\n'}, {'number': 4, 'created': '2019-12-03 02:55:45.000000000', 'files': ['cyborg/api/controllers/v2/arqs.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d4704429fb62ef13ff7dee814dd704dd6d171353', 'message': 'Set ARQ get_all return 423 when any ARQ for vm is not resolved\n\nWhen nova or some user call ARQ get_all with url like:\naccelerator/v2/accelerator_requests?instance=f0fbe76c-1923-4758-ae54-e57631c98711&bind_state=resolved\n\nIf any ARQ for this instance is not resolved, the return code should\nbe 423(Locked) which will alert the user that the current arq is\nbeing operated.\n\nChange-Id: If95d39e5c326d70e17a9649bd281514e2ccf9abe\n'}]",3,696466,d4704429fb62ef13ff7dee814dd704dd6d171353,26,10,4,28748,,,0,"Set ARQ get_all return 423 when any ARQ for vm is not resolved

When nova or some user call ARQ get_all with url like:
accelerator/v2/accelerator_requests?instance=f0fbe76c-1923-4758-ae54-e57631c98711&bind_state=resolved

If any ARQ for this instance is not resolved, the return code should
be 423(Locked) which will alert the user that the current arq is
being operated.

Change-Id: If95d39e5c326d70e17a9649bd281514e2ccf9abe
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/66/696466/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/api/controllers/v2/arqs.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py']",2,b1a6a2de1d013fa3b0031a00d863615a377e8b89,modify_arq_get_all_423," # TODO(chenke) test get_all return ""423 Locked""",,3,5
openstack%2Ftripleo-heat-templates~master~Id90754ad2506ee52d2a2cb939ccbf2d84e792cff,openstack/tripleo-heat-templates,master,Id90754ad2506ee52d2a2cb939ccbf2d84e792cff,ovn_dbs upgrade-with-os work,MERGED,2019-11-29 14:58:23.000000000,2019-12-03 07:27:17.000000000,2019-12-02 22:14:59.000000000,"[{'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-29 14:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99c07c5c063db70d2b999c8e250d23ecf91d07bf', 'message': 'WIP ovn_dbs scaleup upgrade work\n\nDepends-On: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\nChange-Id: Id90754ad2506ee52d2a2cb939ccbf2d84e792cff\n'}, {'number': 2, 'created': '2019-11-29 16:06:14.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36a84820e51bad57c6bbb92429f3afb3d9da29c2', 'message': 'ovn_dbs upgrade-with-os work\n\nThis adds the missing steps for the upgrades-with-os blueprint for\nthe ovn_dbs service. The ovn_dbs pacemaker service was not taken care of\nin the initial work in https://github.com/openstack/tripleo-heat-templates/commit/cb8caaae4381e6a3de81a517dc7c6b23d272e024\nThis commit tries to fix that.\n\nCloses-Bug: #1854519\n\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nDepends-On: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\nChange-Id: Id90754ad2506ee52d2a2cb939ccbf2d84e792cff\n'}]",0,696718,36a84820e51bad57c6bbb92429f3afb3d9da29c2,18,9,2,20172,,,0,"ovn_dbs upgrade-with-os work

This adds the missing steps for the upgrades-with-os blueprint for
the ovn_dbs service. The ovn_dbs pacemaker service was not taken care of
in the initial work in https://github.com/openstack/tripleo-heat-templates/commit/cb8caaae4381e6a3de81a517dc7c6b23d272e024
This commit tries to fix that.

Closes-Bug: #1854519

Tested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>

Depends-On: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7
Change-Id: Id90754ad2506ee52d2a2cb939ccbf2d84e792cff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/696718/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,99c07c5c063db70d2b999c8e250d23ecf91d07bf,ovn_dbs_upgrade," - when: - step|int == 1 block: - name: set ovn_dbs upgrade node facts in a single-node environment set_fact: ovn_dbs_short_node_names_upgraded: ""{{ ovn_dbs_short_node_names }}"" cacheable: no when: groups['ovn_dbs'] | length <= 1 - name: set ovn_dbs upgrade node facts from the limit option set_fact: ovn_dbs_short_node_names_upgraded: ""{{ ovn_dbs_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: - groups['ovn_dbs'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ ovn_dbs_short_node_names }}"" - debug: msg: ""Prepare ovn_dbs upgrade for {{ ovn_dbs_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade ovn_dbs without staged upgrade. You need to use the limit option in order to do so. when: >- ovn_dbs_short_node_names_upgraded is not defined or ovn_dbs_short_node_names_upgraded | length == 0 - name: remove ovn_dbs init container on upgrade-scaleup to force re-init shell: | if podman inspect ovn_dbs_init_bundle &> /dev/null; then podman rm ovn_dbs_init_bundle fi when: ovn_dbs_short_node_names_upgraded | length > 1 - name: add the ovn_dbs short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: ovn_dbs_short_node_names_override tripleo_upgrade_value: ""{{ovn_dbs_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ovn_dbs_short_node_names_override when: ovn_dbs_short_node_names_upgraded | length == ovn_dbs_short_node_names | length",,48,0
openstack%2Fpuppet-tripleo~master~I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7,openstack/puppet-tripleo,master,I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7,ovn_dbs override support,MERGED,2019-11-29 14:34:37.000000000,2019-12-03 07:27:08.000000000,2019-11-30 16:48:09.000000000,"[{'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-29 14:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7d4bd5f19d627bf602d9e7616476cac38a1e670f', 'message': 'WIP ovn_dbs override support\n\nChange-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\n'}, {'number': 2, 'created': '2019-11-29 16:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/60363eded6ffa5b4ebbadfaf751ece94fc98d5ac', 'message': 'ovn_dbs override support\n\nThese hiera keys are needed to support the upgrade-with-os\nblueprint. This support was added for other services already\nsee LP#1832361\n\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nChange-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\n'}, {'number': 3, 'created': '2019-11-29 16:05:04.000000000', 'files': ['manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/07c525c8d769842cb544f11fd7787bebef8e1254', 'message': 'ovn_dbs override support\n\nThese hiera keys are needed to support the upgrade-with-os\nblueprint. This support was added for other services already\nsee LP#1832361\n\nRelated-Bug: #1854519\n\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nChange-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\n'}]",0,696708,07c525c8d769842cb544f11fd7787bebef8e1254,17,9,3,20172,,,0,"ovn_dbs override support

These hiera keys are needed to support the upgrade-with-os
blueprint. This support was added for other services already
see LP#1832361

Related-Bug: #1854519

Tested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>

Change-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/08/696708/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ovn_dbs_bundle.pp'],1,7d4bd5f19d627bf602d9e7616476cac38a1e670f,," if (hiera('ovn_dbs_short_node_names_override', undef)) { $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names_override') } else { $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names') }", $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names'),5,1
openstack%2Fhorizon~stable%2Ftrain~I2f4dd34fdecfd524ba8609e77745d3e6891981fa,openstack/horizon,stable/train,I2f4dd34fdecfd524ba8609e77745d3e6891981fa,Imported Translations from Zanata,MERGED,2019-11-28 08:54:33.000000000,2019-12-03 06:38:47.000000000,2019-12-03 06:36:24.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 08:54:33.000000000', 'files': ['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/969a3e27935c3ba0ac406a0230e6c80bdcc20df0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2f4dd34fdecfd524ba8609e77745d3e6891981fa\n'}]",0,696479,969a3e27935c3ba0ac406a0230e6c80bdcc20df0,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2f4dd34fdecfd524ba8609e77745d3e6891981fa
",git fetch https://review.opendev.org/openstack/horizon refs/changes/79/696479/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,969a3e27935c3ba0ac406a0230e6c80bdcc20df0,zanata/translations,"""POT-Creation-Date: 2019-11-22 17:32+0000\n""""PO-Revision-Date: 2019-11-28 04:03+0000\n"""" If a snapshot is specified here only the specified snapshot of the volume\n"" "" will be backed up.\n"" "" </p>\n"" "" "" msgstr """" ""\n"" ""    ,   \n"" "" .\n"" "" </p>\n"" "" "" msgid """" ""\n""msgid ""1 (icmp) should be specified for IPv4 instead of 58."" msgstr ""IPv4 58  1 (icmp)  ."" msgid ""58 (ipv6-icmp) should be specified for IPv6 instead of 1."" msgstr ""IPv6 1  58 (ipv6-icmp)  ."" #, python-format msgid ""<span class='word-wrap'>Flavor Details: %(name)s</span>\"">%(name)s"" msgstr ""<span class='word-wrap'>Flavor : %(name)s</span>\"">%(name)s"" msgid ""Add Rule (Quota exceeded)"" msgstr ""  (Quota )"" msgctxt ""Current status of a Volume"" msgid ""Awaiting Transfer"" msgstr ""  "" msgid ""Backup Snapshot"" msgstr "" "" #, python-format msgid ""Cloning volume group \""%s\""."" msgstr ""   \""%s\"""" msgctxt ""Action log of an instance"" msgid ""Create Image"" msgstr "" "" msgctxt ""Current status of Volume Group"" msgid ""Deleting"" msgstr "" "" msgid ""Deprecated Settings"" msgstr ""  "" msgid ""Deprecated settings: {}."" msgstr ""  : {}."" msgid ""Download kubeconfig file"" msgstr ""kubeconfig  "" msgid ""Failed to create router."" msgstr ""  ."" msgid ""Group \""%s\"" already exists."" msgstr "" \""%s\""  ."" #, python-formatmsgid ""If checked, the port will be enabled."" msgstr ""  ."" msgid ""If checked, the router will be enabled."" msgstr ""  ."" msgid ""Key Pair Type"" msgstr ""  "" msgid ""Key Type"" msgstr "" "" #, python-format msgid """" ""Key with name \""%s\"" already exists. Use Edit to update the value, else "" ""create key with different name."" msgstr """" "" \""%s\""     .     "" "",    ."" msgid ""Kubernetes Namespace"" msgstr ""  "" msgctxt ""Action log of an instance"" msgid ""Lock"" msgstr """" msgid ""Missing required settings: {}."" msgstr ""  : {}."" msgid ""No snapshot for this volume"" msgstr ""   ."" msgid ""Perform a check to see if the application is ready for upgrade."" msgstr ""       "" msgid ""Required Settings"" msgstr "" "" msgid ""SSH Key"" msgstr ""SSH "" msgid ""Select snapshot to backup (Optional)"" msgstr ""   ()"" msgid ""The key must match the following the regex: '^[a-zA-Z0-9-_:. /]'"" msgstr ""    : '^[a-zA-Z0-9-_:. /]'"" msgid ""The new type must be different from the current volume type."" msgstr ""      ."" msgid ""The output format"" msgstr "" "" #, python-format msgid ""The password does not match the requirements: %s"" msgstr ""     : %s"" msgid ""Unable to attach volume: %s"" msgstr ""   : %s"" #, python-format msgid ""Unable to change password: %s"" msgstr ""   : %s"" #, python-formatmsgid ""Unable to create application credential: %s"" msgstr ""    : %s"" #, python-formatmsgid ""Unable to create encrypted volume type: %s"" msgstr ""     : %s"" #, python-format#, python-format msgid ""Unable to detach volume: %s"" msgstr ""   : %s"" msgid ""Unable to fetch snapshot"" msgstr ""   ."" msgid ""Unable to fetch snapshots"" msgstr ""   ."" msgid ""Unable to retrieve user domain."" msgstr ""    ."" msgid ""Unable to retrieve volume group project information."" msgstr ""      ."" msgid ""Unknown Settings"" msgstr ""   "" msgid ""Unknown settings: {}."" msgstr ""   : {}."" msgctxt ""Action log of an instance"" msgid ""Unlock"" msgstr "" "" msgctxt ""Current status of Volume Group"" msgid ""Updating"" msgstr "" "" msgid ""User \""%s\"" has been updated successfully."" msgstr "" \""%s\""   ."" #, python-formatmsgid ""X509 Certificate"" msgstr ""X509 "" ""You can optionally provide a Kubernetes Namespace. It will be included in "" ""the kubeconfig file which can be downloaded from the next screen."" msgstr """" ""      .   "" ""   kubeconfig   ."" msgid """"","""POT-Creation-Date: 2019-11-13 14:37+0000\n""""PO-Revision-Date: 2019-11-18 04:02+0000\n""",181,2
openstack%2Fnova~master~I999f8d84e10ff1a57c1ff6b717801b495032e358,openstack/nova,master,I999f8d84e10ff1a57c1ff6b717801b495032e358,Add new default rules and mapping in policy base class,MERGED,2019-03-22 02:46:05.000000000,2019-12-03 06:28:22.000000000,2019-12-03 02:53:15.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-03-22 02:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed69585e24852747598d716f265f88e0d1179f00', 'message': ""Introduce scope_types in os-services, lock policies\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level for example os-hypervisiors,\nos-services etc. By adding scope_type as 'system' to API policy\nmeans project-level scoped token cannot access these API.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level for example GET /servers.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n""}, {'number': 2, 'created': '2019-03-22 03:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa3cfa634286e3d1b798a8762f25c94bad0b3183', 'message': ""WIP:Introduce scope_types in os-services, lock policies\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level for example os-hypervisiors,\nos-services etc. By adding scope_type as 'system' to API policy\nmeans project-level scoped token cannot access these API.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level for example GET /servers.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n""}, {'number': 3, 'created': '2019-03-28 17:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de1ad9d819b86403a9eba2ff244db131c7c1b047', 'message': ""WIP:Introduce scope_types in os-services, lock policies\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nThere are two type of scope:\n1. 'system': policy with 'system' scope means user with\n'system-scoped' token have permission to access otherwise not.\nThis scope type can be applied to API policies which need\naccess permission at system level for example os-hypervisiors,\nos-services etc. By adding scope_type as 'system' to API policy\nmeans project-level scoped token cannot access these API.\n\n2. 'project': policy with 'project' scope means user with\n'project-scoped' token have permission to access.\nThis scope type can be applied to API policies which need\naccess permission at project level for example GET /servers.\n\nAny policy need permission for both scope 'system' and 'project'\ncan be added with both scope, for example: scope_type['system', 'project']\n\nPartial implement blueprint policy-default-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n""}, {'number': 4, 'created': '2019-06-04 07:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e96b3c4b4b966f49cef87f3c512e7015e14f282f', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nALso adding the mapping of new default roles, rules with\nlegacy role, rules\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 5, 'created': '2019-08-01 16:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ae4678fba0b67f4c85dfc75a187e88db3aced7c', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nALso adding the mapping of new default roles, rules with\nlegacy role, rules\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 6, 'created': '2019-08-01 16:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cd84da9c9b78ffb8c8d79a4a253e31a6bb55768', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 7, 'created': '2019-08-08 06:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b46291d9e698aa15f4bb2c19de1741d33075c55', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 8, 'created': '2019-08-15 09:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d94227661fa2adbff267d8d437c4b75be812f57c', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 9, 'created': '2019-08-16 01:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b1298ef7f13f5cffde9b99dc872f76ceb5f583', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 10, 'created': '2019-08-16 06:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5af94c85194480c1a72cb9ee33d0bbe0a5c0fa35', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 11, 'created': '2019-10-18 07:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/131d79f551efe47134525e31adf73e8d1ac1079a', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 12, 'created': '2019-10-18 07:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7807a9820bc3e5d5680ab5f48ca76416af594c6', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 13, 'created': '2019-10-18 08:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69610cada24a2fe5f8c5a552e076e5392d20a74a', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 14, 'created': '2019-10-29 20:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4d5a477b67ea178e1834eec3d007a89315ae346', 'message': 'Add new default roles and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, those have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 15, 'created': '2019-11-25 18:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7f51b3696c10df05a76d937b523bb9d8f2e1c20', 'message': 'Add new default rules and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, default rules have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 16, 'created': '2019-11-26 01:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d22f71b838d91213740b0a43c468948f76f22562', 'message': 'Add new default rules and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, default rules have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}, {'number': 17, 'created': '2019-11-26 19:05:42.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/policies/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bee15b56814673e784ec18a7b92cbf4974fa6628', 'message': 'Add new default rules and mapping in policy base class\n\nWe are introducing new default roles with scope capability\nin policies. To reuse those new default check_str or rules\namong policies, default rules have been defined in base class.\n\nAlso adding the mapping of new default roles, rules with\nlegacy role, rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358\n'}]",17,645452,bee15b56814673e784ec18a7b92cbf4974fa6628,196,21,17,8556,,,0,"Add new default rules and mapping in policy base class

We are introducing new default roles with scope capability
in policies. To reuse those new default check_str or rules
among policies, default rules have been defined in base class.

Also adding the mapping of new default roles, rules with
legacy role, rules.

Partial implement blueprint policy-defaults-refresh

Change-Id: I999f8d84e10ff1a57c1ff6b717801b495032e358
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/645452/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/services.py', 'nova/policies/lock_server.py']",2,ed69585e24852747598d716f265f88e0d1179f00,bp/policy-defaults-refresh,"POLICY_ROOT_OLD = 'os_compute_api:os-lock-server:%s' POLICY_ROOT = 'compute:server:%s' DEPRECATED_POLICY = policy.DeprecatedRule( POLICY_ROOT_OLD, base.RULE_ADMIN_OR_OWNER, ) DEPRECATED_REASON = """""" Since Stein release, nova API policies are more granular and introducing new default roles with scope_type capabilities. These new changes improve the security level, manageability. New policies are more rich in term of handling access at system and project level with read, write roles. Nova APIs are consuming these new policies improvements and automatically migrate the old overridden policies. Old policies are silently going to be ignored in nova 21.0.0 (OpenStack U) release. """""" name=POLICY_ROOT % 'lock', check_str=base.RULE_ADMIN_OR_OWNER, description=""Lock a server"", operations=[ ], # NOTE(gmann): This is scoped as: # 'system': Because System level member (which has system level # permission in token's scope) should be able to lock the server # belong to any projects. There is no separate check made for system # scope in API side because same will be verified via token'scope. # 'project': Server belong to projects and any user having appropriate # role under project should be able to lock the server. This needs to # pass the requested server's project_id in target and # context's project_id in check_str. This way we can make sure any user # with 'project' scope and 'admin' role cannot lock other project's # server. This will be done while adding new default roles. scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='19.0.0'), name=POLICY_ROOT % 'unlock', check_str=base.RULE_ADMIN_OR_OWNER, description=""Unlock a server"", operations=[ ], # NOTE(gmann): This is scoped as: # 'system': Because System level member (which has system level # permission in token's scope) should be able to lock the server # belong to any projects. There is no separate check made for system # scope in API side because same will be verified via token'scope. # 'project': Server belong to projects and any user having appropriate # role under project should be able to lock the server. This needs to # pass the requested server's project_id in target and # context's project_id in check_str. This way we can make sure any user # with 'project' scope and 'admin' role cannot lock other project's # server. This will be done while adding new default roles. scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='19.0.0'), name=POLICY_ROOT % 'unlock:unlock_override', check_str=base.RULE_ADMIN_API, description=""""""Unlock a server, regardless who locked the server. operations=[ ], # NOTE(gmann): This is scoped as: # 'system': Because System level member (which has system level # permission in token's scope) should be able to lock the server # belong to any projects. There is no separate check made for system # scope in API side because same will be verified via token'scope. # 'project': Server belong to projects and any user having appropriate # role under project should be able to lock the server. This needs to # pass the requested server's project_id in target and # context's project_id in check_str. This way we can make sure any user # with 'project' scope and 'admin' role cannot lock other project's # server. This will be done while adding new default roles. scope_types=['system', 'project'], deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='19.0.0'),","POLICY_ROOT = 'os_compute_api:os-lock-server:%s' POLICY_ROOT % 'lock', base.RULE_ADMIN_OR_OWNER, ""Lock a server"", [ ] ), POLICY_ROOT % 'unlock', base.RULE_ADMIN_OR_OWNER, ""Unlock a server"", [ ] ), POLICY_ROOT % 'unlock:unlock_override', base.RULE_ADMIN_API, """"""Unlock a server, regardless who locked the server. [ ] ),",144,44
openstack%2Fnetworking-ovn~master~I604e2f515ace0ade2888fe700eb4264e72ba9eb9,openstack/networking-ovn,master,I604e2f515ace0ade2888fe700eb4264e72ba9eb9,snat can not be disabled while router update,ABANDONED,2019-11-25 11:26:43.000000000,2019-12-03 06:26:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-25 11:26:43.000000000', 'files': ['networking_ovn/common/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/30982aab66ef90994946d0918fb31dee87aa6635', 'message': 'snat can not be disabled while router update\n\nrouter snat can not be disabled while invoking router rest API to update\nsnat flag from true to false, Ovn is still forwarding external traffic\n\nChange-Id: I604e2f515ace0ade2888fe700eb4264e72ba9eb9\nCloses-Bug: #1853829\n'}]",0,695885,30982aab66ef90994946d0918fb31dee87aa6635,3,1,1,27079,,,0,"snat can not be disabled while router update

router snat can not be disabled while invoking router rest API to update
snat flag from true to false, Ovn is still forwarding external traffic

Change-Id: I604e2f515ace0ade2888fe700eb4264e72ba9eb9
Closes-Bug: #1853829
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/85/695885/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,30982aab66ef90994946d0918fb31dee87aa6635,bug/1853829," if bool(ovn_snats) != new_snat_state and networks: self.update_nat_rules( new_router, networks, enable_snat=new_snat_state, txn=txn)"," if bool(ovn_snats) != new_snat_state: if utils.is_snat_enabled(new_router) and networks: self.update_nat_rules( new_router, networks, enable_snat=new_snat_state, txn=txn)",4,5
openstack%2Fhorizon~stable%2Fstein~I0fd264195e88a7dfb84f9e87a17d14b35e899501,openstack/horizon,stable/stein,I0fd264195e88a7dfb84f9e87a17d14b35e899501,Imported Translations from Zanata,MERGED,2019-12-02 09:11:45.000000000,2019-12-03 05:37:15.000000000,2019-12-03 05:35:57.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 09:11:45.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-admin.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/80e21c76626650c163f427d67852bde323cbcdbc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0fd264195e88a7dfb84f9e87a17d14b35e899501\n'}]",0,696835,80e21c76626650c163f427d67852bde323cbcdbc,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0fd264195e88a7dfb84f9e87a17d14b35e899501
",git fetch https://review.opendev.org/openstack/horizon refs/changes/35/696835/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-admin.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc-admin.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po']",4,80e21c76626650c163f427d67852bde323cbcdbc,zanata/translations,"""Project-Id-Version: horizon 15.1.2.dev3\n""""POT-Creation-Date: 2019-11-15 06:04-0600\n""","""Project-Id-Version: horizon 15.0.0.0b2.dev218\n""""POT-Creation-Date: 2019-01-11 10:46-0600\n""msgid ""256"" msgstr ""256"" msgid """" ""512 (Recommended for aes-xts-plain64. 256 should be used for aes-cbc-essiv)"" msgstr """" ""512 (Recommended for aes-xts-plain64. 256 should be used for aes-cbc-essiv)"" msgid """" ""Using this selection for aes-xts, the underlying key size would only be 256-"" ""bits*"" msgstr """" ""Using this selection for aes-xts, the underlying key size would only be 256-"" ""bits*"" ",11,67
openstack%2Fhorizon~master~I907172cfe295b310617139b0431ededda7fc33f4,openstack/horizon,master,I907172cfe295b310617139b0431ededda7fc33f4,Fix syntax error in installation guide,MERGED,2019-12-01 05:40:58.000000000,2019-12-03 05:32:56.000000000,2019-12-03 05:31:31.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-01 05:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2cddcf60ef56e4f31fb80af63a661f5db5ea9390', 'message': 'Fix syntax error in installation guide\n\nChange-Id: I907172cfe295b310617139b0431ededda7fc33f4\n'}, {'number': 2, 'created': '2019-12-01 05:44:00.000000000', 'files': ['doc/source/install/from-source.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9efd44a40a0b400512373fd2d71a8ee2c3325f88', 'message': 'Fix syntax error in installation guide\n\nThis fixes a missing comma in the configuration example\nand also adds a proper default key to caches.\n\nChange-Id: I907172cfe295b310617139b0431ededda7fc33f4\n'}]",0,696784,9efd44a40a0b400512373fd2d71a8ee2c3325f88,10,4,2,22623,,,0,"Fix syntax error in installation guide

This fixes a missing comma in the configuration example
and also adds a proper default key to caches.

Change-Id: I907172cfe295b310617139b0431ededda7fc33f4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/84/696784/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/from-source.rst'],1,2cddcf60ef56e4f31fb80af63a661f5db5ea9390,," 'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',", 'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',1,1
openstack%2Fnova~master~I95130eeeac1ef8f4676925fe6c0e2d386d88259c,openstack/nova,master,I95130eeeac1ef8f4676925fe6c0e2d386d88259c,api-guide: flesh out the server actions section,MERGED,2019-12-02 20:14:06.000000000,2019-12-03 04:55:17.000000000,2019-12-02 22:11:26.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-12-02 20:14:06.000000000', 'files': ['api-guide/source/faults.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a4966b8ee9edfcbeb43c4a0b18fb87e7a0868d7f', 'message': 'api-guide: flesh out the server actions section\n\nThe API guide on faults has a section on server actions\nbut just links to the API reference. There is also the\n""Asynchronous faults"" section at the bottom which refers\nto the server actions API but does not go into details.\n\nThis fleshes that section on server actions out a bit more\nand includes a walkthrough on the command line of a failed\nresize due to NoValidHost. I chose this example since the\nserver status does not change to ERROR so there is no fault\nto see in the server details when the resize action fails.\n\nChange-Id: I95130eeeac1ef8f4676925fe6c0e2d386d88259c\n'}]",1,696954,a4966b8ee9edfcbeb43c4a0b18fb87e7a0868d7f,15,7,1,6873,,,0,"api-guide: flesh out the server actions section

The API guide on faults has a section on server actions
but just links to the API reference. There is also the
""Asynchronous faults"" section at the bottom which refers
to the server actions API but does not go into details.

This fleshes that section on server actions out a bit more
and includes a walkthrough on the command line of a failed
resize due to NoValidHost. I chose this example since the
server status does not change to ERROR so there is no fault
to see in the server details when the resize action fails.

Change-Id: I95130eeeac1ef8f4676925fe6c0e2d386d88259c
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/696954/1 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/faults.rst'],1,a4966b8ee9edfcbeb43c4a0b18fb87e7a0868d7f,api-guide-server-actions,"Most `server action APIs`_ are asynchronous. Usually the API service will do some minimal work and then send the request off to the ``nova-compute`` service to complete the action and the API will return a 202 response to the client. The client will poll the API until the operation completes, which could be a status change on the server but is usually at least always waiting for the server ``OS-EXT-STS:task_state`` field to go to ``null`` indicating the action has completed either successfully or with an error. If a server action fails and the server status changes to ``ERROR`` an :ref:`instance fault <instance-fault>` will be shown with the server details. The `os-instance-actions API`_ allows users end users to list the outcome of server actions, referencing the requested action by request id. This is useful when an action fails and the server status does not change to ``ERROR``. To illustrate, consider a server (vm1) created with flavor ``m1.tiny``: .. code-block:: console $ openstack server create --flavor m1.tiny --image cirros-0.4.0-x86_64-disk --wait vm1 +-----------------------------+-----------------------------------------------------------------+ | Field | Value | +-----------------------------+-----------------------------------------------------------------+ | OS-DCF:diskConfig | MANUAL | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-STS:power_state | Running | | OS-EXT-STS:task_state | None | | OS-EXT-STS:vm_state | active | | OS-SRV-USG:launched_at | 2019-12-02T19:14:48.000000 | | OS-SRV-USG:terminated_at | None | | accessIPv4 | | | accessIPv6 | | | addresses | private=10.0.0.60, fda0:e0c4:2764:0:f816:3eff:fe03:806 | | adminPass | NgascCr3dYo4 | | config_drive | | | created | 2019-12-02T19:14:42Z | | flavor | m1.tiny (1) | | hostId | 22e88bec09a7e33606348fce0abac0ebbbe091a35e29db1498ec4e14 | | id | 344174b8-34fd-4017-ae29-b9084dcf3861 | | image | cirros-0.4.0-x86_64-disk (cce5e6d6-d359-4152-b277-1b4f1871557f) | | key_name | None | | name | vm1 | | progress | 0 | | project_id | b22597ea961545f3bde1b2ede0bd5b91 | | properties | | | security_groups | name='default' | | status | ACTIVE | | updated | 2019-12-02T19:14:49Z | | user_id | 046033fb3f824550999752b6525adbac | | volumes_attached | | +-----------------------------+-----------------------------------------------------------------+ The owner of the server then tries to resize the server to flavor ``m1.small`` which fails because there are no hosts available on which to resize the server: .. code-block:: console $ openstack server resize --flavor m1.small --wait vm1 Complete Despite the openstack command saying the operation completed, the server shows the original ``m1.tiny`` flavor and the status is not ``VERIFY_RESIZE``: .. code-block:: $ openstack server show vm1 -f value -c status -c flavor m1.tiny (1) ACTIVE Since the status is not ``ERROR`` there are is no ``fault`` field in the server details so we find the details by listing the events for the server: .. code-block:: console $ openstack server event list vm1 +------------------------------------------+--------------------------------------+--------+----------------------------+ | Request ID | Server ID | Action | Start Time | +------------------------------------------+--------------------------------------+--------+----------------------------+ | req-ea1b0dfc-3186-42a9-84ff-c4f4fb130fae | 344174b8-34fd-4017-ae29-b9084dcf3861 | resize | 2019-12-02T19:15:35.000000 | | req-4cdc4c93-0668-4ae6-98c8-a0a5fcc63d39 | 344174b8-34fd-4017-ae29-b9084dcf3861 | create | 2019-12-02T19:14:42.000000 | +------------------------------------------+--------------------------------------+--------+----------------------------+ To see details about the ``resize`` action, we use the Request ID for that action: .. code-block:: console $ openstack server event show vm1 req-ea1b0dfc-3186-42a9-84ff-c4f4fb130fae +---------------+------------------------------------------+ | Field | Value | +---------------+------------------------------------------+ | action | resize | | instance_uuid | 344174b8-34fd-4017-ae29-b9084dcf3861 | | message | Error | | project_id | b22597ea961545f3bde1b2ede0bd5b91 | | request_id | req-ea1b0dfc-3186-42a9-84ff-c4f4fb130fae | | start_time | 2019-12-02T19:15:35.000000 | | user_id | 046033fb3f824550999752b6525adbac | +---------------+------------------------------------------+ We see the message is ""Error"" but are not sure what failed. By default the event details for an action are not shown to users without the admin role so use microversion 2.51 to see the events (the ``events`` field is JSON-formatted here for readability): .. code-block:: $ openstack --os-compute-api-version 2.51 server event show vm1 req-ea1b0dfc-3186-42a9-84ff-c4f4fb130fae -f json -c events { ""events"": [ { ""event"": ""cold_migrate"", ""start_time"": ""2019-12-02T19:15:35.000000"", ""finish_time"": ""2019-12-02T19:15:36.000000"", ""result"": ""Error"" }, { ""event"": ""conductor_migrate_server"", ""start_time"": ""2019-12-02T19:15:35.000000"", ""finish_time"": ""2019-12-02T19:15:36.000000"", ""result"": ""Error"" } ] } By default policy configuration a user with the admin role can see a ``traceback`` for each failed event just like with an instance fault: .. code-block:: $ source openrc admin admin $ openstack --os-compute-api-version 2.51 server event show 344174b8-34fd-4017-ae29-b9084dcf3861 req-ea1b0dfc-3186-42a9-84ff-c4f4fb130fae -f json -c events { ""events"": [ { ""event"": ""cold_migrate"", ""start_time"": ""2019-12-02T19:15:35.000000"", ""finish_time"": ""2019-12-02T19:15:36.000000"", ""result"": ""Error"", ""traceback"": "" File \""/opt/stack/nova/nova/conductor/manager.py\"", line 301, in migrate_server\n host_list)\n File \""/opt/stack/nova/nova/conductor/manager.py\"", line 367, in _cold_migrate\n raise exception.NoValidHost(reason=msg)\n"" }, { ""event"": ""conductor_migrate_server"", ""start_time"": ""2019-12-02T19:15:35.000000"", ""finish_time"": ""2019-12-02T19:15:36.000000"", ""result"": ""Error"", ""traceback"": "" File \""/opt/stack/nova/nova/compute/utils.py\"", line 1410, in decorated_function\n return function(self, context, *args, **kwargs)\n File \""/opt/stack/nova/nova/conductor/manager.py\"", line 301, in migrate_server\n host_list)\n File \""/opt/stack/nova/nova/conductor/manager.py\"", line 367, in _cold_migrate\n raise exception.NoValidHost(reason=msg)\n"" } ] } .. _server action APIs: https://docs.openstack.org/api-ref/compute/#servers-run-an-action-servers-action .. _os-instance-actions API: https://docs.openstack.org/api-ref/compute/#servers-actions-servers-os-instance-actions.. _instance-fault: the `Server Actions`_ API described above.","There is an API for end users to list the outcome of `Server Actions`_, referencing the requested action by request id. For more details, please see: https://docs.openstack.org/api-ref/compute/#servers-actions-servers-os-instance-actions .. _Server Actions: https://docs.openstack.org/api-ref/compute/#servers-run-an-action-servers-actionthe Server Actions API described above.",162,6
openstack%2Fwatcher~master~Ibf8774a48c3d13ca9762bd5319f5e1ce2ed82b2f,openstack/watcher,master,Ibf8774a48c3d13ca9762bd5319f5e1ce2ed82b2f,Add a new microversion for data model API,MERGED,2019-11-29 03:55:17.000000000,2019-12-03 04:10:58.000000000,2019-12-03 04:09:55.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-11-29 03:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/faa6df84a97e7b1045a0bd03ea026719230ad8e6', 'message': '[Wip] Add a new microversion for data model API\n\nChange-Id: Ibf8774a48c3d13ca9762bd5319f5e1ce2ed82b2f\nCloses-Bug: #1854121\n'}, {'number': 2, 'created': '2019-11-30 07:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/653fedebff44ea75b72d4370d76813cc9b4d8452', 'message': 'Add a new microversion for data model API\n\nmicroversion 1.3 for list data model API\n\nChange-Id: Ibf8774a48c3d13ca9762bd5319f5e1ce2ed82b2f\nCloses-Bug: #1854121\n'}, {'number': 3, 'created': '2019-12-02 01:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7364a2959368911e2ef9db73d02d5ce61b019246', 'message': 'Add a new microversion for data model API\n\nmicroversion 1.3 for list data model API\n\nChange-Id: Ibf8774a48c3d13ca9762bd5319f5e1ce2ed82b2f\nCloses-Bug: #1854121\n'}, {'number': 4, 'created': '2019-12-02 06:37:38.000000000', 'files': ['watcher/api/controllers/rest_api_version_history.rst', 'watcher/api/controllers/v1/__init__.py', 'watcher/api/controllers/v1/versions.py', 'watcher/api/controllers/v1/data_model.py', 'watcher/api/controllers/v1/utils.py', 'watcher/tests/api/v1/test_data_model.py', 'watcher/tests/api/test_root.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/6f43f2b003986899d4d5de4f40c6760379136c5e', 'message': 'Add a new microversion for data model API\n\nmicroversion 1.3 for list data model API\n\nChange-Id: Ibf8774a48c3d13ca9762bd5319f5e1ce2ed82b2f\nCloses-Bug: #1854121\n'}]",2,696635,6f43f2b003986899d4d5de4f40c6760379136c5e,18,3,4,21692,,,0,"Add a new microversion for data model API

microversion 1.3 for list data model API

Change-Id: Ibf8774a48c3d13ca9762bd5319f5e1ce2ed82b2f
Closes-Bug: #1854121
",git fetch https://review.opendev.org/openstack/watcher refs/changes/35/696635/4 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/api/controllers/v1/__init__.py', 'watcher/api/controllers/v1/versions.py', 'watcher/api/controllers/v1/utils.py']",3,faa6df84a97e7b1045a0bd03ea026719230ad8e6,bug/1854121," def allow_list_datamodel(): """"""Check if we should support list data model API. Version 1.3 of the API added support to list data model. """""" return pecan.request.version.minor >= ( versions.VERSIONS.MINOR_3_DATAMODEL.value)",,21,8
openstack%2Fnova~master~Ibb0ee191c76df0d34c83daf97f462380e2741c94,openstack/nova,master,Ibb0ee191c76df0d34c83daf97f462380e2741c94,Process requested_resources in ResourceRequest init,MERGED,2019-11-27 16:46:25.000000000,2019-12-03 03:46:55.000000000,2019-12-02 19:51:41.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-27 16:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8115d44d685c51c90e37e53c4fcd211b35c3496', 'message': ""Process requested_resources in ResourceRequest init\n\nPreviously, resources_from_request_spec was initializing ResourceRequest\nand then tacking on the RequestSpec.resource_requests. This made little\nsense in light of the fact that ResourceRequest init's job is processing\nthe RequestSpec.\n\nTo make the flow more scrutable, this commit integrates the processing\nof RequestSpec.requested_resources into ResourceRequest.__init__.\n\nAs a result, ResourceRequest.add_request_group() is no longer used\noutside of ResourceRequest itself, so it is made private.\n\nNo test changes are necessary with this refactor. All the flows that\nwere previously calling ResourceRequest.__init__ directly were either\ndoing so with a RequestSpec with no resource_requests, or were ignoring\nthe resource_requests in ways that didn't matter (at least not yet). The\nlatter had two cases:\n\n- isolate_aggregates. Theoretically if you had tried to isolate\n  aggregates based on traits fed in through port bandwidth requests,\n  those traits would have been ignored.\n- Selecting hosts with specific CPU model flags (libvirt only).\n  Theoretically your bandwidth request could have required certain CPU\n  flag-based traits and they would have been ignored.\n\nChange-Id: Ibb0ee191c76df0d34c83daf97f462380e2741c94\n""}, {'number': 2, 'created': '2019-12-02 13:28:06.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0eb0a520f35eaf7a6b2cf0382ad0700fb9a455c', 'message': ""Process requested_resources in ResourceRequest init\n\nPreviously, resources_from_request_spec was initializing ResourceRequest\nand then tacking on the RequestSpec.resource_requests. This made little\nsense in light of the fact that ResourceRequest init's job is processing\nthe RequestSpec.\n\nTo make the flow more scrutable, this commit integrates the processing\nof RequestSpec.requested_resources into ResourceRequest.__init__.\n\nAs a result, ResourceRequest.add_request_group() is no longer used\noutside of ResourceRequest itself, so it is made private.\n\nNo test changes are necessary with this refactor. All the flows that\nwere previously calling ResourceRequest.__init__ directly were either\ndoing so with a RequestSpec with no resource_requests, or were ignoring\nthe resource_requests in ways that didn't matter (at least not yet). The\nlatter had two cases:\n\n- isolate_aggregates. Theoretically if you had tried to isolate\n  aggregates based on traits fed in through port bandwidth requests,\n  those traits would have been ignored.\n- Selecting hosts with specific CPU model flags (libvirt only).\n  Theoretically your bandwidth request could have required certain CPU\n  flag-based traits and they would have been ignored.\n\nChange-Id: Ibb0ee191c76df0d34c83daf97f462380e2741c94\n""}]",4,696354,e0eb0a520f35eaf7a6b2cf0382ad0700fb9a455c,39,11,2,14070,,,0,"Process requested_resources in ResourceRequest init

Previously, resources_from_request_spec was initializing ResourceRequest
and then tacking on the RequestSpec.resource_requests. This made little
sense in light of the fact that ResourceRequest init's job is processing
the RequestSpec.

To make the flow more scrutable, this commit integrates the processing
of RequestSpec.requested_resources into ResourceRequest.__init__.

As a result, ResourceRequest.add_request_group() is no longer used
outside of ResourceRequest itself, so it is made private.

No test changes are necessary with this refactor. All the flows that
were previously calling ResourceRequest.__init__ directly were either
doing so with a RequestSpec with no resource_requests, or were ignoring
the resource_requests in ways that didn't matter (at least not yet). The
latter had two cases:

- isolate_aggregates. Theoretically if you had tried to isolate
  aggregates based on traits fed in through port bandwidth requests,
  those traits would have been ignored.
- Selecting hosts with specific CPU model flags (libvirt only).
  Theoretically your bandwidth request could have required certain CPU
  flag-based traits and they would have been ignored.

Change-Id: Ibb0ee191c76df0d34c83daf97f462380e2741c94
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/696354/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",2,d8115d44d685c51c90e37e53c4fcd211b35c3496,ResourceRequest-process-RequestSpec.requested_resources, req._add_request_group(rg1) req._add_request_group(rg2) req._add_request_group(rg1) req._add_request_group(rg2), req.add_request_group(rg1) req.add_request_group(rg2) req.add_request_group(rg1) req.add_request_group(rg2),27,17
openstack%2Fpython-watcherclient~master~I5527414b5e87253d87a4a26398ad5dcce1193e43,openstack/python-watcherclient,master,I5527414b5e87253d87a4a26398ad5dcce1193e43,Watcherclient supports list data model API,MERGED,2019-12-02 06:44:19.000000000,2019-12-03 03:38:47.000000000,2019-12-03 03:37:43.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-12-02 06:44:19.000000000', 'files': ['watcherclient/common/httpclient.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/431319ee4ddf1e240309d84d9307558548ebeda0', 'message': 'Watcherclient supports list data model API\n\nChange-Id: I5527414b5e87253d87a4a26398ad5dcce1193e43\nRelated-Bug: #1854121\n'}]",0,696823,431319ee4ddf1e240309d84d9307558548ebeda0,10,3,1,21692,,,0,"Watcherclient supports list data model API

Change-Id: I5527414b5e87253d87a4a26398ad5dcce1193e43
Related-Bug: #1854121
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/23/696823/1 && git format-patch -1 --stdout FETCH_HEAD,['watcherclient/common/httpclient.py'],1,431319ee4ddf1e240309d84d9307558548ebeda0,bug/1854121,# Minor version 3 for adding list data model API LAST_KNOWN_API_VERSION = 3,# Minor version 2 for adding force option to audit LAST_KNOWN_API_VERSION = 2,2,2
openstack%2Foctavia~master~I2cf241ea965ad56ed70ebde83632ab855f5d859e,openstack/octavia,master,I2cf241ea965ad56ed70ebde83632ab855f5d859e,Use retry for AmphoraComputeConnectivityWait,MERGED,2019-06-03 15:48:38.000000000,2019-12-03 03:26:47.000000000,2019-12-03 03:25:01.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-06-03 15:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/24cf3dfc109ddd99c059f4b9514091d50a49fd48', 'message': '[WIP] Use retry for AmphoraComputeConnectivityWait\n\nMove retry out of loop. Use taskflow retry class Time.\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\nStory: 2005072\n'}, {'number': 2, 'created': '2019-06-05 12:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bc0716286c4e4d38472fc7ba4b46050294058bdd', 'message': '[WIP] Use retry for AmphoraComputeConnectivityWait\n\nMove retry out of loop. Use taskflow retry class Time.\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\nStory: 2005072\n'}, {'number': 3, 'created': '2019-06-05 12:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f51b3e4a5acd8ab2cf6b50c954c1aa7beb6f3c41', 'message': '[WIP] Use retry for AmphoraComputeConnectivityWait\n\nMove retry out of loop. Use taskflow retry class Time.\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\nStory: 2005072\n'}, {'number': 4, 'created': '2019-06-05 13:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/777c23c2a434cd72804004db9e9ac04d00f25095', 'message': '[WIP] Use retry for AmphoraComputeConnectivityWait\n\nMove retry out of loop. Use taskflow retry class Time.\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\nStory: 2005072\n'}, {'number': 5, 'created': '2019-06-05 16:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cbb860de637d45917de4d9cc289b5a24afa5f00', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\nStory: 2005072\n'}, {'number': 6, 'created': '2019-06-06 13:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a3d172f075dd2cc62634db8e268f3f2eb9474f2e', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 7, 'created': '2019-06-10 08:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a99d9da7e2220367ba70db8ae1717f8f30bc808b', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 8, 'created': '2019-06-10 09:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/374c7f68780b650e8df4437a58d5002ab52e9f61', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 9, 'created': '2019-06-10 15:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/12b1e89aab37a789bcc683e0af1d5d756ccb4892', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 10, 'created': '2019-06-11 08:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e214fbbf3ae4c97ae297e7926dad606f82a7690', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 11, 'created': '2019-06-11 08:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/38e882ae65053d3662cf2217f57a05828fd4ea90', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 12, 'created': '2019-06-11 14:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce81ba1c725b98981f1eaaf7c365821c77a31d47', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 13, 'created': '2019-06-18 11:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/999a35c11e4471494ddfea51890d7f61fe88fd35', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 14, 'created': '2019-07-12 13:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0fae7e68028bbec37d22783b51b2b51aa06e0d9a', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 15, 'created': '2019-08-08 08:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d1b613af0d31b136498f76c08408a3935b52a332', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 16, 'created': '2019-08-08 13:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c218ddc4783e469193e0950794bd7a3764921c50', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 17, 'created': '2019-09-12 10:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5aef7a4320b50a943058dcfbabd3144de466e917', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 18, 'created': '2019-09-18 14:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d49b27d6f8a2728ca54ae4c56a7ebb191e3205a5', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait.\nRequired for redis jobboard implementation.\n\nStory: 2005072\nTask: 33477\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 19, 'created': '2019-10-17 10:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9a3cc6363e70aa25517aadf6f3321d07ce25f009', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand \nclaim for job on worker. This means that worker is proccesing job and \nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 20, 'created': '2019-10-22 09:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e64bb14f2e036ca44ca54b82cbaf89525627e8ef', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand \nclaim for job on worker. This means that worker is proccesing job and \nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 21, 'created': '2019-10-23 12:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/adec840efa4101bed618d3a5dca7b78c4bde257d', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand \nclaim for job on worker. This means that worker is proccesing job and \nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 22, 'created': '2019-11-25 18:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b5ba392e606528d9a0856a11d0136dd1f445cb82', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand \nclaim for job on worker. This means that worker is proccesing job and \nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 23, 'created': '2019-11-28 04:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c8a65677c41410f453ec4e53cb0114594abd02b', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand \nclaim for job on worker. This means that worker is proccesing job and \nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 24, 'created': '2019-11-28 17:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cbd83a3adedb1e70efd0111818c8e74bb4c0039c', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand \nclaim for job on worker. This means that worker is proccesing job and \nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}, {'number': 25, 'created': '2019-11-29 02:55:37.000000000', 'files': ['octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/314b43af9a57a698a66d46c11892380bff315166', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand\nclaim for job on worker. This means that worker is proccesing job and\nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n'}]",36,662791,314b43af9a57a698a66d46c11892380bff315166,85,7,25,7249,,,0,"Use retry for AmphoraComputeConnectivityWait

Use taskflow retry for connectivity wait. [1]

This reqired for redis jobboard implementation as each retry expand
claim for job on worker. This means that worker is proccesing job and
it should not be released for other workers to work on it.

Adopted for v2 flows.

[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry

Story: 2005072
Task: 33477

Change-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/662791/25 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py']",2,24cf3dfc109ddd99c059f4b9514091d50a49fd48,jobboard," #for a in six.moves.xrange(conn_max_retries): try: with warnings.catch_warnings(): warnings.filterwarnings( ""ignore"", message=""A true SSLContext object is not available"" ) r = _request(**reqargs) LOG.debug('Connected to amphora. Response: %(resp)s', {'resp': r}) content_type = r.headers.get('content-type', '') # Check the 404 to see if it is just that the network in the # amphora is not yet up, in which case retry. # Otherwise return the response quickly. if r.status_code == 404: LOG.debug('Got a 404 (content-type: %(content_type)s) -- ' 'connection data: %(content)s', {'content_type': content_type, 'content': r.content}) if content_type.find(""application/json"") == -1: LOG.debug(""Amphora agent not ready."") raise requests.ConnectionError try: json_data = r.json().get('details', '') if 'No suitable network interface found' in json_data: LOG.debug(""Amphora network interface not found."") except simplejson.JSONDecodeError: # if r.json() fails pass # TODO(rm_work) Should we do something? return r except (requests.ConnectionError, requests.Timeout) as e: exception = e LOG.warning(""Could not connect to instance. Retrying."") time.sleep(conn_retry_interval) raise e # LOG.error(""Connection retries (currently set to %(max_retries)s) "" # ""exhausted. The amphora is unavailable. Reason: "" # ""%(exception)s"", # {'max_retries': conn_max_retries, # 'exception': exception}) # raise driver_except.TimeOutException()"," for a in six.moves.xrange(conn_max_retries): try: with warnings.catch_warnings(): warnings.filterwarnings( ""ignore"", message=""A true SSLContext object is not available"" ) r = _request(**reqargs) LOG.debug('Connected to amphora. Response: %(resp)s', {'resp': r}) content_type = r.headers.get('content-type', '') # Check the 404 to see if it is just that the network in the # amphora is not yet up, in which case retry. # Otherwise return the response quickly. if r.status_code == 404: LOG.debug('Got a 404 (content-type: %(content_type)s) -- ' 'connection data: %(content)s', {'content_type': content_type, 'content': r.content}) if content_type.find(""application/json"") == -1: LOG.debug(""Amphora agent not ready."") try: json_data = r.json().get('details', '') if 'No suitable network interface found' in json_data: LOG.debug(""Amphora network interface not found."") raise requests.ConnectionError except simplejson.JSONDecodeError: # if r.json() fails pass # TODO(rm_work) Should we do something? return r except (requests.ConnectionError, requests.Timeout) as e: exception = e LOG.warning(""Could not connect to instance. Retrying."") time.sleep(conn_retry_interval) LOG.error(""Connection retries (currently set to %(max_retries)s) "" ""exhausted. The amphora is unavailable. Reason: "" ""%(exception)s"", {'max_retries': conn_max_retries, 'exception': exception}) raise driver_except.TimeOutException()",55,44
openstack%2Fopenstack-helm~master~I2dae5bc32dbbaa9055884a568cebeb27fe13ac74,openstack/openstack-helm,master,I2dae5bc32dbbaa9055884a568cebeb27fe13ac74,Octavia: fix developer cert generation script,MERGED,2019-11-27 18:53:15.000000000,2019-12-03 03:17:16.000000000,2019-12-03 03:15:50.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 29668}]","[{'number': 1, 'created': '2019-11-27 18:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1db2434e39332b9cd9499de24c39821e67323bc2', 'message': 'Octavia: fix developer cert generation script\n\nThis PS fixes the developer script for generating certs for use with\noctavia.\n\nChange-Id: I2dae5bc32dbbaa9055884a568cebeb27fe13ac74\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-12-02 22:31:45.000000000', 'files': ['tools/deployment/developer/common/190-create-octavia-certs.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d7dda5d5e9488f5c28e4d293ccd80b4e63cac0e3', 'message': 'Octavia: fix developer cert generation script\n\nThis PS fixes the developer script for generating certs for use with\noctavia.\n\nChange-Id: I2dae5bc32dbbaa9055884a568cebeb27fe13ac74\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,696389,d7dda5d5e9488f5c28e4d293ccd80b4e63cac0e3,12,4,2,23928,,,0,"Octavia: fix developer cert generation script

This PS fixes the developer script for generating certs for use with
octavia.

Change-Id: I2dae5bc32dbbaa9055884a568cebeb27fe13ac74
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/696389/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/developer/common/190-create-octavia-certs.sh'],1,1db2434e39332b9cd9499de24c39821e67323bc2,octavia-script-fix,cd /tmp/octavia; git checkout stable/steincreate_secret ,create_secret,2,2
openstack%2Fnova~master~Ied2047a6bd22d194b3c33dca44bf81e7eebc6c86,openstack/nova,master,Ied2047a6bd22d194b3c33dca44bf81e7eebc6c86,Reusable RequestGroup.add_{resource|trait},MERGED,2019-11-27 18:19:34.000000000,2019-12-03 03:12:34.000000000,2019-12-02 20:10:34.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-27 18:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68963f83ffd6718b65edfa9d4b5626c039a16ffa', 'message': ""Reusable RequestGroup.add_{resource|trait}\n\nThis simply refactors the (minimal) logic to add a resource or\n(required/forbidden) trait to a RequestGroup into RequestGroup itself.\nIt didn't make sense for it to be in ResourceRequest.\n\nThis will make the logic reusable for e.g. assembling\nRequestSpec.requested_resources for accelerator requests.\n\nThis is a straight refactor, thoroughly covered by existing tests.\n\nChange-Id: Ied2047a6bd22d194b3c33dca44bf81e7eebc6c86\n""}, {'number': 2, 'created': '2019-11-27 21:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71415d50deaf0b652de58db5f534dce4a3a88095', 'message': ""Reusable RequestGroup.add_{resource|trait}\n\nThis simply refactors the (minimal) logic to add a resource or\n(required/forbidden) trait to a RequestGroup into RequestGroup itself.\nIt didn't make sense for it to be in ResourceRequest.\n\nThis will make the logic reusable for e.g. assembling\nRequestSpec.requested_resources for accelerator requests.\n\nThis is a straight refactor, thoroughly covered by existing tests.\n\nChange-Id: Ied2047a6bd22d194b3c33dca44bf81e7eebc6c86\n""}, {'number': 3, 'created': '2019-11-27 23:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ba9664f349b8a0774fe14d8d344074e4d208cf3', 'message': ""Reusable RequestGroup.add_{resource|trait}\n\nThis simply refactors the (minimal) logic to add a resource or\n(required/forbidden) trait to a RequestGroup into RequestGroup itself.\nIt didn't make sense for it to be in ResourceRequest.\n\nThis will make the logic reusable for e.g. assembling\nRequestSpec.requested_resources for accelerator requests.\n\nThis is a straight refactor, thoroughly covered by existing tests.\n\nChange-Id: Ied2047a6bd22d194b3c33dca44bf81e7eebc6c86\n""}, {'number': 4, 'created': '2019-12-02 13:28:06.000000000', 'files': ['nova/objects/request_spec.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a576de8f7675d587650f4493c04f299652ec605b', 'message': ""Reusable RequestGroup.add_{resource|trait}\n\nThis simply refactors the (minimal) logic to add a resource or\n(required/forbidden) trait to a RequestGroup into RequestGroup itself.\nIt didn't make sense for it to be in ResourceRequest.\n\nThis will make the logic reusable for e.g. assembling\nRequestSpec.requested_resources for accelerator requests.\n\nThis is a straight refactor, thoroughly covered by existing tests.\n\nChange-Id: Ied2047a6bd22d194b3c33dca44bf81e7eebc6c86\n""}]",0,696380,a576de8f7675d587650f4493c04f299652ec605b,37,12,4,14070,,,0,"Reusable RequestGroup.add_{resource|trait}

This simply refactors the (minimal) logic to add a resource or
(required/forbidden) trait to a RequestGroup into RequestGroup itself.
It didn't make sense for it to be in ResourceRequest.

This will make the logic reusable for e.g. assembling
RequestSpec.requested_resources for accelerator requests.

This is a straight refactor, thoroughly covered by existing tests.

Change-Id: Ied2047a6bd22d194b3c33dca44bf81e7eebc6c86
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/696380/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/scheduler/utils.py']",2,68963f83ffd6718b65edfa9d4b5626c039a16ffa,use-placement-1.34," self.get_request_group(groupid).add_resource(rclass, amount) self.get_request_group(groupid).add_trait(trait_name, trait_type)"," # Validate the class. if not (rclass.startswith(orc.CUSTOM_NAMESPACE) or rclass in orc.STANDARDS): LOG.warning( ""Received an invalid ResourceClass '%(key)s' in extra_specs."", {""key"": rclass}) return # val represents the amount. Convert to int, or warn and skip. try: amount = int(amount) if amount < 0: raise ValueError() except ValueError: LOG.warning( ""Resource amounts must be nonnegative integers. Received "" ""'%(val)s' for key resources%(groupid)s."", {""groupid"": groupid or '', ""val"": amount}) return self.get_request_group(groupid).resources[rclass] = amount # Currently the only valid values for a trait entry are 'required' # and 'forbidden' trait_vals = ('required', 'forbidden') if trait_type == 'required': self.get_request_group(groupid).required_traits.add(trait_name) elif trait_type == 'forbidden': self.get_request_group(groupid).forbidden_traits.add(trait_name) else: LOG.warning( ""Only (%(tvals)s) traits are supported. Received '%(val)s' "" ""for key trait%(groupid)s."", {""tvals"": ', '.join(trait_vals), ""groupid"": groupid or '', ""val"": trait_type}) return",36,33
openstack%2Ftempest~master~I834a3150c096397b66caf2a4078e1260d22e0fbf,openstack/tempest,master,I834a3150c096397b66caf2a4078e1260d22e0fbf,Modify the miswritten comment of API reference with volumes_client in v3,ABANDONED,2019-12-02 07:51:08.000000000,2019-12-03 02:37:12.000000000,,"[{'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 30410}]","[{'number': 1, 'created': '2019-12-02 07:51:08.000000000', 'files': ['tempest/lib/services/volume/v3/volumes_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f3e72b066cced15b21b00395cd6886092c83373', 'message': 'Modify the miswritten comment of API reference with volumes_client in v3\n\nModify the miswritten comment of API reference with volumes_client in v3\n\nChange-Id: I834a3150c096397b66caf2a4078e1260d22e0fbf\n'}]",0,696826,2f3e72b066cced15b21b00395cd6886092c83373,5,3,1,30410,,,0,"Modify the miswritten comment of API reference with volumes_client in v3

Modify the miswritten comment of API reference with volumes_client in v3

Change-Id: I834a3150c096397b66caf2a4078e1260d22e0fbf
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/696826/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/volume/v3/volumes_client.py'],1,2f3e72b066cced15b21b00395cd6886092c83373,, https://docs.openstack.org/api-ref/block-storage/v3/index.html#force-detach-a-volume, https://docs.openstack.org/api-ref/block-storage/v3/index.html#force-delete-a-volume,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I960e45f2162f8e1257f952a14e7f876468aa8fca,openstack/tripleo-ansible,stable/train,I960e45f2162f8e1257f952a14e7f876468aa8fca,Adding setup_rear and setup_nfs task,MERGED,2019-11-25 10:01:41.000000000,2019-12-03 02:36:56.000000000,2019-12-03 02:36:56.000000000,"[{'_account_id': 7353}, {'_account_id': 8932}, {'_account_id': 11085}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 10:01:41.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/setup_rear.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7551a6be5ab7143415a08b39f34318f0ab327cb7', 'message': 'Adding setup_rear and setup_nfs task\n\nAdding the tasks to install and configure ReaR and\ninstall and configure NFS..\n\nChange-Id: I960e45f2162f8e1257f952a14e7f876468aa8fca\nCloses-Bug: #1853819\n(cherry picked from commit b0fb6e2072d6454eaf3fc22a5204b48b4cc8a888)\n'}]",0,695873,7551a6be5ab7143415a08b39f34318f0ab327cb7,10,6,1,20775,,,0,"Adding setup_rear and setup_nfs task

Adding the tasks to install and configure ReaR and
install and configure NFS..

Change-Id: I960e45f2162f8e1257f952a14e7f876468aa8fca
Closes-Bug: #1853819
(cherry picked from commit b0fb6e2072d6454eaf3fc22a5204b48b4cc8a888)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/695873/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup-and-restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup-and-restore/tasks/setup_rear.yml']",2,7551a6be5ab7143415a08b39f34318f0ab327cb7,bug/1853819,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""backup-and-restore"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" tags: - always - name: Setup ReaR import_tasks: ../setup_rear/tasks/main.yml ",,72,0
openstack%2Ftripleo-ansible~master~Ic0bd173ad34d1c01a58a66d9a754acd3093a972c,openstack/tripleo-ansible,master,Ic0bd173ad34d1c01a58a66d9a754acd3093a972c,Rename overcloud-delete playbook,MERGED,2019-11-21 20:46:40.000000000,2019-12-03 02:36:54.000000000,2019-12-03 02:36:54.000000000,"[{'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-21 20:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/313f2ca9529e2afc79f4e4bcd90e64c1b09d994d', 'message': 'Rrename workflow file\n\nThis change renames our workflow playbook to have the prefix\n""workflow-"". This is being done so that we can easily identify\nplaybooks that are used in the client as replacements for\nmistral workflows.\n\nChange-Id: Ic0bd173ad34d1c01a58a66d9a754acd3093a972c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-11-21 21:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09f2b91d05175ef0b1932d0ab4de0966e4e3bf55', 'message': 'Rename overcloud-delete playbook\n\nThis change renames our workflow playbook to have the prefix\n""workflow-"". This is being done so that we can easily identify\nplaybooks that are used in the client as replacements for\nmistral workflows.\n\nChange-Id: Ic0bd173ad34d1c01a58a66d9a754acd3093a972c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-11-25 14:59:19.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51f601ab3232ed57f34ffcfac640189e19fe8390', 'message': 'Rename overcloud-delete playbook\n\nThis change renames our workflow playbook to have the prefix\n""cli-"". This is being done so that we can easily identify\nplaybooks that are used in the client.\n\nChange-Id: Ic0bd173ad34d1c01a58a66d9a754acd3093a972c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,695574,51f601ab3232ed57f34ffcfac640189e19fe8390,17,6,3,7353,,,0,"Rename overcloud-delete playbook

This change renames our workflow playbook to have the prefix
""cli-"". This is being done so that we can easily identify
playbooks that are used in the client.

Change-Id: Ic0bd173ad34d1c01a58a66d9a754acd3093a972c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/695574/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/workflow-overcloud-delete.yaml'],1,313f2ca9529e2afc79f4e4bcd90e64c1b09d994d,mistral_to_ansible,,,0,0
openstack%2Ftripleo-heat-templates~master~I26d440adfc9e3e75d120c1a644f82784d6cf31da,openstack/tripleo-heat-templates,master,I26d440adfc9e3e75d120c1a644f82784d6cf31da,Create the default storage pool before calling create-node.sh,MERGED,2019-11-21 13:40:57.000000000,2019-12-03 02:17:11.000000000,2019-12-03 02:17:11.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-21 13:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e09aa58ab15c9c93583f330139ac15dabd960af8', 'message': 'Create the default storage pool before calling create-node.sh\n\ncreate-node.sh no longer does this (in devstack its done in\ndevstack/lib/ironic).\n\nChange-Id: I26d440adfc9e3e75d120c1a644f82784d6cf31da\n'}, {'number': 2, 'created': '2019-11-22 11:40:45.000000000', 'files': ['ci/environments/scenario012-standalone.yaml', 'ci/common/vbmc_setup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/189341fde3dd3679ca5a858ddebcf73914475c0e', 'message': 'Create the default storage pool before calling create-node.sh\n\ncreate-node.sh no longer does this (in devstack its done in\ndevstack/lib/ironic).\n\nChange-Id: I26d440adfc9e3e75d120c1a644f82784d6cf31da\n'}]",0,695437,189341fde3dd3679ca5a858ddebcf73914475c0e,11,4,2,1926,,,0,"Create the default storage pool before calling create-node.sh

create-node.sh no longer does this (in devstack its done in
devstack/lib/ironic).

Change-Id: I26d440adfc9e3e75d120c1a644f82784d6cf31da
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/695437/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/common/vbmc_setup.yaml'],1,e09aa58ab15c9c93583f330139ac15dabd960af8,663586," LIBVIRT_STORAGE_POOL=${LIBVIRT_STORAGE_POOL:-""default""} LIBVIRT_STORAGE_POOL_PATH=${LIBVIRT_STORAGE_POOL_PATH:-/var/lib/libvirt/images} mkdir -p $LIBVIRT_STORAGE_POOL_PATH if ! virsh pool-list --all | grep -q $LIBVIRT_STORAGE_POOL; then virsh pool-define-as --name $LIBVIRT_STORAGE_POOL dir --target $LIBVIRT_STORAGE_POOL_PATH virsh pool-autostart $LIBVIRT_STORAGE_POOL virsh pool-start $LIBVIRT_STORAGE_POOL fi pool_state=$(virsh pool-info $LIBVIRT_STORAGE_POOL | grep State | awk '{ print $2 }') if [ ""$pool_state"" != ""running"" ] ; then virsh pool-start $LIBVIRT_STORAGE_POOL fi ",,16,0
openstack%2Fceilometer~stable%2Frocky~If4799a1b17001c0535413a26ec5d2f427e52f168,openstack/ceilometer,stable/rocky,If4799a1b17001c0535413a26ec5d2f427e52f168,Fix samples with dots in sample name,MERGED,2019-11-04 23:51:40.000000000,2019-12-03 02:03:04.000000000,2019-12-03 02:03:04.000000000,"[{'_account_id': 14107}, {'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 31052}]","[{'number': 1, 'created': '2019-11-04 23:51:40.000000000', 'files': ['ceilometer/publisher/prometheus.py', 'ceilometer/tests/unit/publisher/test_prometheus.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f96df820223d26b11ba361168721b6efd722a3ca', 'message': 'Fix samples with dots in sample name\n\nThis patch fixes Prometheus publisher behavior when Ceilometer\nmetric names contain dots by replacing them with underscores.\nPrometheus does not accept metrics with dots.\n\nChange-Id: If4799a1b17001c0535413a26ec5d2f427e52f168\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\n'}]",0,692928,f96df820223d26b11ba361168721b6efd722a3ca,7,4,1,21961,,,0,"Fix samples with dots in sample name

This patch fixes Prometheus publisher behavior when Ceilometer
metric names contain dots by replacing them with underscores.
Prometheus does not accept metrics with dots.

Change-Id: If4799a1b17001c0535413a26ec5d2f427e52f168
Signed-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/28/692928/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/publisher/prometheus.py', 'ceilometer/tests/unit/publisher/test_prometheus.py']",2,f96df820223d26b11ba361168721b6efd722a3ca,," sample.Sample( name='delta.epsilon', type=sample.TYPE_GAUGE, unit='', volume=7, user_id='test', project_id='test', resource_id=resource_id, timestamp=datetime.datetime.now().isoformat(), resource_metadata={'name': 'TestPublish'}, ),# TYPE delta_epsilon gauge delta_epsilon{resource_id=""%s""} 7 """""" % (self.resource_id, self.resource_id, self.resource_id, self.resource_id)# TYPE delta_epsilon gauge delta_epsilon{resource_id=""%s""} 7 """""" % (self.resource_id, self.resource_id, self.resource_id, self.resource_id)",""""""" % (self.resource_id, self.resource_id, self.resource_id)"""""" % (self.resource_id, self.resource_id, self.resource_id)",24,7
openstack%2Fceilometer~stable%2Fstein~If4799a1b17001c0535413a26ec5d2f427e52f168,openstack/ceilometer,stable/stein,If4799a1b17001c0535413a26ec5d2f427e52f168,Fix samples with dots in sample name,MERGED,2019-11-04 23:51:22.000000000,2019-12-03 02:01:55.000000000,2019-12-03 02:00:52.000000000,"[{'_account_id': 14107}, {'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 31052}]","[{'number': 1, 'created': '2019-11-04 23:51:22.000000000', 'files': ['ceilometer/publisher/prometheus.py', 'ceilometer/tests/unit/publisher/test_prometheus.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8b6abd01acf875fbb0f68be0f27ac70e88caa5ce', 'message': 'Fix samples with dots in sample name\n\nThis patch fixes Prometheus publisher behavior when Ceilometer\nmetric names contain dots by replacing them with underscores.\nPrometheus does not accept metrics with dots.\n\nChange-Id: If4799a1b17001c0535413a26ec5d2f427e52f168\nSigned-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>\n'}]",0,692927,8b6abd01acf875fbb0f68be0f27ac70e88caa5ce,8,4,1,21961,,,0,"Fix samples with dots in sample name

This patch fixes Prometheus publisher behavior when Ceilometer
metric names contain dots by replacing them with underscores.
Prometheus does not accept metrics with dots.

Change-Id: If4799a1b17001c0535413a26ec5d2f427e52f168
Signed-off-by: Yanos Angelopoulos <yanos@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/27/692927/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/publisher/prometheus.py', 'ceilometer/tests/unit/publisher/test_prometheus.py']",2,8b6abd01acf875fbb0f68be0f27ac70e88caa5ce,," sample.Sample( name='delta.epsilon', type=sample.TYPE_GAUGE, unit='', volume=7, user_id='test', project_id='test', resource_id=resource_id, timestamp=datetime.datetime.now().isoformat(), resource_metadata={'name': 'TestPublish'}, ),# TYPE delta_epsilon gauge delta_epsilon{resource_id=""%s""} 7 """""" % (self.resource_id, self.resource_id, self.resource_id, self.resource_id)# TYPE delta_epsilon gauge delta_epsilon{resource_id=""%s""} 7 """""" % (self.resource_id, self.resource_id, self.resource_id, self.resource_id)",""""""" % (self.resource_id, self.resource_id, self.resource_id)"""""" % (self.resource_id, self.resource_id, self.resource_id)",24,7
openstack%2Ftempest~master~I918cc5cde3af6ff34c1db4a588991e999b23d6e1,openstack/tempest,master,I918cc5cde3af6ff34c1db4a588991e999b23d6e1,Support hidden vnc console server header,ABANDONED,2019-01-29 16:41:27.000000000,2019-12-03 01:59:31.000000000,,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23625}]","[{'number': 1, 'created': '2019-01-29 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aceb5c2dff93da20099816277f62380a709f0769', 'message': 'Support hidden vnc console server header\n\nThis commit aims to add a config option to assert the contents\nof vnc server HTTP response headers better than before.\n\nBefore vnc tests would always assume there is a server header in\nthe vnc server HTTP response headers.\n\nAfter this change, vnc tests will now only check the server name\nif the config option for ``vnc_server_header_included`` is set to\nTrue and will assert the server header is not in the vnc server\nHTTP response if it is set to False.\n\nChange-Id: I918cc5cde3af6ff34c1db4a588991e999b23d6e1\n'}, {'number': 2, 'created': '2019-01-29 16:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2851b498beb442c13ac4518047576226ae200604', 'message': 'Support hidden vnc console server header\n\nThis commit aims to add a config option to assert the contents\nof vnc server HTTP response headers better than before.\n\nBefore vnc tests would always assume there is a server header in\nthe vnc server HTTP response headers.\n\nAfter this change, vnc tests will now only check the server name\nif the config option for ``vnc_server_header_included`` is set to\nTrue and will assert the server header is not in the vnc server\nHTTP response if it is set to False.\n\nChange-Id: I918cc5cde3af6ff34c1db4a588991e999b23d6e1\n'}, {'number': 3, 'created': '2019-01-29 16:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4132654da38f1305f4656c41bb59ba1c22518a00', 'message': 'Support hidden vnc console server header\n\nThis commit aims to add a config option to assert the contents\nof vnc server HTTP response headers better than before.\n\nBefore vnc tests would always assume there is a server header in\nthe vnc server HTTP response headers.\n\nAfter this change, vnc tests will now only check the server name\nif the config option for ``vnc_server_header_included`` is set to\nTrue and will assert the server header is not in the vnc server\nHTTP response if it is set to False.\n\nChange-Id: I918cc5cde3af6ff34c1db4a588991e999b23d6e1\n'}, {'number': 4, 'created': '2019-05-17 21:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee3ce44292e735d99d478fae97566522c80c2d56', 'message': 'Support hidden vnc console server header\n\nThis commit aims to add a config option to assert the contents\nof vnc server HTTP response headers better than before.\n\nBefore vnc tests would always assume there is a server header in\nthe vnc server HTTP response headers.\n\nAfter this change, vnc tests will now only check the server name\nif the config option for ``vnc_server_header_included`` is set to\nTrue and will assert the server header is not in the vnc server\nHTTP response if it is set to False.\n\nChange-Id: I918cc5cde3af6ff34c1db4a588991e999b23d6e1\n'}, {'number': 5, 'created': '2019-06-12 23:59:19.000000000', 'files': ['releasenotes/notes/add-vnc-console-server-header-included-support-d4d25081156a81f1.yaml', 'tempest/api/compute/servers/test_novnc.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e51e809bd544c5dcb05305f756a60d514da954a', 'message': 'Support hidden vnc console server header\n\nThis commit aims to add a config option to assert the contents\nof vnc server HTTP response headers better than before.\n\nBefore vnc tests would always assume there is a server header in\nthe vnc server HTTP response headers.\n\nAfter this change, vnc tests will now only check the server name\nif the config option for ``vnc_server_header_included`` is set to\nTrue and will assert the server header is not in the vnc server\nHTTP response if it is set to False.\n\nChange-Id: I918cc5cde3af6ff34c1db4a588991e999b23d6e1\n'}]",1,633781,5e51e809bd544c5dcb05305f756a60d514da954a,17,13,5,20378,,,0,"Support hidden vnc console server header

This commit aims to add a config option to assert the contents
of vnc server HTTP response headers better than before.

Before vnc tests would always assume there is a server header in
the vnc server HTTP response headers.

After this change, vnc tests will now only check the server name
if the config option for ``vnc_server_header_included`` is set to
True and will assert the server header is not in the vnc server
HTTP response if it is set to False.

Change-Id: I918cc5cde3af6ff34c1db4a588991e999b23d6e1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/633781/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-vnc-console-server-header-included-support-d4d25081156a81f1.yaml', 'tempest/api/compute/servers/test_novnc.py', 'tempest/config.py']",3,aceb5c2dff93da20099816277f62380a709f0769,," cfg.BoolOpt('vnc_server_header_included', default=True, help='Does the test environment have the VNC server name ' '(WebSockify, nginx, etc) included in response headers?'),",,31,11
openstack%2Fpython-neutronclient~master~I9adef11b97d76c8e7834e7cc245a0308ea2b4f80,openstack/python-neutronclient,master,I9adef11b97d76c8e7834e7cc245a0308ea2b4f80,Update http links in docs,ABANDONED,2018-05-09 10:14:15.000000000,2019-12-03 01:14:13.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-09 10:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/58d800cd8f15c0e30fdc3ee79b5ecb4a643c5d1d', 'message': 'Update http links in docs\n\nReplace the http links with the newest ones in CONTRIBUTING.rst\nand REASME.rs\n\nChange-Id: I9adef11b97d76c8e7834e7cc245a0308ea2b4f80\n'}, {'number': 2, 'created': '2018-05-11 01:50:43.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/aae4dd5fb450d0517f5bbaa1159a09b7ef8fee67', 'message': 'Update http links in docs\n\nReplace the http links with the newest ones in CONTRIBUTING.rst\nand REASME.rs\n\nChange-Id: I9adef11b97d76c8e7834e7cc245a0308ea2b4f80\n'}]",1,567180,aae4dd5fb450d0517f5bbaa1159a09b7ef8fee67,8,3,2,25058,,,0,"Update http links in docs

Replace the http links with the newest ones in CONTRIBUTING.rst
and REASME.rs

Change-Id: I9adef11b97d76c8e7834e7cc245a0308ea2b4f80
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/80/567180/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,58d800cd8f15c0e30fdc3ee79b5ecb4a643c5d1d,docs,.. image:: https://governance.openstack.org/badges/python-neutronclient.svg :target: https://governance.openstack.org/reference/tags/index.html.. _Developer's Guide: https://docs.openstack.org/infra/manual/developers.html,.. image:: http://governance.openstack.org/badges/python-neutronclient.svg :target: http://governance.openstack.org/reference/tags/index.html.. _Developer's Guide: http://docs.openstack.org/infra/manual/developers.html,5,5
openstack%2Fpython-octaviaclient~master~I35aa0bf105c3b59abb2ff775af12198bc0436572,openstack/python-octaviaclient,master,I35aa0bf105c3b59abb2ff775af12198bc0436572,Fix API breakage due to new exceptions module,MERGED,2019-12-02 19:44:49.000000000,2019-12-03 01:09:51.000000000,2019-12-03 01:08:46.000000000,"[{'_account_id': 4257}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-12-02 19:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/f89e47772519d838f397613c139f969aa93116e9', 'message': 'Fix API breakage due to new exceptions module\n\nThe commit ae244fcf25188f38c28870238e648e765a2e3adf broke API consumers\nby moving the OctaviaClientException to a different module. Ensure it\nremains available in its previous location by importing it by name.\n\nChange-Id: I35aa0bf105c3b59abb2ff775af12198bc0436572\nStory: #2006970\nTask: 37698\n'}, {'number': 2, 'created': '2019-12-02 21:33:12.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/api/test_octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/400a3a73e015e4c72c1a5610eecf237bf290e584', 'message': 'Fix API breakage due to new exceptions module\n\nThe commit ae244fcf25188f38c28870238e648e765a2e3adf broke API consumers\nby moving the OctaviaClientException to a different module. Ensure it\nremains available in its previous location by importing it by name.\n\nChange-Id: I35aa0bf105c3b59abb2ff775af12198bc0436572\nStory: #2006970\nTask: 37698\n'}]",4,696947,400a3a73e015e4c72c1a5610eecf237bf290e584,16,5,2,4257,,,0,"Fix API breakage due to new exceptions module

The commit ae244fcf25188f38c28870238e648e765a2e3adf broke API consumers
by moving the OctaviaClientException to a different module. Ensure it
remains available in its previous location by importing it by name.

Change-Id: I35aa0bf105c3b59abb2ff775af12198bc0436572
Story: #2006970
Task: 37698
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/47/696947/2 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/api/test_octavia.py']",2,f89e47772519d838f397613c139f969aa93116e9,696947,"class TestAPI(utils.TestCase): def test_client_exception(self): self.assertIs(octavia.OctaviaClientException, exceptions.OctaviaClientException) ",,8,2
openstack%2Foctavia~master~I6d5d39c4cf87ac687355f80ca591c1a611f46f41,openstack/octavia,master,I6d5d39c4cf87ac687355f80ca591c1a611f46f41,Use 2048-bits keys for devstack certificates,MERGED,2019-11-26 09:00:54.000000000,2019-12-02 23:59:38.000000000,2019-12-02 23:58:04.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-26 09:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/73943de9f9801f2359ebc961b21a68da7d071ebd', 'message': 'Use 2048-bits keys for devstack certificates\n\nRHEL8 and Centos8 refuse to load certificates generated with a 1024-bits\nkey because of new security policies. Increasing key size to 2048-bits\nfixes certificate generation scripts for these distributions.\n\nStory 2006944\nTask 37623\n\nChange-Id: I6d5d39c4cf87ac687355f80ca591c1a611f46f41\n'}, {'number': 2, 'created': '2019-11-26 09:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b43965b95bf7f84d19dd36c5a7a246da7cf881a', 'message': 'Use 2048-bits keys for devstack certificates\n\nRHEL8 and Centos8 refuse to load certificates generated with a 1024-bits\nkey because of new security policies. Increasing key size to 2048-bits\nfixes certificate generation scripts for these distributions.\n\nStory 2006944\nTask 37623\n\nChange-Id: I6d5d39c4cf87ac687355f80ca591c1a611f46f41\n'}, {'number': 3, 'created': '2019-11-27 10:51:03.000000000', 'files': ['bin/create_dual_intermediate_CA.sh', 'bin/create_single_CA_intermediate_CA.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b6bb936d377f110f7f684d845ec3bd8e76fec82', 'message': 'Use 2048-bits keys for devstack certificates\n\nRHEL8 and Centos8 refuse to load certificates generated with a 1024-bits\nkey because of new security policies. Increasing key size to 2048-bits\nfixes certificate generation scripts for these distributions.\n\nStory 2006944\nTask 37623\n\nChange-Id: I6d5d39c4cf87ac687355f80ca591c1a611f46f41\n'}]",6,696037,8b6bb936d377f110f7f684d845ec3bd8e76fec82,20,4,3,29244,,,0,"Use 2048-bits keys for devstack certificates

RHEL8 and Centos8 refuse to load certificates generated with a 1024-bits
key because of new security policies. Increasing key size to 2048-bits
fixes certificate generation scripts for these distributions.

Story 2006944
Task 37623

Change-Id: I6d5d39c4cf87ac687355f80ca591c1a611f46f41
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/696037/2 && git format-patch -1 --stdout FETCH_HEAD,"['bin/create_dual_intermediate_CA.sh', 'bin/create_single_CA_intermediate_CA.sh']",2,73943de9f9801f2359ebc961b21a68da7d071ebd,,openssl genrsa -aes128 -out private/ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/intermediate.ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/controller.key.pem -passout pass:not-secure-passphrase 2048,openssl genrsa -aes128 -out private/ca.key.pem -passout pass:not-secure-passphrase 1024openssl genrsa -aes128 -out intermediate_ca/private/intermediate.ca.key.pem -passout pass:not-secure-passphrase 1024openssl genrsa -aes128 -out intermediate_ca/private/controller.key.pem -passout pass:not-secure-passphrase 1024,8,8
openstack%2Fopenstack-helm~master~Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8,openstack/openstack-helm,master,Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8,Implement Security Context for Nova,MERGED,2019-11-04 19:31:17.000000000,2019-12-02 23:41:35.000000000,2019-12-02 23:40:13.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17130}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28618}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29298}]","[{'number': 1, 'created': '2019-11-04 19:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c850fc3cb49a9141e424dcc5f6b4eaf9e874f491', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 2, 'created': '2019-11-06 21:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2058fc16a27fd1095502c9e01155b2941fd0cf4c', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 3, 'created': '2019-11-08 21:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8938715e7f247b88b7e87064169b95c9a40d488', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 4, 'created': '2019-11-08 23:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe84504bbdd9d87e911cbc09752f722d9275a61d', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 5, 'created': '2019-11-08 23:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/46ec5cd417d9357aebcf6c404f8e4a9d97276115', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 6, 'created': '2019-11-26 20:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af71702061e13a9a5c471d9a7db8de405a36d21e', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 7, 'created': '2019-11-27 00:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3762d73ec5af39fb19737727920d6f7cbb97dfa7', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 8, 'created': '2019-11-27 01:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1bf40eeb161f04b6eab10ce8cbb2e62927c0adbc', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 9, 'created': '2019-11-27 07:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6136d5ef2a2f3147b941bac30e26a016483b439f', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}, {'number': 10, 'created': '2019-11-27 21:30:46.000000000', 'files': ['nova/values.yaml', 'nova/templates/deployment-placement.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4fdbf3c07a8e0175c4b3985f6e16862f3cc7c4bb', 'message': 'Implement Security Context for Nova\n\nImplement container security context for the following Nova resources:\n - Nova server deployment\n\nChange-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8\n'}]",4,692876,4fdbf3c07a8e0175c4b3985f6e16862f3cc7c4bb,47,16,10,29144,,,0,"Implement Security Context for Nova

Implement container security context for the following Nova resources:
 - Nova server deployment

Change-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/692876/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/deployment-placement.yaml']",2,c850fc3cb49a9141e424dcc5f6b4eaf9e874f491,,"{{ dict ""envAll"" $envAll ""application"" ""nova"" ""container"" ""nova_placement_api"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",,4,0
openstack%2Foslo.limit~master~I50c41805b8e196fdaf20c95e9aa687b98c369a57,openstack/oslo.limit,master,I50c41805b8e196fdaf20c95e9aa687b98c369a57,Add devstack job to .zuul.conf,MERGED,2019-07-10 14:44:48.000000000,2019-12-02 23:36:34.000000000,2019-12-02 23:34:35.000000000,"[{'_account_id': 15334}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-10 14:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/6f20185a5931b8affe7913dbdaf12f821eb52d6f', 'message': ""Add devstack job to .zuul.conf\n\nWe know we want to have some level of functional testing to verify\nenforcement models. This commit uses one approach to add a base\ndevstack job to oslo.limit's .zuul.conf so that we have a minimal-ish\ninstallation to configure with limits and write actual integration and\nfunctional tests against.\n\nChange-Id: I50c41805b8e196fdaf20c95e9aa687b98c369a57\n""}, {'number': 2, 'created': '2019-07-10 17:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/6bb5d65d2dcf1c11361d940daf6108ad3f249f8e', 'message': ""Add devstack job to .zuul.conf\n\nWe know we want to have some level of functional testing to verify\nenforcement models. This commit uses one approach to add a base\ndevstack job to oslo.limit's .zuul.conf so that we have a minimal-ish\ninstallation to configure with limits and write actual integration and\nfunctional tests against.\n\nChange-Id: I50c41805b8e196fdaf20c95e9aa687b98c369a57\n""}, {'number': 3, 'created': '2019-12-02 18:15:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/2632c8e1a9d8ad416a364f867759e9b221f72706', 'message': ""Add devstack job to .zuul.conf\n\nWe know we want to have some level of functional testing to verify\nenforcement models. This commit uses one approach to add a base\ndevstack job to oslo.limit's .zuul.conf so that we have a minimal-ish\ninstallation to configure with limits and write actual integration and\nfunctional tests against.\n\nChange-Id: I50c41805b8e196fdaf20c95e9aa687b98c369a57\n""}]",0,670079,2632c8e1a9d8ad416a364f867759e9b221f72706,13,4,3,5046,,,0,"Add devstack job to .zuul.conf

We know we want to have some level of functional testing to verify
enforcement models. This commit uses one approach to add a base
devstack job to oslo.limit's .zuul.conf so that we have a minimal-ish
installation to configure with limits and write actual integration and
functional tests against.

Change-Id: I50c41805b8e196fdaf20c95e9aa687b98c369a57
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/79/670079/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6f20185a5931b8affe7913dbdaf12f821eb52d6f,rewrite," - job: name: oslo-limit-functional parent: devstack description: This job sets up a minimal devstack deployment, configures various usage and limit scenarios, and verifies usage enforcement based on existing usage.",,8,0
openstack%2Fnetworking-ovn~master~I48d60efb7e62a86261c8eb3d2de0d76b47040be1,openstack/networking-ovn,master,I48d60efb7e62a86261c8eb3d2de0d76b47040be1,"DNM: This is a hack, please ignore",ABANDONED,2019-11-26 22:30:51.000000000,2019-12-02 23:31:08.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-26 22:30:51.000000000', 'files': ['networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1681c6205d8d96ba359fa78044440dab80bb56ea', 'message': 'DNM: This is a hack, please ignore\n\nChange-Id: I48d60efb7e62a86261c8eb3d2de0d76b47040be1\n'}]",0,696200,1681c6205d8d96ba359fa78044440dab80bb56ea,6,3,1,11952,,,0,"DNM: This is a hack, please ignore

Change-Id: I48d60efb7e62a86261c8eb3d2de0d76b47040be1
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/00/696200/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,1681c6205d8d96ba359fa78044440dab80bb56ea,,"# from neutron_lib.db import api as db_api # @db_api.retry_db_errors for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: # @db_api.retry_db_errors for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: # @db_api.retry_db_errors def _trunk_update(self, trunk): trunk.update(status=trunk_consts.ACTIVE_STATUS) def _set_binding_profile(self, context, subport, parent_port, ovn_txn): LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) try: ### pport = self.plugin_driver.get_port(context, parent_port) pport = port_obj.Port.get_object(context, id=parent_port) LOG.info(""XXX HACK1: pport %s"", pport) # host_id = pport.get(portbindings.HOST_ID, '') # HACK1 host_id = 'devstack3' except n_exc.ObjectNotFound: LOG.info(""Parent port %s not found while trying to get "" ""host_id for sub_port %s"", parent_port, subport.port_id) return LOG.info(""XXX HACK2: host_id %s"", host_id) LOG.info(""XXX HACK3: host %s"", db_port.binding.host) 'tag': subport.segmentation_id, portbindings.HOST_ID: host_id, }) LOG.debug(""Done setting parent %s for subport %s host_id %s"", parent_port, subport.port_id, host_id) LOG.info(""XXX Done setting parent %s for subport %s host_id %s"", parent_port, subport.port_id, host_id) # def _update_subport_host_if_needed(self, port_id): # parent_port = self._ovn_client.get_parent_port(port_id) # if parent_port: # admin_context = n_context.get_admin_context() # try: # port = self._plugin.get_port(admin_context, parent_port) # host_id = port.get(portbindings.HOST_ID, '') # subport = {'port': {'binding:host_id': host_id}} # self._plugin.update_port(admin_context, port_id, subport) # except (os_db_exc.DBReferenceError, n_exc.PortNotFound): # LOG.debug(""Error trying host_id %s for subport %s"", # host_id, port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id) self._trunk_update(trunk) self._trunk_update(trunk) self._trunk_update(trunk)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: def _set_binding_profile(self, context, subport, parent_port, ovn_txn): 'tag': subport.segmentation_id}) trunk.update(status=trunk_consts.ACTIVE_STATUS) trunk.update(status=trunk_consts.ACTIVE_STATUS) trunk.update(status=trunk_consts.ACTIVE_STATUS)",63,14
openstack%2Fnetworking-ovn~stable%2Fqueens~I48d60efb7e62a86261c8eb3d2de0d76b47040be1,openstack/networking-ovn,stable/queens,I48d60efb7e62a86261c8eb3d2de0d76b47040be1,"DNM: This is a hack, please ignore",ABANDONED,2019-11-20 23:38:54.000000000,2019-12-02 23:30:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-20 23:38:54.000000000', 'files': ['networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/10a427ee77910fd0c8b1efe4ff76602594d2cd18', 'message': 'DNM: This is a hack, please ignore\n\nChange-Id: I48d60efb7e62a86261c8eb3d2de0d76b47040be1\n'}]",2,695321,10a427ee77910fd0c8b1efe4ff76602594d2cd18,5,2,1,11952,,,0,"DNM: This is a hack, please ignore

Change-Id: I48d60efb7e62a86261c8eb3d2de0d76b47040be1
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/21/695321/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,10a427ee77910fd0c8b1efe4ff76602594d2cd18,," # We need to update the host_id and set it # to its parent's. Otherwise, Neutron won't even try to bind it and # it will not transition from DOWN to ACTIVE. # pport = self._plugin.get_port(context, parent_port) binding_update = {'profile': db_port.binding.profile} pport = port_obj.Port.get_object(context, id=parent_port) if pport: host_id = pport.get(portbindings.HOST_ID, '') # subport = {'port': {'binding:host_id': host_id}} subport = {'binding:host_id': host_id} binding_update['port'] = subport LOG.debug(""Subport %s has parent %s and binding:host_id %s"", subport.port_id, parent_port, host_id) # self._plugin.update_port(context, subport.port_id, subport) # port_obj.XXX.update_object( # context, {'port': {'binding:host_id': host_id}}, # ) context, binding_update,"," context, {'profile': db_port.binding.profile},",23,2
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124,openstack/tripleo-ansible,stable/train,Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124,Make sure we add all_nodes_extra_map_data to all_nodes,MERGED,2019-11-29 05:26:06.000000000,2019-12-02 23:28:37.000000000,2019-12-02 23:28:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-11-29 05:26:06.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e2dbc8ff641bb85651c9c98818996fbe31e9f7c', 'message': 'Make sure we add all_nodes_extra_map_data to all_nodes\n\nRefactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/\nfixed the filtered AllNodesConfig to be exported as\nAllNodesExtraMapData. Now when all_nodes_extra_map_data includes\ninformation for services which are not enabled on the cell controllers\nthe information is still required to point to the correct endpoint.\nThis make sure we add all the information from all_nodes_extra_map_data\nto the hieradata in case of nova_additional_cell.\n\nAlso this change addes Prefer redis_vip from all_nodes_extra_map_data.\nWhen all_nodes_extra_map_data includes a value for redis_vip that\nvalue should be preferred over any other.\n\nCloses-Bug: #1853472\n\nChange-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124\n(cherry picked from commit 7385d5e4c5d61db913e322c35da924e89b556ba8)\n'}]",0,696636,7e2dbc8ff641bb85651c9c98818996fbe31e9f7c,13,10,1,17216,,,0,"Make sure we add all_nodes_extra_map_data to all_nodes

Refactor of `overcloud cell export` in https://review.opendev.org/#/c/694115/
fixed the filtered AllNodesConfig to be exported as
AllNodesExtraMapData. Now when all_nodes_extra_map_data includes
information for services which are not enabled on the cell controllers
the information is still required to point to the correct endpoint.
This make sure we add all the information from all_nodes_extra_map_data
to the hieradata in case of nova_additional_cell.

Also this change addes Prefer redis_vip from all_nodes_extra_map_data.
When all_nodes_extra_map_data includes a value for redis_vip that
value should be preferred over any other.

Closes-Bug: #1853472

Change-Id: Ib0016d0e0139d336dd9c8afe5fe9b10bb0cf0124
(cherry picked from commit 7385d5e4c5d61db913e322c35da924e89b556ba8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/696636/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'],1,7e2dbc8ff641bb85651c9c98818996fbe31e9f7c,cellv2-node_names-stable/train,"{% if nova_additional_cell %} {% for key, value in all_nodes_extra_map_data.items() %} {% set _ = all_nodes.__setitem__(key, value) %} {% endfor %}{% if 'redis' in all_enabled_services or nova_additional_cell %} {% if 'redis_vip' in all_nodes_extra_map_data %} {% set _ = all_nodes.__setitem__('redis_vip', all_nodes_extra_map_data['redis_vip']) %} {% elif net_vip_map.redis is defined %} {% set _ = all_nodes.__setitem__('redis_vip', (net_vip_map.redis)) %} {% endif %} {% endif %} {% if 'ovn_dbs' in all_enabled_services or nova_additional_cell %}","{% if 'redis' in all_enabled_services %} {% set _ = all_nodes.__setitem__('redis_vip', (net_vip_map.redis)) %}{% if 'ovn_dbs' in all_enabled_services %}",12,3
openstack%2Fcinder~master~I1433ab2aa6dac69929dbd76ab1e7448a0f2e116f,openstack/cinder,master,I1433ab2aa6dac69929dbd76ab1e7448a0f2e116f,"Remove ""mv"" from rootwrap filter",NEW,2019-01-21 16:16:44.000000000,2019-12-02 23:27:26.000000000,,"[{'_account_id': 24}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29568}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-21 16:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e96f3a85e1413ba6fbf39deaa9c579165f61b47a', 'message': 'Remove ""mv"" from rootwrap filter\n\nUse oslo.privsep instead of oslo.rootwrap\nto run the ""mv"" command.\n\nChange-Id: I1433ab2aa6dac69929dbd76ab1e7448a0f2e116f\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2019-02-14 15:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c775a8b4ae5e26d909bb789fe00698211bb939b8', 'message': 'Remove ""mv"" from rootwrap filter\n\nUse oslo.privsep instead of oslo.rootwrap\nto run the ""mv"" command.\n\nChange-Id: I1433ab2aa6dac69929dbd76ab1e7448a0f2e116f\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2019-02-27 16:11:54.000000000', 'files': ['cinder/volume/drivers/ibm/gpfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/tests/unit/volume/drivers/test_gpfs.py', 'cinder/privsep/path.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/tintri.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/02e97fe64a297ef23f8be4291692cb56cda7d2fe', 'message': 'Remove ""mv"" from rootwrap filter\n\nUse oslo.privsep instead of oslo.rootwrap\nto run the ""mv"" command.\n\nChange-Id: I1433ab2aa6dac69929dbd76ab1e7448a0f2e116f\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}]",0,632124,02e97fe64a297ef23f8be4291692cb56cda7d2fe,91,43,3,24,,,0,"Remove ""mv"" from rootwrap filter

Use oslo.privsep instead of oslo.rootwrap
to run the ""mv"" command.

Change-Id: I1433ab2aa6dac69929dbd76ab1e7448a0f2e116f
Signed-off-by: Charles Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/632124/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/gpfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/tests/unit/volume/drivers/test_gpfs.py', 'cinder/privsep/path.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/tintri.py']",6,e96f3a85e1413ba6fbf39deaa9c579165f61b47a,privsep,"import cinder.privsep.path cinder.privsep.path.move(src, dst)"," self._execute('mv', src, dst, run_as_root=self._execute_as_root)",23,14
openstack%2Fnetworking-bagpipe~stable%2Fqueens~Id3363068e2882dae63b835c178bf4770297a85b7,openstack/networking-bagpipe,stable/queens,Id3363068e2882dae63b835c178bf4770297a85b7,Add local bindep.txt and make unit tests pass,MERGED,2019-05-08 14:53:12.000000000,2019-12-02 23:11:10.000000000,2019-12-02 23:10:02.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-08 14:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b8ff73861efd7e6d1809b84e1ba6dc8c4b1bbcba', 'message': ""fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)\n""}, {'number': 2, 'created': '2019-09-30 06:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/cb35cb7511cc3ba33799a59aad3b8e172f87aa72', 'message': ""fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)\n""}, {'number': 3, 'created': '2019-11-26 13:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/498574c5fd2142220e5a4bd2ab966568eea1d360', 'message': ""Add local bindep.txt and make unit tests pass\n\nThis is a combination of 2 commits to make check/gate jobs pass:\n\n1. Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)\n(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)\n(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)\n\n2. fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nNote: BGPVPNPortAssociationTest class removed as suggested.\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)\n""}, {'number': 4, 'created': '2019-11-28 09:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/fdde0981410d1f6f55c26b10e628dc0fd90808b0', 'message': ""Add local bindep.txt and make unit tests pass\n\nThis is a combination of 2 commits to make check/gate jobs pass:\n\n1. Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)\n(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)\n(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)\n\n2. fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nNote: test_db_obj is skipped from BGPVPNPortAssociationTest class as\nsuggested.\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)\n""}, {'number': 5, 'created': '2019-11-28 12:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/97700c10fbfbc4f8d2dd2fd11579661ac830c3e0', 'message': ""Add local bindep.txt and make unit tests pass\n\nThis is a combination of 2 commits to make check/gate jobs pass:\n\n1. Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)\n(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)\n(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)\n\n2. fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nNote: test_db_obj is skipped from BGPVPNPortAssociationTest class as\nsuggested.\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)\n""}, {'number': 6, 'created': '2019-11-28 12:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/ac311cf3acf6ebd2f3ca585806c47b87bbe55843', 'message': ""Add local bindep.txt and make unit tests pass\n\nThis is a combination of 2 commits to make check/gate jobs pass:\n\n1. Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)\n(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)\n(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)\n\n2. fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nNote: test_db_obj is skipped from BGPVPNPortAssociationTest class as\nsuggested.\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)\n""}, {'number': 7, 'created': '2019-11-29 07:47:16.000000000', 'files': ['networking_bagpipe/tests/unit/objects/test_bgpvpn.py', 'bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/06ae6ae9608247235ef201d658851390f45c75ea', 'message': ""Add local bindep.txt and make unit tests pass\n\nThis is a combination of 2 commits to make check/gate jobs pass:\n\n1. Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)\n(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)\n(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)\n\n2. fix BGPVPN OVO unit test\n\nThe 'routes' field should not exist. This bug\nwas silent until now, but came to the light\nafter neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .\n\nNote: test_db_obj is skipped from BGPVPNPortAssociationTest class as\nsuggested.\n\n3. Anchor pyton2.7 for pep8\n\nFor python3 at least pylint 1.9 is suggested, so let's try to run pep8\nwith python2.7 on stable/queens.\n\nRelated-Change: I42cdf540129bd4470ec1a59345db9845a6198328\n\nChange-Id: Id3363068e2882dae63b835c178bf4770297a85b7\n(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)\n""}]",4,657828,06ae6ae9608247235ef201d658851390f45c75ea,34,10,7,17685,,,0,"Add local bindep.txt and make unit tests pass

This is a combination of 2 commits to make check/gate jobs pass:

1. Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

(cherry picked from commit 3f1a317df0aa09c8f66dfc2f8487f79e43ae33aa)
(cherry picked from commit 2aaccf0da92169b705f149d9e91dc11d61dfd50a)
(cherry picked from commit a6037ee5e4acda4e330d0b92df5fabc75540ec68)

2. fix BGPVPN OVO unit test

The 'routes' field should not exist. This bug
was silent until now, but came to the light
after neutron change I42cdf540129bd4470ec1a59345db9845a6198328 .

Note: test_db_obj is skipped from BGPVPNPortAssociationTest class as
suggested.

3. Anchor pyton2.7 for pep8

For python3 at least pylint 1.9 is suggested, so let's try to run pep8
with python2.7 on stable/queens.

Related-Change: I42cdf540129bd4470ec1a59345db9845a6198328

Change-Id: Id3363068e2882dae63b835c178bf4770297a85b7
(cherry picked from commit d9ea5cf9dd01fe85eea3d8f501aec974231b7322)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/28/657828/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/tests/unit/objects/test_bgpvpn.py'],1,b8ff73861efd7e6d1809b84e1ba6dc8c4b1bbcba,fix-periodic, }), 'routes': []}),1,1
openstack%2Fneutron-vpnaas~master~Icf9627bd6aee3e37db65d8555dc7c36e9945cf89,openstack/neutron-vpnaas,master,Icf9627bd6aee3e37db65d8555dc7c36e9945cf89,[DNM] Test patch to test tempest scenarios,ABANDONED,2019-11-17 18:59:34.000000000,2019-12-02 22:26:53.000000000,,"[{'_account_id': 4694}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-17 18:59:34.000000000', 'files': ['neutron_vpnaas/services/vpn/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b8a30fa0aeb4070fa65a96c50256eda65b0c22f8', 'message': '[DNM] Test patch to test tempest scenarios\n\nTest patch to test tempest scenarios\n\nChange-Id: Icf9627bd6aee3e37db65d8555dc7c36e9945cf89\n'}]",0,694702,b8a30fa0aeb4070fa65a96c50256eda65b0c22f8,8,2,1,4694,,,0,"[DNM] Test patch to test tempest scenarios

Test patch to test tempest scenarios

Change-Id: Icf9627bd6aee3e37db65d8555dc7c36e9945cf89
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/02/694702/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/plugin.py'],1,b8a30fa0aeb4070fa65a96c50256eda65b0c22f8,test-tempest-scenario, # Just add a comment,,1,0
openstack%2Foctavia~master~Ia30435b3bb19acd1d2f9fe217251c393d4f7480e,openstack/octavia,master,Ia30435b3bb19acd1d2f9fe217251c393d4f7480e,Stop testing python 2,MERGED,2019-10-08 17:56:27.000000000,2019-12-02 22:26:32.000000000,2019-12-02 22:24:04.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-08 17:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/60df503d45ef50604ac163e1309d74f1324f0104', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\npy27 unittest tox target is kept because the job is defined\nglobally for all projects. We can remove the py27 tox target\nonce the job is removed.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 2, 'created': '2019-10-11 17:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1ec456d6e6c01285cce0cf5c65572baaec6bdb3e', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\npy27 unittest tox target is kept because the job is defined\nglobally for all projects. We can remove the py27 tox target\nonce the job is removed.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 3, 'created': '2019-10-11 17:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ce96e068168ba2bc8a04fa28d47fbbb143bad7e', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\npy27 unittest tox target is kept because the job is defined\nglobally for all projects. We can remove the py27 tox target\nonce the job is removed.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 4, 'created': '2019-10-11 17:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/478fe6a22ca9230cea38e8de2c7be7756617e919', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 5, 'created': '2019-10-11 17:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b43467df3c13b1e2fd9f405b9badfb6f6cbd2e20', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 6, 'created': '2019-10-11 21:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3754fa35e642998b76ac669df753d2e44eac7677', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 7, 'created': '2019-10-14 19:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c8f7b93ad7dedc7ccc54e9678b050017eb27640', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 8, 'created': '2019-10-14 22:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/094737c4f32e887bae133d0e10cc8fa9eb55c32d', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 9, 'created': '2019-10-15 19:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/026579699c7a80c9bcac6b373581aa27144bf79f', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 10, 'created': '2019-10-16 18:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f041ca2173508c4e27a99fad17faf29e0851e300', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 11, 'created': '2019-10-24 15:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4bfb573b8585da834bf3938b1c84a8f0d73305c2', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 12, 'created': '2019-11-06 07:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/902e0c932c4a5054bb3f00620e6c388c902daf04', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 13, 'created': '2019-11-19 17:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f5dc5ee2fa792c58e42ca953dd9944cb9a58158c', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 14, 'created': '2019-11-19 21:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/47b021d2ceb38956663b3f4d4e1f8ea0290495aa', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 15, 'created': '2019-11-25 19:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/db3f88e546605502a9865e565a7c5569427f0668', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 16, 'created': '2019-11-27 16:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2aa31325adedd62284b77ede4ec39bd8bedf8c13', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 17, 'created': '2019-11-27 16:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e523a54c64e4aa91cbf7b195ef98edaf7a4ee6df', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 18, 'created': '2019-11-27 16:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce734bc8bedf11f0905bfc56d72013306a5e1aa8', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 19, 'created': '2019-11-27 16:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4c79ed5df04ebb0eff7e4e42362fe076e6d0a40c', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 20, 'created': '2019-12-02 17:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6fd4570b19f69521ebf6ac5319a9f6088dbc90f6', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}, {'number': 21, 'created': '2019-12-02 17:08:29.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'zuul.d/projects.yaml', 'doc/requirements.txt', 'setup.cfg', 'TESTING.rst', 'tox.ini', 'releasenotes/notes/drop-python-2-7-a6b3f456bf6a3da7.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bc94789dc9e8418a05d92d22f66f90922ffd1ada', 'message': ""Stop testing python 2\n\nSince it's no longer supported past Train, lets stop\nrunning the tests.\n\nChange-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e\n""}]",53,687370,bc94789dc9e8418a05d92d22f66f90922ffd1ada,82,6,21,1131,,,0,"Stop testing python 2

Since it's no longer supported past Train, lets stop
running the tests.

Change-Id: Ia30435b3bb19acd1d2f9fe217251c393d4f7480e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/687370/15 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'setup.cfg', 'TESTING.rst', 'tox.ini']",4,60df503d45ef50604ac163e1309d74f1324f0104,remove-py2,basepython = python3,"basepython = python3basepython = python3# This is set as py27 right now, though the name is ambiguous. basepython = python2.7 setenv = OS_TEST_PATH={toxinidir}/octavia/tests/functional [testenv:functional-py27] basepython = python2.7basepython = python3 commands = oslo_debug_helper {posargs} [testenv:debug-py27] basepython = python2.7basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",2,40
openstack%2Fpuppet-tripleo~master~I5c397d31650b248660a39e028c98c779871d07ba,openstack/puppet-tripleo,master,I5c397d31650b248660a39e028c98c779871d07ba,Remove haproxy ironic-inspector http-check workaround,MERGED,2019-11-29 01:12:21.000000000,2019-12-02 22:14:58.000000000,2019-12-02 22:14:58.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 01:12:21.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/71abeb12c4d8106693f0ade7e1252a00cee0ed56', 'message': ""Remove haproxy ironic-inspector http-check workaround\n\nWhen werkzeug was used as the WSGI service for ironic-inspector, it\nwrote stack traces to the logs whenever haproxy did a http check; this\nlisten_options line was the workaround for that. Reverting that change\nis done for the following reasons:\n\n- since ironic-inspector now uses oslo-service, the log stack traces\n  are no longer written\n- setting listen_options overrides the default 'option httplog', which is\n  making diagnosing bug #1854399 harder\n- this http-check override may well be the root cause of bug #1854399\n  (any non-200 response will result in other connections to\n  ironic-inspector being disconnected?)\n\nChange-Id: I5c397d31650b248660a39e028c98c779871d07ba\nPartial-Bug: #1854399\nRelated-Bug: #1691971\n""}]",0,696633,71abeb12c4d8106693f0ade7e1252a00cee0ed56,9,6,1,4571,,,0,"Remove haproxy ironic-inspector http-check workaround

When werkzeug was used as the WSGI service for ironic-inspector, it
wrote stack traces to the logs whenever haproxy did a http check; this
listen_options line was the workaround for that. Reverting that change
is done for the following reasons:

- since ironic-inspector now uses oslo-service, the log stack traces
  are no longer written
- setting listen_options overrides the default 'option httplog', which is
  making diagnosing bug #1854399 harder
- this http-check override may well be the root cause of bug #1854399
  (any non-200 response will result in other connections to
  ironic-inspector being disconnected?)

Change-Id: I5c397d31650b248660a39e028c98c779871d07ba
Partial-Bug: #1854399
Related-Bug: #1691971
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/696633/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,71abeb12c4d8106693f0ade7e1252a00cee0ed56,bug/1854399,," listen_options => { 'http-check' => ['expect rstring .*200.*'], },",0,1
openstack%2Fopenstack-ansible-os_mistral~master~Iba8ae5e8ded1398649792ecc5b4d9267551713c4,openstack/openstack-ansible-os_mistral,master,Iba8ae5e8ded1398649792ecc5b4d9267551713c4,Add meta to mistral,MERGED,2019-05-21 07:21:11.000000000,2019-12-02 22:12:48.000000000,2019-07-10 20:36:35.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-21 07:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/9f45cd68f479a0c0f3be72f3e96e4d8a7ee35abc', 'message': ""Add meta to mistral\n\nMistral didn't get the meta/ information that is usually present\non all our roles.\n\nThis fixes it. I added mnaser and his company in meta, as he is\nthe original author of this role.\nAt the opposite of other roles, I didn't add the apt dependency.\n\nChange-Id: Iba8ae5e8ded1398649792ecc5b4d9267551713c4\n""}, {'number': 2, 'created': '2019-07-10 15:52:56.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/432a90e4e409c1137246979905b59fc4639a1014', 'message': ""Add meta to mistral\n\nMistral didn't get the meta/ information that is usually present\non all our roles.\n\nThis fixes it. I added mnaser and his company in meta, as he is\nthe original author of this role.\nAt the opposite of other roles, I didn't add the apt dependency.\n\nChange-Id: Iba8ae5e8ded1398649792ecc5b4d9267551713c4\n""}]",0,660265,432a90e4e409c1137246979905b59fc4639a1014,11,4,2,17068,,,0,"Add meta to mistral

Mistral didn't get the meta/ information that is usually present
on all our roles.

This fixes it. I added mnaser and his company in meta, as he is
the original author of this role.
At the opposite of other roles, I didn't add the apt dependency.

Change-Id: Iba8ae5e8ded1398649792ecc5b4d9267551713c4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/65/660265/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,9f45cd68f479a0c0f3be72f3e96e4d8a7ee35abc,clarify-suse-support,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. galaxy_info: author: mnaser@vexxhost.com description: Installation and setup of mistral company: Vexxhost license: Apache2 min_ansible_version: 2.7 platforms: - name: Debian versions: - stretch - name: Ubuntu versions: - xenial - bionic - name: EL versions: - 7 - name: opensuse versions: - 15 categories: - cloud - python - glance - development - openstack ",,41,0
openstack%2Fneutron-tempest-plugin~master~I387d50673795c2a5073ec298426960fca593c017,openstack/neutron-tempest-plugin,master,I387d50673795c2a5073ec298426960fca593c017,Add test to create policy with multiple rules,MERGED,2019-11-25 14:14:04.000000000,2019-12-02 22:11:23.000000000,2019-12-02 22:11:23.000000000,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28609}]","[{'number': 1, 'created': '2019-11-25 14:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7d3a42abb2130a45c65ea0555c242d289cb1ae72', 'message': 'Add test to create policy with multiple rules\n\nThe test validates that:\n1.Two bandwidth limit rules could be both attached to a policy.\n2.The system prevent adding rules with the same direction to a policy.\n\nChange-Id: I387d50673795c2a5073ec298426960fca593c017\n'}, {'number': 2, 'created': '2019-11-26 09:29:13.000000000', 'files': ['neutron_tempest_plugin/api/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7717d9cef50697ea95ab859d81c64b2e89c4870a', 'message': 'Add test to create policy with multiple rules\n\nThe test validates that:\n1.Two bandwidth limit rules could be both attached to a policy.\n2.The system prevents addition of rules with the same direction to a policy.\n\nChange-Id: I387d50673795c2a5073ec298426960fca593c017\n'}]",1,695914,7717d9cef50697ea95ab859d81c64b2e89c4870a,10,5,2,30920,,,0,"Add test to create policy with multiple rules

The test validates that:
1.Two bandwidth limit rules could be both attached to a policy.
2.The system prevents addition of rules with the same direction to a policy.

Change-Id: I387d50673795c2a5073ec298426960fca593c017
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/14/695914/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_qos.py'],1,7d3a42abb2130a45c65ea0555c242d289cb1ae72,create_policy_with_multiple_rules," DIRECTION_EGRESS = ""egress"" DIRECTION_INGRESS = ""ingress"" @classmethod @base.require_qos_rule_type(qos_consts.RULE_TYPE_BANDWIDTH_LIMIT) def resource_setup(cls): super(QosBandwidthLimitRuleWithDirectionTestJSON, cls).resource_setup() @decorators.idempotent_id('c8cbe502-0f7e-11ea-8d71-362b9e155667') def test_create_policy_with_multiple_rules(self): # Create a policy with multiple rules policy = self.create_qos_policy(name='test-policy1', description='test policy1', shared=False) rule1 = self.create_qos_bandwidth_limit_rule(policy_id=policy['id'], max_kbps=1024, max_burst_kbps=1024, direction=self. DIRECTION_EGRESS) rule2 = self.create_qos_bandwidth_limit_rule(policy_id=policy['id'], max_kbps=1024, max_burst_kbps=1024, direction=self. DIRECTION_INGRESS) # Check that the rules were added to the policy rules = self.admin_client.list_bandwidth_limit_rules( policy['id'])['bandwidth_limit_rules'] rules_ids = [rule['id'] for rule in rules] self.assertIn(rule1['id'], rules_ids) self.assertIn(rule2['id'], rules_ids) # Check that the rules creation fails for the same rule types self.assertRaises(exceptions.Conflict, self.create_qos_bandwidth_limit_rule, policy_id=policy['id'], max_kbps=1025, max_burst_kbps=1025, direction=self.DIRECTION_EGRESS) self.assertRaises(exceptions.Conflict, self.create_qos_bandwidth_limit_rule, policy_id=policy['id'], max_kbps=1025, max_burst_kbps=1025, direction=self.DIRECTION_EGRESS) ",,46,1
openstack%2Fneutron~master~I10588e73a9da7fdd43677f9247c176811dd68c62,openstack/neutron,master,I10588e73a9da7fdd43677f9247c176811dd68c62,Add more condition to check sg member exist,MERGED,2019-11-27 07:04:35.000000000,2019-12-02 21:54:22.000000000,2019-12-02 10:51:22.000000000,"[{'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11600}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 19956}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-27 07:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebd3a8e572f349ae37d8aabd4a4c685c0fa37ff7', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n""}, {'number': 2, 'created': '2019-11-28 05:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77d16b7519c00810ca77b6c89051783370a519d4', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n""}, {'number': 3, 'created': '2019-11-28 11:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5a31544df24f8ee713a7a00686e648ec13e0451', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n""}, {'number': 4, 'created': '2019-11-29 03:13:56.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cb0ff418a0794d060001a7313561c4cfb584d0e', 'message': ""Add more condition to check sg member exist\n\nOnly check sg object is not enough, we should also\ncheck sg'ports is {} or not. Otherwise the old conjunction\nwill still exist.\n\nChange-Id: I10588e73a9da7fdd43677f9247c176811dd68c62\nCloses-Bug: #1854131\n""}]",1,696236,5cb0ff418a0794d060001a7313561c4cfb584d0e,38,10,4,19956,,,0,"Add more condition to check sg member exist

Only check sg object is not enough, we should also
check sg'ports is {} or not. Otherwise the old conjunction
will still exist.

Change-Id: I10588e73a9da7fdd43677f9247c176811dd68c62
Closes-Bug: #1854131
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/696236/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,ebd3a8e572f349ae37d8aabd4a4c685c0fa37ff7,bug/1854131, if not remote_group or not remote_group.ports:, if not remote_group:,1,1
openstack%2Ftripleo-ansible~master~I2893b77bb1c7811fbdbf0426e0a09f80b2179f54,openstack/tripleo-ansible,master,I2893b77bb1c7811fbdbf0426e0a09f80b2179f54,"Fix for Ansible playbook error, variable is undefined",MERGED,2019-11-27 10:28:45.000000000,2019-12-02 21:39:08.000000000,2019-12-02 19:56:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 10:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e85d8b8229df0abb8efd877c8a6e8ddcd6affae', 'message': 'Fix for Ansible playbook error, role_networks is undefined\n\nThis fixes the variable is undefined problem when deploying minions.\n\nChange-Id: I2893b77bb1c7811fbdbf0426e0a09f80b2179f54\nCloses-Bug: #1837644\n'}, {'number': 2, 'created': '2019-11-27 13:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc940b48bd02f8d6701f6b316fa6803c408a4e82', 'message': 'Fix for Ansible playbook error, variable is undefined\n\nThis fixes the variable is undefined problem when deploying minions.\n\nChange-Id: I2893b77bb1c7811fbdbf0426e0a09f80b2179f54\nCloses-Bug: #1837644\n'}, {'number': 3, 'created': '2019-12-02 14:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de269575b04906b319d00ff32362d46158e035d4', 'message': 'Fix for Ansible playbook error, variable is undefined\n\nThis fixes the variable is undefined problem when deploying minions.\n\nChange-Id: I2893b77bb1c7811fbdbf0426e0a09f80b2179f54\nCloses-Bug: #1837644\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 4, 'created': '2019-12-02 14:16:05.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/fqdn.j2', 'tripleo_ansible/roles/tripleo-hieradata/templates/net_ip_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b3985983110b97948b4060ee888c27495558f809', 'message': 'Fix for Ansible playbook error, variable is undefined\n\nThis fixes the variable is undefined problem when deploying minions.\n\nChange-Id: I2893b77bb1c7811fbdbf0426e0a09f80b2179f54\nCloses-Bug: #1837644\n'}]",0,696275,b3985983110b97948b4060ee888c27495558f809,15,5,4,30133,,,0,"Fix for Ansible playbook error, variable is undefined

This fixes the variable is undefined problem when deploying minions.

Change-Id: I2893b77bb1c7811fbdbf0426e0a09f80b2179f54
Closes-Bug: #1837644
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/696275/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/fqdn.j2'],1,0e85d8b8229df0abb8efd877c8a6e8ddcd6affae,bug/1837644,{% if role_networks is defined %},{% if role_networks %},1,1
openstack%2Fopenstack-helm-infra~master~I08bf40ac4790955c107e8fee6a004b930c333d16,openstack/openstack-helm-infra,master,I08bf40ac4790955c107e8fee6a004b930c333d16,refactor(deploy-k8s): remove explicit wait on etcd pod,MERGED,2019-10-17 19:38:26.000000000,2019-12-02 21:17:47.000000000,2019-12-02 21:16:31.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-10-17 19:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3516b9578f63a786885500e94b6d291fb18a6530', 'message': 'refactor(deploy-k8s): remove explicit wait on etcd pod\n\nUsing `--network-plugin=cni` for `minikube start` will have minikube\nwait for Kubernetes components to spin up and not require the Node to be\nin ready status.\n\nChange-Id: I08bf40ac4790955c107e8fee6a004b930c333d16\n'}, {'number': 2, 'created': '2019-11-11 07:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6fa820e94c71667095f0900a1dbac5db47126974', 'message': 'refactor(deploy-k8s): remove explicit wait on etcd pod\n\nUsing `--network-plugin=cni` for `minikube start` will have minikube\nwait for Kubernetes components to spin up and not require the Node to be\nin ready status.\n\nChange-Id: I08bf40ac4790955c107e8fee6a004b930c333d16\n'}, {'number': 3, 'created': '2019-11-25 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ffc8775b9ab74e0e97fd82ea1eaf7c5151cc3552', 'message': 'refactor(deploy-k8s): remove explicit wait on etcd pod\n\nUsing `--network-plugin=cni` for `minikube start` will have minikube\nwait for Kubernetes components to spin up and not require the Node to be\nin ready status.\n\nChange-Id: I08bf40ac4790955c107e8fee6a004b930c333d16\n'}, {'number': 4, 'created': '2019-12-02 19:21:19.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae8a6c5d5096227de1050ec12483bc62ace56f84', 'message': 'refactor(deploy-k8s): remove explicit wait on etcd pod\n\nUsing `--network-plugin=cni` for `minikube start` will have minikube\nwait for Kubernetes components to spin up and not require the Node to be\nin ready status.\n\nChange-Id: I08bf40ac4790955c107e8fee6a004b930c333d16\n'}]",0,689251,ae8a6c5d5096227de1050ec12483bc62ace56f84,22,9,4,28701,,,0,"refactor(deploy-k8s): remove explicit wait on etcd pod

Using `--network-plugin=cni` for `minikube start` will have minikube
wait for Kubernetes components to spin up and not require the Node to be
in ready status.

Change-Id: I08bf40ac4790955c107e8fee6a004b930c333d16
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/689251/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,3516b9578f63a786885500e94b6d291fb18a6530,, --network-plugin=cni \," --wait=false \ --extra-config=kubelet.network-plugin=cni \# Note(srwilkers): With newer versions of Minikube, explicitly disabling the wait # in the start command is required, as this wait checks the nodes status which # will block until the CNI is deployed. Instead, we now wait for the etcd pod to # be present, as this seems to be the last static manifest pod launched by # minikube. This allows us to move forward with applying the CNI END=$(($(date +%s) + 240)) until kubectl --namespace=kube-system \ get pods -l component=etcd --no-headers -o name | grep -q ""^pod/etcd-minikube""; do NOW=$(date +%s) [ ""${NOW}"" -gt ""${END}"" ] && exit 1 echo ""Waiting for kubernetes etcd"" sleep 10 done ",1,16
openstack%2Fironic-python-agent~master~I9d76a8d1c1b6b1585e301a9c63b37fab3b98746f,openstack/ironic-python-agent,master,I9d76a8d1c1b6b1585e301a9c63b37fab3b98746f,Replace netaddr dependency with stdlib ipaddress,MERGED,2019-11-27 18:09:39.000000000,2019-12-02 21:02:01.000000000,2019-12-02 21:00:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-27 18:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f4f49a7836aa82dd8797248e0b6a13e303fcd38', 'message': 'Replace netaddr dependency with stdlib ipaddress\n\nnetaddr is quite a big library, and all we need is covered by\nthe built-in ipaddress module (available in python 3).\n\nChange-Id: I9d76a8d1c1b6b1585e301a9c63b37fab3b98746f\n'}, {'number': 2, 'created': '2019-11-27 18:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/66de82070fa36e0a0fd1bfad9c49118aaab3a284', 'message': 'Replace netaddr dependency with stdlib ipaddress\n\nnetaddr is quite a big library, and all we need is covered by\nthe built-in ipaddress module (available in python 3).\n\nChange-Id: I9d76a8d1c1b6b1585e301a9c63b37fab3b98746f\n'}, {'number': 3, 'created': '2019-12-02 10:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e704c3fd4f9a51a04ad3341b4c665b45d722d27d', 'message': ""Replace netaddr dependency with stdlib ipaddress\n\nnetaddr is quite a big library, and all we need is covered by\nthe built-in ipaddress module (available in python 3).\n\nAlso add a safeguard for invalid 'ip route' output.\n\nChange-Id: I9d76a8d1c1b6b1585e301a9c63b37fab3b98746f\n""}, {'number': 4, 'created': '2019-12-02 11:13:15.000000000', 'files': ['ironic_python_agent/hardware.py', 'requirements.txt', 'ironic_python_agent/agent.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4354bc04f95c03fc90d7b596422874e329996660', 'message': ""Replace netaddr dependency with stdlib ipaddress\n\nnetaddr is quite a big library, and all we need is covered by\nthe built-in ipaddress module (available in python 3).\n\nAlso add a safeguard for invalid 'ip route' output.\n\nChange-Id: I9d76a8d1c1b6b1585e301a9c63b37fab3b98746f\n""}]",0,696378,4354bc04f95c03fc90d7b596422874e329996660,17,6,4,10239,,,0,"Replace netaddr dependency with stdlib ipaddress

netaddr is quite a big library, and all we need is covered by
the built-in ipaddress module (available in python 3).

Also add a safeguard for invalid 'ip route' output.

Change-Id: I9d76a8d1c1b6b1585e301a9c63b37fab3b98746f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/78/696378/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'requirements.txt', 'ironic_python_agent/agent.py', 'lower-constraints.txt']",4,5f4f49a7836aa82dd8797248e0b6a13e303fcd38,no-netaddr,,netaddr==0.7.18,9,11
openstack%2Fhorizon~master~I31a8d681f87d22ce8486de38ba6c01be9c9cc469,openstack/horizon,master,I31a8d681f87d22ce8486de38ba6c01be9c9cc469,Fix volumes and volume_snapshots integration tests,MERGED,2019-10-11 20:17:46.000000000,2019-12-02 20:15:53.000000000,2019-12-02 20:13:30.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23625}, {'_account_id': 29313}, {'_account_id': 31026}]","[{'number': 1, 'created': '2019-10-11 20:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7bb585b9156ca729906b7bf535e41887605af2a5', 'message': 'Fix volumes and volume_snapshots integration tests\n\nThe aim of this PS is to fix existing skipped integration\ntests related to volumes and volume_snapshots listed below:\n  - TestAdminVolumes.test_volume_create_edit_delete\n  - TestVolumesActions.test_volume_extend\n  - TestVolumesBasic.test_volume_create_edit_delete\n  - TestAdminVolumes.test_volumes_pagination\n  - TestVolumesBasic.test_volumes_pagination\n  - TestVolumeSnapshotsAdmin.test_create_edit_delete_volume_snapshot\n  - TestVolumeSnapshotsBasic.test_create_edit_delete_volume_snapshot\n  - TestVolumeSnapshotsAdmin.test_volume_snapshots_pagination\n  - TestVolumeSnapshotsAdvanced.test_create_volume_from_snapshot\n\nThis PS also resolves Partial-Bug: #1792028\n\nChange-Id: I31a8d681f87d22ce8486de38ba6c01be9c9cc469\n'}, {'number': 2, 'created': '2019-10-12 18:44:05.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/pages/project/volumes/volumespage.py', 'openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/regions/tables.py', 'openstack_dashboard/test/integration_tests/horizon.conf', 'openstack_dashboard/test/integration_tests/tests/test_volume_snapshots.py', 'openstack_dashboard/test/integration_tests/tests/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7b7cabd071b82fcc31bbf64947c78943319d5346', 'message': 'Fix volumes and volume_snapshots integration tests\n\nThe aim of this PS is to fix existing skipped integration\ntests related to volumes and volume_snapshots listed below:\n  - TestAdminVolumes.test_volume_create_edit_delete\n  - TestVolumesActions.test_volume_extend\n  - TestVolumesBasic.test_volume_create_edit_delete\n  - TestAdminVolumes.test_volumes_pagination\n  - TestVolumesBasic.test_volumes_pagination\n  - TestVolumeSnapshotsAdmin.test_create_edit_delete_volume_snapshot\n  - TestVolumeSnapshotsBasic.test_create_edit_delete_volume_snapshot\n  - TestVolumeSnapshotsAdmin.test_volume_snapshots_pagination\n  - TestVolumeSnapshotsAdvanced.test_create_volume_from_snapshot\n  - TestVolumeSnapshotsBasic.test_volume_snapshots_pagination\n\nThis PS also resolves Partial-Bug: #1792028\n\nChange-Id: I31a8d681f87d22ce8486de38ba6c01be9c9cc469\n'}]",0,688196,7b7cabd071b82fcc31bbf64947c78943319d5346,14,9,2,23467,,,0,"Fix volumes and volume_snapshots integration tests

The aim of this PS is to fix existing skipped integration
tests related to volumes and volume_snapshots listed below:
  - TestAdminVolumes.test_volume_create_edit_delete
  - TestVolumesActions.test_volume_extend
  - TestVolumesBasic.test_volume_create_edit_delete
  - TestAdminVolumes.test_volumes_pagination
  - TestVolumesBasic.test_volumes_pagination
  - TestVolumeSnapshotsAdmin.test_create_edit_delete_volume_snapshot
  - TestVolumeSnapshotsBasic.test_create_edit_delete_volume_snapshot
  - TestVolumeSnapshotsAdmin.test_volume_snapshots_pagination
  - TestVolumeSnapshotsAdvanced.test_create_volume_from_snapshot
  - TestVolumeSnapshotsBasic.test_volume_snapshots_pagination

This PS also resolves Partial-Bug: #1792028

Change-Id: I31a8d681f87d22ce8486de38ba6c01be9c9cc469
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/688196/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/pages/project/volumes/volumespage.py', 'openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/regions/tables.py', 'openstack_dashboard/test/integration_tests/horizon.conf', 'openstack_dashboard/test/integration_tests/tests/test_volume_snapshots.py', 'openstack_dashboard/test/integration_tests/tests/test_volumes.py']",7,7bb585b9156ca729906b7bf535e41887605af2a5,integration_test_fix," volumes_page.find_message_and_dismiss(messages.INFO)) self.assertTrue( volumes_page.find_message_and_dismiss(messages.INFO)) self.assertFalse( volumes_page.find_message_and_dismiss(messages.ERROR)) self.assertTrue(volumes_page.is_volume_status(volume_name, 'Available')) self.assertTrue( volumes_page.find_message_and_dismiss(messages.INFO)) self.assertFalse( volumes_page.find_message_and_dismiss(messages.ERROR)) volumes_page.find_message_and_dismiss(messages.INFO)) @skip('Skipped until bug 1847715 is resolved') messages.INFO))", @skip('Skipped until bug 1792028 is resolved') volumes_page.find_message_and_dismiss(messages.SUCCESS)) @skip('Skipped until bug 1792028 is resolved') volumes_page.find_message_and_dismiss(messages.INFO) volumes_page.find_message_and_dismiss(messages.SUCCESS) volumes_page.find_message_and_dismiss(messages.SUCCESS)) @skip('Skipped until bug 1792028 is resolved') @skip('Skipped until bug 1774697 is resolved') messages.SUCCESS)),46,24
openstack%2Fpython-octaviaclient~master~Ia8e451d7f806fac7d36b2860f256eb34f9f7400e,openstack/python-octaviaclient,master,Ia8e451d7f806fac7d36b2860f256eb34f9f7400e,"Add ""--wait"" functionality",MERGED,2019-10-25 01:04:35.000000000,2019-12-02 20:09:55.000000000,2019-11-28 16:45:51.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 01:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/edeed41f7c38b36a4ded588caae13426b6e78b93', 'message': 'WIP: Add ""--wait"" functionality\n\nChange-Id: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e\n'}, {'number': 2, 'created': '2019-10-28 23:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/7613faaec35a4829dca93f5ce72103cddab8b04b', 'message': 'WIP: Add ""--wait"" functionality\n\nChange-Id: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e\n'}, {'number': 3, 'created': '2019-10-30 00:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/2d19898c87dfca24e87c41bc04cc2ae788b12339', 'message': 'Add ""--wait"" functionality\n\nChange-Id: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e\n'}, {'number': 4, 'created': '2019-11-18 16:59:30.000000000', 'files': ['octaviaclient/api/exceptions.py', 'octaviaclient/osc/v2/l7policy.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'releasenotes/notes/add-wait-option-to-CUD-commands-97375387e7762b83.yaml', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/api/test_octavia.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/osc/v2/test_amphora.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ae244fcf25188f38c28870238e648e765a2e3adf', 'message': 'Add ""--wait"" functionality\n\nChange-Id: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e\n'}]",12,691135,ae244fcf25188f38c28870238e648e765a2e3adf,19,4,4,10273,,,0,"Add ""--wait"" functionality

Change-Id: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/35/691135/4 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/exceptions.py', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/api/test_octavia.py']",9,edeed41f7c38b36a4ded588caae13426b6e78b93,,"from octaviaclient.api import exceptions self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException, self.assertRaisesRegex(exceptions.OctaviaClientException,"," self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException, self.assertRaisesRegex(octavia.OctaviaClientException,",431,55
openstack%2Fnova~master~I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3,openstack/nova,master,I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3,compute: Remove stale BDMs on reserve_block_device_name failure,ABANDONED,2019-09-17 09:41:12.000000000,2019-12-02 20:08:39.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-17 09:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52457837075d0e985fdc4b0468d0b44be0c6fb00', 'message': 'compute: Remove stale BDMs on reserve_block_device_name failure\n\nPreviously errors encountered when creating BDMs on a remote compute\nhost via reserve_block_device_name could result in stale BDM entries\nbeing left in the database.\n\nThis change adds some simple cleanup logic to reserve_block_device_name\nto lookup and remove any such BDMs when an exception is encountered\nbefore reraising.\n\nCloses-Bug: #1844296\nChange-Id: I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3\n'}, {'number': 2, 'created': '2019-09-23 08:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f569ded86f4bfad76ed0ce394e96e899f8d9fabf', 'message': 'compute: Remove stale BDMs on reserve_block_device_name failure\n\nPreviously errors encountered when creating BDMs on a remote compute\nhost via reserve_block_device_name could result in stale BDM entries\nbeing left in the database.\n\nThis change adds some simple cleanup logic to reserve_block_device_name\nto lookup and remove any such BDMs when an exception is encountered\nbefore reraising.\n\nCloses-Bug: #1844296\nChange-Id: I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3\n'}, {'number': 3, 'created': '2019-09-30 07:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/554cab76b2a2cba86d94773205c8ba03386efa33', 'message': 'compute: Remove stale BDMs on reserve_block_device_name failure\n\nPreviously errors encountered when creating BDMs on a remote compute\nhost via reserve_block_device_name could result in stale BDM entries\nbeing left in the database.\n\nThis change adds some simple cleanup logic to reserve_block_device_name\nto lookup and remove any such BDMs when an exception is encountered\nbefore reraising.\n\nCloses-Bug: #1844296\nChange-Id: I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3\n'}, {'number': 4, 'created': '2019-10-08 09:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c2b55bc709bb19fa5909c215a90ca2fb6c6b332', 'message': 'compute: Remove stale BDMs on reserve_block_device_name failure\n\nPreviously errors encountered when creating BDMs on a remote compute\nhost via reserve_block_device_name could result in stale BDM entries\nbeing left in the database.\n\nThis change adds some simple cleanup logic to reserve_block_device_name\nto lookup and remove any such BDMs when an exception is encountered\nbefore reraising.\n\nCloses-Bug: #1844296\nChange-Id: I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3\n'}, {'number': 5, 'created': '2019-11-08 13:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcf847353a8c3dd030dd4198e3a22e8e649cf1ed', 'message': 'compute: Remove stale BDMs on reserve_block_device_name failure\n\nPreviously errors encountered when creating BDMs on a remote compute\nhost via reserve_block_device_name could result in stale BDM entries\nbeing left in the database.\n\nThis change adds some simple cleanup logic to reserve_block_device_name\nto lookup and remove any such BDMs when an exception is encountered\nbefore reraising.\n\nRelated-Bug: #1844296\nChange-Id: I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3\n'}, {'number': 6, 'created': '2019-11-25 19:17:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a49b3ffda955fef506e7ca590bee075706fd4ce', 'message': 'compute: Remove stale BDMs on reserve_block_device_name failure\n\nPreviously errors encountered when creating BDMs on a remote compute\nhost via reserve_block_device_name could result in stale BDM entries\nbeing left in the database.\n\nThis change adds some simple cleanup logic to reserve_block_device_name\nto lookup and remove any such BDMs when an exception is encountered\nbefore reraising.\n\nRelated-Bug: #1844296\nChange-Id: I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3\n'}]",15,682594,7a49b3ffda955fef506e7ca590bee075706fd4ce,98,19,6,10135,,,0,"compute: Remove stale BDMs on reserve_block_device_name failure

Previously errors encountered when creating BDMs on a remote compute
host via reserve_block_device_name could result in stale BDM entries
being left in the database.

This change adds some simple cleanup logic to reserve_block_device_name
to lookup and remove any such BDMs when an exception is encountered
before reraising.

Related-Bug: #1844296
Change-Id: I3c45b3e9c8a5a9ce1e0e47abb8f95089f8c212c3
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/682594/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,52457837075d0e985fdc4b0468d0b44be0c6fb00,bug/1844296," try: # NOTE(vish): This is done on the compute host because we want # to avoid a race where two devices are requested at the same # time. When db access is removed from compute, the bdm will be # created here and we will have to make sure that they are # assigned atomically. volume_bdm = self.compute_rpcapi.reserve_block_device_name( context, instance, device, volume_id, disk_bus=disk_bus, device_type=device_type, tag=tag, multiattach=volume['multiattach']) # NOTE(lyarwood): Try to lookup and destroy any BDMs that were # created on the remote compute when exceptions are encountered. except Exception: with excutils.save_and_reraise_exception(): try: LOG.warning(""reserve_block_device_name has failed, "" ""attempting to lookup and remove any "" ""BDMs created by the compute."") bdm_obj = block_device_obj.BlockDeviceMapping bdm = bdm_obj.get_by_volume_and_instance(context, volume_id, instance.uuid) LOG.warning(""BDM %s found and will now be destroyed."", bdm.uuid) bdm.destroy() except exception.VolumeBDMNotFound: LOG.debug(""No BDM found while attempting to rollback."") "," # NOTE(vish): This is done on the compute host because we want # to avoid a race where two devices are requested at # the same time. When db access is removed from # compute, the bdm will be created here and we will # have to make sure that they are assigned atomically. volume_bdm = self.compute_rpcapi.reserve_block_device_name( context, instance, device, volume_id, disk_bus=disk_bus, device_type=device_type, tag=tag, multiattach=volume['multiattach'])",66,9
openstack%2Foslo.db~master~I6ea68fb17ceac23337bfb7405eb3f7a6df8b61f2,openstack/oslo.db,master,I6ea68fb17ceac23337bfb7405eb3f7a6df8b61f2,Reduce severity of wrapped exceptions logs to warning,MERGED,2019-11-08 08:57:13.000000000,2019-12-02 20:03:41.000000000,2019-12-02 20:02:38.000000000,"[{'_account_id': 2733}, {'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-08 08:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/160bbdeb58e5c1ea79fd12c09e48a38236327404', 'message': ""Don't log exceptions before raising\n\nClient libraries should decide if they need to be logged.\n\nChange-Id: I6ea68fb17ceac23337bfb7405eb3f7a6df8b61f2\nCloses-Bug: 1851797\n""}, {'number': 2, 'created': '2019-11-13 11:46:50.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/cf6f1b43017826585c3b6c0528506cc533696131', 'message': 'Reduce severity of wrapped exceptions logs to warning\n\nChange-Id: I6ea68fb17ceac23337bfb7405eb3f7a6df8b61f2\nCloses-Bug: 1851797\n'}]",0,693503,cf6f1b43017826585c3b6c0528506cc533696131,19,5,2,2733,,,0,"Reduce severity of wrapped exceptions logs to warning

Change-Id: I6ea68fb17ceac23337bfb7405eb3f7a6df8b61f2
Closes-Bug: 1851797
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/03/693503/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/exc_filters.py'],1,160bbdeb58e5c1ea79fd12c09e48a38236327404,bug/1851797,, LOG.exception( 'DBAPIError exception wrapped from %s' % error) LOG.exception('DB exception wrapped.'),0,3
openstack%2Foslo.utils~master~Id5c6afef01c6f38cb72c3a6526352db40dcb3a87,openstack/oslo.utils,master,Id5c6afef01c6f38cb72c3a6526352db40dcb3a87,Bump the openstackdocstheme extension to 1.20,MERGED,2019-10-12 07:04:00.000000000,2019-12-02 20:02:29.000000000,2019-12-02 19:59:44.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-12 07:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/989bcd6752e6cab975faed8e6ebb670289af642b', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Id5c6afef01c6f38cb72c3a6526352db40dcb3a87\n'}, {'number': 2, 'created': '2019-11-12 09:04:34.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/5dda8dde84ae3d2536c8b52d80fa13c376ff9229', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Id5c6afef01c6f38cb72c3a6526352db40dcb3a87\n'}]",0,688247,5dda8dde84ae3d2536c8b52d80fa13c376ff9229,13,5,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Id5c6afef01c6f38cb72c3a6526352db40dcb3a87
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/47/688247/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,989bcd6752e6cab975faed8e6ebb670289af642b,openstackdocstheme,,"project = u'oslo.utils Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,19
openstack%2Foslo.context~master~I078b9422c27c1afc6dca817292524f0de73d8e2e,openstack/oslo.context,master,I078b9422c27c1afc6dca817292524f0de73d8e2e,Switch to Ussuri jobs,MERGED,2019-10-24 06:27:10.000000000,2019-12-02 20:00:49.000000000,2019-12-02 19:58:06.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:27:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/4884c040ebd84ccf73c3ef22f0e0172ff86d1f58', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I078b9422c27c1afc6dca817292524f0de73d8e2e\n'}]",0,690843,4884c040ebd84ccf73c3ef22f0e0172ff86d1f58,9,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I078b9422c27c1afc6dca817292524f0de73d8e2e
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/43/690843/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4884c040ebd84ccf73c3ef22f0e0172ff86d1f58,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.utils~master~I37e614d81126a9d3c4f775d8a8f32a911b03c92b,openstack/oslo.utils,master,I37e614d81126a9d3c4f775d8a8f32a911b03c92b,Ignore the .eggs directory,MERGED,2019-11-21 10:07:19.000000000,2019-12-02 20:00:47.000000000,2019-12-02 19:59:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-21 10:07:19.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7e0df72aa1d91c453ddec3c901891ae9ca677f61', 'message': 'Ignore the .eggs directory\n\nChange-Id: I37e614d81126a9d3c4f775d8a8f32a911b03c92b\n'}]",0,695384,7e0df72aa1d91c453ddec3c901891ae9ca677f61,8,3,1,9712,,,0,"Ignore the .eggs directory

Change-Id: I37e614d81126a9d3c4f775d8a8f32a911b03c92b
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/84/695384/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,7e0df72aa1d91c453ddec3c901891ae9ca677f61,,*.eggs,,1,0
openstack%2Ftripleo-quickstart-extras~master~I01d6b312cc1ecb418faf1ce3bc4098b7600359ca,openstack/tripleo-quickstart-extras,master,I01d6b312cc1ecb418faf1ce3bc4098b7600359ca,fix indenting of reproducer job,ABANDONED,2019-12-02 01:06:10.000000000,2019-12-02 19:59:43.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 01:06:10.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/352d21941cb2652ba2d164c160b1e4e5e0015a64', 'message': ""fix indenting of reproducer job\n\nCurrently the following is rendered:\n\n      remove_ovb_after_job: false\n      mirror_fqdn: mirror.regionone.rdo-cloud.rdoproject.org\n                  registry_login_enabled: false\n      featureset_override:\n\nThe extra whitespace before registry_login_enabled resulted in the job\nstopping immediately with the following being logged to the zuul\nscheduler:\n\n  2019-12-01 23:03:41,937 - zuul.Pipeline.tripleo-ci-reproducer.check - DEBUG - [e: 0fc90aaf41e24e88b9db295d2e14d481] <QueueItem 0x7fcefecf5240 for <Change 0x7fcf00cc1eb8 test\n1 1001,1> in check> is a failing item because ['it has an invalid configuration']\n\nThe indented conditional blocks must be adding whitespace, this\napproach might need to be reconsidered to make this more robust.\n\nChange-Id: I01d6b312cc1ecb418faf1ce3bc4098b7600359ca\n""}]",0,696803,352d21941cb2652ba2d164c160b1e4e5e0015a64,5,3,1,4571,,,0,"fix indenting of reproducer job

Currently the following is rendered:

      remove_ovb_after_job: false
      mirror_fqdn: mirror.regionone.rdo-cloud.rdoproject.org
                  registry_login_enabled: false
      featureset_override:

The extra whitespace before registry_login_enabled resulted in the job
stopping immediately with the following being logged to the zuul
scheduler:

  2019-12-01 23:03:41,937 - zuul.Pipeline.tripleo-ci-reproducer.check - DEBUG - [e: 0fc90aaf41e24e88b9db295d2e14d481] <QueueItem 0x7fcefecf5240 for <Change 0x7fcf00cc1eb8 test
1 1001,1> in check> is a failing item because ['it has an invalid configuration']

The indented conditional blocks must be adding whitespace, this
approach might need to be reconsidered to make this more robust.

Change-Id: I01d6b312cc1ecb418faf1ce3bc4098b7600359ca
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/696803/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'],1,352d21941cb2652ba2d164c160b1e4e5e0015a64,reproducer, registry_login_enabled: false, registry_login_enabled: false,1,1
openstack%2Ftripleo-ci~master~Ib34d543a7307c8b930f93a1dd7359ebb5593ebea,openstack/tripleo-ci,master,Ib34d543a7307c8b930f93a1dd7359ebb5593ebea,Component promotion jobs should read a custom release cfg,MERGED,2019-11-22 14:15:34.000000000,2019-12-02 19:53:23.000000000,2019-11-26 00:12:00.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-22 14:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0677aafec69ca6137ec7d81e383b17f1977425a2', 'message': ""Component promotion jobs should read a custom release cfg\n\nChange the logic to load a custom release config file for\ncomponent promotion jobs. In the job definition it must be defined\nw/ 'component_promotion' var e.g.:\nvars:\n  component_promotion: compute\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1408\n\nChange-Id: Ib34d543a7307c8b930f93a1dd7359ebb5593ebea\n""}, {'number': 2, 'created': '2019-11-22 16:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2f0a05d7233a6906185a666d05adcabd3d8acb4', 'message': ""Component promotion jobs should read a custom release cfg\n\nChange the logic to load a custom release config file for\ncomponent promotion jobs. In the job definition it must be defined\nw/ 'component_promotion' var e.g.:\nvars:\n  component_promotion: compute\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1408\n\nChange-Id: Ib34d543a7307c8b930f93a1dd7359ebb5593ebea\n""}, {'number': 3, 'created': '2019-11-22 18:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/248fd6fea885b31613f48185153c3dd3126d81ce', 'message': ""Component promotion jobs should read a custom release cfg\n\nChange the logic to load a custom release config file for\ncomponent promotion jobs. In the job definition it must be defined\nw/ 'component_promotion' var e.g.:\nvars:\n  component_promotion: compute\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1408\n\nChange-Id: Ib34d543a7307c8b930f93a1dd7359ebb5593ebea\n""}, {'number': 4, 'created': '2019-11-22 20:07:01.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/846c0015e14c36ff03ecfe4c852adfc53790bc11', 'message': ""Component promotion jobs should read a custom release cfg\n\nChange the logic to load a custom release config file for\ncomponent promotion jobs. In the job definition it must be defined\nw/ 'component_promotion' var e.g.:\nvars:\n  component_promotion: compute\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1408\n\nChange-Id: Ib34d543a7307c8b930f93a1dd7359ebb5593ebea\n""}]",0,695690,846c0015e14c36ff03ecfe4c852adfc53790bc11,13,4,4,8175,,,0,"Component promotion jobs should read a custom release cfg

Change the logic to load a custom release config file for
component promotion jobs. In the job definition it must be defined
w/ 'component_promotion' var e.g.:
vars:
  component_promotion: compute

https://tree.taiga.io/project/tripleo-ci-board/task/1408

Change-Id: Ib34d543a7307c8b930f93a1dd7359ebb5593ebea
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/90/695690/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,0677aafec69ca6137ec7d81e383b17f1977425a2,component-ci,"{% if component_promotion|default(false)|bool %} QUICKSTART_RELEASE=""component-${QUICKSTART_RELEASE}"" {% else %}{% endif %}",,4,0
openstack%2Foslo.db~master~I57540c744ed6aa1edfea50b86d0900fdf59ceff9,openstack/oslo.db,master,I57540c744ed6aa1edfea50b86d0900fdf59ceff9,Switch to official Ussuri jobs,MERGED,2019-10-11 15:38:09.000000000,2019-12-02 19:52:52.000000000,2019-12-02 19:49:49.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-11 15:38:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/dfdb5ac509268a8eb8879e0a99381bd13dce4f27', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I57540c744ed6aa1edfea50b86d0900fdf59ceff9\n'}]",0,688151,dfdb5ac509268a8eb8879e0a99381bd13dce4f27,17,11,1,27781,,,0,"Switch to official Ussuri jobs

Change-Id: I57540c744ed6aa1edfea50b86d0900fdf59ceff9
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/51/688151/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dfdb5ac509268a8eb8879e0a99381bd13dce4f27,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.policy~master~I2c9f7b72a52edde7b18dc66bcc8c655630b3bbc2,openstack/oslo.policy,master,I2c9f7b72a52edde7b18dc66bcc8c655630b3bbc2,Bump the openstackdocstheme extension to 1.20,MERGED,2019-10-12 06:52:24.000000000,2019-12-02 19:52:36.000000000,2019-12-02 19:49:49.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-12 06:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5a4941a5ee0dda44ccbf108890395a6ed0fd8810', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I2c9f7b72a52edde7b18dc66bcc8c655630b3bbc2\n'}, {'number': 2, 'created': '2019-11-12 09:08:31.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/8fc7612079c5eb26f961779c4382a94ab822a412', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I2c9f7b72a52edde7b18dc66bcc8c655630b3bbc2\n'}]",0,688241,8fc7612079c5eb26f961779c4382a94ab822a412,14,4,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I2c9f7b72a52edde7b18dc66bcc8c655630b3bbc2
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/41/688241/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,5a4941a5ee0dda44ccbf108890395a6ed0fd8810,openstackdocstheme,,"html_last_updated_fmt = '%Y-%m-%d %H:%M'project = u'oslo.policy Release Notes'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,16
openstack%2Foslo.vmware~master~Iee79b99c9375342bdb1a081fff40c604da8962b3,openstack/oslo.vmware,master,Iee79b99c9375342bdb1a081fff40c604da8962b3,Switch to Ussuri jobs,MERGED,2019-10-25 06:40:31.000000000,2019-12-02 19:51:33.000000000,2019-12-02 19:48:00.000000000,"[{'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-25 06:40:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/bcf0c244ef27a7faaaa7eda00cc1e78b7d24c4aa', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Iee79b99c9375342bdb1a081fff40c604da8962b3\n'}]",0,691214,bcf0c244ef27a7faaaa7eda00cc1e78b7d24c4aa,11,6,1,30384,,,0,"Switch to Ussuri jobs

Change-Id: Iee79b99c9375342bdb1a081fff40c604da8962b3
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/14/691214/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bcf0c244ef27a7faaaa7eda00cc1e78b7d24c4aa,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.rootwrap~master~I2858ce6bf73471328b92b52be1cdc18ab46254d9,openstack/oslo.rootwrap,master,I2858ce6bf73471328b92b52be1cdc18ab46254d9,tox: Keeping going with docs,MERGED,2019-10-24 06:10:22.000000000,2019-12-02 19:49:50.000000000,2019-12-02 19:47:16.000000000,"[{'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28471}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 06:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/c4ba93c3c9d3387bb64e0ea94883c3c0ca288f71', 'message': 'tox: Keeping going with docs\n\nChange-Id: I2858ce6bf73471328b92b52be1cdc18ab46254d9\n'}, {'number': 2, 'created': '2019-10-24 07:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/82ae5729edcc42e699745fd26281eea7821565ac', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I2858ce6bf73471328b92b52be1cdc18ab46254d9\n""}, {'number': 3, 'created': '2019-11-02 18:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/cc4d27541c09628e22b9d600db9e2176e74ea7f4', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I2858ce6bf73471328b92b52be1cdc18ab46254d9\n""}, {'number': 4, 'created': '2019-11-02 18:10:44.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/5a91d686de2b40cb0b812e4cb34304f9fa2379ce', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I2858ce6bf73471328b92b52be1cdc18ab46254d9\n""}]",1,690819,5a91d686de2b40cb0b812e4cb34304f9fa2379ce,21,8,4,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I2858ce6bf73471328b92b52be1cdc18ab46254d9
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/19/690819/4 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,c4ba93c3c9d3387bb64e0ea94883c3c0ca288f71,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fhorizon~stable%2Ftrain~I429e5cfce46504d1b2ece8e22c90138f345a1c4c,openstack/horizon,stable/train,I429e5cfce46504d1b2ece8e22c90138f345a1c4c,Pin novaclient to < 16,ABANDONED,2019-11-05 13:32:02.000000000,2019-12-02 19:49:29.000000000,,"[{'_account_id': 841}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 31241}]","[{'number': 1, 'created': '2019-11-05 13:32:02.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3625b502109b0dd8a88402e1fe5a2917de52c429', 'message': 'Pin novaclient to < 16\n\nAs an alternative fix to b148c92075 which landed in master.\n\nOtherwise we get these:\n\n      File ""/app/openstack_dashboard/api/__init__.py"", line 38, in <module>\n        from openstack_dashboard.api import network\n      File ""/app/openstack_dashboard/api/network.py"", line 23, in <module>\n        from openstack_dashboard.api import neutron\n      File ""/app/openstack_dashboard/api/neutron.py"", line 39, in <module>\n        from openstack_dashboard.api import nova\n      File ""/app/openstack_dashboard/api/nova.py"", line 33, in <module>\n        from novaclient.v2 import list_extensions as nova_list_extensions\n    ImportError: cannot import name \'list_extensions\'\n\nChange-Id: I429e5cfce46504d1b2ece8e22c90138f345a1c4c\n'}]",0,693000,3625b502109b0dd8a88402e1fe5a2917de52c429,19,5,1,31241,,,0,"Pin novaclient to < 16

As an alternative fix to b148c92075 which landed in master.

Otherwise we get these:

      File ""/app/openstack_dashboard/api/__init__.py"", line 38, in <module>
        from openstack_dashboard.api import network
      File ""/app/openstack_dashboard/api/network.py"", line 23, in <module>
        from openstack_dashboard.api import neutron
      File ""/app/openstack_dashboard/api/neutron.py"", line 39, in <module>
        from openstack_dashboard.api import nova
      File ""/app/openstack_dashboard/api/nova.py"", line 33, in <module>
        from novaclient.v2 import list_extensions as nova_list_extensions
    ImportError: cannot import name 'list_extensions'

Change-Id: I429e5cfce46504d1b2ece8e22c90138f345a1c4c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/693000/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3625b502109b0dd8a88402e1fe5a2917de52c429,stable/train-fix-novaclient-dependency,"python-novaclient>=9.1.0,<16.0.0 # Apache-2.0",python-novaclient>=9.1.0 # Apache-2.0,1,1
openstack%2Ftripleo-ci~master~Ibae5dd7601f23c743192dba451254e05ee97fe4c,openstack/tripleo-ci,master,Ibae5dd7601f23c743192dba451254e05ee97fe4c,[DNM] Test existing release file for component jobs,ABANDONED,2019-11-27 13:35:47.000000000,2019-12-02 19:02:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 13:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a276f11e2b12c552bb6c10b71ffab9ba5fe04418', 'message': '[DNM] Test existing release file for component jobs\n\nChange-Id: Ibae5dd7601f23c743192dba451254e05ee97fe4c\n'}, {'number': 2, 'created': '2019-11-27 14:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4cd4e8c0c627869fd91510d669de91dca9bfe5a7', 'message': '[DNM] Test existing release file for component jobs\n\nChange-Id: Ibae5dd7601f23c743192dba451254e05ee97fe4c\n'}, {'number': 3, 'created': '2019-11-27 14:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/22cfed0afe96790e701a771c21111286a7adf477', 'message': '[DNM] Test existing release file for component jobs\n\nChange-Id: Ibae5dd7601f23c743192dba451254e05ee97fe4c\n'}, {'number': 4, 'created': '2019-11-27 18:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/87ea393f9644e4468d6933af8e3968c4a8957310', 'message': '[DNM] Test existing release file for component jobs\n\nChange-Id: Ibae5dd7601f23c743192dba451254e05ee97fe4c\n'}, {'number': 5, 'created': '2019-11-28 15:39:11.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1444842e8634e5884c0be306dd1cba140124684b', 'message': '[DNM] Test existing release file for component jobs\n\nChange-Id: Ibae5dd7601f23c743192dba451254e05ee97fe4c\n'}]",0,696305,1444842e8634e5884c0be306dd1cba140124684b,13,2,5,8175,,,0,"[DNM] Test existing release file for component jobs

Change-Id: Ibae5dd7601f23c743192dba451254e05ee97fe4c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/696305/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,a276f11e2b12c552bb6c10b71ffab9ba5fe04418,component-poc,,"{% if component_promotion is defined %} QUICKSTART_RELEASE=""component-{{ component_promotion }}-${QUICKSTART_RELEASE}"" {% else %}{% endif %}",0,4
openstack%2Ftripleo-quickstart~master~I1cc71aa2becaa96ea5954d9aff73a38d78437661,openstack/tripleo-quickstart,master,I1cc71aa2becaa96ea5954d9aff73a38d78437661,[DNM] Common release file for component jobs,ABANDONED,2019-11-27 13:45:58.000000000,2019-12-02 19:02:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 13:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/08e424be008beff0ff5761a499749ea7d888a211', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}, {'number': 2, 'created': '2019-11-27 13:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5eda3ca2ddcbe8254388841132ceba671825a7be', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}, {'number': 3, 'created': '2019-11-27 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/70233f4b9b7c1774564aa77acd454fad24514328', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}, {'number': 4, 'created': '2019-11-27 18:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9f8dccc7dc61b4c5fcd521b89e6ed19f106ba640', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\n\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}, {'number': 5, 'created': '2019-11-28 15:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bdaea4f656a5badf730250d6261299fc9975db83', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\n\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}, {'number': 6, 'created': '2019-11-28 20:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/84dc7f7162eae2ff85054d8f2a94859021716603', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\n\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}, {'number': 7, 'created': '2019-11-29 13:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/94686b10c77fd1e471a1d50fa7af4cdd4f68b1b7', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\n\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}, {'number': 8, 'created': '2019-12-02 12:12:55.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/81dc52716e95a26c0f0f7513bc0e54c00371d02d', 'message': '[DNM] Common release file for component jobs\n\nDepends-On: https://review.opendev.org/696305\n\nChange-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661\n'}]",0,696307,81dc52716e95a26c0f0f7513bc0e54c00371d02d,24,2,8,8175,,,0,"[DNM] Common release file for component jobs

Depends-On: https://review.opendev.org/696305

Change-Id: I1cc71aa2becaa96ea5954d9aff73a38d78437661
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/07/696307/8 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'],1,08e424be008beff0ff5761a499749ea7d888a211,component-poc, - type: generic reponame: compute filename: component.repo priority: 1 baseurl: https://trunk-staging.rdoproject.org/centos7/component/compute/consistent enabled: 0 {% if zuul.component_promotion is defined %} yum-config-manager --enable {{ zuul.component_promotion }} {% endif %},,10,0
openstack%2Fnova~stable%2Fpike~I20981c987549eec40ad9762e74b0db16e54f4e63,openstack/nova,stable/pike,I20981c987549eec40ad9762e74b0db16e54f4e63,Workaround missing RequestSpec.instance_group.uuid,MERGED,2019-06-04 19:39:41.000000000,2019-12-02 18:59:14.000000000,2019-12-02 18:59:14.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-04 19:39:41.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py', 'nova/objects/request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/79cc08642172a3df1cd8d7a7c413adc21b468dcf', 'message': ""Workaround missing RequestSpec.instance_group.uuid\n\nIt's clear that we could have a RequestSpec.instance_group\nwithout a uuid field if the InstanceGroup is set from the\n_populate_group_info method which should only be used for\nlegacy translation of request specs using legacy filter\nproperties dicts.\n\nTo workaround the issue, we look for the group scheduler hint\nto get the group uuid before loading it from the DB.\n\nThe related functional regression recreate test is updated\nto show this solves the issue.\n\nChange-Id: I20981c987549eec40ad9762e74b0db16e54f4e63\nCloses-Bug: #1830747\n(cherry picked from commit da453c2bfe86ab7a825f0aa7ebced15886f7a5fd)\n(cherry picked from commit 8569eb9b4fb905cb92041b84c293dc4e7af27fa8)\n(cherry picked from commit 9fed1803b4d6b2778c47add9c327f0610edc5952)\n(cherry picked from commit 20b90f2e26e6a46a12c2fd943b4472c3147528fa)\n""}]",0,663125,79cc08642172a3df1cd8d7a7c413adc21b468dcf,20,9,1,6873,,,0,"Workaround missing RequestSpec.instance_group.uuid

It's clear that we could have a RequestSpec.instance_group
without a uuid field if the InstanceGroup is set from the
_populate_group_info method which should only be used for
legacy translation of request specs using legacy filter
properties dicts.

To workaround the issue, we look for the group scheduler hint
to get the group uuid before loading it from the DB.

The related functional regression recreate test is updated
to show this solves the issue.

Change-Id: I20981c987549eec40ad9762e74b0db16e54f4e63
Closes-Bug: #1830747
(cherry picked from commit da453c2bfe86ab7a825f0aa7ebced15886f7a5fd)
(cherry picked from commit 8569eb9b4fb905cb92041b84c293dc4e7af27fa8)
(cherry picked from commit 9fed1803b4d6b2778c47add9c327f0610edc5952)
(cherry picked from commit 20b90f2e26e6a46a12c2fd943b4472c3147528fa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/663125/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/functional/regressions/test_bug_1830747.py']",2,79cc08642172a3df1cd8d7a7c413adc21b468dcf,bug/1830747," self.api, server, 'VERIFY_RESIZE') self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) # The RequestSpec.instance_group.uuid should still be set. reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(group_id, reqspec.instance_group.uuid)","import sixfrom nova import exception # FIXME(mriedem): Due to bug 1830747 we don't go to VERIFY_RESIZE # because the reschedule fails and the instance is put into # ERROR status. When the bug is fixed the status should be # VERIFY_RESIZE and the server should be on host2. self.api, server, 'ERROR') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # And the RequestSpec.instance_group.uuid should be missing which # leads to us failing to load the RequestSpec. ex = self.assertRaises(exception.ObjectActionError, objects.RequestSpec.get_by_instance_uuid, ctxt, server['id']) self.assertIn('unable to load uuid', six.text_type(ex))",13,14
openstack%2Fnova~stable%2Fpike~I05700c97f756edb7470be7273d5c9c3d76d63e29,openstack/nova,stable/pike,I05700c97f756edb7470be7273d5c9c3d76d63e29,Add regression recreate test for bug 1830747,MERGED,2019-06-04 19:39:41.000000000,2019-12-02 18:59:09.000000000,2019-12-02 18:59:09.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 16128}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-04 19:39:41.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/09ec97b95b19a42b949da76fe1f1b3cc06da8f35', 'message': 'Add regression recreate test for bug 1830747\n\nBefore change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when\na cold migration would reschedule to conductor it would not send the\nRequestSpec, only the filter_properties. The filter_properties contain\na primitive version of the instance group information from the RequestSpec\nfor things like the group members, hosts and policies, but not the uuid.\nWhen conductor is trying to reschedule the cold migration without a\nRequestSpec, it builds a RequestSpec from the components it has, like the\nfilter_properties. This results in a RequestSpec with an instance_group\nfield set but with no uuid field in the RequestSpec.instance_group.\nThat RequestSpec gets persisted and then because of change\nIe70c77db753711e1449e99534d3b83669871943f, later attempts to load the\nRequestSpec from the database will fail because of the missing\nRequestSpec.instance_group.uuid.\n\nThe test added here recreates the pre-Stein scenario which could still\nbe a problem (on master) for any corrupted RequestSpecs for older\ninstances.\n\nNOTE(mriedem): In this version we have to use the MediumFakeDriver\nbecause change I12de2e195022593ea2a3e2894f2c3b5226930d4f is not\nin Pike so resizing to the same host does not work with the\nSmallFakeDriver.\n\nChange-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29\nRelated-Bug: #1830747\n(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)\n(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)\n(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)\n(cherry picked from commit 581df2c98676b6734e8195ab56c9e0dba74789a5)\n'}]",0,663124,09ec97b95b19a42b949da76fe1f1b3cc06da8f35,12,6,1,6873,,,0,"Add regression recreate test for bug 1830747

Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when
a cold migration would reschedule to conductor it would not send the
RequestSpec, only the filter_properties. The filter_properties contain
a primitive version of the instance group information from the RequestSpec
for things like the group members, hosts and policies, but not the uuid.
When conductor is trying to reschedule the cold migration without a
RequestSpec, it builds a RequestSpec from the components it has, like the
filter_properties. This results in a RequestSpec with an instance_group
field set but with no uuid field in the RequestSpec.instance_group.
That RequestSpec gets persisted and then because of change
Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the
RequestSpec from the database will fail because of the missing
RequestSpec.instance_group.uuid.

The test added here recreates the pre-Stein scenario which could still
be a problem (on master) for any corrupted RequestSpecs for older
instances.

NOTE(mriedem): In this version we have to use the MediumFakeDriver
because change I12de2e195022593ea2a3e2894f2c3b5226930d4f is not
in Pike so resizing to the same host does not work with the
SmallFakeDriver.

Change-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29
Related-Bug: #1830747
(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)
(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)
(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)
(cherry picked from commit 581df2c98676b6734e8195ab56c9e0dba74789a5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/663124/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1830747.py'],1,09ec97b95b19a42b949da76fe1f1b3cc06da8f35,bug/1830747,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import six from nova import context as nova_context from nova import exception from nova import objects from nova.scheduler import weights from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image from nova.virt import fake as fake_virt class HostNameWeigher(weights.BaseHostWeigher): # Prefer host1 over host2. weights = {'host1': 100, 'host2': 50} def _weigh_object(self, host_state, weight_properties): return self.weights.get(host_state.host, 0) class MissingReqSpecInstanceGroupUUIDTestCase( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression recreate test for bug 1830747 Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when a cold migration would reschedule to conductor it would not send the RequestSpec, only the filter_properties. The filter_properties contain a primitive version of the instance group information from the RequestSpec for things like the group members, hosts and policies, but not the uuid. When conductor is trying to reschedule the cold migration without a RequestSpec, it builds a RequestSpec from the components it has, like the filter_properties. This results in a RequestSpec with an instance_group field set but with no uuid field in the RequestSpec.instance_group. That RequestSpec gets persisted and then because of change Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the RequestSpec from the database will fail because of the missing RequestSpec.instance_group.uuid. This test recreates the regression scenario by cold migrating a server to a host which fails and triggers a reschedule but without the RequestSpec so a RequestSpec is created/updated for the instance without the instance_group.uuid set which will lead to a failure loading the RequestSpec from the DB later. """""" def setUp(self): super(MissingReqSpecInstanceGroupUUIDTestCase, self).setUp() # Stub out external dependencies. self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Configure the API to allow resizing to the same host so we can keep # the number of computes down to two in the test. self.flags(allow_resize_to_same_host=True) # Start nova controller services. api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.start_service('conductor') # Use our custom weigher defined above to make sure that we have # a predictable scheduling sort order. self.flags(weight_classes=[__name__ + '.HostNameWeigher'], group='filter_scheduler') self.start_service('scheduler') # Use the MediumFakeDriver so we have enough resources to resize to # the same host. self.flags(compute_driver='fake.MediumFakeDriver') # Start two computes, one where the server will be created and another # where we'll cold migrate it. self.addCleanup(fake_virt.restore_nodes) self.computes = {} # keep track of the compute services per host name for host in ('host1', 'host2'): fake_virt.set_nodes([host]) compute_service = self.start_service('compute', host=host) self.computes[host] = compute_service def test_cold_migrate_reschedule(self): # Create an anti-affinity group for the server. body = { 'server_group': { 'name': 'test-group', 'policies': ['anti-affinity'] } } group_id = self.api.api_post( '/os-server-groups', body).body['server_group']['id'] # Create a server in the group which should land on host1 due to our # custom weigher. networks = [{ 'port': nova_fixtures.NeutronFixture.port_1['id'] }] server = self._build_minimal_create_server_request( self.api, 'test_cold_migrate_reschedule', networks=networks) body = dict(server=server) body['os:scheduler_hints'] = {'group': group_id} server = self.api.post_server(body) server = self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # Verify the group uuid is set in the request spec. ctxt = nova_context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(group_id, reqspec.instance_group.uuid) # Now cold migrate the server. Because of allow_resize_to_same_host and # the weigher, the scheduler will pick host1 first. The FakeDriver # actually allows migrating to the same host so we need to stub that # out so the compute will raise UnableToMigrateToSelf like when using # the libvirt driver. host1_driver = self.computes['host1'].driver with mock.patch.dict(host1_driver.capabilities, supports_migrate_to_same_host=False): self.api.post_server_action(server['id'], {'migrate': None}) # FIXME(mriedem): Due to bug 1830747 we don't go to VERIFY_RESIZE # because the reschedule fails and the instance is put into # ERROR status. When the bug is fixed the status should be # VERIFY_RESIZE and the server should be on host2. server = self._wait_for_state_change( self.api, server, 'ERROR') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # And the RequestSpec.instance_group.uuid should be missing which # leads to us failing to load the RequestSpec. ex = self.assertRaises(exception.ObjectActionError, objects.RequestSpec.get_by_instance_uuid, ctxt, server['id']) self.assertIn('unable to load uuid', six.text_type(ex)) ",,143,0
openstack%2Fsecurity-doc~master~Ibb8e17b0fd325cd2f4be88dc043dc75b0a9f4eb8,openstack/security-doc,master,Ibb8e17b0fd325cd2f4be88dc043dc75b0a9f4eb8,Update OSSN-0085,MERGED,2019-11-26 20:57:02.000000000,2019-12-02 18:36:13.000000000,2019-12-02 18:34:57.000000000,"[{'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 20:57:02.000000000', 'files': ['security-notes/OSSN-0085'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/6697b93a0037d90081f95d29d730f4227fc292c5', 'message': 'Update OSSN-0085\n\nUpdate the note to include information about the fix for the issue\nin cinder (which is to remove the functionality) and the timeline\nfor implementation (deprectation in U and removal in V).\n\nChange-Id: Ibb8e17b0fd325cd2f4be88dc043dc75b0a9f4eb8\n'}]",2,696185,6697b93a0037d90081f95d29d730f4227fc292c5,10,4,1,5314,,,0,"Update OSSN-0085

Update the note to include information about the fix for the issue
in cinder (which is to remove the functionality) and the timeline
for implementation (deprectation in U and removal in V).

Change-Id: Ibb8e17b0fd325cd2f4be88dc043dc75b0a9f4eb8
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/85/696185/1 && git format-patch -1 --stdout FETCH_HEAD,['security-notes/OSSN-0085'],1,6697b93a0037d90081f95d29d730f4227fc292c5,update-ossn-0085,The ``rbd_keyring_conf`` is deprecated in the Ussuri release and will be removed early in the 'V' development cycle. There is no replacement planned for this functionality. ,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I25d1c534c199f50c82458257d1c24196501c5499,openstack/tripleo-heat-templates,stable/queens,I25d1c534c199f50c82458257d1c24196501c5499,Enable recon middleware for swift account/container server,MERGED,2019-11-26 02:00:23.000000000,2019-12-02 18:34:39.000000000,2019-12-02 18:34:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 02:00:23.000000000', 'files': ['puppet/services/swift-storage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/932f8dc08b51ef512b68b5bd9d6ecc7aaefa04e2', 'message': 'Enable recon middleware for swift account/container server\n\nEnable recon middleware in account server and container server,\nso that we can monitor metrics about swift processes related to\naccount or container using recon api.\n\nConflicts:\n\tdocker/services/swift-storage.yaml\n\nChange-Id: I25d1c534c199f50c82458257d1c24196501c5499\nCloses-Bug: #1852530\n(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)\n(cherry picked from commit 26338c3e26ec3711b32eb9f3b9c888a39b252816)\n(cherry picked from commit ce335e229f65b952b9e18a083764ac7edda6bc6a)\n(cherry picked from commit f29d55c839b1c193b98f347fbbb5c6154be9cfb1)\n'}]",0,696006,932f8dc08b51ef512b68b5bd9d6ecc7aaefa04e2,9,4,1,9816,,,0,"Enable recon middleware for swift account/container server

Enable recon middleware in account server and container server,
so that we can monitor metrics about swift processes related to
account or container using recon api.

Conflicts:
	docker/services/swift-storage.yaml

Change-Id: I25d1c534c199f50c82458257d1c24196501c5499
Closes-Bug: #1852530
(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)
(cherry picked from commit 26338c3e26ec3711b32eb9f3b9c888a39b252816)
(cherry picked from commit ce335e229f65b952b9e18a083764ac7edda6bc6a)
(cherry picked from commit f29d55c839b1c193b98f347fbbb5c6154be9cfb1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/696006/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/swift-storage.yaml'],1,932f8dc08b51ef512b68b5bd9d6ecc7aaefa04e2,bug/1852530, - recon - recon,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I25d1c534c199f50c82458257d1c24196501c5499,openstack/tripleo-heat-templates,stable/stein,I25d1c534c199f50c82458257d1c24196501c5499,Enable recon middleware for swift account/container server,MERGED,2019-11-26 01:56:27.000000000,2019-12-02 18:34:36.000000000,2019-12-02 18:34:36.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 01:56:27.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce335e229f65b952b9e18a083764ac7edda6bc6a', 'message': 'Enable recon middleware for swift account/container server\n\nEnable recon middleware in account server and container server,\nso that we can monitor metrics about swift processes related to\naccount or container using recon api.\n\nChange-Id: I25d1c534c199f50c82458257d1c24196501c5499\nCloses-Bug: #1852530\n(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)\n(cherry picked from commit 26338c3e26ec3711b32eb9f3b9c888a39b252816)\n'}]",0,696004,ce335e229f65b952b9e18a083764ac7edda6bc6a,9,4,1,9816,,,0,"Enable recon middleware for swift account/container server

Enable recon middleware in account server and container server,
so that we can monitor metrics about swift processes related to
account or container using recon api.

Change-Id: I25d1c534c199f50c82458257d1c24196501c5499
Closes-Bug: #1852530
(cherry-picked from commit 927531adb4088919339d8167154b18698d744f1d)
(cherry picked from commit 26338c3e26ec3711b32eb9f3b9c888a39b252816)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/696004/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,ce335e229f65b952b9e18a083764ac7edda6bc6a,bug/1852530, - recon - recon,,2,0
openstack%2Foslo.reports~master~Ie40178da80161839379aa9762cd7a5361b44953b,openstack/oslo.reports,master,Ie40178da80161839379aa9762cd7a5361b44953b,Exclude tests from apidoc,MERGED,2019-11-07 09:42:44.000000000,2019-12-02 18:25:04.000000000,2019-12-02 18:23:26.000000000,"[{'_account_id': 6476}, {'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-07 09:42:44.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/ca98f3fde886dbf9d602233a0a9af17e69dcec2f', 'message': 'Exclude tests from apidoc\n\nit is not only useless to an end user but it also\nincludes random/non-deterministic contents.\nThis change makes the build reproducible.\n\nSee https://reproducible-builds.org/ for why this is good.\n\nChange-Id: Ie40178da80161839379aa9762cd7a5361b44953b\n'}]",0,693327,ca98f3fde886dbf9d602233a0a9af17e69dcec2f,10,5,1,1446,,,0,"Exclude tests from apidoc

it is not only useless to an end user but it also
includes random/non-deterministic contents.
This change makes the build reproducible.

See https://reproducible-builds.org/ for why this is good.

Change-Id: Ie40178da80161839379aa9762cd7a5361b44953b
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/27/693327/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,ca98f3fde886dbf9d602233a0a9af17e69dcec2f,debianbug942767,apidoc_excluded_paths = ['tests'],,1,0
openstack%2Foslo.config~master~I592a110921707656748c48a62c038131d003db6c,openstack/oslo.config,master,I592a110921707656748c48a62c038131d003db6c,update source link in readme,MERGED,2019-10-15 02:53:55.000000000,2019-12-02 18:24:43.000000000,2019-12-02 18:23:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-10-15 02:53:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/e458d705d78fec3953b0be584d8c4273d4cc72a7', 'message': 'update source link in readme\n\nChange-Id: I592a110921707656748c48a62c038131d003db6c\n'}]",0,688606,e458d705d78fec3953b0be584d8c4273d4cc72a7,9,4,1,30384,,,0,"update source link in readme

Change-Id: I592a110921707656748c48a62c038131d003db6c
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/06/688606/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e458d705d78fec3953b0be584d8c4273d4cc72a7,,* Source: https://opendev.org/openstack/oslo.config/,* Source: https://git.openstack.org/cgit/openstack/oslo.config,1,1
openstack%2Foslo-cookiecutter~master~Ib9f2a17938ca63e8c8699037f8fdbf895897822b,openstack/oslo-cookiecutter,master,Ib9f2a17938ca63e8c8699037f8fdbf895897822b,Fix openstack review link.,MERGED,2019-11-20 02:29:56.000000000,2019-12-02 18:22:31.000000000,2019-12-02 18:22:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-20 02:29:56.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/.gitreview'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/ac356a26a02e1af7dc7014c64b4f181b2f3db0ee', 'message': 'Fix openstack review link.\n\nChange-Id: Ib9f2a17938ca63e8c8699037f8fdbf895897822b\n'}]",0,695127,ac356a26a02e1af7dc7014c64b4f181b2f3db0ee,7,3,1,30717,,,0,"Fix openstack review link.

Change-Id: Ib9f2a17938ca63e8c8699037f8fdbf895897822b
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/27/695127/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/.gitreview'],1,ac356a26a02e1af7dc7014c64b4f181b2f3db0ee,,host=review.opendev.org,host=review.openstack.org,1,1
openstack%2Fmox3~master~I24779f878b4d60fc0bdb1059895d527071a29bfd,openstack/mox3,master,I24779f878b4d60fc0bdb1059895d527071a29bfd,Switch to Ussuri jobs,MERGED,2019-10-23 08:11:54.000000000,2019-12-02 18:22:29.000000000,2019-12-02 18:18:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-23 08:11:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mox3/commit/4e11f008459f45a54af3c8e092a016de1f2463c1', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I24779f878b4d60fc0bdb1059895d527071a29bfd\n'}]",0,690503,4e11f008459f45a54af3c8e092a016de1f2463c1,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I24779f878b4d60fc0bdb1059895d527071a29bfd
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/03/690503/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4e11f008459f45a54af3c8e092a016de1f2463c1,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fproject-config~master~I896ff31bcd38c48525d03556048e35998bf18233,openstack/project-config,master,I896ff31bcd38c48525d03556048e35998bf18233,Disable fortnebula,MERGED,2019-12-02 18:14:55.000000000,2019-12-02 18:20:58.000000000,2019-12-02 18:20:58.000000000,"[{'_account_id': 5263}, {'_account_id': 20754}]","[{'number': 1, 'created': '2019-12-02 18:14:55.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c50fce14a28b70f43c08e361127ea8efd024c600', 'message': 'Disable fortnebula\n\nMirror problems of unknown origin.\n\nChange-Id: I896ff31bcd38c48525d03556048e35998bf18233\n'}]",0,696941,c50fce14a28b70f43c08e361127ea8efd024c600,5,2,1,1,,,0,"Disable fortnebula

Mirror problems of unknown origin.

Change-Id: I896ff31bcd38c48525d03556048e35998bf18233
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/696941/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,c50fce14a28b70f43c08e361127ea8efd024c600,, max-servers: 0, max-servers: 65,1,1
openstack%2Fpuppet-openstack-integration~master~I7c2bdcf0236aa73361e05967458d18d815e8cd17,openstack/puppet-openstack-integration,master,I7c2bdcf0236aa73361e05967458d18d815e8cd17,Bump to Puppet 4.10 and Puppet 6.11,MERGED,2019-11-21 21:39:17.000000000,2019-12-02 18:16:31.000000000,2019-12-02 18:16:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-21 21:39:17.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0beb85cdb4ca0d1aba3216ca59ebdc6c09470b36', 'message': 'Bump to Puppet 4.10 and Puppet 6.11\n\nChange-Id: I7c2bdcf0236aa73361e05967458d18d815e8cd17\n'}]",0,695585,0beb85cdb4ca0d1aba3216ca59ebdc6c09470b36,8,4,1,16137,,,0,"Bump to Puppet 4.10 and Puppet 6.11

Change-Id: I7c2bdcf0236aa73361e05967458d18d815e8cd17
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/85/695585/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml']",3,0beb85cdb4ca0d1aba3216ca59ebdc6c09470b36,, name: puppet-openstack-unit-4.10-centos-7 puppet_gem_version: 4.10 name: puppet-openstack-unit-6.11-ubuntu-bionic puppet_gem_version: 6.11 - puppet-openstack-unit-4.10-centos-7 - puppet-openstack-unit-6.11-ubuntu-bionic - puppet-openstack-unit-4.10-centos-7 - puppet-openstack-unit-6.11-ubuntu-bionic, name: puppet-openstack-unit-4.8-centos-7 puppet_gem_version: 4.8 name: puppet-openstack-unit-6.4-ubuntu-bionic puppet_gem_version: 6.4 - puppet-openstack-unit-4.8-centos-7 - puppet-openstack-unit-6.4-ubuntu-bionic - puppet-openstack-unit-4.8-centos-7 - puppet-openstack-unit-6.4-ubuntu-bionic,16,16
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I737d5656b113f7e2238fe7bb555cc2d4cb13877c,openstack/tripleo-heat-templates,stable/queens,I737d5656b113f7e2238fe7bb555cc2d4cb13877c,Fall back service_net_map to ctlplane,MERGED,2019-12-02 06:24:09.000000000,2019-12-02 18:13:25.000000000,2019-12-02 18:13:25.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-12-02 06:24:09.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dfb57618991959e951a5c6e92149676ec62b96f', 'message': ""Fall back service_net_map to ctlplane\n\nRender the service_net_map to fall back to the ctlplane network when\nnetworks are disabled (or not defined) in network_data.yaml.\n\nAlso use startswith for Ceph roles which should all have 'storage'\nas the HostnameResolveNetwork.\n\nConflicts:\n\tnetwork/service_net_map.j2.yaml\n\nCloses-Bug: #1809313\nChange-Id: I737d5656b113f7e2238fe7bb555cc2d4cb13877c\n(cherry picked from commit 3df5f8db1ecb2e276d8744ad796a029a0f0a5a6e)\n""}]",0,696821,2dfb57618991959e951a5c6e92149676ec62b96f,8,4,1,8833,,,0,"Fall back service_net_map to ctlplane

Render the service_net_map to fall back to the ctlplane network when
networks are disabled (or not defined) in network_data.yaml.

Also use startswith for Ceph roles which should all have 'storage'
as the HostnameResolveNetwork.

Conflicts:
	network/service_net_map.j2.yaml

Closes-Bug: #1809313
Change-Id: I737d5656b113f7e2238fe7bb555cc2d4cb13877c
(cherry picked from commit 3df5f8db1ecb2e276d8744ad796a029a0f0a5a6e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/696821/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,2dfb57618991959e951a5c6e92149676ec62b96f,,"{%- set _service_nets = {} -%} {%- for network in networks if network.enabled|default(true) -%} {%- if network.name == 'InternalApi' -%} {%- set _service_nets = _service_nets.update({'internal_api': 'internal_api'}) -%} {%- endif -%} {%- if network.name == 'External' -%} {%- set _service_nets = _service_nets.update({'external': 'external'}) -%} {%- endif -%} {%- if network.name == 'Tenant' -%} {%- set _service_nets = _service_nets.update({'tenant': 'tenant'}) -%} {%- endif -%} {%- if network.name == 'Storage' -%} {%- set _service_nets = _service_nets.update({'storage': 'storage'}) -%} {%- endif -%} {%- if network.name == 'StorageMgmt' -%} {%- set _service_nets = _service_nets.update({'storage_mgmt': 'storage_mgmt'}) -%} {%- endif -%} {%- if network.name == 'StorageNFS' -%} {%- set _service_nets = _service_nets.update({'storage_nfs': 'storage_nfs'}) -%} {%- endif -%} {%- endfor -%} ApacheNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} NeutronTenantNetwork: {{ _service_nets.get('tenant', 'ctlplane') }} CeilometerApiNetwork: {{ _service_nets.get('tenant', 'ctlplane') }} AodhApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} PankoApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} BarbicanApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} GnocchiApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} MongodbNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} CinderApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} CinderIscsiNetwork: {{ _service_nets.get('storage', 'ctlplane') }} CongressApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} GlanceApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} KeystonePublicApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} ManilaApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} MetricsQdrNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} NeutronApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} OctaviaApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} HeatApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} HeatApiCfnNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} HeatApiCloudwatchNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} NovaApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} NovaPlacementNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} NovaMetadataNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} NovaVncProxyNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} NovaLibvirtNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} Ec2ApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} Ec2ApiMetadataNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} TackerApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} SwiftStorageNetwork: {{ _service_nets.get('storage_mgmt', 'ctlplane') }} SwiftProxyNetwork: {{ _service_nets.get('storage', 'ctlplane') }} SaharaApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} HorizonNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} MemcachedNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} RabbitmqNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} QdrNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} RedisNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'ctlplane') }} MysqlNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} SnmpdNetwork: ctlplane CephClusterNetwork: {{ _service_nets.get('storage_mgmt', 'ctlplane') }} CephMonNetwork: {{ _service_nets.get('storage', 'ctlplane') }} CephRgwNetwork: {{ _service_nets.get('storage', 'ctlplane') }} PublicNetwork: {{ _service_nets.get('external', 'ctlplane') }} OpendaylightApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} OvnDbsNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} MistralApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} ZaqarApiNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} PacemakerRemoteNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} EtcdNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} # We special-case the default ResolveNetwork for the Ceph roles # for backwards compatibility, all other roles default to internal_api {%- for role in roles if role.name.startswith('Ceph') %} {{role.name}}HostnameResolveNetwork: {{ _service_nets.get('storage', 'ctlplane') }} {%- endfor %} {%- for role in roles if not role.name.startswith('Ceph') %} {{role.name}}HostnameResolveNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }} {%- endfor %}"," ApacheNetwork: internal_api NeutronTenantNetwork: tenant CeilometerApiNetwork: internal_api AodhApiNetwork: internal_api PankoApiNetwork: internal_api BarbicanApiNetwork: internal_api GnocchiApiNetwork: internal_api MongodbNetwork: internal_api CinderApiNetwork: internal_api CinderIscsiNetwork: storage CongressApiNetwork: internal_api GlanceApiNetwork: internal_api KeystonePublicApiNetwork: internal_api ManilaApiNetwork: internal_api MetricsQdrNetwork: internal_api NeutronApiNetwork: internal_api OctaviaApiNetwork: internal_api HeatApiNetwork: internal_api HeatApiCfnNetwork: internal_api HeatApiCloudwatchNetwork: internal_api NovaApiNetwork: internal_api NovaPlacementNetwork: internal_api NovaMetadataNetwork: internal_api NovaVncProxyNetwork: internal_api NovaLibvirtNetwork: internal_api Ec2ApiNetwork: internal_api Ec2ApiMetadataNetwork: internal_api TackerApiNetwork: internal_api SwiftStorageNetwork: storage_mgmt SwiftProxyNetwork: storage SaharaApiNetwork: internal_api HorizonNetwork: internal_api MemcachedNetwork: internal_api RabbitmqNetwork: internal_api QdrNetwork: internal_api RedisNetwork: internal_api GaneshaNetwork: storage_nfs MysqlNetwork: internal_api SnmpdNetwork: ctrlplane CephClusterNetwork: storage_mgmt CephMonNetwork: storage CephRgwNetwork: storage PublicNetwork: external OpendaylightApiNetwork: internal_api OvnDbsNetwork: internal_api MistralApiNetwork: internal_api ZaqarApiNetwork: internal_api PacemakerRemoteNetwork: internal_api # We special-case the default ResolveNetwork for the CephStorage role # for backwards compatibility, all other roles default to internal_api CephStorageHostnameResolveNetwork: storage EtcdNetwork: internal_api{% for role in roles if role.name != 'CephStorage' %} {{role.name}}HostnameResolveNetwork: internal_api {% endfor %}",78,55
openstack%2Fnova~master~I352b71b5976d008c2b8fab8a6d6939c0e0b305be,openstack/nova,master,I352b71b5976d008c2b8fab8a6d6939c0e0b305be,nova-net: Remove 'networks' quota,MERGED,2019-10-04 18:22:20.000000000,2019-12-02 18:11:37.000000000,2019-11-22 22:44:08.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d50405da286bbf6f06acfc14d14494a801256e8e', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-05 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6eb491a1d73c3364f388fbfa8382e6c42cb19355', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-10-05 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67b41e2f49d378a8903931c99c2cd6bc0240216d', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-10-09 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9166d3bff839e792282acf95de0a6f821d2ba60', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-11-13 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e9f092f7cab91332be41a76d82e36a010da31b6', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-11-15 15:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78b6581c315b65c03991f27f893ff157bed2c86f', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-11-18 16:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c71f4958c8b6d113a1b73ebac1fbdc306dc09b95', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-11-22 16:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65f77cb18b88476c40a12a55113674acc6e4854e', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-11-22 16:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca4e33aed8dc09f337e31c5e74dee7eef7745ffd', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-11-22 16:49:55.000000000', 'files': ['nova/api/openstack/compute/quota_sets.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/api/openstack/compute/quota_classes.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/conf/network.py', 'nova/tests/fixtures.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/tests/unit/test_quota.py', 'releasenotes/notes/remove-nova-network-c02953ba72a1795d.yaml', 'nova/quota.py', 'nova/api/openstack/compute/schemas/quota_sets.py', 'nova/tests/unit/api/openstack/compute/test_tenant_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6fe31d97542467656cdecd90c2e0a9057a4f7480', 'message': ""nova-net: Remove 'networks' quota\n\nWith the impending removal of nova-network, there's nothing that should\nbe using this. Remove it.\n\nChange-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",14,686812,6fe31d97542467656cdecd90c2e0a9057a4f7480,82,15,10,15334,,,0,"nova-net: Remove 'networks' quota

With the impending removal of nova-network, there's nothing that should
be using this. Remove it.

Change-Id: I352b71b5976d008c2b8fab8a6d6939c0e0b305be
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/686812/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/network.py', 'nova/tests/fixtures.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/api/openstack/compute/quota_sets.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/quota.py', 'nova/api/openstack/compute/schemas/quota_sets.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/api/openstack/compute/test_tenant_networks.py']",9,d50405da286bbf6f06acfc14d14494a801256e8e,bp/remove-nova-network-ussuri,, self.flags(enable_network_quota=True) self.useFixture(nova_fixtures.RegisterNetworkQuota()),12,105
openstack%2Foslo.limit~master~Iae45df091e98904fd6a30db9923b141279fb2cc0,openstack/oslo.limit,master,Iae45df091e98904fd6a30db9923b141279fb2cc0,Add ksa connection logic,MERGED,2019-06-18 17:53:53.000000000,2019-12-02 17:44:51.000000000,2019-12-02 17:43:16.000000000,"[{'_account_id': 782}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 17:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/6df34c20c25b35b0bb5c456ff11e939765e75d44', 'message': 'WIP: Add ksa connection logic\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 2, 'created': '2019-06-19 20:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/bb08648554ccffa1f6f3ab04571933bbe51c682c', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 3, 'created': '2019-06-20 14:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/04aadaa94f02557296e3834dfccbfb6e86ed6f4b', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 4, 'created': '2019-06-24 15:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/77da40bbb345a2f8d0c248ea7daa40101100abdf', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 5, 'created': '2019-06-24 16:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/7daf2ad9e75e562252d3319ce031aee3eb99c09b', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 6, 'created': '2019-06-25 18:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/07aa7ea99ac893dc9babe4e2db50d300492f10db', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 7, 'created': '2019-06-25 19:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/07f3e2045ce9be046817406cda240681ecfde143', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 8, 'created': '2019-07-01 16:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/ea2307dd3f93580d5e957e7359521476dd98e065', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 9, 'created': '2019-07-01 16:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/52e2a22cd86bcd338b25d9bc9c24e8dd7d35f013', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 10, 'created': '2019-11-22 14:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/a5256cebf367fa162d67390ea6b331da6043b439', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 11, 'created': '2019-11-22 16:59:18.000000000', 'files': ['requirements.txt', 'oslo_limit/tests/test_limit.py', 'oslo_limit/exception.py', 'oslo_limit/limit.py', 'lower-constraints.txt', 'oslo_limit/opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/c02c025a66f1ad64a9626d9cefb962c51d5eedb7', 'message': 'Add ksa connection logic\n\nThis commit pulls the ksa-specific logic from a previous attempt:\n\n  Ibc35360dd4a952bbe63ee68ddafd5def0608949d\n\nSubsequent patches will use this connection to query unified limit\ninformation out of keystone.\n\nChange-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}]",16,666085,c02c025a66f1ad64a9626d9cefb962c51d5eedb7,42,7,11,5046,,,0,"Add ksa connection logic

This commit pulls the ksa-specific logic from a previous attempt:

  Ibc35360dd4a952bbe63ee68ddafd5def0608949d

Subsequent patches will use this connection to query unified limit
information out of keystone.

Change-Id: Iae45df091e98904fd6a30db9923b141279fb2cc0
Co-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/85/666085/10 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_limit/exception.py', 'oslo_limit/limit.py', 'lower-constraints.txt']",4,6df34c20c25b35b0bb5c456ff11e939765e75d44,rewrite,oslo.log==3.38.0,,62,0
openstack%2Fopenstack-helm~master~I36957c859bf065541ac4ce07e03c01fc020ff4af,openstack/openstack-helm,master,I36957c859bf065541ac4ce07e03c01fc020ff4af,Add Stein barbican overrides,MERGED,2019-11-12 18:35:32.000000000,2019-12-02 17:11:52.000000000,2019-12-02 17:09:58.000000000,"[{'_account_id': 8863}, {'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-11-12 18:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf3fc5702691fd1ae94cd95637b202e1e473765d', 'message': 'Add policy file configuration for stein barbican\n\nDue to https://review.opendev.org/#/c/500363/ stein barbican requires\noslo_policy.policy_file option to use an external policy file.\n\nChange-Id: I36957c859bf065541ac4ce07e03c01fc020ff4af\n'}, {'number': 2, 'created': '2019-11-12 20:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7ddfed3633587c1d4a8abda71191bf8c830de1d', 'message': 'Barbican policy changes for stein\n\nPolicy rules changes due to https://review.opendev.org/#/c/609606\n\nChange-Id: I36957c859bf065541ac4ce07e03c01fc020ff4af\n'}, {'number': 3, 'created': '2019-11-20 20:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7766fbcdb566cd87fd7a3ce6d22ed2c95a5d9f22', 'message': 'Barbican policy changes for stein\n\nPolicy rules changes due to https://review.opendev.org/#/c/609606\n\nChange-Id: I36957c859bf065541ac4ce07e03c01fc020ff4af\n'}, {'number': 4, 'created': '2019-11-21 03:14:18.000000000', 'files': ['barbican/values_overrides/stein.yaml', 'barbican/values_overrides/stein-ubuntu_bionic.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3820b637255e9edcd4cf4021563b47d6f6eede13', 'message': 'Add Stein barbican overrides\n\nAdd ubuntu bionic barbican images for Stein.\nAlso policy rules changes due to https://review.opendev.org/#/c/609606\n\nChange-Id: I36957c859bf065541ac4ce07e03c01fc020ff4af\n'}]",0,693901,3820b637255e9edcd4cf4021563b47d6f6eede13,39,8,4,8863,,,0,"Add Stein barbican overrides

Add ubuntu bionic barbican images for Stein.
Also policy rules changes due to https://review.opendev.org/#/c/609606

Change-Id: I36957c859bf065541ac4ce07e03c01fc020ff4af
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/01/693901/4 && git format-patch -1 --stdout FETCH_HEAD,['barbican/values_overrides/stein.yaml'],1,cf3fc5702691fd1ae94cd95637b202e1e473765d,,conf: barbican: oslo_policy: policy_file: policy.json ,,4,0
openstack%2Frally-openstack~master~Iee183a1763e0d295748dbce7ed96a4c38146c3b4,openstack/rally-openstack,master,Iee183a1763e0d295748dbce7ed96a4c38146c3b4,Fix pep8 on python3.7,MERGED,2019-10-28 17:36:26.000000000,2019-12-02 17:08:11.000000000,2019-12-02 17:08:11.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-10-28 17:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ae04e14361088fe6836b7a12a9f335932f4ebb6b', 'message': 'Fix pep8 on python3.7\n\nI was seeing:\n\n/home/will/code/rally-openstack/.tox/pep8/lib/python3.7/site-packages/pycodestyle.py:111: FutureWarning: Possible nested set at position 1\n  EXTRANEOUS_WHITESPACE_REGEX = re.compile(r\'[[({] | []}),;:]\')\nTraceback (most recent call last):\n  File ""/home/will/code/rally-openstack/tests/hacking/checks.py"", line 86, in wrapper\n    yield next(func(logical_line, physical_line, filename))\nStopIteration\n\nThis patch proposes to catch that exception.\n\nChange-Id: Iee183a1763e0d295748dbce7ed96a4c38146c3b4\nFixes-Bug: 1850191\n'}, {'number': 2, 'created': '2019-10-28 21:44:26.000000000', 'files': ['tests/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/75f73ae44b7f391e72e07f803c163a5722800c3d', 'message': 'Fix pep8 on python3.7\n\nI was seeing:\n\n/home/will/code/rally-openstack/.tox/pep8/lib/python3.7/site-packages/pycodestyle.py:111: FutureWarning: Possible nested set at position 1\n  EXTRANEOUS_WHITESPACE_REGEX = re.compile(r\'[[({] | []}),;:]\')\nTraceback (most recent call last):\n  File ""/home/will/code/rally-openstack/tests/hacking/checks.py"", line 86, in wrapper\n    yield next(func(logical_line, physical_line, filename))\nStopIteration\n\nThis patch proposes to catch that exception.\n\nChange-Id: Iee183a1763e0d295748dbce7ed96a4c38146c3b4\nFixes-Bug: 1850191\n'}]",0,691727,75f73ae44b7f391e72e07f803c163a5722800c3d,15,4,2,28048,,,0,"Fix pep8 on python3.7

I was seeing:

/home/will/code/rally-openstack/.tox/pep8/lib/python3.7/site-packages/pycodestyle.py:111: FutureWarning: Possible nested set at position 1
  EXTRANEOUS_WHITESPACE_REGEX = re.compile(r'[[({] | []}),;:]')
Traceback (most recent call last):
  File ""/home/will/code/rally-openstack/tests/hacking/checks.py"", line 86, in wrapper
    yield next(func(logical_line, physical_line, filename))
StopIteration

This patch proposes to catch that exception.

Change-Id: Iee183a1763e0d295748dbce7ed96a4c38146c3b4
Fixes-Bug: 1850191
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/27/691727/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/hacking/checks.py'],1,ae04e14361088fe6836b7a12a9f335932f4ebb6b,pep8-fix," try: yield next(func(logical_line, physical_line, filename)) except StopIteration: pass"," yield next(func(logical_line, physical_line, filename)) ",4,2
openstack%2Fnova~master~I04b48114bb1febf8caca07072f004ef3499be831,openstack/nova,master,I04b48114bb1febf8caca07072f004ef3499be831,Deconstruct the mother of all locks,NEW,2019-09-15 11:23:00.000000000,2019-12-02 17:08:11.000000000,,"[{'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12356}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-15 11:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac9e88c8c5f80517ceb58a9c68ee9b506e09395c', 'message': 'Deconstruct the mother of all locks\n\nThe resource tracker has a global lock. This is problematic when\nthe background process update_available_resources is invoked.\nIf thereare throusands of instances on the compute node then we\nsee that instances being deployed at the same time will take a\nconsiderable amount of time as the spawn will wait on the task\nupdate_available_resources to complete.\n\nThis patch removes a number of heavy DB/message queue opertaions\nand loops from the lock.\n\nThe big global lock will be moved to the critical sections only\nthis will enable the spawning instance to be interrupted for the\nminimal amount of time.\n\nCloses-bug: #1835958\n\nChange-Id: I04b48114bb1febf8caca07072f004ef3499be831\n'}, {'number': 2, 'created': '2019-09-16 05:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba3c5260c366321eabd9e8918a271b5328be7f49', 'message': 'Deconstruct the mother of all locks\n\nThe resource tracker has a global lock. This is problematic when\nthe background process update_available_resources is invoked.\nIf thereare throusands of instances on the compute node then we\nsee that instances being deployed at the same time will take a\nconsiderable amount of time as the spawn will wait on the task\nupdate_available_resources to complete.\n\nThis patch removes a number of heavy DB/message queue opertaions\nand loops from the lock.\n\nThe big global lock will be moved to the critical sections only\nthis will enable the spawning instance to be interrupted for the\nminimal amount of time.\n\nCloses-bug: #1835958\n\nChange-Id: I04b48114bb1febf8caca07072f004ef3499be831\n'}, {'number': 3, 'created': '2019-09-18 06:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8003db6f2299b839b072b0356543a8ec5bd0ba09', 'message': 'Deconstruct the mother of all locks\n\nThe resource tracker has a global lock. This is problematic when\nthe background process update_available_resources is invoked.\nIf there are throusands of instances on the compute node then we\nsee that instances being deployed at the same time will take a\nconsiderable amount of time as the spawn will wait on the task\nupdate_available_resources to complete.\n\nThis patch removes a number of heavy DB/message queue opertaions\nand loops from the lock.\n\nThe big global lock will be moved to the critical sections only\nthis will enable the spawning instance to be interrupted for the\nminimal amount of time.\n\nCloses-bug: #1835958\n\nChange-Id: I04b48114bb1febf8caca07072f004ef3499be831\n'}, {'number': 4, 'created': '2019-09-19 05:45:08.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d268ba5ffd3543dd827edb057605c57b9d68c649', 'message': 'Deconstruct the mother of all locks\n\nThe resource tracker has a global lock. This is problematic when\nthe background process update_available_resources is invoked.\nIf there are throusands of instances on the compute node then we\nsee that instances being deployed at the same time will take a\nconsiderable amount of time as the spawn will wait on the task\nupdate_available_resources to complete.\n\nThis patch removes a number of heavy DB/message queue opertaions\nand loops from the lock.\n\nThe big global lock will be moved to the critical sections only\nthis will enable the spawning instance to be interrupted for the\nminimal amount of time.\n\nCloses-bug: #1835958\n\nChange-Id: I04b48114bb1febf8caca07072f004ef3499be831\n'}]",11,682242,d268ba5ffd3543dd827edb057605c57b9d68c649,47,18,4,1653,,,0,"Deconstruct the mother of all locks

The resource tracker has a global lock. This is problematic when
the background process update_available_resources is invoked.
If there are throusands of instances on the compute node then we
see that instances being deployed at the same time will take a
considerable amount of time as the spawn will wait on the task
update_available_resources to complete.

This patch removes a number of heavy DB/message queue opertaions
and loops from the lock.

The big global lock will be moved to the critical sections only
this will enable the spawning instance to be interrupted for the
minimal amount of time.

Closes-bug: #1835958

Change-Id: I04b48114bb1febf8caca07072f004ef3499be831
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/682242/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,ac9e88c8c5f80517ceb58a9c68ee9b506e09395c,bug/1835958,"from eventlet import greenthread # Now calculate usage based on instance utilization. The locking # will be done only on the critical sections in the method to # enable other threads not to be blocked instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) self._safe_update_available_resource(context, resources, migrations, instance_by_uuid, instances, nodename, is_new_compute_node, startup=startup) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) def _safe_update_available_resource(self, context, resources, migrations, instance_by_uuid, instances, nodename, is_new_compute_node, startup=False): # The method _update_usage_from_instance is called under a lock. In the # periodic task this is called when looping over all of the instances. We # just need to take the lock when invoking this method. @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) def _safe_update_usage_from_instance(self, context, instance, nodename, is_removed=False): self._update_usage_from_instance(context, instance, nodename, is_removed=is_removed) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) def _locked_cn_reset(): self.tracked_instances.clear() cn = self.compute_nodes[nodename] # set some initial values, reserve room for host/hypervisor: cn.local_gb_used = CONF.reserved_host_disk_mb / 1024 cn.memory_mb_used = CONF.reserved_host_memory_mb cn.vcpus_used = CONF.reserved_host_cpus cn.free_ram_mb = (cn.memory_mb - cn.memory_mb_used) cn.free_disk_gb = (cn.local_gb - cn.local_gb_used) cn.current_workload = 0 cn.running_vms = 0 _locked_cn_reset() self._safe_update_usage_from_instance(context, instance, nodename) # Allow context switch greenthread.sleep(0)"," @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) # Now calculate usage based on instance utilization: self.tracked_instances.clear() cn = self.compute_nodes[nodename] # set some initial values, reserve room for host/hypervisor: cn.local_gb_used = CONF.reserved_host_disk_mb / 1024 cn.memory_mb_used = CONF.reserved_host_memory_mb cn.vcpus_used = CONF.reserved_host_cpus cn.free_ram_mb = (cn.memory_mb - cn.memory_mb_used) cn.free_disk_gb = (cn.local_gb - cn.local_gb_used) cn.current_workload = 0 cn.running_vms = 0 self._update_usage_from_instance(context, instance, nodename)",43,13
openstack%2Fnetworking-ovn~master~Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70,openstack/networking-ovn,master,Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70,WIP: Add George framework and tests,ABANDONED,2019-11-27 15:00:00.000000000,2019-12-02 16:52:51.000000000,,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 15:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c9985e07d35389bcadf4773f42c0fa73ad10678d', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 2, 'created': '2019-11-27 15:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e16bd4685620eae1c063e59797ac7db80a1790f4', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 3, 'created': '2019-11-27 15:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/59d9a8c04c06e909a4e85f867bb4f8cf57439348', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 4, 'created': '2019-11-27 17:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3ff55eaf70016584408957229e36541a4410f4be', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 5, 'created': '2019-11-27 17:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9aaf5ab54da1a18e330455b8625d4896f48cb407', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 6, 'created': '2019-11-28 17:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/996bbf8f1f87b9bcfb802e7f33e4a5134ac04a17', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 7, 'created': '2019-11-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9aa2deb7d8e00c79673177d28140977b29062e4b', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 8, 'created': '2019-11-29 08:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/77df29048f67b0d4693c2d35e004dd72f9fee313', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 9, 'created': '2019-11-29 09:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b5a2d5d685eac38dbdc279e25cfb706d449e3c72', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 10, 'created': '2019-11-29 10:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5f5203a4089c0ac8bf980350049aaf0feb1b1ecf', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 11, 'created': '2019-11-29 11:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5a1c242db04a79416922d8f0d396ebff30013f5d', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 12, 'created': '2019-11-29 11:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6c436ff9aa7c7c1ab6812a24315d44d7d8f5d3b1', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 13, 'created': '2019-11-29 12:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e2c4516c579baa08250f1aff761737c3c6447f5e', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}, {'number': 14, 'created': '2019-11-29 13:21:26.000000000', 'files': ['networking_ovn/tests/contrib/george/containers/neutron-server-ovn/start_services.sh', 'test-requirements.txt', 'networking_ovn/tests/george/__init__.py', 'networking_ovn/tests/contrib/george/build_container_images.sh', 'networking_ovn/tests/george/resources/fixtures.py', 'zuul.d/networking-ovn-jobs.yaml', 'networking_ovn/tests/contrib/george/containers/neutron-ovn-controller/start_services.sh', 'playbooks/george/post_run.yaml', 'networking_ovn/tests/george/resources/network.py', 'networking_ovn/tests/george/base.py', 'networking_ovn/tests/george/test_connectivity.py', 'zuul.d/project.yaml', 'networking_ovn/tests/george/resources/machine.py', 'playbooks/george/configure_george_tests.yaml', 'networking_ovn/tests/contrib/george/containers/neutron-server-ovn/neutron-server-ovn.Dockerfile', 'networking_ovn/tests/contrib/george/containers/neutron-ovn-controller/neutron-ovn-controller.Dockerfile', 'networking_ovn/tests/george/resources/environment.py', 'playbooks/george/run_george_run.yaml', 'tox.ini', 'networking_ovn/tests/george/resources/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2d1db01f1339f7b0eb4dfcccba6442a8cdc152a7', 'message': 'WIP: Add George framework and tests\n\nChange-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70\n'}]",2,696317,2d1db01f1339f7b0eb4dfcccba6442a8cdc152a7,31,3,14,8655,,,0,"WIP: Add George framework and tests

Change-Id: Ie6b36c1453075e1f4c57462fc23a0a9a7053bf70
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/17/696317/13 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/contrib/george/containers/neutron-server-ovn/start_services.sh', 'test-requirements.txt', 'networking_ovn/tests/george/__init__.py', 'networking_ovn/tests/contrib/george/build_container_images.sh', 'networking_ovn/tests/george/resources/fixtures.py', 'zuul.d/networking-ovn-jobs.yaml', 'networking_ovn/tests/contrib/george/containers/neutron-ovn-controller/start_services.sh', 'networking_ovn/tests/george/resources/network.py', 'networking_ovn/tests/george/base.py', 'networking_ovn/tests/george/test_connectivity.py', 'playbooks/george/configure_george_tests.yml', 'zuul.d/project.yaml', 'networking_ovn/tests/george/resources/machine.py', 'networking_ovn/tests/contrib/george/containers/neutron-server-ovn/neutron-server-ovn.Dockerfile', 'networking_ovn/tests/contrib/george/containers/neutron-ovn-controller/neutron-ovn-controller.Dockerfile', 'networking_ovn/tests/george/resources/environment.py', 'playbooks/george/run_george_run.yaml', 'tox.ini', 'networking_ovn/tests/george/resources/__init__.py']",19,c9985e07d35389bcadf4773f42c0fa73ad10678d,george,,,953,27
openstack%2Fbarbican~stable%2Frocky~I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9,openstack/barbican,stable/rocky,I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9,Make broken fedora_latest job n-v,MERGED,2019-11-21 00:09:32.000000000,2019-12-02 16:50:08.000000000,2019-12-02 16:50:08.000000000,"[{'_account_id': 6873}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 00:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b9c4c580548976ccf81ec84f53d3d1dc05fca4fe', 'message': 'Make broken fedora_latest job n-v\n\nbarbican-dogtag-devstack-functional-fedora-latest is broken\nfor all stable branch till stable/stein.\n\nThat job was made n-v in train cycle along with other updates\nbut that was not backported to other stable branches.\n- https://review.opendev.org/#/c/662543/16\n\nI do not know if all the changes of above patch can be backported\nwhich still does not make this job working, so i am making this job\nn-v only and later we can backport the complete working fix from master.\n\nChange-Id: I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9\n'}, {'number': 2, 'created': '2019-11-21 13:16:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6c46ada5869a3b14a807a20445a5a2c1e2949e1b', 'message': 'Make broken fedora_latest job n-v\n\nbarbican-dogtag-devstack-functional-fedora-latest is broken\nfor all stable branch till stable/stein.\n\nThat job was made n-v in train cycle along with other updates\nbut that was not backported to other stable branches.\n- https://review.opendev.org/#/c/662543/16\n\nI do not know if all the changes of above patch can be backported\nwhich still does not make this job working, so i am making this job\nn-v only and later we can backport the complete working fix from master.\n\nChange-Id: I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9\n'}]",0,695326,6c46ada5869a3b14a807a20445a5a2c1e2949e1b,12,5,2,8556,,,0,"Make broken fedora_latest job n-v

barbican-dogtag-devstack-functional-fedora-latest is broken
for all stable branch till stable/stein.

That job was made n-v in train cycle along with other updates
but that was not backported to other stable branches.
- https://review.opendev.org/#/c/662543/16

I do not know if all the changes of above patch can be backported
which still does not make this job working, so i am making this job
n-v only and later we can backport the complete working fix from master.

Change-Id: I37e6c5a5dbd913ad7ef263f1c5aac9114f5d3ca9
",git fetch https://review.opendev.org/openstack/barbican refs/changes/26/695326/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b9c4c580548976ccf81ec84f53d3d1dc05fca4fe,, # non-voting until https://pagure.io/dogtagpki/issue/3108 is fixed # and more work done in https://review.opendev.org/#/c/662543/ voting: false,,3,0
openstack%2Fbarbican~stable%2Frocky~I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,openstack/barbican,stable/rocky,I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,Don't use branch matching,MERGED,2019-10-18 13:48:27.000000000,2019-12-02 16:50:08.000000000,2019-12-02 16:50:08.000000000,"[{'_account_id': 6873}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 13:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6e40c9d207557fd039aba092918da74f9a374cbd', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}, {'number': 2, 'created': '2019-11-21 13:17:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6634aea983be47acb2a209cc2c36005e9fda6692', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}]",0,689462,6634aea983be47acb2a209cc2c36005e9fda6692,12,5,2,6547,,,0,"Don't use branch matching

This is not needed since we have implicit branch matches - and even
hurts since the master version is used on stable branches

Remove here - this ensures that future stable branches and master are
fine.

Change-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd
(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/62/689462/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6e40c9d207557fd039aba092918da74f9a374cbd,branches-stable/rocky,, # start running with Pike branches: ^(?!stable/ocata).*$ # Start testing with pike branches: ^(?!stable/ocata).*$,0,4
openstack%2Fopenstack-helm-infra~master~I80536023e4a85e8bbf9bfb1e42249c9c7c921fc9,openstack/openstack-helm-infra,master,I80536023e4a85e8bbf9bfb1e42249c9c7c921fc9,Helm Test for Kafka Chart,ABANDONED,2019-11-23 09:18:24.000000000,2019-12-02 16:44:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-23 09:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/67c6c6f1bc27647e16b8af83d732c1698f216128', 'message': 'Helm Test for Kafka Chart\n\nThis change adds a test script to verify the sucessful deployment of\nthe Kafka chart.\n\nChange-Id: I80536023e4a85e8bbf9bfb1e42249c9c7c921fc9\n'}, {'number': 2, 'created': '2019-11-23 09:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc87890151681df5d9640f6910877d4b64317eab', 'message': 'Helm Test for Kafka Chart\n\nThis change adds a test script to verify the sucessful deployment of\nthe Kafka chart.\n\nChange-Id: I80536023e4a85e8bbf9bfb1e42249c9c7c921fc9\n'}, {'number': 3, 'created': '2019-12-02 16:17:19.000000000', 'files': ['kafka/templates/configmap-bin.yaml', 'tools/deployment/osh-infra-kafka/050-kafka.sh', 'kafka/templates/bin/_helm-test.sh.tpl', 'kafka/values.yaml', 'kafka/templates/helm_test_pod.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53427076df7bdc949157a3bbedf32f362fb5ff3c', 'message': 'Helm Test for Kafka Chart\n\nThis change adds a test script to verify the sucessful deployment of\nthe Kafka chart.\n\nChange-Id: I80536023e4a85e8bbf9bfb1e42249c9c7c921fc9\n'}]",0,695792,53427076df7bdc949157a3bbedf32f362fb5ff3c,5,1,3,30777,,,0,"Helm Test for Kafka Chart

This change adds a test script to verify the sucessful deployment of
the Kafka chart.

Change-Id: I80536023e4a85e8bbf9bfb1e42249c9c7c921fc9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/695792/3 && git format-patch -1 --stdout FETCH_HEAD,"['kafka/templates/configmap-bin.yaml', 'tools/deployment/osh-infra-kafka/050-kafka.sh', 'kafka/templates/bin/_helm-test.sh.tpl', 'kafka/values.yaml', 'kafka/templates/helm_test_pod.yaml']",5,67c6c6f1bc27647e16b8af83d732c1698f216128,kafka-based-test,"{{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.helm_test }} {{- $envAll := . }} {{- $esUserSecret := .Values.secrets.kafka.admin }} {{- $serviceAccountName := print .Release.Name ""-test"" }} {{ tuple $envAll ""test"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: v1 kind: Pod metadata: name: ""{{.Release.Name}}-test"" labels: {{ tuple $envAll ""kafka"" ""test"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} annotations: ""helm.sh/hook"": test-success {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} spec: {{ dict ""envAll"" $envAll ""application"" ""test"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 2 }} serviceAccountName: {{ $serviceAccountName }} nodeSelector: {{ .Values.labels.test.node_selector_key }}: {{ .Values.labels.test.node_selector_value }} restartPolicy: Never initContainers: {{ tuple $envAll ""test"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 4 }} containers: - name: {{.Release.Name}}-helm-test {{ tuple $envAll ""helm_test"" | include ""helm-toolkit.snippets.image"" | indent 6 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.test | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 6 }} {{ dict ""envAll"" $envAll ""application"" ""test"" ""container"" ""helm_test"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 6 }} command: - ""/tmp/helm-test.sh"" env: - name: KAFKA_BROKERS value: ""{{ tuple ""kafka"" ""internal"" ""broker"" $envAll | include ""helm-toolkit.endpoints.host_and_port_endpoint_uri_lookup"" }}"" volumeMounts: - name: pod-tmp mountPath: /tmp - name: kafka-bin mountPath: /tmp/helm-test.sh subPath: helm-test.sh readOnly: true volumes: - name: pod-tmp emptyDir: {} - name: kafka-bin configMap: name: kafka-bin defaultMode: 0555 {{- end }} ",,201,1
openstack%2Fneutron~master~I07237946af698816a4229efec16de8f8f8addee9,openstack/neutron,master,I07237946af698816a4229efec16de8f8f8addee9,[OVN] Add DB tables for OVN backend,MERGED,2019-11-25 18:42:16.000000000,2019-12-02 16:41:09.000000000,2019-12-02 16:38:54.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-25 18:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26617e02ae7a54e7009aaa0d9b078151dd0bba6f', 'message': '[WIP] [OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartial-Bug: #TBD  (1828607 ??)\n'}, {'number': 2, 'created': '2019-11-26 10:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca7e0382879f968aefdccf534bb6314e29cc6939', 'message': '[WIP] [OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartial-Bug: #TBD  (1828607 ??)\n'}, {'number': 3, 'created': '2019-11-26 15:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54ed2c80494884a47117b874992a0d87edc2df49', 'message': '[OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 4, 'created': '2019-11-27 10:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd8921d674ed255859eaa6477fb573198edeae72', 'message': '[OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 5, 'created': '2019-11-28 14:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe4f5e629ab45d4c5115031489066b1a154d171b', 'message': '[OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 6, 'created': '2019-11-28 15:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0086c096f427a7d67f402a3b2359556d25c2d5fa', 'message': '[OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 7, 'created': '2019-11-28 19:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5efbac421db1417d450bad24f118de74be7340ac', 'message': '[OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 8, 'created': '2019-11-29 08:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cf42e2a39f992c061981e48a5a732fa821e8b8e', 'message': '[OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 9, 'created': '2019-11-29 11:57:58.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/ussuri/expand/f4b9654dd40c_ovn_backend.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f26b3620db051d38039724235acd909198161bff', 'message': '[OVN] Add DB tables for OVN backend\n\nAdded ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.\n\nChange-Id: I07237946af698816a4229efec16de8f8f8addee9\nPartially-Implements: blueprint neutron-ovn-merge\n'}]",17,695969,f26b3620db051d38039724235acd909198161bff,98,11,9,16688,,,0,"[OVN] Add DB tables for OVN backend

Added ""ovn_revision_numbers"" and ""ovn_hash_ring"" DB tables and models.

Change-Id: I07237946af698816a4229efec16de8f8f8addee9
Partially-Implements: blueprint neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/695969/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/ussuri/expand/f4b9654dd40c_ovs_backend.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/ovn.py']",3,26617e02ae7a54e7009aaa0d9b078151dd0bba6f,bp/neutron-ovn-merge,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.db import model_base import sqlalchemy as sa from sqlalchemy.dialects import sqlite from neutron.db import standard_attr class OVNRevisionNumbers(model_base.BASEV2): __tablename__ = 'ovn_revision_numbers' standard_attr_id = sa.Column( sa.BigInteger().with_variant(sa.Integer(), 'sqlite'), sa.ForeignKey('standardattributes.id', ondelete='SET NULL'), nullable=True) resource_uuid = sa.Column(sa.String(36), nullable=False) resource_type = sa.Column(sa.String(36), nullable=False) revision_number = sa.Column( sa.BigInteger().with_variant(sa.Integer(), 'sqlite'), default=0, nullable=False) created_at = sa.Column( sa.DateTime().with_variant( sqlite.DATETIME(truncate_microseconds=True), 'sqlite'), default=sa.func.now(), nullable=False) updated_at = sa.Column(sa.TIMESTAMP, default=sa.func.now(), onupdate=sa.func.now(), nullable=True) __table_args__ = ( sa.UniqueConstraint( resource_uuid, resource_type, name='ovn_revision_numbers0resource_uuid0resource_type'), model_base.BASEV2.__table_args__ ) class OVNHashRing(standard_attr.HasStandardAttributes, model_base.BASEV2): __tablename__ = 'ovn_hash_ring' node_uuid = sa.Column(sa.String(36), nullable=False) group_name = sa.Column(sa.String(256), nullable=False) hostname = sa.Column(sa.String(256), nullable=False) __table_args__ = ( sa.UniqueConstraint( node_uuid, group_name, name='ovn_hash_ring0node_uuid0group_name'), model_base.BASEV2.__table_args__ ) ",,132,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6627da48bc170f7ecccaf84c0fccda9e2edd5af3,openstack/python-tripleoclient,stable/train,I6627da48bc170f7ecccaf84c0fccda9e2edd5af3,Fix inspector ip range for dhcpv6-stateless,MERGED,2019-11-27 16:44:11.000000000,2019-12-02 16:41:07.000000000,2019-12-02 16:39:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 16:44:11.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/fix-dhcpv6-stateless-inspector-dnsmasq-range-9d0f4635ecce3d2f.yaml', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46c5fb4bd7138038e8ebf9aaf3a2690d5922f6fe', 'message': 'Fix inspector ip range for dhcpv6-stateless\n\nWhen using dhcpv6-stateless a range should not be\nused. According to dnsmasq manual page:\n\n  A static-only subnet with address all zeros may be\n  used as a ""catch-all"" address to enable replies to\n  all Information-request packets on a subnet which\n  is provided with stateless DHCPv6, ie\n  --dhcp-range=::,static\n\nCloses-Bug: #1853334\nChange-Id: I6627da48bc170f7ecccaf84c0fccda9e2edd5af3\n(cherry picked from commit 69eec5ce08a4adbeb315dda00dd2990657930506)\n'}]",0,696352,46c5fb4bd7138038e8ebf9aaf3a2690d5922f6fe,8,3,1,24245,,,0,"Fix inspector ip range for dhcpv6-stateless

When using dhcpv6-stateless a range should not be
used. According to dnsmasq manual page:

  A static-only subnet with address all zeros may be
  used as a ""catch-all"" address to enable replies to
  all Information-request packets on a subnet which
  is provided with stateless DHCPv6, ie
  --dhcp-range=::,static

Closes-Bug: #1853334
Change-Id: I6627da48bc170f7ecccaf84c0fccda9e2edd5af3
(cherry picked from commit 69eec5ce08a4adbeb315dda00dd2990657930506)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/696352/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/fix-dhcpv6-stateless-inspector-dnsmasq-range-9d0f4635ecce3d2f.yaml', 'tripleoclient/tests/v1/undercloud/test_config.py']",3,46c5fb4bd7138038e8ebf9aaf3a2690d5922f6fe,bug/1853334-stable/train," def test_ipv6_control_plane_stateless_default(self): 'ip_range': 'fd12:3456:789a:1::,static', 'netmask': 'ffff:ffff:ffff:ffff::', 'tag': 'ctlplane-subnet', 'mtu': 1500}], 'MasqueradeNetworks': {}, 'UndercloudCtlplaneSubnets': { 'ctlplane-subnet': { 'AllocationPools': [ {'start': 'fd12:3456:789a:1::10', 'end': 'fd12:3456:789a:1::20'}], 'DnsNameServers': ['fd12:3456:789a:1::5', 'fd12:3456:789a:1::6'], 'HostRoutes': [], 'NetworkCidr': 'fd12:3456:789a:1::/64', 'NetworkGateway': 'fd12:3456:789a:1::1'}}, 'UndercloudCtlplaneIPv6AddressMode': 'dhcpv6-stateless', } self.assertEqual(expected, env) def test_ipv6_control_plane_stateful(self): env = {} self.conf.config(local_ip='fd12:3456:789a:1::2/64', undercloud_admin_host='fd12:3456:789a:1::3', undercloud_public_host='fd12:3456:789a:1::4', ipv6_address_mode='dhcpv6-stateful') self.conf.config(cidr='fd12:3456:789a:1::/64', dhcp_start='fd12:3456:789a:1::10', dhcp_end='fd12:3456:789a:1::20', dhcp_exclude=[], dns_nameservers=['fd12:3456:789a:1::5', 'fd12:3456:789a:1::6'], inspection_iprange=('fd12:3456:789a:1::30,' 'fd12:3456:789a:1::40'), gateway='fd12:3456:789a:1::1', masquerade=False, host_routes=[], group='ctlplane-subnet') undercloud_config._process_network_args(env) expected = { 'NovaIPv6': True, 'RabbitIPv6': True, 'MemcachedIPv6': True, 'RedisIPv6': True, 'MysqlIPv6': True, 'IronicIpVersion': '6', 'ControlPlaneStaticRoutes': [], 'IronicInspectorSubnets': [ {'gateway': 'fd12:3456:789a:1::1', 'host_routes': [], 'UndercloudCtlplaneIPv6AddressMode': 'dhcpv6-stateful',"," def test_ipv6_control_plane(self): 'UndercloudCtlplaneIPv6AddressMode': 'dhcpv6-stateless',",71,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,openstack/tripleo-heat-templates,stable/stein,I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe,Check that facter.conf is a file,MERGED,2019-11-22 20:10:40.000000000,2019-12-02 16:39:31.000000000,2019-12-02 16:39:31.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-22 20:10:40.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff64711257296817833893c8af60f43795b7c81b', 'message': 'Check that facter.conf is a file\n\nIf docker-puppet.py (or container-puppet.py) is run under docker prior\nto the facter config being generated, the file is created as a\ndirectory. This causes a failure later when we try to write the file\nout.\n\nChange-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe\nCloses-Bug: #1852606\n(cherry picked from commit 3e25c2c48308694bbae737ad7699fe540ed1a098)\n(cherry picked from commit 0606eb6483bd5c8afb1217ab52c1512d1b16d257)\n'}]",0,695756,ff64711257296817833893c8af60f43795b7c81b,13,3,1,14985,,,0,"Check that facter.conf is a file

If docker-puppet.py (or container-puppet.py) is run under docker prior
to the facter config being generated, the file is created as a
directory. This causes a failure later when we try to write the file
out.

Change-Id: I9b5a1e06e73b3b4cfc0ebfaeba8f1eb4b5d6fcfe
Closes-Bug: #1852606
(cherry picked from commit 3e25c2c48308694bbae737ad7699fe540ed1a098)
(cherry picked from commit 0606eb6483bd5c8afb1217ab52c1512d1b16d257)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/695756/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,ff64711257296817833893c8af60f43795b7c81b,bug/1852606-stable/stein," - name: Check for facter.conf check_mode: false stat: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" register: _facter_conf_file # See LP#1852606 for context - name: Remove facter.conf if directory check_mode: false become: true file: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" state: absent force: true when: - _facter_conf_file.stat.isdir is defined - _facter_conf_file.stat.isdir",,16,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I38070efa7e9511ca74e2bfe4e53618e1176ca65b,openstack/tripleo-heat-templates,stable/train,I38070efa7e9511ca74e2bfe4e53618e1176ca65b,ml2-ansible: Set api_max_retries when net-ansible is used,MERGED,2019-11-27 13:05:58.000000000,2019-12-02 16:39:29.000000000,2019-12-02 16:39:28.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 13:05:58.000000000', 'files': ['ci/environments/scenario012-standalone.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'environments/services/neutron-ml2-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/945ca73225112da1f672a3b5e9a713d30ddd5df8', 'message': 'ml2-ansible: Set api_max_retries when net-ansible is used\n\nSome bare metals may take longer time to boot up. It may happen Nova\nbails out in Ironic driver too early. Setting higher timeout gives\nmachines more time to boot up.\n\nCloses-bug: #1816728\n\nChange-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b\n(cherry picked from commit d41f0d7c35758bcafe88127d7f56b39bf95bb5f8)\n'}]",0,696300,945ca73225112da1f672a3b5e9a713d30ddd5df8,7,3,1,8655,,,0,"ml2-ansible: Set api_max_retries when net-ansible is used

Some bare metals may take longer time to boot up. It may happen Nova
bails out in Ironic driver too early. Setting higher timeout gives
machines more time to boot up.

Closes-bug: #1816728

Change-Id: I38070efa7e9511ca74e2bfe4e53618e1176ca65b
(cherry picked from commit d41f0d7c35758bcafe88127d7f56b39bf95bb5f8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/696300/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario012-standalone.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'environments/services/neutron-ml2-ansible.yaml']",4,945ca73225112da1f672a3b5e9a713d30ddd5df8,bug/1816728-stable/train, IronicApiMaxRetries: 180,,14,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,openstack/tripleo-heat-templates,stable/train,Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,Derive Pci passthrough whitelist disable option,MERGED,2019-11-27 05:21:17.000000000,2019-12-02 16:33:51.000000000,2019-12-02 16:33:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 05:21:17.000000000', 'files': ['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0395aa9f14e0e537596885db7434ed1942f5c73c', 'message': 'Derive Pci passthrough whitelist disable option\n\nThis change is to add the option to disable the derive\npci passthrough whitelist automation logic in sriov\ndeployments if required.\n\nChange-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd\nCloses-Bug: #1841041\n(cherry picked from commit 227c516aa2d7de60cec2cc2a77b74221b4c7bc4a)\n'}]",0,696230,0395aa9f14e0e537596885db7434ed1942f5c73c,8,5,1,22865,,,0,"Derive Pci passthrough whitelist disable option

This change is to add the option to disable the derive
pci passthrough whitelist automation logic in sriov
deployments if required.

Change-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd
Closes-Bug: #1841041
(cherry picked from commit 227c516aa2d7de60cec2cc2a77b74221b4c7bc4a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/696230/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'],1,0395aa9f14e0e537596885db7434ed1942f5c73c,derive-pci-whitelist-disable-option-stable/train," DerivePciWhitelistEnabled: default: true description: Whether to enable or not the pci passthrough whitelist automation. type: boolean tags: - role_specific conditions: derive_pci_whitelist_enabled: or: - and: - equals: [{get_param: DerivePciWhitelistEnabled}, true] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, ''] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, true] - if: - derive_pci_whitelist_enabled - - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py - []"," - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py",33,14
openstack%2Fkuryr-tempest-plugin~master~I6ce0b16985de6cc7182026975a63f03844d9d9ee,openstack/kuryr-tempest-plugin,master,I6ce0b16985de6cc7182026975a63f03844d9d9ee,Add a check for ClusterIP IP of LB service,MERGED,2019-11-10 11:41:49.000000000,2019-12-02 16:28:32.000000000,2019-12-02 16:27:15.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-10 11:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/441d3b6cff1570b5181bf5d1293b49809b04403c', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 2, 'created': '2019-11-10 14:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/dd6d99248fe25e2e27188eb7216d88c5b8a9f63d', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 3, 'created': '2019-11-12 15:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/772ced1ad88c7c59ec6a28fbf378938577cb906f', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 4, 'created': '2019-11-12 21:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5c2b72a517c39afae181cf4dc379832a4187239d', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 5, 'created': '2019-11-12 21:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/441c152b2081ce3adcefc3634efaf0f0750ad741', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 6, 'created': '2019-11-12 22:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ba5992b591901cb8edda92947dcb53c712a82f3b', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 7, 'created': '2019-11-13 09:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/48662e4b4859070acb8015d4591a9dcb6a6e7584', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 8, 'created': '2019-11-13 09:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8a1e28bed3a29f431d89cc016550ea0258340663', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 9, 'created': '2019-11-19 01:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/639dbe671201e325b12eab072e7cce9e92ec4588', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 10, 'created': '2019-11-20 09:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2d617706c548dc90200292ec9bbeee6dae82fa69', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 11, 'created': '2019-11-20 13:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d9ecb7fd55b7155672fee679cb261b0a0c03ae31', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 12, 'created': '2019-11-21 07:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0906a264a628e57484d2c9e55d20c75e583ce75a', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 13, 'created': '2019-11-22 11:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/44b0f7902ed6810ecdc2925e665bcdedff348df4', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}, {'number': 14, 'created': '2019-11-27 14:27:35.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/47c0c5478f29c209588fb91944553704d4925bdf', 'message': 'Add a check for ClusterIP IP of LB service\n\nCheck from a pod the connectivity to the internal IP of\nLB services instead of from an external node\n\nChange-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee\n'}]",5,693632,47c0c5478f29c209588fb91944553704d4925bdf,84,6,14,4727,,,0,"Add a check for ClusterIP IP of LB service

Check from a pod the connectivity to the internal IP of
LB services instead of from an external node

Change-Id: I6ce0b16985de6cc7182026975a63f03844d9d9ee
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/32/693632/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,441d3b6cff1570b5181bf5d1293b49809b04403c,service,," if spec_type != 'ClusterIP': # FIXME(ltomasbo): adding workaround to use the clusterIP to # check service status as there are some issues with the FIPs # and OVN gates clusterip_ip = cls.get_service_ip(service_name, spec_type=""ClusterIP"", namespace=namespace) cls.wait_service_status(clusterip_ip, CONF.kuryr_kubernetes.lb_build_timeout, protocol, port, num_of_back_ends=pod_num) actual_be = cls.wait_ep_members_status( cls.service_name, namespace, CONF.kuryr_kubernetes.lb_build_timeout) if pod_num != actual_be: LOG.error(""Actual EP backend num(%d) != pod_num(%d)"", actual_be, pod_num) raise lib_exc.ServerFault() ",11,19
openstack%2Frpm-packaging~master~I4968eaa5f323794e5f5c2cf37c7ebfca63950836,openstack/rpm-packaging,master,I4968eaa5f323794e5f5c2cf37c7ebfca63950836,[DNM] Testing RDO CI,ABANDONED,2019-12-02 15:41:08.000000000,2019-12-02 16:15:26.000000000,,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 15:41:08.000000000', 'files': ['openstack/reno/reno.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5de7fd02d35d927e506e8639b2ff19a1c893f68a', 'message': '[DNM] Testing RDO CI\n\nDepends-On: https://review.rdoproject.org/r/23903\nChange-Id: I4968eaa5f323794e5f5c2cf37c7ebfca63950836\n'}]",0,696902,5de7fd02d35d927e506e8639b2ff19a1c893f68a,7,4,1,13294,,,0,"[DNM] Testing RDO CI

Depends-On: https://review.rdoproject.org/r/23903
Change-Id: I4968eaa5f323794e5f5c2cf37c7ebfca63950836
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/696902/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/reno/reno.spec.j2'],1,5de7fd02d35d927e506e8639b2ff19a1c893f68a,, ,,4,0
openstack%2Fironic~master~Ib9ccdfa41974cd353af8a517dc2917f129e49e03,openstack/ironic,master,Ib9ccdfa41974cd353af8a517dc2917f129e49e03,Add indicator management to redfish hw type,MERGED,2019-04-15 17:36:38.000000000,2019-12-02 15:54:51.000000000,2019-12-02 15:50:52.000000000,"[{'_account_id': 4571}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-04-15 17:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e24036f15793a360ee31e95fb55e4687c81c203', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 2, 'created': '2019-06-05 11:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/43922911b1b879ca15907377da206df30cba470c', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 3, 'created': '2019-06-05 13:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/161aa46f78702f71f9e3cfc6c868835b5b585785', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 4, 'created': '2019-06-05 15:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51b09e031d5e5871bd42eeb08458c63ca012fae4', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 5, 'created': '2019-06-10 13:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/013f2a3d69038fc8de60bcdaf9566eecd0df7bb1', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 6, 'created': '2019-06-19 15:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d966e0d4aedcd6f0ba3a07ea580f96b80093ebff', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 7, 'created': '2019-08-26 10:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d8363adee23cebf85781f6322d1ee9ffa01f008', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 8, 'created': '2019-09-23 12:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/12c1f7278efa031aff54028a056e7d2f99755720', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 9, 'created': '2019-10-12 09:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/682ef8784a46cfdb367382a9ba9f96cd4061bf9f', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 10, 'created': '2019-11-04 11:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e61fa564d5fa74ae3ac1616ffacbaaab200be93', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 11, 'created': '2019-11-07 11:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85e5a2f58edc7abb871ed8f6b443688169f639fb', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 12, 'created': '2019-11-08 13:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b067b1770a510920b67d50c16461c4eccc23bda3', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}, {'number': 13, 'created': '2019-11-21 11:35:41.000000000', 'files': ['ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8f2120405a4ee5702c239fc65908097d4c6216a', 'message': 'Add indicator management to redfish hw type\n\nImplements necessary indicator management calls to redfish driver\nto actually read/set system/chassis and drive LEDs through Redfish.\n\nThe spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst\n\nChange-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03\nStory: 2005342\nTask: 30471\n'}]",9,652740,e8f2120405a4ee5702c239fc65908097d4c6216a,102,14,13,26340,,,0,"Add indicator management to redfish hw type

Implements necessary indicator management calls to redfish driver
to actually read/set system/chassis and drive LEDs through Redfish.

The spec: https://review.opendev.org/#/c/655685/7/specs/approved/expose-hardware-indicators.rst

Change-Id: Ib9ccdfa41974cd353af8a517dc2917f129e49e03
Story: 2005342
Task: 30471
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/652740/13 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py']",4,2e24036f15793a360ee31e95fb55e4687c81c203,20-add-redfish-led-mgmt," INDICATOR_LED_LIT='indicator led lit', INDICATOR_LED_BLINKING='indicator led blinking', INDICATOR_LED_OFF='indicator led off', INDICATOR_LED_UNKNOWN='indicator led unknown',",,231,0
openstack%2Fos-net-config~stable%2Ftrain~Ibc5be431434870d8424bcc3e405daa3d4913308d,openstack/os-net-config,stable/train,Ibc5be431434870d8424bcc3e405daa3d4913308d,Adding testcases for sriov_config,MERGED,2019-11-21 08:29:35.000000000,2019-12-02 15:51:27.000000000,2019-12-02 15:49:25.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-21 08:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/65da564c1a9edb165ca8ce2bc1809f364733cff0', 'message': 'Adding testcases for sriov_config\n\nChange-Id: Ibc5be431434870d8424bcc3e405daa3d4913308d\n(cherry picked from commit 04bea45124473bc75b1d053c5062e08f9861fbe0)\n'}, {'number': 2, 'created': '2019-12-02 07:04:47.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d814f680410191233f8f857e9f9afa316ce28f72', 'message': 'Adding testcases for sriov_config\n\nBackport of commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6 is also added\nhere to fix the CI errors for stable/train\n\nChange-Id: Ibc5be431434870d8424bcc3e405daa3d4913308d\n(cherry picked from commit 04bea45124473bc75b1d053c5062e08f9861fbe0)\n'}]",0,695368,d814f680410191233f8f857e9f9afa316ce28f72,19,8,2,18904,,,0,"Adding testcases for sriov_config

Backport of commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6 is also added
here to fix the CI errors for stable/train

Change-Id: Ibc5be431434870d8424bcc3e405daa3d4913308d
(cherry picked from commit 04bea45124473bc75b1d053c5062e08f9861fbe0)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/68/695368/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,65da564c1a9edb165ca8ce2bc1809f364733cff0,cleanup-stable/train,"_RESET_SRIOV_RULES_FILE = '/etc/udev/rules.d/70-tripleo-reset-sriov.rules' _ALLOCATE_VFS_FILE = '/etc/sysconfig/allocate_vfs' if os.path.exists(_RESET_SRIOV_RULES_FILE): os.remove(_RESET_SRIOV_RULES_FILE) if os.path.exists(_ALLOCATE_VFS_FILE): os.remove(_ALLOCATE_VFS_FILE)def udev_monitor_setup(): return observer def udev_monitor_start(observer): def udev_monitor_stop(observer): observer.stop() def configure_sriov_pf(execution_from_cli=False, restart_openvswitch=False): observer = udev_monitor_setup() udev_monitor_start(observer) udev_monitor_stop(observer) return 1"," if os.path.exists('/etc/udev/rules.d/70-tripleo-reset-sriov.rules'): os.remove('/etc/udev/rules.d/70-tripleo-reset-sriov.rules') if os.path.exists('/etc/sysconfig/allocate_vfs'): os.remove('/etc/sysconfig/allocate_vfs')def configure_sriov_pf(execution_from_cli=False, restart_openvswitch=False): observer.stop()",255,6
openstack%2Fironic-python-agent~master~If6cabb58ee861d10657c6563fe3118709e621545,openstack/ironic-python-agent,master,If6cabb58ee861d10657c6563fe3118709e621545,Remove the unused dependency on iso8601,MERGED,2019-11-27 18:14:22.000000000,2019-12-02 15:45:34.000000000,2019-12-02 15:42:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-27 18:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/54e26d8f896533075fc74282d07f36b9ab11d713', 'message': 'Remove the unused dependency on iso8601\n\nChange-Id: If6cabb58ee861d10657c6563fe3118709e621545\n'}, {'number': 2, 'created': '2019-11-27 18:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/191658a17c81d307634ce5fb52b47b4e81ff64ea', 'message': 'Remove the unused dependency on iso8601\n\nChange-Id: If6cabb58ee861d10657c6563fe3118709e621545\n'}, {'number': 3, 'created': '2019-12-02 10:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6bb693edddc10cf04c67d1aeb8f7a098d1ac6564', 'message': 'Remove the unused dependency on iso8601\n\nChange-Id: If6cabb58ee861d10657c6563fe3118709e621545\n'}, {'number': 4, 'created': '2019-12-02 11:12:37.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9f6c2aa05bce227efafd4d9b4c316664cccdfbae', 'message': 'Remove the unused dependency on iso8601\n\nChange-Id: If6cabb58ee861d10657c6563fe3118709e621545\n'}]",0,696379,9f6c2aa05bce227efafd4d9b4c316664cccdfbae,17,6,4,10239,,,0,"Remove the unused dependency on iso8601

Change-Id: If6cabb58ee861d10657c6563fe3118709e621545
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/79/696379/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,54e26d8f896533075fc74282d07f36b9ab11d713,no-iso8601,,iso8601==0.1.11,0,2
openstack%2Fironic-python-agent~master~I5b7a0079bc90320adc2b4710cdee714d278e543c,openstack/ironic-python-agent,master,I5b7a0079bc90320adc2b4710cdee714d278e543c,Remove the configuration sample file,MERGED,2019-12-02 10:54:03.000000000,2019-12-02 15:43:35.000000000,2019-12-02 15:41:13.000000000,"[{'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-02 10:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2b7ce04d9b858ae5b5eeeb1745d4c43f52638ff2', 'message': ""Remove the configuration sample file\n\nIt's horribly outdated and can be easily regenerated locally.\nA similar change has been done to ironic long ago.\n\nChange-Id: I5b7a0079bc90320adc2b4710cdee714d278e543c\n""}, {'number': 2, 'created': '2019-12-02 11:12:19.000000000', 'files': ['etc/ironic_python_agent/ironic_python_agent.conf.sample', '.gitignore', 'releasenotes/notes/no-sample-ac11bd0fa27af62a.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/82084730cda0b2ee3fce21ab4edef7926ca94330', 'message': ""Remove the configuration sample file\n\nIt's horribly outdated and can be easily regenerated locally.\nA similar change has been done to ironic long ago.\n\nChange-Id: I5b7a0079bc90320adc2b4710cdee714d278e543c\n""}]",0,696862,82084730cda0b2ee3fce21ab4edef7926ca94330,11,5,2,10239,,,0,"Remove the configuration sample file

It's horribly outdated and can be easily regenerated locally.
A similar change has been done to ironic long ago.

Change-Id: I5b7a0079bc90320adc2b4710cdee714d278e543c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/62/696862/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ironic_python_agent/ironic_python_agent.conf.sample', '.gitignore', 'tox.ini']",3,2b7ce04d9b858ae5b5eeeb1745d4c43f52638ff2,no-sample,whitelist_externals = mkdir mkdir -p etc/ironic_python_agent,,5,266
openstack%2Fcharm-nova-compute~master~I8b07de3b2f950237518c0555db1288f9b2c0aabf,openstack/charm-nova-compute,master,I8b07de3b2f950237518c0555db1288f9b2c0aabf,Ensure that all packaged python deps are installed on upgrade,MERGED,2019-11-29 15:28:18.000000000,2019-12-02 15:42:44.000000000,2019-12-02 15:42:44.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-29 15:28:18.000000000', 'files': ['hooks/upgrade-charm.real', 'hooks/nova_compute_hooks.py', 'hooks/upgrade-charm'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/db8ba4d9381b3098cff95d805232eadf37f99760', 'message': 'Ensure that all packaged python deps are installed on upgrade\n\nThe referenced bug indicates that if the charm upgrades on a previous\npy2 version of the charm then the upgrade fails due to a missing package\n(in this python3-yaml).  This patchset ensures that the python3 versions\nof the dependency packages are installed.\n\nChange-Id: I8b07de3b2f950237518c0555db1288f9b2c0aabf\nCloses-Bug: #1746650\n'}]",0,696721,db8ba4d9381b3098cff95d805232eadf37f99760,12,5,1,20870,,,0,"Ensure that all packaged python deps are installed on upgrade

The referenced bug indicates that if the charm upgrades on a previous
py2 version of the charm then the upgrade fails due to a missing package
(in this python3-yaml).  This patchset ensures that the python3 versions
of the dependency packages are installed.

Change-Id: I8b07de3b2f950237518c0555db1288f9b2c0aabf
Closes-Bug: #1746650
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/21/696721/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/upgrade-charm.real', 'hooks/nova_compute_hooks.py', 'hooks/upgrade-charm']",3,db8ba4d9381b3098cff95d805232eadf37f99760,bug/1746650,"#!/bin/bash -e declare -a DEPS=('apt' 'netaddr' 'netifaces' 'pip' 'yaml' 'dnspython') check_and_install() { pkg=""${1}-${2}"" if ! dpkg -s ${pkg} 2>&1 > /dev/null; then apt-get -y install ${pkg} fi } PYTHON=""python3"" for dep in ${DEPS[@]}; do check_and_install ${PYTHON} ${dep} done exec ./hooks/upgrade-charm.real ",,19,1
openstack%2Fcharm-vault~master~I8bcde949a9cfec0094d7fde7af5ed2c956106ea9,openstack/charm-vault,master,I8bcde949a9cfec0094d7fde7af5ed2c956106ea9,handler: check for service running,MERGED,2019-11-28 15:32:58.000000000,2019-12-02 15:35:24.000000000,2019-12-02 15:35:24.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 15:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9e054ce8dc02df378413060a8a6c189fc97bdacc', 'message': 'handler: check for service running\n\nChange-Id: I8bcde949a9cfec0094d7fde7af5ed2c956106ea9\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-11-28 16:44:50.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/191c9bc5f34a7cc0a6908f8324d2c1ca6dc5b2fd', 'message': 'handler: check for service running\n\nChange-Id: I8bcde949a9cfec0094d7fde7af5ed2c956106ea9\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,696601,191c9bc5f34a7cc0a6908f8324d2c1ca6dc5b2fd,14,3,2,7730,,,0,"handler: check for service running

Change-Id: I8bcde949a9cfec0094d7fde7af5ed2c956106ea9
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/01/696601/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,9e054ce8dc02df378413060a8a6c189fc97bdacc,stop-start2, if not service_running('vault'): set_flag('failed.to.start') return if not service_running('vault'): set_flag('failed.to.start') return, # TODO(sahid): Add check when service is not running # TODO(sahid): Add check when service is not running,27,2
openstack%2Fcharm-vault~master~I750f25ce6a8c1cc28320c39b49294aa5a9741d85,openstack/charm-vault,master,I750f25ce6a8c1cc28320c39b49294aa5a9741d85,actions: add stop/start actions to the vault service,MERGED,2019-11-12 11:16:53.000000000,2019-12-02 15:34:56.000000000,2019-12-02 15:34:56.000000000,"[{'_account_id': 7730}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 11:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e0a899cdbefc19a31eeb50d9e0f7f5f36f95afd2', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-11-12 13:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/cd99d8b1d4ab57e5ed43e9d9321919680afbee75', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-11-20 11:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ceb3aba2c3459814a555fcdeb93712992cf910ac', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 4, 'created': '2019-11-20 13:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2f59293286855095c82f8db72ea9fd5ef5c824a8', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 5, 'created': '2019-11-21 16:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/94aa413ed94fd3f4e395f9dd2aa69d167e26ce6d', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/128\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 6, 'created': '2019-11-28 12:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/5e11ae37e6bbc4409cc4326f4a5ce1b889fd0f39', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/128\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 7, 'created': '2019-11-28 15:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/003cf0a78d882334ecdfa5d8ed6efdf9ef1a8aff', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/128\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 8, 'created': '2019-11-28 16:44:50.000000000', 'files': ['src/actions/resume', 'src/actions.yaml', 'src/actions/actions.py', 'src/actions/pause', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/fab3849bd23793c6bb95a342409c0ff44bf5f5ae', 'message': 'actions: add stop/start actions to the vault service\n\nNote that, when resumed end-user will have to unsealed the service.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/128\nChange-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85\nCloses-Bug: #1846375\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",3,693815,fab3849bd23793c6bb95a342409c0ff44bf5f5ae,49,6,8,7730,,,0,"actions: add stop/start actions to the vault service

Note that, when resumed end-user will have to unsealed the service.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/128
Change-Id: I750f25ce6a8c1cc28320c39b49294aa5a9741d85
Closes-Bug: #1846375
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/15/693815/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/resume', 'src/actions.yaml', 'src/actions/actions.py', 'src/actions/pause']",4,e0a899cdbefc19a31eeb50d9e0f7f5f36f95afd2,stop-start2,actions.py,,34,0
openstack%2Fcookiecutter~master~I740c1f7a3ef14c342b3213dca8faeb02e66736bb,openstack/cookiecutter,master,I740c1f7a3ef14c342b3213dca8faeb02e66736bb,Remove py27 support for future projects,MERGED,2019-11-14 14:33:56.000000000,2019-12-02 15:33:30.000000000,2019-12-02 15:33:29.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-14 14:33:56.000000000', 'files': ['{{cookiecutter.repo_name}}/setup.cfg', '{{cookiecutter.repo_name}}/setup.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/cd25bd04ad1cd7003067cd4c125d445ca8cd6f9d', 'message': 'Remove py27 support for future projects\n\nChange-Id: I740c1f7a3ef14c342b3213dca8faeb02e66736bb\n'}]",6,694312,cd25bd04ad1cd7003067cd4c125d445ca8cd6f9d,8,4,1,28522,,,0,"Remove py27 support for future projects

Change-Id: I740c1f7a3ef14c342b3213dca8faeb02e66736bb
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/12/694312/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/setup.cfg', '{{cookiecutter.repo_name}}/setup.py', 'README.rst']",3,cd25bd04ad1cd7003067cd4c125d445ca8cd6f9d,update_python_version,* Tox_ testing: Setup to easily test for Python 3.7,"* Tox_ testing: Setup to easily test for Python 2.7, 3.5",2,12
openstack%2Foslo.log~master~I4c9bc47034d6ecf405126b9919ef483da8a495b0,openstack/oslo.log,master,I4c9bc47034d6ecf405126b9919ef483da8a495b0,Switch to official Ussuri jobs,MERGED,2019-10-11 15:34:21.000000000,2019-12-02 15:27:43.000000000,2019-12-02 15:25:11.000000000,"[{'_account_id': 11491}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-11 15:34:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/393644b874fb6bb2ed71bcac2632451ad368f811', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I4c9bc47034d6ecf405126b9919ef483da8a495b0\n'}]",0,688149,393644b874fb6bb2ed71bcac2632451ad368f811,13,8,1,30356,,,0,"Switch to official Ussuri jobs

Change-Id: I4c9bc47034d6ecf405126b9919ef483da8a495b0
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/49/688149/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,393644b874fb6bb2ed71bcac2632451ad368f811,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcinder~master~I2a3fa8909a9104c464fd0bbc83c61ded94f81765,openstack/cinder,master,I2a3fa8909a9104c464fd0bbc83c61ded94f81765,Pure Storage - Fix disconnect error in clustered environments,MERGED,2019-10-30 18:33:46.000000000,2019-12-02 15:26:24.000000000,2019-11-07 18:59:17.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13425}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-30 18:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc388250e8d57bc59f5d5e09397bc04060df187b', 'message': 'Pure Storage - Fix disconnect error in clustered environments\n\nWhen arrays are configured into a synchrous cluster relationship\na disconnect of a volume that is of a non-replicated type will\ncause a failure. This will also happen when attempting a volume\nretype over multiple backends.\n\nChange-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765\n'}, {'number': 2, 'created': '2019-10-30 18:56:39.000000000', 'files': ['cinder/volume/drivers/pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2eabeacfb32f30d57cb4424dffde2b890a734bcc', 'message': 'Pure Storage - Fix disconnect error in clustered environments\n\nWhen arrays are configured into a synchrous cluster relationship\na disconnect of a volume that is of a non-replicated type will\ncause a failure. This will also happen when attempting a volume\nretype over multiple backends.\n\nChange-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765\nCloses-Bug: #1850697\n'}]",2,692207,2eabeacfb32f30d57cb4424dffde2b890a734bcc,104,34,2,13425,,,0,"Pure Storage - Fix disconnect error in clustered environments

When arrays are configured into a synchrous cluster relationship
a disconnect of a volume that is of a non-replicated type will
cause a failure. This will also happen when attempting a volume
retype over multiple backends.

Change-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765
Closes-Bug: #1850697
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/692207/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,fc388250e8d57bc59f5d5e09397bc04060df187b,bug/1850697," connector, remove_remote_hosts=False)"," connector, remove_remote_hosts=True)",1,1
openstack%2Fpuppet-manila~stable%2Fqueens~I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,openstack/puppet-manila,stable/queens,I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,Configure service_instance_password as secret,MERGED,2019-12-02 02:53:55.000000000,2019-12-02 15:18:50.000000000,2019-12-02 15:18:50.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 02:53:55.000000000', 'files': ['manifests/service_instance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/90469762fab4879d2f3163f110545ee32e86ead3', 'message': 'Configure service_instance_password as secret\n\nParameter service_instance_password should be configured as a secret.\n\nChange-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc\nCloses-Bug: #1854443\n(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)\n'}]",0,696808,90469762fab4879d2f3163f110545ee32e86ead3,7,3,1,9414,,,0,"Configure service_instance_password as secret

Parameter service_instance_password should be configured as a secret.

Change-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc
Closes-Bug: #1854443
(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/08/696808/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service_instance.pp'],1,90469762fab4879d2f3163f110545ee32e86ead3,bug/1854443-stable/queens," ""${name}/service_instance_password"": value => $service_instance_password, secret => true;"," ""${name}/service_instance_password"": value => $service_instance_password;",1,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I9e8f7e81af81a322ad494d38617b70eec9ecc382,openstack/puppet-tripleo,stable/stein,I9e8f7e81af81a322ad494d38617b70eec9ecc382,update metadata for a version bump,MERGED,2019-11-26 18:32:24.000000000,2019-12-02 15:18:04.000000000,2019-12-02 15:18:04.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 18:32:24.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4e7d2b991d84617b7dc15937a47fa1ed2b4441b7', 'message': 'update metadata for a version bump\n\nRelated-Change: https://review.opendev.org/#/c/696155\nChange-Id: I9e8f7e81af81a322ad494d38617b70eec9ecc382\n'}]",0,696157,4e7d2b991d84617b7dc15937a47fa1ed2b4441b7,8,5,1,9592,,,0,"update metadata for a version bump

Related-Change: https://review.opendev.org/#/c/696155
Change-Id: I9e8f7e81af81a322ad494d38617b70eec9ecc382
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/57/696157/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4e7d2b991d84617b7dc15937a47fa1ed2b4441b7,," ""version"": ""10.5.2"","," ""version"": ""10.5.1"",",1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id4f24e171867adc445eca55b3908360c8f3f6f30,openstack/tripleo-heat-templates,stable/stein,Id4f24e171867adc445eca55b3908360c8f3f6f30,Make sure glance_api_tls_proxy logs are persisted on the host,MERGED,2019-11-29 13:53:23.000000000,2019-12-02 15:18:03.000000000,2019-12-02 15:18:03.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 13:53:23.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53465f7f298af33bd0404ed10af09f76b7eab0d8', 'message': 'Make sure glance_api_tls_proxy logs are persisted on the host\n\nThe logs for the glance_api_tls_proxy containers are not persisted on\nthe host and hence get lost at the restart of the container.  Said\ncontainer has httpd inside of it so we need to make sure that the httpd\nlogs are persisted on the host just like the other containers that use\nhttpd.\n\nTested this review and I correctly get the logs persisted on a\nTLS-everywhere environment:\n[root@controller-0 ~]# ls -l /var/log/containers/httpd/glance/\ntotal 1040\n-rw-r--r--. 1 root root   5864 Nov 28 10:07 error_log\n-rw-r--r--. 1 root root 544043 Nov 28 11:17 glance-api-proxy_access_ssl.log\n-rw-r--r--. 1 root root   4360 Nov 28 10:07 glance-api-proxy_error_ssl.log\n\nNB: Slight conflict on deployment/glance/glance-api-logging-file-container.yaml\n\nChange-Id: Id4f24e171867adc445eca55b3908360c8f3f6f30\nCloses-Bug: #1854343\n(cherry picked from commit f22dce44779a3b2d0f08c991d388b2c55829664a)\n(cherry picked from commit a764b832e2fc17bd3087d08c129a3b53d2bf083b)\n'}]",0,696705,53465f7f298af33bd0404ed10af09f76b7eab0d8,14,4,1,20172,,,0,"Make sure glance_api_tls_proxy logs are persisted on the host

The logs for the glance_api_tls_proxy containers are not persisted on
the host and hence get lost at the restart of the container.  Said
container has httpd inside of it so we need to make sure that the httpd
logs are persisted on the host just like the other containers that use
httpd.

Tested this review and I correctly get the logs persisted on a
TLS-everywhere environment:
[root@controller-0 ~]# ls -l /var/log/containers/httpd/glance/
total 1040
-rw-r--r--. 1 root root   5864 Nov 28 10:07 error_log
-rw-r--r--. 1 root root 544043 Nov 28 11:17 glance-api-proxy_access_ssl.log
-rw-r--r--. 1 root root   4360 Nov 28 10:07 glance-api-proxy_error_ssl.log

NB: Slight conflict on deployment/glance/glance-api-logging-file-container.yaml

Change-Id: Id4f24e171867adc445eca55b3908360c8f3f6f30
Closes-Bug: #1854343
(cherry picked from commit f22dce44779a3b2d0f08c991d388b2c55829664a)
(cherry picked from commit a764b832e2fc17bd3087d08c129a3b53d2bf083b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/696705/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml']",2,53465f7f298af33bd0404ed10af09f76b7eab0d8,train_glance-stable/stein," - /var/log/containers/httpd/glance:/var/log/httpd:z - { 'path': /var/log/containers/httpd/glance, 'setype': svirt_sandbox_file_t, 'mode': '0750' }",,3,0
openstack%2Frally-openstack~master~Ie324c1739bbcfb5cfb11f0771a7eb3f5d9b1cbe1,openstack/rally-openstack,master,Ie324c1739bbcfb5cfb11f0771a7eb3f5d9b1cbe1,[ci] Get back NeutronSubnets.delete_subnets workload,MERGED,2019-11-27 16:04:57.000000000,2019-12-02 15:14:43.000000000,2019-12-02 15:14:43.000000000,"[{'_account_id': 9545}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 16:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/fb336f5bb8ea09e2b3286e56f2ddf5653392741f', 'message': 'DO NOT MERGE 2\n\nDepends-On: https://review.opendev.org/#/c/696334/\nChange-Id: Ie324c1739bbcfb5cfb11f0771a7eb3f5d9b1cbe1\n'}, {'number': 2, 'created': '2019-11-27 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c719dcef79bb432ef8baa118c799dec182acee10', 'message': 'DO NOT MERGE 2\n\nDepends-On: https://review.opendev.org/#/c/696334/\nChange-Id: Ie324c1739bbcfb5cfb11f0771a7eb3f5d9b1cbe1\n'}, {'number': 3, 'created': '2019-11-28 14:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d302839fe776c81a42ea4ef27a12790049bcddc9', 'message': 'DO NOT MERGE 2\n\nDepends-On: https://review.opendev.org/#/c/696447/\nChange-Id: Ie324c1739bbcfb5cfb11f0771a7eb3f5d9b1cbe1\n'}, {'number': 4, 'created': '2019-11-28 15:16:29.000000000', 'files': ['rally-jobs/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/12be45deb5eebbccdcc3698903625082edb33703', 'message': '[ci] Get back NeutronSubnets.delete_subnets workload\n\nDepends-On: https://review.opendev.org/#/c/696447/\nChange-Id: Ie324c1739bbcfb5cfb11f0771a7eb3f5d9b1cbe1\n'}]",0,696338,12be45deb5eebbccdcc3698903625082edb33703,16,3,4,9545,,,0,"[ci] Get back NeutronSubnets.delete_subnets workload

Depends-On: https://review.opendev.org/#/c/696447/
Change-Id: Ie324c1739bbcfb5cfb11f0771a7eb3f5d9b1cbe1
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/38/696338/4 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/neutron.yaml'],1,fb336f5bb8ea09e2b3286e56f2ddf5653392741f,neutronDeleteSubnets, - ,,1,0
openstack%2Fcinder~master~I5507d280a5a68debd1f055988aa8c233b2147d09,openstack/cinder,master,I5507d280a5a68debd1f055988aa8c233b2147d09,Unity: force delete lun by default,MERGED,2019-06-14 03:05:57.000000000,2019-12-02 15:10:42.000000000,2019-09-03 16:01:39.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-14 03:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42ddb5989030b26127610ba07065b850395d6cf7', 'message': ""Unity: force delete lun by default\n\nThe option `force_delete_lun_in_storagegroup` was set to `False` by\ndefault before. Customers should change it to `True` in `cinder.conf` to\nmake sure luns can be deleted even when they are still in storage\ngroups.\n\nThis fix enables the option's default value to `True`.\n\nChange-Id: I5507d280a5a68debd1f055988aa8c233b2147d09\nCloses-bug: #1825469\n""}, {'number': 2, 'created': '2019-06-27 06:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c896519871576718df33609420a8845b53507742', 'message': ""Unity: force delete lun by default\n\nThe option `force_delete_lun_in_storagegroup` was set to `False` by\ndefault before. Customers should change it to `True` in `cinder.conf` to\nmake sure luns can be deleted even when they are still in storage\ngroups.\n\nThis fix enables the option's default value to `True`.\n\nChange-Id: I5507d280a5a68debd1f055988aa8c233b2147d09\nCloses-bug: #1825469\n""}, {'number': 3, 'created': '2019-07-02 03:13:58.000000000', 'files': ['releasenotes/notes/enable-force-delete-lun-d0e05b5d669e40f7.yaml', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'cinder/volume/drivers/dell_emc/vnx/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/850013325b50e890ad240c360c782731e6b98a56', 'message': ""Unity: force delete lun by default\n\nThe option `force_delete_lun_in_storagegroup` was set to `False` by\ndefault before. Customers should change it to `True` in `cinder.conf` to\nmake sure luns can be deleted even when they are still in storage\ngroups.\n\nThis fix enables the option's default value to `True`.\n\nChange-Id: I5507d280a5a68debd1f055988aa8c233b2147d09\nCloses-bug: #1825469\n""}]",5,665281,850013325b50e890ad240c360c782731e6b98a56,85,36,3,18742,,,0,"Unity: force delete lun by default

The option `force_delete_lun_in_storagegroup` was set to `False` by
default before. Customers should change it to `True` in `cinder.conf` to
make sure luns can be deleted even when they are still in storage
groups.

This fix enables the option's default value to `True`.

Change-Id: I5507d280a5a68debd1f055988aa8c233b2147d09
Closes-bug: #1825469
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/665281/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-force-delete-lun-d0e05b5d669e40f7.yaml', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'cinder/volume/drivers/dell_emc/vnx/common.py']",3,42ddb5989030b26127610ba07065b850395d6cf7,bug/1825469," default=True, 'By default, the value is True.'),"," default=False, 'By default, the value is False.'),",11,3
openstack%2Fcinder~master~I69ce8bda4302bf821739eb7276f2db12b7a259fe,openstack/cinder,master,I69ce8bda4302bf821739eb7276f2db12b7a259fe,SF remove deprecated sf_allow_template_caching,MERGED,2019-06-11 22:52:15.000000000,2019-12-02 15:04:39.000000000,2019-08-21 14:13:46.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28710}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-11 22:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bddd5bb3724651353dd8628f0046e5dbf345ee75', 'message': ""SF remove deprecated sf_allow_template_caching\n\nThe solidfire driver currently has built in template image caching. It\nis not manageable through the normal OpenStack API's. SolidFires\ntemplate image caching is the main cause for the exception\nDuplicateSFVolumeNames when the system is running in an HA\nA/A configuration.\n\nThe current implementation has the configuration variable\nsf_allow_template_caching, the module _create_image_volume, and\n_verify_image_volume, which will be removed.\n\nCinder has the same functionality which is managed through the OpenStack\nAPIs and will not have the same HA A/A side effect of throwing\nDuplicateSDuplicateSFVolumeNames exception.\n\nChange-Id: I69ce8bda4302bf821739eb7276f2db12b7a259fe\n""}, {'number': 2, 'created': '2019-06-25 19:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b03b3a24abda02fbc49fb5baf8d8fae2693a242c', 'message': ""SF remove deprecated sf_allow_template_caching\n\nThe solidfire driver currently has built in template image caching. It\nis not manageable through the normal OpenStack API's. SolidFires\ntemplate image caching is the main cause for the exception\nDuplicateSFVolumeNames when the system is running in an HA\nA/A configuration.\n\nThe current implementation has the configuration variable\nsf_allow_template_caching, the module _create_image_volume, and\n_verify_image_volume, which will be removed.\n\nCinder has the same functionality which is managed through the OpenStack\nAPIs and will not have the same HA A/A side effect of throwing\nDuplicateSDuplicateSFVolumeNames exception.\n\nChange-Id: I69ce8bda4302bf821739eb7276f2db12b7a259fe\n""}, {'number': 3, 'created': '2019-07-08 17:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/629321ff7d6d5ec4a185402e22327d93f567077e', 'message': ""SF remove deprecated sf_allow_template_caching\n\nThe solidfire driver currently has built in template image caching. It\nis not manageable through the normal OpenStack API's. SolidFires\ntemplate image caching is the main cause for the exception\nDuplicateSFVolumeNames when the system is running in an HA\nA/A configuration.\n\nThe current implementation has the configuration variable\nsf_allow_template_caching, the module _create_image_volume, and\n_verify_image_volume, which will be removed.\n\nCinder has the same functionality which is managed through the OpenStack\nAPIs and will not have the same HA A/A side effect of throwing\nDuplicateSDuplicateSFVolumeNames exception.\n\nChange-Id: I69ce8bda4302bf821739eb7276f2db12b7a259fe\n""}, {'number': 4, 'created': '2019-07-17 12:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b1ae82d2432c25aab7598b14e79ef53c51e8084', 'message': ""SF remove deprecated sf_allow_template_caching\n\nThe solidfire driver currently has built in template image caching. It\nis not manageable through the normal OpenStack API's. SolidFires\ntemplate image caching is the main cause for the exception\nDuplicateSFVolumeNames when the system is running in an HA\nA/A configuration.\n\nThe current implementation has the configuration variable\nsf_allow_template_caching, the module _create_image_volume, and\n_verify_image_volume, which will be removed.\n\nCinder has the same functionality which is managed through the OpenStack\nAPIs and will not have the same HA A/A side effect of throwing\nDuplicateSDuplicateSFVolumeNames exception.\n\nChange-Id: I69ce8bda4302bf821739eb7276f2db12b7a259fe\n""}, {'number': 5, 'created': '2019-07-19 17:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58629f542fbf42907c3cb8560ad56abbe47ca8fc', 'message': ""SF remove deprecated sf_allow_template_caching\n\nThe solidfire driver currently has built in template image caching. It\nis not manageable through the normal OpenStack API's. SolidFires\ntemplate image caching is the main cause for the exception\nDuplicateSFVolumeNames when the system is running in an HA\nA/A configuration.\n\nThe current implementation has the configuration variable\nsf_allow_template_caching, the module _create_image_volume, and\n_verify_image_volume, which will be removed.\n\nCinder has the same functionality which is managed through the OpenStack\nAPIs and will not have the same HA A/A side effect of throwing\nDuplicateSDuplicateSFVolumeNames exception.\n\nChange-Id: I69ce8bda4302bf821739eb7276f2db12b7a259fe\n""}, {'number': 6, 'created': '2019-08-05 17:35:03.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/deprecate-sf-allow-template-caching-b3a1ea32512cbb11.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd495d010c11bd527710a491d6260dd8e0e4ee36', 'message': ""SF remove deprecated sf_allow_template_caching\n\nThe solidfire driver currently has built in template image caching. It\nis not manageable through the normal OpenStack API's. SolidFires\ntemplate image caching is the main cause for the exception\nDuplicateSFVolumeNames when the system is running in an HA\nA/A configuration.\n\nThe current implementation has the configuration variable\nsf_allow_template_caching, the module _create_image_volume, and\n_verify_image_volume, which will be removed.\n\nCinder has the same functionality which is managed through the OpenStack\nAPIs and will not have the same HA A/A side effect of throwing\nDuplicateSDuplicateSFVolumeNames exception.\n\nChange-Id: I69ce8bda4302bf821739eb7276f2db12b7a259fe\n""}]",11,664739,fd495d010c11bd527710a491d6260dd8e0e4ee36,155,40,6,28710,,,0,"SF remove deprecated sf_allow_template_caching

The solidfire driver currently has built in template image caching. It
is not manageable through the normal OpenStack API's. SolidFires
template image caching is the main cause for the exception
DuplicateSFVolumeNames when the system is running in an HA
A/A configuration.

The current implementation has the configuration variable
sf_allow_template_caching, the module _create_image_volume, and
_verify_image_volume, which will be removed.

Cinder has the same functionality which is managed through the OpenStack
APIs and will not have the same HA A/A side effect of throwing
DuplicateSDuplicateSFVolumeNames exception.

Change-Id: I69ce8bda4302bf821739eb7276f2db12b7a259fe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/664739/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,bddd5bb3724651353dd8628f0046e5dbf345ee75,deprecate_sf_allow_template_image_caching, elif method == 'ListSnapshots': raise exception.VolumeNotFound('test clone unconfigured image')," @mock.patch.object(solidfire.SolidFireDriver, '_create_template_account') _mock_create_template_account, _mock_create_template_account.return_value = 1 @mock.patch.object(solidfire.SolidFireDriver, '_create_template_account') _mock_create_template_account, _mock_create_template_account.return_value = 1 @mock.patch.object(solidfire.SolidFireDriver, '_create_template_account') _mock_create_template_account, _mock_create_template_account.return_value = 1 @mock.patch.object(solidfire.SolidFireDriver, '_create_template_account') _mock_create_template_account, _mock_create_template_account.return_value = 1 @mock.patch.object(solidfire.SolidFireDriver, '_create_template_account') _mock_create_template_account, _mock_create_template_account.return_value = 1 @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_create_image_volume') def test_verify_image_volume_out_of_date(self, _mock_create_image_volume, _mock_get_sf_volume, _mock_get_sfaccount, _mock_issue_api_request, _mock_update_cluster_status): fake_sf_vref = { 'status': 'active', 'volumeID': 1, 'attributes': { 'image_info': {'image_updated_at': '2014-12-17T00:16:23+00:00', 'image_id': '17c550bb-a411-44c0-9aaf-0d96dd47f501', 'image_name': 'fake-image', 'image_created_at': '2014-12-17T00:16:23+00:00'}}} _mock_update_cluster_status.return_value = None _mock_issue_api_request.side_effect = ( self.fake_issue_api_request) _mock_get_sfaccount.return_value = {'username': 'openstack-vtemplate', 'accountID': 7777} _mock_get_sf_volume.return_value = fake_sf_vref _mock_create_image_volume.return_value = fake_sf_vref image_meta = {'id': '17c550bb-a411-44c0-9aaf-0d96dd47f501', 'updated_at': datetime.datetime(2013, 9, 28, 15, 27, 36, 325355)} image_service = 'null' sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv._verify_image_volume(self.ctxt, image_meta, image_service) self.assertTrue(_mock_create_image_volume.called) @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_create_image_volume') def test_verify_image_volume_ok(self, _mock_create_image_volume, _mock_get_sf_volume, _mock_get_sfaccount, _mock_issue_api_request, _mock_update_cluster_status): _mock_issue_api_request.side_effect = self.fake_issue_api_request _mock_update_cluster_status.return_value = None _mock_get_sfaccount.return_value = {'username': 'openstack-vtemplate', 'accountID': 7777} _mock_get_sf_volume.return_value =\ {'status': 'active', 'volumeID': 1, 'attributes': { 'image_info': {'image_updated_at': '2013-09-28T15:27:36.325355', 'image_id': '17c550bb-a411-44c0-9aaf-0d96dd47f501', 'image_name': 'fake-image', 'image_created_at': '2014-12-17T00:16:23+00:00'}}} _mock_create_image_volume.return_value = None image_meta = {'id': '17c550bb-a411-44c0-9aaf-0d96dd47f501', 'updated_at': datetime.datetime(2013, 9, 28, 15, 27, 36, 325355)} image_service = 'null' sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv._verify_image_volume(self.ctxt, image_meta, image_service) self.assertFalse(_mock_create_image_volume.called) @mock.patch.object(solidfire.SolidFireDriver, '_create_template_account') @mock.patch.object(solidfire.SolidFireDriver, '_create_image_volume') def test_clone_image_authorization(self, _mock_create_image_volume, _mock_create_template_account): fake_sf_vref = { 'status': 'active', 'volumeID': 1, 'attributes': { 'image_info': {'image_updated_at': '2014-12-17T00:16:23+00:00', 'image_id': '155d900f-4e14-4e4c-a73d-069cbf4541e6', 'image_name': 'fake-image', 'image_created_at': '2014-12-17T00:16:23+00:00'}}} _mock_create_image_volume.return_value = fake_sf_vref _mock_create_template_account.return_value = 1 self.configuration.sf_allow_template_caching = True sfv = solidfire.SolidFireDriver(configuration=self.configuration) # Make sure if it's NOT public and we're NOT the owner it # doesn't try and cache timestamp = datetime.datetime(2011, 1, 1, 1, 2, 3) _fake_image_meta = { 'id': '155d900f-4e14-4e4c-a73d-069cbf4541e6', 'name': 'fakeimage123456', 'created_at': timestamp, 'updated_at': timestamp, 'deleted_at': None, 'deleted': False, 'status': 'active', 'visibility': 'private', 'protected': False, 'container_format': 'raw', 'disk_format': 'raw', 'owner': 'wrong-owner', 'properties': {'kernel_id': 'nokernel', 'ramdisk_id': 'nokernel', 'architecture': 'x86_64'}} with mock.patch.object(sfv, '_do_clone_volume', return_value=('fe', 'fi', 'fo')): self.assertEqual((None, False), sfv.clone_image(self.ctxt, self.mock_volume, 'fake', _fake_image_meta, self.fake_image_service)) # And is_public False, but the correct owner does work _fake_image_meta['owner'] = 'testprjid' self.assertEqual( ('fo', True), sfv.clone_image( self.ctxt, self.mock_volume, 'fake', _fake_image_meta, self.fake_image_service)) # And is_public True, even if not the correct owner _fake_image_meta['is_public'] = True _fake_image_meta['owner'] = 'wrong-owner' self.assertEqual( ('fo', True), sfv.clone_image(self.ctxt, self.mock_volume, 'fake', _fake_image_meta, self.fake_image_service)) # And using the new V2 visibility tag _fake_image_meta['visibility'] = 'public' _fake_image_meta['owner'] = 'wrong-owner' self.assertEqual( ('fo', True), sfv.clone_image(self.ctxt, self.mock_volume, 'fake', _fake_image_meta, self.fake_image_service)) def test_create_template_no_account(self): sfv = solidfire.SolidFireDriver(configuration=self.configuration) def _fake_issue_api_req(method, params, version=0): if 'GetAccountByName' in method: raise solidfire.SolidFireAPIException return {'result': {'accountID': 1}} with mock.patch.object(sfv, '_issue_api_request', side_effect=_fake_issue_api_req): self.assertEqual(1, sfv._create_template_account('foo')) def test_configured_svip(self): sfv = solidfire.SolidFireDriver(configuration=self.configuration) def _fake_get_volumes(account_id, endpoint=None): return [{'volumeID': 1, 'iqn': ''}] def _fake_get_cluster_info(): return {'clusterInfo': {'svip': '10.10.10.10', 'mvip': '1.1.1.1'}} with mock.patch.object(sfv, '_get_volumes_by_sfaccount', side_effect=_fake_get_volumes),\ mock.patch.object(sfv, '_issue_api_request', side_effect=self.fake_issue_api_request): sfaccount = {'targetSecret': 'yakitiyak', 'accountID': 5, 'username': 'bobthebuilder'} v = sfv._get_model_info(sfaccount, 1) self.assertEqual('1.1.1.1:3260 0', v['provider_location']) configured_svip = '9.9.9.9:6500' sfv.active_cluster['svip'] = configured_svip v = sfv._get_model_info(sfaccount, 1) self.assertEqual('%s 0' % configured_svip, v['provider_location']) ",7,383
openstack%2Fos-traits~master~Ia9c7b83b7b163ce73e980923f48bc34045ff92be,openstack/os-traits,master,Ia9c7b83b7b163ce73e980923f48bc34045ff92be,Add 'TYPE_PLOOP' image type.,MERGED,2019-11-28 02:10:48.000000000,2019-12-02 15:03:03.000000000,2019-12-02 13:34:25.000000000,"[{'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 02:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/e4bef367951f02a937b73ea4999dda47708bf9f8', 'message': ""Add 'TYPE_PLOOP' image type.\n\nThis patch adds missing image type 'TYPE_PLOOP' for Virtuozzo.\n\nChange-Id: Ia9c7b83b7b163ce73e980923f48bc34045ff92be\nCloses-Bug: #1854235\n""}, {'number': 2, 'created': '2019-12-02 13:14:37.000000000', 'files': ['os_traits/compute/image.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/c7468b0bad407c7fdb293a49e9c6c9ec16274a96', 'message': ""Add 'TYPE_PLOOP' image type.\n\nThis patch adds missing image type 'TYPE_PLOOP' for Virtuozzo.\n\nChange-Id: Ia9c7b83b7b163ce73e980923f48bc34045ff92be\nCloses-Bug: #1854235\n""}]",2,696435,c7468b0bad407c7fdb293a49e9c6c9ec16274a96,14,4,2,23950,,,0,"Add 'TYPE_PLOOP' image type.

This patch adds missing image type 'TYPE_PLOOP' for Virtuozzo.

Change-Id: Ia9c7b83b7b163ce73e980923f48bc34045ff92be
Closes-Bug: #1854235
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/35/696435/2 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/image.py'],1,e4bef367951f02a937b73ea4999dda47708bf9f8,bug_1854235," # Native format for Virtuozzo 'TYPE_PLOOP',",,3,0
openstack%2Foslo.context~master~I0237b9438186c3206cb166475be5148e66e131a1,openstack/oslo.context,master,I0237b9438186c3206cb166475be5148e66e131a1,Switch to Ussuri jobs,MERGED,2019-11-25 02:18:39.000000000,2019-12-02 15:02:36.000000000,2019-12-02 14:59:12.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-25 02:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/e7bf18868dcc883367de63973ede4a2c53843d5b', 'message': '*Switch to Ussuri jobs\n\nChange-Id: I0237b9438186c3206cb166475be5148e66e131a1\n'}, {'number': 2, 'created': '2019-11-25 02:22:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/8e0028d30bb6a25c2ec3c6c89bba807b2ad7fece', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I0237b9438186c3206cb166475be5148e66e131a1\n'}]",0,695835,8e0028d30bb6a25c2ec3c6c89bba807b2ad7fece,9,3,2,30408,,,0,"Switch to Ussuri jobs

Change-Id: I0237b9438186c3206cb166475be5148e66e131a1
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/35/695835/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e7bf18868dcc883367de63973ede4a2c53843d5b,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.middleware~master~Ieef89d32aa7e0fa16eb08829bb8e032b5400792a,openstack/oslo.middleware,master,Ieef89d32aa7e0fa16eb08829bb8e032b5400792a,Switch to Ussuri jobs,MERGED,2019-10-24 06:29:50.000000000,2019-12-02 15:01:12.000000000,2019-12-02 14:57:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:29:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/ad1be0b9f803290fcbfa2b8f50ee283723d730ff', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ieef89d32aa7e0fa16eb08829bb8e032b5400792a\n'}]",0,690845,ad1be0b9f803290fcbfa2b8f50ee283723d730ff,9,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Ieef89d32aa7e0fa16eb08829bb8e032b5400792a
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/45/690845/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ad1be0b9f803290fcbfa2b8f50ee283723d730ff,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-ci~master~Ia8d1027319b774610112e91920ab27f7c076a3c3,openstack/tripleo-ci,master,Ia8d1027319b774610112e91920ab27f7c076a3c3,WIP: Add add_repo vars file to toci,ABANDONED,2019-11-26 21:20:45.000000000,2019-12-02 14:57:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 21:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8fe9eefae5549047ad54a02fcd0b8c72db679e61', 'message': 'WIP: Add add_repo vars file to toci\n\nChange-Id: Ia8d1027319b774610112e91920ab27f7c076a3c3\n'}, {'number': 2, 'created': '2019-11-27 00:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8a6f8cbcfb284a680ca20a7a763e3abbb0205517', 'message': 'WIP: Add add_repo vars file to toci\n\nChange-Id: Ia8d1027319b774610112e91920ab27f7c076a3c3\n'}, {'number': 3, 'created': '2019-11-27 17:19:25.000000000', 'files': ['roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/48b32b2d499652190948cd5ad959795f1083f1e0', 'message': 'WIP: Add add_repo vars file to toci\n\nChange-Id: Ia8d1027319b774610112e91920ab27f7c076a3c3\n'}]",0,696191,48b32b2d499652190948cd5ad959795f1083f1e0,9,2,3,9976,,,0,"WIP: Add add_repo vars file to toci

Change-Id: Ia8d1027319b774610112e91920ab27f7c076a3c3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/91/696191/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_quickstart.sh.j2'],1,8fe9eefae5549047ad54a02fcd0b8c72db679e61,add-component-repo, {% if component_name is defined %}--extra-vars @{{ workspace }}/logs/add-repo-variables.yaml \ {% endif %} {% if component_name is defined %}--extra-vars @{{ workspace }}/logs/add-repo-variables.yaml \ {% endif %},,2,0
openstack%2Frequirements~master~Ibff112e41af225f68f3758e2ed0bbdb9c5feba63,openstack/requirements,master,Ibff112e41af225f68f3758e2ed0bbdb9c5feba63,Updated from generate-constraints,ABANDONED,2019-12-02 06:14:02.000000000,2019-12-02 14:56:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-02 06:14:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9659fe4ac98ce183a1ec4a784994e802bc4b7d7f', 'message': 'Updated from generate-constraints\n\nChange-Id: Ibff112e41af225f68f3758e2ed0bbdb9c5feba63\n'}]",0,696820,9659fe4ac98ce183a1ec4a784994e802bc4b7d7f,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ibff112e41af225f68f3758e2ed0bbdb9c5feba63
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/696820/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9659fe4ac98ce183a1ec4a784994e802bc4b7d7f,openstack/requirements/constraints,pywbem===0.15.0tinyrpc===1.0.4importlib-metadata===1.1.0boto3===1.10.28bottle===0.12.18botocore===1.13.28,pywbem===0.14.6tinyrpc===1.0.3importlib-metadata===1.0.0boto3===1.10.8bottle===0.12.17botocore===1.13.8,6,6
openstack%2Foslo.reports~master~I85c0073f46f56b1b17a32a38b9f15592f2e7f821,openstack/oslo.reports,master,I85c0073f46f56b1b17a32a38b9f15592f2e7f821,Switch to Ussuri jobs,MERGED,2019-10-24 06:33:20.000000000,2019-12-02 14:56:09.000000000,2019-12-02 14:49:49.000000000,"[{'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:33:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/4948c643783cc5b97640ad33a2ded3bc4e6a663f', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I85c0073f46f56b1b17a32a38b9f15592f2e7f821\n'}]",0,690848,4948c643783cc5b97640ad33a2ded3bc4e6a663f,11,6,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I85c0073f46f56b1b17a32a38b9f15592f2e7f821
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/48/690848/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4948c643783cc5b97640ad33a2ded3bc4e6a663f,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fstevedore~master~I473d9bb2d8a1f936ea220baa35815d64340eb9c6,openstack/stevedore,master,I473d9bb2d8a1f936ea220baa35815d64340eb9c6,Switch to Ussuri jobs,MERGED,2019-10-25 07:10:04.000000000,2019-12-02 14:56:08.000000000,2019-12-02 14:49:49.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-25 07:10:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/120b70b11aa2d03349981cd0dba5a4f6994a875d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I473d9bb2d8a1f936ea220baa35815d64340eb9c6\n'}]",0,691235,120b70b11aa2d03349981cd0dba5a4f6994a875d,10,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I473d9bb2d8a1f936ea220baa35815d64340eb9c6
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/35/691235/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,120b70b11aa2d03349981cd0dba5a4f6994a875d,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.policy~master~Ide0ce0642f30d3f5f6880d43cd5937ca63129065,openstack/oslo.policy,master,Ide0ce0642f30d3f5f6880d43cd5937ca63129065,Switch to Ussuri jobs,MERGED,2019-10-24 06:31:22.000000000,2019-12-02 14:51:51.000000000,2019-12-02 14:47:42.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:31:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1e09fadde988927a9944f84f1e361130f0093f24', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ide0ce0642f30d3f5f6880d43cd5937ca63129065\n'}]",0,690846,1e09fadde988927a9944f84f1e361130f0093f24,9,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Ide0ce0642f30d3f5f6880d43cd5937ca63129065
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/46/690846/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e09fadde988927a9944f84f1e361130f0093f24,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.config~master~Icd54952c987153b0473872733db2bf7253d7c1f1,openstack/oslo.config,master,Icd54952c987153b0473872733db2bf7253d7c1f1,Switch to Ussuri jobs,MERGED,2019-10-24 06:26:01.000000000,2019-12-02 14:49:50.000000000,2019-12-02 14:45:23.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:26:01.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/2dc529f8372c88a7985d2f2475b4ec5e79bda28a', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Icd54952c987153b0473872733db2bf7253d7c1f1\n'}]",0,690842,2dc529f8372c88a7985d2f2475b4ec5e79bda28a,9,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Icd54952c987153b0473872733db2bf7253d7c1f1
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/42/690842/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,2dc529f8372c88a7985d2f2475b4ec5e79bda28a,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fautomaton~master~Ia34b54872bded2edb015b2497a37f786e73e86bb,openstack/automaton,master,Ia34b54872bded2edb015b2497a37f786e73e86bb,Switch to Ussuri jobs,MERGED,2019-10-23 01:03:30.000000000,2019-12-02 14:47:38.000000000,2019-12-02 14:42:53.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-23 01:03:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/automaton/commit/2d4f5fbcfdb804c3107b80d810b398e064679aa0', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ia34b54872bded2edb015b2497a37f786e73e86bb\n'}]",0,690455,2d4f5fbcfdb804c3107b80d810b398e064679aa0,8,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ia34b54872bded2edb015b2497a37f786e73e86bb
",git fetch https://review.opendev.org/openstack/automaton refs/changes/55/690455/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2d4f5fbcfdb804c3107b80d810b398e064679aa0,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.privsep~master~Ib6940a5a72d445be50dfb92d6ae866ddaf4e5d2c,openstack/oslo.privsep,master,Ib6940a5a72d445be50dfb92d6ae866ddaf4e5d2c,Switch to Ussuri jobs,MERGED,2019-10-24 06:32:10.000000000,2019-12-02 14:45:24.000000000,2019-12-02 14:40:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:32:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/53f9ce62373641de4fca646be0584b9b2d7a9253', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ib6940a5a72d445be50dfb92d6ae866ddaf4e5d2c\n'}]",0,690847,53f9ce62373641de4fca646be0584b9b2d7a9253,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Ib6940a5a72d445be50dfb92d6ae866ddaf4e5d2c
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/47/690847/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53f9ce62373641de4fca646be0584b9b2d7a9253,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-ansible~master~Ia8dbe207e2b482a8b85a2ed74594c896793c5a3c,openstack/tripleo-ansible,master,Ia8dbe207e2b482a8b85a2ed74594c896793c5a3c,Check that role_networks is defined,ABANDONED,2019-11-26 16:35:30.000000000,2019-12-02 14:38:28.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-11-26 16:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3bd186f9e2e573bd6297349392713d0e77a77d5', 'message': ""Check that role_networks is defined\n\nIf role_networks is not this check fails because to ansible it's an\nundefined variable. We need to check that it's defined.\n\nChange-Id: Ia8dbe207e2b482a8b85a2ed74594c896793c5a3c\nCloses-Bug: #1837644\n""}, {'number': 2, 'created': '2019-11-26 16:36:09.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fec838ab03f10ee21474bebc4e9811873b271026', 'message': ""Check that role_networks is defined\n\nIf role_networks is not defined this check fails because to\nansible it's an undefined variable. We need to check that\nit is defined.\n\nChange-Id: Ia8dbe207e2b482a8b85a2ed74594c896793c5a3c\nCloses-Bug: #1837644\n""}]",0,696126,fec838ab03f10ee21474bebc4e9811873b271026,11,6,2,14985,,,0,"Check that role_networks is defined

If role_networks is not defined this check fails because to
ansible it's an undefined variable. We need to check that
it is defined.

Change-Id: Ia8dbe207e2b482a8b85a2ed74594c896793c5a3c
Closes-Bug: #1837644
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/696126/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml'],1,d3bd186f9e2e573bd6297349392713d0e77a77d5,bug/1837644," {%- if enabled_networks | length > 0 and role_networks is defined and role_networks | length > 0 %},"," {%- if enabled_networks | length > 0 and role_networks and role_networks | length > 0 %},",1,1
openstack%2Foslo.rootwrap~master~I67b9a3409d650fde9afc65720dfa0c289328ef85,openstack/oslo.rootwrap,master,I67b9a3409d650fde9afc65720dfa0c289328ef85,Switch to Ussuri jobs,MERGED,2019-10-24 06:34:26.000000000,2019-12-02 14:36:15.000000000,2019-12-02 14:31:47.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:34:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/da3a3ef5ca173ead07e98f6ac8688fb7a97207fd', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I67b9a3409d650fde9afc65720dfa0c289328ef85\n'}]",0,690849,da3a3ef5ca173ead07e98f6ac8688fb7a97207fd,9,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I67b9a3409d650fde9afc65720dfa0c289328ef85
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/49/690849/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,da3a3ef5ca173ead07e98f6ac8688fb7a97207fd,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcloudkitty~master~I62b416183f7841c4ca3f934022e90751a80b833f,openstack/cloudkitty,master,I62b416183f7841c4ca3f934022e90751a80b833f,Fix 500 errors in the API when request context bears no project_id,MERGED,2019-11-26 14:06:23.000000000,2019-12-02 14:21:42.000000000,2019-12-02 14:20:13.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-11-26 14:06:23.000000000', 'files': ['cloudkitty/api/v2/dataframes/dataframes.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/api/v1/controllers/storage.py', 'releasenotes/notes/fix-project-id-none-d40df33fc7b7db23.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/af0613f4c648505f5d7f5ca3e6071f34bda690c6', 'message': ""Fix 500 errors in the API when request context bears no project_id\n\nThis fixes 500 errors in the API that appeared when keystone authentication is\nenabled, the request contexts bears no project_id, and the user doesn't have\nadmin rights.\n\nThis specific case did lead to badly built filters (with project_id being\nNone), which induced unexpected behaviour from the storage backend.\n\nChange-Id: I62b416183f7841c4ca3f934022e90751a80b833f\nStory: 2006948\nTask: 37629\n""}]",0,696090,af0613f4c648505f5d7f5ca3e6071f34bda690c6,8,3,1,23060,,,0,"Fix 500 errors in the API when request context bears no project_id

This fixes 500 errors in the API that appeared when keystone authentication is
enabled, the request contexts bears no project_id, and the user doesn't have
admin rights.

This specific case did lead to badly built filters (with project_id being
None), which induced unexpected behaviour from the storage backend.

Change-Id: I62b416183f7841c4ca3f934022e90751a80b833f
Story: 2006948
Task: 37629
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/90/696090/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/v2/dataframes/dataframes.py', 'cloudkitty/api/v2/summary/summary.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/api/v1/controllers/storage.py', 'releasenotes/notes/fix-project-id-none-d40df33fc7b7db23.yaml']",5,af0613f4c648505f5d7f5ca3e6071f34bda690c6,,--- fixes: - | The 500 errors happening on some API endpoints when keystone authentication is enabled and the request context bears no ``project_id`` have been fixed. ,,22,0
openstack%2Fmagnum~master~Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6,openstack/magnum,master,Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6,bug: Use configured heat-container-agent tag,MERGED,2019-11-20 13:35:24.000000000,2019-12-02 14:13:19.000000000,2019-11-22 09:53:13.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-11-20 13:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8e6878324fbdee7f9d03ec6ddb5662c8105638ab', 'message': 'Use configured heat-container-agent tag\n\nChange-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6\n'}, {'number': 2, 'created': '2019-11-20 14:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4fe530f59dd50a4971aac699957b9071d2f5a4e3', 'message': 'bug: Use configured heat-container-agent tag\n\nChange-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6\n'}, {'number': 3, 'created': '2019-11-20 16:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fc2182cdd52ce500e6011d9cd74009d8415b1bf7', 'message': 'bug: Use configured heat-container-agent tag\n\nRemove hard coded reference to train-dev which ends up pulling multiple\nimages down.\n\nStory: 2006459\nTask: 37566\n\nChange-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6\n'}, {'number': 4, 'created': '2019-11-21 13:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d48d0c08ee89304f13cbe48f3f4fbbffa044f960', 'message': 'bug: Use configured heat-container-agent tag\n\nRemove hard coded reference to train-dev which ends up pulling multiple\nimages down and use HEAT_CONTAINER_AGENT_TAG instead.\n\nAlso add missing CONTAINER_INFRA_PREFIX.\n\nStory: 2006459\nTask: 37566\n\nChange-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6\n'}, {'number': 5, 'created': '2019-11-21 20:50:08.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b2cc1c237c0aa221d87bc72fcb500e3d16d17128', 'message': 'bug: Use configured heat-container-agent tag\n\nRemove hard coded reference to train-dev which ends up pulling multiple\nimages down and use HEAT_CONTAINER_AGENT_TAG instead.\n\nAlso add missing CONTAINER_INFRA_PREFIX.\n\nStory: 2006459\nTask: 37566\n\nChange-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6\n'}]",0,695196,b2cc1c237c0aa221d87bc72fcb500e3d16d17128,19,4,5,28022,,,0,"bug: Use configured heat-container-agent tag

Remove hard coded reference to train-dev which ends up pulling multiple
images down and use HEAT_CONTAINER_AGENT_TAG instead.

Also add missing CONTAINER_INFRA_PREFIX.

Story: 2006459
Task: 37566

Change-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/695196/4 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'],1,8e6878324fbdee7f9d03ec6ddb5662c8105638ab,fcos,ExecStartPre=-/bin/podman pull docker.io/openstackmagnum/heat-container-agent:${HEAT_CONTAINER_AGENT_TAG},ExecStartPre=-/bin/podman pull docker.io/openstackmagnum/heat-container-agent:train-dev,1,1
openstack%2Fpuppet-manila~stable%2Fstein~I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,openstack/puppet-manila,stable/stein,I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,Configure service_instance_password as secret,MERGED,2019-12-02 02:53:42.000000000,2019-12-02 14:12:36.000000000,2019-12-02 14:12:36.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 02:53:42.000000000', 'files': ['manifests/service_instance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/3c0d3b1fbd6adaa0d793e28c26745ce4e8a29a64', 'message': 'Configure service_instance_password as secret\n\nParameter service_instance_password should be configured as a secret.\n\nChange-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc\nCloses-Bug: #1854443\n(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)\n'}]",0,696807,3c0d3b1fbd6adaa0d793e28c26745ce4e8a29a64,7,3,1,9414,,,0,"Configure service_instance_password as secret

Parameter service_instance_password should be configured as a secret.

Change-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc
Closes-Bug: #1854443
(cherry picked from commit 4a061e27d36f101870bc111a4d6b5796630adfd2)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/07/696807/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service_instance.pp'],1,3c0d3b1fbd6adaa0d793e28c26745ce4e8a29a64,bug/1854443-stable/stein," ""${name}/service_instance_password"": value => $service_instance_password, secret => true;"," ""${name}/service_instance_password"": value => $service_instance_password;",1,1
openstack%2Fopenstack-ansible-galera_client~master~I50b1cde1a82a855d54c54b43f8d141df9583205c,openstack/openstack-ansible-galera_client,master,I50b1cde1a82a855d54c54b43f8d141df9583205c,Install mariadb-client for mysqldump command,MERGED,2019-11-21 11:02:28.000000000,2019-12-02 14:09:48.000000000,2019-12-02 14:07:20.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-21 11:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/3c7c34c3aca16ad5f06c4a119ceb2accd89fed21', 'message': ""Install mariadb-client for mysqldump command\n\nWhen using the nova to placement db migration script, debian users will have\nissues using the mysqldump command as the mariadb-client-core package doesn't\ninclude this command. The packages installed for the other distros do install\nmysqldump alongside more tooling, this would bring debian to feature parity.\n\ndb migration script:\nhttps://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh\n\nWhat we currently have:\nhttps://packages.ubuntu.com/disco/amd64/mariadb-client-core-10.3/filelist\nWhat we could have:\nhttps://packages.ubuntu.com/disco/amd64/mariadb-client-10.3/filelist\nExample of what an other distro gets:\nsee line 543, # mariadb-client.files\nhttps://build.opensuse.org/package/view_file/server:database/mariadb/mariadb.spec\n\nDepends-On: https://review.opendev.org/#/c/695238/\nChange-Id: I50b1cde1a82a855d54c54b43f8d141df9583205c\n""}, {'number': 2, 'created': '2019-11-26 13:12:04.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/b89d5a94fe8f5b7002415438863efff705b31aa8', 'message': ""Install mariadb-client for mysqldump command\n\nWhen using the nova to placement db migration script, debian users will have\nissues using the mysqldump command as the mariadb-client-core package doesn't\ninclude this command. The packages installed for the other distros do install\nmysqldump alongside more tooling, this would bring debian to feature parity.\n\ndb migration script:\nhttps://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh\n\nWhat we currently have:\nhttps://packages.ubuntu.com/disco/amd64/mariadb-client-core-10.3/filelist\nWhat we could have:\nhttps://packages.ubuntu.com/disco/amd64/mariadb-client-10.3/filelist\nExample of what an other distro gets:\nsee line 543, # mariadb-client.files\nhttps://build.opensuse.org/package/view_file/server:database/mariadb/mariadb.spec\n\nDepends-On: https://review.opendev.org/#/c/695238/\nChange-Id: I50b1cde1a82a855d54c54b43f8d141df9583205c\n""}]",1,695396,b89d5a94fe8f5b7002415438863efff705b31aa8,19,4,2,29865,,,0,"Install mariadb-client for mysqldump command

When using the nova to placement db migration script, debian users will have
issues using the mysqldump command as the mariadb-client-core package doesn't
include this command. The packages installed for the other distros do install
mysqldump alongside more tooling, this would bring debian to feature parity.

db migration script:
https://opendev.org/openstack/placement/raw/branch/master/placement_db_tools/mysql-migrate-db.sh

What we currently have:
https://packages.ubuntu.com/disco/amd64/mariadb-client-core-10.3/filelist
What we could have:
https://packages.ubuntu.com/disco/amd64/mariadb-client-10.3/filelist
Example of what an other distro gets:
see line 543, # mariadb-client.files
https://build.opensuse.org/package/view_file/server:database/mariadb/mariadb.spec

Depends-On: https://review.opendev.org/#/c/695238/
Change-Id: I50b1cde1a82a855d54c54b43f8d141df9583205c
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/96/695396/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,3c7c34c3aca16ad5f06c4a119ceb2accd89fed21,osa-train, - mariadb-client," - ""mariadb-client-core-{{ galera_client_major_version }}""",1,1
openstack%2Fnova~master~Ia64558d3b3248f3c7a31bee65fe4c33fb94e1f3f,openstack/nova,master,Ia64558d3b3248f3c7a31bee65fe4c33fb94e1f3f,Remove rootwrap filters for nova network,ABANDONED,2019-12-02 09:59:06.000000000,2019-12-02 14:04:13.000000000,,"[{'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-02 09:59:06.000000000', 'files': ['etc/nova/rootwrap.d/network.filters'], 'web_link': 'https://opendev.org/openstack/nova/commit/550bed06a0b1564db7935dd080c7b3c1ba222488', 'message': 'Remove rootwrap filters for nova network\n\nPart of bp/remove-nova-network-ussuri\n\nChange-Id: Ia64558d3b3248f3c7a31bee65fe4c33fb94e1f3f\n'}]",0,696844,550bed06a0b1564db7935dd080c7b3c1ba222488,8,6,1,6593,,,0,"Remove rootwrap filters for nova network

Part of bp/remove-nova-network-ussuri

Change-Id: Ia64558d3b3248f3c7a31bee65fe4c33fb94e1f3f
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/696844/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/rootwrap.d/network.filters'],1,550bed06a0b1564db7935dd080c7b3c1ba222488,bp/remove-nova-network-ussuri,,"# nova-rootwrap command filters for network nodes # This file should be owned by (and only-writeable by) the root user [Filters] # nova/virt/libvirt/vif.py: 'ip', 'tuntap', 'add', dev, 'mode', 'tap' # nova/virt/libvirt/vif.py: 'ip', 'link', 'set', dev, 'up' # nova/virt/libvirt/vif.py: 'ip', 'link', 'delete', dev # nova/network/linux_net.py: 'ip', 'addr', 'add', str(floating_ip)+'/32'i.. # nova/network/linux_net.py: 'ip', 'addr', 'del', str(floating_ip)+'/32'.. # nova/network/linux_net.py: 'ip', 'addr', 'add', '169.254.169.254/32',.. # nova/network/linux_net.py: 'ip', 'addr', 'show', 'dev', dev, 'scope',.. # nova/network/linux_net.py: 'ip', 'addr', 'del/add', ip_params, dev) # nova/network/linux_net.py: 'ip', 'addr', 'del', params, fields[-1] # nova/network/linux_net.py: 'ip', 'addr', 'add', params, bridge # nova/network/linux_net.py: 'ip', '-f', 'inet6', 'addr', 'change', .. # nova/network/linux_net.py: 'ip', 'link', 'set', 'dev', dev, 'promisc',.. # nova/network/linux_net.py: 'ip', 'link', 'add', 'link', bridge_if ... # nova/network/linux_net.py: 'ip', 'link', 'set', interface, address,.. # nova/network/linux_net.py: 'ip', 'link', 'set', interface, 'up' # nova/network/linux_net.py: 'ip', 'link', 'set', bridge, 'up' # nova/network/linux_net.py: 'ip', 'addr', 'show', 'dev', interface, .. # nova/network/linux_net.py: 'ip', 'link', 'set', dev, address, .. # nova/network/linux_net.py: 'ip', 'link', 'set', dev, 'up' # nova/network/linux_net.py: 'ip', 'route', 'add', .. # nova/network/linux_net.py: 'ip', 'route', 'del', . # nova/network/linux_net.py: 'ip', 'route', 'show', 'dev', dev ip: CommandFilter, ip, root # nova/virt/libvirt/vif.py: 'ovs-vsctl', ... # nova/virt/libvirt/vif.py: 'ovs-vsctl', 'del-port', ... # nova/network/linux_net.py: 'ovs-vsctl', .... ovs-vsctl: CommandFilter, ovs-vsctl, root # nova/network/linux_net.py: 'ovs-ofctl', .... ovs-ofctl: CommandFilter, ovs-ofctl, root # nova/virt/libvirt/vif.py: 'ivs-ctl', ... # nova/virt/libvirt/vif.py: 'ivs-ctl', 'del-port', ... # nova/network/linux_net.py: 'ivs-ctl', .... ivs-ctl: CommandFilter, ivs-ctl, root # nova/virt/libvirt/vif.py: 'ifc_ctl', ... ifc_ctl: CommandFilter, /opt/pg/bin/ifc_ctl, root # nova/network/linux_net.py: 'ebtables', '-D' ... # nova/network/linux_net.py: 'ebtables', '-I' ... ebtables: CommandFilter, ebtables, root ebtables_usr: CommandFilter, ebtables, root # nova/network/linux_net.py: 'ip[6]tables-save' % (cmd, '-t', ... iptables-save: CommandFilter, iptables-save, root ip6tables-save: CommandFilter, ip6tables-save, root # nova/network/linux_net.py: 'ip[6]tables-restore' % (cmd,) iptables-restore: CommandFilter, iptables-restore, root ip6tables-restore: CommandFilter, ip6tables-restore, root # nova/network/linux_net.py: 'arping', '-U', floating_ip, '-A', '-I', ... # nova/network/linux_net.py: 'arping', '-U', network_ref['dhcp_server'],.. arping: CommandFilter, arping, root # nova/network/linux_net.py: 'dhcp_release', dev, address, mac_address dhcp_release: CommandFilter, dhcp_release, root # nova/network/linux_net.py: 'kill', '-9', pid # nova/network/linux_net.py: 'kill', '-HUP', pid kill_dnsmasq: KillFilter, root, /usr/sbin/dnsmasq, -9, -HUP # nova/network/linux_net.py: 'kill', pid kill_radvd: KillFilter, root, /usr/sbin/radvd # nova/network/linux_net.py: dnsmasq call dnsmasq: EnvFilter, env, root, CONFIG_FILE=, NETWORK_ID=, dnsmasq # nova/network/linux_net.py: 'radvd', '-C', '%s' % _ra_file(dev, 'conf'.. radvd: CommandFilter, radvd, root # nova/network/linux_net.py: 'brctl', 'addbr', bridge # nova/network/linux_net.py: 'brctl', 'setfd', bridge, 0 # nova/network/linux_net.py: 'brctl', 'stp', bridge, 'off' # nova/network/linux_net.py: 'brctl', 'addif', bridge, interface brctl: CommandFilter, brctl, root # nova/network/linux_net.py: 'sysctl', .... sysctl: CommandFilter, sysctl, root # nova/network/linux_net.py: 'conntrack' conntrack: CommandFilter, conntrack, root # nova/network/linux_net.py: 'fp-vdev' fp-vdev: CommandFilter, fp-vdev, root ",0,91
openstack%2Fironic-lib~master~I13f2ba79c5f1df55e5926f00046a647f09bfbe4b,openstack/ironic-lib,master,I13f2ba79c5f1df55e5926f00046a647f09bfbe4b,Updating testing doc to py3,MERGED,2019-11-28 15:14:45.000000000,2019-12-02 13:59:40.000000000,2019-12-02 13:58:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-28 15:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/b928fc77ed17f3603fa30c99ef76033f1242bc17', 'message': 'Updating testing doc to py3\n\nChange-Id: I13f2ba79c5f1df55e5926f00046a647f09bfbe4b\n'}, {'number': 2, 'created': '2019-11-29 08:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ece77d5f8b0ad109b10b782dd69237efc54e284a', 'message': 'Updating testing doc to py3\n\nChange-Id: I13f2ba79c5f1df55e5926f00046a647f09bfbe4b\n'}, {'number': 3, 'created': '2019-11-29 08:54:33.000000000', 'files': ['TESTING.rst'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/3b13e5d585fc3a5ab71fd706382d48845f7aba08', 'message': 'Updating testing doc to py3\n\nAlso adding some more useful info on tox and link to its\nofficial docs.\n\nChange-Id: I13f2ba79c5f1df55e5926f00046a647f09bfbe4b\n'}]",2,696593,3b13e5d585fc3a5ab71fd706382d48845f7aba08,12,4,3,23851,,,0,"Updating testing doc to py3

Also adding some more useful info on tox and link to its
official docs.

Change-Id: I13f2ba79c5f1df55e5926f00046a647f09bfbe4b
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/93/696593/2 && git format-patch -1 --stdout FETCH_HEAD,['TESTING.rst'],1,b928fc77ed17f3603fa30c99ef76033f1242bc17,testing-py36,"so for example, *run the test suite in py36*:: $ tox -e py36 $ tox -e py36 -- nova.tests.test_claims:ClaimTestCase.test_cpu_unlimited $ tox -e py36 -- --tests glance.tests.unit.test_auth.py:TestImageRepoProxy.test_list","so for example, *run the test suite in py26*:: $ tox -e py26 $ tox -e py27 -- nova.tests.test_claims:ClaimTestCase.test_cpu_unlimited $ tox -e py27 -- --tests glance.tests.unit.test_auth.py:TestImageRepoProxy.test_list",4,4
openstack%2Fopenstack-helm~master~I3ab96c54f1c95d7be62d6f570bd88243b2501a6a,openstack/openstack-helm,master,I3ab96c54f1c95d7be62d6f570bd88243b2501a6a,WIP/DNM: Update multinode job,ABANDONED,2019-10-18 14:20:42.000000000,2019-12-02 13:50:41.000000000,,"[{'_account_id': 290}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 14:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/635fc93269f30be0500ea6026617baa7d43ab821', 'message': 'WIP/DNM: Update multinode job\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-18 15:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/287d14417ccbf7b98763a833e0e6a53954b31a1d', 'message': 'WIP/DNM: Update multinode job\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-10-18 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cfe5ce50839e4192a41fedd8da39ea26c7ed3762', 'message': 'WIP/DNM: Update multinode job\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-10-19 16:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/41825cebe8ea7d65b16b02556dce29a706acc0d0', 'message': 'WIP/DNM: Update multinode job\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-10-21 14:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/607b5658574ba1955da5f525b94096ce534fa87f', 'message': 'WIP/DNM: Update multinode job\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-10-22 13:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a9537bb297a5568afbdfe90f2d93a607f5532e9', 'message': 'WIP/DNM: Update multinode job\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-10-22 15:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ce307cb3096d685643b6a70760aa474a6600c15', 'message': 'WIP/DNM: Update multinode job\n\nDepends-On: https://review.opendev.org/#/c/690107/\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 8, 'created': '2019-10-22 18:05:01.000000000', 'files': ['tools/deployment/multinode/180-mistral.sh', 'tools/deployment/multinode/100-glance.sh', 'tools/deployment/multinode/150-heat.sh', 'tools/deployment/multinode/140-compute-kit.sh', 'tools/deployment/multinode/080-keystone.sh', 'tools/deployment/multinode/085-horizon.sh', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/multinode/160-barbican.sh', 'tools/deployment/multinode/170-senlin.sh', 'tools/deployment/multinode/110-cinder.sh', 'tools/gate/playbooks/multinode-deploy.yaml', 'zuul.d/project.yaml', 'tools/deployment/multinode/190-magnum.sh', 'tools/deployment/multinode/200-congress.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/457c2d1c34e6da2994d8a418eab4c0331e142487', 'message': 'WIP/DNM: Update multinode job\n\nDepends-On: https://review.opendev.org/#/c/690107/\n\nChange-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",5,689477,457c2d1c34e6da2994d8a418eab4c0331e142487,36,3,8,17591,,,0,"WIP/DNM: Update multinode job

Depends-On: https://review.opendev.org/#/c/690107/

Change-Id: I3ab96c54f1c95d7be62d6f570bd88243b2501a6a
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/689477/8 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/180-mistral.sh', 'tools/deployment/multinode/100-glance.sh', 'tools/deployment/multinode/150-heat.sh', 'tools/deployment/multinode/140-compute-kit.sh', 'tools/deployment/multinode/080-keystone.sh', 'tools/deployment/multinode/085-horizon.sh', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/multinode/160-barbican.sh', 'tools/deployment/multinode/170-senlin.sh', 'tools/deployment/multinode/110-cinder.sh', 'tools/gate/playbooks/multinode-deploy.yaml', 'zuul.d/project.yaml', 'tools/deployment/multinode/190-magnum.sh', 'tools/deployment/multinode/200-congress.sh']",14,635fc93269f30be0500ea6026617baa7d43ab821,update-multinode-job,"#NOTE: Get the over-rides to use : ${OSH_EXTRA_HELM_ARGS_CONGRESS:=""$(./tools/deployment/common/get-values-overrides.sh congress)""} ",,97,339
openstack%2Fopenstack-helm-infra~master~Id16f06811dbcd96d052c77bbb2aacea4006202ba,openstack/openstack-helm-infra,master,Id16f06811dbcd96d052c77bbb2aacea4006202ba,WIP: Kubeadm: Set kube-dns as dns addon,ABANDONED,2019-10-22 15:25:50.000000000,2019-12-02 13:50:28.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 15:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6c976762505428dba30d3e80b02840b38005be4', 'message': 'WIP: Kubeadm: Set kube-dns as dns addon\n\nThis configures kubeadm to use kube-dns as the dns addon for\nkubeadm based deployments, as the default has been coredns since\nkubernetes 1.11\n\nChange-Id: Id16f06811dbcd96d052c77bbb2aacea4006202ba\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-22 18:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d99c4cea730eaab43bdab640f32f9ed0e8816fab', 'message': 'WIP: Kubeadm: Set kube-dns as dns addon\n\nThis configures kubeadm to use kube-dns as the dns addon for\nkubeadm based deployments, as the default has been coredns since\nkubernetes 1.11\n\nChange-Id: Id16f06811dbcd96d052c77bbb2aacea4006202ba\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-10-22 18:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3be324fe75b67798322c1d9fbc3e6ae98f9dcbbe', 'message': 'WIP: Kubeadm: Set kube-dns as dns addon\n\nThis configures kubeadm to use kube-dns as the dns addon for\nkubeadm based deployments, as the default has been coredns since\nkubernetes 1.11\n\nChange-Id: Id16f06811dbcd96d052c77bbb2aacea4006202ba\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-10-22 20:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8afdb928b037f2a77b19e34ba0a47ade3e53cfa0', 'message': 'WIP: Kubeadm: Set kube-dns as dns addon\n\nThis configures kubeadm to use kube-dns as the dns addon for\nkubeadm based deployments, as the default has been coredns since\nkubernetes 1.11\n\nChange-Id: Id16f06811dbcd96d052c77bbb2aacea4006202ba\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-10-23 14:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53045f48ae8b0ba4cae6e16a1ec3b6e352293fed', 'message': 'WIP: Kubeadm: Set kube-dns as dns addon\n\nThis configures kubeadm to use kube-dns as the dns addon for\nkubeadm based deployments, as the default has been coredns since\nkubernetes 1.11\n\nChange-Id: Id16f06811dbcd96d052c77bbb2aacea4006202ba\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-10-23 16:17:37.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/kubeadm-conf.yaml.j2', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubelet/templates/10-kubeadm.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e9e7a0fe1872bfcebe7ab78314a5c56d5ed7277', 'message': 'WIP: Kubeadm: Set kube-dns as dns addon\n\nThis configures kubeadm to use kube-dns as the dns addon for\nkubeadm based deployments, as the default has been coredns since\nkubernetes 1.11\n\nChange-Id: Id16f06811dbcd96d052c77bbb2aacea4006202ba\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,690107,1e9e7a0fe1872bfcebe7ab78314a5c56d5ed7277,15,2,6,17591,,,0,"WIP: Kubeadm: Set kube-dns as dns addon

This configures kubeadm to use kube-dns as the dns addon for
kubeadm based deployments, as the default has been coredns since
kubernetes 1.11

Change-Id: Id16f06811dbcd96d052c77bbb2aacea4006202ba
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/690107/5 && git format-patch -1 --stdout FETCH_HEAD,['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/templates/kubeadm-conf.yaml.j2'],1,b6c976762505428dba30d3e80b02840b38005be4,kubeadm-dns,dns: type: kube-dns,,2,0
openstack%2Fopenstack-helm-infra~master~I4038ecbed6fb478594d00c3659b0c00936c7c73f,openstack/openstack-helm-infra,master,I4038ecbed6fb478594d00c3659b0c00936c7c73f,Grafana: Update OpenStack control plane and service dashboards,ABANDONED,2019-07-09 18:23:28.000000000,2019-12-02 13:50:11.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 18:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98bfde021fa5d7d40636ec9a3f40fab53f5bda42', 'message': 'Grafana: Update OpenStack control plane and service dashboards\n\nThis updates the OpenStack Control Plane and its drill down\ndashboards to use the updated metric names for the nginx metrics\navailable with the version deployed by default.  This also updates\nthe dashboards to support multiple regions and multiple namespaced\ndeployments, which addresses problems that arose when deploying\nmultiple instances of an openstack service in different namespaces\n\nWithout this change, multiple openstack service deployments will\ncause metric query collisions and it results in broken dashboard\npanels for those openstack services\n\nChange-Id: I4038ecbed6fb478594d00c3659b0c00936c7c73f\n'}, {'number': 2, 'created': '2019-11-11 07:43:45.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2afa3f6f7fc003c0d8eda2bc75c0516910217a2', 'message': 'Grafana: Update OpenStack control plane and service dashboards\n\nThis updates the OpenStack Control Plane and its drill down\ndashboards to use the updated metric names for the nginx metrics\navailable with the version deployed by default.  This also updates\nthe dashboards to support multiple regions and multiple namespaced\ndeployments, which addresses problems that arose when deploying\nmultiple instances of an openstack service in different namespaces\n\nWithout this change, multiple openstack service deployments will\ncause metric query collisions and it results in broken dashboard\npanels for those openstack services\n\nChange-Id: I4038ecbed6fb478594d00c3659b0c00936c7c73f\n'}]",0,669925,a2afa3f6f7fc003c0d8eda2bc75c0516910217a2,6,2,2,17591,,,0,"Grafana: Update OpenStack control plane and service dashboards

This updates the OpenStack Control Plane and its drill down
dashboards to use the updated metric names for the nginx metrics
available with the version deployed by default.  This also updates
the dashboards to support multiple regions and multiple namespaced
deployments, which addresses problems that arose when deploying
multiple instances of an openstack service in different namespaces

Without this change, multiple openstack service deployments will
cause metric query collisions and it results in broken dashboard
panels for those openstack services

Change-Id: I4038ecbed6fb478594d00c3659b0c00936c7c73f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/669925/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,98bfde021fa5d7d40636ec9a3f40fab53f5bda42,openstack-dashboard-fix," expr: openstack_check_keystone_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_check_glance_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_check_heat_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_check_neutron_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_check_nova_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_check_swift_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_check_cinder_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_check_placement_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: min(rabbitmq_up{job=""rabbitmq-exporter"", kubernetes_namespace=""$namespace""}) expr: min(mysql_global_status_wsrep_ready{job=""mysql-exporter"", kubernetes_namespace=""$namespace""}) expr: sum_over_time(nginx_ingress_controller_nginx_process_connections_total{state=""active"", kubernetes_namespace=""$namespace""}[5m]) expr: min(memcached_up{job=""memcached-exporter"", kubernetes_namespace=""$namespace""}) expr: openstack_total_used_vcpus{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} + openstack_total_free_vcpus{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_total_used_vcpus{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_total_used_ram_MB{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} + openstack_total_free_ram_MB{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_total_used_ram_MB{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_total_used_disk_GB{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} + openstack_total_free_disk_GB{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: openstack_total_used_disk_GB{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: sum(openstack_running_instances{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""}) expr: sum(openstack_total_running_instances{job=""openstack-metrics"", kubernetes_namespace=""$namespace""}) - allValue: current: {} datasource: prometheus hide: 0 includeAll: false label: multi: false name: namespace options: [] query: label_values(openstack_exporter_cache_refresh_duration_seconds, kubernetes_namespace) refresh: 1 regex: '' sort: 0 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false expr: openstack_check_[[Service]]_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} expr: sum(nginx_ingress_controller_response_size_count{host=~""[[Service]].$namespace.svc.cluster.local"", status=~""5..""}) - expr: avg(nginx_ingress_controller_response_duration_seconds_sum{host=~""[[Service]].$namespace.svc.cluster.local"", kubernetes_namespace=""$namespace""}) expr: openstack_check_[[Service]]_api{job=""openstack-metrics"", region=""$region"", kubernetes_namespace=""$namespace""} - expr: sum(nginx_ingress_controller_response_size_count{service=~""[[Service]].*"", kubernetes_namespace=""$namespace""}) by (status) - allValue: current: {} datasource: prometheus hide: 0 includeAll: false label: multi: false name: namespace options: [] query: label_values(openstack_exporter_cache_refresh_duration_seconds, kubernetes_namespace) refresh: 1 regex: '' sort: 0 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false - allValue: current: {} datasource: prometheus hide: 0 includeAll: false label: multi: false name: region options: [] query: label_values(openstack_exporter_cache_refresh_duration_seconds, region) refresh: 1 regex: '' sort: 0 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false"," expr: openstack_check_keystone_api{job=""openstack-metrics"", region=""$region""} expr: openstack_check_glance_api{job=""openstack-metrics"", region=""$region""} expr: openstack_check_heat_api{job=""openstack-metrics"", region=""$region""} expr: openstack_check_neutron_api{job=""openstack-metrics"", region=""$region""} expr: openstack_check_nova_api{job=""openstack-metrics"", region=""$region""} expr: openstack_check_swift_api{job=""openstack-metrics"", region=""$region""} expr: openstack_check_cinder_api{job=""openstack-metrics"", region=""$region""} expr: openstack_check_placement_api{job=""openstack-metrics"", region=""$region""} expr: min(rabbitmq_up) expr: min(mysql_global_status_wsrep_ready) expr: sum_over_time(nginx_connections_total{type=""active"", namespace=""openstack""}[5m]) expr: min(memcached_up) expr: openstack_total_used_vcpus{job=""openstack-metrics"", region=""$region""} + openstack_total_free_vcpus{job=""openstack-metrics"", region=""$region""} expr: openstack_total_used_vcpus{job=""openstack-metrics"", region=""$region""} expr: openstack_total_used_ram_MB{job=""openstack-metrics"", region=""$region""} + openstack_total_free_ram_MB{job=""openstack-metrics"", region=""$region""} expr: openstack_total_used_ram_MB{job=""openstack-metrics"", region=""$region""} expr: openstack_total_used_disk_GB{job=""openstack-metrics"", region=""$region""} + openstack_total_free_disk_GB{job=""openstack-metrics"", region=""$region""} expr: openstack_total_used_disk_GB{job=""openstack-metrics"", region=""$region""} expr: sum(openstack_running_instances) expr: sum(openstack_total_running_instances) expr: openstack_check_[[Service]]_api{job=""openstack-metrics""} expr: sum(nginx_responses_total{server_zone=~""[[Service]].*"", status_code=""5xx""}) - expr: sum(nginx_upstream_response_msecs_avg{upstream=~""openstack-[[Service]].*""}) by (upstream) expr: openstack_check_[[Service]]_api - expr: sum(nginx_responses_total{server_zone=~""[[Service]].*""}) by (status_code)",82,29
openstack%2Fopenstack-helm-infra~master~If1b73af6b8d4989293bc4951efbcf7735366b60c,openstack/openstack-helm-infra,master,If1b73af6b8d4989293bc4951efbcf7735366b60c,Kibana: Add selenium helm tests,ABANDONED,2019-06-04 18:37:32.000000000,2019-12-02 13:49:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-06-04 18:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d878c44789090c29382697f6aa61114bdfd74f5', 'message': 'WIP Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-04 18:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ea8414e8976da99ee6d30f406f0694f51f3986c', 'message': 'WIP Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-04 18:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be23746babbce1abce917fa3c125f600858450b7', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-04 18:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b16aa054c7a8b2a21a479914a9a0a246b5b4e1c', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-06-04 19:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53aad91bf21df33612fc431ea2f7a6ef62567b84', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-06-04 19:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f31e1a398aa6342e9eda687c66a560c39ffb3da3', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-06-04 20:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97a6839727e694488a9489a26a80362aa3d6ae6c', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 8, 'created': '2019-06-05 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/575d0952b01a8b27e98c16a44d1dff8d171fe4f6', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 9, 'created': '2019-06-05 21:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea4686af7734483473d6c395bb2a7698a3b54eea', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 10, 'created': '2019-06-06 18:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e0685abcaea16cbca51986cb2574f6e61ab8441', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 11, 'created': '2019-06-06 20:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03e3e965915ce7fcf261b6004074686496795b51', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 12, 'created': '2019-06-19 04:44:18.000000000', 'files': ['tools/deployment/osh-infra-logging/075-kibana.sh', 'kibana/templates/bin/_selenium-tests.py.tpl', 'kibana/templates/configmap-bin.yaml', 'kibana/templates/pod-helm-tests.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56f138259c64856fc59ee31de52284f4260aabfc', 'message': 'Kibana: Add selenium helm tests\n\nThis adds selenium tests to the kibana chart via a helm test pod\nwith the goal of executing tests to determine whether the service\nis functional and accessible\n\nChange-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,663118,56f138259c64856fc59ee31de52284f4260aabfc,18,2,12,17591,,,0,"Kibana: Add selenium helm tests

This adds selenium tests to the kibana chart via a helm test pod
with the goal of executing tests to determine whether the service
is functional and accessible

Change-Id: If1b73af6b8d4989293bc4951efbcf7735366b60c
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/18/663118/2 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/templates/bin/_selenium-tests.py.tpl', 'kibana/templates/configmap-bin.yaml', 'kibana/templates/pod-helm-tests.yaml', 'kibana/values.yaml']",4,4d878c44789090c29382697f6aa61114bdfd74f5,kibana-helm-tests," tests: node_selector_key: openstack-control-plane node_selector_value: enabled selenium_tests: docker.io/openstackhelm/osh-selenium:latest-ubuntu_xenial tests: runAsUser: 0 readOnlyRootFilesystem: false tests: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" tests: services: - endpoint: internal service: kibana pod_helm_tests: true",,114,0
openstack%2Fopenstack-helm~master~I0f5b7ec49b242bd68d68e8b42ec441c1aa1f99ab,openstack/openstack-helm,master,I0f5b7ec49b242bd68d68e8b42ec441c1aa1f99ab,Target check/gate jobs based upon changes to specific charts,ABANDONED,2019-03-20 16:12:08.000000000,2019-12-02 13:49:47.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 16:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/638528b9447a7a9ffe476808179a3cc74730b8f7', 'message': 'WIP: Target check/gate jobs based upon changes to specific charts\n\nThis proposes updating the job definitions to only execute based\nupon changes to specific charts to help reduce the running of\nunnecessary jobs on unrelated chart changes\n\nChange-Id: I0f5b7ec49b242bd68d68e8b42ec441c1aa1f99ab\n'}, {'number': 2, 'created': '2019-03-20 16:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e0f3a9112b1a2822ef9c8bd18f7e566d06a51ecd', 'message': 'WIP: Target check/gate jobs based upon changes to specific charts\n\nThis proposes updating the job definitions to only execute based\nupon changes to specific charts to help reduce the running of\nunnecessary jobs on unrelated chart changes\n\nChange-Id: I0f5b7ec49b242bd68d68e8b42ec441c1aa1f99ab\n'}, {'number': 3, 'created': '2019-03-20 16:49:51.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4528e37cb39af1743ab1795cc21180147fd4eecc', 'message': 'Target check/gate jobs based upon changes to specific charts\n\nThis proposes updating the job definitions to only execute based\nupon changes to specific charts to help reduce the running of\nunnecessary jobs on unrelated chart changes\n\nChange-Id: I0f5b7ec49b242bd68d68e8b42ec441c1aa1f99ab\n'}]",0,644916,4528e37cb39af1743ab1795cc21180147fd4eecc,7,2,3,17591,,,0,"Target check/gate jobs based upon changes to specific charts

This proposes updating the job definitions to only execute based
upon changes to specific charts to help reduce the running of
unnecessary jobs on unrelated chart changes

Change-Id: I0f5b7ec49b242bd68d68e8b42ec441c1aa1f99ab
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/16/644916/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,638528b9447a7a9ffe476808179a3cc74730b8f7,targeted-job-runs, files: - ^keystone/.*$ files: - ^keystone/.*$ files: - ^keystone/.*$ - ^glance/.*$ files: - ^keystone/.*$ - ^heat/.*$ files: - ^keystone/.*$ - ^cinder/.*$ files: - ^keystone/.*$ - ^glance/.*$ - ^nova/.*$ - ^neutron/.*$,,18,0
openstack%2Fopenstack-helm-infra~master~Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc,openstack/openstack-helm-infra,master,Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc,WIP: Update to Elastic version 6.5.0,ABANDONED,2019-02-12 19:11:36.000000000,2019-12-02 13:49:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-12 19:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6190ec5062eb86097cb4e5b5f02f421aea5157d0', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}, {'number': 2, 'created': '2019-02-12 19:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c4dbb8e86741e337e8666731af6b8b371dc1cd9', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}, {'number': 3, 'created': '2019-02-12 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e2c196bafcbd83489edda392ad8e763cde96f5c', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}, {'number': 4, 'created': '2019-02-12 20:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/241babf34a9fc17137fad4d34fd562c5c2ca341e', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}, {'number': 5, 'created': '2019-02-13 14:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49da0c02923132c61eabe093a1a3bed2a2578300', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}, {'number': 6, 'created': '2019-02-13 14:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/786957a6c7b2aaea00ff35df6b139e519756d4b9', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}, {'number': 7, 'created': '2019-02-13 16:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54f2f6612ce5c2c3cca829a8a584f58f004daec1', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}, {'number': 8, 'created': '2019-02-13 18:10:05.000000000', 'files': ['elasticsearch/templates/bin/_elasticsearch.sh.tpl', 'elasticsearch/templates/configmap-etc.yaml', 'elasticsearch/templates/configmap-bin.yaml', 'elasticsearch/templates/deployment-master.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'kibana/values.yaml', 'elasticsearch/templates/bin/_register-repository.sh.tpl', 'fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e88e8b197aca1c26e88cce4981dbae41e7817b4d', 'message': 'WIP: Update to Elastic version 6.5.0\n\nChange-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc\n'}]",0,636423,e88e8b197aca1c26e88cce4981dbae41e7817b4d,13,1,8,17591,,,0,"WIP: Update to Elastic version 6.5.0

Change-Id: Iac93ac4a808db6ad7fe0cfb141b7b596d3c179dc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/636423/4 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/bin/_elasticsearch.sh.tpl', 'elasticsearch/templates/deployment-master.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'kibana/values.yaml']",6,6190ec5062eb86097cb4e5b5f02f421aea5157d0,update-elasticsearch-6, kibana: docker.elastic.co/kibana/kibana:6.5.0 xpack: security: enabled: false apm: enabled: false graph: enabled: false ml: enabled: false monitoring: enabled: false reporting: enabled: false canvas: enabled: false, kibana: docker.io/kibana:5.6.4,27,59
openstack%2Fopenstack-helm-infra~master~Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4,openstack/openstack-helm-infra,master,Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4,DNM: Test elastic query in post run job,ABANDONED,2018-12-11 16:20:56.000000000,2019-12-02 13:49:13.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-11 16:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/797335ea7183379e9104d3649da53e035a0c4ccc', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 2, 'created': '2018-12-11 17:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/50983042275cc5354bf2e6fc9c87604d573125db', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 3, 'created': '2018-12-11 18:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f69a4da172f4dcfe24496ffa0b3792ecdd44dafd', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 4, 'created': '2018-12-11 19:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ae12e8f0ed21bf7f4cef5a45db8dc8591bea41d', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 5, 'created': '2018-12-12 14:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5008f04a12827cf8f478cf3317918d278cb53d67', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 6, 'created': '2018-12-12 16:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2361f97e83f7b9f152f8a277b7408887a0e3930', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 7, 'created': '2018-12-12 18:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/240e7798fd24300db601a8d67e38c9388fbffe34', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 8, 'created': '2018-12-12 22:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47ce47763d1521031a4fae0109679ffef7091174', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 9, 'created': '2018-12-12 22:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81639554e18297369f96f5eb19b2c8d3ba3cd2a0', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 10, 'created': '2018-12-13 13:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04dd994a9c7feed435a43494251da7adb64ae4ac', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 11, 'created': '2018-12-13 18:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5d31130774de4085c85491ff54eaea78e236473e', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 12, 'created': '2019-01-16 22:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d757a39228daa3acccbe149a3863ab0304667db8', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 13, 'created': '2019-01-16 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86c4615e17612b568e7ef3c15c175b100c0f0cc3', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}, {'number': 14, 'created': '2019-04-18 14:21:09.000000000', 'files': ['roles/gather-host-logs/tasks/main.yaml', 'roles/gather-pod-logs/tasks/main.yaml', 'fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4050b5de9a80b59f1bf2a283702d6ae3994f1cf0', 'message': 'DNM: Test elastic query in post run job\n\nChange-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4\n'}]",0,624435,4050b5de9a80b59f1bf2a283702d6ae3994f1cf0,33,2,14,17591,,,0,"DNM: Test elastic query in post run job

Change-Id: Ic5d8af4a4fce5b2d52841d7e0f61b3d4d5bd28d4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/35/624435/14 && git format-patch -1 --stdout FETCH_HEAD,['roles/gather-pod-logs/tasks/main.yaml'],1,797335ea7183379e9104d3649da53e035a0c4ccc,gate/test-post," sudo docker run docker.io/srwilkers/elastic-query:5.x \ --query pods \ --uri http://admin:changeme@elasticsearch-logging.osh-infra.svc.cluster.local:80 \ --labels kubernetes.container_name.keyword:""${CONTAINER}"" kubernetes.namespace_name.keyword:""${NAMESPACE}"" \ > ""{{ logs_dir }}/pod-logs/${NAMESPACE}/${POD}/${CONTAINER}.txt"""," kubectl logs ${POD} -n ${NAMESPACE} -c ${CONTAINER} > ""{{ logs_dir }}/pod-logs/${NAMESPACE}/${POD}/${CONTAINER}.txt""",5,1
openstack%2Fironic-specs~master~I6910a1ba46e12c010a9810154ac299fbbdd4033e,openstack/ironic-specs,master,I6910a1ba46e12c010a9810154ac299fbbdd4033e,Ussuri project priorities,MERGED,2019-11-17 23:35:58.000000000,2019-12-02 13:43:41.000000000,2019-12-02 13:42:26.000000000,"[{'_account_id': 6618}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-17 23:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1139e2de795c234bc1b4c4f93b2b4badd3c9bdf2', 'message': 'Ussuri project priorities\n\nThis commit includes a summary of priorites for the Ironic\nproject during the Ussuri cycle.\n\nChange-Id: I6910a1ba46e12c010a9810154ac299fbbdd4033e\n'}, {'number': 2, 'created': '2019-11-18 00:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cdad8ef12dc51700c05520072548e682bf415fb7', 'message': 'Ussuri project priorities\n\nThis commit includes a summary of priorites for the Ironic\nproject during the Ussuri cycle.\n\nChange-Id: I6910a1ba46e12c010a9810154ac299fbbdd4033e\n'}, {'number': 3, 'created': '2019-11-18 19:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8aa05ab679abbf635756a81a6124e738ff338df4', 'message': 'Ussuri project priorities\n\nThis commit includes a summary of priorites for the Ironic\nproject during the Ussuri cycle.\n\nChange-Id: I6910a1ba46e12c010a9810154ac299fbbdd4033e\n'}, {'number': 4, 'created': '2019-11-19 23:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4af2d872e978df24d41041a7fa4f1cc50e4a3aef', 'message': 'Ussuri project priorities\n\nThis commit includes a summary of priorites for the Ironic\nproject during the Ussuri cycle.\n\nChange-Id: I6910a1ba46e12c010a9810154ac299fbbdd4033e\n'}, {'number': 5, 'created': '2019-11-22 12:22:17.000000000', 'files': ['priorities/ussuri-priorities.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5cbeb16785e67fafb62bb118ffdc28827a4815d9', 'message': 'Ussuri project priorities\n\nThis commit includes a summary of priorites for the Ironic\nproject during the Ussuri cycle.\n\nChange-Id: I6910a1ba46e12c010a9810154ac299fbbdd4033e\n'}]",55,694704,5cbeb16785e67fafb62bb118ffdc28827a4815d9,46,11,5,11655,,,0,"Ussuri project priorities

This commit includes a summary of priorites for the Ironic
project during the Ussuri cycle.

Change-Id: I6910a1ba46e12c010a9810154ac299fbbdd4033e
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/04/694704/5 && git format-patch -1 --stdout FETCH_HEAD,"['priorities/ussuri-priorities.rst', 'doc/source/index.rst']",2,1139e2de795c234bc1b4c4f93b2b4badd3c9bdf2,, priorities/ussuri-priorities,,145,0
openstack%2Fopenstack-zuul-jobs~master~I8431f5e5d03bbc9cc09a04cf2c5c45dd4b6b95a1,openstack/openstack-zuul-jobs,master,I8431f5e5d03bbc9cc09a04cf2c5c45dd4b6b95a1,Remove ovsdbapp job,ABANDONED,2018-09-20 14:56:55.000000000,2019-12-02 13:34:02.000000000,,"[{'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-20 14:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c7547248195d4db606e6104a6792e863fce8cb27', 'message': 'Remove ovsdbapp job\n\nThe job is being moved to the ovsdbapp repository.\n\nDepends-On: I2e34bd16ab9907bdc3f9225b879f9b0846d2c779\nChange-Id: I8431f5e5d03bbc9cc09a04cf2c5c45dd4b6b95a1\n'}, {'number': 2, 'created': '2018-09-21 10:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/40c2b675c5a720518342b990c3c4492cbe4673ab', 'message': 'Remove ovsdbapp job\n\nThe job is being moved to the ovsdbapp repository.\n\nDepends-On: I27a5ac5dd43418934c7c06dc766c1f1eb63fa037\nChange-Id: I8431f5e5d03bbc9cc09a04cf2c5c45dd4b6b95a1\n'}, {'number': 3, 'created': '2018-10-19 09:08:12.000000000', 'files': ['playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d43e795368cacbce44b40c60ea4f6a55f5945081', 'message': 'Remove ovsdbapp job\n\nThe job is being moved to the ovsdbapp repository.\n\nChange-Id: I8431f5e5d03bbc9cc09a04cf2c5c45dd4b6b95a1\n'}]",0,604114,d43e795368cacbce44b40c60ea4f6a55f5945081,13,4,3,6773,,,0,"Remove ovsdbapp job

The job is being moved to the ovsdbapp repository.

Change-Id: I8431f5e5d03bbc9cc09a04cf2c5c45dd4b6b95a1
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/14/604114/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src/run.yaml']",3,c7547248195d4db606e6104a6792e863fce8cb27,remove-ovsdbapp,,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src from old job gate-tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin networking-ovn git://git.openstack.org/openstack/networking-ovn LIBS_FROM_GIT=""ovsdbapp"" EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TEMPEST=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi # Because we are testing a non standard project, add # our project repository. This makes zuul do the right # reference magic for testing changes. export PROJECTS=""openstack/networking-ovn $PROJECTS"" export PROJECTS=""openstack/ovsdbapp $PROJECTS"" # Keep localrc to be able to set some vars in pre_test_hook export KEEP_LOCALRC=1 function pre_test_hook { if [ -f $BASE/new/networking-ovn/devstack/pre_test_hook.sh ] ; then . $BASE/new/networking-ovn/devstack/pre_test_hook.sh fi } export -f pre_test_hook function post_test_hook { if [ -f $BASE/new/networking-ovn/devstack/post_test_hook.sh ] ; then . $BASE/new/networking-ovn/devstack/post_test_hook.sh fi } export -f post_test_hook export DEVSTACK_GATE_SETTINGS=""/opt/stack/new/networking-ovn/devstack/devstackgaterc latest-release"" cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,108
openstack%2Foslotest~master~I48650e5a808bf25e169acbe176d92f31d870e649,openstack/oslotest,master,I48650e5a808bf25e169acbe176d92f31d870e649,Switch to Ussuri jobs,MERGED,2019-10-25 06:24:55.000000000,2019-12-02 13:27:23.000000000,2019-12-02 13:23:16.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-25 06:24:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/ed19115476eac54cf25d4d76e51b1f3dc69fd046', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I48650e5a808bf25e169acbe176d92f31d870e649\n'}]",0,691203,ed19115476eac54cf25d4d76e51b1f3dc69fd046,8,3,1,30384,,,0,"Switch to Ussuri jobs

Change-Id: I48650e5a808bf25e169acbe176d92f31d870e649
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/03/691203/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ed19115476eac54cf25d4d76e51b1f3dc69fd046,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foslo.cache~master~I2c57445abe64fad2c2457862c0574e43e609802d,openstack/oslo.cache,master,I2c57445abe64fad2c2457862c0574e43e609802d,Imported Translations from Zanata,MERGED,2019-11-15 09:37:25.000000000,2019-12-02 13:19:43.000000000,2019-12-02 13:17:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 09:37:25.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/4bbd08cc09b8b1049991c37d5ddcdb83b582431e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2c57445abe64fad2c2457862c0574e43e609802d\n'}]",0,694491,4bbd08cc09b8b1049991c37d5ddcdb83b582431e,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2c57445abe64fad2c2457862c0574e43e609802d
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/91/694491/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,4bbd08cc09b8b1049991c37d5ddcdb83b582431e,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-11-06 04:11+0000\n""""PO-Revision-Date: 2019-11-14 11:24+0000\n""msgid ""1.30.2"" msgstr ""1.30.2"" msgid ""1.30.4"" msgstr ""1.30.4"" msgid ""1.31.1"" msgstr ""1.31.1"" msgid ""1.33.3"" msgstr ""1.33.3"" msgid ""1.34.0"" msgstr ""1.34.0"" msgid ""1.37.0"" msgstr ""1.37.0"" msgid ""@param flush_on_reconnect: optional flag which prevents a"" msgstr ""@param flush_on_reconnect: optional flag which prevents a"" msgid ""Bug Fixes"" msgstr ""Bug Fixes"" msgid ""See the help from python-memcached:"" msgstr ""See the help from python-memcached:"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid """" ""The default value for ``memcache_socket_timeout`` has been lowered from 3 "" ""seconds to 1 second. The positive side-effect of this can be found in "" ""downstream `changes <https://github.com/crowbar/crowbar-openstack/"" ""pull/1429>`_. If you deployment relies explicitly on a timeout of 3 seconds, "" ""please set that override in your configuration."" msgstr """" ""The default value for ``memcache_socket_timeout`` has been lowered from 3 "" ""seconds to 1 second. The positive side-effect of this can be found in "" ""downstream `changes <https://github.com/crowbar/crowbar-openstack/"" ""pull/1429>`_. If you deployment relies explicitly on a timeout of 3 seconds, "" ""please set that override in your configuration."" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" msgid ""Upgrade Notes"" msgstr ""Upgrade Notes"" msgid """" ""[`bug 1743036 <https://bugs.launchpad.net/oslo.cache+bug/1743036>`_] The "" ""`backend_argument` value(s) for `url` when configuring memcache did not "" ""properly handle multiple servers. This is because the URL was passed as a "" ""string (comma delimited) instead of a list to the memcache library/client. "" ""The `url` argument is now special cased and will split the string on a comma "" ""so that it mirrors the behavior of the ListOpt used by `memcache_servers` "" ""option."" msgstr """" ""[`bug 1743036 <https://bugs.launchpad.net/oslo.cache+bug/1743036>`_] The "" ""`backend_argument` value(s) for `url` when configuring memcache did not "" ""properly handle multiple servers. This is because the URL was passed as a "" ""string (comma delimited) instead of a list to the memcache library/client. "" ""The `url` argument is now special cased and will split the string on a comma "" ""so that it mirrors the behaviour of the ListOpt used by `memcache_servers` "" ""option."" msgid """" ""[`bug 1819957 <https://bugs.launchpad.net/keystone/+bug/1819957>`_] If a "" ""memcache server disappears and then reconnects when multiple memcache "" ""servers are used (specific to the python-memcached based backends) it is "" ""possible that the server will contain stale data. The default is now to "" ""supply the ``flush_on_reconnect`` optional argument to the backend. This "" ""means that when the service connects to a memcache server, it will flush all "" ""cached data in the server. This change only impacts the pooled backend as it "" ""is the most likely (with heavy use of greenlet) to be impacted by the "" ""problem and is the recommended production configuration."" msgstr """" ""[`bug 1819957 <https://bugs.launchpad.net/keystone/+bug/1819957>`_] If a "" ""memcache server disappears and then reconnects when multiple memcache "" ""servers are used (specific to the python-memcached based backends) it is "" ""possible that the server will contain stale data. The default is now to "" ""supply the ``flush_on_reconnect`` optional argument to the backend. This "" ""means that when the service connects to a memcache server, it will flush all "" ""cached data in the server. This change only impacts the pooled backend as it "" ""is the most likely (with heavy use of greenlet) to be impacted by the "" ""problem and is the recommended production configuration."" msgid """" ""scenario that can cause stale data to be read: If there's more than one "" ""memcached server and the connection to one is interrupted, keys that mapped "" ""to that server will get reassigned to another. If the first server comes "" ""back, those keys will map to it again. If it still has its data, get()s can "" ""read stale data that was overwritten on another server. This flag is off by "" ""default for backwards compatibility."" msgstr """" ""scenario that can cause stale data to be read: If there's more than one "" ""memcached server and the connection to one is interrupted, keys that mapped "" ""to that server will get reassigned to another. If the first server comes "" ""back, those keys will map to it again. If it still has its data, get()s can "" ""read stale data that was overwritten on another server. This flag is off by "" ""default for backwards compatibility.""","""POT-Creation-Date: 2018-08-27 12:02+0000\n""""PO-Revision-Date: 2018-09-16 09:02+0000\n""",105,2
openstack%2Fkuryr-kubernetes~master~I48a665b089bf2d09eec9909e300a64f6e15cbdfe,openstack/kuryr-kubernetes,master,I48a665b089bf2d09eec9909e300a64f6e15cbdfe,Reap zombie child processes in CNI daemon service,MERGED,2019-11-27 07:41:40.000000000,2019-12-02 13:19:40.000000000,2019-12-02 13:17:47.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 28082}]","[{'number': 1, 'created': '2019-11-27 07:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e85aea3bb7da8d9c3a704420cbd3c60ee4ed516e', 'message': 'Reap zombie child processes in CNI daemon service\n\nkuryr-daemon does not handle reaping of zombie child processes which are\nnot started by itself. But being PID 1 inside the docker container, it\nis expected to execute waitpid() for all its children.\n\nThis change runs a thread that waits for any killed child processes,\neffectively reaping any zombie processes. This fixes the problem of\nzombie process accumulation on long running deployments.\n\nChange-Id: I48a665b089bf2d09eec9909e300a64f6e15cbdfe\nResolves-Bug: #1854134\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 2, 'created': '2019-11-28 02:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/81d7ffbb07239806aa8ec2d26e4a813ee2a519b1', 'message': 'Reap zombie child processes in CNI daemon service\n\nkuryr-daemon does not handle reaping of zombie child processes which are\nnot started by itself. But being PID 1 inside the docker container, it\nis expected to execute waitpid() for all its children.\n\nThis change runs a thread that waits for any killed child processes,\neffectively reaping any zombie processes. This fixes the problem of\nzombie process accumulation on long running deployments.\n\nChange-Id: I48a665b089bf2d09eec9909e300a64f6e15cbdfe\nCloses-Bug: 1854134\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}, {'number': 3, 'created': '2019-11-29 01:55:53.000000000', 'files': ['kuryr_kubernetes/cni/daemon/service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/630217fbe72c62b259281a55db97e43343b84956', 'message': 'Reap zombie child processes in CNI daemon service\n\nkuryr-daemon does not handle reaping of zombie child processes which are\nnot started by itself. But being PID 1 inside the docker container, it\nis expected to execute waitpid() for all its children.\n\nThis change runs a thread that waits for any killed child processes,\neffectively reaping any zombie processes. This fixes the problem of\nzombie process accumulation on long running deployments.\n\nChange-Id: I48a665b089bf2d09eec9909e300a64f6e15cbdfe\nCloses-Bug: 1854134\nSigned-off-by: Yash Gupta <y.gupta@samsung.com>\n'}]",14,696240,630217fbe72c62b259281a55db97e43343b84956,17,6,3,28082,,,0,"Reap zombie child processes in CNI daemon service

kuryr-daemon does not handle reaping of zombie child processes which are
not started by itself. But being PID 1 inside the docker container, it
is expected to execute waitpid() for all its children.

This change runs a thread that waits for any killed child processes,
effectively reaping any zombie processes. This fixes the problem of
zombie process accumulation on long running deployments.

Change-Id: I48a665b089bf2d09eec9909e300a64f6e15cbdfe
Closes-Bug: 1854134
Signed-off-by: Yash Gupta <y.gupta@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/40/696240/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/daemon/service.py'],1,e85aea3bb7da8d9c3a704420cbd3c60ee4ed516e,bug/1854134," reaper_thread = threading.Thread(target=self._zombie_reaper, daemon=True) reaper_thread.start() def _zombie_reaper(self): while True: try: res = os.waitpid(-1, os.WNOHANG) # sleep for some time if no zombie process was found if res == (0, 0): time.sleep(1) except os.ChildProcessError: # There are no child processes yet (or they have been killed) time.sleep(1) except os.error: LOG.exception(""Got OS error while reaping zombie processes"") ",,16,0
openstack%2Foslo.upgradecheck~master~I6ad63c241f8f401e987c31f47e11e9216e281684,openstack/oslo.upgradecheck,master,I6ad63c241f8f401e987c31f47e11e9216e281684,Switch to Ussuri jobs,MERGED,2019-10-24 06:38:16.000000000,2019-12-02 13:19:05.000000000,2019-12-02 13:15:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:38:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/16961fb84ce9ffbd04fbb81adfa156522983a902', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I6ad63c241f8f401e987c31f47e11e9216e281684\n'}]",0,690852,16961fb84ce9ffbd04fbb81adfa156522983a902,9,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I6ad63c241f8f401e987c31f47e11e9216e281684
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/52/690852/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,16961fb84ce9ffbd04fbb81adfa156522983a902,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Frpm-packaging~master~I9a55e4410420fd3005a4cc5ada442c24eb4c8c77,openstack/rpm-packaging,master,I9a55e4410420fd3005a4cc5ada442c24eb4c8c77,"nova: remove nova-console, nova-dhcpbridge and nova-network",MERGED,2019-11-27 10:54:33.000000000,2019-12-02 12:23:42.000000000,2019-12-02 12:23:42.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 10:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/514d9911b7d90e0b23ccd5199b76c7c325d79d86', 'message': 'nova: remova nova-console service\n\nThe nova-console service has been deprecated in Stein [1] and recently\nremoved in Master [2].\n\n[1] https://docs.openstack.org/nova/stein/cli/nova-console.html\n[2] https://review.opendev.org/#/c/687908/\n\nChange-Id: I9a55e4410420fd3005a4cc5ada442c24eb4c8c77\n'}, {'number': 2, 'created': '2019-11-27 10:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7bd7b8b1517bb2840b2f0836451f43e060e51923', 'message': 'nova: remove nova-console service\n\nThe nova-console service has been deprecated in Stein [1] and recently\nremoved in Master [2].\n\n[1] https://docs.openstack.org/nova/stein/cli/nova-console.html\n[2] https://review.opendev.org/#/c/687908/\n\nChange-Id: I9a55e4410420fd3005a4cc5ada442c24eb4c8c77\n'}, {'number': 3, 'created': '2019-11-27 14:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f732a7e9a8a658945fbffa8e572588d8b13a6106', 'message': 'nova: remove nova-console and nova-dhcpbridge\n\nThe nova-console service has been deprecated in Stein [1] and recently\nremoved in Master [2]. The deprecated nova-dhcpbridge binary has also\nbeen recently removed in Master [3].\n\n[1] https://docs.openstack.org/nova/stein/cli/nova-console.html\n[2] https://review.opendev.org/#/c/687908/\n[3] https://review.opendev.org/#/c/686815/\n\nChange-Id: I9a55e4410420fd3005a4cc5ada442c24eb4c8c77\n'}, {'number': 4, 'created': '2019-12-02 10:00:31.000000000', 'files': ['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-console.service', 'openstack/nova/openstack-nova-network.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7d7b0283af8b37f9577cc551247d33f9bdfd4ec5', 'message': ""nova: remove nova-console, nova-dhcpbridge and nova-network\n\nThe nova-console service has been deprecated in Stein [1] and recently\nremoved in Master [2]. The deprecated nova-dhcpbridge binary has also\nbeen recently removed in Master [3].\n\nSimilarly Ussuri's blueprint for removal of Nova Network is starting\nto shape up.\n\n[1] https://docs.openstack.org/nova/stein/cli/nova-console.html\n[2] https://review.opendev.org/#/c/687908/\n[3] https://review.opendev.org/#/c/686815/\n\nChange-Id: I9a55e4410420fd3005a4cc5ada442c24eb4c8c77\n""}]",1,696280,7d7b0283af8b37f9577cc551247d33f9bdfd4ec5,33,6,4,22595,,,0,"nova: remove nova-console, nova-dhcpbridge and nova-network

The nova-console service has been deprecated in Stein [1] and recently
removed in Master [2]. The deprecated nova-dhcpbridge binary has also
been recently removed in Master [3].

Similarly Ussuri's blueprint for removal of Nova Network is starting
to shape up.

[1] https://docs.openstack.org/nova/stein/cli/nova-console.html
[2] https://review.opendev.org/#/c/687908/
[3] https://review.opendev.org/#/c/686815/

Change-Id: I9a55e4410420fd3005a4cc5ada442c24eb4c8c77
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/696280/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova-console.service']",2,514d9911b7d90e0b23ccd5199b76c7c325d79d86,remove-nova-console,,[Unit] Description=OpenStack Nova Console Proxy Server After=syslog.target network.target After=mariadb.service postgresql.service rabbitmq-server.service [Service] Type=notify NotifyAccess=all TimeoutStartSec=0 Restart=on-failure User=nova PrivateTmp=yes ExecStart=/usr/bin/nova-console [Install] WantedBy=multi-user.target ,0,57
openstack%2Frpm-packaging~master~If90066078cf46b720c5ec6aa64f2579dfb08116e,openstack/rpm-packaging,master,If90066078cf46b720c5ec6aa64f2579dfb08116e,taskflow: update to 3.8.0,MERGED,2019-12-02 10:03:01.000000000,2019-12-02 12:23:41.000000000,2019-12-02 12:23:41.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-02 10:03:01.000000000', 'files': ['openstack/taskflow/taskflow.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/618fd2f72d4e3f71d8f36171c19d60466cbdd326', 'message': 'taskflow: update to 3.8.0\n\nChange-Id: If90066078cf46b720c5ec6aa64f2579dfb08116e\n'}]",0,696846,618fd2f72d4e3f71d8f36171c19d60466cbdd326,10,6,1,6593,,,0,"taskflow: update to 3.8.0

Change-Id: If90066078cf46b720c5ec6aa64f2579dfb08116e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/46/696846/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/taskflow/taskflow.spec.j2'],1,618fd2f72d4e3f71d8f36171c19d60466cbdd326,remove-nova-console,{% set upstream_version = upstream_version('3.8.0') %},{% set upstream_version = upstream_version('3.7.1') %},1,1
openstack%2Fmurano~master~I62f4f09ac48c19e57af9a1ade26783cbf74b9feb,openstack/murano,master,I62f4f09ac48c19e57af9a1ade26783cbf74b9feb,Add --procname-prefix for uwsgi murano-api,MERGED,2019-12-02 07:30:10.000000000,2019-12-02 12:19:38.000000000,2019-12-02 12:17:48.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 07:30:10.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/murano/commit/3afc74b1ca8300db6feaf500783f90e7698160ba', 'message': 'Add --procname-prefix for uwsgi murano-api\n\nChange-Id: I62f4f09ac48c19e57af9a1ade26783cbf74b9feb\n'}]",0,696824,3afc74b1ca8300db6feaf500783f90e7698160ba,7,2,1,14107,,,0,"Add --procname-prefix for uwsgi murano-api

Change-Id: I62f4f09ac48c19e57af9a1ade26783cbf74b9feb
",git fetch https://review.opendev.org/openstack/murano refs/changes/24/696824/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,3afc74b1ca8300db6feaf500783f90e7698160ba,," run_process murano-api ""$MURANO_BIN_DIR/uwsgi --procname-prefix murano-api --ini $MURANO_UWSGI_CONF"""," run_process murano-api ""$MURANO_BIN_DIR/uwsgi --ini $MURANO_UWSGI_CONF""",1,1
openstack%2Fnova~stable%2Fstein~I7d92b8655002ea2fcc3c6238ee70723f428c6484,openstack/nova,stable/stein,I7d92b8655002ea2fcc3c6238ee70723f428c6484,DNM - Test booting from an encrypted volume snapshot,ABANDONED,2019-11-29 11:44:54.000000000,2019-12-02 12:19:02.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-29 11:44:54.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/7aecd5ce447606e838d676c3578e61a0d493e906', 'message': 'DNM - Test booting from an encrypted volume snapshot\n\nDepends-On: https://review.opendev.org/#/c/695549/\nChange-Id: I7d92b8655002ea2fcc3c6238ee70723f428c6484\n(cherry picked from commit acf0ee43d7739f9629e4a0d9f7a1b6ac942eacb0)\n'}]",0,696687,7aecd5ce447606e838d676c3578e61a0d493e906,6,4,1,10135,,,0,"DNM - Test booting from an encrypted volume snapshot

Depends-On: https://review.opendev.org/#/c/695549/
Change-Id: I7d92b8655002ea2fcc3c6238ee70723f428c6484
(cherry picked from commit acf0ee43d7739f9629e4a0d9f7a1b6ac942eacb0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/696687/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,7aecd5ce447606e838d676c3578e61a0d493e906,,,,0,0
openstack%2Fnova~stable%2Ftrain~I7d92b8655002ea2fcc3c6238ee70723f428c6484,openstack/nova,stable/train,I7d92b8655002ea2fcc3c6238ee70723f428c6484,DNM - Test booting from an encrypted volume snapshot,ABANDONED,2019-11-29 11:39:41.000000000,2019-12-02 12:18:59.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-29 11:39:41.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/acf0ee43d7739f9629e4a0d9f7a1b6ac942eacb0', 'message': 'DNM - Test booting from an encrypted volume snapshot\n\nDepends-On: https://review.opendev.org/#/c/695549/\nChange-Id: I7d92b8655002ea2fcc3c6238ee70723f428c6484\n'}]",0,696684,acf0ee43d7739f9629e4a0d9f7a1b6ac942eacb0,6,4,1,10135,,,0,"DNM - Test booting from an encrypted volume snapshot

Depends-On: https://review.opendev.org/#/c/695549/
Change-Id: I7d92b8655002ea2fcc3c6238ee70723f428c6484
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/696684/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,acf0ee43d7739f9629e4a0d9f7a1b6ac942eacb0,,,,0,0
openstack%2Fmonasca-events-api~master~Ic9f48c8f2ece5cfe900dda51e98f3ddc7a23b6b2,openstack/monasca-events-api,master,Ic9f48c8f2ece5cfe900dda51e98f3ddc7a23b6b2,Update master for stable/train,MERGED,2019-09-25 09:05:40.000000000,2019-12-02 11:53:57.000000000,2019-12-02 11:52:18.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 09:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/32bbc0270d499b305a9a10abcd1074909393ae63', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ic9f48c8f2ece5cfe900dda51e98f3ddc7a23b6b2\nSem-Ver: feature\n'}, {'number': 2, 'created': '2019-12-02 09:38:42.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/512c8efe15e5a0da52df647f90c81379cae40b10', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ic9f48c8f2ece5cfe900dda51e98f3ddc7a23b6b2\nSem-Ver: feature\n'}]",0,684642,512c8efe15e5a0da52df647f90c81379cae40b10,13,2,2,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ic9f48c8f2ece5cfe900dda51e98f3ddc7a23b6b2
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/42/684642/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,32bbc0270d499b305a9a10abcd1074909393ae63,reno-train, train,,7,0
openstack%2Fneutron~master~Ie9f2eadb4e57e930b216cad864ab607baace5bda,openstack/neutron,master,Ie9f2eadb4e57e930b216cad864ab607baace5bda,[OVN] Import agent.stats code,ABANDONED,2019-11-29 17:38:28.000000000,2019-12-02 11:53:40.000000000,,"[{'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-29 17:38:28.000000000', 'files': ['neutron/agent/ovn/stats.py', 'neutron/common/ovn/exceptions.py', 'neutron/tests/unit/agent/ovn/__init__.py', 'neutron/agent/ovn/__init__.py', 'neutron/tests/unit/agent/ovn/test_stats.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bd18f570528084d3d6be829b81ab641546f1c9d', 'message': '[OVN] Import agent.stats code\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/agent/stats.py -> ./neutron/agent/ovn/stats.py\n\nChange-Id: Ie9f2eadb4e57e930b216cad864ab607baace5bda\nRelated-Blueprint: neutron-ovn-merge\n'}]",0,696751,4bd18f570528084d3d6be829b81ab641546f1c9d,8,6,1,16688,,,0,"[OVN] Import agent.stats code

Previous paths in networking-ovn tree:
./networking_ovn/agent/stats.py -> ./neutron/agent/ovn/stats.py

Change-Id: Ie9f2eadb4e57e930b216cad864ab607baace5bda
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/696751/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/stats.py', 'neutron/common/ovn/exceptions.py', 'neutron/tests/unit/agent/ovn/__init__.py', 'neutron/agent/ovn/__init__.py', 'neutron/tests/unit/agent/ovn/test_stats.py']",5,4bd18f570528084d3d6be829b81ab641546f1c9d,bp/neutron-ovn-merge,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import uuid from neutron.agent.ovn import stats from neutron.tests import base class AgentStatsTest(base.BaseTestCase): def test_add_get_del(self): uid = uuid.uuid4() nb_cfg = 7 stats.AgentStats.add_stat(uid, nb_cfg) got = stats.AgentStats.get_stat(uid) self.assertEqual(nb_cfg, got.nb_cfg) self.assertTrue(got.updated_at) stats.AgentStats.del_agent(uid) self.assertNotIn(uid, stats.AgentStats._agents) ",,76,0
openstack%2Fopenstack-ansible~master~I85b97d1f503bfbda5a893b9afbf74bd28f732882,openstack/openstack-ansible,master,I85b97d1f503bfbda5a893b9afbf74bd28f732882,Install galera client for placement migration,MERGED,2019-11-20 16:30:58.000000000,2019-12-02 11:22:37.000000000,2019-11-29 17:38:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-20 16:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1c15b6e7816df117c790c5ba2896093716a5c121', 'message': 'Install galera client\n\nOn an upgrade from stein to train received the error:\n""Failed to connect to NOVA_API database"", ""/openstack/venvs/placement\n-20.0.0.0rc2.dev17/lib/python3.6/site-packages/placement_db_tools/\nmysql-migrate-db.sh: line 79: mysql: command not found\n\nGalera client should install the necessary packages to connect to\nthe databases.\n\nChange-Id: I85b97d1f503bfbda5a893b9afbf74bd28f732882\n'}, {'number': 2, 'created': '2019-11-21 09:49:06.000000000', 'files': ['playbooks/os-placement-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41fa313250bbdef5da60fa9cf22845644aae2da7', 'message': 'Install galera client for placement migration\n\nThe placement migration tool interacts directly with the galera database\nand needs the client libraries and command line tools in order to do this.\nOn a metal deploy the placement and database may be co-located so these\nlibraries are present, but on an LXC deployment they are not available\nin the placement container.\n\nDuring upgrade from stein to train received the error:\n""Failed to connect to NOVA_API database"", ""/openstack/venvs/placement\n-20.0.0.0rc2.dev17/lib/python3.6/site-packages/placement_db_tools/\nmysql-migrate-db.sh: line 79: mysql: command not found\n\n\nChange-Id: I85b97d1f503bfbda5a893b9afbf74bd28f732882\n'}]",2,695238,41fa313250bbdef5da60fa9cf22845644aae2da7,30,4,2,29865,,,0,"Install galera client for placement migration

The placement migration tool interacts directly with the galera database
and needs the client libraries and command line tools in order to do this.
On a metal deploy the placement and database may be co-located so these
libraries are present, but on an LXC deployment they are not available
in the placement container.

During upgrade from stein to train received the error:
""Failed to connect to NOVA_API database"", ""/openstack/venvs/placement
-20.0.0.0rc2.dev17/lib/python3.6/site-packages/placement_db_tools/
mysql-migrate-db.sh: line 79: mysql: command not found


Change-Id: I85b97d1f503bfbda5a893b9afbf74bd28f732882
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/695238/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-placement-install.yml'],1,1c15b6e7816df117c790c5ba2896093716a5c121,osa-train," - role: ""galera_client""",,1,0
openstack%2Fopenstack-ansible~stable%2Ftrain~I3ffc23220e1a7601655564a0a4e1d6c53e4804a6,openstack/openstack-ansible,stable/train,I3ffc23220e1a7601655564a0a4e1d6c53e4804a6,Bump SHAs for stable/train,ABANDONED,2019-11-17 13:32:45.000000000,2019-12-02 11:21:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-17 13:32:45.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9614c8da0f8ea2d7031a715499ffc09f3844417b', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I3ffc23220e1a7601655564a0a4e1d6c53e4804a6\n'}]",0,694692,9614c8da0f8ea2d7031a715499ffc09f3844417b,4,2,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: I3ffc23220e1a7601655564a0a4e1d6c53e4804a6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/694692/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,9614c8da0f8ea2d7031a715499ffc09f3844417b,bump_osa, version: bb18ed2e2285ea7723fa64439a9e81e00195b188 version: a3058a641a170ca895a4fc6fc0af39daa93da546 version: 9bc26d8214fe323617f042c5f9e65dcc4f247503 version: cf4ad43ca84262ff26cde6a03a243472e9e5e06b version: 8be15a46f54d30c06c22589005a6a74628d9ec9d, version: bb67a1c8c77aa4b8c609f0a02ba480e9cf101e32 version: a1f8a11ad0aa9921da59a0d3578b01b4f5ee586a version: e649dd6620bb25d041262f1893022394db0690e5 version: a70e012d1cb88b0fbc59d49cc96eee2e410ba2e0 version: 54365389f816ec9285063a5d976c6d9ac350afa0,52,52
openstack%2Fopenstack-ansible~master~I60f7164224d766b091758d9d4aa024e38d1bd32f,openstack/openstack-ansible,master,I60f7164224d766b091758d9d4aa024e38d1bd32f,Imported Translations from Zanata,MERGED,2019-12-02 10:17:59.000000000,2019-12-02 11:03:51.000000000,2019-12-02 11:01:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-02 10:17:59.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/be43605882bab089ba0eda0c2c1971394d2ce54e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I60f7164224d766b091758d9d4aa024e38d1bd32f\n'}]",0,696856,be43605882bab089ba0eda0c2c1971394d2ce54e,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I60f7164224d766b091758d9d4aa024e38d1bd32f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/696856/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,be43605882bab089ba0eda0c2c1971394d2ce54e,zanata/translations,"""POT-Creation-Date: 2019-11-29 17:48+0000\n""""PO-Revision-Date: 2019-12-01 03:27+0000\n""msgid ""18.1.14-1"" msgstr ""18.1.14-1"" msgid ""19.0.0.0rc1-221"" msgstr ""19.0.0.0rc1-221"" msgid ""19.0.7"" msgstr ""19.0.7"" msgid ""20.0.0.0rc2"" msgstr ""20.0.0.0rc2"" msgid ""20.0.0.0rc2-7"" msgstr ""20.0.0.0rc2-7"" ""Add the possibility to disable openrc v2 download in the dashboard. new var "" ""``horizon_show_keystone_v2_rc`` can be set to ``False`` to remove the entry "" ""for the openrc v2 download."" msgstr """" ""Tambahkan kemungkinan untuk menonaktifkan unduhan openrc v2 di dasbor. var "" ""baru ``horizon_show_keystone_v2_rc`` dapat diatur ke ``False`` untuk "" ""menghapus entri untuk unduhan openrc v2."" msgid """"""Due to a change in how backend_host is defined when using Ceph, all the "" ""Cinder volumes will restart under the same backend name. This will mean "" ""that any volumes which previously were assigned to the host or container "" ""that hosted the volume will no longer be manageable. The workaround for "" ""this is to use the `cinder-manage volume update_host` command to move those "" ""volumes to the new backend host. This known issue will be resolved soon "" ""with an upgrade playbook."" msgstr """" ""Karena perubahan dalam cara backend_host didefinisikan saat menggunakan "" ""Ceph, semua volume Cinder akan memulai kembali dengan nama backend yang "" ""sama. Ini berarti bahwa volume apa pun yang sebelumnya ditugaskan ke host "" ""atau kontainer yang menampung volume tidak lagi dapat dikelola. Solusi untuk "" ""ini adalah dengan menggunakan perintah `cinder-manage volume update_host` "" ""untuk memindahkan volume tersebut ke host backend baru. Masalah yang "" ""diketahui ini akan segera teratasi dengan playbook pemutakhiran."" msgid """"""For the ``os_cloudkitty`` role, the systemd unit ``TimeoutSec`` value which "" ""controls the time between sending a SIGTERM signal and a SIGKILL signal when "" ""stopping or restarting the service has been reduced from 300 seconds to 120 "" ""seconds. This provides 2 minutes for long-lived sessions to drain while "" ""preventing new ones from starting before a restart or a stop. The "" ""``RestartSec`` value which controls the time between the service stop and "" ""start when restarting has been reduced from 150 seconds to 2 seconds to make "" ""the restart happen faster. These values can be adjusted by using the "" ""``cloudkitty_*_init_config_overrides`` variables which use the "" ""``config_template`` task to change template defaults."" msgstr """" ""Untuk peran ``os_cloudkitty``, nilai unit systemd ``TimeoutSec`` yang "" ""mengontrol waktu antara pengiriman sinyal SIGTERM dan sinyal SIGKILL saat "" ""menghentikan atau memulai kembali layanan telah berkurang dari 300 detik "" ""menjadi 120 detik. Ini memberikan waktu 2 menit untuk sesi yang tahan lama "" ""untuk dikeringkan sekaligus mencegah yang baru dimulai sebelum restart atau "" ""berhenti. Nilai ``RestartSec`` yang mengontrol waktu antara berhenti layanan "" ""dan mulai ketika memulai ulang telah berkurang dari 150 detik menjadi 2 "" ""detik untuk membuat restart terjadi lebih cepat. Nilai-nilai ini dapat "" ""disesuaikan dengan menggunakan variabel "" ""``cloudkitty_*_init_config_overrides`` yang menggunakan tugas "" ""``config_template`` untuk mengubah default templat."" msgid """"""Installation of cloudkitty and its dependent pip packages will now only "" ""occur within a Python virtual environment. The ``cloudkitty_venv_bin`` and "" ""``cloudkitty_venv_enabled`` variables have been removed."" msgstr """" ""Instalasi cloudkitty dan paket-paket pip yang tergantung sekarang hanya akan "" ""terjadi dalam lingkungan virtual Python. Variabel ``cloudkitty_venv_bin`` "" ""dan ``cloudkitty_venv_enabled`` telah dihapus."" msgid """"""New variables have been added to allow a deployer to customize a cloudkitty "" ""systemd unit file to their liking."" msgstr """" ""Variabel baru telah ditambahkan untuk memungkinkan deployer untuk "" ""menyesuaikan file unit cloudkitty systemd sesuai keinginan mereka."" msgid """"""Remove ``cloudkitty_rpc_backend`` option due to deprecation of rpc_backend "" ""option in oslo.messaging."" msgstr """" ""Hapus opsi ``cloudkitty_rpc_backend`` karena penghentian opsi rpc_backend di "" ""oslo.messaging."" msgid """"msgid ""Removed PKI token support and the ``cloudkitty_signing_dir`` parameter."" msgstr """" ""Dukungan token PKI yang dihapus dan parameter ``cloudkitty_signing_dir``."" ""Support separate oslo.messaging services for RPC and Notifications to enable "" ""operation of separate and different messaging backend servers."" msgstr """" ""Mendukung layanan oslo.messaging terpisah untuk RPC dan Notifications untuk "" ""mengaktifkan operasi messaging backend servers yang terpisah dan berbeda."" msgid """"""The journald-remote is disabled from execution inside setup-infrastructure "" ""until https://github.com/systemd/systemd/issues/2376 has been incorporated "" ""in current systemd packages. The playbook can be enabled by setting "" ""``journald_remote_enabled`` to ``True``"" msgstr """" ""Remote-journald dinonaktifkan dari eksekusi di dalam setup-infrastructure "" ""hingga https://github.com/systemd/systemd/issues/2376 telah dimasukkan dalam "" ""paket systemd saat ini. Playbook dapat diaktifkan dengan mengatur "" ""``journald_remote_enabled`` ke ``True``"" msgid """" ""The journald-remote playbook is disabled from execution inside setup-"" ""infrastructure until setting ``journald_remote_enabled`` is set to ``True`` "" ""due to https://github.com/systemd/systemd/issues/2376"" msgstr """" ""Playbook journald-remote dinonaktifkan dari eksekusi di dalam setup-"" ""infrastructure sampai pengaturan ``journald_remote_enabled`` diatur ke "" ""``True`` karena https://github.com/systemd/systemd/issues/2376"" msgid """"""The log path, ``/var/log/cloudkitty`` is no longer used to capture service "" ""logs. All logging for the cloudkitty service will now be sent directly to "" ""the systemd journal."" msgstr """" ""Path log, ``/var/log/cloudkitty`` tidak lagi digunakan untuk mengambil log "" ""layanan. Semua logging untuk layanan cloudkitty sekarang akan dikirim "" ""langsung ke jurnal systemd."" msgid """"""The os_cloudkitty role always checks whether the latest package is installed "" ""when executed. If a deployer wishes to change the check to only validate the "" ""presence of the package, the option ``cloudkitty_package_state`` should be "" ""set to ``present``."" msgstr """" ""Peran os_cloudkitty selalu memeriksa apakah paket terbaru diinstal ketika "" ""dijalankan. Jika seorang penggelar ingin mengubah tanda centang untuk hanya "" ""memvalidasi keberadaan paket, opsi ``cloudkitty_package_state`` harus diatur "" ""ke ``present``."" msgid """" ""The os_cloudkitty role now supports the ability to configure whether apt/yum "" ""tasks install the latest available package, or just ensure that the package "" ""is present. The default action is to ensure that the latest package is "" ""present. The action taken may be changed to only ensure that the package is "" ""present by setting ``cloudkitty_package_state`` to ``present``."" msgstr """" ""Peran os_cloudkitty sekarang mendukung kemampuan untuk mengkonfigurasi "" ""apakah tugas apt/yum menginstal paket terbaru yang tersedia, atau hanya "" ""memastikan bahwa paket tersebut ada. Tindakan default adalah untuk "" ""memastikan bahwa paket terbaru hadir. Tindakan yang diambil dapat diubah "" ""hanya untuk memastikan bahwa paket hadir dengan mengatur "" ""``cloudkitty_package_state`` ke ``present``."" msgid """"""cloudkitty_oslomsg_rpc_servers replaces rabbitmq_servers - "" ""cloudkitty_oslomsg_rpc_port replaces rabbitmq_port - "" ""cloudkitty_oslomsg_rpc_userid replaces rabbitmq_userid - "" ""cloudkitty_oslomsg_rpc_vhost replaces rabbitmq_vhost - "" ""cloudkitty_oslomsg_rpc_use_ssl replaces rabbitmq_use_ssl - added "" ""cloudkitty_oslomsg_notify_servers - added cloudkitty_oslomsg_notify_port - "" ""added cloudkitty_oslomsg_notify_use_ssl - added "" ""cloudkitty_oslomsg_notify_userid - added cloudkitty_oslomsg_notify_vhost"" msgstr """" ""Parameter server rabbitmq telah digantikan oleh oslo.messaging RPC dan "" ""Notify parameter yang sesuai untuk abstrak layanan pesan dari penyebaran "" ""server backend yang sebenarnya. \n"" ""- cloudkitty_oslomsg_rpc_servers menggantikan rabbitmq_servers \n"" ""- cloudkitty_oslomsg_rpc_port menggantikan rabbitmq_port \n"" ""- cloudkitty_oslomsg_rpc_userid menggantikan rabbitmq_userid \n"" ""- cloudkitty_oslomsg_rpc_vhost menggantikan rabbitmq_vhost \n"" ""- cloudkitty_oslomsg_rpc_use_ssl menggantikan rabbitmq_use_ssl \n"" ""- menambahkan cloudkitty_oslomsg_notify_servers \n"" ""- menambahkan cloudkitty_oslomsg_notify_port \n"" ""- menambahkan cloudkitty_oslomsg_notify_use_ssl \n"" ""- menambahkan cloudkitty_oslomsg_notify_userid \n"" ""- tambah cloudkitty_oslomsg_notify_vhost"" msgid """" ""The rabbitmq server parameters have been replaced by corresponding oslo."" ""messaging RPC and Notify parameters in order to abstract the messaging "" ""service from the actual backend server deployment. - """"The service setup in keystone for cloudkitty will now be executed through "" ""delegation to the ``cloudkitty_service_setup_host`` which, by default, is "" ""``localhost`` (the deploy host). Deployers can opt to rather change this to "" ""the utility container by implementing the following override in "" ""``user_variables.yml``."" msgstr """" ""Pengaturan layanan dalam keystone untuk cloudkitty sekarang akan dieksekusi "" ""melalui delegasi ke ``cloudkitty_service_setup_host`` yang, secara default, "" ""adalah ``localhost`` (host penyebaran). Deployer dapat memilih untuk "" ""mengubah ini ke kontainer utilitas dengan mengimplementasikan penggantian "" ""berikut di ``user_variables.yml``."" msgid """"""defaults and pollute the generic systemd unit file with jinja2 variables and "" ""conditionals."" msgstr """" ""Tugas menjatuhkan file unit cinder systemd sekarang menggunakan plugin aksi "" ""``config_template`` yang memungkinkan pengerahkan akses untuk menyesuaikan "" ""file unit sesuai keinginan tanpa harus memuat opsi tambahan ke default dan "" ""mencemari file unit systemd generik dengan variabel jinja2 dan persyaratan."" msgid """" ""The task dropping the cinder systemd unit files now uses the "" ""``config_template`` action plugin allowing deployers access to customize the "" ""unit files as they see fit without having to load extra options into the """"The task dropping the cloudkitty systemd unit files now uses the """"defaults and polute the generic systemd unit file with jinja2 variables and """"Tugas menjatuhkan file unit cloudkitty systemd sekarang menggunakan plugin "" ""aksi ``config_template`` yang memungkinkan akses penyebar untuk menyesuaikan "" ""file unit sesuai keinginan tanpa harus memuat opsi tambahan ke default dan "" ""polute file unit systemd generik dengan variabel jinja2 dan persyaratan.""""defaults and pollute the generic systemd unit file with jinja2 variables and "" ""conditionals."" msgstr """" ""Tugas menjatuhkan file unit heat systemd sekarang menggunakan plugin aksi "" ""``config_template`` yang memungkinkan akses penyebar untuk menyesuaikan file "" ""unit sesuai keinginan tanpa harus memuat opsi tambahan ke default dan "" ""mencemari file unit systemd generik dengan variabel jinja2 dan bersyarat."" msgid """" ""The task dropping the heat systemd unit files now uses the "" ""``config_template`` action plugin allowing deployers access to customize the "" ""unit files as they see fit without having to load extra options into the """"defaults and pollute the generic systemd unit file with jinja2 variables and "" ""conditionals."" msgstr """" ""Tugas menjatuhkan file unit magnum systemd sekarang menggunakan plugin aksi "" ""`` config_template`` yang memungkinkan akses penyebar untuk menyesuaikan "" ""file unit sesuai keinginan tanpa harus memuat opsi tambahan ke default dan "" ""mencemari file unit systemd generik dengan variabel jinja2 dan persyaratan."" msgid """" ""The task dropping the magnum systemd unit files now uses the "" ""``config_template`` action plugin allowing deployers access to customize the "" ""unit files as they see fit without having to load extra options into the """"The variable ``cloudkitty_requires_pip_packages`` is no longer required and "" ""has therefore been removed."" msgstr """" ""Variabel ``cloudkitty_requires_pip_packages`` tidak lagi diperlukan dan "" ""karenanya telah dihapus."" msgid """"""The variables ``cloudkitty_requirements_git_repo`` and "" ""``cloudkitty_requirements_git_install_branch`` have been removed in favour "" ""of using the URL/path to the upper-constraints file using the variable "" ""``pip_install_upper_constraints`` instead."" msgstr """" ""Variabel ``cloudkitty_requirements_git_repo`` dan "" ""``cloudkitty_requirements_git_install_branch`` telah dihapus karena "" ""menggunakan URL/path ke file batasan atas menggunakan variabel "" ""``pip_install_upper_constraints`` sebagai gantinya."" msgid """"""Ubuntu Trusty (14.04) support is now removed from the os_cloudkitty role."" msgstr """" ""Dukungan Ubuntu Trusty (14.04) sekarang dihapus dari peran os_cloudkitty."" msgid """"","""POT-Creation-Date: 2019-11-08 01:26+0000\n""""PO-Revision-Date: 2019-11-06 03:50+0000\n""""The task dropping the designate systemd unit files now uses the """"defaults and pollute the generic systemd unit file with jinja2 variables and """"Tugas menjatuhkan file unit systemd yang ditunjuk sekarang menggunakan "" ""plugin aksi ``config_template`` yang memungkinkan akses penyebar untuk "" ""menyesuaikan file unit sesuai keinginan tanpa harus memuat opsi tambahan ke "" ""default dan mencemari file unit systemd generik dengan variabel jinja2 dan "" ""persyaratan.""",260,9
openstack%2Fopenstack-manuals~master~Ia24330928cc5ef96ebca0aff5ed2d42b0457deaf,openstack/openstack-manuals,master,Ia24330928cc5ef96ebca0aff5ed2d42b0457deaf,Imported Translations from Zanata,MERGED,2019-12-02 06:34:17.000000000,2019-12-02 11:01:13.000000000,2019-12-02 10:35:26.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 06:34:17.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/eec69b127861f9722ac7821207d47ff1787e48b9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia24330928cc5ef96ebca0aff5ed2d42b0457deaf\n'}]",0,696822,eec69b127861f9722ac7821207d47ff1787e48b9,13,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia24330928cc5ef96ebca0aff5ed2d42b0457deaf
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/22/696822/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po'],1,eec69b127861f9722ac7821207d47ff1787e48b9,zanata/translations,"""POT-Creation-Date: 2019-11-11 12:29+0000\n""""PO-Revision-Date: 2019-12-01 03:34+0000\n""msgid """" ""Block Storage service  `cinder installation for Train <https://docs."" ""openstack.org/cinder/train/install/>`_"" msgstr """" ""Block Storage service  `cinder installation for Train <https://docs."" ""openstack.org/cinder/train/install/>`_"" msgid """" ""Compute service  `nova installation for Train <https://docs.openstack.org/"" ""nova/train/install/>`_"" msgstr """" ""Compute service  `nova installation for Train <https://docs.openstack.org/"" ""nova/train/install/>`_"" msgid """" ""Dashboard  `horizon installation for Train <https://docs.openstack.org/"" ""horizon/train/install/>`_"" msgstr """" ""Dashboard  `horizon installation for Train <https://docs.openstack.org/"" ""horizon/train/install/>`_"" ""Identity service  `keystone installation for Train <https://docs.openstack."" ""org/keystone/train/install/>`_"" msgstr """" ""Identity service  `keystone installation for Train <https://docs.openstack."" ""org/keystone/train/install/>`_"" msgid """"""Image service  `glance installation for Train <https://docs.openstack.org/"" ""glance/train/install/>`_"" msgstr """" ""Image service  `glance installation for Train <https://docs.openstack.org/"" ""glance/train/install/>`_"" msgid """"msgid ""Minimal deployment for Train"" msgstr ""Minimal deployment untuk Train"" ""Networking service  `neutron installation for Train <https://docs.openstack."" ""org/neutron/train/install/>`_"" msgstr """" ""Networking service  `neutron installation for Train <https://docs.openstack."" ""org/neutron/train/install/>`_"" msgid """"msgid """" ""Placement service  `placement installation for Train <https://docs."" ""openstack.org/placement/train/install/>`_"" msgstr """" ""Placement service  `placement installation for Train <https://docs."" ""openstack.org/placement/train/install/>`_"" ""`OpenStack Installation Guides for Train <https://docs.openstack.org/train/"" ""install/>`_"" msgstr """" ""`OpenStack Installation Guides for Train <https://docs.openstack.org/train/"" ""install/>`_"" msgid """"","""POT-Creation-Date: 2019-10-07 10:24+0000\n""""PO-Revision-Date: 2019-10-12 06:28+0000\n""",61,2
openstack%2Foctavia-tempest-plugin~master~Idb75fcc8a2514b8106e327232719c9d0d9827f44,openstack/octavia-tempest-plugin,master,Idb75fcc8a2514b8106e327232719c9d0d9827f44,DNM checking scenarios on all branches,ABANDONED,2019-11-27 14:00:52.000000000,2019-12-02 10:54:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-27 14:00:52.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/52fcdee20e5c34504d4fb312657603e1ea0aeec6', 'message': 'DNM checking scenarios on all branches\n\nChange-Id: Idb75fcc8a2514b8106e327232719c9d0d9827f44\n'}]",0,696309,52fcdee20e5c34504d4fb312657603e1ea0aeec6,15,2,1,29244,,,0,"DNM checking scenarios on all branches

Change-Id: Idb75fcc8a2514b8106e327232719c9d0d9827f44
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/09/696309/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,52fcdee20e5c34504d4fb312657603e1ea0aeec6,, #- octavia-v2-dsvm-noop-api #- octavia-v2-dsvm-noop-py2-api #- octavia-v2-dsvm-noop-api-stable-train #- octavia-v2-dsvm-noop-api-stable-stein #- octavia-v2-dsvm-noop-py2-api-stable-rocky #- octavia-v2-dsvm-noop-py2-api-stable-queens #- octavia-v2-dsvm-py2-scenario #- octavia-v2-dsvm-scenario-ipv6-only: # voting: false #- octavia-v2-dsvm-scenario-centos-7: # voting: false #- octavia-v2-dsvm-scenario-ubuntu-bionic: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-two-node: # voting: false #- octavia-v2-act-stdby-dsvm-py2-scenario-two-node: # voting: false #- octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-rocky: # voting: false #- octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-queens: # voting: false #- octavia-v2-act-stdby-dsvm-scenario: # voting: false #- octavia-v2-act-stdby-dsvm-py2-scenario: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-train: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-stein: # voting: false #- octavia-v2-dsvm-tls-barbican: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-train: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-stein: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-rocky: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-queens: # voting: false #- octavia-v2-dsvm-spare-pool: # voting: false #- octavia-v2-dsvm-py2-spare-pool: # voting: false #- octavia-v2-dsvm-spare-pool-stable-train: # voting: false #- octavia-v2-dsvm-spare-pool-stable-stein: # voting: false #- octavia-v2-dsvm-py2-spare-pool-stable-rocky: # voting: false #- octavia-v2-dsvm-py2-spare-pool-stable-queens: # voting: false #- octavia-v2-dsvm-cinder-amphora: # voting: false, - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-py2-api - octavia-v2-dsvm-noop-api-stable-train - octavia-v2-dsvm-noop-api-stable-stein - octavia-v2-dsvm-noop-py2-api-stable-rocky - octavia-v2-dsvm-noop-py2-api-stable-queens - octavia-v2-dsvm-py2-scenario - octavia-v2-dsvm-scenario-ipv6-only: voting: false - octavia-v2-dsvm-scenario-centos-7: voting: false - octavia-v2-dsvm-scenario-ubuntu-bionic: voting: false - octavia-v2-act-stdby-dsvm-scenario-two-node: voting: false - octavia-v2-act-stdby-dsvm-py2-scenario-two-node: voting: false - octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-rocky: voting: false - octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-queens: voting: false - octavia-v2-act-stdby-dsvm-scenario: voting: false - octavia-v2-act-stdby-dsvm-py2-scenario: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-train: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-stein: voting: false - octavia-v2-dsvm-tls-barbican: voting: false - octavia-v2-dsvm-tls-barbican-stable-train: voting: false - octavia-v2-dsvm-tls-barbican-stable-stein: voting: false - octavia-v2-dsvm-tls-barbican-stable-rocky: voting: false - octavia-v2-dsvm-tls-barbican-stable-queens: voting: false - octavia-v2-dsvm-spare-pool: voting: false - octavia-v2-dsvm-py2-spare-pool: voting: false - octavia-v2-dsvm-spare-pool-stable-train: voting: false - octavia-v2-dsvm-spare-pool-stable-stein: voting: false - octavia-v2-dsvm-py2-spare-pool-stable-rocky: voting: false - octavia-v2-dsvm-py2-spare-pool-stable-queens: voting: false - octavia-v2-dsvm-cinder-amphora: voting: false,53,53
openstack%2Foctavia-tempest-plugin~master~Ic4ac5a514d040047b4de30b1e17aedb72947c298,openstack/octavia-tempest-plugin,master,Ic4ac5a514d040047b4de30b1e17aedb72947c298,DNM checking scenarios on all branches,ABANDONED,2019-11-27 21:07:06.000000000,2019-12-02 10:53:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-27 21:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ff46e4e20c767dd6cabe88a78e115cda3bb5200c', 'message': 'DNM checking scenarios on all branches\n\nChange-Id: Ic4ac5a514d040047b4de30b1e17aedb72947c298\n'}, {'number': 2, 'created': '2019-11-28 13:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7b085d0615d0d0bac9907df51830a54733483a24', 'message': 'DNM checking scenarios on all branches\n\nChange-Id: Ic4ac5a514d040047b4de30b1e17aedb72947c298\n'}, {'number': 3, 'created': '2019-11-29 10:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/69df42dd4238bfc7d6be82abc1f87e967c3224f7', 'message': 'DNM checking scenarios on all branches\n\nChange-Id: Ic4ac5a514d040047b4de30b1e17aedb72947c298\n'}, {'number': 4, 'created': '2019-11-29 15:45:40.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5a1da1113876284c5529e368ee56e400b4144ff8', 'message': 'DNM checking scenarios on all branches\n\nChange-Id: Ic4ac5a514d040047b4de30b1e17aedb72947c298\n'}]",0,696407,5a1da1113876284c5529e368ee56e400b4144ff8,25,2,4,29244,,,0,"DNM checking scenarios on all branches

Change-Id: Ic4ac5a514d040047b4de30b1e17aedb72947c298
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/07/696407/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ff46e4e20c767dd6cabe88a78e115cda3bb5200c,udp_tests, #- octavia-v2-dsvm-noop-api #- octavia-v2-dsvm-noop-py2-api #- octavia-v2-dsvm-noop-api-stable-train #- octavia-v2-dsvm-noop-api-stable-stein #- octavia-v2-dsvm-noop-py2-api-stable-rocky #- octavia-v2-dsvm-noop-py2-api-stable-queens #- octavia-v2-dsvm-py2-scenario #- octavia-v2-dsvm-scenario-ipv6-only: # voting: false #- octavia-v2-dsvm-scenario-centos-7: # voting: false #- octavia-v2-dsvm-scenario-ubuntu-bionic: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-two-node: # voting: false #- octavia-v2-act-stdby-dsvm-py2-scenario-two-node: # voting: false #- octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-rocky: # voting: false #- octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-queens: # voting: false #- octavia-v2-act-stdby-dsvm-scenario: # voting: false #- octavia-v2-act-stdby-dsvm-py2-scenario: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-train: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-stein: # voting: false #- octavia-v2-dsvm-tls-barbican: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-train: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-stein: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-rocky: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-queens: # voting: false #- octavia-v2-dsvm-spare-pool: # voting: false #- octavia-v2-dsvm-py2-spare-pool: # voting: false #- octavia-v2-dsvm-spare-pool-stable-train: # voting: false #- octavia-v2-dsvm-spare-pool-stable-stein: # voting: false #- octavia-v2-dsvm-py2-spare-pool-stable-rocky: # voting: false #- octavia-v2-dsvm-py2-spare-pool-stable-queens: # voting: false #- octavia-v2-dsvm-cinder-amphora: # voting: false, - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-py2-api - octavia-v2-dsvm-noop-api-stable-train - octavia-v2-dsvm-noop-api-stable-stein - octavia-v2-dsvm-noop-py2-api-stable-rocky - octavia-v2-dsvm-noop-py2-api-stable-queens - octavia-v2-dsvm-py2-scenario - octavia-v2-dsvm-scenario-ipv6-only: voting: false - octavia-v2-dsvm-scenario-centos-7: voting: false - octavia-v2-dsvm-scenario-ubuntu-bionic: voting: false - octavia-v2-act-stdby-dsvm-scenario-two-node: voting: false - octavia-v2-act-stdby-dsvm-py2-scenario-two-node: voting: false - octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-rocky: voting: false - octavia-v2-act-stdby-iptables-dsvm-py2-scenario-stable-queens: voting: false - octavia-v2-act-stdby-dsvm-scenario: voting: false - octavia-v2-act-stdby-dsvm-py2-scenario: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-train: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-stein: voting: false - octavia-v2-dsvm-tls-barbican: voting: false - octavia-v2-dsvm-tls-barbican-stable-train: voting: false - octavia-v2-dsvm-tls-barbican-stable-stein: voting: false - octavia-v2-dsvm-tls-barbican-stable-rocky: voting: false - octavia-v2-dsvm-tls-barbican-stable-queens: voting: false - octavia-v2-dsvm-spare-pool: voting: false - octavia-v2-dsvm-py2-spare-pool: voting: false - octavia-v2-dsvm-spare-pool-stable-train: voting: false - octavia-v2-dsvm-spare-pool-stable-stein: voting: false - octavia-v2-dsvm-py2-spare-pool-stable-rocky: voting: false - octavia-v2-dsvm-py2-spare-pool-stable-queens: voting: false - octavia-v2-dsvm-cinder-amphora: voting: false,53,53
openstack%2Fnetworking-bgpvpn~master~If1b5adb4069813df0e9c7597bf84103ebbae7242,openstack/networking-bgpvpn,master,If1b5adb4069813df0e9c7597bf84103ebbae7242,use standard_attr db from neutron-lib,MERGED,2019-07-26 19:25:52.000000000,2019-12-02 10:41:52.000000000,2019-12-02 10:40:46.000000000,"[{'_account_id': 55}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 19:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5095bd4ac2185fec359c1569a7d94a42e556c219', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nChange-Id: If1b5adb4069813df0e9c7597bf84103ebbae7242\n""}, {'number': 2, 'created': '2019-11-27 16:18:43.000000000', 'files': ['networking_bgpvpn/neutron/db/bgpvpn_db.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e76a26605e1935dfde9aa837f40e08a5a4364d43', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nChange-Id: If1b5adb4069813df0e9c7597bf84103ebbae7242\n""}]",0,673096,e76a26605e1935dfde9aa837f40e08a5a4364d43,10,4,2,5367,,,0,"use standard_attr db from neutron-lib

This patch consumes the neutron_lib.db.standard_attr module from
neutron-lib by switching all imports to use neutron-lib's standard_attr.

Change-Id: If1b5adb4069813df0e9c7597bf84103ebbae7242
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/96/673096/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/db/bgpvpn_db.py'],1,5095bd4ac2185fec359c1569a7d94a42e556c219,bp/neutronlib-decouple-db,from neutron_lib.db import standard_attr,from neutron.db import standard_attr ,1,2
openstack%2Fmonasca-events-api~master~Ia865a8b26da082a7227d2afce82e3c164acb8efb,openstack/monasca-events-api,master,Ia865a8b26da082a7227d2afce82e3c164acb8efb,Fixes policy for admin,NEW,2019-10-21 06:33:36.000000000,2019-12-02 10:41:50.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 06:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/0748b630ac8b08f83048f68fe05830dadb1cd0bc', 'message': 'Fixes policy for admin\n\nChange-Id: Ia865a8b26da082a7227d2afce82e3c164acb8efb\n'}, {'number': 2, 'created': '2019-12-02 09:44:24.000000000', 'files': ['monasca_events_api/policies/admin.py'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/5050a0ec7c80e58fa0d7f651cd968d53163659f6', 'message': 'Fixes policy for admin\n\nChange-Id: Ia865a8b26da082a7227d2afce82e3c164acb8efb\n'}]",0,689677,5050a0ec7c80e58fa0d7f651cd968d53163659f6,5,2,2,4428,,,0,"Fixes policy for admin

Change-Id: Ia865a8b26da082a7227d2afce82e3c164acb8efb
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/77/689677/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_events_api/policies/admin.py'],1,0748b630ac8b08f83048f68fe05830dadb1cd0bc,fix-admin-policy," policy.RuleDefault( 'admin_required', 'role:admin', description='Admin role'"," policy.DocumentedRuleDefault( name='admin_required', check_str='role:admin or is_admin:1', description='Admin role', operations=[{'path': '/', 'method': 'POST'}]",4,5
openstack%2Fmonasca-log-api~master~I305b2930470b259b8abc6e28580f036862b454b9,openstack/monasca-log-api,master,I305b2930470b259b8abc6e28580f036862b454b9,Change Grafana dashboards initialization,MERGED,2019-11-28 12:30:16.000000000,2019-12-02 10:30:31.000000000,2019-12-02 10:29:02.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 30221}]","[{'number': 1, 'created': '2019-11-28 12:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/444ec3aefc6f441485baf9475702d9c0662409c3', 'message': 'Change Grafana dashboards initialization\n\nChange-Id: I305b2930470b259b8abc6e28580f036862b454b9\n'}, {'number': 2, 'created': '2019-11-28 12:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/5eade5d26092642ae283b6d3255478c652e43689', 'message': 'Change Grafana dashboards initialization\n\nThe change was made due to plugin trying to install grafana dashboards\nusing python2 instead of python3 when available.\n\nChange-Id: I305b2930470b259b8abc6e28580f036862b454b9\n'}, {'number': 3, 'created': '2019-11-28 13:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/21ed010ead079fe74e2f0aab4c6de33fdddd031e', 'message': 'Change Grafana dashboards initialization\n\nThe change was made due to plugin trying to install grafana dashboards\nusing python2 instead of python3 when available.\n\nChange-Id: I305b2930470b259b8abc6e28580f036862b454b9\n'}, {'number': 4, 'created': '2019-11-28 13:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/8aa853d447f0a01b66dabec59170175dbb7546b0', 'message': 'Change Grafana dashboards initialization\n\nChange-Id: I305b2930470b259b8abc6e28580f036862b454b9\n'}, {'number': 5, 'created': '2019-11-28 13:42:58.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/eed43d02330ddb282f8a8a6233e0d2ddef4c1165', 'message': 'Change Grafana dashboards initialization\n\nThe change was made due to plugin trying to install grafana dashboards\nusing python2 instead of python3.\n\nChange-Id: I305b2930470b259b8abc6e28580f036862b454b9\n'}]",1,696533,eed43d02330ddb282f8a8a6233e0d2ddef4c1165,18,4,5,30221,,,0,"Change Grafana dashboards initialization

The change was made due to plugin trying to install grafana dashboards
using python2 instead of python3.

Change-Id: I305b2930470b259b8abc6e28580f036862b454b9
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/33/696533/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,444ec3aefc6f441485baf9475702d9c0662409c3,grafana_fix," if python3_enabled; then sudo python3 ""${PLUGIN_FILES}""/grafana/grafana.py ""${PLUGIN_FILES}""/grafana/dashboards.d else sudo python ""${PLUGIN_FILES}""/grafana/grafana.py ""${PLUGIN_FILES}""/grafana/dashboards.d fi"," sudo python ""${PLUGIN_FILES}""/grafana/grafana.py ""${PLUGIN_FILES}""/grafana/dashboards.d",5,2
openstack%2Fcloudkitty-specs~master~I750911401caf5168cf0e57a701d2e006e69ddcfe,openstack/cloudkitty-specs,master,I750911401caf5168cf0e57a701d2e006e69ddcfe,Spec: Add query functions to Prometheus,MERGED,2019-08-22 13:39:17.000000000,2019-12-02 10:23:24.000000000,2019-12-02 10:22:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}, {'_account_id': 30844}]","[{'number': 1, 'created': '2019-08-22 13:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/14dbf67fcafa857821b7dd5531aa6cc9b2d4efee', 'message': 'Spec: Add query function to Prometheus\n\nSee specs/train/add_query_function_to_prometheus.rst\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 2, 'created': '2019-08-22 13:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/714c6c6cfc0965a52b303d73a5553841ecf0056f', 'message': 'Spec: Add query function to Prometheus\n\nSee specs/train/add_query_function_to_prometheus.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 3, 'created': '2019-08-22 14:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/91c2bb7bb66369c35058bc64c6633e821d25006b', 'message': 'Spec: Add query function to Prometheus\n\nSee specs/train/add_query_function_to_prometheus.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 4, 'created': '2019-08-22 15:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/aebb18434547e871031784cbc98a116d6e2d1b7a', 'message': 'Spec: Add query function to Prometheus\n\nSee specs/train/add_query_function_to_prometheus.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 5, 'created': '2019-08-23 14:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/df486939ab8ce3a3158656d50b1fa889ee9ba499', 'message': 'Spec: Add query function to Prometheus\n\nSee specs/train/add_query_function_to_prometheus.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 6, 'created': '2019-08-23 14:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/ce8cbc026ac0b9afda073147d2fac26434a1a2ab', 'message': 'Spec: Add query function to Prometheus\n\nSee specs/train/add_query_function_to_prometheus.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 7, 'created': '2019-08-23 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/89f425a25f1522e20fa4b6e534941279c7137a6b', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/train/add_prometheus_query_functions_to_the_colletor.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 8, 'created': '2019-08-23 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/6e3f6189f882acb6bc9bf4cc558ec5b6c8196ece', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/train/add_prometheus_query_functions_to_the_colletor.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 9, 'created': '2019-09-03 07:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/a530f3c046869335cff5e56af0e209eaa25fac20', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/train/add_prometheus_query_functions_to_the_colletor.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 10, 'created': '2019-11-21 14:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/91a6b1eb938ca627c67f60435c733b1eae521647', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/train/add_prometheus_query_functions_to_the_colletor.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 11, 'created': '2019-11-21 14:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/e9e34bba95b49d913c91413db7a2f634be029c98', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_colletor.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 12, 'created': '2019-11-21 16:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/481b320c1ce2da106cc0a8fc343f251860c2d895', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_colletor.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 13, 'created': '2019-11-22 09:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/56e45237605bcfea151f35f923f24fd73cbbde26', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_colletor.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 14, 'created': '2019-11-22 14:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/4a13db1ae9332dcbe50f20c9b8eab6b4835ffbe4', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_collector.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 15, 'created': '2019-11-29 10:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/e6ec6c1b2d2e0d8ff3be238c138582aa02a9a2cd', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_collector.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 16, 'created': '2019-11-29 10:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/420ab96cfcf0d29192dbe02abfdf6f1a32211e09', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_collector.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 17, 'created': '2019-11-29 10:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/da222668d27595db177b4edc8f5df738b0fa4696', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_collector.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 18, 'created': '2019-11-29 11:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/37c234af17181dc9f53e4ea246a4573e7b11bb6f', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_collector.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}, {'number': 19, 'created': '2019-11-29 15:40:03.000000000', 'files': ['specs/ussuri/add_prometheus_query_functions_to_the_collector.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/004ebc2d4dc8332175c191baa330cfe9faf09bb4', 'message': 'Spec: Add query functions to Prometheus\n\nSee specs/ussuri/add_prometheus_query_functions_to_the_collector.rst\n\nStory: 2006427\nTask: 36329\n\nChange-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe\n'}]",81,678013,004ebc2d4dc8332175c191baa330cfe9faf09bb4,50,4,19,30844,,,0,"Spec: Add query functions to Prometheus

See specs/ussuri/add_prometheus_query_functions_to_the_collector.rst

Story: 2006427
Task: 36329

Change-Id: I750911401caf5168cf0e57a701d2e006e69ddcfe
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/13/678013/15 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/add_query_function_to_prometheus.rst'],1,14dbf67fcafa857821b7dd5531aa6cc9b2d4efee,prometheus-update,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================= Adding a ""function_query"" field in Prometheus collector ======================================================= https://storyboard.openstack.org/#!/story/2006427 Problem Description =================== The Prometheus collector cannot handle ``total`` data type. Proposed Change =============== We can add a field in the ``extra_args`` section of the ``metrics.yml`` file. This field would have only few functions allowed because of the expected formatted result. Here's a list of the prometheus query functions that should be allowed : - abs() - ceil() - changes() - delta() - deriv() - exp() - floor() - idelta() - ln() - log2() - log10() - rate() - round() - sqrt() For example if we use the delta function, we can get data between two cycle of collect, therefore we can charge ""total"" kind of data in Prometheus. Example ------- The config file will look like something like this : .. code-block:: yaml #metrics.yml: |- metrics: gateway_functions_seconds_count: unit: seconds groupby: - function_name - instance extra_args: aggregation_method: max function_query: delta Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications Impact -------------------- None Other end user impact --------------------- End users will be able to make bill with ``total`` data type. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: <aimbot31> Work Items ---------- * Implement Prometheus query function (with unit tests) * Add the documentation for the field ``function_query`` Dependencies ============ None Testing ======= The proposed changes will be tested with unit tests. Documentation Impact ==================== We will add an entry detailing the field configuration in ``Admin/Configuration/Collector``. References ========== * Prometheus functions documentation: https://prometheus.io/docs/prometheus/latest/querying/functions/ ",,144,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I20c9ea5795046c03a4e75fa33ec666b6e4bd18d4,openstack/tripleo-upgrade,stable/train,I20c9ea5795046c03a4e75fa33ec666b6e4bd18d4,Remove glance_backend: 'file',ABANDONED,2019-11-22 14:57:26.000000000,2019-12-02 10:19:18.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 14:57:26.000000000', 'files': ['tasks/upgrade/configure_uc_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b8964eb489c5585b6ba5596e48540de750a468b9', 'message': ""Remove glance_backend: 'file'\n\nThis is creating a syntax issue\n\nChange-Id: I20c9ea5795046c03a4e75fa33ec666b6e4bd18d4\n""}]",0,695704,b8964eb489c5585b6ba5596e48540de750a468b9,5,2,1,20775,,,0,"Remove glance_backend: 'file'

This is creating a syntax issue

Change-Id: I20c9ea5795046c03a4e75fa33ec666b6e4bd18d4
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/04/695704/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/configure_uc_containers.yml'],1,b8964eb489c5585b6ba5596e48540de750a468b9,,"#- name: set hieradata_override to {{ undercloud_conf }} when not existing # block: # - name: Create undercloud hiera file # lineinfile: # state: present # create: true # path: ""{{ undercloud_hiera }}"" # regexp: '^glance_backend' # line: ""glance_backend: 'file'"" # - name: Configure hieradata_override parameter # ini_file: # path: ""{{ undercloud_conf }}"" # section: DEFAULT # option: hieradata_override # value: ""{{ undercloud_hiera }}"" # when: defined_hieradata_override.stdout_lines|length == 0 #- name: modify hieradata_override configuration when defined in {{ undercloud_conf }} # lineinfile: # state: present # path: ""{{ defined_hieradata_override.stdout }}"" # regexp: '^glance_backend' # line: ""glance_backend: 'file'"" # when: defined_hieradata_override.stdout_lines|length != 0","- name: set hieradata_override to {{ undercloud_conf }} when not existing block: - name: Create undercloud hiera file lineinfile: state: present create: true path: ""{{ undercloud_hiera }}"" regexp: '^glance_backend' line: ""glance_backend: 'file'"" - name: Configure hieradata_override parameter ini_file: path: ""{{ undercloud_conf }}"" section: DEFAULT option: hieradata_override value: ""{{ undercloud_hiera }}"" when: defined_hieradata_override.stdout_lines|length == 0 - name: modify hieradata_override configuration when defined in {{ undercloud_conf }} lineinfile: state: present path: ""{{ defined_hieradata_override.stdout }}"" regexp: '^glance_backend' line: ""glance_backend: 'file'"" when: defined_hieradata_override.stdout_lines|length != 0",23,23
openstack%2Fopenstack-manuals~master~I9b1882bd200505d3811186070bd6825631d93cd5,openstack/openstack-manuals,master,I9b1882bd200505d3811186070bd6825631d93cd5,Remove deleted openstack-chef install-guide,MERGED,2019-12-02 08:12:31.000000000,2019-12-02 10:14:47.000000000,2019-12-02 09:56:39.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-02 08:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f5f67a3db7a2a972f4f624d921803f8d4bc7a958', 'message': 'REmove deleted openstack-chef install-guide\n\nChange https://review.opendev.org/682925 removed the install-guide since\nthe project has a deploy-guide.\n\nRemove link to it so that our linter job passes again.\n\nChange-Id: I9b1882bd200505d3811186070bd6825631d93cd5\n'}, {'number': 2, 'created': '2019-12-02 08:13:33.000000000', 'files': ['www/project-data/latest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c7fa024437360438aefeadeeeb6e36f911c660e8', 'message': 'Remove deleted openstack-chef install-guide\n\nChange https://review.opendev.org/682925 removed the install-guide since\nthe project has a deploy-guide.\n\nRemove link to it so that our linter job passes again.\n\nChange-Id: I9b1882bd200505d3811186070bd6825631d93cd5\n'}]",0,696828,c7fa024437360438aefeadeeeb6e36f911c660e8,8,2,2,6547,,,0,"Remove deleted openstack-chef install-guide

Change https://review.opendev.org/682925 removed the install-guide since
the project has a deploy-guide.

Remove link to it so that our linter job passes again.

Change-Id: I9b1882bd200505d3811186070bd6825631d93cd5
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/28/696828/2 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,f5f67a3db7a2a972f4f624d921803f8d4bc7a958,fix-chef,, has_install_guide: true,0,1
openstack%2Fcinder~master~Iaafd72050a07d3f2736bea6d51c54d998d808aaa,openstack/cinder,master,Iaafd72050a07d3f2736bea6d51c54d998d808aaa,QNAP: Avoid unnecessary sleeps,MERGED,2019-07-23 11:46:37.000000000,2019-12-02 10:00:16.000000000,2019-11-28 21:50:19.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-07-23 11:46:37.000000000', 'files': ['cinder/volume/drivers/qnap.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b11d9d4300b91266868268e2fada20512a31b5e', 'message': ""QNAP: Avoid unnecessary sleeps\n\nQNAP driver is unnecessarily sleeping for a rety even when the operation\nhad succeeded and there is no need to sleep because we are not going to\nretry.\n\nThis means that most operations will end up finishing 3 seconds later\nthan they should.\n\nThis patch makes it so that we don't do those unnecessary sleeps.\n\nChange-Id: Iaafd72050a07d3f2736bea6d51c54d998d808aaa\n""}]",1,672269,6b11d9d4300b91266868268e2fada20512a31b5e,88,39,1,9535,,,0,"QNAP: Avoid unnecessary sleeps

QNAP driver is unnecessarily sleeping for a rety even when the operation
had succeeded and there is no need to sleep because we are not going to
retry.

This means that most operations will end up finishing 3 seconds later
than they should.

This patch makes it so that we don't do those unnecessary sleeps.

Change-Id: Iaafd72050a07d3f2736bea6d51c54d998d808aaa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/672269/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/qnap.py'],1,6b11d9d4300b91266868268e2fada20512a31b5e,qnap-sleep, try_times += 3 if try_times > max_wait_sec or lun_naa: eventlet.sleep(self.TIME_INTERVAL) try_times += 3 if try_times > max_wait_sec or lun_naa: eventlet.sleep(self.TIME_INTERVAL) try_times += 3 if try_times > max_wait_sec or snapshot_id: eventlet.sleep(self.TIME_INTERVAL) try_times += 3 if try_times > max_wait_sec or lun_naa: eventlet.sleep(self.TIME_INTERVAL) try_times += 3 if try_times > max_wait_sec or target_lun_id != -999: eventlet.sleep(self.TIME_INTERVAL) try_times += 3 if try_times > max_wait_sec or LUNNumber: eventlet.sleep(self.TIME_INTERVAL) try_times += 3 if try_times > max_wait_sec or target_lun_id != -999: eventlet.sleep(self.TIME_INTERVAL)," try_times = try_times + 3 eventlet.sleep(self.TIME_INTERVAL) if(try_times > max_wait_sec or lun_naa != """"): try_times = try_times + 3 eventlet.sleep(self.TIME_INTERVAL) if(try_times > max_wait_sec or lun_naa != """"): try_times = try_times + 3 eventlet.sleep(self.TIME_INTERVAL) if(try_times > max_wait_sec or snapshot_id != """"): try_times = try_times + 3 eventlet.sleep(self.TIME_INTERVAL) if(try_times > max_wait_sec or lun_naa != """"): try_times = try_times + 3 eventlet.sleep(self.TIME_INTERVAL) if(try_times > max_wait_sec or target_lun_id != -999): try_times = try_times + 3 eventlet.sleep(self.TIME_INTERVAL) if(try_times > max_wait_sec or LUNNumber != """"): try_times = try_times + 3 eventlet.sleep(self.TIME_INTERVAL) if(try_times > max_wait_sec or target_lun_id != -999):",21,21
openstack%2Fkolla~master~I8484ffc8993b28fca25885d3f712ac5c0a8939b8,openstack/kolla,master,I8484ffc8993b28fca25885d3f712ac5c0a8939b8,Switch to python3 in bindep.txt,MERGED,2019-11-25 15:20:43.000000000,2019-12-02 09:58:44.000000000,2019-12-02 09:56:52.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-25 15:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f3530ab05e904119aa699f2f6a6bd1d83c4ba445', 'message': ""Switch to python3 in bindep.txt\n\nWe've already dropped py2 support and switched to py3. This was missed.\n\nChange-Id: I8484ffc8993b28fca25885d3f712ac5c0a8939b8\nPartially-Implements: blueprint drop-py2-support\n""}, {'number': 2, 'created': '2019-11-28 18:26:24.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8f73881a7530ee5bbdf529d69ac01b440d5b69ae', 'message': ""Switch to python3 in bindep.txt\n\nWe've already dropped py2 support and switched to py3. This was missed.\n\nChange-Id: I8484ffc8993b28fca25885d3f712ac5c0a8939b8\nPartially-Implements: blueprint drop-py2-support\n""}]",0,695927,8f73881a7530ee5bbdf529d69ac01b440d5b69ae,15,4,2,14826,,,0,"Switch to python3 in bindep.txt

We've already dropped py2 support and switched to py3. This was missed.

Change-Id: I8484ffc8993b28fca25885d3f712ac5c0a8939b8
Partially-Implements: blueprint drop-py2-support
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/695927/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f3530ab05e904119aa699f2f6a6bd1d83c4ba445,bp/drop-py2-support,python3-dev [platform:dpkg] python3-devel [platform:rpm],python-dev [platform:dpkg] python-devel [platform:rpm],2,2
openstack%2Fnetworking-midonet~stable%2Focata~Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b,openstack/networking-midonet,stable/ocata,Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b,Add bindep.txt to fix unit tests,MERGED,2019-07-03 10:04:55.000000000,2019-12-02 09:54:46.000000000,2019-12-02 09:53:15.000000000,"[{'_account_id': 24}, {'_account_id': 1131}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 5196}, {'_account_id': 6159}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22816}]","[{'number': 1, 'created': '2019-07-03 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/169fc806d859377025bab9bd6d2111e37888b679', 'message': 'Add bindep.txt to fix unit tests\n\nThe unit tests fail since no mysqladmin command is installed, add\nbindep.txt to install the needed binaries in our CI environment.\n\nAdd also the usual bindep tox environment for developers.\n\nChange-Id: Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b\n(cherry picked from commit 5a978840f0c9550b8fa51f84c67c5649caf0ae37)\n(cherry picked from commit 4c1ce091ca662c65b45c78b7cc807654c59e8854)\n(cherry picked from commit f6e31fd8f5fe9e62220eded32abf182cd7ced0d7)\n(cherry picked from commit 75703332788d31a1936b9f94fc0c14137328c4b5)\n(cherry picked from commit b95f4a9ce2663481437bee61b1c711886712ede2)\n'}, {'number': 2, 'created': '2019-11-29 09:16:58.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/076dd8ac4e438e16055b52361438211e0bc6c21c', 'message': ""Add bindep.txt to fix unit tests\n\nThe unit tests fail since no mysqladmin command is installed, add\nbindep.txt to install the needed binaries in our CI environment.\n\nAdd also the usual bindep tox environment for developers.\n\npep8 job's basepython set to py27.\n\nChange-Id: Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b\n(cherry picked from commit 5a978840f0c9550b8fa51f84c67c5649caf0ae37)\n(cherry picked from commit 4c1ce091ca662c65b45c78b7cc807654c59e8854)\n(cherry picked from commit f6e31fd8f5fe9e62220eded32abf182cd7ced0d7)\n(cherry picked from commit 75703332788d31a1936b9f94fc0c14137328c4b5)\n(cherry picked from commit b95f4a9ce2663481437bee61b1c711886712ede2)\n""}]",0,668859,076dd8ac4e438e16055b52361438211e0bc6c21c,17,19,2,17685,,,0,"Add bindep.txt to fix unit tests

The unit tests fail since no mysqladmin command is installed, add
bindep.txt to install the needed binaries in our CI environment.

Add also the usual bindep tox environment for developers.

pep8 job's basepython set to py27.

Change-Id: Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b
(cherry picked from commit 5a978840f0c9550b8fa51f84c67c5649caf0ae37)
(cherry picked from commit 4c1ce091ca662c65b45c78b7cc807654c59e8854)
(cherry picked from commit f6e31fd8f5fe9e62220eded32abf182cd7ced0d7)
(cherry picked from commit 75703332788d31a1936b9f94fc0c14137328c4b5)
(cherry picked from commit b95f4a9ce2663481437bee61b1c711886712ede2)
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/59/668859/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,169fc806d859377025bab9bd6d2111e37888b679,bindep-fallback," # This environment can be used to quickly validate that all needed system # packages required to successfully execute test targets are installed [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files. deps = bindep commands = bindep test",,37,0
openstack%2Fkolla~stable%2Ftrain~I4e60fcd767f15b7da90b0143008b1d6d794c76f2,openstack/kolla,stable/train,I4e60fcd767f15b7da90b0143008b1d6d794c76f2,Horizon: install vitrage dashboard on Debian,MERGED,2019-11-29 21:24:36.000000000,2019-12-02 09:54:14.000000000,2019-12-02 09:51:36.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-29 21:24:36.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bd4a3a21cf17cabce845fce4860bbf14f993f02', 'message': 'Horizon: install vitrage dashboard on Debian\n\nChange-Id: I4e60fcd767f15b7da90b0143008b1d6d794c76f2\n(cherry picked from commit 683f9c9178ec541d2ab8f92883da66d8e2f1b956)\n'}]",0,696763,9bd4a3a21cf17cabce845fce4860bbf14f993f02,8,3,1,28374,,,0,"Horizon: install vitrage dashboard on Debian

Change-Id: I4e60fcd767f15b7da90b0143008b1d6d794c76f2
(cherry picked from commit 683f9c9178ec541d2ab8f92883da66d8e2f1b956)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/696763/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,9bd4a3a21cf17cabce845fce4860bbf14f993f02,I4e60fcd767f15b7da90b0143008b1d6d794c76f2-stable/train," 'python3-vitrage-dashboard',",,1,0
openstack%2Fkolla~stable%2Ftrain~Id84d5a1b3c70c0260b85ed7c24aa7f1e007c12d6,openstack/kolla,stable/train,Id84d5a1b3c70c0260b85ed7c24aa7f1e007c12d6,Neutron: apply db migration for BGP dynamic routing agent,MERGED,2019-11-25 10:54:00.000000000,2019-12-02 09:53:05.000000000,2019-12-02 09:51:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28374}]","[{'number': 1, 'created': '2019-11-25 10:54:00.000000000', 'files': ['docker/neutron/neutron-server/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b421830c763317d33ff1454701ac7d68bb4321dd', 'message': 'Neutron: apply db migration for BGP dynamic routing agent\n\nChange-Id: Id84d5a1b3c70c0260b85ed7c24aa7f1e007c12d6\nCloses-Bug: 1848572\n(cherry picked from commit 89372f0c5f312c222fe769a2aab8d1fce445dd84)\n'}]",0,695880,b421830c763317d33ff1454701ac7d68bb4321dd,14,4,1,28374,,,0,"Neutron: apply db migration for BGP dynamic routing agent

Change-Id: Id84d5a1b3c70c0260b85ed7c24aa7f1e007c12d6
Closes-Bug: 1848572
(cherry picked from commit 89372f0c5f312c222fe769a2aab8d1fce445dd84)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/695880/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-server/extend_start.sh'],1,b421830c763317d33ff1454701ac7d68bb4321dd,bug/1848572-stable/train, neutron-db-manage ${OPTS} --subproject neutron-dynamic-routing upgrade head,,1,0
openstack%2Ftripleo-quickstart~master~I33a818228e3366c29bc38719978673afd15bff9b,openstack/tripleo-quickstart,master,I33a818228e3366c29bc38719978673afd15bff9b,Load os_tempest skiplist only train release onwards,MERGED,2019-12-02 03:32:46.000000000,2019-12-02 09:50:07.000000000,2019-12-02 09:48:58.000000000,"[{'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 03:32:46.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07e161579b7c7fb852eedd0e36c2ad3a668ded6b', 'message': 'Load os_tempest skiplist only train release onwards\n\nhttps://review.opendev.org/694719 moves fs027 to os_tempest\nand it breaks the tempest_test_regex for stein releases for\nvalidate-tempest as in else clause os_tempest blacklist is\npassed. Making it conditional fixes the issue.\n\nCloses-Bug: #1854612\n\nChange-Id: I33a818228e3366c29bc38719978673afd15bff9b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,696811,07e161579b7c7fb852eedd0e36c2ad3a668ded6b,9,6,1,12393,,,0,"Load os_tempest skiplist only train release onwards

https://review.opendev.org/694719 moves fs027 to os_tempest
and it breaks the tempest_test_regex for stein releases for
validate-tempest as in else clause os_tempest blacklist is
passed. Making it conditional fixes the issue.

Closes-Bug: #1854612

Change-Id: I33a818228e3366c29bc38719978673afd15bff9b
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/11/696811/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,07e161579b7c7fb852eedd0e36c2ad3a668ded6b,fs027," {%- elif release not in ['pike', 'queens', 'rocky', 'stein'] -%}", {%- else -%},1,1
openstack%2Fmonasca-events-api~master~Id0b1c955a07db79e80de3347ec68d3eab996cbb6,openstack/monasca-events-api,master,Id0b1c955a07db79e80de3347ec68d3eab996cbb6,Switch to Ussuri jobs,ABANDONED,2019-10-23 08:05:26.000000000,2019-12-02 09:45:55.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 08:05:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/9ac83b10faea9fe17fd8d904da5a6a59a6cba97d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id0b1c955a07db79e80de3347ec68d3eab996cbb6\n'}]",0,690497,9ac83b10faea9fe17fd8d904da5a6a59a6cba97d,4,2,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Id0b1c955a07db79e80de3347ec68d3eab996cbb6
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/97/690497/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9ac83b10faea9fe17fd8d904da5a6a59a6cba97d,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fkolla~master~I9bf4b240839d46088ac668f26cf065dd5e3775c2,openstack/kolla,master,I9bf4b240839d46088ac668f26cf065dd5e3775c2,drop *_existing_user_fix macros,MERGED,2019-11-29 16:22:33.000000000,2019-12-02 09:43:04.000000000,2019-12-02 09:41:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-29 16:22:33.000000000', 'files': ['docker/mongodb/Dockerfile.j2', 'docker/macros.j2', 'docker/haproxy/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/opendaylight/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/70ef9a4fee0f39ff64281246968d2deb175bb4af', 'message': ""drop *_existing_user_fix macros\n\nCommit 109706aa8b26f6f915e1cadae89de8135c3b68bf bumped 'system' users\nbeyond range used by Kolla. So Debian/Ubuntu does not complain that\nsystem users created by packages exist already on package install.\n\nChange-Id: I9bf4b240839d46088ac668f26cf065dd5e3775c2\n""}]",0,696732,70ef9a4fee0f39ff64281246968d2deb175bb4af,9,4,1,24072,,,0,"drop *_existing_user_fix macros

Commit 109706aa8b26f6f915e1cadae89de8135c3b68bf bumped 'system' users
beyond range used by Kolla. So Debian/Ubuntu does not complain that
system users created by packages exist already on package install.

Change-Id: I9bf4b240839d46088ac668f26cf065dd5e3775c2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/696732/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mongodb/Dockerfile.j2', 'docker/macros.j2', 'docker/haproxy/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/opendaylight/Dockerfile.j2']",5,70ef9a4fee0f39ff64281246968d2deb175bb4af,,, # NOTE(egonzalez): ODL fails to install in debian family images with # existing odl user. First install odl and then allow usage of # install_packages macro for custom configs. {% block debian_opendaylight_install_fix_block %} {{ macros.debian_opendaylight_existing_user_fix() }} {% endblock %},0,49
openstack%2Fmonasca-events-api~master~I9f3c611029385eb9d4ff2a2ff190b441b1971f33,openstack/monasca-events-api,master,I9f3c611029385eb9d4ff2a2ff190b441b1971f33,Bump the openstackdocstheme extension to 1.20.0,MERGED,2019-08-02 06:55:03.000000000,2019-12-02 09:37:39.000000000,2019-11-27 11:55:57.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-08-02 06:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/22a6a5a868315ae5b74229bb387101300e5d4294', 'message': 'Bump the openstackdocstheme extension to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33\n'}, {'number': 2, 'created': '2019-09-24 01:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/5279fef8a4d9b73ca47c8768a340d4a6f158a98b', 'message': 'Bump the openstackdocstheme extension to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33\n'}, {'number': 3, 'created': '2019-10-09 12:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/5a91886b07b704ead93469b3d0e68a8c4f4eaaf9', 'message': 'Bump the openstackdocstheme extension to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThe change also fixed Apache Kafka URL in Events API configuration in\nDevStack plugin.\n\nChange-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33\n'}, {'number': 4, 'created': '2019-10-09 13:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/790adec251d62365ff604c40cc48ba03d63f2eae', 'message': 'Bump the openstackdocstheme extension to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThe change also fixed Apache Kafka URLs in API and persister\nconfiguration in DevStack plugin.\n\nChange-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33\n'}, {'number': 5, 'created': '2019-10-21 13:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/4425475e0caa2e14c6b29b7a5697f9b7946e6a30', 'message': 'Bump the openstackdocstheme extension to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThe change also fixed Apache Kafka URLs in API and persister\nconfiguration in DevStack plugin.\n\nDepends-On: https://review.opendev.org/689513\nChange-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33\n'}, {'number': 6, 'created': '2019-11-15 13:45:24.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'devstack/lib/events-persister.sh', 'devstack/lib/events-api.sh', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/5e7f9f193d8eb264554479f816b7aea906fa0aad', 'message': 'Bump the openstackdocstheme extension to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_elements\n- version\n- release.\n\nThe change also fixed Apache Kafka URLs in API and persister\nconfiguration in DevStack plugin.\n\nDepends-On: https://review.opendev.org/689513\nChange-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33\n'}]",0,674204,5e7f9f193d8eb264554479f816b7aea906fa0aad,34,5,6,27822,,,0,"Bump the openstackdocstheme extension to 1.20.0

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_elements
- version
- release.

The change also fixed Apache Kafka URLs in API and persister
configuration in DevStack plugin.

Depends-On: https://review.opendev.org/689513
Change-Id: I9f3c611029385eb9d4ff2a2ff190b441b1971f33
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/04/674204/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'api-ref/source/conf.py', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/conf.py']",5,22a6a5a868315ae5b74229bb387101300e5d4294,openstackdocstheme,,"project = u'OpenStack Monitoring Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",3,62
openstack%2Fkolla~stable%2Ftrain~I86b65db4a7760c2f6d2494266389dce518df89de,openstack/kolla,stable/train,I86b65db4a7760c2f6d2494266389dce518df89de,Bump OpenStack versions for Train,MERGED,2019-11-29 14:46:48.000000000,2019-12-02 09:31:22.000000000,2019-12-02 09:29:56.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28022}, {'_account_id': 30491}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-11-29 14:46:48.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/63d28c08e12c33836935c2c945047cae107712ad', 'message': 'Bump OpenStack versions for Train\n\nChange-Id: I86b65db4a7760c2f6d2494266389dce518df89de\n'}]",0,696710,63d28c08e12c33836935c2c945047cae107712ad,10,5,1,24072,,,0,"Bump OpenStack versions for Train

Change-Id: I86b65db4a7760c2f6d2494266389dce518df89de
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/696710/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,63d28c08e12c33836935c2c945047cae107712ad,," 'magnum-ui-5.2.1.tar.gz')}, 'magnum-9.1.0.tar.gz')}, 'manila-9.1.0.tar.gz')}, 'mistral-9.0.1.tar.gz')}, 'nova-20.0.1.tar.gz')},"," 'magnum-ui-5.2.0.tar.gz')}, 'magnum-9.0.0.tar.gz')}, 'manila-9.0.0.tar.gz')}, 'mistral-9.0.0.tar.gz')}, 'nova-20.0.0.tar.gz')},",5,5
openstack%2Fcookbook-openstack-telemetry~master~I52b2431da20b4ac994d920c233e6473ce275b197,openstack/cookbook-openstack-telemetry,master,I52b2431da20b4ac994d920c233e6473ce275b197,Use python3 packages on Ubuntu,MERGED,2019-11-26 00:29:19.000000000,2019-12-02 09:17:06.000000000,2019-12-02 09:17:06.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 00:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/c4740320d7dc72684598a613e5d968e6c6e12265', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: I52b2431da20b4ac994d920c233e6473ce275b197\n'}, {'number': 2, 'created': '2019-11-27 16:27:10.000000000', 'files': ['spec/common_spec.rb', 'attributes/default.rb', 'spec/collector_spec.rb', 'spec/gnocchi_install_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/3923f6ff5ce882d3e7934b1362fef19e2b051c04', 'message': 'Use python3 packages on Ubuntu\n\nPython2.7 is going EOL soon, let us deploy python3 for Rocky from the\nstart, so we avoid having to switch later.\n\nChange-Id: I52b2431da20b4ac994d920c233e6473ce275b197\n'}]",1,695996,3923f6ff5ce882d3e7934b1362fef19e2b051c04,9,2,2,21961,,,0,"Use python3 packages on Ubuntu

Python2.7 is going EOL soon, let us deploy python3 for Rocky from the
start, so we avoid having to switch later.

Change-Id: I52b2431da20b4ac994d920c233e6473ce275b197
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/96/695996/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/common_spec.rb', 'attributes/default.rb', 'spec/collector_spec.rb', 'spec/collector-rhel_spec.rb', 'spec/gnocchi_install_spec.rb']",5,c4740320d7dc72684598a613e5d968e6c6e12265,, %w(python3-gnocchi gnocchi-common gnocchi-api gnocchi-metricd python3-gnocchiclient).each do |p| it do expect(chef_run).to upgrade_package p end, it do expect(chef_run).to upgrade_package 'gnocchi-api',17,10
openstack%2Fcharm-neutron-api~master~Ib48adee32d649e5254265924175c3bf2d3437c0b,openstack/charm-neutron-api,master,Ib48adee32d649e5254265924175c3bf2d3437c0b,Remove lbaas in OpenStack Train deployments,MERGED,2019-11-22 21:08:50.000000000,2019-12-02 09:14:11.000000000,2019-11-29 19:01:06.000000000,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-11-22 21:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/2b36a66039de1b612220413a3044a7dd50dabffa', 'message': 'Remove lbaas in OpenStack Train deployments\n\nThis patch removes completely any lbaas related service or\nconfiguration for OS Train deployements.\n\nChange-Id: Ib48adee32d649e5254265924175c3bf2d3437c0b\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2019-11-25 17:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5bb7c16e6fb850003594bad80457d097c7179ada', 'message': 'Remove lbaas in OpenStack Train deployments\n\nThis patch removes completely any lbaas related service or\nconfiguration for OS Train deployements.\n\nChange-Id: Ib48adee32d649e5254265924175c3bf2d3437c0b\nCloses-Bug: #1853868\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2019-11-26 11:59:07.000000000', 'files': ['hooks/neutron_api_utils.py', 'templates/train/neutron.conf', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b36ac4b4ed228e5763034f5e8b75c761a96027a4', 'message': 'Remove lbaas in OpenStack Train deployments\n\nThis patch removes completely any lbaas related service or\nconfiguration for OS Train deployements.\n\nChange-Id: Ib48adee32d649e5254265924175c3bf2d3437c0b\nCloses-Bug: #1853868\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",6,695764,b36ac4b4ed228e5763034f5e8b75c761a96027a4,37,8,3,28014,,,0,"Remove lbaas in OpenStack Train deployments

This patch removes completely any lbaas related service or
configuration for OS Train deployements.

Change-Id: Ib48adee32d649e5254265924175c3bf2d3437c0b
Closes-Bug: #1853868
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/64/695764/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_utils.py', 'templates/train/neutron.conf', 'unit_tests/test_neutron_api_utils.py']",3,2b36a66039de1b612220413a3044a7dd50dabffa,bug/1853868," @patch.object(nutils, 'fwaas_migrate_v1_to_v2') @patch.object(charmhelpers.contrib.openstack.utils, 'get_os_codename_install_source') @patch.object(nutils, 'migrate_neutron_database') @patch.object(nutils, 'stamp_neutron_database') def test_do_openstack_upgrade_train(self, stamp_neutron_db, migrate_neutron_db, gsrc, fwaas_migrate_v1_to_v2): self.is_elected_leader.return_value = True self.os_release.return_value = 'train' self.config.side_effect = self.test_config.get self.test_config.set('openstack-origin', 'cloud:bionic-train') gsrc.return_value = 'train' self.get_os_codename_install_source.return_value = 'train' self.filter_missing_packages.return_value = ['python-neutron'] configs = MagicMock() nutils.do_openstack_upgrade(configs) self.apt_purge.assert_called_with(['python-neutron'], fatal=True) self.apt_autoremove.assert_called_with(purge=True, fatal=True) self.filter_missing_packages.assert_called_with( nutils.PURGE_PACKAGES + nutils.PURGE_PACKAGES_TRAIN) self.assertFalse(stamp_neutron_db.called) fwaas_migrate_v1_to_v2.assert_called_once_with() configs.write_all.assert_called_once_with() ",,179,1
openstack%2Fcharm-neutron-gateway~master~I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262,openstack/charm-neutron-gateway,master,I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262,Remove lbaas in OpenStack Train deployments,MERGED,2019-11-29 09:05:15.000000000,2019-12-02 09:13:50.000000000,2019-12-02 09:06:01.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-11-29 09:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/e42aed2d0c7221f57c8c293ac930f4d251cec5dc', 'message': 'Remove lbaas in OpenStack Train deployments\n\nThis patch removes completely any lbaas related service when upgrading\nto OpenStack Train.\n\nChange-Id: I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262\nCloses-Bug: #1853868\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2019-11-29 20:26:35.000000000', 'files': ['unit_tests/test_neutron_utils.py', 'hooks/neutron_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5c5d5911a0a50e45a9f1c07160bcf9fed9ff6afb', 'message': 'Remove lbaas in OpenStack Train deployments\n\nThis patch removes completely any lbaas related service when upgrading\nto OpenStack Train.\n\nChange-Id: I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262\nCloses-Bug: #1853868\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",0,696667,5c5d5911a0a50e45a9f1c07160bcf9fed9ff6afb,17,7,2,28014,,,0,"Remove lbaas in OpenStack Train deployments

This patch removes completely any lbaas related service when upgrading
to OpenStack Train.

Change-Id: I51a19e4890dfbc4c7cbb61b6d7fdfc7888ff9262
Closes-Bug: #1853868
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/67/696667/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_utils.py'],1,e42aed2d0c7221f57c8c293ac930f4d251cec5dc,bug/1853868," plugin = config('plugin') purge_packages_list = [] if cmp_os_source >= 'rocky': purge_packages_list.extend(PURGE_PACKAGES) if cmp_os_source >= 'train': purge_packages_list.append('python3-neutron-lbaas') if plugin in (OVS, OVS_ODL): purge_packages_list.append('neutron-lbaasv2-agent') return purge_packages_list", if cmp_os_source >= 'rocky': return PURGE_PACKAGES return [],8,2
openstack%2Fkolla~stable%2Fstein~Ia1f17f3bffbd59ad99e46ddd100b88617737f29c,openstack/kolla,stable/stein,Ia1f17f3bffbd59ad99e46ddd100b88617737f29c,Bump OpenStack versions for Stein,MERGED,2019-11-29 14:48:12.000000000,2019-12-02 09:04:42.000000000,2019-12-02 09:03:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-29 14:48:12.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b843a1eb18e5fcbef41656288b313a8e24dbfb0d', 'message': 'Bump OpenStack versions for Stein\n\nChange-Id: Ia1f17f3bffbd59ad99e46ddd100b88617737f29c\n'}]",0,696711,b843a1eb18e5fcbef41656288b313a8e24dbfb0d,8,3,1,24072,,,0,"Bump OpenStack versions for Stein

Change-Id: Ia1f17f3bffbd59ad99e46ddd100b88617737f29c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/696711/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,b843a1eb18e5fcbef41656288b313a8e24dbfb0d,," 'mistral-dashboard-8.1.0.tar.gz')}, 'ironic-12.1.3.tar.gz')}, 'manila-8.1.0.tar.gz')}, 'mistral-8.1.0.tar.gz')}, 'neutron-lbaas-14.0.1.tar.gz')}, 'neutron-lbaas-14.0.1.tar.gz')}, 'swift-2.21.1.tar.gz')},"," 'mistral-dashboard-8.0.0.tar.gz')}, 'ironic-12.1.2.tar.gz')}, 'manila-8.0.1.tar.gz')}, 'mistral-8.0.0.tar.gz')}, 'neutron-lbaas-14.0.0.tar.gz')}, 'neutron-lbaas-14.0.0.tar.gz')}, 'swift-2.21.0.tar.gz')},",7,7
openstack%2Fcharm-vault~master~I0e59655446c3d76ba290d8a9e53c897890b99929,openstack/charm-vault,master,I0e59655446c3d76ba290d8a9e53c897890b99929,handler: avoid to tune backend pki when service is pause/sealed,MERGED,2019-11-20 13:26:15.000000000,2019-12-02 08:52:24.000000000,2019-12-02 08:52:24.000000000,"[{'_account_id': 7730}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 13:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1165f755724b7163bf5415382459020b0efa62ab', 'message': 'handler: avoid to tune backend pki when service stopped/sealed\n\nChange-Id: I0e59655446c3d76ba290d8a9e53c897890b99929\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-11-28 12:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c446969f8412dcc4784efeb835ed1fd02dd6018f', 'message': 'handler: avoid to tune backend pki when service is pause/sealed\n\nChange-Id: I0e59655446c3d76ba290d8a9e53c897890b99929\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-11-28 15:32:58.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b0ba16efd1366c7e61f8336dd889e87a9d2c3f0c', 'message': 'handler: avoid to tune backend pki when service is pause/sealed\n\nChange-Id: I0e59655446c3d76ba290d8a9e53c897890b99929\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",1,695193,b0ba16efd1366c7e61f8336dd889e87a9d2c3f0c,16,4,3,7730,,,0,"handler: avoid to tune backend pki when service is pause/sealed

Change-Id: I0e59655446c3d76ba290d8a9e53c897890b99929
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/93/695193/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,1165f755724b7163bf5415382459020b0efa62ab,stop-start2," if not service_running('vault'): # We should wait for the service to start before to execute # and clear the flag. return client = vault.get_client(url=vault.VAULT_LOCALHOST_URL) if client.is_sealed(): log(""Unable to tune pki backend, service sealed."") else: ttl = config()['default-ttl'] max_ttl = config()['max-ttl'] vault_pki.tune_pki_backend(ttl=ttl, max_ttl=max_ttl) vault_pki.update_roles(max_ttl=max_ttl)"," ttl = config()['default-ttl'] max_ttl = config()['max-ttl'] vault_pki.tune_pki_backend(ttl=ttl, max_ttl=max_ttl) vault_pki.update_roles(max_ttl=max_ttl)",43,5
openstack%2Fcharm-vault~master~Iab86101a6b9bf2647ea852c01bb47bee47661c4f,openstack/charm-vault,master,Iab86101a6b9bf2647ea852c01bb47bee47661c4f,handler: fix publish_ca_info when unit is paused,MERGED,2019-11-20 11:07:36.000000000,2019-12-02 08:52:23.000000000,2019-12-02 08:52:23.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 11:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7706451edddb2e0d590d45c613980b61abbaec38', 'message': 'handler: fix publish_ca_info when service not running\n\nIf the service is not running we should just pass on executing this\nfunction.\n\nChange-Id: Iab86101a6b9bf2647ea852c01bb47bee47661c4f\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-11-28 12:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/72d310d58dba72523d836353f0c1df74a57caec3', 'message': 'handler: fix publish_ca_info when unit is paused\n\nIf the service is paused we should pass on executing this function.\n\nChange-Id: Iab86101a6b9bf2647ea852c01bb47bee47661c4f\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-11-28 15:32:58.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c982239239b5e55451867716511814eff438f593', 'message': 'handler: fix publish_ca_info when unit is paused\n\nIf the service is paused we should pass on executing this function.\n\nChange-Id: Iab86101a6b9bf2647ea852c01bb47bee47661c4f\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",1,695171,c982239239b5e55451867716511814eff438f593,14,3,3,7730,,,0,"handler: fix publish_ca_info when unit is paused

If the service is paused we should pass on executing this function.

Change-Id: Iab86101a6b9bf2647ea852c01bb47bee47661c4f
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/71/695171/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",2,7706451edddb2e0d590d45c613980b61abbaec38,stop-start2, if not service_running('vault'): # If service is not running no need to pass here. return,,15,2
openstack%2Fkolla~stable%2Frocky~I9b9d077fe403d28d30a065bdc4be3d55a25f07c8,openstack/kolla,stable/rocky,I9b9d077fe403d28d30a065bdc4be3d55a25f07c8,Bump OpenStack versions for Rocky,MERGED,2019-11-29 14:49:14.000000000,2019-12-02 08:51:56.000000000,2019-12-02 08:51:56.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-29 14:49:14.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/77b664315dd8bb3a7262812488e7384ef188c4e0', 'message': 'Bump OpenStack versions for Rocky\n\nChange-Id: I9b9d077fe403d28d30a065bdc4be3d55a25f07c8\n'}]",0,696712,77b664315dd8bb3a7262812488e7384ef188c4e0,7,3,1,24072,,,0,"Bump OpenStack versions for Rocky

Change-Id: I9b9d077fe403d28d30a065bdc4be3d55a25f07c8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/696712/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,77b664315dd8bb3a7262812488e7384ef188c4e0,," 'mistral-dashboard-7.1.0.tar.gz')}, 'manila-7.4.0.tar.gz')}, 'mistral-7.1.0.tar.gz')}, 'neutron-lbaas-13.0.1.tar.gz')}, 'neutron-lbaas-13.0.1.tar.gz')}, 'swift-2.19.2.tar.gz')},"," 'mistral-dashboard-7.0.1.tar.gz')}, 'manila-7.3.0.tar.gz')}, 'mistral-7.0.4.tar.gz')}, 'neutron-lbaas-13.0.0.tar.gz')}, 'neutron-lbaas-13.0.0.tar.gz')}, 'swift-2.19.1.tar.gz')},",6,6
openstack%2Fopenstack-ansible-repo_build~stable%2Fstein~I95791c10a02c353298bb3b665b3704d07a1b4efe,openstack/openstack-ansible-repo_build,stable/stein,I95791c10a02c353298bb3b665b3704d07a1b4efe,"Revert ""Create distutils cfg before install and build""",ABANDONED,2019-11-27 09:46:37.000000000,2019-12-02 08:04:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-27 09:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/5fec525c49d2d4165063b2369d148e2e86b4fb0c', 'message': 'Revert ""Create distutils cfg before install and build""\n\nThis reverts change Ib7d2a9aee9b13f38b73136f22f0b51e766c8dd10 since\nsetuptools updated and https://github.com/pypa/setuptools/pull/1830\nmerged.\n\nChange-Id: I95791c10a02c353298bb3b665b3704d07a1b4efe\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 575e95a7dff43810ded4567d8de2d49487dc979d)\n'}, {'number': 2, 'created': '2019-11-27 10:09:47.000000000', 'files': ['tasks/repo_build_wheels.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/9966b76ec7ebf568a8956009a01d05cb7324ccda', 'message': 'Revert ""Create distutils cfg before install and build""\n\nThis reverts change Ib7d2a9aee9b13f38b73136f22f0b51e766c8dd10 since\nsetuptools updated and https://github.com/pypa/setuptools/pull/1830\nmerged.\n\nChange-Id: I95791c10a02c353298bb3b665b3704d07a1b4efe\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 21a660dc5f73f068aa13ebdcab1e92404f25bd26)\n'}]",0,696263,9966b76ec7ebf568a8956009a01d05cb7324ccda,6,2,2,14200,,,0,"Revert ""Create distutils cfg before install and build""

This reverts change Ib7d2a9aee9b13f38b73136f22f0b51e766c8dd10 since
setuptools updated and https://github.com/pypa/setuptools/pull/1830
merged.

Change-Id: I95791c10a02c353298bb3b665b3704d07a1b4efe
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 21a660dc5f73f068aa13ebdcab1e92404f25bd26)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/63/696263/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_build_wheels.yml'],1,5fec525c49d2d4165063b2369d148e2e86b4fb0c,drop-distutils-cfg,,"- name: Create distutils configuration file with index mirror ini_file: dest: ""~/.pydistutils.cfg"" section: easy_install option: index_url value: ""{{ repo_build_pip_default_index }}"" when: repo_build_pip_default_index is defined ",0,8
openstack%2Fopenstack-ansible-repo_build~master~I95791c10a02c353298bb3b665b3704d07a1b4efe,openstack/openstack-ansible-repo_build,master,I95791c10a02c353298bb3b665b3704d07a1b4efe,"Revert ""Create distutils cfg before install and build""",ABANDONED,2019-11-27 09:23:44.000000000,2019-12-02 08:04:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-27 09:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/575e95a7dff43810ded4567d8de2d49487dc979d', 'message': 'Revert ""Create distutils cfg before install and build""\n\nThis reverts change Ib7d2a9aee9b13f38b73136f22f0b51e766c8dd10 since\nsetuptools updated and https://github.com/pypa/setuptools/pull/1830\nmerged.\n\nChange-Id: I95791c10a02c353298bb3b665b3704d07a1b4efe\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2019-11-27 09:57:41.000000000', 'files': ['tasks/repo_build_wheels.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/21a660dc5f73f068aa13ebdcab1e92404f25bd26', 'message': 'Revert ""Create distutils cfg before install and build""\n\nThis reverts change Ib7d2a9aee9b13f38b73136f22f0b51e766c8dd10 since\nsetuptools updated and https://github.com/pypa/setuptools/pull/1830\nmerged.\n\nChange-Id: I95791c10a02c353298bb3b665b3704d07a1b4efe\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,696255,21a660dc5f73f068aa13ebdcab1e92404f25bd26,6,2,2,14200,,,0,"Revert ""Create distutils cfg before install and build""

This reverts change Ib7d2a9aee9b13f38b73136f22f0b51e766c8dd10 since
setuptools updated and https://github.com/pypa/setuptools/pull/1830
merged.

Change-Id: I95791c10a02c353298bb3b665b3704d07a1b4efe
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/55/696255/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_build_wheels.yml'],1,575e95a7dff43810ded4567d8de2d49487dc979d,drop-distutils-cfg,,"- name: Create distutils configuration file with index mirror ini_file: dest: ""~/.pydistutils.cfg"" section: easy_install option: index_url value: ""{{ repo_build_pip_default_index }}"" when: repo_build_pip_default_index is defined ",0,8
openstack%2Fcharm-nova-compute~master~I17c07634844f2cd650135cb55fb69055ed396b30,openstack/charm-nova-compute,master,I17c07634844f2cd650135cb55fb69055ed396b30,Replace/remove multiple deprecated options in group DEFAULT,ABANDONED,2019-12-02 04:55:29.000000000,2019-12-02 05:09:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-02 04:55:29.000000000', 'files': ['templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/253f249747950ed87300b489ace5a2f3b4b0d86c', 'message': ""Replace/remove multiple deprecated options in group DEFAULT\n\n * Replace 'logdir' by 'log_dir', on versions >= mikata\n * Remove 'vnc_enabled' and refactor VNC options, on versions >= mikata\n * Remove 'use_neutron', on versions >= ocata\n * Remove 'force_dhcp_release', on versions >= ocata\n * Remove 'firewall_driver', on versions >= pike\n * Remove 'dhcpbridge', on versions >= pike\n * Remove 'dhcpbridge_flagfile', on versions >= pike\n * Remove 'disable_libvirt_livesnapshot', on versions >= stein\n * Update the stein template to use scheme/address instead of live_migration_uri\n * Add a template for train, based on stein\n\nChange-Id: I17c07634844f2cd650135cb55fb69055ed396b30\n""}]",0,696815,253f249747950ed87300b489ace5a2f3b4b0d86c,3,1,1,31189,,,0,"Replace/remove multiple deprecated options in group DEFAULT

 * Replace 'logdir' by 'log_dir', on versions >= mikata
 * Remove 'vnc_enabled' and refactor VNC options, on versions >= mikata
 * Remove 'use_neutron', on versions >= ocata
 * Remove 'force_dhcp_release', on versions >= ocata
 * Remove 'firewall_driver', on versions >= pike
 * Remove 'dhcpbridge', on versions >= pike
 * Remove 'dhcpbridge_flagfile', on versions >= pike
 * Remove 'disable_libvirt_livesnapshot', on versions >= stein
 * Update the stein template to use scheme/address instead of live_migration_uri
 * Add a template for train, based on stein

Change-Id: I17c07634844f2cd650135cb55fb69055ed396b30
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/15/696815/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/mitaka/nova.conf']",8,253f249747950ed87300b489ace5a2f3b4b0d86c,bug-1853560-multiple-deprecated-DEFAULT-options,log_dir=/var/log/nova[vnc] {% if console_vnc_type -%} enabled = True keymap = {{ console_keymap }} vncserver_listen = {{ console_listen_addr }} vncserver_proxyclient_address = {{ console_listen_addr }} {% if console_access_protocol == 'novnc' or console_access_protocol == 'vnc' -%} novncproxy_base_url = {{ novnc_proxy_address }} {% endif -%} {% if console_access_protocol == 'xvpvnc' or console_access_protocol == 'vnc' -%} xvpvncproxy_port = {{ xvpvnc_proxy_port }} xvpvncproxy_host = {{ xvpvnc_proxy_host }} xvpvncproxy_base_url = {{ xvpvnc_proxy_address }} {% endif -%} {% else -%} enabled = False {% endif -%} ,logdir=/var/log/nova{% if console_vnc_type -%} vnc_enabled = True novnc_enabled = True vnc_keymap = {{ console_keymap }} vncserver_listen = {{ console_listen_addr }} vncserver_proxyclient_address = {{ console_listen_addr }} {% if console_access_protocol == 'novnc' or console_access_protocol == 'vnc' -%} novncproxy_base_url = {{ novnc_proxy_address }} {% endif -%} {% if console_access_protocol == 'xvpvnc' or console_access_protocol == 'vnc' -%} xvpvncproxy_port = {{ xvpvnc_proxy_port }} xvpvncproxy_host = {{ xvpvnc_proxy_host }} xvpvncproxy_base_url = {{ xvpvnc_proxy_address }} {% endif -%} {% else -%} vnc_enabled = False novnc_enabled = False {% endif -%} ,441,181
openstack%2Ftripleo-ansible~master~I35eff80f7637b013d3a1a831289ec9b1e0f81431,openstack/tripleo-ansible,master,I35eff80f7637b013d3a1a831289ec9b1e0f81431,Add missing ExecReload in container service unit file,MERGED,2019-11-29 08:21:16.000000000,2019-12-02 04:20:16.000000000,2019-12-02 04:20:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 08:21:16.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a2bed6f5cb9989d3544918c7e151ba168c7cd6f', 'message': 'Add missing ExecReload in container service unit file\n\nIt may happen that we want to just reload the container. Before this\npatch, it was a ""stop and start"", while podman has the ""podman kill""\navailable, accepting the HUP signal.\n\nDoing so allows other automated tools to actually just ""reload"" the\ncontainer as we would do for a standard service.\n\nChange-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431\n'}]",0,696664,2a2bed6f5cb9989d3544918c7e151ba168c7cd6f,8,6,1,28223,,,0,"Add missing ExecReload in container service unit file

It may happen that we want to just reload the container. Before this
patch, it was a ""stop and start"", while podman has the ""podman kill""
available, accepting the HUP signal.

Doing so allows other automated tools to actually just ""reload"" the
container as we would do for a standard service.

Change-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/696664/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/templates/systemd-service.j2'],1,2a2bed6f5cb9989d3544918c7e151ba168c7cd6f,container-manage/systemd-reload,ExecReload=/usr/bin/podman kill --signal HUP {{ container_sysd_name }},,1,0
openstack%2Fpuppet-manila~master~I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,openstack/puppet-manila,master,I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc,Configure service_instance_password as secret,MERGED,2019-11-29 07:22:45.000000000,2019-12-02 02:53:55.000000000,2019-11-29 21:19:36.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 07:22:45.000000000', 'files': ['manifests/service_instance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/4a061e27d36f101870bc111a4d6b5796630adfd2', 'message': 'Configure service_instance_password as secret\n\nParameter service_instance_password should be configured as a secret.\n\nChange-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc\nCloses-Bug: #1854443\n'}]",0,696649,4a061e27d36f101870bc111a4d6b5796630adfd2,11,3,1,9414,,,0,"Configure service_instance_password as secret

Parameter service_instance_password should be configured as a secret.

Change-Id: I76482e6ffd40920903f8b4d7fe2f608d8c12bdcc
Closes-Bug: #1854443
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/49/696649/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service_instance.pp'],1,4a061e27d36f101870bc111a4d6b5796630adfd2,bug/1854443," ""${name}/service_instance_password"": value => $service_instance_password, secret => true;"," ""${name}/service_instance_password"": value => $service_instance_password;",1,1
openstack%2Fnetworking-ovn~stable%2Frocky~Iaf807ab4bdbb41dc80702283d9689ccdd499fa31,openstack/networking-ovn,stable/rocky,Iaf807ab4bdbb41dc80702283d9689ccdd499fa31,ovn-metadata-agent: dsvm-functional issues due to str conversion,MERGED,2019-11-22 18:24:40.000000000,2019-12-02 01:37:34.000000000,2019-12-02 01:37:34.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 18:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/995932d12e0d1b15efc39429624791f5808bccb0', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1843944\n(cherry picked from commit ee124454987fc5a191266ebff4fd1d77ef83567f)\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\n'}, {'number': 2, 'created': '2019-11-27 11:10:50.000000000', 'files': ['networking_ovn/agent/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f0c9ede102b992067b86184e09e36946a3f324f8', 'message': 'ovn-metadata-agent: dsvm-functional issues due to str conversion\n\nFix string to byte convertion issues that were causing failure on the following tests:\n\nTestMetadataAgent.test_agent_resync_on_non_existing_bridge\nTestMetadataAgent.test_metadata_agent_healthcheck\nTestMetadataAgent.test_agent_registration_at_chassis_create_event\nTestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats\n\nnetworking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event\n---------------------------------------------------------------------------------------------------------------------\n\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp\'\n    b\'    self.agent = self._start_metadata_agent()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent\'\n    b\'    agt.start()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start\'\n    b\'    self.sync()\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped\'\n    b\'    return f(*args, **kwargs)\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync\'\n    b\'    unused_namespaces = [ns for ns in system_namespaces if\'\n    b\'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>\'\n    b\'    ns.startswith(NS_PREFIX) and\'\n    b\'TypeError: startswith first arg must be bytes or a tuple of bytes, not str\'\n    b\'\'\n\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1843944\n(cherry picked from commit 2832cee9756f03aaaeed2c6da0bfbe50fb16df54)\nChange-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31\n'}]",2,695752,f0c9ede102b992067b86184e09e36946a3f324f8,22,6,2,11952,,,0,"ovn-metadata-agent: dsvm-functional issues due to str conversion

Fix string to byte convertion issues that were causing failure on the following tests:

TestMetadataAgent.test_agent_resync_on_non_existing_bridge
TestMetadataAgent.test_metadata_agent_healthcheck
TestMetadataAgent.test_agent_registration_at_chassis_create_event
TestMetadataAgent.test_updating_metadata_doesnt_update_controller_stats

networking_ovn.tests.functional.test_metadata_agent.TestMetadataAgent.test_agent_registration_at_chassis_create_event
---------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    b'Traceback (most recent call last):'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 75, in setUp'
    b'    self.agent = self._start_metadata_agent()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/tests/functional/test_metadata_agent.py"", line 98, in _start_metadata_agent'
    b'    agt.start()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 190, in start'
    b'    self.sync()'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 58, in wrapped'
    b'    return f(*args, **kwargs)'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 241, in sync'
    b'    unused_namespaces = [ns for ns in system_namespaces if'
    b'  File ""/opt/stack/networking-ovn/networking_ovn/agent/metadata/agent.py"", line 242, in <listcomp>'
    b'    ns.startswith(NS_PREFIX) and'
    b'TypeError: startswith first arg must be bytes or a tuple of bytes, not str'
    b''

Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1843944
(cherry picked from commit 2832cee9756f03aaaeed2c6da0bfbe50fb16df54)
Change-Id: Iaf807ab4bdbb41dc80702283d9689ccdd499fa31
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/52/695752/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/agent.py'],1,995932d12e0d1b15efc39429624791f5808bccb0,str_test_agent_registration_at_chassis_create_event," system_namespaces = tuple( ns.decode('utf-8') if isinstance(ns, bytes) else ns for ns in ip_lib.list_network_namespaces())", system_namespaces = ip_lib.list_network_namespaces(),3,1
openstack%2Fproject-config~master~I334edb00071031483f5a3e4b4715f773c0f261b1,openstack/project-config,master,I334edb00071031483f5a3e4b4715f773c0f261b1,Add zuul/nodepool and openstack/diskimage-builder to opendev tenant,MERGED,2019-11-28 10:42:24.000000000,2019-12-01 20:44:14.000000000,2019-12-01 20:44:14.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 10:42:24.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/13528f00545567e0d2a14f6ac18aecc61c4e1aae', 'message': 'Add zuul/nodepool and openstack/diskimage-builder to opendev tenant\n\nSee WIP change https://review.opendev.org/696000 where we wish to\nbuild docker images in system-config from the master branch of these\ntwo projects.  Thus we neeed to import them as required-projects.\n\nSomehow, zuul both reports a configuration failure and runs the jobs!\nI think opendev/system-config is a weird repo that sort of lives in\nopenstack too.  I believe this is the cause of the failure in that\njob.\n\nChange-Id: I334edb00071031483f5a3e4b4715f773c0f261b1\n'}]",0,696490,13528f00545567e0d2a14f6ac18aecc61c4e1aae,7,3,1,7118,,,0,"Add zuul/nodepool and openstack/diskimage-builder to opendev tenant

See WIP change https://review.opendev.org/696000 where we wish to
build docker images in system-config from the master branch of these
two projects.  Thus we neeed to import them as required-projects.

Somehow, zuul both reports a configuration failure and runs the jobs!
I think opendev/system-config is a weird repo that sort of lives in
openstack too.  I believe this is the cause of the failure in that
job.

Change-Id: I334edb00071031483f5a3e4b4715f773c0f261b1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/696490/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,13528f00545567e0d2a14f6ac18aecc61c4e1aae,zuul-imports, - openstack/diskimage-builder - zuul/nodepool,,2,0
openstack%2Frequirements~master~Iea823c851a5f1eadcf0eee10a58e3bed1fb98bfc,openstack/requirements,master,Iea823c851a5f1eadcf0eee10a58e3bed1fb98bfc,Updated from generate-constraints,MERGED,2019-12-01 06:18:17.000000000,2019-12-01 18:38:21.000000000,2019-12-01 18:37:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-01 06:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f01ed62a69b9a9d7d2378a7d98d2b24ad3c3e260', 'message': 'Updated from generate-constraints\n\nChange-Id: Iea823c851a5f1eadcf0eee10a58e3bed1fb98bfc\n'}, {'number': 2, 'created': '2019-12-01 08:36:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ae758a91ded41aa5b88590de1abd5791e154f07', 'message': 'Updated from generate-constraints\n\nChange-Id: Iea823c851a5f1eadcf0eee10a58e3bed1fb98bfc\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,696785,3ae758a91ded41aa5b88590de1abd5791e154f07,11,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Iea823c851a5f1eadcf0eee10a58e3bed1fb98bfc
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/696785/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f01ed62a69b9a9d7d2378a7d98d2b24ad3c3e260,openstack/requirements/constraints,tinyrpc===1.0.4importlib-metadata===1.0.0boto3===1.10.28keyring===19.3.0;python_version=='3.4' keyring===19.3.0;python_version=='3.5' keyring===19.3.0;python_version=='3.6' keyring===19.3.0;python_version=='3.7'botocore===1.13.28dulwich===0.19.14entrypoints===0.3;python_version=='2.7',tinyrpc===1.0.3importlib-metadata===0.23boto3===1.10.8keyring===19.2.0;python_version=='3.4' keyring===19.2.0;python_version=='3.5' keyring===19.2.0;python_version=='3.6' keyring===19.2.0;python_version=='3.7'botocore===1.13.8dulwich===0.19.13entrypoints===0.3,10,10
openstack%2Fsushy~master~Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6,openstack/sushy,master,Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6,Add OEM extension example script,MERGED,2019-10-21 16:18:48.000000000,2019-12-01 17:30:40.000000000,2019-12-01 17:29:27.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-21 16:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/14288ae07269ebbecb402e0bc499fb9cf12b1855', 'message': 'update documentation adding Dell EMC Oem extension usage for sushy task number: #36779\n\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 2, 'created': '2019-10-23 15:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/c736702547217f2c404fdf8bdeddb027d851bcb8', 'message': 'Story: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 3, 'created': '2019-10-23 16:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/fbcf4ca7ab66a15c408b687156a7528e1c2a839d', 'message': 'Story: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\nDocumentation about using OEM Dell EMC extension with sushy\nit contains a simple script example\n'}, {'number': 4, 'created': '2019-10-23 16:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b759fa8cf019ffecda66b3d8ba3ce29fd3b3e91f', 'message': 'Using OEM extension Documentation\n\nit contains a simple script example about using\nOEM Dell EMC extension with sushy\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 5, 'created': '2019-10-23 17:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d074f6bfd7dd0e74ea4490b9b5074c5fd0bd98b8', 'message': 'Using OEM extension Documentation\n\nIt contains a simple script example about using\nOEM Dell EMC extension with sushy.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 6, 'created': '2019-10-23 21:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e16d8ec39098348d682bd3334fc521c2646e1e80', 'message': 'Using OEM extension Documentation\n\nIt contains a simple script example about using\nOEM Dell EMC extension with sushy.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 7, 'created': '2019-10-24 13:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f0ad44cb85243d148b3028cddc82b6f7a43ec8f2', 'message': 'Using OEM extension Documentation\n\nIt contains a simple script example about using\nOEM Dell EMC extension with sushy.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 8, 'created': '2019-10-25 21:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/42cd55b91deaa693bd9153f410e6c321e0d853bb', 'message': 'Using OEM extension Documentation\n\nIt contains a simple script example about using\nOEM Dell EMC extension with sushy.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 9, 'created': '2019-10-28 10:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5c5f718853c73cc4ac29f413c3336dea8c69022b', 'message': 'Using OEM extension Documentation\n\nIt contains a simple script example about using\nOEM Dell EMC extension with sushy.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 10, 'created': '2019-10-29 11:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a0a6244c320e1d7c3cf5b7b911a51ae5e32a3902', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating \nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 11, 'created': '2019-10-31 17:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f375af2f3a6d691ba71c605f0393e7470af30f7c', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 12, 'created': '2019-10-31 18:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5a01bea4e0830cf13b1a120824cb88dd891322cb', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 13, 'created': '2019-10-31 22:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d6b4f472b9ff646b4d441a4f82df33ac82c03909', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 14, 'created': '2019-10-31 22:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d02c7fddaee23cb3222c64c393bc68c4651bd682', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 15, 'created': '2019-11-01 11:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e206bc2fe8586712146c78f19a2bf5ab1dd90428', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 16, 'created': '2019-11-01 13:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/94192bba2dcaaab0fa10584bcd7b651b3687d469', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 17, 'created': '2019-11-01 15:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f9c74e875f191926237621bec4ded9947f743364', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 18, 'created': '2019-11-01 15:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5fe5a3ae36d5eb90f69404c74d9c418a7290d39d', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 19, 'created': '2019-11-01 16:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5bbcd102bfed8be6889918339e988a3906aa3c8a', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 20, 'created': '2019-11-01 16:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e145c312aa0d74c0e717af45499b8a95cce65ec8', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 21, 'created': '2019-11-01 16:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d7e84ade54ed135f6c4ade459047bb50af3713fb', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 22, 'created': '2019-11-07 10:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/57700501de38af22486649c6a3cdc3caf0eed347', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 23, 'created': '2019-11-11 12:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/9588b97cc8263ebb9db5e41c1537f819d5868fe8', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 24, 'created': '2019-11-18 13:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/09eee0a6fe518bf52bd4ef8965dc269956ea3ba5', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 25, 'created': '2019-11-26 09:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/175b3dc575d59e6087b40e51ac26da2af7128f96', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 26, 'created': '2019-11-28 11:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/0ce74b2ff1eeae73a971eed2180bc10ccee359ea', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}, {'number': 27, 'created': '2019-12-01 12:12:50.000000000', 'files': ['doc/source/reference/usage.rst'], 'web_link': 'https://opendev.org/openstack/sushy/commit/015fe9b3b4f28caf26d6051ee2d522f7aa44f826', 'message': 'Add OEM extension example script\n\nThis change adds a simple example script illustrating\nOEM extension call based on Acme sushy extension package.\n\nStory: 2006610\nTask: 36779\nChange-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6\n'}]",72,689835,015fe9b3b4f28caf26d6051ee2d522f7aa44f826,85,4,27,31182,,,0,"Add OEM extension example script

This change adds a simple example script illustrating
OEM extension call based on Acme sushy extension package.

Story: 2006610
Task: 36779
Change-Id: Icf22b9d38e307a07f59112a6c462d48a8ec6c3d6
",git fetch https://review.opendev.org/openstack/sushy refs/changes/35/689835/27 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/usage.rst'],1,14288ae07269ebbecb402e0bc499fb9cf12b1855,oem_extension_documentation," ------------------------------------------------- Using OEM extensions: Dell EMC OEM extension ------------------------------------------------- .. code-block:: python import logging import os import sys import sushy from sushy_oem_idrac import utils # Enable logging at DEBUG level LOG.setLevel(logging.INFO) handler = logging.StreamHandler() handler.setLevel(logging.INFO) LOG.addHandler(handler) s = sushy.Sushy('http://localhost:8000/redfish/v1', username='foo', password='bar') # Instantiate a system object system = s.get_system('/redfish/v1/Systems/437XR1138R2') # Read system resource print(system.identity) for manager in system.managers: # Read manager identity print (manager.identity) for v_media in manager.virtual_media.get_members(): if sushy.VIRTUAL_MEDIA_CD not in v_media.media_types: continue try: manager_oem = manager.get_oem_extension('Dell') except sushy.exceptions.OEMExtensionNotFoundError: LOG.info('Dell OEM not found') continue # Read Dell manager extension print(manager_oem.get_extension()) # set boot device to sushy.VIRTUAL_MEDIA_CD oem_manager.set_virtual_boot_device( sushy.VIRTUAL_MEDIA_CD, persistent=False, manager=manager) ",,54,0
openstack%2Fzun~stable%2Fstein~Ic0fa226b4de89bdbdaeda40d1458389e73043f57,openstack/zun,stable/stein,Ic0fa226b4de89bdbdaeda40d1458389e73043f57,wsproxy: get the underlying socket for exec,MERGED,2019-12-01 11:47:03.000000000,2019-12-01 16:23:26.000000000,2019-12-01 16:22:16.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-01 11:47:03.000000000', 'files': ['zun/websocket/websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/1ce7114693cd2062027b60d8ae0dc3074f7ee9a6', 'message': 'wsproxy: get the underlying socket for exec\n\nChange-Id: Ic0fa226b4de89bdbdaeda40d1458389e73043f57\nCloses-Bug: #1853507\n(cherry picked from commit d306ed370998799d95d8a0f0c6f38c7c90ddf93f)\n(cherry picked from commit ba40a613e41f8177bc1dea79b0667aa565197826)\n'}]",0,696795,1ce7114693cd2062027b60d8ae0dc3074f7ee9a6,7,2,1,11536,,,0,"wsproxy: get the underlying socket for exec

Change-Id: Ic0fa226b4de89bdbdaeda40d1458389e73043f57
Closes-Bug: #1853507
(cherry picked from commit d306ed370998799d95d8a0f0c6f38c7c90ddf93f)
(cherry picked from commit ba40a613e41f8177bc1dea79b0667aa565197826)
",git fetch https://review.opendev.org/openstack/zun refs/changes/95/696795/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/websocket/websocketproxy.py'],1,1ce7114693cd2062027b60d8ae0dc3074f7ee9a6,bug/1853507-stable/train-stable/stein," if hasattr(tsock, ""_sock""): # NOTE(hongbin): dockerpy returns different socket class depending # on python version and base_url (see _get_raw_response_socket) so # we need to handle it in here. tsock = tsock._sock",,5,0
openstack%2Fheat-translator~master~I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02,openstack/heat-translator,master,I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02,"nit: fix loading tosca classes including ., p, y",MERGED,2019-07-25 10:28:49.000000000,2019-12-01 15:34:18.000000000,2019-12-01 15:33:13.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 26588}, {'_account_id': 27781}, {'_account_id': 31072}]","[{'number': 1, 'created': '2019-07-25 10:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/c14aaa4888b95ae342b0a0d2de285153db2d2cd4', 'message': ""nit: fix loading tosca classes including ., p, y\n\nWhen loading tosca clsses, '.', 'p' and 'y' are splited so files\nincluding these charactors in its basename are failed to load. This\npatch fixes it by removing only file extension.\n\nChange-Id: I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02\n""}, {'number': 2, 'created': '2019-09-03 01:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/01fdd97f504bc60281d483ff5bbd8ddb69dee27b', 'message': ""nit: fix loading tosca classes including ., p, y\n\nWhen loading tosca clsses, '.', 'p' and 'y' are splited so files\nincluding these charactors in its basename are failed to load. This\npatch fixes it by removing only file extension.\n\nChange-Id: I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02\n""}, {'number': 3, 'created': '2019-09-10 09:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/869d42a1368e7a59f563f7fbbb4b4d54d36e1a4f', 'message': ""nit: fix loading tosca classes including ., p, y\n\nWhen loading tosca clsses, '.', 'p' and 'y' are splited so files\nincluding these charactors in its basename are failed to load. This\npatch fixes it by removing only file extension.\n\nChange-Id: I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02\n""}, {'number': 4, 'created': '2019-11-15 06:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/4029ecdc70697038eca32482dbecfdd4a4b0f4e1', 'message': ""nit: fix loading tosca classes including ., p, y\n\nWhen loading tosca clsses, '.', 'p' and 'y' are splited so files\nincluding these charactors in its basename are failed to load. This\npatch fixes it by removing only file extension.\n\nChange-Id: I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02\n""}, {'number': 5, 'created': '2019-11-27 08:53:08.000000000', 'files': ['translator/tests/test_translate_node_template.py', 'translator/hot/translate_node_templates.py', 'translator/tests/test_conf.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/9d5056a9d787166103936f6ebd8311cbb4ddbe79', 'message': ""nit: fix loading tosca classes including ., p, y\n\nWhen loading tosca clsses, '.', 'p' and 'y' are splited so files\nincluding these charactors in its basename are failed to load. This\npatch fixes it by removing only file extension.\n\nChange-Id: I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02\n""}]",0,672685,9d5056a9d787166103936f6ebd8311cbb4ddbe79,23,6,5,26588,,,0,"nit: fix loading tosca classes including ., p, y

When loading tosca clsses, '.', 'p' and 'y' are splited so files
including these charactors in its basename are failed to load. This
patch fixes it by removing only file extension.

Change-Id: I6ad8a32982aec67f8d8aecaafcbaec803d4c7a02
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/85/672685/2 && git format-patch -1 --stdout FETCH_HEAD,['translator/hot/translate_node_templates.py'],1,c14aaa4888b95ae342b0a0d2de285153db2d2cd4,etsi_nfv-sol001, mod_name = cls_path + '/' + os.path.splitext(f)[0], mod_name = cls_path + '/' + f.strip('.py'),1,1
openstack%2Fzun~stable%2Ftrain~Ic0fa226b4de89bdbdaeda40d1458389e73043f57,openstack/zun,stable/train,Ic0fa226b4de89bdbdaeda40d1458389e73043f57,wsproxy: get the underlying socket for exec,MERGED,2019-12-01 02:07:28.000000000,2019-12-01 11:47:03.000000000,2019-12-01 04:33:51.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-01 02:07:28.000000000', 'files': ['zun/websocket/websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/ba40a613e41f8177bc1dea79b0667aa565197826', 'message': 'wsproxy: get the underlying socket for exec\n\nChange-Id: Ic0fa226b4de89bdbdaeda40d1458389e73043f57\nCloses-Bug: #1853507\n(cherry picked from commit d306ed370998799d95d8a0f0c6f38c7c90ddf93f)\n'}]",0,696782,ba40a613e41f8177bc1dea79b0667aa565197826,8,2,1,11536,,,0,"wsproxy: get the underlying socket for exec

Change-Id: Ic0fa226b4de89bdbdaeda40d1458389e73043f57
Closes-Bug: #1853507
(cherry picked from commit d306ed370998799d95d8a0f0c6f38c7c90ddf93f)
",git fetch https://review.opendev.org/openstack/zun refs/changes/82/696782/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/websocket/websocketproxy.py'],1,ba40a613e41f8177bc1dea79b0667aa565197826,bug/1853507-stable/train," if hasattr(tsock, ""_sock""): # NOTE(hongbin): dockerpy returns different socket class depending # on python version and base_url (see _get_raw_response_socket) so # we need to handle it in here. tsock = tsock._sock",,5,0
openstack%2Fproject-config~master~I2988acfe2a159b4ce173cbee0871538ed04eb4e6,openstack/project-config,master,I2988acfe2a159b4ce173cbee0871538ed04eb4e6,Normalize projects.yaml,MERGED,2019-12-01 06:54:50.000000000,2019-12-01 08:32:29.000000000,2019-12-01 08:32:28.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-01 06:54:50.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e2b5d6278bff867997a89572294741f03ea3530', 'message': 'Normalize projects.yaml\n\nChange-Id: I2988acfe2a159b4ce173cbee0871538ed04eb4e6\n'}]",0,696789,3e2b5d6278bff867997a89572294741f03ea3530,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I2988acfe2a159b4ce173cbee0871538ed04eb4e6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/696789/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,3e2b5d6278bff867997a89572294741f03ea3530,project-yaml-normalization,, upstream: https://github.com/cloudnull/ansible-plugin-container-connection,0,1
openstack%2Fnova~master~Ia3651be21f94fbd70e6889748ef4b38213753416,openstack/nova,master,Ia3651be21f94fbd70e6889748ef4b38213753416,libvirt: Remove vestigial nova-network support,MERGED,2019-11-28 11:02:05.000000000,2019-12-01 04:50:51.000000000,2019-12-01 00:51:50.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42f74d576a95962df2b0e1ecf03cbb345fed0d63', 'message': 'libvirt: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the libvirt driver,\nsimplifying some of the code in the process.\n\nChange-Id: Ia3651be21f94fbd70e6889748ef4b38213753416\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1eeeb9496bdf436098649bef04106045eca3d409', 'message': 'libvirt: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the libvirt driver,\nsimplifying some of the code in the process.\n\nChange-Id: Ia3651be21f94fbd70e6889748ef4b38213753416\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/913679d7e35787023791eea0678738b3e0fe4b65', 'message': 'libvirt: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the libvirt driver,\nsimplifying some of the code in the process.\n\nChange-Id: Ia3651be21f94fbd70e6889748ef4b38213753416\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,696501,913679d7e35787023791eea0678738b3e0fe4b65,42,12,3,15334,,,0,"libvirt: Remove vestigial nova-network support

Remove the last few references to nova-net from the libvirt driver,
simplifying some of the code in the process.

Change-Id: Ia3651be21f94fbd70e6889748ef4b38213753416
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/696501/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,42f74d576a95962df2b0e1ecf03cbb345fed0d63,bp/remove-nova-network-ussuri, not vifs_already_plugged and power_on and timeout): if events and CONF.vif_plugging_timeout: elif CONF.vif_plugging_timeout and power_on: def test_create_with_network_events_neutron(self): def test_create_with_network_events_neutron_power_off(self): def test_create_with_network_events_neutron_nowait(self): def test_create_with_network_events_neutron_failed_nonfatal_timeout(self): def test_create_with_network_events_neutron_failed_fatal_timeout(self): def test_create_with_network_events_neutron_failed_nonfatal_error(self): def test_create_with_network_events_neutron_failed_fatal_error(self):," utils.is_neutron() and not vifs_already_plugged and power_on and timeout): if events and utils.is_neutron() and CONF.vif_plugging_timeout: elif utils.is_neutron() and CONF.vif_plugging_timeout and power_on: @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=False)) def test_create_with_network_events_passed_in_nova_net(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) @mock.patch('nova.utils.is_neutron', return_value=True) def test_create_with_network_events_neutron(self, is_neutron): @mock.patch('nova.utils.is_neutron', return_value=True) def test_create_with_network_events_neutron_power_off(self, is_neutron): @mock.patch('nova.utils.is_neutron', return_value=True) def test_create_with_network_events_neutron_nowait(self, is_neutron): @mock.patch('nova.utils.is_neutron', return_value=True) def test_create_with_network_events_neutron_failed_nonfatal_timeout( self, is_neutron): @mock.patch('nova.utils.is_neutron', return_value=True) def test_create_with_network_events_neutron_failed_fatal_timeout( self, is_neutron): @mock.patch('nova.utils.is_neutron', return_value=True) def test_create_with_network_events_neutron_failed_nonfatal_error( self, is_neutron): @mock.patch('nova.utils.is_neutron', return_value=True) def test_create_with_network_events_neutron_failed_fatal_error( self, is_neutron): @mock.patch('nova.utils.is_neutron', return_value=False) def test_create_with_network_events_non_neutron(self, is_neutron): self._test_create_with_network_events() ",12,36
openstack%2Fnova~master~I565a91608f221055a8079ef02ab3b6b44f51c93a,openstack/nova,master,I565a91608f221055a8079ef02ab3b6b44f51c93a,Add TODO for cleanup network when server create reschedule,ABANDONED,2019-10-10 02:15:23.000000000,2019-12-01 02:54:16.000000000,,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-10 02:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b2727260ed95d7a125168709e1d65b28f94630d', 'message': 'Add TODO for cleanup network when server create reschedule\n\nChange-Id: I565a91608f221055a8079ef02ab3b6b44f51c93a\n'}, {'number': 2, 'created': '2019-10-10 03:24:55.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44346c133e776be7a444db52d06a19ca7208f63f', 'message': 'Add TODO for cleanup network when server create reschedule\n\nChange-Id: I565a91608f221055a8079ef02ab3b6b44f51c93a\n'}]",3,687766,44346c133e776be7a444db52d06a19ca7208f63f,17,11,2,26458,,,0,"Add TODO for cleanup network when server create reschedule

Change-Id: I565a91608f221055a8079ef02ab3b6b44f51c93a
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/687766/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,2b2727260ed95d7a125168709e1d65b28f94630d,cleanup_instance_network_on_host," # TODO(brizhang): The server creation failure should be handled. # When rescheduling is performed, the network port is cleaned up, # otherwise there will be network port residual. It may cause the # server to reschedule and generate two IPs after successful creation.",,4,0
openstack%2Fnova~master~Ia9dea804717d7afa9cf83f9689a018888987955d,openstack/nova,master,Ia9dea804717d7afa9cf83f9689a018888987955d,libvirt: Remove 'enable_hairpin',MERGED,2019-11-28 11:02:05.000000000,2019-12-01 02:33:20.000000000,2019-11-30 20:14:03.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6661427dcab5ac52932440052326f180612240c', 'message': ""libvirt: Remove 'enable_hairpin'\n\nThis was only used with nova-network.\n\nChange-Id: Ia9dea804717d7afa9cf83f9689a018888987955d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d214386965ec5dc06e7dc038590c9f166297c487', 'message': ""libvirt: Remove 'enable_hairpin'\n\nThis was only used with nova-network.\n\nChange-Id: Ia9dea804717d7afa9cf83f9689a018888987955d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/privsep/libvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/privsep/test_libvirt.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/783d4cb2463b12afee513efc8f5b3b9e78fbeaa8', 'message': ""libvirt: Remove 'enable_hairpin'\n\nThis was only used with nova-network.\n\nChange-Id: Ia9dea804717d7afa9cf83f9689a018888987955d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",5,696500,783d4cb2463b12afee513efc8f5b3b9e78fbeaa8,55,12,3,15334,,,0,"libvirt: Remove 'enable_hairpin'

This was only used with nova-network.

Change-Id: Ia9dea804717d7afa9cf83f9689a018888987955d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/696500/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/privsep/libvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/privsep/test_libvirt.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,e6661427dcab5ac52932440052326f180612240c,bp/remove-nova-network-ussuri,," @mock.patch('nova.privsep.libvirt.enable_hairpin') def test_create_domain_enable_hairpin_fails(self, mock_writefile): """"""Tests that the xml is logged when enabling hairpin mode for the domain fails. """""" # Guest.enable_hairpin is only called for nova-network. # TODO(mikal): remove this test when nova-net goes away self.flags(use_neutron=False) fake_xml = ""<test>this is a test</test>"" fake_domain = FakeVirtDomain(fake_xml) mock_writefile.side_effect = IOError def fake_get_interfaces(*args): return [""dev""] self.log_error_called = False def fake_error(msg, *args, **kwargs): self.log_error_called = True self.assertIn(fake_xml, msg % args) self.stub_out('nova.virt.libvirt.guest.LOG.error', fake_error) self.create_fake_libvirt_mock() drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.stub_out( 'nova.virt.libvirt.guest.Guest.get_interfaces', fake_get_interfaces) self.assertRaises(IOError, drvr._create_domain, domain=fake_domain, power_on=False) self.assertTrue(self.log_error_called) def fake_enable_hairpin(self): pass self.stub_out('nova.virt.libvirt.guest.Guest.enable_hairpin', fake_enable_hairpin)",0,93
openstack%2Fzun~master~Ic0fa226b4de89bdbdaeda40d1458389e73043f57,openstack/zun,master,Ic0fa226b4de89bdbdaeda40d1458389e73043f57,wsproxy: get the underlying socket for exec,MERGED,2019-11-30 23:08:49.000000000,2019-12-01 02:07:28.000000000,2019-12-01 01:20:17.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-30 23:08:49.000000000', 'files': ['zun/websocket/websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/d306ed370998799d95d8a0f0c6f38c7c90ddf93f', 'message': 'wsproxy: get the underlying socket for exec\n\nChange-Id: Ic0fa226b4de89bdbdaeda40d1458389e73043f57\nCloses-Bug: #1853507\n'}]",0,696781,d306ed370998799d95d8a0f0c6f38c7c90ddf93f,8,2,1,11536,,,0,"wsproxy: get the underlying socket for exec

Change-Id: Ic0fa226b4de89bdbdaeda40d1458389e73043f57
Closes-Bug: #1853507
",git fetch https://review.opendev.org/openstack/zun refs/changes/81/696781/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/websocket/websocketproxy.py'],1,d306ed370998799d95d8a0f0c6f38c7c90ddf93f,bug/1853507," if hasattr(tsock, ""_sock""): # NOTE(hongbin): dockerpy returns different socket class depending # on python version and base_url (see _get_raw_response_socket) so # we need to handle it in here. tsock = tsock._sock",,5,0
openstack%2Fnova~master~I170d57f834e0a0e2b373eb98a15c52a052a6bce1,openstack/nova,master,I170d57f834e0a0e2b373eb98a15c52a052a6bce1,hyperv: Remove vestigial nova-network support,MERGED,2019-11-28 11:02:05.000000000,2019-12-01 00:57:26.000000000,2019-12-01 00:51:56.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5115e093ebcb4d6187f6acdd14d0122fc5cedaf7', 'message': 'hyperv: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the Hyper-V driver,\nsimplifying some of the code in the process.\n\nChange-Id: I170d57f834e0a0e2b373eb98a15c52a052a6bce1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd840d3b4bdaf626f9e67e0d0a148d2e93d4f028', 'message': 'hyperv: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the Hyper-V driver,\nsimplifying some of the code in the process.\n\nChange-Id: I170d57f834e0a0e2b373eb98a15c52a052a6bce1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/hyperv/vif.py', 'nova/tests/unit/virt/hyperv/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ecfa674082920356b844e861e4ca3edfe66e98e', 'message': 'hyperv: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the Hyper-V driver,\nsimplifying some of the code in the process.\n\nChange-Id: I170d57f834e0a0e2b373eb98a15c52a052a6bce1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,696502,5ecfa674082920356b844e861e4ca3edfe66e98e,30,10,3,15334,,,0,"hyperv: Remove vestigial nova-network support

Remove the last few references to nova-net from the Hyper-V driver,
simplifying some of the code in the process.

Change-Id: I170d57f834e0a0e2b373eb98a15c52a052a6bce1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/696502/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/hyperv/vif.py', 'nova/tests/unit/virt/hyperv/test_vif.py']",4,5115e093ebcb4d6187f6acdd14d0122fc5cedaf7,bp/remove-nova-network-ussuri, # this is handled by neutron so just assert it doesn't blow up # this is handled by neutron so just assert it doesn't blow up,"class HyperVNovaNetworkVIFPluginTestCase(test_base.HyperVBaseTestCase): def setUp(self): super(HyperVNovaNetworkVIFPluginTestCase, self).setUp() self.vif_driver = vif.HyperVNovaNetworkVIFPlugin() def test_plug(self): self.flags(vswitch_name='fake_vswitch_name', group='hyperv') fake_vif = {'id': mock.sentinel.fake_id} self.vif_driver.plug(mock.sentinel.instance, fake_vif) netutils = self.vif_driver._netutils netutils.connect_vnic_to_vswitch.assert_called_once_with( 'fake_vswitch_name', mock.sentinel.fake_id) self.vif_driver._vif_plugin = mock.MagicMock() @mock.patch.object(vif.nova.network, 'is_neutron') def test_init_neutron(self, mock_is_neutron): mock_is_neutron.return_value = True driver = vif.HyperVVIFDriver() self.assertIsInstance(driver._vif_plugin, vif.HyperVNeutronVIFPlugin) @mock.patch.object(vif.nova.network, 'is_neutron') def test_init_nova(self, mock_is_neutron): mock_is_neutron.return_value = False driver = vif.HyperVVIFDriver() self.assertIsInstance(driver._vif_plugin, vif.HyperVNovaNetworkVIFPlugin) self.vif_driver._vif_plugin.plug.assert_called_once_with( mock.sentinel.instance, vif) self.vif_driver._vif_plugin.unplug.assert_called_once_with( mock.sentinel.instance, vif) ",11,92
openstack%2Fnova~master~I4e4ec8af40d833ed73f965e28983b1b263c13b3b,openstack/nova,master,I4e4ec8af40d833ed73f965e28983b1b263c13b3b,Add negative test for prep_snapshot_based_resize_at_source failing,MERGED,2019-07-04 01:05:27.000000000,2019-11-30 23:07:59.000000000,2019-11-30 22:30:07.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a4e31157f4e7526249859364b37b25068e09825', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 2, 'created': '2019-07-05 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39d0bc4bd17452fa0ceeae1c16ee824d6e1357a0', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 3, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6784df587c9b87bcfb2b3199defc69bc46bc05b', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 4, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c9de31176216f7b15d0690bb9f0b4cd11fa4249', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 5, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1d9f7b31e2165dc01029ae2881bff87eefdc8b7', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 6, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3992caaa1a855bc53a70c3aa3352086cf95a830f', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 7, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20165f88109f63090df4611ce880be6bd16b1f81', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 8, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85576f1f83ca1c1e543aa7c3343029268eee8c79', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 9, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0364752ea7095b8142091891d63f9f24b647b46', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 10, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce7d43c5eeb4275df73bbf3052a213e7b3820014', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 11, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/958af15a0528017ca926d7c263165e4fc7d16fe4', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 12, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eed26f65841e6170a80e4c5230932d8b0fd0809f', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 13, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2da21f29f955417068491ede59869aad7b5c0e75', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 14, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f650a7a0bf209077799170a3a01e38c1570c54d', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 15, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c688fb6f56bf99c6352650f4140ff9ef305d9865', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 16, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80ad1162c8a1810d4d6fa1068ae6a1cbc216f2c6', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 17, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/464c94ac22e1bdbab2f75dc425ef0a5a3e218136', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 18, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e43c67927db37332c3488e31fc18d06324ac500', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 19, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a21dbe48f37c6fe8b35c86c708b4a3ae8975efe4', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 20, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fb8bdc224c1d131acbdf04c2a6de011c8c4342a', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 21, 'created': '2019-11-13 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a8b10cf98cf26c6b9ae9a11dc3d0db7862beb98', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 22, 'created': '2019-11-21 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a3e42b827fd636cff2be274473b93709a653a6f', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}, {'number': 23, 'created': '2019-11-27 00:25:33.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a06bd1a961ac37f32a2ceaf1fa48933c1d4e357b', 'message': 'Add negative test for prep_snapshot_based_resize_at_source failing\n\nSimilar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds\na negative functional test to simulate driver.destroy failing in\nprep_snapshot_based_resize_at_source to assert resources are rolled\nback properly and hard-rebooting the server puts it back to ACTIVE\nstatus.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b\n'}]",0,669013,a06bd1a961ac37f32a2ceaf1fa48933c1d4e357b,201,13,23,6873,,,0,"Add negative test for prep_snapshot_based_resize_at_source failing

Similar to If6a8cf58944366917a729527cb3b87494de38fd0, this adds
a negative functional test to simulate driver.destroy failing in
prep_snapshot_based_resize_at_source to assert resources are rolled
back properly and hard-rebooting the server puts it back to ACTIVE
status.

Part of blueprint cross-cell-resize

Change-Id: I4e4ec8af40d833ed73f965e28983b1b263c13b3b
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/669013/17 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_cross_cell_migrate.py'],1,9a4e31157f4e7526249859364b37b25068e09825,bp/cross-cell-resize," self._assert_instance_not_in_cell('cell2', server['id']) self._assert_allocation_revert_on_fail(server) # Now hard reboot the server in the source cell and it should go back # to ACTIVE. self.api.post_server_action(server['id'], {'reboot': {'type': 'HARD'}}) self._wait_for_state_change(self.admin_api, server, 'ACTIVE') # Now retry the resize without the fault in the target host to make # sure things are OK (no duplicate entry errors in the target DB). self.api.post_server_action(server['id'], body) self._wait_for_state_change(self.admin_api, server, 'VERIFY_RESIZE') def _assert_instance_not_in_cell(self, cell_name, server_id): cell = self.cell_mappings[cell_name] ctxt = nova_context.get_admin_context(read_deleted='yes') with nova_context.target_cell(ctxt, cell) as cctxt: self.assertRaises( exception.InstanceNotFound, objects.Instance.get_by_uuid, cctxt, server_id) def _assert_allocation_revert_on_fail(self, server): volume_backed = False if server['image'] else True server['flavor'], server_allocs[source_rp_uuid]['resources'], volume_backed=volume_backed) def test_prep_snapshot_based_resize_at_source_destroy_fails(self): """"""Negative test where prep_snapshot_based_resize_at_source fails destroying the guest for the non-volume backed server and asserts resources are rolled back. """""" # Create a non-volume backed server for the snapshot flow. flavors = self.api.get_flavors() flavor1 = flavors[0] server = self._create_server(flavor1) # Now mock out the snapshot method on the source host to fail # during _prep_snapshot_based_resize_at_source and then resize # the server. source_host = server['OS-EXT-SRV-ATTR:host'] error = exception.HypervisorUnavailable(host=source_host) with mock.patch.object(self.computes[source_host].driver, 'destroy', side_effect=error): flavor2 = flavors[1]['id'] body = {'resize': {'flavorRef': flavor2}} self.api.post_server_action(server['id'], body) # The server should go to ERROR state with a fault record and # the API should still be showing the server from the source cell # because the instance mapping was not updated. server = self._wait_for_server_parameter( self.admin_api, server, {'status': 'ERROR', 'OS-EXT-STS:task_state': None}) # The migration should be in 'error' status. self._wait_for_migration_status(server, ['error']) # Assert a fault was recorded. self.assertIn('fault', server) self.assertIn('Connection to the hypervisor is broken', server['fault']['message']) # The instance in the target cell DB should have been hard-deleted. self._assert_instance_not_in_cell('cell2', server['id']) # Assert that migration-based allocations were properly reverted. self._assert_allocation_revert_on_fail(server)"," target_cell = self.cell_mappings['cell2'] ctxt = nova_context.get_admin_context(read_deleted='yes') with nova_context.target_cell(ctxt, target_cell) as cctxt: self.assertRaises( exception.InstanceNotFound, objects.Instance.get_by_uuid, cctxt, server['id']) flavors[0], server_allocs[source_rp_uuid]['resources'], volume_backed=True)",63,8
openstack%2Fnova~stable%2Frocky~I2ab56005db363f81eecf07c3db62c267ba7f8ca9,openstack/nova,stable/rocky,I2ab56005db363f81eecf07c3db62c267ba7f8ca9,Nova compute: add in log exception to help debug failures,MERGED,2019-11-05 14:06:57.000000000,2019-11-30 22:28:43.000000000,2019-11-30 19:16:57.000000000,"[{'_account_id': 1653}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-05 14:06:57.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eab5da85eae72d7e6bd91813c6773e7347c4798b', 'message': ""Nova compute: add in log exception to help debug failures\n\nWhen the system is under load, there can be boot failures. One\nexception seen in the log file is:\n\n''NoneType' object has no attribute 'status_code''\n\nThere is no log trace which helps pinpoint this client call.\nNote that this is only one example.\n\nWe now add in a LOG.exception to have the stack trace.\n\nRelated-Bug: #1850682\n\nChange-Id: I2ab56005db363f81eecf07c3db62c267ba7f8ca9\n(cherry picked from commit 9062fd392374f546da58651a785f47c3906204dc)\n(cherry picked from commit 35b5dc0d9793742d759a8cae2de33f450c75f2a1)\n(cherry picked from commit defe542eb130cd9ad621493fbf98a6a3458c4169)\n""}]",0,693009,eab5da85eae72d7e6bd91813c6773e7347c4798b,39,9,1,6873,,,0,"Nova compute: add in log exception to help debug failures

When the system is under load, there can be boot failures. One
exception seen in the log file is:

''NoneType' object has no attribute 'status_code''

There is no log trace which helps pinpoint this client call.
Note that this is only one example.

We now add in a LOG.exception to have the stack trace.

Related-Bug: #1850682

Change-Id: I2ab56005db363f81eecf07c3db62c267ba7f8ca9
(cherry picked from commit 9062fd392374f546da58651a785f47c3906204dc)
(cherry picked from commit 35b5dc0d9793742d759a8cae2de33f450c75f2a1)
(cherry picked from commit defe542eb130cd9ad621493fbf98a6a3458c4169)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/693009/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,eab5da85eae72d7e6bd91813c6773e7347c4798b,more-info," LOG.exception('Failed to build and run instance', instance=instance)",,2,0
openstack%2Fnova~stable%2Fstein~Icf57f217f03ac52b1443addc34aa5128661a8554,openstack/nova,stable/stein,Icf57f217f03ac52b1443addc34aa5128661a8554,Add --instance option to heal_allocations,MERGED,2019-11-06 15:44:50.000000000,2019-11-30 22:28:19.000000000,2019-11-30 19:16:43.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-06 15:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b26d27aebb70149133670e3b338113147baf1bfc', 'message': 'Add --instance option to heal_allocations\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding an --instance option to the command which, when\nspecified, will process just the single instance given.\n\nChange-Id: Icf57f217f03ac52b1443addc34aa5128661a8554\n(cherry picked from commit c92b297896161e11b6e423a3ae50f7d6c21cb5bd)\n'}, {'number': 2, 'created': '2019-11-21 22:32:58.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-instance-uuid-9aa93fdef5015c64.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/92645be4bb2f580b7499b1d7d162abf8caf2cdd6', 'message': 'Add --instance option to heal_allocations\n\nThis resolves one of the TODOs in the heal_allocations CLI\nby adding an --instance option to the command which, when\nspecified, will process just the single instance given.\n\nNOTE(mriedem): The ""since version"" part of the CLI docs change\nis removed here since it does not make sense to mention this\nis a new option since Train in the Stein docs.\n\nChange-Id: Icf57f217f03ac52b1443addc34aa5128661a8554\n(cherry picked from commit c92b297896161e11b6e423a3ae50f7d6c21cb5bd)\n'}]",2,693200,92645be4bb2f580b7499b1d7d162abf8caf2cdd6,38,9,2,6873,,,0,"Add --instance option to heal_allocations

This resolves one of the TODOs in the heal_allocations CLI
by adding an --instance option to the command which, when
specified, will process just the single instance given.

NOTE(mriedem): The ""since version"" part of the CLI docs change
is removed here since it does not make sense to mention this
is a new option since Train in the Stein docs.

Change-Id: Icf57f217f03ac52b1443addc34aa5128661a8554
(cherry picked from commit c92b297896161e11b6e423a3ae50f7d6c21cb5bd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/693200/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'releasenotes/notes/heal-allocations-instance-uuid-9aa93fdef5015c64.yaml']",4,b26d27aebb70149133670e3b338113147baf1bfc,heal_allocations_dry_run,--- other: - | An ``--instance`` option has been added to the ``nova-manage placement heal_allocations`` CLI which allows running the command on a specific instance given its UUID. ,,101,12
openstack%2Fnova~master~If6a8cf58944366917a729527cb3b87494de38fd0,openstack/nova,master,If6a8cf58944366917a729527cb3b87494de38fd0,Add negative test for cross-cell finish_resize failing,MERGED,2019-03-14 20:23:35.000000000,2019-11-30 22:21:21.000000000,2019-11-30 20:13:56.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25314}, {'_account_id': 26515}, {'_account_id': 27679}, {'_account_id': 29963}, {'_account_id': 30398}]","[{'number': 1, 'created': '2019-03-14 20:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a10903181a3f9ee703cf12b47880e3b655a6947', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 2, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71afd72c4431b4b3032114f056a0acf1f13c4ecd', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 3, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18d7f89322968df987a27f2a0cae615067dc191f', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 4, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fea4f2c720a6e1faa61cee348898b59cfb289ee', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 5, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fba080315415750ac5a34a85c88a30a5a968730a', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 6, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00ac457f6fed9619befc20778b92e2302fff80bf', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 7, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82adc3b728c90a848757409f002c8b3940db8fc1', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 8, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2779757c785fe3aec17a14b4ac74beb5bda78780', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 9, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27c97c2e56816ba4eac684d7ae55e00df7738f84', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 10, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8f905c51abac66b0f80d7e9bd7743044858c321', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 11, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49f9d5e22062a30ef7adb2d15430ca7e4f0c44ed', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 12, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90485e526a92b27ad68dac05ff793a2c260755d5', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 13, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0009bf17921b94a87c3e73d2101f2954c714da5', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 14, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c92344a4d4929cc6ccb0d847530bf8d4ca6cddc0', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 15, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4b9014bf6434f998566d55d264c0493e1219bb5', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 16, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eae3a385a7ac76dce94484ee8cb054531817efab', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 17, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/987398e62b4d493a048825563a4ea473722ace1c', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 18, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53699c6ff5feb679d31af80c260f3599c16a2ff1', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 19, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0ce8e7357466977a8998eeb31534faa6890ad52', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 20, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d3a0b296645beb3bfad252ed542e72d385f0909', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 21, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bf2758330fd3f915a8a3200a87119e56b9eba89', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 22, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de5c003ce6c6174e8ad65b7b016121841c175ded', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 23, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/950f735bfc14e13cee8bd7f8b5ca0f701c0a2f99', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 24, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16a728c1e68acecf9b523178fd53356ce05cc918', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 25, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1373d66f408e9cb337b781fcd296f1992fb2ca3', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 26, 'created': '2019-07-05 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52b1e1b5a861f46a24d0344e55b378c3faba77de', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 27, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1d7b1f79443a1b3769de9a33a8bb712807360bf', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 28, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57d696573e343b12bd5e1b45b682b01d94e1e531', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 29, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed2547e6cfbfa0ed7859087398f1638f2840d9d9', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 30, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/412508bd0d6c77c1f6cfe7a68e77d4bf5155d514', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 31, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/390e1f6b23c486961fe1b3e14940cad8c017081e', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 32, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a212bef6e972c4b3b7543163a7426fd3cb751ff', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 33, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb697da5366a1a7ac12399af22ede3d52a83b407', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 34, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b028a6863f07b3eb73a5e4718bac08c34c16d78', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 35, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16ae391fd97b1875f3b23a01bdb05a1df3e6ec1b', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 36, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0a40757425cef75cc35855f2151a4d7b1c86f95', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 37, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32cdf723bc097761c3dc8393a883757fb7b66153', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 38, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/564c692b873b6790589ba3e31d060fc77392006c', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 39, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3acef7b01ab3925e0a00c294e97d5f9df977c529', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 40, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c538ef723a6a6b6062d8ad46920c96e0bbdb6fa', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 41, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66cb424083e380645f2f33d4004e41a1d8da7e6f', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 42, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/251f3fafd999bd94538e68a45510eea49b086f18', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 43, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7a7026142f984166ca6259e48ccc4db5c092190', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 44, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a4df530cbcac685895b2bc88014512c956481c2', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 45, 'created': '2019-11-13 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f2596bd751782bbee762b68b1c2d12a65e13b26', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 46, 'created': '2019-11-21 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dd356dd278f551cca5d17f0bbc6fe59a13d9843', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}, {'number': 47, 'created': '2019-11-27 00:25:33.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f30dcafc18b3265af2f6325f693479ddb61f5d2', 'message': 'Add negative test for cross-cell finish_resize failing\n\nThis adds a functional test where the finish resize on the\ndest compute fails triggering a rollback in conductor. The\ntest also hard reboots the server in the source cell to\nrecover it from ERROR to ACTIVE status.\n\nFinally, the server is resized again without the fault\ninjected to make sure the target cell DB was properly\ncleaned up on rollback from the initial resize failure.\n\nBecause prep_snapshot_based_resize_at_source will destroy\nthe guest from the source hypervisor, this change needs to\nimplement some reboot logic in the fake driver such that\nif a hard reboot is being attempted on a guest that is not\nbeing tracked, the fake driver will (re)spawn the guest\nsimilar to how hard reboot works for the libvirt driver.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6a8cf58944366917a729527cb3b87494de38fd0\n'}]",7,643451,1f30dcafc18b3265af2f6325f693479ddb61f5d2,483,21,47,6873,,,0,"Add negative test for cross-cell finish_resize failing

This adds a functional test where the finish resize on the
dest compute fails triggering a rollback in conductor. The
test also hard reboots the server in the source cell to
recover it from ERROR to ACTIVE status.

Finally, the server is resized again without the fault
injected to make sure the target cell DB was properly
cleaned up on rollback from the initial resize failure.

Because prep_snapshot_based_resize_at_source will destroy
the guest from the source hypervisor, this change needs to
implement some reboot logic in the fake driver such that
if a hard reboot is being attempted on a guest that is not
being tracked, the fake driver will (re)spawn the guest
similar to how hard reboot works for the libvirt driver.

Part of blueprint cross-cell-resize

Change-Id: If6a8cf58944366917a729527cb3b87494de38fd0
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/643451/41 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_cross_cell_migrate.py'],1,4a10903181a3f9ee703cf12b47880e3b655a6947,bp/cross-cell-resize,"from nova import exception def test_finish_snapshot_based_resize_at_dest_spawn_fails(self): """"""Negative test where the driver spawn fails on the dest host during finish_snapshot_based_resize_at_dest which triggers a rollback of the instance data in the target cell. Furthermore, the test will hard reboot the server in the source cell to recover it from ERROR status. """""" # Create a volume-backed server. This is more interesting for rollback # testing to make sure the volume attachments in the target cell were # cleaned up on failure. flavors = self.api.get_flavors() server = self._create_server(flavors[0], volume_backed=True) # Now mock out the spawn method on the destination host to fail # during _finish_snapshot_based_resize_at_dest_spawn and then resize # the server. error = exception.HypervisorUnavailable(host='host2') with mock.patch.object(self.computes['host2'].driver, 'spawn', side_effect=error): flavor2 = flavors[1]['id'] body = {'resize': {'flavorRef': flavor2}} self.api.post_server_action(server['id'], body) # The server should go to ERROR state with a fault record and # the API should still be showing the server from the source cell # because the instance mapping was not updated. server = self._wait_for_state_change( self.admin_api, server, 'ERROR') # Assert a fault was recorded. self.assertIn('fault', server) self.assertIn('Connection to the hypervisor is broken', server['fault']['message']) # The migration should be in 'error' status. self._wait_for_migration_status(server, ['error']) # The instance in the target cell DB should have been deleted. target_cell = self.cell_mappings['cell2'] ctxt = nova_context.get_admin_context() with nova_context.target_cell(ctxt, target_cell) as cctxt: self.assertRaises( exception.InstanceNotFound, objects.Instance.get_by_uuid, cctxt, server['id']) # Assert that there is only one volume attachment for the server, i.e. # the one in the target cell was deleted. self.assertEqual(1, self._count_volume_attachments(server['id']), self.cinder.volume_to_attachment) # Now hard reboot the server in the source cell and it should go back # to ACTIVE. self.api.post_server_action(server['id'], {'reboot': {'type': 'HARD'}}) self._wait_for_state_change(self.admin_api, server, 'ACTIVE')", # TODO(mriedem): Test a failure scenario where the server is recovered via # rebuild in the source cell.,51,2
openstack%2Fproject-config~master~I3d512b631db5a81ab83ba9dfde962a8555815957,openstack/project-config,master,I3d512b631db5a81ab83ba9dfde962a8555815957,projects: add openstack/ansible-plugin-container-connection,MERGED,2019-08-14 14:25:15.000000000,2019-11-30 21:05:21.000000000,2019-11-30 21:05:20.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 7353}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-14 14:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7d6e534e438d9bde3da0e5c729b38924f390c033', 'message': 'projects: add openstack/ansible-plugin-container-connection\n\nThis adds a new project which is used to talk to containers\nwithin remote machines.  It is using a new ACL called\nopenstack-ansible-collab as it will be a collaborative\neffort between TripleO and OSA[1].\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007880.html\n\nChange-Id: I3d512b631db5a81ab83ba9dfde962a8555815957\n'}, {'number': 2, 'created': '2019-11-29 16:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b5dc72eb8dd4d76180dcd060e4ec35e17e644f67', 'message': 'projects: add openstack/ansible-plugin-container-connection\n\nThis adds a new project which is used to talk to containers\nwithin remote machines.  It is using a new ACL called\nopenstack-ansible-collab as it will be a collaborative\neffort between TripleO and OSA[1].\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007880.html\n\nChange-Id: I3d512b631db5a81ab83ba9dfde962a8555815957\n'}, {'number': 3, 'created': '2019-11-29 16:52:50.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/openstack-ansible-sig.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8cb06360e86d9a3d8bbfddad861b10c5068e8f27', 'message': 'projects: add openstack/ansible-plugin-container-connection\n\nThis adds a new project which is used to talk to containers\nwithin remote machines.  It is using a new ACL called\nopenstack-ansible-sig as it will be a collaborative\neffort between TripleO and OSA[1].\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007880.html\n\nNeeded-By: https://review.opendev.org/696737\nChange-Id: I3d512b631db5a81ab83ba9dfde962a8555815957\n'}]",2,676421,8cb06360e86d9a3d8bbfddad861b10c5068e8f27,20,7,3,1004,,,0,"projects: add openstack/ansible-plugin-container-connection

This adds a new project which is used to talk to containers
within remote machines.  It is using a new ACL called
openstack-ansible-sig as it will be a collaborative
effort between TripleO and OSA[1].

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007880.html

Needed-By: https://review.opendev.org/696737
Change-Id: I3d512b631db5a81ab83ba9dfde962a8555815957
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/676421/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/openstack-ansible-collab.config']",3,7d6e534e438d9bde3da0e5c729b38924f390c033,ansible-sig,"[access ""refs/heads/*""] abandon = group openstack-ansible-collab label-Code-Review = -2..+2 group openstack-ansible-collab label-Workflow = -1..+1 group openstack-ansible-collab [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,16,0
openstack%2Frequirements~master~Iac9156fdc0385806efef6b7c3209ac20aebf8b3b,openstack/requirements,master,Iac9156fdc0385806efef6b7c3209ac20aebf8b3b,Updated from generate-constraints,MERGED,2019-11-30 06:10:54.000000000,2019-11-30 20:30:42.000000000,2019-11-30 20:29:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-30 06:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5acccbb854fcc8d870937ea040f9de81b8ed94b0', 'message': 'Updated from generate-constraints\n\nChange-Id: Iac9156fdc0385806efef6b7c3209ac20aebf8b3b\n'}, {'number': 2, 'created': '2019-11-30 06:27:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cc1fb3c45a24f352041ac636750adde99163acb9', 'message': 'Updated from generate-constraints\n\nChange-Id: Iac9156fdc0385806efef6b7c3209ac20aebf8b3b\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,696769,cc1fb3c45a24f352041ac636750adde99163acb9,9,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Iac9156fdc0385806efef6b7c3209ac20aebf8b3b
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/696769/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5acccbb854fcc8d870937ea040f9de81b8ed94b0,openstack/requirements/constraints/noclob,tabulate===0.8.6certifi===2019.11.28thriftpy2===0.4.9;python_version=='2.7'tinyrpc===1.0.4mypy===0.750;python_version=='3.4' mypy===0.750;python_version=='3.5' mypy===0.750;python_version=='3.6' mypy===0.750;python_version=='3.7'boto3===1.10.28edgegrid-python===1.1.1more-itertools===8.0.0;python_version=='3.4' more-itertools===8.0.0;python_version=='3.5' more-itertools===8.0.0;python_version=='3.6' more-itertools===8.0.0;python_version=='3.7'botocore===1.13.28ndg-httpsclient===0.5.1jaeger-client===4.2.0sysv-ipc===1.0.1,edgegrid-python===1.1.1tabulate===0.8.5certifi===2019.9.11thriftpy2===0.4.8;python_version=='2.7'tinyrpc===1.0.3mypy===0.740;python_version=='3.4' mypy===0.740;python_version=='3.5' mypy===0.740;python_version=='3.6' mypy===0.740;python_version=='3.7'boto3===1.10.8more-itertools===7.2.0;python_version=='3.4' more-itertools===7.2.0;python_version=='3.5' more-itertools===7.2.0;python_version=='3.6' more-itertools===7.2.0;python_version=='3.7'botocore===1.13.8ndg-httpsclient===0.5.1;python_version=='2.7'jaeger-client===4.1.0sysv-ipc===1.0.0,18,18
openstack%2Fzun~master~Ic04408565a498712f3c225adeb56a1b7e290a2f6,openstack/zun,master,Ic04408565a498712f3c225adeb56a1b7e290a2f6,capsule: ignore image_pull_policy if disallowed by policy,MERGED,2019-10-27 22:46:28.000000000,2019-11-30 20:15:18.000000000,2019-11-30 20:13:52.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-27 22:46:28.000000000', 'files': ['zun/api/controllers/v1/capsules.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/99aab3d34b4148880721646667caa68abec593be', 'message': ""capsule: ignore image_pull_policy if disallowed by policy\n\nIn Zun, the default policy would disallowed non-admin users to\nspecify image_pull_policy. However, this doesn't work nicely with\nvirtual-kubelet. Starting from this commit, we ignore\nimage_pull_policy and continue to process the request instead of\nfailing it.\n\nChange-Id: Ic04408565a498712f3c225adeb56a1b7e290a2f6\n""}]",0,691535,99aab3d34b4148880721646667caa68abec593be,13,2,1,11536,,,0,"capsule: ignore image_pull_policy if disallowed by policy

In Zun, the default policy would disallowed non-admin users to
specify image_pull_policy. However, this doesn't work nicely with
virtual-kubelet. Starting from this commit, we ignore
image_pull_policy and continue to process the request instead of
failing it.

Change-Id: Ic04408565a498712f3c225adeb56a1b7e290a2f6
",git fetch https://review.opendev.org/openstack/zun refs/changes/35/691535/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/capsules.py'],1,99aab3d34b4148880721646667caa68abec593be,," if not policy.enforce( context, ""container:create:image_pull_policy"", action=""container:create:image_pull_policy"", do_raise=False): LOG.info(""Policy doesn't support image_pull_policy"") container_spec.pop('image_pull_policy')"," policy.enforce(context, ""container:create:image_pull_policy"", action=""container:create:image_pull_policy"")",6,2
openstack%2Fzun~master~Ie52c49d47a09c75ceebc9d88cf4a2aa8337d73cf,openstack/zun,master,Ie52c49d47a09c75ceebc9d88cf4a2aa8337d73cf,update review site link,MERGED,2019-11-04 07:47:53.000000000,2019-11-30 19:34:49.000000000,2019-11-30 19:33:44.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2019-11-04 07:47:53.000000000', 'files': ['doc/source/contributor/gerrit.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/11b6db171fc7568f07b8696eb9de25b160ced522', 'message': 'update review site link\n\nChange-Id: Ie52c49d47a09c75ceebc9d88cf4a2aa8337d73cf\n'}]",0,692768,11b6db171fc7568f07b8696eb9de25b160ced522,8,3,1,30092,,,0,"update review site link

Change-Id: Ie52c49d47a09c75ceebc9d88cf4a2aa8337d73cf
",git fetch https://review.opendev.org/openstack/zun refs/changes/68/692768/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/gerrit.rst'],1,11b6db171fc7568f07b8696eb9de25b160ced522,,is https://review.opendev.org.,is https://review.openstack.org.,1,1
openstack%2Fzun~stable%2Ftrain~I236d5c39b0415cc345a11ab5e79d7e7082f367c9,openstack/zun,stable/train,I236d5c39b0415cc345a11ab5e79d7e7082f367c9,Convert str to bytes on wsproxy,MERGED,2019-11-30 15:48:05.000000000,2019-11-30 19:34:47.000000000,2019-11-30 19:33:43.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-30 15:48:05.000000000', 'files': ['zun/websocket/websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/a8bba6d04de696b7ec234d2c39491ece73fccc4e', 'message': 'Convert str to bytes on wsproxy\n\nIn python3, concatenating string to bytes is not supported so\nzun-wsproxy broke. This commit convert string to bytes before\nsending the buffer.\n\nChange-Id: I236d5c39b0415cc345a11ab5e79d7e7082f367c9\nCloses-Bug: #1854090\n(cherry picked from commit 8fbd944cd561d2f67bc2140da08bb9bb926c0428)\n'}]",0,696773,a8bba6d04de696b7ec234d2c39491ece73fccc4e,9,2,1,11536,,,0,"Convert str to bytes on wsproxy

In python3, concatenating string to bytes is not supported so
zun-wsproxy broke. This commit convert string to bytes before
sending the buffer.

Change-Id: I236d5c39b0415cc345a11ab5e79d7e7082f367c9
Closes-Bug: #1854090
(cherry picked from commit 8fbd944cd561d2f67bc2140da08bb9bb926c0428)
",git fetch https://review.opendev.org/openstack/zun refs/changes/73/696773/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/websocket/websocketproxy.py'],1,a8bba6d04de696b7ec234d2c39491ece73fccc4e,bug/1854090-stable/train,"import six if isinstance(buf, six.string_types): buf = buf.encode()",,3,0
openstack%2Fnova~stable%2Fstein~I3847567601a5bd38e9774f75914b6dda50c9dd40,openstack/nova,stable/stein,I3847567601a5bd38e9774f75914b6dda50c9dd40,Add BFV wrinkle to TestNovaManagePlacementHealAllocations,MERGED,2019-11-06 15:44:50.000000000,2019-11-30 19:20:08.000000000,2019-11-30 19:16:51.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-06 15:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59fb6fc0769d1b519ab3bf4eb3752df7946516c0', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle for that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n(cherry picked from commit c00912db51f6af42c8560b0c0981940a41100d63)\n""}, {'number': 2, 'created': '2019-11-21 22:32:58.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87f7a4268fae8a419e7dadbdbc295f97c904d738', 'message': ""Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n\nThe heal_allocations command is using the\nnova.scheduler.utils.resources_from_flavor method to build\nthe dictionary of resource allocations to PUT to placement\nand that method has a volume-backed instance check in it to\navoid creating DISK_GB allocations for volume-backed servers.\nWe weren't testing any volume-backed servers in the\nheal_allocations functional tests though so this adds a\nwrinkle for that coverage.\n\nChange-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40\n(cherry picked from commit c00912db51f6af42c8560b0c0981940a41100d63)\n""}]",0,693201,87f7a4268fae8a419e7dadbdbc295f97c904d738,22,7,2,6873,,,0,"Add BFV wrinkle to TestNovaManagePlacementHealAllocations

The heal_allocations command is using the
nova.scheduler.utils.resources_from_flavor method to build
the dictionary of resource allocations to PUT to placement
and that method has a volume-backed instance check in it to
avoid creating DISK_GB allocations for volume-backed servers.
We weren't testing any volume-backed servers in the
heal_allocations functional tests though so this adds a
wrinkle for that coverage.

Change-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40
(cherry picked from commit c00912db51f6af42c8560b0c0981940a41100d63)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/693201/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_nova_manage.py'],1,59fb6fc0769d1b519ab3bf4eb3752df7946516c0,heal_allocations_dry_run,"from nova.tests import fixtures as nova_fixtures self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) def _boot_and_assert_no_allocations(self, flavor, hostname, volume_backed=False): :param volume_backed: True if the server should be volume-backed and as a result not have any DISK_GB allocation if volume_backed: vol_id = nova_fixtures.CinderFixtureNewAttachFlow.IMAGE_BACKED_VOL server_req['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': vol_id }] server_req['imageRef'] = '' server, rp_uuid = self._boot_and_assert_no_allocations( self.flavor, 'cell1', volume_backed=True) # Make sure there is no DISK_GB allocation for the volume-backed # instance but there is a VCPU allocation based on the flavor. allocs = self._get_allocations_by_server_uuid( server['id'])[rp_uuid]['resources'] self.assertNotIn('DISK_GB', allocs) self.assertEqual(self.flavor['vcpus'], allocs['VCPU'])"," def _boot_and_assert_no_allocations(self, flavor, hostname): server, _ = self._boot_and_assert_no_allocations( self.flavor, 'cell1')",23,3
openstack%2Fkuryr~master~I3655e32d9e9d8cfb9ed85e3d2d28ea9c3c16a470,openstack/kuryr,master,I3655e32d9e9d8cfb9ed85e3d2d28ea9c3c16a470,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:38:37.000000000,2019-11-30 19:11:41.000000000,2019-11-30 19:10:36.000000000,"[{'_account_id': 8556}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-04-23 11:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/74e81af80eae309234eeaa92a4db34318456bb14', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3655e32d9e9d8cfb9ed85e3d2d28ea9c3c16a470\n'}, {'number': 2, 'created': '2019-04-24 06:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/70b740645c005a3795ebb917c252f500d6666e9f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3655e32d9e9d8cfb9ed85e3d2d28ea9c3c16a470\n'}, {'number': 3, 'created': '2019-09-13 17:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/bd0c7ff9b45af24543bc6d5e6ebd331b273c63fd', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3655e32d9e9d8cfb9ed85e3d2d28ea9c3c16a470\n'}, {'number': 4, 'created': '2019-10-13 09:02:01.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/cbca2da4b7a0ed2cab2d46489601aef4d17a3f68', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I3655e32d9e9d8cfb9ed85e3d2d28ea9c3c16a470\n'}]",2,655020,cbca2da4b7a0ed2cab2d46489601aef4d17a3f68,26,11,4,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I3655e32d9e9d8cfb9ed85e3d2d28ea9c3c16a470
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/20/655020/4 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,74e81af80eae309234eeaa92a4db34318456bb14,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fzun~master~I6b802e49a3342bd624df1f7d855911ffe3b2eaa7,openstack/zun,master,I6b802e49a3342bd624df1f7d855911ffe3b2eaa7,Replace git.openstack.org with opendev.org,MERGED,2019-11-19 07:34:30.000000000,2019-11-30 18:18:20.000000000,2019-11-30 18:16:57.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 07:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/0bac5a5272dd2d186b98777d341648af0043b44d', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I6b802e49a3342bd624df1f7d855911ffe3b2eaa7\n'}, {'number': 2, 'created': '2019-11-30 15:46:44.000000000', 'files': ['devstack/local.conf.subnode.sample', 'contrib/legacy-ubuntu-init/README.rst', 'doc/source/contributor/unit-tests.rst', 'contrib/vagrant/config/localrc', 'devstack/local.conf.sample', 'doc/source/contributor/multinode-devstack.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/compute-install.rst', 'contrib/vagrant/install_devstack.sh', 'doc/source/contributor/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/88d20578df6b4979c42f0ab3f2c32712892b1778', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I6b802e49a3342bd624df1f7d855911ffe3b2eaa7\n'}]",3,694918,88d20578df6b4979c42f0ab3f2c32712892b1778,10,2,2,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I6b802e49a3342bd624df1f7d855911ffe3b2eaa7
",git fetch https://review.opendev.org/openstack/zun refs/changes/18/694918/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.subnode.sample', 'contrib/legacy-ubuntu-init/README.rst', 'doc/source/contributor/unit-tests.rst', 'contrib/vagrant/config/localrc', 'devstack/local.conf.sample', 'doc/source/contributor/multinode-devstack.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/compute-install.rst', 'contrib/vagrant/install_devstack.sh', 'doc/source/contributor/quickstart.rst']",10,0bac5a5272dd2d186b98777d341648af0043b44d,, $ git clone https://opendev.org/openstack-dev/devstack /opt/stack/devstack $ git clone https://opendev.org/openstack/zun /opt/stack/zun, $ git clone https://git.openstack.org/openstack-dev/devstack /opt/stack/devstack $ git clone https://git.openstack.org/openstack/zun /opt/stack/zun,22,22
openstack%2Fnova~master~I5114bf13e7df95ed02be70f29d453116387d4f9c,openstack/nova,master,I5114bf13e7df95ed02be70f29d453116387d4f9c,nova-net: Remove final references to nova-net from functional tests,MERGED,2019-11-28 11:02:05.000000000,2019-11-30 17:00:51.000000000,2019-11-30 16:57:21.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4f67c7abcae8d650d09a4cd82cddd3f37604dca', 'message': ""nova-net: Remove final references to nova-net from functional tests\n\nMost of this is just removal of unnecessary 'use_neutron=True' conf\noverrides. The sole exception is the conversion of the metadata API\ntests, which turned out to be far less effort to convert than I\nexpected.\n\nChange-Id: I5114bf13e7df95ed02be70f29d453116387d4f9c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_volume.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'nova/tests/functional/notification_sample_tests/test_server_group.py', 'nova/tests/functional/test_metadata.py', 'nova/tests/functional/regressions/test_bug_1702454.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9142a97f24e694be681fcb805d6f1e4d0197edef', 'message': ""nova-net: Remove final references to nova-net from functional tests\n\nMost of this is just removal of unnecessary 'use_neutron=True' conf\noverrides. The sole exception is the conversion of the metadata API\ntests, which turned out to be far less effort to convert than I\nexpected.\n\nChange-Id: I5114bf13e7df95ed02be70f29d453116387d4f9c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,696499,9142a97f24e694be681fcb805d6f1e4d0197edef,35,11,2,15334,,,0,"nova-net: Remove final references to nova-net from functional tests

Most of this is just removal of unnecessary 'use_neutron=True' conf
overrides. The sole exception is the conversion of the metadata API
tests, which turned out to be far less effort to convert than I
expected.

Change-Id: I5114bf13e7df95ed02be70f29d453116387d4f9c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/696499/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/test_volume.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'nova/tests/functional/notification_sample_tests/test_server_group.py', 'nova/tests/functional/regressions/test_bug_1702454.py', 'nova/tests/functional/test_metadata.py']",6,c4f67c7abcae8d650d09a4cd82cddd3f37604dca,bp/remove-nova-network-ussuri," # The NeutronFixture is needed to provide the fixed IP for the metadata # service self.useFixture(nova_fixtures.NeutronFixture(self)) 'nova.network.neutronv2.api.API.get_fixed_ip_by_address',"," # NOTE(mikal): We could create a network and a fixed IP here, but it # turns out to be heaps of fiddly boiler plate code, so let's just # fake it and hope mriedem doesn't notice. # TODO(mriedem): Make this all work with the Neutron fixture. self.flags(use_neutron=False) 'nova.network.api.API.get_fixed_ip_by_address',",4,12
openstack%2Fnova~master~Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d,openstack/nova,master,Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d,nova-net: Remove references to nova-net service from tests,MERGED,2019-10-04 18:22:20.000000000,2019-11-30 16:59:22.000000000,2019-11-30 16:57:07.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d85705d57b1db0b5eeca0a3159ccde0af9faa1b', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-05 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56cbadcd651cff3578b469483e203b82de45fefe', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-10-05 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f552b6830927434603239fa78993fbbf9776eb1', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-10-05 19:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcda32967e6e2bc5686feef4ce722733cbb8bded', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-10-09 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab19b58b2f82f536bbdb07ab53764e9f87b269fa', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-11-13 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/773ae47e65e2ed525442331366e36d1f8689e30f', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-11-15 15:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa2eda414727e1cb16b4dc2c5321329e23490ebc', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-11-18 16:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2256ec2777e8898b9eaf7a42d98dad0b7e8e5167', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-11-22 16:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bcc59bf05c0c1f5a1cf0140e56f0bcb257566fb', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-11-23 02:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86655f81d3547f1d8c6a3e9fcc9b116a73c25fcc', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-11-23 13:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0c32a82e3a394453a6d3865d34547c088a33aa9', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-11-25 16:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f335c0b3be0371151f067e523c42b52151d054a1', 'message': ""WIP\n\nA grab bag of stuff I've collected as I've gone along that don't yet fit\nanywhere.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 13, 'created': '2019-11-26 10:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3eecea45546fd7578472eafa138e9f8acb0afd59', 'message': 'nova-net: Remove references to nova-net service from tests\n\nRemove some leftover references to the now-removed service from various\ntests.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 14, 'created': '2019-11-27 09:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bae85a15ee59750d442d1896187aeace2aace77', 'message': 'nova-net: Remove references to nova-net service from tests\n\nRemove some leftover references to the now-removed service from various\ntests.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 15, 'created': '2019-11-28 08:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97cd804aad5330a75217118ca181b1d663205e07', 'message': 'nova-net: Remove references to nova-net service from tests\n\nRemove some leftover references to the now-removed service from various\ntests.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 16, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/api/openstack/compute/hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/180221114c85092f22fd300e11bcb911cfb59cfe', 'message': 'nova-net: Remove references to nova-net service from tests\n\nRemove some leftover references to the now-removed service from various\ntests.\n\nChange-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,686818,180221114c85092f22fd300e11bcb911cfb59cfe,152,15,16,15334,,,0,"nova-net: Remove references to nova-net service from tests

Remove some leftover references to the now-removed service from various
tests.

Change-Id: Ib3433b70b3a7b8f030bf60a0bc98ce926106b34d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/686818/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/objects/fields.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/availability-zone-detail-resp.json.tpl']",3,4d85705d57b1db0b5eeca0a3159ccde0af9faa1b,bp/remove-nova-network-ussuri,," ""network"": { ""nova-network"": { ""active"": true, ""available"": true, ""updated_at"": null } },",5,25
openstack%2Fnova~master~I26368cb59b08f3271d74310d0aa1e36f3d0db5d5,openstack/nova,master,I26368cb59b08f3271d74310d0aa1e36f3d0db5d5,docs: Blast final references to nova-network,MERGED,2019-11-28 11:02:05.000000000,2019-11-30 16:57:14.000000000,2019-11-30 16:57:14.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22a0d09669b978cf10190f225b41db24c1474ea4', 'message': ""docs: Blast final references to nova-network\n\nMissed a few. Let's go again.\n\nChange-Id: I26368cb59b08f3271d74310d0aa1e36f3d0db5d5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-11-29 17:20:33.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5dcfd0750f810553c173ac8375326d5024d85c73', 'message': ""docs: Blast final references to nova-network\n\nMissed a few. Let's go again.\n\nChange-Id: I26368cb59b08f3271d74310d0aa1e36f3d0db5d5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,696498,5dcfd0750f810553c173ac8375326d5024d85c73,26,9,2,15334,,,0,"docs: Blast final references to nova-network

Missed a few. Let's go again.

Change-Id: I26368cb59b08f3271d74310d0aa1e36f3d0db5d5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/696498/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/admin/configuration/hypervisor-hyper-v.rst', 'doc/source/install/compute-install-rdo.rst']",7,22a0d09669b978cf10190f225b41db24c1474ea4,bp/remove-nova-network-ussuri,," * In the ``[DEFAULT]`` section, enable support for the Networking service: .. path /etc/nova/nova.conf .. code-block:: ini [DEFAULT] # ... use_neutron = true firewall_driver = nova.virt.firewall.NoopFirewallDriver .. note:: By default, Compute uses an internal firewall service. Since Networking includes a firewall service, you must disable the Compute firewall service by using the ``nova.virt.firewall.NoopFirewallDriver`` firewall driver. ",4,103
openstack%2Fzun~master~I44f598438adf592f0a7a01651600dcc1814ca1e2,openstack/zun,master,I44f598438adf592f0a7a01651600dcc1814ca1e2,Capsule: avoid KeyError on get container spec,MERGED,2019-10-27 22:35:40.000000000,2019-11-30 16:36:09.000000000,2019-11-30 16:34:49.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-27 22:35:40.000000000', 'files': ['zun/common/utils.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/eba9438fbff011a99b081a57d3943b6aabba21b1', 'message': 'Capsule: avoid KeyError on get container spec\n\nChange-Id: I44f598438adf592f0a7a01651600dcc1814ca1e2\n'}]",0,691534,eba9438fbff011a99b081a57d3943b6aabba21b1,13,2,1,11536,,,0,"Capsule: avoid KeyError on get container spec

Change-Id: I44f598438adf592f0a7a01651600dcc1814ca1e2
",git fetch https://review.opendev.org/openstack/zun refs/changes/34/691534/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/utils.py'],1,eba9438fbff011a99b081a57d3943b6aabba21b1,, if key in VALID_CONTAINER_FILED: container_spec[VALID_CONTAINER_FILED[key]] = \ container_spec.pop(key) if key in VALID_CONTAINER_FILED: container_spec[VALID_CONTAINER_FILED[key]] = \ container_spec.pop(key), container_spec[VALID_CONTAINER_FILED[key]] = \ container_spec.pop(key) container_spec[VALID_CONTAINER_FILED[key]] = \ container_spec.pop(key),6,4
openstack%2Fzun~master~I31b66bb4b4f6b9f9e7fd2088950f94307b349ce8,openstack/zun,master,I31b66bb4b4f6b9f9e7fd2088950f94307b349ce8,Fix node attribute in exception,MERGED,2019-11-12 17:34:15.000000000,2019-11-30 16:26:52.000000000,2019-11-30 16:25:34.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-12 17:34:15.000000000', 'files': ['zun/compute/compute_node_tracker.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/11a114eaa876ed8ae4c3125ff8e7fb044e2288af', 'message': ""Fix node attribute in exception\n\nComputeNode object don't have nodename atribute, which raises another\nerror. To be more helpfull in raised errors it's better to fix attribute\n\nChange-Id: I31b66bb4b4f6b9f9e7fd2088950f94307b349ce8\n""}]",0,693894,11a114eaa876ed8ae4c3125ff8e7fb044e2288af,7,2,1,28619,,,0,"Fix node attribute in exception

ComputeNode object don't have nodename atribute, which raises another
error. To be more helpfull in raised errors it's better to fix attribute

Change-Id: I31b66bb4b4f6b9f9e7fd2088950f94307b349ce8
",git fetch https://review.opendev.org/openstack/zun refs/changes/94/693894/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/compute_node_tracker.py'],1,11a114eaa876ed8ae4c3125ff8e7fb044e2288af,, raise exception.ComputeHostNotFound(host=node.hostname), raise exception.ComputeHostNotFound(host=node.nodename),1,1
openstack%2Fzun~master~I236d5c39b0415cc345a11ab5e79d7e7082f367c9,openstack/zun,master,I236d5c39b0415cc345a11ab5e79d7e7082f367c9,Convert str to bytes on wsproxy,MERGED,2019-11-26 18:39:58.000000000,2019-11-30 15:48:05.000000000,2019-11-29 10:28:55.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 18:39:58.000000000', 'files': ['zun/websocket/websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/8fbd944cd561d2f67bc2140da08bb9bb926c0428', 'message': 'Convert str to bytes on wsproxy\n\nIn python3, concatenating string to bytes is not supported so\nzun-wsproxy broke. This commit convert string to bytes before\nsending the buffer.\n\nChange-Id: I236d5c39b0415cc345a11ab5e79d7e7082f367c9\nCloses-Bug: #1854090\n'}]",0,696160,8fbd944cd561d2f67bc2140da08bb9bb926c0428,12,2,1,11536,,,0,"Convert str to bytes on wsproxy

In python3, concatenating string to bytes is not supported so
zun-wsproxy broke. This commit convert string to bytes before
sending the buffer.

Change-Id: I236d5c39b0415cc345a11ab5e79d7e7082f367c9
Closes-Bug: #1854090
",git fetch https://review.opendev.org/openstack/zun refs/changes/60/696160/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/websocket/websocketproxy.py'],1,8fbd944cd561d2f67bc2140da08bb9bb926c0428,bug/1854090,"import six if isinstance(buf, six.string_types): buf = buf.encode()",,3,0
openstack%2Fdevstack-plugin-ceph~master~I33623e900cffb04a191e8f1fedbf2b2b3621ba29,openstack/devstack-plugin-ceph,master,I33623e900cffb04a191e8f1fedbf2b2b3621ba29,Create shared storage resource provider for DISK_GB inventory,ABANDONED,2018-07-26 22:11:22.000000000,2019-11-30 14:38:50.000000000,,"[{'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 22:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/fc6f146c9fb3ecce62edd587286d65baa6580980', 'message': 'WIP: Create shared storage resource provider for DISK_GB inventory\n\nEventually nova will model shared storage using a resource provider\naggregate in placement where one provider ""shares"" DISK_GB inventory\nwith the compute node resource providers. This starts the ball\nrolling on modeling that in devstack.\n\nChange-Id: I33623e900cffb04a191e8f1fedbf2b2b3621ba29\n'}, {'number': 2, 'created': '2018-07-27 01:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d40cd0a016d5d8535c13f8a870c5ac7b8103719a', 'message': 'Create shared storage resource provider for DISK_GB inventory\n\nEventually nova will model shared storage using a resource provider\naggregate in placement where one provider ""shares"" DISK_GB inventory\nwith the compute node resource providers. This starts the ball\nrolling on modeling that in devstack.\n\nChange-Id: I33623e900cffb04a191e8f1fedbf2b2b3621ba29\n'}, {'number': 3, 'created': '2018-07-27 13:57:34.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9bcfd90b6bdd937745c06d8a683fc221db3bc600', 'message': 'Create shared storage resource provider for DISK_GB inventory\n\nEventually nova will model shared storage using a resource provider\naggregate in placement where one provider ""shares"" DISK_GB inventory\nwith the compute node resource providers. This starts the ball\nrolling on modeling that in devstack.\n\nChange-Id: I33623e900cffb04a191e8f1fedbf2b2b3621ba29\n'}]",3,586363,9bcfd90b6bdd937745c06d8a683fc221db3bc600,16,2,3,6873,,,0,"Create shared storage resource provider for DISK_GB inventory

Eventually nova will model shared storage using a resource provider
aggregate in placement where one provider ""shares"" DISK_GB inventory
with the compute node resource providers. This starts the ball
rolling on modeling that in devstack.

Change-Id: I33623e900cffb04a191e8f1fedbf2b2b3621ba29
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/63/586363/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/ceph']",2,fc6f146c9fb3ecce62edd587286d65baa6580980,shared-storage-provider-placement,"# Create a resource provider in the placement service which provides DISK_GB # inventory for the nova compute node resource provider(s) in the deployment. # This must be called after nova and placement are running, and the nova # compute node has been registered (might need to wait for the nova-compute # service to show up in ""nova service-list""). Uses the osc-placement plugin. function setup_shared_storage_provider_for_nova { # Create the resource provider. local rp_uuid=$(openstack resource provider create shared-storage-provider -f value -c uuid) # Add DISK_GB inventory based on the ceph disk space. local disk_gb=$(echo $CEPH_LOOPBACK_DISK_SIZE | egrep -o '[0-9]+') openstack resource provider inventory set \ --resource DISK_GB:total=$disk_gb $rp_uuid # Set the trait which makes it a sharing provider. openstack --os-placement-api-version 1.6 resource provider trait set \ --trait MISC_SHARES_VIA_AGGREGATE $rp_uuid # TODO(mriedem): wait for the nova-compute service(s) to show up, or just # for a resource provider to show (it should only be the compute node # provider(s) at this point). # TODO(mriedem): handle multi-node local node_uuid=$(openstack --os-compute-api-version 2.53 hypervisor list -f value -c ID) # TODO(mriedem): Make sure the compute node provider exists openstack resource provider show $node_uuid # Add the compute node provider and shared storage provider to the same # aggregate. # TODO(mriedem): generate a random uuid openstack --os-placement-api-version 1.1 resource provider aggregate set \ --aggregate a33ba50a-53e5-44c7-8729-890c38a24cfc $rp_uuid openstack --os-placement-api-version 1.1 resource provider aggregate set \ --aggregate a33ba50a-53e5-44c7-8729-890c38a24cfc $node_uuid } ",,36,0
openstack%2Fnova~master~I0907a541ed27c9096d649eceef567d5501cc2591,openstack/nova,master,I0907a541ed27c9096d649eceef567d5501cc2591,Update HostState.*_allocation_ratio earlier,ABANDONED,2019-06-28 21:14:54.000000000,2019-11-30 14:26:02.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 30127}]","[{'number': 1, 'created': '2019-06-28 21:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc6a366c3d7aafb24c4167806b4f99d8d64ddf0a', 'message': ""Update HostState.*_allocation_ratio earlier\n\nHostState._update_from_compute_node returns early if the\nComputeNode hasn't been updated by the resource tracker yet\nwhich means HostState.cpu_allocation_ratio won't be set\nand could fail if the HostState is not filtered out and the\nCPUWeigher runs on it (because cpu_allocation_ratio will be None).\nThis fixes the issue by moving the allocation ratio field setting\nearlier in the method.\n\nChange-Id: I0907a541ed27c9096d649eceef567d5501cc2591\nCloses-Bug: #1834691\n""}, {'number': 2, 'created': '2019-06-28 22:33:28.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/adeb20a34a4b4e92646dd39efbaa95e5a8d6dc8c', 'message': ""Update HostState.*_allocation_ratio earlier\n\nHostState._update_from_compute_node returns early if the\nComputeNode hasn't been updated by the resource tracker yet\nwhich means HostState.cpu_allocation_ratio won't be set\nand could fail if the HostState is not filtered out and the\nCPUWeigher runs on it (because cpu_allocation_ratio will be None).\nThis fixes the issue by moving the allocation ratio field setting\nearlier in the method.\n\nChange-Id: I0907a541ed27c9096d649eceef567d5501cc2591\nCloses-Bug: #1834694\nRelated-Bug: #1834712\n""}]",11,668252,adeb20a34a4b4e92646dd39efbaa95e5a8d6dc8c,22,13,2,6873,,,0,"Update HostState.*_allocation_ratio earlier

HostState._update_from_compute_node returns early if the
ComputeNode hasn't been updated by the resource tracker yet
which means HostState.cpu_allocation_ratio won't be set
and could fail if the HostState is not filtered out and the
CPUWeigher runs on it (because cpu_allocation_ratio will be None).
This fixes the issue by moving the allocation ratio field setting
earlier in the method.

Change-Id: I0907a541ed27c9096d649eceef567d5501cc2591
Closes-Bug: #1834694
Related-Bug: #1834712
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/668252/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,dc6a366c3d7aafb24c4167806b4f99d8d64ddf0a,bug/1834694," # update allocation ratios given by the ComputeNode object self.cpu_allocation_ratio = compute.cpu_allocation_ratio self.ram_allocation_ratio = compute.ram_allocation_ratio self.disk_allocation_ratio = compute.disk_allocation_ratio # NOTE(mriedem): Make sure no filters, weighers, etc rely on fields # being set later in this method since we are returning early.", # update allocation ratios given by the ComputeNode object self.cpu_allocation_ratio = compute.cpu_allocation_ratio self.ram_allocation_ratio = compute.ram_allocation_ratio self.disk_allocation_ratio = compute.disk_allocation_ratio ,15,6
openstack%2Fnova~stable%2Fqueens~I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe,openstack/nova,stable/queens,I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe,Fix false ERROR message at compute restart,MERGED,2019-11-29 16:24:56.000000000,2019-11-30 12:13:16.000000000,2019-11-30 03:22:45.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-29 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1e31cd987a69134973f70fb9dd2226cd4955aaa', 'message': 'Fix false ERROR message at compute restart\n\nIf an empty compute is restarted a false ERROR message was printed in\nthe log as the placement report client does not distinguish between\nerror from placement from empty allocation dict from placement.\n\nThis patch changes get_allocations_for_resource_provider to return None\nin case of error instead of an empty dict. This is in line with\n@safe_connect that would make the call return None as well. The\n_error_out_instances_whose_build_was_interrupted also is changed to check\nfor None instead of empty dict before reporting the ERROR. The only\nother caller of get_allocations_for_resource_provider was already\nchecking for None and converting it to an empty dict so from that caller\nperspective this is compatible change on the report client.\n\nThis is stable only change as get_allocations_for_resource_provider was\nimproved during stein[1] to raise on placement error.\n\n[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1\n\nChange-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe\nCloses-Bug: #1852759\n'}, {'number': 2, 'created': '2019-11-29 19:41:09.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4fcb7816bc88fd513debe70b95aa60bff74e37fb', 'message': 'Fix false ERROR message at compute restart\n\nIf an empty compute is restarted a false ERROR message was printed in\nthe log as the placement report client does not distinguish between\nerror from placement from empty allocation dict from placement.\n\nThis patch changes get_allocations_for_resource_provider to return None\nin case of error instead of an empty dict. This is in line with\n@safe_connect that would make the call return None as well. The\n_error_out_instances_whose_build_was_interrupted also is changed to check\nfor None instead of empty dict before reporting the ERROR. The only\nother caller of get_allocations_for_resource_provider was already\nchecking for None and converting it to an empty dict so from that caller\nperspective this is compatible change on the report client.\n\nThis is stable only change as get_allocations_for_resource_provider was\nimproved during stein[1] to raise on placement error.\n\n[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1\n\nChange-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe\nCloses-Bug: #1852759\n(cherry picked from commit 64f797a0514b0276540d4f6c28cb290383088e35)\n'}]",1,696733,4fcb7816bc88fd513debe70b95aa60bff74e37fb,17,6,2,9373,,,0,"Fix false ERROR message at compute restart

If an empty compute is restarted a false ERROR message was printed in
the log as the placement report client does not distinguish between
error from placement from empty allocation dict from placement.

This patch changes get_allocations_for_resource_provider to return None
in case of error instead of an empty dict. This is in line with
@safe_connect that would make the call return None as well. The
_error_out_instances_whose_build_was_interrupted also is changed to check
for None instead of empty dict before reporting the ERROR. The only
other caller of get_allocations_for_resource_provider was already
checking for None and converting it to an empty dict so from that caller
perspective this is compatible change on the report client.

This is stable only change as get_allocations_for_resource_provider was
improved during stein[1] to raise on placement error.

[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1

Change-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe
Closes-Bug: #1852759
(cherry picked from commit 64f797a0514b0276540d4f6c28cb290383088e35)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/696733/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py']",3,c1e31cd987a69134973f70fb9dd2226cd4955aaa,bug/1852759, if allocations is None:, if not allocations:,78,2
openstack%2Fnova~master~Id6120adbee61682eb0f90bdac4080dc1e53ae978,openstack/nova,master,Id6120adbee61682eb0f90bdac4080dc1e53ae978,"nova-net: Remove associate, disassociate network APIs",MERGED,2019-10-04 18:22:20.000000000,2019-11-30 07:29:16.000000000,2019-11-29 14:57:34.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0090424ce30cabf63dd10702c7e3ae5f4094d649', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-10-05 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f86e53f7172159122dd629ae45fab42fbf7bbb6d', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-10-05 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3aa99c4475e78f4306b1cb8ff51ed04b9de50404', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-10-05 19:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d35cd03c9853dd60223c69bf40c608799e7881f', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-10-09 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2e696f4fb976f89103e5ea600d12f7288a12dfd', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2019-11-13 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dc708eeebdc530d4e4b97409d61a263f8d52d37', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2019-11-15 15:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2ae69a55bbc99edb8a33f76b4f16fd55044e7a3', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2019-11-18 16:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cbe411514a49853632e7dbdfcfb8a5936b0a7b8', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2019-11-22 16:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9c9229dedefa48e9e5c4864a035934b68b0011f', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 10, 'created': '2019-11-22 16:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a668e9fc262ec5ac2567d71b0ec8aeec48bf4dca', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 11, 'created': '2019-11-23 13:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04014f8aa8d208a9cc665798f4d19702d9e33a28', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 12, 'created': '2019-11-25 16:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4367070d656615310e3e637d6ce6ee3bd6206f64', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 13, 'created': '2019-11-27 09:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cd8712ceaeeb29b39e04a82e77214b15c763f13', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 14, 'created': '2019-11-28 08:54:47.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/network/rpcapi.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/tests/unit/network/test_api.py', 'nova/objects/network.py', 'nova/tests/unit/network/test_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/267c6f89c95eff1283e4f751ac409048e912d939', 'message': 'nova-net: Remove associate, disassociate network APIs\n\nThese no longer have any callers and can be removed almost entirely, RPC\nand DB methods aside.\n\nChange-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",19,686814,267c6f89c95eff1283e4f751ac409048e912d939,149,16,14,15334,,,0,"nova-net: Remove associate, disassociate network APIs

These no longer have any callers and can be removed almost entirely, RPC
and DB methods aside.

Change-Id: Id6120adbee61682eb0f90bdac4080dc1e53ae978
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/686814/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/network/rpcapi.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/tests/unit/network/test_api.py', 'nova/objects/network.py', 'nova/network/manager.py', 'nova/tests/unit/network/test_rpcapi.py']",8,0090424ce30cabf63dd10702c7e3ae5f4094d649,bp/remove-nova-network-ussuri,," def test_add_network_to_project(self): self._test_network_api('add_network_to_project', rpc_method='call', project_id='fake_id', network_uuid='fake_uuid') ",6,147
openstack%2Fnova~master~I18d73212f9d98bc75974a024cf6fd872fdfb1ca4,openstack/nova,master,I18d73212f9d98bc75974a024cf6fd872fdfb1ca4,nova-net: Remove 'nova-network' binary,MERGED,2019-10-04 18:22:20.000000000,2019-11-30 07:28:04.000000000,2019-11-29 14:51:07.000000000,"[{'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28003}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eeeddcdb740ae426e7425fe35633ebb824f1a59', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-05 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30d7bfb4493d1b850f41c0a848e87edb96ffa517', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-10-05 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d23289b4d87677b7b81b5db7fa4a7068c6f4003', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-10-05 19:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/765eac055dddf1995941ec598471e6f234ddb7dd', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-10-09 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c761497878c2a092662e45727d46d8e3a5d9ecf', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-11-13 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cad6262caeefb831ccb9d4e8bd28c2e13d776eef', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-11-15 15:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b63f99eeb06add3bc8a46b7b5f7ea3f3149ed8a', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-11-18 16:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/392cf96e0d5eacd474582ce48862bb808cc8cde3', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-11-22 16:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59982c519093625e82bfa772b17b001f00db5b62', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2019-11-22 16:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96dc15dc3b0a54363ff8dc7002f49323ab308b4a', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2019-11-23 13:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7a4c952d219e40b41b8319a2d229d011c55c922', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2019-11-25 16:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e052833814134f0816408a188f985668337df17b', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 13, 'created': '2019-11-27 09:37:26.000000000', 'files': ['doc/source/admin/networking-nova.rst', 'doc/source/admin/index.rst', 'doc/source/cli/nova-network.rst', 'doc/source/cli/index.rst', 'doc/source/conf.py', 'nova/objects/fields.py', 'doc/source/admin/metadata-service.rst', 'api-guide/source/general_info.rst', 'setup.cfg', 'doc/source/install/get-started-compute.rst', 'nova/cmd/network.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c56a635de138ba502d99343fecc2da5f12f31dc5', 'message': ""nova-net: Remove 'nova-network' binary\n\nGet excited, people. It's finally dying, for real. There is a lot more\ndoc work needed here, but this is a start. No need for a release note\nmodification since we've already said that nova-network has been\nremoved, so there's no point in saying that the service itself has been\nremoved since that's implicit.\n\nChange-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",5,686816,c56a635de138ba502d99343fecc2da5f12f31dc5,139,18,13,15334,,,0,"nova-net: Remove 'nova-network' binary

Get excited, people. It's finally dying, for real. There is a lot more
doc work needed here, but this is a start. No need for a release note
modification since we've already said that nova-network has been
removed, so there's no point in saying that the service itself has been
removed since that's implicit.

Change-Id: I18d73212f9d98bc75974a024cf6fd872fdfb1ca4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/686816/11 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking-nova.rst', 'doc/source/admin/index.rst', 'doc/source/cli/nova-network.rst', 'doc/source/cli/index.rst', 'doc/source/conf.py', 'doc/source/admin/metadata-service.rst', 'api-guide/source/general_info.rst', 'setup.cfg', 'nova/cmd/network.py']",9,5eeeddcdb740ae426e7425fe35633ebb824f1a59,bp/remove-nova-network-ussuri,,"# Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Starter script for Nova Network."""""" import sys from oslo_log import log as logging from oslo_reports import guru_meditation_report as gmr from oslo_reports import opts as gmr_opts from nova.cmd import common as cmd_common from nova.conductor import rpcapi as conductor_rpcapi import nova.conf from nova import config from nova.network import rpcapi as network_rpcapi from nova import objects from nova.objects import base as objects_base from nova import service from nova import version CONF = nova.conf.CONF LOG = logging.getLogger('nova.network') def main(): config.parse_args(sys.argv) logging.setup(CONF, ""nova"") # NOTE(stephenfin): Yes, this is silly, but the whole thing is being # removed and we want to make the diff in individual changes as small as # possible if True: LOG.error('Nova network is deprecated and not supported ' 'except as required for CellsV1 deployments.') return 1 objects.register_all() gmr_opts.set_defaults(CONF) gmr.TextGuruMeditation.setup_autorun(version, conf=CONF) cmd_common.block_db_access('nova-network') objects_base.NovaObject.indirection_api = conductor_rpcapi.ConductorAPI() LOG.warning('Nova network is deprecated and will be removed ' 'in the future') server = service.Service.create(binary='nova-network', topic=network_rpcapi.RPC_TOPIC, manager=CONF.network_manager) service.serve(server) service.wait() ",4,1020
openstack%2Fwatcher~master~I3560069b4e34f13305950559a0f05f7921f7867e,openstack/watcher,master,I3560069b4e34f13305950559a0f05f7921f7867e,Releasenote for decision engine threadpool,MERGED,2019-11-25 14:41:01.000000000,2019-11-30 03:29:36.000000000,2019-11-30 03:28:23.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-11-25 14:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/cb252b1ae374d5dcbb65517ddbefd1213285cee2', 'message': 'Releasenote for decision engine threadpool\n\nAdd the releasenote for the general purpose decision engine threadpool.\nIncluding config parameters and were contributors can find relevant\ndocumentation.\n\nImplements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I3560069b4e34f13305950559a0f05f7921f7867e\n'}, {'number': 2, 'created': '2019-11-27 07:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d7eb022a21cf4dcb9818f3c3b34a5b02555f4711', 'message': 'Releasenote for decision engine threadpool\n\nAdd the releasenote for the general purpose decision engine threadpool.\nIncluding config parameters and how contributors can find relevant\ndocumentation.\n\nImplements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I3560069b4e34f13305950559a0f05f7921f7867e\n'}, {'number': 3, 'created': '2019-11-30 03:13:15.000000000', 'files': ['releasenotes/notes/general-purpose-decision-engine-threadpool-0711b23abfc9d409.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ba43f766b81aefe277092580011bdb86ff19d6ee', 'message': 'Releasenote for decision engine threadpool\n\nAdd the releasenote for the general purpose decision engine threadpool.\nIncluding config parameters and how contributors can find relevant\ndocumentation.\n\nImplements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I3560069b4e34f13305950559a0f05f7921f7867e\n'}]",2,695919,ba43f766b81aefe277092580011bdb86ff19d6ee,16,4,3,29911,,,0,"Releasenote for decision engine threadpool

Add the releasenote for the general purpose decision engine threadpool.
Including config parameters and how contributors can find relevant
documentation.

Implements: blueprint general-purpose-decision-engine-threadpool

Change-Id: I3560069b4e34f13305950559a0f05f7921f7867e
",git fetch https://review.opendev.org/openstack/watcher refs/changes/19/695919/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/general-purpose-decision-engine-threadpool-0711b23abfc9d409.yaml'],1,cb252b1ae374d5dcbb65517ddbefd1213285cee2,threadpool-bp-6,"--- prelude: > Many operations in the decision engine will block on I/O. Such I/O operations can stall the execution of a sequential application significantly. To reduce the potential bottleneck of many operations the general purpose decision engine threadpool is introduced. features: - | A new threadpool for the decision engine that contributors can use to improve the performance of many operations, primarily I/O bound onces. The amount of workers used by the decision engine threadpool can be configured to scale according to the available infrastructure using the `watcher_decision_engine.max_general_workers` config option. Documentation for contributors to effectively use this threadpool is available online: https://docs.openstack.org/watcher/latest/contributor/contributor/concurrency.rst - | The building of the compute (Nova) data model will be done using the decision engine threadpool, thereby, significantly reducing the total time required to build it. ",,20,0
openstack%2Fwatcher~master~Ic1cd1f3733a0e9a239c9b8d49951e1e4ece49f3a,openstack/watcher,master,Ic1cd1f3733a0e9a239c9b8d49951e1e4ece49f3a,Documentation on concurrency for contributors,MERGED,2019-11-08 10:36:46.000000000,2019-11-30 03:00:37.000000000,2019-11-30 02:59:19.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-11-08 10:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/808a805b9f940e6a32e372ce10db5000b49e1922', 'message': 'Documentation on concurrency for contributors\n\nDocumentation with details on general concurrency as well as OpenStack\nspecific libraries.\n\nDescribes how different libraries are effectively used across different\nWatcher services. This includes describing how futurist is used in the\nDecision Engine and how taskflow is used in the Applier.\n\nFinally, this documentation describes how contributors can use the\nnew DecisionEngineThreadpool effectively and includes examples.\n\nhttps://docs.openstack.org/futurist/latest/\nhttps://docs.openstack.org/taskflow/latest/\n\nChange-Id: Ic1cd1f3733a0e9a239c9b8d49951e1e4ece49f3a\nImplements: blueprint general-purpose-decision-engine-threadpool\n'}, {'number': 2, 'created': '2019-11-25 13:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/55baa92529fc67a7c2e8d86ca0bb4382c0f6dcd8', 'message': 'Documentation on concurrency for contributors\n\nDocumentation with details on general concurrency as well as OpenStack\nspecific libraries.\n\nDescribes how different libraries are effectively used across different\nWatcher services. This includes describing how futurist is used in the\nDecision Engine and how taskflow is used in the Applier.\n\nFinally, this documentation describes how contributors can use the\nnew DecisionEngineThreadpool effectively and includes examples.\n\nhttps://docs.openstack.org/futurist/latest/\nhttps://docs.openstack.org/taskflow/latest/\n\nChange-Id: Ic1cd1f3733a0e9a239c9b8d49951e1e4ece49f3a\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n'}, {'number': 3, 'created': '2019-11-25 13:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0f71e174fa0ed957f4a12c4db221c8a3b42a804a', 'message': 'Documentation on concurrency for contributors\n\nDocumentation with details on general concurrency as well as OpenStack\nspecific libraries.\n\nDescribes how different libraries are effectively used across different\nWatcher services. This includes describing how futurist is used in the\nDecision Engine and how taskflow is used in the Applier.\n\nFinally, this documentation describes how contributors can use the\nnew DecisionEngineThreadpool effectively and includes examples.\n\nhttps://docs.openstack.org/futurist/latest/\nhttps://docs.openstack.org/taskflow/latest/\n\nChange-Id: Ic1cd1f3733a0e9a239c9b8d49951e1e4ece49f3a\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n'}, {'number': 4, 'created': '2019-11-27 07:47:03.000000000', 'files': ['doc/source/contributor/concurrency.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/b5f8e9a91078fb999237103ef89406dcd1a413e9', 'message': 'Documentation on concurrency for contributors\n\nDocumentation with details on general concurrency as well as OpenStack\nspecific libraries.\n\nDescribes how different libraries are effectively used across different\nWatcher services. This includes describing how futurist is used in the\nDecision Engine and how taskflow is used in the Applier.\n\nFinally, this documentation describes how contributors can use the\nnew DecisionEngineThreadpool effectively and includes examples.\n\nhttps://docs.openstack.org/futurist/latest/\nhttps://docs.openstack.org/taskflow/latest/\n\nChange-Id: Ic1cd1f3733a0e9a239c9b8d49951e1e4ece49f3a\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n'}]",8,693516,b5f8e9a91078fb999237103ef89406dcd1a413e9,18,5,4,29911,,,0,"Documentation on concurrency for contributors

Documentation with details on general concurrency as well as OpenStack
specific libraries.

Describes how different libraries are effectively used across different
Watcher services. This includes describing how futurist is used in the
Decision Engine and how taskflow is used in the Applier.

Finally, this documentation describes how contributors can use the
new DecisionEngineThreadpool effectively and includes examples.

https://docs.openstack.org/futurist/latest/
https://docs.openstack.org/taskflow/latest/

Change-Id: Ic1cd1f3733a0e9a239c9b8d49951e1e4ece49f3a
Partially Implements: blueprint general-purpose-decision-engine-threadpool
",git fetch https://review.opendev.org/openstack/watcher refs/changes/16/693516/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/concurrency/concurrency.rst']",2,808a805b9f940e6a32e372ce10db5000b49e1922,threadpool-bp-5,"=========== Concurrency =========== Introduction ************ Modern processors typically contain multiple cores all capable of executing instructions in parallel. Ensuring applications can fully utilize modern underlying hardware requires developing with these concepts in mind. The OpenStack foundation maintains a number of libraries to facilitate this utilization, combined with constructs like CPython's GIL_ the proper use of these concepts becomes more straightforward compared to other programming languages. The primary libraries maintained by OpenStack to facilitate concurrency are futurist_ and taskflow_. Here futurist is a more straightforward and lightweight library were taskflow is more advanced supporting features like rollback mechanisms. Within Watcher both libraries are used to facilitate concurrency. .. _GIL: https://wiki.python.org/moin/GlobalInterpreterLock .. _futurist: https://docs.openstack.org/futurist/latest/ .. _taskflow: https://docs.openstack.org/taskflow/latest/ Threadpool ********** A threadpool is a collection of one or more threads typically called *workers* to which tasks can be submitted. These submitted tasks will be scheduled by a threadpool and subsequently executed. In the case of Python tasks typically are bounded or unbounded methods while other programming languages like Java require implementing an interface. The order and amount of concurrency with which these tasks are executed is up to the threadpool to decide. Some libraries like taskflow allow for either strong or loose ordering of tasks while others like futurist might only support loose ordering. Taskflow supports building tree-based hierarchies of dependent tasks for example. Upon submission of a task to a threadpool a so called future_ is returned. These objects allow to determine information about the task such as if it is currently being executed or if it has finished execution. When the task has finished execution the future can also be used to retrieve what was returned by the method. Some libraries like futurist provide synchronization primitives for collections of futures such as wait_for_any_. The following sections will cover different types of concurrency used in various services of Watcher. .. _future: https://docs.python.org/3/library/concurrent.futures.html .. _wait_for_any: https://docs.openstack.org/futurist/latest/reference/index.html#waiters Decision engine concurrency *************************** The concurrency in the decision engine is governed by two independent threadpools. Both of these threadpools are GreenThreadPoolExecutor_ from the futurist_ library. One of these is used automatically and most contributors will not interact with it while developing new features. The other threadpool can frequently be used while developing new features or updating existing ones. It is known as the DecisionEngineThreadpool and allows to achieve performance improvements in network or I/O bound operations. .. _GreenThreadPoolExecutor: https://docs.openstack.org/futurist/latest/reference/index.html#executors AuditEndpoint ############# The first threadpool is used to allow multiple audits to be run in parallel. In practice, however, only one audit can be run in parallel. This is due to the data model used by audits being a singleton. To prevent audits destroying each others data model one must wait for the other to complete before being allowed to access this data model. A performance improvement could be achieved by being more intelligent in the use, caching and construction of these data models. DecisionEngineThreadPool ######################## The second threadpool is used for generic tasks, typically networking and I/O could benefit the most of this threadpool. Upon execution of an audit this threadpool can be utilized to retrieve information from the Nova compute service for instance. This second threadpool is a singleton and is shared amongst concurrently running audits as a result the amount of workers is static and independent from the amount of workers in the first threadpool. The use of the :class:`~.DecisionEngineThreadpool` while building the Nova compute data model is demonstrated to show how it can effectively be used. In the following example a reference to the :class:`~.DecisionEngineThreadpool` is stored in ``self.executor``. Here two tasks are submitted one with function ``self._collect_aggregates`` and the other function ``self._collect_zones``. With both ``self.executor.submit`` calls subsequent arguments are passed to the function. All subsequent arguments are passed to the function being submitted as task following the common ``(fn, *args, **kwargs)`` signature. One of the original signatures would be ``def _collect_aggregates(host_aggregates, compute_nodes)`` for example. .. code-block:: python zone_aggregate_futures = { self.executor.submit( self._collect_aggregates, host_aggregates, compute_nodes), self.executor.submit( self._collect_zones, availability_zones, compute_nodes) } waiters.wait_for_all(zone_aggregate_futures) The last statement of the example above waits on all futures to complete. Similarly, ``waiters.wait_for_any`` will wait for any future of the specified collection to complete. To simplify the usage of ``wait_for_any`` the :class:`~.DecisiongEngineThreadpool` defines a ``do_while_futures`` method. This method will iterate in a do_while loop over a collection of futures until all of them have completed. The advantage of ``do_while_futures`` is that it allows to immediately call a method as soon as a future finishes. The arguments for this callback method can be supplied when calling ``do_while_futures``, however, the first argument to the callback is always the future itself!. If the collection of futures can safely be modified ``do_while_futures_modify`` can be used and should have slightly better performance. The following example will show how ``do_while_futures`` is used in the decision engine. .. code-block:: python # For every compute node from compute_nodes submit a task to gather the node it's information. # List comprehension is used to store all the futures of the submitted tasks in node_futures. node_futures = [self.executor.submit( self.nova_helper.get_compute_node_by_name, node, servers=True, detailed=True) for node in compute_nodes] LOG.debug(""submitted {0} jobs"".format(len(compute_nodes))) future_instances = [] # do_while iterate over node_futures and upon completion of a future call # self._compute_node_future with the future and future_instances as arguments. self.executor.do_while_futures_modify( node_futures, self._compute_node_future, future_instances) # Wait for all instance jobs to finish waiters.wait_for_all(future_instances) Finally, let's demonstrate how powerful this ``do_while_futures`` can be by showing what the ``compute_node_future`` callback does. First, it retrieves the result from the future and adds the compute node to the data model. Afterwards, it checks if the compute node has any associated instances and if so it submits an additional task to the :class:`~.DecisionEngineThreadpool`. The future is appended to the ``future_instances`` so ``waiters.wait_for_all`` can be called on this list. This is important as otherwise the building of the data model might return before all tasks for instances have finished. .. code-block:: python # Get the result from the future. node_info = future.result()[0] # Filter out baremetal nodes. if node_info.hypervisor_type == 'ironic': LOG.debug(""filtering out baremetal node: %s"", node_info) return # Add the compute node to the data model. self.add_compute_node(node_info) # Get the instances from the compute node. instances = getattr(node_info, ""servers"", None) # Do not submit job if there are no instances on compute node. if instances is None: LOG.info(""No instances on compute_node: {0}"".format(node_info)) return # Submit a job to retrieve detailed information about the instances. future_instances.append( self.executor.submit( self.add_instance_node, node_info, instances) ) Without ``do_while_futures`` an additional ``waiters.wait_for_all`` would be required in between the compute node tasks and the instance tasks. This would cause the progress of the decision engine to stall as less and less tasks remain active before the instance tasks could be submitted. This demonstrates how ``do_while_futures`` can be used to achieve more constant utilization of the underlying hardware. Applier concurrency ******************* The applier does not use the futurist_ GreenThreadPoolExecutor_ directly but instead uses taskflow_. However, taskflow still utilizes a a greenthreadpool. This threadpool is initialized in the workflow engine called :class:`~.DefaultWorkFlowEngine`. Currently Watcher supports one workflow engine but the base class allows contributors to develop other workflow engines as well. In taskflow tasks are created using different types of flows such as a linear, unordered or a graph flow. The linear and graph flow allow for strong ordering between individual tasks and it is for this reason that the workflow engine utilizes a graph flow. The creation of tasks, subsequently linking them into a graph like structure and submitting them is shown below. .. code-block:: python self.execution_rule = self.get_execution_rule(actions) flow = gf.Flow(""watcher_flow"") actions_uuid = {} for a in actions: task = TaskFlowActionContainer(a, self) flow.add(task) actions_uuid[a.uuid] = task for a in actions: for parent_id in a.parents: flow.link(actions_uuid[parent_id], actions_uuid[a.uuid], decider=self.decider) e = engines.load( flow, executor='greenthreaded', engine='parallel', max_workers=self.config.max_workers) e.run() return flow In the applier tasks are contained in a :class:`~.TaskFlowActionContainer` which allows them to trigger events in the workflow engine. This way the workflow engine can halt or take other actions while the action plan is being executed based on the success or failure of individual actions. However, the base workflow engine simply uses these notifies to store the result of individual actions in the database. Additionally, since taskflow uses a graph flow if any of the tasks would fail all childs of this tasks not be executed while ``do_revert`` will be triggered for all parents. .. code-block:: python class TaskFlowActionContainer(...): ... def do_execute(self, *args, **kwargs): ... result = self.action.execute() if result is True: return self.engine.notify(self._db_action, objects.action.State.SUCCEEDED) else: self.engine.notify(self._db_action, objects.action.State.FAILED) class BaseWorkFlowEngine(...): ... def notify(self, action, state): db_action = objects.Action.get_by_uuid(self.context, action.uuid, eager=True) db_action.state = state db_action.save() return db_action ",,249,0
openstack%2Fwatcher~master~I53ed32a4b2a089b05d1ffede629c9f4c5cb720c8,openstack/watcher,master,I53ed32a4b2a089b05d1ffede629c9f4c5cb720c8,Use threadpool when building compute data model,MERGED,2019-10-23 09:24:26.000000000,2019-11-30 02:25:11.000000000,2019-11-30 02:23:51.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-10-23 09:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/21310dee284eeedaac2939250882d01c3e2a57bf', 'message': 'Use threadpool when building compute data model\n\nUse the general purpose threadpool when building the nova compute\ndata model. Additionally, adds thorough explanation about theory of\noperation.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I53ed32a4b2a089b05d1ffede629c9f4c5cb720c8\n'}, {'number': 2, 'created': '2019-10-24 11:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/06cfe56c33d0fb5ee2744ee4f67fc445ed5e3bcf', 'message': 'Use threadpool when building compute data model\n\nUse the general purpose threadpool when building the nova compute\ndata model. Additionally, adds thorough explanation about theory of\noperation.\n\nUpdates related test cases to better ensure the correct operation\nof add_physical_layer.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I53ed32a4b2a089b05d1ffede629c9f4c5cb720c8\n'}, {'number': 3, 'created': '2019-11-01 09:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b2bd620a0fda310b7149e8068d1ddd334eb443f8', 'message': 'Use threadpool when building compute data model\n\nUse the general purpose threadpool when building the nova compute\ndata model. Additionally, adds thorough explanation about theory of\noperation.\n\nUpdates related test cases to better ensure the correct operation\nof add_physical_layer.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I53ed32a4b2a089b05d1ffede629c9f4c5cb720c8\n'}, {'number': 4, 'created': '2019-11-01 11:43:56.000000000', 'files': ['watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c644e23ca022a41612390fea75733765ff4f980b', 'message': 'Use threadpool when building compute data model\n\nUse the general purpose threadpool when building the nova compute\ndata model. Additionally, adds thorough explanation about theory of\noperation.\n\nUpdates related test cases to better ensure the correct operation\nof add_physical_layer.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I53ed32a4b2a089b05d1ffede629c9f4c5cb720c8\n'}]",4,690524,c644e23ca022a41612390fea75733765ff4f980b,20,5,4,29911,,,0,"Use threadpool when building compute data model

Use the general purpose threadpool when building the nova compute
data model. Additionally, adds thorough explanation about theory of
operation.

Updates related test cases to better ensure the correct operation
of add_physical_layer.

Partially Implements: blueprint general-purpose-decision-engine-threadpool

Change-Id: I53ed32a4b2a089b05d1ffede629c9f4c5cb720c8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/24/690524/3 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/model/collector/nova.py'],1,21310dee284eeedaac2939250882d01c3e2a57bf,threadpool-bp-4,"from futurist import waiters from watcher.decision_engine import threading self.executor = threading.DecisionEngineThreadPool() def _compute_node_future(self, future, future_instances): """"""Add compute node information to model and schedule instance info job :param future: The future from the finished execution :rtype future: :py:class:`futurist.GreenFuture` :param future_instances: list of futures for instance jobs :rtype future_instances: list :py:class:`futurist.GreenFuture` try: node_info = future.result()[0] # filter out baremetal node if node_info.hypervisor_type == 'ironic': LOG.debug(""filtering out baremetal node: %s"", node_info) return self.add_compute_node(node_info) # node.servers is a list of server objects # New in nova version 2.53 instances = getattr(node_info, ""servers"", None) # Do not submit job if there are no instances on compute node if instances is None: LOG.info(""No instances on compute_node: {0}"".format(node_info)) return future_instances.append( self.executor.submit( self.add_instance_node, node_info, instances) ) except Exception: LOG.error(""compute node from aggregate / "" ""availability_zone could not be found"") def _add_physical_layer(self): """"""Collects all information on compute nodes and instances Will collect all required compute node and instance information based on the host aggregates and availability zones. If aggregates and zones do not specify any compute nodes all nodes are retrieved instead. The collection of information happens concurrently using the DecisionEngineThreadpool. The collection is parallelized in three steps first information about aggregates and zones is gathered. Secondly, for each of the compute nodes a tasks is submitted to get detailed information about the compute node. Finally, Each of these submitted tasks will submit an additional task if the compute node contains instances. Before returning from this function all instance tasks are waited upon to complete. """""" """"""Submit tasks to gather compute nodes from availability zones and host aggregates. Each task adds compute nodes to the set, this set is threadsafe under the assumption that CPython is used with the GIL enabled."""""" zone_aggregate_futures = { self.executor.submit( self._collect_aggregates, host_aggregates, compute_nodes), self.executor.submit( self._collect_zones, availability_zones, compute_nodes) } waiters.wait_for_all(zone_aggregate_futures) # if zones and aggregates did not contain any nodes get every node. node_futures = [self.executor.submit( self.nova_helper.get_compute_node_by_name, node, servers=True, detailed=True) for node in compute_nodes] LOG.debug(""submitted {0} jobs"".format(len(compute_nodes))) # Futures will concurrently be added, only safe with CPython GIL future_instances = [] self.executor.do_while_futures_modify( node_futures, self._compute_node_future, future_instances) # Wait for all instance jobs to finish waiters.wait_for_all(future_instances)"," def _add_physical_layer(self): """"""Add the physical layer of the graph. This includes components which represent actual infrastructure hardware. if host_aggregates: self._collect_aggregates(host_aggregates, compute_nodes) if availability_zones: self._collect_zones(availability_zones, compute_nodes) for node_name in compute_nodes: cnode = self.call_retry( self.nova_helper.get_compute_node_by_name, node_name, servers=True, detailed=True) if cnode: node_info = cnode[0] # filter out baremetal node if node_info.hypervisor_type == 'ironic': LOG.debug(""filtering out baremetal node: %s"", node_name) continue self.add_compute_node(node_info) # node.servers is a list of server objects # New in nova version 2.53 instances = getattr(node_info, ""servers"", None) self.add_instance_node(node_info, instances) else: LOG.error(""compute_node from aggregate / availability_zone "" ""could not be found: {0}"".format(node_name))",77,26
openstack%2Fwatcher~master~I94bd9a17290967f011762f2b9c787ee7c46ff930,openstack/watcher,master,I94bd9a17290967f011762f2b9c787ee7c46ff930,General purpose threadpool for decision engine,MERGED,2019-10-11 13:02:07.000000000,2019-11-30 02:24:13.000000000,2019-11-30 02:22:13.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-10-11 13:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e62fef25efd7b6fa0e5f61fc77c0497acdd1100d', 'message': 'General purpose threadpool for decision engine\n\nImplements the singleton general purpose threadpool for the decision\nengine and associated tests.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930\n'}, {'number': 2, 'created': '2019-10-11 19:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d1d67f5d8e8621433c23a7fcc9e59ed7ac2af06a', 'message': 'General purpose threadpool for decision engine\n\nImplements the singleton general purpose threadpool for the decision\nengine and associated tests.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930\n'}, {'number': 3, 'created': '2019-10-11 20:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1a8afa769caa8827c5a4a9056522596819311262', 'message': 'General purpose threadpool for decision engine\n\nImplements the singleton general purpose threadpool for the decision\nengine and associated tests.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930\n'}, {'number': 4, 'created': '2019-10-13 19:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/022aea48d587162407f99016289ace8b46934a26', 'message': 'General purpose threadpool for decision engine\n\nImplements the singleton general purpose threadpool for the decision\nengine and associated tests.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930\n'}, {'number': 5, 'created': '2019-10-14 07:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4a7bdd1310655d2507eee0edf2712371429ebbc2', 'message': 'General purpose threadpool for decision engine\n\nImplements the singleton general purpose threadpool for the decision\nengine and associated tests.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930\n'}, {'number': 6, 'created': '2019-10-17 08:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1ca71c4ea853c01f62c9fcc66116dc3467f65fb1', 'message': 'General purpose threadpool for decision engine\n\nImplements the singleton general purpose threadpool for the decision\nengine and associated tests.\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930\n'}, {'number': 7, 'created': '2019-11-01 09:41:51.000000000', 'files': ['watcher/decision_engine/messaging/audit_endpoint.py', 'watcher/conf/decision_engine.py', 'watcher/tests/test_threading.py', 'watcher/decision_engine/threading.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/2b6ee38327f70d749e71b81854c7b89cf9e69ac6', 'message': ""General purpose threadpool for decision engine\n\nImplements the singleton general purpose threadpool for the decision\nengine and associated tests.\n\nA threadpool is a collection of one or more threads typically called\n'workers' to which tasks can be submitted. These submitted tasks will\nbe scheduled by the threadpool and subsequently executed. How many\ntasks will be executed concurrently is managed by the underlying\nthreadpool and its configuration. In Python the submission of tasks\nto a threadpool returns an object called a 'future'. Futures provide\na method to interface with the task being executed that allows to\nretrieve information about its state. Such as if it currently is being\nexecuted, if it is waiting on a condition and if it has completed\nsuccesfully. Finally, futures allow to retrieve what has been returned\nby the submitted task.\n\nIn the case of most OpenStack projects instead of interfacing with native\nPython concurrency the futurist library is used. This library provides\nvery similar interfaces to native concurrency with some extras such as\nthe wait_for_any method.\n\nFor more information about futurist or Python concurrency the following\nreferences can be consulted:\nhttps://docs.python.org/3/library/concurrent.futures.html\nhttps://docs.openstack.org/futurist/latest/reference/index.html#executors\n\nPartially Implements: blueprint general-purpose-decision-engine-threadpool\n\nChange-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930\n""}]",1,688119,2b6ee38327f70d749e71b81854c7b89cf9e69ac6,34,5,7,29911,,,0,"General purpose threadpool for decision engine

Implements the singleton general purpose threadpool for the decision
engine and associated tests.

A threadpool is a collection of one or more threads typically called
'workers' to which tasks can be submitted. These submitted tasks will
be scheduled by the threadpool and subsequently executed. How many
tasks will be executed concurrently is managed by the underlying
threadpool and its configuration. In Python the submission of tasks
to a threadpool returns an object called a 'future'. Futures provide
a method to interface with the task being executed that allows to
retrieve information about its state. Such as if it currently is being
executed, if it is waiting on a condition and if it has completed
succesfully. Finally, futures allow to retrieve what has been returned
by the submitted task.

In the case of most OpenStack projects instead of interfacing with native
Python concurrency the futurist library is used. This library provides
very similar interfaces to native concurrency with some extras such as
the wait_for_any method.

For more information about futurist or Python concurrency the following
references can be consulted:
https://docs.python.org/3/library/concurrent.futures.html
https://docs.openstack.org/futurist/latest/reference/index.html#executors

Partially Implements: blueprint general-purpose-decision-engine-threadpool

Change-Id: I94bd9a17290967f011762f2b9c787ee7c46ff930
",git fetch https://review.opendev.org/openstack/watcher refs/changes/19/688119/3 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/messaging/audit_endpoint.py', 'watcher/conf/decision_engine.py', 'watcher/tests/test_threading.py', 'watcher/decision_engine/threading.py']",4,e62fef25efd7b6fa0e5f61fc77c0497acdd1100d,threadpool-bp-4,"# -*- encoding: utf-8 -*- # Copyright (c) 2019 European Organization for Nuclear Research (CERN) # # Authors: Corne Lukken <info@dantalion.nl> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import copy import futurist from futurist import waiters import six from oslo_config import cfg from oslo_log import log from oslo_service import service CONF = cfg.CONF LOG = log.getLogger(__name__) @six.add_metaclass(service.Singleton) class DecisionEngineThreadPool(object): """"""Singleton threadpool to submit general tasks to"""""" def __init__(self): self.amount_workers = CONF.watcher_decision_engine.max_general_workers self._threadpool = futurist.GreenThreadPoolExecutor( max_workers=self.amount_workers) def submit(self, fn, *args, **kwargs): """"""Will submit the job to the underlying threadpool :param fn: function to execute in another thread :param args: arguments for the function :param kwargs: amount of arguments for the function :return: future to monitor progress of execution :rtype: :py:class""`futurist.GreenFuture` """""" return self._threadpool.submit(fn, *args, **kwargs) @staticmethod def do_while_futures(futures, fn, *args, **kwargs): """"""Do while to execute a function upon completion from a collection Will execute the specified function with its arguments when one of the futures from the passed collection finishes. Additionally, the future is passed as first argument to the function. Does not modify the passed collection of futures. :param futures: list, set or dictionary of futures :type futures: list :py:class:`futurist.GreenFuture` :param fn: function to execute upon the future finishing exection :param args: arguments for the function :param kwargs: amount of arguments for the function """""" # shallow copy the collection to not modify it outside of this method. # shallow copy must be used because the type of collection needs to be # determined at runtime (can be both list, set and dict). futures = copy.copy(futures) DecisionEngineThreadPool.do_while_futures_modify( futures, fn, *args, **kwargs) @staticmethod def do_while_futures_modify(futures, fn, *args, **kwargs): """"""Do while to execute a function upon completion from a collection Will execute the specified function with its arguments when one of the futures from the passed collection finishes. Additionally, the future is passed as first argument to the function. Modifies the collection by removing completed elements, :param futures: list, set or dictionary of futures :type futures: list :py:class:`futurist.GreenFuture` :param fn: function to execute upon the future finishing exection :param args: arguments for the function :param kwargs: amount of arguments for the function """""" waits = waiters.wait_for_any(futures) while len(waits[0]) > 0 or len(waits[1]) > 0: for future in waiters.wait_for_any(futures)[0]: fn(future, *args, **kwargs) futures.remove(future) waits = waiters.wait_for_any(futures) ",,245,3
openstack%2Fwatcher~master~I53b51e149be7252093aefcf2878684f42a3209c7,openstack/watcher,master,I53b51e149be7252093aefcf2878684f42a3209c7,Use enum class define microversions,MERGED,2019-11-28 08:50:34.000000000,2019-11-30 02:23:19.000000000,2019-11-30 02:22:09.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-11-28 08:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/be06639c8a415250b511822a4a0b9dca88c245cf', 'message': 'Add version list for microversions\n\nChange-Id: I53b51e149be7252093aefcf2878684f42a3209c7\n'}, {'number': 2, 'created': '2019-11-29 02:59:22.000000000', 'files': ['watcher/api/controllers/v1/versions.py', 'watcher/api/controllers/v1/utils.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/a2f10890383be8146ececed7420ab3485a012d05', 'message': 'Use enum class define microversions\n\nRelated-Bug: #1854121\nChange-Id: I53b51e149be7252093aefcf2878684f42a3209c7\n'}]",0,696478,a2f10890383be8146ececed7420ab3485a012d05,11,4,2,21692,,,0,"Use enum class define microversions

Related-Bug: #1854121
Change-Id: I53b51e149be7252093aefcf2878684f42a3209c7
",git fetch https://review.opendev.org/openstack/watcher refs/changes/78/696478/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/api/controllers/v1/versions.py'],1,be06639c8a415250b511822a4a0b9dca88c245cf,bug/1854121,"# Version List VERSIONS = [ '1.0', # initial version, corresponds to Rocky API '1.1', # Adds start/end time for continuous audit '1.2', # Adds force field to audit ] return VERSIONS[0] return VERSIONS[-1]"," # Here goes a short log of changes in every version. # # v1.0: corresponds to Rocky API # v1.1: Add start/end time for continuous audit # v1.2: Add force field to audit MINOR_0_ROCKY = 0MINOR_MAX_VERSION = MINOR_2_FORCE # String representations of the minor and maximum versions _MIN_VERSION_STRING = '{}.{}'.format(BASE_VERSION, MINOR_0_ROCKY) _MAX_VERSION_STRING = '{}.{}'.format(BASE_VERSION, MINOR_MAX_VERSION) return _MIN_VERSION_STRING return _MAX_VERSION_STRING",8,15
openstack%2Fwatcher~master~I5d7746b3da196ea2e072fbdf1adb1523ba2bffaf,openstack/watcher,master,I5d7746b3da196ea2e072fbdf1adb1523ba2bffaf,replace host_url with application_url,MERGED,2019-11-27 06:53:33.000000000,2019-11-30 02:22:11.000000000,2019-11-30 02:22:11.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 06:53:33.000000000', 'files': ['watcher/api/controllers/v1/__init__.py', 'watcher/api/controllers/root.py', 'watcher/api/controllers/link.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/0032ed92370eeeb1e71d8fb47930df14a3585d2e', 'message': 'replace host_url with application_url\n\nfor url http://localhost/infra-optim\npecan.request.host_url is http://localhost\nand pecan.request.application_url is http://localhost/infra-optim\nwe should use application_url to make href in links.\n\nChange-Id: I5d7746b3da196ea2e072fbdf1adb1523ba2bffaf\nCloses-Bug: #1854119\n'}]",0,696233,0032ed92370eeeb1e71d8fb47930df14a3585d2e,9,2,1,21692,,,0,"replace host_url with application_url

for url http://localhost/infra-optim
pecan.request.host_url is http://localhost
and pecan.request.application_url is http://localhost/infra-optim
we should use application_url to make href in links.

Change-Id: I5d7746b3da196ea2e072fbdf1adb1523ba2bffaf
Closes-Bug: #1854119
",git fetch https://review.opendev.org/openstack/watcher refs/changes/33/696233/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/api/controllers/v1/__init__.py', 'watcher/api/controllers/root.py', 'watcher/api/controllers/link.py']",3,0032ed92370eeeb1e71d8fb47930df14a3585d2e,bug/1854119, base_url = pecan.request.application_url, base_url = pecan.request.host_url,19,17
openstack%2Fwatcher~master~I36229a3fc0bbcd994907154b638d24737959e6e3,openstack/watcher,master,I36229a3fc0bbcd994907154b638d24737959e6e3,Migrate grenade jobs to py3,MERGED,2019-11-19 22:15:34.000000000,2019-11-30 02:22:11.000000000,2019-11-30 02:22:11.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-11-19 22:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/767ff6e5568704b4c308e3fee2e660c97bb93cb0', 'message': 'Migrate grenade jobs to py3\n\nAs part of community goal of dropping py27 support[1], we are\nmoving the devstack to py3 by default[2]. That will make grenade job\nto perform upgrade from py2 to py3 which will not work (we have seen\nthe failure in neutron-grenade job).\n\nTo avoid existing grenade py2 job break, this commit moves grenade\njobs to py3 which is what we planned as part dropping the py2 support.\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[2] https://review.opendev.org/#/c/649097/12\n    http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010938.html\n\nChange-Id: I36229a3fc0bbcd994907154b638d24737959e6e3\n'}, {'number': 2, 'created': '2019-11-19 23:38:06.000000000', 'files': ['playbooks/legacy/grenade-devstack-watcher/run.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ab9a68c784934ed3cf984e7b60aa3e6f904f543a', 'message': 'Migrate grenade jobs to py3\n\nAs part of community goal of dropping py27 support[1], we are\nmoving the devstack to py3 by default[2]. That will make grenade job\nto perform upgrade from py2 to py3 which will not work (we have seen\nthe failure in neutron-grenade job).\n\nTo avoid existing grenade py2 job break, this commit moves grenade\njobs to py3 which is what we planned as part dropping the py2 support.\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[2] https://review.opendev.org/#/c/649097/12\n    http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010938.html\n\nDepends-On: https://review.opendev.org/#/c/649097/\n\nChange-Id: I36229a3fc0bbcd994907154b638d24737959e6e3\n'}]",0,695097,ab9a68c784934ed3cf984e7b60aa3e6f904f543a,11,3,2,8556,,,0,"Migrate grenade jobs to py3

As part of community goal of dropping py27 support[1], we are
moving the devstack to py3 by default[2]. That will make grenade job
to perform upgrade from py2 to py3 which will not work (we have seen
the failure in neutron-grenade job).

To avoid existing grenade py2 job break, this commit moves grenade
jobs to py3 which is what we planned as part dropping the py2 support.

[1] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[2] https://review.opendev.org/#/c/649097/12
    http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010938.html

Depends-On: https://review.opendev.org/#/c/649097/

Change-Id: I36229a3fc0bbcd994907154b638d24737959e6e3
",git fetch https://review.opendev.org/openstack/watcher refs/changes/97/695097/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/grenade-devstack-watcher/run.yaml'],1,767ff6e5568704b4c308e3fee2e660c97bb93cb0,drop-py27-support-devstack-default-py3, export DEVSTACK_GATE_USE_PYTHON3=True,,1,1
openstack%2Fneutron~master~I5c89bccf1f51212e2f1bdb73f50162f997a4b5cd,openstack/neutron,master,I5c89bccf1f51212e2f1bdb73f50162f997a4b5cd,DNM: test py3 syntax,ABANDONED,2019-11-29 15:59:36.000000000,2019-11-30 02:09:26.000000000,,"[{'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-29 15:59:36.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/026492957ed822e77c47326474198cbf2664db35', 'message': 'DNM: test py3 syntax\n\nChange-Id: I5c89bccf1f51212e2f1bdb73f50162f997a4b5cd\n'}]",0,696724,026492957ed822e77c47326474198cbf2664db35,5,3,1,9531,,,0,"DNM: test py3 syntax

Change-Id: I5c89bccf1f51212e2f1bdb73f50162f997a4b5cd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/696724/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,026492957ed822e77c47326474198cbf2664db35,test_py36," def test_py3(s: str, x: int = 2, y: int = 1) -> int: LOG.info(""%s %s"", s, x + y) return 1 test_py3(""Hello py3"", 2019, 9012) ",,6,0
openstack%2Fwatcher-specs~master~I76b4bb2adac2315e2056e3da3472cead54c706f9,openstack/watcher-specs,master,I76b4bb2adac2315e2056e3da3472cead54c706f9,Fix ussuri-priorities.rst format error,MERGED,2019-11-29 07:10:56.000000000,2019-11-30 01:42:45.000000000,2019-11-30 01:41:32.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30623}]","[{'number': 1, 'created': '2019-11-29 07:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/df2df3cc4d6bc3ca8521966013f9f43900b8521f', 'message': 'Fix spec file format error\n\nChange-Id: I76b4bb2adac2315e2056e3da3472cead54c706f9\n'}, {'number': 2, 'created': '2019-11-29 07:13:06.000000000', 'files': ['priorities/ussuri-priorities.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/c61233ceeca699ae523af0d9d664f4d235540239', 'message': 'Fix ussuri-priorities.rst format error\n\nThis file is missing a blank line, causing\nthe format to display incorrectly.\n\nChange-Id: I76b4bb2adac2315e2056e3da3472cead54c706f9\n'}]",0,696645,c61233ceeca699ae523af0d9d664f4d235540239,11,5,2,28748,,,0,"Fix ussuri-priorities.rst format error

This file is missing a blank line, causing
the format to display incorrectly.

Change-Id: I76b4bb2adac2315e2056e3da3472cead54c706f9
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/45/696645/1 && git format-patch -1 --stdout FETCH_HEAD,['priorities/ussuri-priorities.rst'],1,df2df3cc4d6bc3ca8521966013f9f43900b8521f,,,,1,0
openstack%2Fwatcher~master~I873d577b98df82411f8bae233f03812461422edd,openstack/watcher,master,I873d577b98df82411f8bae233f03812461422edd,Switch to Ussuri jobs,ABANDONED,2019-10-22 06:23:04.000000000,2019-11-30 01:41:29.000000000,,"[{'_account_id': 17130}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-10-22 06:23:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/b745cb128c05ef24c5d36bd8e2d642852a7bbaa8', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I873d577b98df82411f8bae233f03812461422edd\n'}]",0,689968,b745cb128c05ef24c5d36bd8e2d642852a7bbaa8,7,4,1,30077,,,0,"Switch to Ussuri jobs

Change-Id: I873d577b98df82411f8bae233f03812461422edd
",git fetch https://review.opendev.org/openstack/watcher refs/changes/68/689968/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b745cb128c05ef24c5d36bd8e2d642852a7bbaa8,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fwatcher-dashboard~master~Idd9be52cbd59536168347d8bb55f25749927efa8,openstack/watcher-dashboard,master,Idd9be52cbd59536168347d8bb55f25749927efa8,Switch to Ussuri jobs,ABANDONED,2019-10-22 06:08:36.000000000,2019-11-30 01:41:08.000000000,,"[{'_account_id': 1736}, {'_account_id': 17130}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 06:08:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/91a2f3261ff16e8f01918d8ba991f9e1913a2c44', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Idd9be52cbd59536168347d8bb55f25749927efa8\n'}]",0,689961,91a2f3261ff16e8f01918d8ba991f9e1913a2c44,7,4,1,30077,,,0,"Switch to Ussuri jobs

Change-Id: Idd9be52cbd59536168347d8bb55f25749927efa8
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/61/689961/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,91a2f3261ff16e8f01918d8ba991f9e1913a2c44,, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Fnova~stable%2Ftrain~Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf,openstack/nova,stable/train,Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf,Reset instance to current vm_state if rolling back in resize_instance,MERGED,2019-11-26 13:42:08.000000000,2019-11-29 23:15:37.000000000,2019-11-29 23:11:27.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-26 13:42:08.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f3763778dd59c78f68bedd124c653b6744acbc9c', 'message': 'Reset instance to current vm_state if rolling back in resize_instance\n\nYou can resize a stopped instance and if the compute driver raises\nInstanceFaultRollback from migrate_disk_and_power_off, the\n_error_out_instance_on_exception decorator, used in the _resize_instance\nmethod, will by default reset the instance vm_state to ACTIVE even though\nthe guest is stopped. The driver could raise InstanceFaultRollback if you\ntry resizing the root disk down on a non-volume-backed instance.\n\nThis builds on [1] and does the same thing as prep_resize [2] for\nmaking sure the original vm_state is reset on InstanceFaultRollback.\n\n[1] Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb\n[2] I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc\n\nChange-Id: Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf\nCloses-Bug: #1551703\n(cherry picked from commit 5a20996405c5788855a2457283bbbe7d78140a9c)\n'}]",0,696085,f3763778dd59c78f68bedd124c653b6744acbc9c,12,6,1,6873,,,0,"Reset instance to current vm_state if rolling back in resize_instance

You can resize a stopped instance and if the compute driver raises
InstanceFaultRollback from migrate_disk_and_power_off, the
_error_out_instance_on_exception decorator, used in the _resize_instance
method, will by default reset the instance vm_state to ACTIVE even though
the guest is stopped. The driver could raise InstanceFaultRollback if you
try resizing the root disk down on a non-volume-backed instance.

This builds on [1] and does the same thing as prep_resize [2] for
making sure the original vm_state is reset on InstanceFaultRollback.

[1] Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb
[2] I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc

Change-Id: Iff1f9f28a1e4ecf00368cbcac27b7687a5eb0dcf
Closes-Bug: #1551703
(cherry picked from commit 5a20996405c5788855a2457283bbbe7d78140a9c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/696085/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,f3763778dd59c78f68bedd124c653b6744acbc9c,bug/1551703," # Pass instance_state=instance.vm_state because we can resize # a STOPPED server and we don't want to set it back to ACTIVE # in case migrate_disk_and_power_off raises InstanceFaultRollback. instance_state = instance.vm_state with self._error_out_instance_on_exception( context, instance, instance_state=instance_state), \"," with self._error_out_instance_on_exception(context, instance), \",28,1
openstack%2Fstorlets~master~I939e817e29085b29e9b993af0b502c9020928f74,openstack/storlets,master,I939e817e29085b29e9b993af0b502c9020928f74,Change storlets-functional-py3 as voting gate,MERGED,2019-11-28 05:21:05.000000000,2019-11-29 23:15:30.000000000,2019-11-29 23:13:03.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 05:21:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/148c626f2afc017adce73970f6fc1ab51c8a8687', 'message': ""Change storlets-functional-py3 as voting gate\n\nSince we've passed all py3 functional gate, let's remove\nvating: False flag from .zuul.yaml\n\nChange-Id: I939e817e29085b29e9b993af0b502c9020928f74\n""}]",0,696448,148c626f2afc017adce73970f6fc1ab51c8a8687,7,2,1,4608,,,0,"Change storlets-functional-py3 as voting gate

Since we've passed all py3 functional gate, let's remove
vating: False flag from .zuul.yaml

Change-Id: I939e817e29085b29e9b993af0b502c9020928f74
",git fetch https://review.opendev.org/openstack/storlets refs/changes/48/696448/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,148c626f2afc017adce73970f6fc1ab51c8a8687,py3,, voting: false,0,1
openstack%2Fstorlets~master~I0cd41055ba6c840b412d5f750ff2fc7e2c59f320,openstack/storlets,master,I0cd41055ba6c840b412d5f750ff2fc7e2c59f320,PY3: Fix ipython extension as py3 compatible,MERGED,2019-11-15 08:45:14.000000000,2019-11-29 23:14:44.000000000,2019-11-29 23:13:02.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 08:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/83645cd61548bc016e937532d49319d6175c51cd', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 2, 'created': '2019-11-15 09:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/489a44f239bb71fc86a64507eec017afff364144', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 3, 'created': '2019-11-15 10:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0238c6f54ee969d020b80ab7fada69324e61fed3', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 4, 'created': '2019-11-20 19:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/fb0aa363535c4d96c16ee358db340abe5d093ccc', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 5, 'created': '2019-11-26 05:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5f191c5fe835b15e44cad41f0ad06fd551e56a15', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 6, 'created': '2019-11-26 06:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4026f48def76d1ccd1218aee42bc492b55325060', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 7, 'created': '2019-11-26 08:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f63a88665846578074972676d12924d1c5be4a09', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 8, 'created': '2019-11-26 09:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/fc496cffab4774faf5d708b3d9983b5c386c1d9b', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 9, 'created': '2019-11-27 01:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5238a6583ab7fbddc04f411c5dbb3f1fd66ae7a9', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 10, 'created': '2019-11-27 03:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3d2d0c231f1771e01b4fb02d3d7840db24afda28', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 11, 'created': '2019-11-27 05:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/099db125d2d847b674e2b21630006a8200362f01', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 12, 'created': '2019-11-27 05:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c2db26c629912b63d4b27805e486d8df3ecc5dca', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 13, 'created': '2019-11-27 05:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/72e776c397022bc650ec8891244dcafcb7b0c257', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 14, 'created': '2019-11-27 09:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8706b602ef17e727a84154a38684c519fc250534', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}, {'number': 15, 'created': '2019-11-28 02:24:37.000000000', 'files': ['tests/unit/tools/extensions/test_ipython.py', 'storlets/tools/extensions/ipython.py', 'tests/functional/ipython/test_jupyter_execution.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/1c22762ae128d29186194926a95990f7ee4e00af', 'message': 'PY3: Fix ipython extension as py3 compatible\n\nBecause python-swiftclient returns bytes response\nbody so the concat of the body iter should be defined\nas bytes.\n\n* bonus: remove unnecessary ""hoge"" print output\n\nChange-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320\n'}]",3,694479,1c22762ae128d29186194926a95990f7ee4e00af,42,4,15,4608,,,0,"PY3: Fix ipython extension as py3 compatible

Because python-swiftclient returns bytes response
body so the concat of the body iter should be defined
as bytes.

* bonus: remove unnecessary ""hoge"" print output

Change-Id: I0cd41055ba6c840b412d5f750ff2fc7e2c59f320
",git fetch https://review.opendev.org/openstack/storlets refs/changes/79/694479/1 && git format-patch -1 --stdout FETCH_HEAD,['storlets/tools/extensions/ipython.py'],1,83645cd61548bc016e937532d49319d6175c51cd,py3, return b''.join([chunk for chunk in self._body_iter]), print('hoge') return ''.join([chunk for chunk in self._body_iter]),1,2
openstack%2Fironic~stable%2Ftrain~I968606a300bc43675d7bd07f73de37967ef80c26,openstack/ironic,stable/train,I968606a300bc43675d7bd07f73de37967ef80c26,Add timeout when querying agent's command statuses,MERGED,2019-11-28 07:11:33.000000000,2019-11-29 22:25:57.000000000,2019-11-29 22:24:36.000000000,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-28 07:11:33.000000000', 'files': ['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfa58afd8f43add656c680c649006cefd3e6a296', 'message': ""Add timeout when querying agent's command statuses\n\nOtherwise the node can get locked up for a significant amount of time.\nIt conforms to the behaviour of all other (POST) HTTP requests done to\nagent.\n\nStory: 2006946\nTask: 37626\nChange-Id: I968606a300bc43675d7bd07f73de37967ef80c26\n(cherry picked from commit 33a84d94eb4d495312e3ba750b194213737a8933)\n""}]",0,696458,cfa58afd8f43add656c680c649006cefd3e6a296,13,7,1,12356,,,0,"Add timeout when querying agent's command statuses

Otherwise the node can get locked up for a significant amount of time.
It conforms to the behaviour of all other (POST) HTTP requests done to
agent.

Story: 2006946
Task: 37626
Change-Id: I968606a300bc43675d7bd07f73de37967ef80c26
(cherry picked from commit 33a84d94eb4d495312e3ba750b194213737a8933)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/696458/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/get-commands-status-timeout-ecbac91ea149e755.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,cfa58afd8f43add656c680c649006cefd3e6a296,get-commands-status-timeout-stable/train,"from ironic import confCONF = conf.CONF agent_url = self.node.driver_internal_info.get('agent_url') mock_get.assert_called_once_with( '%(agent_url)s/%(api_version)s/commands' % { 'agent_url': agent_url, 'api_version': CONF.agent.agent_api_version}, timeout=CONF.agent.command_timeout)",,17,1
openstack%2Frequirements~master~I8ff4ec574eb5160806f93a869f65df1d2b2ada38,openstack/requirements,master,I8ff4ec574eb5160806f93a869f65df1d2b2ada38,update constraint for openstacksdk to new release 0.38.0,MERGED,2019-11-29 17:20:16.000000000,2019-11-29 21:44:11.000000000,2019-11-29 21:42:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 17:20:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c1eb9f9b81ac5eb59b33903e742d303eb57dbb2', 'message': 'update constraint for openstacksdk to new release 0.38.0\n\nChange-Id: I8ff4ec574eb5160806f93a869f65df1d2b2ada38\nmeta:version: 0.38.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: I9bd287974c52fd32102fd1c1c62f662f478f0d11\nmeta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta:release:Code-Review+1: Erik Olof Gunnar Andersson <eandersson@blizzard.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Monty Taylor <mordred@inaugust.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696747,5c1eb9f9b81ac5eb59b33903e742d303eb57dbb2,7,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.38.0

Change-Id: I8ff4ec574eb5160806f93a869f65df1d2b2ada38
meta:version: 0.38.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: I9bd287974c52fd32102fd1c1c62f662f478f0d11
meta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta:release:Code-Review+1: Erik Olof Gunnar Andersson <eandersson@blizzard.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Monty Taylor <mordred@inaugust.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/696747/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5c1eb9f9b81ac5eb59b33903e742d303eb57dbb2,new-release,openstacksdk===0.38.0,openstacksdk===0.37.0,1,1
openstack%2Fkolla~master~I4e60fcd767f15b7da90b0143008b1d6d794c76f2,openstack/kolla,master,I4e60fcd767f15b7da90b0143008b1d6d794c76f2,Horizon: install vitrage dashboard on Debian,MERGED,2019-11-25 15:50:50.000000000,2019-11-29 21:24:36.000000000,2019-11-29 11:32:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28374}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-25 15:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a93517d7ef898e5ca1946162628f7a19a184827c', 'message': 'Horizon: install vitrage dashboard\n\nChange-Id: I4e60fcd767f15b7da90b0143008b1d6d794c76f2\n'}, {'number': 2, 'created': '2019-11-28 15:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b0b326774c98d744d347e987a39c608a54ae528e', 'message': 'Horizon: install vitrage dashboard on Debian\n\nChange-Id: I4e60fcd767f15b7da90b0143008b1d6d794c76f2\n'}, {'number': 3, 'created': '2019-11-28 18:26:09.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/683f9c9178ec541d2ab8f92883da66d8e2f1b956', 'message': 'Horizon: install vitrage dashboard on Debian\n\nChange-Id: I4e60fcd767f15b7da90b0143008b1d6d794c76f2\n'}]",0,695937,683f9c9178ec541d2ab8f92883da66d8e2f1b956,19,5,3,28374,,,0,"Horizon: install vitrage dashboard on Debian

Change-Id: I4e60fcd767f15b7da90b0143008b1d6d794c76f2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/695937/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,a93517d7ef898e5ca1946162628f7a19a184827c,I4e60fcd767f15b7da90b0143008b1d6d794c76f2," 'python3-vitrage-dashboard',",,1,0
openstack%2Fpuppet-manila~master~Ic18e89a378a97a0cc5075f2024d33f5f1bb484b1,openstack/puppet-manila,master,Ic18e89a378a97a0cc5075f2024d33f5f1bb484b1,The with_secret is missing for pasword parameter in unit test,MERGED,2019-11-29 07:26:59.000000000,2019-11-29 21:19:36.000000000,2019-11-29 21:19:36.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 07:26:59.000000000', 'files': ['spec/classes/manila_network_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ddafebdfd056698696d841e9db5b61307b9fd2dc', 'message': 'The with_secret is missing for pasword parameter in unit test\n\nChange-Id: Ic18e89a378a97a0cc5075f2024d33f5f1bb484b1\n'}]",0,696650,ddafebdfd056698696d841e9db5b61307b9fd2dc,7,3,1,9414,,,0,"The with_secret is missing for pasword parameter in unit test

Change-Id: Ic18e89a378a97a0cc5075f2024d33f5f1bb484b1
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/50/696650/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_network_neutron_spec.rb'],1,ddafebdfd056698696d841e9db5b61307b9fd2dc,fix-unit-secret, is_expected.to contain_manila_config('neutron/password').with_value('321321').with_secret(true), is_expected.to contain_manila_config('neutron/password').with_value('321321'),1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2852c8285a0e72d855bfed216b53de6bdeeabe68,openstack/tripleo-heat-templates,stable/train,I2852c8285a0e72d855bfed216b53de6bdeeabe68,Don't set all_nodes data as group_vars in check mode,MERGED,2019-11-29 13:32:54.000000000,2019-11-29 21:15:46.000000000,2019-11-29 21:15:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 13:32:54.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34ae01ddb2a80ff53df4dfa635ec309a125a2156', 'message': 'Don\'t set all_nodes data as group_vars in check mode\n\nSince the ""render all_nodes data as group_vars"" tasks are skipped when\nansible check is true, we should not run the ""set all_nodes data as\ngroup_vars"" tasks as well. It was missed and now failing when --check is\nused (see bug report).\n\nChange-Id: I2852c8285a0e72d855bfed216b53de6bdeeabe68\nCloses-Bug: #1854246\n(cherry picked from commit 0362abcbd100f11508d21a576fe0573a28c0a808)\n'}]",0,696700,34ae01ddb2a80ff53df4dfa635ec309a125a2156,8,5,1,3153,,,0,"Don't set all_nodes data as group_vars in check mode

Since the ""render all_nodes data as group_vars"" tasks are skipped when
ansible check is true, we should not run the ""set all_nodes data as
group_vars"" tasks as well. It was missed and now failing when --check is
used (see bug report).

Change-Id: I2852c8285a0e72d855bfed216b53de6bdeeabe68
Closes-Bug: #1854246
(cherry picked from commit 0362abcbd100f11508d21a576fe0573a28c0a808)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/696700/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,34ae01ddb2a80ff53df4dfa635ec309a125a2156,bug/1854246-stable/train, when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool,,7,0
openstack%2Fpaunch~master~If129bbc1ff32941d06ff480f26870b10840591e0,openstack/paunch,master,If129bbc1ff32941d06ff480f26870b10840591e0,Fix action Apply ignoring managed-by arg,MERGED,2019-11-28 14:55:21.000000000,2019-11-29 21:11:50.000000000,2019-11-29 21:10:32.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-28 14:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/8abf7d13141363bf5b585441d1902b6e550e47e4', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-11-29 09:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/000a68b39312eb297bb7a2f91a5e4adfd840b5d3', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-11-29 12:14:44.000000000', 'files': ['paunch/cmd.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/12ccf36b0e7f9b233b8b71a21fe24b241ecb639b', 'message': 'Fix action Apply ignoring managed-by arg\n\nFrom the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the\naction apply was ignoring the passed --managed-by values and was always\ntaking defaults (\'paunch\').\n\nFix this and provide no upgrade/update impact, which is for whatever\n--managed-by value given to paunch, perform all checks and searches\nalso for that historically ""wrong"" value \'paunch\':\n\n* if a container needs to be (re)started by a new \'managed-by\', make sure\n  it can be found by the default \'paunch\' value as well, then reset its\n  managed-by to the desired value.\n\nCloses-bug: #1853812\n\nChange-Id: If129bbc1ff32941d06ff480f26870b10840591e0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,696589,12ccf36b0e7f9b233b8b71a21fe24b241ecb639b,19,8,3,6926,,,0,"Fix action Apply ignoring managed-by arg

From the very beginning (06036fd6dba3ba4b9a13052ea95a08ebcc97501e), the
action apply was ignoring the passed --managed-by values and was always
taking defaults ('paunch').

Fix this and provide no upgrade/update impact, which is for whatever
--managed-by value given to paunch, perform all checks and searches
also for that historically ""wrong"" value 'paunch':

* if a container needs to be (re)started by a new 'managed-by', make sure
  it can be found by the default 'paunch' value as well, then reset its
  managed-by to the desired value.

Closes-bug: #1853812

Change-Id: If129bbc1ff32941d06ff480f26870b10840591e0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/89/696589/3 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/cmd.py', 'paunch/runner.py']",2,8abf7d13141363bf5b585441d1902b6e550e47e4,bug/1853812," results = cmd_stdout.split() if returncode != 0 or not results: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch', '--format', fmt ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return set() results += cmd_stdout.split() return set(results) results = cmd_stdout.split() if returncode != 0 or not results: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-q', '-a', '--filter', 'label=managed_by=paunch', '--filter', 'label=config_id=%s' % conf_id ] cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return [] results += cmd_stdout.split() return [c for c in results] results = cmd_stdout.split(""\n"") if returncode != 0 or not results: # NOTE(bogdando): also look by the historically used to # be always specified defaults, we must also identify such configs cmd = [ self.cont_cmd, 'ps', '-a', '--filter', 'label=managed_by=paunch' ] if conf_id: cmd.extend(( '--filter', 'label=config_id=%s' % conf_id )) cmd.extend(( '--format', '{{.Names}} %s' % fmt )) cmd_stdout, cmd_stderr, returncode = self.execute(cmd, self.log) if returncode != 0: return results += cmd_stdout.split(""\n"") for line in results:"," if returncode != 0: return set() return set(cmd_stdout.split()) if returncode != 0: return [] return [c for c in cmd_stdout.split()] if returncode != 0: return for line in cmd_stdout.split(""\n""):",49,10
